var Jme=Object.defineProperty;var Zme=(e,t,r)=>t in e?Jme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vT=(e,t,r)=>(Zme(e,typeof t!="symbol"?t+"":t,r),r);function VF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zY(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var VY={exports:{}},qA={},WY={exports:{}},vi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=Symbol.for("react.element"),Qme=Symbol.for("react.portal"),epe=Symbol.for("react.fragment"),tpe=Symbol.for("react.strict_mode"),rpe=Symbol.for("react.profiler"),npe=Symbol.for("react.provider"),ape=Symbol.for("react.context"),ipe=Symbol.for("react.forward_ref"),spe=Symbol.for("react.suspense"),ope=Symbol.for("react.memo"),lpe=Symbol.for("react.lazy"),yB=Symbol.iterator;function cpe(e){return e===null||typeof e!="object"?null:(e=yB&&e[yB]||e["@@iterator"],typeof e=="function"?e:null)}var HY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qY=Object.assign,GY={};function Cy(e,t,r){this.props=e,this.context=t,this.refs=GY,this.updater=r||HY}Cy.prototype.isReactComponent={};Cy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KY(){}KY.prototype=Cy.prototype;function WF(e,t,r){this.props=e,this.context=t,this.refs=GY,this.updater=r||HY}var HF=WF.prototype=new KY;HF.constructor=WF;qY(HF,Cy.prototype);HF.isPureReactComponent=!0;var bB=Array.isArray,YY=Object.prototype.hasOwnProperty,qF={current:null},XY={key:!0,ref:!0,__self:!0,__source:!0};function JY(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)YY.call(t,n)&&!XY.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:I4,type:e,key:a,ref:o,props:i,_owner:qF.current}}function upe(e,t){return{$$typeof:I4,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function GF(e){return typeof e=="object"&&e!==null&&e.$$typeof===I4}function dpe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wB=/\/+/g;function yT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dpe(""+e.key):t.toString(36)}function FN(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case I4:case Qme:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+yT(o,0):n,bB(i)?(r="",e!=null&&(r=e.replace(wB,"$&/")+"/"),FN(i,t,r,"",function(u){return u})):i!=null&&(GF(i)&&(i=upe(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wB,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",bB(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+yT(a,l);o+=FN(a,t,r,c,i)}else if(c=cpe(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+yT(a,l++),o+=FN(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function g3(e,t,r){if(e==null)return e;var n=[],i=0;return FN(e,n,"","",function(a){return t.call(r,a,i++)}),n}function fpe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ru={current:null},DN={transition:null},hpe={ReactCurrentDispatcher:Ru,ReactCurrentBatchConfig:DN,ReactCurrentOwner:qF};function ZY(){throw Error("act(...) is not supported in production builds of React.")}vi.Children={map:g3,forEach:function(e,t,r){g3(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return g3(e,function(){t++}),t},toArray:function(e){return g3(e,function(t){return t})||[]},only:function(e){if(!GF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vi.Component=Cy;vi.Fragment=epe;vi.Profiler=rpe;vi.PureComponent=WF;vi.StrictMode=tpe;vi.Suspense=spe;vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hpe;vi.act=ZY;vi.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qY({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=qF.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)YY.call(t,c)&&!XY.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:I4,type:e.type,key:i,ref:a,props:n,_owner:o}};vi.createContext=function(e){return e={$$typeof:ape,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:npe,_context:e},e.Consumer=e};vi.createElement=JY;vi.createFactory=function(e){var t=JY.bind(null,e);return t.type=e,t};vi.createRef=function(){return{current:null}};vi.forwardRef=function(e){return{$$typeof:ipe,render:e}};vi.isValidElement=GF;vi.lazy=function(e){return{$$typeof:lpe,_payload:{_status:-1,_result:e},_init:fpe}};vi.memo=function(e,t){return{$$typeof:ope,type:e,compare:t===void 0?null:t}};vi.startTransition=function(e){var t=DN.transition;DN.transition={};try{e()}finally{DN.transition=t}};vi.unstable_act=ZY;vi.useCallback=function(e,t){return Ru.current.useCallback(e,t)};vi.useContext=function(e){return Ru.current.useContext(e)};vi.useDebugValue=function(){};vi.useDeferredValue=function(e){return Ru.current.useDeferredValue(e)};vi.useEffect=function(e,t){return Ru.current.useEffect(e,t)};vi.useId=function(){return Ru.current.useId()};vi.useImperativeHandle=function(e,t,r){return Ru.current.useImperativeHandle(e,t,r)};vi.useInsertionEffect=function(e,t){return Ru.current.useInsertionEffect(e,t)};vi.useLayoutEffect=function(e,t){return Ru.current.useLayoutEffect(e,t)};vi.useMemo=function(e,t){return Ru.current.useMemo(e,t)};vi.useReducer=function(e,t,r){return Ru.current.useReducer(e,t,r)};vi.useRef=function(e){return Ru.current.useRef(e)};vi.useState=function(e){return Ru.current.useState(e)};vi.useSyncExternalStore=function(e,t,r){return Ru.current.useSyncExternalStore(e,t,r)};vi.useTransition=function(){return Ru.current.useTransition()};vi.version="18.3.1";WY.exports=vi;var j=WY.exports;const Ie=Si(j),GA=VF({__proto__:null,default:Ie},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mpe=j,ppe=Symbol.for("react.element"),gpe=Symbol.for("react.fragment"),xpe=Object.prototype.hasOwnProperty,vpe=mpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ype={key:!0,ref:!0,__self:!0,__source:!0};function QY(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)xpe.call(t,n)&&!ype.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:ppe,type:e,key:a,ref:o,props:i,_owner:vpe.current}}qA.Fragment=gpe;qA.jsx=QY;qA.jsxs=QY;VY.exports=qA;var s=VY.exports,$k={},eX={exports:{}},Vd={},tX={exports:{}},rX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,ge){var we=ce.length;ce.push(ge);e:for(;0<we;){var Ce=we-1>>>1,Q=ce[Ce];if(0<i(Q,ge))ce[Ce]=ge,ce[we]=Q,we=Ce;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var ge=ce[0],we=ce.pop();if(we!==ge){ce[0]=we;e:for(var Ce=0,Q=ce.length,le=Q>>>1;Ce<le;){var ne=2*(Ce+1)-1,ee=ce[ne],pe=ne+1,xe=ce[pe];if(0>i(ee,we))pe<Q&&0>i(xe,ee)?(ce[Ce]=xe,ce[pe]=we,Ce=pe):(ce[Ce]=ee,ce[ne]=we,Ce=ne);else if(pe<Q&&0>i(xe,we))ce[Ce]=xe,ce[pe]=we,Ce=pe;else break e}}return ge}function i(ce,ge){var we=ce.sortIndex-ge.sortIndex;return we!==0?we:ce.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,h=null,g=3,p=!1,S=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ce){for(var ge=r(u);ge!==null;){if(ge.callback===null)n(u);else if(ge.startTime<=ce)n(u),ge.sortIndex=ge.expirationTime,t(c,ge);else break;ge=r(u)}}function F(ce){if(b=!1,T(ce),!S)if(r(c)!==null)S=!0,se(L);else{var ge=r(u);ge!==null&&he(F,ge.startTime-ce)}}function L(ce,ge){S=!1,b&&(b=!1,C(W),W=-1),p=!0;var we=g;try{for(T(ge),h=r(c);h!==null&&(!(h.expirationTime>ge)||ce&&!K());){var Ce=h.callback;if(typeof Ce=="function"){h.callback=null,g=h.priorityLevel;var Q=Ce(h.expirationTime<=ge);ge=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),T(ge)}else n(c);h=r(c)}if(h!==null)var le=!0;else{var ne=r(u);ne!==null&&he(F,ne.startTime-ge),le=!1}return le}finally{h=null,g=we,p=!1}}var B=!1,M=null,W=-1,z=5,Z=-1;function K(){return!(e.unstable_now()-Z<z)}function q(){if(M!==null){var ce=e.unstable_now();Z=ce;var ge=!0;try{ge=M(!0,ce)}finally{ge?ie():(B=!1,M=null)}}else B=!1}var ie;if(typeof A=="function")ie=function(){A(q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,X=ae.port2;ae.port1.onmessage=q,ie=function(){X.postMessage(null)}}else ie=function(){N(q,0)};function se(ce){M=ce,B||(B=!0,ie())}function he(ce,ge){W=N(function(){ce(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){S||p||(S=!0,se(L))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ce){switch(g){case 1:case 2:case 3:var ge=3;break;default:ge=g}var we=g;g=ge;try{return ce()}finally{g=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,ge){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var we=g;g=ce;try{return ge()}finally{g=we}},e.unstable_scheduleCallback=function(ce,ge,we){var Ce=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ce+we:Ce):we=Ce,ce){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=we+Q,ce={id:f++,callback:ge,priorityLevel:ce,startTime:we,expirationTime:Q,sortIndex:-1},we>Ce?(ce.sortIndex=we,t(u,ce),r(c)===null&&ce===r(u)&&(b?(C(W),W=-1):b=!0,he(F,we-Ce))):(ce.sortIndex=Q,t(c,ce),S||p||(S=!0,se(L))),ce},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(ce){var ge=g;return function(){var we=g;g=ge;try{return ce.apply(this,arguments)}finally{g=we}}}})(rX);tX.exports=rX;var bpe=tX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wpe=j,Rd=bpe;function Br(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nX=new Set,i_={};function hx(e,t){A2(e,t),A2(e+"Capture",t)}function A2(e,t){for(i_[e]=t,e=0;e<t.length;e++)nX.add(t[e])}var wm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uk=Object.prototype.hasOwnProperty,_pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_B={},NB={};function Npe(e){return Uk.call(NB,e)?!0:Uk.call(_B,e)?!1:_pe.test(e)?NB[e]=!0:(_B[e]=!0,!1)}function Spe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cpe(e,t,r,n){if(t===null||typeof t>"u"||Spe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mu(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fc={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fc[e]=new Mu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fc[t]=new Mu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fc[e]=new Mu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fc[e]=new Mu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fc[e]=new Mu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fc[e]=new Mu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fc[e]=new Mu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fc[e]=new Mu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fc[e]=new Mu(e,5,!1,e.toLowerCase(),null,!1,!1)});var KF=/[\-:]([a-z])/g;function YF(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(KF,YF);Fc[t]=new Mu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(KF,YF);Fc[t]=new Mu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(KF,YF);Fc[t]=new Mu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fc[e]=new Mu(e,1,!1,e.toLowerCase(),null,!1,!1)});Fc.xlinkHref=new Mu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fc[e]=new Mu(e,1,!1,e.toLowerCase(),null,!0,!0)});function XF(e,t,r,n){var i=Fc.hasOwnProperty(t)?Fc[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cpe(t,r,i,n)&&(r=null),n||i===null?Npe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Im=wpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x3=Symbol.for("react.element"),Av=Symbol.for("react.portal"),jv=Symbol.for("react.fragment"),JF=Symbol.for("react.strict_mode"),zk=Symbol.for("react.profiler"),aX=Symbol.for("react.provider"),iX=Symbol.for("react.context"),ZF=Symbol.for("react.forward_ref"),Vk=Symbol.for("react.suspense"),Wk=Symbol.for("react.suspense_list"),QF=Symbol.for("react.memo"),gp=Symbol.for("react.lazy"),sX=Symbol.for("react.offscreen"),SB=Symbol.iterator;function Rb(e){return e===null||typeof e!="object"?null:(e=SB&&e[SB]||e["@@iterator"],typeof e=="function"?e:null)}var Ao=Object.assign,bT;function gw(e){if(bT===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bT=t&&t[1]||""}return`
`+bT+e}var wT=!1;function _T(e,t){if(!e||wT)return"";wT=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wT=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gw(e):""}function Ape(e){switch(e.tag){case 5:return gw(e.type);case 16:return gw("Lazy");case 13:return gw("Suspense");case 19:return gw("SuspenseList");case 0:case 2:case 15:return e=_T(e.type,!1),e;case 11:return e=_T(e.type.render,!1),e;case 1:return e=_T(e.type,!0),e;default:return""}}function Hk(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jv:return"Fragment";case Av:return"Portal";case zk:return"Profiler";case JF:return"StrictMode";case Vk:return"Suspense";case Wk:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iX:return(e.displayName||"Context")+".Consumer";case aX:return(e._context.displayName||"Context")+".Provider";case ZF:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case QF:return t=e.displayName||null,t!==null?t:Hk(e.type)||"Memo";case gp:t=e._payload,e=e._init;try{return Hk(e(t))}catch{}}return null}function jpe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hk(t);case 8:return t===JF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oX(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Epe(e){var t=oX(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function v3(e){e._valueTracker||(e._valueTracker=Epe(e))}function lX(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=oX(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qk(e,t){var r=t.checked;return Ao({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function CB(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yp(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cX(e,t){t=t.checked,t!=null&&XF(e,"checked",t,!1)}function Gk(e,t){cX(e,t);var r=Yp(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kk(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kk(e,t.type,Yp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function AB(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kk(e,t,r){(t!=="number"||gS(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xw=Array.isArray;function e2(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yp(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yk(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Br(91));return Ao({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jB(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Br(92));if(xw(r)){if(1<r.length)throw Error(Br(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yp(r)}}function uX(e,t){var r=Yp(t.value),n=Yp(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function EB(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dX(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xk(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dX(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var y3,fX=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(y3=y3||document.createElement("div"),y3.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=y3.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function s_(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Aw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tpe=["Webkit","ms","Moz","O"];Object.keys(Aw).forEach(function(e){Tpe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Aw[t]=Aw[e]})});function hX(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Aw.hasOwnProperty(e)&&Aw[e]?(""+t).trim():t+"px"}function mX(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hX(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var kpe=Ao({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jk(e,t){if(t){if(kpe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Br(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Br(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Br(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Br(62))}}function Zk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qk=null;function eD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eP=null,t2=null,r2=null;function TB(e){if(e=R4(e)){if(typeof eP!="function")throw Error(Br(280));var t=e.stateNode;t&&(t=ZA(t),eP(e.stateNode,e.type,t))}}function pX(e){t2?r2?r2.push(e):r2=[e]:t2=e}function gX(){if(t2){var e=t2,t=r2;if(r2=t2=null,TB(e),t)for(e=0;e<t.length;e++)TB(t[e])}}function xX(e,t){return e(t)}function vX(){}var NT=!1;function yX(e,t,r){if(NT)return e(t,r);NT=!0;try{return xX(e,t,r)}finally{NT=!1,(t2!==null||r2!==null)&&(vX(),gX())}}function o_(e,t){var r=e.stateNode;if(r===null)return null;var n=ZA(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Br(231,t,typeof r));return r}var tP=!1;if(wm)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){tP=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{tP=!1}function Ppe(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var jw=!1,xS=null,vS=!1,rP=null,Ope={onError:function(e){jw=!0,xS=e}};function Ipe(e,t,r,n,i,a,o,l,c){jw=!1,xS=null,Ppe.apply(Ope,arguments)}function Fpe(e,t,r,n,i,a,o,l,c){if(Ipe.apply(this,arguments),jw){if(jw){var u=xS;jw=!1,xS=null}else throw Error(Br(198));vS||(vS=!0,rP=u)}}function mx(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kB(e){if(mx(e)!==e)throw Error(Br(188))}function Dpe(e){var t=e.alternate;if(!t){if(t=mx(e),t===null)throw Error(Br(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return kB(i),e;if(a===n)return kB(i),t;a=a.sibling}throw Error(Br(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(Br(189))}}if(r.alternate!==n)throw Error(Br(190))}if(r.tag!==3)throw Error(Br(188));return r.stateNode.current===r?e:t}function wX(e){return e=Dpe(e),e!==null?_X(e):null}function _X(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_X(e);if(t!==null)return t;e=e.sibling}return null}var NX=Rd.unstable_scheduleCallback,PB=Rd.unstable_cancelCallback,Rpe=Rd.unstable_shouldYield,Mpe=Rd.unstable_requestPaint,Xo=Rd.unstable_now,Lpe=Rd.unstable_getCurrentPriorityLevel,tD=Rd.unstable_ImmediatePriority,SX=Rd.unstable_UserBlockingPriority,yS=Rd.unstable_NormalPriority,Bpe=Rd.unstable_LowPriority,CX=Rd.unstable_IdlePriority,KA=null,h0=null;function $pe(e){if(h0&&typeof h0.onCommitFiberRoot=="function")try{h0.onCommitFiberRoot(KA,e,void 0,(e.current.flags&128)===128)}catch{}}var gh=Math.clz32?Math.clz32:Vpe,Upe=Math.log,zpe=Math.LN2;function Vpe(e){return e>>>=0,e===0?32:31-(Upe(e)/zpe|0)|0}var b3=64,w3=4194304;function vw(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bS(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=vw(l):(a&=o,a!==0&&(n=vw(a)))}else o=r&~i,o!==0?n=vw(o):a!==0&&(n=vw(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gh(t),i=1<<r,n|=e[r],t&=~i;return n}function Wpe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hpe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-gh(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Wpe(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function nP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AX(){var e=b3;return b3<<=1,!(b3&4194240)&&(b3=64),e}function ST(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function F4(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gh(t),e[t]=r}function qpe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-gh(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function rD(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gh(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ds=0;function jX(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EX,nD,TX,kX,PX,aP=!1,_3=[],Fp=null,Dp=null,Rp=null,l_=new Map,c_=new Map,bp=[],Gpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OB(e,t){switch(e){case"focusin":case"focusout":Fp=null;break;case"dragenter":case"dragleave":Dp=null;break;case"mouseover":case"mouseout":Rp=null;break;case"pointerover":case"pointerout":l_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":c_.delete(t.pointerId)}}function Lb(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=R4(t),t!==null&&nD(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Kpe(e,t,r,n,i){switch(t){case"focusin":return Fp=Lb(Fp,e,t,r,n,i),!0;case"dragenter":return Dp=Lb(Dp,e,t,r,n,i),!0;case"mouseover":return Rp=Lb(Rp,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return l_.set(a,Lb(l_.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,c_.set(a,Lb(c_.get(a)||null,e,t,r,n,i)),!0}return!1}function OX(e){var t=_g(e.target);if(t!==null){var r=mx(t);if(r!==null){if(t=r.tag,t===13){if(t=bX(r),t!==null){e.blockedOn=t,PX(e.priority,function(){TX(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function RN(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=iP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qk=n,r.target.dispatchEvent(n),Qk=null}else return t=R4(r),t!==null&&nD(t),e.blockedOn=r,!1;t.shift()}return!0}function IB(e,t,r){RN(e)&&r.delete(t)}function Ype(){aP=!1,Fp!==null&&RN(Fp)&&(Fp=null),Dp!==null&&RN(Dp)&&(Dp=null),Rp!==null&&RN(Rp)&&(Rp=null),l_.forEach(IB),c_.forEach(IB)}function Bb(e,t){e.blockedOn===t&&(e.blockedOn=null,aP||(aP=!0,Rd.unstable_scheduleCallback(Rd.unstable_NormalPriority,Ype)))}function u_(e){function t(i){return Bb(i,e)}if(0<_3.length){Bb(_3[0],e);for(var r=1;r<_3.length;r++){var n=_3[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fp!==null&&Bb(Fp,e),Dp!==null&&Bb(Dp,e),Rp!==null&&Bb(Rp,e),l_.forEach(t),c_.forEach(t),r=0;r<bp.length;r++)n=bp[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bp.length&&(r=bp[0],r.blockedOn===null);)OX(r),r.blockedOn===null&&bp.shift()}var n2=Im.ReactCurrentBatchConfig,wS=!0;function Xpe(e,t,r,n){var i=ds,a=n2.transition;n2.transition=null;try{ds=1,aD(e,t,r,n)}finally{ds=i,n2.transition=a}}function Jpe(e,t,r,n){var i=ds,a=n2.transition;n2.transition=null;try{ds=4,aD(e,t,r,n)}finally{ds=i,n2.transition=a}}function aD(e,t,r,n){if(wS){var i=iP(e,t,r,n);if(i===null)FT(e,t,n,_S,r),OB(e,n);else if(Kpe(i,e,t,r,n))n.stopPropagation();else if(OB(e,n),t&4&&-1<Gpe.indexOf(e)){for(;i!==null;){var a=R4(i);if(a!==null&&EX(a),a=iP(e,t,r,n),a===null&&FT(e,t,n,_S,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else FT(e,t,n,null,r)}}var _S=null;function iP(e,t,r,n){if(_S=null,e=eD(n),e=_g(e),e!==null)if(t=mx(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bX(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _S=e,null}function IX(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lpe()){case tD:return 1;case SX:return 4;case yS:case Bpe:return 16;case CX:return 536870912;default:return 16}default:return 16}}var Sp=null,iD=null,MN=null;function FX(){if(MN)return MN;var e,t=iD,r=t.length,n,i="value"in Sp?Sp.value:Sp.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return MN=i.slice(e,1<n?1-n:void 0)}function LN(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function N3(){return!0}function FB(){return!1}function Wd(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?N3:FB,this.isPropagationStopped=FB,this}return Ao(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=N3)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=N3)},persist:function(){},isPersistent:N3}),t}var Ay={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sD=Wd(Ay),D4=Ao({},Ay,{view:0,detail:0}),Zpe=Wd(D4),CT,AT,$b,YA=Ao({},D4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oD,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$b&&($b&&e.type==="mousemove"?(CT=e.screenX-$b.screenX,AT=e.screenY-$b.screenY):AT=CT=0,$b=e),CT)},movementY:function(e){return"movementY"in e?e.movementY:AT}}),DB=Wd(YA),Qpe=Ao({},YA,{dataTransfer:0}),e1e=Wd(Qpe),t1e=Ao({},D4,{relatedTarget:0}),jT=Wd(t1e),r1e=Ao({},Ay,{animationName:0,elapsedTime:0,pseudoElement:0}),n1e=Wd(r1e),a1e=Ao({},Ay,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i1e=Wd(a1e),s1e=Ao({},Ay,{data:0}),RB=Wd(s1e),o1e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l1e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c1e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u1e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c1e[e])?!!t[e]:!1}function oD(){return u1e}var d1e=Ao({},D4,{key:function(e){if(e.key){var t=o1e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=LN(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l1e[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oD,charCode:function(e){return e.type==="keypress"?LN(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?LN(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f1e=Wd(d1e),h1e=Ao({},YA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MB=Wd(h1e),m1e=Ao({},D4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oD}),p1e=Wd(m1e),g1e=Ao({},Ay,{propertyName:0,elapsedTime:0,pseudoElement:0}),x1e=Wd(g1e),v1e=Ao({},YA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y1e=Wd(v1e),b1e=[9,13,27,32],lD=wm&&"CompositionEvent"in window,Ew=null;wm&&"documentMode"in document&&(Ew=document.documentMode);var w1e=wm&&"TextEvent"in window&&!Ew,DX=wm&&(!lD||Ew&&8<Ew&&11>=Ew),LB=String.fromCharCode(32),BB=!1;function RX(e,t){switch(e){case"keyup":return b1e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ev=!1;function _1e(e,t){switch(e){case"compositionend":return MX(t);case"keypress":return t.which!==32?null:(BB=!0,LB);case"textInput":return e=t.data,e===LB&&BB?null:e;default:return null}}function N1e(e,t){if(Ev)return e==="compositionend"||!lD&&RX(e,t)?(e=FX(),MN=iD=Sp=null,Ev=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DX&&t.locale!=="ko"?null:t.data;default:return null}}var S1e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $B(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S1e[e.type]:t==="textarea"}function LX(e,t,r,n){pX(n),t=NS(t,"onChange"),0<t.length&&(r=new sD("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tw=null,d_=null;function C1e(e){YX(e,0)}function XA(e){var t=Pv(e);if(lX(t))return e}function A1e(e,t){if(e==="change")return t}var BX=!1;if(wm){var ET;if(wm){var TT="oninput"in document;if(!TT){var UB=document.createElement("div");UB.setAttribute("oninput","return;"),TT=typeof UB.oninput=="function"}ET=TT}else ET=!1;BX=ET&&(!document.documentMode||9<document.documentMode)}function zB(){Tw&&(Tw.detachEvent("onpropertychange",$X),d_=Tw=null)}function $X(e){if(e.propertyName==="value"&&XA(d_)){var t=[];LX(t,d_,e,eD(e)),yX(C1e,t)}}function j1e(e,t,r){e==="focusin"?(zB(),Tw=t,d_=r,Tw.attachEvent("onpropertychange",$X)):e==="focusout"&&zB()}function E1e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return XA(d_)}function T1e(e,t){if(e==="click")return XA(t)}function k1e(e,t){if(e==="input"||e==="change")return XA(t)}function P1e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bh=typeof Object.is=="function"?Object.is:P1e;function f_(e,t){if(bh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Uk.call(t,i)||!bh(e[i],t[i]))return!1}return!0}function VB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WB(e,t){var r=VB(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=VB(r)}}function UX(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UX(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zX(){for(var e=window,t=gS();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gS(e.document)}return t}function cD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O1e(e){var t=zX(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&UX(r.ownerDocument.documentElement,r)){if(n!==null&&cD(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=WB(r,a);var o=WB(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I1e=wm&&"documentMode"in document&&11>=document.documentMode,Tv=null,sP=null,kw=null,oP=!1;function HB(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oP||Tv==null||Tv!==gS(n)||(n=Tv,"selectionStart"in n&&cD(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kw&&f_(kw,n)||(kw=n,n=NS(sP,"onSelect"),0<n.length&&(t=new sD("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tv)))}function S3(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kv={animationend:S3("Animation","AnimationEnd"),animationiteration:S3("Animation","AnimationIteration"),animationstart:S3("Animation","AnimationStart"),transitionend:S3("Transition","TransitionEnd")},kT={},VX={};wm&&(VX=document.createElement("div").style,"AnimationEvent"in window||(delete kv.animationend.animation,delete kv.animationiteration.animation,delete kv.animationstart.animation),"TransitionEvent"in window||delete kv.transitionend.transition);function JA(e){if(kT[e])return kT[e];if(!kv[e])return e;var t=kv[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in VX)return kT[e]=t[r];return e}var WX=JA("animationend"),HX=JA("animationiteration"),qX=JA("animationstart"),GX=JA("transitionend"),KX=new Map,qB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function m1(e,t){KX.set(e,t),hx(t,[e])}for(var PT=0;PT<qB.length;PT++){var OT=qB[PT],F1e=OT.toLowerCase(),D1e=OT[0].toUpperCase()+OT.slice(1);m1(F1e,"on"+D1e)}m1(WX,"onAnimationEnd");m1(HX,"onAnimationIteration");m1(qX,"onAnimationStart");m1("dblclick","onDoubleClick");m1("focusin","onFocus");m1("focusout","onBlur");m1(GX,"onTransitionEnd");A2("onMouseEnter",["mouseout","mouseover"]);A2("onMouseLeave",["mouseout","mouseover"]);A2("onPointerEnter",["pointerout","pointerover"]);A2("onPointerLeave",["pointerout","pointerover"]);hx("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hx("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hx("onBeforeInput",["compositionend","keypress","textInput","paste"]);hx("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hx("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hx("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1e=new Set("cancel close invalid load scroll toggle".split(" ").concat(yw));function GB(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Fpe(n,t,void 0,e),e.currentTarget=null}function YX(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;GB(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;GB(i,l,u),a=c}}}if(vS)throw e=rP,vS=!1,rP=null,e}function Ks(e,t){var r=t[fP];r===void 0&&(r=t[fP]=new Set);var n=e+"__bubble";r.has(n)||(XX(t,e,2,!1),r.add(n))}function IT(e,t,r){var n=0;t&&(n|=4),XX(r,e,n,t)}var C3="_reactListening"+Math.random().toString(36).slice(2);function h_(e){if(!e[C3]){e[C3]=!0,nX.forEach(function(r){r!=="selectionchange"&&(R1e.has(r)||IT(r,!1,e),IT(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[C3]||(t[C3]=!0,IT("selectionchange",!1,t))}}function XX(e,t,r,n){switch(IX(t)){case 1:var i=Xpe;break;case 4:i=Jpe;break;default:i=aD}r=i.bind(null,t,r,e),i=void 0,!tP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function FT(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=_g(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}yX(function(){var u=a,f=eD(r),h=[];e:{var g=KX.get(e);if(g!==void 0){var p=sD,S=e;switch(e){case"keypress":if(LN(r)===0)break e;case"keydown":case"keyup":p=f1e;break;case"focusin":S="focus",p=jT;break;case"focusout":S="blur",p=jT;break;case"beforeblur":case"afterblur":p=jT;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=e1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=p1e;break;case WX:case HX:case qX:p=n1e;break;case GX:p=x1e;break;case"scroll":p=Zpe;break;case"wheel":p=y1e;break;case"copy":case"cut":case"paste":p=i1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=MB}var b=(t&4)!==0,N=!b&&e==="scroll",C=b?g!==null?g+"Capture":null:g;b=[];for(var A=u,T;A!==null;){T=A;var F=T.stateNode;if(T.tag===5&&F!==null&&(T=F,C!==null&&(F=o_(A,C),F!=null&&b.push(m_(A,F,T)))),N)break;A=A.return}0<b.length&&(g=new p(g,S,null,r,f),h.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&r!==Qk&&(S=r.relatedTarget||r.fromElement)&&(_g(S)||S[_m]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(S=r.relatedTarget||r.toElement,p=u,S=S?_g(S):null,S!==null&&(N=mx(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(b=DB,F="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(b=MB,F="onPointerLeave",C="onPointerEnter",A="pointer"),N=p==null?g:Pv(p),T=S==null?g:Pv(S),g=new b(F,A+"leave",p,r,f),g.target=N,g.relatedTarget=T,F=null,_g(f)===u&&(b=new b(C,A+"enter",S,r,f),b.target=T,b.relatedTarget=N,F=b),N=F,p&&S)t:{for(b=p,C=S,A=0,T=b;T;T=av(T))A++;for(T=0,F=C;F;F=av(F))T++;for(;0<A-T;)b=av(b),A--;for(;0<T-A;)C=av(C),T--;for(;A--;){if(b===C||C!==null&&b===C.alternate)break t;b=av(b),C=av(C)}b=null}else b=null;p!==null&&KB(h,g,p,b,!1),S!==null&&N!==null&&KB(h,N,S,b,!0)}}e:{if(g=u?Pv(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var L=A1e;else if($B(g))if(BX)L=k1e;else{L=E1e;var B=j1e}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=T1e);if(L&&(L=L(e,u))){LX(h,L,r,f);break e}B&&B(e,g,u),e==="focusout"&&(B=g._wrapperState)&&B.controlled&&g.type==="number"&&Kk(g,"number",g.value)}switch(B=u?Pv(u):window,e){case"focusin":($B(B)||B.contentEditable==="true")&&(Tv=B,sP=u,kw=null);break;case"focusout":kw=sP=Tv=null;break;case"mousedown":oP=!0;break;case"contextmenu":case"mouseup":case"dragend":oP=!1,HB(h,r,f);break;case"selectionchange":if(I1e)break;case"keydown":case"keyup":HB(h,r,f)}var M;if(lD)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Ev?RX(e,r)&&(W="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(W="onCompositionStart");W&&(DX&&r.locale!=="ko"&&(Ev||W!=="onCompositionStart"?W==="onCompositionEnd"&&Ev&&(M=FX()):(Sp=f,iD="value"in Sp?Sp.value:Sp.textContent,Ev=!0)),B=NS(u,W),0<B.length&&(W=new RB(W,e,null,r,f),h.push({event:W,listeners:B}),M?W.data=M:(M=MX(r),M!==null&&(W.data=M)))),(M=w1e?_1e(e,r):N1e(e,r))&&(u=NS(u,"onBeforeInput"),0<u.length&&(f=new RB("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=M))}YX(h,t)})}function m_(e,t,r){return{instance:e,listener:t,currentTarget:r}}function NS(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=o_(e,r),a!=null&&n.unshift(m_(e,a,i)),a=o_(e,t),a!=null&&n.push(m_(e,a,i))),e=e.return}return n}function av(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function KB(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=o_(r,a),c!=null&&o.unshift(m_(r,c,l))):i||(c=o_(r,a),c!=null&&o.push(m_(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var M1e=/\r\n?/g,L1e=/\u0000|\uFFFD/g;function YB(e){return(typeof e=="string"?e:""+e).replace(M1e,`
`).replace(L1e,"")}function A3(e,t,r){if(t=YB(t),YB(e)!==t&&r)throw Error(Br(425))}function SS(){}var lP=null,cP=null;function uP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dP=typeof setTimeout=="function"?setTimeout:void 0,B1e=typeof clearTimeout=="function"?clearTimeout:void 0,XB=typeof Promise=="function"?Promise:void 0,$1e=typeof queueMicrotask=="function"?queueMicrotask:typeof XB<"u"?function(e){return XB.resolve(null).then(e).catch(U1e)}:dP;function U1e(e){setTimeout(function(){throw e})}function DT(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),u_(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);u_(t)}function Mp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function JB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jy=Math.random().toString(36).slice(2),n0="__reactFiber$"+jy,p_="__reactProps$"+jy,_m="__reactContainer$"+jy,fP="__reactEvents$"+jy,z1e="__reactListeners$"+jy,V1e="__reactHandles$"+jy;function _g(e){var t=e[n0];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_m]||r[n0]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=JB(e);e!==null;){if(r=e[n0])return r;e=JB(e)}return t}e=r,r=e.parentNode}return null}function R4(e){return e=e[n0]||e[_m],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Br(33))}function ZA(e){return e[p_]||null}var hP=[],Ov=-1;function p1(e){return{current:e}}function eo(e){0>Ov||(e.current=hP[Ov],hP[Ov]=null,Ov--)}function Ms(e,t){Ov++,hP[Ov]=e.current,e.current=t}var Xp={},Qc=p1(Xp),rd=p1(!1),$g=Xp;function j2(e,t){var r=e.type.contextTypes;if(!r)return Xp;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nd(e){return e=e.childContextTypes,e!=null}function CS(){eo(rd),eo(Qc)}function ZB(e,t,r){if(Qc.current!==Xp)throw Error(Br(168));Ms(Qc,t),Ms(rd,r)}function JX(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Br(108,jpe(e)||"Unknown",i));return Ao({},r,n)}function AS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xp,$g=Qc.current,Ms(Qc,e),Ms(rd,rd.current),!0}function QB(e,t,r){var n=e.stateNode;if(!n)throw Error(Br(169));r?(e=JX(e,t,$g),n.__reactInternalMemoizedMergedChildContext=e,eo(rd),eo(Qc),Ms(Qc,e)):eo(rd),Ms(rd,r)}var rm=null,QA=!1,RT=!1;function ZX(e){rm===null?rm=[e]:rm.push(e)}function W1e(e){QA=!0,ZX(e)}function g1(){if(!RT&&rm!==null){RT=!0;var e=0,t=ds;try{var r=rm;for(ds=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rm=null,QA=!1}catch(i){throw rm!==null&&(rm=rm.slice(e+1)),NX(tD,g1),i}finally{ds=t,RT=!1}}return null}var Iv=[],Fv=0,jS=null,ES=0,vf=[],yf=0,Ug=null,nm=1,am="";function ag(e,t){Iv[Fv++]=ES,Iv[Fv++]=jS,jS=e,ES=t}function QX(e,t,r){vf[yf++]=nm,vf[yf++]=am,vf[yf++]=Ug,Ug=e;var n=nm;e=am;var i=32-gh(n)-1;n&=~(1<<i),r+=1;var a=32-gh(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,nm=1<<32-gh(t)+i|r<<i|n,am=a+e}else nm=1<<a|r<<i|n,am=e}function uD(e){e.return!==null&&(ag(e,1),QX(e,1,0))}function dD(e){for(;e===jS;)jS=Iv[--Fv],Iv[Fv]=null,ES=Iv[--Fv],Iv[Fv]=null;for(;e===Ug;)Ug=vf[--yf],vf[yf]=null,am=vf[--yf],vf[yf]=null,nm=vf[--yf],vf[yf]=null}var Id=null,kd=null,co=!1,lh=null;function eJ(e,t){var r=wf(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function e$(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Id=e,kd=Mp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Id=e,kd=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ug!==null?{id:nm,overflow:am}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wf(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Id=e,kd=null,!0):!1;default:return!1}}function mP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pP(e){if(co){var t=kd;if(t){var r=t;if(!e$(e,t)){if(mP(e))throw Error(Br(418));t=Mp(r.nextSibling);var n=Id;t&&e$(e,t)?eJ(n,r):(e.flags=e.flags&-4097|2,co=!1,Id=e)}}else{if(mP(e))throw Error(Br(418));e.flags=e.flags&-4097|2,co=!1,Id=e}}}function t$(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Id=e}function j3(e){if(e!==Id)return!1;if(!co)return t$(e),co=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uP(e.type,e.memoizedProps)),t&&(t=kd)){if(mP(e))throw tJ(),Error(Br(418));for(;t;)eJ(e,t),t=Mp(t.nextSibling)}if(t$(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Br(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kd=Mp(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kd=null}}else kd=Id?Mp(e.stateNode.nextSibling):null;return!0}function tJ(){for(var e=kd;e;)e=Mp(e.nextSibling)}function E2(){kd=Id=null,co=!1}function fD(e){lh===null?lh=[e]:lh.push(e)}var H1e=Im.ReactCurrentBatchConfig;function Ub(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Br(309));var n=r.stateNode}if(!n)throw Error(Br(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Br(284));if(!r._owner)throw Error(Br(290,e))}return e}function E3(e,t){throw e=Object.prototype.toString.call(t),Error(Br(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r$(e){var t=e._init;return t(e._payload)}function rJ(e){function t(C,A){if(e){var T=C.deletions;T===null?(C.deletions=[A],C.flags|=16):T.push(A)}}function r(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function n(C,A){for(C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function i(C,A){return C=Up(C,A),C.index=0,C.sibling=null,C}function a(C,A,T){return C.index=T,e?(T=C.alternate,T!==null?(T=T.index,T<A?(C.flags|=2,A):T):(C.flags|=2,A)):(C.flags|=1048576,A)}function o(C){return e&&C.alternate===null&&(C.flags|=2),C}function l(C,A,T,F){return A===null||A.tag!==6?(A=VT(T,C.mode,F),A.return=C,A):(A=i(A,T),A.return=C,A)}function c(C,A,T,F){var L=T.type;return L===jv?f(C,A,T.props.children,F,T.key):A!==null&&(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gp&&r$(L)===A.type)?(F=i(A,T.props),F.ref=Ub(C,A,T),F.return=C,F):(F=HN(T.type,T.key,T.props,null,C.mode,F),F.ref=Ub(C,A,T),F.return=C,F)}function u(C,A,T,F){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=WT(T,C.mode,F),A.return=C,A):(A=i(A,T.children||[]),A.return=C,A)}function f(C,A,T,F,L){return A===null||A.tag!==7?(A=Ig(T,C.mode,F,L),A.return=C,A):(A=i(A,T),A.return=C,A)}function h(C,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return A=VT(""+A,C.mode,T),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case x3:return T=HN(A.type,A.key,A.props,null,C.mode,T),T.ref=Ub(C,null,A),T.return=C,T;case Av:return A=WT(A,C.mode,T),A.return=C,A;case gp:var F=A._init;return h(C,F(A._payload),T)}if(xw(A)||Rb(A))return A=Ig(A,C.mode,T,null),A.return=C,A;E3(C,A)}return null}function g(C,A,T,F){var L=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:l(C,A,""+T,F);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case x3:return T.key===L?c(C,A,T,F):null;case Av:return T.key===L?u(C,A,T,F):null;case gp:return L=T._init,g(C,A,L(T._payload),F)}if(xw(T)||Rb(T))return L!==null?null:f(C,A,T,F,null);E3(C,T)}return null}function p(C,A,T,F,L){if(typeof F=="string"&&F!==""||typeof F=="number")return C=C.get(T)||null,l(A,C,""+F,L);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x3:return C=C.get(F.key===null?T:F.key)||null,c(A,C,F,L);case Av:return C=C.get(F.key===null?T:F.key)||null,u(A,C,F,L);case gp:var B=F._init;return p(C,A,T,B(F._payload),L)}if(xw(F)||Rb(F))return C=C.get(T)||null,f(A,C,F,L,null);E3(A,F)}return null}function S(C,A,T,F){for(var L=null,B=null,M=A,W=A=0,z=null;M!==null&&W<T.length;W++){M.index>W?(z=M,M=null):z=M.sibling;var Z=g(C,M,T[W],F);if(Z===null){M===null&&(M=z);break}e&&M&&Z.alternate===null&&t(C,M),A=a(Z,A,W),B===null?L=Z:B.sibling=Z,B=Z,M=z}if(W===T.length)return r(C,M),co&&ag(C,W),L;if(M===null){for(;W<T.length;W++)M=h(C,T[W],F),M!==null&&(A=a(M,A,W),B===null?L=M:B.sibling=M,B=M);return co&&ag(C,W),L}for(M=n(C,M);W<T.length;W++)z=p(M,C,W,T[W],F),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?W:z.key),A=a(z,A,W),B===null?L=z:B.sibling=z,B=z);return e&&M.forEach(function(K){return t(C,K)}),co&&ag(C,W),L}function b(C,A,T,F){var L=Rb(T);if(typeof L!="function")throw Error(Br(150));if(T=L.call(T),T==null)throw Error(Br(151));for(var B=L=null,M=A,W=A=0,z=null,Z=T.next();M!==null&&!Z.done;W++,Z=T.next()){M.index>W?(z=M,M=null):z=M.sibling;var K=g(C,M,Z.value,F);if(K===null){M===null&&(M=z);break}e&&M&&K.alternate===null&&t(C,M),A=a(K,A,W),B===null?L=K:B.sibling=K,B=K,M=z}if(Z.done)return r(C,M),co&&ag(C,W),L;if(M===null){for(;!Z.done;W++,Z=T.next())Z=h(C,Z.value,F),Z!==null&&(A=a(Z,A,W),B===null?L=Z:B.sibling=Z,B=Z);return co&&ag(C,W),L}for(M=n(C,M);!Z.done;W++,Z=T.next())Z=p(M,C,W,Z.value,F),Z!==null&&(e&&Z.alternate!==null&&M.delete(Z.key===null?W:Z.key),A=a(Z,A,W),B===null?L=Z:B.sibling=Z,B=Z);return e&&M.forEach(function(q){return t(C,q)}),co&&ag(C,W),L}function N(C,A,T,F){if(typeof T=="object"&&T!==null&&T.type===jv&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case x3:e:{for(var L=T.key,B=A;B!==null;){if(B.key===L){if(L=T.type,L===jv){if(B.tag===7){r(C,B.sibling),A=i(B,T.props.children),A.return=C,C=A;break e}}else if(B.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gp&&r$(L)===B.type){r(C,B.sibling),A=i(B,T.props),A.ref=Ub(C,B,T),A.return=C,C=A;break e}r(C,B);break}else t(C,B);B=B.sibling}T.type===jv?(A=Ig(T.props.children,C.mode,F,T.key),A.return=C,C=A):(F=HN(T.type,T.key,T.props,null,C.mode,F),F.ref=Ub(C,A,T),F.return=C,C=F)}return o(C);case Av:e:{for(B=T.key;A!==null;){if(A.key===B)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){r(C,A.sibling),A=i(A,T.children||[]),A.return=C,C=A;break e}else{r(C,A);break}else t(C,A);A=A.sibling}A=WT(T,C.mode,F),A.return=C,C=A}return o(C);case gp:return B=T._init,N(C,A,B(T._payload),F)}if(xw(T))return S(C,A,T,F);if(Rb(T))return b(C,A,T,F);E3(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,A!==null&&A.tag===6?(r(C,A.sibling),A=i(A,T),A.return=C,C=A):(r(C,A),A=VT(T,C.mode,F),A.return=C,C=A),o(C)):r(C,A)}return N}var T2=rJ(!0),nJ=rJ(!1),TS=p1(null),kS=null,Dv=null,hD=null;function mD(){hD=Dv=kS=null}function pD(e){var t=TS.current;eo(TS),e._currentValue=t}function gP(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function a2(e,t){kS=e,hD=Dv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zu=!0),e.firstContext=null)}function jf(e){var t=e._currentValue;if(hD!==e)if(e={context:e,memoizedValue:t,next:null},Dv===null){if(kS===null)throw Error(Br(308));Dv=e,kS.dependencies={lanes:0,firstContext:e}}else Dv=Dv.next=e;return t}var Ng=null;function gD(e){Ng===null?Ng=[e]:Ng.push(e)}function aJ(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,gD(t)):(r.next=i.next,i.next=r),t.interleaved=r,Nm(e,n)}function Nm(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xp=!1;function xD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dm(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lp(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Vi&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Nm(e,r)}return i=n.interleaved,i===null?(t.next=t,gD(n)):(t.next=i.next,i.next=t),n.interleaved=t,Nm(e,r)}function BN(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rD(e,r)}}function n$(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function PS(e,t,r,n){var i=e.updateQueue;xp=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,f=u=c=null,l=a;do{var g=l.lane,p=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,b=l;switch(g=t,p=r,b.tag){case 1:if(S=b.payload,typeof S=="function"){h=S.call(p,h,g);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,g=typeof S=="function"?S.call(p,h,g):S,g==null)break e;h=Ao({},h,g);break e;case 2:xp=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=h):f=f.next=p,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vg|=o,e.lanes=o,e.memoizedState=h}}function a$(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Br(191,i));i.call(n)}}}var M4={},m0=p1(M4),g_=p1(M4),x_=p1(M4);function Sg(e){if(e===M4)throw Error(Br(174));return e}function vD(e,t){switch(Ms(x_,t),Ms(g_,e),Ms(m0,M4),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xk(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xk(t,e)}eo(m0),Ms(m0,t)}function k2(){eo(m0),eo(g_),eo(x_)}function sJ(e){Sg(x_.current);var t=Sg(m0.current),r=Xk(t,e.type);t!==r&&(Ms(g_,e),Ms(m0,r))}function yD(e){g_.current===e&&(eo(m0),eo(g_))}var bo=p1(0);function OS(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var MT=[];function bD(){for(var e=0;e<MT.length;e++)MT[e]._workInProgressVersionPrimary=null;MT.length=0}var $N=Im.ReactCurrentDispatcher,LT=Im.ReactCurrentBatchConfig,zg=0,_o=null,Il=null,ec=null,IS=!1,Pw=!1,v_=0,q1e=0;function Bc(){throw Error(Br(321))}function wD(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bh(e[r],t[r]))return!1;return!0}function _D(e,t,r,n,i,a){if(zg=a,_o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$N.current=e===null||e.memoizedState===null?X1e:J1e,e=r(n,i),Pw){a=0;do{if(Pw=!1,v_=0,25<=a)throw Error(Br(301));a+=1,ec=Il=null,t.updateQueue=null,$N.current=Z1e,e=r(n,i)}while(Pw)}if($N.current=FS,t=Il!==null&&Il.next!==null,zg=0,ec=Il=_o=null,IS=!1,t)throw Error(Br(300));return e}function ND(){var e=v_!==0;return v_=0,e}function r0(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ec===null?_o.memoizedState=ec=e:ec=ec.next=e,ec}function Ef(){if(Il===null){var e=_o.alternate;e=e!==null?e.memoizedState:null}else e=Il.next;var t=ec===null?_o.memoizedState:ec.next;if(t!==null)ec=t,Il=e;else{if(e===null)throw Error(Br(310));Il=e,e={memoizedState:Il.memoizedState,baseState:Il.baseState,baseQueue:Il.baseQueue,queue:Il.queue,next:null},ec===null?_o.memoizedState=ec=e:ec=ec.next=e}return ec}function y_(e,t){return typeof t=="function"?t(e):t}function BT(e){var t=Ef(),r=t.queue;if(r===null)throw Error(Br(311));r.lastRenderedReducer=e;var n=Il,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var f=u.lane;if((zg&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,_o.lanes|=f,Vg|=f}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,bh(n,t.memoizedState)||(Zu=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,_o.lanes|=a,Vg|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $T(e){var t=Ef(),r=t.queue;if(r===null)throw Error(Br(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);bh(a,t.memoizedState)||(Zu=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function oJ(){}function lJ(e,t){var r=_o,n=Ef(),i=t(),a=!bh(n.memoizedState,i);if(a&&(n.memoizedState=i,Zu=!0),n=n.queue,SD(dJ.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ec!==null&&ec.memoizedState.tag&1){if(r.flags|=2048,b_(9,uJ.bind(null,r,n,i,t),void 0,null),lc===null)throw Error(Br(349));zg&30||cJ(r,t,i)}return i}function cJ(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_o.updateQueue,t===null?(t={lastEffect:null,stores:null},_o.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uJ(e,t,r,n){t.value=r,t.getSnapshot=n,fJ(t)&&hJ(e)}function dJ(e,t,r){return r(function(){fJ(t)&&hJ(e)})}function fJ(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bh(e,r)}catch{return!0}}function hJ(e){var t=Nm(e,1);t!==null&&xh(t,e,1,-1)}function i$(e){var t=r0();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y_,lastRenderedState:e},t.queue=e,e=e.dispatch=Y1e.bind(null,_o,e),[t.memoizedState,e]}function b_(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_o.updateQueue,t===null?(t={lastEffect:null,stores:null},_o.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mJ(){return Ef().memoizedState}function UN(e,t,r,n){var i=r0();_o.flags|=e,i.memoizedState=b_(1|t,r,void 0,n===void 0?null:n)}function ej(e,t,r,n){var i=Ef();n=n===void 0?null:n;var a=void 0;if(Il!==null){var o=Il.memoizedState;if(a=o.destroy,n!==null&&wD(n,o.deps)){i.memoizedState=b_(t,r,a,n);return}}_o.flags|=e,i.memoizedState=b_(1|t,r,a,n)}function s$(e,t){return UN(8390656,8,e,t)}function SD(e,t){return ej(2048,8,e,t)}function pJ(e,t){return ej(4,2,e,t)}function gJ(e,t){return ej(4,4,e,t)}function xJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vJ(e,t,r){return r=r!=null?r.concat([e]):null,ej(4,4,xJ.bind(null,t,e),r)}function CD(){}function yJ(e,t){var r=Ef();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wD(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bJ(e,t){var r=Ef();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wD(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function wJ(e,t,r){return zg&21?(bh(r,t)||(r=AX(),_o.lanes|=r,Vg|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zu=!0),e.memoizedState=r)}function G1e(e,t){var r=ds;ds=r!==0&&4>r?r:4,e(!0);var n=LT.transition;LT.transition={};try{e(!1),t()}finally{ds=r,LT.transition=n}}function _J(){return Ef().memoizedState}function K1e(e,t,r){var n=$p(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NJ(e))SJ(t,r);else if(r=aJ(e,t,r,n),r!==null){var i=Eu();xh(r,e,n,i),CJ(r,t,n)}}function Y1e(e,t,r){var n=$p(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NJ(e))SJ(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,bh(l,o)){var c=t.interleaved;c===null?(i.next=i,gD(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=aJ(e,t,i,n),r!==null&&(i=Eu(),xh(r,e,n,i),CJ(r,t,n))}}function NJ(e){var t=e.alternate;return e===_o||t!==null&&t===_o}function SJ(e,t){Pw=IS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function CJ(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rD(e,r)}}var FS={readContext:jf,useCallback:Bc,useContext:Bc,useEffect:Bc,useImperativeHandle:Bc,useInsertionEffect:Bc,useLayoutEffect:Bc,useMemo:Bc,useReducer:Bc,useRef:Bc,useState:Bc,useDebugValue:Bc,useDeferredValue:Bc,useTransition:Bc,useMutableSource:Bc,useSyncExternalStore:Bc,useId:Bc,unstable_isNewReconciler:!1},X1e={readContext:jf,useCallback:function(e,t){return r0().memoizedState=[e,t===void 0?null:t],e},useContext:jf,useEffect:s$,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,UN(4194308,4,xJ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return UN(4194308,4,e,t)},useInsertionEffect:function(e,t){return UN(4,2,e,t)},useMemo:function(e,t){var r=r0();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=r0();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K1e.bind(null,_o,e),[n.memoizedState,e]},useRef:function(e){var t=r0();return e={current:e},t.memoizedState=e},useState:i$,useDebugValue:CD,useDeferredValue:function(e){return r0().memoizedState=e},useTransition:function(){var e=i$(!1),t=e[0];return e=G1e.bind(null,e[1]),r0().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_o,i=r0();if(co){if(r===void 0)throw Error(Br(407));r=r()}else{if(r=t(),lc===null)throw Error(Br(349));zg&30||cJ(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,s$(dJ.bind(null,n,a,e),[e]),n.flags|=2048,b_(9,uJ.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=r0(),t=lc.identifierPrefix;if(co){var r=am,n=nm;r=(n&~(1<<32-gh(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=v_++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=q1e++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J1e={readContext:jf,useCallback:yJ,useContext:jf,useEffect:SD,useImperativeHandle:vJ,useInsertionEffect:pJ,useLayoutEffect:gJ,useMemo:bJ,useReducer:BT,useRef:mJ,useState:function(){return BT(y_)},useDebugValue:CD,useDeferredValue:function(e){var t=Ef();return wJ(t,Il.memoizedState,e)},useTransition:function(){var e=BT(y_)[0],t=Ef().memoizedState;return[e,t]},useMutableSource:oJ,useSyncExternalStore:lJ,useId:_J,unstable_isNewReconciler:!1},Z1e={readContext:jf,useCallback:yJ,useContext:jf,useEffect:SD,useImperativeHandle:vJ,useInsertionEffect:pJ,useLayoutEffect:gJ,useMemo:bJ,useReducer:$T,useRef:mJ,useState:function(){return $T(y_)},useDebugValue:CD,useDeferredValue:function(e){var t=Ef();return Il===null?t.memoizedState=e:wJ(t,Il.memoizedState,e)},useTransition:function(){var e=$T(y_)[0],t=Ef().memoizedState;return[e,t]},useMutableSource:oJ,useSyncExternalStore:lJ,useId:_J,unstable_isNewReconciler:!1};function rh(e,t){if(e&&e.defaultProps){t=Ao({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xP(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ao({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tj={isMounted:function(e){return(e=e._reactInternals)?mx(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Eu(),i=$p(e),a=dm(n,i);a.payload=t,r!=null&&(a.callback=r),t=Lp(e,a,i),t!==null&&(xh(t,e,i,n),BN(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Eu(),i=$p(e),a=dm(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Lp(e,a,i),t!==null&&(xh(t,e,i,n),BN(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Eu(),n=$p(e),i=dm(r,n);i.tag=2,t!=null&&(i.callback=t),t=Lp(e,i,n),t!==null&&(xh(t,e,n,r),BN(t,e,n))}};function o$(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!f_(r,n)||!f_(i,a):!0}function AJ(e,t,r){var n=!1,i=Xp,a=t.contextType;return typeof a=="object"&&a!==null?a=jf(a):(i=nd(t)?$g:Qc.current,n=t.contextTypes,a=(n=n!=null)?j2(e,i):Xp),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tj,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function l$(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&tj.enqueueReplaceState(t,t.state,null)}function vP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},xD(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=jf(a):(a=nd(t)?$g:Qc.current,i.context=j2(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(xP(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tj.enqueueReplaceState(i,i.state,null),PS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function P2(e,t){try{var r="",n=t;do r+=Ape(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function UT(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function yP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q1e=typeof WeakMap=="function"?WeakMap:Map;function jJ(e,t,r){r=dm(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){RS||(RS=!0,TP=n),yP(e,t)},r}function EJ(e,t,r){r=dm(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){yP(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){yP(e,t),typeof n!="function"&&(Bp===null?Bp=new Set([this]):Bp.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function c$(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q1e;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=hge.bind(null,e,t,r),t.then(e,e))}function u$(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d$(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dm(-1,1),t.tag=2,Lp(r,t,1))),r.lanes|=1),e)}var ege=Im.ReactCurrentOwner,Zu=!1;function yu(e,t,r,n){t.child=e===null?nJ(t,null,r,n):T2(t,e.child,r,n)}function f$(e,t,r,n,i){r=r.render;var a=t.ref;return a2(t,i),n=_D(e,t,r,n,a,i),r=ND(),e!==null&&!Zu?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sm(e,t,i)):(co&&r&&uD(t),t.flags|=1,yu(e,t,n,i),t.child)}function h$(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!ID(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,TJ(e,t,a,n,i)):(e=HN(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:f_,r(o,n)&&e.ref===t.ref)return Sm(e,t,i)}return t.flags|=1,e=Up(a,n),e.ref=t.ref,e.return=t,t.child=e}function TJ(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(f_(a,n)&&e.ref===t.ref)if(Zu=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Zu=!0);else return t.lanes=e.lanes,Sm(e,t,i)}return bP(e,t,r,n,i)}function kJ(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ms(Mv,yd),yd|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ms(Mv,yd),yd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ms(Mv,yd),yd|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ms(Mv,yd),yd|=n;return yu(e,t,i,r),t.child}function PJ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bP(e,t,r,n,i){var a=nd(r)?$g:Qc.current;return a=j2(t,a),a2(t,i),r=_D(e,t,r,n,a,i),n=ND(),e!==null&&!Zu?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sm(e,t,i)):(co&&n&&uD(t),t.flags|=1,yu(e,t,r,i),t.child)}function m$(e,t,r,n,i){if(nd(r)){var a=!0;AS(t)}else a=!1;if(a2(t,i),t.stateNode===null)zN(e,t),AJ(t,r,n),vP(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=jf(u):(u=nd(r)?$g:Qc.current,u=j2(t,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&l$(t,o,n,u),xp=!1;var g=t.memoizedState;o.state=g,PS(t,n,o,i),c=t.memoizedState,l!==n||g!==c||rd.current||xp?(typeof f=="function"&&(xP(t,r,f,n),c=t.memoizedState),(l=xp||o$(t,r,l,n,g,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,iJ(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:rh(t.type,l),o.props=u,h=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=jf(c):(c=nd(r)?$g:Qc.current,c=j2(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==c)&&l$(t,o,n,c),xp=!1,g=t.memoizedState,o.state=g,PS(t,n,o,i);var S=t.memoizedState;l!==h||g!==S||rd.current||xp?(typeof p=="function"&&(xP(t,r,p,n),S=t.memoizedState),(u=xp||o$(t,r,u,n,g,S,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,S,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),o.props=n,o.state=S,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return wP(e,t,r,n,a,i)}function wP(e,t,r,n,i,a){PJ(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&QB(t,r,!1),Sm(e,t,a);n=t.stateNode,ege.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=T2(t,e.child,null,a),t.child=T2(t,null,l,a)):yu(e,t,l,a),t.memoizedState=n.state,i&&QB(t,r,!0),t.child}function OJ(e){var t=e.stateNode;t.pendingContext?ZB(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZB(e,t.context,!1),vD(e,t.containerInfo)}function p$(e,t,r,n,i){return E2(),fD(i),t.flags|=256,yu(e,t,r,n),t.child}var _P={dehydrated:null,treeContext:null,retryLane:0};function NP(e){return{baseLanes:e,cachePool:null,transitions:null}}function IJ(e,t,r){var n=t.pendingProps,i=bo.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ms(bo,i&1),e===null)return pP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=aj(o,n,0,null),e=Ig(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=NP(r),t.memoizedState=_P,e):AD(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return tge(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Up(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Up(l,a):(a=Ig(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?NP(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=_P,n}return a=e.child,e=a.sibling,n=Up(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function AD(e,t){return t=aj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function T3(e,t,r,n){return n!==null&&fD(n),T2(t,e.child,null,r),e=AD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tge(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=UT(Error(Br(422))),T3(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=aj({mode:"visible",children:n.children},i,0,null),a=Ig(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&T2(t,e.child,null,o),t.child.memoizedState=NP(o),t.memoizedState=_P,a);if(!(t.mode&1))return T3(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Br(419)),n=UT(a,n,void 0),T3(e,t,o,n)}if(l=(o&e.childLanes)!==0,Zu||l){if(n=lc,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Nm(e,i),xh(n,e,i,-1))}return OD(),n=UT(Error(Br(421))),T3(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mge.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,kd=Mp(i.nextSibling),Id=t,co=!0,lh=null,e!==null&&(vf[yf++]=nm,vf[yf++]=am,vf[yf++]=Ug,nm=e.id,am=e.overflow,Ug=t),t=AD(t,n.children),t.flags|=4096,t)}function g$(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gP(e.return,t,r)}function zT(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function FJ(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(yu(e,t,n.children,r),n=bo.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g$(e,r,t);else if(e.tag===19)g$(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ms(bo,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&OS(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),zT(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&OS(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}zT(t,!0,r,null,a);break;case"together":zT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zN(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sm(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vg|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Br(153));if(t.child!==null){for(e=t.child,r=Up(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Up(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rge(e,t,r){switch(t.tag){case 3:OJ(t),E2();break;case 5:sJ(t);break;case 1:nd(t.type)&&AS(t);break;case 4:vD(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ms(TS,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ms(bo,bo.current&1),t.flags|=128,null):r&t.child.childLanes?IJ(e,t,r):(Ms(bo,bo.current&1),e=Sm(e,t,r),e!==null?e.sibling:null);Ms(bo,bo.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return FJ(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ms(bo,bo.current),n)break;return null;case 22:case 23:return t.lanes=0,kJ(e,t,r)}return Sm(e,t,r)}var DJ,SP,RJ,MJ;DJ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};SP=function(){};RJ=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Sg(m0.current);var a=null;switch(r){case"input":i=qk(e,i),n=qk(e,n),a=[];break;case"select":i=Ao({},i,{value:void 0}),n=Ao({},n,{value:void 0}),a=[];break;case"textarea":i=Yk(e,i),n=Yk(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=SS)}Jk(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(i_.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(i_.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ks("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};MJ=function(e,t,r,n){r!==n&&(t.flags|=4)};function zb(e,t){if(!co)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $c(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nge(e,t,r){var n=t.pendingProps;switch(dD(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $c(t),null;case 1:return nd(t.type)&&CS(),$c(t),null;case 3:return n=t.stateNode,k2(),eo(rd),eo(Qc),bD(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(j3(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lh!==null&&(OP(lh),lh=null))),SP(e,t),$c(t),null;case 5:yD(t);var i=Sg(x_.current);if(r=t.type,e!==null&&t.stateNode!=null)RJ(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Br(166));return $c(t),null}if(e=Sg(m0.current),j3(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[n0]=t,n[p_]=a,e=(t.mode&1)!==0,r){case"dialog":Ks("cancel",n),Ks("close",n);break;case"iframe":case"object":case"embed":Ks("load",n);break;case"video":case"audio":for(i=0;i<yw.length;i++)Ks(yw[i],n);break;case"source":Ks("error",n);break;case"img":case"image":case"link":Ks("error",n),Ks("load",n);break;case"details":Ks("toggle",n);break;case"input":CB(n,a),Ks("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ks("invalid",n);break;case"textarea":jB(n,a),Ks("invalid",n)}Jk(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&A3(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&A3(n.textContent,l,e),i=["children",""+l]):i_.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ks("scroll",n)}switch(r){case"input":v3(n),AB(n,a,!0);break;case"textarea":v3(n),EB(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=SS)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dX(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[n0]=t,e[p_]=n,DJ(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zk(r,n),r){case"dialog":Ks("cancel",e),Ks("close",e),i=n;break;case"iframe":case"object":case"embed":Ks("load",e),i=n;break;case"video":case"audio":for(i=0;i<yw.length;i++)Ks(yw[i],e);i=n;break;case"source":Ks("error",e),i=n;break;case"img":case"image":case"link":Ks("error",e),Ks("load",e),i=n;break;case"details":Ks("toggle",e),i=n;break;case"input":CB(e,n),i=qk(e,n),Ks("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ao({},n,{value:void 0}),Ks("invalid",e);break;case"textarea":jB(e,n),i=Yk(e,n),Ks("invalid",e);break;default:i=n}Jk(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?mX(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fX(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&s_(e,c):typeof c=="number"&&s_(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(i_.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ks("scroll",e):c!=null&&XF(e,a,c,o))}switch(r){case"input":v3(e),AB(e,n,!1);break;case"textarea":v3(e),EB(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yp(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?e2(e,!!n.multiple,a,!1):n.defaultValue!=null&&e2(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=SS)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $c(t),null;case 6:if(e&&t.stateNode!=null)MJ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Br(166));if(r=Sg(x_.current),Sg(m0.current),j3(t)){if(n=t.stateNode,r=t.memoizedProps,n[n0]=t,(a=n.nodeValue!==r)&&(e=Id,e!==null))switch(e.tag){case 3:A3(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&A3(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[n0]=t,t.stateNode=n}return $c(t),null;case 13:if(eo(bo),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(co&&kd!==null&&t.mode&1&&!(t.flags&128))tJ(),E2(),t.flags|=98560,a=!1;else if(a=j3(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Br(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Br(317));a[n0]=t}else E2(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$c(t),a=!1}else lh!==null&&(OP(lh),lh=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||bo.current&1?Rl===0&&(Rl=3):OD())),t.updateQueue!==null&&(t.flags|=4),$c(t),null);case 4:return k2(),SP(e,t),e===null&&h_(t.stateNode.containerInfo),$c(t),null;case 10:return pD(t.type._context),$c(t),null;case 17:return nd(t.type)&&CS(),$c(t),null;case 19:if(eo(bo),a=t.memoizedState,a===null)return $c(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)zb(a,!1);else{if(Rl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=OS(e),o!==null){for(t.flags|=128,zb(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ms(bo,bo.current&1|2),t.child}e=e.sibling}a.tail!==null&&Xo()>O2&&(t.flags|=128,n=!0,zb(a,!1),t.lanes=4194304)}else{if(!n)if(e=OS(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zb(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!co)return $c(t),null}else 2*Xo()-a.renderingStartTime>O2&&r!==1073741824&&(t.flags|=128,n=!0,zb(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xo(),t.sibling=null,r=bo.current,Ms(bo,n?r&1|2:r&1),t):($c(t),null);case 22:case 23:return PD(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yd&1073741824&&($c(t),t.subtreeFlags&6&&(t.flags|=8192)):$c(t),null;case 24:return null;case 25:return null}throw Error(Br(156,t.tag))}function age(e,t){switch(dD(t),t.tag){case 1:return nd(t.type)&&CS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return k2(),eo(rd),eo(Qc),bD(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yD(t),null;case 13:if(eo(bo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Br(340));E2()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return eo(bo),null;case 4:return k2(),null;case 10:return pD(t.type._context),null;case 22:case 23:return PD(),null;case 24:return null;default:return null}}var k3=!1,Gc=!1,ige=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function Rv(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ro(e,t,n)}else r.current=null}function CP(e,t,r){try{r()}catch(n){Ro(e,t,n)}}var x$=!1;function sge(e,t){if(lP=wS,e=zX(),cD(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,h=e,g=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)g=h,h=p;for(;;){if(h===e)break t;if(g===r&&++u===i&&(l=o),g===a&&++f===n&&(c=o),(p=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cP={focusedElem:e,selectionRange:r},wS=!1,Pn=t;Pn!==null;)if(t=Pn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pn=e;else for(;Pn!==null;){t=Pn;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,N=S.memoizedState,C=t.stateNode,A=C.getSnapshotBeforeUpdate(t.elementType===t.type?b:rh(t.type,b),N);C.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Br(163))}}catch(F){Ro(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,Pn=e;break}Pn=t.return}return S=x$,x$=!1,S}function Ow(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&CP(t,r,a)}i=i.next}while(i!==n)}}function rj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function AP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LJ(e){var t=e.alternate;t!==null&&(e.alternate=null,LJ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[n0],delete t[p_],delete t[fP],delete t[z1e],delete t[V1e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BJ(e){return e.tag===5||e.tag===3||e.tag===4}function v$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BJ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=SS));else if(n!==4&&(e=e.child,e!==null))for(jP(e,t,r),e=e.sibling;e!==null;)jP(e,t,r),e=e.sibling}function EP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(EP(e,t,r),e=e.sibling;e!==null;)EP(e,t,r),e=e.sibling}var Ac=null,ih=!1;function ip(e,t,r){for(r=r.child;r!==null;)$J(e,t,r),r=r.sibling}function $J(e,t,r){if(h0&&typeof h0.onCommitFiberUnmount=="function")try{h0.onCommitFiberUnmount(KA,r)}catch{}switch(r.tag){case 5:Gc||Rv(r,t);case 6:var n=Ac,i=ih;Ac=null,ip(e,t,r),Ac=n,ih=i,Ac!==null&&(ih?(e=Ac,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ac.removeChild(r.stateNode));break;case 18:Ac!==null&&(ih?(e=Ac,r=r.stateNode,e.nodeType===8?DT(e.parentNode,r):e.nodeType===1&&DT(e,r),u_(e)):DT(Ac,r.stateNode));break;case 4:n=Ac,i=ih,Ac=r.stateNode.containerInfo,ih=!0,ip(e,t,r),Ac=n,ih=i;break;case 0:case 11:case 14:case 15:if(!Gc&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&CP(r,t,o),i=i.next}while(i!==n)}ip(e,t,r);break;case 1:if(!Gc&&(Rv(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ro(r,t,l)}ip(e,t,r);break;case 21:ip(e,t,r);break;case 22:r.mode&1?(Gc=(n=Gc)||r.memoizedState!==null,ip(e,t,r),Gc=n):ip(e,t,r);break;default:ip(e,t,r)}}function y$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ige),t.forEach(function(n){var i=pge.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gf(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ac=l.stateNode,ih=!1;break e;case 3:Ac=l.stateNode.containerInfo,ih=!0;break e;case 4:Ac=l.stateNode.containerInfo,ih=!0;break e}l=l.return}if(Ac===null)throw Error(Br(160));$J(a,o,i),Ac=null,ih=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ro(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UJ(t,e),t=t.sibling}function UJ(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gf(t,e),Zh(e),n&4){try{Ow(3,e,e.return),rj(3,e)}catch(b){Ro(e,e.return,b)}try{Ow(5,e,e.return)}catch(b){Ro(e,e.return,b)}}break;case 1:Gf(t,e),Zh(e),n&512&&r!==null&&Rv(r,r.return);break;case 5:if(Gf(t,e),Zh(e),n&512&&r!==null&&Rv(r,r.return),e.flags&32){var i=e.stateNode;try{s_(i,"")}catch(b){Ro(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&cX(i,a),Zk(l,o);var u=Zk(l,a);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?mX(i,h):f==="dangerouslySetInnerHTML"?fX(i,h):f==="children"?s_(i,h):XF(i,f,h,u)}switch(l){case"input":Gk(i,a);break;case"textarea":uX(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?e2(i,!!a.multiple,p,!1):g!==!!a.multiple&&(a.defaultValue!=null?e2(i,!!a.multiple,a.defaultValue,!0):e2(i,!!a.multiple,a.multiple?[]:"",!1))}i[p_]=a}catch(b){Ro(e,e.return,b)}}break;case 6:if(Gf(t,e),Zh(e),n&4){if(e.stateNode===null)throw Error(Br(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){Ro(e,e.return,b)}}break;case 3:if(Gf(t,e),Zh(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{u_(t.containerInfo)}catch(b){Ro(e,e.return,b)}break;case 4:Gf(t,e),Zh(e);break;case 13:Gf(t,e),Zh(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(TD=Xo())),n&4&&y$(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Gc=(u=Gc)||f,Gf(t,e),Gc=u):Gf(t,e),Zh(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Pn=e,f=e.child;f!==null;){for(h=Pn=f;Pn!==null;){switch(g=Pn,p=g.child,g.tag){case 0:case 11:case 14:case 15:Ow(4,g,g.return);break;case 1:Rv(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(b){Ro(n,r,b)}}break;case 5:Rv(g,g.return);break;case 22:if(g.memoizedState!==null){w$(h);continue}}p!==null?(p.return=g,Pn=p):w$(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hX("display",o))}catch(b){Ro(e,e.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Ro(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gf(t,e),Zh(e),n&4&&y$(e);break;case 21:break;default:Gf(t,e),Zh(e)}}function Zh(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(BJ(r)){var n=r;break e}r=r.return}throw Error(Br(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(s_(i,""),n.flags&=-33);var a=v$(e);EP(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=v$(e);jP(e,l,o);break;default:throw Error(Br(161))}}catch(c){Ro(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oge(e,t,r){Pn=e,zJ(e)}function zJ(e,t,r){for(var n=(e.mode&1)!==0;Pn!==null;){var i=Pn,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||k3;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Gc;l=k3;var u=Gc;if(k3=o,(Gc=c)&&!u)for(Pn=i;Pn!==null;)o=Pn,c=o.child,o.tag===22&&o.memoizedState!==null?_$(i):c!==null?(c.return=o,Pn=c):_$(i);for(;a!==null;)Pn=a,zJ(a),a=a.sibling;Pn=i,k3=l,Gc=u}b$(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Pn=a):b$(e)}}function b$(e){for(;Pn!==null;){var t=Pn;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gc||rj(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gc)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:rh(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&a$(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}a$(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&u_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Br(163))}Gc||t.flags&512&&AP(t)}catch(g){Ro(t,t.return,g)}}if(t===e){Pn=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pn=r;break}Pn=t.return}}function w$(e){for(;Pn!==null;){var t=Pn;if(t===e){Pn=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pn=r;break}Pn=t.return}}function _$(e){for(;Pn!==null;){var t=Pn;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rj(4,t)}catch(c){Ro(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ro(t,i,c)}}var a=t.return;try{AP(t)}catch(c){Ro(t,a,c)}break;case 5:var o=t.return;try{AP(t)}catch(c){Ro(t,o,c)}}}catch(c){Ro(t,t.return,c)}if(t===e){Pn=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pn=l;break}Pn=t.return}}var lge=Math.ceil,DS=Im.ReactCurrentDispatcher,jD=Im.ReactCurrentOwner,Nf=Im.ReactCurrentBatchConfig,Vi=0,lc=null,yl=null,Oc=0,yd=0,Mv=p1(0),Rl=0,w_=null,Vg=0,nj=0,ED=0,Iw=null,Yu=null,TD=0,O2=1/0,Q0=null,RS=!1,TP=null,Bp=null,P3=!1,Cp=null,MS=0,Fw=0,kP=null,VN=-1,WN=0;function Eu(){return Vi&6?Xo():VN!==-1?VN:VN=Xo()}function $p(e){return e.mode&1?Vi&2&&Oc!==0?Oc&-Oc:H1e.transition!==null?(WN===0&&(WN=AX()),WN):(e=ds,e!==0||(e=window.event,e=e===void 0?16:IX(e.type)),e):1}function xh(e,t,r,n){if(50<Fw)throw Fw=0,kP=null,Error(Br(185));F4(e,r,n),(!(Vi&2)||e!==lc)&&(e===lc&&(!(Vi&2)&&(nj|=r),Rl===4&&wp(e,Oc)),ad(e,n),r===1&&Vi===0&&!(t.mode&1)&&(O2=Xo()+500,QA&&g1()))}function ad(e,t){var r=e.callbackNode;Hpe(e,t);var n=bS(e,e===lc?Oc:0);if(n===0)r!==null&&PB(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&PB(r),t===1)e.tag===0?W1e(N$.bind(null,e)):ZX(N$.bind(null,e)),$1e(function(){!(Vi&6)&&g1()}),r=null;else{switch(jX(n)){case 1:r=tD;break;case 4:r=SX;break;case 16:r=yS;break;case 536870912:r=CX;break;default:r=yS}r=XJ(r,VJ.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function VJ(e,t){if(VN=-1,WN=0,Vi&6)throw Error(Br(327));var r=e.callbackNode;if(i2()&&e.callbackNode!==r)return null;var n=bS(e,e===lc?Oc:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=LS(e,n);else{t=n;var i=Vi;Vi|=2;var a=HJ();(lc!==e||Oc!==t)&&(Q0=null,O2=Xo()+500,Og(e,t));do try{dge();break}catch(l){WJ(e,l)}while(1);mD(),DS.current=a,Vi=i,yl!==null?t=0:(lc=null,Oc=0,t=Rl)}if(t!==0){if(t===2&&(i=nP(e),i!==0&&(n=i,t=PP(e,i))),t===1)throw r=w_,Og(e,0),wp(e,n),ad(e,Xo()),r;if(t===6)wp(e,n);else{if(i=e.current.alternate,!(n&30)&&!cge(i)&&(t=LS(e,n),t===2&&(a=nP(e),a!==0&&(n=a,t=PP(e,a))),t===1))throw r=w_,Og(e,0),wp(e,n),ad(e,Xo()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Br(345));case 2:ig(e,Yu,Q0);break;case 3:if(wp(e,n),(n&130023424)===n&&(t=TD+500-Xo(),10<t)){if(bS(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dP(ig.bind(null,e,Yu,Q0),t);break}ig(e,Yu,Q0);break;case 4:if(wp(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-gh(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Xo()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lge(n/1960))-n,10<n){e.timeoutHandle=dP(ig.bind(null,e,Yu,Q0),n);break}ig(e,Yu,Q0);break;case 5:ig(e,Yu,Q0);break;default:throw Error(Br(329))}}}return ad(e,Xo()),e.callbackNode===r?VJ.bind(null,e):null}function PP(e,t){var r=Iw;return e.current.memoizedState.isDehydrated&&(Og(e,t).flags|=256),e=LS(e,t),e!==2&&(t=Yu,Yu=r,t!==null&&OP(t)),e}function OP(e){Yu===null?Yu=e:Yu.push.apply(Yu,e)}function cge(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bh(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wp(e,t){for(t&=~ED,t&=~nj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gh(t),n=1<<r;e[r]=-1,t&=~n}}function N$(e){if(Vi&6)throw Error(Br(327));i2();var t=bS(e,0);if(!(t&1))return ad(e,Xo()),null;var r=LS(e,t);if(e.tag!==0&&r===2){var n=nP(e);n!==0&&(t=n,r=PP(e,n))}if(r===1)throw r=w_,Og(e,0),wp(e,t),ad(e,Xo()),r;if(r===6)throw Error(Br(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ig(e,Yu,Q0),ad(e,Xo()),null}function kD(e,t){var r=Vi;Vi|=1;try{return e(t)}finally{Vi=r,Vi===0&&(O2=Xo()+500,QA&&g1())}}function Wg(e){Cp!==null&&Cp.tag===0&&!(Vi&6)&&i2();var t=Vi;Vi|=1;var r=Nf.transition,n=ds;try{if(Nf.transition=null,ds=1,e)return e()}finally{ds=n,Nf.transition=r,Vi=t,!(Vi&6)&&g1()}}function PD(){yd=Mv.current,eo(Mv)}function Og(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,B1e(r)),yl!==null)for(r=yl.return;r!==null;){var n=r;switch(dD(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&CS();break;case 3:k2(),eo(rd),eo(Qc),bD();break;case 5:yD(n);break;case 4:k2();break;case 13:eo(bo);break;case 19:eo(bo);break;case 10:pD(n.type._context);break;case 22:case 23:PD()}r=r.return}if(lc=e,yl=e=Up(e.current,null),Oc=yd=t,Rl=0,w_=null,ED=nj=Vg=0,Yu=Iw=null,Ng!==null){for(t=0;t<Ng.length;t++)if(r=Ng[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ng=null}return e}function WJ(e,t){do{var r=yl;try{if(mD(),$N.current=FS,IS){for(var n=_o.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}IS=!1}if(zg=0,ec=Il=_o=null,Pw=!1,v_=0,jD.current=null,r===null||r.return===null){Rl=1,w_=t,yl=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Oc,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=u$(o);if(p!==null){p.flags&=-257,d$(p,o,l,a,t),p.mode&1&&c$(a,u,t),t=p,c=u;var S=t.updateQueue;if(S===null){var b=new Set;b.add(c),t.updateQueue=b}else S.add(c);break e}else{if(!(t&1)){c$(a,u,t),OD();break e}c=Error(Br(426))}}else if(co&&l.mode&1){var N=u$(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),d$(N,o,l,a,t),fD(P2(c,l));break e}}a=c=P2(c,l),Rl!==4&&(Rl=2),Iw===null?Iw=[a]:Iw.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var C=jJ(a,c,t);n$(a,C);break e;case 1:l=c;var A=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof A.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Bp===null||!Bp.has(T)))){a.flags|=65536,t&=-t,a.lanes|=t;var F=EJ(a,l,t);n$(a,F);break e}}a=a.return}while(a!==null)}GJ(r)}catch(L){t=L,yl===r&&r!==null&&(yl=r=r.return);continue}break}while(1)}function HJ(){var e=DS.current;return DS.current=FS,e===null?FS:e}function OD(){(Rl===0||Rl===3||Rl===2)&&(Rl=4),lc===null||!(Vg&268435455)&&!(nj&268435455)||wp(lc,Oc)}function LS(e,t){var r=Vi;Vi|=2;var n=HJ();(lc!==e||Oc!==t)&&(Q0=null,Og(e,t));do try{uge();break}catch(i){WJ(e,i)}while(1);if(mD(),Vi=r,DS.current=n,yl!==null)throw Error(Br(261));return lc=null,Oc=0,Rl}function uge(){for(;yl!==null;)qJ(yl)}function dge(){for(;yl!==null&&!Rpe();)qJ(yl)}function qJ(e){var t=YJ(e.alternate,e,yd);e.memoizedProps=e.pendingProps,t===null?GJ(e):yl=t,jD.current=null}function GJ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=age(r,t),r!==null){r.flags&=32767,yl=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rl=6,yl=null;return}}else if(r=nge(r,t,yd),r!==null){yl=r;return}if(t=t.sibling,t!==null){yl=t;return}yl=t=e}while(t!==null);Rl===0&&(Rl=5)}function ig(e,t,r){var n=ds,i=Nf.transition;try{Nf.transition=null,ds=1,fge(e,t,r,n)}finally{Nf.transition=i,ds=n}return null}function fge(e,t,r,n){do i2();while(Cp!==null);if(Vi&6)throw Error(Br(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Br(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(qpe(e,a),e===lc&&(yl=lc=null,Oc=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||P3||(P3=!0,XJ(yS,function(){return i2(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Nf.transition,Nf.transition=null;var o=ds;ds=1;var l=Vi;Vi|=4,jD.current=null,sge(e,r),UJ(r,e),O1e(cP),wS=!!lP,cP=lP=null,e.current=r,oge(r),Mpe(),Vi=l,ds=o,Nf.transition=a}else e.current=r;if(P3&&(P3=!1,Cp=e,MS=i),a=e.pendingLanes,a===0&&(Bp=null),$pe(r.stateNode),ad(e,Xo()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(RS)throw RS=!1,e=TP,TP=null,e;return MS&1&&e.tag!==0&&i2(),a=e.pendingLanes,a&1?e===kP?Fw++:(Fw=0,kP=e):Fw=0,g1(),null}function i2(){if(Cp!==null){var e=jX(MS),t=Nf.transition,r=ds;try{if(Nf.transition=null,ds=16>e?16:e,Cp===null)var n=!1;else{if(e=Cp,Cp=null,MS=0,Vi&6)throw Error(Br(331));var i=Vi;for(Vi|=4,Pn=e.current;Pn!==null;){var a=Pn,o=a.child;if(Pn.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Pn=u;Pn!==null;){var f=Pn;switch(f.tag){case 0:case 11:case 15:Ow(8,f,a)}var h=f.child;if(h!==null)h.return=f,Pn=h;else for(;Pn!==null;){f=Pn;var g=f.sibling,p=f.return;if(LJ(f),f===u){Pn=null;break}if(g!==null){g.return=p,Pn=g;break}Pn=p}}}var S=a.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}Pn=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Pn=o;else e:for(;Pn!==null;){if(a=Pn,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ow(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,Pn=C;break e}Pn=a.return}}var A=e.current;for(Pn=A;Pn!==null;){o=Pn;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Pn=T;else e:for(o=A;Pn!==null;){if(l=Pn,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rj(9,l)}}catch(L){Ro(l,l.return,L)}if(l===o){Pn=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,Pn=F;break e}Pn=l.return}}if(Vi=i,g1(),h0&&typeof h0.onPostCommitFiberRoot=="function")try{h0.onPostCommitFiberRoot(KA,e)}catch{}n=!0}return n}finally{ds=r,Nf.transition=t}}return!1}function S$(e,t,r){t=P2(r,t),t=jJ(e,t,1),e=Lp(e,t,1),t=Eu(),e!==null&&(F4(e,1,t),ad(e,t))}function Ro(e,t,r){if(e.tag===3)S$(e,e,r);else for(;t!==null;){if(t.tag===3){S$(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bp===null||!Bp.has(n))){e=P2(r,e),e=EJ(t,e,1),t=Lp(t,e,1),e=Eu(),t!==null&&(F4(t,1,e),ad(t,e));break}}t=t.return}}function hge(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Eu(),e.pingedLanes|=e.suspendedLanes&r,lc===e&&(Oc&r)===r&&(Rl===4||Rl===3&&(Oc&130023424)===Oc&&500>Xo()-TD?Og(e,0):ED|=r),ad(e,t)}function KJ(e,t){t===0&&(e.mode&1?(t=w3,w3<<=1,!(w3&130023424)&&(w3=4194304)):t=1);var r=Eu();e=Nm(e,t),e!==null&&(F4(e,t,r),ad(e,r))}function mge(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KJ(e,r)}function pge(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Br(314))}n!==null&&n.delete(t),KJ(e,r)}var YJ;YJ=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rd.current)Zu=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zu=!1,rge(e,t,r);Zu=!!(e.flags&131072)}else Zu=!1,co&&t.flags&1048576&&QX(t,ES,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zN(e,t),e=t.pendingProps;var i=j2(t,Qc.current);a2(t,r),i=_D(null,t,n,e,i,r);var a=ND();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nd(n)?(a=!0,AS(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xD(t),i.updater=tj,t.stateNode=i,i._reactInternals=t,vP(t,n,e,r),t=wP(null,t,n,!0,a,r)):(t.tag=0,co&&a&&uD(t),yu(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zN(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=xge(n),e=rh(n,e),i){case 0:t=bP(null,t,n,e,r);break e;case 1:t=m$(null,t,n,e,r);break e;case 11:t=f$(null,t,n,e,r);break e;case 14:t=h$(null,t,n,rh(n.type,e),r);break e}throw Error(Br(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rh(n,i),bP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rh(n,i),m$(e,t,n,i,r);case 3:e:{if(OJ(t),e===null)throw Error(Br(387));n=t.pendingProps,a=t.memoizedState,i=a.element,iJ(e,t),PS(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=P2(Error(Br(423)),t),t=p$(e,t,n,r,i);break e}else if(n!==i){i=P2(Error(Br(424)),t),t=p$(e,t,n,r,i);break e}else for(kd=Mp(t.stateNode.containerInfo.firstChild),Id=t,co=!0,lh=null,r=nJ(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(E2(),n===i){t=Sm(e,t,r);break e}yu(e,t,n,r)}t=t.child}return t;case 5:return sJ(t),e===null&&pP(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,uP(n,i)?o=null:a!==null&&uP(n,a)&&(t.flags|=32),PJ(e,t),yu(e,t,o,r),t.child;case 6:return e===null&&pP(t),null;case 13:return IJ(e,t,r);case 4:return vD(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=T2(t,null,n,r):yu(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rh(n,i),f$(e,t,n,i,r);case 7:return yu(e,t,t.pendingProps,r),t.child;case 8:return yu(e,t,t.pendingProps.children,r),t.child;case 12:return yu(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ms(TS,n._currentValue),n._currentValue=o,a!==null)if(bh(a.value,o)){if(a.children===i.children&&!rd.current){t=Sm(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=dm(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),gP(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Br(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),gP(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}yu(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,a2(t,r),i=jf(i),n=n(i),t.flags|=1,yu(e,t,n,r),t.child;case 14:return n=t.type,i=rh(n,t.pendingProps),i=rh(n.type,i),h$(e,t,n,i,r);case 15:return TJ(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rh(n,i),zN(e,t),t.tag=1,nd(n)?(e=!0,AS(t)):e=!1,a2(t,r),AJ(t,n,i),vP(t,n,i,r),wP(null,t,n,!0,e,r);case 19:return FJ(e,t,r);case 22:return kJ(e,t,r)}throw Error(Br(156,t.tag))};function XJ(e,t){return NX(e,t)}function gge(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wf(e,t,r,n){return new gge(e,t,r,n)}function ID(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xge(e){if(typeof e=="function")return ID(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ZF)return 11;if(e===QF)return 14}return 2}function Up(e,t){var r=e.alternate;return r===null?(r=wf(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function HN(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")ID(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jv:return Ig(r.children,i,a,t);case JF:o=8,i|=8;break;case zk:return e=wf(12,r,t,i|2),e.elementType=zk,e.lanes=a,e;case Vk:return e=wf(13,r,t,i),e.elementType=Vk,e.lanes=a,e;case Wk:return e=wf(19,r,t,i),e.elementType=Wk,e.lanes=a,e;case sX:return aj(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aX:o=10;break e;case iX:o=9;break e;case ZF:o=11;break e;case QF:o=14;break e;case gp:o=16,n=null;break e}throw Error(Br(130,e==null?e:typeof e,""))}return t=wf(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ig(e,t,r,n){return e=wf(7,e,n,t),e.lanes=r,e}function aj(e,t,r,n){return e=wf(22,e,n,t),e.elementType=sX,e.lanes=r,e.stateNode={isHidden:!1},e}function VT(e,t,r){return e=wf(6,e,null,t),e.lanes=r,e}function WT(e,t,r){return t=wf(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vge(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ST(0),this.expirationTimes=ST(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ST(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FD(e,t,r,n,i,a,o,l,c){return e=new vge(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wf(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xD(a),e}function yge(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Av,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JJ(e){if(!e)return Xp;e=e._reactInternals;e:{if(mx(e)!==e||e.tag!==1)throw Error(Br(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nd(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Br(171))}if(e.tag===1){var r=e.type;if(nd(r))return JX(e,r,t)}return t}function ZJ(e,t,r,n,i,a,o,l,c){return e=FD(r,n,!0,e,i,a,o,l,c),e.context=JJ(null),r=e.current,n=Eu(),i=$p(r),a=dm(n,i),a.callback=t??null,Lp(r,a,i),e.current.lanes=i,F4(e,i,n),ad(e,n),e}function ij(e,t,r,n){var i=t.current,a=Eu(),o=$p(i);return r=JJ(r),t.context===null?t.context=r:t.pendingContext=r,t=dm(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lp(i,t,o),e!==null&&(xh(e,i,o,a),BN(e,i,o)),o}function BS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C$(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function DD(e,t){C$(e,t),(e=e.alternate)&&C$(e,t)}function bge(){return null}var QJ=typeof reportError=="function"?reportError:function(e){console.error(e)};function RD(e){this._internalRoot=e}sj.prototype.render=RD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Br(409));ij(e,t,null,null)};sj.prototype.unmount=RD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wg(function(){ij(null,e,null,null)}),t[_m]=null}};function sj(e){this._internalRoot=e}sj.prototype.unstable_scheduleHydration=function(e){if(e){var t=kX();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bp.length&&t!==0&&t<bp[r].priority;r++);bp.splice(r,0,e),r===0&&OX(e)}};function MD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function A$(){}function wge(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=BS(o);a.call(u)}}var o=ZJ(t,n,e,0,null,!1,!1,"",A$);return e._reactRootContainer=o,e[_m]=o.current,h_(e.nodeType===8?e.parentNode:e),Wg(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=BS(c);l.call(u)}}var c=FD(e,0,!1,null,null,!1,!1,"",A$);return e._reactRootContainer=c,e[_m]=c.current,h_(e.nodeType===8?e.parentNode:e),Wg(function(){ij(t,c,r,n)}),c}function lj(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=BS(o);l.call(c)}}ij(t,o,e,i)}else o=wge(r,t,e,i,n);return BS(o)}EX=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vw(t.pendingLanes);r!==0&&(rD(t,r|1),ad(t,Xo()),!(Vi&6)&&(O2=Xo()+500,g1()))}break;case 13:Wg(function(){var n=Nm(e,1);if(n!==null){var i=Eu();xh(n,e,1,i)}}),DD(e,1)}};nD=function(e){if(e.tag===13){var t=Nm(e,134217728);if(t!==null){var r=Eu();xh(t,e,134217728,r)}DD(e,134217728)}};TX=function(e){if(e.tag===13){var t=$p(e),r=Nm(e,t);if(r!==null){var n=Eu();xh(r,e,t,n)}DD(e,t)}};kX=function(){return ds};PX=function(e,t){var r=ds;try{return ds=e,t()}finally{ds=r}};eP=function(e,t,r){switch(t){case"input":if(Gk(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ZA(n);if(!i)throw Error(Br(90));lX(n),Gk(n,i)}}}break;case"textarea":uX(e,r);break;case"select":t=r.value,t!=null&&e2(e,!!r.multiple,t,!1)}};xX=kD;vX=Wg;var _ge={usingClientEntryPoint:!1,Events:[R4,Pv,ZA,pX,gX,kD]},Vb={findFiberByHostInstance:_g,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nge={bundleType:Vb.bundleType,version:Vb.version,rendererPackageName:Vb.rendererPackageName,rendererConfig:Vb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Im.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wX(e),e===null?null:e.stateNode},findFiberByHostInstance:Vb.findFiberByHostInstance||bge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O3.isDisabled&&O3.supportsFiber)try{KA=O3.inject(Nge),h0=O3}catch{}}Vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ge;Vd.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MD(t))throw Error(Br(200));return yge(e,t,null,r)};Vd.createRoot=function(e,t){if(!MD(e))throw Error(Br(299));var r=!1,n="",i=QJ;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=FD(e,1,!1,null,null,r,!1,n,i),e[_m]=t.current,h_(e.nodeType===8?e.parentNode:e),new RD(t)};Vd.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Br(188)):(e=Object.keys(e).join(","),Error(Br(268,e)));return e=wX(t),e=e===null?null:e.stateNode,e};Vd.flushSync=function(e){return Wg(e)};Vd.hydrate=function(e,t,r){if(!oj(t))throw Error(Br(200));return lj(null,e,t,!0,r)};Vd.hydrateRoot=function(e,t,r){if(!MD(e))throw Error(Br(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=QJ;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZJ(t,null,e,1,r??null,i,!1,a,o),e[_m]=t.current,h_(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new sj(t)};Vd.render=function(e,t,r){if(!oj(t))throw Error(Br(200));return lj(null,e,t,!1,r)};Vd.unmountComponentAtNode=function(e){if(!oj(e))throw Error(Br(40));return e._reactRootContainer?(Wg(function(){lj(null,null,e,!1,function(){e._reactRootContainer=null,e[_m]=null})}),!0):!1};Vd.unstable_batchedUpdates=kD;Vd.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oj(r))throw Error(Br(200));if(e==null||e._reactInternals===void 0)throw Error(Br(38));return lj(e,t,r,!1,n)};Vd.version="18.3.1-next-f1338f8080-20240426";function eZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eZ)}catch(e){console.error(e)}}eZ(),eX.exports=Vd;var px=eX.exports;const tZ=Si(px);var j$=px;$k.createRoot=j$.createRoot,$k.hydrateRoot=j$.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}var Ap;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ap||(Ap={}));const E$="popstate";function Sge(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return IP("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:$S(i)}return Age(t,r,null,e)}function zo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function LD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cge(){return Math.random().toString(36).substr(2,8)}function T$(e,t){return{usr:e.state,key:e.key,idx:t}}function IP(e,t,r,n){return r===void 0&&(r=null),__({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ey(t):t,{state:r,key:t&&t.key||n||Cge()})}function $S(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ey(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Age(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Ap.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(__({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=Ap.Pop;let N=f(),C=N==null?null:N-u;u=N,c&&c({action:l,location:b.location,delta:C})}function g(N,C){l=Ap.Push;let A=IP(b.location,N,C);r&&r(A,N),u=f()+1;let T=T$(A,u),F=b.createHref(A);try{o.pushState(T,"",F)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(F)}a&&c&&c({action:l,location:b.location,delta:1})}function p(N,C){l=Ap.Replace;let A=IP(b.location,N,C);r&&r(A,N),u=f();let T=T$(A,u),F=b.createHref(A);o.replaceState(T,"",F),a&&c&&c({action:l,location:b.location,delta:0})}function S(N){let C=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof N=="string"?N:$S(N);return A=A.replace(/ $/,"%20"),zo(C,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,C)}let b={get action(){return l},get location(){return e(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(E$,h),c=N,()=>{i.removeEventListener(E$,h),c=null}},createHref(N){return t(i,N)},createURL:S,encodeLocation(N){let C=S(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:p,go(N){return o.go(N)}};return b}var k$;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k$||(k$={}));function jge(e,t,r){return r===void 0&&(r="/"),Ege(e,t,r,!1)}function Ege(e,t,r,n){let i=typeof t=="string"?Ey(t):t,a=I2(i.pathname||"/",r);if(a==null)return null;let o=rZ(e);Tge(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$ge(a);l=Lge(o[c],u,n)}return l}function rZ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(zo(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=zp([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(zo(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rZ(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Rge(u,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of nZ(a.path))i(a,o,c)}),t}function nZ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=nZ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Tge(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Mge(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kge=/^:[\w-]+$/,Pge=3,Oge=2,Ige=1,Fge=10,Dge=-2,P$=e=>e==="*";function Rge(e,t){let r=e.split("/"),n=r.length;return r.some(P$)&&(n+=Dge),t&&(n+=Oge),r.filter(i=>!P$(i)).reduce((i,a)=>i+(kge.test(a)?Pge:a===""?Ige:Fge),n)}function Mge(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Lge(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=US({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=US({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zp([a,h.pathname]),pathnameBase:Hge(zp([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=zp([a,h.pathnameBase]))}return o}function US(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Bge(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:g,isOptional:p}=f;if(g==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const S=l[h];return p&&!S?u[g]=void 0:u[g]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Bge(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),LD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function $ge(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return LD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function I2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Uge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zge=e=>Uge.test(e);function Vge(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ey(e):e,a;if(r)if(zge(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),LD(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=O$(r.substring(1),"/"):a=O$(r,t)}else a=t;return{pathname:a,search:qge(n),hash:Gge(i)}}function O$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function HT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wge(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function aZ(e,t){let r=Wge(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iZ(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ey(e):(i=__({},e),zo(!i.pathname||!i.pathname.includes("?"),HT("?","pathname","search",i)),zo(!i.pathname||!i.pathname.includes("#"),HT("#","pathname","hash",i)),zo(!i.search||!i.search.includes("#"),HT("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}l=h>=0?t[h]:"/"}let c=Vge(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const zp=e=>e.join("/").replace(/\/\/+/g,"/"),Hge=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qge=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gge=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kge(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sZ=["post","put","patch","delete"];new Set(sZ);const Yge=["get",...sZ];new Set(Yge);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}const cj=j.createContext(null),oZ=j.createContext(null),x1=j.createContext(null),uj=j.createContext(null),v1=j.createContext({outlet:null,matches:[],isDataRoute:!1}),lZ=j.createContext(null);function Xge(e,t){let{relative:r}=t===void 0?{}:t;L4()||zo(!1);let{basename:n,navigator:i}=j.useContext(x1),{hash:a,pathname:o,search:l}=dj(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:zp([n,o])),i.createHref({pathname:c,search:l,hash:a})}function L4(){return j.useContext(uj)!=null}function Lu(){return L4()||zo(!1),j.useContext(uj).location}function cZ(e){j.useContext(x1).static||j.useLayoutEffect(e)}function Sa(){let{isDataRoute:e}=j.useContext(v1);return e?cxe():Jge()}function Jge(){L4()||zo(!1);let e=j.useContext(cj),{basename:t,future:r,navigator:n}=j.useContext(x1),{matches:i}=j.useContext(v1),{pathname:a}=Lu(),o=JSON.stringify(aZ(i,r.v7_relativeSplatPath)),l=j.useRef(!1);return cZ(()=>{l.current=!0}),j.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=iZ(u,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zp([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,o,a,e])}function BD(){let{matches:e}=j.useContext(v1),t=e[e.length-1];return t?t.params:{}}function dj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(x1),{matches:i}=j.useContext(v1),{pathname:a}=Lu(),o=JSON.stringify(aZ(i,n.v7_relativeSplatPath));return j.useMemo(()=>iZ(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Zge(e,t){return Qge(e,t)}function Qge(e,t,r,n){L4()||zo(!1);let{navigator:i}=j.useContext(x1),{matches:a}=j.useContext(v1),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lu(),f;if(t){var h;let N=typeof t=="string"?Ey(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||zo(!1),f=N}else f=u;let g=f.pathname||"/",p=g;if(c!=="/"){let N=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=jge(e,{pathname:p}),b=axe(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:zp([c,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:zp([c,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,r,n);return t&&b?j.createElement(uj.Provider,{value:{location:N_({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ap.Pop}},b):b}function exe(){let e=lxe(),t=Kge(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,a)}const txe=j.createElement(exe,null);class rxe extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(v1.Provider,{value:this.props.routeContext},j.createElement(lZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nxe(e){let{routeContext:t,match:r,children:n}=e,i=j.useContext(cj);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(v1.Provider,{value:t},n)}function axe(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||zo(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:p}=r,S=h.route.loader&&g[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let p,S=!1,b=null,N=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||txe,c&&(u<0&&g===0?(uxe("route-fallback",!1),S=!0,N=null):u===g&&(S=!0,N=h.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,g+1)),A=()=>{let T;return p?T=b:S?T=N:h.route.Component?T=j.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,j.createElement(nxe,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?j.createElement(rxe,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}var uZ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uZ||{}),zS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zS||{});function ixe(e){let t=j.useContext(cj);return t||zo(!1),t}function sxe(e){let t=j.useContext(oZ);return t||zo(!1),t}function oxe(e){let t=j.useContext(v1);return t||zo(!1),t}function dZ(e){let t=oxe(),r=t.matches[t.matches.length-1];return r.route.id||zo(!1),r.route.id}function lxe(){var e;let t=j.useContext(lZ),r=sxe(zS.UseRouteError),n=dZ(zS.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cxe(){let{router:e}=ixe(uZ.UseNavigateStable),t=dZ(zS.UseNavigateStable),r=j.useRef(!1);return cZ(()=>{r.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,N_({fromRouteId:t},a)))},[e,t])}const I$={};function uxe(e,t,r){!t&&!I$[e]&&(I$[e]=!0)}function dxe(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ta(e){zo(!1)}function fxe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ap.Pop,navigator:a,static:o=!1,future:l}=e;L4()&&zo(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:o,future:N_({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ey(n));let{pathname:f="/",search:h="",hash:g="",state:p=null,key:S="default"}=n,b=j.useMemo(()=>{let N=I2(f,c);return N==null?null:{location:{pathname:N,search:h,hash:g,state:p,key:S},navigationType:i}},[c,f,h,g,p,S,i]);return b==null?null:j.createElement(x1.Provider,{value:u},j.createElement(uj.Provider,{children:r,value:b}))}function hxe(e){let{children:t,location:r}=e;return Zge(FP(t),r)}new Promise(()=>{});function FP(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let a=[...t,i];if(n.type===j.Fragment){r.push.apply(r,FP(n.props.children,a));return}n.type!==Ta&&zo(!1),!n.props.index||!n.props.children||zo(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=FP(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(this,arguments)}function fZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mxe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pxe(e,t){return e.button===0&&(!t||t==="_self")&&!mxe(e)}function DP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function gxe(e,t){let r=DP(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const xxe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vxe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yxe="6";try{window.__reactRouterVersion=yxe}catch{}const bxe=j.createContext({isTransitioning:!1}),wxe="startTransition",F$=GA[wxe];function _xe(e){let{basename:t,children:r,future:n,window:i}=e,a=j.useRef();a.current==null&&(a.current=Sge({window:i,v5Compat:!0}));let o=a.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=j.useCallback(h=>{u&&F$?F$(()=>c(h)):c(h)},[c,u]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.useEffect(()=>dxe(n),[n]),j.createElement(fxe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Nxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sxe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=j.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,g=fZ(t,xxe),{basename:p}=j.useContext(x1),S,b=!1;if(typeof u=="string"&&Sxe.test(u)&&(S=u,Nxe))try{let T=new URL(window.location.href),F=u.startsWith("//")?new URL(T.protocol+u):new URL(u),L=I2(F.pathname,p);F.origin===T.origin&&L!=null?u=L+F.search+F.hash:b=!0}catch{}let N=Xge(u,{relative:i}),C=Axe(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:h});function A(T){n&&n(T),T.defaultPrevented||C(T)}return j.createElement("a",VS({},g,{href:S||N,onClick:b||a?n:A,ref:r,target:c}))}),$D=j.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,h=fZ(t,vxe),g=dj(c,{relative:h.relative}),p=Lu(),S=j.useContext(oZ),{navigator:b,basename:N}=j.useContext(x1),C=S!=null&&jxe(g)&&u===!0,A=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,T=p.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(T=T.toLowerCase(),F=F?F.toLowerCase():null,A=A.toLowerCase()),F&&N&&(F=I2(F,N)||F);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let B=T===A||!o&&T.startsWith(A)&&T.charAt(L)==="/",M=F!=null&&(F===A||!o&&F.startsWith(A)&&F.charAt(A.length)==="/"),W={isActive:B,isPending:M,isTransitioning:C},z=B?n:void 0,Z;typeof a=="function"?Z=a(W):Z=[a,B?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(W):l;return j.createElement(Bo,VS({},h,{"aria-current":z,className:Z,ref:r,style:K,to:c,viewTransition:u}),typeof f=="function"?f(W):f)});var RP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(RP||(RP={}));var D$;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D$||(D$={}));function Cxe(e){let t=j.useContext(cj);return t||zo(!1),t}function Axe(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Sa(),u=Lu(),f=dj(e,{relative:o});return j.useCallback(h=>{if(pxe(h,r)){h.preventDefault();let g=n!==void 0?n:$S(u)===$S(f);c(e,{replace:g,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,f,n,i,r,e,a,o,l])}function B4(e){let t=j.useRef(DP(e)),r=j.useRef(!1),n=Lu(),i=j.useMemo(()=>gxe(n.search,r.current?null:t.current),[n.search]),a=Sa(),o=j.useCallback((l,c)=>{const u=DP(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}function jxe(e,t){t===void 0&&(t={});let r=j.useContext(bxe);r==null&&zo(!1);let{basename:n}=Cxe(RP.useViewTransitionState),i=dj(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=I2(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=I2(r.nextLocation.pathname,n)||r.nextLocation.pathname;return US(i.pathname,o)!=null||US(i.pathname,a)!=null}function hZ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=hZ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ga(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=hZ(e))&&(n&&(n+=" "),n+=t);return n}function Exe(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=mZ(t))&&(n&&(n+=" "),n+=r);return n}function mZ(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=mZ(e[n]))&&(r&&(r+=" "),r+=t);return r}var UD="-";function Txe(e){var t=Pxe(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(l){var c=l.split(UD);return c[0]===""&&c.length!==1&&c.shift(),pZ(c,t)||kxe(l)}function o(l,c){var u=r[l]||[];return c&&i[l]?[].concat(u,i[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function pZ(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),i=n?pZ(e.slice(1),n):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(UD);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var R$=/^\[(.+)\]$/;function kxe(e){if(R$.test(e)){var t=R$.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function Pxe(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},i=Ixe(Object.entries(e.classGroups),r);return i.forEach(function(a){var o=a[0],l=a[1];MP(l,n,o,t)}),n}function MP(e,t,r,n){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:M$(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Oxe(i)){MP(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];MP(c,M$(t,l),r,n)})})}function M$(e,t){var r=e;return t.split(UD).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function Oxe(e){return e.isThemeGetter}function Ixe(e,t){return t?e.map(function(r){var n=r[0],i=r[1],a=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[n,a]}):e}function Fxe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function i(a,o){r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(o){var l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return i(o,l),l},set:function(o,l){r.has(o)?r.set(o,l):i(o,l)}}}var gZ="!";function Dxe(e){var t=e.separator||":",r=t.length===1,n=t[0],i=t.length;return function(o){for(var l=[],c=0,u=0,f,h=0;h<o.length;h++){var g=o[h];if(c===0){if(g===n&&(r||o.slice(h,h+i)===t)){l.push(o.slice(u,h)),u=h+i;continue}if(g==="/"){f=h;continue}}g==="["?c++:g==="]"&&c--}var p=l.length===0?o:o.substring(u),S=p.startsWith(gZ),b=S?p.substring(1):p,N=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:b,maybePostfixModifierPosition:N}}}function Rxe(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var i=n[0]==="[";i?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function Mxe(e){return{cache:Fxe(e.cacheSize),splitModifiers:Dxe(e),...Txe(e)}}var Lxe=/\s+/;function Bxe(e,t){var r=t.splitModifiers,n=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Lxe).map(function(o){var l=r(o),c=l.modifiers,u=l.hasImportantModifier,f=l.baseClassName,h=l.maybePostfixModifierPosition,g=n(h?f.substring(0,h):f),p=!!h;if(!g){if(!h)return{isTailwindClass:!1,originalClassName:o};if(g=n(f),!g)return{isTailwindClass:!1,originalClassName:o};p=!1}var S=Rxe(c).join(":"),b=u?S+gZ:S;return{isTailwindClass:!0,modifierId:b,classGroupId:g,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,f=l+c;return a.has(f)?!1:(a.add(f),i(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function $xe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,a,o=l;function l(u){var f=t[0],h=t.slice(1),g=h.reduce(function(p,S){return S(p)},f());return n=Mxe(g),i=n.cache.get,a=n.cache.set,o=c,c(u)}function c(u){var f=i(u);if(f)return f;var h=Bxe(u,n);return a(u,h),h}return function(){return o(Exe.apply(null,arguments))}}function Gs(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var xZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,Uxe=/^\d+\/\d+$/,zxe=new Set(["px","full","screen"]),Vxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hxe=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Kf(e){return Cg(e)||zxe.has(e)||Uxe.test(e)||LP(e)}function LP(e){return gx(e,"length",Jxe)}function qxe(e){return gx(e,"size",vZ)}function Gxe(e){return gx(e,"position",vZ)}function Kxe(e){return gx(e,"url",Zxe)}function I3(e){return gx(e,"number",Cg)}function Cg(e){return!Number.isNaN(Number(e))}function Yxe(e){return e.endsWith("%")&&Cg(e.slice(0,-1))}function Wb(e){return L$(e)||gx(e,"number",L$)}function wi(e){return xZ.test(e)}function Hb(){return!0}function sp(e){return Vxe.test(e)}function Xxe(e){return gx(e,"",Qxe)}function gx(e,t,r){var n=xZ.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function Jxe(e){return Wxe.test(e)}function vZ(){return!1}function Zxe(e){return e.startsWith("url(")}function L$(e){return Number.isInteger(Number(e))}function Qxe(e){return Hxe.test(e)}function eve(){var e=Gs("colors"),t=Gs("spacing"),r=Gs("blur"),n=Gs("brightness"),i=Gs("borderColor"),a=Gs("borderRadius"),o=Gs("borderSpacing"),l=Gs("borderWidth"),c=Gs("contrast"),u=Gs("grayscale"),f=Gs("hueRotate"),h=Gs("invert"),g=Gs("gap"),p=Gs("gradientColorStops"),S=Gs("gradientColorStopPositions"),b=Gs("inset"),N=Gs("margin"),C=Gs("opacity"),A=Gs("padding"),T=Gs("saturate"),F=Gs("scale"),L=Gs("sepia"),B=Gs("skew"),M=Gs("space"),W=Gs("translate"),z=function(){return["auto","contain","none"]},Z=function(){return["auto","hidden","clip","visible","scroll"]},K=function(){return["auto",wi,t]},q=function(){return[wi,t]},ie=function(){return["",Kf]},ae=function(){return["auto",Cg,wi]},X=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},se=function(){return["solid","dashed","dotted","double","none"]},he=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ce=function(){return["start","end","center","between","around","evenly","stretch"]},ge=function(){return["","0",wi]},we=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Ce=function(){return[Cg,I3]},Q=function(){return[Cg,wi]};return{cacheSize:500,theme:{colors:[Hb],spacing:[Kf],blur:["none","",sp,wi],brightness:Ce(),borderColor:[e],borderRadius:["none","","full",sp,wi],borderSpacing:q(),borderWidth:ie(),contrast:Ce(),grayscale:ge(),hueRotate:Q(),invert:ge(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[Yxe,LP],inset:K(),margin:K(),opacity:Ce(),padding:q(),saturate:Ce(),scale:Ce(),sepia:ge(),skew:Q(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",wi]}],container:["container"],columns:[{columns:[sp]}],"break-after":[{"break-after":we()}],"break-before":[{"break-before":we()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(X(),[wi])}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wb]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wi]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",Wb]}],"grid-cols":[{"grid-cols":[Hb]}],"col-start-end":[{col:["auto",{span:["full",Wb]},wi]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[Hb]}],"row-start-end":[{row:["auto",{span:[Wb]},wi]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wi]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wi]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(ce())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ce(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ce(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",wi,t]}],"min-w":[{"min-w":["min","max","fit",wi,Kf]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[sp]},sp,wi]}],h:[{h:[wi,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",wi,Kf]}],"max-h":[{"max-h":[wi,t,"min","max","fit"]}],"font-size":[{text:["base",sp,LP]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",I3]}],"font-family":[{font:[Hb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wi]}],"line-clamp":[{"line-clamp":["none",Cg,I3]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,Kf]}],"list-image":[{"list-image":["none",wi]}],"list-style-type":[{list:["none","disc","decimal",wi]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(se(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Kf]}],"underline-offset":[{"underline-offset":["auto",wi,Kf]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wi]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wi]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(X(),[Gxe])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qxe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kxe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[].concat(se(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(se())}],"outline-offset":[{"outline-offset":[wi,Kf]}],"outline-w":[{outline:[Kf]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Kf]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sp,Xxe]}],"shadow-color":[{shadow:[Hb]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":he()}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sp,wi]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wi]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",wi]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",wi]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[Wb,wi]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wi]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wi]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wi]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kf,I3]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var tve=$xe(eve);function Ir(...e){return tve(Ga(e))}const Pd=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t<=0)throw n;return await new Promise(i=>setTimeout(i,r)),Pd(e,t-1,r*1.5)}};function zD(e){if(!e)return null;try{const r=new URL(e).pathname.split("/public/");if(r.length<2)return null;const n=r[1],i=n.indexOf("/");if(i===-1)return null;const a=n.substring(0,i),o=n.substring(i+1);return{bucket:a,path:decodeURIComponent(o)}}catch(t){return console.error("Error parsing storage URL",t),null}}function rve(e,t="FCFA",r="fr-FR"){try{if(e==null)return"0 "+t;const n=typeof e=="string"?parseFloat(e.replace(/\s/g,"").replace(",",".")):e;return isNaN(n)?"0 "+t:t==="FCFA"||t==="XOF"?new Intl.NumberFormat(r,{minimumFractionDigits:0,maximumFractionDigits:0}).format(n)+" "+t:new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(n)}catch(n){return console.error("Error formatting currency:",n),String(e)+" "+t}}function Lr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function B$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function T0(...e){return t=>{let r=!1;const n=e.map(i=>{const a=B$(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():B$(e[i],null)}}}}function ka(...e){return j.useCallback(T0(...e),e)}function nve(e,t){const r=j.createContext(t),n=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function dc(e,t=[]){let r=[];function n(a,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...S}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,N=j.useMemo(()=>S,Object.values(S));return s.jsx(b.Provider,{value:N,children:p})};u.displayName=a+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,S=j.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,ave(i,...t)]}function ave(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function $$(e){const t=ive(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(ove);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function ive(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=cve(i),l=lve(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sve=Symbol("radix.slottable");function ove(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sve}function lve(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function cve(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ty(e){const t=e+"CollectionProvider",[r,n]=dc(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:N,children:C}=b,A=Ie.useRef(null),T=Ie.useRef(new Map).current;return s.jsx(i,{scope:N,itemMap:T,collectionRef:A,children:C})};o.displayName=t;const l=e+"CollectionSlot",c=$$(l),u=Ie.forwardRef((b,N)=>{const{scope:C,children:A}=b,T=a(l,C),F=ka(N,T.collectionRef);return s.jsx(c,{ref:F,children:A})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=$$(f),p=Ie.forwardRef((b,N)=>{const{scope:C,children:A,...T}=b,F=Ie.useRef(null),L=ka(N,F),B=a(f,C);return Ie.useEffect(()=>(B.itemMap.set(F,{ref:F,...T}),()=>void B.itemMap.delete(F))),s.jsx(g,{[h]:"",ref:L,children:A})});p.displayName=f;function S(b){const N=a(e+"CollectionConsumer",b);return Ie.useCallback(()=>{const A=N.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((B,M)=>T.indexOf(B.ref.current)-T.indexOf(M.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},S,n]}function uve(e){const t=dve(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(hve);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function dve(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=pve(i),l=mve(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fve=Symbol("radix.slottable");function hve(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fve}function mve(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function pve(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],In=gve.reduce((e,t)=>{const r=uve(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function VD(e,t){e&&px.flushSync(()=>e.dispatchEvent(t))}function Ou(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xve(e,t=globalThis==null?void 0:globalThis.document){const r=Ou(e);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vve="DismissableLayer",BP="dismissableLayer.update",yve="dismissableLayer.pointerDownOutside",bve="dismissableLayer.focusOutside",U$,yZ=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xx=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(yZ),[f,h]=j.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),S=ka(t,M=>h(M)),b=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(N),A=f?b.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,F=A>=C,L=_ve(M=>{const W=M.target,z=[...u.branches].some(Z=>Z.contains(W));!F||z||(i==null||i(M),o==null||o(M),M.defaultPrevented||l==null||l())},g),B=Nve(M=>{const W=M.target;[...u.branches].some(Z=>Z.contains(W))||(a==null||a(M),o==null||o(M),M.defaultPrevented||l==null||l())},g);return xve(M=>{A===u.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},g),j.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(U$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),z$(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=U$)}},[f,g,r,u]),j.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),z$())},[f,u]),j.useEffect(()=>{const M=()=>p({});return document.addEventListener(BP,M),()=>document.removeEventListener(BP,M)},[]),s.jsx(In.div,{...c,ref:S,style:{pointerEvents:T?F?"auto":"none":void 0,...e.style},onFocusCapture:Lr(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Lr(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Lr(e.onPointerDownCapture,L.onPointerDownCapture)})});xx.displayName=vve;var wve="DismissableLayerBranch",bZ=j.forwardRef((e,t)=>{const r=j.useContext(yZ),n=j.useRef(null),i=ka(t,n);return j.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(In.div,{...e,ref:i})});bZ.displayName=wve;function _ve(e,t=globalThis==null?void 0:globalThis.document){const r=Ou(e),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){wZ(yve,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Nve(e,t=globalThis==null?void 0:globalThis.document){const r=Ou(e),n=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!n.current&&wZ(bve,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function z$(){const e=new CustomEvent(BP);document.dispatchEvent(e)}function wZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?VD(i,a):i.dispatchEvent(a)}var Sve=xx,Cve=bZ,rl=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},Ave="Portal",ky=j.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=j.useState(!1);rl(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tZ.createPortal(s.jsx(In.div,{...n,ref:t}),o):null});ky.displayName=Ave;function jve(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var Bu=e=>{const{present:t,children:r}=e,n=Eve(t),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=ka(n.ref,Tve(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};Bu.displayName="Presence";function Eve(e){const[t,r]=j.useState(),n=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=jve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=F3(n.current);a.current=l==="mounted"?u:"none"},[l]),rl(()=>{const u=n.current,f=i.current;if(f!==e){const g=a.current,p=F3(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),rl(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const b=F3(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(c("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=p=>{p.target===t&&(a.current=F3(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function F3(e){return(e==null?void 0:e.animationName)||"none"}function Tve(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kve=GA[" useInsertionEffect ".trim().toString()]||rl;function cc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=Pve({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=j.useCallback(f=>{var h;if(l){const g=Ove(f)?f(e):f;g!==e&&((h=o.current)==null||h.call(o,g))}else a(f)},[l,e,a,o]);return[c,u]}function Pve({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),i=j.useRef(r),a=j.useRef(t);return kve(()=>{a.current=t},[t]),j.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function Ove(e){return typeof e=="function"}var _Z=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ive="VisuallyHidden",fj=j.forwardRef((e,t)=>s.jsx(In.span,{...e,ref:t,style:{..._Z,...e.style}}));fj.displayName=Ive;var Fve=fj,WD="ToastProvider",[HD,Dve,Rve]=Ty("Toast"),[NZ,Ivt]=dc("Toast",[Rve]),[Mve,hj]=NZ(WD),SZ=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[u,f]=j.useState(0),h=j.useRef(!1),g=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${WD}\`. Expected non-empty \`string\`.`),s.jsx(HD.Provider,{scope:t,children:s.jsx(Mve,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>f(p=>p+1),[]),onToastRemove:j.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:o})})};SZ.displayName=WD;var CZ="ToastViewport",Lve=["F8"],$P="toast.viewportPause",UP="toast.viewportResume",AZ=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Lve,label:i="Notifications ({hotkey})",...a}=e,o=hj(CZ,r),l=Dve(r),c=j.useRef(null),u=j.useRef(null),f=j.useRef(null),h=j.useRef(null),g=ka(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;j.useEffect(()=>{const N=C=>{var T;n.length!==0&&n.every(F=>C[F]||C.code===F)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),j.useEffect(()=>{const N=c.current,C=h.current;if(S&&N&&C){const A=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent($P);C.dispatchEvent(B),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(UP);C.dispatchEvent(B),o.isClosePausedRef.current=!1}},F=B=>{!N.contains(B.relatedTarget)&&T()},L=()=>{N.contains(document.activeElement)||T()};return N.addEventListener("focusin",A),N.addEventListener("focusout",F),N.addEventListener("pointermove",A),N.addEventListener("pointerleave",L),window.addEventListener("blur",A),window.addEventListener("focus",T),()=>{N.removeEventListener("focusin",A),N.removeEventListener("focusout",F),N.removeEventListener("pointermove",A),N.removeEventListener("pointerleave",L),window.removeEventListener("blur",A),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const b=j.useCallback(({tabbingDirection:N})=>{const A=l().map(T=>{const F=T.ref.current,L=[F,...Jve(F)];return N==="forwards"?L:L.reverse()});return(N==="forwards"?A.reverse():A).flat()},[l]);return j.useEffect(()=>{const N=h.current;if(N){const C=A=>{var L,B,M;const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const W=document.activeElement,z=A.shiftKey;if(A.target===N&&z){(L=u.current)==null||L.focus();return}const q=b({tabbingDirection:z?"backwards":"forwards"}),ie=q.findIndex(ae=>ae===W);qT(q.slice(ie+1))?A.preventDefault():z?(B=u.current)==null||B.focus():(M=f.current)==null||M.focus()}};return N.addEventListener("keydown",C),()=>N.removeEventListener("keydown",C)}},[l,b]),s.jsxs(Cve,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&s.jsx(zP,{ref:u,onFocusFromOutsideViewport:()=>{const N=b({tabbingDirection:"forwards"});qT(N)}}),s.jsx(HD.Slot,{scope:r,children:s.jsx(In.ol,{tabIndex:-1,...a,ref:g})}),S&&s.jsx(zP,{ref:f,onFocusFromOutsideViewport:()=>{const N=b({tabbingDirection:"backwards"});qT(N)}})]})});AZ.displayName=CZ;var jZ="ToastFocusProxy",zP=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=hj(jZ,r);return s.jsx(fj,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});zP.displayName=jZ;var $4="Toast",Bve="toast.swipeStart",$ve="toast.swipeMove",Uve="toast.swipeCancel",zve="toast.swipeEnd",EZ=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=cc({prop:n,defaultProp:i??!0,onChange:a,caller:$4});return s.jsx(Bu,{present:r||l,children:s.jsx(Hve,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ou(e.onPause),onResume:Ou(e.onResume),onSwipeStart:Lr(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Lr(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Lr(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Lr(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});EZ.displayName=$4;var[Vve,Wve]=NZ($4,{onClose(){}}),Hve=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:p,...S}=e,b=hj($4,r),[N,C]=j.useState(null),A=ka(t,ae=>C(ae)),T=j.useRef(null),F=j.useRef(null),L=i||b.duration,B=j.useRef(0),M=j.useRef(L),W=j.useRef(0),{onToastAdd:z,onToastRemove:Z}=b,K=Ou(()=>{var X;(N==null?void 0:N.contains(document.activeElement))&&((X=b.viewport)==null||X.focus()),o()}),q=j.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(W.current),B.current=new Date().getTime(),W.current=window.setTimeout(K,ae))},[K]);j.useEffect(()=>{const ae=b.viewport;if(ae){const X=()=>{q(M.current),u==null||u()},se=()=>{const he=new Date().getTime()-B.current;M.current=M.current-he,window.clearTimeout(W.current),c==null||c()};return ae.addEventListener($P,se),ae.addEventListener(UP,X),()=>{ae.removeEventListener($P,se),ae.removeEventListener(UP,X)}}},[b.viewport,L,c,u,q]),j.useEffect(()=>{a&&!b.isClosePausedRef.current&&q(L)},[a,L,b.isClosePausedRef,q]),j.useEffect(()=>(z(),()=>Z()),[z,Z]);const ie=j.useMemo(()=>N?DZ(N):null,[N]);return b.viewport?s.jsxs(s.Fragment,{children:[ie&&s.jsx(qve,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:ie}),s.jsx(Vve,{scope:r,onClose:K,children:px.createPortal(s.jsx(HD.ItemSlot,{scope:r,children:s.jsx(Sve,{asChild:!0,onEscapeKeyDown:Lr(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||K(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(In.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...S,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Lr(e.onKeyDown,ae=>{ae.key==="Escape"&&(l==null||l(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:Lr(e.onPointerDown,ae=>{ae.button===0&&(T.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:Lr(e.onPointerMove,ae=>{if(!T.current)return;const X=ae.clientX-T.current.x,se=ae.clientY-T.current.y,he=!!F.current,ce=["left","right"].includes(b.swipeDirection),ge=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,we=ce?ge(0,X):0,Ce=ce?0:ge(0,se),Q=ae.pointerType==="touch"?10:2,le={x:we,y:Ce},ne={originalEvent:ae,delta:le};he?(F.current=le,D3($ve,h,ne,{discrete:!1})):V$(le,b.swipeDirection,Q)?(F.current=le,D3(Bve,f,ne,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(X)>Q||Math.abs(se)>Q)&&(T.current=null)}),onPointerUp:Lr(e.onPointerUp,ae=>{const X=F.current,se=ae.target;if(se.hasPointerCapture(ae.pointerId)&&se.releasePointerCapture(ae.pointerId),F.current=null,T.current=null,X){const he=ae.currentTarget,ce={originalEvent:ae,delta:X};V$(X,b.swipeDirection,b.swipeThreshold)?D3(zve,p,ce,{discrete:!0}):D3(Uve,g,ce,{discrete:!0}),he.addEventListener("click",ge=>ge.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),qve=e=>{const{__scopeToast:t,children:r,...n}=e,i=hj($4,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return Yve(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ky,{asChild:!0,children:s.jsx(fj,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},Gve="ToastTitle",TZ=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(In.div,{...n,ref:t})});TZ.displayName=Gve;var Kve="ToastDescription",kZ=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(In.div,{...n,ref:t})});kZ.displayName=Kve;var PZ="ToastAction",OZ=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(FZ,{altText:r,asChild:!0,children:s.jsx(qD,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${PZ}\`. Expected non-empty \`string\`.`),null)});OZ.displayName=PZ;var IZ="ToastClose",qD=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Wve(IZ,r);return s.jsx(FZ,{asChild:!0,children:s.jsx(In.button,{type:"button",...n,ref:t,onClick:Lr(e.onClick,i.onClose)})})});qD.displayName=IZ;var FZ=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(In.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function DZ(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Xve(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...DZ(n))}}),t}function D3(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?VD(i,a):i.dispatchEvent(a)}var V$=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function Yve(e=()=>{}){const t=Ou(e);rl(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Xve(e){return e.nodeType===e.ELEMENT_NODE}function Jve(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qT(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Zve=SZ,RZ=AZ,MZ=EZ,LZ=TZ,BZ=kZ,$Z=OZ,UZ=qD;const W$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,H$=Ga,vx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return H$(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const f=r==null?void 0:r[u],h=a==null?void 0:a[u];if(f===null)return null;const g=W$(f)||W$(h);return i[u][g]}),l=r&&Object.entries(r).reduce((u,f)=>{let[h,g]=f;return g===void 0||(u[h]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:g,...p}=f;return Object.entries(p).every(S=>{let[b,N]=S;return Array.isArray(N)?N.includes({...a,...l}[b]):{...a,...l}[b]===N})?[...u,h,g]:u},[]);return H$(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};var Qve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const e2e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dt=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},u)=>j.createElement("svg",{ref:u,...Qve,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${e2e(e)}`,...c},[...t.map(([f,h])=>j.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},zZ=Dt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Iu=Dt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ll=Dt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),t2e=Dt("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),r2e=Dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),eu=Dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),VZ=Dt("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),Cm=Dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),n2e=Dt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),a2e=Dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),VP=Dt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),WZ=Dt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),HZ=Dt("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]),qZ=Dt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),GT=Dt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),i2e=Dt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),mj=Dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),GD=Dt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),s2e=Dt("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]),p0=Dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_p=Dt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),o2e=Dt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Jp=Dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),l2e=Dt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),c2e=Dt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),jo=Dt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),KD=Dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),jp=Dt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),vl=Dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yx=Dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),pj=Dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gj=Dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Hg=Dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),GZ=Dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),WP=Dt("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),u2e=Dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jh=Dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),d2e=Dt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Ua=Dt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),KZ=Dt("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),YD=Dt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),F2=Dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),f2e=Dt("Copyright",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M14.83 14.83a4 4 0 1 1 0-5.66",key:"1i56pz"}]]),fm=Dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Zp=Dt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),xj=Dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),dh=Dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),q$=Dt("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]),h2e=Dt("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]),Fm=Dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m2e=Dt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),p2e=Dt("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),XD=Dt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),YZ=Dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Dm=Dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g2e=Dt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Nu=Dt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),x2e=Dt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),JD=Dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),v2e=Dt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),G$=Dt("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),ZD=Dt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),qg=Dt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),a0=Dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),y2e=Dt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),b2e=Dt("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),vj=Dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),w2e=Dt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),s2=Dt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),QD=Dt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),K$=Dt("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]),_2e=Dt("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),yj=Dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Md=Dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),N2e=Dt("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),S2e=Dt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),XZ=Dt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Y$=Dt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),X$=Dt("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),C2e=Dt("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),A2e=Dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),j2e=Dt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),R3=Dt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Zt=Dt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),N0=Dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),E2e=Dt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Gg=Dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),JZ=Dt("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),hm=Dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),to=Dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ZZ=Dt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),QZ=Dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),WS=Dt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),S_=Dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),HS=Dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),T2e=Dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),eQ=Dt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),k2e=Dt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),P2e=Dt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),Lv=Dt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),O2e=Dt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),e7=Dt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),C_=Dt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),qS=Dt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Py=Dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),I2e=Dt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),t7=Dt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),A_=Dt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Bl=Dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),r7=Dt("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),n7=Dt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),a7=Dt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),j_=Dt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),Fu=Dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),GS=Dt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Vp=Dt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),bj=Dt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),$l=Dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),tQ=Dt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),F2e=Dt("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]),rQ=Dt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Oy=Dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qp=Dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),nQ=Dt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),D2=Dt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),D2e=Dt("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]),nc=Dt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),aQ=Dt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),im=Dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),R2e=Dt("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),M2e=Dt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),L2e=Dt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),id=Dt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Tu=Dt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),S0=Dt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),i7=Dt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Kg=Dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),B2e=Dt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),el=Dt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),iQ=Dt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),sQ=Dt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Vo=Dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),wj=Dt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),cd=Dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),wh=Dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),oQ=Dt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Yg=Dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),$2e=Dt("User2",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 1 0-16 0",key:"199sx2"}]]),R2=Dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),U2e=Dt("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),lQ=Dt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),s7=Dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Iy=Dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zs=Dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),z2e=Dt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),cQ=Dt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),e1=Dt("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]),$o=Dt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),_j=Dt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),wl=Dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V2e=Dt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Xc=Dt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),W2e=Zve,uQ=Ie.forwardRef(({className:e,...t},r)=>s.jsx(RZ,{ref:r,className:Ir("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uQ.displayName=RZ.displayName;const H2e=vx("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background text-foreground",destructive:"group destructive border-transparent bg-black text-white",success:"group success border-green-500 bg-green-500/10 text-foreground",info:"group info border-blue-500 bg-blue-500/10 text-foreground"}},defaultVariants:{variant:"default"}}),dQ=Ie.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(MZ,{ref:n,className:Ir(H2e({variant:t}),e),...r}));dQ.displayName=MZ.displayName;const q2e=Ie.forwardRef(({className:e,...t},r)=>s.jsx($Z,{ref:r,className:Ir("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));q2e.displayName=$Z.displayName;const fQ=Ie.forwardRef(({className:e,...t},r)=>s.jsx(UZ,{ref:r,className:Ir("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-white/80 group-[.destructive]:hover:text-white group-[.destructive]:focus:ring-white group-[.destructive]:focus:ring-offset-background",e),"toast-close":"",...t,children:s.jsx(wl,{className:"h-4 w-4"})}));fQ.displayName=UZ.displayName;const hQ=Ie.forwardRef(({className:e,...t},r)=>s.jsx(LZ,{ref:r,className:Ir("text-sm font-semibold",e),...t}));hQ.displayName=LZ.displayName;const mQ=Ie.forwardRef(({className:e,...t},r)=>s.jsx(BZ,{ref:r,className:Ir("text-sm opacity-90",e),...t}));mQ.displayName=BZ.displayName;const G2e=10,K2e=1e6,Y2e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,G2e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?J$(r):e.toasts.forEach(n=>{J$(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};default:return e}},qN=[];let GN={toasts:[]};function Dw(e){GN=Y2e(GN,e),qN.forEach(t=>{t(GN)})}const lt=e=>{const t=Math.random().toString(36).substr(2,9),r=i=>Dw({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Dw({type:"DISMISS_TOAST",toastId:t});return Dw({type:"ADD_TOAST",toast:{...e,id:t,open:!0,duration:e.duration||5e3,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}};function js(){const[e,t]=j.useState(GN);return j.useEffect(()=>(qN.push(t),()=>{const r=qN.indexOf(t);r>-1&&qN.splice(r,1)}),[e]),{...e,toast:lt,dismiss:r=>Dw({type:"DISMISS_TOAST",toastId:r})}}let M3=[];const J$=e=>{M3.includes(e)||(M3.push(e),setTimeout(()=>{const t=M3.indexOf(e);t>-1&&(M3.splice(t,1),Dw({type:"REMOVE_TOAST",toastId:e}))},K2e))},X2e=({variant:e})=>{switch(e){case"success":return s.jsx(vl,{className:"text-green-500"});case"destructive":return s.jsx(Ll,{className:"text-white"});case"info":return s.jsx(Md,{className:"text-blue-500"});default:return s.jsx(Iu,{className:"text-foreground"})}};function J2e(){const{toasts:e}=js();return s.jsxs(W2e,{swipeDirection:"right",children:[e.map(function({id:t,title:r,description:n,action:i,variant:a,...o}){return s.jsxs(dQ,{variant:a,duration:5e3,...o,children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"pt-0.5",children:s.jsx(X2e,{variant:a})}),s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(hQ,{children:r}),n&&s.jsx(mQ,{children:n})]})]}),i,s.jsx(fQ,{})]},t)}),s.jsx(uQ,{})]})}var i0=function(){return i0=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},i0.apply(this,arguments)};function pQ(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Qn(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Z2e(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const Q2e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class o7 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class eye extends o7{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z$ extends o7{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Q$ extends o7{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var HP;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(HP||(HP={}));class tye{constructor(t,{headers:r={},customFetch:n,region:i=HP.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Q2e(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Qn(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:l,method:c,body:u,signal:f,timeout:h}=n;let g={},{region:p}=n;p||(p=this.region);const S=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,S.searchParams.set("forceFunctionRegion",p));let b;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(g["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(g["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let N=f;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),f?(N=o.signal,f.addEventListener("abort",()=>o.abort())):N=o.signal);const C=yield this.fetch(S.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:b,signal:N}).catch(L=>{throw new eye(L)}),A=C.headers.get("x-relay-error");if(A&&A==="true")throw new Z$(C);if(!C.ok)throw new Q$(C);let T=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return T==="application/json"?F=yield C.json():T==="application/octet-stream"||T==="application/pdf"?F=yield C.blob():T==="text/event-stream"?F=C:T==="multipart/form-data"?F=yield C.formData():F=yield C.text(),{data:F,error:null,response:C}}catch(l){return{data:null,error:l,response:l instanceof Q$||l instanceof Z$?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Xu={},l7={},Nj={},U4={},Sj={},Cj={},rye=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},M2=rye();const nye=M2.fetch,aye=M2.fetch.bind(M2),iye=M2.Headers,sye=M2.Request,oye=M2.Response,lye=Object.freeze(Object.defineProperty({__proto__:null,Headers:iye,Request:sye,Response:oye,default:aye,fetch:nye},Symbol.toStringTag,{value:"Module"})),cye=zY(lye);var Aj={};Object.defineProperty(Aj,"__esModule",{value:!0});let uye=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Aj.default=uye;var gQ=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cj,"__esModule",{value:!0});const dye=gQ(cye),fye=gQ(Aj);let hye=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dye.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let f=null,h=null,g=null,p=a.status,S=a.statusText;if(a.ok){if(this.method!=="HEAD"){const A=await a.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=A:h=JSON.parse(A))}const N=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),C=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");N&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,p=406,S="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await a.text();try{f=JSON.parse(N),Array.isArray(f)&&a.status===404&&(h=[],f=null,p=200,S="OK")}catch{a.status===404&&N===""?(p=204,S="No Content"):f={message:N}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,p=200,S="OK"),f&&this.shouldThrowOnError)throw new fye.default(f)}return{error:f,data:h,count:g,status:p,statusText:S}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Cj.default=hye;var mye=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sj,"__esModule",{value:!0});const pye=mye(Cj);let gye=class extends pye.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Sj.default=gye;var xye=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U4,"__esModule",{value:!0});const vye=xye(Sj);let yye=class extends vye.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};U4.default=yye;var bye=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nj,"__esModule",{value:!0});const qb=bye(U4);let wye=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new qb.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qb.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new qb.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qb.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qb.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Nj.default=wye;var xQ=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l7,"__esModule",{value:!0});const _ye=xQ(Nj),Nye=xQ(U4);let Sye=class vQ{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new _ye.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vQ(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{c.searchParams.append(h,g)})):(l="POST",u=r);const f=new Headers(this.headers);return a&&f.set("Prefer",`count=${a}`),new Nye.default({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};l7.default=Sye;var Fy=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.PostgrestError=Xu.PostgrestBuilder=Xu.PostgrestTransformBuilder=Xu.PostgrestFilterBuilder=Xu.PostgrestQueryBuilder=Xu.PostgrestClient=void 0;const yQ=Fy(l7);Xu.PostgrestClient=yQ.default;const bQ=Fy(Nj);Xu.PostgrestQueryBuilder=bQ.default;const wQ=Fy(U4);Xu.PostgrestFilterBuilder=wQ.default;const _Q=Fy(Sj);Xu.PostgrestTransformBuilder=_Q.default;const NQ=Fy(Cj);Xu.PostgrestBuilder=NQ.default;const SQ=Fy(Aj);Xu.PostgrestError=SQ.default;var Cye=Xu.default={PostgrestClient:yQ.default,PostgrestQueryBuilder:bQ.default,PostgrestFilterBuilder:wQ.default,PostgrestTransformBuilder:_Q.default,PostgrestBuilder:NQ.default,PostgrestError:SQ.default};const{PostgrestClient:Aye,PostgrestQueryBuilder:Bvt,PostgrestFilterBuilder:$vt,PostgrestTransformBuilder:Uvt,PostgrestBuilder:zvt,PostgrestError:Vvt}=Cye;class jye{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Eye="2.81.1",Tye=`realtime-js/${Eye}`,CQ="1.0.0",kye="2.0.0",eU=CQ,qP=1e4,Pye=1e3,Oye=100;var mg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mg||(mg={}));var kl;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kl||(kl={}));var xf;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xf||(xf={}));var GP;(function(e){e.websocket="websocket"})(GP||(GP={}));var pg;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pg||(pg={}));class Iye{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:i,topic:a,payload:o}=t,l=this.META_LENGTH+r.length+n.length+a.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),f=0;u.setUint8(f++,this.KINDS.push),u.setUint8(f++,r.length),u.setUint8(f++,n.length),u.setUint8(f++,a.length),u.setUint8(f++,i.length),Array.from(r,g=>u.setUint8(f++,g.charCodeAt(0))),Array.from(n,g=>u.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>u.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>u.setUint8(f++,g.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(f),g=0;h.setUint8(g++,this.KINDS.userBroadcastPush),h.setUint8(g++,i.length),h.setUint8(g++,a.length),h.setUint8(g++,o.length),h.setUint8(g++,l.length),h.setUint8(g++,this.BINARY_ENCODING),Array.from(i,S=>h.setUint8(g++,S.charCodeAt(0))),Array.from(a,S=>h.setUint8(g++,S.charCodeAt(0))),Array.from(o,S=>h.setUint8(g++,S.charCodeAt(0))),Array.from(l,S=>h.setUint8(g++,S.charCodeAt(0)));var p=new Uint8Array(f.byteLength+c.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(c),f.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+l.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(g),S=0;p.setUint8(S++,this.KINDS.userBroadcastPush),p.setUint8(S++,i.length),p.setUint8(S++,a.length),p.setUint8(S++,o.length),p.setUint8(S++,l.length),p.setUint8(S++,this.JSON_ENCODING),Array.from(i,N=>p.setUint8(S++,N.charCodeAt(0))),Array.from(a,N=>p.setUint8(S++,N.charCodeAt(0))),Array.from(o,N=>p.setUint8(S++,N.charCodeAt(0))),Array.from(l,N=>p.setUint8(S++,N.charCodeAt(0)));var b=new Uint8Array(g.byteLength+f.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(f),g.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,l,c]=n;return r({join_ref:i,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,i);case this.KINDS.reply:return this._decodeReply(t,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodePush(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:f,payload:h}}_decodeReply(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const g=n.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),S={status:g,response:p};return{join_ref:u,ref:f,topic:h,event:xf.reply,payload:S}}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const g=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,S={type:this.BROADCAST,event:f,payload:p};return o>0&&(S.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class AQ{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Is;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Is||(Is={}));const tU=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Fye(o,e,t,i),a),{}):{}},Fye=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?jQ(a,o):KP(o)},jQ=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Lye(t,r)}switch(e){case Is.bool:return Dye(t);case Is.float4:case Is.float8:case Is.int2:case Is.int4:case Is.int8:case Is.numeric:case Is.oid:return Rye(t);case Is.json:case Is.jsonb:return Mye(t);case Is.timestamp:return Bye(t);case Is.abstime:case Is.date:case Is.daterange:case Is.int4range:case Is.int8range:case Is.money:case Is.reltime:case Is.text:case Is.time:case Is.timestamptz:case Is.timetz:case Is.tsrange:case Is.tstzrange:return KP(t);default:return KP(t)}},KP=e=>e,Dye=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rye=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mye=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Lye=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>jQ(t,l))}return e},Bye=e=>typeof e=="string"?e.replace(" ","T"):e,EQ=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class KT{constructor(t,r,n={},i=qP){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rU;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rU||(rU={}));class Rw{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rw.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Rw.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rw.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const h=a[u];if(h){const g=f.map(N=>N.presence_ref),p=h.map(N=>N.presence_ref),S=f.filter(N=>p.indexOf(N.presence_ref)<0),b=h.filter(N=>g.indexOf(N.presence_ref)<0);S.length>0&&(l[u]=S),b.length>0&&(c[u]=b)}else l[u]=f}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(p=>p.presence_ref),g=f.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...g)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nU;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nU||(nU={}));var Mw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mw||(Mw={}));var em;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(em||(em={}));class c7{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=kl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new KT(this,xf.join,this.params,this.timeout),this.rejoinTimer=new AQ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kl.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xf.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Rw(this),this.broadcastEndpointURL=EQ(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==kl.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Mw.PRESENCE]&&this.bindings[Mw.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(em.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(em.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var S;if(this.socket.setAuth(),p===void 0){t==null||t(em.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,N=(S=b==null?void 0:b.length)!==null&&S!==void 0?S:0,C=[];for(let A=0;A<N;A++){const T=b[A],{filter:{event:F,schema:L,table:B,filter:M}}=T,W=p&&p[A];if(W&&W.event===F&&W.schema===L&&W.table===B&&W.filter===M)C.push(Object.assign(Object.assign({},T),{id:W.id}));else{this.unsubscribe(),this.state=kl.errored,t==null||t(em.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(em.SUBSCRIBED);return}}).receive("error",p=>{this.state=kl.errored,t==null||t(em.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(em.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===kl.joined&&t===Mw.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kl.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xf.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new KT(this,xf.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kl.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new KT(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Oye){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=xf;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var S,b,N;return((S=p.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(b=p.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(p=>p.callback(g,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var S,b,N,C,A,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const F=p.id,L=(S=p.filter)===null||S===void 0?void 0:S.event;return F&&((b=r.ids)===null||b===void 0?void 0:b.includes(F))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const F=(A=(C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return F==="*"||F===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:b,table:N,commit_timestamp:C,type:A,errors:T}=S;g=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:C,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(S))}p.callback(g,n)})}_isClosed(){return this.state===kl.closed}_isJoined(){return this.state===kl.joined}_isJoining(){return this.state===kl.joining}_isLeaving(){return this.state===kl.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&c7.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xf.close,{},t)}_onError(t){this._on(xf.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kl.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tU(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tU(t.columns,t.old_record)),r}}const YT=()=>{},L3={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$ye=[1e3,2e3,5e3,1e4],Uye=1e4,zye=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vye{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qP,this.transport=null,this.heartbeatIntervalMs=L3.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=YT,this.ref=0,this.reconnectTimer=null,this.vsn=eU,this.logger=YT,this.conn=null,this.sendBuffer=[],this.serializer=new Iye,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${GP.websocket}`,this.httpEndpoint=EQ(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jye.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mg.connecting:return pg.Connecting;case mg.open:return pg.Open;case mg.closing:return pg.Closing;default:return pg.Closed}}isConnected(){return this.connectionState()===pg.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new c7(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Pye,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},L3.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===mg.open||this.conn.readyState===mg.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xf.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([zye],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Tye};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(xf.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new AQ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},L3.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,l,c,u,f,h,g,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:qP,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:L3.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:YT,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:eU,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:S=>$ye[S-1]||Uye,this.vsn){case CQ:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(S,b)=>b(JSON.stringify(S)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(S,b)=>b(JSON.parse(S));break;case kye:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class u7 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Wye extends u7{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class YP extends u7{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const d7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hye=()=>Response,XP=e=>{if(Array.isArray(e))return e.map(r=>XP(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=XP(n)}),t},qye=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Gye=(e,t,r)=>Qn(void 0,void 0,void 0,function*(){const n=yield Hye();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new Wye(XT(i),a,o))}).catch(i=>{t(new YP(XT(i),i))}):t(new YP(XT(e),e))}),Kye=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(qye(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function z4(e,t,r,n,i,a){return Qn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Kye(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Gye(c,l,n))})})}function E_(e,t,r,n){return Qn(this,void 0,void 0,function*(){return z4(e,"GET",t,r,n)})}function nh(e,t,r,n,i){return Qn(this,void 0,void 0,function*(){return z4(e,"POST",t,n,i,r)})}function JP(e,t,r,n,i){return Qn(this,void 0,void 0,function*(){return z4(e,"PUT",t,n,i,r)})}function Yye(e,t,r,n){return Qn(this,void 0,void 0,function*(){return z4(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function f7(e,t,r,n,i){return Qn(this,void 0,void 0,function*(){return z4(e,"DELETE",t,n,i,r)})}class Xye{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Qn(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yo(t))return{data:null,error:t};throw t}})}}var TQ;class Jye{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[TQ]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xye(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Qn(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yo(t))return{data:null,error:t};throw t}})}}TQ=Symbol.toStringTag;const Zye=Jye,Qye={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aU={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ebe{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=d7(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Qn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},aU),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),h=yield(t=="PUT"?JP:nh)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yo(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:aU.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield JP(this.fetch,l.toString(),c,{headers:f});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(yo(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Qn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield nh(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new u7("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qn(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yo(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qn(this,void 0,void 0,function*(){try{return{data:{path:(yield nh(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yo(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield nh(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yo(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qn(this,void 0,void 0,function*(){try{const i=yield nh(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yo(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>E_(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Zye(c,this.shouldThrowOnError)}info(t){return Qn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield E_(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:XP(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}exists(t){return Qn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Yye(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n)&&n instanceof YP){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield f7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Qye),r),{prefix:t||""});return{data:yield nh(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yo(i))return{data:null,error:i};throw i}})}listV2(t,r){return Qn(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield nh(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kQ="2.81.1",PQ={"X-Client-Info":`storage-js/${kQ}`};class tbe{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PQ),r),this.fetch=d7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Qn(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield E_(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}getBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}createBucket(t){return Qn(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nh(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yo(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Qn(this,void 0,void 0,function*(){try{return{data:yield JP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield f7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class rbe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PQ),r),this.fetch=d7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}listBuckets(t){return Qn(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield E_(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield f7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}}const h7={"X-Client-Info":`storage-js/${kQ}`,"Content-Type":"application/json"};class OQ extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cd(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class JT extends OQ{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nbe extends OQ{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var iU;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(iU||(iU={}));const m7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),abe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sU=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ibe=(e,t,r)=>Qn(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new JT(sU(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new JT(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new JT(l,i,o))}}else t(new nbe(sU(e),e))}),sbe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(abe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function obe(e,t,r,n,i,a){return Qn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,sbe(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>ibe(c,l,n))})})}function Ad(e,t,r,n,i){return Qn(this,void 0,void 0,function*(){return obe(e,"POST",t,n,i,r)})}class lbe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h7),r),this.fetch=m7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Qn(this,void 0,void 0,function*(){try{return{data:(yield Ad(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Qn(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cd(n))return{data:null,error:n};throw n}})}listIndexes(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Qn(this,void 0,void 0,function*(){try{return{data:(yield Ad(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cd(n))return{data:null,error:n};throw n}})}}class cbe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h7),r),this.fetch=m7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Qn(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ad(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}getVectors(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}listVectors(t){return Qn(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ad(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}queryVectors(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Qn(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ad(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}}class ube{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h7),r),this.fetch=m7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:(yield Ad(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}getBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}listBuckets(){return Qn(this,arguments,void 0,function*(t={}){try{return{data:yield Ad(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qn(this,void 0,void 0,function*(){try{return{data:(yield Ad(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cd(r))return{data:null,error:r};throw r}})}}class dbe extends ube{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new fbe(this.url,this.headers,t,this.fetch)}}class fbe extends lbe{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Qn(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Qn(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Qn(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Qn(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new hbe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class hbe extends cbe{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Qn(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Qn(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Qn(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Qn(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Qn(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mbe extends tbe{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new ebe(this.url,this.headers,t,this.fetch)}get vectors(){return new dbe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rbe(this.url+"/iceberg",this.headers,this.fetch)}}const pbe="2.30.0",gbe={"X-Client-Info":`supabase-js/${pbe}`};var ZP={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Rs<"u"&&Rs,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(o){var l=typeof a<"u"&&a||typeof self<"u"&&self||typeof Rs<"u"&&Rs||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(X){return X&&DataView.prototype.isPrototypeOf(X)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(X){return X&&f.indexOf(Object.prototype.toString.call(X))>-1};function g(X){if(typeof X!="string"&&(X=String(X)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(X)||X==="")throw new TypeError('Invalid character in header field name: "'+X+'"');return X.toLowerCase()}function p(X){return typeof X!="string"&&(X=String(X)),X}function S(X){var se={next:function(){var he=X.shift();return{done:he===void 0,value:he}}};return c.iterable&&(se[Symbol.iterator]=function(){return se}),se}function b(X){this.map={},X instanceof b?X.forEach(function(se,he){this.append(he,se)},this):Array.isArray(X)?X.forEach(function(se){if(se.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+se.length);this.append(se[0],se[1])},this):X&&Object.getOwnPropertyNames(X).forEach(function(se){this.append(se,X[se])},this)}b.prototype.append=function(X,se){X=g(X),se=p(se);var he=this.map[X];this.map[X]=he?he+", "+se:se},b.prototype.delete=function(X){delete this.map[g(X)]},b.prototype.get=function(X){return X=g(X),this.has(X)?this.map[X]:null},b.prototype.has=function(X){return this.map.hasOwnProperty(g(X))},b.prototype.set=function(X,se){this.map[g(X)]=p(se)},b.prototype.forEach=function(X,se){for(var he in this.map)this.map.hasOwnProperty(he)&&X.call(se,this.map[he],he,this)},b.prototype.keys=function(){var X=[];return this.forEach(function(se,he){X.push(he)}),S(X)},b.prototype.values=function(){var X=[];return this.forEach(function(se){X.push(se)}),S(X)},b.prototype.entries=function(){var X=[];return this.forEach(function(se,he){X.push([he,se])}),S(X)},c.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function N(X){if(!X._noBody){if(X.bodyUsed)return Promise.reject(new TypeError("Already read"));X.bodyUsed=!0}}function C(X){return new Promise(function(se,he){X.onload=function(){se(X.result)},X.onerror=function(){he(X.error)}})}function A(X){var se=new FileReader,he=C(se);return se.readAsArrayBuffer(X),he}function T(X){var se=new FileReader,he=C(se),ce=/charset=([A-Za-z0-9_-]+)/.exec(X.type),ge=ce?ce[1]:"utf-8";return se.readAsText(X,ge),he}function F(X){for(var se=new Uint8Array(X),he=new Array(se.length),ce=0;ce<se.length;ce++)he[ce]=String.fromCharCode(se[ce]);return he.join("")}function L(X){if(X.slice)return X.slice(0);var se=new Uint8Array(X.byteLength);return se.set(new Uint8Array(X)),se.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(X){this.bodyUsed=this.bodyUsed,this._bodyInit=X,X?typeof X=="string"?this._bodyText=X:c.blob&&Blob.prototype.isPrototypeOf(X)?this._bodyBlob=X:c.formData&&FormData.prototype.isPrototypeOf(X)?this._bodyFormData=X:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(X)?this._bodyText=X.toString():c.arrayBuffer&&c.blob&&u(X)?(this._bodyArrayBuffer=L(X.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(X)||h(X))?this._bodyArrayBuffer=L(X):this._bodyText=X=Object.prototype.toString.call(X):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof X=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(X)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var X=N(this);if(X)return X;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var X=N(this);return X||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(A);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var X=N(this);if(X)return X;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(F(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function W(X){var se=X.toUpperCase();return M.indexOf(se)>-1?se:X}function z(X,se){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');se=se||{};var he=se.body;if(X instanceof z){if(X.bodyUsed)throw new TypeError("Already read");this.url=X.url,this.credentials=X.credentials,se.headers||(this.headers=new b(X.headers)),this.method=X.method,this.mode=X.mode,this.signal=X.signal,!he&&X._bodyInit!=null&&(he=X._bodyInit,X.bodyUsed=!0)}else this.url=String(X);if(this.credentials=se.credentials||this.credentials||"same-origin",(se.headers||!this.headers)&&(this.headers=new b(se.headers)),this.method=W(se.method||this.method||"GET"),this.mode=se.mode||this.mode||null,this.signal=se.signal||this.signal||function(){if("AbortController"in l){var we=new AbortController;return we.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&he)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(he),(this.method==="GET"||this.method==="HEAD")&&(se.cache==="no-store"||se.cache==="no-cache")){var ce=/([?&])_=[^&]*/;if(ce.test(this.url))this.url=this.url.replace(ce,"$1_="+new Date().getTime());else{var ge=/\?/;this.url+=(ge.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function Z(X){var se=new FormData;return X.trim().split("&").forEach(function(he){if(he){var ce=he.split("="),ge=ce.shift().replace(/\+/g," "),we=ce.join("=").replace(/\+/g," ");se.append(decodeURIComponent(ge),decodeURIComponent(we))}}),se}function K(X){var se=new b,he=X.replace(/\r?\n[\t ]+/g," ");return he.split("\r").map(function(ce){return ce.indexOf(`
`)===0?ce.substr(1,ce.length):ce}).forEach(function(ce){var ge=ce.split(":"),we=ge.shift().trim();if(we){var Ce=ge.join(":").trim();try{se.append(we,Ce)}catch(Q){console.warn("Response "+Q.message)}}}),se}B.call(z.prototype);function q(X,se){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(se||(se={}),this.type="default",this.status=se.status===void 0?200:se.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=se.statusText===void 0?"":""+se.statusText,this.headers=new b(se.headers),this.url=se.url||"",this._initBody(X)}B.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},q.error=function(){var X=new q(null,{status:200,statusText:""});return X.ok=!1,X.status=0,X.type="error",X};var ie=[301,302,303,307,308];q.redirect=function(X,se){if(ie.indexOf(se)===-1)throw new RangeError("Invalid status code");return new q(null,{status:se,headers:{location:X}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(se,he){this.message=se,this.name=he;var ce=Error(se);this.stack=ce.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ae(X,se){return new Promise(function(he,ce){var ge=new z(X,se);if(ge.signal&&ge.signal.aborted)return ce(new o.DOMException("Aborted","AbortError"));var we=new XMLHttpRequest;function Ce(){we.abort()}we.onload=function(){var ne={statusText:we.statusText,headers:K(we.getAllResponseHeaders()||"")};ge.url.indexOf("file://")===0&&(we.status<200||we.status>599)?ne.status=200:ne.status=we.status,ne.url="responseURL"in we?we.responseURL:ne.headers.get("X-Request-URL");var ee="response"in we?we.response:we.responseText;setTimeout(function(){he(new q(ee,ne))},0)},we.onerror=function(){setTimeout(function(){ce(new TypeError("Network request failed"))},0)},we.ontimeout=function(){setTimeout(function(){ce(new TypeError("Network request timed out"))},0)},we.onabort=function(){setTimeout(function(){ce(new o.DOMException("Aborted","AbortError"))},0)};function Q(ne){try{return ne===""&&l.location.href?l.location.href:ne}catch{return ne}}if(we.open(ge.method,Q(ge.url),!0),ge.credentials==="include"?we.withCredentials=!0:ge.credentials==="omit"&&(we.withCredentials=!1),"responseType"in we&&(c.blob?we.responseType="blob":c.arrayBuffer&&(we.responseType="arraybuffer")),se&&typeof se.headers=="object"&&!(se.headers instanceof b||l.Headers&&se.headers instanceof l.Headers)){var le=[];Object.getOwnPropertyNames(se.headers).forEach(function(ne){le.push(g(ne)),we.setRequestHeader(ne,p(se.headers[ne]))}),ge.headers.forEach(function(ne,ee){le.indexOf(ee)===-1&&we.setRequestHeader(ee,ne)})}else ge.headers.forEach(function(ne,ee){we.setRequestHeader(ee,ne)});ge.signal&&(ge.signal.addEventListener("abort",Ce),we.onreadystatechange=function(){we.readyState===4&&ge.signal.removeEventListener("abort",Ce)}),we.send(typeof ge._bodyInit>"u"?null:ge._bodyInit)})}return ae.polyfill=!0,l.fetch||(l.fetch=ae,l.Headers=b,l.Request=z,l.Response=q),o.Headers=b,o.Request=z,o.Response=q,o.fetch=ae,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(ZP,ZP.exports);var p7=ZP.exports;const IQ=Si(p7),xbe=VF({__proto__:null,default:IQ},[p7]);var vbe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ybe=e=>{let t;return e?t=e:typeof fetch>"u"?t=IQ:t=fetch,(...r)=>t(...r)},bbe=()=>typeof Headers>"u"?p7.Headers:Headers,wbe=(e,t,r)=>{const n=ybe(r),i=bbe();return(a,o)=>vbe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};function _be(e){return e.replace(/\/$/,"")}function Nbe(e,t){const{db:r,auth:n,realtime:i,global:a}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),a)}}const Sbe="modulepreload",Cbe=function(e){return"/"+e},oU={},KS=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Cbe(a),a in oU)return;oU[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Sbe,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};function Abe(e){return Math.round(Date.now()/1e3)+e}function jbe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const J0=()=>typeof document<"u",Z1={tested:!1,writable:!1},KN=()=>{if(!J0())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Z1.tested)return Z1.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Z1.tested=!0,Z1.writable=!0}catch{Z1.tested=!0,Z1.writable=!1}return Z1.writable};function qu(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const FQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await KS(()=>Promise.resolve().then(()=>xbe),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},Ebe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},B3=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ZT=async(e,t)=>{await e.removeItem(t)};function Tbe(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,a,o,l,c,u,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)o=t.indexOf(e.charAt(f++)),l=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),u=t.indexOf(e.charAt(f++)),n=o<<2|l>>4,i=(l&15)<<4|c>>2,a=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&a!=0&&(r=r+String.fromCharCode(a));return r}class jj{constructor(){this.promise=new jj.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}jj.promiseConstructor=Promise;function lU(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Tbe(n))}function kbe(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function Pbe(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Obe(e){return("0"+e.toString(16)).substr(-2)}function $3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Obe).join("")}async function Ibe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function Fbe(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function U3(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await Ibe(e);return Fbe(t)}const Dbe="__stack_guard__",Rbe="__",Mbe=/__stack_guard__([a-zA-Z0-9_-]+)__/;let cU=!1,g7;function QP(e){var t,r;g7();let n;try{throw new Error}catch(a){n=a}const i=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let a=0;a<i.length;a+=1){const l=i[a].match(Mbe);if(l&&l[1]===e)return!0}return!1}async function eO(e,t){await g7();const r=`${Dbe}${e}${Rbe}`;return await{[r]:async()=>await t()}[r]()}g7=async()=>{cU||(cU=!0,await eO("ENV_CHECK",async()=>{const e=QP("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class x7 extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function zi(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Lbe extends x7{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Bbe(e){return zi(e)&&e.name==="AuthApiError"}class DQ extends x7{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Dy extends x7{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class iv extends Dy{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class QT extends Dy{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class z3 extends Dy{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class q0 extends Dy{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e8 extends Dy{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tO extends Dy{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function uU(e){return zi(e)&&e.name==="AuthRetryableFetchError"}var $be=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const bw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ube=[502,503,504];async function dU(e){if(!Ebe(e))throw new tO(bw(e),0);if(Ube.includes(e.status))throw new tO(bw(e),e.status);let t;try{t=await e.json()}catch(r){throw new DQ(bw(r),r)}throw new Lbe(bw(t),e.status||500)}const zbe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function es(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Vbe(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Vbe(e,t,r,n,i,a){const o=zbe(t,n,i,a);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new tO(bw(c),0)}if(l.ok||await dU(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await dU(c)}}function op(e){var t;let r=null;Gbe(e)&&(r=Object.assign({},e),r.expires_at=Abe(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gg(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Wbe(e){return{data:e,error:null}}function Hbe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=$be(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function qbe(e){return e}function Gbe(e){return e.access_token&&e.refresh_token&&e.expires_in}var Kbe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Ybe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=FQ(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await es(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(zi(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await es(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gg})}catch(n){if(zi(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Kbe(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await es(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Hbe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(zi(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await es(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gg})}catch(r){if(zi(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await es(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qbe});if(f.error)throw f.error;const h=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);u[`${N}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(zi(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await es(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gg})}catch(r){if(zi(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await es(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gg})}catch(n){if(zi(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await es(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gg})}catch(n){if(zi(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await es(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(zi(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await es(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(zi(r))return{data:null,error:r};throw r}}}const Xbe="2.43.1",Jbe="http://localhost:9999",Zbe="supabase.auth.token",Qbe={"X-Client-Info":`gotrue-js/${Xbe}`},fU=10,hU={getItem:e=>KN()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{KN()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{KN()&&globalThis.localStorage.removeItem(e)}};function ewe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}ewe();const twe={url:Jbe,storageKey:Zbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qbe,flowType:"implicit",debug:!1},V3=30*1e3,mU=3;class T_{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=T_.nextInstanceID,T_.nextInstanceID+=1,this.instanceID>0&&J0()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},twe),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||hU,this.admin=new Ybe({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=FQ(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===hU&&!KN()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),J0()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=eO("_initialize",async()=>{try{const t=J0()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return zi(t)?{error:t}:{error:new DQ("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,i;try{await this._removeSession();let a;if("email"in t){const{email:f,password:h,options:g}=t;let p=null,S=null;if(this.flowType==="pkce"){const b=$3();await Gb(this.storage,`${this.storageKey}-code-verifier`,b),p=await U3(b),S=b===p?"plain":"s256"}a=await es(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:S},xform:op})}else if("phone"in t){const{phone:f,password:h,options:g}=t;a=await es(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:op})}else throw new z3("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(zi(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await es(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:op})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await es(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:op})}else throw new z3("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new QT}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:i})}catch(r){if(zi(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await B3(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:i}=await es(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:op});return await ZT(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new QT}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,l=await es(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:op}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new QT}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(zi(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,f=null;if(this.flowType==="pkce"){const g=$3();await Gb(this.storage,`${this.storageKey}-code-verifier`,g),u=await U3(g),f=g===u?"plain":"s256"}const{error:h}=await es(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await es(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new z3("You must provide either an email or phone number.")}catch(l){if(zi(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:i,error:a}=await es(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:op});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(zi(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{return await this._removeSession(),await es(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Wbe})}catch(a){if(zi(a))return{data:null,error:a};throw a}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new iv;const{error:i}=await es(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(zi(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await es(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await es(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new z3("You must provide either an email or phone number and a type")}catch(r){if(zi(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await eO("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!QP("_useSession"))throw new Error("Please use #_useSession()");QP("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const a=await B3(this.storage,this.storageKey);this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,i;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0}return await es(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gg})})}catch(r){if(zi(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new iv;const o=i.session,{data:l,error:c}=await es(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:gg});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(zi(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return lU(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new iv;const r=Date.now()/1e3;let n=r,i=!0,a=null;const o=lU(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(zi(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new iv;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(zi(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!J0())throw new q0("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new q0("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new e8("Not a valid PKCE flow url.");if(t){const N=qu("code");if(!N)throw new e8("No code detected.");const{data:C,error:A}=await this.exchangeCodeForSession(N);if(A)throw A;if(!C.session)throw new e8("No session detected.");let T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:C.session,redirectType:null},error:null}}const r=qu("error_description");if(r){const N=qu("error_code");if(!N)throw new q0("No error_code detected.");const C=qu("error");throw C?new q0(r,{error:C,code:N}):new q0("No error detected.")}const n=qu("provider_token"),i=qu("provider_refresh_token"),a=qu("access_token");if(!a)throw new q0("No access_token detected.");const o=qu("expires_in");if(!o)throw new q0("No expires_in detected.");const l=qu("refresh_token");if(!l)throw new q0("No refresh_token detected.");const c=qu("token_type");if(!c)throw new q0("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:g}=await this.getUser(a);if(g)throw g;const p=h.user,S={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:parseInt(o),expires_at:f,refresh_token:l,token_type:c,user:p},b=qu("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:S,redirectType:b},error:null}}catch(r){if(zi(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return J0()&&(!!qu("access_token")||!!qu("error_description"))}async _isPKCEFlow(){const t=await B3(this.storage,`${this.storageKey}-code-verifier`);return!!qu("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Bbe(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ZT(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=jbe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;if(this.flowType==="pkce"){const a=$3();await Gb(this.storage,`${this.storageKey}-code-verifier`,a),n=await U3(a),i=a===n?"plain":"s256"}try{return await es(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(zi(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Pbe(async i=>(await kbe(i*200),this._debug(r,"refreshing attempt",i),await es(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:op})),(i,a,o)=>o&&o.error&&uU(o.error)&&Date.now()+(i+1)*200-n<V3)}catch(n){if(this._debug(r,"error",n),zi(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),J0()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await B3(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<i+fU;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${fU}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),uU(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new iv;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jj;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new iv;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),zi(a)){const o={session:null,error:a};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Gb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await ZT(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&J0()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),V3);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/V3);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${V3}ms, refresh threshold is ${mU} ticks`),i<=mU&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!J0()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const i=$3();await Gb(this.storage,`${this.storageKey}-code-verifier`,i);const a=await U3(i),o=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await es(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(zi(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await es(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(zi(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await es(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(zi(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await es(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(zi(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:n,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}})}}T_.nextInstanceID=0;class rwe extends T_{constructor(t){super(t)}}var nwe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const awe={headers:gbe},iwe={schema:"public"},swe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},owe={};class lwe{constructor(t,r,n){var i,a,o,l,c,u,f,h;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const g=_be(t);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:iwe,realtime:owe,auth:Object.assign(Object.assign({},swe),{storageKey:p}),global:awe},b=Nbe(n??{},S);this.storageKey=(a=(i=b.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=(o=b.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=b.auth)!==null&&c!==void 0?c:{},this.headers,(u=b.global)===null||u===void 0?void 0:u.fetch),this.fetch=wbe(r,this._getAccessToken.bind(this),(f=b.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new Aye(`${g}/rest/v1`,{headers:this.headers,schema:(h=b.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new tye(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mbe(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return nwe(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rwe({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new Vye(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cwe=(e,t,r)=>new lwe(e,t,r),uwe="https://jdeuwvaauerzjdtpwjjz.supabase.co",dwe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkZXV3dmFhdWVyempkdHB3amp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMTkxNTksImV4cCI6MjA3NDg5NTE1OX0.ktxs6yjuy3hRXCjsDzK1x6lJg0e5yEEnzl554nx28Kc",Ze=cwe(uwe,dwe,{auth:{persistSession:!0,storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-application-name":"bonplaninfos"}}}),RQ=j.createContext(void 0),YN=async(e,t=3,r=500)=>{try{return await e()}catch(n){const i=(n==null?void 0:n.message)||"",a=(n==null?void 0:n.code)||"",o=(n==null?void 0:n.status)||"",l=(n==null?void 0:n.error_code)||"";if(i.includes("refresh_token_not_found")||i.includes("Invalid Refresh Token")||a==="refresh_token_not_found"||l==="refresh_token_not_found")throw new Error("CRITICAL_AUTH_ERROR: Refresh Token Invalid");if(o===400||o===401||o===403||a&&(a===403||a==="403"||a==="bad_jwt"||a==="session_not_found")||i&&(i.includes("bad_jwt")||i.includes("invalid claim")||i.includes("session_id"))||t<=0)throw n;if(i&&(i.includes("Failed to fetch")||i.includes("Network request failed")||i.includes("NetworkError")||i.includes("Load failed")))return await new Promise(h=>setTimeout(h,r)),YN(e,t-1,r*1.5);throw n}},fwe=({children:e})=>{js();const[t,r]=j.useState(null),[n,i]=j.useState(null),[a,o]=j.useState(null),[l,c]=j.useState(!0),[u,f]=j.useState(!1),[h,g]=j.useState(()=>()=>{}),p=j.useCallback(()=>{console.log("Cleaning session data due to auth error...");try{for(let B=localStorage.length-1;B>=0;B--){const M=localStorage.key(B);M&&M.startsWith("sb-")&&localStorage.removeItem(M)}localStorage.removeItem("supabase.auth.token"),sessionStorage.clear(),document.cookie.split(";").forEach(B=>{document.cookie=B.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(B){console.warn("Error clearing storage:",B)}r(null),i(null),o(null)},[]),S=j.useCallback(async B=>{if(B)try{const{data:M}=await Ze.from("admin_licences").select("*").eq("admin_id",B).eq("statut","actif");if(M&&M.length>0){const z=M.sort((Z,K)=>new Date(K.date_fin)-new Date(Z.date_fin))[0];o(z);return}const{data:W}=await Ze.from("admin_licences").select("*").eq("admin_id",B).limit(1);W&&W.length>0?o(W[0]):o(null)}catch(M){console.error("License fetch error:",M)}},[]),b=j.useCallback(async(B,M=null)=>{var z;const W=M||(B==null?void 0:B.error);if(W){const Z=W.message||"",K=W.code||W.error_code||"";if(Z.includes("CRITICAL_AUTH_ERROR")||Z.includes("refresh_token_not_found")||Z.includes("Invalid Refresh Token")||K==="refresh_token_not_found"){console.error("Critical Auth Error detected. Logging out."),p(),c(!1);return}if(K==="session_not_found"||Z.includes("session_not_found")){p(),c(!1);return}if(Z.includes("session_id claim")){p(),c(!1);return}Z.includes("bad_jwt")||Z.includes("invalid claim")||Z.includes("not found")||Z.includes("JWT")?p():f(!0),c(!1);return}if(B!=null&&B.user){const Z=B.user;try{const{data:K}=await Ze.from("profiles").select("is_active").eq("id",Z.id).maybeSingle();if(K&&K.is_active===!1){console.warn("User is deactivated. Logging out."),await Ze.auth.signOut(),p(),c(!1);return}}catch(K){console.error("Profile active check failed",K)}try{const{error:K}=await Ze.rpc("ensure_user_profile_exists",{p_user_id:Z.id,p_email:Z.email,p_full_name:(z=Z.user_metadata)==null?void 0:z.full_name});K&&console.error("Profile check error:",K)}catch(K){console.error("Profile verification exception:",K)}i(B),r(Z),f(!1),await S(Z.id),typeof h=="function"&&h()}else i(null),r(null),o(null);c(!1)},[h,p,S]);j.useEffect(()=>{const B=async M=>{var Z,K,q,ie,ae;const W=M.reason;if(((Z=W==null?void 0:W.message)==null?void 0:Z.includes("AuthSessionMissingError"))||((K=W==null?void 0:W.message)==null?void 0:K.includes("Invalid token"))||((q=W==null?void 0:W.message)==null?void 0:q.includes("Unauthorized"))||(W==null?void 0:W.details)&&W.details.__isAuthError||(W==null?void 0:W.name)==="FunctionsHttpError"&&((ae=(ie=W==null?void 0:W.context)==null?void 0:ie.json)==null?void 0:ae.error)==="Unauthorized: Invalid token"){console.warn("Caught unhandled auth error (likely Edge Function). Attempting recovery...",W),M.preventDefault();const{data:X,error:se}=await Ze.auth.refreshSession();se?(console.error("Session refresh failed during recovery. Logging out."),p(),window.location.href="/auth"):X.session&&(console.log("Session successfully recovered."),b(X.session))}};return window.addEventListener("unhandledrejection",B),()=>window.removeEventListener("unhandledrejection",B)},[p,b]),j.useEffect(()=>{let B=!0;(async()=>{try{c(!0);const{data:{session:z},error:Z}=await YN(()=>Ze.auth.getSession());if(Z){B&&b(null,Z);return}if(z){const{data:{user:K},error:q}=await YN(()=>Ze.auth.getUser());q?B&&b(null,q):B&&b(z)}else B&&b(null)}catch(z){B&&b(null,z)}})();const{data:{subscription:W}}=Ze.auth.onAuthStateChange(async(z,Z)=>{B&&(console.log("Auth state change:",z),z==="SIGNED_OUT"?(p(),c(!1)):(z==="TOKEN_REFRESHED"||z==="SIGNED_IN"||z==="USER_UPDATED")&&b(Z))});return()=>{B=!1,W.unsubscribe()}},[b,p]);const N=j.useCallback(async(B,M,W)=>{try{const{data:z,error:Z}=await Ze.auth.signUp({email:B,password:M,options:{data:W}});if(Z)throw Z;return{data:z,error:null}}catch(z){return{data:null,error:z}}},[]),C=j.useCallback(async(B,M)=>{try{const{data:W,error:z}=await Ze.auth.signInWithPassword({email:B,password:M});if(z)throw z;if(W!=null&&W.user){const{data:Z}=await Ze.from("profiles").select("is_active").eq("id",W.user.id).maybeSingle();if(Z&&Z.is_active===!1)throw await Ze.auth.signOut(),new Error("ACCOUNT_DEACTIVATED")}return{data:W,error:null}}catch(W){return{data:null,error:W}}},[]),A=j.useCallback(async()=>{var B,M;console.log("Logout started");try{const{error:W}=await Ze.auth.signOut();W&&((B=W.message)!=null&&B.includes("session_id claim")||(M=W.message)!=null&&M.includes("JWT")||W.status===403?console.log("JWT error caught and ignored during logout"):console.warn("Supabase signOut warning (ignoring):",W.message))}catch(W){console.log("Logout exception caught and ignored:",W)}finally{p(),window.location.href="/auth"}},[p]),T=j.useCallback(async()=>{t&&await S(t.id)},[t,S]),F=j.useCallback(async(B,M={})=>YN(async()=>{var W,z,Z;try{const{data:K,error:q}=await Ze.functions.invoke(B,M);if(q)throw q;return{data:K,error:null}}catch(K){if((W=K.message)!=null&&W.includes("AuthSessionMissingError")||((Z=(z=K.context)==null?void 0:z.json)==null?void 0:Z.error)==="Unauthorized: Invalid token"){console.log("Auth error in invokeFunction, attempting refresh...");const{error:q}=await Ze.auth.refreshSession();if(!q)return await Ze.functions.invoke(B,M)}throw K}}),[]),L=j.useMemo(()=>({user:t,session:n,license:a,loading:l,hasFetchError:u,signUp:N,signIn:C,signOut:A,setForceRefresh:g,refreshLicense:T,invokeFunction:F}),[t,n,a,l,u,N,C,A,g,T,F]);return s.jsx(RQ.Provider,{value:L,children:e})},bn=()=>{const e=j.useContext(RQ);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},MQ=j.createContext(),Ja=()=>j.useContext(MQ),XN=async(e,t=3,r=1e3,n=null)=>{try{return await e()}catch(i){return t===0?(console.error("All fetch retries failed:",i),{data:n,error:i}):(console.warn(`Fetch failed, retrying in ${r}ms... (${t} attempts left)`),await new Promise(a=>setTimeout(a,r)),XN(e,t-1,r*1.5,n))}},hwe=({children:e})=>{const{user:t}=bn(),{toast:r}=js(),[n,i]=j.useState(null),[a,o]=j.useState([]),[l,c]=j.useState({app_name:"BonPlanInfos",maintenance_mode:!1,coin_to_fcfa_rate:10,min_withdrawal_pi:50,support_email:"support@bonplaninfos.com"}),[u,f]=j.useState(!0),[h,g]=j.useState(!1),[p,S]=j.useState(!1),[b,N]=j.useState(0),[C,A]=j.useState(0),T=j.useRef({data:null,userId:null,timestamp:0}),F=5*60*1e3,[L,B]=j.useState([]),[M,W]=j.useState(null),z=j.useCallback(le=>{const ne=Math.random().toString(36).substr(2,9);B(ee=>[...ee,{id:ne,type:le}])},[]),Z=j.useCallback(le=>{B(ne=>ne.filter(ee=>ee.id!==le))},[]),K=j.useCallback(le=>{W(le)},[]),q=j.useCallback(()=>{W(null)},[]),ie=j.useCallback(async()=>{if(!t){i(null);return}const le=Date.now();if(T.current.data&&T.current.userId===t.id&&le-T.current.timestamp<F&&C===0){console.log("Using cached user profile"),i(T.current.data);return}g(!0),console.time("fetchUserProfile");try{const{data:ee,error:pe}=await XN(()=>Ze.from("profiles").select("*").eq("id",t.id).maybeSingle(),3,500,null);pe?console.error("Error fetching profile:",pe):ee?(i(ee),T.current={data:ee,userId:t.id,timestamp:Date.now()}):console.warn(`Profile missing for user ${t.id} in DataContext (should have been auto-created)`)}catch(ee){console.error("Exception fetching profile:",ee)}finally{console.timeEnd("fetchUserProfile"),g(!1)}},[t,C]),ae=j.useCallback(async()=>{try{const{data:le,error:ne}=await XN(()=>Ze.from("app_settings").select("*").limit(1).maybeSingle(),2,1e3,{});!ne&&le&&c(ee=>({...ee,...le}))}catch(le){console.warn("Exception fetching app_settings:",le)}},[]),X=j.useCallback(async()=>{try{const{data:le,error:ne}=await XN(()=>Ze.from("welcome_popups").select("*").eq("is_active",!0).order("created_at",{ascending:!1}),2,1e3,[]);!ne&&le&&o(le)}catch(le){console.warn("Exception fetching welcome_popups:",le)}},[]),se=j.useCallback(async()=>{if(t)try{const{count:le,error:ne}=await Ze.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("is_read",!1);ne||N(le||0)}catch(le){console.error("Error fetching notification count:",le)}},[t]),he=j.useCallback(async(le,ne)=>{g(!0),console.log("Updating profile:",Object.keys(ne));try{const{data:ee,error:pe}=await Ze.rpc("update_user_profile",{p_user_id:le,p_full_name:ne.full_name,p_email:ne.email,p_phone:ne.phone,p_city:ne.city,p_country:ne.country,p_bio:ne.bio,p_avatar_url:ne.avatar_url});if(pe)throw pe;return console.log("Profile updated successfully"),await ie(),T.current={...T.current,timestamp:0},A(xe=>xe+1),{success:!0,data:ee}}catch(ee){return console.error("Profile update error:",ee),{success:!1,error:ee}}finally{g(!1)}},[ie]);j.useEffect(()=>{let le=!0;return(async()=>{navigator.onLine||r({title:"Mode hors ligne",description:"Vrifiez votre connexion internet.",variant:"warning"}),f(!0);try{await Promise.all([ae(),X()])}catch(ee){console.error("Global data load error:",ee)}finally{le&&f(!1)}})(),()=>{le=!1}},[ae,X]),j.useEffect(()=>{ie(),se()},[ie,se]),j.useEffect(()=>{if(!t)return;const le=Ze.channel("public:profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},ee=>{console.log("Profile updated via realtime:",ee),T.current={...T.current,timestamp:0},ie()}).subscribe(),ne=Ze.channel("public:notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},ee=>{console.log("New notification received:",ee),se(),S(!0),setTimeout(()=>S(!1),1e3),K("notification")}).subscribe();return()=>{Ze.removeChannel(le),Ze.removeChannel(ne)}},[t,ie,se,K]);const ce=j.useCallback(()=>{T.current={...T.current,timestamp:0},A(le=>le+1)},[]),ge=j.useCallback(()=>{S(!0),setTimeout(()=>S(!1),1e3)},[]),we=j.useCallback(async(le={})=>{try{let ne=Ze.from("events").select("*").eq("status","active").order("created_at",{ascending:!1});le.organizer_id&&(ne=ne.eq("organizer_id",le.organizer_id)),le.country&&(ne=ne.eq("country",le.country));const{data:ee,error:pe}=await ne;if(pe)throw pe;return ee}catch(ne){return console.error("Error fetching events:",ne),[]}},[]),Ce=j.useCallback(async(le={})=>{try{let ne=Ze.from("event_promotions").select("*, organizer:organizer_id(full_name, email)").order("created_at",{ascending:!1});const{data:ee,error:pe}=await ne;if(pe)throw pe;return ee}catch(ne){return console.error("Error fetching promotions:",ne),[]}},[]),Q={userProfile:n,welcomePopups:a,appSettings:l,loading:u,loadingProfile:h,notificationBellAnimation:p,notificationCount:b,fetchNotificationCount:se,forceRefreshUserProfile:ce,updateUserProfile:he,triggerNotificationAnimation:ge,refreshData:()=>{ae(),X(),ce(),se()},getEvents:we,getPromotions:Ce,visualEffects:L,addVisualEffect:z,removeVisualEffect:Z,soundEffect:M,triggerSoundEffect:K,clearSoundEffect:q};return s.jsx(MQ.Provider,{value:Q,children:e})},LQ=j.createContext(),mwe=()=>j.useContext(LQ),pwe=({children:e})=>{const[t,r]=j.useState(()=>{const i=localStorage.getItem("bonplaninfos_theme");return i==="dark-elegant"||i==="deep-night"?i:"dark-elegant"});j.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("dark-elegant","deep-night","light","dark","blue"),i.classList.add(t),localStorage.setItem("bonplaninfos_theme",t)},[t]);const n={theme:t,setTheme:r};return s.jsx(LQ.Provider,{value:n,children:e})};var gwe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const xwe=Si(gwe);var vwe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function pU(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(xwe[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var i=new RegExp(vwe),a=null;(a=i.exec(e))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],i.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var ywe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,bwe=/^\s*$/,wwe=Object.create(null);function BQ(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(BQ,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var _we={parse:function(e,t){t||(t={}),t.components||(t.components=wwe);var r,n=[],i=[],a=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");n.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(ywe,function(c,u){if(o){if(c!=="</"+r.name+">")return;o=!1}var f,h=c.charAt(1)!=="/",g=c.startsWith("<!--"),p=u+c.length,S=e.charAt(p);if(g){var b=pU(c);return a<0?(n.push(b),n):((f=i[a]).children.push(b),n)}if(h&&(a++,(r=pU(c)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!S||S==="<"||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),a===0&&n.push(r),(f=i[a-1])&&f.children.push(r),i[a]=r),(!h||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&S!=="<"&&S)){f=a===-1?n:i[a].children;var N=e.indexOf("<",p),C=e.slice(p,N===-1?void 0:N);bwe.test(C)&&(C=" "),(N>-1&&a+f.length>=0||C!==" ")&&f.push({type:"text",content:C})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+BQ("",r)},"")}};function JN(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Sf(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const gU={};function YS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Sf(t[0])&&gU[t[0]]||(Sf(t[0])&&(gU[t[0]]=new Date),JN(...t))}const $Q=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},xU=(e,t,r)=>{e.loadNamespaces(t,$Q(e,r))},vU=(e,t,r,n)=>{Sf(r)&&(r=[r]),r.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,$Q(e,n))},Nwe=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=t.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))},Swe=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(YS("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(i,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,e))return!1}}):Nwe(e,t,r)},Sf=e=>typeof e=="string",Bv=e=>typeof e=="object"&&e!==null,Cwe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Awe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},jwe=e=>Awe[e],Ewe=e=>e.replace(Cwe,jwe);let rO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ewe};const Twe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rO={...rO,...e}},UQ=()=>rO;let zQ;const kwe=e=>{zQ=e},v7=()=>zQ,t8=(e,t)=>{if(!e)return!1;const r=e.props?e.props.children:e.children;return t?r.length>0:!!r},r8=e=>{if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?$v(t):t},Pwe=e=>Array.isArray(e)&&e.every(j.isValidElement),$v=e=>Array.isArray(e)?e:[e],Owe=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},VQ=(e,t)=>{if(!e)return"";let r="";const n=$v(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((a,o)=>{if(Sf(a))r+=`${a}`;else if(j.isValidElement(a)){const{props:l,type:c}=a,u=Object.keys(l).length,f=i.indexOf(c)>-1,h=l.children;if(!h&&f&&!u)r+=`<${c}/>`;else if(!h&&(!f||u)||l.i18nIsDynamicList)r+=`<${o}></${o}>`;else if(f&&u===1&&Sf(h))r+=`<${c}>${h}</${c}>`;else{const g=VQ(h,t);r+=`<${o}>${g}</${o}>`}}else if(a===null)JN("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Bv(a)){const{format:l,...c}=a,u=Object.keys(c);if(u.length===1){const f=l?`${u[0]}, ${l}`:u[0];r+=`{{${f}}}`}else JN("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else JN("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r},Iwe=(e,t,r,n,i,a)=>{if(t==="")return[];const o=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(o.map(N=>`<${N}`).join("|")).test(t);if(!e&&!l&&!a)return[t];const c={},u=N=>{$v(N).forEach(A=>{Sf(A)||(t8(A)?u(r8(A)):Bv(A)&&!j.isValidElement(A)&&Object.assign(c,A))})};u(e);const f=_we.parse(`<0>${t}</0>`),h={...c,...i},g=(N,C,A)=>{const T=r8(N),F=S(T,C.children,A);return Pwe(T)&&F.length===0||N.props&&N.props.i18nIsDynamicList?T:F},p=(N,C,A,T,F)=>{N.dummy?(N.children=C,A.push(j.cloneElement(N,{key:T},F?void 0:C))):A.push(...j.Children.map([N],L=>{const B={...L.props};return delete B.i18nIsDynamicList,j.createElement(L.type,{...B,key:T,ref:L.ref},F?null:C)}))},S=(N,C,A)=>{const T=$v(N);return $v(C).reduce((L,B,M)=>{const W=B.children&&B.children[0]&&B.children[0].content&&r.services.interpolator.interpolate(B.children[0].content,h,r.language);if(B.type==="tag"){let z=T[parseInt(B.name,10)];A.length===1&&!z&&(z=A[0][B.name]),z||(z={});const Z=Object.keys(B.attrs).length!==0?Owe({props:B.attrs},z):z,K=j.isValidElement(Z),q=K&&t8(B,!0)&&!B.voidElement,ie=l&&Bv(Z)&&Z.dummy&&!K,ae=Bv(e)&&Object.hasOwnProperty.call(e,B.name);if(Sf(Z)){const X=r.services.interpolator.interpolate(Z,h,r.language);L.push(X)}else if(t8(Z)||q){const X=g(Z,B,A);p(Z,X,L,M)}else if(ie){const X=S(T,B.children,A);p(Z,X,L,M)}else if(Number.isNaN(parseFloat(B.name)))if(ae){const X=g(Z,B,A);p(Z,X,L,M,B.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(B.name)>-1)if(B.voidElement)L.push(j.createElement(B.name,{key:`${B.name}-${M}`}));else{const X=S(T,B.children,A);L.push(j.createElement(B.name,{key:`${B.name}-${M}`},X))}else if(B.voidElement)L.push(`<${B.name} />`);else{const X=S(T,B.children,A);L.push(`<${B.name}>${X}</${B.name}>`)}else if(Bv(Z)&&!K){const X=B.children[0]?W:null;X&&L.push(X)}else p(Z,W,L,M,B.children.length!==1||!W)}else if(B.type==="text"){const z=n.transWrapTextNodes,Z=a?n.unescape(r.services.interpolator.interpolate(B.content,h,r.language)):r.services.interpolator.interpolate(B.content,h,r.language);z?L.push(j.createElement(z,{key:`${B.name}-${M}`},Z)):L.push(Z)}return L},[])},b=S([{dummy:!0,children:e||[]}],f,$v(e||[]));return r8(b[0])};function Fwe(e){let{children:t,count:r,parent:n,i18nKey:i,context:a,tOptions:o={},values:l,defaults:c,components:u,ns:f,i18n:h,t:g,shouldUnescape:p,...S}=e;const b=h||v7();if(!b)return YS("You will need to pass in an i18next instance by using i18nextReactModule"),t;const N=g||b.t.bind(b)||(q=>q),C={...UQ(),...b.options&&b.options.react};let A=f||N.ns||b.options&&b.options.defaultNS;A=Sf(A)?[A]:A||["translation"];const T=VQ(t,C),F=c||T||C.transEmptyNodeValue||i,{hashTransKey:L}=C,B=i||(L?L(T||F):T||F);b.options&&b.options.interpolation&&b.options.interpolation.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const M=l||r!==void 0||!t?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},W={...o,context:a||o.context,count:r,...l,...M,defaultValue:F,ns:A},z=B?N(B,W):F;u&&Object.keys(u).forEach(q=>{const ie=u[q];if(typeof ie.type=="function"||!ie.props||!ie.props.children||z.indexOf(`${q}/>`)<0&&z.indexOf(`${q} />`)<0)return;function ae(){return j.createElement(j.Fragment,null,ie)}u[q]=j.createElement(ae)});const Z=Iwe(u||t,z,b,C,W,p),K=n!==void 0?n:C.defaultTransParent;return K?j.createElement(K,S,Z):Z}const Dwe={type:"3rdParty",init(e){Twe(e.options.react),kwe(e)}},WQ=j.createContext();class Rwe{constructor(){vT(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}function y7(e){let{children:t,count:r,parent:n,i18nKey:i,context:a,tOptions:o={},values:l,defaults:c,components:u,ns:f,i18n:h,t:g,shouldUnescape:p,...S}=e;const{i18n:b,defaultNS:N}=j.useContext(WQ)||{},C=h||b||v7(),A=g||C&&C.t.bind(C);return Fwe({children:t,count:r,parent:n,i18nKey:i,context:a,tOptions:o,values:l,defaults:c,components:u,ns:f||A&&A.ns||N||C&&C.options&&C.options.defaultNS,i18n:C,t:g,shouldUnescape:p,...S})}const Mwe=(e,t)=>{const r=j.useRef();return j.useEffect(()=>{r.current=t?r.current:e},[e,t]),r.current},HQ=(e,t,r,n)=>e.getFixedT(t,r,n),Lwe=(e,t,r,n)=>j.useCallback(HQ(e,t,r,n),[e,t,r,n]),za=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:i}=j.useContext(WQ)||{},a=r||n||v7();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Rwe),!a){YS("You will need to pass in an i18next instance by using initReactI18next");const F=(B,M)=>Sf(M)?M:Bv(M)&&Sf(M.defaultValue)?M.defaultValue:Array.isArray(B)?B[B.length-1]:B,L=[F,{},!1];return L.t=F,L.i18n={},L.ready=!1,L}a.options.react&&a.options.react.wait!==void 0&&YS("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...UQ(),...a.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=e||i||a.options&&a.options.defaultNS;u=Sf(u)?[u]:u||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(u);const f=(a.isInitialized||a.initializedStoreOnce)&&u.every(F=>Swe(F,a,o)),h=Lwe(a,t.lng||null,o.nsMode==="fallback"?u:u[0],c),g=()=>h,p=()=>HQ(a,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[S,b]=j.useState(g);let N=u.join();t.lng&&(N=`${t.lng}${N}`);const C=Mwe(N),A=j.useRef(!0);j.useEffect(()=>{const{bindI18n:F,bindI18nStore:L}=o;A.current=!0,!f&&!l&&(t.lng?vU(a,t.lng,u,()=>{A.current&&b(p)}):xU(a,u,()=>{A.current&&b(p)})),f&&C&&C!==N&&A.current&&b(p);const B=()=>{A.current&&b(p)};return F&&a&&a.on(F,B),L&&a&&a.store.on(L,B),()=>{A.current=!1,F&&a&&F.split(" ").forEach(M=>a.off(M,B)),L&&a&&L.split(" ").forEach(M=>a.store.off(M,B))}},[a,N]),j.useEffect(()=>{A.current&&f&&b(g)},[a,c,f]);const T=[S,a,f];if(T.t=S,T.i18n=a,T.ready=f,f||!f&&!l)return T;throw new Promise(F=>{t.lng?vU(a,t.lng,u,()=>F()):xU(a,u,()=>F())})};var Bwe=Symbol.for("react.lazy"),XS=GA[" use ".trim().toString()];function $we(e){return typeof e=="object"&&e!==null&&"then"in e}function qQ(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Bwe&&"_payload"in e&&$we(e._payload)}function Ej(e){const t=zwe(e),r=j.forwardRef((n,i)=>{let{children:a,...o}=n;qQ(a)&&typeof XS=="function"&&(a=XS(a._payload));const l=j.Children.toArray(a),c=l.find(Wwe);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Uwe=Ej("Slot");function zwe(e){const t=j.forwardRef((r,n)=>{let{children:i,...a}=r;if(qQ(i)&&typeof XS=="function"&&(i=XS(i._payload)),j.isValidElement(i)){const o=qwe(i),l=Hwe(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vwe=Symbol("radix.slottable");function Wwe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vwe}function Hwe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function qwe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const nO=vx("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out","outline-premium":"bg-transparent border-2 border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black transition-colors duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ze=Ie.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Uwe:"button";return s.jsx(o,{className:Ir(nO({variant:t,size:r,className:e})),ref:a,...i})});ze.displayName="Button";function Gwe(e,t=[]){let r=[];function n(a,o){const l=j.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...S}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,N=j.useMemo(()=>S,Object.values(S));return s.jsx(b.Provider,{value:N,children:p})};u.displayName=a+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,S=j.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Kwe(i,...t)]}function Kwe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ywe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],b7=Ywe.reduce((e,t)=>{const r=Ej(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),GQ={exports:{}},KQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=j;function Xwe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jwe=typeof Object.is=="function"?Object.is:Xwe,Zwe=L2.useState,Qwe=L2.useEffect,e_e=L2.useLayoutEffect,t_e=L2.useDebugValue;function r_e(e,t){var r=t(),n=Zwe({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return e_e(function(){i.value=r,i.getSnapshot=t,n8(i)&&a({inst:i})},[e,r,t]),Qwe(function(){return n8(i)&&a({inst:i}),e(function(){n8(i)&&a({inst:i})})},[e]),t_e(r),r}function n8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jwe(e,r)}catch{return!0}}function n_e(e,t){return t()}var a_e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n_e:r_e;KQ.useSyncExternalStore=L2.useSyncExternalStore!==void 0?L2.useSyncExternalStore:a_e;GQ.exports=KQ;var i_e=GQ.exports;function s_e(){return i_e.useSyncExternalStore(o_e,()=>!0,()=>!1)}function o_e(){return()=>{}}var w7="Avatar",[l_e,Wvt]=Gwe(w7),[c_e,YQ]=l_e(w7),XQ=j.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=j.useState("idle");return s.jsx(c_e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(b7.span,{...n,ref:t})})});XQ.displayName=w7;var JQ="AvatarImage",ZQ=j.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=YQ(JQ,r),l=u_e(n,a),c=Ou(u=>{i(u),o.onImageLoadingStatusChange(u)});return rl(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(b7.img,{...a,ref:t,src:n}):null});ZQ.displayName=JQ;var QQ="AvatarFallback",eee=j.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=YQ(QQ,r),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(b7.span,{...i,ref:t}):null});eee.displayName=QQ;function yU(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function u_e(e,{referrerPolicy:t,crossOrigin:r}){const n=s_e(),i=j.useRef(null),a=(()=>n?(i.current||(i.current=new window.Image),i.current):null)(),[o,l]=j.useState(()=>yU(a,e));return rl(()=>{l(yU(a,e))},[a,e]),rl(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,r,t]),o}var tee=XQ,ree=ZQ,nee=eee;const t1=Ie.forwardRef(({className:e,...t},r)=>s.jsx(tee,{ref:r,className:Ir("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-xl",e),...t}));t1.displayName=tee.displayName;const r1=Ie.forwardRef(({className:e,...t},r)=>s.jsx(ree,{ref:r,className:Ir("aspect-square h-full w-full",e),...t}));r1.displayName=ree.displayName;const n1=Ie.forwardRef(({className:e,...t},r)=>s.jsx(nee,{ref:r,className:Ir("flex h-full w-full items-center justify-center rounded-xl bg-muted",e),...t}));n1.displayName=nee.displayName;var d_e=j.createContext(void 0);function bx(e){const t=j.useContext(d_e);return e||t||"ltr"}var a8=0;function Tj(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bU()),document.body.insertAdjacentElement("beforeend",e[1]??bU()),a8++,()=>{a8===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),a8--}},[])}function bU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var i8="focusScope.autoFocusOnMount",s8="focusScope.autoFocusOnUnmount",wU={bubbles:!1,cancelable:!0},f_e="FocusScope",V4=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),u=Ou(i),f=Ou(a),h=j.useRef(null),g=ka(t,b=>c(b)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let b=function(T){if(p.paused||!l)return;const F=T.target;l.contains(F)?h.current=F:fp(h.current,{select:!0})},N=function(T){if(p.paused||!l)return;const F=T.relatedTarget;F!==null&&(l.contains(F)||fp(h.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const L of T)L.removedNodes.length>0&&fp(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const A=new MutationObserver(C);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),A.disconnect()}}},[n,l,p.paused]),j.useEffect(()=>{if(l){NU.add(p);const b=document.activeElement;if(!l.contains(b)){const C=new CustomEvent(i8,wU);l.addEventListener(i8,u),l.dispatchEvent(C),C.defaultPrevented||(h_e(v_e(aee(l)),{select:!0}),document.activeElement===b&&fp(l))}return()=>{l.removeEventListener(i8,u),setTimeout(()=>{const C=new CustomEvent(s8,wU);l.addEventListener(s8,f),l.dispatchEvent(C),C.defaultPrevented||fp(b??document.body,{select:!0}),l.removeEventListener(s8,f),NU.remove(p)},0)}}},[l,u,f,p]);const S=j.useCallback(b=>{if(!r&&!n||p.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(N&&C){const A=b.currentTarget,[T,F]=m_e(A);T&&F?!b.shiftKey&&C===F?(b.preventDefault(),r&&fp(T,{select:!0})):b.shiftKey&&C===T&&(b.preventDefault(),r&&fp(F,{select:!0})):C===A&&b.preventDefault()}},[r,n,p.paused]);return s.jsx(In.div,{tabIndex:-1,...o,ref:g,onKeyDown:S})});V4.displayName=f_e;function h_e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(fp(n,{select:t}),document.activeElement!==r)return}function m_e(e){const t=aee(e),r=_U(t,e),n=_U(t.reverse(),e);return[r,n]}function aee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _U(e,t){for(const r of e)if(!p_e(r,{upTo:t}))return r}function p_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g_e(e){return e instanceof HTMLInputElement&&"select"in e}function fp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&g_e(e)&&t&&e.select()}}var NU=x_e();function x_e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=SU(e,t),e.unshift(t)},remove(t){var r;e=SU(e,t),(r=e[0])==null||r.resume()}}}function SU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function v_e(e){return e.filter(t=>t.tagName!=="A")}var y_e=GA[" useId ".trim().toString()]||(()=>{}),b_e=0;function sd(e){const[t,r]=j.useState(y_e());return rl(()=>{e||r(n=>n??String(b_e++))},[e]),e||(t?`radix-${t}`:"")}const w_e=["top","right","bottom","left"],a1=Math.min,_d=Math.max,JS=Math.round,W3=Math.floor,g0=e=>({x:e,y:e}),__e={left:"right",right:"left",bottom:"top",top:"bottom"},N_e={start:"end",end:"start"};function aO(e,t,r){return _d(e,a1(t,r))}function Am(e,t){return typeof e=="function"?e(t):e}function jm(e){return e.split("-")[0]}function Ry(e){return e.split("-")[1]}function _7(e){return e==="x"?"y":"x"}function N7(e){return e==="y"?"height":"width"}const S_e=new Set(["top","bottom"]);function l0(e){return S_e.has(jm(e))?"y":"x"}function S7(e){return _7(l0(e))}function C_e(e,t,r){r===void 0&&(r=!1);const n=Ry(e),i=S7(e),a=N7(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ZS(o)),[o,ZS(o)]}function A_e(e){const t=ZS(e);return[iO(e),t,iO(t)]}function iO(e){return e.replace(/start|end/g,t=>N_e[t])}const CU=["left","right"],AU=["right","left"],j_e=["top","bottom"],E_e=["bottom","top"];function T_e(e,t,r){switch(e){case"top":case"bottom":return r?t?AU:CU:t?CU:AU;case"left":case"right":return t?j_e:E_e;default:return[]}}function k_e(e,t,r,n){const i=Ry(e);let a=T_e(jm(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(iO)))),a}function ZS(e){return e.replace(/left|right|bottom|top/g,t=>__e[t])}function P_e(e){return{top:0,right:0,bottom:0,left:0,...e}}function iee(e){return typeof e!="number"?P_e(e):{top:e,right:e,bottom:e,left:e}}function QS(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function jU(e,t,r){let{reference:n,floating:i}=e;const a=l0(t),o=S7(t),l=N7(o),c=jm(t),u=a==="y",f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-i.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Ry(t)){case"start":p[o]-=g*(r&&u?-1:1);break;case"end":p[o]+=g*(r&&u?-1:1);break}return p}const O_e=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=jU(u,n,c),g=n,p={},S=0;for(let b=0;b<l.length;b++){const{name:N,fn:C}=l[b],{x:A,y:T,data:F,reset:L}=await C({x:f,y:h,initialPlacement:n,placement:g,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=A??f,h=T??h,p={...p,[N]:{...p[N],...F}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):L.rects),{x:f,y:h}=jU(u,g,c)),b=-1)}return{x:f,y:h,placement:g,strategy:i,middlewareData:p}};async function k_(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:p=0}=Am(t,e),S=iee(p),N=l[g?h==="floating"?"reference":"floating":h],C=QS(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(N)))==null||r?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),A=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),F=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},L=QS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:T,strategy:c}):A);return{top:(C.top-L.top+S.top)/F.y,bottom:(L.bottom-C.bottom+S.bottom)/F.y,left:(C.left-L.left+S.left)/F.x,right:(L.right-C.right+S.right)/F.x}}const I_e=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Am(e,t)||{};if(u==null)return{};const h=iee(f),g={x:r,y:n},p=S7(i),S=N7(p),b=await o.getDimensions(u),N=p==="y",C=N?"top":"left",A=N?"bottom":"right",T=N?"clientHeight":"clientWidth",F=a.reference[S]+a.reference[p]-g[p]-a.floating[S],L=g[p]-a.reference[p],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=B?B[T]:0;(!M||!await(o.isElement==null?void 0:o.isElement(B)))&&(M=l.floating[T]||a.floating[S]);const W=F/2-L/2,z=M/2-b[S]/2-1,Z=a1(h[C],z),K=a1(h[A],z),q=Z,ie=M-b[S]-K,ae=M/2-b[S]/2+W,X=aO(q,ae,ie),se=!c.arrow&&Ry(i)!=null&&ae!==X&&a.reference[S]/2-(ae<q?Z:K)-b[S]/2<0,he=se?ae<q?ae-q:ae-ie:0;return{[p]:g[p]+he,data:{[p]:X,centerOffset:ae-X-he,...se&&{alignmentOffset:he}},reset:se}}}),F_e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...N}=Am(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const C=jm(i),A=l0(l),T=jm(l)===l,F=await(c.isRTL==null?void 0:c.isRTL(u.floating)),L=g||(T||!b?[ZS(l)]:A_e(l)),B=S!=="none";!g&&B&&L.push(...k_e(l,b,S,F));const M=[l,...L],W=await k_(t,N),z=[];let Z=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&z.push(W[C]),h){const ae=C_e(i,o,F);z.push(W[ae[0]],W[ae[1]])}if(Z=[...Z,{placement:i,overflows:z}],!z.every(ae=>ae<=0)){var K,q;const ae=(((K=a.flip)==null?void 0:K.index)||0)+1,X=M[ae];if(X&&(!(h==="alignment"?A!==l0(X):!1)||Z.every(ce=>l0(ce.placement)===A?ce.overflows[0]>0:!0)))return{data:{index:ae,overflows:Z},reset:{placement:X}};let se=(q=Z.filter(he=>he.overflows[0]<=0).sort((he,ce)=>he.overflows[1]-ce.overflows[1])[0])==null?void 0:q.placement;if(!se)switch(p){case"bestFit":{var ie;const he=(ie=Z.filter(ce=>{if(B){const ge=l0(ce.placement);return ge===A||ge==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(ge=>ge>0).reduce((ge,we)=>ge+we,0)]).sort((ce,ge)=>ce[1]-ge[1])[0])==null?void 0:ie[0];he&&(se=he);break}case"initialPlacement":se=l;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function EU(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function TU(e){return w_e.some(t=>e[t]>=0)}const D_e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Am(e,t);switch(n){case"referenceHidden":{const a=await k_(t,{...i,elementContext:"reference"}),o=EU(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TU(o)}}}case"escaped":{const a=await k_(t,{...i,altBoundary:!0}),o=EU(a,r.floating);return{data:{escapedOffsets:o,escaped:TU(o)}}}default:return{}}}}},see=new Set(["left","top"]);async function R_e(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=jm(r),l=Ry(r),c=l0(r)==="y",u=see.has(o)?-1:1,f=a&&c?-1:1,h=Am(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof S=="number"&&(p=l==="end"?S*-1:S),c?{x:p*f,y:g*u}:{x:g*u,y:p*f}}const M_e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await R_e(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},L_e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:C,y:A}=N;return{x:C,y:A}}},...c}=Am(e,t),u={x:r,y:n},f=await k_(t,c),h=l0(jm(i)),g=_7(h);let p=u[g],S=u[h];if(a){const N=g==="y"?"top":"left",C=g==="y"?"bottom":"right",A=p+f[N],T=p-f[C];p=aO(A,p,T)}if(o){const N=h==="y"?"top":"left",C=h==="y"?"bottom":"right",A=S+f[N],T=S-f[C];S=aO(A,S,T)}const b=l.fn({...t,[g]:p,[h]:S});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:a,[h]:o}}}}}},B_e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Am(e,t),f={x:r,y:n},h=l0(i),g=_7(h);let p=f[g],S=f[h];const b=Am(l,t),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const T=g==="y"?"height":"width",F=a.reference[g]-a.floating[T]+N.mainAxis,L=a.reference[g]+a.reference[T]-N.mainAxis;p<F?p=F:p>L&&(p=L)}if(u){var C,A;const T=g==="y"?"width":"height",F=see.has(jm(i)),L=a.reference[h]-a.floating[T]+(F&&((C=o.offset)==null?void 0:C[h])||0)+(F?0:N.crossAxis),B=a.reference[h]+a.reference[T]+(F?0:((A=o.offset)==null?void 0:A[h])||0)-(F?N.crossAxis:0);S<L?S=L:S>B&&(S=B)}return{[g]:p,[h]:S}}}},$_e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Am(e,t),f=await k_(t,u),h=jm(i),g=Ry(i),p=l0(i)==="y",{width:S,height:b}=a.floating;let N,C;h==="top"||h==="bottom"?(N=h,C=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(C=h,N=g==="end"?"top":"bottom");const A=b-f.top-f.bottom,T=S-f.left-f.right,F=a1(b-f[N],A),L=a1(S-f[C],T),B=!t.middlewareData.shift;let M=F,W=L;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(W=T),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=A),B&&!g){const Z=_d(f.left,0),K=_d(f.right,0),q=_d(f.top,0),ie=_d(f.bottom,0);p?W=S-2*(Z!==0||K!==0?Z+K:_d(f.left,f.right)):M=b-2*(q!==0||ie!==0?q+ie:_d(f.top,f.bottom))}await c({...t,availableWidth:W,availableHeight:M});const z=await o.getDimensions(l.floating);return S!==z.width||b!==z.height?{reset:{rects:!0}}:{}}}};function kj(){return typeof window<"u"}function My(e){return oee(e)?(e.nodeName||"").toLowerCase():"#document"}function Fd(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function k0(e){var t;return(t=(oee(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oee(e){return kj()?e instanceof Node||e instanceof Fd(e).Node:!1}function _h(e){return kj()?e instanceof Element||e instanceof Fd(e).Element:!1}function C0(e){return kj()?e instanceof HTMLElement||e instanceof Fd(e).HTMLElement:!1}function kU(e){return!kj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fd(e).ShadowRoot}const U_e=new Set(["inline","contents"]);function W4(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Nh(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!U_e.has(i)}const z_e=new Set(["table","td","th"]);function V_e(e){return z_e.has(My(e))}const W_e=[":popover-open",":modal"];function Pj(e){return W_e.some(t=>{try{return e.matches(t)}catch{return!1}})}const H_e=["transform","translate","scale","rotate","perspective"],q_e=["transform","translate","scale","rotate","perspective","filter"],G_e=["paint","layout","strict","content"];function C7(e){const t=A7(),r=_h(e)?Nh(e):e;return H_e.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||q_e.some(n=>(r.willChange||"").includes(n))||G_e.some(n=>(r.contain||"").includes(n))}function K_e(e){let t=i1(e);for(;C0(t)&&!B2(t);){if(C7(t))return t;if(Pj(t))return null;t=i1(t)}return null}function A7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Y_e=new Set(["html","body","#document"]);function B2(e){return Y_e.has(My(e))}function Nh(e){return Fd(e).getComputedStyle(e)}function Oj(e){return _h(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function i1(e){if(My(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kU(e)&&e.host||k0(e);return kU(t)?t.host:t}function lee(e){const t=i1(e);return B2(t)?e.ownerDocument?e.ownerDocument.body:e.body:C0(t)&&W4(t)?t:lee(t)}function P_(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=lee(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Fd(i);if(a){const l=sO(o);return t.concat(o,o.visualViewport||[],W4(i)?i:[],l&&r?P_(l):[])}return t.concat(i,P_(i,[],r))}function sO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cee(e){const t=Nh(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=C0(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=JS(r)!==a||JS(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function j7(e){return _h(e)?e:e.contextElement}function o2(e){const t=j7(e);if(!C0(t))return g0(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=cee(t);let o=(a?JS(r.width):r.width)/n,l=(a?JS(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const X_e=g0(0);function uee(e){const t=Fd(e);return!A7()||!t.visualViewport?X_e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function J_e(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Fd(e)?!1:t}function Xg(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=j7(e);let o=g0(1);t&&(n?_h(n)&&(o=o2(n)):o=o2(e));const l=J_e(a,r,n)?uee(a):g0(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(a){const g=Fd(a),p=n&&_h(n)?Fd(n):n;let S=g,b=sO(S);for(;b&&n&&p!==S;){const N=o2(b),C=b.getBoundingClientRect(),A=Nh(b),T=C.left+(b.clientLeft+parseFloat(A.paddingLeft))*N.x,F=C.top+(b.clientTop+parseFloat(A.paddingTop))*N.y;c*=N.x,u*=N.y,f*=N.x,h*=N.y,c+=T,u+=F,S=Fd(b),b=sO(S)}}return QS({width:f,height:h,x:c,y:u})}function Ij(e,t){const r=Oj(e).scrollLeft;return t?t.left+r:Xg(k0(e)).left+r}function dee(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ij(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Z_e(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=k0(n),l=t?Pj(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=g0(1);const f=g0(0),h=C0(n);if((h||!h&&!a)&&((My(n)!=="body"||W4(o))&&(c=Oj(n)),C0(n))){const p=Xg(n);u=o2(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const g=o&&!h&&!a?dee(o,c):g0(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function Q_e(e){return Array.from(e.getClientRects())}function e4e(e){const t=k0(e),r=Oj(e),n=e.ownerDocument.body,i=_d(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=_d(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ij(e);const l=-r.scrollTop;return Nh(n).direction==="rtl"&&(o+=_d(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const PU=25;function t4e(e,t){const r=Fd(e),n=k0(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const f=A7();(!f||f&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=Ij(n);if(u<=0){const f=n.ownerDocument,h=f.body,g=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,S=Math.abs(n.clientWidth-h.clientWidth-p);S<=PU&&(a-=S)}else u<=PU&&(a+=u);return{width:a,height:o,x:l,y:c}}const r4e=new Set(["absolute","fixed"]);function n4e(e,t){const r=Xg(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=C0(e)?o2(e):g0(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function OU(e,t,r){let n;if(t==="viewport")n=t4e(e,r);else if(t==="document")n=e4e(k0(e));else if(_h(t))n=n4e(t,r);else{const i=uee(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return QS(n)}function fee(e,t){const r=i1(e);return r===t||!_h(r)||B2(r)?!1:Nh(r).position==="fixed"||fee(r,t)}function a4e(e,t){const r=t.get(e);if(r)return r;let n=P_(e,[],!1).filter(l=>_h(l)&&My(l)!=="body"),i=null;const a=Nh(e).position==="fixed";let o=a?i1(e):e;for(;_h(o)&&!B2(o);){const l=Nh(o),c=C7(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&r4e.has(i.position)||W4(o)&&!c&&fee(e,o))?n=n.filter(f=>f!==o):i=l,o=i1(o)}return t.set(e,n),n}function i4e(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Pj(t)?[]:a4e(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const h=OU(t,f,i);return u.top=_d(h.top,u.top),u.right=a1(h.right,u.right),u.bottom=a1(h.bottom,u.bottom),u.left=_d(h.left,u.left),u},OU(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s4e(e){const{width:t,height:r}=cee(e);return{width:t,height:r}}function o4e(e,t,r){const n=C0(t),i=k0(t),a=r==="fixed",o=Xg(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=g0(0);function u(){c.x=Ij(i)}if(n||!n&&!a)if((My(t)!=="body"||W4(i))&&(l=Oj(t)),n){const p=Xg(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();a&&!n&&i&&u();const f=i&&!n&&!a?dee(i,l):g0(0),h=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:h,y:g,width:o.width,height:o.height}}function o8(e){return Nh(e).position==="static"}function IU(e,t){if(!C0(e)||Nh(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return k0(e)===r&&(r=r.ownerDocument.body),r}function hee(e,t){const r=Fd(e);if(Pj(e))return r;if(!C0(e)){let i=i1(e);for(;i&&!B2(i);){if(_h(i)&&!o8(i))return i;i=i1(i)}return r}let n=IU(e,t);for(;n&&V_e(n)&&o8(n);)n=IU(n,t);return n&&B2(n)&&o8(n)&&!C7(n)?r:n||K_e(e)||r}const l4e=async function(e){const t=this.getOffsetParent||hee,r=this.getDimensions,n=await r(e.floating);return{reference:o4e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function c4e(e){return Nh(e).direction==="rtl"}const u4e={convertOffsetParentRelativeRectToViewportRelativeRect:Z_e,getDocumentElement:k0,getClippingRect:i4e,getOffsetParent:hee,getElementRects:l4e,getClientRects:Q_e,getDimensions:s4e,getScale:o2,isElement:_h,isRTL:c4e};function mee(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function d4e(e,t){let r=null,n;const i=k0(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:h,width:g,height:p}=u;if(l||t(),!g||!p)return;const S=W3(h),b=W3(i.clientWidth-(f+g)),N=W3(i.clientHeight-(h+p)),C=W3(f),T={rootMargin:-S+"px "+-b+"px "+-N+"px "+-C+"px",threshold:_d(0,a1(1,c))||1};let F=!0;function L(B){const M=B[0].intersectionRatio;if(M!==c){if(!F)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!mee(u,e.getBoundingClientRect())&&o(),F=!1}try{r=new IntersectionObserver(L,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,T)}r.observe(e)}return o(!0),a}function f4e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=j7(e),f=i||a?[...u?P_(u):[],...P_(t)]:[];f.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),a&&C.addEventListener("resize",r)});const h=u&&l?d4e(u,r):null;let g=-1,p=null;o&&(p=new ResizeObserver(C=>{let[A]=C;A&&A.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let S,b=c?Xg(e):null;c&&N();function N(){const C=Xg(e);b&&!mee(b,C)&&r(),b=C,S=requestAnimationFrame(N)}return r(),()=>{var C;f.forEach(A=>{i&&A.removeEventListener("scroll",r),a&&A.removeEventListener("resize",r)}),h==null||h(),(C=p)==null||C.disconnect(),p=null,c&&cancelAnimationFrame(S)}}const h4e=M_e,m4e=L_e,p4e=F_e,g4e=$_e,x4e=D_e,FU=I_e,v4e=B_e,y4e=(e,t,r)=>{const n=new Map,i={platform:u4e,...r},a={...i.platform,_c:n};return O_e(e,t,{...i,platform:a})};var b4e=typeof document<"u",w4e=function(){},ZN=b4e?j.useLayoutEffect:w4e;function eC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!eC(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!eC(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function pee(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DU(e,t){const r=pee(e);return Math.round(t*r)/r}function l8(e){const t=j.useRef(e);return ZN(()=>{t.current=e}),t}function _4e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=j.useState(n);eC(g,n)||p(n);const[S,b]=j.useState(null),[N,C]=j.useState(null),A=j.useCallback(ce=>{ce!==B.current&&(B.current=ce,b(ce))},[]),T=j.useCallback(ce=>{ce!==M.current&&(M.current=ce,C(ce))},[]),F=a||S,L=o||N,B=j.useRef(null),M=j.useRef(null),W=j.useRef(f),z=c!=null,Z=l8(c),K=l8(i),q=l8(u),ie=j.useCallback(()=>{if(!B.current||!M.current)return;const ce={placement:t,strategy:r,middleware:g};K.current&&(ce.platform=K.current),y4e(B.current,M.current,ce).then(ge=>{const we={...ge,isPositioned:q.current!==!1};ae.current&&!eC(W.current,we)&&(W.current=we,px.flushSync(()=>{h(we)}))})},[g,t,r,K,q]);ZN(()=>{u===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,h(ce=>({...ce,isPositioned:!1})))},[u]);const ae=j.useRef(!1);ZN(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ZN(()=>{if(F&&(B.current=F),L&&(M.current=L),F&&L){if(Z.current)return Z.current(F,L,ie);ie()}},[F,L,ie,Z,z]);const X=j.useMemo(()=>({reference:B,floating:M,setReference:A,setFloating:T}),[A,T]),se=j.useMemo(()=>({reference:F,floating:L}),[F,L]),he=j.useMemo(()=>{const ce={position:r,left:0,top:0};if(!se.floating)return ce;const ge=DU(se.floating,f.x),we=DU(se.floating,f.y);return l?{...ce,transform:"translate("+ge+"px, "+we+"px)",...pee(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:we}},[r,l,se.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:ie,refs:X,elements:se,floatingStyles:he}),[f,ie,X,se,he])}const N4e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?FU({element:n.current,padding:i}).fn(r):{}:n?FU({element:n,padding:i}).fn(r):{}}}},S4e=(e,t)=>({...h4e(e),options:[e,t]}),C4e=(e,t)=>({...m4e(e),options:[e,t]}),A4e=(e,t)=>({...v4e(e),options:[e,t]}),j4e=(e,t)=>({...p4e(e),options:[e,t]}),E4e=(e,t)=>({...g4e(e),options:[e,t]}),T4e=(e,t)=>({...x4e(e),options:[e,t]}),k4e=(e,t)=>({...N4e(e),options:[e,t]});var P4e="Arrow",gee=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(In.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});gee.displayName=P4e;var O4e=gee;function Fj(e){const[t,r]=j.useState(void 0);return rl(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var E7="Popper",[xee,y1]=dc(E7),[I4e,vee]=xee(E7),yee=e=>{const{__scopePopper:t,children:r}=e,[n,i]=j.useState(null);return s.jsx(I4e,{scope:t,anchor:n,onAnchorChange:i,children:r})};yee.displayName=E7;var bee="PopperAnchor",wee=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=vee(bee,r),o=j.useRef(null),l=ka(t,o),c=j.useRef(null);return j.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(In.div,{...i,ref:l})});wee.displayName=bee;var T7="PopperContent",[F4e,D4e]=xee(T7),_ee=j.forwardRef((e,t)=>{var xe,Ne,Se,je,Ge,De;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:S,...b}=e,N=vee(T7,r),[C,A]=j.useState(null),T=ka(t,at=>A(at)),[F,L]=j.useState(null),B=Fj(F),M=(B==null?void 0:B.width)??0,W=(B==null?void 0:B.height)??0,z=n+(a!=="center"?"-"+a:""),Z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},K=Array.isArray(u)?u:[u],q=K.length>0,ie={padding:Z,boundary:K.filter(M4e),altBoundary:q},{refs:ae,floatingStyles:X,placement:se,isPositioned:he,middlewareData:ce}=_4e({strategy:"fixed",placement:z,whileElementsMounted:(...at)=>f4e(...at,{animationFrame:p==="always"}),elements:{reference:N.anchor},middleware:[S4e({mainAxis:i+W,alignmentAxis:o}),c&&C4e({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?A4e():void 0,...ie}),c&&j4e({...ie}),E4e({...ie,apply:({elements:at,rects:ot,availableWidth:ht,availableHeight:Ue})=>{const{width:Ct,height:tr}=ot.reference,Ot=at.floating.style;Ot.setProperty("--radix-popper-available-width",`${ht}px`),Ot.setProperty("--radix-popper-available-height",`${Ue}px`),Ot.setProperty("--radix-popper-anchor-width",`${Ct}px`),Ot.setProperty("--radix-popper-anchor-height",`${tr}px`)}}),F&&k4e({element:F,padding:l}),L4e({arrowWidth:M,arrowHeight:W}),g&&T4e({strategy:"referenceHidden",...ie})]}),[ge,we]=Cee(se),Ce=Ou(S);rl(()=>{he&&(Ce==null||Ce())},[he,Ce]);const Q=(xe=ce.arrow)==null?void 0:xe.x,le=(Ne=ce.arrow)==null?void 0:Ne.y,ne=((Se=ce.arrow)==null?void 0:Se.centerOffset)!==0,[ee,pe]=j.useState();return rl(()=>{C&&pe(window.getComputedStyle(C).zIndex)},[C]),s.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:he?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(je=ce.transformOrigin)==null?void 0:je.x,(Ge=ce.transformOrigin)==null?void 0:Ge.y].join(" "),...((De=ce.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(F4e,{scope:r,placedSide:ge,onArrowChange:L,arrowX:Q,arrowY:le,shouldHideArrow:ne,children:s.jsx(In.div,{"data-side":ge,"data-align":we,...b,ref:T,style:{...b.style,animation:he?void 0:"none"}})})})});_ee.displayName=T7;var Nee="PopperArrow",R4e={top:"bottom",right:"left",bottom:"top",left:"right"},See=j.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=D4e(Nee,n),o=R4e[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(O4e,{...i,ref:r,style:{...i.style,display:"block"}})})});See.displayName=Nee;function M4e(e){return e!==null}var L4e=e=>({name:"transformOrigin",options:e,fn(t){var N,C,A;const{placement:r,rects:n,middlewareData:i}=t,o=((N=i.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=Cee(r),h={start:"0%",center:"50%",end:"100%"}[f],g=(((C=i.arrow)==null?void 0:C.x)??0)+l/2,p=(((A=i.arrow)==null?void 0:A.y)??0)+c/2;let S="",b="";return u==="bottom"?(S=o?h:`${g}px`,b=`${-c}px`):u==="top"?(S=o?h:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(S=`${-c}px`,b=o?h:`${p}px`):u==="left"&&(S=`${n.floating.width+c}px`,b=o?h:`${p}px`),{data:{x:S,y:b}}}});function Cee(e){const[t,r="center"]=e.split("-");return[t,r]}var Dj=yee,H4=wee,Rj=_ee,Mj=See,c8="rovingFocusGroup.onEntryFocus",B4e={bubbles:!1,cancelable:!0},q4="RovingFocusGroup",[oO,Aee,$4e]=Ty(q4),[U4e,Ly]=dc(q4,[$4e]),[z4e,V4e]=U4e(q4),jee=j.forwardRef((e,t)=>s.jsx(oO.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(oO.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(W4e,{...e,ref:t})})}));jee.displayName=q4;var W4e=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,g=j.useRef(null),p=ka(t,g),S=bx(a),[b,N]=cc({prop:o,defaultProp:l??null,onChange:c,caller:q4}),[C,A]=j.useState(!1),T=Ou(u),F=Aee(r),L=j.useRef(!1),[B,M]=j.useState(0);return j.useEffect(()=>{const W=g.current;if(W)return W.addEventListener(c8,T),()=>W.removeEventListener(c8,T)},[T]),s.jsx(z4e,{scope:r,orientation:n,dir:S,loop:i,currentTabStopId:b,onItemFocus:j.useCallback(W=>N(W),[N]),onItemShiftTab:j.useCallback(()=>A(!0),[]),onFocusableItemAdd:j.useCallback(()=>M(W=>W+1),[]),onFocusableItemRemove:j.useCallback(()=>M(W=>W-1),[]),children:s.jsx(In.div,{tabIndex:C||B===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Lr(e.onMouseDown,()=>{L.current=!0}),onFocus:Lr(e.onFocus,W=>{const z=!L.current;if(W.target===W.currentTarget&&z&&!C){const Z=new CustomEvent(c8,B4e);if(W.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const K=F().filter(se=>se.focusable),q=K.find(se=>se.active),ie=K.find(se=>se.id===b),X=[q,ie,...K].filter(Boolean).map(se=>se.ref.current);kee(X,f)}}L.current=!1}),onBlur:Lr(e.onBlur,()=>A(!1))})})}),Eee="RovingFocusGroupItem",Tee=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=sd(),u=a||c,f=V4e(Eee,r),h=f.currentTabStopId===u,g=Aee(r),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:b}=f;return j.useEffect(()=>{if(n)return p(),()=>S()},[n,p,S]),s.jsx(oO.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(In.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Lr(e.onMouseDown,N=>{n?f.onItemFocus(u):N.preventDefault()}),onFocus:Lr(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Lr(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){f.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const C=G4e(N,f.orientation,f.dir);if(C!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=g().filter(F=>F.focusable).map(F=>F.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const F=T.indexOf(N.currentTarget);T=f.loop?K4e(T,F+1):T.slice(F+1)}setTimeout(()=>kee(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:b!=null}):o})})});Tee.displayName=Eee;var H4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q4e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function G4e(e,t,r){const n=q4e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return H4e[n]}function kee(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function K4e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k7=jee,P7=Tee;function Y4e(e){const t=X4e(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(Z4e);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function X4e(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=e5e(i),l=Q4e(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var J4e=Symbol("radix.slottable");function Z4e(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===J4e}function Q4e(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function e5e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var t5e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},sv=new WeakMap,H3=new WeakMap,q3={},u8=0,Pee=function(e){return e&&(e.host||Pee(e.parentNode))},r5e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Pee(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},n5e=function(e,t,r,n){var i=r5e(t,Array.isArray(e)?e:[e]);q3[r]||(q3[r]=new WeakMap);var a=q3[r],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(l.has(g))f(g);else try{var p=g.getAttribute(n),S=p!==null&&p!=="false",b=(sv.get(g)||0)+1,N=(a.get(g)||0)+1;sv.set(g,b),a.set(g,N),o.push(g),b===1&&S&&H3.set(g,!0),N===1&&g.setAttribute(r,"true"),S||g.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return f(t),l.clear(),u8++,function(){o.forEach(function(h){var g=sv.get(h)-1,p=a.get(h)-1;sv.set(h,g),a.set(h,p),g||(H3.has(h)||h.removeAttribute(n),H3.delete(h)),p||h.removeAttribute(r)}),u8--,u8||(sv=new WeakMap,sv=new WeakMap,H3=new WeakMap,q3={})}},Lj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||t5e(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),n5e(n,i,r,"aria-hidden")):function(){return null}},QN="right-scroll-bar-position",eS="width-before-scroll-bar",a5e="with-scroll-bars-hidden",i5e="--removed-body-scroll-bar-size";function d8(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s5e(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var o5e=typeof window<"u"?j.useLayoutEffect:j.useEffect,RU=new WeakMap;function l5e(e,t){var r=s5e(t||null,function(n){return e.forEach(function(i){return d8(i,n)})});return o5e(function(){var n=RU.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||d8(l,null)}),a.forEach(function(l){i.has(l)||d8(l,o)})}RU.set(r,e)},[e]),r}function c5e(e){return e}function u5e(e,t){t===void 0&&(t=c5e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function d5e(e){e===void 0&&(e={});var t=u5e(null);return t.options=i0({async:!0,ssr:!1},e),t}var Oee=function(e){var t=e.sideCar,r=pQ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,i0({},r))};Oee.isSideCarExport=!0;function f5e(e,t){return e.useMedium(t),Oee}var Iee=d5e(),f8=function(){},Bj=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:f8,onWheelCapture:f8,onTouchMoveCapture:f8}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,p=e.noRelative,S=e.noIsolation,b=e.inert,N=e.allowPinchZoom,C=e.as,A=C===void 0?"div":C,T=e.gapMode,F=pQ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,B=l5e([r,t]),M=i0(i0({},F),i);return j.createElement(j.Fragment,null,f&&j.createElement(L,{sideCar:Iee,removeScrollBar:u,shards:h,noRelative:p,noIsolation:S,inert:b,setCallbacks:a,allowPinchZoom:!!N,lockRef:r,gapMode:T}),o?j.cloneElement(j.Children.only(l),i0(i0({},M),{ref:B})):j.createElement(A,i0({},M,{className:c,ref:B}),l))});Bj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bj.classNames={fullWidth:eS,zeroRight:QN};var MU,h5e=function(){if(MU)return MU;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m5e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=h5e();return t&&e.setAttribute("nonce",t),e}function p5e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function g5e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x5e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=m5e())&&(p5e(t,r),g5e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},v5e=function(){var e=x5e();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Fee=function(){var e=v5e(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},y5e={left:0,top:0,right:0,gap:0},h8=function(e){return parseInt(e||"",10)||0},b5e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[h8(r),h8(n),h8(i)]},w5e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return y5e;var t=b5e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_5e=Fee(),l2="data-scroll-locked",N5e=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(a5e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(l2,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(QN,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(eS,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(QN," .").concat(QN,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(eS," .").concat(eS,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(l2,`] {
    `).concat(i5e,": ").concat(l,`px;
  }
`)},LU=function(){var e=parseInt(document.body.getAttribute(l2)||"0",10);return isFinite(e)?e:0},S5e=function(){j.useEffect(function(){return document.body.setAttribute(l2,(LU()+1).toString()),function(){var e=LU()-1;e<=0?document.body.removeAttribute(l2):document.body.setAttribute(l2,e.toString())}},[])},C5e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;S5e();var a=j.useMemo(function(){return w5e(i)},[i]);return j.createElement(_5e,{styles:N5e(a,!t,i,r?"":"!important")})},lO=!1;if(typeof window<"u")try{var G3=Object.defineProperty({},"passive",{get:function(){return lO=!0,!0}});window.addEventListener("test",G3,G3),window.removeEventListener("test",G3,G3)}catch{lO=!1}var ov=lO?{passive:!1}:!1,A5e=function(e){return e.tagName==="TEXTAREA"},Dee=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!A5e(e)&&r[t]==="visible")},j5e=function(e){return Dee(e,"overflowY")},E5e=function(e){return Dee(e,"overflowX")},BU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Ree(e,n);if(i){var a=Mee(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},T5e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},k5e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Ree=function(e,t){return e==="v"?j5e(t):E5e(t)},Mee=function(e,t){return e==="v"?T5e(t):k5e(t)},P5e=function(e,t){return e==="h"&&t==="rtl"?-1:1},O5e=function(e,t,r,n,i){var a=P5e(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,f=o>0,h=0,g=0;do{if(!l)break;var p=Mee(e,l),S=p[0],b=p[1],N=p[2],C=b-N-a*S;(S||C)&&Ree(e,l)&&(h+=C,g+=S);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(i&&Math.abs(h)<1||!i&&o>h)||!f&&(i&&Math.abs(g)<1||!i&&-o>g))&&(u=!0),u},K3=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$U=function(e){return[e.deltaX,e.deltaY]},UU=function(e){return e&&"current"in e?e.current:e},I5e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F5e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},D5e=0,lv=[];function R5e(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(D5e++)[0],a=j.useState(Fee)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Z2e([e.lockRef.current],(e.shards||[]).map(UU),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var C=K3(b),A=r.current,T="deltaX"in b?b.deltaX:A[0]-C[0],F="deltaY"in b?b.deltaY:A[1]-C[1],L,B=b.target,M=Math.abs(T)>Math.abs(F)?"h":"v";if("touches"in b&&M==="h"&&B.type==="range")return!1;var W=BU(M,B);if(!W)return!0;if(W?L=M:(L=M==="v"?"h":"v",W=BU(M,B)),!W)return!1;if(!n.current&&"changedTouches"in b&&(T||F)&&(n.current=L),!L)return!0;var z=n.current||L;return O5e(z,N,b,z==="h"?T:F,!0)},[]),c=j.useCallback(function(b){var N=b;if(!(!lv.length||lv[lv.length-1]!==a)){var C="deltaY"in N?$U(N):K3(N),A=t.current.filter(function(L){return L.name===N.type&&(L.target===N.target||N.target===L.shadowParent)&&I5e(L.delta,C)})[0];if(A&&A.should){N.cancelable&&N.preventDefault();return}if(!A){var T=(o.current.shards||[]).map(UU).filter(Boolean).filter(function(L){return L.contains(N.target)}),F=T.length>0?l(N,T[0]):!o.current.noIsolation;F&&N.cancelable&&N.preventDefault()}}},[]),u=j.useCallback(function(b,N,C,A){var T={name:b,delta:N,target:C,should:A,shadowParent:M5e(C)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(F){return F!==T})},1)},[]),f=j.useCallback(function(b){r.current=K3(b),n.current=void 0},[]),h=j.useCallback(function(b){u(b.type,$U(b),b.target,l(b,e.lockRef.current))},[]),g=j.useCallback(function(b){u(b.type,K3(b),b.target,l(b,e.lockRef.current))},[]);j.useEffect(function(){return lv.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ov),document.addEventListener("touchmove",c,ov),document.addEventListener("touchstart",f,ov),function(){lv=lv.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,ov),document.removeEventListener("touchmove",c,ov),document.removeEventListener("touchstart",f,ov)}},[]);var p=e.removeScrollBar,S=e.inert;return j.createElement(j.Fragment,null,S?j.createElement(a,{styles:F5e(i)}):null,p?j.createElement(C5e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function M5e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const L5e=f5e(Iee,R5e);var Lee=j.forwardRef(function(e,t){return j.createElement(Bj,i0({},e,{ref:t,sideCar:L5e}))});Lee.classNames=Bj.classNames;const $j=Lee;var cO=["Enter"," "],B5e=["ArrowDown","PageUp","Home"],Bee=["ArrowUp","PageDown","End"],$5e=[...B5e,...Bee],U5e={ltr:[...cO,"ArrowRight"],rtl:[...cO,"ArrowLeft"]},z5e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},G4="Menu",[O_,V5e,W5e]=Ty(G4),[wx,$ee]=dc(G4,[W5e,y1,Ly]),Uj=y1(),Uee=Ly(),[H5e,_x]=wx(G4),[q5e,K4]=wx(G4),zee=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,l=Uj(t),[c,u]=j.useState(null),f=j.useRef(!1),h=Ou(a),g=bx(i);return j.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),s.jsx(Dj,{...l,children:s.jsx(H5e,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(q5e,{scope:t,onClose:j.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};zee.displayName=G4;var G5e="MenuAnchor",O7=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Uj(r);return s.jsx(H4,{...i,...n,ref:t})});O7.displayName=G5e;var I7="MenuPortal",[K5e,Vee]=wx(I7,{forceMount:void 0}),Wee=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=_x(I7,t);return s.jsx(K5e,{scope:t,forceMount:r,children:s.jsx(Bu,{present:r||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:n})})})};Wee.displayName=I7;var Cf="MenuContent",[Y5e,F7]=wx(Cf),Hee=j.forwardRef((e,t)=>{const r=Vee(Cf,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=_x(Cf,e.__scopeMenu),o=K4(Cf,e.__scopeMenu);return s.jsx(O_.Provider,{scope:e.__scopeMenu,children:s.jsx(Bu,{present:n||a.open,children:s.jsx(O_.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(X5e,{...i,ref:t}):s.jsx(J5e,{...i,ref:t})})})})}),X5e=j.forwardRef((e,t)=>{const r=_x(Cf,e.__scopeMenu),n=j.useRef(null),i=ka(t,n);return j.useEffect(()=>{const a=n.current;if(a)return Lj(a)},[]),s.jsx(D7,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Lr(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),J5e=j.forwardRef((e,t)=>{const r=_x(Cf,e.__scopeMenu);return s.jsx(D7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Z5e=Y4e("MenuContent.ScrollLock"),D7=j.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:p,disableOutsideScroll:S,...b}=e,N=_x(Cf,r),C=K4(Cf,r),A=Uj(r),T=Uee(r),F=V5e(r),[L,B]=j.useState(null),M=j.useRef(null),W=ka(t,M,N.onContentChange),z=j.useRef(0),Z=j.useRef(""),K=j.useRef(0),q=j.useRef(null),ie=j.useRef("right"),ae=j.useRef(0),X=S?$j:j.Fragment,se=S?{as:Z5e,allowPinchZoom:!0}:void 0,he=ge=>{var xe,Ne;const we=Z.current+ge,Ce=F().filter(Se=>!Se.disabled),Q=document.activeElement,le=(xe=Ce.find(Se=>Se.ref.current===Q))==null?void 0:xe.textValue,ne=Ce.map(Se=>Se.textValue),ee=u3e(ne,we,le),pe=(Ne=Ce.find(Se=>Se.textValue===ee))==null?void 0:Ne.ref.current;(function Se(je){Z.current=je,window.clearTimeout(z.current),je!==""&&(z.current=window.setTimeout(()=>Se(""),1e3))})(we),pe&&setTimeout(()=>pe.focus())};j.useEffect(()=>()=>window.clearTimeout(z.current),[]),Tj();const ce=j.useCallback(ge=>{var Ce,Q;return ie.current===((Ce=q.current)==null?void 0:Ce.side)&&f3e(ge,(Q=q.current)==null?void 0:Q.area)},[]);return s.jsx(Y5e,{scope:r,searchRef:Z,onItemEnter:j.useCallback(ge=>{ce(ge)&&ge.preventDefault()},[ce]),onItemLeave:j.useCallback(ge=>{var we;ce(ge)||((we=M.current)==null||we.focus(),B(null))},[ce]),onTriggerLeave:j.useCallback(ge=>{ce(ge)&&ge.preventDefault()},[ce]),pointerGraceTimerRef:K,onPointerGraceIntentChange:j.useCallback(ge=>{q.current=ge},[]),children:s.jsx(X,{...se,children:s.jsx(V4,{asChild:!0,trapped:i,onMountAutoFocus:Lr(a,ge=>{var we;ge.preventDefault(),(we=M.current)==null||we.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(xx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:p,children:s.jsx(k7,{asChild:!0,...T,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:L,onCurrentTabStopIdChange:B,onEntryFocus:Lr(c,ge=>{C.isUsingKeyboardRef.current||ge.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Rj,{role:"menu","aria-orientation":"vertical","data-state":ote(N.open),"data-radix-menu-content":"",dir:C.dir,...A,...b,ref:W,style:{outline:"none",...b.style},onKeyDown:Lr(b.onKeyDown,ge=>{const Ce=ge.target.closest("[data-radix-menu-content]")===ge.currentTarget,Q=ge.ctrlKey||ge.altKey||ge.metaKey,le=ge.key.length===1;Ce&&(ge.key==="Tab"&&ge.preventDefault(),!Q&&le&&he(ge.key));const ne=M.current;if(ge.target!==ne||!$5e.includes(ge.key))return;ge.preventDefault();const pe=F().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);Bee.includes(ge.key)&&pe.reverse(),l3e(pe)}),onBlur:Lr(e.onBlur,ge=>{ge.currentTarget.contains(ge.target)||(window.clearTimeout(z.current),Z.current="")}),onPointerMove:Lr(e.onPointerMove,I_(ge=>{const we=ge.target,Ce=ae.current!==ge.clientX;if(ge.currentTarget.contains(we)&&Ce){const Q=ge.clientX>ae.current?"right":"left";ie.current=Q,ae.current=ge.clientX}}))})})})})})})});Hee.displayName=Cf;var Q5e="MenuGroup",R7=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(In.div,{role:"group",...n,ref:t})});R7.displayName=Q5e;var e3e="MenuLabel",qee=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(In.div,{...n,ref:t})});qee.displayName=e3e;var tC="MenuItem",zU="menu.itemSelect",zj=j.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=j.useRef(null),o=K4(tC,e.__scopeMenu),l=F7(tC,e.__scopeMenu),c=ka(t,a),u=j.useRef(!1),f=()=>{const h=a.current;if(!r&&h){const g=new CustomEvent(zU,{bubbles:!0,cancelable:!0});h.addEventListener(zU,p=>n==null?void 0:n(p),{once:!0}),VD(h,g),g.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Gee,{...i,ref:c,disabled:r,onClick:Lr(e.onClick,f),onPointerDown:h=>{var g;(g=e.onPointerDown)==null||g.call(e,h),u.current=!0},onPointerUp:Lr(e.onPointerUp,h=>{var g;u.current||(g=h.currentTarget)==null||g.click()}),onKeyDown:Lr(e.onKeyDown,h=>{const g=l.searchRef.current!=="";r||g&&h.key===" "||cO.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});zj.displayName=tC;var Gee=j.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=F7(tC,r),l=Uee(r),c=j.useRef(null),u=ka(t,c),[f,h]=j.useState(!1),[g,p]=j.useState("");return j.useEffect(()=>{const S=c.current;S&&p((S.textContent??"").trim())},[a.children]),s.jsx(O_.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:s.jsx(P7,{asChild:!0,...l,focusable:!n,children:s.jsx(In.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Lr(e.onPointerMove,I_(S=>{n?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Lr(e.onPointerLeave,I_(S=>o.onItemLeave(S))),onFocus:Lr(e.onFocus,()=>h(!0)),onBlur:Lr(e.onBlur,()=>h(!1))})})})}),t3e="MenuCheckboxItem",Kee=j.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return s.jsx(Qee,{scope:e.__scopeMenu,checked:r,children:s.jsx(zj,{role:"menuitemcheckbox","aria-checked":rC(r)?"mixed":r,...i,ref:t,"data-state":L7(r),onSelect:Lr(i.onSelect,()=>n==null?void 0:n(rC(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Kee.displayName=t3e;var Yee="MenuRadioGroup",[r3e,n3e]=wx(Yee,{value:void 0,onValueChange:()=>{}}),Xee=j.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Ou(n);return s.jsx(r3e,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(R7,{...i,ref:t})})});Xee.displayName=Yee;var Jee="MenuRadioItem",Zee=j.forwardRef((e,t)=>{const{value:r,...n}=e,i=n3e(Jee,e.__scopeMenu),a=r===i.value;return s.jsx(Qee,{scope:e.__scopeMenu,checked:a,children:s.jsx(zj,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":L7(a),onSelect:Lr(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});Zee.displayName=Jee;var M7="MenuItemIndicator",[Qee,a3e]=wx(M7,{checked:!1}),ete=j.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=a3e(M7,r);return s.jsx(Bu,{present:n||rC(a.checked)||a.checked===!0,children:s.jsx(In.span,{...i,ref:t,"data-state":L7(a.checked)})})});ete.displayName=M7;var i3e="MenuSeparator",tte=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(In.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});tte.displayName=i3e;var s3e="MenuArrow",rte=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Uj(r);return s.jsx(Mj,{...i,...n,ref:t})});rte.displayName=s3e;var o3e="MenuSub",[Hvt,nte]=wx(o3e),ww="MenuSubTrigger",ate=j.forwardRef((e,t)=>{const r=_x(ww,e.__scopeMenu),n=K4(ww,e.__scopeMenu),i=nte(ww,e.__scopeMenu),a=F7(ww,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(O7,{asChild:!0,...u,children:s.jsx(Gee,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":ote(r.open),...e,ref:T0(t,i.onTriggerChange),onClick:h=>{var g;(g=e.onClick)==null||g.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Lr(e.onPointerMove,I_(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Lr(e.onPointerLeave,I_(h=>{var p,S;f();const g=(p=r.content)==null?void 0:p.getBoundingClientRect();if(g){const b=(S=r.content)==null?void 0:S.dataset.side,N=b==="right",C=N?-5:5,A=g[N?"left":"right"],T=g[N?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+C,y:h.clientY},{x:A,y:g.top},{x:T,y:g.top},{x:T,y:g.bottom},{x:A,y:g.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Lr(e.onKeyDown,h=>{var p;const g=a.searchRef.current!=="";e.disabled||g&&h.key===" "||U5e[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});ate.displayName=ww;var ite="MenuSubContent",ste=j.forwardRef((e,t)=>{const r=Vee(Cf,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=_x(Cf,e.__scopeMenu),o=K4(Cf,e.__scopeMenu),l=nte(ite,e.__scopeMenu),c=j.useRef(null),u=ka(t,c);return s.jsx(O_.Provider,{scope:e.__scopeMenu,children:s.jsx(Bu,{present:n||a.open,children:s.jsx(O_.Slot,{scope:e.__scopeMenu,children:s.jsx(D7,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Lr(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Lr(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Lr(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),g=z5e[o.dir].includes(f.key);h&&g&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});ste.displayName=ite;function ote(e){return e?"open":"closed"}function rC(e){return e==="indeterminate"}function L7(e){return rC(e)?"indeterminate":e?"checked":"unchecked"}function l3e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function c3e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function u3e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=c3e(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function d3e(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,f=l.y,h=c.x,g=c.y;f>n!=g>n&&r<(h-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function f3e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return d3e(r,t)}function I_(e){return t=>t.pointerType==="mouse"?e(t):void 0}var h3e=zee,m3e=O7,p3e=Wee,g3e=Hee,x3e=R7,v3e=qee,y3e=zj,b3e=Kee,w3e=Xee,_3e=Zee,N3e=ete,S3e=tte,C3e=rte,A3e=ate,j3e=ste,Vj="DropdownMenu",[E3e,qvt]=dc(Vj,[$ee]),$u=$ee(),[T3e,lte]=E3e(Vj),cte=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=$u(t),u=j.useRef(null),[f,h]=cc({prop:i,defaultProp:a??!1,onChange:o,caller:Vj});return s.jsx(T3e,{scope:t,triggerId:sd(),triggerRef:u,contentId:sd(),open:f,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(g=>!g),[h]),modal:l,children:s.jsx(h3e,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};cte.displayName=Vj;var ute="DropdownMenuTrigger",dte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=lte(ute,r),o=$u(r);return s.jsx(m3e,{asChild:!0,...o,children:s.jsx(In.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:T0(t,a.triggerRef),onPointerDown:Lr(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Lr(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});dte.displayName=ute;var k3e="DropdownMenuPortal",fte=e=>{const{__scopeDropdownMenu:t,...r}=e,n=$u(t);return s.jsx(p3e,{...n,...r})};fte.displayName=k3e;var hte="DropdownMenuContent",mte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=lte(hte,r),a=$u(r),o=j.useRef(!1);return s.jsx(g3e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:Lr(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Lr(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mte.displayName=hte;var P3e="DropdownMenuGroup",O3e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(x3e,{...i,...n,ref:t})});O3e.displayName=P3e;var I3e="DropdownMenuLabel",pte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(v3e,{...i,...n,ref:t})});pte.displayName=I3e;var F3e="DropdownMenuItem",gte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(y3e,{...i,...n,ref:t})});gte.displayName=F3e;var D3e="DropdownMenuCheckboxItem",xte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(b3e,{...i,...n,ref:t})});xte.displayName=D3e;var R3e="DropdownMenuRadioGroup",M3e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(w3e,{...i,...n,ref:t})});M3e.displayName=R3e;var L3e="DropdownMenuRadioItem",vte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(_3e,{...i,...n,ref:t})});vte.displayName=L3e;var B3e="DropdownMenuItemIndicator",yte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(N3e,{...i,...n,ref:t})});yte.displayName=B3e;var $3e="DropdownMenuSeparator",bte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(S3e,{...i,...n,ref:t})});bte.displayName=$3e;var U3e="DropdownMenuArrow",z3e=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(C3e,{...i,...n,ref:t})});z3e.displayName=U3e;var V3e="DropdownMenuSubTrigger",wte=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(A3e,{...i,...n,ref:t})});wte.displayName=V3e;var W3e="DropdownMenuSubContent",_te=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=$u(r);return s.jsx(j3e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_te.displayName=W3e;var H3e=cte,q3e=dte,G3e=fte,Nte=mte,Ste=pte,Cte=gte,Ate=xte,jte=vte,Ete=yte,Tte=bte,kte=wte,Pte=_te;const Y4=H3e,X4=q3e,K3e=Ie.forwardRef(({className:e,inset:t,children:r,...n},i)=>s.jsxs(kte,{ref:i,className:Ir("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Hg,{className:"ml-auto h-4 w-4"})]}));K3e.displayName=kte.displayName;const Y3e=Ie.forwardRef(({className:e,...t},r)=>s.jsx(Pte,{ref:r,className:Ir("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Y3e.displayName=Pte.displayName;const By=Ie.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(G3e,{children:s.jsx(Nte,{ref:n,sideOffset:t,className:Ir("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));By.displayName=Nte.displayName;const Qu=Ie.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Cte,{ref:n,className:Ir("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Qu.displayName=Cte.displayName;const X3e=Ie.forwardRef(({className:e,children:t,checked:r,...n},i)=>s.jsxs(Ate,{ref:i,className:Ir("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ete,{children:s.jsx(yx,{className:"h-4 w-4"})})}),t]}));X3e.displayName=Ate.displayName;const J3e=Ie.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jte,{ref:n,className:Ir("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ete,{children:s.jsx(u2e,{className:"h-2 w-2 fill-current"})})}),t]}));J3e.displayName=jte.displayName;const J4=Ie.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Ste,{ref:n,className:Ir("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));J4.displayName=Ste.displayName;const s1=Ie.forwardRef(({className:e,...t},r)=>s.jsx(Tte,{ref:r,className:Ir("-mx-1 my-1 h-px bg-muted",e),...t}));s1.displayName=Tte.displayName;function Z3e(e){const t=Q3e(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(tNe);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Q3e(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=nNe(i),l=rNe(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eNe=Symbol("radix.slottable");function tNe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eNe}function rNe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function nNe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wj="Dialog",[Ote,Ite]=dc(Wj),[aNe,Eh]=Ote(Wj),Fte=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,f]=cc({prop:n,defaultProp:i??!1,onChange:a,caller:Wj});return s.jsx(aNe,{scope:t,triggerRef:l,contentRef:c,contentId:sd(),titleId:sd(),descriptionId:sd(),open:u,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};Fte.displayName=Wj;var Dte="DialogTrigger",Rte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Eh(Dte,r),a=ka(t,i.triggerRef);return s.jsx(In.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":U7(i.open),...n,ref:a,onClick:Lr(e.onClick,i.onOpenToggle)})});Rte.displayName=Dte;var B7="DialogPortal",[iNe,Mte]=Ote(B7,{forceMount:void 0}),Lte=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Eh(B7,t);return s.jsx(iNe,{scope:t,forceMount:r,children:j.Children.map(n,o=>s.jsx(Bu,{present:r||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:o})}))})};Lte.displayName=B7;var nC="DialogOverlay",Bte=j.forwardRef((e,t)=>{const r=Mte(nC,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Eh(nC,e.__scopeDialog);return a.modal?s.jsx(Bu,{present:n||a.open,children:s.jsx(oNe,{...i,ref:t})}):null});Bte.displayName=nC;var sNe=Z3e("DialogOverlay.RemoveScroll"),oNe=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Eh(nC,r);return s.jsx($j,{as:sNe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(In.div,{"data-state":U7(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jg="DialogContent",$te=j.forwardRef((e,t)=>{const r=Mte(Jg,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Eh(Jg,e.__scopeDialog);return s.jsx(Bu,{present:n||a.open,children:a.modal?s.jsx(lNe,{...i,ref:t}):s.jsx(cNe,{...i,ref:t})})});$te.displayName=Jg;var lNe=j.forwardRef((e,t)=>{const r=Eh(Jg,e.__scopeDialog),n=j.useRef(null),i=ka(t,r.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return Lj(a)},[]),s.jsx(Ute,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Lr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Lr(e.onFocusOutside,a=>a.preventDefault())})}),cNe=j.forwardRef((e,t)=>{const r=Eh(Jg,e.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return s.jsx(Ute,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ute=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Eh(Jg,r),c=j.useRef(null),u=ka(t,c);return Tj(),s.jsxs(s.Fragment,{children:[s.jsx(V4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(xx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":U7(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(dNe,{titleId:l.titleId}),s.jsx(hNe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$7="DialogTitle",zte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Eh($7,r);return s.jsx(In.h2,{id:i.titleId,...n,ref:t})});zte.displayName=$7;var Vte="DialogDescription",Wte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Eh(Vte,r);return s.jsx(In.p,{id:i.descriptionId,...n,ref:t})});Wte.displayName=Vte;var Hte="DialogClose",qte=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Eh(Hte,r);return s.jsx(In.button,{type:"button",...n,ref:t,onClick:Lr(e.onClick,()=>i.onOpenChange(!1))})});qte.displayName=Hte;function U7(e){return e?"open":"closed"}var Gte="DialogTitleWarning",[uNe,Kte]=nve(Gte,{contentName:Jg,titleName:$7,docsSlug:"dialog"}),dNe=({titleId:e})=>{const t=Kte(Gte),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},fNe="DialogDescriptionWarning",hNe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kte(fNe).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},z7=Fte,V7=Rte,W7=Lte,Z4=Bte,Q4=$te,e5=zte,t5=Wte,Hj=qte;const Yte=z7,Xte=V7,mNe=W7,Jte=Ie.forwardRef(({className:e,...t},r)=>s.jsx(Z4,{className:Ir("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Jte.displayName=Z4.displayName;const pNe=vx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),H7=Ie.forwardRef(({side:e="right",className:t,children:r,...n},i)=>s.jsxs(mNe,{children:[s.jsx(Jte,{}),s.jsxs(Q4,{ref:i,className:Ir(pNe({side:e}),t),...n,children:[r,s.jsxs(Hj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(wl,{className:"h-6 w-6"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));H7.displayName=Q4.displayName;const q7=({className:e,...t})=>s.jsx("div",{className:Ir("flex flex-col space-y-2 text-center sm:text-left",e),...t});q7.displayName="SheetHeader";const G7=({className:e,...t})=>s.jsx("div",{className:Ir("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});G7.displayName="SheetFooter";const K7=Ie.forwardRef(({className:e,...t},r)=>s.jsx(e5,{ref:r,className:Ir("text-lg font-semibold text-foreground",e),...t}));K7.displayName=e5.displayName;const gNe=Ie.forwardRef(({className:e,...t},r)=>s.jsx(t5,{ref:r,className:Ir("text-sm text-muted-foreground",e),...t}));gNe.displayName=t5.displayName;const m8=[{code:"fr",name:"Franais",flag:""},{code:"en",name:"English",flag:""}],Zte=()=>{const{i18n:e}=za(),t=i=>{e&&e.changeLanguage&&e.changeLanguage(i)},r=e&&e.language?e.language.split("-")[0]:"fr",n=m8.find(i=>i.code===r)||m8[0];return s.jsxs(Y4,{children:[s.jsx(X4,{asChild:!0,children:s.jsxs(ze,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(a0,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:n.name}),s.jsx("span",{className:"sm:hidden",children:n.flag})]})}),s.jsx(By,{align:"end",children:m8.map(i=>s.jsxs(Qu,{onClick:()=>t(i.code),disabled:n.code===i.code,children:[s.jsx("span",{className:"mr-2",children:i.flag}),i.name]},i.code))})]})},Qte=()=>{const{theme:e,setTheme:t}=mwe(),r=()=>{t(e==="dark-elegant"?"deep-night":"dark-elegant")},n=e==="dark-elegant"?s.jsx(T2e,{className:"h-5 w-5"}):s.jsx(O2e,{className:"h-5 w-5"}),i=e==="dark-elegant"?"Passer au thme Deep Night":"Passer au thme Dark Elegant";return s.jsxs(ze,{variant:"ghost",size:"icon",onClick:r,"aria-label":i,children:[n,s.jsx("span",{className:"sr-only",children:i})]})},qj=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Gj=j.createContext({}),Kj=j.createContext(null),Yj=typeof document<"u",Nx=Yj?j.useLayoutEffect:j.useEffect,ere=j.createContext({strict:!1}),Y7=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xNe="framerAppearId",tre="data-"+Y7(xNe);function vNe(e,t,r,n){const{visualElement:i}=j.useContext(Gj),a=j.useContext(ere),o=j.useContext(Kj),l=j.useContext(qj).reducedMotion,c=j.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;j.useInsertionEffect(()=>{u&&u.update(r,o)});const f=j.useRef(!!(r[tre]&&!window.HandoffComplete));return Nx(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function Uv(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yNe(e,t,r){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Uv(r)&&(r.current=n))},[t])}function F_(e){return typeof e=="string"||Array.isArray(e)}function Xj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const X7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J7=["initial",...X7];function Jj(e){return Xj(e.animate)||J7.some(t=>F_(e[t]))}function rre(e){return!!(Jj(e)||e.variants)}function bNe(e,t){if(Jj(e)){const{initial:r,animate:n}=e;return{initial:r===!1||F_(r)?r:void 0,animate:F_(n)?n:void 0}}return e.inherit!==!1?t:{}}function wNe(e){const{initial:t,animate:r}=bNe(e,j.useContext(Gj));return j.useMemo(()=>({initial:t,animate:r}),[VU(t),VU(r)])}function VU(e){return Array.isArray(e)?e.join(" "):e}const WU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},D_={};for(const e in WU)D_[e]={isEnabled:t=>WU[e].some(r=>!!t[r])};function _Ne(e){for(const t in e)D_[t]={...D_[t],...e[t]}}const Z7=j.createContext({}),nre=j.createContext({}),NNe=Symbol.for("motionComponentSymbol");function SNe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&_Ne(e);function a(l,c){let u;const f={...j.useContext(qj),...l,layoutId:CNe(l)},{isStatic:h}=f,g=wNe(l),p=n(l,h);if(!h&&Yj){g.visualElement=vNe(i,p,f,t);const S=j.useContext(nre),b=j.useContext(ere).strict;g.visualElement&&(u=g.visualElement.loadFeatures(f,b,e,S))}return j.createElement(Gj.Provider,{value:g},u&&g.visualElement?j.createElement(u,{visualElement:g.visualElement,...f}):null,r(i,l,yNe(p,g.visualElement,c),p,h,g.visualElement))}const o=j.forwardRef(a);return o[NNe]=i,o}function CNe({layoutId:e}){const t=j.useContext(Z7).id;return t&&e!==void 0?t+"-"+e:e}function ANe(e){function t(n,i={}){return SNe(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const jNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Q7(e){return typeof e!="string"||e.includes("-")?!1:!!(jNe.indexOf(e)>-1||/[A-Z]/.test(e))}const aC={};function ENe(e){Object.assign(aC,e)}const r5=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sx=new Set(r5);function are(e,{layout:t,layoutId:r}){return Sx.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!aC[e]||e==="opacity")}const tu=e=>!!(e&&e.getVelocity),TNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kNe=r5.length;function PNe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<kNe;o++){const l=r5[o];if(e[l]!==void 0){const c=TNe[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,n?"":a):r&&n&&(a="none"),a}const ire=e=>t=>typeof t=="string"&&t.startsWith(e),sre=ire("--"),uO=ire("var(--"),ONe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,INe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,o1=(e,t,r)=>Math.min(Math.max(r,e),t),Cx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Lw={...Cx,transform:e=>o1(0,1,e)},Y3={...Cx,default:1},Bw=e=>Math.round(e*1e5)/1e5,Zj=/(-)?([\d]*\.?[\d])+/g,ore=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FNe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function n5(e){return typeof e=="string"}const a5=e=>({test:t=>n5(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hp=a5("deg"),x0=a5("%"),ga=a5("px"),DNe=a5("vh"),RNe=a5("vw"),HU={...x0,parse:e=>x0.parse(e)/100,transform:e=>x0.transform(e*100)},qU={...Cx,transform:Math.round},lre={borderWidth:ga,borderTopWidth:ga,borderRightWidth:ga,borderBottomWidth:ga,borderLeftWidth:ga,borderRadius:ga,radius:ga,borderTopLeftRadius:ga,borderTopRightRadius:ga,borderBottomRightRadius:ga,borderBottomLeftRadius:ga,width:ga,maxWidth:ga,height:ga,maxHeight:ga,size:ga,top:ga,right:ga,bottom:ga,left:ga,padding:ga,paddingTop:ga,paddingRight:ga,paddingBottom:ga,paddingLeft:ga,margin:ga,marginTop:ga,marginRight:ga,marginBottom:ga,marginLeft:ga,rotate:hp,rotateX:hp,rotateY:hp,rotateZ:hp,scale:Y3,scaleX:Y3,scaleY:Y3,scaleZ:Y3,skew:hp,skewX:hp,skewY:hp,distance:ga,translateX:ga,translateY:ga,translateZ:ga,x:ga,y:ga,z:ga,perspective:ga,transformPerspective:ga,opacity:Lw,originX:HU,originY:HU,originZ:ga,zIndex:qU,fillOpacity:Lw,strokeOpacity:Lw,numOctaves:qU};function eR(e,t,r,n){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,f=!0;for(const h in t){const g=t[h];if(sre(h)){a[h]=g;continue}const p=lre[h],S=INe(g,p);if(Sx.has(h)){if(c=!0,o[h]=S,!f)continue;g!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(u=!0,l[h]=S):i[h]=S}if(t.transform||(c||n?i.transform=PNe(e.transform,r,f,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:g="50%",originZ:p=0}=l;i.transformOrigin=`${h} ${g} ${p}`}}const tR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cre(e,t,r){for(const n in t)!tu(t[n])&&!are(n,r)&&(e[n]=t[n])}function MNe({transformTemplate:e},t,r){return j.useMemo(()=>{const n=tR();return eR(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function LNe(e,t,r){const n=e.style||{},i={};return cre(i,n,e),Object.assign(i,MNe(e,t,r)),e.transformValues?e.transformValues(i):i}function BNe(e,t,r){const n={},i=LNe(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const $Ne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iC(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$Ne.has(e)}let ure=e=>!iC(e);function UNe(e){e&&(ure=t=>t.startsWith("on")?!iC(t):e(t))}try{UNe(require("@emotion/is-prop-valid").default)}catch{}function zNe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(ure(i)||r===!0&&iC(i)||!t&&!iC(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function GU(e,t,r){return typeof e=="string"?e:ga.transform(t+r*e)}function VNe(e,t,r){const n=GU(t,e.x,e.width),i=GU(r,e.y,e.height);return`${n} ${i}`}const WNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},HNe={offset:"strokeDashoffset",array:"strokeDasharray"};function qNe(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?WNe:HNe;e[a.offset]=ga.transform(-n);const o=ga.transform(t),l=ga.transform(r);e[a.array]=`${o} ${l}`}function rR(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,h,g){if(eR(e,u,f,g),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:S,dimensions:b}=e;p.transform&&(b&&(S.transform=p.transform),delete p.transform),b&&(i!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=VNe(b,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&qNe(p,o,l,c,!1)}const dre=()=>({...tR(),attrs:{}}),nR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GNe(e,t,r,n){const i=j.useMemo(()=>{const a=dre();return rR(a,t,{enableHardwareAcceleration:!1},nR(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};cre(a,e.style,e),i.style={...a,...i.style}}return i}function KNe(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(Q7(r)?GNe:BNe)(n,a,o,r),f={...zNe(n,typeof r=="string",e),...c,ref:i},{children:h}=n,g=j.useMemo(()=>tu(h)?h.get():h,[h]);return j.createElement(r,{...f,children:g})}}function fre(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const hre=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mre(e,t,r,n){fre(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(hre.has(i)?i:Y7(i),t.attrs[i])}function aR(e,t){const{style:r}=e,n={};for(const i in r)(tu(r[i])||t.style&&tu(t.style[i])||are(i,e))&&(n[i]=r[i]);return n}function pre(e,t){const r=aR(e,t);for(const n in e)if(tu(e[n])||tu(t[n])){const i=r5.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}function iR(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}function $y(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const sC=e=>Array.isArray(e),YNe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XNe=e=>sC(e)?e[e.length-1]||0:e;function tS(e){const t=tu(e)?e.get():e;return YNe(t)?t.toValue():t}function JNe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,a){const o={latestValues:ZNe(n,i,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const gre=e=>(t,r)=>{const n=j.useContext(Gj),i=j.useContext(Kj),a=()=>JNe(e,t,n,i);return r?a():$y(a)};function ZNe(e,t,r,n){const i={},a=n(e,{});for(const g in a)i[g]=tS(a[g]);let{initial:o,animate:l}=e;const c=Jj(e),u=rre(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const h=f?l:o;return h&&typeof h!="boolean"&&!Xj(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const S=iR(e,p);if(!S)return;const{transitionEnd:b,transition:N,...C}=S;for(const A in C){let T=C[A];if(Array.isArray(T)){const F=f?T.length-1:0;T=T[F]}T!==null&&(i[A]=T)}for(const A in b)i[A]=b[A]}),i}const Uo=e=>e;class KU{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function QNe(e){let t=new KU,r=new KU,n=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,f=!1)=>{const h=f&&i,g=h?t:r;return u&&o.add(c),g.add(c)&&h&&i&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const f=t.order[u];f(c),o.has(f)&&(l.schedule(f),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const X3=["prepare","read","update","preRender","render","postRender"],eSe=40;function tSe(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=X3.reduce((h,g)=>(h[g]=QNe(()=>r=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(h-i.timestamp,eSe),1),i.timestamp=h,i.isProcessing=!0,X3.forEach(o),i.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,i.isProcessing||e(l)};return{schedule:X3.reduce((h,g)=>{const p=a[g];return h[g]=(S,b=!1,N=!1)=>(r||c(),p.schedule(S,b,N)),h},{}),cancel:h=>X3.forEach(g=>a[g].cancel(h)),state:i,steps:a}}const{schedule:rs,cancel:Sh,state:Ol,steps:p8}=tSe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Uo,!0),rSe={useVisualState:gre({scrapeMotionValuesFromProps:pre,createRenderState:dre,onMount:(e,t,{renderState:r,latestValues:n})=>{rs.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),rs.render(()=>{rR(r,n,{enableHardwareAcceleration:!1},nR(t.tagName),e.transformTemplate),mre(t,r)})}})},nSe={useVisualState:gre({scrapeMotionValuesFromProps:aR,createRenderState:tR})};function aSe(e,{forwardMotionProps:t=!1},r,n){return{...Q7(e)?rSe:nSe,preloadedFeatures:r,useRender:KNe(t),createVisualElement:n,Component:e}}function sm(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const xre=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Qj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const iSe=e=>t=>xre(t)&&e(t,Qj(t));function mm(e,t,r,n){return sm(e,t,iSe(r),n)}const sSe=(e,t)=>r=>t(e(r)),Wp=(...e)=>e.reduce(sSe);function vre(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const YU=vre("dragHorizontal"),XU=vre("dragVertical");function yre(e){let t=!1;if(e==="y")t=XU();else if(e==="x")t=YU();else{const r=YU(),n=XU();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function bre(){const e=yre(!0);return e?(e(),!1):!0}class b1{constructor(t){this.isMounted=!1,this.node=t}update(){}}function JU(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||bre())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&rs.update(()=>l[n](a,o))};return mm(e.current,r,i,{passive:!e.getProps()[n]})}class oSe extends b1{mount(){this.unmount=Wp(JU(this.node,!0),JU(this.node,!1))}unmount(){}}class lSe extends b1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wp(sm(this.node.current,"focus",()=>this.onFocus()),sm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wre=(e,t)=>t?e===t?!0:wre(e,t.parentElement):!1;function g8(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Qj(r))}class cSe extends b1{constructor(){super(...arguments),this.removeStartListeners=Uo,this.removeEndListeners=Uo,this.removeAccessibleListeners=Uo,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=mm(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:h}=this.node.getProps();rs.update(()=>{!h&&!wre(this.node.current,l.target)?f&&f(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=mm(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Wp(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||g8("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&rs.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=sm(this.node.current,"keyup",o),g8("down",(l,c)=>{this.startPress(l,c)})},r=sm(this.node.current,"keydown",t),n=()=>{this.isPressing&&g8("cancel",(a,o)=>this.cancelPress(a,o))},i=sm(this.node.current,"blur",n);this.removeAccessibleListeners=Wp(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&rs.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bre()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&rs.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=mm(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=sm(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wp(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dO=new WeakMap,x8=new WeakMap,uSe=e=>{const t=dO.get(e.target);t&&t(e)},dSe=e=>{e.forEach(uSe)};function fSe({root:e,...t}){const r=e||document;x8.has(r)||x8.set(r,{});const n=x8.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(dSe,{root:e,...t})),n[i]}function hSe(e,t,r){const n=fSe(t);return dO.set(e,r),n.observe(e),()=>{dO.delete(e),n.unobserve(e)}}const mSe={some:0,all:1};class pSe extends b1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:mSe[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=u?f:h;g&&g(c)};return hSe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(gSe(t,r))&&this.startObserver()}unmount(){}}function gSe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const xSe={inView:{Feature:pSe},tap:{Feature:cSe},focus:{Feature:lSe},hover:{Feature:oSe}};function _re(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function vSe(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function ySe(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function eE(e,t,r){const n=e.getProps();return iR(n,t,r!==void 0?r:n.custom,vSe(e),ySe(e))}let Nre=Uo,tE=Uo;const Hp=e=>e*1e3,v0=e=>e/1e3,bSe={current:!1},Sre=e=>Array.isArray(e)&&typeof e[0]=="number";function Cre(e){return!!(!e||typeof e=="string"&&Are[e]||Sre(e)||Array.isArray(e)&&e.every(Cre))}const _w=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Are={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_w([0,.65,.55,1]),circOut:_w([.55,0,1,.45]),backIn:_w([.31,.01,.66,-.59]),backOut:_w([.33,1.53,.69,.99])};function jre(e){if(e)return Sre(e)?_w(e):Array.isArray(e)?e.map(jre):Are[e]}function wSe(e,t,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const f=jre(l);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function _Se(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Ere=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,NSe=1e-7,SSe=12;function CSe(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=Ere(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>NSe&&++l<SSe);return o}function i5(e,t,r,n){if(e===t&&r===n)return Uo;const i=a=>CSe(a,0,1,e,r);return a=>a===0||a===1?a:Ere(i(a),t,n)}const ASe=i5(.42,0,1,1),jSe=i5(0,0,.58,1),Tre=i5(.42,0,.58,1),ESe=e=>Array.isArray(e)&&typeof e[0]!="number",kre=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pre=e=>t=>1-e(1-t),sR=e=>1-Math.sin(Math.acos(e)),Ore=Pre(sR),TSe=kre(sR),Ire=i5(.33,1.53,.69,.99),oR=Pre(Ire),kSe=kre(oR),PSe=e=>(e*=2)<1?.5*oR(e):.5*(2-Math.pow(2,-10*(e-1))),OSe={linear:Uo,easeIn:ASe,easeInOut:Tre,easeOut:jSe,circIn:sR,circInOut:TSe,circOut:Ore,backIn:oR,backInOut:kSe,backOut:Ire,anticipate:PSe},ZU=e=>{if(Array.isArray(e)){tE(e.length===4);const[t,r,n,i]=e;return i5(t,r,n,i)}else if(typeof e=="string")return OSe[e];return e},lR=(e,t)=>r=>!!(n5(r)&&FNe.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Fre=(e,t,r)=>n=>{if(!n5(n))return n;const[i,a,o,l]=n.match(Zj);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ISe=e=>o1(0,255,e),v8={...Cx,transform:e=>Math.round(ISe(e))},Ag={test:lR("rgb","red"),parse:Fre("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+v8.transform(e)+", "+v8.transform(t)+", "+v8.transform(r)+", "+Bw(Lw.transform(n))+")"};function FSe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const fO={test:lR("#"),parse:FSe,transform:Ag.transform},zv={test:lR("hsl","hue"),parse:Fre("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+x0.transform(Bw(t))+", "+x0.transform(Bw(r))+", "+Bw(Lw.transform(n))+")"},vu={test:e=>Ag.test(e)||fO.test(e)||zv.test(e),parse:e=>Ag.test(e)?Ag.parse(e):zv.test(e)?zv.parse(e):fO.parse(e),transform:e=>n5(e)?e:e.hasOwnProperty("red")?Ag.transform(e):zv.transform(e)},wo=(e,t,r)=>-r*e+r*t+e;function y8(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function DSe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=y8(c,l,e+1/3),a=y8(c,l,e),o=y8(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const b8=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},RSe=[fO,Ag,zv],MSe=e=>RSe.find(t=>t.test(e));function QU(e){const t=MSe(e);let r=t.parse(e);return t===zv&&(r=DSe(r)),r}const Dre=(e,t)=>{const r=QU(e),n=QU(t),i={...r};return a=>(i.red=b8(r.red,n.red,a),i.green=b8(r.green,n.green,a),i.blue=b8(r.blue,n.blue,a),i.alpha=wo(r.alpha,n.alpha,a),Ag.transform(i))};function LSe(e){var t,r;return isNaN(e)&&n5(e)&&(((t=e.match(Zj))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(ore))===null||r===void 0?void 0:r.length)||0)>0}const Rre={regex:ONe,countKey:"Vars",token:"${v}",parse:Uo},Mre={regex:ore,countKey:"Colors",token:"${c}",parse:vu.parse},Lre={regex:Zj,countKey:"Numbers",token:"${n}",parse:Cx.parse};function w8(e,{regex:t,countKey:r,token:n,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(i)))}function oC(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&w8(r,Rre),w8(r,Mre),w8(r,Lre),r}function Bre(e){return oC(e).values}function $re(e){const{values:t,numColors:r,numVars:n,tokenised:i}=oC(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<n?l=l.replace(Rre.token,o[c]):c<n+r?l=l.replace(Mre.token,vu.transform(o[c])):l=l.replace(Lre.token,Bw(o[c]));return l}}const BSe=e=>typeof e=="number"?0:e;function $Se(e){const t=Bre(e);return $re(e)(t.map(BSe))}const l1={test:LSe,parse:Bre,createTransformer:$re,getAnimatableNone:$Se},Ure=(e,t)=>r=>`${r>0?t:e}`;function zre(e,t){return typeof e=="number"?r=>wo(e,t,r):vu.test(e)?Dre(e,t):e.startsWith("var(")?Ure(e,t):Wre(e,t)}const Vre=(e,t)=>{const r=[...e],n=r.length,i=e.map((a,o)=>zre(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},USe=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=zre(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},Wre=(e,t)=>{const r=l1.createTransformer(t),n=oC(e),i=oC(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Wp(Vre(n.values,i.values),r):Ure(e,t)},$2=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},ez=(e,t)=>r=>wo(e,t,r);function zSe(e){return typeof e=="number"?ez:typeof e=="string"?vu.test(e)?Dre:Wre:Array.isArray(e)?Vre:typeof e=="object"?USe:ez}function VSe(e,t,r){const n=[],i=r||zSe(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Uo:t;l=Wp(c,l)}n.push(l)}return n}function rE(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(tE(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=VSe(t,n,i),l=o.length,c=u=>{let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=$2(e[f],e[f+1],u);return o[f](h)};return r?u=>c(o1(e[0],e[a-1],u)):c}function WSe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=$2(0,t,n);e.push(wo(r,1,i))}}function Hre(e){const t=[0];return WSe(t,e.length-1),t}function HSe(e,t){return e.map(r=>r*t)}function qSe(e,t){return e.map(()=>t||Tre).splice(0,e.length-1)}function lC({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=ESe(n)?n.map(ZU):ZU(n),a={done:!1,value:t[0]},o=HSe(r&&r.length===t.length?r:Hre(t),e),l=rE(o,t,{ease:Array.isArray(i)?i:qSe(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function cR(e,t){return t?e*(1e3/t):0}const GSe=5;function qre(e,t,r){const n=Math.max(t-GSe,0);return cR(r-e(n),t-n)}const _8=.001,KSe=.01,tz=10,YSe=.05,XSe=1;function JSe({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,a;Nre(e<=Hp(tz));let o=1-t;o=o1(YSe,XSe,o),e=o1(KSe,tz,v0(e)),o<1?(i=u=>{const f=u*o,h=f*e,g=f-r,p=hO(u,o),S=Math.exp(-h);return _8-g/p*S},a=u=>{const h=u*o*e,g=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,S=Math.exp(-h),b=hO(Math.pow(u,2),o);return(-i(u)+_8>0?-1:1)*((g-p)*S)/b}):(i=u=>{const f=Math.exp(-u*e),h=(u-r)*e+1;return-_8+f*h},a=u=>{const f=Math.exp(-u*e),h=(r-u)*(e*e);return f*h});const l=5/e,c=QSe(i,a,l);if(e=Hp(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const ZSe=12;function QSe(e,t,r){let n=r;for(let i=1;i<ZSe;i++)n=n-e(n)/t(n);return n}function hO(e,t){return e*Math.sqrt(1-t*t)}const eCe=["duration","bounce"],tCe=["stiffness","damping","mass"];function rz(e,t){return t.some(r=>e[r]!==void 0)}function rCe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!rz(e,tCe)&&rz(e,eCe)){const r=JSe(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Gre({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:g}=rCe({...n,velocity:-v0(n.velocity||0)}),p=h||0,S=c/(2*Math.sqrt(l*u)),b=a-i,N=v0(Math.sqrt(l/u)),C=Math.abs(b)<5;r||(r=C?.01:2),t||(t=C?.005:.5);let A;if(S<1){const T=hO(N,S);A=F=>{const L=Math.exp(-S*N*F);return a-L*((p+S*N*b)/T*Math.sin(T*F)+b*Math.cos(T*F))}}else if(S===1)A=T=>a-Math.exp(-N*T)*(b+(p+N*b)*T);else{const T=N*Math.sqrt(S*S-1);A=F=>{const L=Math.exp(-S*N*F),B=Math.min(T*F,300);return a-L*((p+S*N*b)*Math.sinh(B)+T*b*Math.cosh(B))/T}}return{calculatedDuration:g&&f||null,next:T=>{const F=A(T);if(g)o.done=T>=f;else{let L=p;T!==0&&(S<1?L=qre(A,T,F):L=0);const B=Math.abs(L)<=r,M=Math.abs(a-F)<=t;o.done=B&&M}return o.value=o.done?a:F,o}}}function nz({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const h=e[0],g={done:!1,value:h},p=W=>l!==void 0&&W<l||c!==void 0&&W>c,S=W=>l===void 0?c:c===void 0||Math.abs(l-W)<Math.abs(c-W)?l:c;let b=r*t;const N=h+b,C=o===void 0?N:o(N);C!==N&&(b=C-h);const A=W=>-b*Math.exp(-W/n),T=W=>C+A(W),F=W=>{const z=A(W),Z=T(W);g.done=Math.abs(z)<=u,g.value=g.done?C:Z};let L,B;const M=W=>{p(g.value)&&(L=W,B=Gre({keyframes:[g.value,S(g.value)],velocity:qre(T,W,g.value),damping:i,stiffness:a,restDelta:u,restSpeed:f}))};return M(0),{calculatedDuration:null,next:W=>{let z=!1;return!B&&L===void 0&&(z=!0,F(W),M(W)),L!==void 0&&W>L?B.next(W-L):(!z&&F(W),g)}}}const nCe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>rs.update(t,!0),stop:()=>Sh(t),now:()=>Ol.isProcessing?Ol.timestamp:performance.now()}},az=2e4;function iz(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<az;)t+=r,n=e.next(t);return t>=az?1/0:t}const aCe={decay:nz,inertia:nz,tween:lC,keyframes:lC,spring:Gre};function R_({autoplay:e=!0,delay:t=0,driver:r=nCe,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:h,...g}){let p=1,S=!1,b,N;const C=()=>{N=new Promise(Ce=>{b=Ce})};C();let A;const T=aCe[i]||lC;let F;T!==lC&&typeof n[0]!="number"&&(F=rE([0,100],n,{clamp:!1}),n=[0,100]);const L=T({...g,keyframes:n});let B;l==="mirror"&&(B=T({...g,keyframes:[...n].reverse(),velocity:-(g.velocity||0)}));let M="idle",W=null,z=null,Z=null;L.calculatedDuration===null&&a&&(L.calculatedDuration=iz(L));const{calculatedDuration:K}=L;let q=1/0,ie=1/0;K!==null&&(q=K+o,ie=q*(a+1)-o);let ae=0;const X=Ce=>{if(z===null)return;p>0&&(z=Math.min(z,Ce)),p<0&&(z=Math.min(Ce-ie/p,z)),W!==null?ae=W:ae=Math.round(Ce-z)*p;const Q=ae-t*(p>=0?1:-1),le=p>=0?Q<0:Q>ie;ae=Math.max(Q,0),M==="finished"&&W===null&&(ae=ie);let ne=ae,ee=L;if(a){const Se=Math.min(ae,ie)/q;let je=Math.floor(Se),Ge=Se%1;!Ge&&Se>=1&&(Ge=1),Ge===1&&je--,je=Math.min(je,a+1),!!(je%2)&&(l==="reverse"?(Ge=1-Ge,o&&(Ge-=o/q)):l==="mirror"&&(ee=B)),ne=o1(0,1,Ge)*q}const pe=le?{done:!1,value:n[0]}:ee.next(ne);F&&(pe.value=F(pe.value));let{done:xe}=pe;!le&&K!==null&&(xe=p>=0?ae>=ie:ae<=0);const Ne=W===null&&(M==="finished"||M==="running"&&xe);return h&&h(pe.value),Ne&&ce(),pe},se=()=>{A&&A.stop(),A=void 0},he=()=>{M="idle",se(),b(),C(),z=Z=null},ce=()=>{M="finished",f&&f(),se(),b()},ge=()=>{if(S)return;A||(A=r(X));const Ce=A.now();c&&c(),W!==null?z=Ce-W:(!z||M==="finished")&&(z=Ce),M==="finished"&&C(),Z=z,W=null,M="running",A.start()};e&&ge();const we={then(Ce,Q){return N.then(Ce,Q)},get time(){return v0(ae)},set time(Ce){Ce=Hp(Ce),ae=Ce,W!==null||!A||p===0?W=Ce:z=A.now()-Ce/p},get duration(){const Ce=L.calculatedDuration===null?iz(L):L.calculatedDuration;return v0(Ce)},get speed(){return p},set speed(Ce){Ce===p||!A||(p=Ce,we.time=v0(ae))},get state(){return M},play:ge,pause:()=>{M="paused",W=ae},stop:()=>{S=!0,M!=="idle"&&(M="idle",u&&u(),he())},cancel:()=>{Z!==null&&X(Z),he()},complete:()=>{M="finished"},sample:Ce=>(z=0,X(Ce))};return we}function iCe(e){let t;return()=>(t===void 0&&(t=e()),t)}const sCe=iCe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oCe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),J3=10,lCe=2e4,cCe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Cre(t.ease);function uCe(e,t,{onUpdate:r,onComplete:n,...i}){if(!(sCe()&&oCe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const f=()=>{c=new Promise(T=>{l=T})};f();let{keyframes:h,duration:g=300,ease:p,times:S}=i;if(cCe(t,i)){const T=R_({...i,repeat:0,delay:0});let F={done:!1,value:h[0]};const L=[];let B=0;for(;!F.done&&B<lCe;)F=T.sample(B),L.push(F.value),B+=J3;S=void 0,h=L,g=B-J3,p="linear"}const b=wSe(e.owner.current,t,h,{...i,duration:g,ease:p,times:S}),N=()=>{u=!1,b.cancel()},C=()=>{u=!0,rs.update(N),l(),f()};return b.onfinish=()=>{u||(e.set(_Se(h,i)),n&&n(),C())},{then(T,F){return c.then(T,F)},attachTimeline(T){return b.timeline=T,b.onfinish=null,Uo},get time(){return v0(b.currentTime||0)},set time(T){b.currentTime=Hp(T)},get speed(){return b.playbackRate},set speed(T){b.playbackRate=T},get duration(){return v0(g)},play:()=>{o||(b.play(),Sh(N))},pause:()=>b.pause(),stop:()=>{if(o=!0,b.playState==="idle")return;const{currentTime:T}=b;if(T){const F=R_({...i,autoplay:!1});e.setWithVelocity(F.sample(T-J3).value,F.sample(T).value,J3)}C()},complete:()=>{u||b.finish()},cancel:C}}function dCe({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Uo,pause:Uo,stop:Uo,then:a=>(a(),Promise.resolve()),cancel:Uo,complete:Uo});return t?R_({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const fCe={type:"spring",stiffness:500,damping:25,restSpeed:10},hCe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mCe={type:"keyframes",duration:.8},pCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gCe=(e,{keyframes:t})=>t.length>2?mCe:Sx.has(e)?e.startsWith("scale")?hCe(t[1]):fCe:pCe,mO=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(l1.test(t)||t==="0")&&!t.startsWith("url(")),xCe=new Set(["brightness","contrast","saturate","opacity"]);function vCe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Zj)||[];if(!n)return e;const i=r.replace(n,"");let a=xCe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const yCe=/([a-z-]*)\(.*?\)/g,pO={...l1,getAnimatableNone:e=>{const t=e.match(yCe);return t?t.map(vCe).join(" "):e}},bCe={...lre,color:vu,backgroundColor:vu,outlineColor:vu,fill:vu,stroke:vu,borderColor:vu,borderTopColor:vu,borderRightColor:vu,borderBottomColor:vu,borderLeftColor:vu,filter:pO,WebkitFilter:pO},uR=e=>bCe[e];function Kre(e,t){let r=uR(e);return r!==pO&&(r=l1),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Yre=e=>/^0[^.\s]+$/.test(e);function wCe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Yre(e)}function _Ce(e,t,r,n){const i=mO(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),wCe(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const f=c[u];a[f]=Kre(t,l)}return a}function NCe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function dR(e,t){return e[t]||e.default||e}const SCe={skipAnimations:!1},fR=(e,t,r,n={})=>i=>{const a=dR(n,e)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Hp(o);const c=_Ce(t,e,r,a),u=c[0],f=c[c.length-1],h=mO(e,u),g=mO(e,f);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:S=>{t.set(S),a.onUpdate&&a.onUpdate(S)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(NCe(a)||(p={...p,...gCe(e,p)}),p.duration&&(p.duration=Hp(p.duration)),p.repeatDelay&&(p.repeatDelay=Hp(p.repeatDelay)),!h||!g||bSe.current||a.type===!1||SCe.skipAnimations)return dCe(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const S=uCe(t,e,p);if(S)return S}return R_(p)};function cC(e){return!!(tu(e)&&e.add)}const Xre=e=>/^\-?\d*\.?\d+$/.test(e);function hR(e,t){e.indexOf(t)===-1&&e.push(t)}function mR(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class pR{constructor(){this.subscriptions=[]}add(t){return hR(this.subscriptions,t),()=>mR(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const CCe=e=>!isNaN(parseFloat(e)),$w={current:void 0};class ACe{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Ol;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,rs.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rs.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=CCe(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new pR);const n=this.events[t].add(r);return t==="change"?()=>{n(),rs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return $w.current&&$w.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fh(e,t){return new ACe(e,t)}const Jre=e=>t=>t.test(e),jCe={test:e=>e==="auto",parse:e=>e},Zre=[Cx,ga,x0,hp,RNe,DNe,jCe],Kb=e=>Zre.find(Jre(e)),ECe=[...Zre,vu,l1],TCe=e=>ECe.find(Jre(e));function kCe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,fh(r))}function gR(e,t){const r=eE(e,t);let{transitionEnd:n={},transition:i={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const l=XNe(a[o]);kCe(e,o,l)}}function gO(e,t){[...t].reverse().forEach(n=>{const i=e.getVariant(n);i&&gR(e,i),e.variantChildren&&e.variantChildren.forEach(a=>{gO(a,t)})})}function PCe(e,t){if(Array.isArray(t))return gO(e,t);if(typeof t=="string")return gO(e,[t]);gR(e,t)}function OCe(e,t,r){var n,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(i=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&i!==void 0?i:t[c]),f!=null&&(typeof f=="string"&&(Xre(f)||Yre(f))?f=parseFloat(f):!TCe(f)&&l1.test(u)&&(f=Kre(c,u)),e.addValue(c,fh(f,{owner:e})),r[c]===void 0&&(r[c]=f),f!==null&&e.setBaseTarget(c,f))}}function ICe(e,t){return t?(t[e]||t.default||t).from:void 0}function FCe(e,t,r){const n={};for(const i in e){const a=ICe(i,t);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function DCe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function RCe(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Qre(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const g=e.getValue(h),p=l[h];if(!g||p===void 0||f&&DCe(f,h))continue;const S={delay:r,elapsed:0,...dR(a||{},h)};if(window.HandoffAppearAnimations){const C=e.getProps()[tre];if(C){const A=window.HandoffAppearAnimations(C,h,g,rs);A!==null&&(S.elapsed=A,S.isHandoff=!0)}}let b=!S.isHandoff&&!RCe(g,p);if(S.type==="spring"&&(g.getVelocity()||S.velocity)&&(b=!1),g.animation&&(b=!1),b)continue;g.start(fR(h,g,p,e.shouldReduceMotion&&Sx.has(h)?{type:!1}:S));const N=g.animation;cC(c)&&(c.add(h),N.then(()=>c.remove(h))),u.push(N)}return o&&Promise.all(u).then(()=>{o&&gR(e,o)}),u}function xO(e,t,r={}){const n=eE(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(Qre(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return MCe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function MCe(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(LCe).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(xO(u,t,{...a,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function LCe(e,t){return e.sortNodePosition(t)}function ene(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>xO(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=xO(e,t,r);else{const i=typeof t=="function"?eE(e,t,r.custom):t;n=Promise.all(Qre(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}const BCe=[...X7].reverse(),$Ce=X7.length;function UCe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>ene(e,r,n)))}function zCe(e){let t=UCe(e);const r=WCe();let n=!0;const i=(c,u)=>{const f=eE(e,u);if(f){const{transition:h,transitionEnd:g,...p}=f;c={...c,...p,...g}}return c};function a(c){t=c(e)}function o(c,u){const f=e.getProps(),h=e.getVariantContext(!0)||{},g=[],p=new Set;let S={},b=1/0;for(let C=0;C<$Ce;C++){const A=BCe[C],T=r[A],F=f[A]!==void 0?f[A]:h[A],L=F_(F),B=A===u?T.isActive:null;B===!1&&(b=C);let M=F===h[A]&&F!==f[A]&&L;if(M&&n&&e.manuallyAnimateOnMount&&(M=!1),T.protectedKeys={...S},!T.isActive&&B===null||!F&&!T.prevProp||Xj(F)||typeof F=="boolean")continue;let z=VCe(T.prevProp,F)||A===u&&T.isActive&&!M&&L||C>b&&L,Z=!1;const K=Array.isArray(F)?F:[F];let q=K.reduce(i,{});B===!1&&(q={});const{prevResolvedValues:ie={}}=T,ae={...ie,...q},X=se=>{z=!0,p.has(se)&&(Z=!0,p.delete(se)),T.needsAnimating[se]=!0};for(const se in ae){const he=q[se],ce=ie[se];if(S.hasOwnProperty(se))continue;let ge=!1;sC(he)&&sC(ce)?ge=!_re(he,ce):ge=he!==ce,ge?he!==void 0?X(se):p.add(se):he!==void 0&&p.has(se)?X(se):T.protectedKeys[se]=!0}T.prevProp=F,T.prevResolvedValues=q,T.isActive&&(S={...S,...q}),n&&e.blockInitialAnimation&&(z=!1),z&&(!M||Z)&&g.push(...K.map(se=>({animation:se,options:{type:A,...c}})))}if(p.size){const C={};p.forEach(A=>{const T=e.getBaseTarget(A);T!==void 0&&(C[A]=T)}),g.push({animation:C})}let N=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(N=!1),n=!1,N?t(g):Promise.resolve()}function l(c,u,f){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var S;return(S=p.animationState)===null||S===void 0?void 0:S.setActive(c,u)}),r[c].isActive=u;const g=o(f,c);for(const p in r)r[p].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function VCe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_re(t,e):!1}function Q1(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WCe(){return{animate:Q1(!0),whileInView:Q1(),whileHover:Q1(),whileTap:Q1(),whileDrag:Q1(),whileFocus:Q1(),exit:Q1()}}class HCe extends b1{constructor(t){super(t),t.animationState||(t.animationState=zCe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Xj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let qCe=0;class GCe extends b1{constructor(){super(...arguments),this.id=qCe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KCe={animation:{Feature:HCe},exit:{Feature:GCe}},sz=(e,t)=>Math.abs(e-t);function YCe(e,t){const r=sz(e.x,t.x),n=sz(e.y,t.y);return Math.sqrt(r**2+n**2)}class tne{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=S8(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,p=YCe(h.offset,{x:0,y:0})>=3;if(!g&&!p)return;const{point:S}=h,{timestamp:b}=Ol;this.history.push({...S,timestamp:b});const{onStart:N,onMove:C}=this.handlers;g||(N&&N(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=N8(g,this.transformPagePoint),rs.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=S8(h.type==="pointercancel"?this.lastMoveEventInfo:N8(g,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,N),S&&S(h,N)},!xre(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Qj(t),l=N8(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ol;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,S8(l,this.history)),this.removeListeners=Wp(mm(this.contextWindow,"pointermove",this.handlePointerMove),mm(this.contextWindow,"pointerup",this.handlePointerUp),mm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Sh(this.updatePoint)}}function N8(e,t){return t?{point:t(e.point)}:e}function oz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function S8({point:e},t){return{point:e,delta:oz(e,rne(t)),offset:oz(e,XCe(t)),velocity:JCe(t,.1)}}function XCe(e){return e[0]}function rne(e){return e[e.length-1]}function JCe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=rne(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Hp(t)));)r--;if(!n)return{x:0,y:0};const a=v0(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ld(e){return e.max-e.min}function vO(e,t=0,r=.01){return Math.abs(e-t)<=r}function lz(e,t,r,n=.5){e.origin=n,e.originPoint=wo(t.min,t.max,e.origin),e.scale=Ld(r)/Ld(t),(vO(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wo(r.min,r.max,e.origin)-e.originPoint,(vO(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Uw(e,t,r,n){lz(e.x,t.x,r.x,n?n.originX:void 0),lz(e.y,t.y,r.y,n?n.originY:void 0)}function cz(e,t,r){e.min=r.min+t.min,e.max=e.min+Ld(t)}function ZCe(e,t,r){cz(e.x,t.x,r.x),cz(e.y,t.y,r.y)}function uz(e,t,r){e.min=t.min-r.min,e.max=e.min+Ld(t)}function zw(e,t,r){uz(e.x,t.x,r.x),uz(e.y,t.y,r.y)}function QCe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?wo(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?wo(r,e,n.max):Math.min(e,r)),e}function dz(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function eAe(e,{top:t,left:r,bottom:n,right:i}){return{x:dz(e.x,r,i),y:dz(e.y,t,n)}}function fz(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function tAe(e,t){return{x:fz(e.x,t.x),y:fz(e.y,t.y)}}function rAe(e,t){let r=.5;const n=Ld(e),i=Ld(t);return i>n?r=$2(t.min,t.max-n,e.min):n>i&&(r=$2(e.min,e.max-i,t.min)),o1(0,1,r)}function nAe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const yO=.35;function aAe(e=yO){return e===!1?e=0:e===!0&&(e=yO),{x:hz(e,"left","right"),y:hz(e,"top","bottom")}}function hz(e,t,r){return{min:mz(e,t),max:mz(e,r)}}function mz(e,t){return typeof e=="number"?e:e[t]||0}const pz=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vv=()=>({x:pz(),y:pz()}),gz=()=>({min:0,max:0}),gl=()=>({x:gz(),y:gz()});function pf(e){return[e("x"),e("y")]}function nne({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function iAe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sAe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function C8(e){return e===void 0||e===1}function bO({scale:e,scaleX:t,scaleY:r}){return!C8(e)||!C8(t)||!C8(r)}function sg(e){return bO(e)||ane(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ane(e){return xz(e.x)||xz(e.y)}function xz(e){return e&&e!=="0%"}function uC(e,t,r){const n=e-r,i=t*n;return r+i}function vz(e,t,r,n,i){return i!==void 0&&(e=uC(e,i,n)),uC(e,r,n)+t}function wO(e,t=0,r=1,n,i){e.min=vz(e.min,t,r,n,i),e.max=vz(e.max,t,r,n,i)}function ine(e,{x:t,y:r}){wO(e.x,t.translate,t.scale,t.originPoint),wO(e.y,r.translate,r.scale,r.originPoint)}function oAe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wv(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ine(e,o)),n&&sg(a.latestValues)&&Wv(e,a.latestValues))}t.x=yz(t.x),t.y=yz(t.y)}function yz(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function vp(e,t){e.min=e.min+t,e.max=e.max+t}function bz(e,t,[r,n,i]){const a=t[i]!==void 0?t[i]:.5,o=wo(e.min,e.max,a);wO(e,t[r],t[n],o,t.scale)}const lAe=["x","scaleX","originX"],cAe=["y","scaleY","originY"];function Wv(e,t){bz(e.x,t,lAe),bz(e.y,t,cAe)}function sne(e,t){return nne(sAe(e.getBoundingClientRect(),t))}function uAe(e,t,r){const n=sne(e,r),{scroll:i}=t;return i&&(vp(n.x,i.offset.x),vp(n.y,i.offset.y)),n}const one=({current:e})=>e?e.ownerDocument.defaultView:null,dAe=new WeakMap;class fAe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gl(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Qj(f,"page").point)},a=(f,h)=>{const{drag:g,dragPropagation:p,onDragStart:S}=this.getProps();if(g&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yre(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pf(N=>{let C=this.getAxisMotionValue(N).get()||0;if(x0.test(C)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[N];T&&(C=Ld(T)*(parseFloat(C)/100))}}this.originPoint[N]=C}),S&&rs.update(()=>S(f,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:g,dragDirectionLock:p,onDirectionLock:S,onDrag:b}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:N}=h;if(p&&this.currentDirection===null){this.currentDirection=hAe(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,N),this.updateAxis("y",h.point,N),this.visualElement.render(),b&&b(f,h)},l=(f,h)=>this.stop(f,h),c=()=>pf(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new tne(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:one(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&rs.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Z3(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=QCe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Uv(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=eAe(i.layoutBox,r):this.constraints=!1,this.elastic=aAe(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pf(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=nAe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Uv(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=uAe(n,i.root,this.visualElement.getTransformPagePoint());let o=tAe(i.layout.layoutBox,a);if(r){const l=r(iAe(o));this.hasMutatedConstraints=!!l,l&&(o=nne(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=pf(f=>{if(!Z3(f,r,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const g=i?200:1e6,p=i?40:1e7,S={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,S)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(fR(t,n,0,r))}stopAnimation(){pf(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pf(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){pf(r=>{const{drag:n}=this.getProps();if(!Z3(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-wo(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Uv(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pf(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=rAe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pf(o=>{if(!Z3(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(wo(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;dAe.set(this.visualElement,this);const t=this.visualElement.current,r=mm(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Uv(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=sm(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(pf(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=yO,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Z3(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function hAe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class mAe extends b1{constructor(t){super(t),this.removeGroupControls=Uo,this.removeListeners=Uo,this.controls=new fAe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uo}unmount(){this.removeGroupControls(),this.removeListeners()}}const wz=e=>(t,r)=>{e&&rs.update(()=>e(t,r))};class pAe extends b1{constructor(){super(...arguments),this.removePointerDownListener=Uo}onPointerDown(t){this.session=new tne(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:one(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:wz(t),onStart:wz(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&rs.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=mm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gAe(){const e=j.useContext(Kj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=j.useId();return j.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const rS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _z(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yb={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ga.test(e))e=parseFloat(e);else return e;const r=_z(e,t.target.x),n=_z(e,t.target.y);return`${r}% ${n}%`}},xAe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=l1.parse(e);if(i.length>5)return n;const a=l1.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=wo(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class vAe extends Ie.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;ENe(yAe),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||rs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lne(e){const[t,r]=gAe(),n=j.useContext(Z7);return Ie.createElement(vAe,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(nre),isPresent:t,safeToRemove:r})}const yAe={borderRadius:{...Yb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yb,borderTopRightRadius:Yb,borderBottomLeftRadius:Yb,borderBottomRightRadius:Yb,boxShadow:xAe},cne=["TopLeft","TopRight","BottomLeft","BottomRight"],bAe=cne.length,Nz=e=>typeof e=="string"?parseFloat(e):e,Sz=e=>typeof e=="number"||ga.test(e);function wAe(e,t,r,n,i,a){i?(e.opacity=wo(0,r.opacity!==void 0?r.opacity:1,_Ae(n)),e.opacityExit=wo(t.opacity!==void 0?t.opacity:1,0,NAe(n))):a&&(e.opacity=wo(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<bAe;o++){const l=`border${cne[o]}Radius`;let c=Cz(t,l),u=Cz(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Sz(c)===Sz(u)?(e[l]=Math.max(wo(Nz(c),Nz(u),n),0),(x0.test(u)||x0.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=wo(t.rotate||0,r.rotate||0,n))}function Cz(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _Ae=une(0,.5,Ore),NAe=une(.5,.95,Uo);function une(e,t,r){return n=>n<e?0:n>t?1:r($2(e,t,n))}function Az(e,t){e.min=t.min,e.max=t.max}function uf(e,t){Az(e.x,t.x),Az(e.y,t.y)}function jz(e,t,r,n,i){return e-=t,e=uC(e,1/r,n),i!==void 0&&(e=uC(e,1/i,n)),e}function SAe(e,t=0,r=1,n=.5,i,a=e,o=e){if(x0.test(t)&&(t=parseFloat(t),t=wo(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=wo(a.min,a.max,n);e===a&&(l-=t),e.min=jz(e.min,t,r,l,i),e.max=jz(e.max,t,r,l,i)}function Ez(e,t,[r,n,i],a,o){SAe(e,t[r],t[n],t[i],t.scale,a,o)}const CAe=["x","scaleX","originX"],AAe=["y","scaleY","originY"];function Tz(e,t,r,n){Ez(e.x,t,CAe,r?r.x:void 0,n?n.x:void 0),Ez(e.y,t,AAe,r?r.y:void 0,n?n.y:void 0)}function kz(e){return e.translate===0&&e.scale===1}function dne(e){return kz(e.x)&&kz(e.y)}function jAe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function fne(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Pz(e){return Ld(e.x)/Ld(e.y)}class EAe{constructor(){this.members=[]}add(t){hR(this.members,t),t.scheduleRender()}remove(t){if(mR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Oz(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:f}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const TAe=(e,t)=>e.depth-t.depth;class kAe{constructor(){this.children=[],this.isDirty=!1}add(t){hR(this.children,t),this.isDirty=!0}remove(t){mR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TAe),this.isDirty=!1,this.children.forEach(t)}}function PAe(e,t){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(Sh(n),e(a-t))};return rs.read(n,!0),()=>Sh(n)}function OAe(e){window.MotionDebug&&window.MotionDebug.record(e)}function IAe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FAe(e,t,r){const n=tu(e)?e:fh(e);return n.start(fR("",n,t,r)),n.animation}const Iz=["","X","Y","Z"],DAe={visibility:"hidden"},Fz=1e3;let RAe=0;const og={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hne({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=RAe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,og.totalNodes=og.resolvedTargetDeltas=og.recalculatedProjection=0,this.nodes.forEach(BAe),this.nodes.forEach(WAe),this.nodes.forEach(HAe),this.nodes.forEach($Ae),OAe(og)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new kAe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pR),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IAe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=PAe(g,250),rS.hasAnimatedSinceResize&&(rS.hasAnimatedSinceResize=!1,this.nodes.forEach(Rz))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:p,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||XAe,{onLayoutAnimationStart:N,onLayoutAnimationComplete:C}=f.getProps(),A=!this.targetLayout||!fne(this.targetLayout,S)||p,T=!g&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const F={...dR(b,"layout"),onPlay:N,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else g||Rz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qAe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dz);return}this.isUpdating||this.nodes.forEach(zAe),this.isUpdating=!1,this.nodes.forEach(VAe),this.nodes.forEach(MAe),this.nodes.forEach(LAe),this.clearAllSnapshots();const l=performance.now();Ol.delta=o1(0,1e3/60,l-Ol.timestamp),Ol.timestamp=l,Ol.isProcessing=!0,p8.update.process(Ol),p8.preRender.process(Ol),p8.render.process(Ol),Ol.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(UAe),this.sharedNodes.forEach(GAe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gl(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!dne(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||sg(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),JAe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return gl();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(vp(l.x,c.offset.x),vp(l.y,c.offset.y)),l}removeElementScroll(o){const l=gl();uf(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;if(u!==this.root&&f&&h.layoutScroll){if(f.isRoot){uf(l,o);const{scroll:g}=this.root;g&&(vp(l.x,-g.offset.x),vp(l.y,-g.offset.y))}vp(l.x,f.offset.x),vp(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const c=gl();uf(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Wv(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),sg(f.latestValues)&&Wv(c,f.latestValues)}return sg(this.latestValues)&&Wv(c,this.latestValues),c}removeTransform(o){const l=gl();uf(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!sg(u.latestValues))continue;bO(u.latestValues)&&u.updateSnapshot();const f=gl(),h=u.measurePageBox();uf(f,h),Tz(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return sg(this.latestValues)&&Tz(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ol.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Ol.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gl(),this.relativeTargetOrigin=gl(),zw(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),uf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gl(),this.targetWithTransforms=gl()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZCe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):uf(this.target,this.layout.layoutBox),ine(this.target,this.targetDelta)):uf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gl(),this.relativeTargetOrigin=gl(),zw(this.relativeTargetOrigin,this.target,p.target),uf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}og.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bO(this.parent.latestValues)||ane(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ol.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;uf(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,p=this.treeScale.y;oAe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:S}=l;if(!S){this.projectionTransform&&(this.projectionDelta=Vv(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vv(),this.projectionDeltaWithTransform=Vv());const b=this.projectionTransform;Uw(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=Oz(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==g||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),og.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=Vv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=gl(),p=c?c.source:void 0,S=this.layout?this.layout.source:void 0,b=p!==S,N=this.getStack(),C=!N||N.members.length<=1,A=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(YAe));this.animationProgress=0;let T;this.mixTargetDelta=F=>{const L=F/1e3;Mz(h.x,o.x,L),Mz(h.y,o.y,L),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zw(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KAe(this.relativeTarget,this.relativeTargetOrigin,g,L),T&&jAe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=gl()),uf(T,this.relativeTarget)),b&&(this.animationValues=f,wAe(f,u,this.latestValues,L,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rs.update(()=>{rS.hasAnimatedSinceResize=!0,this.currentAnimation=FAe(0,Fz,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&mne(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gl();const h=Ld(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const g=Ld(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}uf(l,c),Wv(l,f),Uw(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EAe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let f=0;f<Iz.length;f++){const h="rotate"+Iz[f];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DAe;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=tS(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=tS(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sg(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Oz(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:p,y:S}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${S.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in aC){if(g[b]===void 0)continue;const{correct:N,applyTo:C}=aC[b],A=u.transform==="none"?g[b]:N(g[b],h);if(C){const T=C.length;for(let F=0;F<T;F++)u[C[F]]=A}else u[b]=A}return this.options.layoutId&&(u.pointerEvents=h===this?tS(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Dz),this.root.sharedNodes.clear()}}}function MAe(e){e.updateLayout()}function LAe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?pf(h=>{const g=o?r.measuredBox[h]:r.layoutBox[h],p=Ld(g);g.min=n[h].min,g.max=g.min+p}):mne(a,r.layoutBox,n)&&pf(h=>{const g=o?r.measuredBox[h]:r.layoutBox[h],p=Ld(n[h]);g.max=g.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Vv();Uw(l,n,r.layoutBox);const c=Vv();o?Uw(c,e.applyTransform(i,!0),r.measuredBox):Uw(c,n,r.layoutBox);const u=!dne(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:p}=h;if(g&&p){const S=gl();zw(S,r.layoutBox,g.layoutBox);const b=gl();zw(b,n,p.layoutBox),fne(S,b)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=S,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function BAe(e){og.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $Ae(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UAe(e){e.clearSnapshot()}function Dz(e){e.clearMeasurements()}function zAe(e){e.isLayoutDirty=!1}function VAe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WAe(e){e.resolveTargetDelta()}function HAe(e){e.calcProjection()}function qAe(e){e.resetRotation()}function GAe(e){e.removeLeadSnapshot()}function Mz(e,t,r){e.translate=wo(t.translate,0,r),e.scale=wo(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Lz(e,t,r,n){e.min=wo(t.min,r.min,n),e.max=wo(t.max,r.max,n)}function KAe(e,t,r,n){Lz(e.x,t.x,r.x,n),Lz(e.y,t.y,r.y,n)}function YAe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XAe={duration:.45,ease:[.4,0,.1,1]},Bz=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$z=Bz("applewebkit/")&&!Bz("chrome/")?Math.round:Uo;function Uz(e){e.min=$z(e.min),e.max=$z(e.max)}function JAe(e){Uz(e.x),Uz(e.y)}function mne(e,t,r){return e==="position"||e==="preserve-aspect"&&!vO(Pz(t),Pz(r),.2)}const ZAe=hne({attachResizeListener:(e,t)=>sm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),A8={current:void 0},pne=hne({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!A8.current){const e=new ZAe({});e.mount(window),e.setOptions({layoutScroll:!0}),A8.current=e}return A8.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QAe={pan:{Feature:pAe},drag:{Feature:mAe,ProjectionNode:pne,MeasureLayout:lne}},eje=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tje(e){const t=eje.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function _O(e,t,r=1){const[n,i]=tje(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return Xre(o)?parseFloat(o):o}else return uO(i)?_O(i,t,r+1):i}function rje(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const a=i.get();if(!uO(a))return;const o=_O(a,n);o&&i.set(o)});for(const i in t){const a=t[i];if(!uO(a))continue;const o=_O(a,n);o&&(t[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:t,transitionEnd:r}}const nje=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gne=e=>nje.has(e),aje=e=>Object.keys(e).some(gne),zz=e=>e===Cx||e===ga,Vz=(e,t)=>parseFloat(e.split(", ")[t]),Wz=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Vz(i[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?Vz(a[1],e):0}},ije=new Set(["x","y","z"]),sje=r5.filter(e=>!ije.has(e));function oje(e){const t=[];return sje.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const U2={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Wz(4,13),y:Wz(5,14)};U2.translateX=U2.x;U2.translateY=U2.y;const lje=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=U2[u](n,a)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const f=t.getValue(u);f&&f.jump(l[u]),e[u]=U2[u](c,a)}),e},cje=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(gne);let a=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=r[c],h=Kb(f);const g=t[c];let p;if(sC(g)){const S=g.length,b=g[0]===null?1:0;f=g[b],h=Kb(f);for(let N=b;N<S&&g[N]!==null;N++)p?tE(Kb(g[N])===p):p=Kb(g[N])}else p=Kb(g);if(h!==p)if(zz(h)&&zz(p)){const S=u.get();typeof S=="string"&&u.set(parseFloat(S)),typeof g=="string"?t[c]=parseFloat(g):Array.isArray(g)&&p===ga&&(t[c]=g.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(f===0||g===0)?f===0?u.set(p.transform(f)):t[c]=h.transform(g):(o||(a=oje(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(g))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=lje(t,e,l);return a.length&&a.forEach(([f,h])=>{e.getValue(f).set(h)}),e.render(),Yj&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function uje(e,t,r,n){return aje(t)?cje(e,t,r,n):{target:t,transitionEnd:n}}const dje=(e,t,r,n)=>{const i=rje(e,t,n);return t=i.target,n=i.transitionEnd,uje(e,t,r,n)},NO={current:null},xne={current:!1};function fje(){if(xne.current=!0,!!Yj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NO.current=e.matches;e.addListener(t),t()}else NO.current=!1}function hje(e,t,r){const{willChange:n}=t;for(const i in t){const a=t[i],o=r[i];if(tu(a))e.addValue(i,a),cC(n)&&n.add(i);else if(tu(o))e.addValue(i,fh(a,{owner:e})),cC(n)&&n.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,fh(l!==void 0?l:a,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const Hz=new WeakMap,vne=Object.keys(D_),mje=vne.length,qz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],pje=J7.length;class gje{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rs.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Jj(r),this.isVariantNode=rre(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{});for(const h in f){const g=f[h];l[h]!==void 0&&tu(g)&&(g.set(l[h],!1),cC(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Hz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),xne.current||fje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NO.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Hz.delete(this.current),this.projection&&this.projection.unmount(),Sh(this.notifyUpdate),Sh(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Sx.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&rs.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,a){let o,l;for(let c=0;c<mje;c++){const u=vne[c],{isEnabled:f,Feature:h,ProjectionNode:g,MeasureLayout:p}=D_[u];g&&(o=g),f(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:h,layoutScroll:g,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||h&&Uv(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:g,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gl()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qz.length;n++){const i=qz[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=hje(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<pje;n++){const i=J7[n],a=this.props[i];(F_(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=fh(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=iR(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!tu(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new pR),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class yne extends gje{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},a){let o=FCe(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){OCe(this,n,o);const l=dje(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function xje(e){return window.getComputedStyle(e)}class vje extends yne{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Sx.has(r)){const n=uR(r);return n&&n.default||0}else{const n=xje(t),i=(sre(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return sne(t,r)}build(t,r,n,i){eR(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return aR(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tu(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){fre(t,r,n,i)}}class yje extends yne{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Sx.has(r)){const n=uR(r);return n&&n.default||0}return r=hre.has(r)?r:Y7(r),t.getAttribute(r)}measureInstanceViewportBox(){return gl()}scrapeMotionValuesFromProps(t,r){return pre(t,r)}build(t,r,n,i){rR(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){mre(t,r,n,i)}mount(t){this.isSVGTag=nR(t.tagName),super.mount(t)}}const bje=(e,t)=>Q7(e)?new yje(t,{enableHardwareAcceleration:!1}):new vje(t,{enableHardwareAcceleration:!0}),wje={layout:{ProjectionNode:pne,MeasureLayout:lne}},_je={...KCe,...xSe,...QAe,...wje},er=ANe((e,t)=>aSe(e,t,_je,bje));function bne(){const e=j.useRef(!1);return Nx(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Nje(){const e=bne(),[t,r]=j.useState(0),n=j.useCallback(()=>{e.current&&r(t+1)},[t]);return[j.useCallback(()=>rs.postRender(n),[n]),t]}class Sje extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Cje({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),j.createElement(Sje,{isPresent:t,childRef:n,sizeRef:i},j.cloneElement(e,{ref:n}))}const j8=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=$y(Aje),c=j.useId(),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},register:f=>(l.set(f,!1),()=>l.delete(f))}),a?void 0:[r]);return j.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),j.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=j.createElement(Cje,{isPresent:r},e)),j.createElement(Kj.Provider,{value:u},e)};function Aje(){return new Map}function jje(e){return j.useEffect(()=>()=>e(),[])}const lg=e=>e.key||"";function Eje(e,t){e.forEach(r=>{const n=lg(r);t.set(n,r)})}function Tje(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const Du=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=j.useContext(Z7).forceRender||Nje()[0],c=bne(),u=Tje(e);let f=u;const h=j.useRef(new Map).current,g=j.useRef(f),p=j.useRef(new Map).current,S=j.useRef(!0);if(Nx(()=>{S.current=!1,Eje(u,p),g.current=f}),jje(()=>{S.current=!0,p.clear(),h.clear()}),S.current)return j.createElement(j.Fragment,null,f.map(A=>j.createElement(j8,{key:lg(A),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},A)));f=[...f];const b=g.current.map(lg),N=u.map(lg),C=b.length;for(let A=0;A<C;A++){const T=b[A];N.indexOf(T)===-1&&!h.has(T)&&h.set(T,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((A,T)=>{if(N.indexOf(T)!==-1)return;const F=p.get(T);if(!F)return;const L=b.indexOf(T);let B=A;if(!B){const M=()=>{h.delete(T);const W=Array.from(p.keys()).filter(z=>!N.includes(z));if(W.forEach(z=>p.delete(z)),g.current=u.filter(z=>{const Z=lg(z);return Z===T||W.includes(Z)}),!h.size){if(c.current===!1)return;l(),n&&n()}};B=j.createElement(j8,{key:lg(F),isPresent:!1,onExitComplete:M,custom:t,presenceAffectsLayout:a,mode:o},F),h.set(T,B)}f.splice(L,0,B)}),f=f.map(A=>{const T=A.key;return h.has(T)?A:j.createElement(j8,{key:lg(A),isPresent:!0,presenceAffectsLayout:a,mode:o},A)}),j.createElement(j.Fragment,null,h.size?f:f.map(A=>j.cloneElement(A)))};function xR(e){const t=$y(()=>fh(e)),{isStatic:r}=j.useContext(qj);if(r){const[,n]=j.useState(e);j.useEffect(()=>t.on("change",n),[])}return t}const kje=e=>e&&typeof e=="object"&&e.mix,Pje=e=>kje(e)?e.mix:void 0;function Oje(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],a=e[2+r],o=e[3+r],l=rE(i,a,{mixer:Pje(a[0]),...o});return t?l(n):l}function wne(e,t){const r=xR(t()),n=()=>r.set(t());return n(),Nx(()=>{const i=()=>rs.update(n,!1,!0),a=e.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Sh(n)}}),r}function Ije(e){$w.current=[],e();const t=wne($w.current,e);return $w.current=void 0,t}function Fje(e,t,r,n){if(typeof e=="function")return Ije(e);const i=typeof t=="function"?t:Oje(t,r,n);return Array.isArray(e)?Gz(e,i):Gz([e],([a])=>i(a))}function Gz(e,t){const r=$y(()=>[]);return wne(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Dje(e,t={}){const{isStatic:r}=j.useContext(qj),n=j.useRef(null),i=xR(tu(e)?e.get():e),a=()=>{n.current&&n.current.stop()};return j.useInsertionEffect(()=>i.attach((o,l)=>{if(r)return l(o);if(a(),n.current=R_({keyframes:[i.get(),o],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:l}),!Ol.isProcessing){const c=performance.now()-Ol.timestamp;c<30&&(n.current.time=v0(c))}return i.get()},a),[JSON.stringify(t)]),Nx(()=>{if(tu(e))return e.on("change",o=>i.set(parseFloat(o)))},[i]),i}function Rje(e,t,r){var n;if(typeof e=="string"){let i=document;t&&(tE(!!t.current),i=t.current),r?((n=r[e])!==null&&n!==void 0||(r[e]=i.querySelectorAll(e)),e=r[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const nS=new WeakMap;let mp;function Mje(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Lje({target:e,contentRect:t,borderBoxSize:r}){var n;(n=nS.get(e))===null||n===void 0||n.forEach(i=>{i({target:e,contentSize:t,get size(){return Mje(e,r)}})})}function Bje(e){e.forEach(Lje)}function $je(){typeof ResizeObserver>"u"||(mp=new ResizeObserver(Bje))}function Uje(e,t){mp||$je();const r=Rje(e);return r.forEach(n=>{let i=nS.get(n);i||(i=new Set,nS.set(n,i)),i.add(t),mp==null||mp.observe(n)}),()=>{r.forEach(n=>{const i=nS.get(n);i==null||i.delete(t),i!=null&&i.size||mp==null||mp.unobserve(n)})}}const aS=new Set;let Vw;function zje(){Vw=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};aS.forEach(r=>r(t))},window.addEventListener("resize",Vw)}function Vje(e){return aS.add(e),Vw||zje(),()=>{aS.delete(e),!aS.size&&Vw&&(Vw=void 0)}}function Wje(e,t){return typeof e=="function"?Vje(e):Uje(e,t)}const Hje=50,Kz=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),qje=()=>({time:0,x:Kz(),y:Kz()}),Gje={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Yz(e,t,r,n){const i=r[t],{length:a,position:o}=Gje[t],l=i.current,c=r.time;i.current=e["scroll"+o],i.scrollLength=e["scroll"+a]-e["client"+a],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=$2(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>Hje?0:cR(i.current-l,u)}function Kje(e,t,r){Yz(e,"x",t,r),Yz(e,"y",t,r),t.time=r}function Yje(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();r.x+=i.left-a.left,r.y+=i.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:a}=n.getBBox();r.x+=i,r.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const Xje={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},SO={start:0,center:.5,end:1};function Xz(e,t,r=0){let n=0;if(SO[e]!==void 0&&(e=SO[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const Jje=[0,0];function Zje(e,t,r,n){let i=Array.isArray(e)?e:Jje,a=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,SO[e]?e:"0"]),a=Xz(i[0],r,n),o=Xz(i[1],t),a-o}const Qje={x:0,y:0};function eEe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function tEe(e,t,r){let{offset:n=Xje.All}=r;const{target:i=e,axis:a="y"}=r,o=a==="y"?"height":"width",l=i!==e?Yje(i,e):Qje,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:eEe(i),u={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let f=!t[a].interpolate;const h=n.length;for(let g=0;g<h;g++){const p=Zje(n[g],u[o],c[o],l[a]);!f&&p!==t[a].interpolatorOffsets[g]&&(f=!0),t[a].offset[g]=p}f&&(t[a].interpolate=rE(t[a].offset,Hre(n)),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=t[a].interpolate(t[a].current)}function rEe(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function nEe(e,t,r,n={}){return{measure:()=>rEe(e,n.target,r),update:i=>{Kje(e,r,i),(n.offset||n.target)&&tEe(e,r,n)},notify:()=>t(r)}}const Xb=new WeakMap,Jz=new WeakMap,E8=new WeakMap,Zz=e=>e===document.documentElement?window:e;function aEe(e,{container:t=document.documentElement,...r}={}){let n=E8.get(t);n||(n=new Set,E8.set(t,n));const i=qje(),a=nEe(t,e,i,r);if(n.add(a),!Xb.has(t)){const l=()=>{for(const g of n)g.measure()},c=()=>{for(const g of n)g.update(Ol.timestamp)},u=()=>{for(const g of n)g.notify()},f=()=>{rs.read(l,!1,!0),rs.read(c,!1,!0),rs.update(u,!1,!0)};Xb.set(t,f);const h=Zz(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&Jz.set(t,Wje(t,f)),h.addEventListener("scroll",f,{passive:!0})}const o=Xb.get(t);return rs.read(o,!1,!0),()=>{var l;Sh(o);const c=E8.get(t);if(!c||(c.delete(a),c.size))return;const u=Xb.get(t);Xb.delete(t),u&&(Zz(t).removeEventListener("scroll",u),(l=Jz.get(t))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function Qz(e,t){Nre(!!(!t||t.current))}const iEe=()=>({scrollX:fh(0),scrollY:fh(0),scrollXProgress:fh(0),scrollYProgress:fh(0)});function sEe({container:e,target:t,layoutEffect:r=!0,...n}={}){const i=$y(iEe);return(r?Nx:j.useEffect)(()=>(Qz("target",t),Qz("container",e),aEe(({x:o,y:l})=>{i.scrollX.set(o.current),i.scrollXProgress.set(o.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),i}function oEe(e){e.values.forEach(t=>t.stop())}function lEe(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const i=[];return e.forEach(a=>{i.push(ene(a,r,{transitionOverride:n}))}),Promise.all(i)},set(r){return e.forEach(n=>{PCe(n,r)})},stop(){e.forEach(r=>{oEe(r)})},mount(){return()=>{t.stop()}}};return t}function cEe(){const e=$y(lEe);return Nx(e.mount,[]),e}const uEe=cEe;function dEe(e){const t=fEe(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(mEe);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function fEe(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=gEe(i),l=pEe(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hEe=Symbol("radix.slottable");function mEe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hEe}function pEe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function gEe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nE="Popover",[_ne,Kvt]=dc(nE,[y1]),s5=y1(),[xEe,w1]=_ne(nE),Nne=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=s5(t),c=j.useRef(null),[u,f]=j.useState(!1),[h,g]=cc({prop:n,defaultProp:i??!1,onChange:a,caller:nE});return s.jsx(Dj,{...l,children:s.jsx(xEe,{scope:t,contentId:sd(),triggerRef:c,open:h,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>f(!0),[]),onCustomAnchorRemove:j.useCallback(()=>f(!1),[]),modal:o,children:r})})};Nne.displayName=nE;var Sne="PopoverAnchor",vEe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=w1(Sne,r),a=s5(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(H4,{...a,...n,ref:t})});vEe.displayName=Sne;var Cne="PopoverTrigger",Ane=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=w1(Cne,r),a=s5(r),o=ka(t,i.triggerRef),l=s.jsx(In.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Pne(i.open),...n,ref:o,onClick:Lr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(H4,{asChild:!0,...a,children:l})});Ane.displayName=Cne;var vR="PopoverPortal",[yEe,bEe]=_ne(vR,{forceMount:void 0}),jne=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=w1(vR,t);return s.jsx(yEe,{scope:t,forceMount:r,children:s.jsx(Bu,{present:r||a.open,children:s.jsx(ky,{asChild:!0,container:i,children:n})})})};jne.displayName=vR;var z2="PopoverContent",Ene=j.forwardRef((e,t)=>{const r=bEe(z2,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=w1(z2,e.__scopePopover);return s.jsx(Bu,{present:n||a.open,children:a.modal?s.jsx(_Ee,{...i,ref:t}):s.jsx(NEe,{...i,ref:t})})});Ene.displayName=z2;var wEe=dEe("PopoverContent.RemoveScroll"),_Ee=j.forwardRef((e,t)=>{const r=w1(z2,e.__scopePopover),n=j.useRef(null),i=ka(t,n),a=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return Lj(o)},[]),s.jsx($j,{as:wEe,allowPinchZoom:!0,children:s.jsx(Tne,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Lr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Lr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),NEe=j.forwardRef((e,t)=>{const r=w1(z2,e.__scopePopover),n=j.useRef(!1),i=j.useRef(!1);return s.jsx(Tne,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Tne=j.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...h}=e,g=w1(z2,r),p=s5(r);return Tj(),s.jsx(V4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(xx,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(Rj,{"data-state":Pne(g.open),role:"dialog",id:g.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kne="PopoverClose",SEe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=w1(kne,r);return s.jsx(In.button,{type:"button",...n,ref:t,onClick:Lr(e.onClick,()=>i.onOpenChange(!1))})});SEe.displayName=kne;var CEe="PopoverArrow",AEe=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=s5(r);return s.jsx(Mj,{...i,...n,ref:t})});AEe.displayName=CEe;function Pne(e){return e?"open":"closed"}var jEe=Nne,EEe=Ane,TEe=jne,One=Ene;const Ine=jEe,Fne=EEe,yR=j.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>s.jsx(TEe,{children:s.jsx(One,{ref:i,align:t,sideOffset:r,className:Ir("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));yR.displayName=One.displayName;const kEe=vx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-500 text-white",warning:"border-transparent bg-yellow-400 text-black"}},defaultVariants:{variant:"default"}});function Vr({className:e,variant:t,...r}){return s.jsx("div",{className:Ir(kEe({variant:t}),e),...r})}const PEe=()=>{try{const e=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-951.mp3");e.volume=.5,e.play().catch(t=>console.log("Audio play blocked (user interaction required):",t))}catch(e){console.error("Error playing sound:",e)}},OEe=({type:e})=>{const t={new_event:s.jsx(jo,{className:"w-4 h-4 text-blue-500"}),promotion:s.jsx(i7,{className:"w-4 h-4 text-purple-500"}),system:s.jsx(Oy,{className:"w-4 h-4 text-gray-500"}),earning:s.jsx(Ua,{className:"w-4 h-4 text-yellow-500"}),success:s.jsx(vl,{className:"w-4 h-4 text-green-500"}),error:s.jsx(Iu,{className:"w-4 h-4 text-red-500"}),info:s.jsx(Md,{className:"w-4 h-4 text-cyan-500"}),ticket:s.jsx(el,{className:"w-4 h-4 text-orange-500"}),default:s.jsx(p0,{className:"w-4 h-4 text-gray-500"})};return t[e]||t.default},IEe=({notification:e,onNavigate:t,onDelete:r})=>s.jsxs(er.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:Ir("flex items-start gap-3 p-3 rounded-lg transition-colors cursor-pointer group relative",e.is_read?"hover:bg-muted/50 bg-background":"bg-primary/5 hover:bg-primary/10 border-l-2 border-primary"),onClick:()=>t(e),children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:s.jsx(OEe,{type:e.type})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex justify-between items-start mb-0.5",children:s.jsx("p",{className:Ir("font-semibold text-sm truncate pr-6",!e.is_read&&"text-primary"),children:e.title})}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:e.message}),s.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-1.5 flex items-center gap-1",children:new Date(e.created_at).toLocaleString("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]}),s.jsx(ze,{variant:"ghost",size:"icon",className:"h-6 w-6 absolute top-2 right-2 text-muted-foreground/50 opacity-0 group-hover:opacity-100 hover:text-destructive hover:bg-destructive/10 transition-all",onClick:n=>{n.stopPropagation(),r(e.id)},children:s.jsx(wl,{className:"h-3 w-3"})})]}),FEe=()=>{const{user:e}=bn(),{notificationCount:t,fetchNotificationCount:r,triggerNotificationAnimation:n,notificationBellAnimation:i}=Ja(),[a,o]=j.useState([]),[l,c]=j.useState(!1),[u,f]=j.useState(!1),h=Sa(),g=j.useRef(null);j.useEffect(()=>{g.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-951.mp3")},[]),j.useEffect(()=>{if(!e)return;const C=Ze.channel("realtime:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},A=>{if(r(),A.eventType==="INSERT"){const T=A.new;PEe(),n(),lt({title:T.title,description:T.message,variant:"info",duration:4e3,onClick:()=>{var F;(F=T.data)!=null&&F.event_id&&h(`/event/${T.data.event_id}`)}}),u&&o(F=>[T,...F])}else A.eventType==="UPDATE"&&u&&o(T=>T.map(F=>F.id===A.new.id?A.new:F))}).subscribe();return()=>{Ze.removeChannel(C)}},[e,u,r,n,h]);const p=j.useCallback(async()=>{if(e){c(!0);try{const{data:C,error:A}=await Ze.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);if(A)throw A;o(C||[])}catch(C){console.error("Error loading notifications",C)}finally{c(!1)}}},[e]);j.useEffect(()=>{u&&p()},[u,p]);const S=async C=>{var A,T;if(o(F=>F.map(L=>L.id===C.id?{...L,is_read:!0}:L)),!C.is_read)try{const{error:F}=await Ze.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",C.id);if(F)throw F;r()}catch(F){console.error("Failed to mark notification as read:",F)}(A=C.data)!=null&&A.event_id?h(`/event/${C.data.event_id}`):(T=C.data)!=null&&T.link?h(C.data.link):C.type==="earning"&&h("/wallet"),f(!1)},b=async C=>{try{const{error:A}=await Ze.from("notifications").delete().eq("id",C);if(A)throw A;o(T=>T.filter(F=>F.id!==C)),r()}catch{lt({title:"Erreur",description:"Impossible de supprimer la notification.",variant:"destructive"})}},N=async()=>{try{const{error:C}=await Ze.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e.id).eq("is_read",!1);if(C)throw C;o(A=>A.map(T=>({...T,is_read:!0}))),r(),lt({title:"Tout marqu comme lu",variant:"success"})}catch{lt({title:"Erreur",description:"Opration choue.",variant:"destructive"})}};return s.jsxs(Ine,{open:u,onOpenChange:f,children:[s.jsx(Fne,{asChild:!0,children:s.jsx("div",{className:"relative cursor-pointer group",children:s.jsx(er.div,{animate:i||t>0?{rotate:[0,-15,10,-10,5,-5,0],transition:{duration:.8,repeat:i?1:0,repeatDelay:2,ease:"easeInOut"}}:{rotate:0},children:s.jsxs(ze,{variant:"ghost",size:"icon",className:"relative group-hover:bg-accent/50",children:[s.jsx(p0,{className:Ir("h-6 w-6 transition-colors",t>0?"text-foreground":"text-muted-foreground")}),s.jsx(Du,{children:t>0&&s.jsx(er.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1",children:s.jsx(Vr,{className:"h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-[10px] border-2 border-background shadow-sm",children:t>99?"99+":t})})}),s.jsx("span",{className:"sr-only",children:"Notifications"})]})})})}),s.jsxs(yR,{className:"w-80 sm:w-96 p-0 shadow-xl border-border/50 backdrop-blur-xl bg-background/95",align:"end",sideOffset:8,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/10 bg-muted/20",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:["Notifications",t>0&&s.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:t})]}),s.jsx(ze,{variant:"ghost",size:"sm",className:"text-xs h-7 hover:text-primary hover:bg-primary/10",onClick:N,disabled:t===0,children:"Tout lire"})]}),s.jsx("div",{className:"max-h-[70vh] overflow-y-auto custom-scrollbar",children:l?s.jsxs("div",{className:"flex flex-col justify-center items-center h-40 gap-2 text-muted-foreground",children:[s.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary border-t-transparent"}),s.jsx("p",{className:"text-xs",children:"Chargement..."})]}):a.length>0?s.jsx("div",{className:"divide-y divide-border/10",children:s.jsx(Du,{initial:!1,children:a.map(C=>s.jsx(IEe,{notification:C,onNavigate:S,onDelete:b},C.id))})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[s.jsx("div",{className:"bg-muted/30 p-4 rounded-full mb-3",children:s.jsx(p0,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("p",{className:"text-sm font-medium",children:"C'est calme par ici"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-[200px]",children:"Vous n'avez aucune notification pour le moment."})]})}),s.jsx("div",{className:"p-2 border-t border-border/10 bg-muted/20 text-center",children:s.jsx(ze,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground hover:text-primary",onClick:()=>{h("/notifications"),f(!1)},children:"Voir l'historique complet"})})]})]})},eV="/assets/logo-dfb4c5ad.png",Dne=()=>(console.log("Logo path:",eV),s.jsxs($D,{to:"/",className:"flex items-center gap-2",children:[s.jsx("img",{src:eV,alt:"BonPlanInfos Logo",className:"h-8 w-auto"}),s.jsx("span",{className:"hidden sm:inline-block font-bold text-lg",children:"BonPlanInfos"})]})),DEe=({user:e,userProfile:t,handleLogout:r})=>{var a;const{t:n}=za(),i=Sa();return s.jsxs(Y4,{children:[s.jsx(X4,{asChild:!0,children:s.jsx(ze,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:s.jsxs(t1,{className:"h-10 w-10",children:[s.jsx(r1,{src:t==null?void 0:t.avatar_url,alt:t==null?void 0:t.full_name}),s.jsx(n1,{children:((a=t==null?void 0:t.full_name)==null?void 0:a.charAt(0))||"U"})]})})}),s.jsxs(By,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(J4,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),s.jsx(s1,{}),s.jsxs(Qu,{onClick:()=>i("/profile"),children:[s.jsx(Iy,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:n("nav.profile")})]}),s.jsxs(Qu,{onClick:()=>i("/wallet"),children:[s.jsx($o,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:n("nav.wallet")})]}),s.jsx(s1,{}),s.jsxs(Qu,{onClick:r,children:[s.jsx(Gg,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:n("nav.logout")})]})]})]})},REe=({navLinks:e,user:t,userProfile:r,handleLogout:n,isMenuOpen:i,setMenuOpen:a})=>{const{t:o}=za(),l=Sa(),c=f=>{l(f),a(!1)},u=f=>f&&["organizer","admin","super_admin"].includes(f.user_type);return s.jsxs(Yte,{open:i,onOpenChange:a,children:[s.jsx(Xte,{asChild:!0,children:s.jsxs(ze,{variant:"ghost",size:"icon",className:"md:hidden",children:[s.jsx(QZ,{className:"h-6 w-6"}),s.jsx("span",{className:"sr-only",children:"Open menu"})]})}),s.jsxs(H7,{side:"left",className:"w-[300px] sm:w-[350px] p-0 flex flex-col z-50",children:[s.jsx(q7,{className:"p-6 pb-4",children:s.jsx(K7,{children:s.jsx(Dne,{})})}),s.jsx("div",{className:"flex-grow overflow-y-auto px-4 pb-4",children:s.jsxs("nav",{className:"flex flex-col space-y-2",children:[e.map(f=>s.jsxs(ze,{variant:"ghost",className:"justify-start text-base h-11",onClick:()=>c(f.path),children:[s.jsx(f.icon,{className:"mr-3 h-5 w-5"}),o(f.name)]},f.name)),t&&u(r)&&s.jsxs(ze,{variant:"ghost",className:"justify-start text-base h-11",onClick:()=>c("/create-event"),children:[s.jsx(A_,{className:"mr-3 h-5 w-5"}),o("nav.create_event")]})]})}),s.jsxs(G7,{className:"p-4 border-t flex-col sm:flex-col sm:space-x-0 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:o("Theme")}),s.jsx(Qte,{})]}),s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:o("Language")}),s.jsx(Zte,{})]})]})]})]})},MEe=()=>{const{t:e}=za(),{user:t,signOut:r}=bn(),{userProfile:n}=Ja(),i=Sa(),[a,o]=Ie.useState(!1),l=[{name:"nav.home",path:"/",icon:QD},{name:"nav.discover",path:"/discover",icon:KZ},{name:"nav.events",path:"/events",icon:jo},{name:"nav.partnership",path:"/marketing",icon:b2e}],c=u=>u&&["organizer","admin","super_admin"].includes(u.user_type);return s.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"md:hidden",children:s.jsx(REe,{navLinks:l,user:t,userProfile:n,handleLogout:r,isMenuOpen:a,setMenuOpen:o})}),s.jsx("div",{className:"hidden md:flex",children:s.jsx(Dne,{})}),s.jsx("nav",{className:"hidden md:flex items-center gap-4 text-sm",children:l.map(u=>s.jsx($D,{to:u.path,className:({isActive:f})=>Ir("transition-colors hover:text-foreground/80",f?"text-foreground font-semibold":"text-foreground/60"),children:e(u.name)},u.name))})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[c(n)&&s.jsxs(ze,{variant:"premium",size:"sm",onClick:()=>i("/create-event"),children:[s.jsx(A_,{className:"mr-2 h-4 w-4"}),e("nav.create_event")]}),s.jsx(Zte,{}),s.jsx(Qte,{})]}),t?s.jsxs(s.Fragment,{children:[s.jsx(FEe,{}),s.jsx(DEe,{user:t,userProfile:n,handleLogout:r})]}):s.jsx(ze,{onClick:()=>i("/auth"),className:"h-11",children:e("auth.login.button")})]})]})})},LEe=({isMenuOpen:e})=>{const{t}=za(),{user:r}=bn(),n=Lu(),i=[{path:"/",icon:QD,label:t("nav.home")},{path:"/discover",icon:KZ,label:t("nav.discover")},{path:"/events",icon:jo,label:t("nav.events")},{path:"/wallet",icon:$o,label:t("nav.wallet"),requiresAuth:!0},{path:"/profile",icon:Iy,label:t("nav.profile"),requiresAuth:!0}];return!!["/auth","/admin","/secretary"].some(o=>n.pathname.startsWith(o))||e?null:s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 z-30 w-full h-16 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t",children:s.jsx("nav",{className:"grid h-full grid-cols-5",children:i.map(o=>o.requiresAuth&&!r?null:s.jsxs($D,{to:o.path,className:({isActive:l})=>Ir("flex flex-col items-center justify-center gap-1 text-muted-foreground transition-colors",l?"text-primary":"hover:text-foreground"),children:[s.jsx(o.icon,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.path))})})};const BEe=()=>{const{t:e}=za(),[t,r]=j.useState(!1);j.useEffect(()=>{if(!localStorage.getItem("cookiesConsent")){const a=setTimeout(()=>{r(!0)},1500);return()=>clearTimeout(a)}},[]);const n=i=>{localStorage.setItem("cookiesConsent",i),r(!1),i==="accepted"&&console.log("Cookies accepted - Analytics initialized")};return s.jsx(Du,{children:t&&s.jsx(er.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},transition:{type:"spring",stiffness:400,damping:30,duration:.3},className:"cookie-banner",children:s.jsxs("div",{className:"cookie-content",children:[s.jsxs("div",{className:"cookie-header",children:[s.jsx("div",{className:"cookie-icon",children:s.jsx(YD,{size:20})}),s.jsx("div",{className:"cookie-text-content",children:s.jsxs("p",{className:"cookie-text",children:[e("cookie_banner.message"),s.jsx(Bo,{to:"/privacy-policy",className:"cookie-link",children:e("cookie_banner.learn_more")})]})})]}),s.jsxs("div",{className:"cookie-buttons",children:[s.jsx(ze,{onClick:()=>n("rejected"),variant:"outline",className:"cookie-button cookie-button--secondary",size:"sm",children:e("cookie_banner.reject")}),s.jsxs(ze,{onClick:()=>n("accepted"),className:"cookie-button cookie-button--primary",size:"sm",children:[s.jsx(nc,{size:16}),e("cookie_banner.accept")]})]})]})})})},tV={gift:"/sounds/gift.mp3",coin:"/sounds/coin.mp3",celebration:"/sounds/celebration.mp3",default:"/sounds/notification.mp3",system:"/sounds/system.mp3",event:"/sounds/event_alert.mp3"},$Ee=e=>{const t=tV[e]||tV.default;try{new Audio(t).play().catch(n=>console.warn("Audio play failed, likely due to browser policy:",n))}catch(r){console.error("Could not create or play sound",r)}},UEe=({onComplete:e,id:t})=>{const r=Math.random()*2+3,n=Math.random()*1,i=Math.random()*40+20,a=Math.random()*100,o=Math.random()*100;return s.jsx(er.div,{className:"absolute bottom-0",style:{left:`${a}%`,width:i,height:i},initial:{y:0,opacity:.7},animate:{y:"-100vh",x:`${o-a}vw`,opacity:0},transition:{duration:r,delay:n,ease:"linear"},onAnimationComplete:()=>e(t),children:s.jsx("div",{className:"w-full h-full rounded-full bg-primary/30 border-2 border-primary/50 flex items-center justify-center",children:s.jsx(Ua,{className:"w-1/2 h-1/2 text-primary/80"})})},t)},zEe=()=>{const{visualEffects:e,removeVisualEffect:t,soundEffect:r,clearSoundEffect:n}=Ja();return j.useEffect(()=>{r&&($Ee(r),n())},[r,n]),s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[200] overflow-hidden",children:s.jsx(Du,{children:e.map(i=>i.type==="bubbles"?Array.from({length:15}).map((a,o)=>s.jsx(UEe,{id:`${i.id}-${o}`,onComplete:()=>o===0&&t(i.id)},`${i.id}-${o}`)):null)})})},bR=()=>{const{impersonatingUser:e,stopImpersonation:t}=bn();if(!e)return null;const r=JSON.parse(localStorage.getItem("impersonating")||"{}");return s.jsxs("div",{className:"fixed top-0 left-0 w-full bg-yellow-500 text-black p-2 text-center text-sm z-50 flex items-center justify-center gap-4",children:[s.jsx(lQ,{className:"w-5 h-5"}),s.jsxs("span",{children:["Vous tes en mode vue en tant que ",s.jsx("strong",{children:e.name}),"."]}),s.jsxs(ze,{size:"sm",variant:"secondary",className:"bg-black text-white hover:bg-gray-800",onClick:t,children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"}),"Retourner  mon compte (",r.originalUserName,")"]})]})},VEe=vx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fl=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ir(VEe({variant:t}),e),...r}));Fl.displayName="Alert";const jd=j.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Ir("mb-1 font-medium leading-none tracking-tight",e),...t}));jd.displayName="AlertTitle";const rc=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ir("text-sm [&_p]:leading-relaxed",e),...t}));rc.displayName="AlertDescription";const WEe=()=>{const{t:e}=za();return s.jsx("div",{className:"screenshot-overlay","data-text":e("security.screenshot_warning_watermark"," BonPlanInfos - Capture d'cran non autorise")})},HEe={"/":[{icon:s.jsx(GS,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Crez & Gagnez !",description:"5 000 vues = 50 000 F CFA. Vos vnements vous rapportent de l'argent !",button:"Commencer",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(cd,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Viralisez = Argent !",description:"1 partage = 10 F CFA. Multipliez vos revenus automatiquement !",button:"Booster",color:"from-green-500 to-blue-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(Ua,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Tout est montis !",description:"Vues, likes, partages = Argent. 10K interactions = 100K FCFA !",button:"Gagner",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(l2e,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Gains garantis !",description:"500 vues + 200 likes = 7 500 F CFA. Plus c'est populaire, plus vous gagnez !",button:"Calculer",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(mj,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Audience = Revenus",description:"1 000 followers = 10K-50K F CFA/vnement. Dveloppez votre communaut !",button:"Dvelopper",color:"from-teal-500 to-green-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(Tu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez une star !",description:"Vos vnements vus par toute la ville. Montrez votre talent !",button:"Briller",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(Zs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Communaut = Pouvoir",description:"Rassemblez vos fans et crez des vnements inoubliables !",button:"Rassembler",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(a0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire officiel",description:"Reprsentez BonPlanInfos. Revenus mensuels garantis !",button:"Devenir partenaire",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/discover":[{icon:s.jsx(to,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Dcouvrez l'inattendu",description:"vnements uniques prs de chez vous. Soyez surpris !",button:"Explorer",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(vj,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Votre passion vous attend",description:"Des vnements qui correspondent  vos passions. Trouvez-les !",button:"Dcouvrir",color:"from-pink-500 to-rose-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]}],"/events":[{icon:s.jsx(jo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Ne manquez rien !",description:"Des centaines d'vnements vous attendent. Inscrivez-vous !",button:"Voir tout",color:"from-teal-500 to-green-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(wh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Les plus populaires",description:"Dcouvrez les vnements les plus apprcis. Inspirez-vous !",button:"Voir les tops",color:"from-amber-500 to-orange-500",action:()=>window.location.href="/events?filter=popular",targetUserTypes:["user","organizer","admin","super_admin"]}],"/create-event":[{icon:s.jsx(Xc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Boostez votre vnement !",description:"Donnez un coup de projecteur ds le dpart. 10x plus de visibilit !",button:"Booster",color:"from-yellow-500 to-red-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(Zp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez un pro",description:"Nos outils vous aident  crer des vnements mmorables !",button:"Apprendre",color:"from-purple-500 to-indigo-500",action:()=>window.location.href="/how-it-works",targetUserTypes:["organizer","admin","super_admin"]}],"/boost":[{icon:s.jsx(cd,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 5x plus de participants !",description:"Les vnements boosts attirent 5x plus de monde. Statistiques relles !",button:"Voir stats",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(Ua,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 3x retour sur investissement",description:"Chaque pice investie rapporte 3x en visibilit. Calculer votre ROI !",button:"Calculer ROI",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(a0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Boostez votre carrire !",description:"Devenez partenaire. Revenus illimits avec notre licence !",button:"Devenir partenaire",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/wallet":[{icon:s.jsx(qg,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Pices gratuites !",description:"Gagnez des pices en regardant des vidos. Actions simples !",button:"Gagner",color:"from-red-500 to-pink-500",action:()=>window.location.href="/wallet",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Tu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez premium",description:"Avantages exclusifs. Boostez gratuitement vos vnements !",button:"Dcouvrir",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/pricing",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(GT,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 200K FCFA/mois moyen",description:"Nos partenaires gagnent bien. Rejoignez le programme licence !",button:"Devenir partenaire",color:"from-green-500 to-teal-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/profile":[{icon:s.jsx(GS,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Optimisez votre profil",description:"Profil complet = Plus de participants. Attirez votre audience !",button:"Optimiser",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/profile",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(Zs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Dveloppez votre rseau",description:"Connectez-vous avec d'autres passionns. Crez ensemble !",button:"Rseauter",color:"from-green-500 to-teal-500",action:()=>window.location.href="/discover",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(a0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire certifi",description:"Votre profil a du potentiel ! Reprsentez BonPlanInfos.",button:"Postuler",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/marketing":[{icon:s.jsx(a0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire officiel",description:"Licence exclusive. Reprsentez-nous dans votre rgion !",button:"Postuler",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(v2e,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Monopole territorial",description:"Soyez le seul reprsentant officiel. Zone exclusive !",button:"Voir zones",color:"from-red-500 to-orange-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(GT,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Revenus passifs",description:"Commissions sur vnements + packs + boosting. Multiple revenus !",button:"Voir gains",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(Jp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Votre entreprise",description:"Construisez votre business sous marque reconnue. Formation incluse !",button:"Dmarrer",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(VP,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 30% commissions",description:"Niveau Diamond = 30% de commissions. Plus vous dveloppez, plus vous gagnez !",button:"Voir niveaux",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(Kg,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" March africain",description:"1,3 milliard de personnes. vnementiel digital en explosion !",button:"Cibler",color:"from-orange-500 to-red-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(WZ,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Certifi officiel",description:"Statut partenaire certifi. Crdibilit et notorit !",button:"Certifier",color:"from-green-500 to-teal-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/partner-signup":[{icon:s.jsx(a0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Licence internationale",description:"Ambassadeur officiel. Droits territoriaux protgs !",button:"Demander licence",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(GT,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 1M FCFA/mois possible",description:"Preuves de revenus disponibles. Modle conomique prouv !",button:"Voir preuves",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(VP,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Top partenaires >500K/mois",description:"Rejoignez le classement. Devenez la prochaine success story !",button:"Voir classement",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(Jp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Franchise accessible",description:"Agence vnementielle sous licence. Investissement raisonnable !",button:"Dcouvrir",color:"from-purple-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/guide-utilisation":[{icon:s.jsx(_p,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez expert",description:"Matrisez toutes les fonctionnalits. Optimisez vos rsultats !",button:"Apprendre",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/guide-utilisation",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Tu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Astuces de pro",description:"Secrets pour vnements  succs. Augmentez vos chances !",button:"Dcouvrir",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/guide-utilisation",targetUserTypes:["organizer","admin","super_admin"]}],"/packs":[{icon:s.jsx(im,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" -30% offre limite !",description:"conomisez 30% sur les packs. Dernire chance !",button:"Profiter",color:"from-green-500 to-teal-500",action:()=>window.location.href="/packs",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(qg,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Pices bonus offertes",description:"Achetez maintenant = Pices bonus gratuites !",button:"Voir offres",color:"from-red-500 to-pink-500",action:()=>window.location.href="/packs",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Ua,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Investissez = Succs",description:"Plus de pices = Plus de visibilit. Multipliez votre audience !",button:"Acheter",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/packs",targetUserTypes:["organizer","admin","super_admin"]}],"/create-simple-event":[{icon:s.jsx(Xc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Simple & efficace",description:"Crez en 2 min. Formulaire simplifi pour dbutants !",button:"Crer",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-simple-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-raffle-event":[{icon:s.jsx(el,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Tombola = Excitant !",description:"Gnrez un engouement fou. Lots attractifs !",button:"Lancer",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/create-raffle-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-voting-event":[{icon:s.jsx(e1,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Faites participer",description:"Interaction forte avec communaut. Engagement garanti !",button:"Crer vote",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/create-voting-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-stand-event":[{icon:s.jsx(S0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Stands = Revenus",description:"95% pour vous, 5% pour nous. Gnrez des revenus en ligne !",button:"Louer",color:"from-orange-500 to-amber-500",action:()=>window.location.href="/create-stand-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-ticketing-event":[{icon:s.jsx(el,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Billetterie = Ventes",description:"95% pour vous. Vendez en ligne facilement. Scuris !",button:"Vendre",color:"from-teal-500 to-green-500",action:()=>window.location.href="/create-ticketing-event",targetUserTypes:["organizer","admin","super_admin"]}]},qEe=["/","/discover","/events","/create-event","/boost","/wallet","/profile","/marketing","/guide-utilisation","/packs","/create-simple-event","/create-raffle-event","/create-voting-event","/create-stand-event","/create-ticketing-event","/partner-signup"],GEe=({userProfile:e,onClose:t})=>{const r=Lu(),[n,i]=j.useState(0),[a,o]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(!1),h=j.useRef(null),p=(HEe[r.pathname]||[]).filter(A=>A.targetUserTypes.includes((e==null?void 0:e.user_type)||"user"));j.useEffect(()=>(!u&&a&&!l&&(h.current=setTimeout(()=>{c(!0)},3e3)),()=>clearTimeout(h.current)),[a,l,u]),j.useEffect(()=>{if(p.length===0||u){o(!1);return}const A=setInterval(()=>{i(T=>(T+1)%p.length),c(!1),setTimeout(()=>c(!0),3e3)},15e3);return()=>clearInterval(A)},[p.length,r.pathname,u]);const S=()=>{f(!0),o(!1),localStorage.setItem("bannerDismissed","true"),setTimeout(()=>t==null?void 0:t(),300)},b=()=>{const A=p[n];A&&A.action&&A.action()},N=()=>{c(!l)};if(j.useEffect(()=>{localStorage.getItem("bannerDismissed")==="true"&&(f(!0),o(!1))},[]),!a||p.length===0||u)return null;const C=p[n];return s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40 w-[95vw] max-w-md",children:s.jsx(Du,{mode:"wait",children:s.jsx(er.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,y:-20,scale:.95,transition:{duration:.2}},className:Ir(`bg-gradient-to-r ${C.color}`,"rounded-xl shadow-lg border border-white/10 backdrop-blur-md overflow-hidden",l?"shadow-sm":"shadow-lg"),children:s.jsx(Du,{children:l?s.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:N,className:"cursor-pointer hover:bg-white/5 transition-colors",children:s.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-white bg-white/20 p-1 rounded-full",children:s.jsx(id,{className:"w-3 h-3"})}),s.jsx("span",{className:"text-white text-xs font-medium truncate max-w-[120px]",children:C.title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ze,{size:"icon",onClick:b,className:"bg-white/20 hover:bg-white/30 text-white h-6 w-6",children:s.jsx(Hg,{className:"w-3 h-3"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),S()},className:"text-white/50 hover:text-white hover:bg-white/10 h-6 w-6",children:s.jsx(wl,{className:"w-3 h-3"})})]})]})}):s.jsxs(er.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[s.jsx("div",{className:"p-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"text-white bg-white/20 p-1.5 rounded-full",children:Ie.cloneElement(C.icon,{className:"w-4 h-4"})}),s.jsx("h3",{className:"text-white font-bold text-sm leading-tight",children:C.title})]}),s.jsx("p",{className:"text-white/90 text-xs leading-relaxed mb-3",children:C.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ze,{onClick:b,size:"sm",className:"bg-white text-gray-900 hover:bg-white/90 font-semibold text-xs px-3 h-7",children:[C.button," ",s.jsx(Hg,{className:"ml-1 w-3 h-3"})]}),s.jsx(ze,{variant:"ghost",size:"sm",onClick:S,className:"text-white/70 hover:text-white hover:bg-white/10 text-xs h-7",children:"Plus tard"})]})]}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:S,className:"text-white hover:bg-white/20 flex-shrink-0 w-6 h-6 mt-0.5",children:s.jsx(wl,{className:"w-3 h-3"})})]})}),s.jsx(er.div,{className:"h-0.5 bg-white/20 relative overflow-hidden",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:15,ease:"linear"},children:s.jsx("div",{className:"h-full bg-white/70 absolute top-0 left-0 w-full"})})]})})},n)})})},KEe=({children:e})=>{const{user:t,hasFetchError:r}=bn(),{userProfile:n}=Ja(),i=Lu(),{t:a}=za(),[o,l]=Ie.useState(!1),[c,u]=j.useState(!1),h=t&&!["/auth"].some(S=>i.pathname.startsWith(S));j.useEffect(()=>{const S=()=>{if(!qEe.includes(i.pathname)||i.pathname.startsWith("/admin")||i.pathname.startsWith("/secretary"))return!1;const C=localStorage.getItem(`promoBannerLastClosed_${i.pathname}`);if(C&&Date.now()-parseInt(C)<27e5)return!1;const T={"/":.6,"/discover":.4,"/events":.5,"/create-event":.7,"/boost":.8,"/wallet":.4,"/profile":.3,"/marketing":.6,"/guide-utilisation":.5,"/packs":.7,"/create-simple-event":.4,"/create-raffle-event":.5,"/create-voting-event":.5,"/create-stand-event":.5,"/create-ticketing-event":.6}[i.pathname]||.4;return Math.random()<T},b=setTimeout(()=>{S()&&u(!0)},3e3);return()=>clearTimeout(b)},[i.pathname]);const g=()=>{u(!1),localStorage.setItem(`promoBannerLastClosed_${i.pathname}`,Date.now().toString())},p=()=>window.location.reload();return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(WEe,{}),s.jsx(zEe,{}),s.jsx(bR,{}),c&&s.jsx(GEe,{userProfile:n,onClose:g}),s.jsx(MEe,{isMenuOpen:o,setMenuOpen:l}),r&&s.jsxs(Fl,{variant:"destructive",className:"fixed top-[70px] left-1/2 -translate-x-1/2 w-[90%] max-w-2xl z-40 animate-in fade-in-0 slide-in-from-top-4",children:[s.jsx(B2e,{className:"h-4 w-4"}),s.jsx(jd,{children:a("auth.fetch_error.title")}),s.jsxs(rc,{children:[a("auth.fetch_error.description"),s.jsx(ze,{onClick:p,variant:"secondary",size:"sm",className:"ml-4",children:a("common.retry")})]})]}),s.jsx("main",{className:Ir("flex-grow",h?"pb-20 md:pb-0":"",c?"mt-16":"mt-4"),children:e}),h&&s.jsx(LEe,{isMenuOpen:o}),s.jsx(BEe,{})]})};var Rne={exports:{}},YEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XEe=YEe,JEe=XEe;function Mne(){}function Lne(){}Lne.resetWarningCache=Mne;var ZEe=function(){function e(n,i,a,o,l,c){if(c!==JEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Lne,resetWarningCache:Mne};return r.PropTypes=r,r};Rne.exports=ZEe();var QEe=Rne.exports;const oa=Si(QEe);function e6e(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Bne=j,t6e=e6e(Bne);function rV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r6e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var n6e=!!(typeof window<"u"&&window.document&&window.document.createElement);function a6e(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(f){return f.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(f){r6e(h,f);function h(){return f.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var S=l;return l=void 0,o=[],S};var g=h.prototype;return g.UNSAFE_componentWillMount=function(){o.push(this),c()},g.componentDidUpdate=function(){c()},g.componentWillUnmount=function(){var S=o.indexOf(this);o.splice(S,1),c()},g.render=function(){return t6e.createElement(a,this.props)},h}(Bne.PureComponent);return rV(u,"displayName","SideEffect("+n(a)+")"),rV(u,"canUseDOM",n6e),u}}var i6e=a6e;const s6e=Si(i6e);var o6e=typeof Element<"u",l6e=typeof Map=="function",c6e=typeof Set=="function",u6e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function iS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!iS(e[n],t[n]))return!1;return!0}var a;if(l6e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!iS(n.value[1],t.get(n.value[0])))return!1;return!0}if(c6e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(u6e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(o6e&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!iS(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var d6e=function(t,r){try{return iS(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const f6e=Si(d6e);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nV=Object.getOwnPropertySymbols,h6e=Object.prototype.hasOwnProperty,m6e=Object.prototype.propertyIsEnumerable;function p6e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function g6e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var x6e=g6e()?Object.assign:function(e,t){for(var r,n=p6e(e),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)h6e.call(r,o)&&(n[o]=r[o]);if(nV){i=nV(r);for(var l=0;l<i.length;l++)m6e.call(r,i[l])&&(n[i[l]]=r[i[l]])}}return n};const v6e=Si(x6e);var Fg={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},qa={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(qa).map(function(e){return qa[e]});var lo={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},dC={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},M_={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},y6e=Object.keys(dC).reduce(function(e,t){return e[dC[t]]=t,e},{}),b6e=[qa.NOSCRIPT,qa.SCRIPT,qa.STYLE],hh="data-react-helmet",w6e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_6e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},N6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S6e=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},aV=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},C6e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},CO=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},A6e=function(t){var r=c2(t,qa.TITLE),n=c2(t,M_.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=c2(t,M_.DEFAULT_TITLE);return r||i||void 0},j6e=function(t){return c2(t,M_.ON_CHANGE_CLIENT_STATE)||function(){}},T8=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,i){return Gu({},n,i)},{})},E6e=function(t,r){return r.filter(function(n){return typeof n[qa.BASE]<"u"}).map(function(n){return n[qa.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&i[c])return n.concat(i)}return n},[])},Jb=function(t,r,n){var i={};return n.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&O6e("Helmet: "+t+' should be of type "Array". Instead found type "'+w6e(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(g){for(var p=void 0,S=Object.keys(g),b=0;b<S.length;b++){var N=S[b],C=N.toLowerCase();r.indexOf(C)!==-1&&!(p===lo.REL&&g[p].toLowerCase()==="canonical")&&!(C===lo.REL&&g[C].toLowerCase()==="stylesheet")&&(p=C),r.indexOf(N)!==-1&&(N===lo.INNER_HTML||N===lo.CSS_TEXT||N===lo.ITEM_PROP)&&(p=N)}if(!p||!g[p])return!1;var A=g[p].toLowerCase();return i[p]||(i[p]={}),l[p]||(l[p]={}),i[p][A]?!1:(l[p][A]=!0,!0)}).reverse().forEach(function(g){return a.push(g)});for(var c=Object.keys(l),u=0;u<c.length;u++){var f=c[u],h=v6e({},i[f],l[f]);i[f]=h}return a},[]).reverse()},c2=function(t,r){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.hasOwnProperty(r))return i[r]}return null},T6e=function(t){return{baseTag:E6e([lo.HREF,lo.TARGET],t),bodyAttributes:T8(Fg.BODY,t),defer:c2(t,M_.DEFER),encode:c2(t,M_.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:T8(Fg.HTML,t),linkTags:Jb(qa.LINK,[lo.REL,lo.HREF],t),metaTags:Jb(qa.META,[lo.NAME,lo.CHARSET,lo.HTTPEQUIV,lo.PROPERTY,lo.ITEM_PROP],t),noscriptTags:Jb(qa.NOSCRIPT,[lo.INNER_HTML],t),onChangeClientState:j6e(t),scriptTags:Jb(qa.SCRIPT,[lo.SRC,lo.INNER_HTML],t),styleTags:Jb(qa.STYLE,[lo.CSS_TEXT],t),title:A6e(t),titleAttributes:T8(Fg.TITLE,t)}},AO=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){AO(t)},0)}}(),iV=function(t){return clearTimeout(t)},k6e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||AO:global.requestAnimationFrame||AO,P6e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||iV:global.cancelAnimationFrame||iV,O6e=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Zb=null,I6e=function(t){Zb&&P6e(Zb),t.defer?Zb=k6e(function(){sV(t,function(){Zb=null})}):(sV(t),Zb=null)},sV=function(t,r){var n=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,f=t.scriptTags,h=t.styleTags,g=t.title,p=t.titleAttributes;jO(qa.BODY,i),jO(qa.HTML,a),F6e(g,p);var S={baseTag:cv(qa.BASE,n),linkTags:cv(qa.LINK,o),metaTags:cv(qa.META,l),noscriptTags:cv(qa.NOSCRIPT,c),scriptTags:cv(qa.SCRIPT,f),styleTags:cv(qa.STYLE,h)},b={},N={};Object.keys(S).forEach(function(C){var A=S[C],T=A.newTags,F=A.oldTags;T.length&&(b[C]=T),F.length&&(N[C]=S[C].oldTags)}),r&&r(),u(t,b,N)},$ne=function(t){return Array.isArray(t)?t.join(""):t},F6e=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=$ne(t)),jO(qa.TITLE,r)},jO=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var i=n.getAttribute(hh),a=i?i.split(","):[],o=[].concat(a),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],f=r[u]||"";n.getAttribute(u)!==f&&n.setAttribute(u,f),a.indexOf(u)===-1&&a.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var g=o.length-1;g>=0;g--)n.removeAttribute(o[g]);a.length===o.length?n.removeAttribute(hh):n.getAttribute(hh)!==l.join(",")&&n.setAttribute(hh,l.join(","))}},cv=function(t,r){var n=document.head||document.querySelector(qa.HEAD),i=n.querySelectorAll(t+"["+hh+"]"),a=Array.prototype.slice.call(i),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var f in c)if(c.hasOwnProperty(f))if(f===lo.INNER_HTML)u.innerHTML=c.innerHTML;else if(f===lo.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[f]>"u"?"":c[f];u.setAttribute(f,h)}u.setAttribute(hh,"true"),a.some(function(g,p){return l=p,u.isEqualNode(g)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:o}},Une=function(t){return Object.keys(t).reduce(function(r,n){var i=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+i:i},"")},D6e=function(t,r,n,i){var a=Une(n),o=$ne(r);return a?"<"+t+" "+hh+'="true" '+a+">"+CO(o,i)+"</"+t+">":"<"+t+" "+hh+'="true">'+CO(o,i)+"</"+t+">"},R6e=function(t,r,n){return r.reduce(function(i,a){var o=Object.keys(a).filter(function(u){return!(u===lo.INNER_HTML||u===lo.CSS_TEXT)}).reduce(function(u,f){var h=typeof a[f]>"u"?f:f+'="'+CO(a[f],n)+'"';return u?u+" "+h:h},""),l=a.innerHTML||a.cssText||"",c=b6e.indexOf(t)===-1;return i+"<"+t+" "+hh+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},zne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[dC[i]||i]=t[i],n},r)},M6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[y6e[i]||i]=t[i],n},r)},L6e=function(t,r,n){var i,a=(i={key:r},i[hh]=!0,i),o=zne(n,a);return[Ie.createElement(qa.TITLE,o,r)]},B6e=function(t,r){return r.map(function(n,i){var a,o=(a={key:i},a[hh]=!0,a);return Object.keys(n).forEach(function(l){var c=dC[l]||l;if(c===lo.INNER_HTML||c===lo.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Ie.createElement(t,o)})},G0=function(t,r,n){switch(t){case qa.TITLE:return{toComponent:function(){return L6e(t,r.title,r.titleAttributes)},toString:function(){return D6e(t,r.title,r.titleAttributes,n)}};case Fg.BODY:case Fg.HTML:return{toComponent:function(){return zne(r)},toString:function(){return Une(r)}};default:return{toComponent:function(){return B6e(t,r)},toString:function(){return R6e(t,r,n)}}}},Vne=function(t){var r=t.baseTag,n=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,f=t.styleTags,h=t.title,g=h===void 0?"":h,p=t.titleAttributes;return{base:G0(qa.BASE,r,i),bodyAttributes:G0(Fg.BODY,n,i),htmlAttributes:G0(Fg.HTML,a,i),link:G0(qa.LINK,o,i),meta:G0(qa.META,l,i),noscript:G0(qa.NOSCRIPT,c,i),script:G0(qa.SCRIPT,u,i),style:G0(qa.STYLE,f,i),title:G0(qa.TITLE,{title:g,titleAttributes:p},i)}},$6e=function(t){var r,n;return n=r=function(i){S6e(a,i);function a(){return _6e(this,a),C6e(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!f6e(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case qa.SCRIPT:case qa.NOSCRIPT:return{innerHTML:c};case qa.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,f=l.arrayTypeChildren,h=l.newChildProps,g=l.nestedChildren;return Gu({},f,(c={},c[u.type]=[].concat(f[u.type]||[],[Gu({},h,this.mapNestedChildrenToProps(u,g))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,f=l.child,h=l.newProps,g=l.newChildProps,p=l.nestedChildren;switch(f.type){case qa.TITLE:return Gu({},h,(c={},c[f.type]=p,c.titleAttributes=Gu({},g),c));case qa.BODY:return Gu({},h,{bodyAttributes:Gu({},g)});case qa.HTML:return Gu({},h,{htmlAttributes:Gu({},g)})}return Gu({},h,(u={},u[f.type]=Gu({},g),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Gu({},c);return Object.keys(l).forEach(function(f){var h;u=Gu({},u,(h={},h[f]=l[f],h))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,f={};return Ie.Children.forEach(l,function(h){if(!(!h||!h.props)){var g=h.props,p=g.children,S=aV(g,["children"]),b=M6e(S);switch(u.warnOnInvalidChildren(h,p),h.type){case qa.LINK:case qa.META:case qa.NOSCRIPT:case qa.SCRIPT:case qa.STYLE:f=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:b,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:b,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=aV(l,["children"]),f=Gu({},u);return c&&(f=this.mapChildrenToProps(c,f)),Ie.createElement(t,f)},N6e(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(Ie.Component),r.propTypes={base:oa.object,bodyAttributes:oa.object,children:oa.oneOfType([oa.arrayOf(oa.node),oa.node]),defaultTitle:oa.string,defer:oa.bool,encodeSpecialCharacters:oa.bool,htmlAttributes:oa.object,link:oa.arrayOf(oa.object),meta:oa.arrayOf(oa.object),noscript:oa.arrayOf(oa.object),onChangeClientState:oa.func,script:oa.arrayOf(oa.object),style:oa.arrayOf(oa.object),title:oa.string,titleAttributes:oa.object,titleTemplate:oa.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var i=t.rewind();return i||(i=Vne({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},U6e=function(){return null},z6e=s6e(T6e,I6e,Vne)(U6e),Fi=$6e(z6e);Fi.renderStatic=Fi.rewind;var V6e=Symbol("radix.slottable");function W6e(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=V6e,t}var Wne="AlertDialog",[H6e,Yvt]=dc(Wne,[Ite]),Rm=Ite(),Hne=e=>{const{__scopeAlertDialog:t,...r}=e,n=Rm(t);return s.jsx(z7,{...n,...r,modal:!0})};Hne.displayName=Wne;var q6e="AlertDialogTrigger",qne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Rm(r);return s.jsx(V7,{...i,...n,ref:t})});qne.displayName=q6e;var G6e="AlertDialogPortal",Gne=e=>{const{__scopeAlertDialog:t,...r}=e,n=Rm(t);return s.jsx(W7,{...n,...r})};Gne.displayName=G6e;var K6e="AlertDialogOverlay",Kne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Rm(r);return s.jsx(Z4,{...i,...n,ref:t})});Kne.displayName=K6e;var u2="AlertDialogContent",[Y6e,X6e]=H6e(u2),J6e=W6e("AlertDialogContent"),Yne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Rm(r),o=j.useRef(null),l=ka(t,o),c=j.useRef(null);return s.jsx(uNe,{contentName:u2,titleName:Xne,docsSlug:"alert-dialog",children:s.jsx(Y6e,{scope:r,cancelRef:c,children:s.jsxs(Q4,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Lr(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(J6e,{children:n}),s.jsx(Q6e,{contentRef:o})]})})})});Yne.displayName=u2;var Xne="AlertDialogTitle",Jne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Rm(r);return s.jsx(e5,{...i,...n,ref:t})});Jne.displayName=Xne;var Zne="AlertDialogDescription",Qne=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Rm(r);return s.jsx(t5,{...i,...n,ref:t})});Qne.displayName=Zne;var Z6e="AlertDialogAction",eae=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Rm(r);return s.jsx(Hj,{...i,...n,ref:t})});eae.displayName=Z6e;var tae="AlertDialogCancel",rae=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=X6e(tae,r),a=Rm(r),o=ka(t,i);return s.jsx(Hj,{...a,...n,ref:o})});rae.displayName=tae;var Q6e=({contentRef:e})=>{const t=`\`${u2}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${u2}\` by passing a \`${Zne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${u2}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},eTe=Hne,tTe=qne,rTe=Gne,nae=Kne,aae=Yne,iae=eae,sae=rae,oae=Jne,lae=Qne;const nl=eTe,wR=tTe,nTe=rTe,cae=Ie.forwardRef(({className:e,...t},r)=>s.jsx(nae,{ref:r,className:Ir("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cae.displayName=nae.displayName;const Ho=Ie.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nTe,{children:[s.jsx(cae,{}),s.jsx(aae,{ref:n,className:Ir("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));Ho.displayName=aae.displayName;const qo=({className:e,...t})=>s.jsx("div",{className:Ir("flex flex-col space-y-2 text-center sm:text-left",e),...t});qo.displayName="AlertDialogHeader";const al=({className:e,...t})=>s.jsx("div",{className:Ir("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});al.displayName="AlertDialogFooter";const Go=Ie.forwardRef(({className:e,...t},r)=>s.jsx(oae,{ref:r,className:Ir("text-lg font-semibold",e),...t}));Go.displayName=oae.displayName;const Ko=Ie.forwardRef(({className:e,...t},r)=>s.jsx(lae,{ref:r,className:Ir("text-sm text-muted-foreground",e),...t}));Ko.displayName=lae.displayName;const il=Ie.forwardRef(({className:e,...t},r)=>s.jsx(iae,{ref:r,className:Ir("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));il.displayName=iae.displayName;const sl=Ie.forwardRef(({className:e,...t},r)=>s.jsx(sae,{ref:r,className:Ir("inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));sl.displayName=sae.displayName;const No=z7,o5=V7,aTe=W7,uae=j.forwardRef(({className:e,...t},r)=>s.jsx(Z4,{ref:r,className:Ir("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uae.displayName=Z4.displayName;const fo=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(aTe,{children:[s.jsx(uae,{}),s.jsxs(Q4,{ref:n,className:Ir("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Hj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(wl,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fo.displayName=Q4.displayName;const So=({className:e,...t})=>s.jsx("div",{className:Ir("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});So.displayName="DialogHeader";const ru=({className:e,...t})=>s.jsx("div",{className:Ir("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ru.displayName="DialogFooter";const Co=j.forwardRef(({className:e,...t},r)=>s.jsx(e5,{ref:r,className:Ir("text-lg font-semibold leading-none tracking-tight",e),...t}));Co.displayName=e5.displayName;const tl=j.forwardRef(({className:e,...t},r)=>s.jsx(t5,{ref:r,className:Ir("text-sm text-muted-foreground",e),...t}));tl.displayName=t5.displayName;const P0=({isOpen:e,onClose:t,onProceed:r})=>{const n=Sa(),i=()=>{t(),r?r():n("/packs")};return s.jsx(No,{open:e,onOpenChange:t,children:s.jsxs(fo,{className:"sm:max-w-md glass-effect text-foreground",children:[s.jsxs(So,{children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ll,{className:"w-12 h-12 text-yellow-400"})}),s.jsx(Co,{className:"text-center text-xl font-bold",children:"Solde de Pices Insuffisant"}),s.jsx(tl,{className:"text-center text-muted-foreground pt-2",children:"Oups ! Il semble que vous n'ayez pas assez de pices pour effectuer cette action."})]}),s.jsx("div",{className:"py-4 text-center",children:s.jsx("p",{children:"Veuillez recharger votre compte pour continuer. C'est simple et rapide !"})}),s.jsxs(ru,{className:"flex-col sm:flex-col sm:space-y-2",children:[s.jsxs(ze,{onClick:i,className:"w-full gradient-gold text-background",children:["Recharger mon compte ",s.jsx(WP,{className:"w-4 h-4 ml-2"})]}),s.jsx(ze,{variant:"outline",onClick:t,className:"w-full",children:"Annuler"})]})]})})};class bl{static async initializeRate(){const{data:t}=await Ze.from("app_settings").select("coin_to_fcfa_rate").order("created_at",{ascending:!1}).limit(1).maybeSingle();t&&t.coin_to_fcfa_rate&&(this.COIN_RATE=t.coin_to_fcfa_rate)}static convertFcfaToCoins(t){return Math.max(1,Math.ceil(t/this.COIN_RATE))}static convertCoinsToFcfa(t){return t*this.COIN_RATE}static async getWalletBalances(t){const{data:r,error:n}=await Ze.from("profiles").select("coin_balance, free_coin_balance").eq("id",t).maybeSingle();if(n&&n.code!=="PGRST116")return console.error("Erreur rcupration solde",n),{coin_balance:0,free_coin_balance:0,total:0};const i=(r==null?void 0:r.coin_balance)||0,a=(r==null?void 0:r.free_coin_balance)||0;return{coin_balance:i,free_coin_balance:a,total:i+a}}static async getUserBalance(t){return(await this.getWalletBalances(t)).total}static async debitCoins(t,r,n,i={}){const a=await this.getWalletBalances(t);if(a.total<r)throw new Error("Solde insuffisant");const o=Math.min(a.free_coin_balance,r),l=r-o,{error:c}=await Ze.rpc("debit_user_coins",{p_user_id:t,p_amount:r,p_reason:n,p_debitor_id:t});if(c){console.warn("RPC debit_user_coins failed, using manual update",c);const{error:u}=await Ze.from("profiles").update({free_coin_balance:a.free_coin_balance-o,coin_balance:a.coin_balance-l}).eq("id",t);if(u)throw u;await Ze.from("coin_transactions").insert({user_id:t,amount:-r,type:"debit",description:n,metadata:{...i,free_used:o,paid_used:l}})}return!0}static generateMoneyFusionLink(t){const r=`${window.location.origin}/paiement/success?action=${t.action}&userId=${t.userId}&amount=${t.amountFcfa}&packId=${t.packId||""}`,n=`${window.location.origin}/paiement/cancel`;return`https://www.pay.moneyfusion.net/bonplaninfos/bed9acd64772611a/pay/?${new URLSearchParams({amount:t.amountFcfa.toString(),userId:t.userId,packId:t.packId||"",action:t.action,email:t.email||"",phone:t.phone||"",return_url:r,cancel_url:n}).toString()}`}static async handleAction({userId:t,requiredCoins:r,onSuccess:n,onInsufficientBalance:i,...a}){if(await this.getUserBalance(t)>=r)await n();else if(i)i();else{const c=this.generateMoneyFusionLink({userId:t,...a});window.location.href=c}}}vT(bl,"COIN_RATE",10);bl.initializeRate();const dae=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t<=0)throw n;return await new Promise(i=>setTimeout(i,r)),dae(e,t-1,r*1.5)}},fae=()=>{const{user:e}=bn(),[t,r]=j.useState([]),[n,i]=j.useState(!1),[a,o]=j.useState(0),[l,c]=j.useState(!0),[u,f]=j.useState(0);j.useEffect(()=>{(async()=>{try{const{data:A,error:T}=await dae(()=>Ze.from("welcome_popups").select("image_url, alt_text").eq("is_active",!0).order("created_at",{ascending:!0}));if(T)console.error("Error fetching welcome popups:",T);else if(A&&A.length>0){r(A);const F=e?`hasSeenWelcomePopup_${e.id}`:"hasSeenWelcomePopup";sessionStorage.getItem(F)||(i(!0),sessionStorage.setItem(F,"true"))}}catch(A){console.error("Failed to fetch welcome popups after retries:",A)}})()},[e]),j.useEffect(()=>{if(!n||t.length<=1||!l)return;const C=setInterval(()=>{f(1),o(A=>(A+1)%t.length)},2500);return()=>clearInterval(C)},[n,t.length,l]);const h=j.useCallback(()=>{f(1),o(C=>(C+1)%t.length),c(!1)},[t.length]),g=j.useCallback(()=>{f(-1),o(C=>(C-1+t.length)%t.length),c(!1)},[t.length]),p=C=>{const A=C>a?1:-1;f(A),o(C),c(!1)},S=()=>{c(!l)},b=()=>{i(!1),c(!1)},N={enter:C=>({x:C>0?300:-300,opacity:0,scale:.9}),center:{x:0,opacity:1,scale:1,zIndex:1},exit:C=>({x:C<0?300:-300,opacity:0,scale:.9,zIndex:0})};return!n||t.length===0?null:s.jsx(No,{open:n,onOpenChange:b,children:s.jsxs(fo,{className:"p-0 border-0 max-w-lg bg-transparent shadow-none overflow-visible",children:[s.jsx("div",{className:"relative w-full aspect-[4/5] sm:aspect-video flex items-center justify-center",children:s.jsx(Du,{initial:!1,custom:u,children:s.jsx(er.img,{src:t[a].image_url,alt:t[a].alt_text||"Welcome",custom:u,variants:N,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute w-full h-full object-contain rounded-lg shadow-2xl"},a)})}),s.jsx("button",{onClick:b,className:"absolute -top-3 -right-3 bg-white text-gray-800 p-2 rounded-full z-20 hover:bg-gray-100 transition-all shadow-lg border border-gray-200",children:s.jsx(wl,{className:"h-5 w-5"})}),t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:g,className:"absolute top-1/2 left-0 sm:-left-4 -translate-y-1/2 bg-white/80 text-gray-800 p-2 sm:p-3 rounded-full z-20 hover:bg-white transition-all shadow-lg border border-gray-200 backdrop-blur-sm",children:s.jsx(gj,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),s.jsx("button",{onClick:h,className:"absolute top-1/2 right-0 sm:-right-4 -translate-y-1/2 bg-white/80 text-gray-800 p-2 sm:p-3 rounded-full z-20 hover:bg-white transition-all shadow-lg border border-gray-200 backdrop-blur-sm",children:s.jsx(Hg,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),s.jsxs("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-3 py-2 shadow-lg border border-gray-200",children:[s.jsx("button",{onClick:S,className:"p-1 text-gray-700 hover:text-gray-900 transition-colors",title:l?"Pause":"Play",children:l?s.jsx(e7,{className:"h-4 w-4"}):s.jsx(t7,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex gap-1.5",children:t.map((C,A)=>s.jsx("button",{onClick:()=>p(A),className:`w-2.5 h-2.5 rounded-full transition-all ${a===A?"bg-blue-600 scale-125":"bg-gray-400 hover:bg-gray-600"}`,"aria-label":`Go to slide ${A+1}`},A))})]})]})]})})},hae=()=>{const[e,t]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState(!0),o=j.useCallback(async()=>{a(!0);try{const{data:c,error:u}=await Ze.from("partner_badges").select("*").order("display_order",{ascending:!0});if(u)throw u;t(c||[]),n(c.filter(f=>f.is_active)||[])}catch(c){console.error("Error fetching partner badges:",c),lt({title:"Erreur",description:"Impossible de charger les badges partenaires.",variant:"destructive"})}finally{a(!1)}},[]);return j.useEffect(()=>{o()},[o]),{badges:e,activeBadges:r,loading:i,toggleBadgeStatus:async(c,u)=>{try{const{error:f}=await Ze.from("partner_badges").update({is_active:u,updated_at:new Date().toISOString()}).eq("id",c);if(f)throw f;return lt({title:`Badge ${u?"activ":"dsactiv"} avec succs`}),await o(),!0}catch(f){return console.error("Error toggling badge status:",f),lt({title:"Erreur",description:"Impossible de mettre  jour le statut du badge.",variant:"destructive"}),!1}},refreshBadges:o}},iTe=e=>{const t={starter:{circleBg:"bg-gradient-to-br from-gray-500 to-gray-700",borderColor:"border-gray-400",textColor:"text-gray-700",icon:"",title:"Ambassadeur Ville"},business:{circleBg:"bg-gradient-to-br from-green-500 to-green-700",borderColor:"border-green-400",textColor:"text-green-700",icon:"",title:"Ambassadeur Rgional"},premium:{circleBg:"bg-gradient-to-br from-amber-500 to-amber-700",borderColor:"border-amber-400",textColor:"text-amber-700",icon:"",title:"Ambassadeur National"}};return t[e]||t.starter},sTe=()=>{const{activeBadges:e,loading:t}=hae(),[r,n]=j.useState(0),[i,a]=j.useState(!1),[o,l]=j.useState(4);if(j.useEffect(()=>{const u=()=>{window.innerWidth<640?l(2):window.innerWidth<1024?l(3):l(4)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),j.useEffect(()=>{if(e.length<=o||i)return;const u=setInterval(()=>{n(f=>{const h=f+1;return h>=e.length-o+1?0:h})},3e3);return()=>clearInterval(u)},[e.length,o,i]),t)return s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-4 text-center border-b",children:s.jsx(Zt,{className:"w-5 h-5 animate-spin inline-block text-muted-foreground"})});if(e.length===0)return null;const c=e.slice(r,r+o);return s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-4 border-b shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1",children:"Nos Partenaires Certifis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Dcouvrez notre rseau d'ambassadeurs"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-6 lg:gap-8",children:[e.length>o&&s.jsx("button",{onClick:()=>n(u=>u>0?u-1:e.length-o),className:"p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow z-10","aria-label":"Partenaire prcdent",children:s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("div",{className:"flex items-center justify-center gap-4 md:gap-6 lg:gap-8 flex-1",children:s.jsx(Du,{mode:"popLayout",children:c.map((u,f)=>{const h=iTe(u.license_type),g=r+f;return s.jsxs(er.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},transition:{duration:.3,delay:f*.1},className:"flex flex-col items-center text-center group",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`
                          w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 
                          rounded-full border-2 ${h.borderColor}
                          ${h.circleBg}
                          flex items-center justify-center
                          shadow-lg group-hover:shadow-xl
                          transition-all duration-300
                          group-hover:scale-110
                        `,children:[s.jsx("span",{className:"text-xl md:text-2xl lg:text-3xl",children:h.icon}),s.jsx("div",{className:"absolute -top-1 -right-1",children:s.jsx("div",{className:"bg-red-500 rounded-full w-5 h-5 md:w-6 md:h-6 border-2 border-white flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-white",children:u.country?u.country.slice(0,2).toUpperCase():"PA"})})})]}),s.jsx("div",{className:"absolute -bottom-1 -left-1",children:s.jsx("div",{className:"bg-green-500 rounded-full w-4 h-4 border-2 border-white flex items-center justify-center",children:s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]}),s.jsxs("div",{className:"mt-3 max-w-[80px] md:max-w-[100px] lg:max-w-[120px]",children:[s.jsx("p",{className:"text-xs md:text-sm font-semibold text-gray-800 truncate",children:u.partner_name}),s.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 mt-1",children:h.title})]})]},`${u.id}-${g}`)})})}),e.length>o&&s.jsx("button",{onClick:()=>n(u=>u<e.length-o?u+1:0),className:"p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow z-10","aria-label":"Partenaire suivant",children:s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.length>o&&s.jsxs("div",{className:"flex items-center justify-center mt-4 gap-2",children:[s.jsx("div",{className:"flex items-center space-x-1.5",children:Array.from({length:Math.ceil(e.length/o)}).map((u,f)=>s.jsx("button",{onClick:()=>n(f*o),className:`w-2 h-2 rounded-full transition-all ${Math.floor(r/o)===f?"bg-blue-600 scale-125":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to group ${f+1}`},f))}),s.jsx("button",{onClick:()=>a(!i),className:"ml-2 p-1.5 bg-white rounded-full shadow hover:shadow-md transition-all","aria-label":i?"Play":"Pause",children:i?s.jsx(t7,{className:"w-3 h-3 text-gray-600"}):s.jsx(e7,{className:"w-3 h-3 text-gray-600"})})]})]}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs("p",{className:"text-xs text-gray-500",children:[e.length," partenaire",e.length>1?"s":""," actif",e.length>1?"s":""]})})]})})},Yt=Ie.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ir("rounded-lg border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md hover:-translate-y-1",e),...t}));Yt.displayName="Card";const Wr=Ie.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ir("flex flex-col space-y-1.5 p-6",e),...t}));Wr.displayName="CardHeader";const qr=Ie.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ir("text-2xl font-bold font-heading leading-none tracking-tight",e),...t}));qr.displayName="CardTitle";const Oa=Ie.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ir("text-sm text-muted-foreground",e),...t}));Oa.displayName="CardDescription";const Qt=Ie.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ir("p-6 pt-0",e),...t}));Qt.displayName="CardContent";const Zg=Ie.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ir("flex items-center p-6 pt-0",e),...t}));Zg.displayName="CardFooter";const oTe=()=>{const e=Sa(),{t}=za(),r=[{name:t("home_page.event_types.standard"),type:"standard",icon:Xc,color:"from-blue-500 to-indigo-600"},{name:t("home_page.event_types.ticketing"),type:"ticketing",icon:el,color:"from-purple-500 to-pink-600"},{name:t("home_page.event_types.raffles"),type:"raffle",icon:qg,color:"from-green-400 to-teal-500"},{name:t("home_page.event_types.voting"),type:"voting",icon:e1,color:"from-yellow-500 to-orange-600"},{name:t("home_page.event_types.stands"),type:"stand_rental",icon:S0,color:"from-red-500 to-rose-600"}],n=({name:a,icon:o,color:l,onClick:c})=>s.jsx(er.div,{whileHover:{y:-5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:c,children:s.jsxs(Yt,{className:`relative overflow-hidden cursor-pointer group bg-gradient-to-br ${l} text-white shadow-lg`,children:[s.jsxs("div",{className:"p-6 flex flex-col items-center justify-center h-32 text-center",children:[s.jsx(o,{className:"w-10 h-10 mb-3"}),s.jsx("h3",{className:"font-bold text-md",children:a})]}),s.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-10 transition-opacity"})]})}),i=a=>{e("/events",{state:{preselectedEventTypes:[a]}})};return s.jsxs("section",{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("home_page.explore_by_type.title")}),s.jsx("p",{className:"text-muted-foreground mt-2",children:t("home_page.explore_by_type.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6",children:r.map(a=>s.jsx(n,{...a,onClick:()=>i(a.type)},a.type))})]})},mae=({eventDate:e,eventStartTime:t,showIcon:r=!0,showMotivation:n=!1,className:i="",onCountdownEnd:a})=>{const o=()=>{if(!e)return{days:null};const A=new Date,T=new Date(e);if(t){const[B,M]=t.split(":");T.setHours(parseInt(B),parseInt(M),0,0)}const F=T.getTime()-A.getTime();let L={};return F>0?L={days:Math.floor(F/864e5),hours:Math.floor(F/36e5%24),minutes:Math.floor(F/6e4%60),seconds:Math.floor(F/1e3%60),totalMs:F}:L={days:-1,totalMs:F},L},[l,c]=j.useState(o());j.useEffect(()=>{const A=setInterval(()=>{const T=o();c(T),T.days===-1&&l.days!==-1&&a&&a()},1e3);return()=>clearInterval(A)},[e,t]);const u=()=>l.days===null||l.days<0?null:l.days>7?"Ne manquez pas a !":l.days>=2?"Prparez-vous !":l.days===1?"Demain seulement !":l.days===0?l.hours>1?"C'est pour aujourd'hui !":"Dpchez-vous, a commence !":"C'est imminent !",f=l.days!==null&&l.days<2,h=l.days===0&&l.hours<5,g=`
    inline-flex items-center gap-2 sm:gap-3 rounded-xl p-2 sm:p-3 font-bold transition-all duration-300 
    backdrop-blur-md shadow-lg border border-white/10
  `,p="bg-gradient-to-r from-red-600 via-orange-600 to-red-600 bg-[length:200%_200%] animate-gradient-x text-white shadow-red-500/20",S="bg-black/40 text-white",b="bg-gray-800/80 text-gray-300",N=()=>l.days===-1?b:f?p:S,C=()=>{if(l.days===null)return"Programm";if(l.days<0)return"Termin";const A=[];return l.days>0&&A.push(`${l.days}j`),(l.hours>0||l.days===0&&l.minutes>0)&&A.push(`${l.hours}h`),l.days<7&&A.push(`${l.minutes}m`),l.days===0&&A.push(`${l.seconds}s`),A.join(" : ")};return l.days===null?null:s.jsxs("div",{className:`flex flex-col items-center ${i}`,children:[s.jsxs("div",{className:`${g} ${N()} ${h?"animate-pulse":""}`,children:[r&&s.jsx("div",{className:`p-1.5 sm:p-2 rounded-full bg-white/10 ${f?"animate-ping-slow":""}`,children:f?s.jsx(_2e,{className:"w-4 h-4 sm:w-5 sm:h-5"}):s.jsx(jh,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-300"})}),s.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[s.jsx("span",{className:"text-[10px] sm:text-xs font-medium uppercase tracking-wider opacity-80",children:"Temps restant"}),s.jsx("span",{className:"text-lg sm:text-2xl md:text-3xl font-mono tracking-tight tabular-nums",children:C()})]})]}),s.jsx(Du,{mode:"wait",children:n&&l.days>=0&&s.jsxs(er.div,{initial:{opacity:0,y:5,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0},className:`
                    mt-2 text-xs sm:text-sm font-bold uppercase tracking-wide px-3 py-1 rounded-full shadow-sm
                    ${f?"bg-red-100 text-red-700 animate-bounce-slow":"bg-white/90 text-blue-600"}
                `,children:[f&&s.jsx(Ll,{className:"w-3 h-3 inline-block mr-1 -mt-0.5"}),u()]},"motivation")})]})};function $a(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ud(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function bu(e,t){const r=$a(e);return isNaN(t)?ud(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ch(e,t){const r=$a(e);if(isNaN(t))return ud(e,NaN);if(!t)return r;const n=r.getDate(),i=ud(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const _R=6048e5,lTe=864e5,oV=6e4,cTe=36e5,lV=525600,cV=43200,uV=1440;let uTe={};function Uy(){return uTe}function A0(e,t){var l,c,u,f;const r=Uy(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=$a(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qg(e){return A0(e,{weekStartsOn:1})}function pae(e){const t=$a(e),r=t.getFullYear(),n=ud(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Qg(n),a=ud(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Qg(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function V2(e){const t=$a(e);return t.setHours(0,0,0,0),t}function W2(e){const t=$a(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function mh(e,t){const r=V2(e),n=V2(t),i=+r-W2(r),a=+n-W2(n);return Math.round((i-a)/lTe)}function dTe(e){const t=pae(e),r=ud(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Qg(r)}function EO(e,t){const r=t*7;return bu(e,r)}function fTe(e,t){return Ch(e,t*12)}function hTe(e){let t;return e.forEach(function(r){const n=$a(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function mTe(e){let t;return e.forEach(r=>{const n=$a(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function pTe(e,t){const r=$a(e),n=$a(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function gTe(e){return ud(e,Date.now())}function ed(e,t){const r=V2(e),n=V2(t);return+r==+n}function NR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xTe(e){if(!NR(e)&&typeof e!="number")return!1;const t=$a(e);return!isNaN(Number(t))}function L_(e,t){const r=$a(e),n=$a(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function vTe(e,t,r){const n=A0(e,r),i=A0(t,r),a=+n-W2(n),o=+i-W2(i);return Math.round((a-o)/_R)}function yTe(e,t){const r=$a(e),n=$a(t),i=dV(r,n),a=Math.abs(mh(r,n));r.setDate(r.getDate()-i*a);const o=+(dV(r,n)===-i),l=i*(a-o);return l===0?0:l}function dV(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function gae(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function bTe(e,t){return+$a(e)-+$a(t)}function wTe(e,t,r){const n=bTe(e,t)/cTe;return gae(r==null?void 0:r.roundingMethod)(n)}function SR(e){const t=$a(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function od(e){const t=$a(e);return t.setDate(1),t.setHours(0,0,0,0),t}function xae(e){const t=$a(e),r=ud(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function CR(e,t){var l,c,u,f;const r=Uy(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=$a(e),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function vae(e){return CR(e,{weekStartsOn:1})}const _Te={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NTe=(e,t,r)=>{let n;const i=_Te[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function d2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const STe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ATe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jTe={date:d2({formats:STe,defaultWidth:"full"}),time:d2({formats:CTe,defaultWidth:"full"}),dateTime:d2({formats:ATe,defaultWidth:"full"})},ETe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TTe=(e,t,r,n)=>ETe[e];function s0(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const kTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ITe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RTe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},MTe={ordinalNumber:RTe,era:s0({values:kTe,defaultWidth:"wide"}),quarter:s0({values:PTe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:s0({values:OTe,defaultWidth:"wide"}),day:s0({values:ITe,defaultWidth:"wide"}),dayPeriod:s0({values:FTe,defaultWidth:"wide",formattingValues:DTe,defaultFormattingWidth:"wide"})};function o0(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?BTe(l,h=>h.test(o)):LTe(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function LTe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function BTe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yae(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const $Te=/^(\d+)(th|st|nd|rd)?/i,UTe=/\d+/i,zTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VTe={any:[/^b/i,/^(a|c)/i]},WTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HTe={any:[/1/i,/2/i,/3/i,/4/i]},qTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZTe={ordinalNumber:yae({matchPattern:$Te,parsePattern:UTe,valueCallback:e=>parseInt(e,10)}),era:o0({matchPatterns:zTe,defaultMatchWidth:"wide",parsePatterns:VTe,defaultParseWidth:"any"}),quarter:o0({matchPatterns:WTe,defaultMatchWidth:"wide",parsePatterns:HTe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:o0({matchPatterns:qTe,defaultMatchWidth:"wide",parsePatterns:GTe,defaultParseWidth:"any"}),day:o0({matchPatterns:KTe,defaultMatchWidth:"wide",parsePatterns:YTe,defaultParseWidth:"any"}),dayPeriod:o0({matchPatterns:XTe,defaultMatchWidth:"any",parsePatterns:JTe,defaultParseWidth:"any"})},AR={code:"en-US",formatDistance:NTe,formatLong:jTe,formatRelative:TTe,localize:MTe,match:ZTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QTe(e){const t=$a(e);return mh(t,xae(t))+1}function bae(e){const t=$a(e),r=+Qg(t)-+dTe(t);return Math.round(r/_R)+1}function wae(e,t){var f,h,g,p;const r=$a(e),n=r.getFullYear(),i=Uy(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(g=i.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=ud(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=A0(o,t),c=ud(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=A0(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function e8e(e,t){var l,c,u,f;const r=Uy(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=wae(e,t),a=ud(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),A0(a,t)}function _ae(e,t){const r=$a(e),n=+A0(r,t)-+e8e(r,t);return Math.round(n/_R)+1}function ls(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const lp={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ls(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ls(r+1,2)},d(e,t){return ls(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ls(e.getHours()%12||12,t.length)},H(e,t){return ls(e.getHours(),t.length)},m(e,t){return ls(e.getMinutes(),t.length)},s(e,t){return ls(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ls(i,t.length)}},uv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fV={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return lp.y(e,t)},Y:function(e,t,r,n){const i=wae(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ls(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ls(a,t.length)},R:function(e,t){const r=pae(e);return ls(r,t.length)},u:function(e,t){const r=e.getFullYear();return ls(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ls(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ls(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return lp.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ls(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=_ae(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ls(i,t.length)},I:function(e,t,r){const n=bae(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ls(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):lp.d(e,t)},D:function(e,t,r){const n=QTe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ls(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ls(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ls(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ls(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=uv.noon:n===0?i=uv.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=uv.evening:n>=12?i=uv.afternoon:n>=4?i=uv.morning:i=uv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return lp.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):lp.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ls(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ls(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):lp.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):lp.s(e,t)},S:function(e,t){return lp.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mV(n);case"XXXX":case"XX":return cg(n);case"XXXXX":case"XXX":default:return cg(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mV(n);case"xxxx":case"xx":return cg(n);case"xxxxx":case"xxx":default:return cg(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hV(n,":");case"OOOO":default:return"GMT"+cg(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hV(n,":");case"zzzz":default:return"GMT"+cg(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ls(n,t.length)},T:function(e,t,r){const n=e.getTime();return ls(n,t.length)}};function hV(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ls(a,2)}function mV(e,t){return e%60===0?(e>0?"-":"+")+ls(Math.abs(e)/60,2):cg(e,t)}function cg(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ls(Math.trunc(n/60),2),a=ls(n%60,2);return r+i+t+a}const pV=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Nae=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},t8e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return pV(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",pV(n,t)).replace("{{time}}",Nae(i,t))},r8e={p:Nae,P:t8e},n8e=/^D+$/,a8e=/^Y+$/,i8e=["D","DD","YY","YYYY"];function s8e(e){return n8e.test(e)}function o8e(e){return a8e.test(e)}function l8e(e,t,r){const n=c8e(e,t,r);if(console.warn(n),i8e.includes(e))throw new RangeError(n)}function c8e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u8e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d8e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f8e=/^'([^]*?)'?$/,h8e=/''/g,m8e=/[a-zA-Z]/;function ui(e,t,r){var f,h,g,p,S,b,N,C;const n=Uy(),i=(r==null?void 0:r.locale)??n.locale??AR,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((C=(N=n.locale)==null?void 0:N.options)==null?void 0:C.weekStartsOn)??0,l=$a(e);if(!xTe(l))throw new RangeError("Invalid time value");let c=t.match(d8e).map(A=>{const T=A[0];if(T==="p"||T==="P"){const F=r8e[T];return F(A,i.formatLong)}return A}).join("").match(u8e).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const T=A[0];if(T==="'")return{isToken:!1,value:p8e(A)};if(fV[T])return{isToken:!0,value:A};if(T.match(m8e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(A=>{if(!A.isToken)return A.value;const T=A.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&o8e(T)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&s8e(T))&&l8e(T,t,String(e));const F=fV[T[0]];return F(l,T,i.localize,u)}).join("")}function p8e(e){const t=e.match(f8e);return t?t[1].replace(h8e,"'"):e}function g8e(e,t,r){const n=Uy(),i=(r==null?void 0:r.locale)??n.locale??AR,a=pTe(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=$a(t),c=$a(e)):(l=$a(e),c=$a(t));const u=gae((r==null?void 0:r.roundingMethod)??"round"),f=c.getTime()-l.getTime(),h=f/oV,g=W2(c)-W2(l),p=(f-g)/oV,S=r==null?void 0:r.unit;let b;if(S?b=S:h<1?b="second":h<60?b="minute":h<uV?b="hour":p<cV?b="day":p<lV?b="month":b="year",b==="second"){const N=u(f/1e3);return i.formatDistance("xSeconds",N,o)}else if(b==="minute"){const N=u(h);return i.formatDistance("xMinutes",N,o)}else if(b==="hour"){const N=u(h/60);return i.formatDistance("xHours",N,o)}else if(b==="day"){const N=u(p/uV);return i.formatDistance("xDays",N,o)}else if(b==="month"){const N=u(p/cV);return N===12&&S!=="month"?i.formatDistance("xYears",1,o):i.formatDistance("xMonths",N,o)}else{const N=u(p/lV);return i.formatDistance("xYears",N,o)}}function x8e(e,t){return g8e(e,gTe(e),t)}function v8e(e){const t=$a(e),r=t.getFullYear(),n=t.getMonth(),i=ud(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function y8e(e){return Math.trunc(+$a(e)/1e3)}function b8e(e){const t=$a(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function w8e(e,t){return vTe(b8e(e),od(e),t)+1}function TO(e,t){const r=$a(e),n=$a(t);return r.getTime()>n.getTime()}function Sae(e,t){const r=$a(e),n=$a(t);return+r<+n}function jR(e,t){const r=$a(e),n=$a(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function _8e(e,t){const r=$a(e),n=$a(t);return r.getFullYear()===n.getFullYear()}function f2(e,t){return bu(e,-t)}function k8(e,t){const r=$a(e),n=r.getFullYear(),i=r.getDate(),a=ud(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=v8e(a);return r.setMonth(t,Math.min(i,o)),r}function N8e(e,t){const r=$a(e);return r.setDate(t),r}function gV(e,t){const r=$a(e);return isNaN(+r)?ud(e,NaN):(r.setFullYear(t),r)}const S8e={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},C8e=(e,t,r)=>{let n;const i=S8e[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},A8e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},j8e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},E8e={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T8e={date:d2({formats:A8e,defaultWidth:"full"}),time:d2({formats:j8e,defaultWidth:"full"}),dateTime:d2({formats:E8e,defaultWidth:"full"})},k8e={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},P8e=(e,t,r,n)=>k8e[e],O8e={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},I8e={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},F8e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},D8e={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},R8e={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},M8e=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},L8e=["MMM","MMMM"],B8e={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&L8e.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:M8e,era:s0({values:O8e,defaultWidth:"wide"}),quarter:s0({values:I8e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:s0({values:F8e,defaultWidth:"wide"}),day:s0({values:D8e,defaultWidth:"wide"}),dayPeriod:s0({values:R8e,defaultWidth:"wide"})},$8e=/^(\d+)(ime|re|me|er|e)?/i,U8e=/\d+/i,z8e={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},V8e={any:[/^av/i,/^ap/i]},W8e={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},H8e={any:[/1/i,/2/i,/3/i,/4/i]},q8e={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},G8e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},K8e={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Y8e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},X8e={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},J8e={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Z8e={ordinalNumber:yae({matchPattern:$8e,parsePattern:U8e,valueCallback:e=>parseInt(e)}),era:o0({matchPatterns:z8e,defaultMatchWidth:"wide",parsePatterns:V8e,defaultParseWidth:"any"}),quarter:o0({matchPatterns:W8e,defaultMatchWidth:"wide",parsePatterns:H8e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:o0({matchPatterns:q8e,defaultMatchWidth:"wide",parsePatterns:G8e,defaultParseWidth:"any"}),day:o0({matchPatterns:K8e,defaultMatchWidth:"wide",parsePatterns:Y8e,defaultParseWidth:"any"}),dayPeriod:o0({matchPatterns:X8e,defaultMatchWidth:"any",parsePatterns:J8e,defaultParseWidth:"any"})},Tc={code:"fr",formatDistance:C8e,formatLong:T8e,formatRelative:P8e,localize:B8e,match:Z8e,options:{weekStartsOn:1,firstWeekContainsDate:4}},aE=({event:e,onClick:t,isUnlocked:r})=>{const n=Sa(),{user:i}=bn(),a=i&&e.organizer_id===i.id,o=new Date;o.setDate(o.getDate()-1);const l=new Date(e.created_at)>o,c=p=>p?new Date(p).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date non spcifie",u=p=>{p.stopPropagation(),n("/boost",{state:{preselectedContent:`event_${e.id}`}})},h=(p=>{if(!p)return null;const S=new Date,b=new Date(p);if(S>b)return"Termin";const N=yTe(b,S),C=wTe(b,S);return N>0?`J-${N}`:C>0?`${C}h restantes`:x8e(b,{locale:Tc,addSuffix:!0})})(e.promotion_end||e.promoted_until),g=e.event_type==="protected"&&!r;return s.jsxs(er.div,{whileHover:{y:-4},transition:{duration:.2},className:"cursor-pointer h-full group flex flex-col",children:[s.jsxs(Yt,{onClick:t,className:"h-full card-hover glass-effect border-[#C9A227]/20 overflow-hidden flex flex-col flex-grow",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-muted-foreground/20",children:s.jsx("img",{className:`w-full h-48 object-cover transition-all duration-300 ${g?"blur-sm group-hover:blur-none":""}`,alt:`Image de l'vnement ${e.title}`,src:e.cover_image||"https://images.unsplash.com/photo-1703269074563-938cdd3a40e5"})}),s.jsx(mae,{eventDate:e.event_date}),s.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 items-end",children:[e.is_promoted&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Vr,{className:"gradient-gold text-[#0B0B0D] border-0",children:"Sponsoris"}),h&&s.jsxs(Vr,{variant:"secondary",className:"bg-orange-500/20 text-orange-300 border-orange-400/30",children:[s.jsx(jh,{className:"w-3 h-3 mr-1"}),h]})]}),l&&!e.is_promoted&&s.jsxs(Vr,{variant:"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-400/30",children:[s.jsx(id,{className:"w-3 h-3 mr-1"}),"Nouveau"]})]}),g&&s.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-center p-4 backdrop-blur-sm group-hover:backdrop-blur-0 transition-all duration-300",children:[s.jsx(N0,{className:"w-10 h-10 text-primary mb-2"}),s.jsx("h3",{className:"font-bold text-lg text-white",children:"vnement Protg"}),s.jsx("p",{className:"text-sm text-amber-300",children:"Cliquez pour dbloquer"})]})]}),s.jsxs(Qt,{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{children:s.jsx("h3",{className:"font-bold text-lg text-white line-clamp-2",children:e.title})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[s.jsx(jo,{className:"w-4 h-4 mr-2 text-[#C9A227]"}),c(e.event_date)]}),s.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[s.jsx(to,{className:"w-4 h-4 mr-2 text-[#C9A227]"}),g?`${e.city}, ${e.country}`:e.location||`${e.city}, ${e.country}`]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[#C9A227]/20 mt-3",children:[s.jsx(Vr,{variant:"outline",className:"border-primary/50 text-primary",children:e.category_name||e.event_type}),s.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[s.jsx(Zs,{className:"w-3 h-3 mr-1"}),e.interactions_count||0," intresss"]})]})]})]}),a&&!e.is_promoted&&s.jsxs(ze,{onClick:u,variant:"premium",size:"sm",className:"mt-2 w-full",children:[s.jsx(Xc,{className:"w-4 h-4 mr-2"}),"Promouvoir"]})]})};class Q8e{async detectUserLocation(){return new Promise(t=>{if(!navigator.geolocation){console.warn("La golocalisation n'est pas supporte par ce navigateur."),t({city:"Abidjan",country:"Cte d'Ivoire"});return}navigator.geolocation.getCurrentPosition(async r=>{try{const{latitude:n,longitude:i}=r.coords,o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${i}`)).json();if(o.address){const l=o.address.city||o.address.town||o.address.village,c=o.address.country;t({city:l,country:c})}else t({city:"Abidjan",country:"Cte d'Ivoire"})}catch(n){console.error("Erreur lors de la rcupration de l'adresse:",n),t({city:"Abidjan",country:"Cte d'Ivoire"})}},r=>{console.warn("Erreur de golocalisation:",r.message),t({city:"Abidjan",country:"Cte d'Ivoire"})})})}async getLocalEvents(t,r){if(!t||!r)return[];try{const{data:n,error:i}=await Ze.from("events").select("*, organizer:organizer_id(full_name)").eq("city",t).eq("country",r).eq("status","active").order("created_at",{ascending:!1});if(i)throw i;return n||[]}catch(n){return console.error("Erreur lors de la rcupration des vnements locaux:",n.message),[]}}}const eke=new Q8e,kO=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t<=0)throw n;return await new Promise(i=>setTimeout(i,r)),kO(e,t-1,r*1.5)}},tke=()=>{var ae,X;const[e,t]=j.useState([]),[r,n]=j.useState(new Set),[i,a]=j.useState(!0),[o,l]=j.useState(null),[c,u]=j.useState(null),{user:f}=bn(),{userProfile:h,forceRefreshUserProfile:g,adminConfig:p}=Ja(),{toast:S}=js(),b=Sa(),[N,C]=j.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),[A,T]=j.useState(!1),[F,L]=j.useState(""),B=j.useMemo(()=>[{text:se=>` la une  ${se}`,icon:id,color:"text-primary"},{text:se=>`Les incontournables de ${se}`,icon:Tu,color:"text-amber-500"},{text:se=>`Les plus populaires  ${se}`,icon:cd,color:"text-green-500"},{text:se=>`Dcouvrez cet vnement  ${se}`,icon:to,color:"text-blue-500"},{text:se=>`L'actualit  ${se}`,icon:id,color:"text-purple-500"},{text:se=>`Les vnements du moment  ${se}`,icon:Zs,color:"text-pink-500"},{text:se=>`Les bons plans  ${se}`,icon:Ua,color:"text-yellow-500"},{text:se=>`${se} vous attend`,icon:Tu,color:"text-red-500"},{text:se=>`Les tendances  ${se}`,icon:cd,color:"text-indigo-500"},{text:se=>`Explorez ${se}`,icon:to,color:"text-teal-500"}],[]),M=j.useCallback(se=>{const he=Math.floor(Math.random()*B.length),ce=B[he];return{text:ce.text(se),Icon:ce.icon,color:ce.color}},[B]),W=j.useCallback(async(se,he)=>{a(!0),l(null);try{const{data:ce,error:ge}=await kO(()=>Ze.rpc("search_events_for_card",{p_cities:[se]}).limit(4));if(ge)throw ge;if(t(ce),se){const we=M(se);L(we)}}catch(ce){console.error("Erreur lors de la rcupration des vnements locaux:",ce),t([])}finally{a(!1)}},[M]),z=j.useCallback(async()=>{if(f)try{const{data:se,error:he}=await kO(()=>Ze.from("protected_event_access").select("event_id").eq("user_id",f.id).eq("status","active"));if(he)throw he;n(new Set(se.map(ce=>ce.event_id)))}catch(se){console.error("Error fetching unlocked events:",se)}},[f]);j.useEffect(()=>{(async()=>{let he;h&&h.city&&h.country?he={city:h.city,country:h.country}:he=await eke.detectUserLocation(),he.city&&he.country?(u(he),W(he.city,he.country)):a(!1),z()})()},[h,W,z]);const Z=j.useCallback(()=>{if(c!=null&&c.city){const se=M(c.city);L(se)}},[c,M]),K=async se=>{var he;try{const{data:ce,error:ge}=await Ze.rpc("access_protected_event",{p_event_id:se.id,p_user_id:f.id});if(ge)throw ge;if(!ce.success){if(ce.message&&ce.message.includes("Solde insuffisant")){T(!0);return}throw new Error(ce.message)}const we=ce.amount_paid||2;S({title:"Contenu dbloqu!",description:`Vous avez dpens ${we}. 1 a t transfr  l'organisateur.`,duration:3e3}),g(),n(Ce=>new Set(Ce).add(se.id)),b(`/event/${se.id}`)}catch(ce){console.error("Erreur lors du dblocage:",ce),(he=ce.message)!=null&&he.includes("Solde insuffisant")||S({title:"Erreur lors du dblocage",description:ce.message||"Une erreur inattendue est survenue",variant:"destructive",duration:5e3})}},q=se=>{const he=se.id||se.event_id;if(!f){S({title:"Connexion requise",description:"Vous devez tre connect pour voir les dtails.",variant:"destructive"}),b("/auth");return}const ce=h&&["super_admin","admin","secretary"].includes(h.user_type),ge=r.has(he)||se.organizer_id===(f==null?void 0:f.id)||ce;if(se.event_type==="protected"&&!ge){const Ce=2*((p==null?void 0:p.coin_to_fcfa_rate)||10);C({isOpen:!0,event:{...se,id:he},cost:2,costFcfa:Ce,onConfirm:()=>K({...se,id:he})})}else b(`/event/${he}`)},ie=j.useMemo(()=>e,[e]);return i?s.jsxs("section",{className:"mb-12",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading",children:[s.jsx(to,{className:"mr-2 text-primary"}),"vnements  proximit"]})}),s.jsx("div",{className:"flex justify-center items-center h-48 bg-card rounded-lg border border-border",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})})]}):o?s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading mb-4",children:[s.jsx(to,{className:"mr-2 text-primary"}),"vnements  ",(c==null?void 0:c.city)||"proximit"]}),s.jsxs("div",{className:"text-center py-16 bg-card rounded-lg border-dashed border-destructive/50",children:[s.jsx(F2e,{className:"w-16 h-16 text-destructive/50 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-destructive mb-2",children:"Oops! Une erreur est survenue."}),s.jsx("p",{className:"text-muted-foreground",children:o})]})]}):e.length===0?null:s.jsxs(er.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-12",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:Z,className:"p-1 hover:bg-muted rounded-full transition-colors",title:"Changer le message","aria-label":"Changer le message d'en-tte",children:s.jsx(id,{className:"w-4 h-4 text-muted-foreground"})}),s.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading",children:[F.Icon&&s.jsx(F.Icon,{className:`mr-2 ${F.color}`}),F.text||` la une  ${c==null?void 0:c.city}`]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:ie.map(se=>{const he=h&&["super_admin","admin","secretary"].includes(h.user_type),ce=se.id||se.event_id,ge=r.has(ce)||f&&se.organizer_id===f.id||he;return s.jsx(aE,{event:{...se,id:ce},onClick:()=>q(se),isUnlocked:ge},ce)})}),s.jsx(P0,{isOpen:A,onClose:()=>T(!1),onProceed:()=>{T(!1),b("/wallet")}}),s.jsx(nl,{open:N.isOpen,onOpenChange:se=>!se&&C({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Dbloquer cet vnement ?"}),s.jsx(Ko,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[s.jsx(Ua,{className:"w-12 h-12 text-primary mb-4"}),s.jsxs("p",{className:"text-lg",children:['Voir les dtails de "',s.jsx("strong",{className:"text-foreground",children:(ae=N.event)==null?void 0:ae.title}),'" vous cotera'," ",s.jsxs("strong",{className:"text-foreground",children:[N.cost,""]})," (",(X=N.costFcfa)==null?void 0:X.toLocaleString("fr-FR")," FCFA)."]}),s.jsx("div",{className:"mt-4 text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Md,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-primary"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium mb-2 text-foreground",children:"Comment fonctionne la rmunration :"}),s.jsxs("ul",{className:"space-y-2 text-xs md:text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded font-semibold",children:"2"}),s.jsx("span",{children:"sont dduits de votre solde"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-green-500/10 text-green-600 px-2 py-0.5 rounded font-semibold",children:"1"}),s.jsx("span",{children:"est transfr  l'organisateur de l'vnement"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-blue-500/10 text-blue-600 px-2 py-0.5 rounded font-semibold",children:"1"}),s.jsx("span",{children:"reste dans l'cosystme BonPlanInfos"})]})]}),s.jsx("p",{className:"mt-3 text-xs italic",children:"En dbloquant cet vnement, vous soutenez directement l'organisateur !"})]})]})})]})})]}),s.jsxs(al,{children:[s.jsx(sl,{className:"mt-2 sm:mt-0",children:"Annuler"}),s.jsxs(il,{onClick:N.onConfirm,className:"bg-primary hover:bg-primary/90",children:["Confirmer et Payer ",N.cost,""]})]})]})})]})},rke=()=>{var M,W;const e=Sa(),{t}=za(),{userProfile:r,adminConfig:n,forceRefreshUserProfile:i,hasFetchError:a}=Ja(),{user:o}=bn(),[l,c]=j.useState([]),[u,f]=j.useState(!0),[h,g]=j.useState(new Set),[p,S]=j.useState(!1),[b,N]=j.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),C=j.useCallback(async()=>{if(a){f(!1);return}f(!0);try{const{data:z,error:Z}=await Ze.from("events").select("*, organizer:organizer_id(full_name), category:category_id(name, slug)").eq("status","active").eq("is_promoted",!0).gt("promotion_end",new Date().toISOString()).order("created_at",{ascending:!1}).limit(8);if(Z)throw Z;const K=z.map(q=>{var ie,ae,X;return{...q,category_name:(ie=q.category)==null?void 0:ie.name,category_slug:(ae=q.category)==null?void 0:ae.slug,organizer_name:(X=q.organizer)==null?void 0:X.full_name}});if(c(K||[]),o){const{data:q,error:ie}=await Ze.from("protected_event_access").select("event_id").eq("user_id",o.id).eq("status","active");ie?console.error("Error fetching unlocked events:",ie):g(new Set(q.map(ae=>ae.event_id)))}}catch{lt({title:t("common.error_title"),description:t("home_page.loading_error.description"),variant:"destructive"})}finally{f(!1)}},[a,o,t]);j.useEffect(()=>{C()},[C]);const A=async z=>{if(!o){e("/auth");return}const Z=2;await bl.handleAction({userId:o.id,requiredCoins:Z,onSuccess:async()=>{try{const{data:K,error:q}=await Ze.rpc("access_protected_event",{p_event_id:z.id,p_user_id:o.id},{method:"POST"});if(q)throw q;if(!K.success)throw new Error(K.message);g(ie=>new Set(ie).add(z.id)),await(i==null?void 0:i()),lt({title:t("events_page.unlock_modal.success_title"),description:t("events_page.unlock_modal.success_desc",{title:z.title})}),e(`/event/${z.id}`)}catch(K){lt({title:t("common.error_title"),description:K.message,variant:"destructive"})}},onInsufficientBalance:()=>S(!0)})},T=async z=>{if(!o){e("/auth");return}const Z=r&&["super_admin","admin","secretary"].includes(r.user_type),K=h.has(z.id)||z.organizer_id===o.id||Z;if(z.event_type==="protected"&&!K){const ie=2*((n==null?void 0:n.coin_to_fcfa_rate)||10);N({isOpen:!0,event:z,cost:2,costFcfa:ie,onConfirm:()=>A(z)})}else e(`/event/${z.id}`)},F=()=>{S(!1),e("/wallet")},L=()=>{window.location.reload()},B=r&&["organizer","admin","super_admin"].includes(r.user_type);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[t("nav.home")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:t("footer.tagline")})]}),!a&&s.jsx(fae,{}),!a&&s.jsx(sTe,{}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[s.jsx(oTe,{}),s.jsx(tke,{}),s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"my-12",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-4",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Xc,{className:"text-primary"}),t("home_page.sponsored_events")]}),B&&s.jsxs(ze,{onClick:()=>e("/boost"),variant:"premium",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"}),t("home_page.boost_event")]})]}),a?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ll,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-destructive mb-2",children:t("home_page.loading_error.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:t("home_page.loading_error.description")}),s.jsxs(ze,{onClick:L,children:[s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),t("common.retry")]})]}):u?s.jsxs("div",{className:"text-center text-muted-foreground mt-8 flex items-center justify-center",children:[s.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t("common.loading")]}):l.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(z=>s.jsx(aE,{event:z,isUnlocked:h.has(z.id)||o&&z.organizer_id===o.id||r&&["super_admin","admin","secretary"].includes(r.user_type),onClick:()=>T(z)},z.id))}):s.jsxs("div",{className:"text-center py-16 bg-card/50 rounded-lg border border-dashed border-border",children:[s.jsx(Xc,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:t("home_page.no_sponsored_events.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:t("home_page.no_sponsored_events.description")}),B&&s.jsxs(ze,{onClick:()=>e("/boost"),variant:"premium",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"}),t("home_page.no_sponsored_events.button")]})]})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs(ze,{variant:"outline",onClick:()=>e("/events"),children:[t("home_page.view_all_events"),s.jsx(Cm,{className:"w-4 h-4 ml-2"})]})})]}),s.jsx(P0,{isOpen:p,onClose:()=>S(!1),onProceed:F}),s.jsx(nl,{open:b.isOpen,onOpenChange:z=>!z&&N({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:t("events_page.unlock_modal.title")}),s.jsx(Ko,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[s.jsx(Ua,{className:"w-12 h-12 text-primary mb-4"}),s.jsx("p",{className:"text-lg",children:t("events_page.unlock_modal.description",{title:(M=b.event)==null?void 0:M.title,cost:b.cost,costFcfa:(W=b.costFcfa)==null?void 0:W.toLocaleString("fr-FR")})}),s.jsxs("div",{className:"mt-4 text-xs text-muted-foreground p-2 bg-muted rounded flex items-start gap-2",children:[s.jsx(Md,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:t("events_page.unlock_modal.info")})]})]})})]}),s.jsxs(al,{children:[s.jsx(sl,{children:t("common.cancel")}),s.jsx(il,{onClick:b.onConfirm,children:t("common.confirm")})]})]})})]})},rr=Ie.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ir("flex h-11 w-full rounded-md border border-input bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));rr.displayName="Input";var nke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ake=nke.reduce((e,t)=>{const r=Ej(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ike="Label",Cae=j.forwardRef((e,t)=>s.jsx(ake.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Cae.displayName=ike;var Aae=Cae;const ske=vx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=Ie.forwardRef(({className:e,...t},r)=>s.jsx(Aae,{ref:r,className:Ir(ske(),e),...t}));kt.displayName=Aae.displayName;const l5=[{code:"DZ",name:"Algrie"},{code:"AO",name:"Angola"},{code:"BJ",name:"Bnin"},{code:"BW",name:"Botswana"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"CM",name:"Cameroun"},{code:"CV",name:"Cap-Vert"},{code:"CF",name:"Rpublique centrafricaine"},{code:"TD",name:"Tchad"},{code:"KM",name:"Comores"},{code:"CG",name:"Rpublique du Congo"},{code:"CD",name:"Rpublique dmocratique du Congo"},{code:"CI",name:"Cte d'Ivoire"},{code:"DJ",name:"Djibouti"},{code:"EG",name:"gypte"},{code:"GQ",name:"Guine quatoriale"},{code:"ER",name:"rythre"},{code:"SZ",name:"Eswatini"},{code:"ET",name:"thiopie"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambie"},{code:"GH",name:"Ghana"},{code:"GN",name:"Guine"},{code:"GW",name:"Guine-Bissau"},{code:"KE",name:"Kenya"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Libria"},{code:"LY",name:"Libye"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"ML",name:"Mali"},{code:"MR",name:"Mauritanie"},{code:"MU",name:"Maurice"},{code:"MA",name:"Maroc"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibie"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigria"},{code:"RW",name:"Rwanda"},{code:"ST",name:"Sao Tom-et-Principe"},{code:"SN",name:"Sngal"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SO",name:"Somalie"},{code:"ZA",name:"Afrique du Sud"},{code:"SS",name:"Soudan du Sud"},{code:"SD",name:"Soudan"},{code:"TZ",name:"Tanzanie"},{code:"TG",name:"Togo"},{code:"TN",name:"Tunisie"},{code:"UG",name:"Ouganda"},{code:"ZM",name:"Zambie"},{code:"ZW",name:"Zimbabwe"}],H2={Algrie:["Alger","Oran","Constantine","Annaba","Blida","Batna","Djelfa","Stif","Sidi Bel Abbs","Biskra","Tbessa","Tiaret","Ouargla","Mostaganem","Tlemcen","Bjaa","Skikda","El Eulma","Mda","Chlef","Ghardaa","Tamanrasset","Adrar","Laghouat","Oum El Bouaghi"],Angola:["Luanda","Huambo","Lobito","Benguela","Lubango","Malanje","Namibe","Soyo","Cabinda","Uge","Sumbe","Menongue","Dundo","Ndalatando","Mbanza Kongo","Luena","Saurimo","Kuito","Caxito","Ondjiva","Catumbela","Camacupa","Waku-Kungo","Gabela","Caconda"],Bnin:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Abomey","Natitingou","Lokossa","Ouidah","Abomey-Calavi","Savalou","Sakt","Kandi","Malanville","Pob","Com","Dogbo-Tota","Sav","Tchaourou","Tanguita","Nikki","Aplahou","Dassa-Zoum","Grand-Popo","Ktou"],Botswana:["Gaborone","Francistown","Molepolole","Maun","Serowe","Selibe Phikwe","Kanye","Mahalapye","Mochudi","Mogoditshane","Palapye","Lobatse","Ramotswa","Thamaga","Moshupa","Jwaneng","Ghanzi","Kasane","Orapa","Tlokweng","Letlhakane","Shoshong","Tonota","Tutume","Gumare"],"Burkina Faso":["Ouagadougou","Bobo-Dioulasso","Ddougou","Nouna","Solenzo","Toma","Tougan","Banfora","Sindou","Tenkodogo","Kaya","Kongoussi","Boulsa","Koudougou","Manga","Lo","Kombissiri","P","Diapaga","Pama","Fada N'Gourma","Gayeri","Bogand","Orodara","Hound","Ouahigouya","Titao","Gourcy","Yako","Zorgho","Bouss","Ziniar","Dori","Sebba","Gorom-Gorom","Djibo","Aribinda","Gaoua","Dano","Bati","Dibougou","Saaba","Pabr","Koubri","Komsilga","Tanghin-Dassouri","Baskuy","Boulmiougou","Sig-Nonghin","Nioko II","Garango","Bittou","Koupla","Pouytenga","Barsalogho","Pissila","Sourgoubila","R","Sapon","Loumbila","Kampti","Loropeni","Markoye"],Burundi:["Bujumbura","Gitega","Muyinga","Ngozi","Ruyigi","Kayanza","Bururi","Rutana","Makamba","Muramvya","Cibitoke","Bubanza","Karuzi","Cankuzo","Kirundo","Rumonge","Mwaro","Isale","Gatumba","Kabezi","Gisuru","Mabanda","Gihofi","Bugendana","Matana"],Cameroun:["Yaound","Douala","Garoua","Bamenda","Maroua","Bafoussam","Ngaoundr","Bertoua","Ebolowa","Kribi","Kumba","Limbe","Eda","Nkongsamba","Mbouda","Loum","Tiko","Sangmlima","Bafia","Guider","Meiganga","Yagoua","Koussri","Foumban","Dschang","Buea","Mamfe","Fontem","Wum","Banyo","Batouri","Mokolo","Ndop","Muyuka","Foumbot","Baham","Bangangt","Banyo","Bali","Foumban","Fundong","Mbouda","Tibati","Mbalmayo","Eska","Nkondjock","Nkongsamba","Loum","Nkongsamba"],"Cap-Vert":["Praia","Mindelo","Santa Maria","Assomada","Porto Novo","So Filipe","Tarrafal","Espargos","Pedra Badejo","Cidade Velha","Sal Rei","Vila do Maio","Ribeira Brava","Pombas","Calheta de So Miguel","Mosteiros","Tarrafal de So Nicolau","Ribeira Grande","Picos","So Domingos","Nova Sintra","Ribeira da Barca","Ponta do Sol","Vila Nova Sintra","Igreja"],"Rpublique centrafricaine":["Bangui","Bimbo","Berbrati","Carnot","Bambari","Bouar","Bossangoa","Bria","Bangassou","Nola","Kaga-Bandoro","Mbaki","Bozoum","Paoua","Batangafo","Alindao","Sibut","Zinga","Ippy","Mobaye","Obo","N'Dl","Birao","Damara","Bouca"],Tchad:["N'Djamena","Moundou","Sarh","Abch","Klo","Koumra","Pala","Am Timan","Bongor","Mongo","Doba","Ati","La","Oum Hadjer","Bitkine","Mao","Faya-Largeau","Bol","Moussoro","Massakory","Biltine","Adr","Goz Beda","Massaguet","Bokoro"],Comores:["Moroni","Mutsamudu","Fomboni","Domoni","Tsimbeo","Adda-Douni","Mirontsi","Ouani","Moya","Iconi","Dembni","Sima","Miringoni","Chandra","Bambao","Hajoho","Itsandra","Nioumachoua","Sada","Vouvouni","Itsinkoudi","Ouzini","Jimlimi","Panda","Mitsamiouli"],"Rpublique du Congo":["Brazzaville","Pointe-Noire","Dolisie","Nkayi","Impfondo","Ouesso","Madingou","Owando","Gamboma","Mossendjo","Kayes","Djambala","Sibiti","Loudima","Makoua","Ewo","Kinkala","Boundji","Mindouli","Loutt","Oyo","Pokola","Semb","Lkana","Komono"],"Rpublique dmocratique du Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Goma","Kolwezi","Matadi","Likasi","Boma","Tshikapa","Beni","Butembo","Mbandaka","Kikwit","Uvira","Mwene-Ditu","Isiro","Bunia","Gemena","Bandundu","Ilebo","Kalemie","Kindu"],"Cte d'Ivoire":["Abidjan","Cocody","Yopougon","Abobo","Marcory","Koumassi","Treichville","Plateau","Port-Bout","Attcoub","Adjam","Songon","Yamoussoukro","Bouak","Daloa","Korhogo","San-Pdro","Man","Gagnoa","Divo","Abengourou","Anyama","Aboisso","Soubr","Agboville","Dimbokro","Bondoukou","Ferkessdougou","Odienn","Sgula","Toumodi","Danan","Guiglo","Dukou","Bangolo","Issia","Sinfra","Tiassal","Bongouanou","Jacqueville","Grand-Bassam","Grand-Lahou","Bingerville","Adzop","Magui","Vavoua","Tabou","Lakota","Zunoula","Tingrla","Bouna","Tanda","Minignan","Boundiali","Arrah","Bouafl","Katiola","Mankono","Touba","Sassandra","Facobly","Sikensi","Tibissou","Kani","Kouibly","Azagui","Botro","Prikro","Guibroua","Zikisso","Buyo","Oum","Kouassi-Kouassikro","Akoup","Bocanda","Adiak","Assinie","Fresco","Gboguh","Taabo","Niakaramadougou","Zouan-Hounien","Sipilou","Ayam","Sangouin"],Djibouti:["Djibouti","Ali Sabieh","Tadjourah","Obock","Dikhil","Arta","Ali Adde","Balho","Goumo","Holhol","Randa","Wea","Loyada","Gagade","Godoria","Markazi","Yoboki","Dorra","Galafi","As Eyla","Khor Angar","Moulhoule","Day","Bankoual","Sagallou"],gypte:["Le Caire","Alexandrie","Gizeh","Shubra El Kheima","Port-Sad","Suez","Luxor","Mansoura","Tanta","Asyut","Ismalia","Fayoum","Zagazig","Mahalla","Sohag","Hurghada","Assouan","Damanhur","Minya","Qena","Beni Suef","Sharm El Sheikh","Marsa Matruh","Damietta","Kafr El Sheikh"],"Guine quatoriale":["Malabo","Bata","Mongomo","Ebebiyin","Evinayong","Aconibe","Mikomeseng","Nsok","Riaba","Akurenam","Bikl","Cogo","Rebola","Nsang","Anisoc","Luba","Mbini","Aisoc","Oyala","Ciudad de la Paz","Niefang","Machinda","Acurenam","Corisco","Annobn"],rythre:["Asmara","Keren","Massawa","Assab","Mendefera","Barentu","Dekemhare","Adi Keyh","Teseney","Afabet","Agordat","Senafe","Nakfa","Ghinda","Oroba","Filfil","Adi Quala","Segeneiti","Ak'ordat","Nak'fa","Edd","Beilul","Thio","Foro","Zula"],Eswatini:["Mbabane","Manzini","Lobamba","Siteki","Malkerns","Piggs Peak","Nhlangano","Simunye","Lavumisa","Hlatikulu","Mhlume","Bhunya","Nsoko","Siphofaneni","Matsapha","Big Bend","Mankayane","Kubuta","Tjaneni","Hluti","Vuvulane","Ngwenya","Lomahasha","Gege","Sidvokodvo"],thiopie:["Addis-Abeba","Dire Dawa","Mekelle","Gondar","Bahir Dar","Awasa","Adama","Jimma","Harar","Dessie","Shashamane","Hawassa","Debre Birhan","Asosa","Bale Robe","Sodo","Arba Minch","Jijiga","Nekemte","Debre Markos","Axum","Lalibela","Gambela","Semera","Wolaita Sodo"],Gabon:["Libreville","Port-Gentil","Franceville","Oyem","Moanda","Lambarn","Tchibanga","Makokou","Bitam","Ndend","Mouila","Koulamoutou","Bongoville","Mayumba","Lastoursville","Mimongo","Mitzic","Lbamba","Okondja","Gamba","Ntoum","Cocobeach","Fougamou","Ombou","Boou"],Gambie:["Banjul","Serekunda","Brikama","Bakau","Farafenni","Lamin","Basse Santa Su","Kuntaur","Bansang","Janjanbureh","Gunjur","Sami","Diabugu","Juffureh","Gambissara","Sukuta","Essau","Barra","Soma","Kerewan","Brufut","Tanji","Kartong","Wassu","Kudang"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Cape Coast","Sekondi-Takoradi","Obuasi","Tema","Sunyani","Koforidua","Ho","Wa","Bolgatanga","Techiman","Tumu","Madina","Bawku","Winneba","Suhum","Aflao","Elmina","Nkawkaw","Axim","Tarkwa"],Guine:["Conakry","Nzrkor","Kankan","Kindia","Lab","Mamou","Guckdou","Bok","Coyah","Fria","Kouroussa","Dalaba","Tougu","Pita","Krouan","Yomou","Kissidougou","Siguiri","Macenta","Dabola","Forcariah","Dubrka","Tliml","Koundara","Mandiana"],"Guine-Bissau":["Bissau","Bafat","Gab","Bissor","Buba","Cacheu","Bolama","Canchungo","Bubaque","Cati","Farim","So Domingos","Cufar","Quebo","Binar","Mansa","Fulacunda","Prabis","Nhacra","Mansab","Safim","Enxud","Bambadinca","Contuboel","Pirada"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Kitale","Malindi","Naivasha","Machakos","Garissa","Kisii","Meru","Nyeri","Embu","Kakamega","Lamu","Voi","Ruiru","Kericho","Isiolo","Wajir","Mandera","Lodwar","Marsabit"],Lesotho:["Maseru","Teyateyaneng","Mafeteng","Hlotse","Mohale's Hoek","Quthing","Butha-Buthe","Mokhotlong","Thaba-Tseka","Maputsoe","Qacha's Nek","Roma","Semonkong","Matsieng","Leribe","Peka","Pitseng","Nako","Ha Mofoka","Ha Lejone","Sani Pass","Katse","Mantsonyane","Morija","Pitseng"],Libria:["Monrovia","Gbarnga","Bensonville","Buchanan","Voinjama","Harper","Zwedru","Kakata","Sanniquellie","Greenville","Ganta","Bopolu","Pleebo","Bomi Hills","Tappita","River Cess","Fish Town","Robertsport","Barclayville","Tubmanburg","Paynesville","Careysburg","Harbel","Marshall","Edina"],Libye:["Tripoli","Benghazi","Misrata","Bayda","Zawiya","Sirte","Ajdabiya","Sabha","Al Marj","Derna","Ghat","Tobruk","Yefren","Ghadames","Murzuq","Zliten","Khoms","Nalut","Jadu","Ubari","Zuwara","Gharyan","Tarhuna","Bani Walid","Al-Jufra"],Madagascar:["Antananarivo","Toamasina","Antsirabe","Fianarantsoa","Mahajanga","Toliara","Antsiranana","Ambatondrazaka","Moramanga","Betafo","Farafangana","Sambava","Vohmar","Mananjary","Ambalavao","Amparafaravola","Morondava","Ambanja","Ambositra","Ihosy","Nosy Be","Sainte Marie","Taolagnaro","Maroantsetra","Andoany"],Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Mangochi","Kasungu","Ntcheu","Karonga","Mchinji","Salima","Dedza","Nkhotakota","Balaka","Chiradzulu","Thyolo","Mwanza","Liwonde","Rumphi","Nsanje","Chitipa","Mulanje","Nkhata Bay","Mzimba","Phalombe","Dowa"],Mali:["Bamako","Sikasso","Mopti","Koutiala","Kayes","Gao","Tombouctou","Kati","Segou","San","Douentza","Kidal","Niono","Bandiagara","Markala","Bougouni","Djenn","Kolokani","Yorosso","Bla","Kita","Nara","Banamba","Kangaba","Koulikoro"],Mauritanie:["Nouakchott","Nouadhibou","Rosso","Kiffa","Kadi","Atar","Nma","Tidjikja","Boutilimit","Zourate","Maghama","Bogu","Oualata","Kobeni","Aleg","Aioun","Timbedra","Guerou","Slibaby","Akjoujt","Chinguetti","Tichitt","F'Derick","Bir Moghrein","Bassikounou"],Maurice:["Port-Louis","Beau Bassin-Rose Hill","Vacoas-Phoenix","Curepipe","Quatre Bornes","Goodlands","Triolet","Mahebourg","Flacq","Pamplemousses","Flic en Flac","Rose Belle","Souillac","Rivire du Rempart","Mapou","Grand Baie","Bel Air","Mahbourg","Port Mathurin","Centre de Flacq","Tamarin","Chamarel","Le Morne","Poste de Flacq","Trou d'Eau Douce"],Maroc:["Rabat","Casablanca","Fs","Marrakech","Mekns","Agadir","Tangier","Oujda","Kenitra","Tetouan","Safi","El Jadida","Nador","Bni Mellal","Khouribga","Settat","Laayoune","Sal","Inezgane","Taza","Essaouira","Chefchaouen","Ifrane","Ouarzazate","Dakhla"],Mozambique:["Maputo","Matola","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Xai-Xai","Pemba","Lichinga","Inhambane","Maxixe","Mocuba","Gaza","Manica","Angoche","Cuamba","Montepuez","Dondo","Vilankulo","Ponta do Ouro","Gorongosa","Ilha de Moambique","Chokwe"],Namibie:["Windhoek","Rundu","Walvis Bay","Swakopmund","Oshakati","Katima Mulilo","Oshikango","Luderitz","Otjiwarongo","Grootfontein","Mariental","Keetmanshoop","Rehoboth","Okahandja","Karasburg","Tsumeb","Gobabis","Outjo","Ongwediva","Henties Bay","Opuwo","Oranjemund","Usakos","Arandis","Karibib"],Niger:["Niamey","Zinder","Maradi","Agadez","Tahoua","Dosso","Diffa","Birni-NKonni","Gaya","Filingu","Tra","Goure","Tchintabaraden","Arlit","Say","Magaria","Madaoua","Mayahi","Dakoro","Tessaoua","Illla","Dogondoutchi","Abalak","Keita","Tillabri"],Nigria:["Lagos","Abuja","Kano","Ibadan","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Warri","Bauchi","Kaduna","Abeokuta","Onitsha","Calabar","Akure","Sokoto","Katsina","Minna","Makurdi","Owerri"],Rwanda:["Kigali","Butare","Gisenyi","Ruhengeri","Byumba","Gitarama","Kibuye","Cyangugu","Kibungo","Rwamagana","Muhanga","Ngoma","Nyagatare","Nyanza","Rusizi","Nyamata","Huye","Musanze","Rubavu","Kayonza","Gicumbi","Karongi","Nyamasheke","Rulindo","Gasabo"],"Sao Tom-et-Principe":["So Tom","Santo Amaro","Trindade","Neves","Santa Catarina","Principe","Boca de Inferno","So Joo dos Angolares","Santa Cruz","Porto Alegre","Santa Luzia","So Jos","Praia Melo","Ribeira Afonso","Diogo Vaz","Sundi","Guadalupe","Santana","Ribeira Peixe","Ponta Figo","Santo Antnio","Infante Dom Henrique","Praia das Conchas","Praia Inhame","Praia Jal"],Sngal:["Dakar","This","Saint-Louis","Kaolack","Ziguinchor","Touba","Diourbel","Tambacounda","Louga","Mbour","Kolda","Fatick","Bakel","Kdougou","Matam","Rufisque","Guinguino","Pikine","Sdhiou","Richard Toll","Joal-Fadiouth","Cap Skirring","Podor","Vlingara","Saly Portudal"],Seychelles:["Victoria","Anse Boileau","Beau Vallon","Baie Lazare","Anse Royale","Bel Ombre","Mont Fleuri","Glacis","La Digue","Anse Etoile","Grand Anse","Roche Caiman","Cascade","Port Glaud","Takamaka","Bel Air","Praslin","Au Cap","Les Mamelles","Plaisance","La Passe","Anse Volbert","Baie Sainte Anne","Anse aux Pins","Pointe La Rue"],"Sierra Leone":["Freetown","Bo","Kenema","Makeni","Koidu","Moyamba","Kabala","Bonthe","Magburaka","Pujehun","Kambia","Mattru Jong","Masiaka","Lunsar","Baiima","Kailahun","Waterloo","Goderich","Port Loko","Wellington","Tokeh","Banana Islands","Tiwai Island","Gola Rainforest National Park","Outamba-Kilimi National Park"],Somalie:["Mogadiscio","Hargeisa","Bosaso","Kismayo","Berbera","Galkayo","Baidoa","Marka","Merca","Buur Hakaba","Jowhar","Garowe","Qardho","Afgooye","Bardera","Balcad","Jamaame","Luuq","Borama","Erigavo","Las Anod","Dhusamareb","Beledweyne","Wanlaweyn","El-Wak"],"Afrique du Sud":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","Pietermaritzburg","Nelspruit","Kimberley","Polokwane","East London","Welkom","Mthatha","Rustenburg","George","Mahikeng","Soweto","Sandton","Centurion","Randburg","Stellenbosch","Paarl","Knysna","Hermanus","Franschhoek"],"Soudan du Sud":["Juba","Malakal","Wau","Yei","Bor","Rumbek","Aweil","Bentiu","Torit","Yambio","Kuajok","Melut","Pibor","Renk","Nasir","Mayom","Maridi","Kapoeta","Gogrial","Tonj","Nimule","Kaya","Raja","Terekeka","Akobo"],Soudan:["Khartoum","Omdurman","Port Sudan","Kassala","Al-Fashir","Nyala","El Obeid","Dongola","Geneina","Kosti","Ed Damer","Shendi","Atbara","Halfa","Merowe","Al Qadarif","Wad Madani","Sennar","Ad-Damazin","Rabak","Suakin","Karima","Berber","Zalingei","El-Managil"],Tanzanie:["Dar es Salaam","Dodoma","Mwanza","Arusha","Mbeya","Morogoro","Tanga","Moshi","Zanzibar City","Iringa","Tabora","Sumbawanga","Kigoma","Singida","Shinyanga","Lindi","Musoma","Songea","Bukoba","Sumbawanga","Stone Town","Nungwi","Paje","Serengeti","Ngorongoro"],Togo:["Lom","Sokod","Kara","Atakpam","Dapaong","Bassar","Anho","Tsvi","Tchamba","Vogan","Kpalim","Badou","Mango","Pagouda","Blitta","Ktao","Niamtougou","Bafilo","Cinkass","Sotouboua","Kand","Tabligbo","Nots","Togoville","Amlam"],Tunisie:["Tunis","Sfax","Sousse","Ettadhamen","Kairouan","Bizerte","Gabs","Ariana","Gafsa","El Mourouj","La Marsa","La Goulette","Monastir","Kbili","Nabeul","Sidi Bouzid","Hammamet","Djerba","Ben Arous","Mdenine","Tozeur","Douz","Matmata","Carthage","Sidi Bou Said"],Ouganda:["Kampala","Entebbe","Gulu","Jinja","Mbale","Lira","Mbarara","Masaka","Fort Portal","Soroti","Kabale","Iganga","Hoima","Tororo","Kitgum","Bushenyi","Arua","Kasese","Mukono","Wakiso","Mityana","Luwero","Masindi","Nebbi","Paidha"],Zambie:["Lusaka","Ndola","Kitwe","Livingstone","Kabwe","Chingola","Mufulira","Chipata","Kasama","Luanshya","Choma","Kalulushi","Mazabuka","Solwezi","Mongu","Kapiri Mposhi","Mansa","Monze","Mpika","Kafue","Siavonga","Chililabombwe","Mbala","Samfya","Nakonde"],Zimbabwe:["Harare","Bulawayo","Mutare","Gweru","Kwekwe","Masvingo","Chitungwiza","Kadoma","Marondera","Chegutu","Bindura","Chinhoyi","Victoria Falls","Hwange","Zvishavane","Kariba","Beitbridge","Redcliff","Rusape","Norton","Great Zimbabwe","Nyanga","Chimanimani","Gonarezhou","Mana Pools"]};function fC(e,[t,r]){return Math.min(r,Math.max(t,e))}function oke(e){const t=lke(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(uke);if(c){const u=c.props.children,f=l.map(h=>h===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function lke(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=fke(i),l=dke(a,i.props);return i.type!==j.Fragment&&(l.ref=n?T0(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cke=Symbol("radix.slottable");function uke(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cke}function dke(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function fke(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function iE(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hke=[" ","Enter","ArrowUp","ArrowDown"],mke=[" ","Enter"],ex="Select",[sE,oE,pke]=Ty(ex),[zy,Xvt]=dc(ex,[pke,y1]),lE=y1(),[gke,_1]=zy(ex),[xke,vke]=zy(ex),jae=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:g,required:p,form:S}=e,b=lE(t),[N,C]=j.useState(null),[A,T]=j.useState(null),[F,L]=j.useState(!1),B=bx(u),[M,W]=cc({prop:n,defaultProp:i??!1,onChange:a,caller:ex}),[z,Z]=cc({prop:o,defaultProp:l,onChange:c,caller:ex}),K=j.useRef(null),q=N?S||!!N.closest("form"):!0,[ie,ae]=j.useState(new Set),X=Array.from(ie).map(se=>se.props.value).join(";");return s.jsx(Dj,{...b,children:s.jsxs(gke,{required:p,scope:t,trigger:N,onTriggerChange:C,valueNode:A,onValueNodeChange:T,valueNodeHasChildren:F,onValueNodeHasChildrenChange:L,contentId:sd(),value:z,onValueChange:Z,open:M,onOpenChange:W,dir:B,triggerPointerDownPosRef:K,disabled:g,children:[s.jsx(sE.Provider,{scope:t,children:s.jsx(xke,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(se=>{ae(he=>new Set(he).add(se))},[]),onNativeOptionRemove:j.useCallback(se=>{ae(he=>{const ce=new Set(he);return ce.delete(se),ce})},[]),children:r})}),q?s.jsxs(Jae,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:z,onChange:se=>Z(se.target.value),disabled:g,form:S,children:[z===void 0?s.jsx("option",{value:""}):null,Array.from(ie)]},X):null]})})};jae.displayName=ex;var Eae="SelectTrigger",Tae=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=lE(r),o=_1(Eae,r),l=o.disabled||n,c=ka(t,o.onTriggerChange),u=oE(r),f=j.useRef("touch"),[h,g,p]=Qae(b=>{const N=u().filter(T=>!T.disabled),C=N.find(T=>T.value===o.value),A=eie(N,b,C);A!==void 0&&o.onValueChange(A.value)}),S=b=>{l||(o.onOpenChange(!0),p()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(H4,{asChild:!0,...a,children:s.jsx(In.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Zae(o.value)?"":void 0,...i,ref:c,onClick:Lr(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&S(b)}),onPointerDown:Lr(i.onPointerDown,b=>{f.current=b.pointerType;const N=b.target;N.hasPointerCapture(b.pointerId)&&N.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:Lr(i.onKeyDown,b=>{const N=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(N&&b.key===" ")&&hke.includes(b.key)&&(S(),b.preventDefault())})})})});Tae.displayName=Eae;var kae="SelectValue",Pae=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=_1(kae,r),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,h=ka(t,c.onValueNodeChange);return rl(()=>{u(f)},[u,f]),s.jsx(In.span,{...l,ref:h,style:{pointerEvents:"none"},children:Zae(c.value)?s.jsx(s.Fragment,{children:o}):a})});Pae.displayName=kae;var yke="SelectIcon",Oae=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(In.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});Oae.displayName=yke;var bke="SelectPortal",Iae=e=>s.jsx(ky,{asChild:!0,...e});Iae.displayName=bke;var tx="SelectContent",Fae=j.forwardRef((e,t)=>{const r=_1(tx,e.__scopeSelect),[n,i]=j.useState();if(rl(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?px.createPortal(s.jsx(Dae,{scope:e.__scopeSelect,children:s.jsx(sE.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Rae,{...e,ref:t})});Fae.displayName=tx;var th=10,[Dae,N1]=zy(tx),wke="SelectContentImpl",_ke=oke("SelectContent.RemoveScroll"),Rae=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:S,hideWhenDetached:b,avoidCollisions:N,...C}=e,A=_1(tx,r),[T,F]=j.useState(null),[L,B]=j.useState(null),M=ka(t,xe=>F(xe)),[W,z]=j.useState(null),[Z,K]=j.useState(null),q=oE(r),[ie,ae]=j.useState(!1),X=j.useRef(!1);j.useEffect(()=>{if(T)return Lj(T)},[T]),Tj();const se=j.useCallback(xe=>{const[Ne,...Se]=q().map(De=>De.ref.current),[je]=Se.slice(-1),Ge=document.activeElement;for(const De of xe)if(De===Ge||(De==null||De.scrollIntoView({block:"nearest"}),De===Ne&&L&&(L.scrollTop=0),De===je&&L&&(L.scrollTop=L.scrollHeight),De==null||De.focus(),document.activeElement!==Ge))return},[q,L]),he=j.useCallback(()=>se([W,T]),[se,W,T]);j.useEffect(()=>{ie&&he()},[ie,he]);const{onOpenChange:ce,triggerPointerDownPosRef:ge}=A;j.useEffect(()=>{if(T){let xe={x:0,y:0};const Ne=je=>{var Ge,De;xe={x:Math.abs(Math.round(je.pageX)-(((Ge=ge.current)==null?void 0:Ge.x)??0)),y:Math.abs(Math.round(je.pageY)-(((De=ge.current)==null?void 0:De.y)??0))}},Se=je=>{xe.x<=10&&xe.y<=10?je.preventDefault():T.contains(je.target)||ce(!1),document.removeEventListener("pointermove",Ne),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Se,{capture:!0})}}},[T,ce,ge]),j.useEffect(()=>{const xe=()=>ce(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[ce]);const[we,Ce]=Qae(xe=>{const Ne=q().filter(Ge=>!Ge.disabled),Se=Ne.find(Ge=>Ge.ref.current===document.activeElement),je=eie(Ne,xe,Se);je&&setTimeout(()=>je.ref.current.focus())}),Q=j.useCallback((xe,Ne,Se)=>{const je=!X.current&&!Se;(A.value!==void 0&&A.value===Ne||je)&&(z(xe),je&&(X.current=!0))},[A.value]),le=j.useCallback(()=>T==null?void 0:T.focus(),[T]),ne=j.useCallback((xe,Ne,Se)=>{const je=!X.current&&!Se;(A.value!==void 0&&A.value===Ne||je)&&K(xe)},[A.value]),ee=n==="popper"?PO:Mae,pe=ee===PO?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:S,hideWhenDetached:b,avoidCollisions:N}:{};return s.jsx(Dae,{scope:r,content:T,viewport:L,onViewportChange:B,itemRefCallback:Q,selectedItem:W,onItemLeave:le,itemTextRefCallback:ne,focusSelectedItem:he,selectedItemText:Z,position:n,isPositioned:ie,searchRef:we,children:s.jsx($j,{as:_ke,allowPinchZoom:!0,children:s.jsx(V4,{asChild:!0,trapped:A.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Lr(i,xe=>{var Ne;(Ne=A.trigger)==null||Ne.focus({preventScroll:!0}),xe.preventDefault()}),children:s.jsx(xx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:xe=>xe.preventDefault(),...C,...pe,onPlaced:()=>ae(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Lr(C.onKeyDown,xe=>{const Ne=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ne&&xe.key.length===1&&Ce(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let je=q().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const Ge=xe.target,De=je.indexOf(Ge);je=je.slice(De+1)}setTimeout(()=>se(je)),xe.preventDefault()}})})})})})})});Rae.displayName=wke;var Nke="SelectItemAlignedPosition",Mae=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=_1(tx,r),o=N1(tx,r),[l,c]=j.useState(null),[u,f]=j.useState(null),h=ka(t,M=>f(M)),g=oE(r),p=j.useRef(!1),S=j.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:C,focusSelectedItem:A}=o,T=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&b&&N&&C){const M=a.trigger.getBoundingClientRect(),W=u.getBoundingClientRect(),z=a.valueNode.getBoundingClientRect(),Z=C.getBoundingClientRect();if(a.dir!=="rtl"){const Ge=Z.left-W.left,De=z.left-Ge,at=M.left-De,ot=M.width+at,ht=Math.max(ot,W.width),Ue=window.innerWidth-th,Ct=fC(De,[th,Math.max(th,Ue-ht)]);l.style.minWidth=ot+"px",l.style.left=Ct+"px"}else{const Ge=W.right-Z.right,De=window.innerWidth-z.right-Ge,at=window.innerWidth-M.right-De,ot=M.width+at,ht=Math.max(ot,W.width),Ue=window.innerWidth-th,Ct=fC(De,[th,Math.max(th,Ue-ht)]);l.style.minWidth=ot+"px",l.style.right=Ct+"px"}const K=g(),q=window.innerHeight-th*2,ie=b.scrollHeight,ae=window.getComputedStyle(u),X=parseInt(ae.borderTopWidth,10),se=parseInt(ae.paddingTop,10),he=parseInt(ae.borderBottomWidth,10),ce=parseInt(ae.paddingBottom,10),ge=X+se+ie+ce+he,we=Math.min(N.offsetHeight*5,ge),Ce=window.getComputedStyle(b),Q=parseInt(Ce.paddingTop,10),le=parseInt(Ce.paddingBottom,10),ne=M.top+M.height/2-th,ee=q-ne,pe=N.offsetHeight/2,xe=N.offsetTop+pe,Ne=X+se+xe,Se=ge-Ne;if(Ne<=ne){const Ge=K.length>0&&N===K[K.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-b.offsetTop-b.offsetHeight,at=Math.max(ee,pe+(Ge?le:0)+De+he),ot=Ne+at;l.style.height=ot+"px"}else{const Ge=K.length>0&&N===K[0].ref.current;l.style.top="0px";const at=Math.max(ne,X+b.offsetTop+(Ge?Q:0)+pe)+Se;l.style.height=at+"px",b.scrollTop=Ne-ne+b.offsetTop}l.style.margin=`${th}px 0`,l.style.minHeight=we+"px",l.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[g,a.trigger,a.valueNode,l,u,b,N,C,a.dir,n]);rl(()=>T(),[T]);const[F,L]=j.useState();rl(()=>{u&&L(window.getComputedStyle(u).zIndex)},[u]);const B=j.useCallback(M=>{M&&S.current===!0&&(T(),A==null||A(),S.current=!1)},[T,A]);return s.jsx(Cke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:B,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:s.jsx(In.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Mae.displayName=Nke;var Ske="SelectPopperPosition",PO=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=th,...a}=e,o=lE(r);return s.jsx(Rj,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});PO.displayName=Ske;var[Cke,ER]=zy(tx,{}),OO="SelectViewport",Lae=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=N1(OO,r),o=ER(OO,r),l=ka(t,a.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(sE.Slot,{scope:r,children:s.jsx(In.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Lr(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&h){const p=Math.abs(c.current-f.scrollTop);if(p>0){const S=window.innerHeight-th*2,b=parseFloat(h.style.minHeight),N=parseFloat(h.style.height),C=Math.max(b,N);if(C<S){const A=C+p,T=Math.min(S,A),F=A-T;h.style.height=T+"px",h.style.bottom==="0px"&&(f.scrollTop=F>0?F:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Lae.displayName=OO;var Bae="SelectGroup",[Ake,jke]=zy(Bae),Eke=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=sd();return s.jsx(Ake,{scope:r,id:i,children:s.jsx(In.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Eke.displayName=Bae;var $ae="SelectLabel",Uae=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=jke($ae,r);return s.jsx(In.div,{id:i.id,...n,ref:t})});Uae.displayName=$ae;var hC="SelectItem",[Tke,zae]=zy(hC),Vae=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=_1(hC,r),c=N1(hC,r),u=l.value===n,[f,h]=j.useState(a??""),[g,p]=j.useState(!1),S=ka(t,A=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,A,n,i)}),b=sd(),N=j.useRef("touch"),C=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Tke,{scope:r,value:n,disabled:i,textId:b,isSelected:u,onItemTextChange:j.useCallback(A=>{h(T=>T||((A==null?void 0:A.textContent)??"").trim())},[]),children:s.jsx(sE.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:s.jsx(In.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:S,onFocus:Lr(o.onFocus,()=>p(!0)),onBlur:Lr(o.onBlur,()=>p(!1)),onClick:Lr(o.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:Lr(o.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:Lr(o.onPointerDown,A=>{N.current=A.pointerType}),onPointerMove:Lr(o.onPointerMove,A=>{var T;N.current=A.pointerType,i?(T=c.onItemLeave)==null||T.call(c):N.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Lr(o.onPointerLeave,A=>{var T;A.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Lr(o.onKeyDown,A=>{var F;((F=c.searchRef)==null?void 0:F.current)!==""&&A.key===" "||(mke.includes(A.key)&&C(),A.key===" "&&A.preventDefault())})})})})});Vae.displayName=hC;var Nw="SelectItemText",Wae=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=_1(Nw,r),l=N1(Nw,r),c=zae(Nw,r),u=vke(Nw,r),[f,h]=j.useState(null),g=ka(t,C=>h(C),c.onItemTextChange,C=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,C,c.value,c.disabled)}),p=f==null?void 0:f.textContent,S=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=u;return rl(()=>(b(S),()=>N(S)),[b,N,S]),s.jsxs(s.Fragment,{children:[s.jsx(In.span,{id:c.textId,...a,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?px.createPortal(a.children,o.valueNode):null]})});Wae.displayName=Nw;var Hae="SelectItemIndicator",qae=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zae(Hae,r).isSelected?s.jsx(In.span,{"aria-hidden":!0,...n,ref:t}):null});qae.displayName=Hae;var IO="SelectScrollUpButton",Gae=j.forwardRef((e,t)=>{const r=N1(IO,e.__scopeSelect),n=ER(IO,e.__scopeSelect),[i,a]=j.useState(!1),o=ka(t,n.onScrollButtonChange);return rl(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(Yae,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Gae.displayName=IO;var FO="SelectScrollDownButton",Kae=j.forwardRef((e,t)=>{const r=N1(FO,e.__scopeSelect),n=ER(FO,e.__scopeSelect),[i,a]=j.useState(!1),o=ka(t,n.onScrollButtonChange);return rl(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(Yae,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Kae.displayName=FO;var Yae=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=N1("SelectScrollButton",r),o=j.useRef(null),l=oE(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),rl(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(In.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Lr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Lr(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Lr(i.onPointerLeave,()=>{c()})})}),kke="SelectSeparator",Xae=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(In.div,{"aria-hidden":!0,...n,ref:t})});Xae.displayName=kke;var DO="SelectArrow",Pke=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=lE(r),a=_1(DO,r),o=N1(DO,r);return a.open&&o.position==="popper"?s.jsx(Mj,{...i,...n,ref:t}):null});Pke.displayName=DO;var Oke="SelectBubbleInput",Jae=j.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=j.useRef(null),a=ka(n,i),o=iE(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(In.select,{...r,style:{..._Z,...r.style},ref:a,defaultValue:t})});Jae.displayName=Oke;function Zae(e){return e===""||e===void 0}function Qae(e){const t=Ou(e),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function eie(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Ike(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Ike(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Fke=jae,tie=Tae,Dke=Pae,Rke=Oae,Mke=Iae,rie=Fae,Lke=Lae,nie=Uae,aie=Vae,Bke=Wae,$ke=qae,iie=Gae,sie=Kae,oie=Xae;const _i=Fke,Ni=Dke,gi=Ie.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tie,{ref:n,className:Ir("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Rke,{asChild:!0,children:s.jsx(pj,{className:"h-4 w-4 opacity-50"})})]}));gi.displayName=tie.displayName;const lie=Ie.forwardRef(({className:e,...t},r)=>s.jsx(iie,{ref:r,className:Ir("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(GZ,{className:"h-4 w-4"})}));lie.displayName=iie.displayName;const cie=Ie.forwardRef(({className:e,...t},r)=>s.jsx(sie,{ref:r,className:Ir("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pj,{className:"h-4 w-4"})}));cie.displayName=sie.displayName;const xi=Ie.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(Mke,{children:s.jsxs(rie,{ref:i,className:Ir("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(lie,{}),s.jsx(Lke,{className:Ir("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(cie,{})]})}));xi.displayName=rie.displayName;const Uke=Ie.forwardRef(({className:e,...t},r)=>s.jsx(nie,{ref:r,className:Ir("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Uke.displayName=nie.displayName;const on=Ie.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(aie,{ref:n,className:Ir("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($ke,{children:s.jsx(yx,{className:"h-4 w-4"})})}),s.jsx(Bke,{children:t})]}));on.displayName=aie.displayName;const zke=Ie.forwardRef(({className:e,...t},r)=>s.jsx(oie,{ref:r,className:Ir("-mx-1 my-1 h-px bg-muted",e),...t}));zke.displayName=oie.displayName;var cE="Checkbox",[Vke,Jvt]=dc(cE),[Wke,TR]=Vke(cE);function Hke(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:h}=e,[g,p]=cc({prop:r,defaultProp:i??!1,onChange:c,caller:cE}),[S,b]=j.useState(null),[N,C]=j.useState(null),A=j.useRef(!1),T=S?!!o||!!S.closest("form"):!0,F={checked:g,disabled:a,setChecked:p,control:S,setControl:b,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:A,required:u,defaultChecked:qp(i)?!1:i,isFormControl:T,bubbleInput:N,setBubbleInput:C};return s.jsx(Wke,{scope:t,...F,children:qke(h)?h(F):n})}var uie="CheckboxTrigger",die=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:p,bubbleInput:S}=TR(uie,e),b=ka(i,f),N=j.useRef(c);return j.useEffect(()=>{const C=a==null?void 0:a.form;if(C){const A=()=>h(N.current);return C.addEventListener("reset",A),()=>C.removeEventListener("reset",A)}},[a,h]),s.jsx(In.button,{type:"button",role:"checkbox","aria-checked":qp(c)?"mixed":c,"aria-required":u,"data-state":gie(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:b,onKeyDown:Lr(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Lr(r,C=>{h(A=>qp(A)?!0:!A),S&&p&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})})});die.displayName=uie;var kR=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...h}=e;return s.jsx(Hke,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(die,{...h,ref:t,__scopeCheckbox:r}),g&&s.jsx(pie,{__scopeCheckbox:r})]})})});kR.displayName=cE;var fie="CheckboxIndicator",hie=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=TR(fie,r);return s.jsx(Bu,{present:n||qp(a.checked)||a.checked===!0,children:s.jsx(In.span,{"data-state":gie(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});hie.displayName=fie;var mie="CheckboxBubbleInput",pie=j.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:h,bubbleInput:g,setBubbleInput:p}=TR(mie,e),S=ka(r,p),b=iE(a),N=Fj(n);j.useEffect(()=>{const A=g;if(!A)return;const T=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(T,"checked").set,B=!i.current;if(b!==a&&L){const M=new Event("click",{bubbles:B});A.indeterminate=qp(a),L.call(A,qp(a)?!1:a),A.dispatchEvent(M)}},[g,b,a,i]);const C=j.useRef(qp(a)?!1:a);return s.jsx(In.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??C.current,required:l,disabled:c,name:u,value:f,form:h,...t,tabIndex:-1,ref:S,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pie.displayName=mie;function qke(e){return typeof e=="function"}function qp(e){return e==="indeterminate"}function gie(e){return qp(e)?"indeterminate":e?"checked":"unchecked"}const Su=Ie.forwardRef(({className:e,...t},r)=>s.jsx(kR,{ref:r,className:Ir("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(hie,{className:Ir("flex items-center justify-center text-current"),children:s.jsx(yx,{className:"h-4 w-4"})})}));Su.displayName=kR.displayName;const uc=Ie.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ir("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));uc.displayName="Textarea";const Gke=({onBack:e,email:t})=>{const[r,n]=j.useState(""),[i,a]=j.useState(!1),[o,l]=j.useState(!1),{toast:c}=js(),u=async f=>{f.preventDefault(),a(!0);try{await new Promise(h=>setTimeout(h,1500)),l(!0),c({title:"Message envoy",description:"L'administration a t notifie de votre demande."})}catch{c({title:"Erreur",description:"Impossible d'envoyer le message. Veuillez ressayer plus tard.",variant:"destructive"})}finally{a(!1)}};return o?s.jsxs(er.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(JZ,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Demande envoye"}),s.jsxs("p",{className:"text-muted-foreground",children:["Votre demande de ractivation a t transmise  l'administration. Vous serez contact par email (",t,") ds qu'elle sera traite."]}),s.jsx(ze,{onClick:e,variant:"outline",className:"mt-4",children:"Retour  la connexion"})]}):s.jsxs(er.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(N0,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Compte Dsactiv"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre compte a t dsactiv par l'administration. Veuillez remplir ce formulaire pour demander une ractivation."}),s.jsxs("form",{onSubmit:u,className:"space-y-4 text-left mt-4",children:[s.jsxs("div",{children:[s.jsx(kt,{children:"Votre Email"}),s.jsx(rr,{value:t,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"reactivation-msg",children:"Message  l'administration"}),s.jsx(uc,{id:"reactivation-msg",placeholder:"Expliquez pourquoi votre compte devrait tre ractiv...",value:r,onChange:f=>n(f.target.value),required:!0,className:"min-h-[100px]"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{type:"button",variant:"ghost",onClick:e,className:"flex-1",children:"Annuler"}),s.jsx(ze,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white",disabled:i,children:i?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):"Envoyer la demande"})]})]})]})},Kke=()=>{const[e,t]=j.useState(!0),[r,n]=j.useState(""),[i,a]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),[f,h]=j.useState(""),[g,p]=j.useState([]),[S,b]=j.useState(""),[N,C]=j.useState("user"),[A,T]=j.useState(!1),[F,L]=j.useState(!1),[B,M]=j.useState(""),[W,z]=j.useState(!1),[Z,K]=j.useState(!1),[q,ie]=j.useState(!1),[ae,X]=j.useState(!1),[se,he]=j.useState(0),{signIn:ce,signUp:ge,user:we}=bn(),Ce=Sa(),Q=Lu(),{t:le}=za(),{toast:ne}=js();j.useEffect(()=>{let je;return se>0&&(je=setInterval(()=>{he(Ge=>Ge-1)},1e3)),()=>clearInterval(je)},[se]),j.useEffect(()=>{we&&Ce("/profile",{replace:!0})},[we,Ce]),j.useEffect(()=>{const je=new URLSearchParams(Q.search);je.get("register")&&t(!1);const Ge=je.get("ref");Ge&&(b(Ge),t(!1))},[Q.search]),j.useEffect(()=>{c?(p(H2[c]||[]),h("")):(p([]),h(""))},[c]);const ee=async()=>{if(!(!r||se>0)){L(!0);try{const{error:je}=await Ze.auth.resend({type:"signup",email:r,options:{emailRedirectTo:window.location.origin+"/auth"}});if(je)throw je;ne({title:"Email envoy",description:"Un nouveau lien de confirmation a t envoy  "+r,variant:"default",className:"bg-green-600 text-white"}),he(60),X(!1),M(""),K(!0)}catch(je){console.error("Resend error",je);let Ge=je.message||"Impossible de renvoyer l'email.";Ge.includes("rate limit")&&(Ge="Veuillez patienter avant de renvoyer un email."),ne({title:"Erreur",description:Ge,variant:"destructive"})}finally{L(!1)}}},pe=async je=>{if(je.preventDefault(),L(!0),M(""),K(!1),ie(!1),X(!1),e){const{error:Ge}=await ce(r,i);if(Ge){const De=Ge.message||"";De==="ACCOUNT_DEACTIVATED"?ie(!0):De.includes("Email not confirmed")||De.includes("email_not_confirmed")?(M("Votre adresse email n'a pas encore t confirme."),X(!0)):De.includes("Invalid login credentials")?M(le("auth.login.error_invalid_credentials")):M(De||le("auth.login.error_invalid_credentials"))}else Ce("/profile")}else{if(!A){M(le("auth.register.terms_required")),L(!1);return}if(!c||!f){M(le("auth.register.country_city_required")),L(!1);return}const Ge={full_name:o,country:c,city:f,referral_code:S,user_type:N},{data:De,error:at}=await ge(r,i,Ge);at?M(at.message):De.user&&De.user.identities&&De.user.identities.length===0?(M("Un utilisateur avec cet email existe dj mais n'est pas confirm."),X(!0)):K(!0)}L(!1)},xe=()=>{t(!e),M(""),K(!1),ie(!1),X(!1),n(""),a(""),l(""),u(""),h(""),b(""),C("user"),T(!1),he(0)},Ne={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Se={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return s.jsxs(s.Fragment,{children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[le(e?"auth.login.title":"auth.register.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:le(e?"auth.login.meta_description":"auth.register.meta_description")})]}),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-background/70 p-4",children:s.jsx(er.div,{className:"w-full max-w-md mx-auto bg-card p-8 rounded-2xl shadow-2xl glass-effect",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:s.jsx(Du,{mode:"wait",children:q?s.jsx(Gke,{onBack:()=>ie(!1),email:r},"deactivated"):Z?s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[s.jsx(JZ,{className:"w-16 h-16 text-green-500 mx-auto mb-4 animate-in zoom-in duration-300"}),s.jsx("h1",{className:"text-2xl font-bold font-heading text-primary",children:le("auth.register.confirmation_email_title")}),s.jsx(Fl,{className:"bg-blue-50 border-blue-200 text-left",children:s.jsxs(rc,{className:"text-blue-800",children:["Un email de confirmation a t envoy  ",s.jsx("strong",{children:r}),". Veuillez cliquer sur le lien pour activer votre compte."]})}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Vous ne trouvez pas l'email ? Vrifiez vos spams."}),s.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[s.jsxs(ze,{variant:"outline",onClick:ee,disabled:F||se>0,className:"w-full",children:[F?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Fu,{className:"w-4 h-4 mr-2"}),se>0?`Renvoyer dans ${se}s`:"Renvoyer l'email"]}),s.jsx(ze,{variant:"ghost",onClick:()=>{K(!1),t(!0)},children:"Retour  la connexion"})]})]},"confirmation"):s.jsxs(er.div,{initial:{opacity:0,x:e?-30:30},animate:{opacity:1,x:0},exit:{opacity:0,x:e?30:-30},transition:{duration:.3},children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold font-heading text-primary",children:le(e?"auth.login.title":"auth.register.title")}),s.jsx("p",{className:"text-muted-foreground",children:le(e?"auth.login.subtitle":"auth.register.subtitle")})]}),B&&s.jsxs(Fl,{variant:"destructive",className:"mb-4 animate-in shake",children:[s.jsx(Ll,{className:"h-4 w-4"}),s.jsx(jd,{children:le("common.error_title")}),s.jsxs(rc,{className:"flex flex-col gap-2",children:[s.jsx("span",{children:B}),ae&&s.jsxs(ze,{variant:"secondary",size:"sm",onClick:ee,disabled:F||se>0,className:"mt-2 w-full",children:[F?s.jsx(Zt,{className:"w-3 h-3 animate-spin mr-2"}):s.jsx(Fu,{className:"w-3 h-3 mr-2"}),se>0?`Attendre ${se}s`:"Renvoyer confirmation"]})]})]}),s.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[s.jsxs(er.div,{variants:Ne,initial:"hidden",animate:"visible",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"fullName",children:le("auth.full_name")}),s.jsx(rr,{id:"fullName",type:"text",value:o,onChange:je=>l(je.target.value),required:!0})]}),s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"country",children:le("auth.country")}),s.jsxs(_i,{onValueChange:u,value:c,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:le("auth.select_country_placeholder")})}),s.jsx(xi,{children:l5.map(je=>s.jsx(on,{value:je.name,children:je.name},je.code))})]})]}),s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"city",children:le("auth.city")}),s.jsxs(_i,{onValueChange:h,value:f,disabled:!c,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:le("auth.select_city_placeholder")})}),s.jsx(xi,{children:g.map(je=>s.jsx(on,{value:je,children:je},je))})]})]}),s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"role",children:le("auth.choose_role")}),s.jsxs(_i,{onValueChange:C,value:N,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:le("auth.choose_role_placeholder")})}),s.jsxs(xi,{children:[s.jsx(on,{value:"user",children:le("auth.role_user")}),s.jsx(on,{value:"organizer",children:le("auth.role_organizer")})]})]})]})]}),s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"email",children:le("auth.email")}),s.jsx(rr,{id:"email",type:"email",value:r,onChange:je=>n(je.target.value),required:!0})]}),s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"password",children:le("auth.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"password",type:W?"text":"password",value:i,onChange:je=>a(je.target.value),required:!0}),s.jsx("button",{type:"button",onClick:()=>z(!W),className:"absolute inset-y-0 right-0 px-3 flex items-center text-muted-foreground",children:W?s.jsx(YZ,{className:"h-5 w-5"}):s.jsx(Dm,{className:"h-5 w-5"})})]})]}),!e&&s.jsxs(s.Fragment,{children:[s.jsxs(er.div,{variants:Se,className:"space-y-2",children:[s.jsx(kt,{htmlFor:"referralCode",children:le("auth.referral_code_optional")}),s.jsx(rr,{id:"referralCode",type:"text",value:S,onChange:je=>b(je.target.value)})]}),s.jsxs(er.div,{variants:Se,className:"flex items-center space-x-2 pt-2",children:[s.jsx(Su,{id:"terms",checked:A,onCheckedChange:T}),s.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:s.jsxs(y7,{i18nKey:"auth.register.terms_agreement",children:["J'accepte les ",s.jsx(Bo,{to:"/terms",className:"underline text-primary",children:"Conditions Gnrales d'Utilisation"})]})})]})]})]}),s.jsx(ze,{type:"submit",className:"w-full gradient-green",disabled:F,children:F?s.jsx(Zt,{className:"animate-spin"}):le(e?"auth.login.button":"auth.register.button")})]}),s.jsxs("p",{className:"mt-6 text-center text-sm",children:[le(e?"auth.login.switch_text":"auth.register.switch_text"),s.jsx(ze,{variant:"link",onClick:xe,className:"font-semibold",children:le(e?"auth.register.switch_button":"auth.login.switch_button")})]})]},e?"login":"signup")})})})]})};function Ec({className:e,...t}){return s.jsx("div",{className:Ir("animate-pulse rounded-md bg-muted",e),...t})}const Yke=({className:e})=>{const{t}=za(),r="https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH";return s.jsx(er.a,{href:r,target:"_blank",rel:"noopener noreferrer",className:`block w-full ${e}`,whileHover:{scale:1.02,boxShadow:"0 8px 20px -4px rgba(37, 211, 102, 0.6)"},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:s.jsxs(ze,{className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-white font-semibold",style:{backgroundColor:"#25D366",boxShadow:"0 4px 12px -2px rgba(37, 211, 102, 0.4)"},onMouseEnter:n=>n.currentTarget.style.filter="brightness(1.1)",onMouseLeave:n=>n.currentTarget.style.filter="brightness(1)",children:[s.jsx(er.span,{initial:{rotate:0},whileHover:{rotate:[0,10,-10,10,-10,0]},transition:{duration:.8,ease:"easeInOut",repeat:0},children:s.jsx(WS,{className:"w-5 h-5"})}),s.jsx("span",{children:t("Rejoignez le groupe WhatsApp de votre pays")})]})})},Xke=()=>{var c;const e=Sa(),{signOut:t}=bn(),{userProfile:r,loadingProfile:n}=Ja(),i=async()=>{await t(),e("/")},a=u=>{if(!u)return"U";const f=u.split(" ");return f.length>1?`${f[0][0]}${f[f.length-1][0]}`.toUpperCase():u.substring(0,2).toUpperCase()};if(n&&!r)return s.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-background to-background/80 rounded-b-3xl shadow-lg mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ec,{className:"w-20 h-20 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ec,{className:"h-8 w-48"}),s.jsx(Ec,{className:"h-4 w-32"}),s.jsx(Ec,{className:"h-4 w-24"})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ec,{className:"h-9 w-28"}),s.jsx(Ec,{className:"h-9 w-28"})]}),s.jsx(Ec,{className:"h-9 w-32"})]}),s.jsx("div",{className:"mt-6",children:s.jsx(Ec,{className:"h-12 w-full"})})]});const o=(r==null?void 0:r.user_type)==="admin"||(r==null?void 0:r.user_type)==="super_admin",l=(r==null?void 0:r.user_type)==="secretary";return s.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-background to-background/80 rounded-b-3xl shadow-lg mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(t1,{className:"w-20 h-20 border-4 border-primary",children:[s.jsx(r1,{src:r==null?void 0:r.avatar_url,alt:r==null?void 0:r.full_name}),s.jsx(n1,{className:"text-2xl bg-secondary text-secondary-foreground",children:a(r==null?void 0:r.full_name)})]}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsx("h1",{className:"text-2xl font-bold text-white truncate",children:(r==null?void 0:r.full_name)||"Utilisateur"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:r==null?void 0:r.email}),s.jsx("p",{className:"text-xs text-primary capitalize mt-1",children:(c=r==null?void 0:r.user_type)==null?void 0:c.replace("_"," ")})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:[s.jsx(Oy,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),o&&s.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>e("/admin"),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),l&&s.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>e("/secretary"),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"}),"Administration"]})]}),s.jsxs(ze,{variant:"destructive",size:"sm",onClick:i,className:"flex-shrink-0",children:[s.jsx(Gg,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(Yke,{})})]})},Jke=({userProfile:e,eventCount:t})=>{if(!e)return null;const r=[{icon:Ua,label:"Pices Achetes",value:e.coin_balance||0,color:"text-blue-400"},{icon:id,label:"Pices Bonus",value:e.free_coin_balance||0,color:"text-green-400"},{icon:wh,label:"Gains",value:e.available_earnings||0,color:"text-yellow-400"},{icon:jo,label:"vnements",value:t,color:"text-purple-400"}];return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:r.map((n,i)=>s.jsx(Yt,{className:"glass-effect border-border",children:s.jsx(Qt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(n.icon,{className:`w-8 h-8 ${n.color} mr-3`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.label})]})]})})},i))})};var uE="Tabs",[Zke,Zvt]=dc(uE,[Ly]),xie=Ly(),[Qke,PR]=Zke(uE),vie=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=bx(l),[h,g]=cc({prop:n,onChange:i,defaultProp:a??"",caller:uE});return s.jsx(Qke,{scope:r,baseId:sd(),value:h,onValueChange:g,orientation:o,dir:f,activationMode:c,children:s.jsx(In.div,{dir:f,"data-orientation":o,...u,ref:t})})});vie.displayName=uE;var yie="TabsList",bie=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=PR(yie,r),o=xie(r);return s.jsx(k7,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(In.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});bie.displayName=yie;var wie="TabsTrigger",_ie=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=PR(wie,r),l=xie(r),c=Cie(o.baseId,n),u=Aie(o.baseId,n),f=n===o.value;return s.jsx(P7,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(In.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Lr(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Lr(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Lr(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(n)})})})});_ie.displayName=wie;var Nie="TabsContent",Sie=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,l=PR(Nie,r),c=Cie(l.baseId,n),u=Aie(l.baseId,n),f=n===l.value,h=j.useRef(f);return j.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Bu,{present:i||f,children:({present:g})=>s.jsx(In.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&a})})});Sie.displayName=Nie;function Cie(e,t){return`${e}-trigger-${t}`}function Aie(e,t){return`${e}-content-${t}`}var ePe=vie,jie=bie,Eie=_ie,Tie=Sie;const O0=ePe,Th=Ie.forwardRef(({className:e,...t},r)=>s.jsx(jie,{ref:r,className:Ir("inline-flex flex-wrap h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Th.displayName=jie.displayName;const Hn=Ie.forwardRef(({className:e,...t},r)=>s.jsx(Eie,{ref:r,className:Ir("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","flex-grow sm:flex-grow-0 m-[2px]",e),...t}));Hn.displayName=Eie.displayName;const qn=Ie.forwardRef(({className:e,...t},r)=>s.jsx(Tie,{ref:r,className:Ir("mt-6 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qn.displayName=Tie.displayName;const tPe=({userProfile:e,userEvents:t,loadingEvents:r,onRefresh:n})=>{var g;const i=Sa(),[a,o]=j.useState({isOpen:!1,event:null}),[l,c]=j.useState(!1),u=e&&(e.user_type==="organizer"||e.user_type==="admin"||e.user_type==="super_admin"||e.user_type==="user"),f=p=>{o({isOpen:!0,event:p})},h=async()=>{if(!a.event)return;c(!0);const p=a.event;try{if(p.cover_image){const b=zD(p.cover_image);if(b){const{error:N}=await Ze.storage.from(b.bucket).remove([b.path]);N&&console.warn("Could not delete image from storage:",N)}}const{error:S}=await Ze.rpc("delete_event_completely",{p_event_id:p.id});if(S)throw S;lt({title:"vnement supprim",description:"L'vnement a t supprim avec succs."}),o({isOpen:!1,event:null}),n&&n()}catch(S){console.error("Delete error:",S),lt({title:"Erreur",description:"Impossible de supprimer l'vnement. "+S.message,variant:"destructive"})}finally{c(!1)}};return r?s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{children:[u&&s.jsx("div",{className:"mb-6 text-right",children:s.jsxs(ze,{onClick:()=>i("/create-event"),className:"gradient-gold text-background hover:opacity-90",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"})," Crer un nouvel vnement"]})}),t&&t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>s.jsx(aE,{event:p,onClick:()=>i(`/event/${p.id}`),isUnlocked:!0,onDelete:f},p.id))}):s.jsx(Yt,{className:"glass-effect border-primary/20",children:s.jsxs(Qt,{className:"p-8 text-center",children:[s.jsx(jo,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucun vnement cr"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:u?"Crez votre premier vnement pour le voir apparatre ici.":"Vous n'avez pas encore cr d'vnement."}),u&&s.jsxs(ze,{onClick:()=>i("/create-event"),className:"gradient-gold text-background hover:opacity-90",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"})," Crer un vnement"]})]})}),s.jsx(nl,{open:a.isOpen,onOpenChange:p=>!p&&o({isOpen:!1,event:null}),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Supprimer l'vnement ?"}),s.jsxs(Ko,{children:['tes-vous sr de vouloir supprimer "',(g=a.event)==null?void 0:g.title,'" ?',s.jsx("br",{}),s.jsx("br",{}),"Cette action est irrversible et effacera toutes les donnes associes (billets, votes, statistiques)."]})]}),s.jsxs(al,{children:[s.jsx(sl,{disabled:l,children:"Annuler"}),s.jsxs(il,{onClick:p=>{p.preventDefault(),h()},disabled:l,className:"bg-destructive hover:bg-destructive/90",children:[l?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Supprimer dfinitivement"]})]})]})})]})},rPe=({userTransactions:e})=>{const t=r=>{let n,i,a,o;if(r.transaction_type)switch(r.transaction_type){case"earning":i=qg,a="text-green-400",n=r.description||"Gain de pices",o=r.amount_pi;break;case"manual_credit":i=Fm,a="text-blue-400",n=r.description||"Crdit manuel",o=r.amount_pi;break;case"credit_reversal":i=Yg,a="text-red-400",n=r.description||"Annulation de crdit",o=r.amount_pi;break;default:i=Ua,a="text-gray-400",n=r.description||"Transaction",o=r.amount_pi}else r.purpose?(i=Yg,a="text-red-400",n=`Dpense: ${r.purpose}`,o=-r.amount):(i=Lv,a="text-blue-400",n=`Achat de ${r.total_coins} pices`,o=r.total_coins);return{icon:i,color:a,text:n,amount:o}};return s.jsxs(Yt,{className:"glass-effect",children:[s.jsx(Wr,{children:s.jsx(qr,{children:"Historique des transactions"})}),s.jsx(Qt,{children:e&&e.length>0?s.jsx("div",{className:"space-y-4",children:e.slice(0,25).map(r=>{const{icon:n,color:i,text:a,amount:o}=t(r),l=o>0;let c="bg-red-500";return i==="text-green-400"&&(c="bg-green-500"),i==="text-blue-400"&&(c="bg-blue-500"),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 bg-opacity-20 ${c}`,children:s.jsx(n,{className:`w-5 h-5 ${i}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(r.created_at).toLocaleString("fr-FR")})]})]}),s.jsxs("div",{className:`font-bold ${i}`,children:[l?"+":"",o," pices"]})]},r.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ua,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune transaction pour le moment"})]})})]})};var nPe=Object.defineProperty,mC=Object.getOwnPropertySymbols,kie=Object.prototype.hasOwnProperty,Pie=Object.prototype.propertyIsEnumerable,xV=(e,t,r)=>t in e?nPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B_=(e,t)=>{for(var r in t||(t={}))kie.call(t,r)&&xV(e,r,t[r]);if(mC)for(var r of mC(t))Pie.call(t,r)&&xV(e,r,t[r]);return e},OR=(e,t)=>{var r={};for(var n in e)kie.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&mC)for(var n of mC(e))t.indexOf(n)<0&&Pie.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var rx;(e=>{const t=class{constructor(c,u,f,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let g=[];for(let S=0;S<this.size;S++)g.push(!1);for(let S=0;S<this.size;S++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(f);if(this.drawCodewords(p),h==-1){let S=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const N=this.getPenaltyScore();N<S&&(h=b,S=N),this.applyMask(b)}}a(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const f=e.QrSegment.makeSegments(c);return t.encodeSegments(f,u)}static encodeBinary(c,u){const f=e.QrSegment.makeBytes(c);return t.encodeSegments([f],u)}static encodeSegments(c,u,f=1,h=40,g=-1,p=!0){if(!(t.MIN_VERSION<=f&&f<=h&&h<=t.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let S,b;for(S=f;;S++){const T=t.getNumDataCodewords(S,u)*8,F=l.getTotalBits(c,S);if(F<=T){b=F;break}if(S>=h)throw new RangeError("Data too long")}for(const T of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&b<=t.getNumDataCodewords(S,T)*8&&(u=T);let N=[];for(const T of c){n(T.mode.modeBits,4,N),n(T.numChars,T.mode.numCharCountBits(S),N);for(const F of T.getData())N.push(F)}a(N.length==b);const C=t.getNumDataCodewords(S,u)*8;a(N.length<=C),n(0,Math.min(4,C-N.length),N),n(0,(8-N.length%8)%8,N),a(N.length%8==0);for(let T=236;N.length<C;T^=253)n(T,8,N);let A=[];for(;A.length*8<N.length;)A.push(0);return N.forEach((T,F)=>A[F>>>3]|=T<<7-(F&7)),new t(S,u,A,g)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let f=0;f<u;f++)for(let h=0;h<u;h++)f==0&&h==0||f==0&&h==u-1||f==u-1&&h==0||this.drawAlignmentPattern(c[f],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let f=u;for(let g=0;g<10;g++)f=f<<1^(f>>>9)*1335;const h=(u<<10|f)^21522;a(h>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,i(h,g));this.setFunctionModule(8,7,i(h,6)),this.setFunctionModule(8,8,i(h,7)),this.setFunctionModule(7,8,i(h,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,i(h,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,i(h,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,i(h,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let f=0;f<18;f++){const h=i(u,f),g=this.size-11+f%3,p=Math.floor(f/3);this.setFunctionModule(g,p,h),this.setFunctionModule(p,g,h)}}drawFinderPattern(c,u){for(let f=-4;f<=4;f++)for(let h=-4;h<=4;h++){const g=Math.max(Math.abs(h),Math.abs(f)),p=c+h,S=u+f;0<=p&&p<this.size&&0<=S&&S<this.size&&this.setFunctionModule(p,S,g!=2&&g!=4)}}drawAlignmentPattern(c,u){for(let f=-2;f<=2;f++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+f,Math.max(Math.abs(h),Math.abs(f))!=1)}setFunctionModule(c,u,f){this.modules[u][c]=f,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,f=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(u,f))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u],g=t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u],p=Math.floor(t.getNumRawDataModules(u)/8),S=h-p%h,b=Math.floor(p/h);let N=[];const C=t.reedSolomonComputeDivisor(g);for(let T=0,F=0;T<h;T++){let L=c.slice(F,F+b-g+(T<S?0:1));F+=L.length;const B=t.reedSolomonComputeRemainder(L,C);T<S&&L.push(0),N.push(L.concat(B))}let A=[];for(let T=0;T<N[0].length;T++)N.forEach((F,L)=>{(T!=b-g||L>=S)&&A.push(F[T])});return a(A.length==p),A}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let h=0;h<this.size;h++)for(let g=0;g<2;g++){const p=f-g,b=(f+1&2)==0?this.size-1-h:h;!this.isFunction[b][p]&&u<c.length*8&&(this.modules[b][p]=i(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let f=0;f<this.size;f++){let h;switch(c){case 0:h=(f+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=f%3==0;break;case 3:h=(f+u)%3==0;break;case 4:h=(Math.floor(f/3)+Math.floor(u/2))%2==0;break;case 5:h=f*u%2+f*u%3==0;break;case 6:h=(f*u%2+f*u%3)%2==0;break;case 7:h=((f+u)%2+f*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][f]&&h&&(this.modules[u][f]=!this.modules[u][f])}}getPenaltyScore(){let c=0;for(let g=0;g<this.size;g++){let p=!1,S=0,b=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[g][N]==p?(S++,S==5?c+=t.PENALTY_N1:S>5&&c++):(this.finderPenaltyAddHistory(S,b),p||(c+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),p=this.modules[g][N],S=1);c+=this.finderPenaltyTerminateAndCount(p,S,b)*t.PENALTY_N3}for(let g=0;g<this.size;g++){let p=!1,S=0,b=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][g]==p?(S++,S==5?c+=t.PENALTY_N1:S>5&&c++):(this.finderPenaltyAddHistory(S,b),p||(c+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),p=this.modules[N][g],S=1);c+=this.finderPenaltyTerminateAndCount(p,S,b)*t.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let p=0;p<this.size-1;p++){const S=this.modules[g][p];S==this.modules[g][p+1]&&S==this.modules[g+1][p]&&S==this.modules[g+1][p+1]&&(c+=t.PENALTY_N2)}let u=0;for(const g of this.modules)u=g.reduce((p,S)=>p+(S?1:0),u);const f=this.size*this.size,h=Math.ceil(Math.abs(u*20-f*10)/f)-1;return a(0<=h&&h<=9),c+=h*t.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let h=this.size-7;f.length<c;h-=u)f.splice(1,0,h);return f}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;u-=(25*f-10)*f-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let f=1;for(let h=0;h<c;h++){for(let g=0;g<u.length;g++)u[g]=t.reedSolomonMultiply(u[g],f),g+1<u.length&&(u[g]^=u[g+1]);f=t.reedSolomonMultiply(f,2)}return u}static reedSolomonComputeRemainder(c,u){let f=u.map(h=>0);for(const h of c){const g=h^f.shift();f.push(0),u.forEach((p,S)=>f[S]^=t.reedSolomonMultiply(p,g))}return f}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let f=0;for(let h=7;h>=0;h--)f=f<<1^(f>>>7)*285,f^=(u>>>h&1)*c;return a(f>>>8==0),f}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const f=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(f&&c[0]>=u*4&&c[6]>=u?1:0)+(f&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,f){return c&&(this.finderPenaltyAddHistory(u,f),u=0),u+=this.size,this.finderPenaltyAddHistory(u,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(c,u,f){if(u<0||u>31||c>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)f.push(c>>>h&1)}function i(c,u){return(c>>>u&1)!=0}function a(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,u,f){if(this.mode=c,this.numChars=u,this.bitData=f,u<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let u=[];for(const f of c)n(f,8,u);return new o(o.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let f=0;f<c.length;){const h=Math.min(c.length-f,3);n(parseInt(c.substr(f,h),10),h*3+1,u),f+=h}return new o(o.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],f;for(f=0;f+2<=c.length;f+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(h,11,u)}return f<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,u),new o(o.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let f=0;for(const h of c){const g=h.mode.numCharCountBits(u);if(h.numChars>=1<<g)return 1/0;f+=4+g+h.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?u.push(c.charCodeAt(f)):(u.push(parseInt(c.substr(f+1,2),16)),f+=2);return u}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(rx||(rx={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(rx||(rx={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(rx||(rx={}));var Hv=rx;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Oie={L:Hv.QrCode.Ecc.LOW,M:Hv.QrCode.Ecc.MEDIUM,Q:Hv.QrCode.Ecc.QUARTILE,H:Hv.QrCode.Ecc.HIGH},Iie=128,Fie="L",Die="#FFFFFF",Rie="#000000",Mie=!1,IR=4,aPe=.1;function Lie(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(o,l){if(!o&&a!==null){r.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===n.length-1){if(!o)return;a===null?r.push(`M${l+t},${i+t} h1v1H${l+t}z`):r.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),r.join("")}function Bie(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function $ie(e,t,r,n){if(n==null)return null;const i=r?IR:0,a=e.length+i*2,o=Math.floor(t*aPe),l=a/t,c=(n.width||o)*l,u=(n.height||o)*l,f=n.x==null?e.length/2-c/2:n.x*l,h=n.y==null?e.length/2-u/2:n.y*l;let g=null;if(n.excavate){let p=Math.floor(f),S=Math.floor(h),b=Math.ceil(c+f-p),N=Math.ceil(u+h-S);g={x:p,y:S,w:b,h:N}}return{x:f,y:h,h:u,w:c,excavation:g}}var iPe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Uie(e){const t=e,{value:r,size:n=Iie,level:i=Fie,bgColor:a=Die,fgColor:o=Rie,includeMargin:l=Mie,style:c,imageSettings:u}=t,f=OR(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=u==null?void 0:u.src,g=Ie.useRef(null),p=Ie.useRef(null),[S,b]=Ie.useState(!1);Ie.useEffect(()=>{if(g.current!=null){const A=g.current,T=A.getContext("2d");if(!T)return;let F=Hv.QrCode.encodeText(r,Oie[i]).getModules();const L=l?IR:0,B=F.length+L*2,M=$ie(F,n,l,u),W=p.current,z=M!=null&&W!==null&&W.complete&&W.naturalHeight!==0&&W.naturalWidth!==0;z&&M.excavation!=null&&(F=Bie(F,M.excavation));const Z=window.devicePixelRatio||1;A.height=A.width=n*Z;const K=n/B*Z;T.scale(K,K),T.fillStyle=a,T.fillRect(0,0,B,B),T.fillStyle=o,iPe?T.fill(new Path2D(Lie(F,L))):F.forEach(function(q,ie){q.forEach(function(ae,X){ae&&T.fillRect(X+L,ie+L,1,1)})}),z&&T.drawImage(W,M.x+L,M.y+L,M.w,M.h)}}),Ie.useEffect(()=>{b(!1)},[h]);const N=B_({height:n,width:n},c);let C=null;return h!=null&&(C=Ie.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{b(!0)},ref:p})),Ie.createElement(Ie.Fragment,null,Ie.createElement("canvas",B_({style:N,height:n,width:n,ref:g},f)),C)}function sPe(e){const t=e,{value:r,size:n=Iie,level:i=Fie,bgColor:a=Die,fgColor:o=Rie,includeMargin:l=Mie,imageSettings:c}=t,u=OR(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let f=Hv.QrCode.encodeText(r,Oie[i]).getModules();const h=l?IR:0,g=f.length+h*2,p=$ie(f,n,l,c);let S=null;c!=null&&p!=null&&(p.excavation!=null&&(f=Bie(f,p.excavation)),S=Ie.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const b=Lie(f,h);return Ie.createElement("svg",B_({height:n,width:n,viewBox:`0 0 ${g} ${g}`},u),Ie.createElement("path",{fill:a,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),Ie.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),S)}var zie=e=>{const t=e,{renderAs:r}=t,n=OR(t,["renderAs"]);return r==="svg"?Ie.createElement(sPe,B_({},n)):Ie.createElement(Uie,B_({},n))};const oPe=()=>{const{userProfile:e,loadingProfile:t,forceRefreshUserProfile:r}=Ja(),[n,i]=j.useState(!1),a=(e==null?void 0:e.affiliate_code)||"",o=a?`${window.location.origin}/auth?ref=${a}`:"",l=` Rejoins-moi sur BonPlanInfos ! Utilise mon code ${a} pour obtenir des bonus. ${o}`,c=(e==null?void 0:e.referral_count)||0,u=c*20;j.useEffect(()=>{(async()=>{if(!t&&e&&!a&&!n){console.log("Referral code missing for user:",e.id,"- Attempting to generate..."),i(!0);try{const{data:S,error:b}=await Ze.rpc("generate_missing_referral_code",{p_user_id:e.id});if(b)throw b;console.log("Referral code generated successfully:",S),r(),lt({title:"Code gnr",description:"Votre code de parrainage a t cr."})}catch(S){console.error("Failed to generate referral code:",S)}finally{i(!1)}}})()},[e,t,a,n,r]);const f=(p,S)=>{p&&(navigator.clipboard.writeText(p),lt({title:"Copi !",description:S}))},h=async()=>{if(a)try{navigator.share?await navigator.share({title:"Rejoignez BonPlanInfos",text:l,url:o}):window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(l)}`,"_blank")}catch(p){console.error("Share error:",p)}},g=t||n;return g&&!e?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"h-8 w-8 animate-spin"})}):s.jsxs(Yt,{className:"glass-effect",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Programme de parrainage"}),s.jsx(Oa,{children:"Invitez vos amis et gagnez des pices bonus ensemble !"})]}),s.jsxs(Qt,{className:"space-y-6",children:[!a&&!g?s.jsxs(Fl,{variant:"destructive",children:[s.jsx(Iu,{className:"h-4 w-4"}),s.jsx(jd,{children:"Code manquant"}),s.jsx(rc,{children:"Impossible de charger votre code. Veuillez actualiser la page."}),s.jsx(ze,{size:"sm",variant:"outline",onClick:()=>window.location.reload(),className:"mt-2",children:"Actualiser"})]}):s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Votre code de parrainage"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx(rr,{value:a||"Gnration en cours...",readOnly:!0,className:"bg-background font-mono pr-10 font-bold text-lg tracking-wide text-center md:text-left"}),g&&!a&&s.jsx(Zt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),s.jsx(ze,{onClick:()=>f(a,"Code copi !"),variant:"outline",size:"icon",disabled:!a,children:s.jsx(F2,{className:"w-4 h-4"})}),s.jsx(ze,{onClick:h,variant:"outline",size:"icon",disabled:!a,children:s.jsx(Qp,{className:"w-4 h-4"})}),s.jsxs(No,{children:[s.jsx(o5,{asChild:!0,children:s.jsx(ze,{variant:"outline",size:"icon",disabled:!a,children:s.jsx(a7,{className:"w-4 h-4"})})}),s.jsxs(fo,{className:"sm:max-w-md flex flex-col items-center bg-white text-black",children:[s.jsx(So,{children:s.jsx(Co,{className:"text-center text-black",children:"Scan pour parrainer"})}),s.jsx("div",{className:"p-4 bg-white rounded-xl shadow-inner border",children:o&&s.jsx(Uie,{value:o,size:200,includeMargin:!0})}),s.jsx("p",{className:"text-sm text-center text-gray-500 mt-2",children:"Partagez ce code avec vos amis"})]})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-background rounded border text-sm text-muted-foreground break-all",children:[s.jsx("span",{className:"font-semibold block mb-1",children:"Lien direct :"}),o||"...",s.jsx(ze,{variant:"link",size:"sm",className:"h-auto p-0 ml-2 text-primary",onClick:()=>f(o,"Lien copi !"),children:"Copier"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border-l-4 border-green-500",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Filleuls inscrits"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:c})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Ua,{className:"w-5 h-5 text-yellow-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Pices gagnes"})]}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[u," ",s.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:""})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-100 dark:border-blue-900 text-sm",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-700 dark:text-blue-400",children:[s.jsx(Md,{className:"w-4 h-4 mr-2"})," Fonctionnement"]}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-blue-900 dark:text-blue-300",children:[s.jsx("li",{children:"Partagez votre code avec vos amis."}),s.jsxs("li",{children:["Ils gagnent ",s.jsx("strong",{children:"10 "})," bonus  l'inscription."]}),s.jsxs("li",{children:["Vous gagnez ",s.jsx("strong",{children:"20 "})," pour chaque ami valid."]})]})]})]})]})};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var Yc=Uint8Array,Od=Uint16Array,FR=Int32Array,dE=new Yc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fE=new Yc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RO=new Yc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vie=function(e,t){for(var r=new Od(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new FR(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Wie=Vie(dE,2),Hie=Wie.b,MO=Wie.r;Hie[28]=258,MO[258]=28;var qie=Vie(fE,0),lPe=qie.b,vV=qie.r,LO=new Od(32768);for(var Qs=0;Qs<32768;++Qs){var cp=(Qs&43690)>>1|(Qs&21845)<<1;cp=(cp&52428)>>2|(cp&13107)<<2,cp=(cp&61680)>>4|(cp&3855)<<4,LO[Qs]=((cp&65280)>>8|(cp&255)<<8)>>1}var y0=function(e,t,r){for(var n=e.length,i=0,a=new Od(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Od(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Od(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],h=o[e[i]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)l[LO[h]>>c]=u}else for(l=new Od(n),i=0;i<n;++i)e[i]&&(l[i]=LO[o[e[i]-1]++]>>15-e[i]);return l},c1=new Yc(288);for(var Qs=0;Qs<144;++Qs)c1[Qs]=8;for(var Qs=144;Qs<256;++Qs)c1[Qs]=9;for(var Qs=256;Qs<280;++Qs)c1[Qs]=7;for(var Qs=280;Qs<288;++Qs)c1[Qs]=8;var $_=new Yc(32);for(var Qs=0;Qs<32;++Qs)$_[Qs]=5;var cPe=y0(c1,9,0),uPe=y0(c1,9,1),dPe=y0($_,5,0),fPe=y0($_,5,1),P8=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Yf=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},O8=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},DR=function(e){return(e+7)/8|0},Gie=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new Yc(e.subarray(t,r))},hPe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ah=function(e,t,r){var n=new Error(t||hPe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ah),!r)throw n;return n},mPe=function(e,t,r,n){var i=e.length,a=n?n.length:0;if(!i||t.f&&!t.l)return r||new Yc(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Yc(i*3));var u=function(Ge){var De=r.length;if(Ge>De){var at=new Yc(Math.max(De*2,Ge));at.set(r),r=at}},f=t.f||0,h=t.p||0,g=t.b||0,p=t.l,S=t.d,b=t.m,N=t.n,C=i*8;do{if(!p){f=Yf(e,h,1);var A=Yf(e,h+1,3);if(h+=3,A)if(A==1)p=uPe,S=fPe,b=9,N=5;else if(A==2){var B=Yf(e,h,31)+257,M=Yf(e,h+10,15)+4,W=B+Yf(e,h+5,31)+1;h+=14;for(var z=new Yc(W),Z=new Yc(19),K=0;K<M;++K)Z[RO[K]]=Yf(e,h+K*3,7);h+=M*3;for(var q=P8(Z),ie=(1<<q)-1,ae=y0(Z,q,1),K=0;K<W;){var X=ae[Yf(e,h,ie)];h+=X&15;var T=X>>4;if(T<16)z[K++]=T;else{var se=0,he=0;for(T==16?(he=3+Yf(e,h,3),h+=2,se=z[K-1]):T==17?(he=3+Yf(e,h,7),h+=3):T==18&&(he=11+Yf(e,h,127),h+=7);he--;)z[K++]=se}}var ce=z.subarray(0,B),ge=z.subarray(B);b=P8(ce),N=P8(ge),p=y0(ce,b,1),S=y0(ge,N,1)}else ah(1);else{var T=DR(h)+4,F=e[T-4]|e[T-3]<<8,L=T+F;if(L>i){c&&ah(0);break}l&&u(g+F),r.set(e.subarray(T,L),g),t.b=g+=F,t.p=h=L*8,t.f=f;continue}if(h>C){c&&ah(0);break}}l&&u(g+131072);for(var we=(1<<b)-1,Ce=(1<<N)-1,Q=h;;Q=h){var se=p[O8(e,h)&we],le=se>>4;if(h+=se&15,h>C){c&&ah(0);break}if(se||ah(2),le<256)r[g++]=le;else if(le==256){Q=h,p=null;break}else{var ne=le-254;if(le>264){var K=le-257,ee=dE[K];ne=Yf(e,h,(1<<ee)-1)+Hie[K],h+=ee}var pe=S[O8(e,h)&Ce],xe=pe>>4;pe||ah(3),h+=pe&15;var ge=lPe[xe];if(xe>3){var ee=fE[xe];ge+=O8(e,h)&(1<<ee)-1,h+=ee}if(h>C){c&&ah(0);break}l&&u(g+131072);var Ne=g+ne;if(g<ge){var Se=a-ge,je=Math.min(ge,Ne);for(Se+g<0&&ah(3);g<je;++g)r[g]=n[Se+g]}for(;g<Ne;++g)r[g]=r[g-ge]}}t.l=p,t.p=Q,t.b=g,t.f=f,p&&(f=1,t.m=b,t.d=S,t.n=N)}while(!f);return g!=r.length&&o?Gie(r,0,g):r.subarray(0,g)},K0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Qb=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},I8=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:Yie,l:0};if(i==1){var o=new Yc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(L,B){return L.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=f&&r[u].f<r[h].f?u++:h++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,n=1;n<i;++n)a[n].s>g&&(g=a[n].s);var p=new Od(g+1),S=BO(r[f-1],p,0);if(S>t){var n=0,b=0,N=S-t,C=1<<N;for(a.sort(function(B,M){return p[M.s]-p[B.s]||B.f-M.f});n<i;++n){var A=a[n].s;if(p[A]>t)b+=C-(1<<S-p[A]),p[A]=t;else break}for(b>>=N;b>0;){var T=a[n].s;p[T]<t?b-=1<<t-p[T]++-1:++n}for(;n>=0&&b;--n){var F=a[n].s;p[F]==t&&(--p[F],++b)}S=t}return{t:new Yc(p),l:S}},BO=function(e,t,r){return e.s==-1?Math.max(BO(e.l,t,r+1),BO(e.r,t,r+1)):t[e.s]=r},yV=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Od(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},ew=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Kie=function(e,t,r){var n=r.length,i=DR(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},bV=function(e,t,r,n,i,a,o,l,c,u,f){K0(t,f++,r),++i[256];for(var h=I8(i,15),g=h.t,p=h.l,S=I8(a,15),b=S.t,N=S.l,C=yV(g),A=C.c,T=C.n,F=yV(b),L=F.c,B=F.n,M=new Od(19),W=0;W<A.length;++W)++M[A[W]&31];for(var W=0;W<L.length;++W)++M[L[W]&31];for(var z=I8(M,7),Z=z.t,K=z.l,q=19;q>4&&!Z[RO[q-1]];--q);var ie=u+5<<3,ae=ew(i,c1)+ew(a,$_)+o,X=ew(i,g)+ew(a,b)+o+14+3*q+ew(M,Z)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&ie<=ae&&ie<=X)return Kie(t,f,e.subarray(c,c+u));var se,he,ce,ge;if(K0(t,f,1+(X<ae)),f+=2,X<ae){se=y0(g,p,0),he=g,ce=y0(b,N,0),ge=b;var we=y0(Z,K,0);K0(t,f,T-257),K0(t,f+5,B-1),K0(t,f+10,q-4),f+=14;for(var W=0;W<q;++W)K0(t,f+3*W,Z[RO[W]]);f+=3*q;for(var Ce=[A,L],Q=0;Q<2;++Q)for(var le=Ce[Q],W=0;W<le.length;++W){var ne=le[W]&31;K0(t,f,we[ne]),f+=Z[ne],ne>15&&(K0(t,f,le[W]>>5&127),f+=le[W]>>12)}}else se=cPe,he=c1,ce=dPe,ge=$_;for(var W=0;W<l;++W){var ee=n[W];if(ee>255){var ne=ee>>18&31;Qb(t,f,se[ne+257]),f+=he[ne+257],ne>7&&(K0(t,f,ee>>23&31),f+=dE[ne]);var pe=ee&31;Qb(t,f,ce[pe]),f+=ge[pe],pe>3&&(Qb(t,f,ee>>5&8191),f+=fE[pe])}else Qb(t,f,se[ee]),f+=he[ee]}return Qb(t,f,se[256]),f+he[256]},pPe=new FR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yie=new Yc(0),gPe=function(e,t,r,n,i,a){var o=a.z||e.length,l=new Yc(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,f=(a.r||0)&7;if(t){f&&(c[0]=a.r>>3);for(var h=pPe[t-1],g=h>>13,p=h&8191,S=(1<<r)-1,b=a.p||new Od(32768),N=a.h||new Od(S+1),C=Math.ceil(r/3),A=2*C,T=function(ot){return(e[ot]^e[ot+1]<<C^e[ot+2]<<A)&S},F=new FR(25e3),L=new Od(288),B=new Od(32),M=0,W=0,z=a.i||0,Z=0,K=a.w||0,q=0;z+2<o;++z){var ie=T(z),ae=z&32767,X=N[ie];if(b[ae]=X,N[ie]=ae,K<=z){var se=o-z;if((M>7e3||Z>24576)&&(se>423||!u)){f=bV(e,c,0,F,L,B,W,Z,q,z-q,f),Z=M=W=0,q=z;for(var he=0;he<286;++he)L[he]=0;for(var he=0;he<30;++he)B[he]=0}var ce=2,ge=0,we=p,Ce=ae-X&32767;if(se>2&&ie==T(z-Ce))for(var Q=Math.min(g,se)-1,le=Math.min(32767,z),ne=Math.min(258,se);Ce<=le&&--we&&ae!=X;){if(e[z+ce]==e[z+ce-Ce]){for(var ee=0;ee<ne&&e[z+ee]==e[z+ee-Ce];++ee);if(ee>ce){if(ce=ee,ge=Ce,ee>Q)break;for(var pe=Math.min(Ce,ee-2),xe=0,he=0;he<pe;++he){var Ne=z-Ce+he&32767,Se=b[Ne],je=Ne-Se&32767;je>xe&&(xe=je,X=Ne)}}}ae=X,X=b[ae],Ce+=ae-X&32767}if(ge){F[Z++]=268435456|MO[ce]<<18|vV[ge];var Ge=MO[ce]&31,De=vV[ge]&31;W+=dE[Ge]+fE[De],++L[257+Ge],++B[De],K=z+ce,++M}else F[Z++]=e[z],++L[e[z]]}}for(z=Math.max(z,K);z<o;++z)F[Z++]=e[z],++L[e[z]];f=bV(e,c,u,F,L,B,W,Z,q,z-q,f),u||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=N,a.p=b,a.i=z,a.w=K)}else{for(var z=a.w||0;z<o+u;z+=65535){var at=z+65535;at>=o&&(c[f/8|0]=u,at=o),f=Kie(c,f+1,e.subarray(z,at))}a.i=o}return Gie(l,0,n+DR(f)+i)},Xie=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xPe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Yc(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return gPe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},Jie=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},vPe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Xie();i.p(t.dictionary),Jie(e,2,i.d())}},yPe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ah(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ah(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $O(e,t){t||(t={});var r=Xie();r.p(e);var n=xPe(e,t,t.dictionary?6:2,4);return vPe(n,t),Jie(n,n.length-4,r.d()),n}function bPe(e,t){return mPe(e.subarray(yPe(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var wPe=typeof TextDecoder<"u"&&new TextDecoder,_Pe=0;try{wPe.decode(Yie,{stream:!0}),_Pe=1}catch{}var xa=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function F8(){xa.console&&typeof xa.console.log=="function"&&xa.console.log.apply(xa.console,arguments)}var Cs={log:F8,warn:function(e){xa.console&&(typeof xa.console.warn=="function"?xa.console.warn.apply(xa.console,arguments):F8.call(null,arguments))},error:function(e){xa.console&&(typeof xa.console.error=="function"?xa.console.error.apply(xa.console,arguments):F8(e))}};function D8(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ug(n.response,t,r)},n.onerror=function(){Cs.error("could not download file")},n.send()}function wV(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Q3(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ww,UO,ug=xa.saveAs||((typeof window>"u"?"undefined":Yi(window))!=="object"||window!==xa?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=xa.URL||xa.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?wV(i.href)?D8(e,t,r):Q3(i,i.target="_blank"):Q3(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Q3(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(wV(e))D8(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Q3(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Yi(a)!=="object"&&(Cs.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return D8(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(xa.HTMLElement)||xa.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Yi(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var c=xa.URL||xa.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Zie(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function R8(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Uc(r,n,i,a,t[0],7,-680876936),a=Uc(a,r,n,i,t[1],12,-389564586),i=Uc(i,a,r,n,t[2],17,606105819),n=Uc(n,i,a,r,t[3],22,-1044525330),r=Uc(r,n,i,a,t[4],7,-176418897),a=Uc(a,r,n,i,t[5],12,1200080426),i=Uc(i,a,r,n,t[6],17,-1473231341),n=Uc(n,i,a,r,t[7],22,-45705983),r=Uc(r,n,i,a,t[8],7,1770035416),a=Uc(a,r,n,i,t[9],12,-1958414417),i=Uc(i,a,r,n,t[10],17,-42063),n=Uc(n,i,a,r,t[11],22,-1990404162),r=Uc(r,n,i,a,t[12],7,1804603682),a=Uc(a,r,n,i,t[13],12,-40341101),i=Uc(i,a,r,n,t[14],17,-1502002290),r=zc(r,n=Uc(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=zc(a,r,n,i,t[6],9,-1069501632),i=zc(i,a,r,n,t[11],14,643717713),n=zc(n,i,a,r,t[0],20,-373897302),r=zc(r,n,i,a,t[5],5,-701558691),a=zc(a,r,n,i,t[10],9,38016083),i=zc(i,a,r,n,t[15],14,-660478335),n=zc(n,i,a,r,t[4],20,-405537848),r=zc(r,n,i,a,t[9],5,568446438),a=zc(a,r,n,i,t[14],9,-1019803690),i=zc(i,a,r,n,t[3],14,-187363961),n=zc(n,i,a,r,t[8],20,1163531501),r=zc(r,n,i,a,t[13],5,-1444681467),a=zc(a,r,n,i,t[2],9,-51403784),i=zc(i,a,r,n,t[7],14,1735328473),r=Vc(r,n=zc(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Vc(a,r,n,i,t[8],11,-2022574463),i=Vc(i,a,r,n,t[11],16,1839030562),n=Vc(n,i,a,r,t[14],23,-35309556),r=Vc(r,n,i,a,t[1],4,-1530992060),a=Vc(a,r,n,i,t[4],11,1272893353),i=Vc(i,a,r,n,t[7],16,-155497632),n=Vc(n,i,a,r,t[10],23,-1094730640),r=Vc(r,n,i,a,t[13],4,681279174),a=Vc(a,r,n,i,t[0],11,-358537222),i=Vc(i,a,r,n,t[3],16,-722521979),n=Vc(n,i,a,r,t[6],23,76029189),r=Vc(r,n,i,a,t[9],4,-640364487),a=Vc(a,r,n,i,t[12],11,-421815835),i=Vc(i,a,r,n,t[15],16,530742520),r=Wc(r,n=Vc(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Wc(a,r,n,i,t[7],10,1126891415),i=Wc(i,a,r,n,t[14],15,-1416354905),n=Wc(n,i,a,r,t[5],21,-57434055),r=Wc(r,n,i,a,t[12],6,1700485571),a=Wc(a,r,n,i,t[3],10,-1894986606),i=Wc(i,a,r,n,t[10],15,-1051523),n=Wc(n,i,a,r,t[1],21,-2054922799),r=Wc(r,n,i,a,t[8],6,1873313359),a=Wc(a,r,n,i,t[15],10,-30611744),i=Wc(i,a,r,n,t[6],15,-1560198380),n=Wc(n,i,a,r,t[13],21,1309151649),r=Wc(r,n,i,a,t[4],6,-145523070),a=Wc(a,r,n,i,t[11],10,-1120210379),i=Wc(i,a,r,n,t[2],15,718787259),n=Wc(n,i,a,r,t[9],21,-343485551),e[0]=Ep(r,e[0]),e[1]=Ep(n,e[1]),e[2]=Ep(i,e[2]),e[3]=Ep(a,e[3])}function hE(e,t,r,n,i,a){return t=Ep(Ep(t,e),Ep(n,a)),Ep(t<<i|t>>>32-i,r)}function Uc(e,t,r,n,i,a,o){return hE(t&r|~t&n,e,t,i,a,o)}function zc(e,t,r,n,i,a,o){return hE(t&n|r&~n,e,t,i,a,o)}function Vc(e,t,r,n,i,a,o){return hE(t^r^n,e,t,i,a,o)}function Wc(e,t,r,n,i,a,o){return hE(r^(t|~n),e,t,i,a,o)}function Qie(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)R8(n,NPe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(R8(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,R8(n,i),n}function NPe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ww=xa.atob.bind(xa),UO=xa.btoa.bind(xa);var _V="0123456789abcdef".split("");function SPe(e){for(var t="",r=0;r<4;r++)t+=_V[e>>8*r+4&15]+_V[e>>8*r&15];return t}function CPe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zO(e){return Qie(e).map(CPe).join("")}var APe=function(e){for(var t=0;t<e.length;t++)e[t]=SPe(e[t]);return e.join("")}(Qie("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ep(e,t){if(APe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VO(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=e,n=l}else l=n;var h=t.length,g=0,p=0,S="";for(c=0;c<h;c++)p=(p+(f=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=f,o=l[(l[g]+l[p])%256],S+=String.fromCharCode(t.charCodeAt(c)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var NV={print:4,modify:8,copy:16,"annot-forms":32};function _v(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(NV.perm!==void 0)throw new Error("Invalid permission: "+l);i+=NV[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=zO(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=VO(this.encryptionKey,this.padding)}function Nv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function SV(e){if(Yi(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){xa.console&&Cs.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function pC(e){if(!(this instanceof pC))return new pC(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function ese(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xg(e,t,r,n,i){if(!(this instanceof xg))return new xg(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,ese.call(this,n,i)}function qv(e,t,r,n,i){if(!(this instanceof qv))return new qv(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,ese.call(this,n,i)}function da(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",f=null;Yi(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=SV;var S="1.3",b=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(re){S=re};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var C=p.__private__.getPageFormat=function(re){return N[re]};i=i||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},T=A.COMPAT;function F(){this.saveGraphicsState(),Ue(new ln(Yr,0,0,-Yr,0,ql()*Yr).toString()+" cm"),this.setFontSize(this.getFontSize()/Yr),u="n",T=A.ADVANCED}function L(){this.restoreGraphicsState(),u="S",T=A.COMPAT}var B=p.__private__.combineFontStyleAndFontWeight=function(re,Oe){if(re=="bold"&&Oe=="normal"||re=="bold"&&Oe==400||re=="normal"&&Oe=="italic"||re=="bold"&&Oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Oe&&(re=Oe==400||Oe==="normal"?re==="italic"?"italic":"normal":Oe!=700&&Oe!=="bold"||re!=="normal"?(Oe==700?"bold":Oe)+""+re:"bold"),re};p.advancedAPI=function(re){var Oe=T===A.COMPAT;return Oe&&F.call(this),typeof re!="function"||(re(this),Oe&&L.call(this)),this},p.compatAPI=function(re){var Oe=T===A.ADVANCED;return Oe&&L.call(this),typeof re!="function"||(re(this),Oe&&F.call(this)),this},p.isAdvancedAPI=function(){return T===A.ADVANCED};var M,W=function(re){if(T!==A.ADVANCED)throw new Error(re+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=p.roundToPrecision=p.__private__.roundToPrecision=function(re,Oe){var et=t||Oe;if(isNaN(re)||isNaN(et))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return re.toFixed(et).replace(/0+$/,"")};M=p.hpf=p.__private__.hpf=typeof c=="number"?function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.hpf");return z(re,c)}:c==="smart"?function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.hpf");return z(re,re>-1&&re<1?16:5)}:function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.hpf");return z(re,16)};var Z=p.f2=p.__private__.f2=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.f2");return z(re,2)},K=p.__private__.f3=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.f3");return z(re,3)},q=p.scale=p.__private__.scale=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.scale");return T===A.COMPAT?re*Yr:T===A.ADVANCED?re:void 0},ie=function(re){return T===A.COMPAT?ql()-re:T===A.ADVANCED?re:void 0},ae=function(re){return q(ie(re))};p.__private__.setPrecision=p.setPrecision=function(re){typeof parseInt(re,10)=="number"&&(t=parseInt(re,10))};var X,se="00000000000000000000000000000000",he=p.__private__.getFileId=function(){return se},ce=p.__private__.setFileId=function(re){return se=re!==void 0&&/^[a-fA-F0-9]{32}$/.test(re)?re.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ks=new _v(f.userPermissions,f.userPassword,f.ownerPassword,se)),se};p.setFileId=function(re){return ce(re),this},p.getFileId=function(){return he()};var ge=p.__private__.convertDateToPDFDate=function(re){var Oe=re.getTimezoneOffset(),et=Oe<0?"+":"-",mt=Math.floor(Math.abs(Oe/60)),jt=Math.abs(Oe%60),qt=[et,ne(mt),"'",ne(jt),"'"].join("");return["D:",re.getFullYear(),ne(re.getMonth()+1),ne(re.getDate()),ne(re.getHours()),ne(re.getMinutes()),ne(re.getSeconds()),qt].join("")},we=p.__private__.convertPDFDateToDate=function(re){var Oe=parseInt(re.substr(2,4),10),et=parseInt(re.substr(6,2),10)-1,mt=parseInt(re.substr(8,2),10),jt=parseInt(re.substr(10,2),10),qt=parseInt(re.substr(12,2),10),nr=parseInt(re.substr(14,2),10);return new Date(Oe,et,mt,jt,qt,nr,0)},Ce=p.__private__.setCreationDate=function(re){var Oe;if(re===void 0&&(re=new Date),re instanceof Date)Oe=ge(re);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(re))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Oe=re}return X=Oe},Q=p.__private__.getCreationDate=function(re){var Oe=X;return re==="jsDate"&&(Oe=we(X)),Oe};p.setCreationDate=function(re){return Ce(re),this},p.getCreationDate=function(re){return Q(re)};var le,ne=p.__private__.padd2=function(re){return("0"+parseInt(re)).slice(-2)},ee=p.__private__.padd2Hex=function(re){return("00"+(re=re.toString())).substr(re.length)},pe=0,xe=[],Ne=[],Se=0,je=[],Ge=[],De=!1,at=Ne,ot=function(){pe=0,Se=0,Ne=[],xe=[],je=[],Xe=Ri(),Qe=Ri()};p.__private__.setCustomOutputDestination=function(re){De=!0,at=re};var ht=function(re){De||(at=re)};p.__private__.resetCustomOutputDestination=function(){De=!1,at=Ne};var Ue=p.__private__.out=function(re){return re=re.toString(),Se+=re.length+1,at.push(re),at},Ct=p.__private__.write=function(re){return Ue(arguments.length===1?re.toString():Array.prototype.join.call(arguments," "))},tr=p.__private__.getArrayBuffer=function(re){for(var Oe=re.length,et=new ArrayBuffer(Oe),mt=new Uint8Array(et);Oe--;)mt[Oe]=re.charCodeAt(Oe);return et},Ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ot};var xr=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(re){return xr=T===A.ADVANCED?re/Yr:re,this};var st,lr=p.__private__.getFontSize=p.getFontSize=function(){return T===A.COMPAT?xr:xr*Yr},_r=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(re){return _r=re,this},p.__private__.getR2L=p.getR2L=function(){return _r};var kr,Gn=p.__private__.setZoomMode=function(re){var Oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(re))st=re;else if(isNaN(re)){if(Oe.indexOf(re)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+re+'" is not recognized.');st=re}else st=parseInt(re,10)};p.__private__.getZoomMode=function(){return st};var sn,Jn=p.__private__.setPageMode=function(re){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(re)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+re+'" is not recognized.');kr=re};p.__private__.getPageMode=function(){return kr};var ea=p.__private__.setLayoutMode=function(re){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(re)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+re+'" is not recognized.');sn=re};p.__private__.getLayoutMode=function(){return sn},p.__private__.setDisplayMode=p.setDisplayMode=function(re,Oe,et){return Gn(re),ea(Oe),Jn(et),this};var yn={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(re){if(Object.keys(yn).indexOf(re)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yn[re]},p.__private__.getDocumentProperties=function(){return yn},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(re){for(var Oe in yn)yn.hasOwnProperty(Oe)&&re[Oe]&&(yn[Oe]=re[Oe]);return this},p.__private__.setDocumentProperty=function(re,Oe){if(Object.keys(yn).indexOf(re)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yn[re]=Oe};var na,Yr,ws,Mn,Nr,An={},pn={},Va=[],ya={},ol={},Di={},fa={},Wi=null,Za=0,yr=[],zr=new SV(p),ba=e.hotfixes||[],Xr={},Ei={},Ti=[],ln=function re(Oe,et,mt,jt,qt,nr){if(!(this instanceof re))return new re(Oe,et,mt,jt,qt,nr);isNaN(Oe)&&(Oe=1),isNaN(et)&&(et=0),isNaN(mt)&&(mt=0),isNaN(jt)&&(jt=1),isNaN(qt)&&(qt=0),isNaN(nr)&&(nr=0),this._matrix=[Oe,et,mt,jt,qt,nr]};Object.defineProperty(ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(re){this._matrix[0]=re}}),Object.defineProperty(ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(re){this._matrix[1]=re}}),Object.defineProperty(ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(re){this._matrix[2]=re}}),Object.defineProperty(ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(re){this._matrix[3]=re}}),Object.defineProperty(ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(re){this._matrix[4]=re}}),Object.defineProperty(ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(re){this._matrix[5]=re}}),Object.defineProperty(ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(re){this._matrix[0]=re}}),Object.defineProperty(ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(re){this._matrix[1]=re}}),Object.defineProperty(ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(re){this._matrix[2]=re}}),Object.defineProperty(ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(re){this._matrix[3]=re}}),Object.defineProperty(ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(re){this._matrix[4]=re}}),Object.defineProperty(ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(re){this._matrix[5]=re}}),Object.defineProperty(ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ln.prototype.join=function(re){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(re)},ln.prototype.multiply=function(re){var Oe=re.sx*this.sx+re.shy*this.shx,et=re.sx*this.shy+re.shy*this.sy,mt=re.shx*this.sx+re.sy*this.shx,jt=re.shx*this.shy+re.sy*this.sy,qt=re.tx*this.sx+re.ty*this.shx+this.tx,nr=re.tx*this.shy+re.ty*this.sy+this.ty;return new ln(Oe,et,mt,jt,qt,nr)},ln.prototype.decompose=function(){var re=this.sx,Oe=this.shy,et=this.shx,mt=this.sy,jt=this.tx,qt=this.ty,nr=Math.sqrt(re*re+Oe*Oe),vt=(re/=nr)*et+(Oe/=nr)*mt;et-=re*vt,mt-=Oe*vt;var _n=Math.sqrt(et*et+mt*mt);return vt/=_n,re*(mt/=_n)<Oe*(et/=_n)&&(re=-re,Oe=-Oe,vt=-vt,nr=-nr),{scale:new ln(nr,0,0,_n,0,0),translate:new ln(1,0,0,1,jt,qt),rotate:new ln(re,Oe,-Oe,re,0,0),skew:new ln(1,0,vt,1,0,0)}},ln.prototype.toString=function(re){return this.join(" ")},ln.prototype.inversed=function(){var re=this.sx,Oe=this.shy,et=this.shx,mt=this.sy,jt=this.tx,qt=this.ty,nr=1/(re*mt-Oe*et),vt=mt*nr,_n=-Oe*nr,Vn=-et*nr,zt=re*nr;return new ln(vt,_n,Vn,zt,-vt*jt-Vn*qt,-_n*jt-zt*qt)},ln.prototype.applyToPoint=function(re){var Oe=re.x*this.sx+re.y*this.shx+this.tx,et=re.x*this.shy+re.y*this.sy+this.ty;return new Xd(Oe,et)},ln.prototype.applyToRectangle=function(re){var Oe=this.applyToPoint(re),et=this.applyToPoint(new Xd(re.x+re.w,re.y+re.h));return new Jd(Oe.x,Oe.y,et.x-Oe.x,et.y-Oe.y)},ln.prototype.clone=function(){var re=this.sx,Oe=this.shy,et=this.shx,mt=this.sy,jt=this.tx,qt=this.ty;return new ln(re,Oe,et,mt,jt,qt)},p.Matrix=ln;var ms=p.matrixMult=function(re,Oe){return Oe.multiply(re)},sa=new ln(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=sa;var ki=function(re,Oe){if(!ol[re]){var et=(Oe instanceof xg?"Sh":"P")+(Object.keys(ya).length+1).toString(10);Oe.id=et,ol[re]=et,ya[et]=Oe,zr.publish("addPattern",Oe)}};p.ShadingPattern=xg,p.TilingPattern=qv,p.addShadingPattern=function(re,Oe){return W("addShadingPattern()"),ki(re,Oe),this},p.beginTilingPattern=function(re){W("beginTilingPattern()"),cu(re.boundingBox[0],re.boundingBox[1],re.boundingBox[2]-re.boundingBox[0],re.boundingBox[3]-re.boundingBox[1],re.matrix)},p.endTilingPattern=function(re,Oe){W("endTilingPattern()"),Oe.stream=Ge[le].join(`
`),ki(re,Oe),zr.publish("endTilingPattern",Oe),Ti.pop().restore()};var si=p.__private__.newObject=function(){var re=Ri();return Fe(re,!0),re},Ri=p.__private__.newObjectDeferred=function(){return pe++,xe[pe]=function(){return Se},pe},Fe=function(re,Oe){return Oe=typeof Oe=="boolean"&&Oe,xe[re]=Se,Oe&&Ue(re+" 0 obj"),re},We=p.__private__.newAdditionalObject=function(){var re={objId:Ri(),content:""};return je.push(re),re},Xe=Ri(),Qe=Ri(),Je=p.__private__.decodeColorString=function(re){var Oe=re.split(" ");if(Oe.length!==2||Oe[1]!=="g"&&Oe[1]!=="G")Oe.length===5&&(Oe[4]==="k"||Oe[4]==="K")&&(Oe=[(1-Oe[0])*(1-Oe[3]),(1-Oe[1])*(1-Oe[3]),(1-Oe[2])*(1-Oe[3]),"r"]);else{var et=parseFloat(Oe[0]);Oe=[et,et,et,"r"]}for(var mt="#",jt=0;jt<3;jt++)mt+=("0"+Math.floor(255*parseFloat(Oe[jt])).toString(16)).slice(-2);return mt},it=p.__private__.encodeColorString=function(re){var Oe;typeof re=="string"&&(re={ch1:re});var et=re.ch1,mt=re.ch2,jt=re.ch3,qt=re.ch4,nr=re.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof et=="string"&&et.charAt(0)!=="#"){var vt=new Zie(et);if(vt.ok)et=vt.toHex();else if(!/^\d*\.?\d*$/.test(et))throw new Error('Invalid color "'+et+'" passed to jsPDF.encodeColorString.')}if(typeof et=="string"&&/^#[0-9A-Fa-f]{3}$/.test(et)&&(et="#"+et[1]+et[1]+et[2]+et[2]+et[3]+et[3]),typeof et=="string"&&/^#[0-9A-Fa-f]{6}$/.test(et)){var _n=parseInt(et.substr(1),16);et=_n>>16&255,mt=_n>>8&255,jt=255&_n}if(mt===void 0||qt===void 0&&et===mt&&mt===jt)if(typeof et=="string")Oe=et+" "+nr[0];else switch(re.precision){case 2:Oe=Z(et/255)+" "+nr[0];break;case 3:default:Oe=K(et/255)+" "+nr[0]}else if(qt===void 0||Yi(qt)==="object"){if(qt&&!isNaN(qt.a)&&qt.a===0)return Oe=["1.","1.","1.",nr[1]].join(" ");if(typeof et=="string")Oe=[et,mt,jt,nr[1]].join(" ");else switch(re.precision){case 2:Oe=[Z(et/255),Z(mt/255),Z(jt/255),nr[1]].join(" ");break;default:case 3:Oe=[K(et/255),K(mt/255),K(jt/255),nr[1]].join(" ")}}else if(typeof et=="string")Oe=[et,mt,jt,qt,nr[2]].join(" ");else switch(re.precision){case 2:Oe=[Z(et),Z(mt),Z(jt),Z(qt),nr[2]].join(" ");break;case 3:default:Oe=[K(et),K(mt),K(jt),K(qt),nr[2]].join(" ")}return Oe},wt=p.__private__.getFilters=function(){return o},Pt=p.__private__.putStream=function(re){var Oe=(re=re||{}).data||"",et=re.filters||wt(),mt=re.alreadyAppliedFilters||[],jt=re.addLength1||!1,qt=Oe.length,nr=re.objectId,vt=function(To){return To};if(f!==null&&nr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(vt=ks.encryptor(nr,0));var _n={};et===!0&&(et=["FlateEncode"]);var Vn=re.additionalKeyValues||[],zt=(_n=da.API.processDataByFilters!==void 0?da.API.processDataByFilters(Oe,et):{data:Oe,reverseChain:[]}).reverseChain+(Array.isArray(mt)?mt.join(" "):mt.toString());if(_n.data.length!==0&&(Vn.push({key:"Length",value:_n.data.length}),jt===!0&&Vn.push({key:"Length1",value:qt})),zt.length!=0)if(zt.split("/").length-1==1)Vn.push({key:"Filter",value:zt});else{Vn.push({key:"Filter",value:"["+zt+"]"});for(var Wa=0;Wa<Vn.length;Wa+=1)if(Vn[Wa].key==="DecodeParms"){for(var gs=[],Ai=0;Ai<_n.reverseChain.split("/").length-1;Ai+=1)gs.push("null");gs.push(Vn[Wa].value),Vn[Wa].value="["+gs.join(" ")+"]"}}Ue("<<");for(var xs=0;xs<Vn.length;xs++)Ue("/"+Vn[xs].key+" "+Vn[xs].value);Ue(">>"),_n.data.length!==0&&(Ue("stream"),Ue(vt(_n.data)),Ue("endstream"))},St=p.__private__.putPage=function(re){var Oe=re.number,et=re.data,mt=re.objId,jt=re.contentsObjId;Fe(mt,!0),Ue("<</Type /Page"),Ue("/Parent "+re.rootDictionaryObjId+" 0 R"),Ue("/Resources "+re.resourceDictionaryObjId+" 0 R"),Ue("/MediaBox ["+parseFloat(M(re.mediaBox.bottomLeftX))+" "+parseFloat(M(re.mediaBox.bottomLeftY))+" "+M(re.mediaBox.topRightX)+" "+M(re.mediaBox.topRightY)+"]"),re.cropBox!==null&&Ue("/CropBox ["+M(re.cropBox.bottomLeftX)+" "+M(re.cropBox.bottomLeftY)+" "+M(re.cropBox.topRightX)+" "+M(re.cropBox.topRightY)+"]"),re.bleedBox!==null&&Ue("/BleedBox ["+M(re.bleedBox.bottomLeftX)+" "+M(re.bleedBox.bottomLeftY)+" "+M(re.bleedBox.topRightX)+" "+M(re.bleedBox.topRightY)+"]"),re.trimBox!==null&&Ue("/TrimBox ["+M(re.trimBox.bottomLeftX)+" "+M(re.trimBox.bottomLeftY)+" "+M(re.trimBox.topRightX)+" "+M(re.trimBox.topRightY)+"]"),re.artBox!==null&&Ue("/ArtBox ["+M(re.artBox.bottomLeftX)+" "+M(re.artBox.bottomLeftY)+" "+M(re.artBox.topRightX)+" "+M(re.artBox.topRightY)+"]"),typeof re.userUnit=="number"&&re.userUnit!==1&&Ue("/UserUnit "+re.userUnit),zr.publish("putPage",{objId:mt,pageContext:yr[Oe],pageNumber:Oe,page:et}),Ue("/Contents "+jt+" 0 R"),Ue(">>"),Ue("endobj");var qt=et.join(`
`);return T===A.ADVANCED&&(qt+=`
Q`),Fe(jt,!0),Pt({data:qt,filters:wt(),objectId:jt}),Ue("endobj"),mt},Rt=p.__private__.putPages=function(){var re,Oe,et=[];for(re=1;re<=Za;re++)yr[re].objId=Ri(),yr[re].contentsObjId=Ri();for(re=1;re<=Za;re++)et.push(St({number:re,data:Ge[re],objId:yr[re].objId,contentsObjId:yr[re].contentsObjId,mediaBox:yr[re].mediaBox,cropBox:yr[re].cropBox,bleedBox:yr[re].bleedBox,trimBox:yr[re].trimBox,artBox:yr[re].artBox,userUnit:yr[re].userUnit,rootDictionaryObjId:Xe,resourceDictionaryObjId:Qe}));Fe(Xe,!0),Ue("<</Type /Pages");var mt="/Kids [";for(Oe=0;Oe<Za;Oe++)mt+=et[Oe]+" 0 R ";Ue(mt+"]"),Ue("/Count "+Za),Ue(">>"),Ue("endobj"),zr.publish("postPutPages")},Mt=function(re){zr.publish("putFont",{font:re,out:Ue,newObject:si,putStream:Pt}),re.isAlreadyPutted!==!0&&(re.objectNumber=si(),Ue("<<"),Ue("/Type /Font"),Ue("/BaseFont /"+Nv(re.postScriptName)),Ue("/Subtype /Type1"),typeof re.encoding=="string"&&Ue("/Encoding /"+re.encoding),Ue("/FirstChar 32"),Ue("/LastChar 255"),Ue(">>"),Ue("endobj"))},mr=function(){for(var re in An)An.hasOwnProperty(re)&&(h===!1||h===!0&&g.hasOwnProperty(re))&&Mt(An[re])},Cr=function(re){re.objectNumber=si();var Oe=[];Oe.push({key:"Type",value:"/XObject"}),Oe.push({key:"Subtype",value:"/Form"}),Oe.push({key:"BBox",value:"["+[M(re.x),M(re.y),M(re.x+re.width),M(re.y+re.height)].join(" ")+"]"}),Oe.push({key:"Matrix",value:"["+re.matrix.toString()+"]"});var et=re.pages[1].join(`
`);Pt({data:et,additionalKeyValues:Oe,objectId:re.objectNumber}),Ue("endobj")},Ar=function(){for(var re in Xr)Xr.hasOwnProperty(re)&&Cr(Xr[re])},Tr=function(re,Oe){var et,mt=[],jt=1/(Oe-1);for(et=0;et<1;et+=jt)mt.push(et);if(mt.push(1),re[0].offset!=0){var qt={offset:0,color:re[0].color};re.unshift(qt)}if(re[re.length-1].offset!=1){var nr={offset:1,color:re[re.length-1].color};re.push(nr)}for(var vt="",_n=0,Vn=0;Vn<mt.length;Vn++){for(et=mt[Vn];et>re[_n+1].offset;)_n++;var zt=re[_n].offset,Wa=(et-zt)/(re[_n+1].offset-zt),gs=re[_n].color,Ai=re[_n+1].color;vt+=ee(Math.round((1-Wa)*gs[0]+Wa*Ai[0]).toString(16))+ee(Math.round((1-Wa)*gs[1]+Wa*Ai[1]).toString(16))+ee(Math.round((1-Wa)*gs[2]+Wa*Ai[2]).toString(16))}return vt.trim()},Pr=function(re,Oe){Oe||(Oe=21);var et=si(),mt=Tr(re.colors,Oe),jt=[];jt.push({key:"FunctionType",value:"0"}),jt.push({key:"Domain",value:"[0.0 1.0]"}),jt.push({key:"Size",value:"["+Oe+"]"}),jt.push({key:"BitsPerSample",value:"8"}),jt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pt({data:mt,additionalKeyValues:jt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:et}),Ue("endobj"),re.objectNumber=si(),Ue("<< /ShadingType "+re.type),Ue("/ColorSpace /DeviceRGB");var qt="/Coords ["+M(parseFloat(re.coords[0]))+" "+M(parseFloat(re.coords[1]))+" ";re.type===2?qt+=M(parseFloat(re.coords[2]))+" "+M(parseFloat(re.coords[3])):qt+=M(parseFloat(re.coords[2]))+" "+M(parseFloat(re.coords[3]))+" "+M(parseFloat(re.coords[4]))+" "+M(parseFloat(re.coords[5])),Ue(qt+="]"),re.matrix&&Ue("/Matrix ["+re.matrix.toString()+"]"),Ue("/Function "+et+" 0 R"),Ue("/Extend [true true]"),Ue(">>"),Ue("endobj")},aa=function(re,Oe){var et=Ri(),mt=si();Oe.push({resourcesOid:et,objectOid:mt}),re.objectNumber=mt;var jt=[];jt.push({key:"Type",value:"/Pattern"}),jt.push({key:"PatternType",value:"1"}),jt.push({key:"PaintType",value:"1"}),jt.push({key:"TilingType",value:"1"}),jt.push({key:"BBox",value:"["+re.boundingBox.map(M).join(" ")+"]"}),jt.push({key:"XStep",value:M(re.xStep)}),jt.push({key:"YStep",value:M(re.yStep)}),jt.push({key:"Resources",value:et+" 0 R"}),re.matrix&&jt.push({key:"Matrix",value:"["+re.matrix.toString()+"]"}),Pt({data:re.stream,additionalKeyValues:jt,objectId:re.objectNumber}),Ue("endobj")},Bt=function(re){var Oe;for(Oe in ya)ya.hasOwnProperty(Oe)&&(ya[Oe]instanceof xg?Pr(ya[Oe]):ya[Oe]instanceof qv&&aa(ya[Oe],re))},Ra=function(re){for(var Oe in re.objectNumber=si(),Ue("<<"),re)switch(Oe){case"opacity":Ue("/ca "+Z(re[Oe]));break;case"stroke-opacity":Ue("/CA "+Z(re[Oe]))}Ue(">>"),Ue("endobj")},Pa=function(){var re;for(re in Di)Di.hasOwnProperty(re)&&Ra(Di[re])},Kn=function(){for(var re in Ue("/XObject <<"),Xr)Xr.hasOwnProperty(re)&&Xr[re].objectNumber>=0&&Ue("/"+re+" "+Xr[re].objectNumber+" 0 R");zr.publish("putXobjectDict"),Ue(">>")},au=function(){ks.oid=si(),Ue("<<"),Ue("/Filter /Standard"),Ue("/V "+ks.v),Ue("/R "+ks.r),Ue("/U <"+ks.toHexString(ks.U)+">"),Ue("/O <"+ks.toHexString(ks.O)+">"),Ue("/P "+ks.P),Ue(">>"),Ue("endobj")},Ma=function(){for(var re in Ue("/Font <<"),An)An.hasOwnProperty(re)&&(h===!1||h===!0&&g.hasOwnProperty(re))&&Ue("/"+re+" "+An[re].objectNumber+" 0 R");Ue(">>")},ma=function(){if(Object.keys(ya).length>0){for(var re in Ue("/Shading <<"),ya)ya.hasOwnProperty(re)&&ya[re]instanceof xg&&ya[re].objectNumber>=0&&Ue("/"+re+" "+ya[re].objectNumber+" 0 R");zr.publish("putShadingPatternDict"),Ue(">>")}},wn=function(re){if(Object.keys(ya).length>0){for(var Oe in Ue("/Pattern <<"),ya)ya.hasOwnProperty(Oe)&&ya[Oe]instanceof p.TilingPattern&&ya[Oe].objectNumber>=0&&ya[Oe].objectNumber<re&&Ue("/"+Oe+" "+ya[Oe].objectNumber+" 0 R");zr.publish("putTilingPatternDict"),Ue(">>")}},Cl=function(){if(Object.keys(Di).length>0){var re;for(re in Ue("/ExtGState <<"),Di)Di.hasOwnProperty(re)&&Di[re].objectNumber>=0&&Ue("/"+re+" "+Di[re].objectNumber+" 0 R");zr.publish("putGStateDict"),Ue(">>")}},Ya=function(re){Fe(re.resourcesOid,!0),Ue("<<"),Ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ma(),ma(),wn(re.objectOid),Cl(),Kn(),Ue(">>"),Ue("endobj")},Fh=function(){var re=[];mr(),Pa(),Ar(),Bt(re),zr.publish("putResources"),re.forEach(Ya),Ya({resourcesOid:Qe,objectOid:Number.MAX_SAFE_INTEGER}),zr.publish("postPutResources")},Es=function(){zr.publish("putAdditionalObjects");for(var re=0;re<je.length;re++){var Oe=je[re];Fe(Oe.objId,!0),Ue(Oe.content),Ue("endobj")}zr.publish("postPutAdditionalObjects")},Un=function(re){pn[re.fontName]=pn[re.fontName]||{},pn[re.fontName][re.fontStyle]=re.id},zl=function(re,Oe,et,mt,jt){var qt={id:"F"+(Object.keys(An).length+1).toString(10),postScriptName:re,fontName:Oe,fontStyle:et,encoding:mt,isStandardFont:jt||!1,metadata:{}};return zr.publish("addFont",{font:qt,instance:this}),An[qt.id]=qt,Un(qt),qt.id},ps=function(re){for(var Oe=0,et=Ot.length;Oe<et;Oe++){var mt=zl.call(this,re[Oe][0],re[Oe][1],re[Oe][2],Ot[Oe][3],!0);h===!1&&(g[mt]=!0);var jt=re[Oe][0].split("-");Un({id:mt,fontName:jt[0],fontStyle:jt[1]||""})}zr.publish("addFonts",{fonts:An,dictionary:pn})},ho=function(re){return re.foo=function(){try{return re.apply(this,arguments)}catch(mt){var Oe=mt.stack||"";~Oe.indexOf(" at ")&&(Oe=Oe.split(" at ")[1]);var et="Error in function "+Oe.split(`
`)[0].split("<")[0]+": "+mt.message;if(!xa.console)throw new Error(et);xa.console.error(et,mt),xa.alert&&alert(et)}},re.foo.bar=re,re.foo},Ff=function(re,Oe){var et,mt,jt,qt,nr,vt,_n,Vn,zt;if(jt=(Oe=Oe||{}).sourceEncoding||"Unicode",nr=Oe.outputEncoding,(Oe.autoencode||nr)&&An[na].metadata&&An[na].metadata[jt]&&An[na].metadata[jt].encoding&&(qt=An[na].metadata[jt].encoding,!nr&&An[na].encoding&&(nr=An[na].encoding),!nr&&qt.codePages&&(nr=qt.codePages[0]),typeof nr=="string"&&(nr=qt[nr]),nr)){for(_n=!1,vt=[],et=0,mt=re.length;et<mt;et++)(Vn=nr[re.charCodeAt(et)])?vt.push(String.fromCharCode(Vn)):vt.push(re[et]),vt[et].charCodeAt(0)>>8&&(_n=!0);re=vt.join("")}for(et=re.length;_n===void 0&&et!==0;)re.charCodeAt(et-1)>>8&&(_n=!0),et--;if(!_n)return re;for(vt=Oe.noBOM?[]:[254,255],et=0,mt=re.length;et<mt;et++){if((zt=(Vn=re.charCodeAt(et))>>8)>>8)throw new Error("Character at position "+et+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vt.push(zt),vt.push(Vn-(zt<<8))}return String.fromCharCode.apply(void 0,vt)},$s=p.__private__.pdfEscape=p.pdfEscape=function(re,Oe){return Ff(re,Oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tn=p.__private__.beginPage=function(re){Ge[++Za]=[],yr[Za]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(re[0]),topRightY:Number(re[1])}},Ye(Za),ht(Ge[le])},Us=function(re,Oe){var et,mt,jt;switch(r=Oe||r,typeof re=="string"&&(et=C(re.toLowerCase()),Array.isArray(et)&&(mt=et[0],jt=et[1])),Array.isArray(re)&&(mt=re[0]*Yr,jt=re[1]*Yr),isNaN(mt)&&(mt=i[0],jt=i[1]),(mt>14400||jt>14400)&&(Cs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mt=Math.min(14400,mt),jt=Math.min(14400,jt)),i=[mt,jt],r.substr(0,1)){case"l":jt>mt&&(i=[jt,mt]);break;case"p":mt>jt&&(i=[jt,mt])}Tn(i),Eo(Vs),Ue(mc),Ns!==0&&Ue(Ns+" J"),zu!==0&&Ue(zu+" j"),zr.publish("addPage",{pageNumber:Za})},Tt=function(re){re>0&&re<=Za&&(Ge.splice(re,1),yr.splice(re,1),Za--,le>Za&&(le=Za),this.setPage(le))},Ye=function(re){re>0&&re<=Za&&(le=re)},Ln=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ge.length-1},Ts=function(re,Oe,et){var mt,jt=void 0;return et=et||{},re=re!==void 0?re:An[na].fontName,Oe=Oe!==void 0?Oe:An[na].fontStyle,mt=re.toLowerCase(),pn[mt]!==void 0&&pn[mt][Oe]!==void 0?jt=pn[mt][Oe]:pn[re]!==void 0&&pn[re][Oe]!==void 0?jt=pn[re][Oe]:et.disableWarning===!1&&Cs.warn("Unable to look up font label for font '"+re+"', '"+Oe+"'. Refer to getFontList() for available fonts."),jt||et.noFallback||(jt=pn.times[Oe])==null&&(jt=pn.times.normal),jt},ll=p.__private__.putInfo=function(){var re=si(),Oe=function(mt){return mt};for(var et in f!==null&&(Oe=ks.encryptor(re,0)),Ue("<<"),Ue("/Producer ("+$s(Oe("jsPDF "+da.version))+")"),yn)yn.hasOwnProperty(et)&&yn[et]&&Ue("/"+et.substr(0,1).toUpperCase()+et.substr(1)+" ("+$s(Oe(yn[et]))+")");Ue("/CreationDate ("+$s(Oe(X))+")"),Ue(">>"),Ue("endobj")},Dh=p.__private__.putCatalog=function(re){var Oe=(re=re||{}).rootDictionaryObjId||Xe;switch(si(),Ue("<<"),Ue("/Type /Catalog"),Ue("/Pages "+Oe+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":Ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ue("/OpenAction [3 0 R /Fit]");break;case"original":Ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var et=""+st;et.substr(et.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&Ue("/OpenAction [3 0 R /XYZ null null "+Z(st)+"]")}switch(sn||(sn="continuous"),sn){case"continuous":Ue("/PageLayout /OneColumn");break;case"single":Ue("/PageLayout /SinglePage");break;case"two":case"twoleft":Ue("/PageLayout /TwoColumnLeft");break;case"tworight":Ue("/PageLayout /TwoColumnRight")}kr&&Ue("/PageMode /"+kr),zr.publish("putCatalog"),Ue(">>"),Ue("endobj")},Rh=p.__private__.putTrailer=function(){Ue("trailer"),Ue("<<"),Ue("/Size "+(pe+1)),Ue("/Root "+pe+" 0 R"),Ue("/Info "+(pe-1)+" 0 R"),f!==null&&Ue("/Encrypt "+ks.oid+" 0 R"),Ue("/ID [ <"+se+"> <"+se+"> ]"),Ue(">>")},Vl=p.__private__.putHeader=function(){Ue("%PDF-"+S),Ue("%")},Qr=p.__private__.putXRef=function(){var re="0000000000";Ue("xref"),Ue("0 "+(pe+1)),Ue("0000000000 65535 f ");for(var Oe=1;Oe<=pe;Oe++)typeof xe[Oe]=="function"?Ue((re+xe[Oe]()).slice(-10)+" 00000 n "):xe[Oe]!==void 0?Ue((re+xe[Oe]).slice(-10)+" 00000 n "):Ue("0000000000 00000 n ")},fi=p.__private__.buildDocument=function(){ot(),ht(Ne),zr.publish("buildDocument"),Vl(),Rt(),Es(),Fh(),f!==null&&au(),ll(),Dh();var re=Se;return Qr(),Rh(),Ue("startxref"),Ue(""+re),Ue("%%EOF"),ht(Ge[le]),Ne.join(`
`)},qd=p.__private__.getBlob=function(re){return new Blob([tr(re)],{type:"application/pdf"})},Df=p.output=p.__private__.output=ho(function(re,Oe){switch(typeof(Oe=Oe||{})=="string"?Oe={filename:Oe}:Oe.filename=Oe.filename||"generated.pdf",re){case void 0:return fi();case"save":p.save(Oe.filename);break;case"arraybuffer":return tr(fi());case"blob":return qd(fi());case"bloburi":case"bloburl":if(xa.URL!==void 0&&typeof xa.URL.createObjectURL=="function")return xa.URL&&xa.URL.createObjectURL(qd(fi()))||void 0;Cs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var et="",mt=fi();try{et=UO(mt)}catch{et=UO(unescape(encodeURIComponent(mt)))}return"data:application/pdf;filename="+Oe.filename+";base64,"+et;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xa)==="[object Window]"){var jt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Oe.pdfObjectUrl&&(jt=Oe.pdfObjectUrl,qt="");var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+jt+'"'+qt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Oe)+");<\/script></body></html>",vt=xa.open();return vt!==null&&vt.document.write(nr),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xa)==="[object Window]"){var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Oe.filename+'" width="500px" height="400px" /></body></html>',Vn=xa.open();if(Vn!==null){Vn.document.write(_n);var zt=this;Vn.document.documentElement.querySelector("#pdfViewer").onload=function(){Vn.document.title=Oe.filename,Vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xa)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Oe)+'"></iframe></body></html>',gs=xa.open();if(gs!==null&&(gs.document.write(Wa),gs.document.title=Oe.filename),gs||typeof safari>"u")return gs;break;case"datauri":case"dataurl":return xa.document.location.href=this.output("datauristring",Oe);default:return null}}),Gd=function(re){return Array.isArray(ba)===!0&&ba.indexOf(re)>-1};switch(n){case"pt":Yr=1;break;case"mm":Yr=72/25.4;break;case"cm":Yr=72/2.54;break;case"in":Yr=72;break;case"px":Yr=Gd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Yr=12;break;case"ex":Yr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Yr=n}var ks=null;Ce(),ce();var Kd=function(re){return f!==null?ks.encryptor(re,0):function(Oe){return Oe}},Ci=p.__private__.getPageInfo=p.getPageInfo=function(re){if(isNaN(re)||re%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yr[re].objId,pageNumber:re,pageContext:yr[re]}},dn=p.__private__.getPageInfoByObjId=function(re){if(isNaN(re)||re%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Oe in yr)if(yr[Oe].objId===re)break;return Ci(Oe)},iu=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:yr[le].objId,pageNumber:le,pageContext:yr[le]}};p.addPage=function(){return Us.apply(this,arguments),this},p.setPage=function(){return Ye.apply(this,arguments),ht.call(this,Ge[le]),this},p.insertPage=function(re){return this.addPage(),this.movePage(le,re),this},p.movePage=function(re,Oe){var et,mt;if(re>Oe){et=Ge[re],mt=yr[re];for(var jt=re;jt>Oe;jt--)Ge[jt]=Ge[jt-1],yr[jt]=yr[jt-1];Ge[Oe]=et,yr[Oe]=mt,this.setPage(Oe)}else if(re<Oe){et=Ge[re],mt=yr[re];for(var qt=re;qt<Oe;qt++)Ge[qt]=Ge[qt+1],yr[qt]=yr[qt+1];Ge[Oe]=et,yr[Oe]=mt,this.setPage(Oe)}return this},p.deletePage=function(){return Tt.apply(this,arguments),this},p.__private__.text=p.text=function(re,Oe,et,mt,jt){var qt,nr,vt,_n,Vn,zt,Wa,gs,Ai,xs=(mt=mt||{}).scope||this;if(typeof re=="number"&&typeof Oe=="number"&&(typeof et=="string"||Array.isArray(et))){var To=et;et=Oe,Oe=re,re=To}if(arguments[3]instanceof ln?(W("The transform parameter of text() with a Matrix value"),Ai=jt):(vt=arguments[4],_n=arguments[5],Yi(Wa=arguments[3])==="object"&&Wa!==null||(typeof vt=="string"&&(_n=vt,vt=null),typeof Wa=="string"&&(_n=Wa,Wa=null),typeof Wa=="number"&&(vt=Wa,Wa=null),mt={flags:Wa,angle:vt,align:_n})),isNaN(Oe)||isNaN(et)||re==null)throw new Error("Invalid arguments passed to jsPDF.text");if(re.length===0)return xs;var ja="",pc=!1,wa=typeof mt.lineHeightFactor=="number"?mt.lineHeightFactor:Wl,ni=xs.internal.scaleFactor;function kn(ss){return ss=ss.split("	").join(Array(mt.TabLen||9).join(" ")),$s(ss,Wa)}function no(ss){for(var ns,Os=ss.concat(),po=[],Qd=Os.length;Qd--;)typeof(ns=Os.shift())=="string"?po.push(ns):Array.isArray(ss)&&(ns.length===1||ns[1]===void 0&&ns[2]===void 0)?po.push(ns[0]):po.push([ns[0],ns[1],ns[2]]);return po}function Yn(ss,ns){var Os;if(typeof ss=="string")Os=ns(ss)[0];else if(Array.isArray(ss)){for(var po,Qd,Ea=ss.concat(),ef=[],Uh=Ea.length;Uh--;)typeof(po=Ea.shift())=="string"?ef.push(ns(po)[0]):Array.isArray(po)&&typeof po[0]=="string"&&(Qd=ns(po[0],po[1],po[2]),ef.push([Qd[0],Qd[1],Qd[2]]));Os=ef}return Os}var Ia=!1,Bf=!0;if(typeof re=="string")Ia=!0;else if(Array.isArray(re)){var Gl=re.concat();nr=[];for(var Kl,Ji=Gl.length;Ji--;)(typeof(Kl=Gl.shift())!="string"||Array.isArray(Kl)&&typeof Kl[0]!="string")&&(Bf=!1);Ia=Bf}if(Ia===!1)throw new Error('Type of text must be string or Array. "'+re+'" is not recognized.');typeof re=="string"&&(re=re.match(/[\r?\n]/)?re.split(/\r\n|\r|\n/g):[re]);var uu=xr/xs.internal.scaleFactor,ko=uu*(wa-1);switch(mt.baseline){case"bottom":et-=ko;break;case"top":et+=uu-ko;break;case"hanging":et+=uu-2*ko;break;case"middle":et+=uu/2-ko}if((zt=mt.maxWidth||0)>0&&(typeof re=="string"?re=xs.splitTextToSize(re,zt):Object.prototype.toString.call(re)==="[object Array]"&&(re=re.reduce(function(ss,ns){return ss.concat(xs.splitTextToSize(ns,zt))},[]))),qt={text:re,x:Oe,y:et,options:mt,mutex:{pdfEscape:$s,activeFontKey:na,fonts:An,activeFontSize:xr}},zr.publish("preProcessText",qt),re=qt.text,vt=(mt=qt.options).angle,!(Ai instanceof ln)&&vt&&typeof vt=="number"){vt*=Math.PI/180,mt.rotationDirection===0&&(vt=-vt),T===A.ADVANCED&&(vt=-vt);var is=Math.cos(vt),Zn=Math.sin(vt);Ai=new ln(is,Zn,-Zn,is,0,0)}else vt&&vt instanceof ln&&(Ai=vt);T!==A.ADVANCED||Ai||(Ai=sa),(Vn=mt.charSpace||$t)!==void 0&&(ja+=M(q(Vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gs=mt.horizontalScale)!==void 0&&(ja+=M(100*gs)+` Tz
`),mt.lang;var mo=-1,ke=mt.renderingMode!==void 0?mt.renderingMode:mt.stroke,m=xs.internal.getCurrentPageInfo().pageContext;switch(ke){case 0:case!1:case"fill":mo=0;break;case 1:case!0:case"stroke":mo=1;break;case 2:case"fillThenStroke":mo=2;break;case 3:case"invisible":mo=3;break;case 4:case"fillAndAddForClipping":mo=4;break;case 5:case"strokeAndAddPathForClipping":mo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mo=6;break;case 7:case"addToPathForClipping":mo=7}var y=m.usedRenderingMode!==void 0?m.usedRenderingMode:-1;mo!==-1?ja+=mo+` Tr
`:y!==-1&&(ja+=`0 Tr
`),mo!==-1&&(m.usedRenderingMode=mo),_n=mt.align||"left";var w,E=xr*wa,P=xs.internal.pageSize.getWidth(),D=An[na];Vn=mt.charSpace||$t,zt=mt.maxWidth||0,Wa=Object.assign({autoencode:!0,noBOM:!0},mt.flags);var V=[],J=function(ss){return xs.getStringUnitWidth(ss,{font:D,charSpace:Vn,fontSize:xr,doKerning:!1})*xr/ni};if(Object.prototype.toString.call(re)==="[object Array]"){var oe;nr=no(re),_n!=="left"&&(w=nr.map(J));var be,Te=0;if(_n==="right"){Oe-=w[0],re=[],Ji=nr.length;for(var Le=0;Le<Ji;Le++)Le===0?(be=lu(Oe),oe=Uu(et)):(be=q(Te-w[Le]),oe=-E),re.push([nr[Le],be,oe]),Te=w[Le]}else if(_n==="center"){Oe-=w[0]/2,re=[],Ji=nr.length;for(var tt=0;tt<Ji;tt++)tt===0?(be=lu(Oe),oe=Uu(et)):(be=q((Te-w[tt])/2),oe=-E),re.push([nr[tt],be,oe]),Te=w[tt]}else if(_n==="left"){re=[],Ji=nr.length;for(var ut=0;ut<Ji;ut++)re.push(nr[ut])}else if(_n==="justify"&&D.encoding==="Identity-H"){re=[],Ji=nr.length,zt=zt!==0?zt:P;for(var pt=0,Nt=0;Nt<Ji;Nt++)if(oe=Nt===0?Uu(et):-E,be=Nt===0?lu(Oe):pt,Nt<Ji-1){var Vt=q((zt-w[Nt])/(nr[Nt].split(" ").length-1)),ir=nr[Nt].split(" ");re.push([ir[0]+" ",be,oe]),pt=0;for(var vr=1;vr<ir.length;vr++){var pr=(J(ir[vr-1]+" "+ir[vr])-J(ir[vr]))*ni+Vt;vr==ir.length-1?re.push([ir[vr],pr,0]):re.push([ir[vr]+" ",pr,0]),pt-=pr}}else re.push([nr[Nt],be,oe]);re.push(["",pt,0])}else{if(_n!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(re=[],Ji=nr.length,zt=zt!==0?zt:P,Nt=0;Nt<Ji;Nt++)oe=Nt===0?Uu(et):-E,be=Nt===0?lu(Oe):0,Nt<Ji-1?V.push(M(q((zt-w[Nt])/(nr[Nt].split(" ").length-1)))):V.push(0),re.push([nr[Nt],be,oe])}}var La=typeof mt.R2L=="boolean"?mt.R2L:_r;La===!0&&(re=Yn(re,function(ss,ns,Os){return[ss.split("").reverse().join(""),ns,Os]})),qt={text:re,x:Oe,y:et,options:mt,mutex:{pdfEscape:$s,activeFontKey:na,fonts:An,activeFontSize:xr}},zr.publish("postProcessText",qt),re=qt.text,pc=qt.mutex.isHex||!1;var ca=An[na].encoding;ca!=="WinAnsiEncoding"&&ca!=="StandardEncoding"||(re=Yn(re,function(ss,ns,Os){return[kn(ss),ns,Os]})),nr=no(re),re=[];for(var hi,Po,Ps,mi=0,vs=1,Ws=Array.isArray(nr[0])?vs:mi,Yl="",Vu=function(ss,ns,Os){var po="";return Os instanceof ln?(Os=typeof mt.angle=="number"?ms(Os,new ln(1,0,0,1,ss,ns)):ms(new ln(1,0,0,1,ss,ns),Os),T===A.ADVANCED&&(Os=ms(new ln(1,0,0,-1,0,0),Os)),po=Os.join(" ")+` Tm
`):po=M(ss)+" "+M(ns)+` Td
`,po},ul=0;ul<nr.length;ul++){switch(Yl="",Ws){case vs:Ps=(pc?"<":"(")+nr[ul][0]+(pc?">":")"),hi=parseFloat(nr[ul][1]),Po=parseFloat(nr[ul][2]);break;case mi:Ps=(pc?"<":"(")+nr[ul]+(pc?">":")"),hi=lu(Oe),Po=Uu(et)}V!==void 0&&V[ul]!==void 0&&(Yl=V[ul]+` Tw
`),ul===0?re.push(Yl+Vu(hi,Po,Ai)+Ps):Ws===mi?re.push(Yl+Ps):Ws===vs&&re.push(Yl+Vu(hi,Po,Ai)+Ps)}re=Ws===mi?re.join(` Tj
T* `):re.join(` Tj
`),re+=` Tj
`;var ao=`BT
/`;return ao+=na+" "+xr+` Tf
`,ao+=M(xr*wa)+` TL
`,ao+=Yo+`
`,ao+=ja,ao+=re,Ue(ao+="ET"),g[na]=!0,xs};var su=p.__private__.clip=p.clip=function(re){return Ue(re==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return su("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Ue("n"),this};var zn=p.__private__.isValidStyle=function(re){var Oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(re)!==-1&&(Oe=!0),Oe};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(re){return zn(re)&&(u=re),this};var zm=p.__private__.getStyle=p.getStyle=function(re){var Oe=u;switch(re){case"D":case"S":Oe="S";break;case"F":Oe="f";break;case"FD":case"DF":Oe="B";break;case"f":case"f*":case"B":case"B*":Oe=re}return Oe},Ca=p.close=function(){return Ue("h"),this};p.stroke=function(){return Ue("S"),this},p.fill=function(re){return _s("f",re),this},p.fillEvenOdd=function(re){return _s("f*",re),this},p.fillStroke=function(re){return _s("B",re),this},p.fillStrokeEvenOdd=function(re){return _s("B*",re),this};var _s=function(re,Oe){Yi(Oe)==="object"?Yd(Oe,re):Ue(re)},Mh=function(re){re===null||T===A.ADVANCED&&re===void 0||(re=zm(re),Ue(re))};function zs(re,Oe,et,mt,jt){var qt=new qv(Oe||this.boundingBox,et||this.xStep,mt||this.yStep,this.gState,jt||this.matrix);qt.stream=this.stream;var nr=re+"$$"+this.cloneIndex+++"$$";return ki(nr,qt),qt}var Yd=function(re,Oe){var et=ol[re.key],mt=ya[et];if(mt instanceof xg)Ue("q"),Ue(Or(Oe)),mt.gState&&p.setGState(mt.gState),Ue(re.matrix.toString()+" cm"),Ue("/"+et+" sh"),Ue("Q");else if(mt instanceof qv){var jt=new ln(1,0,0,-1,0,ql());re.matrix&&(jt=jt.multiply(re.matrix||sa),et=zs.call(mt,re.key,re.boundingBox,re.xStep,re.yStep,jt).id),Ue("q"),Ue("/Pattern cs"),Ue("/"+et+" scn"),mt.gState&&p.setGState(mt.gState),Ue(Oe),Ue("Q")}},Or=function(re){switch(re){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Rf=p.moveTo=function(re,Oe){return Ue(M(q(re))+" "+M(ae(Oe))+" m"),this},hc=p.lineTo=function(re,Oe){return Ue(M(q(re))+" "+M(ae(Oe))+" l"),this},cl=p.curveTo=function(re,Oe,et,mt,jt,qt){return Ue([M(q(re)),M(ae(Oe)),M(q(et)),M(ae(mt)),M(q(jt)),M(ae(qt)),"c"].join(" ")),this};p.__private__.line=p.line=function(re,Oe,et,mt,jt){if(isNaN(re)||isNaN(Oe)||isNaN(et)||isNaN(mt)||!zn(jt))throw new Error("Invalid arguments passed to jsPDF.line");return T===A.COMPAT?this.lines([[et-re,mt-Oe]],re,Oe,[1,1],jt||"S"):this.lines([[et-re,mt-Oe]],re,Oe,[1,1]).stroke()},p.__private__.lines=p.lines=function(re,Oe,et,mt,jt,qt){var nr,vt,_n,Vn,zt,Wa,gs,Ai,xs,To,ja,pc;if(typeof re=="number"&&(pc=et,et=Oe,Oe=re,re=pc),mt=mt||[1,1],qt=qt||!1,isNaN(Oe)||isNaN(et)||!Array.isArray(re)||!Array.isArray(mt)||!zn(jt)||typeof qt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rf(Oe,et),nr=mt[0],vt=mt[1],Vn=re.length,To=Oe,ja=et,_n=0;_n<Vn;_n++)(zt=re[_n]).length===2?(To=zt[0]*nr+To,ja=zt[1]*vt+ja,hc(To,ja)):(Wa=zt[0]*nr+To,gs=zt[1]*vt+ja,Ai=zt[2]*nr+To,xs=zt[3]*vt+ja,To=zt[4]*nr+To,ja=zt[5]*vt+ja,cl(Wa,gs,Ai,xs,To,ja));return qt&&Ca(),Mh(jt),this},p.path=function(re){for(var Oe=0;Oe<re.length;Oe++){var et=re[Oe],mt=et.c;switch(et.op){case"m":Rf(mt[0],mt[1]);break;case"l":hc(mt[0],mt[1]);break;case"c":cl.apply(this,mt);break;case"h":Ca()}}return this},p.__private__.rect=p.rect=function(re,Oe,et,mt,jt){if(isNaN(re)||isNaN(Oe)||isNaN(et)||isNaN(mt)||!zn(jt))throw new Error("Invalid arguments passed to jsPDF.rect");return T===A.COMPAT&&(mt=-mt),Ue([M(q(re)),M(ae(Oe)),M(q(et)),M(q(mt)),"re"].join(" ")),Mh(jt),this},p.__private__.triangle=p.triangle=function(re,Oe,et,mt,jt,qt,nr){if(isNaN(re)||isNaN(Oe)||isNaN(et)||isNaN(mt)||isNaN(jt)||isNaN(qt)||!zn(nr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[et-re,mt-Oe],[jt-et,qt-mt],[re-jt,Oe-qt]],re,Oe,[1,1],nr,!0),this},p.__private__.roundedRect=p.roundedRect=function(re,Oe,et,mt,jt,qt,nr){if(isNaN(re)||isNaN(Oe)||isNaN(et)||isNaN(mt)||isNaN(jt)||isNaN(qt)||!zn(nr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return jt=Math.min(jt,.5*et),qt=Math.min(qt,.5*mt),this.lines([[et-2*jt,0],[jt*vt,0,jt,qt-qt*vt,jt,qt],[0,mt-2*qt],[0,qt*vt,-jt*vt,qt,-jt,qt],[2*jt-et,0],[-jt*vt,0,-jt,-qt*vt,-jt,-qt],[0,2*qt-mt],[0,-qt*vt,jt*vt,-qt,jt,-qt]],re+jt,Oe,[1,1],nr,!0),this},p.__private__.ellipse=p.ellipse=function(re,Oe,et,mt,jt){if(isNaN(re)||isNaN(Oe)||isNaN(et)||isNaN(mt)||!zn(jt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qt=4/3*(Math.SQRT2-1)*et,nr=4/3*(Math.SQRT2-1)*mt;return Rf(re+et,Oe),cl(re+et,Oe-nr,re+qt,Oe-mt,re,Oe-mt),cl(re-qt,Oe-mt,re-et,Oe-nr,re-et,Oe),cl(re-et,Oe+nr,re-qt,Oe+mt,re,Oe+mt),cl(re+qt,Oe+mt,re+et,Oe+nr,re+et,Oe),Mh(jt),this},p.__private__.circle=p.circle=function(re,Oe,et,mt){if(isNaN(re)||isNaN(Oe)||isNaN(et)||!zn(mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(re,Oe,et,et,mt)},p.setFont=function(re,Oe,et){return et&&(Oe=B(Oe,et)),na=Ts(re,Oe,{disableWarning:!1}),this};var as=p.__private__.getFont=p.getFont=function(){return An[Ts.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var re,Oe,et={};for(re in pn)if(pn.hasOwnProperty(re))for(Oe in et[re]=[],pn[re])pn[re].hasOwnProperty(Oe)&&et[re].push(Oe);return et},p.addFont=function(re,Oe,et,mt,jt){var qt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qt.indexOf(arguments[3])!==-1?jt=arguments[3]:arguments[3]&&qt.indexOf(arguments[3])==-1&&(et=B(et,mt)),jt=jt||"Identity-H",zl.call(this,re,Oe,et,jt)};var Wl,Vs=e.lineWidth||.200025,ou=p.__private__.getLineWidth=p.getLineWidth=function(){return Vs},Eo=p.__private__.setLineWidth=p.setLineWidth=function(re){return Vs=re,Ue(M(q(re))+" w"),this};p.__private__.setLineDash=da.API.setLineDash=da.API.setLineDashPattern=function(re,Oe){if(re=re||[],Oe=Oe||0,isNaN(Oe)||!Array.isArray(re))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return re=re.map(function(et){return M(q(et))}).join(" "),Oe=M(q(Oe)),Ue("["+re+"] "+Oe+" d"),this};var Lh=p.__private__.getLineHeight=p.getLineHeight=function(){return xr*Wl};p.__private__.getLineHeight=p.getLineHeight=function(){return xr*Wl};var Bh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(re){return typeof(re=re||1.15)=="number"&&(Wl=re),this},$h=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Wl};Bh(e.lineHeight);var lu=p.__private__.getHorizontalCoordinate=function(re){return q(re)},Uu=p.__private__.getVerticalCoordinate=function(re){return T===A.ADVANCED?re:yr[le].mediaBox.topRightY-yr[le].mediaBox.bottomLeftY-q(re)},Vm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(re){return M(lu(re))},ei=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(re){return M(Uu(re))},mc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Je(mc)},p.__private__.setStrokeColor=p.setDrawColor=function(re,Oe,et,mt){return mc=it({ch1:re,ch2:Oe,ch3:et,ch4:mt,pdfColorType:"draw",precision:2}),Ue(mc),this};var pd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Je(pd)},p.__private__.setFillColor=p.setFillColor=function(re,Oe,et,mt){return pd=it({ch1:re,ch2:Oe,ch3:et,ch4:mt,pdfColorType:"fill",precision:2}),Ue(pd),this};var Yo=e.textColor||"0 g",Wm=p.__private__.getTextColor=p.getTextColor=function(){return Je(Yo)};p.__private__.setTextColor=p.setTextColor=function(re,Oe,et,mt){return Yo=it({ch1:re,ch2:Oe,ch3:et,ch4:mt,pdfColorType:"text",precision:3}),this};var $t=e.charSpace,Aa=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat($t||0)};p.__private__.setCharSpace=p.setCharSpace=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $t=re,this};var Ns=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(re){var Oe=p.CapJoinStyles[re];if(Oe===void 0)throw new Error("Line cap style of '"+re+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ns=Oe,Ue(Oe+" J"),this};var zu=0;p.__private__.setLineJoin=p.setLineJoin=function(re){var Oe=p.CapJoinStyles[re];if(Oe===void 0)throw new Error("Line join style of '"+re+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zu=Oe,Ue(Oe+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(re){if(re=re||0,isNaN(re))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ue(M(q(re))+" M"),this},p.GState=pC,p.setGState=function(re){(re=typeof re=="string"?Di[fa[re]]:Mf(null,re)).equals(Wi)||(Ue("/"+re.id+" gs"),Wi=re)};var Mf=function(re,Oe){if(!re||!fa[re]){var et=!1;for(var mt in Di)if(Di.hasOwnProperty(mt)&&Di[mt].equals(Oe)){et=!0;break}if(et)Oe=Di[mt];else{var jt="GS"+(Object.keys(Di).length+1).toString(10);Di[jt]=Oe,Oe.id=jt}return re&&(fa[re]=Oe.id),zr.publish("addGState",Oe),Oe}};p.addGState=function(re,Oe){return Mf(re,Oe),this},p.saveGraphicsState=function(){return Ue("q"),Va.push({key:na,size:xr,color:Yo}),this},p.restoreGraphicsState=function(){Ue("Q");var re=Va.pop();return na=re.key,xr=re.size,Yo=re.color,Wi=null,this},p.setCurrentTransformationMatrix=function(re){return Ue(re.toString()+" cm"),this},p.comment=function(re){return Ue("#"+re),this};var Xd=function(re,Oe){var et=re||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return et},set:function(qt){isNaN(qt)||(et=parseFloat(qt))}});var mt=Oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mt},set:function(qt){isNaN(qt)||(mt=parseFloat(qt))}});var jt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return jt},set:function(qt){jt=qt.toString()}}),this},Jd=function(re,Oe,et,mt){Xd.call(this,re,Oe),this.type="rect";var jt=et||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return jt},set:function(nr){isNaN(nr)||(jt=parseFloat(nr))}});var qt=mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qt},set:function(nr){isNaN(nr)||(qt=parseFloat(nr))}}),this},Lf=function(){this.page=Za,this.currentPage=le,this.pages=Ge.slice(0),this.pagesContext=yr.slice(0),this.x=ws,this.y=Mn,this.matrix=Nr,this.width=pa(le),this.height=ql(le),this.outputDestination=at,this.id="",this.objectNumber=-1};Lf.prototype.restore=function(){Za=this.page,le=this.currentPage,yr=this.pagesContext,Ge=this.pages,ws=this.x,Mn=this.y,Nr=this.matrix,Hl(le,this.width),ri(le,this.height),at=this.outputDestination};var cu=function(re,Oe,et,mt,jt){Ti.push(new Lf),Za=le=0,Ge=[],ws=re,Mn=Oe,Nr=jt,Tn([et,mt])},Mi=function(re){if(Ei[re])Ti.pop().restore();else{var Oe=new Lf,et="Xo"+(Object.keys(Xr).length+1).toString(10);Oe.id=et,Ei[re]=et,Xr[et]=Oe,zr.publish("addFormObject",Oe),Ti.pop().restore()}};for(var Zd in p.beginFormObject=function(re,Oe,et,mt,jt){return cu(re,Oe,et,mt,jt),this},p.endFormObject=function(re){return Mi(re),this},p.doFormObject=function(re,Oe){var et=Xr[Ei[re]];return Ue("q"),Ue(Oe.toString()+" cm"),Ue("/"+et.id+" Do"),Ue("Q"),this},p.getFormObject=function(re){var Oe=Xr[Ei[re]];return{x:Oe.x,y:Oe.y,width:Oe.width,height:Oe.height,matrix:Oe.matrix}},p.save=function(re,Oe){return re=re||"generated.pdf",(Oe=Oe||{}).returnPromise=Oe.returnPromise||!1,Oe.returnPromise===!1?(ug(qd(fi()),re),typeof ug.unload=="function"&&xa.setTimeout&&setTimeout(ug.unload,911),this):new Promise(function(et,mt){try{var jt=ug(qd(fi()),re);typeof ug.unload=="function"&&xa.setTimeout&&setTimeout(ug.unload,911),et(jt)}catch(qt){mt(qt.message)}})},da.API)da.API.hasOwnProperty(Zd)&&(Zd==="events"&&da.API.events.length?function(re,Oe){var et,mt,jt;for(jt=Oe.length-1;jt!==-1;jt--)et=Oe[jt][0],mt=Oe[jt][1],re.subscribe.apply(re,[et].concat(typeof mt=="function"?[mt]:mt))}(zr,da.API.events):p[Zd]=da.API[Zd]);var pa=p.getPageWidth=function(re){return(yr[re=re||le].mediaBox.topRightX-yr[re].mediaBox.bottomLeftX)/Yr},Hl=p.setPageWidth=function(re,Oe){yr[re].mediaBox.topRightX=Oe*Yr+yr[re].mediaBox.bottomLeftX},ql=p.getPageHeight=function(re){return(yr[re=re||le].mediaBox.topRightY-yr[re].mediaBox.bottomLeftY)/Yr},ri=p.setPageHeight=function(re,Oe){yr[re].mediaBox.topRightY=Oe*Yr+yr[re].mediaBox.bottomLeftY};return p.internal={pdfEscape:$s,getStyle:zm,getFont:as,getFontSize:lr,getCharSpace:Aa,getTextColor:Wm,getLineHeight:Lh,getLineHeightFactor:$h,getLineWidth:ou,write:Ct,getHorizontalCoordinate:lu,getVerticalCoordinate:Uu,getCoordinateString:Vm,getVerticalCoordinateString:ei,collections:{},newObject:si,newAdditionalObject:We,newObjectDeferred:Ri,newObjectDeferredBegin:Fe,getFilters:wt,putStream:Pt,events:zr,scaleFactor:Yr,pageSize:{getWidth:function(){return pa(le)},setWidth:function(re){Hl(le,re)},getHeight:function(){return ql(le)},setHeight:function(re){ri(le,re)}},encryptionOptions:f,encryption:ks,getEncryptor:Kd,output:Df,getNumberOfPages:Ln,pages:Ge,out:Ue,f2:Z,f3:K,getPageInfo:Ci,getPageInfoByObjId:dn,getCurrentPageInfo:iu,getPDFVersion:b,Point:Xd,Rectangle:Jd,Matrix:ln,hasHotfix:Gd},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return pa(le)},set:function(re){Hl(le,re)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ql(le)},set:function(re){ri(le,re)},enumerable:!0,configurable:!0}),ps.call(p,Ot),na="F1",Us(i,r),zr.publish("initialized"),p}_v.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},_v.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_v.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},_v.prototype.processOwnerPassword=function(e,t){return VO(zO(t).substr(0,5),e)},_v.prototype.encryptor=function(e,t){var r=zO(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return VO(r,n)}},pC.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yi(e)!==Yi(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},da.API={events:[]},da.version="2.5.2";var Fo=da.API,RR=1,Ax=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ba=function(e){return e.toFixed(2)},up=function(e){return e.toFixed(5)};Fo.__acroform__={};var hd=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},CV=function(e){return e*RR},Qh=function(e){var t=new rse,r=Rn.internal.getHeight(e)||0,n=Rn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ba(n)),Number(Ba(r))],t},jPe=Fo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},EPe=Fo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},TPe=Fo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Jo=Fo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TPe(e,t-1)},Zo=Fo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jPe(e,t-1)},Qo=Fo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EPe(e,t-1)},kPe=Fo.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Ba(c.lowerLeft_X)),Number(Ba(c.lowerLeft_Y)),Number(Ba(c.upperRight_X)),Number(Ba(c.upperRight_Y))]},PPe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=WO(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ba(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Qh(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},WO=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(K){return K.split(`
`)}):i.map(function(K){return[K]});var a=r,o=Rn.internal.getHeight(e)||0;o=o<0?-o:o;var l=Rn.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(K,q,ie){if(K+1<i.length){var ae=q+" "+i[K+1][0];return eN(ae,e,ie).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,f,h=eN("3",e,a).height,g=e.multiline?o-a:(o-h)/2,p=g+=2,S=0,b=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+eN(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var C="",A=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var F=!1;if(i[T].length!==1&&N!==i[T].length-1){if((h+2)*(A+2)+2>o)continue e;C+=i[T][N],F=!0,b=T,T--}else{C=(C+=i[T][N]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var L=parseInt(T),B=c(L,C,a),M=T>=i.length-1;if(B&&!M){C+=" ",N=0;continue}if(B||M){if(M)b=L;else if(e.multiline&&(h+2)*(A+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(A+2)+2>o)continue e;b=L}}for(var W="",z=S;z<=b;z++){var Z=i[z];if(e.multiline){if(z===b){W+=Z[N]+" ",N=(N+1)%Z.length;continue}if(z===S){W+=Z[Z.length-1]+" ";continue}}W+=Z[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,f=eN(W,e,a).width,e.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;case"left":default:u=2}t+=Ba(u)+" "+Ba(p)+` Td
`,t+="("+Ax(W)+`) Tj
`,t+=-Ba(u)+` 0 Td
`,p=-(a+2),f=0,S=F?b:b+1,A++,C=""}break}return n.text=t,n.fontSize=a,n},eN=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},OPe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},IPe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},FPe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),Yi(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},DPe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(kh.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(OPe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");RR=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nse,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&IPe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=kPe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rn.createDefaultAppearanceStream(l),Yi(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=PPe(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var S=p[o];typeof S=="function"&&(S=S.call(i,l)),h+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(i,l)),h+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&FPe(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},tse=Fo.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Yi(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ax(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M8=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ax(n(e))+")"},c0=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};c0.prototype.toString=function(){return this.objId+" 0 R"},c0.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},c0.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:tse(i,this.objId,this.scope)}):i instanceof c0?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var rse=function(){c0.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};hd(rse,c0);var nse=function(){c0.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ax(r(e))+")"}},set:function(r){e=r}})};hd(nse,c0);var kh=function e(){c0.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jo(t,3)},set:function(C){C?this.F=Zo(t,3):this.F=Qo(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');r=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof gC)return;a="FieldObject"+e.FieldNum++}var C=function(A){return A};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Ax(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/RR:u},set:function(C){u=C}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof gC||this instanceof Dg))return M8(h,this.objId,this.scope)},set:function(C){C=C.toString(),h=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof tc?g:M8(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof tc?C:C.substr(0,1)==="("?dv(C.substr(1,C.length-2)):dv(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof tc?dv(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof tc?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof tc?p:M8(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=this instanceof tc?C:C.substr(0,1)==="("?dv(C.substr(1,C.length-2)):dv(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof tc?dv(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof tc?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(C){C=!!C,b=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(C){S=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,1)},set:function(C){C?this.Ff=Zo(this.Ff,1):this.Ff=Qo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,2)},set:function(C){C?this.Ff=Zo(this.Ff,2):this.Ff=Qo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,3)},set:function(C){C?this.Ff=Zo(this.Ff,3):this.Ff=Qo(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');N=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(N){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};hd(kh,c0);var h2=function(){kh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tse(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,18)},set:function(r){r?this.Ff=Zo(this.Ff,18):this.Ff=Qo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zo(this.Ff,19):this.Ff=Qo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,20)},set:function(r){r?(this.Ff=Zo(this.Ff,20),t.sort()):this.Ff=Qo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,22)},set:function(r){r?this.Ff=Zo(this.Ff,22):this.Ff=Qo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,23)},set:function(r){r?this.Ff=Zo(this.Ff,23):this.Ff=Qo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,27)},set:function(r){r?this.Ff=Zo(this.Ff,27):this.Ff=Qo(this.Ff,27)}}),this.hasAppearanceStream=!1};hd(h2,kh);var m2=function(){h2.call(this),this.fontName="helvetica",this.combo=!1};hd(m2,h2);var p2=function(){m2.call(this),this.combo=!0};hd(p2,m2);var sS=function(){p2.call(this),this.edit=!0};hd(sS,p2);var tc=function(){kh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,15)},set:function(r){r?this.Ff=Zo(this.Ff,15):this.Ff=Qo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,16)},set:function(r){r?this.Ff=Zo(this.Ff,16):this.Ff=Qo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,17)},set:function(r){r?this.Ff=Zo(this.Ff,17):this.Ff=Qo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,26)},set:function(r){r?this.Ff=Zo(this.Ff,26):this.Ff=Qo(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ax(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Yi(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};hd(tc,kh);var oS=function(){tc.call(this),this.pushButton=!0};hd(oS,tc);var g2=function(){tc.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};hd(g2,tc);var gC=function(){var e,t;kh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Ax(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Yi(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hd(gC,kh),g2.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},g2.prototype.createOption=function(e){var t=new gC;return t.Parent=this,t.optionName=e,this.Kids.push(t),RPe.call(this.scope,t),t};var lS=function(){tc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rn.CheckBox.createAppearanceStream()};hd(lS,tc);var Dg=function(){kh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,13)},set:function(t){t?this.Ff=Zo(this.Ff,13):this.Ff=Qo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,21)},set:function(t){t?this.Ff=Zo(this.Ff,21):this.Ff=Qo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,23)},set:function(t){t?this.Ff=Zo(this.Ff,23):this.Ff=Qo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,24)},set:function(t){t?this.Ff=Zo(this.Ff,24):this.Ff=Qo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,25)},set:function(t){t?this.Ff=Zo(this.Ff,25):this.Ff=Qo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,26)},set:function(t){t?this.Ff=Zo(this.Ff,26):this.Ff=Qo(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hd(Dg,kh);var cS=function(){Dg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jo(this.Ff,14)},set:function(e){e?this.Ff=Zo(this.Ff,14):this.Ff=Qo(this.Ff,14)}}),this.password=!0};hd(cS,Dg);var Rn={CheckBox:{createAppearanceStream:function(){return{N:{On:Rn.CheckBox.YesNormal},D:{On:Rn.CheckBox.YesPushDown,Off:Rn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Qh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=WO(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ba(Rn.internal.getWidth(e))+" "+Ba(Rn.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ba(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Qh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Rn.internal.getHeight(e),o=Rn.internal.getWidth(e),l=WO(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ba(o)+" "+Ba(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ba(o-1)+" "+Ba(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ba(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Qh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ba(Rn.internal.getWidth(e))+" "+Ba(Rn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rn.RadioButton.Circle.YesNormal,t.D[e]=Rn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Qh(e);t.scope=e.scope;var r=[],n=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Rn.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+up(Rn.internal.getWidth(e)/2)+" "+up(Rn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Qh(e);t.scope=e.scope;var r=[],n=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Rn.internal.Bezier_C).toFixed(5)),o=Number((n*Rn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+up(Rn.internal.getWidth(e)/2)+" "+up(Rn.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+up(Rn.internal.getWidth(e)/2)+" "+up(Rn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Qh(e);t.scope=e.scope;var r=[],n=Rn.internal.getWidth(e)<=Rn.internal.getHeight(e)?Rn.internal.getWidth(e)/4:Rn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Rn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+up(Rn.internal.getWidth(e)/2)+" "+up(Rn.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rn.RadioButton.Cross.YesNormal,t.D[e]=Rn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Qh(e);t.scope=e.scope;var r=[],n=Rn.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ba(Rn.internal.getWidth(e)-2)+" "+Ba(Rn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ba(n.x1.x)+" "+Ba(n.x1.y)+" m"),r.push(Ba(n.x2.x)+" "+Ba(n.x2.y)+" l"),r.push(Ba(n.x4.x)+" "+Ba(n.x4.y)+" m"),r.push(Ba(n.x3.x)+" "+Ba(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Qh(e);t.scope=e.scope;var r=Rn.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ba(Rn.internal.getWidth(e))+" "+Ba(Rn.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ba(Rn.internal.getWidth(e)-2)+" "+Ba(Rn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ba(r.x1.x)+" "+Ba(r.x1.y)+" m"),n.push(Ba(r.x2.x)+" "+Ba(r.x2.y)+" l"),n.push(Ba(r.x4.x)+" "+Ba(r.x4.y)+" m"),n.push(Ba(r.x3.x)+" "+Ba(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Qh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ba(Rn.internal.getWidth(e))+" "+Ba(Rn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rn.internal.getWidth(e),r=Rn.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Rn.internal.getWidth=function(e){var t=0;return Yi(e)==="object"&&(t=CV(e.Rect[2])),t},Rn.internal.getHeight=function(e){var t=0;return Yi(e)==="object"&&(t=CV(e.Rect[3])),t};var RPe=Fo.addField=function(e){if(DPe(this,e),!(e instanceof kh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Fo.AcroFormChoiceField=h2,Fo.AcroFormListBox=m2,Fo.AcroFormComboBox=p2,Fo.AcroFormEditBox=sS,Fo.AcroFormButton=tc,Fo.AcroFormPushButton=oS,Fo.AcroFormRadioButton=g2,Fo.AcroFormCheckBox=lS,Fo.AcroFormTextField=Dg,Fo.AcroFormPasswordField=cS,Fo.AcroFormAppearance=Rn,Fo.AcroForm={ChoiceField:h2,ListBox:m2,ComboBox:p2,EditBox:sS,Button:tc,PushButton:oS,RadioButton:g2,CheckBox:lS,TextField:Dg,PasswordField:cS,Appearance:Rn},da.AcroForm={ChoiceField:h2,ListBox:m2,ComboBox:p2,EditBox:sS,Button:tc,PushButton:oS,RadioButton:g2,CheckBox:lS,TextField:Dg,PasswordField:cS,Appearance:Rn};function ase(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(K,q){var ie,ae,X,se,he,ce=t;if((q=q||t)==="RGBA"||K.data!==void 0&&K.data instanceof Uint8ClampedArray&&"height"in K&&"width"in K)return"RGBA";if(B(K))for(he in r)for(X=r[he],ie=0;ie<X.length;ie+=1){for(se=!0,ae=0;ae<X[ie].length;ae+=1)if(X[ie][ae]!==void 0&&X[ie][ae]!==K[ae]){se=!1;break}if(se===!0){ce=he;break}}else for(he in r)for(X=r[he],ie=0;ie<X.length;ie+=1){for(se=!0,ae=0;ae<X[ie].length;ae+=1)if(X[ie][ae]!==void 0&&X[ie][ae]!==K.charCodeAt(ae)){se=!1;break}if(se===!0){ce=he;break}}return ce===t&&q!==t&&(ce=q),ce},i=function K(q){for(var ie=this.internal.write,ae=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:q.width}),se.push({key:"Height",value:q.height}),q.colorSpace===N.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===N.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)){for(var he="",ce=0,ge=q.transparency.length;ce<ge;ce++)he+=q.transparency[ce]+" "+q.transparency[ce]+" ";se.push({key:"Mask",value:"["+he+"]"})}q.sMask!==void 0&&se.push({key:"SMask",value:q.objectId+1+" 0 R"});var we=q.filter!==void 0?["/"+q.filter]:void 0;if(ae({data:q.data,additionalKeyValues:se,alreadyAppliedFilters:we,objectId:q.objectId}),ie("endobj"),"sMask"in q&&q.sMask!==void 0){var Ce="/Predictor "+q.predictor+" /Colors 1 /BitsPerComponent "+q.bitsPerComponent+" /Columns "+q.width,Q={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:q.bitsPerComponent,decodeParameters:Ce,data:q.sMask};"filter"in q&&(Q.filter=q.filter),K.call(this,Q)}if(q.colorSpace===N.INDEXED){var le=this.internal.newObject();ae({data:W(new Uint8Array(q.palette)),objectId:le}),ie("endobj")}},a=function(){var K=this.internal.collections.addImage_images;for(var q in K)i.call(this,K[q])},o=function(){var K,q=this.internal.collections.addImage_images,ie=this.internal.write;for(var ae in q)ie("/I"+(K=q[ae]).index,K.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var K=this.internal.collections.addImage_images;return l.call(this),K},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(K){return typeof e["process"+K.toUpperCase()]=="function"},h=function(K){return Yi(K)==="object"&&K.nodeType===1},g=function(K,q){if(K.nodeName==="IMG"&&K.hasAttribute("src")){var ie=""+K.getAttribute("src");if(ie.indexOf("data:image/")===0)return Ww(unescape(ie).split("base64,").pop());var ae=e.loadFile(ie,!0);if(ae!==void 0)return ae}if(K.nodeName==="CANVAS"){if(K.width===0||K.height===0)throw new Error("Given canvas must have data. Canvas width: "+K.width+", height: "+K.height);var X;switch(q){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return Ww(K.toDataURL(X,1).split("base64,").pop())}},p=function(K){var q=this.internal.collections.addImage_images;if(q){for(var ie in q)if(K===q[ie].alias)return q[ie]}},S=function(K,q,ie){return K||q||(K=-96,q=-96),K<0&&(K=-1*ie.width*72/K/this.internal.scaleFactor),q<0&&(q=-1*ie.height*72/q/this.internal.scaleFactor),K===0&&(K=q*ie.width/ie.height),q===0&&(q=K*ie.height/ie.width),[K,q]},b=function(K,q,ie,ae,X,se){var he=S.call(this,ie,ae,X),ce=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,we=c.call(this);if(ie=he[0],ae=he[1],we[X.index]=X,se){se*=Math.PI/180;var Ce=Math.cos(se),Q=Math.sin(se),le=function(ee){return ee.toFixed(4)},ne=[le(Ce),le(Q),le(-1*Q),le(Ce),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,ce(K),ge(q+ae),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([ce(ie),"0","0",ce(ae),"0","0","cm"].join(" "))):this.internal.write([ce(ie),"0","0",ce(ae),ce(K),ge(q+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(K){var q,ie,ae=0;if(typeof K=="string")for(ie=K.length,q=0;q<ie;q++)ae=(ae<<5)-ae+K.charCodeAt(q),ae|=0;else if(B(K))for(ie=K.byteLength/2,q=0;q<ie;q++)ae=(ae<<5)-ae+K[q],ae|=0;return ae},T=e.__addimage__.validateStringAsBase64=function(K){(K=K||"").toString().trim();var q=!0;return K.length===0&&(q=!1),K.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(K.substr(0,K.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(K.substr(-2))===!1&&(q=!1),q},F=e.__addimage__.extractImageFromDataUrl=function(K){var q=(K=K||"").split("base64,"),ie=null;if(q.length===2){var ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(q[0]);Array.isArray(ae)&&(ie={mimeType:ae[1],charset:ae[2],data:q[1]})}return ie},L=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(K){return L()&&K instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(K){return L()&&typeof Uint32Array<"u"&&(K instanceof Int8Array||K instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array)},M=e.__addimage__.binaryStringToUint8Array=function(K){for(var q=K.length,ie=new Uint8Array(q),ae=0;ae<q;ae++)ie[ae]=K.charCodeAt(ae);return ie},W=e.__addimage__.arrayBufferToBinaryString=function(K){for(var q="",ie=B(K)?K:new Uint8Array(K),ae=0;ae<ie.length;ae+=8192)q+=String.fromCharCode.apply(null,ie.subarray(ae,ae+8192));return q};e.addImage=function(){var K,q,ie,ae,X,se,he,ce,ge;if(typeof arguments[1]=="number"?(q=t,ie=arguments[1],ae=arguments[2],X=arguments[3],se=arguments[4],he=arguments[5],ce=arguments[6],ge=arguments[7]):(q=arguments[1],ie=arguments[2],ae=arguments[3],X=arguments[4],se=arguments[5],he=arguments[6],ce=arguments[7],ge=arguments[8]),Yi(K=arguments[0])==="object"&&!h(K)&&"imageData"in K){var we=K;K=we.imageData,q=we.format||q||t,ie=we.x||ie||0,ae=we.y||ae||0,X=we.w||we.width||X,se=we.h||we.height||se,he=we.alias||he,ce=we.compression||ce,ge=we.rotation||we.angle||ge}var Ce=this.internal.getFilters();if(ce===void 0&&Ce.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(ie)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var Q=z.call(this,K,q,he,ce);return b.call(this,ie,ae,X,se,Q,ge),this};var z=function(K,q,ie,ae){var X,se,he;if(typeof K=="string"&&n(K)===t){K=unescape(K);var ce=Z(K,!1);(ce!==""||(ce=e.loadFile(K,!0))!==void 0)&&(K=ce)}if(h(K)&&(K=g(K,q)),q=n(K,q),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((he=ie)==null||he.length===0)&&(ie=function(ge){return typeof ge=="string"||B(ge)?A(ge):B(ge.data)?A(ge.data):null}(K)),(X=p.call(this,ie))||(L()&&(K instanceof Uint8Array||q==="RGBA"||(se=K,K=M(K))),X=this["process"+q.toUpperCase()](K,u.call(this),ie,function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in e.image_compression?ge:C.NONE}(ae),se)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},Z=e.__addimage__.convertBase64ToBinaryString=function(K,q){var ie;q=typeof q!="boolean"||q;var ae,X="";if(typeof K=="string"){ae=(ie=F(K))!==null?ie.data:K;try{X=Ww(ae)}catch(se){if(q)throw T(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};e.getImageProperties=function(K){var q,ie,ae="";if(h(K)&&(K=g(K)),typeof K=="string"&&n(K)===t&&((ae=Z(K,!1))===""&&(ae=e.loadFile(K)||""),K=ae),ie=n(K),!f(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!L()||K instanceof Uint8Array||(K=M(K)),!(q=this["process"+ie.toUpperCase()](K)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=ie,q}})(da.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};da.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(b.objId),A=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(C(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(C(A))+") >>",b.content=a;var T=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(b.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(S(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var L=this.annotations._nameMap[n.options.name];n.options.pageNumber=L.page,n.options.top=L.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(da.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&t[b.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(b){var N=0,C=r,A="",T=0;for(N=0;N<b.length;N+=1)C[b.charCodeAt(N)]!==void 0?(T++,typeof(C=C[b.charCodeAt(N)])=="number"&&(A+=String.fromCharCode(C),C=r,T=0),N===b.length-1&&(C=r,A+=b.charAt(N-(T-1)),N-=T-1,T=0)):(C=r,A+=b.charAt(N-T),N-=T,T=0);return A};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(b,N,C){return o(b)?a(b)===!1?-1:!u(b)||!o(N)&&!o(C)||!o(C)&&l(N)||l(b)&&!o(N)||l(b)&&c(N)||l(b)&&l(N)?0:f(b)&&o(N)&&!l(N)&&o(C)&&u(C)?3:l(b)||!o(C)?1:2:-1},p=function(b){var N=0,C=0,A=0,T="",F="",L="",B=(b=b||"").split("\\s+"),M=[];for(N=0;N<B.length;N+=1){for(M.push(""),C=0;C<B[N].length;C+=1)T=B[N][C],F=B[N][C-1],L=B[N][C+1],o(T)?(A=g(T,F,L),M[N]+=A!==-1?String.fromCharCode(t[T.charCodeAt(0)][A]):T):M[N]+=T;M[N]=h(M[N])}return M.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var b,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(N)){var A=0;for(C=[],A=0;A<N.length;A+=1)Array.isArray(N[A])?C.push([p(N[A][0]),N[A][1],N[A][2]]):C.push([p(N[A])]);b=C}else b=p(N);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",S])}(da.API),da.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(da.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(b){S=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,S=0,b=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=u.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(T,F){return T.concat(N.splitTextToSize(F,C))},[])):c=Array.isArray(c)?c:[c];for(var A=0;A<c.length;A++)p<(b=this.getStringUnitWidth(c[A],{font:h})*f)&&(p=b);return p!==0&&(S=c.length),{w:p/=g,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,h,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,S,b,N,C=[],A=[],T=[],F={},L={},B=[],M=[],W=(g=g||{}).autoSize||!1,z=g.printHeaders!==!1,Z=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,K=g.margins||Object.assign({width:this.getPageWidth()},t),q=typeof g.padding=="number"?g.padding:3,ie=g.headerBackgroundColor||"#c8c8c8",ae=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=K,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=ae,this.setFontSize(Z),h==null)A=C=Object.keys(f[0]),T=C.map(function(){return"left"});else if(Array.isArray(h)&&Yi(h[0])==="object")for(C=h.map(function(we){return we.name}),A=h.map(function(we){return we.prompt||we.name||""}),T=h.map(function(we){return we.align||"left"}),p=0;p<h.length;p+=1)L[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(A=C=h,T=C.map(function(){return"left"}));if(W||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<C.length;p+=1){for(F[N=C[p]]=f.map(function(we){return we[N]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=F[N],this.setFont(void 0,"normal"),b=0;b<S.length;b+=1)B.push(this.getTextDimensions(S[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[N]=Math.max.apply(null,B)+q+q,B=[]}if(z){var X={};for(p=0;p<C.length;p+=1)X[C[p]]={},X[C[p]].text=A[p],X[C[p]].align=T[p];var se=l.call(this,X,L);M=C.map(function(we){return new a(c,u,L[we],se,X[we].text,void 0,X[we].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var he=h.reduce(function(we,Ce){return we[Ce.name]=Ce.align,we},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var ce=l.call(this,f[p],L);for(b=0;b<C.length;b+=1){var ge=f[p][C[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:b,data:ge},this),o.call(this,new a(c,u,L[C[b]],ce,ge,p+2,he[C[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var S=c[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+f+f},this).reduce(function(p,S){return Math.max(p,S)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(da.API);var ise={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HO=ase(sse),ose=[100,200,300,400,500,600,700,800,900],MPe=ase(ose);function qO(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return ise[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof HO[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function AV(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var LPe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function EV(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function BPe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},LPe,r.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=qO(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+EV(a)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var f=HO[c],h=f<=HO.normal?-1:1,g=AV(u,sse,f,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g}(a.stretch,o),o=function(c,u){if(u[c])return u[c];for(var f=ise[c],h=0;h<f.length;++h)if(u[f[h]])return u[f[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=MPe[c],h=AV(u,ose,f,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+EV(a)+"'.");return o}function TV(e){return e.trimLeft()}function $Pe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function UPe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var tN,kV,PV,L8=["times"];(function(e){var t,r,n,i,a,o,l,c,u,f=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new c,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var le=Q;Object.defineProperty(this,"pdf",{get:function(){return le}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(ht){ne=!!ht}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ht){ee=!!ht}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(ht){isNaN(ht)||(pe=ht)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(ht){isNaN(ht)||(xe=ht)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ht){var Ue;typeof ht=="number"?Ue=[ht,ht,ht,ht]:((Ue=new Array(4))[0]=ht[0],Ue[1]=ht.length>=2?ht[1]:Ue[0],Ue[2]=ht.length>=3?ht[2]:Ue[0],Ue[3]=ht.length>=4?ht[3]:Ue[1]),u.margin=Ue}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(ht){Ne=ht}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(ht){Se=ht}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(ht){je=ht}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ht){ht instanceof f&&(u=ht)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ht){u.path=ht}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(ht){Ge=ht}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ht){var Ue;Ue=g(ht),this.ctx.fillStyle=Ue.style,this.ctx.isFillTransparent=Ue.a===0,this.ctx.fillOpacity=Ue.a,this.pdf.setFillColor(Ue.r,Ue.g,Ue.b,{a:Ue.a}),this.pdf.setTextColor(Ue.r,Ue.g,Ue.b,{a:Ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ht){var Ue=g(ht);this.ctx.strokeStyle=Ue.style,this.ctx.isStrokeTransparent=Ue.a===0,this.ctx.strokeOpacity=Ue.a,Ue.a===0?this.pdf.setDrawColor(255,255,255):(Ue.a,this.pdf.setDrawColor(Ue.r,Ue.g,Ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ht){["butt","round","square"].indexOf(ht)!==-1&&(this.ctx.lineCap=ht,this.pdf.setLineCap(ht))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ht){isNaN(ht)||(this.ctx.lineWidth=ht,this.pdf.setLineWidth(ht))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ht){["bevel","round","miter"].indexOf(ht)!==-1&&(this.ctx.lineJoin=ht,this.pdf.setLineJoin(ht))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ht){isNaN(ht)||(this.ctx.miterLimit=ht,this.pdf.setMiterLimit(ht))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ht){this.ctx.textBaseline=ht}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ht){["right","end","center","left","start"].indexOf(ht)!==-1&&(this.ctx.textAlign=ht)}});var De=null;function at(ht,Ue){if(De===null){var Ct=function(tr){var Ot=[];return Object.keys(tr).forEach(function(xr){tr[xr].forEach(function(st){var lr=null;switch(st){case"bold":lr={family:xr,weight:"bold"};break;case"italic":lr={family:xr,style:"italic"};break;case"bolditalic":lr={family:xr,weight:"bold",style:"italic"};break;case"":case"normal":lr={family:xr}}lr!==null&&(lr.ref={name:xr,style:st},Ot.push(lr))})}),Ot}(ht.getFontList());De=function(tr){for(var Ot={},xr=0;xr<tr.length;++xr){var st=qO(tr[xr]),lr=st.family,_r=st.stretch,kr=st.style,Gn=st.weight;Ot[lr]=Ot[lr]||{},Ot[lr][_r]=Ot[lr][_r]||{},Ot[lr][_r][kr]=Ot[lr][_r][kr]||{},Ot[lr][_r][kr][Gn]=st}return Ot}(Ct.concat(Ue))}return De}var ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(ht){De=null,ot=ht}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ht){var Ue;if(this.ctx.font=ht,(Ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ht))!==null){var Ct=Ue[1],tr=(Ue[2],Ue[3]),Ot=Ue[4],xr=(Ue[5],Ue[6]),st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ot)[2];Ot=Math.floor(st==="px"?parseFloat(Ot)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ot)*this.pdf.getFontSize():parseFloat(Ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ot);var lr=function(yn){var na,Yr,ws=[],Mn=yn.trim();if(Mn==="")return L8;if(Mn in jV)return[jV[Mn]];for(;Mn!=="";){switch(Yr=null,na=(Mn=TV(Mn)).charAt(0)){case'"':case"'":Yr=$Pe(Mn.substring(1),na);break;default:Yr=UPe(Mn)}if(Yr===null||(ws.push(Yr[0]),(Mn=TV(Yr[1]))!==""&&Mn.charAt(0)!==","))return L8;Mn=Mn.replace(/^,/,"")}return ws}(xr);if(this.fontFaces){var _r=BPe(at(this.pdf,this.fontFaces),lr.map(function(yn){return{family:yn,stretch:"normal",weight:tr,style:Ct}}));this.pdf.setFont(_r.ref.name,_r.ref.style)}else{var kr="";(tr==="bold"||parseInt(tr,10)>=700||Ct==="bold")&&(kr="bold"),Ct==="italic"&&(kr+="italic"),kr.length===0&&(kr="normal");for(var Gn="",sn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jn=0;Jn<lr.length;Jn++){if(this.pdf.internal.getFont(lr[Jn],kr,{noFallback:!0,disableWarning:!0})!==void 0){Gn=lr[Jn];break}if(kr==="bolditalic"&&this.pdf.internal.getFont(lr[Jn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gn=lr[Jn],kr="bold";else if(this.pdf.internal.getFont(lr[Jn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gn=lr[Jn],kr="normal";break}}if(Gn===""){for(var ea=0;ea<lr.length;ea++)if(sn[lr[ea]]){Gn=sn[lr[ea]];break}}Gn=Gn===""?"Times":Gn,this.pdf.setFont(Gn,kr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ht){this.ctx.globalCompositeOperation=ht}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ht){this.ctx.globalAlpha=ht}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ht){this.ctx.lineDashOffset=ht,Ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ht){this.ctx.lineDash=ht,Ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ht){this.ctx.ignoreClearRect=!!ht}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,le){if(isNaN(Q)||isNaN(le))throw Cs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new o(Q,le));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(Q,le)},h.prototype.closePath=function(){var Q=new o(0,0),le=0;for(le=this.path.length-1;le!==-1;le--)if(this.path[le].type==="begin"&&Yi(this.path[le+1])==="object"&&typeof this.path[le+1].x=="number"){Q=new o(this.path[le+1].x,this.path[le+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,le){if(isNaN(Q)||isNaN(le))throw Cs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new o(Q,le));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,le,ne,ee){if(isNaN(ne)||isNaN(ee)||isNaN(Q)||isNaN(le))throw Cs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ne,ee)),xe=this.ctx.transform.applyToPoint(new o(Q,le));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},h.prototype.bezierCurveTo=function(Q,le,ne,ee,pe,xe){if(isNaN(pe)||isNaN(xe)||isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee))throw Cs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new o(pe,xe)),Se=this.ctx.transform.applyToPoint(new o(Q,le)),je=this.ctx.transform.applyToPoint(new o(ne,ee));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:je.x,y2:je.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new o(Ne.x,Ne.y)},h.prototype.arc=function(Q,le,ne,ee,pe,xe){if(isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee)||isNaN(pe))throw Cs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new o(Q,le));Q=Ne.x,le=Ne.y;var Se=this.ctx.transform.applyToPoint(new o(0,ne)),je=this.ctx.transform.applyToPoint(new o(0,0));ne=Math.sqrt(Math.pow(Se.x-je.x,2)+Math.pow(Se.y-je.y,2))}Math.abs(pe-ee)>=2*Math.PI&&(ee=0,pe=2*Math.PI),this.path.push({type:"arc",x:Q,y:le,radius:ne,startAngle:ee,endAngle:pe,counterclockwise:xe})},h.prototype.arcTo=function(Q,le,ne,ee,pe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,le,ne,ee){if(isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee))throw Cs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,le),this.lineTo(Q+ne,le),this.lineTo(Q+ne,le+ee),this.lineTo(Q,le+ee),this.lineTo(Q,le),this.lineTo(Q+ne,le),this.lineTo(Q,le)},h.prototype.fillRect=function(Q,le,ne,ee){if(isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee))throw Cs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,le,ne,ee),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},h.prototype.strokeRect=function(Q,le,ne,ee){if(isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee))throw Cs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(Q,le,ne,ee),this.stroke())},h.prototype.clearRect=function(Q,le,ne,ee){if(isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee))throw Cs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,le,ne,ee))},h.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(le),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},h.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(le),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(Q){var le,ne,ee,pe;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))le=0,ne=0,ee=0,pe=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(xe!==null)le=parseInt(xe[1]),ne=parseInt(xe[2]),ee=parseInt(xe[3]),pe=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)le=parseInt(xe[1]),ne=parseInt(xe[2]),ee=parseInt(xe[3]),pe=parseFloat(xe[4]);else{if(pe=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var Ne=new Zie(Q);Q=Ne.ok?Ne.toHex():"#000000"}Q.length===4?(le=Q.substring(1,2),le+=le,ne=Q.substring(2,3),ne+=ne,ee=Q.substring(3,4),ee+=ee):(le=Q.substring(1,3),ne=Q.substring(3,5),ee=Q.substring(5,7)),le=parseInt(le,16),ne=parseInt(ne,16),ee=parseInt(ee,16)}}return{r:le,g:ne,b:ee,a:pe,style:Q}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(Q,le,ne,ee){if(isNaN(le)||isNaN(ne)||typeof Q!="string")throw Cs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var pe=ce(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;q.call(this,{text:Q,x:le,y:ne,scale:xe,angle:pe,align:this.textAlign,maxWidth:ee})}},h.prototype.strokeText=function(Q,le,ne,ee){if(isNaN(le)||isNaN(ne)||typeof Q!="string")throw Cs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ee=isNaN(ee)?void 0:ee;var pe=ce(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;q.call(this,{text:Q,x:le,y:ne,scale:xe,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:ee})}},h.prototype.measureText=function(Q){if(typeof Q!="string")throw Cs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var le=this.pdf,ne=this.pdf.internal.scaleFactor,ee=le.internal.getFontSize(),pe=le.getStringUnitWidth(Q)*ee/le.internal.scaleFactor,xe=function(Ne){var Se=(Ne=Ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new xe({width:pe*=Math.round(96*ne/72*1e4)/1e4})},h.prototype.scale=function(Q,le){if(isNaN(Q)||isNaN(le))throw Cs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new c(Q,0,0,le,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},h.prototype.rotate=function(Q){if(isNaN(Q))throw Cs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var le=new c(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(le)},h.prototype.translate=function(Q,le){if(isNaN(Q)||isNaN(le))throw Cs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new c(1,0,0,1,Q,le);this.ctx.transform=this.ctx.transform.multiply(ne)},h.prototype.transform=function(Q,le,ne,ee,pe,xe){if(isNaN(Q)||isNaN(le)||isNaN(ne)||isNaN(ee)||isNaN(pe)||isNaN(xe))throw Cs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new c(Q,le,ne,ee,pe,xe);this.ctx.transform=this.ctx.transform.multiply(Ne)},h.prototype.setTransform=function(Q,le,ne,ee,pe,xe){Q=isNaN(Q)?1:Q,le=isNaN(le)?0:le,ne=isNaN(ne)?0:ne,ee=isNaN(ee)?1:ee,pe=isNaN(pe)?0:pe,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(Q,le,ne,ee,pe,xe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,le,ne,ee,pe,xe,Ne,Se,je){var Ge=this.pdf.getImageProperties(Q),De=1,at=1,ot=1,ht=1;ee!==void 0&&Se!==void 0&&(ot=Se/ee,ht=je/pe,De=Ge.width/ee*Se/ee,at=Ge.height/pe*je/pe),xe===void 0&&(xe=le,Ne=ne,le=0,ne=0),ee!==void 0&&Se===void 0&&(Se=ee,je=pe),ee===void 0&&Se===void 0&&(Se=Ge.width,je=Ge.height);for(var Ue,Ct=this.ctx.transform.decompose(),tr=ce(Ct.rotate.shx),Ot=new c,xr=(Ot=(Ot=(Ot=Ot.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new l(xe-le*ot,Ne-ne*ht,ee*De,pe*at)),st=N.call(this,xr),lr=[],_r=0;_r<st.length;_r+=1)lr.indexOf(st[_r])===-1&&lr.push(st[_r]);if(T(lr),this.autoPaging)for(var kr=lr[0],Gn=lr[lr.length-1],sn=kr;sn<Gn+1;sn++){this.pdf.setPage(sn);var Jn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ea=sn===1?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],na=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yr=sn===1?0:yn+(sn-2)*na;if(this.ctx.clip_path.length!==0){var ws=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ue,this.posX+this.margin[3],-Yr+ea+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=ws}var Mn=JSON.parse(JSON.stringify(xr));Mn=A([Mn],this.posX+this.margin[3],-Yr+ea+this.ctx.prevPageLastElemOffset)[0];var Nr=(sn>kr||sn<Gn)&&b.call(this);Nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jn,na,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Mn.x,Mn.y,Mn.w,Mn.h,null,null,tr),Nr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",xr.x,xr.y,xr.w,xr.h,null,null,tr)};var N=function(Q,le,ne){var ee=[];le=le||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ee.push(Math.floor((Q.y+pe)/ne)+1);break;case"arc":ee.push(Math.floor((Q.y+pe-Q.radius)/ne)+1),ee.push(Math.floor((Q.y+pe+Q.radius)/ne)+1);break;case"qct":var xe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ee.push(Math.floor((xe.y+pe)/ne)+1),ee.push(Math.floor((xe.y+xe.h+pe)/ne)+1);break;case"bct":var Ne=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ee.push(Math.floor((Ne.y+pe)/ne)+1),ee.push(Math.floor((Ne.y+Ne.h+pe)/ne)+1);break;case"rect":ee.push(Math.floor((Q.y+pe)/ne)+1),ee.push(Math.floor((Q.y+Q.h+pe)/ne)+1)}for(var Se=0;Se<ee.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Se];)C.call(this);return ee},C=function(){var Q=this.fillStyle,le=this.strokeStyle,ne=this.font,ee=this.lineCap,pe=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=le,this.font=ne,this.lineCap=ee,this.lineWidth=pe,this.lineJoin=xe},A=function(Q,le,ne){for(var ee=0;ee<Q.length;ee++)switch(Q[ee].type){case"bct":Q[ee].x2+=le,Q[ee].y2+=ne;case"qct":Q[ee].x1+=le,Q[ee].y1+=ne;case"mt":case"lt":case"arc":default:Q[ee].x+=le,Q[ee].y+=ne}return Q},T=function(Q){return Q.sort(function(le,ne){return le-ne})},F=function(Q,le){for(var ne,ee,pe=this.fillStyle,xe=this.strokeStyle,Ne=this.lineCap,Se=this.lineWidth,je=Math.abs(Se*this.ctx.transform.scaleX),Ge=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),ot=[],ht=0;ht<at.length;ht++)if(at[ht].x!==void 0)for(var Ue=N.call(this,at[ht]),Ct=0;Ct<Ue.length;Ct+=1)ot.indexOf(Ue[Ct])===-1&&ot.push(Ue[Ct]);for(var tr=0;tr<ot.length;tr++)for(;this.pdf.internal.getNumberOfPages()<ot[tr];)C.call(this);if(T(ot),this.autoPaging)for(var Ot=ot[0],xr=ot[ot.length-1],st=Ot;st<xr+1;st++){this.pdf.setPage(st),this.fillStyle=pe,this.strokeStyle=xe,this.lineCap=Ne,this.lineWidth=je,this.lineJoin=Ge;var lr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_r=st===1?this.posY+this.margin[0]:this.margin[0],kr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],sn=st===1?0:kr+(st-2)*Gn;if(this.ctx.clip_path.length!==0){var Jn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ne,this.posX+this.margin[3],-sn+_r+this.ctx.prevPageLastElemOffset),L.call(this,Q,!0),this.path=Jn}if(ee=JSON.parse(JSON.stringify(De)),this.path=A(ee,this.posX+this.margin[3],-sn+_r+this.ctx.prevPageLastElemOffset),le===!1||st===0){var ea=(st>Ot||st<xr)&&b.call(this);ea&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lr,Gn,null).clip().discardPath()),L.call(this,Q,le),ea&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=je,L.call(this,Q,le),this.lineWidth=Se;this.path=De},L=function(Q,le){if((Q!=="stroke"||le||!S.call(this))&&(Q==="stroke"||le||!p.call(this))){for(var ne,ee,pe=[],xe=this.path,Ne=0;Ne<xe.length;Ne++){var Se=xe[Ne];switch(Se.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Se,deltas:[],abs:[]});break;case"lt":var je=pe.length;if(xe[Ne-1]&&!isNaN(xe[Ne-1].x)&&(ne=[Se.x-xe[Ne-1].x,Se.y-xe[Ne-1].y],je>0)){for(;je>=0;je--)if(pe[je-1].close!==!0&&pe[je-1].begin!==!0){pe[je-1].deltas.push(ne),pe[je-1].abs.push(Se);break}}break;case"bct":ne=[Se.x1-xe[Ne-1].x,Se.y1-xe[Ne-1].y,Se.x2-xe[Ne-1].x,Se.y2-xe[Ne-1].y,Se.x-xe[Ne-1].x,Se.y-xe[Ne-1].y],pe[pe.length-1].deltas.push(ne);break;case"qct":var Ge=xe[Ne-1].x+2/3*(Se.x1-xe[Ne-1].x),De=xe[Ne-1].y+2/3*(Se.y1-xe[Ne-1].y),at=Se.x+2/3*(Se.x1-Se.x),ot=Se.y+2/3*(Se.y1-Se.y),ht=Se.x,Ue=Se.y;ne=[Ge-xe[Ne-1].x,De-xe[Ne-1].y,at-xe[Ne-1].x,ot-xe[Ne-1].y,ht-xe[Ne-1].x,Ue-xe[Ne-1].y],pe[pe.length-1].deltas.push(ne);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Se)}}ee=le?null:Q==="stroke"?"stroke":"fill";for(var Ct=!1,tr=0;tr<pe.length;tr++)if(pe[tr].arc)for(var Ot=pe[tr].abs,xr=0;xr<Ot.length;xr++){var st=Ot[xr];st.type==="arc"?W.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,le,!Ct):ie.call(this,st.x,st.y),Ct=!0}else if(pe[tr].close===!0)this.pdf.internal.out("h"),Ct=!1;else if(pe[tr].begin!==!0){var lr=pe[tr].start.x,_r=pe[tr].start.y;ae.call(this,pe[tr].deltas,lr,_r),Ct=!0}ee&&z.call(this,ee),le&&Z.call(this)}},B=function(Q){var le=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=le*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-ne;case"top":return Q+le-ne;case"hanging":return Q+le-2*ne;case"middle":return Q+le/2-ne;case"ideographic":return Q;case"alphabetic":default:return Q}},M=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(le,ne){this.colorStops.push([le,ne])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(Q,le,ne,ee,pe,xe,Ne,Se,je){for(var Ge=se.call(this,ne,ee,pe,xe),De=0;De<Ge.length;De++){var at=Ge[De];De===0&&(je?K.call(this,at.x1+Q,at.y1+le):ie.call(this,at.x1+Q,at.y1+le)),X.call(this,Q,le,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}Se?Z.call(this):z.call(this,Ne)},z=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},K=function(Q,le){this.pdf.internal.out(r(Q)+" "+n(le)+" m")},q=function(Q){var le;switch(Q.align){case"right":case"end":le="right";break;case"center":le="center";break;case"left":case"start":default:le="left"}var ne=this.pdf.getTextDimensions(Q.text),ee=B.call(this,Q.y),pe=M.call(this,ee)-ne.h,xe=this.ctx.transform.applyToPoint(new o(Q.x,ee)),Ne=this.ctx.transform.decompose(),Se=new c;Se=(Se=(Se=Se.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var je,Ge,De,at=this.ctx.transform.applyToRectangle(new l(Q.x,ee,ne.w,ne.h)),ot=Se.applyToRectangle(new l(Q.x,pe,ne.w,ne.h)),ht=N.call(this,ot),Ue=[],Ct=0;Ct<ht.length;Ct+=1)Ue.indexOf(ht[Ct])===-1&&Ue.push(ht[Ct]);if(T(Ue),this.autoPaging)for(var tr=Ue[0],Ot=Ue[Ue.length-1],xr=tr;xr<Ot+1;xr++){this.pdf.setPage(xr);var st=xr===1?this.posY+this.margin[0]:this.margin[0],lr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[2],kr=_r-this.margin[0],Gn=this.pdf.internal.pageSize.width-this.margin[1],sn=Gn-this.margin[3],Jn=xr===1?0:lr+(xr-2)*kr;if(this.ctx.clip_path.length!==0){var ea=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(je,this.posX+this.margin[3],-1*Jn+st),L.call(this,"fill",!0),this.path=ea}var yn=A([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Jn+st+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*Q.scale),De=this.lineWidth,this.lineWidth=De*Q.scale);var na=this.autoPaging!=="text";if(na||yn.y+yn.h<=_r){if(na||yn.y>=st&&yn.x<=Gn){var Yr=na?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Gn-yn.x)[0],ws=A([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Jn+st+this.ctx.prevPageLastElemOffset)[0],Mn=na&&(xr>tr||xr<Ot)&&b.call(this);Mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,kr,null).clip().discardPath()),this.pdf.text(Yr,ws.x,ws.y,{angle:Q.angle,align:le,renderingMode:Q.renderingMode}),Mn&&this.pdf.restoreGraphicsState()}}else yn.y<_r&&(this.ctx.prevPageLastElemOffset+=_r-yn.y);Q.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=De)}else Q.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*Q.scale),De=this.lineWidth,this.lineWidth=De*Q.scale),this.pdf.text(Q.text,xe.x+this.posX,xe.y+this.posY,{angle:Q.angle,align:le,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=De)},ie=function(Q,le,ne,ee){ne=ne||0,ee=ee||0,this.pdf.internal.out(r(Q+ne)+" "+n(le+ee)+" l")},ae=function(Q,le,ne){return this.pdf.lines(Q,le,ne,null,null)},X=function(Q,le,ne,ee,pe,xe,Ne,Se){this.pdf.internal.out([t(i(ne+Q)),t(a(ee+le)),t(i(pe+Q)),t(a(xe+le)),t(i(Ne+Q)),t(a(Se+le)),"c"].join(" "))},se=function(Q,le,ne,ee){for(var pe=2*Math.PI,xe=Math.PI/2;le>ne;)le-=pe;var Ne=Math.abs(ne-le);Ne<pe&&ee&&(Ne=pe-Ne);for(var Se=[],je=ee?-1:1,Ge=le;Ne>1e-5;){var De=Ge+je*Math.min(Ne,xe);Se.push(he.call(this,Q,Ge,De)),Ne-=Math.abs(De-Ge),Ge=De}return Se},he=function(Q,le,ne){var ee=(ne-le)/2,pe=Q*Math.cos(ee),xe=Q*Math.sin(ee),Ne=pe,Se=-xe,je=Ne*Ne+Se*Se,Ge=je+Ne*pe+Se*xe,De=4/3*(Math.sqrt(2*je*Ge)-Ge)/(Ne*xe-Se*pe),at=Ne-De*Se,ot=Se+De*Ne,ht=at,Ue=-ot,Ct=ee+le,tr=Math.cos(Ct),Ot=Math.sin(Ct);return{x1:Q*Math.cos(le),y1:Q*Math.sin(le),x2:at*tr-ot*Ot,y2:at*Ot+ot*tr,x3:ht*tr-Ue*Ot,y3:ht*Ot+Ue*tr,x4:Q*Math.cos(ne),y4:Q*Math.sin(ne)}},ce=function(Q){return 180*Q/Math.PI},ge=function(Q,le,ne,ee,pe,xe){var Ne=Q+.5*(ne-Q),Se=le+.5*(ee-le),je=pe+.5*(ne-pe),Ge=xe+.5*(ee-xe),De=Math.min(Q,pe,Ne,je),at=Math.max(Q,pe,Ne,je),ot=Math.min(le,xe,Se,Ge),ht=Math.max(le,xe,Se,Ge);return new l(De,ot,at-De,ht-ot)},we=function(Q,le,ne,ee,pe,xe,Ne,Se){var je,Ge,De,at,ot,ht,Ue,Ct,tr,Ot,xr,st,lr,_r,kr=ne-Q,Gn=ee-le,sn=pe-ne,Jn=xe-ee,ea=Ne-pe,yn=Se-xe;for(Ge=0;Ge<41;Ge++)tr=(Ue=(De=Q+(je=Ge/40)*kr)+je*((ot=ne+je*sn)-De))+je*(ot+je*(pe+je*ea-ot)-Ue),Ot=(Ct=(at=le+je*Gn)+je*((ht=ee+je*Jn)-at))+je*(ht+je*(xe+je*yn-ht)-Ct),Ge==0?(xr=tr,st=Ot,lr=tr,_r=Ot):(xr=Math.min(xr,tr),st=Math.min(st,Ot),lr=Math.max(lr,tr),_r=Math.max(_r,Ot));return new l(Math.round(xr),Math.round(st),Math.round(lr-xr),Math.round(_r-st))},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,le,ne=(Q=this.ctx.lineDash,le=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:le}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(da.API),function(e){var t=function(a){var o,l,c,u,f,h,g,p,S,b;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(b=f%85))/85)-(S=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)%85,l.push(h+33,g+33,p+33,S+33,b+33)):l.push(122);return function(N,C){for(var A=C;A>0;A--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,u,f,h=String,g="length",p=255,S="charCodeAt",b="slice",N="replace";for(a[b](-2),a=a[b](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],u=0,f=(a+=o="uuuuu"[b](a[g]%5||5))[g];f>u;u+=5)l=52200625*(a[S](u)-33)+614125*(a[S](u+1)-33)+7225*(a[S](u+2)-33)+85*(a[S](u+3)-33)+(a[S](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(C,A){for(var T=A;T>0;T--)C.pop()}(c,o[g]),h.fromCharCode.apply(h,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=$O(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(da.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,f){var h=new XMLHttpRequest,g=0,p=function(S){var b=S.length,N=[],C=String.fromCharCode;for(g=0;g<b;g+=1)N.push(C(255&S.charCodeAt(g)));return N.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(i,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(da.API),function(e){function t(){return(xa.html2canvas?Promise.resolve(xa.html2canvas):KS(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(xa.DOMPurify?Promise.resolve(xa.DOMPurify):KS(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Yi(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(c(g,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var p=u[g],S=p.src.find(function(b){return b.format==="truetype"});S&&c.addFont(S.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||da.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),f=c.call(u,o,l);return a.convert(f,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,da.getPageSize=function(o,l,c){if(Yi(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,S=0,b=0;if(g.hasOwnProperty(h))S=g[h][1]/f,b=g[h][0]/f;else try{S=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>S&&(p=b,b=S,S=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>b&&(p=b,b=S,S=p)}return{width:b,height:S,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(qO):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(da.API),da.API.addJS=function(e){return PV=e,this.internal.events.subscribe("postPutResources",function(){tN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tN+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kV=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){tN!==void 0&&kV!==void 0&&this.internal.out("/Names <</JavaScript "+tN+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(a=0;a<u;a++){var h=r.internal.newObject();f.push(h);var g=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(da.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),S=h.length,b={width:0,height:0,numcomponents:1},N=4;N<S;N+=2){if(N+=p,t.indexOf(h.charCodeAt(N+1))!==-1){g=256*h.charCodeAt(N+5)+h.charCodeAt(N+6),b={width:256*h.charCodeAt(N+7)+h.charCodeAt(N+8),height:g,numcomponents:h.charCodeAt(N+9)};break}p=256*h.charCodeAt(N+2)+h.charCodeAt(N+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return f}}(da.API);var fv,rN,OV,IV,FV,zPe=function(){var e,t,r;function n(a){var o,l,c,u,f,h,g,p,S,b,N,C,A,T;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),S=(function(){var F,L;for(L=[],F=0;F<4;++F)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*f/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),a=(h!=null?h.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((b=c-this.transparency.indexed.length)>0)for(A=0;0<=b?A<b:A>b;0<=b?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,N.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function f(h,g,p,S){var b,N,C,A,T,F,L,B,M,W,z,Z,K,q,ie,ae,X,se,he,ce,ge,we=Math.ceil((u.width-h)/p),Ce=Math.ceil((u.height-g)/S),Q=u.width==we&&u.height==Ce;for(q=o*we,Z=Q?l:new Uint8Array(q*Ce),F=a.length,K=0,N=0;K<Ce&&c<F;){switch(a[c++]){case 0:for(A=X=0;X<q;A=X+=1)Z[N++]=a[c++];break;case 1:for(A=se=0;se<q;A=se+=1)b=a[c++],T=A<o?0:Z[N-o],Z[N++]=(b+T)%256;break;case 2:for(A=he=0;he<q;A=he+=1)b=a[c++],C=(A-A%o)/o,ie=K&&Z[(K-1)*q+C*o+A%o],Z[N++]=(ie+b)%256;break;case 3:for(A=ce=0;ce<q;A=ce+=1)b=a[c++],C=(A-A%o)/o,T=A<o?0:Z[N-o],ie=K&&Z[(K-1)*q+C*o+A%o],Z[N++]=(b+Math.floor((T+ie)/2))%256;break;case 4:for(A=ge=0;ge<q;A=ge+=1)b=a[c++],C=(A-A%o)/o,T=A<o?0:Z[N-o],K===0?ie=ae=0:(ie=Z[(K-1)*q+C*o+A%o],ae=C&&Z[(K-1)*q+(C-1)*o+A%o]),L=T+ie-ae,B=Math.abs(L-T),W=Math.abs(L-ie),z=Math.abs(L-ae),M=B<=W&&B<=z?T:W<=z?ie:ae,Z[N++]=(b+M)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!Q){var le=((g+K*S)*u.width+h)*o,ne=K*q;for(A=0;A<we;A+=1){for(var ee=0;ee<o;ee+=1)l[le++]=Z[ne++];le+=(p-1)*o}}K++}}return a=bPe(a),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,c,u,f,h,g,p;for(l=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+l.length),c=0,a=0,o=h=0,g=l.length;h<g;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=f[a++])!=null?p:255;return u},n.prototype.copyToImageData=function(a,o){var l,c,u,f,h,g,p,S,b,N,C;if(c=this.colors,b=null,l=this.hasAlphaChannel,this.palette.length&&(b=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),c=4,l=!0),S=(u=a.data||a).length,h=b||o,f=g=0,c===1)for(;f<S;)p=b?4*o[f/4]:g,N=h[p++],u[f++]=N,u[f++]=N,u[f++]=N,u[f++]=l?h[p++]:255,g=p;else for(;f<S;)p=b?4*o[f/4]:g,u[f++]=h[p++],u[f++]=h[p++],u[f++]=h[p++],u[f++]=l?h[p++]:255,g=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(xa)==="[object Window]"){try{t=xa.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,c,u,f,h,g,p;if(this.animation){for(p=[],l=f=0,h=(g=this.animation.frames).length;f<h;l=++f)o=g[l],c=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(a,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,c,u,f,h,g=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,f=h.numPlays,(o=function(){var p,S;if(p=l++%u,S=c[p],g.renderFrame(a,p),u>1&&l/u<f)return g.animation._timeout=setTimeout(o,S.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VPe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,f=[],h=0,g=null,p=0,S=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];h=e[t++]|e[t++]<<8,g=e[t++],!(1&b)&&(g=null),p=b>>2&7,t++;break;case 254:for(;;){if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,F=e[t++],L=F>>6&1,B=1<<(7&F)+1,M=l,W=c,z=!1;F>>7&&(z=!0,M=t,W=B,t+=3*B);var Z=t;for(t++;;){var K;if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}f.push({x:N,y:C,width:A,height:T,has_local_palette:z,palette_offset:M,palette_size:W,data_offset:Z,data_length:t-Z,transparent_index:g,interlaced:!!L,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(q){if(q<0||q>=f.length)throw new Error("Frame index out of range.");return f[q]},this.decodeAndBlitFrameBGRA=function(q,ie){var ae=this.frameInfo(q),X=ae.width*ae.height,se=new Uint8Array(X);DV(e,ae.data_offset,se,X);var he=ae.palette_offset,ce=ae.transparent_index;ce===null&&(ce=256);var ge=ae.width,we=r-ge,Ce=ge,Q=4*(ae.y*r+ae.x),le=4*((ae.y+ae.height)*r+ae.x),ne=Q,ee=4*we;ae.interlaced===!0&&(ee+=4*r*7);for(var pe=8,xe=0,Ne=se.length;xe<Ne;++xe){var Se=se[xe];if(Ce===0&&(Ce=ge,(ne+=ee)>=le&&(ee=4*we+4*r*(pe-1),ne=Q+(ge+we)*(pe<<1),pe>>=1)),Se===ce)ne+=4;else{var je=e[he+3*Se],Ge=e[he+3*Se+1],De=e[he+3*Se+2];ie[ne++]=De,ie[ne++]=Ge,ie[ne++]=je,ie[ne++]=255}--Ce}},this.decodeAndBlitFrameRGBA=function(q,ie){var ae=this.frameInfo(q),X=ae.width*ae.height,se=new Uint8Array(X);DV(e,ae.data_offset,se,X);var he=ae.palette_offset,ce=ae.transparent_index;ce===null&&(ce=256);var ge=ae.width,we=r-ge,Ce=ge,Q=4*(ae.y*r+ae.x),le=4*((ae.y+ae.height)*r+ae.x),ne=Q,ee=4*we;ae.interlaced===!0&&(ee+=4*r*7);for(var pe=8,xe=0,Ne=se.length;xe<Ne;++xe){var Se=se[xe];if(Ce===0&&(Ce=ge,(ne+=ee)>=le&&(ee=4*we+4*r*(pe-1),ne=Q+(ge+we)*(pe<<1),pe>>=1)),Se===ce)ne+=4;else{var je=e[he+3*Se],Ge=e[he+3*Se+1],De=e[he+3*Se+2];ie[ne++]=je,ie[ne++]=Ge,ie[ne++]=De,ie[ne++]=255}--Ce}}}function DV(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,f=0,h=0,g=0,p=e[t++],S=new Int32Array(4096),b=null;;){for(;f<16&&p!==0;)h|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<c)break;var N=h&u;if(h>>=c,f-=c,N!==a){if(N===o)break;for(var C=N<l?N:b,A=0,T=C;T>a;)T=S[T]>>8,++A;var F=T;if(g+A+(C!==N?1:0)>n)return void Cs.log("Warning, gif stream longer than expected.");r[g++]=F;var L=g+=A;for(C!==N&&(r[g++]=F),T=C;A--;)T=S[T],r[--L]=255&T,T>>=8;b!==null&&l<4096&&(S[l++]=b<<8|F,l>=u+1&&c<12&&(++c,u=u<<1|1)),b=N}else l=o+1,u=(1<<(c=i+1))-1,b=null}return g!==n&&Cs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function B8(e){var t,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),S=new Array(64),b=[],N=0,C=7,A=new Array(64),T=new Array(64),F=new Array(64),L=new Array(256),B=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(Q,le){for(var ne=0,ee=0,pe=new Array,xe=1;xe<=16;xe++){for(var Ne=1;Ne<=Q[xe];Ne++)pe[le[ee]]=[],pe[le[ee]][0]=ne,pe[le[ee]][1]=xe,ee++,ne++;ne*=2}return pe}function he(Q){for(var le=Q[0],ne=Q[1]-1;ne>=0;)le&1<<ne&&(N|=1<<C),ne--,--C<0&&(N==255?(ce(255),ce(0)):ce(N),C=7,N=0)}function ce(Q){b.push(Q)}function ge(Q){ce(Q>>8&255),ce(255&Q)}function we(Q,le,ne,ee,pe){for(var xe,Ne=pe[0],Se=pe[240],je=function(Ot,xr){var st,lr,_r,kr,Gn,sn,Jn,ea,yn,na,Yr=0;for(yn=0;yn<8;++yn){st=Ot[Yr],lr=Ot[Yr+1],_r=Ot[Yr+2],kr=Ot[Yr+3],Gn=Ot[Yr+4],sn=Ot[Yr+5],Jn=Ot[Yr+6];var ws=st+(ea=Ot[Yr+7]),Mn=st-ea,Nr=lr+Jn,An=lr-Jn,pn=_r+sn,Va=_r-sn,ya=kr+Gn,ol=kr-Gn,Di=ws+ya,fa=ws-ya,Wi=Nr+pn,Za=Nr-pn;Ot[Yr]=Di+Wi,Ot[Yr+4]=Di-Wi;var yr=.707106781*(Za+fa);Ot[Yr+2]=fa+yr,Ot[Yr+6]=fa-yr;var zr=.382683433*((Di=ol+Va)-(Za=An+Mn)),ba=.5411961*Di+zr,Xr=1.306562965*Za+zr,Ei=.707106781*(Wi=Va+An),Ti=Mn+Ei,ln=Mn-Ei;Ot[Yr+5]=ln+ba,Ot[Yr+3]=ln-ba,Ot[Yr+1]=Ti+Xr,Ot[Yr+7]=Ti-Xr,Yr+=8}for(Yr=0,yn=0;yn<8;++yn){st=Ot[Yr],lr=Ot[Yr+8],_r=Ot[Yr+16],kr=Ot[Yr+24],Gn=Ot[Yr+32],sn=Ot[Yr+40],Jn=Ot[Yr+48];var ms=st+(ea=Ot[Yr+56]),sa=st-ea,ki=lr+Jn,si=lr-Jn,Ri=_r+sn,Fe=_r-sn,We=kr+Gn,Xe=kr-Gn,Qe=ms+We,Je=ms-We,it=ki+Ri,wt=ki-Ri;Ot[Yr]=Qe+it,Ot[Yr+32]=Qe-it;var Pt=.707106781*(wt+Je);Ot[Yr+16]=Je+Pt,Ot[Yr+48]=Je-Pt;var St=.382683433*((Qe=Xe+Fe)-(wt=si+sa)),Rt=.5411961*Qe+St,Mt=1.306562965*wt+St,mr=.707106781*(it=Fe+si),Cr=sa+mr,Ar=sa-mr;Ot[Yr+40]=Ar+Rt,Ot[Yr+24]=Ar-Rt,Ot[Yr+8]=Cr+Mt,Ot[Yr+56]=Cr-Mt,Yr++}for(yn=0;yn<64;++yn)na=Ot[yn]*xr[yn],p[yn]=na>0?na+.5|0:na-.5|0;return p}(Q,le),Ge=0;Ge<64;++Ge)S[M[Ge]]=je[Ge];var De=S[0]-ne;ne=S[0],De==0?he(ee[0]):(he(ee[g[xe=32767+De]]),he(h[xe]));for(var at=63;at>0&&S[at]==0;)at--;if(at==0)return he(Ne),ne;for(var ot,ht=1;ht<=at;){for(var Ue=ht;S[ht]==0&&ht<=at;)++ht;var Ct=ht-Ue;if(Ct>=16){ot=Ct>>4;for(var tr=1;tr<=ot;++tr)he(Se);Ct&=15}xe=32767+S[ht],he(pe[(Ct<<4)+g[xe]]),he(h[xe]),ht++}return at!=63&&he(Ne),ne}function Ce(Q){Q=Math.min(Math.max(Q,1),100),a!=Q&&(function(le){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var pe=o((ne[ee]*le+50)/100);pe=Math.min(Math.max(pe,1),255),l[M[ee]]=pe}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Se=o((xe[Ne]*le+50)/100);Se=Math.min(Math.max(Se,1),255),c[M[Ne]]=Se}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,De=0;De<8;De++)for(var at=0;at<8;at++)u[Ge]=1/(l[M[Ge]]*je[De]*je[at]*8),f[Ge]=1/(c[M[Ge]]*je[De]*je[at]*8),Ge++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),a=Q)}this.encode=function(Q,le){le&&Ce(le),b=new Array,N=0,C=7,ge(65496),ge(65504),ge(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ge(1),ge(1),ce(0),ce(0),function(){ge(65499),ge(132),ce(0);for(var lr=0;lr<64;lr++)ce(l[lr]);ce(1);for(var _r=0;_r<64;_r++)ce(c[_r])}(),function(lr,_r){ge(65472),ge(17),ce(8),ge(_r),ge(lr),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(Q.width,Q.height),function(){ge(65476),ge(418),ce(0);for(var lr=0;lr<16;lr++)ce(W[lr+1]);for(var _r=0;_r<=11;_r++)ce(z[_r]);ce(16);for(var kr=0;kr<16;kr++)ce(Z[kr+1]);for(var Gn=0;Gn<=161;Gn++)ce(K[Gn]);ce(1);for(var sn=0;sn<16;sn++)ce(q[sn+1]);for(var Jn=0;Jn<=11;Jn++)ce(ie[Jn]);ce(17);for(var ea=0;ea<16;ea++)ce(ae[ea+1]);for(var yn=0;yn<=161;yn++)ce(X[yn])}(),ge(65498),ge(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var ne=0,ee=0,pe=0;N=0,C=7,this.encode.displayName="_encode_";for(var xe,Ne,Se,je,Ge,De,at,ot,ht,Ue=Q.data,Ct=Q.width,tr=Q.height,Ot=4*Ct,xr=0;xr<tr;){for(xe=0;xe<Ot;){for(Ge=Ot*xr+xe,at=-1,ot=0,ht=0;ht<64;ht++)De=Ge+(ot=ht>>3)*Ot+(at=4*(7&ht)),xr+ot>=tr&&(De-=Ot*(xr+1+ot-tr)),xe+at>=Ot&&(De-=xe+at-Ot+4),Ne=Ue[De++],Se=Ue[De++],je=Ue[De++],A[ht]=(B[Ne]+B[Se+256>>0]+B[je+512>>0]>>16)-128,T[ht]=(B[Ne+768>>0]+B[Se+1024>>0]+B[je+1280>>0]>>16)-128,F[ht]=(B[Ne+1280>>0]+B[Se+1536>>0]+B[je+1792>>0]>>16)-128;ne=we(A,u,ne,t,n),ee=we(T,f,ee,r,i),pe=we(F,f,pe,r,i),xe+=32}xr+=8}if(C>=0){var st=[];st[1]=C+1,st[0]=(1<<C+1)-1,he(st)}return ge(65497),new Uint8Array(b)},e=e||50,function(){for(var Q=String.fromCharCode,le=0;le<256;le++)L[le]=Q(le)}(),t=se(W,z),r=se(q,ie),n=se(Z,K),i=se(ae,X),function(){for(var Q=1,le=2,ne=1;ne<=15;ne++){for(var ee=Q;ee<le;ee++)g[32767+ee]=ne,h[32767+ee]=[],h[32767+ee][1]=ne,h[32767+ee][0]=ee;for(var pe=-(le-1);pe<=-Q;pe++)g[32767+pe]=ne,h[32767+pe]=[],h[32767+pe][1]=ne,h[32767+pe][0]=le-1+pe;Q<<=1,le<<=1}}(),function(){for(var Q=0;Q<256;Q++)B[Q]=19595*Q,B[Q+256>>0]=38470*Q,B[Q+512>>0]=7471*Q+32768,B[Q+768>>0]=-11059*Q,B[Q+1024>>0]=-21709*Q,B[Q+1280>>0]=32768*Q+8421375,B[Q+1536>>0]=-27439*Q,B[Q+1792>>0]=-5329*Q}(),Ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xf(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RV(e){function t(W){if(!W)throw Error("assert :P")}function r(W,z,Z){for(var K=0;4>K;K++)if(W[z+K]!=Z.charCodeAt(K))return!0;return!1}function n(W,z,Z,K,q){for(var ie=0;ie<q;ie++)W[z+ie]=Z[K+ie]}function i(W,z,Z,K){for(var q=0;q<K;q++)W[z+q]=Z}function a(W){return new Int32Array(W)}function o(W,z){for(var Z=[],K=0;K<W;K++)Z.push(new z);return Z}function l(W,z){var Z=[];return function K(q,ie,ae){for(var X=ae[ie],se=0;se<X&&(q.push(ae.length>ie+1?[]:new z),!(ae.length<ie+1));se++)K(q[se],ie+1,ae)}(Z,0,W),Z}var c=function(){var W=this;function z(U,Y){for(var ue=1<<Y-1>>>0;U&ue;)ue>>>=1;return ue?(U&ue-1)+ue:U}function Z(U,Y,ue,ye,Pe){t(!(ye%ue));do U[Y+(ye-=ue)]=Pe;while(0<ye)}function K(U,Y,ue,ye,Pe){if(t(2328>=Pe),512>=Pe)var Re=a(512);else if((Re=a(Pe))==null)return 0;return function($e,Ve,Ke,rt,xt,It){var Ft,At,hr=Ve,Xt=1<<Ke,yt=a(16),_t=a(16);for(t(xt!=0),t(rt!=null),t($e!=null),t(0<Ke),At=0;At<xt;++At){if(15<rt[At])return 0;++yt[rt[At]]}if(yt[0]==xt)return 0;for(_t[1]=0,Ft=1;15>Ft;++Ft){if(yt[Ft]>1<<Ft)return 0;_t[Ft+1]=_t[Ft]+yt[Ft]}for(At=0;At<xt;++At)Ft=rt[At],0<rt[At]&&(It[_t[Ft]++]=At);if(_t[15]==1)return(rt=new q).g=0,rt.value=It[0],Z($e,hr,1,Xt,rt),Xt;var ur,gr=-1,fr=Xt-1,fn=0,rn=1,ia=1,nn=1<<Ke;for(At=0,Ft=1,xt=2;Ft<=Ke;++Ft,xt<<=1){if(rn+=ia<<=1,0>(ia-=yt[Ft]))return 0;for(;0<yt[Ft];--yt[Ft])(rt=new q).g=Ft,rt.value=It[At++],Z($e,hr+fn,xt,nn,rt),fn=z(fn,Ft)}for(Ft=Ke+1,xt=2;15>=Ft;++Ft,xt<<=1){if(rn+=ia<<=1,0>(ia-=yt[Ft]))return 0;for(;0<yt[Ft];--yt[Ft]){if(rt=new q,(fn&fr)!=gr){for(hr+=nn,ur=1<<(gr=Ft)-Ke;15>gr&&!(0>=(ur-=yt[gr]));)++gr,ur<<=1;Xt+=nn=1<<(ur=gr-Ke),$e[Ve+(gr=fn&fr)].g=ur+Ke,$e[Ve+gr].value=hr-Ve-gr}rt.g=Ft-Ke,rt.value=It[At++],Z($e,hr+(fn>>Ke),xt,nn,rt),fn=z(fn,Ft)}}return rn!=2*_t[15]-1?0:Xt}(U,Y,ue,ye,Pe,Re)}function q(){this.value=this.g=0}function ie(){this.value=this.g=0}function ae(){this.G=o(5,q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ji,ie)}function X(U,Y,ue,ye){t(U!=null),t(Y!=null),t(2147483648>ye),U.Ca=254,U.I=0,U.b=-8,U.Ka=0,U.oa=Y,U.pa=ue,U.Jd=Y,U.Yc=ue+ye,U.Zc=4<=ye?ue+ye-4+1:ue,xe(U)}function se(U,Y){for(var ue=0;0<Y--;)ue|=Se(U,128)<<Y;return ue}function he(U,Y){var ue=se(U,Y);return Ne(U)?-ue:ue}function ce(U,Y,ue,ye){var Pe,Re=0;for(t(U!=null),t(Y!=null),t(4294967288>ye),U.Sb=ye,U.Ra=0,U.u=0,U.h=0,4<ye&&(ye=4),Pe=0;Pe<ye;++Pe)Re+=Y[ue+Pe]<<8*Pe;U.Ra=Re,U.bb=ye,U.oa=Y,U.pa=ue}function ge(U){for(;8<=U.u&&U.bb<U.Sb;)U.Ra>>>=8,U.Ra+=U.oa[U.pa+U.bb]<<is-8>>>0,++U.bb,U.u-=8;ne(U)&&(U.h=1,U.u=0)}function we(U,Y){if(t(0<=Y),!U.h&&Y<=ko){var ue=le(U)&uu[Y];return U.u+=Y,ge(U),ue}return U.h=1,U.u=0}function Ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function le(U){return U.Ra>>>(U.u&is-1)>>>0}function ne(U){return t(U.bb<=U.Sb),U.h||U.bb==U.Sb&&U.u>is}function ee(U,Y){U.u=Y,U.h=ne(U)}function pe(U){U.u>=Zn&&(t(U.u>=Zn),ge(U))}function xe(U){t(U!=null&&U.oa!=null),U.pa<U.Zc?(U.I=(U.oa[U.pa++]|U.I<<8)>>>0,U.b+=8):(t(U!=null&&U.oa!=null),U.pa<U.Yc?(U.b+=8,U.I=U.oa[U.pa++]|U.I<<8):U.Ka?U.b=0:(U.I<<=8,U.b+=8,U.Ka=1))}function Ne(U){return se(U,1)}function Se(U,Y){var ue=U.Ca;0>U.b&&xe(U);var ye=U.b,Pe=ue*Y>>>8,Re=(U.I>>>ye>Pe)+0;for(Re?(ue-=Pe,U.I-=Pe+1<<ye>>>0):ue=Pe+1,ye=ue,Pe=0;256<=ye;)Pe+=8,ye>>=8;return ye=7^Pe+mo[ye],U.b-=ye,U.Ca=(ue<<ye)-1,Re}function je(U,Y,ue){U[Y+0]=ue>>24&255,U[Y+1]=ue>>16&255,U[Y+2]=ue>>8&255,U[Y+3]=ue>>0&255}function Ge(U,Y){return U[Y+0]<<0|U[Y+1]<<8}function De(U,Y){return Ge(U,Y)|U[Y+2]<<16}function at(U,Y){return Ge(U,Y)|Ge(U,Y+2)<<16}function ot(U,Y){var ue=1<<Y;return t(U!=null),t(0<Y),U.X=a(ue),U.X==null?0:(U.Mb=32-Y,U.Xa=Y,1)}function ht(U,Y){t(U!=null),t(Y!=null),t(U.Xa==Y.Xa),n(Y.X,0,U.X,0,1<<Y.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function Ct(U,Y,ue,ye){t(ue!=null),t(ye!=null);var Pe=ue[0],Re=ye[0];return Pe==0&&(Pe=(U*Re+Y/2)/Y),Re==0&&(Re=(Y*Pe+U/2)/U),0>=Pe||0>=Re?0:(ue[0]=Pe,ye[0]=Re,1)}function tr(U,Y){return U+(1<<Y)-1>>>Y}function Ot(U,Y){return((4278255360&U)+(4278255360&Y)>>>0&4278255360)+((16711935&U)+(16711935&Y)>>>0&16711935)>>>0}function xr(U,Y){W[Y]=function(ue,ye,Pe,Re,$e,Ve,Ke){var rt;for(rt=0;rt<$e;++rt){var xt=W[U](Ve[Ke+rt-1],Pe,Re+rt);Ve[Ke+rt]=Ot(ue[ye+rt],xt)}}}function st(){this.ud=this.hd=this.jd=0}function lr(U,Y){return((4278124286&(U^Y))>>>1)+(U&Y)>>>0}function _r(U){return 0<=U&&256>U?U:0>U?0:255<U?255:void 0}function kr(U,Y){return _r(U+(U-Y+.5>>1))}function Gn(U,Y,ue){return Math.abs(Y-ue)-Math.abs(U-ue)}function sn(U,Y,ue,ye,Pe,Re,$e){for(ye=Re[$e-1],ue=0;ue<Pe;++ue)Re[$e+ue]=ye=Ot(U[Y+ue],ye)}function Jn(U,Y,ue,ye,Pe){var Re;for(Re=0;Re<ue;++Re){var $e=U[Y+Re],Ve=$e>>8&255,Ke=16711935&(Ke=(Ke=16711935&$e)+((Ve<<16)+Ve));ye[Pe+Re]=(4278255360&$e)+Ke>>>0}}function ea(U,Y){Y.jd=U>>0&255,Y.hd=U>>8&255,Y.ud=U>>16&255}function yn(U,Y,ue,ye,Pe,Re){var $e;for($e=0;$e<ye;++$e){var Ve=Y[ue+$e],Ke=Ve>>>8,rt=Ve,xt=255&(xt=(xt=Ve>>>16)+((U.jd<<24>>24)*(Ke<<24>>24)>>>5));rt=255&(rt=(rt=rt+((U.hd<<24>>24)*(Ke<<24>>24)>>>5))+((U.ud<<24>>24)*(xt<<24>>24)>>>5)),Pe[Re+$e]=(4278255360&Ve)+(xt<<16)+rt}}function na(U,Y,ue,ye,Pe){W[Y]=function(Re,$e,Ve,Ke,rt,xt,It,Ft,At){for(Ke=It;Ke<Ft;++Ke)for(It=0;It<At;++It)rt[xt++]=Pe(Ve[ye(Re[$e++])])},W[U]=function(Re,$e,Ve,Ke,rt,xt,It){var Ft=8>>Re.b,At=Re.Ea,hr=Re.K[0],Xt=Re.w;if(8>Ft)for(Re=(1<<Re.b)-1,Xt=(1<<Ft)-1;$e<Ve;++$e){var yt,_t=0;for(yt=0;yt<At;++yt)yt&Re||(_t=ye(Ke[rt++])),xt[It++]=Pe(hr[_t&Xt]),_t>>=Ft}else W["VP8LMapColor"+ue](Ke,rt,hr,Xt,xt,It,$e,Ve,At)}}function Yr(U,Y,ue,ye,Pe){for(ue=Y+ue;Y<ue;){var Re=U[Y++];ye[Pe++]=Re>>16&255,ye[Pe++]=Re>>8&255,ye[Pe++]=Re>>0&255}}function ws(U,Y,ue,ye,Pe){for(ue=Y+ue;Y<ue;){var Re=U[Y++];ye[Pe++]=Re>>16&255,ye[Pe++]=Re>>8&255,ye[Pe++]=Re>>0&255,ye[Pe++]=Re>>24&255}}function Mn(U,Y,ue,ye,Pe){for(ue=Y+ue;Y<ue;){var Re=($e=U[Y++])>>16&240|$e>>12&15,$e=$e>>0&240|$e>>28&15;ye[Pe++]=Re,ye[Pe++]=$e}}function Nr(U,Y,ue,ye,Pe){for(ue=Y+ue;Y<ue;){var Re=($e=U[Y++])>>16&248|$e>>13&7,$e=$e>>5&224|$e>>3&31;ye[Pe++]=Re,ye[Pe++]=$e}}function An(U,Y,ue,ye,Pe){for(ue=Y+ue;Y<ue;){var Re=U[Y++];ye[Pe++]=Re>>0&255,ye[Pe++]=Re>>8&255,ye[Pe++]=Re>>16&255}}function pn(U,Y,ue,ye,Pe,Re){if(Re==0)for(ue=Y+ue;Y<ue;)je(ye,((Re=U[Y++])[0]>>24|Re[1]>>8&65280|Re[2]<<8&16711680|Re[3]<<24)>>>0),Pe+=32;else n(ye,Pe,U,Y,ue)}function Va(U,Y){W[Y][0]=W[U+"0"],W[Y][1]=W[U+"1"],W[Y][2]=W[U+"2"],W[Y][3]=W[U+"3"],W[Y][4]=W[U+"4"],W[Y][5]=W[U+"5"],W[Y][6]=W[U+"6"],W[Y][7]=W[U+"7"],W[Y][8]=W[U+"8"],W[Y][9]=W[U+"9"],W[Y][10]=W[U+"10"],W[Y][11]=W[U+"11"],W[Y][12]=W[U+"12"],W[Y][13]=W[U+"13"],W[Y][14]=W[U+"0"],W[Y][15]=W[U+"0"]}function ya(U){return U==Lx||U==Bx||U==F1||U==lb}function ol(){this.eb=[],this.size=this.A=this.fb=0}function Di(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ol,this.f.kb=new Di,this.sd=null}function Wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Za(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yr(U){return alert("todo:WebPSamplerProcessPlane"),U.T}function zr(U,Y){var ue=U.T,ye=Y.ba.f.RGBA,Pe=ye.eb,Re=ye.fb+U.ka*ye.A,$e=mu[Y.ba.S],Ve=U.y,Ke=U.O,rt=U.f,xt=U.N,It=U.ea,Ft=U.W,At=Y.cc,hr=Y.dc,Xt=Y.Mc,yt=Y.Nc,_t=U.ka,ur=U.ka+U.T,gr=U.U,fr=gr+1>>1;for(_t==0?$e(Ve,Ke,null,null,rt,xt,It,Ft,rt,xt,It,Ft,Pe,Re,null,null,gr):($e(Y.ec,Y.fc,Ve,Ke,At,hr,Xt,yt,rt,xt,It,Ft,Pe,Re-ye.A,Pe,Re,gr),++ue);_t+2<ur;_t+=2)At=rt,hr=xt,Xt=It,yt=Ft,xt+=U.Rc,Ft+=U.Rc,Re+=2*ye.A,$e(Ve,(Ke+=2*U.fa)-U.fa,Ve,Ke,At,hr,Xt,yt,rt,xt,It,Ft,Pe,Re-ye.A,Pe,Re,gr);return Ke+=U.fa,U.j+ur<U.o?(n(Y.ec,Y.fc,Ve,Ke,gr),n(Y.cc,Y.dc,rt,xt,fr),n(Y.Mc,Y.Nc,It,Ft,fr),ue--):1&ur||$e(Ve,Ke,null,null,rt,xt,It,Ft,rt,xt,It,Ft,Pe,Re+ye.A,null,null,gr),ue}function ba(U,Y,ue){var ye=U.F,Pe=[U.J];if(ye!=null){var Re=U.U,$e=Y.ba.S,Ve=$e==Hm||$e==F1;Y=Y.ba.f.RGBA;var Ke=[0],rt=U.ka;Ke[0]=U.T,U.Kb&&(rt==0?--Ke[0]:(--rt,Pe[0]-=U.width),U.j+U.ka+U.T==U.o&&(Ke[0]=U.o-U.j-rt));var xt=Y.eb;rt=Y.fb+rt*Y.A,U=ns(ye,Pe[0],U.width,Re,Ke,xt,rt+(Ve?0:3),Y.A),t(ue==Ke),U&&ya($e)&&ao(xt,rt,Ve,Re,Ke,Y.A)}return 0}function Xr(U){var Y=U.ma,ue=Y.ba.S,ye=11>ue,Pe=ue==gc||ue==I1||ue==Hm||ue==Mx||ue==12||ya(ue);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!Bf(Y.Oa,U,Pe?11:12))return 0;if(Pe&&ya(ue)&&nr(),U.da)alert("todo:use_scaling");else{if(ye){if(Y.Ib=yr,U.Kb){if(ue=U.U+1>>1,Y.memory=a(U.U+2*ue),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+U.U,Y.Mc=Y.cc,Y.Nc=Y.dc+ue,Y.Ib=zr,nr()}}else alert("todo:EmitYUV");Pe&&(Y.Jb=ba,ye&&jt())}if(ye&&!L1){for(U=0;256>U;++U)V5[U]=89858*(U-128)+M1>>R1,H5[U]=-22014*(U-128)+M1,M6[U]=-45773*(U-128),W5[U]=113618*(U-128)+M1>>R1;for(U=Km;U<Wu;++U)Y=76283*(U-16)+M1>>R1,Xl[U-Km]=wa(Y,255),L6[U-Km]=wa(Y+8>>4,15);L1=1}return 1}function Ei(U){var Y=U.ma,ue=U.U,ye=U.T;return t(!(1&U.ka)),0>=ue||0>=ye?0:(ue=Y.Ib(U,Y),Y.Jb!=null&&Y.Jb(U,Y,ue),Y.Dc+=ue,1)}function Ti(U){U.ma.memory=null}function ln(U,Y,ue,ye){return we(U,8)!=47?0:(Y[0]=we(U,14)+1,ue[0]=we(U,14)+1,ye[0]=we(U,1),we(U,3)!=0?0:!U.h)}function ms(U,Y){if(4>U)return U+1;var ue=U-2>>1;return(2+(1&U)<<ue)+we(Y,ue)+1}function sa(U,Y){return 120<Y?Y-120:1<=(ue=((ue=I5[Y-1])>>4)*U+(8-(15&ue)))?ue:1;var ue}function ki(U,Y,ue){var ye=le(ue),Pe=U[Y+=255&ye].g-8;return 0<Pe&&(ee(ue,ue.u+8),ye=le(ue),Y+=U[Y].value,Y+=ye&(1<<Pe)-1),ee(ue,ue.u+U[Y].g),U[Y].value}function si(U,Y,ue){return ue.g+=U.g,ue.value+=U.value<<Y>>>0,t(8>=ue.g),U.g}function Ri(U,Y,ue){var ye=U.xc;return t((Y=ye==0?0:U.vc[U.md*(ue>>ye)+(Y>>ye)])<U.Wb),U.Ya[Y]}function Fe(U,Y,ue,ye){var Pe=U.ab,Re=U.c*Y,$e=U.C;Y=$e+Y;var Ve=ue,Ke=ye;for(ye=U.Ta,ue=U.Ua;0<Pe--;){var rt=U.gc[Pe],xt=$e,It=Y,Ft=Ve,At=Ke,hr=(Ke=ye,Ve=ue,rt.Ea);switch(t(xt<It),t(It<=rt.nc),rt.hc){case 2:y(Ft,At,(It-xt)*hr,Ke,Ve);break;case 0:var Xt=xt,yt=It,_t=Ke,ur=Ve,gr=(nn=rt).Ea;Xt==0&&(ke(Ft,At,null,null,1,_t,ur),sn(Ft,At+1,0,0,gr-1,_t,ur+1),At+=gr,ur+=gr,++Xt);for(var fr=1<<nn.b,fn=fr-1,rn=tr(gr,nn.b),ia=nn.K,nn=nn.w+(Xt>>nn.b)*rn;Xt<yt;){var Oi=ia,Hi=nn,oi=1;for(m(Ft,At,_t,ur-gr,1,_t,ur);oi<gr;){var ai=(oi&~fn)+fr;ai>gr&&(ai=gr),(0,V[Oi[Hi++]>>8&15])(Ft,At+ +oi,_t,ur+oi-gr,ai-oi,_t,ur+oi),oi=ai}At+=gr,ur+=gr,++Xt&fn||(nn+=rn)}It!=rt.nc&&n(Ke,Ve-hr,Ke,Ve+(It-xt-1)*hr,hr);break;case 1:for(hr=Ft,yt=At,gr=(Ft=rt.Ea)-(ur=Ft&~(_t=(At=1<<rt.b)-1)),Xt=tr(Ft,rt.b),fr=rt.K,rt=rt.w+(xt>>rt.b)*Xt;xt<It;){for(fn=fr,rn=rt,ia=new st,nn=yt+ur,Oi=yt+Ft;yt<nn;)ea(fn[rn++],ia),J(ia,hr,yt,At,Ke,Ve),yt+=At,Ve+=At;yt<Oi&&(ea(fn[rn++],ia),J(ia,hr,yt,gr,Ke,Ve),yt+=gr,Ve+=gr),++xt&_t||(rt+=Xt)}break;case 3:if(Ft==Ke&&At==Ve&&0<rt.b){for(yt=Ke,Ft=hr=Ve+(It-xt)*hr-(ur=(It-xt)*tr(rt.Ea,rt.b)),At=Ke,_t=Ve,Xt=[],ur=(gr=ur)-1;0<=ur;--ur)Xt[ur]=At[_t+ur];for(ur=gr-1;0<=ur;--ur)yt[Ft+ur]=Xt[ur];w(rt,xt,It,Ke,hr,Ke,Ve)}else w(rt,xt,It,Ft,At,Ke,Ve)}Ve=ye,Ke=ue}Ke!=ue&&n(ye,ue,Ve,Ke,Re)}function We(U,Y){var ue=U.V,ye=U.Ba+U.c*U.C,Pe=Y-U.C;if(t(Y<=U.l.o),t(16>=Pe),0<Pe){var Re=U.l,$e=U.Ta,Ve=U.Ua,Ke=Re.width;if(Fe(U,Pe,ue,ye),Pe=Ve=[Ve],t((ue=U.C)<(ye=Y)),t(Re.v<Re.va),ye>Re.o&&(ye=Re.o),ue<Re.j){var rt=Re.j-ue;ue=Re.j,Pe[0]+=rt*Ke}if(ue>=ye?ue=0:(Pe[0]+=4*Re.v,Re.ka=ue-Re.j,Re.U=Re.va-Re.v,Re.T=ye-ue,ue=1),ue){if(Ve=Ve[0],11>(ue=U.ca).S){var xt=ue.f.RGBA,It=(ye=ue.S,Pe=Re.U,Re=Re.T,rt=xt.eb,xt.A),Ft=Re;for(xt=xt.fb+U.Ma*xt.A;0<Ft--;){var At=$e,hr=Ve,Xt=Pe,yt=rt,_t=xt;switch(ye){case O1:oe(At,hr,Xt,yt,_t);break;case gc:be(At,hr,Xt,yt,_t);break;case Lx:be(At,hr,Xt,yt,_t),ao(yt,_t,0,Xt,1,0);break;case T5:tt(At,hr,Xt,yt,_t);break;case I1:pn(At,hr,Xt,yt,_t,1);break;case Bx:pn(At,hr,Xt,yt,_t,1),ao(yt,_t,0,Xt,1,0);break;case Hm:pn(At,hr,Xt,yt,_t,0);break;case F1:pn(At,hr,Xt,yt,_t,0),ao(yt,_t,1,Xt,1,0);break;case Mx:Te(At,hr,Xt,yt,_t);break;case lb:Te(At,hr,Xt,yt,_t),ss(yt,_t,Xt,1,0);break;case Vh:Le(At,hr,Xt,yt,_t);break;default:t(0)}Ve+=Ke,xt+=It}U.Ma+=Re}else alert("todo:EmitRescaledRowsYUVA");t(U.Ma<=ue.height)}}U.C=Y,t(U.C<=U.i)}function Xe(U){var Y;if(0<U.ua)return 0;for(Y=0;Y<U.Wb;++Y){var ue=U.Ya[Y].G,ye=U.Ya[Y].H;if(0<ue[1][ye[1]+0].g||0<ue[2][ye[2]+0].g||0<ue[3][ye[3]+0].g)return 0}return 1}function Qe(U,Y,ue,ye,Pe,Re){if(U.Z!=0){var $e=U.qd,Ve=U.rd;for(t($f[U.Z]!=null);Y<ue;++Y)$f[U.Z]($e,Ve,ye,Pe,ye,Pe,Re),$e=ye,Ve=Pe,Pe+=Re;U.qd=$e,U.rd=Ve}}function Je(U,Y){var ue=U.l.ma,ye=ue.Z==0||ue.Z==1?U.l.j:U.C;if(ye=U.C<ye?ye:U.C,t(Y<=U.l.o),Y>ye){var Pe=U.l.width,Re=ue.ca,$e=ue.tb+Pe*ye,Ve=U.V,Ke=U.Ba+U.c*ye,rt=U.gc;t(U.ab==1),t(rt[0].hc==3),P(rt[0],ye,Y,Ve,Ke,Re,$e),Qe(ue,ye,Y,Re,$e,Pe)}U.C=U.Ma=Y}function it(U,Y,ue,ye,Pe,Re,$e){var Ve=U.$/ye,Ke=U.$%ye,rt=U.m,xt=U.s,It=ue+U.$,Ft=It;Pe=ue+ye*Pe;var At=ue+ye*Re,hr=280+xt.ua,Xt=U.Pb?Ve:16777216,yt=0<xt.ua?xt.Wa:null,_t=xt.wc,ur=It<At?Ri(xt,Ke,Ve):null;t(U.C<Re),t(At<=Pe);var gr=!1;e:for(;;){for(;gr||It<At;){var fr=0;if(Ve>=Xt){var fn=It-ue;t((Xt=U).Pb),Xt.wd=Xt.m,Xt.xd=fn,0<Xt.s.ua&&ht(Xt.s.Wa,Xt.s.vb),Xt=Ve+D5}if(Ke&_t||(ur=Ri(xt,Ke,Ve)),t(ur!=null),ur.Qb&&(Y[It]=ur.qb,gr=!0),!gr)if(pe(rt),ur.jc){fr=rt,fn=Y;var rn=It,ia=ur.pd[le(fr)&Ji-1];t(ur.jc),256>ia.g?(ee(fr,fr.u+ia.g),fn[rn]=ia.value,fr=0):(ee(fr,fr.u+ia.g-256),t(256<=ia.value),fr=ia.value),fr==0&&(gr=!0)}else fr=ki(ur.G[0],ur.H[0],rt);if(rt.h)break;if(gr||256>fr){if(!gr)if(ur.nd)Y[It]=(ur.qb|fr<<8)>>>0;else{if(pe(rt),gr=ki(ur.G[1],ur.H[1],rt),pe(rt),fn=ki(ur.G[2],ur.H[2],rt),rn=ki(ur.G[3],ur.H[3],rt),rt.h)break;Y[It]=(rn<<24|gr<<16|fr<<8|fn)>>>0}if(gr=!1,++It,++Ke>=ye&&(Ke=0,++Ve,$e!=null&&Ve<=Re&&!(Ve%16)&&$e(U,Ve),yt!=null))for(;Ft<It;)fr=Y[Ft++],yt.X[(506832829*fr&4294967295)>>>yt.Mb]=fr}else if(280>fr){if(fr=ms(fr-256,rt),fn=ki(ur.G[4],ur.H[4],rt),pe(rt),fn=sa(ye,fn=ms(fn,rt)),rt.h)break;if(It-ue<fn||Pe-It<fr)break e;for(rn=0;rn<fr;++rn)Y[It+rn]=Y[It+rn-fn];for(It+=fr,Ke+=fr;Ke>=ye;)Ke-=ye,++Ve,$e!=null&&Ve<=Re&&!(Ve%16)&&$e(U,Ve);if(t(It<=Pe),Ke&_t&&(ur=Ri(xt,Ke,Ve)),yt!=null)for(;Ft<It;)fr=Y[Ft++],yt.X[(506832829*fr&4294967295)>>>yt.Mb]=fr}else{if(!(fr<hr))break e;for(gr=fr-280,t(yt!=null);Ft<It;)fr=Y[Ft++],yt.X[(506832829*fr&4294967295)>>>yt.Mb]=fr;fr=It,t(!(gr>>>(fn=yt).Xa)),Y[fr]=fn.X[gr],gr=!0}gr||t(rt.h==ne(rt))}if(U.Pb&&rt.h&&It<Pe)t(U.m.h),U.a=5,U.m=U.wd,U.$=U.xd,0<U.s.ua&&ht(U.s.vb,U.s.Wa);else{if(rt.h)break e;$e!=null&&$e(U,Ve>Re?Re:Ve),U.a=0,U.$=It-ue}return 1}return U.a=3,0}function wt(U){t(U!=null),U.vc=null,U.yc=null,U.Ya=null;var Y=U.Wa;Y!=null&&(Y.X=null),U.vb=null,t(U!=null)}function Pt(){var U=new Mi;return U==null?null:(U.a=0,U.xb=hu,Va("Predictor","VP8LPredictors"),Va("Predictor","VP8LPredictors_C"),Va("PredictorAdd","VP8LPredictorsAdd"),Va("PredictorAdd","VP8LPredictorsAdd_C"),y=Jn,J=yn,oe=Yr,be=ws,Te=Mn,Le=Nr,tt=An,W.VP8LMapColor32b=E,W.VP8LMapColor8b=D,U)}function St(U,Y,ue,ye,Pe){var Re=1,$e=[U],Ve=[Y],Ke=ye.m,rt=ye.s,xt=null,It=0;e:for(;;){if(ue)for(;Re&&we(Ke,1);){var Ft=$e,At=Ve,hr=ye,Xt=1,yt=hr.m,_t=hr.gc[hr.ab],ur=we(yt,2);if(hr.Oc&1<<ur)Re=0;else{switch(hr.Oc|=1<<ur,_t.hc=ur,_t.Ea=Ft[0],_t.nc=At[0],_t.K=[null],++hr.ab,t(4>=hr.ab),ur){case 0:case 1:_t.b=we(yt,3)+2,Xt=St(tr(_t.Ea,_t.b),tr(_t.nc,_t.b),0,hr,_t.K),_t.K=_t.K[0];break;case 3:var gr,fr=we(yt,8)+1,fn=16<fr?0:4<fr?1:2<fr?2:3;if(Ft[0]=tr(_t.Ea,fn),_t.b=fn,gr=Xt=St(fr,1,0,hr,_t.K)){var rn,ia=fr,nn=_t,Oi=1<<(8>>nn.b),Hi=a(Oi);if(Hi==null)gr=0;else{var oi=nn.K[0],ai=nn.w;for(Hi[0]=nn.K[0][0],rn=1;rn<1*ia;++rn)Hi[rn]=Ot(oi[ai+rn],Hi[rn-1]);for(;rn<4*Oi;++rn)Hi[rn]=0;nn.K[0]=null,nn.K[0]=Hi,gr=1}}Xt=gr;break;case 2:break;default:t(0)}Re=Xt}}if($e=$e[0],Ve=Ve[0],Re&&we(Ke,1)&&!(Re=1<=(It=we(Ke,4))&&11>=It)){ye.a=3;break e}var qi;if(qi=Re)t:{var ii,Fa,io,vc=ye,go=$e,yc=Ve,Bi=It,Rc=ue,bc=vc.m,xo=vc.s,so=[null],Jl=1,pu=0,tf=F5[Bi];r:for(;;){if(Rc&&we(bc,1)){var dl=we(bc,3)+2,rf=tr(go,dl),nf=tr(yc,dl),qh=rf*nf;if(!St(rf,nf,0,vc,so))break r;for(so=so[0],xo.xc=dl,ii=0;ii<qh;++ii){var af=so[ii]>>8&65535;so[ii]=af,af>=Jl&&(Jl=af+1)}}if(bc.h)break r;for(Fa=0;5>Fa;++Fa){var qs=$x[Fa];!Fa&&0<Bi&&(qs+=1<<Bi),pu<qs&&(pu=qs)}var Uf=o(Jl*tf,q),mb=Jl,Wx=o(mb,ae);if(Wx==null)var B0=null;else t(65536>=mb),B0=Wx;var Xm=a(pu);if(B0==null||Xm==null||Uf==null){vc.a=1;break r}var zf=Uf;for(ii=io=0;ii<Jl;++ii){var wc=B0[ii],$0=wc.G,U0=wc.H,pb=0,$1=1,gb=0;for(Fa=0;5>Fa;++Fa){qs=$x[Fa],$0[Fa]=zf,U0[Fa]=io,!Fa&&0<Bi&&(qs+=1<<Bi);a:{var U1,Hx=qs,qx=vc,z1=Xm,G5=zf,$6=io,xb=0,Gh=qx.m,U6=we(Gh,1);if(i(z1,0,0,Hx),U6){var z6=we(Gh,1)+1,vb=we(Gh,1),K5=we(Gh,vb==0?1:8);z1[K5]=1,z6==2&&(z1[K5=we(Gh,8)]=1);var Gx=1}else{var Y5=a(19),X5=we(Gh,4)+4;if(19<X5){qx.a=3;var V1=0;break a}for(U1=0;U1<X5;++U1)Y5[O5[U1]]=we(Gh,3);var yb=void 0,W1=void 0,bb=qx,Vf=Y5,Kx=Hx,J5=z1,Yx=0,Wf=bb.m,Z5=8,Xx=o(128,q);n:for(;K(Xx,0,7,Vf,19);){if(we(Wf,1)){var wb=2+2*we(Wf,3);if((yb=2+we(Wf,wb))>Kx)break n}else yb=Kx;for(W1=0;W1<Kx&&yb--;){pe(Wf);var _b=Xx[0+(127&le(Wf))];ee(Wf,Wf.u+_b.g);var z0=_b.value;if(16>z0)J5[W1++]=z0,z0!=0&&(Z5=z0);else{var Q5=z0==16,V0=z0-16,V6=P5[V0],e3=we(Wf,k5[V0])+V6;if(W1+e3>Kx)break n;for(var t3=Q5?Z5:0;0<e3--;)J5[W1++]=t3}}Yx=1;break n}Yx||(bb.a=3),Gx=Yx}(Gx=Gx&&!Gh.h)&&(xb=K(G5,$6,8,z1,Hx)),Gx&&xb!=0?V1=xb:(qx.a=3,V1=0)}if(V1==0)break r;if($1&&cb[Fa]==1&&($1=zf[io].g==0),pb+=zf[io].g,io+=V1,3>=Fa){var Jm,Zm=Xm[0];for(Jm=1;Jm<qs;++Jm)Xm[Jm]>Zm&&(Zm=Xm[Jm]);gb+=Zm}}if(wc.nd=$1,wc.Qb=0,$1&&(wc.qb=($0[3][U0[3]+0].value<<24|$0[1][U0[1]+0].value<<16|$0[2][U0[2]+0].value)>>>0,pb==0&&256>$0[0][U0[0]+0].value&&(wc.Qb=1,wc.qb+=$0[0][U0[0]+0].value<<8)),wc.jc=!wc.Qb&&6>gb,wc.jc){var Kh,Hu=wc;for(Kh=0;Kh<Ji;++Kh){var Hf=Kh,Yh=Hu.pd[Hf],Jx=Hu.G[0][Hu.H[0]+Hf];256<=Jx.value?(Yh.g=Jx.g+256,Yh.value=Jx.value):(Yh.g=0,Yh.value=0,Hf>>=si(Jx,8,Yh),Hf>>=si(Hu.G[1][Hu.H[1]+Hf],16,Yh),Hf>>=si(Hu.G[2][Hu.H[2]+Hf],0,Yh),si(Hu.G[3][Hu.H[3]+Hf],24,Yh))}}}xo.vc=so,xo.Wb=Jl,xo.Ya=B0,xo.yc=Uf,qi=1;break t}qi=0}if(!(Re=qi)){ye.a=3;break e}if(0<It){if(rt.ua=1<<It,!ot(rt.Wa,It)){ye.a=1,Re=0;break e}}else rt.ua=0;var fl=ye,Qm=$e,H1=Ve,ep=fl.s,q1=ep.xc;if(fl.c=Qm,fl.i=H1,ep.md=tr(Qm,q1),ep.wc=q1==0?-1:(1<<q1)-1,ue){ye.xb=Oo;break e}if((xt=a($e*Ve))==null){ye.a=1,Re=0;break e}Re=(Re=it(ye,xt,0,$e,Ve,Ve,null))&&!Ke.h;break e}return Re?(Pe!=null?Pe[0]=xt:(t(xt==null),t(ue)),ye.$=0,ue||wt(rt)):wt(rt),Re}function Rt(U,Y){var ue=U.c*U.i,ye=ue+Y+16*Y;return t(U.c<=Y),U.V=a(ye),U.V==null?(U.Ta=null,U.Ua=0,U.a=1,0):(U.Ta=U.V,U.Ua=U.Ba+ue+Y,1)}function Mt(U,Y){var ue=U.C,ye=Y-ue,Pe=U.V,Re=U.Ba+U.c*ue;for(t(Y<=U.l.o);0<ye;){var $e=16<ye?16:ye,Ve=U.l.ma,Ke=U.l.width,rt=Ke*$e,xt=Ve.ca,It=Ve.tb+Ke*ue,Ft=U.Ta,At=U.Ua;Fe(U,$e,Pe,Re),Os(Ft,At,xt,It,rt),Qe(Ve,ue,ue+$e,xt,It,Ke),ye-=$e,Pe+=$e*U.c,ue+=$e}t(ue==Y),U.C=U.Ma=Y}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ar(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Tr(){this.Yb=function(){var U=[];return function Y(ue,ye,Pe){for(var Re=Pe[ye],$e=0;$e<Re&&(ue.push(Pe.length>ye+1?[]:0),!(Pe.length<ye+1));$e++)Y(ue[$e],ye+1,Pe)}(U,0,[3,11]),U}()}function Pr(){this.jb=a(3),this.Wc=l([4,8],Tr),this.Xc=l([4,17],Tr)}function aa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Bt(){this.ld=this.La=this.dd=this.tc=0}function Ra(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function au(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bt),this.Y=0,this.ya=Array(new Kn),this.aa=0,this.l=new wn}function Ma(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ma(){this.cb=this.a=0,this.sc="",this.m=new Ce,this.Od=new mr,this.Kc=new Cr,this.ed=new aa,this.Qa=new Ar,this.Ic=this.$c=this.Aa=0,this.D=new au,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ce),this.ia=0,this.pb=o(4,Pa),this.Pa=new Pr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ma),this.Hd=0,this.rb=Array(new Ra),this.sb=0,this.wa=Array(new Bt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kn),this.L=this.aa=0,this.gd=l([4,2],Bt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cl(){var U=new ma;return U!=null&&(U.a=0,U.sc="OK",U.cb=0,U.Xb=0,qm||(qm=Un)),U}function Ya(U,Y,ue){return U.a==0&&(U.a=Y,U.sc=ue,U.cb=0),0}function Fh(U,Y,ue){return 3<=ue&&U[Y+0]==157&&U[Y+1]==1&&U[Y+2]==42}function Es(U,Y){if(U==null)return 0;if(U.a=0,U.sc="OK",Y==null)return Ya(U,2,"null VP8Io passed to VP8GetHeaders()");var ue=Y.data,ye=Y.w,Pe=Y.ha;if(4>Pe)return Ya(U,7,"Truncated header.");var Re=ue[ye+0]|ue[ye+1]<<8|ue[ye+2]<<16,$e=U.Od;if($e.Rb=!(1&Re),$e.td=Re>>1&7,$e.yd=Re>>4&1,$e.ub=Re>>5,3<$e.td)return Ya(U,3,"Incorrect keyframe parameters.");if(!$e.yd)return Ya(U,4,"Frame not displayable.");ye+=3,Pe-=3;var Ve=U.Kc;if($e.Rb){if(7>Pe)return Ya(U,7,"cannot parse picture header");if(!Fh(ue,ye,Pe))return Ya(U,3,"Bad code word");Ve.c=16383&(ue[ye+4]<<8|ue[ye+3]),Ve.Td=ue[ye+4]>>6,Ve.i=16383&(ue[ye+6]<<8|ue[ye+5]),Ve.Ud=ue[ye+6]>>6,ye+=7,Pe-=7,U.za=Ve.c+15>>4,U.Ub=Ve.i+15>>4,Y.width=Ve.c,Y.height=Ve.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,i((Re=U.Pa).jb,0,255,Re.jb.length),t((Re=U.Qa)!=null),Re.Cb=0,Re.Bb=0,Re.Fb=1,i(Re.Zb,0,0,Re.Zb.length),i(Re.Lb,0,0,Re.Lb)}if($e.ub>Pe)return Ya(U,7,"bad partition length");X(Re=U.m,ue,ye,$e.ub),ye+=$e.ub,Pe-=$e.ub,$e.Rb&&(Ve.Ld=Ne(Re),Ve.Kd=Ne(Re)),Ve=U.Qa;var Ke,rt=U.Pa;if(t(Re!=null),t(Ve!=null),Ve.Cb=Ne(Re),Ve.Cb){if(Ve.Bb=Ne(Re),Ne(Re)){for(Ve.Fb=Ne(Re),Ke=0;4>Ke;++Ke)Ve.Zb[Ke]=Ne(Re)?he(Re,7):0;for(Ke=0;4>Ke;++Ke)Ve.Lb[Ke]=Ne(Re)?he(Re,6):0}if(Ve.Bb)for(Ke=0;3>Ke;++Ke)rt.jb[Ke]=Ne(Re)?se(Re,8):255}else Ve.Bb=0;if(Re.Ka)return Ya(U,3,"cannot parse segment header");if((Ve=U.ed).zd=Ne(Re),Ve.Tb=se(Re,6),Ve.wb=se(Re,3),Ve.Pc=Ne(Re),Ve.Pc&&Ne(Re)){for(rt=0;4>rt;++rt)Ne(Re)&&(Ve.vd[rt]=he(Re,6));for(rt=0;4>rt;++rt)Ne(Re)&&(Ve.od[rt]=he(Re,6))}if(U.L=Ve.Tb==0?0:Ve.zd?1:2,Re.Ka)return Ya(U,3,"cannot parse filter header");var xt=Pe;if(Pe=Ke=ye,ye=Ke+xt,Ve=xt,U.Xb=(1<<se(U.m,2))-1,xt<3*(rt=U.Xb))ue=7;else{for(Ke+=3*rt,Ve-=3*rt,xt=0;xt<rt;++xt){var It=ue[Pe+0]|ue[Pe+1]<<8|ue[Pe+2]<<16;It>Ve&&(It=Ve),X(U.Jc[+xt],ue,Ke,It),Ke+=It,Ve-=It,Pe+=3}X(U.Jc[+rt],ue,Ke,Ve),ue=Ke<ye?0:5}if(ue!=0)return Ya(U,ue,"cannot parse partitions");for(ue=se(Ke=U.m,7),Pe=Ne(Ke)?he(Ke,4):0,ye=Ne(Ke)?he(Ke,4):0,Ve=Ne(Ke)?he(Ke,4):0,rt=Ne(Ke)?he(Ke,4):0,Ke=Ne(Ke)?he(Ke,4):0,xt=U.Qa,It=0;4>It;++It){if(xt.Cb){var Ft=xt.Zb[It];xt.Fb||(Ft+=ue)}else{if(0<It){U.pb[It]=U.pb[0];continue}Ft=ue}var At=U.pb[It];At.Sc[0]=ub[wa(Ft+Pe,127)],At.Sc[1]=Ux[wa(Ft+0,127)],At.Eb[0]=2*ub[wa(Ft+ye,127)],At.Eb[1]=101581*Ux[wa(Ft+Ve,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=ub[wa(Ft+rt,117)],At.Qc[1]=Ux[wa(Ft+Ke,127)],At.lc=Ft+Ke}if(!$e.Rb)return Ya(U,4,"Not a key frame.");for(Ne(Re),$e=U.Pa,ue=0;4>ue;++ue){for(Pe=0;8>Pe;++Pe)for(ye=0;3>ye;++ye)for(Ve=0;11>Ve;++Ve)rt=Se(Re,B5[ue][Pe][ye][Ve])?se(Re,8):M5[ue][Pe][ye][Ve],$e.Wc[ue][Pe].Yb[ye][Ve]=rt;for(Pe=0;17>Pe;++Pe)$e.Xc[ue][Pe]=$e.Wc[ue][$5[Pe]]}return U.kc=Ne(Re),U.kc&&(U.Bd=se(Re,8)),U.cb=1}function Un(U,Y,ue,ye,Pe,Re,$e){var Ve=Y[Pe].Yb[ue];for(ue=0;16>Pe;++Pe){if(!Se(U,Ve[ue+0]))return Pe;for(;!Se(U,Ve[ue+1]);)if(Ve=Y[++Pe].Yb[0],ue=0,Pe==16)return 16;var Ke=Y[Pe+1].Yb;if(Se(U,Ve[ue+2])){var rt=U,xt=0;if(Se(rt,(Ft=Ve)[(It=ue)+3]))if(Se(rt,Ft[It+6])){for(Ve=0,It=2*(xt=Se(rt,Ft[It+8]))+(Ft=Se(rt,Ft[It+9+xt])),xt=0,Ft=zx[It];Ft[Ve];++Ve)xt+=xt+Se(rt,Ft[Ve]);xt+=3+(8<<It)}else Se(rt,Ft[It+7])?(xt=7+2*Se(rt,165),xt+=Se(rt,145)):xt=5+Se(rt,159);else xt=Se(rt,Ft[It+4])?3+Se(rt,Ft[It+5]):2;Ve=Ke[2]}else xt=1,Ve=Ke[1];Ke=$e+R5[Pe],0>(rt=U).b&&xe(rt);var It,Ft=rt.b,At=(It=rt.Ca>>1)-(rt.I>>Ft)>>31;--rt.b,rt.Ca+=At,rt.Ca|=1,rt.I-=(It+1&At)<<Ft,Re[Ke]=((xt^At)-At)*ye[(0<Pe)+0]}return 16}function zl(U){var Y=U.rb[U.sb-1];Y.la=0,Y.Na=0,i(U.zc,0,0,U.zc.length),U.ja=0}function ps(U,Y){if(U==null)return 0;if(Y==null)return Ya(U,2,"NULL VP8Io parameter in VP8Decode().");if(!U.cb&&!Es(U,Y))return 0;if(t(U.cb),Y.ac==null||Y.ac(Y)){Y.ob&&(U.L=0);var ue=Ym[U.L];if(U.L==2?(U.yb=0,U.zb=0):(U.yb=Y.v-ue>>4,U.zb=Y.j-ue>>4,0>U.yb&&(U.yb=0),0>U.zb&&(U.zb=0)),U.Va=Y.o+15+ue>>4,U.Hb=Y.va+15+ue>>4,U.Hb>U.za&&(U.Hb=U.za),U.Va>U.Ub&&(U.Va=U.Ub),0<U.L){var ye=U.ed;for(ue=0;4>ue;++ue){var Pe;if(U.Qa.Cb){var Re=U.Qa.Lb[ue];U.Qa.Fb||(Re+=ye.Tb)}else Re=ye.Tb;for(Pe=0;1>=Pe;++Pe){var $e=U.gd[ue][Pe],Ve=Re;if(ye.Pc&&(Ve+=ye.vd[0],Pe&&(Ve+=ye.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var Ke=Ve;0<ye.wb&&(Ke=4<ye.wb?Ke>>2:Ke>>1)>9-ye.wb&&(Ke=9-ye.wb),1>Ke&&(Ke=1),$e.dd=Ke,$e.tc=2*Ve+Ke,$e.ld=40<=Ve?2:15<=Ve?1:0}else $e.tc=0;$e.La=Pe}}}ue=0}else Ya(U,6,"Frame setup failed"),ue=U.a;if(ue=ue==0){if(ue){U.$c=0,0<U.Aa||(U.Ic=q5);e:{ue=U.Ic,ye=4*(Ke=U.za);var rt=32*Ke,xt=Ke+1,It=0<U.L?Ke*(0<U.Aa?2:1):0,Ft=(U.Aa==2?2:1)*Ke;if(($e=ye+832+(Pe=3*(16*ue+Ym[U.L])/2*rt)+(Re=U.Fa!=null&&0<U.Fa.length?U.Kc.c*U.Kc.i:0))!=$e)ue=0;else{if($e>U.Vb){if(U.Vb=0,U.Ec=a($e),U.Fc=0,U.Ec==null){ue=Ya(U,1,"no memory during frame initialization.");break e}U.Vb=$e}$e=U.Ec,Ve=U.Fc,U.Ac=$e,U.Bc=Ve,Ve+=ye,U.Gd=o(rt,Ma),U.Hd=0,U.rb=o(xt+1,Ra),U.sb=1,U.wa=It?o(It,Bt):null,U.Y=0,U.D.Nb=0,U.D.wa=U.wa,U.D.Y=U.Y,0<U.Aa&&(U.D.Y+=Ke),t(!0),U.oc=$e,U.pc=Ve,Ve+=832,U.ya=o(Ft,Kn),U.aa=0,U.D.ya=U.ya,U.D.aa=U.aa,U.Aa==2&&(U.D.aa+=Ke),U.R=16*Ke,U.B=8*Ke,Ke=(rt=Ym[U.L])*U.R,rt=rt/2*U.B,U.sa=$e,U.ta=Ve+Ke,U.qa=U.sa,U.ra=U.ta+16*ue*U.R+rt,U.Ha=U.qa,U.Ia=U.ra+8*ue*U.B+rt,U.$c=0,Ve+=Pe,U.mb=Re?$e:null,U.nb=Re?Ve:null,t(Ve+Re<=U.Fc+U.Vb),zl(U),i(U.Ac,U.Bc,0,ye),ue=1}}if(ue){if(Y.ka=0,Y.y=U.sa,Y.O=U.ta,Y.f=U.qa,Y.N=U.ra,Y.ea=U.Ha,Y.Vd=U.Ia,Y.fa=U.R,Y.Rc=U.B,Y.F=null,Y.J=0,!Uh){for(ue=-255;255>=ue;++ue)po[255+ue]=0>ue?-ue:ue;for(ue=-1020;1020>=ue;++ue)Qd[1020+ue]=-128>ue?-128:127<ue?127:ue;for(ue=-112;112>=ue;++ue)Ea[112+ue]=-16>ue?-16:15<ue?15:ue;for(ue=-255;510>=ue;++ue)ef[255+ue]=0>ue?0:255<ue?255:ue;Uh=1}ut=ll,pt=Tt,Vt=Ye,ir=Ln,vr=Ts,Nt=Us,pr=pd,La=Yo,ca=Aa,hi=Ns,Po=Wm,Ps=$t,mi=zu,vs=Mf,Ws=$h,Yl=lu,Vu=Uu,ul=Vm,Li[0]=zn,Li[1]=Rh,Li[2]=iu,Li[3]=su,Li[4]=zm,Li[5]=_s,Li[6]=Ca,Li[7]=Mh,Li[8]=Yd,Li[9]=zs,xc[0]=Gd,xc[1]=Qr,xc[2]=fi,xc[3]=qd,xc[4]=ks,xc[5]=Kd,xc[6]=Ci,Hs[0]=cl,Hs[1]=Vl,Hs[2]=Or,Hs[3]=Rf,Hs[4]=Wl,Hs[5]=as,Hs[6]=Vs,ue=1}else ue=0}ue&&(ue=function(At,hr){for(At.M=0;At.M<At.Va;++At.M){var Xt,yt=At.Jc[At.M&At.Xb],_t=At.m,ur=At;for(Xt=0;Xt<ur.za;++Xt){var gr=_t,fr=ur,fn=fr.Ac,rn=fr.Bc+4*Xt,ia=fr.zc,nn=fr.ya[fr.aa+Xt];if(fr.Qa.Bb?nn.$b=Se(gr,fr.Pa.jb[0])?2+Se(gr,fr.Pa.jb[2]):Se(gr,fr.Pa.jb[1]):nn.$b=0,fr.kc&&(nn.Ad=Se(gr,fr.Bd)),nn.Za=!Se(gr,145)+0,nn.Za){var Oi=nn.Ob,Hi=0;for(fr=0;4>fr;++fr){var oi,ai=ia[0+fr];for(oi=0;4>oi;++oi){ai=L5[fn[rn+oi]][ai];for(var qi=db[Se(gr,ai[0])];0<qi;)qi=db[2*qi+Se(gr,ai[qi])];ai=-qi,fn[rn+oi]=ai}n(Oi,Hi,fn,rn,4),Hi+=4,ia[0+fr]=ai}}else ai=Se(gr,156)?Se(gr,128)?1:3:Se(gr,163)?2:0,nn.Ob[0]=ai,i(fn,rn,ai,4),i(ia,0,ai,4);nn.Dd=Se(gr,142)?Se(gr,114)?Se(gr,183)?1:3:2:0}if(ur.m.Ka)return Ya(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(ur=yt,gr=(_t=At).rb[_t.sb-1],fn=_t.rb[_t.sb+_t.ja],Xt=_t.ya[_t.aa+_t.ja],rn=_t.kc?Xt.Ad:0)gr.la=fn.la=0,Xt.Za||(gr.Na=fn.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var ii,Fa;if(gr=fn,fn=ur,rn=_t.Pa.Xc,ia=_t.ya[_t.aa+_t.ja],nn=_t.pb[ia.$b],fr=ia.ad,Oi=0,Hi=_t.rb[_t.sb-1],ai=oi=0,i(fr,Oi,0,384),ia.Za)var io=0,vc=rn[3];else{qi=a(16);var go=gr.Na+Hi.Na;if(go=qm(fn,rn[1],go,nn.Eb,0,qi,0),gr.Na=Hi.Na=(0<go)+0,1<go)ut(qi,0,fr,Oi);else{var yc=qi[0]+3>>3;for(qi=0;256>qi;qi+=16)fr[Oi+qi]=yc}io=1,vc=rn[0]}var Bi=15&gr.la,Rc=15&Hi.la;for(qi=0;4>qi;++qi){var bc=1&Rc;for(yc=Fa=0;4>yc;++yc)Bi=Bi>>1|(bc=(go=qm(fn,vc,go=bc+(1&Bi),nn.Sc,io,fr,Oi))>io)<<7,Fa=Fa<<2|(3<go?3:1<go?2:fr[Oi+0]!=0),Oi+=16;Bi>>=4,Rc=Rc>>1|bc<<7,oi=(oi<<8|Fa)>>>0}for(vc=Bi,io=Rc>>4,ii=0;4>ii;ii+=2){for(Fa=0,Bi=gr.la>>4+ii,Rc=Hi.la>>4+ii,qi=0;2>qi;++qi){for(bc=1&Rc,yc=0;2>yc;++yc)go=bc+(1&Bi),Bi=Bi>>1|(bc=0<(go=qm(fn,rn[2],go,nn.Qc,0,fr,Oi)))<<3,Fa=Fa<<2|(3<go?3:1<go?2:fr[Oi+0]!=0),Oi+=16;Bi>>=2,Rc=Rc>>1|bc<<5}ai|=Fa<<4*ii,vc|=Bi<<4<<ii,io|=(240&Rc)<<ii}gr.la=vc,Hi.la=io,ia.Hc=oi,ia.Gc=ai,ia.ia=43690&ai?0:nn.ia,rn=!(oi|ai)}if(0<_t.L&&(_t.wa[_t.Y+_t.ja]=_t.gd[Xt.$b][Xt.Za],_t.wa[_t.Y+_t.ja].La|=!rn),ur.Ka)return Ya(At,7,"Premature end-of-file encountered.")}if(zl(At),_t=hr,ur=1,Xt=(yt=At).D,gr=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)e:{if(Xt.M=yt.M,Xt.uc=gr,Yn(yt,Xt),ur=1,Xt=(Fa=yt.D).Nb,gr=(ai=Ym[yt.L])*yt.R,fn=ai/2*yt.B,qi=16*Xt*yt.R,yc=8*Xt*yt.B,rn=yt.sa,ia=yt.ta-gr+qi,nn=yt.qa,fr=yt.ra-fn+yc,Oi=yt.Ha,Hi=yt.Ia-fn+yc,Rc=(Bi=Fa.M)==0,oi=Bi>=yt.Va-1,yt.Aa==2&&Yn(yt,Fa),Fa.uc)for(bc=(go=yt).D.M,t(go.D.uc),Fa=go.yb;Fa<go.Hb;++Fa){io=Fa,vc=bc;var xo=(so=(qs=go).D).Nb;ii=qs.R;var so=so.wa[so.Y+io],Jl=qs.sa,pu=qs.ta+16*xo*ii+16*io,tf=so.dd,dl=so.tc;if(dl!=0)if(t(3<=dl),qs.L==1)0<io&&Yl(Jl,pu,ii,dl+4),so.La&&ul(Jl,pu,ii,dl),0<vc&&Ws(Jl,pu,ii,dl+4),so.La&&Vu(Jl,pu,ii,dl);else{var rf=qs.B,nf=qs.qa,qh=qs.ra+8*xo*rf+8*io,af=qs.Ha,qs=qs.Ia+8*xo*rf+8*io;xo=so.ld,0<io&&(La(Jl,pu,ii,dl+4,tf,xo),hi(nf,qh,af,qs,rf,dl+4,tf,xo)),so.La&&(Ps(Jl,pu,ii,dl,tf,xo),vs(nf,qh,af,qs,rf,dl,tf,xo)),0<vc&&(pr(Jl,pu,ii,dl+4,tf,xo),ca(nf,qh,af,qs,rf,dl+4,tf,xo)),so.La&&(Po(Jl,pu,ii,dl,tf,xo),mi(nf,qh,af,qs,rf,dl,tf,xo))}}if(yt.ia&&alert("todo:DitherRow"),_t.put!=null){if(Fa=16*Bi,Bi=16*(Bi+1),Rc?(_t.y=yt.sa,_t.O=yt.ta+qi,_t.f=yt.qa,_t.N=yt.ra+yc,_t.ea=yt.Ha,_t.W=yt.Ia+yc):(Fa-=ai,_t.y=rn,_t.O=ia,_t.f=nn,_t.N=fr,_t.ea=Oi,_t.W=Hi),oi||(Bi-=ai),Bi>_t.o&&(Bi=_t.o),_t.F=null,_t.J=null,yt.Fa!=null&&0<yt.Fa.length&&Fa<Bi&&(_t.J=ri(yt,_t,Fa,Bi-Fa),_t.F=yt.mb,_t.F==null&&_t.F.length==0)){ur=Ya(yt,3,"Could not decode alpha data.");break e}Fa<_t.j&&(ai=_t.j-Fa,Fa=_t.j,t(!(1&ai)),_t.O+=yt.R*ai,_t.N+=yt.B*(ai>>1),_t.W+=yt.B*(ai>>1),_t.F!=null&&(_t.J+=_t.width*ai)),Fa<Bi&&(_t.O+=_t.v,_t.N+=_t.v>>1,_t.W+=_t.v>>1,_t.F!=null&&(_t.J+=_t.v),_t.ka=Fa-_t.j,_t.U=_t.va-_t.v,_t.T=Bi-Fa,ur=_t.put(_t))}Xt+1!=yt.Ic||oi||(n(yt.sa,yt.ta-gr,rn,ia+16*yt.R,gr),n(yt.qa,yt.ra-fn,nn,fr+8*yt.B,fn),n(yt.Ha,yt.Ia-fn,Oi,Hi+8*yt.B,fn))}if(!ur)return Ya(At,6,"Output aborted.")}return 1}(U,Y)),Y.bc!=null&&Y.bc(Y),ue&=1}return ue?(U.cb=0,ue):0}function ho(U,Y,ue,ye,Pe){Pe=U[Y+ue+32*ye]+(Pe>>3),U[Y+ue+32*ye]=-256&Pe?0>Pe?0:255:Pe}function Ff(U,Y,ue,ye,Pe,Re){ho(U,Y,0,ue,ye+Pe),ho(U,Y,1,ue,ye+Re),ho(U,Y,2,ue,ye-Re),ho(U,Y,3,ue,ye-Pe)}function $s(U){return(20091*U>>16)+U}function Tn(U,Y,ue,ye){var Pe,Re=0,$e=a(16);for(Pe=0;4>Pe;++Pe){var Ve=U[Y+0]+U[Y+8],Ke=U[Y+0]-U[Y+8],rt=(35468*U[Y+4]>>16)-$s(U[Y+12]),xt=$s(U[Y+4])+(35468*U[Y+12]>>16);$e[Re+0]=Ve+xt,$e[Re+1]=Ke+rt,$e[Re+2]=Ke-rt,$e[Re+3]=Ve-xt,Re+=4,Y++}for(Pe=Re=0;4>Pe;++Pe)Ve=(U=$e[Re+0]+4)+$e[Re+8],Ke=U-$e[Re+8],rt=(35468*$e[Re+4]>>16)-$s($e[Re+12]),ho(ue,ye,0,0,Ve+(xt=$s($e[Re+4])+(35468*$e[Re+12]>>16))),ho(ue,ye,1,0,Ke+rt),ho(ue,ye,2,0,Ke-rt),ho(ue,ye,3,0,Ve-xt),Re++,ye+=32}function Us(U,Y,ue,ye){var Pe=U[Y+0]+4,Re=35468*U[Y+4]>>16,$e=$s(U[Y+4]),Ve=35468*U[Y+1]>>16;Ff(ue,ye,0,Pe+$e,U=$s(U[Y+1]),Ve),Ff(ue,ye,1,Pe+Re,U,Ve),Ff(ue,ye,2,Pe-Re,U,Ve),Ff(ue,ye,3,Pe-$e,U,Ve)}function Tt(U,Y,ue,ye,Pe){Tn(U,Y,ue,ye),Pe&&Tn(U,Y+16,ue,ye+4)}function Ye(U,Y,ue,ye){pt(U,Y+0,ue,ye,1),pt(U,Y+32,ue,ye+128,1)}function Ln(U,Y,ue,ye){var Pe;for(U=U[Y+0]+4,Pe=0;4>Pe;++Pe)for(Y=0;4>Y;++Y)ho(ue,ye,Y,Pe,U)}function Ts(U,Y,ue,ye){U[Y+0]&&ir(U,Y+0,ue,ye),U[Y+16]&&ir(U,Y+16,ue,ye+4),U[Y+32]&&ir(U,Y+32,ue,ye+128),U[Y+48]&&ir(U,Y+48,ue,ye+128+4)}function ll(U,Y,ue,ye){var Pe,Re=a(16);for(Pe=0;4>Pe;++Pe){var $e=U[Y+0+Pe]+U[Y+12+Pe],Ve=U[Y+4+Pe]+U[Y+8+Pe],Ke=U[Y+4+Pe]-U[Y+8+Pe],rt=U[Y+0+Pe]-U[Y+12+Pe];Re[0+Pe]=$e+Ve,Re[8+Pe]=$e-Ve,Re[4+Pe]=rt+Ke,Re[12+Pe]=rt-Ke}for(Pe=0;4>Pe;++Pe)$e=(U=Re[0+4*Pe]+3)+Re[3+4*Pe],Ve=Re[1+4*Pe]+Re[2+4*Pe],Ke=Re[1+4*Pe]-Re[2+4*Pe],rt=U-Re[3+4*Pe],ue[ye+0]=$e+Ve>>3,ue[ye+16]=rt+Ke>>3,ue[ye+32]=$e-Ve>>3,ue[ye+48]=rt-Ke>>3,ye+=64}function Dh(U,Y,ue){var ye,Pe=Y-32,Re=du,$e=255-U[Pe-1];for(ye=0;ye<ue;++ye){var Ve,Ke=Re,rt=$e+U[Y-1];for(Ve=0;Ve<ue;++Ve)U[Y+Ve]=Ke[rt+U[Pe+Ve]];Y+=32}}function Rh(U,Y){Dh(U,Y,4)}function Vl(U,Y){Dh(U,Y,8)}function Qr(U,Y){Dh(U,Y,16)}function fi(U,Y){var ue;for(ue=0;16>ue;++ue)n(U,Y+32*ue,U,Y-32,16)}function qd(U,Y){var ue;for(ue=16;0<ue;--ue)i(U,Y,U[Y-1],16),Y+=32}function Df(U,Y,ue){var ye;for(ye=0;16>ye;++ye)i(Y,ue+32*ye,U,16)}function Gd(U,Y){var ue,ye=16;for(ue=0;16>ue;++ue)ye+=U[Y-1+32*ue]+U[Y+ue-32];Df(ye>>5,U,Y)}function ks(U,Y){var ue,ye=8;for(ue=0;16>ue;++ue)ye+=U[Y-1+32*ue];Df(ye>>4,U,Y)}function Kd(U,Y){var ue,ye=8;for(ue=0;16>ue;++ue)ye+=U[Y+ue-32];Df(ye>>4,U,Y)}function Ci(U,Y){Df(128,U,Y)}function dn(U,Y,ue){return U+2*Y+ue+2>>2}function iu(U,Y){var ue,ye=Y-32;for(ye=new Uint8Array([dn(U[ye-1],U[ye+0],U[ye+1]),dn(U[ye+0],U[ye+1],U[ye+2]),dn(U[ye+1],U[ye+2],U[ye+3]),dn(U[ye+2],U[ye+3],U[ye+4])]),ue=0;4>ue;++ue)n(U,Y+32*ue,ye,0,ye.length)}function su(U,Y){var ue=U[Y-1],ye=U[Y-1+32],Pe=U[Y-1+64],Re=U[Y-1+96];je(U,Y+0,16843009*dn(U[Y-1-32],ue,ye)),je(U,Y+32,16843009*dn(ue,ye,Pe)),je(U,Y+64,16843009*dn(ye,Pe,Re)),je(U,Y+96,16843009*dn(Pe,Re,Re))}function zn(U,Y){var ue,ye=4;for(ue=0;4>ue;++ue)ye+=U[Y+ue-32]+U[Y-1+32*ue];for(ye>>=3,ue=0;4>ue;++ue)i(U,Y+32*ue,ye,4)}function zm(U,Y){var ue=U[Y-1+0],ye=U[Y-1+32],Pe=U[Y-1+64],Re=U[Y-1-32],$e=U[Y+0-32],Ve=U[Y+1-32],Ke=U[Y+2-32],rt=U[Y+3-32];U[Y+0+96]=dn(ye,Pe,U[Y-1+96]),U[Y+1+96]=U[Y+0+64]=dn(ue,ye,Pe),U[Y+2+96]=U[Y+1+64]=U[Y+0+32]=dn(Re,ue,ye),U[Y+3+96]=U[Y+2+64]=U[Y+1+32]=U[Y+0+0]=dn($e,Re,ue),U[Y+3+64]=U[Y+2+32]=U[Y+1+0]=dn(Ve,$e,Re),U[Y+3+32]=U[Y+2+0]=dn(Ke,Ve,$e),U[Y+3+0]=dn(rt,Ke,Ve)}function Ca(U,Y){var ue=U[Y+1-32],ye=U[Y+2-32],Pe=U[Y+3-32],Re=U[Y+4-32],$e=U[Y+5-32],Ve=U[Y+6-32],Ke=U[Y+7-32];U[Y+0+0]=dn(U[Y+0-32],ue,ye),U[Y+1+0]=U[Y+0+32]=dn(ue,ye,Pe),U[Y+2+0]=U[Y+1+32]=U[Y+0+64]=dn(ye,Pe,Re),U[Y+3+0]=U[Y+2+32]=U[Y+1+64]=U[Y+0+96]=dn(Pe,Re,$e),U[Y+3+32]=U[Y+2+64]=U[Y+1+96]=dn(Re,$e,Ve),U[Y+3+64]=U[Y+2+96]=dn($e,Ve,Ke),U[Y+3+96]=dn(Ve,Ke,Ke)}function _s(U,Y){var ue=U[Y-1+0],ye=U[Y-1+32],Pe=U[Y-1+64],Re=U[Y-1-32],$e=U[Y+0-32],Ve=U[Y+1-32],Ke=U[Y+2-32],rt=U[Y+3-32];U[Y+0+0]=U[Y+1+64]=Re+$e+1>>1,U[Y+1+0]=U[Y+2+64]=$e+Ve+1>>1,U[Y+2+0]=U[Y+3+64]=Ve+Ke+1>>1,U[Y+3+0]=Ke+rt+1>>1,U[Y+0+96]=dn(Pe,ye,ue),U[Y+0+64]=dn(ye,ue,Re),U[Y+0+32]=U[Y+1+96]=dn(ue,Re,$e),U[Y+1+32]=U[Y+2+96]=dn(Re,$e,Ve),U[Y+2+32]=U[Y+3+96]=dn($e,Ve,Ke),U[Y+3+32]=dn(Ve,Ke,rt)}function Mh(U,Y){var ue=U[Y+0-32],ye=U[Y+1-32],Pe=U[Y+2-32],Re=U[Y+3-32],$e=U[Y+4-32],Ve=U[Y+5-32],Ke=U[Y+6-32],rt=U[Y+7-32];U[Y+0+0]=ue+ye+1>>1,U[Y+1+0]=U[Y+0+64]=ye+Pe+1>>1,U[Y+2+0]=U[Y+1+64]=Pe+Re+1>>1,U[Y+3+0]=U[Y+2+64]=Re+$e+1>>1,U[Y+0+32]=dn(ue,ye,Pe),U[Y+1+32]=U[Y+0+96]=dn(ye,Pe,Re),U[Y+2+32]=U[Y+1+96]=dn(Pe,Re,$e),U[Y+3+32]=U[Y+2+96]=dn(Re,$e,Ve),U[Y+3+64]=dn($e,Ve,Ke),U[Y+3+96]=dn(Ve,Ke,rt)}function zs(U,Y){var ue=U[Y-1+0],ye=U[Y-1+32],Pe=U[Y-1+64],Re=U[Y-1+96];U[Y+0+0]=ue+ye+1>>1,U[Y+2+0]=U[Y+0+32]=ye+Pe+1>>1,U[Y+2+32]=U[Y+0+64]=Pe+Re+1>>1,U[Y+1+0]=dn(ue,ye,Pe),U[Y+3+0]=U[Y+1+32]=dn(ye,Pe,Re),U[Y+3+32]=U[Y+1+64]=dn(Pe,Re,Re),U[Y+3+64]=U[Y+2+64]=U[Y+0+96]=U[Y+1+96]=U[Y+2+96]=U[Y+3+96]=Re}function Yd(U,Y){var ue=U[Y-1+0],ye=U[Y-1+32],Pe=U[Y-1+64],Re=U[Y-1+96],$e=U[Y-1-32],Ve=U[Y+0-32],Ke=U[Y+1-32],rt=U[Y+2-32];U[Y+0+0]=U[Y+2+32]=ue+$e+1>>1,U[Y+0+32]=U[Y+2+64]=ye+ue+1>>1,U[Y+0+64]=U[Y+2+96]=Pe+ye+1>>1,U[Y+0+96]=Re+Pe+1>>1,U[Y+3+0]=dn(Ve,Ke,rt),U[Y+2+0]=dn($e,Ve,Ke),U[Y+1+0]=U[Y+3+32]=dn(ue,$e,Ve),U[Y+1+32]=U[Y+3+64]=dn(ye,ue,$e),U[Y+1+64]=U[Y+3+96]=dn(Pe,ye,ue),U[Y+1+96]=dn(Re,Pe,ye)}function Or(U,Y){var ue;for(ue=0;8>ue;++ue)n(U,Y+32*ue,U,Y-32,8)}function Rf(U,Y){var ue;for(ue=0;8>ue;++ue)i(U,Y,U[Y-1],8),Y+=32}function hc(U,Y,ue){var ye;for(ye=0;8>ye;++ye)i(Y,ue+32*ye,U,8)}function cl(U,Y){var ue,ye=8;for(ue=0;8>ue;++ue)ye+=U[Y+ue-32]+U[Y-1+32*ue];hc(ye>>4,U,Y)}function as(U,Y){var ue,ye=4;for(ue=0;8>ue;++ue)ye+=U[Y+ue-32];hc(ye>>3,U,Y)}function Wl(U,Y){var ue,ye=4;for(ue=0;8>ue;++ue)ye+=U[Y-1+32*ue];hc(ye>>3,U,Y)}function Vs(U,Y){hc(128,U,Y)}function ou(U,Y,ue){var ye=U[Y-ue],Pe=U[Y+0],Re=3*(Pe-ye)+zh[1020+U[Y-2*ue]-U[Y+ue]],$e=Pi[112+(Re+4>>3)];U[Y-ue]=du[255+ye+Pi[112+(Re+3>>3)]],U[Y+0]=du[255+Pe-$e]}function Eo(U,Y,ue,ye){var Pe=U[Y+0],Re=U[Y+ue];return fu[255+U[Y-2*ue]-U[Y-ue]]>ye||fu[255+Re-Pe]>ye}function Lh(U,Y,ue,ye){return 4*fu[255+U[Y-ue]-U[Y+0]]+fu[255+U[Y-2*ue]-U[Y+ue]]<=ye}function Bh(U,Y,ue,ye,Pe){var Re=U[Y-3*ue],$e=U[Y-2*ue],Ve=U[Y-ue],Ke=U[Y+0],rt=U[Y+ue],xt=U[Y+2*ue],It=U[Y+3*ue];return 4*fu[255+Ve-Ke]+fu[255+$e-rt]>ye?0:fu[255+U[Y-4*ue]-Re]<=Pe&&fu[255+Re-$e]<=Pe&&fu[255+$e-Ve]<=Pe&&fu[255+It-xt]<=Pe&&fu[255+xt-rt]<=Pe&&fu[255+rt-Ke]<=Pe}function $h(U,Y,ue,ye){var Pe=2*ye+1;for(ye=0;16>ye;++ye)Lh(U,Y+ye,ue,Pe)&&ou(U,Y+ye,ue)}function lu(U,Y,ue,ye){var Pe=2*ye+1;for(ye=0;16>ye;++ye)Lh(U,Y+ye*ue,1,Pe)&&ou(U,Y+ye*ue,1)}function Uu(U,Y,ue,ye){var Pe;for(Pe=3;0<Pe;--Pe)$h(U,Y+=4*ue,ue,ye)}function Vm(U,Y,ue,ye){var Pe;for(Pe=3;0<Pe;--Pe)lu(U,Y+=4,ue,ye)}function ei(U,Y,ue,ye,Pe,Re,$e,Ve){for(Re=2*Re+1;0<Pe--;){if(Bh(U,Y,ue,Re,$e))if(Eo(U,Y,ue,Ve))ou(U,Y,ue);else{var Ke=U,rt=Y,xt=ue,It=Ke[rt-2*xt],Ft=Ke[rt-xt],At=Ke[rt+0],hr=Ke[rt+xt],Xt=Ke[rt+2*xt],yt=27*(ur=zh[1020+3*(At-Ft)+zh[1020+It-hr]])+63>>7,_t=18*ur+63>>7,ur=9*ur+63>>7;Ke[rt-3*xt]=du[255+Ke[rt-3*xt]+ur],Ke[rt-2*xt]=du[255+It+_t],Ke[rt-xt]=du[255+Ft+yt],Ke[rt+0]=du[255+At-yt],Ke[rt+xt]=du[255+hr-_t],Ke[rt+2*xt]=du[255+Xt-ur]}Y+=ye}}function mc(U,Y,ue,ye,Pe,Re,$e,Ve){for(Re=2*Re+1;0<Pe--;){if(Bh(U,Y,ue,Re,$e))if(Eo(U,Y,ue,Ve))ou(U,Y,ue);else{var Ke=U,rt=Y,xt=ue,It=Ke[rt-xt],Ft=Ke[rt+0],At=Ke[rt+xt],hr=Pi[112+((Xt=3*(Ft-It))+4>>3)],Xt=Pi[112+(Xt+3>>3)],yt=hr+1>>1;Ke[rt-2*xt]=du[255+Ke[rt-2*xt]+yt],Ke[rt-xt]=du[255+It+Xt],Ke[rt+0]=du[255+Ft-hr],Ke[rt+xt]=du[255+At-yt]}Y+=ye}}function pd(U,Y,ue,ye,Pe,Re){ei(U,Y,ue,1,16,ye,Pe,Re)}function Yo(U,Y,ue,ye,Pe,Re){ei(U,Y,1,ue,16,ye,Pe,Re)}function Wm(U,Y,ue,ye,Pe,Re){var $e;for($e=3;0<$e;--$e)mc(U,Y+=4*ue,ue,1,16,ye,Pe,Re)}function $t(U,Y,ue,ye,Pe,Re){var $e;for($e=3;0<$e;--$e)mc(U,Y+=4,1,ue,16,ye,Pe,Re)}function Aa(U,Y,ue,ye,Pe,Re,$e,Ve){ei(U,Y,Pe,1,8,Re,$e,Ve),ei(ue,ye,Pe,1,8,Re,$e,Ve)}function Ns(U,Y,ue,ye,Pe,Re,$e,Ve){ei(U,Y,1,Pe,8,Re,$e,Ve),ei(ue,ye,1,Pe,8,Re,$e,Ve)}function zu(U,Y,ue,ye,Pe,Re,$e,Ve){mc(U,Y+4*Pe,Pe,1,8,Re,$e,Ve),mc(ue,ye+4*Pe,Pe,1,8,Re,$e,Ve)}function Mf(U,Y,ue,ye,Pe,Re,$e,Ve){mc(U,Y+4,1,Pe,8,Re,$e,Ve),mc(ue,ye+4,1,Pe,8,Re,$e,Ve)}function Xd(){this.ba=new fa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Za,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Jd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cu(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new q}function Mi(){this.xb=this.a=0,this.l=new wn,this.ca=new fa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cu,this.ab=0,this.gc=o(4,Lf),this.Oc=0}function Zd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pa(U,Y,ue,ye,Pe,Re,$e){for(U=U==null?0:U[Y+0],Y=0;Y<$e;++Y)Pe[Re+Y]=U+ue[ye+Y]&255,U=Pe[Re+Y]}function Hl(U,Y,ue,ye,Pe,Re,$e){var Ve;if(U==null)pa(null,null,ue,ye,Pe,Re,$e);else for(Ve=0;Ve<$e;++Ve)Pe[Re+Ve]=U[Y+Ve]+ue[ye+Ve]&255}function ql(U,Y,ue,ye,Pe,Re,$e){if(U==null)pa(null,null,ue,ye,Pe,Re,$e);else{var Ve,Ke=U[Y+0],rt=Ke,xt=Ke;for(Ve=0;Ve<$e;++Ve)rt=xt+(Ke=U[Y+Ve])-rt,xt=ue[ye+Ve]+(-256&rt?0>rt?0:255:rt)&255,rt=Ke,Pe[Re+Ve]=xt}}function ri(U,Y,ue,ye){var Pe=Y.width,Re=Y.o;if(t(U!=null&&Y!=null),0>ue||0>=ye||ue+ye>Re)return null;if(!U.Cc){if(U.ga==null){var $e;if(U.ga=new Zd,($e=U.ga==null)||($e=Y.width*Y.o,t(U.Gb.length==0),U.Gb=a($e),U.Uc=0,U.Gb==null?$e=0:(U.mb=U.Gb,U.nb=U.Uc,U.rc=null,$e=1),$e=!$e),!$e){$e=U.ga;var Ve=U.Fa,Ke=U.P,rt=U.qc,xt=U.mb,It=U.nb,Ft=Ke+1,At=rt-1,hr=$e.l;if(t(Ve!=null&&xt!=null&&Y!=null),$f[0]=null,$f[1]=pa,$f[2]=Hl,$f[3]=ql,$e.ca=xt,$e.tb=It,$e.c=Y.width,$e.i=Y.height,t(0<$e.c&&0<$e.i),1>=rt)Y=0;else if($e.$a=Ve[Ke+0]>>0&3,$e.Z=Ve[Ke+0]>>2&3,$e.Lc=Ve[Ke+0]>>4&3,Ke=Ve[Ke+0]>>6&3,0>$e.$a||1<$e.$a||4<=$e.Z||1<$e.Lc||Ke)Y=0;else if(hr.put=Ei,hr.ac=Xr,hr.bc=Ti,hr.ma=$e,hr.width=Y.width,hr.height=Y.height,hr.Da=Y.Da,hr.v=Y.v,hr.va=Y.va,hr.j=Y.j,hr.o=Y.o,$e.$a)e:{t($e.$a==1),Y=Pt();t:for(;;){if(Y==null){Y=0;break e}if(t($e!=null),$e.mc=Y,Y.c=$e.c,Y.i=$e.i,Y.l=$e.l,Y.l.ma=$e,Y.l.width=$e.c,Y.l.height=$e.i,Y.a=0,ce(Y.m,Ve,Ft,At),!St($e.c,$e.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&Xe(Y.s)?($e.ic=1,Ve=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=a(Ve),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):($e.ic=0,Y=Rt(Y,$e.c)),!Y))break t;Y=1;break e}$e.mc=null,Y=0}else Y=At>=$e.c*$e.i;$e=!Y}if($e)return null;U.ga.Lc!=1?U.Ga=0:ye=Re-ue}t(U.ga!=null),t(ue+ye<=Re);e:{if(Y=(Ve=U.ga).c,Re=Ve.l.o,Ve.$a==0){if(Ft=U.rc,At=U.Vc,hr=U.Fa,Ke=U.P+1+ue*Y,rt=U.mb,xt=U.nb+ue*Y,t(Ke<=U.P+U.qc),Ve.Z!=0)for(t($f[Ve.Z]!=null),$e=0;$e<ye;++$e)$f[Ve.Z](Ft,At,hr,Ke,rt,xt,Y),Ft=rt,At=xt,xt+=Y,Ke+=Y;else for($e=0;$e<ye;++$e)n(rt,xt,hr,Ke,Y),Ft=rt,At=xt,xt+=Y,Ke+=Y;U.rc=Ft,U.Vc=At}else{if(t(Ve.mc!=null),Y=ue+ye,t(($e=Ve.mc)!=null),t(Y<=$e.i),$e.C>=Y)Y=1;else if(Ve.ic||jt(),Ve.ic){Ve=$e.V,Ft=$e.Ba,At=$e.c;var Xt=$e.i,yt=(hr=1,Ke=$e.$/At,rt=$e.$%At,xt=$e.m,It=$e.s,$e.$),_t=At*Xt,ur=At*Y,gr=It.wc,fr=yt<ur?Ri(It,rt,Ke):null;t(yt<=_t),t(Y<=Xt),t(Xe(It));t:for(;;){for(;!xt.h&&yt<ur;){if(rt&gr||(fr=Ri(It,rt,Ke)),t(fr!=null),pe(xt),256>(Xt=ki(fr.G[0],fr.H[0],xt)))Ve[Ft+yt]=Xt,++yt,++rt>=At&&(rt=0,++Ke<=Y&&!(Ke%16)&&Je($e,Ke));else{if(!(280>Xt)){hr=0;break t}Xt=ms(Xt-256,xt);var fn,rn=ki(fr.G[4],fr.H[4],xt);if(pe(xt),!(yt>=(rn=sa(At,rn=ms(rn,xt)))&&_t-yt>=Xt)){hr=0;break t}for(fn=0;fn<Xt;++fn)Ve[Ft+yt+fn]=Ve[Ft+yt+fn-rn];for(yt+=Xt,rt+=Xt;rt>=At;)rt-=At,++Ke<=Y&&!(Ke%16)&&Je($e,Ke);yt<ur&&rt&gr&&(fr=Ri(It,rt,Ke))}t(xt.h==ne(xt))}Je($e,Ke>Y?Y:Ke);break t}!hr||xt.h&&yt<_t?(hr=0,$e.a=xt.h?5:3):$e.$=yt,Y=hr}else Y=it($e,$e.V,$e.Ba,$e.c,$e.i,Y,Mt);if(!Y){ye=0;break e}}ue+ye>=Re&&(U.Cc=1),ye=1}if(!ye)return null;if(U.Cc&&((ye=U.ga)!=null&&(ye.mc=null),U.ga=null,0<U.Ga))return alert("todo:WebPDequantizeLevels"),null}return U.nb+ue*Pe}function re(U,Y,ue,ye,Pe,Re){for(;0<Pe--;){var $e,Ve=U,Ke=Y+(ue?1:0),rt=U,xt=Y+(ue?0:3);for($e=0;$e<ye;++$e){var It=rt[xt+4*$e];It!=255&&(It*=32897,Ve[Ke+4*$e+0]=Ve[Ke+4*$e+0]*It>>23,Ve[Ke+4*$e+1]=Ve[Ke+4*$e+1]*It>>23,Ve[Ke+4*$e+2]=Ve[Ke+4*$e+2]*It>>23)}Y+=Re}}function Oe(U,Y,ue,ye,Pe){for(;0<ye--;){var Re;for(Re=0;Re<ue;++Re){var $e=U[Y+2*Re+0],Ve=15&(rt=U[Y+2*Re+1]),Ke=4369*Ve,rt=(240&rt|rt>>4)*Ke>>16;U[Y+2*Re+0]=(240&$e|$e>>4)*Ke>>16&240|(15&$e|$e<<4)*Ke>>16>>4&15,U[Y+2*Re+1]=240&rt|Ve}Y+=Pe}}function et(U,Y,ue,ye,Pe,Re,$e,Ve){var Ke,rt,xt=255;for(rt=0;rt<Pe;++rt){for(Ke=0;Ke<ye;++Ke){var It=U[Y+Ke];Re[$e+4*Ke]=It,xt&=It}Y+=ue,$e+=Ve}return xt!=255}function mt(U,Y,ue,ye,Pe){var Re;for(Re=0;Re<Pe;++Re)ue[ye+Re]=U[Y+Re]>>8}function jt(){ao=re,ss=Oe,ns=et,Os=mt}function qt(U,Y,ue){W[U]=function(ye,Pe,Re,$e,Ve,Ke,rt,xt,It,Ft,At,hr,Xt,yt,_t,ur,gr){var fr,fn=gr-1>>1,rn=Ve[Ke+0]|rt[xt+0]<<16,ia=It[Ft+0]|At[hr+0]<<16;t(ye!=null);var nn=3*rn+ia+131074>>2;for(Y(ye[Pe+0],255&nn,nn>>16,Xt,yt),Re!=null&&(nn=3*ia+rn+131074>>2,Y(Re[$e+0],255&nn,nn>>16,_t,ur)),fr=1;fr<=fn;++fr){var Oi=Ve[Ke+fr]|rt[xt+fr]<<16,Hi=It[Ft+fr]|At[hr+fr]<<16,oi=rn+Oi+ia+Hi+524296,ai=oi+2*(Oi+ia)>>3;nn=ai+rn>>1,rn=(oi=oi+2*(rn+Hi)>>3)+Oi>>1,Y(ye[Pe+2*fr-1],255&nn,nn>>16,Xt,yt+(2*fr-1)*ue),Y(ye[Pe+2*fr-0],255&rn,rn>>16,Xt,yt+(2*fr-0)*ue),Re!=null&&(nn=oi+ia>>1,rn=ai+Hi>>1,Y(Re[$e+2*fr-1],255&nn,nn>>16,_t,ur+(2*fr-1)*ue),Y(Re[$e+2*fr+0],255&rn,rn>>16,_t,ur+(2*fr+0)*ue)),rn=Oi,ia=Hi}1&gr||(nn=3*rn+ia+131074>>2,Y(ye[Pe+gr-1],255&nn,nn>>16,Xt,yt+(gr-1)*ue),Re!=null&&(nn=3*ia+rn+131074>>2,Y(Re[$e+gr-1],255&nn,nn>>16,_t,ur+(gr-1)*ue)))}}function nr(){mu[O1]=D1,mu[gc]=Gm,mu[T5]=L0,mu[I1]=Wh,mu[Hm]=fb,mu[Mx]=U5,mu[Vh]=Vx,mu[Lx]=Gm,mu[Bx]=Wh,mu[F1]=fb,mu[lb]=U5}function vt(U){return U&~z5?0>U?0:255:U>>Hh}function _n(U,Y){return vt((19077*U>>8)+(26149*Y>>8)-14234)}function Vn(U,Y,ue){return vt((19077*U>>8)-(6419*Y>>8)-(13320*ue>>8)+8708)}function zt(U,Y){return vt((19077*U>>8)+(33050*Y>>8)-17685)}function Wa(U,Y,ue,ye,Pe){ye[Pe+0]=_n(U,ue),ye[Pe+1]=Vn(U,Y,ue),ye[Pe+2]=zt(U,Y)}function gs(U,Y,ue,ye,Pe){ye[Pe+0]=zt(U,Y),ye[Pe+1]=Vn(U,Y,ue),ye[Pe+2]=_n(U,ue)}function Ai(U,Y,ue,ye,Pe){var Re=Vn(U,Y,ue);Y=Re<<3&224|zt(U,Y)>>3,ye[Pe+0]=248&_n(U,ue)|Re>>5,ye[Pe+1]=Y}function xs(U,Y,ue,ye,Pe){var Re=240&zt(U,Y)|15;ye[Pe+0]=240&_n(U,ue)|Vn(U,Y,ue)>>4,ye[Pe+1]=Re}function To(U,Y,ue,ye,Pe){ye[Pe+0]=255,Wa(U,Y,ue,ye,Pe+1)}function ja(U,Y,ue,ye,Pe){gs(U,Y,ue,ye,Pe),ye[Pe+3]=255}function pc(U,Y,ue,ye,Pe){Wa(U,Y,ue,ye,Pe),ye[Pe+3]=255}function wa(U,Y){return 0>U?0:U>Y?Y:U}function ni(U,Y,ue){W[U]=function(ye,Pe,Re,$e,Ve,Ke,rt,xt,It){for(var Ft=xt+(-2&It)*ue;xt!=Ft;)Y(ye[Pe+0],Re[$e+0],Ve[Ke+0],rt,xt),Y(ye[Pe+1],Re[$e+0],Ve[Ke+0],rt,xt+ue),Pe+=2,++$e,++Ke,xt+=2*ue;1&It&&Y(ye[Pe+0],Re[$e+0],Ve[Ke+0],rt,xt)}}function kn(U,Y,ue){return ue==0?U==0?Y==0?6:5:Y==0?4:0:ue}function no(U,Y,ue,ye,Pe){switch(U>>>30){case 3:pt(Y,ue,ye,Pe,0);break;case 2:Nt(Y,ue,ye,Pe);break;case 1:ir(Y,ue,ye,Pe)}}function Yn(U,Y){var ue,ye,Pe=Y.M,Re=Y.Nb,$e=U.oc,Ve=U.pc+40,Ke=U.oc,rt=U.pc+584,xt=U.oc,It=U.pc+600;for(ue=0;16>ue;++ue)$e[Ve+32*ue-1]=129;for(ue=0;8>ue;++ue)Ke[rt+32*ue-1]=129,xt[It+32*ue-1]=129;for(0<Pe?$e[Ve-1-32]=Ke[rt-1-32]=xt[It-1-32]=129:(i($e,Ve-32-1,127,21),i(Ke,rt-32-1,127,9),i(xt,It-32-1,127,9)),ye=0;ye<U.za;++ye){var Ft=Y.ya[Y.aa+ye];if(0<ye){for(ue=-1;16>ue;++ue)n($e,Ve+32*ue-4,$e,Ve+32*ue+12,4);for(ue=-1;8>ue;++ue)n(Ke,rt+32*ue-4,Ke,rt+32*ue+4,4),n(xt,It+32*ue-4,xt,It+32*ue+4,4)}var At=U.Gd,hr=U.Hd+ye,Xt=Ft.ad,yt=Ft.Hc;if(0<Pe&&(n($e,Ve-32,At[hr].y,0,16),n(Ke,rt-32,At[hr].f,0,8),n(xt,It-32,At[hr].ea,0,8)),Ft.Za){var _t=$e,ur=Ve-32+16;for(0<Pe&&(ye>=U.za-1?i(_t,ur,At[hr].y[15],4):n(_t,ur,At[hr+1].y,0,4)),ue=0;4>ue;ue++)_t[ur+128+ue]=_t[ur+256+ue]=_t[ur+384+ue]=_t[ur+0+ue];for(ue=0;16>ue;++ue,yt<<=2)_t=$e,ur=Ve+B1[ue],Li[Ft.Ob[ue]](_t,ur),no(yt,Xt,16*+ue,_t,ur)}else if(_t=kn(ye,Pe,Ft.Ob[0]),xc[_t]($e,Ve),yt!=0)for(ue=0;16>ue;++ue,yt<<=2)no(yt,Xt,16*+ue,$e,Ve+B1[ue]);for(ue=Ft.Gc,_t=kn(ye,Pe,Ft.Dd),Hs[_t](Ke,rt),Hs[_t](xt,It),yt=Xt,_t=Ke,ur=rt,255&(Ft=ue>>0)&&(170&Ft?Vt(yt,256,_t,ur):vr(yt,256,_t,ur)),Ft=xt,yt=It,255&(ue>>=8)&&(170&ue?Vt(Xt,320,Ft,yt):vr(Xt,320,Ft,yt)),Pe<U.Ub-1&&(n(At[hr].y,0,$e,Ve+480,16),n(At[hr].f,0,Ke,rt+224,8),n(At[hr].ea,0,xt,It+224,8)),ue=8*Re*U.B,At=U.sa,hr=U.ta+16*ye+16*Re*U.R,Xt=U.qa,Ft=U.ra+8*ye+ue,yt=U.Ha,_t=U.Ia+8*ye+ue,ue=0;16>ue;++ue)n(At,hr+ue*U.R,$e,Ve+32*ue,16);for(ue=0;8>ue;++ue)n(Xt,Ft+ue*U.B,Ke,rt+32*ue,8),n(yt,_t+ue*U.B,xt,It+32*ue,8)}}function Ia(U,Y,ue,ye,Pe,Re,$e,Ve,Ke){var rt=[0],xt=[0],It=0,Ft=Ke!=null?Ke.kd:0,At=Ke??new Jd;if(U==null||12>ue)return 7;At.data=U,At.w=Y,At.ha=ue,Y=[Y],ue=[ue],At.gb=[At.gb];e:{var hr=Y,Xt=ue,yt=At.gb;if(t(U!=null),t(Xt!=null),t(yt!=null),yt[0]=0,12<=Xt[0]&&!r(U,hr[0],"RIFF")){if(r(U,hr[0]+8,"WEBP")){yt=3;break e}var _t=at(U,hr[0]+4);if(12>_t||4294967286<_t){yt=3;break e}if(Ft&&_t>Xt[0]-8){yt=7;break e}yt[0]=_t,hr[0]+=12,Xt[0]-=12}yt=0}if(yt!=0)return yt;for(_t=0<At.gb[0],ue=ue[0];;){e:{var ur=U;Xt=Y,yt=ue;var gr=rt,fr=xt,fn=hr=[0];if((nn=It=[It])[0]=0,8>yt[0])yt=7;else{if(!r(ur,Xt[0],"VP8X")){if(at(ur,Xt[0]+4)!=10){yt=3;break e}if(18>yt[0]){yt=7;break e}var rn=at(ur,Xt[0]+8),ia=1+De(ur,Xt[0]+12);if(2147483648<=ia*(ur=1+De(ur,Xt[0]+15))){yt=3;break e}fn!=null&&(fn[0]=rn),gr!=null&&(gr[0]=ia),fr!=null&&(fr[0]=ur),Xt[0]+=18,yt[0]-=18,nn[0]=1}yt=0}}if(It=It[0],hr=hr[0],yt!=0)return yt;if(Xt=!!(2&hr),!_t&&It)return 3;if(Re!=null&&(Re[0]=!!(16&hr)),$e!=null&&($e[0]=Xt),Ve!=null&&(Ve[0]=0),$e=rt[0],hr=xt[0],It&&Xt&&Ke==null){yt=0;break}if(4>ue){yt=7;break}if(_t&&It||!_t&&!It&&!r(U,Y[0],"ALPH")){ue=[ue],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];e:{rn=U,yt=Y,_t=ue;var nn=At.gb;gr=At.na,fr=At.P,fn=At.Sa,ia=22,t(rn!=null),t(_t!=null),ur=yt[0];var Oi=_t[0];for(t(gr!=null),t(fn!=null),gr[0]=null,fr[0]=null,fn[0]=0;;){if(yt[0]=ur,_t[0]=Oi,8>Oi){yt=7;break e}var Hi=at(rn,ur+4);if(4294967286<Hi){yt=3;break e}var oi=8+Hi+1&-2;if(ia+=oi,0<nn&&ia>nn){yt=3;break e}if(!r(rn,ur,"VP8 ")||!r(rn,ur,"VP8L")){yt=0;break e}if(Oi[0]<oi){yt=7;break e}r(rn,ur,"ALPH")||(gr[0]=rn,fr[0]=ur+8,fn[0]=Hi),ur+=oi,Oi-=oi}}if(ue=ue[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],yt!=0)break}ue=[ue],At.Ja=[At.Ja],At.xa=[At.xa];e:if(nn=U,yt=Y,_t=ue,gr=At.gb[0],fr=At.Ja,fn=At.xa,rn=yt[0],ur=!r(nn,rn,"VP8 "),ia=!r(nn,rn,"VP8L"),t(nn!=null),t(_t!=null),t(fr!=null),t(fn!=null),8>_t[0])yt=7;else{if(ur||ia){if(nn=at(nn,rn+4),12<=gr&&nn>gr-12){yt=3;break e}if(Ft&&nn>_t[0]-8){yt=7;break e}fr[0]=nn,yt[0]+=8,_t[0]-=8,fn[0]=ia}else fn[0]=5<=_t[0]&&nn[rn+0]==47&&!(nn[rn+4]>>5),fr[0]=_t[0];yt=0}if(ue=ue[0],At.Ja=At.Ja[0],At.xa=At.xa[0],Y=Y[0],yt!=0)break;if(4294967286<At.Ja)return 3;if(Ve==null||Xt||(Ve[0]=At.xa?2:1),$e=[$e],hr=[hr],At.xa){if(5>ue){yt=7;break}Ve=$e,Ft=hr,Xt=Re,U==null||5>ue?U=0:5<=ue&&U[Y+0]==47&&!(U[Y+4]>>5)?(_t=[0],nn=[0],gr=[0],ce(fr=new Q,U,Y,ue),ln(fr,_t,nn,gr)?(Ve!=null&&(Ve[0]=_t[0]),Ft!=null&&(Ft[0]=nn[0]),Xt!=null&&(Xt[0]=gr[0]),U=1):U=0):U=0}else{if(10>ue){yt=7;break}Ve=hr,U==null||10>ue||!Fh(U,Y+3,ue-3)?U=0:(Ft=U[Y+0]|U[Y+1]<<8|U[Y+2]<<16,Xt=16383&(U[Y+7]<<8|U[Y+6]),U=16383&(U[Y+9]<<8|U[Y+8]),1&Ft||3<(Ft>>1&7)||!(Ft>>4&1)||Ft>>5>=At.Ja||!Xt||!U?U=0:($e&&($e[0]=Xt),Ve&&(Ve[0]=U),U=1))}if(!U||($e=$e[0],hr=hr[0],It&&(rt[0]!=$e||xt[0]!=hr)))return 3;Ke!=null&&(Ke[0]=At,Ke.offset=Y-Ke.w,t(4294967286>Y-Ke.w),t(Ke.offset==Ke.ha-ue));break}return yt==0||yt==7&&It&&Ke==null?(Re!=null&&(Re[0]|=At.na!=null&&0<At.na.length),ye!=null&&(ye[0]=$e),Pe!=null&&(Pe[0]=hr),0):yt}function Bf(U,Y,ue){var ye=Y.width,Pe=Y.height,Re=0,$e=0,Ve=ye,Ke=Pe;if(Y.Da=U!=null&&0<U.Da,Y.Da&&(Ve=U.cd,Ke=U.bd,Re=U.v,$e=U.j,11>ue||(Re&=-2,$e&=-2),0>Re||0>$e||0>=Ve||0>=Ke||Re+Ve>ye||$e+Ke>Pe))return 0;if(Y.v=Re,Y.j=$e,Y.va=Re+Ve,Y.o=$e+Ke,Y.U=Ve,Y.T=Ke,Y.da=U!=null&&0<U.da,Y.da){if(!Ct(Ve,Ke,ue=[U.ib],Re=[U.hb]))return 0;Y.ib=ue[0],Y.hb=Re[0]}return Y.ob=U!=null&&U.ob,Y.Kb=U==null||!U.Sd,Y.da&&(Y.ob=Y.ib<3*ye/4&&Y.hb<3*Pe/4,Y.Kb=0),1}function Gl(U){if(U==null)return 2;if(11>U.S){var Y=U.f.RGBA;Y.fb+=(U.height-1)*Y.A,Y.A=-Y.A}else Y=U.f.kb,U=U.height,Y.O+=(U-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(U-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(U-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(U-1)*Y.lb,Y.lb=-Y.lb);return 0}function Kl(U,Y,ue,ye){if(ye==null||0>=U||0>=Y)return 2;if(ue!=null){if(ue.Da){var Pe=ue.cd,Re=ue.bd,$e=-2&ue.v,Ve=-2&ue.j;if(0>$e||0>Ve||0>=Pe||0>=Re||$e+Pe>U||Ve+Re>Y)return 2;U=Pe,Y=Re}if(ue.da){if(!Ct(U,Y,Pe=[ue.ib],Re=[ue.hb]))return 2;U=Pe[0],Y=Re[0]}}ye.width=U,ye.height=Y;e:{var Ke=ye.width,rt=ye.height;if(U=ye.S,0>=Ke||0>=rt||!(U>=O1&&13>U))U=2;else{if(0>=ye.Rd&&ye.sd==null){$e=Re=Pe=Y=0;var xt=(Ve=Ke*hb[U])*rt;if(11>U||(Re=(rt+1)/2*(Y=(Ke+1)/2),U==12&&($e=(Pe=Ke)*rt)),(rt=a(xt+2*Re+$e))==null){U=1;break e}ye.sd=rt,11>U?((Ke=ye.f.RGBA).eb=rt,Ke.fb=0,Ke.A=Ve,Ke.size=xt):((Ke=ye.f.kb).y=rt,Ke.O=0,Ke.fa=Ve,Ke.Fd=xt,Ke.f=rt,Ke.N=0+xt,Ke.Ab=Y,Ke.Cd=Re,Ke.ea=rt,Ke.W=0+xt+Re,Ke.Db=Y,Ke.Ed=Re,U==12&&(Ke.F=rt,Ke.J=0+xt+2*Re),Ke.Tc=$e,Ke.lb=Pe)}if(Y=1,Pe=ye.S,Re=ye.width,$e=ye.height,Pe>=O1&&13>Pe)if(11>Pe)U=ye.f.RGBA,Y&=(Ve=Math.abs(U.A))*($e-1)+Re<=U.size,Y&=Ve>=Re*hb[Pe],Y&=U.eb!=null;else{U=ye.f.kb,Ve=(Re+1)/2,xt=($e+1)/2,Ke=Math.abs(U.fa),rt=Math.abs(U.Ab);var It=Math.abs(U.Db),Ft=Math.abs(U.lb),At=Ft*($e-1)+Re;Y&=Ke*($e-1)+Re<=U.Fd,Y&=rt*(xt-1)+Ve<=U.Cd,Y=(Y&=It*(xt-1)+Ve<=U.Ed)&Ke>=Re&rt>=Ve&It>=Ve,Y&=U.y!=null,Y&=U.f!=null,Y&=U.ea!=null,Pe==12&&(Y&=Ft>=Re,Y&=At<=U.Tc,Y&=U.F!=null)}else Y=0;U=Y?0:2}}return U!=0||ue!=null&&ue.fd&&(U=Gl(ye)),U}var Ji=64,uu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ko=24,is=32,Zn=8,mo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xr("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(U){return U},W.Predictor2=function(U,Y,ue){return Y[ue+0]},W.Predictor3=function(U,Y,ue){return Y[ue+1]},W.Predictor4=function(U,Y,ue){return Y[ue-1]},W.Predictor5=function(U,Y,ue){return lr(lr(U,Y[ue+1]),Y[ue+0])},W.Predictor6=function(U,Y,ue){return lr(U,Y[ue-1])},W.Predictor7=function(U,Y,ue){return lr(U,Y[ue+0])},W.Predictor8=function(U,Y,ue){return lr(Y[ue-1],Y[ue+0])},W.Predictor9=function(U,Y,ue){return lr(Y[ue+0],Y[ue+1])},W.Predictor10=function(U,Y,ue){return lr(lr(U,Y[ue-1]),lr(Y[ue+0],Y[ue+1]))},W.Predictor11=function(U,Y,ue){var ye=Y[ue+0];return 0>=Gn(ye>>24&255,U>>24&255,(Y=Y[ue-1])>>24&255)+Gn(ye>>16&255,U>>16&255,Y>>16&255)+Gn(ye>>8&255,U>>8&255,Y>>8&255)+Gn(255&ye,255&U,255&Y)?ye:U},W.Predictor12=function(U,Y,ue){var ye=Y[ue+0];return(_r((U>>24&255)+(ye>>24&255)-((Y=Y[ue-1])>>24&255))<<24|_r((U>>16&255)+(ye>>16&255)-(Y>>16&255))<<16|_r((U>>8&255)+(ye>>8&255)-(Y>>8&255))<<8|_r((255&U)+(255&ye)-(255&Y)))>>>0},W.Predictor13=function(U,Y,ue){var ye=Y[ue-1];return(kr((U=lr(U,Y[ue+0]))>>24&255,ye>>24&255)<<24|kr(U>>16&255,ye>>16&255)<<16|kr(U>>8&255,ye>>8&255)<<8|kr(U>>0&255,ye>>0&255))>>>0};var ke=W.PredictorAdd0;W.PredictorAdd1=sn,xr("Predictor2","PredictorAdd2"),xr("Predictor3","PredictorAdd3"),xr("Predictor4","PredictorAdd4"),xr("Predictor5","PredictorAdd5"),xr("Predictor6","PredictorAdd6"),xr("Predictor7","PredictorAdd7"),xr("Predictor8","PredictorAdd8"),xr("Predictor9","PredictorAdd9"),xr("Predictor10","PredictorAdd10"),xr("Predictor11","PredictorAdd11"),xr("Predictor12","PredictorAdd12"),xr("Predictor13","PredictorAdd13");var m=W.PredictorAdd2;na("ColorIndexInverseTransform","MapARGB","32b",function(U){return U>>8&255},function(U){return U}),na("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(U){return U},function(U){return U>>8&255});var y,w=W.ColorIndexInverseTransform,E=W.MapARGB,P=W.VP8LColorIndexInverseTransformAlpha,D=W.MapAlpha,V=W.VP8LPredictorsAdd=[];V.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var J,oe,be,Te,Le,tt,ut,pt,Nt,Vt,ir,vr,pr,La,ca,hi,Po,Ps,mi,vs,Ws,Yl,Vu,ul,ao,ss,ns,Os,po=a(511),Qd=a(2041),Ea=a(225),ef=a(767),Uh=0,zh=Qd,Pi=Ea,du=ef,fu=po,O1=0,gc=1,T5=2,I1=3,Hm=4,Mx=5,Vh=6,Lx=7,Bx=8,F1=9,lb=10,k5=[2,3,7],P5=[3,3,11],$x=[280,256,256,256,40],cb=[0,1,1,1,0],O5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],I5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],D5=8,ub=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ux=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qm=null,zx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],R5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],db=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],M5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],L5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],B5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xc=[],Li=[],Hs=[],Oo=1,hu=2,$f=[],mu=[];qt("UpsampleRgbLinePair",Wa,3),qt("UpsampleBgrLinePair",gs,3),qt("UpsampleRgbaLinePair",pc,4),qt("UpsampleBgraLinePair",ja,4),qt("UpsampleArgbLinePair",To,4),qt("UpsampleRgba4444LinePair",xs,2),qt("UpsampleRgb565LinePair",Ai,2);var D1=W.UpsampleRgbLinePair,L0=W.UpsampleBgrLinePair,Gm=W.UpsampleRgbaLinePair,Wh=W.UpsampleBgraLinePair,fb=W.UpsampleArgbLinePair,U5=W.UpsampleRgba4444LinePair,Vx=W.UpsampleRgb565LinePair,R1=16,M1=1<<R1-1,Km=-227,Wu=482,Hh=6,z5=(256<<Hh)-1,L1=0,V5=a(256),W5=a(256),M6=a(256),H5=a(256),Xl=a(Wu-Km),L6=a(Wu-Km);ni("YuvToRgbRow",Wa,3),ni("YuvToBgrRow",gs,3),ni("YuvToRgbaRow",pc,4),ni("YuvToBgraRow",ja,4),ni("YuvToArgbRow",To,4),ni("YuvToRgba4444Row",xs,2),ni("YuvToRgb565Row",Ai,2);var B1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ym=[0,2,8],B6=[8,7,6,4,4,2,2,2,1,1,1,1],q5=1;this.WebPDecodeRGBA=function(U,Y,ue,ye,Pe){var Re=gc,$e=new Xd,Ve=new fa;$e.ba=Ve,Ve.S=Re,Ve.width=[Ve.width],Ve.height=[Ve.height];var Ke=Ve.width,rt=Ve.height,xt=new Wi;if(xt==null||U==null)var It=2;else t(xt!=null),It=Ia(U,Y,ue,xt.width,xt.height,xt.Pd,xt.Qd,xt.format,null);if(It!=0?Ke=0:(Ke!=null&&(Ke[0]=xt.width[0]),rt!=null&&(rt[0]=xt.height[0]),Ke=1),Ke){Ve.width=Ve.width[0],Ve.height=Ve.height[0],ye!=null&&(ye[0]=Ve.width),Pe!=null&&(Pe[0]=Ve.height);e:{if(ye=new wn,(Pe=new Jd).data=U,Pe.w=Y,Pe.ha=ue,Pe.kd=1,Y=[0],t(Pe!=null),((U=Ia(Pe.data,Pe.w,Pe.ha,null,null,null,Y,null,Pe))==0||U==7)&&Y[0]&&(U=4),(Y=U)==0){if(t($e!=null),ye.data=Pe.data,ye.w=Pe.w+Pe.offset,ye.ha=Pe.ha-Pe.offset,ye.put=Ei,ye.ac=Xr,ye.bc=Ti,ye.ma=$e,Pe.xa){if((U=Pt())==null){$e=1;break e}if(function(Ft,At){var hr=[0],Xt=[0],yt=[0];t:for(;;){if(Ft==null)return 0;if(At==null)return Ft.a=2,0;if(Ft.l=At,Ft.a=0,ce(Ft.m,At.data,At.w,At.ha),!ln(Ft.m,hr,Xt,yt)){Ft.a=3;break t}if(Ft.xb=hu,At.width=hr[0],At.height=Xt[0],!St(hr[0],Xt[0],1,Ft,null))break t;return 1}return t(Ft.a!=0),0}(U,ye)){if(ye=(Y=Kl(ye.width,ye.height,$e.Oa,$e.ba))==0){t:{ye=U;r:for(;;){if(ye==null){ye=0;break t}if(t(ye.s.yc!=null),t(ye.s.Ya!=null),t(0<ye.s.Wb),t((ue=ye.l)!=null),t((Pe=ue.ma)!=null),ye.xb!=0){if(ye.ca=Pe.ba,ye.tb=Pe.tb,t(ye.ca!=null),!Bf(Pe.Oa,ue,I1)){ye.a=2;break r}if(!Rt(ye,ue.width)||ue.da)break r;if((ue.da||ya(ye.ca.S))&&jt(),11>ye.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ye.ca.f.kb.F!=null&&jt()),ye.Pb&&0<ye.s.ua&&ye.s.vb.X==null&&!ot(ye.s.vb,ye.s.Wa.Xa)){ye.a=1;break r}ye.xb=0}if(!it(ye,ye.V,ye.Ba,ye.c,ye.i,ue.o,We))break r;Pe.Dc=ye.Ma,ye=1;break t}t(ye.a!=0),ye=0}ye=!ye}ye&&(Y=U.a)}else Y=U.a}else{if((U=new Cl)==null){$e=1;break e}if(U.Fa=Pe.na,U.P=Pe.P,U.qc=Pe.Sa,Es(U,ye)){if((Y=Kl(ye.width,ye.height,$e.Oa,$e.ba))==0){if(U.Aa=0,ue=$e.Oa,t((Pe=U)!=null),ue!=null){if(0<(Ke=0>(Ke=ue.Md)?0:100<Ke?255:255*Ke/100)){for(rt=xt=0;4>rt;++rt)12>(It=Pe.pb[rt]).lc&&(It.ia=Ke*B6[0>It.lc?0:It.lc]>>3),xt|=It.ia;xt&&(alert("todo:VP8InitRandom"),Pe.ia=1)}Pe.Ga=ue.Id,100<Pe.Ga?Pe.Ga=100:0>Pe.Ga&&(Pe.Ga=0)}ps(U,ye)||(Y=U.a)}}else Y=U.a}Y==0&&$e.Oa!=null&&$e.Oa.fd&&(Y=Gl($e.ba))}$e=Y}Re=$e!=0?null:11>Re?Ve.f.RGBA.eb:Ve.f.kb.y}else Re=null;return Re};var hb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(W,z){for(var Z="",K=0;K<4;K++)Z+=String.fromCharCode(W[z++]);return Z}function f(W,z){return(W[z+0]<<0|W[z+1]<<8|W[z+2]<<16)>>>0}function h(W,z){return(W[z+0]<<0|W[z+1]<<8|W[z+2]<<16|W[z+3]<<24)>>>0}new c;var g=[0],p=[0],S=[],b=new c,N=e,C=function(W,z){var Z={},K=0,q=!1,ie=0,ae=0;if(Z.frames=[],!function(le,ne,ee,pe){for(var xe=0;xe<pe;xe++)if(le[ne+xe]!=ee.charCodeAt(xe))return!0;return!1}(W,z,"RIFF",4)){var X,se;for(h(W,z+=4),z+=8;z<W.length;){var he=u(W,z),ce=h(W,z+=4);z+=4;var ge=ce+(1&ce);switch(he){case"VP8 ":case"VP8L":Z.frames[K]===void 0&&(Z.frames[K]={}),(Q=Z.frames[K]).src_off=q?ae:z-8,Q.src_size=ie+ce+8,K++,q&&(q=!1,ie=0,ae=0);break;case"VP8X":(Q=Z.header={}).feature_flags=W[z];var we=z+4;Q.canvas_width=1+f(W,we),we+=3,Q.canvas_height=1+f(W,we),we+=3;break;case"ALPH":q=!0,ie=ge+8,ae=z-8;break;case"ANIM":(Q=Z.header).bgcolor=h(W,z),we=z+4,Q.loop_count=(X=W)[(se=we)+0]<<0|X[se+1]<<8,we+=2;break;case"ANMF":var Ce,Q;(Q=Z.frames[K]={}).offset_x=2*f(W,z),z+=3,Q.offset_y=2*f(W,z),z+=3,Q.width=1+f(W,z),z+=3,Q.height=1+f(W,z),z+=3,Q.duration=f(W,z),z+=3,Ce=W[z++],Q.dispose=1&Ce,Q.blend=Ce>>1&1}he!="ANMF"&&(z+=ge)}return Z}}(N,0);C.response=N,C.rgbaoutput=!0,C.dataurl=!1;var A=C.header?C.header:null,T=C.frames?C.frames:null;if(A){A.loop_counter=A.loop_count,g=[A.canvas_height],p=[A.canvas_width];for(var F=0;F<T.length&&T[F].blend!=0;F++);}var L=T[0],B=b.WebPDecodeRGBA(N,L.src_off,L.src_size,p,g);L.rgba=B,L.imgwidth=p[0],L.imgheight=g[0];for(var M=0;M<p[0]*g[0]*4;M++)S[M]=B[M];return this.width=p,this.height=g,this.data=S,this}(function(e){var t=function(){return typeof $O=="function"},r=function(g,p,S,b){var N=4,C=o;switch(b){case e.image_compression.FAST:N=1,C=a;break;case e.image_compression.MEDIUM:N=6,C=l;break;case e.image_compression.SLOW:N=9,C=c}g=n(g,p,S,C);var A=$O(g,{level:N});return e.__addimage__.arrayBufferToBinaryString(A)},n=function(g,p,S,b){for(var N,C,A,T=g.length/p,F=new Uint8Array(g.length+T),L=f(),B=0;B<T;B+=1){if(A=B*p,N=g.subarray(A,A+p),b)F.set(b(N,S,C),A+B);else{for(var M,W=L.length,z=[];M<W;M+=1)z[M]=L[M](N,S,C);var Z=h(z.concat());F.set(z[Z],A+B)}C=N}return F},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},a=function(g,p){var S,b=[],N=g.length;b[0]=1;for(var C=0;C<N;C+=1)S=g[C-p]||0,b[C+1]=g[C]-S+256&255;return b},o=function(g,p,S){var b,N=[],C=g.length;N[0]=2;for(var A=0;A<C;A+=1)b=S&&S[A]||0,N[A+1]=g[A]-b+256&255;return N},l=function(g,p,S){var b,N,C=[],A=g.length;C[0]=3;for(var T=0;T<A;T+=1)b=g[T-p]||0,N=S&&S[T]||0,C[T+1]=g[T]+256-(b+N>>>1)&255;return C},c=function(g,p,S){var b,N,C,A,T=[],F=g.length;T[0]=4;for(var L=0;L<F;L+=1)b=g[L-p]||0,N=S&&S[L]||0,C=S&&S[L-p]||0,A=u(b,N,C),T[L+1]=g[L]-A+256&255;return T},u=function(g,p,S){if(g===p&&p===S)return g;var b=Math.abs(p-S),N=Math.abs(g-S),C=Math.abs(g+p-S-S);return b<=N&&b<=C?g:N<=C?p:S},f=function(){return[i,a,o,l,c]},h=function(g){var p=g.map(function(S){return S.reduce(function(b,N){return b+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(g,p,S,b){var N,C,A,T,F,L,B,M,W,z,Z,K,q,ie,ae,X=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(A=new zPe(g)).imgData,C=A.bits,N=A.colorSpace,F=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){W=(M=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,Z=new Uint8Array(W*A.colors),z=new Uint8Array(W);var he,ce=A.pixelBitlength-A.bits;for(ie=0,ae=0;ie<W;ie++){for(q=M[ie],he=0;he<ce;)Z[ae++]=q>>>he&255,he+=A.bits;z[ie]=q>>>he&255}}if(A.bits===16){W=(M=new Uint32Array(A.decodePixels().buffer)).length,Z=new Uint8Array(W*(32/A.pixelBitlength)*A.colors),z=new Uint8Array(W*(32/A.pixelBitlength)),K=A.colors>1,ie=0,ae=0;for(var ge=0;ie<W;)q=M[ie++],Z[ae++]=q>>>0&255,K&&(Z[ae++]=q>>>16&255,q=M[ie++],Z[ae++]=q>>>0&255),z[ge++]=q>>>16&255;C=8}b!==e.image_compression.NONE&&t()?(g=r(Z,A.width*A.colors,A.colors,b),B=r(z,A.width,1,b)):(g=Z,B=z,X=void 0)}if(A.colorType===3&&(N=this.color_spaces.INDEXED,L=A.palette,A.transparency.indexed)){var we=A.transparency.indexed,Ce=0;for(ie=0,W=we.length;ie<W;++ie)Ce+=we[ie];if((Ce/=255)===W-1&&we.indexOf(0)!==-1)T=[we.indexOf(0)];else if(Ce!==W){for(M=A.decodePixels(),z=new Uint8Array(M.length),ie=0,W=M.length;ie<W;ie++)z[ie]=we[M[ie]];B=r(z,A.width,1)}}var Q=function(le){var ne;switch(le){case e.image_compression.FAST:ne=11;break;case e.image_compression.MEDIUM:ne=13;break;case e.image_compression.SLOW:ne=14;break;default:ne=12}return ne}(b);return X===this.decode.FLATE_DECODE&&(se="/Predictor "+Q+" "),se+="/Colors "+F+" /BitsPerComponent "+C+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:S,data:g,index:p,filter:X,decodeParameters:se,transparency:T,palette:L,sMask:B,predictor:Q,width:A.width,height:A.height,bitsPerComponent:C,colorSpace:N}}}})(da.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new VPe(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new B8(100).encode(u,100);return e.processJPEG.call(this,f,r,n,i)},e.processGIF87A=e.processGIF89A}(da.API),Xf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xf.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Cs.log("bit decode error:"+r)}},Xf.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Xf.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Xf.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Xf.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=e}},Xf.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,f=i*this.width*4+4*a;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},Xf.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Xf.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Xf.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Xf(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new B8(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(da.API),RV.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new RV(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new B8(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(da.API),da.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var f=n[u],h=n[u+1],g=n[u+2],p=n[u+3];a[l++]=f,a[l++]=h,a[l++]=g,o[c++]=p}var S=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},da.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fv=da.API,rN=fv.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=t.doKerning!==!1,g=0,p=e.length,S=0,b=l[0]||c,N=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(g=h&&Yi(u[n])==="object"&&!isNaN(parseInt(u[n][S],10))?u[n][S]/f:0,N.push((l[n]||b)/c+g)),S=n;return N},OV=fv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return fv.processArabic&&(e=fv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:rN.apply(this,arguments).reduce(function(a,o){return a+o},0)},IV=function(e,t,r,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},FV=function(e,t,r){r||(r={});var n,i,a,o,l,c,u,f=[],h=[f],g=r.textIndent||0,p=0,S=0,b=e.split(" "),N=rN.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var C=Array(c).join(" "),A=[];b.map(function(F){(F=F.split(/\s*\n/)).length>1?A=A.concat(F.map(function(L,B){return(B&&L.length?`
`:"")+L})):A.push(F[0])}),b=A,c=OV.apply(this,[C,r])}for(a=0,o=b.length;a<o;a++){var T=0;if(n=b[a],c&&n[0]==`
`&&(n=n.substr(1),T=1),g+p+(S=(i=rN.apply(this,[n,r])).reduce(function(F,L){return F+L},0))>t||T){if(S>t){for(l=IV.apply(this,[n,i,t-(g+p),t]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);S=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(F,L){return F+L},0)}else f=[n];h.push(f),g=S+c,p=N}else f.push(n),g+=p+S,p=N}return u=c?function(F,L){return(L?C:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(u)},fv.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(FV.apply(this,[n[l],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var g,p,S,b,N=["{"];for(var C in h){if(g=h[C],isNaN(parseInt(C,10))?p="'"+C+"'":(C=parseInt(C,10),p=(p=a(C).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof g=="number")g<0?(S=a(g).slice(3),b="-"):(S=a(g).slice(2),b=""),S=b+S.slice(0,-1)+n[S.slice(-1)];else{if(Yi(g)!=="object")throw new Error("Don't know what to do with value type "+Yi(g)+".");S=o(g)}N.push(p+S)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,S,b,N={},C=1,A=N,T=[],F="",L="",B=h.length-1,M=1;M<B;M+=1)(b=h[M])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(T.push([A,S]),A={},S=void 0):b=="}"?((p=T.pop())[0][p[1]]=A,S=void 0,A=p[0]):b=="-"?C=-1:S===void 0?r.hasOwnProperty(b)?(F+=r[b],S=parseInt(F,16)*C,C=1,F=""):F+=b:r.hasOwnProperty(b)?(L+=r[b],A[S]=parseInt(L,16)*C,C=1,S=void 0,L=""):L+=b;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var g=h.font,p=f.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var S=u.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(da.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ww(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(da),function(e){function t(){return(xa.canvg?Promise.resolve(xa.canvg):KS(()=>import("./index.es-9dc84a27.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}da.API.addSvgAsImage=function(r,n,i,a,o,l,c,u){if(isNaN(n)||isNaN(i))throw Cs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Cs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(S){return S.fromString(h,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,i,a,o,c,u)})}}(),da.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},da.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,h=0;function g(S,b){var N,C=!1;for(N=0;N<S.length;N+=1)S[N]===b&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Yi(e)==="object"){for(i in e)if(a=e[i],g(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&g(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(f=0;f<a[u].length;f+=1)typeof a[u][f]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,b=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?b.push("/"+S+" /"+r[S].value):b.push("/"+S+" "+r[S].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(da.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,g=a.length;h<g;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(a){var o,l,c,u,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,g=(l=Object.keys(a).sort(function(p,S){return p-S})).length;h<g;h++)o=l[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",S=0;S<g.length;S++)p+=String.fromCharCode(g[S]);var b=u();f({data:p,addLength1:!0,objectId:b}),c("endobj");var N=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var C=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Nv(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var A=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Nv(l.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+Nv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+A+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var S=u();f({data:g,addLength1:!0,objectId:S}),c("endobj");var b=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var N=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Nv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var C=0;C<l.metadata.hmtx.widths.length;C++)l.metadata.hmtx.widths[C]=parseInt(l.metadata.hmtx.widths[C]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Nv(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,f=a.options||{},h=a.mutex||{},g=h.pdfEscape,p=h.activeFontKey,S=h.fonts,b=p,N="",C=0,A="",T=S[b].encoding;if(S[b].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:h};for(A=l,b=p,Array.isArray(l)&&(A=l[0]),C=0;C<A.length;C+=1)S[b].metadata.hasOwnProperty("cmap")&&(o=S[b].metadata.cmap.unicode.codeMap[A[C].charCodeAt(0)]),o||A[C].charCodeAt(0)<256&&S[b].metadata.hasOwnProperty("Unicode")?N+=A[C]:N+="";var F="";return parseInt(b.slice(1))<14||T==="WinAnsiEncoding"?F=g(N,b).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(F=r(N,S[b])),h.isHex=!0,{text:F,x:c,y:u,options:f,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(da),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(da.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,f,h=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,T=0;this.__bidiEngine__={};var F=function(K){var q=K.charCodeAt(),ie=q>>8,ae=b[ie];return ae!==void 0?h[256*ae+(255&q)]:ie===252||ie===253?"AL":C.test(ie)?"L":ie===8?"R":"N"},L=function(K){for(var q,ie=0;ie<K.length;ie++){if((q=F(K.charAt(ie)))==="L")return!1;if(q==="R")return!0}return!1},B=function(K,q,ie,ae){var X,se,he,ce,ge=q[ae];switch(ge){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(ge="AN");break;case"AL":A=!0,ge="R";break;case"WS":ge="N";break;case"CS":ae<1||ae+1>=q.length||(X=ie[ae-1])!=="EN"&&X!=="AN"||(se=q[ae+1])!=="EN"&&se!=="AN"?ge="N":A&&(se="AN"),ge=se===X?se:"N";break;case"ES":ge=(X=ae>0?ie[ae-1]:"B")==="EN"&&ae+1<q.length&&q[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&ie[ae-1]==="EN"){ge="EN";break}if(A){ge="N";break}for(he=ae+1,ce=q.length;he<ce&&q[he]==="ET";)he++;ge=he<ce&&q[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ce=q.length,he=ae+1;he<ce&&q[he]==="NSM";)he++;if(he<ce){var we=K[ae],Ce=we>=1425&&we<=2303||we===64286;if(X=q[he],Ce&&(X==="R"||X==="AL")){ge="R";break}}}ge=ae<1||(X=q[ae-1])==="B"?"N":ie[ae-1];break;case"B":A=!1,i=!0,ge=T;break;case"S":a=!0,ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":ge="N"}return ge},M=function(K,q,ie){var ae=K.split("");return ie&&W(ae,ie,{hiLevel:T}),ae.reverse(),q&&q.reverse(),ae.join("")},W=function(K,q,ie){var ae,X,se,he,ce,ge=-1,we=K.length,Ce=0,Q=[],le=T?p:g,ne=[];for(A=!1,i=!1,a=!1,X=0;X<we;X++)ne[X]=F(K[X]);for(se=0;se<we;se++){if(ce=Ce,Q[se]=B(K,ne,Q,se),ae=240&(Ce=le[ce][S[Q[se]]]),Ce&=15,q[se]=he=le[Ce][5],ae>0)if(ae===16){for(X=ge;X<se;X++)q[X]=1;ge=-1}else ge=-1;if(le[Ce][6])ge===-1&&(ge=se);else if(ge>-1){for(X=ge;X<se;X++)q[X]=he;ge=-1}ne[se]==="B"&&(q[se]=0),ie.hiLevel|=he}a&&function(ee,pe,xe){for(var Ne=0;Ne<xe;Ne++)if(ee[Ne]==="S"){pe[Ne]=T;for(var Se=Ne-1;Se>=0&&ee[Se]==="WS";Se--)pe[Se]=T}}(ne,q,we)},z=function(K,q,ie,ae,X){if(!(X.hiLevel<K)){if(K===1&&T===1&&!i)return q.reverse(),void(ie&&ie.reverse());for(var se,he,ce,ge,we=q.length,Ce=0;Ce<we;){if(ae[Ce]>=K){for(ce=Ce+1;ce<we&&ae[ce]>=K;)ce++;for(ge=Ce,he=ce-1;ge<he;ge++,he--)se=q[ge],q[ge]=q[he],q[he]=se,ie&&(se=ie[ge],ie[ge]=ie[he],ie[he]=se);Ce=ce}Ce++}}},Z=function(K,q,ie){var ae=K.split(""),X={hiLevel:T};return ie||(ie=[]),W(ae,ie,X),function(se,he,ce){if(ce.hiLevel!==0&&f)for(var ge,we=0;we<se.length;we++)he[we]===1&&(ge=N.indexOf(se[we]))>=0&&(se[we]=N[ge+1])}(ae,ie,X),z(2,ae,q,ie,X),z(1,ae,q,ie,X),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(K,q,ie){if(function(X,se){if(se)for(var he=0;he<X.length;he++)se[he]=he;l===void 0&&(l=L(X)),u===void 0&&(u=L(X))}(K,q),o||!c||u)if(o&&c&&l^u)T=l?1:0,K=M(K,q,ie);else if(!o&&c&&u)T=l?1:0,K=Z(K,q,ie),K=M(K,q);else if(!o||l||c||u){if(o&&!c&&l^u)K=M(K,q),l?(T=0,K=Z(K,q,ie)):(T=1,K=Z(K,q,ie),K=M(K,q));else if(o&&l&&!c&&u)T=1,K=Z(K,q,ie),K=M(K,q);else if(!o&&!c&&l^u){var ae=f;l?(T=1,K=Z(K,q,ie),T=0,f=!1,K=Z(K,q,ie),f=ae):(T=0,K=Z(K,q,ie),K=M(K,q),T=1,f=!1,K=Z(K,q,ie),f=ae,K=M(K,q))}}else T=0,K=Z(K,q,ie);else T=l?1:0,K=Z(K,q,ie);return K},this.__bidiEngine__.setOptions=function(K){K&&(o=K.isInputVisual,c=K.isOutputVisual,l=K.isInputRtl,u=K.isOutputRtl,f=K.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,a=(n.x,n.y,n.options||{}),o=(n.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(da),da.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new u1(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aOe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new WPe(this.contents),this.head=new qPe(this),this.name=new JPe(this),this.cmap=new lse(this),this.toUnicode={},this.hhea=new GPe(this),this.maxp=new ZPe(this),this.hmtx=new QPe(this),this.post=new YPe(this),this.os2=new KPe(this),this.loca=new nOe(this),this.glyf=new eOe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ph,u1=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),WPe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,l,c,u,f,h,g,p,S,b;for(b in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),f=16*p-h,(i=new u1).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(f),a=16*p,u=i.pos+a,l=null,S=[],r)for(g=r[b],i.writeString(b),i.writeInt(e(g)),i.writeInt(u),i.writeInt(g.length),S=S.concat(g),b==="head"&&(l=u),u+=g.length;u%4;)S.push(0),u++;return i.write(S),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=cse.call(r);r.length%4;)r.push(0);for(a=new u1(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),HPe={}.hasOwnProperty,I0=function(e,t){for(var r in t)HPe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ph=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var qPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new u1).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),MV=function(){function e(t,r){var n,i,a,o,l,c,u,f,h,g,p,S,b,N,C,A,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,a=function(){var F,L;for(L=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)L.push(t.readUInt16());return L}(),t.pos+=2,b=function(){var F,L;for(L=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)L.push(t.readUInt16());return L}(),u=function(){var F,L;for(L=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)L.push(t.readUInt16());return L}(),f=function(){var F,L;for(L=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)L.push(t.readUInt16());return L}(),i=(this.length-t.pos+this.offset)/2,l=function(){var F,L;for(L=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)L.push(t.readUInt16());return L}(),c=C=0,T=a.length;C<T;c=++C)for(N=a[c],n=A=S=b[c];S<=N?A<=N:A>=N;n=S<=N?++A:--A)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-S)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,i,a,o,l,c,u,f,h,g,p,S,b,N,C,A,T,F,L,B,M,W,z,Z,K,q,ie,ae,X,se,he,ce,ge,we,Ce,Q,le,ne,ee,pe,xe,Ne,Se,je,Ge,De;switch(ae=new u1,o=Object.keys(t).sort(function(at,ot){return at-ot}),r){case"macroman":for(b=0,N=function(){var at=[];for(S=0;S<256;++S)at.push(0);return at}(),A={0:0},a={},X=0,ge=o.length;X<ge;X++)A[Se=t[i=o[X]]]==null&&(A[Se]=++b),a[i]={old:t[i],new:A[t[i]]},N[i]=A[t[i]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(N),{charMap:a,subtable:ae.data,maxGlyphID:b+1};case"unicode":for(q=[],h=[],T=0,A={},n={},C=u=null,se=0,we=o.length;se<we;se++)A[L=t[i=o[se]]]==null&&(A[L]=++T),n[i]={old:L,new:A[L]},l=A[L]-i,C!=null&&l===u||(C&&h.push(C),q.push(i),u=l),C=i;for(C&&h.push(C),h.push(65535),q.push(65535),Z=2*(z=q.length),W=2*Math.pow(Math.log(z)/Math.LN2,2),g=Math.log(W/2)/Math.LN2,M=2*z-W,c=[],B=[],p=[],S=he=0,Ce=q.length;he<Ce;S=++he){if(K=q[S],f=h[S],K===65535){c.push(0),B.push(0);break}if(K-(ie=n[K].new)>=32768)for(c.push(0),B.push(2*(p.length+z-S)),i=ce=K;K<=f?ce<=f:ce>=f;i=K<=f?++ce:--ce)p.push(n[i].new);else c.push(ie-K),B.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*z+2*p.length),ae.writeUInt16(0),ae.writeUInt16(Z),ae.writeUInt16(W),ae.writeUInt16(g),ae.writeUInt16(M),xe=0,Q=h.length;xe<Q;xe++)i=h[xe],ae.writeUInt16(i);for(ae.writeUInt16(0),Ne=0,le=q.length;Ne<le;Ne++)i=q[Ne],ae.writeUInt16(i);for(je=0,ne=c.length;je<ne;je++)l=c[je],ae.writeUInt16(l);for(Ge=0,ee=B.length;Ge<ee;Ge++)F=B[Ge],ae.writeUInt16(F);for(De=0,pe=p.length;De<pe;De++)b=p[De],ae.writeUInt16(b);return{charMap:n,subtable:ae.data,maxGlyphID:T+1}}},e}(),lse=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new MV(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=MV.encode(r,n),(a=new u1).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),GPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),KPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),YPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),XPe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},JPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,a,o,l,c,u,f,h,g,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=h=0,g=i.length;h<g;o=++h)a=i[o],r.pos=a.offset,f=r.readString(a.length),l=new XPe(f,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),ZPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),QPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,a,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],n=f=0;0<=a?f<a:f>a;n=0<=a?++f:--f)h.push(r.readInt16());return h}(),this.widths=(function(){var f,h,g,p;for(p=[],f=0,h=(g=this.metrics).length;f<h;f++)o=g[f],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),cse=[].slice,eOe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,a,o,l,c,u,f,h,g;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(c=new u1(n.read(a))).readShort(),f=c.readShort(),g=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new rOe(c,f,g,u,h):new tOe(c,l,f,g,u,h),this.cache[r]))},t.prototype.encode=function(r,n,i){var a,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)a=r[n[c]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),tOe=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),rOe=function(){function e(t,r,n,i,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new u1(cse.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),nOe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return I0(t,Ph),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<n.length&&n[o]==l){++o,i[l]=a;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(a+=u)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},t}(),aOe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,l,c,u,f,h,g,p,S,b,N,C;for(i in n=lse.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},C=n.charMap)p[(c=C[i]).old]=c.new;for(S in g=n.maxGlyphID,o)S in p||(p[S]=g++);return f=function(A){var T,F;for(T in F={},A)F[A[T]]=T;return F}(p),h=Object.keys(f).sort(function(A,T){return A-T}),b=function(){var A,T,F;for(F=[],A=0,T=h.length;A<T;A++)l=h[A],F.push(f[l]);return F}(),a=this.font.glyf.encode(o,b,p),u=this.font.loca.encode(a.offsets,b),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();da.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();var c5={},iOe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},use={},Hd={};let MR;const sOe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Hd.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Hd.getSymbolTotalCodewords=function(t){return sOe[t]};Hd.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Hd.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');MR=t};Hd.isKanjiModeEnabled=function(){return typeof MR<"u"};Hd.toSJIS=function(t){return MR(t)};var mE={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(mE);function dse(){this.buffer=[],this.length=0}dse.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var oOe=dse;function u5(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}u5.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};u5.prototype.get=function(e,t){return this.data[e*this.size+t]};u5.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};u5.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var lOe=u5,fse={};(function(e){const t=Hd.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(fse);var hse={};const cOe=Hd.getSymbolSize,LV=7;hse.getPositions=function(t){const r=cOe(t);return[[0,0],[r-LV,0],[0,r-LV]]};var mse={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,f=null;for(let h=0;h<a;h++){l=c=0,u=f=null;for(let g=0;g<a;g++){let p=i.get(h,g);p===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=p,l=1),p=i.get(g,h),p===f?c++:(c>=5&&(o+=t.N1+(c-5)),f=p,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let f=0;f<a;f++)l=l<<1&2047|i.get(u,f),f>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(f,u),f>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),e.applyMask(u,i);const f=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),f<c&&(c=f,l=u)}return l}})(mse);var pE={};const Tp=mE,nN=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],aN=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pE.getBlocksCount=function(t,r){switch(r){case Tp.L:return nN[(t-1)*4+0];case Tp.M:return nN[(t-1)*4+1];case Tp.Q:return nN[(t-1)*4+2];case Tp.H:return nN[(t-1)*4+3];default:return}};pE.getTotalCodewordsCount=function(t,r){switch(r){case Tp.L:return aN[(t-1)*4+0];case Tp.M:return aN[(t-1)*4+1];case Tp.Q:return aN[(t-1)*4+2];case Tp.H:return aN[(t-1)*4+3];default:return}};var pse={},gE={};const Hw=new Uint8Array(512),xC=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Hw[r]=t,xC[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Hw[r]=Hw[r-255]})();gE.log=function(t){if(t<1)throw new Error("log("+t+")");return xC[t]};gE.exp=function(t){return Hw[t]};gE.mul=function(t,r){return t===0||r===0?0:Hw[xC[t]+xC[r]]};(function(e){const t=gE;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=t.mul(n[o],i[l]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(pse);const gse=pse;function LR(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}LR.prototype.initialize=function(t){this.degree=t,this.genPoly=gse.generateECPolynomial(this.degree)};LR.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=gse.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var uOe=LR,xse={},S1={},BR={};BR.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var F0={};const vse="[0-9]+",dOe="[A-Z $%*+\\-./:]+";let U_="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";U_=U_.replace(/u/g,"\\u");const fOe="(?:(?![A-Z0-9 $%*+\\-./:]|"+U_+`)(?:.|[\r
]))+`;F0.KANJI=new RegExp(U_,"g");F0.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");F0.BYTE=new RegExp(fOe,"g");F0.NUMERIC=new RegExp(vse,"g");F0.ALPHANUMERIC=new RegExp(dOe,"g");const hOe=new RegExp("^"+U_+"$"),mOe=new RegExp("^"+vse+"$"),pOe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");F0.testKanji=function(t){return hOe.test(t)};F0.testNumeric=function(t){return mOe.test(t)};F0.testAlphanumeric=function(t){return pOe.test(t)};(function(e){const t=BR,r=F0;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return n(a)}catch{return o}}})(S1);(function(e){const t=Hd,r=pE,n=mE,i=S1,a=BR,o=7973,l=t.getBCHDigit(o);function c(g,p,S){for(let b=1;b<=40;b++)if(p<=e.getCapacity(b,S,g))return b}function u(g,p){return i.getCharCountIndicator(g,p)+4}function f(g,p){let S=0;return g.forEach(function(b){const N=u(b.mode,p);S+=N+b.getBitsLength()}),S}function h(g,p){for(let S=1;S<=40;S++)if(f(g,S)<=e.getCapacity(S,p,i.MIXED))return S}e.from=function(p,S){return a.isValid(p)?parseInt(p,10):S},e.getCapacity=function(p,S,b){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const N=t.getSymbolTotalCodewords(p),C=r.getTotalCodewordsCount(p,S),A=(N-C)*8;if(b===i.MIXED)return A;const T=A-u(b,p);switch(b){case i.NUMERIC:return Math.floor(T/10*3);case i.ALPHANUMERIC:return Math.floor(T/11*2);case i.KANJI:return Math.floor(T/13);case i.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(p,S){let b;const N=n.from(S,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,N);if(p.length===0)return 1;b=p[0]}else b=p;return c(b.mode,b.getLength(),N)},e.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let S=p<<12;for(;t.getBCHDigit(S)-l>=0;)S^=o<<t.getBCHDigit(S)-l;return p<<12|S}})(xse);var yse={};const GO=Hd,bse=1335,gOe=21522,BV=GO.getBCHDigit(bse);yse.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;GO.getBCHDigit(i)-BV>=0;)i^=bse<<GO.getBCHDigit(i)-BV;return(n<<10|i)^gOe};var wse={};const xOe=S1;function q2(e){this.mode=xOe.NUMERIC,this.data=e.toString()}q2.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};q2.prototype.getLength=function(){return this.data.length};q2.prototype.getBitsLength=function(){return q2.getBitsLength(this.data.length)};q2.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var vOe=q2;const yOe=S1,$8=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function G2(e){this.mode=yOe.ALPHANUMERIC,this.data=e}G2.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};G2.prototype.getLength=function(){return this.data.length};G2.prototype.getBitsLength=function(){return G2.getBitsLength(this.data.length)};G2.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=$8.indexOf(this.data[r])*45;n+=$8.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put($8.indexOf(this.data[r]),6)};var bOe=G2;const wOe=S1;function K2(e){this.mode=wOe.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}K2.getBitsLength=function(t){return t*8};K2.prototype.getLength=function(){return this.data.length};K2.prototype.getBitsLength=function(){return K2.getBitsLength(this.data.length)};K2.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var _Oe=K2;const NOe=S1,SOe=Hd;function Y2(e){this.mode=NOe.KANJI,this.data=e}Y2.getBitsLength=function(t){return t*13};Y2.prototype.getLength=function(){return this.data.length};Y2.prototype.getBitsLength=function(){return Y2.getBitsLength(this.data.length)};Y2.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=SOe.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var COe=Y2,_se={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,f,h,g,p,S,b,N;!l.empty();){c=l.pop(),u=c.value,h=c.cost,g=r[u]||{};for(f in g)g.hasOwnProperty(f)&&(p=g[f],S=h+p,b=o[f],N=typeof o[f]>"u",(N||b>S)&&(o[f]=S,l.push(f,S),a[f]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var C=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(C)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(_se);var AOe=_se.exports;(function(e){const t=S1,r=vOe,n=bOe,i=_Oe,a=COe,o=F0,l=Hd,c=AOe;function u(C){return unescape(encodeURIComponent(C)).length}function f(C,A,T){const F=[];let L;for(;(L=C.exec(T))!==null;)F.push({data:L[0],index:L.index,mode:A,length:L[0].length});return F}function h(C){const A=f(o.NUMERIC,t.NUMERIC,C),T=f(o.ALPHANUMERIC,t.ALPHANUMERIC,C);let F,L;return l.isKanjiModeEnabled()?(F=f(o.BYTE,t.BYTE,C),L=f(o.KANJI,t.KANJI,C)):(F=f(o.BYTE_KANJI,t.BYTE,C),L=[]),A.concat(T,F,L).sort(function(M,W){return M.index-W.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function g(C,A){switch(A){case t.NUMERIC:return r.getBitsLength(C);case t.ALPHANUMERIC:return n.getBitsLength(C);case t.KANJI:return a.getBitsLength(C);case t.BYTE:return i.getBitsLength(C)}}function p(C){return C.reduce(function(A,T){const F=A.length-1>=0?A[A.length-1]:null;return F&&F.mode===T.mode?(A[A.length-1].data+=T.data,A):(A.push(T),A)},[])}function S(C){const A=[];for(let T=0;T<C.length;T++){const F=C[T];switch(F.mode){case t.NUMERIC:A.push([F,{data:F.data,mode:t.ALPHANUMERIC,length:F.length},{data:F.data,mode:t.BYTE,length:F.length}]);break;case t.ALPHANUMERIC:A.push([F,{data:F.data,mode:t.BYTE,length:F.length}]);break;case t.KANJI:A.push([F,{data:F.data,mode:t.BYTE,length:u(F.data)}]);break;case t.BYTE:A.push([{data:F.data,mode:t.BYTE,length:u(F.data)}])}}return A}function b(C,A){const T={},F={start:{}};let L=["start"];for(let B=0;B<C.length;B++){const M=C[B],W=[];for(let z=0;z<M.length;z++){const Z=M[z],K=""+B+z;W.push(K),T[K]={node:Z,lastCount:0},F[K]={};for(let q=0;q<L.length;q++){const ie=L[q];T[ie]&&T[ie].node.mode===Z.mode?(F[ie][K]=g(T[ie].lastCount+Z.length,Z.mode)-g(T[ie].lastCount,Z.mode),T[ie].lastCount+=Z.length):(T[ie]&&(T[ie].lastCount=Z.length),F[ie][K]=g(Z.length,Z.mode)+4+t.getCharCountIndicator(Z.mode,A))}}L=W}for(let B=0;B<L.length;B++)F[L[B]].end=0;return{map:F,table:T}}function N(C,A){let T;const F=t.getBestModeForData(C);if(T=t.from(A,F),T!==t.BYTE&&T.bit<F.bit)throw new Error('"'+C+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(F));switch(T===t.KANJI&&!l.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new r(C);case t.ALPHANUMERIC:return new n(C);case t.KANJI:return new a(C);case t.BYTE:return new i(C)}}e.fromArray=function(A){return A.reduce(function(T,F){return typeof F=="string"?T.push(N(F,null)):F.data&&T.push(N(F.data,F.mode)),T},[])},e.fromString=function(A,T){const F=h(A,l.isKanjiModeEnabled()),L=S(F),B=b(L,T),M=c.find_path(B.map,"start","end"),W=[];for(let z=1;z<M.length-1;z++)W.push(B.table[M[z]].node);return e.fromArray(p(W))},e.rawSplit=function(A){return e.fromArray(h(A,l.isKanjiModeEnabled()))}})(wse);const xE=Hd,U8=mE,jOe=oOe,EOe=lOe,TOe=fse,kOe=hse,KO=mse,YO=pE,POe=uOe,vC=xse,OOe=yse,IOe=S1,z8=wse;function FOe(e,t){const r=e.size,n=kOe.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||r<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(a+l,o+c,!0,!0):e.set(a+l,o+c,!1,!0))}}function DOe(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function ROe(e,t){const r=TOe.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(i+o,a+l,!0,!0):e.set(i+o,a+l,!1,!0)}}function MOe(e,t){const r=e.size,n=vC.getEncodedBits(t);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+r-8-3,o=(n>>l&1)===1,e.set(i,a,o,!0),e.set(a,i,o,!0)}function V8(e,t,r){const n=e.size,i=OOe.getEncodedBits(t,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(n-15+a,8,o,!0),a<8?e.set(8,n-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(n-8,8,1,!0)}function LOe(e,t){const r=e.size;let n=-1,i=r-1,a=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let u=!1;o<t.length&&(u=(t[o]>>>a&1)===1),e.set(i,l-c,u),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function BOe(e,t,r){const n=new jOe;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),IOe.getCharCountIndicator(c.mode,e)),c.write(n)});const i=xE.getSymbolTotalCodewords(e),a=YO.getTotalCodewordsCount(e,t),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return $Oe(n,e,t)}function $Oe(e,t,r){const n=xE.getSymbolTotalCodewords(t),i=YO.getTotalCodewordsCount(t,r),a=n-i,o=YO.getBlocksCount(t,r),l=n%o,c=o-l,u=Math.floor(n/o),f=Math.floor(a/o),h=f+1,g=u-f,p=new POe(g);let S=0;const b=new Array(o),N=new Array(o);let C=0;const A=new Uint8Array(e.buffer);for(let M=0;M<o;M++){const W=M<c?f:h;b[M]=A.slice(S,S+W),N[M]=p.encode(b[M]),S+=W,C=Math.max(C,W)}const T=new Uint8Array(n);let F=0,L,B;for(L=0;L<C;L++)for(B=0;B<o;B++)L<b[B].length&&(T[F++]=b[B][L]);for(L=0;L<g;L++)for(B=0;B<o;B++)T[F++]=N[B][L];return T}function UOe(e,t,r,n){let i;if(Array.isArray(e))i=z8.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const f=z8.rawSplit(e);u=vC.getBestVersionForData(f,r)}i=z8.fromString(e,u||40)}else throw new Error("Invalid data");const a=vC.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=BOe(t,r,i),l=xE.getSymbolSize(t),c=new EOe(l);return FOe(c,t),DOe(c),ROe(c,t),V8(c,r,0),t>=7&&MOe(c,t),LOe(c,o),isNaN(n)&&(n=KO.getBestMask(c,V8.bind(null,c,r))),KO.applyMask(n,c),V8(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}use.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=U8.M,i,a;return typeof r<"u"&&(n=U8.from(r.errorCorrectionLevel,U8.M),i=vC.from(r.version),a=KO.from(r.maskPattern),r.toSJISFunc&&xE.setToSJISFunction(r.toSJISFunc)),UOe(t,i,n,a)};var Nse={},$R={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const o=i.modules.size,l=i.modules.data,c=e.getScale(o,a),u=Math.floor((o+a.margin*2)*c),f=a.margin*c,h=[a.color.light,a.color.dark];for(let g=0;g<u;g++)for(let p=0;p<u;p++){let S=(g*u+p)*4,b=a.color.light;if(g>=f&&p>=f&&g<u-f&&p<u-f){const N=Math.floor((g-f)/c),C=Math.floor((p-f)/c);b=h[l[N*o+C]?1:0]}n[S++]=b.r,n[S++]=b.g,n[S++]=b.b,n[S]=b.a}}})($R);(function(e){const t=$R;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=t.getOptions(c);const f=t.getImageWidth(a.modules.size,c),h=u.getContext("2d"),g=h.createImageData(f,f);return t.qrToImageData(g.data,a,c),r(h,u,f),h.putImageData(g,0,0),u},e.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(a,o,c),f=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(f,h.quality)}})(Nse);var Sse={};const zOe=$R;function $V(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function W8(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function VOe(e,t,r){let n="",i=0,a=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!a&&(a=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=a?W8("M",c+r,.5+u+r):W8("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(n+=W8("h",o),o=0)):i++}return n}Sse.render=function(t,r,n){const i=zOe.getOptions(r),a=t.modules.size,o=t.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+$V(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+$V(i.color.dark,"stroke")+' d="'+VOe(o,a,i.margin)+'"/>',f='viewBox="0 0 '+l+" "+l+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,g),g};const WOe=iOe,XO=use,Cse=Nse,HOe=Sse;function UR(e,t,r,n,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!WOe())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const f=XO.create(r,n);c(e(f,t,n))}catch(f){u(f)}})}try{const c=XO.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}c5.create=XO.create;c5.toCanvas=UR.bind(null,Cse.render);c5.toDataURL=UR.bind(null,Cse.renderToDataURL);c5.toString=UR.bind(null,function(e,t,r){return HOe.render(e,r)});const qOe=e=>new Promise((t,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{const a=document.createElement("canvas");a.width=n.width,a.height=n.height,a.getContext("2d").drawImage(n,0,0);const l=a.toDataURL("image/png");t(l)},n.onerror=a=>{console.error("Image load error for URL:",e,a),t(null)};const i=e+(e.includes("?")?"&":"?")+"t="+Date.now();n.src=i}),eg={blue:[59,130,246],bronze:[205,127,50],silver:[160,160,160],gold:[234,179,8],purple:[147,51,234],red:[239,68,68],green:[34,197,94],black:[30,30,30]},UV=[255,140,0],GOe=(e,t)=>{if(t&&eg[t])return eg[t];if(!e)return UV;const r=e.trim().toLowerCase();return r.includes("vip")?eg.purple:r.includes("or")||r.includes("gold")?eg.gold:r.includes("argent")||r.includes("silver")?eg.silver:r.includes("bronze")?eg.bronze:r.includes("invit")?eg.blue:UV},KOe=async(e,t=300)=>{try{const r=e.code||e.ticketCode||"XXXXXX";return await c5.toDataURL(r,{width:t,margin:1,color:{dark:"#000000FF",light:"#FFFFFFFF"},errorCorrectionLevel:"H"})}catch(r){return console.error("QR Code generation error:",r),null}},hv=e=>e==null?"":String(e).replace(/[^\x00-\x7F\u00C0-\u00FF\u0152\u0153\u20AC]/g,""),YOe=e=>{if(!e)return"Date non dfinie";try{const t=new Date(e),r={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",r)}catch(t){return console.error("Date formatting error:",t),e}},XOe=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("Purchase date formatting error:",t),""}},Ase=async(e,t,r,n)=>{try{if(!e||!t||t.length===0)return console.error("Missing required data for PDF generation"),n&&n({title:"Erreur",description:"Donnes manquantes pour gnrer le billet",variant:"destructive"}),!1;const i=new da({orientation:"portrait",unit:"mm",format:"a6",compress:!0}),a=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight(),l=5,c=a-l*2,u=15,h=await qOe("https://res.cloudinary.com/dprp6vxv6/image/upload/v1722428610/bpi/logo-BPI-v2-transparent_pmsz7v.png"),g=t.map((b,N)=>{var q;const C=Number(b.price)||0,A=Number(b.price_fcfa)||C*10||0,T=hv(b.ticket_number||`TKT${Date.now()}${N}`),F=hv(b.ticket_code_short||b.ticket_code||T.slice(-6).toUpperCase()),L=hv((r==null?void 0:r.full_name)||((q=r==null?void 0:r.email)==null?void 0:q.split("@")[0])||"Invit"),B=hv((e==null?void 0:e.title)||"vnement BonPlanInfos"),M=YOe(e==null?void 0:e.event_date),W=hv((e==null?void 0:e.location)||(e==null?void 0:e.city)||"Lieu  confirmer"),z=hv(b.type_name||"Standard"),Z=XOe(b.purchase_date||b.created_at),K=GOe(z,b.color);return{pricePi:C,priceFcfa:A,ticketNum:T,ticketCode:F,holderName:L,eventTitle:B,eventDate:M,location:W,ticketType:z,purchaseDateDisplay:Z,ticketColor:K}});for(let b=0;b<g.length;b++){b>0&&i.addPage();const{pricePi:N,priceFcfa:C,ticketNum:A,ticketCode:T,holderName:F,eventTitle:L,eventDate:B,location:M,ticketType:W,purchaseDateDisplay:z,ticketColor:Z}=g[b];let K=0;if(i.setFillColor(...Z),i.rect(0,0,a,18,"F"),h)try{i.addImage(h,"PNG",l,2,14,14)}catch(Ne){console.warn("Could not add logo to PDF:",Ne)}i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold");const q="BON PLAN INFOS",ie=h?l+16:l;i.text(q,ie,11),i.setFontSize(7),i.setFont("helvetica","normal"),i.text("BILLET OFFICIEL",a-l,11,{align:"right"}),K=24,i.setFontSize(12),i.setFont("helvetica","bold"),i.setTextColor(...Z);const ae=`Valeur: ${N} pices / ${C.toLocaleString("fr-FR")} FCFA`;i.text(ae,a/2,K,{align:"center"}),K+=8,i.setTextColor(0,0,0),i.setFontSize(12),i.setFont("helvetica","bold");const X=i.splitTextToSize(L,c),se=X.length*5;i.text(X,a/2,K,{align:"center"}),K+=se+4,i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(60,60,60),i.setFont("helvetica","bold"),i.text("DATE:",l,K),i.setFont("helvetica","normal");const he=i.splitTextToSize(B,c-15);i.text(he,l+12,K),K+=he.length*4+3,i.setFont("helvetica","bold"),i.text("LIEU:",l,K),i.setFont("helvetica","normal");const ce=i.splitTextToSize(M,c-15);i.text(ce,l+12,K),K+=ce.length*4+6,i.setDrawColor(...Z),i.setLineWidth(.5),i.setFillColor(250,250,250),i.roundedRect(l,K,c,12,2,2,"FD"),i.setFontSize(10),i.setTextColor(...Z),i.setFont("helvetica","bold");const ge=c-20;let we=W.toUpperCase();i.getStringUnitWidth(we)*10/i.internal.scaleFactor>ge&&(we=i.splitTextToSize(we,ge)[0]),i.text(we,l+4,K+8),i.setTextColor(0,0,0),i.setFont("helvetica","normal"),i.setFontSize(9);const Ce=c-50;let Q=F;i.getStringUnitWidth(Q)*9/i.internal.scaleFactor>Ce&&(Q=i.splitTextToSize(Q,Ce)[0]),i.text(Q,a-l-4,K+8,{align:"right"}),K+=15;const le=45,ne=(a-le)/2;i.setDrawColor(...Z),i.setLineWidth(1);const ee=5;i.line(ne-2,K-2,ne-2+ee,K-2),i.line(ne-2,K-2,ne-2,K-2+ee),i.line(ne+le+2,K-2,ne+le+2-ee,K-2),i.line(ne+le+2,K-2,ne+le+2,K-2+ee),i.line(ne-2,K+le+2,ne-2+ee,K+le+2),i.line(ne-2,K+le+2,ne-2,K+le+2-ee),i.line(ne+le+2,K+le+2,ne+le+2-ee,K+le+2),i.line(ne+le+2,K+le+2,ne+le+2,K+le+2-ee);const pe=await KOe({code:T},500);if(pe)try{i.addImage(pe,"PNG",ne,K,le,le)}catch(Ne){console.error("Error adding QR code to PDF:",Ne),i.setFillColor(240,240,240),i.rect(ne,K,le,le,"F"),i.setTextColor(150,150,150),i.setFontSize(8),i.text("QR Code",ne+le/2,K+le/2,{align:"center"})}K+=le+8,i.setFont("courier","bold"),i.setFontSize(14),i.setTextColor(0,0,0),i.text(T.split("").join(" "),a/2,K,{align:"center"}),z&&(K+=7,i.setFont("helvetica","italic"),i.setFontSize(7),i.setTextColor(120,120,120),i.text(`Achet le ${z}`,a/2,K,{align:"center"})),K+=9,i.setFont("helvetica","bold"),i.setFontSize(9),i.setTextColor(...Z),i.text("www.bonplaninfos.net",a/2,K,{align:"center"});const xe=o-u+5;i.setFontSize(7),i.setFont("helvetica","normal"),i.setTextColor(150,150,150),i.text("Valable une seule fois  scannez  l'entre et  la sortie ",a/2,xe,{align:"center"}),K>xe-10&&console.warn(`Le contenu du ticket ${b+1} est trop proche du footer. Considrer rduire encore les espacements.`)}const S=`Billet_${((e==null?void 0:e.title)||"billet").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/(^_+|_+$)/g,"").substring(0,30)}_${Date.now()}.pdf`;return i.save(S),!0}catch(i){return console.error("Error generating PDF:",i),n&&n({title:"Erreur",description:"Impossible de gnrer le PDF. Veuillez ressayer.",variant:"destructive"}),!1}},JOe=()=>{var C;const{user:e}=bn(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(null),[l,c]=j.useState(null),[u,f]=j.useState(!1),[h,g]=j.useState(null),p=async()=>{if(!e){i(!1);return}i(!0),c(null);try{const{data:A,error:T}=await Ze.from("event_tickets").select(`
                    *,
                    events (
                        id, title, event_date, location, city, cover_image
                    ),
                    ticket_types (
                        name, color, description, price_pi
                    )
                `).eq("user_id",e.id).order("purchased_at",{ascending:!1});if(T)throw T;r(A||[])}catch(A){console.error("Error fetching tickets:",A),c("Impossible de charger vos billets. Veuillez vrifier votre connexion.")}finally{i(!1)}};j.useEffect(()=>{p();const A=Ze.channel("public:event_tickets").on("postgres_changes",{event:"UPDATE",schema:"public",table:"event_tickets",filter:`user_id=eq.${e==null?void 0:e.id}`},T=>{r(F=>F.map(L=>L.id===T.new.id?{...L,...T.new}:L))}).subscribe();return()=>{Ze.removeChannel(A)}},[e]);const S=async A=>{var T,F,L,B;o(A.id);try{const M=A.events||{},W={ticket_number:String(A.ticket_number||""),ticket_code_short:String(A.ticket_code_short||""),type_name:((T=A.ticket_types)==null?void 0:T.name)||"Standard",color:((F=A.ticket_types)==null?void 0:F.color)||"blue",price:Number(A.purchase_amount_pi)||0,price_fcfa:Number(A.purchase_amount_fcfa)||0,purchase_date:A.purchased_at},z={full_name:((L=e==null?void 0:e.user_metadata)==null?void 0:L.full_name)||((B=e==null?void 0:e.email)==null?void 0:B.split("@")[0])||"Utilisateur",email:e==null?void 0:e.email,id:e==null?void 0:e.id};await Ase(M,[W],z),lt({title:" Succs",description:"Billet tlcharg."})}catch(M){console.error("Download error",M),lt({title:"Erreur",description:"chec du tlchargement PDF.",variant:"destructive"})}finally{o(null)}},b=A=>{g(A),f(!0)},N=A=>{if(!A)return"";try{return new Date(A).toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return""}};return n?s.jsx("div",{className:"flex justify-center p-12",children:s.jsx(Zt,{className:"w-10 h-10 animate-spin text-primary"})}):l?s.jsxs(Fl,{variant:"destructive",children:[s.jsx(Iu,{className:"h-4 w-4"}),s.jsxs(rc,{children:[l," ",s.jsx(ze,{variant:"link",onClick:p,className:"p-0 h-auto font-bold ml-2",children:"Ressayer"})]})]}):t.length===0?s.jsx(Yt,{className:"border-dashed border-2",children:s.jsxs(Qt,{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(el,{className:"w-10 h-10 text-primary"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Aucun billet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Vous n'avez pas encore achet de billets."}),s.jsx(ze,{onClick:()=>window.location.href="/events",children:"Explorer les vnements"})]})}):s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(el,{className:"text-primary w-5 h-5"})," Mes Billets (",t.length,")"]}),s.jsxs(ze,{variant:"ghost",size:"sm",onClick:p,children:[s.jsx(Fu,{className:"w-4 h-4 mr-2"})," Actualiser"]})]}),s.jsx("div",{className:"grid gap-4",children:t.map(A=>{var T,F,L,B,M,W,z,Z,K,q;return s.jsx(Yt,{className:"overflow-hidden border-l-4 hover:shadow-md transition-all",style:{borderLeftColor:H8((T=A.ticket_types)==null?void 0:T.color)},children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsxs("div",{className:"bg-muted/30 md:w-32 p-4 flex flex-col items-center justify-center border-b md:border-b-0 md:border-r border-border",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:(F=A.events)!=null&&F.event_date?new Date(A.events.event_date).getDate():"--"}),s.jsx("span",{className:"text-xs uppercase font-bold text-muted-foreground",children:(L=A.events)!=null&&L.event_date?new Date(A.events.event_date).toLocaleDateString("fr-FR",{month:"short"}):"--"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:(B=A.events)!=null&&B.event_date?new Date(A.events.event_date).getFullYear():""})]}),s.jsx("div",{className:"flex-1 p-4 flex flex-col justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-bold text-lg line-clamp-1",children:((M=A.events)==null?void 0:M.title)||"vnement"}),s.jsx(ZOe,{status:A.status,verificationStatus:A.verification_status})]}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-3",children:[s.jsx(to,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"line-clamp-1",children:((W=A.events)==null?void 0:W.location)||((z=A.events)==null?void 0:z.city)||"Lieu non spcifi"})]}),A.purchased_at&&s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mb-3 bg-muted/30 p-1.5 rounded-md w-fit border border-black/5",children:[s.jsx(jo,{className:"w-3 h-3 mr-1.5 text-primary/70"}),s.jsxs("span",{children:["Achet le ",N(A.purchased_at)]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx(Vr,{variant:"outline",className:"text-xs",style:{borderColor:H8((Z=A.ticket_types)==null?void 0:Z.color),color:H8((K=A.ticket_types)==null?void 0:K.color)},children:((q=A.ticket_types)==null?void 0:q.name)||"Standard"}),s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded text-muted-foreground font-mono",children:A.ticket_code_short||"******"})]})]})}),s.jsxs("div",{className:"p-4 bg-muted/10 flex flex-row md:flex-col items-center justify-center gap-2 border-t md:border-t-0 md:border-l border-border",children:[s.jsxs(ze,{size:"sm",variant:"outline",className:"flex-1 w-full",onClick:()=>b(A),children:[s.jsx(a7,{className:"w-4 h-4 mr-2"})," QR Code"]}),s.jsxs(ze,{size:"sm",className:"flex-1 w-full",onClick:()=>S(A),disabled:a===A.id,children:[a===A.id?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(Fm,{className:"w-4 h-4 mr-2"}),"PDF"]})]})]})},A.id)})}),s.jsx(No,{open:u,onOpenChange:f,children:s.jsxs(fo,{className:"sm:max-w-sm text-center",children:[s.jsxs(So,{children:[s.jsx(Co,{children:(C=h==null?void 0:h.events)==null?void 0:C.title}),s.jsx(tl,{children:"Prsentez ce QR Code  l'entre"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:h&&s.jsx(zie,{value:h.ticket_code_short||h.ticket_number,size:200,level:"H"})}),s.jsx("p",{className:"mt-4 text-2xl font-mono font-bold tracking-widest text-primary",children:h==null?void 0:h.ticket_code_short}),(h==null?void 0:h.purchased_at)&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Achet le ",N(h.purchased_at)]}),s.jsx(Vr,{variant:(h==null?void 0:h.status)==="used"?"secondary":"default",className:"mt-4",children:(h==null?void 0:h.status)==="active"?"Billet Valide":"Dj utilis"})]})]})})]})},ZOe=({status:e,verificationStatus:t})=>e==="used"||t==="verified"?s.jsx(Vr,{variant:"secondary",className:"bg-gray-200 text-gray-600",children:"Utilis"}):e==="active"?s.jsx(Vr,{className:"bg-green-100 text-green-700 hover:bg-green-200 border-green-200",children:"Valide"}):s.jsx(Vr,{variant:"destructive",children:"Invalide"}),H8=e=>{const t={blue:"#3b82f6",bronze:"#cd7f32",silver:"#9ca3af",gold:"#eab308",purple:"#9333ea",red:"#ef4444",green:"#22c55e",black:"#1f2937"};return t[e]||t.blue},QOe=()=>{const{user:e}=bn(),{userProfile:t,forceRefreshUserProfile:r,appSettings:n,loading:i}=Ja(),[a,o]=j.useState(""),[l,c]=j.useState(""),[u,f]=j.useState(""),[h,g]=j.useState(!1),[p,S]=j.useState([]),[b,N]=j.useState(!0),C=(n==null?void 0:n.min_withdrawal_pi)||50,A=(n==null?void 0:n.coin_to_fcfa_rate)||10,T=(t==null?void 0:t.available_earnings)||0,F=j.useCallback(async()=>{if(e){N(!0);try{const{data:B,error:M}=await Ze.from("organizer_withdrawal_requests").select("*").eq("organizer_id",e.id).order("requested_at",{ascending:!1});if(M)throw M;S(B||[])}catch(B){console.error("Erreur chargement historique:",B),lt({title:"Erreur historique",description:"Impossible de charger l'historique.",variant:"destructive"})}finally{N(!1)}}},[e]);j.useEffect(()=>{F()},[F]);const L=async B=>{if(B.preventDefault(),!e)return;const M=parseInt(a);if(isNaN(M)||M<=0){lt({title:"Montant invalide",description:"Veuillez entrer un montant positif.",variant:"destructive"});return}if(M<C){lt({title:"Minimum non atteint",description:`Le retrait minimum est de ${C}.`,variant:"destructive"});return}if(M>T){lt({title:"Solde insuffisant",description:"Vous dpassez vos gains disponibles.",variant:"destructive"});return}if(!l||!u.trim()){lt({title:"Dtails manquants",description:"Veuillez remplir les informations de paiement.",variant:"destructive"});return}g(!0);try{const{data:W,error:z}=await Ze.rpc("request_organizer_withdrawal",{p_amount_pi:M,p_payment_details:{method:l,number:u.trim()}});if(z)throw z;if(W&&!W.success)throw new Error(W.message);lt({title:"Demande envoye !",description:"Votre demande de retrait est en cours de traitement.",variant:"success"}),o(""),c(""),f(""),r&&await r(),await F()}catch(W){console.error("Erreur retrait:",W),lt({title:"Erreur",description:W.message||"chec de la demande de retrait.",variant:"destructive"})}finally{g(!1)}};return i&&!t?s.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement des donnes financires..."})]}):s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs(Yt,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-background shadow-md",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(dh,{className:"h-5 w-5 text-primary"}),"Gains Disponibles"]}),s.jsx(Oa,{children:"Convertibles en FCFA selon le taux en vigueur"})]}),s.jsx(Qt,{children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-4 md:gap-8",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-4xl font-bold text-primary tracking-tight",children:[T.toLocaleString("fr-FR")," ",s.jsx("span",{className:"text-2xl",children:""})]}),s.jsxs("p",{className:"text-muted-foreground font-medium mt-1",children:[" ",(T*A).toLocaleString("fr-FR")," FCFA"]})]}),T<C&&s.jsxs(Fl,{variant:"warning",className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20 py-2",children:[s.jsx(Iu,{className:"h-4 w-4"}),s.jsxs(jd,{className:"text-sm font-semibold",children:["Minimum requis: ",C,""]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(Yt,{className:"shadow-sm h-full",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Nouvelle Demande"}),s.jsx(Oa,{children:"Initiez un transfert vers votre compte"})]}),s.jsxs("form",{onSubmit:L,children:[s.jsxs(Qt,{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"amount",children:"Montant  retirer ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"amount",type:"number",value:a,onChange:B=>o(B.target.value),placeholder:`Min. ${C}`,min:C,max:T,className:"pl-9"}),s.jsx("div",{className:"absolute left-3 top-2.5 text-muted-foreground text-sm",children:""})]}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Correspondance: ",a?(parseInt(a)*A).toLocaleString():0," FCFA"]}),s.jsxs("button",{type:"button",onClick:()=>o(T),className:"text-primary hover:underline font-medium",children:["Max: ",T]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"paymentMethod",children:"Mthode de paiement"}),s.jsxs(_i,{onValueChange:c,value:l,children:[s.jsx(gi,{id:"paymentMethod",children:s.jsx(Ni,{placeholder:"Choisir..."})}),s.jsxs(xi,{children:[s.jsx(on,{value:"Orange Money",children:"Orange Money"}),s.jsx(on,{value:"Moov Money",children:"Moov Money"}),s.jsx(on,{value:"Wave",children:"Wave"}),s.jsx(on,{value:"MTN Money",children:"MTN Money"}),s.jsx(on,{value:"Virement Bancaire",children:"Virement Bancaire"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"accountNumber",children:"Numro / RIB"}),s.jsx(rr,{id:"accountNumber",value:u,onChange:B=>f(B.target.value),placeholder:"Ex: +225 07..."})]})]}),s.jsx(Zg,{children:s.jsxs(ze,{type:"submit",className:"w-full font-bold",disabled:h||T<C||!a||!l,children:[h?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(dh,{className:"mr-2 h-4 w-4"}),"Confirmer le retrait"]})})]})]}),s.jsxs(Yt,{className:"shadow-sm h-full flex flex-col",children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsxs("div",{children:[s.jsx(qr,{children:"Historique"}),s.jsx(Oa,{children:"Vos dernires demandes"})]}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:F,disabled:b,children:s.jsx(Fu,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]}),s.jsx(Qt,{className:"flex-1 overflow-auto max-h-[400px] pr-2",children:b&&p.length===0?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Zt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length>0?s.jsx("div",{className:"space-y-3",children:p.map(B=>{var M,W;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-primary",children:[B.amount_pi," "]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(B.amount_pi*A).toLocaleString()," FCFA)"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(s2,{className:"h-3 w-3"}),new Date(B.requested_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]}),s.jsxs("div",{className:"text-xs font-medium text-foreground/80",children:[(M=B.payment_details)==null?void 0:M.method,"  ",(W=B.payment_details)==null?void 0:W.number]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx(Vr,{variant:B.status==="approved"||B.status==="paid"?"success":B.status==="rejected"?"destructive":"secondary",children:B.status==="approved"?"Valid":B.status==="paid"?"Pay":B.status==="rejected"?"Rejet":"En attente"}),B.rejection_reason&&s.jsx("span",{className:"text-[10px] text-red-500 max-w-[100px] truncate",title:B.rejection_reason,children:B.rejection_reason})]})]},B.id)})}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[s.jsx(s2,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun historique disponible"})]})})]})]})]})},eIe=({userProfile:e,userEvents:t,userTransactions:r,loadingEvents:n,referralData:i,loadingOrganizerStats:a})=>{const[o,l]=B4(),c=o.get("tab")||"events",u=h=>{l({tab:h})},f=["organizer","admin","super_admin"].includes(e==null?void 0:e.user_type);return s.jsxs(O0,{value:c,onValueChange:u,className:"w-full",children:[s.jsxs(Th,{className:"grid w-full grid-cols-2 md:grid-cols-5 lg:grid-cols-5 mb-8 h-auto p-1 bg-muted/50 rounded-xl gap-1",children:[s.jsxs(Hn,{value:"events",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"vnements"}),s.jsx("span",{className:"sm:hidden",children:"Events"})]}),s.jsxs(Hn,{value:"tickets",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(el,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Mes Billets"}),s.jsx("span",{className:"sm:hidden",children:"Billets"})]}),s.jsxs(Hn,{value:"transactions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(s2,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Historique"}),s.jsx("span",{className:"sm:hidden",children:"Hist."})]}),s.jsxs(Hn,{value:"referral",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Parrainage"}),s.jsx("span",{className:"sm:hidden",children:"Parrain."})]}),f&&s.jsxs(Hn,{value:"withdrawals",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Retraits"}),s.jsx("span",{className:"sm:hidden",children:"Retraits"})]})]}),s.jsx(qn,{value:"events",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(tPe,{userProfile:e,userEvents:t,loadingEvents:n})}),s.jsx(qn,{value:"tickets",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(JOe,{})}),s.jsx(qn,{value:"transactions",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(rPe,{transactions:r})}),s.jsx(qn,{value:"referral",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(oPe,{userProfile:e,referralData:i})}),f&&s.jsx(qn,{value:"withdrawals",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(QOe,{userProfile:e})})]})},tIe=e=>{switch(e){case"tombolas":return el;case"votes":return e1;case"billetterie":return el;case"stands":return S0;default:return Nu}},rIe=e=>{switch(e){case"tombolas":return"purple";case"votes":return"blue";case"billetterie":return"green";case"stands":return"orange";default:return"gray"}},nIe=({isOpen:e,onClose:t,category:r,transactions:n=[],split95_5:i=!0})=>{const a=tIe(r),o=rIe(r),l={purple:"bg-purple-50 text-purple-700 border-purple-200",blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",gray:"bg-gray-50 text-gray-700 border-gray-200"},c=Array.isArray(n)?n:[],f=(()=>{let h=0,g=0,p=0;return c.forEach(S=>{h+=S.brut||S.amount||0,g+=S.net||(S.amount||0)*.95,p+=S.fees||(S.amount||0)*.05}),{totalBrut:h,totalNet:g,totalFees:p}})();return s.jsx(No,{open:e,onOpenChange:t,children:s.jsxs(fo,{className:"sm:max-w-3xl max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs(So,{children:[s.jsxs(Co,{className:"flex items-center gap-2",children:[s.jsx(a,{className:"w-5 h-5"}),"Dtails des gains - ",r,s.jsxs(Vr,{className:`ml-2 ${l[o]}`,children:[c.length," transaction",c.length>1?"s":""]})]}),s.jsx(tl,{children:"Liste dtaille des gains en attente avec rpartition 95%/5%"})]}),i&&s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border mb-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-white rounded border",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total brut"}),s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[Math.floor(f.totalBrut)," "]})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Net (95%)"}),s.jsxs("div",{className:"text-xl font-bold text-green-700",children:[Math.floor(f.totalNet)," "]})]}),s.jsxs("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:[s.jsx("div",{className:"text-sm text-red-600",children:"Frais (5%)"}),s.jsxs("div",{className:"text-xl font-bold text-red-700",children:[Math.floor(f.totalFees)," "]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:c.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"Aucune transaction disponible"})}):c.map(h=>s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:h.description||`Transaction #${h.id.slice(0,8)}`}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[s.jsx(jo,{className:"w-3 h-3"}),h.date?ui(new Date(h.date),"dd/MM/yyyy HH:mm",{locale:Tc}):"Date inconnue"]})]}),s.jsx(Vr,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"En attente"})]}),i?s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm",children:"Montant brut :"})]}),s.jsxs("span",{className:"font-semibold",children:[h.brut||h.amount," "]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qS,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"text-xs text-green-700",children:"Net (95%) :"})]}),s.jsxs("span",{className:"font-bold text-green-700",children:[h.net||Math.floor((h.brut||h.amount)*.95)," "]})]})}),s.jsx("div",{className:"p-2 bg-red-50 rounded border border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qS,{className:"w-3 h-3 text-red-600"}),s.jsx("span",{className:"text-xs text-red-700",children:"Frais (5%) :"})]}),s.jsxs("span",{className:"font-bold text-red-700",children:[h.fees||Math.floor((h.brut||h.amount)*.05)," "]})]})})]})]}):s.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Montant :"})]}),s.jsxs("span",{className:"font-bold text-blue-700",children:[h.amount," "]})]})})]},h.id))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(ze,{onClick:t,variant:"outline",children:"Fermer"})})})]})})};var aIe=e=>{switch(e){case"success":return oIe;case"info":return cIe;case"warning":return lIe;case"error":return uIe;default:return null}},iIe=Array(12).fill(0),sIe=({visible:e,className:t})=>Ie.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ie.createElement("div",{className:"sonner-spinner"},iIe.map((r,n)=>Ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oIe=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lIe=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cIe=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uIe=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dIe=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fIe=()=>{let[e,t]=Ie.useState(document.hidden);return Ie.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},JO=1,hIe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:JO++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],Ie.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(pIe(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||JO++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ku=new hIe,mIe=(e,t)=>{let r=(t==null?void 0:t.id)||JO++;return Ku.addToast({title:e,...t,id:r}),r},pIe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gIe=mIe,xIe=()=>Ku.toasts,vIe=()=>Ku.getActiveToasts(),q8=Object.assign(gIe,{success:Ku.success,info:Ku.info,warning:Ku.warning,error:Ku.error,custom:Ku.custom,message:Ku.message,promise:Ku.promise,dismiss:Ku.dismiss,loading:Ku.loading},{getHistory:xIe,getToasts:vIe});function yIe(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}yIe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iN(e){return e.label!==void 0}var bIe=3,wIe="32px",_Ie="16px",zV=4e3,NIe=356,SIe=14,CIe=20,AIe=200;function Jf(...e){return e.filter(Boolean).join(" ")}function jIe(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var EIe=e=>{var t,r,n,i,a,o,l,c,u,f,h;let{invert:g,toast:p,unstyled:S,interacting:b,setHeights:N,visibleToasts:C,heights:A,index:T,toasts:F,expanded:L,removeToast:B,defaultRichColors:M,closeButton:W,style:z,cancelButtonStyle:Z,actionButtonStyle:K,className:q="",descriptionClassName:ie="",duration:ae,position:X,gap:se,loadingIcon:he,expandByDefault:ce,classNames:ge,icons:we,closeButtonAriaLabel:Ce="Close toast",pauseWhenPageIsHidden:Q}=e,[le,ne]=Ie.useState(null),[ee,pe]=Ie.useState(null),[xe,Ne]=Ie.useState(!1),[Se,je]=Ie.useState(!1),[Ge,De]=Ie.useState(!1),[at,ot]=Ie.useState(!1),[ht,Ue]=Ie.useState(!1),[Ct,tr]=Ie.useState(0),[Ot,xr]=Ie.useState(0),st=Ie.useRef(p.duration||ae||zV),lr=Ie.useRef(null),_r=Ie.useRef(null),kr=T===0,Gn=T+1<=C,sn=p.type,Jn=p.dismissible!==!1,ea=p.className||"",yn=p.descriptionClassName||"",na=Ie.useMemo(()=>A.findIndex(zr=>zr.toastId===p.id)||0,[A,p.id]),Yr=Ie.useMemo(()=>{var zr;return(zr=p.closeButton)!=null?zr:W},[p.closeButton,W]),ws=Ie.useMemo(()=>p.duration||ae||zV,[p.duration,ae]),Mn=Ie.useRef(0),Nr=Ie.useRef(0),An=Ie.useRef(0),pn=Ie.useRef(null),[Va,ya]=X.split("-"),ol=Ie.useMemo(()=>A.reduce((zr,ba,Xr)=>Xr>=na?zr:zr+ba.height,0),[A,na]),Di=fIe(),fa=p.invert||g,Wi=sn==="loading";Nr.current=Ie.useMemo(()=>na*se+ol,[na,ol]),Ie.useEffect(()=>{st.current=ws},[ws]),Ie.useEffect(()=>{Ne(!0)},[]),Ie.useEffect(()=>{let zr=_r.current;if(zr){let ba=zr.getBoundingClientRect().height;return xr(ba),N(Xr=>[{toastId:p.id,height:ba,position:p.position},...Xr]),()=>N(Xr=>Xr.filter(Ei=>Ei.toastId!==p.id))}},[N,p.id]),Ie.useLayoutEffect(()=>{if(!xe)return;let zr=_r.current,ba=zr.style.height;zr.style.height="auto";let Xr=zr.getBoundingClientRect().height;zr.style.height=ba,xr(Xr),N(Ei=>Ei.find(Ti=>Ti.toastId===p.id)?Ei.map(Ti=>Ti.toastId===p.id?{...Ti,height:Xr}:Ti):[{toastId:p.id,height:Xr,position:p.position},...Ei])},[xe,p.title,p.description,N,p.id]);let Za=Ie.useCallback(()=>{je(!0),tr(Nr.current),N(zr=>zr.filter(ba=>ba.toastId!==p.id)),setTimeout(()=>{B(p)},AIe)},[p,B,N,Nr]);Ie.useEffect(()=>{if(p.promise&&sn==="loading"||p.duration===1/0||p.type==="loading")return;let zr;return L||b||Q&&Di?(()=>{if(An.current<Mn.current){let ba=new Date().getTime()-Mn.current;st.current=st.current-ba}An.current=new Date().getTime()})():st.current!==1/0&&(Mn.current=new Date().getTime(),zr=setTimeout(()=>{var ba;(ba=p.onAutoClose)==null||ba.call(p,p),Za()},st.current)),()=>clearTimeout(zr)},[L,b,p,sn,Q,Di,Za]),Ie.useEffect(()=>{p.delete&&Za()},[Za,p.delete]);function yr(){var zr,ba,Xr;return we!=null&&we.loading?Ie.createElement("div",{className:Jf(ge==null?void 0:ge.loader,(zr=p==null?void 0:p.classNames)==null?void 0:zr.loader,"sonner-loader"),"data-visible":sn==="loading"},we.loading):he?Ie.createElement("div",{className:Jf(ge==null?void 0:ge.loader,(ba=p==null?void 0:p.classNames)==null?void 0:ba.loader,"sonner-loader"),"data-visible":sn==="loading"},he):Ie.createElement(sIe,{className:Jf(ge==null?void 0:ge.loader,(Xr=p==null?void 0:p.classNames)==null?void 0:Xr.loader),visible:sn==="loading"})}return Ie.createElement("li",{tabIndex:0,ref:_r,className:Jf(q,ea,ge==null?void 0:ge.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,ge==null?void 0:ge.default,ge==null?void 0:ge[sn],(r=p==null?void 0:p.classNames)==null?void 0:r[sn]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:M,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":xe,"data-promise":!!p.promise,"data-swiped":ht,"data-removed":Se,"data-visible":Gn,"data-y-position":Va,"data-x-position":ya,"data-index":T,"data-front":kr,"data-swiping":Ge,"data-dismissible":Jn,"data-type":sn,"data-invert":fa,"data-swipe-out":at,"data-swipe-direction":ee,"data-expanded":!!(L||ce&&xe),style:{"--index":T,"--toasts-before":T,"--z-index":F.length-T,"--offset":`${Se?Ct:Nr.current}px`,"--initial-height":ce?"auto":`${Ot}px`,...z,...p.style},onDragEnd:()=>{De(!1),ne(null),pn.current=null},onPointerDown:zr=>{Wi||!Jn||(lr.current=new Date,tr(Nr.current),zr.target.setPointerCapture(zr.pointerId),zr.target.tagName!=="BUTTON"&&(De(!0),pn.current={x:zr.clientX,y:zr.clientY}))},onPointerUp:()=>{var zr,ba,Xr,Ei;if(at||!Jn)return;pn.current=null;let Ti=Number(((zr=_r.current)==null?void 0:zr.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ln=Number(((ba=_r.current)==null?void 0:ba.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ms=new Date().getTime()-((Xr=lr.current)==null?void 0:Xr.getTime()),sa=le==="x"?Ti:ln,ki=Math.abs(sa)/ms;if(Math.abs(sa)>=CIe||ki>.11){tr(Nr.current),(Ei=p.onDismiss)==null||Ei.call(p,p),pe(le==="x"?Ti>0?"right":"left":ln>0?"down":"up"),Za(),ot(!0),Ue(!1);return}De(!1),ne(null)},onPointerMove:zr=>{var ba,Xr,Ei,Ti;if(!pn.current||!Jn||((ba=window.getSelection())==null?void 0:ba.toString().length)>0)return;let ln=zr.clientY-pn.current.y,ms=zr.clientX-pn.current.x,sa=(Xr=e.swipeDirections)!=null?Xr:jIe(X);!le&&(Math.abs(ms)>1||Math.abs(ln)>1)&&ne(Math.abs(ms)>Math.abs(ln)?"x":"y");let ki={x:0,y:0};le==="y"?(sa.includes("top")||sa.includes("bottom"))&&(sa.includes("top")&&ln<0||sa.includes("bottom")&&ln>0)&&(ki.y=ln):le==="x"&&(sa.includes("left")||sa.includes("right"))&&(sa.includes("left")&&ms<0||sa.includes("right")&&ms>0)&&(ki.x=ms),(Math.abs(ki.x)>0||Math.abs(ki.y)>0)&&Ue(!0),(Ei=_r.current)==null||Ei.style.setProperty("--swipe-amount-x",`${ki.x}px`),(Ti=_r.current)==null||Ti.style.setProperty("--swipe-amount-y",`${ki.y}px`)}},Yr&&!p.jsx?Ie.createElement("button",{"aria-label":Ce,"data-disabled":Wi,"data-close-button":!0,onClick:Wi||!Jn?()=>{}:()=>{var zr;Za(),(zr=p.onDismiss)==null||zr.call(p,p)},className:Jf(ge==null?void 0:ge.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=we==null?void 0:we.close)!=null?a:dIe):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ie.createElement(Ie.Fragment,null,sn||p.icon||p.promise?Ie.createElement("div",{"data-icon":"",className:Jf(ge==null?void 0:ge.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||yr():null,p.type!=="loading"?p.icon||(we==null?void 0:we[sn])||aIe(sn):null):null,Ie.createElement("div",{"data-content":"",className:Jf(ge==null?void 0:ge.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Ie.createElement("div",{"data-title":"",className:Jf(ge==null?void 0:ge.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Ie.createElement("div",{"data-description":"",className:Jf(ie,yn,ge==null?void 0:ge.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&iN(p.cancel)?Ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||Z,onClick:zr=>{var ba,Xr;iN(p.cancel)&&Jn&&((Xr=(ba=p.cancel).onClick)==null||Xr.call(ba,zr),Za())},className:Jf(ge==null?void 0:ge.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&iN(p.action)?Ie.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||K,onClick:zr=>{var ba,Xr;iN(p.action)&&((Xr=(ba=p.action).onClick)==null||Xr.call(ba,zr),!zr.defaultPrevented&&Za())},className:Jf(ge==null?void 0:ge.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function VV(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function TIe(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?_Ie:wIe;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}j.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:h,duration:g,style:p,visibleToasts:S=bIe,toastOptions:b,dir:N=VV(),gap:C=SIe,loadingIcon:A,icons:T,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:L}=e,[B,M]=Ie.useState([]),W=Ie.useMemo(()=>Array.from(new Set([n].concat(B.filter(Q=>Q.position).map(Q=>Q.position)))),[B,n]),[z,Z]=Ie.useState([]),[K,q]=Ie.useState(!1),[ie,ae]=Ie.useState(!1),[X,se]=Ie.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=Ie.useRef(null),ce=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ge=Ie.useRef(null),we=Ie.useRef(!1),Ce=Ie.useCallback(Q=>{M(le=>{var ne;return(ne=le.find(ee=>ee.id===Q.id))!=null&&ne.delete||Ku.dismiss(Q.id),le.filter(({id:ee})=>ee!==Q.id)})},[]);return Ie.useEffect(()=>Ku.subscribe(Q=>{if(Q.dismiss){M(le=>le.map(ne=>ne.id===Q.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{tZ.flushSync(()=>{M(le=>{let ne=le.findIndex(ee=>ee.id===Q.id);return ne!==-1?[...le.slice(0,ne),{...le[ne],...Q},...le.slice(ne+1)]:[Q,...le]})})})}),[]),Ie.useEffect(()=>{if(f!=="system"){se(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:le})=>{se(le?"dark":"light")})}catch{Q.addListener(({matches:ne})=>{try{se(ne?"dark":"light")}catch(ee){console.error(ee)}})}},[f]),Ie.useEffect(()=>{B.length<=1&&q(!1)},[B]),Ie.useEffect(()=>{let Q=le=>{var ne,ee;i.every(pe=>le[pe]||le.code===pe)&&(q(!0),(ne=he.current)==null||ne.focus()),le.code==="Escape"&&(document.activeElement===he.current||(ee=he.current)!=null&&ee.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[i]),Ie.useEffect(()=>{if(he.current)return()=>{ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null,we.current=!1)}},[he.current]),Ie.createElement("section",{ref:t,"aria-label":`${F} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((Q,le)=>{var ne;let[ee,pe]=Q.split("-");return B.length?Ie.createElement("ol",{key:Q,dir:N==="auto"?VV():N,tabIndex:-1,ref:he,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":ee,"data-lifted":K&&B.length>1&&!a,"data-x-position":pe,style:{"--front-toast-height":`${((ne=z[0])==null?void 0:ne.height)||0}px`,"--width":`${NIe}px`,"--gap":`${C}px`,...p,...TIe(c,u)},onBlur:xe=>{we.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(we.current=!1,ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||we.current||(we.current=!0,ge.current=xe.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{ie||q(!1)},onDragEnd:()=>q(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},B.filter(xe=>!xe.position&&le===0||xe.position===Q).map((xe,Ne)=>{var Se,je;return Ie.createElement(EIe,{key:xe.id,icons:T,index:Ne,toast:xe,defaultRichColors:h,duration:(Se=b==null?void 0:b.duration)!=null?Se:g,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:r,visibleToasts:S,closeButton:(je=b==null?void 0:b.closeButton)!=null?je:o,interacting:ie,position:Q,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:Ce,toasts:B.filter(Ge=>Ge.position==xe.position),heights:z.filter(Ge=>Ge.position==xe.position),setHeights:Z,expandByDefault:a,gap:C,loadingIcon:A,expanded:K,pauseWhenPageIsHidden:L,swipeDirections:e.swipeDirections})})):null}))});const kIe=({isOpen:e,onClose:t,transactions:r=[],totalAmount:n=0,loading:i=!1,onConfirm:a})=>{const[o,l]=j.useState(!1),[c,u]=j.useState(!1),[f,h]=j.useState(!1),p=(()=>{let L=0,B=0,M=0;return r.length>0?r.forEach(W=>{const z=W.brut||W.amount||0,Z=Math.floor(z*.95),K=Math.floor(z*.05);L+=z,B+=Z,M+=K}):(L=n,B=Math.floor(n*.95),M=Math.floor(n*.05)),{totalBrut:L,totalNet:B,totalFees:M}})();j.useEffect(()=>{e&&(h(!1),u(!1))},[e]);const S=async()=>{if(p.totalNet<=0){q8.error("Aucun montant  transfrer");return}l(!0);try{if(a)await a();else{const{data:{user:L},error:B}=await Ze.auth.getUser();if(B)throw B}h(!0),q8.success(`Transfert russi : ${p.totalNet}  transfrs`)}catch(L){console.error("Transfer error:",L),q8.error(`Erreur lors du transfert: ${L.message}`)}finally{l(!1)}},b=()=>{u(!0)},N=()=>{u(!1)},C=()=>{h(!1),u(!1),t()},A=()=>i?s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx(Zt,{className:"w-8 h-8 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des transactions..."})]}):p.totalBrut<=0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ua,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucune transaction en attente de transfert"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-white rounded border",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total brut"}),s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[p.totalBrut," "]})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Net (95%)"}),s.jsxs("div",{className:"text-xl font-bold text-green-700",children:[p.totalNet," "]})]}),s.jsxs("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:[s.jsx("div",{className:"text-sm text-red-600",children:"Frais (5%)"}),s.jsxs("div",{className:"text-xl font-bold text-red-700",children:[p.totalFees," "]})]})]})}),r.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Md,{className:"w-4 h-4"}),"Dtails des transactions (",r.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto pr-2",children:r.map((L,B)=>{var Z;const M=L.brut||L.amount||0,W=Math.floor(M*.95),z=Math.floor(M*.05);return s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:L.description||`Transaction #${((Z=L.id)==null?void 0:Z.slice(0,8))||B+1}`}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[s.jsx(jo,{className:"w-3 h-3"}),L.date?ui(new Date(L.date),"dd/MM/yyyy HH:mm",{locale:Tc}):"Date non disponible"]})]}),s.jsx(Vr,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:" transfrer"})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm",children:"Montant brut :"})]}),s.jsxs("span",{className:"font-semibold",children:[M," "]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qS,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"text-xs text-green-700",children:"Net (95%) :"})]}),s.jsxs("span",{className:"font-bold text-green-700",children:[W," "]})]})}),s.jsx("div",{className:"p-2 bg-red-50 rounded border border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qS,{className:"w-3 h-3 text-red-600"}),s.jsx("span",{className:"text-xs text-red-700",children:"Frais (5%) :"})]}),s.jsxs("span",{className:"font-bold text-red-700",children:[z," "]})]})})]})]})]},L.id||B)})})]}),s.jsxs(Fl,{className:"mb-2 border-amber-200 bg-amber-50",children:[s.jsx(Iu,{className:"h-4 w-4 text-amber-600"}),s.jsxs(rc,{className:"text-amber-700",children:[s.jsx("strong",{children:"Note :"})," Seuls les gains nets (95%) seront crdits dans votre portefeuille. Les frais (5%) seront retenus."]})]})]}),T=()=>s.jsxs("div",{className:"text-center space-y-6 py-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(nc,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confirmer le transfert"}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Montant total brut :"}),s.jsxs("span",{className:"font-bold",children:[p.totalBrut," "]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Frais (5%) :"}),s.jsxs("span",{className:"font-bold text-red-600",children:["-",p.totalFees," "]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[s.jsx("span",{className:"text-gray-700 font-semibold",children:"Montant net  transfrer :"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:[p.totalNet," "]})]})]})}),s.jsxs(Fl,{variant:"destructive",children:[s.jsx(Iu,{className:"h-4 w-4"}),s.jsx(rc,{children:"Cette action est irrversible. Une fois confirm, les gains seront transfrs vers votre solde disponible."})]})]})]}),F=()=>s.jsxs("div",{className:"text-center space-y-6 py-4",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(jp,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Transfert russi !"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Vos gains ont t transfrs vers votre solde disponible"}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-gray-700",children:"Montant transfr :"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[p.totalNet," "]})]}),s.jsxs("div",{className:"text-sm text-gray-600 text-left space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total brut :"}),s.jsxs("span",{children:[p.totalBrut," "]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Frais retenus (5%) :"}),s.jsxs("span",{className:"text-red-600",children:["-",p.totalFees," "]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{children:"Nombre de transactions :"}),s.jsx("span",{children:r.length>0?r.length:"1"})]})]})]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wh,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Montant net transfr :"})]}),s.jsxs("span",{className:"text-xl font-bold text-blue-800",children:[p.totalNet," "]})]})})]})]})]});return s.jsx(No,{open:e,onOpenChange:C,children:s.jsxs(fo,{className:"sm:max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(So,{children:[s.jsx(Co,{className:"flex items-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(jp,{className:"w-5 h-5 text-green-600"}),"Transfert termin"]}):c?s.jsxs(s.Fragment,{children:[s.jsx(nc,{className:"w-5 h-5 text-blue-600"}),"Confirmation"]}):s.jsxs(s.Fragment,{children:[s.jsx(Cm,{className:"w-5 h-5"}),"Transfert des gains"]})}),s.jsx(tl,{children:f?"Vos gains ont t transfrs vers votre solde disponible":c?"Vrifiez les dtails avant de confirmer":`Transfrer ${p.totalBrut}  vers votre solde disponible`})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-1",children:f?F():c?T():A()}),s.jsx(ru,{className:"mt-6 pt-4 border-t",children:f?s.jsxs(ze,{onClick:C,className:"w-full gap-2 bg-green-600 hover:bg-green-700",children:[s.jsx(jp,{className:"w-4 h-4"}),"Fermer"]}):c?s.jsxs(s.Fragment,{children:[s.jsx(ze,{variant:"outline",onClick:N,disabled:o,children:"Retour"}),s.jsx(ze,{onClick:S,disabled:o,className:"gap-2 bg-green-600 hover:bg-green-700",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"w-4 h-4 animate-spin"}),"Traitement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jp,{className:"w-4 h-4"}),"Confirmer le transfert"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ze,{variant:"outline",onClick:C,children:"Annuler"}),s.jsxs(ze,{onClick:b,disabled:i||p.totalBrut<=0,className:"gap-2 bg-green-600 hover:bg-green-700",children:[s.jsx(Cm,{className:"w-4 h-4"}),"Continuer"]})]})})]})})},PIe=()=>{za();const{user:e,loading:t}=bn(),{userProfile:r,loadingProfile:n,getEvents:i,forceRefreshUserProfile:a}=Ja(),[o,l]=j.useState([]),[c,u]=j.useState([]),[f,h]=j.useState({count:0,coins:0}),[g,p]=j.useState({raffle:[],vote:[],ticket:[],stand:[],protected:[],legacy_raffle:[]}),[S,b]=j.useState(0),[N,C]=j.useState(!1),[A,T]=j.useState(!1),[F,L]=j.useState(null),[B,M]=j.useState(!0),[W,z]=j.useState(!0),[Z,K]=j.useState(!1),[q,ie]=j.useState(null),[ae,X]=j.useState(!1),{toast:se}=js(),[he]=B4(),ce=he.get("tab")||"events",ge=j.useRef(null),we=j.useCallback(async()=>{if(e){z(!0);try{const{data:je,error:Ge}=await Pd(()=>Ze.from("organizer_earnings").select("earnings_coins, transaction_type, created_at, status, id, raffle_event_id, event_type, description, amount_pi").eq("organizer_id",e.id).eq("status","pending").order("created_at",{ascending:!1}));if(Ge)throw Ge;const De={raffle:[],vote:[],ticket:[],stand:[],protected:[],legacy_raffle:[]};let at=0;je==null||je.forEach(ot=>{const ht=ot.earnings_coins||0,Ue={id:ot.id,amount:ht,brut:ot.amount_pi||Math.floor(ht/.95),date:ot.created_at,source:ot.transaction_type,description:ot.description,status:ot.status};at+=ht;const Ct=(ot.event_type||ot.transaction_type||"").toLowerCase();Ct.includes("vote")?De.vote.push(Ue):Ct.includes("ticket")||Ct.includes("billeterie")?De.ticket.push(Ue):Ct.includes("stand")?De.stand.push(Ue):Ct.includes("protected")||Ct.includes("interaction")||Ct==="protected_event"||Ct==="event_access"?De.protected.push(Ue):Ct.includes("raffle")||Ct.includes("tombola")||ot.transaction_type==="raffle_ticket_sale"?De.raffle.push(Ue):De.ticket.push(Ue)}),p(De),b(at)}catch(je){console.error("Error fetching earnings:",je)}finally{z(!1)}}},[e]),Ce=j.useCallback(async()=>{if(e){M(!0),ie(null),X(!1),ge.current&&clearTimeout(ge.current),ge.current=setTimeout(()=>{M&&(X(!0),M(!1))},1e4);try{const[je,Ge,De]=await Promise.all([i({organizer_id:e.id}),Pd(()=>Ze.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50)),Pd(()=>Ze.from("referral_rewards").select("referrer_reward",{count:"exact"}).eq("referrer_id",e.id))]);if(ge.current&&clearTimeout(ge.current),l(je||[]),u(Ge.data||[]),De.data){const at=De.count||De.data.length,ot=De.data.reduce((ht,Ue)=>ht+(Ue.referrer_reward||0),0);h({count:at,coins:ot})}}catch(je){console.error("Profile page load error:",je),ie(je.message||"Erreur de chargement")}finally{M(!1)}}},[e,r,i]);j.useEffect(()=>(!t&&e&&(we(),Ce()),()=>{ge.current&&clearTimeout(ge.current)}),[t,e,Ce,we]);const Q=je=>{L(je),C(!0)},le=(je=null)=>{L(je),T(!0)},ne=async()=>{K(!0);try{let je="all";F==="vote"&&(je="vote"),F==="ticket"&&(je="ticket"),F==="raffle"&&(je="raffle"),F==="stand"&&(je="stand"),F==="protected"&&(je="protected_event"),console.log(` Transfert des gains (${je})...`);const{data:Ge,error:De}=await Pd(()=>Ze.rpc("transfer_pending_earnings_with_commission",{p_organizer_id:e.id,p_event_type:je}));if(De)throw De;ee(Ge),typeof a=="function"&&await a(),await Promise.all([we(),Ce()]),T(!1)}catch(je){console.error(" Erreur transfert:",je),se({title:" Erreur",description:je.message,variant:"destructive"})}finally{K(!1)}},ee=je=>{if(je!=null&&je.success){const De=(je.details||{}).net_transferred||0;se({title:" Transfert russi",description:s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-emerald-600",children:["+",De,"  transfrs"]}),s.jsx("p",{className:"text-xs mt-1",children:"Vos gains sont maintenant disponibles dans votre solde."})]})})}else se({title:" Information",description:(je==null?void 0:je.message)||"Aucun gain  transfrer",variant:"default"})},pe=()=>{typeof a=="function"&&a(),Ce(),we()},xe=je=>je.reduce((Ge,De)=>Ge+De.amount,0),Ne=({category:je,label:Ge,icon:De,list:at,colorClass:ot,btnColor:ht})=>{const Ue=xe(at);return s.jsx(Yt,{className:`border-l-4 ${ot} shadow-sm hover:shadow-md transition-all`,children:s.jsxs(Qt,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:`p-2 rounded-full bg-opacity-10 ${ht.replace("text-","bg-")}`,children:s.jsx(De,{className:`w-4 h-4 ${ht}`})}),s.jsx("span",{className:"font-medium text-sm text-gray-600",children:Ge})]}),s.jsx(Vr,{variant:"secondary",className:"text-xs font-normal bg-yellow-50 text-yellow-700 border-yellow-200",children:"En attente"})]}),s.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Ue," ",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:""})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(ze,{variant:"ghost",size:"sm",className:"h-7 text-xs px-2",onClick:()=>Q(je),disabled:Ue===0,children:"Dtails"}),Ue>0&&s.jsxs(ze,{variant:"outline",size:"sm",className:"h-7 text-xs px-2 ml-auto border-emerald-200 text-emerald-700 hover:bg-emerald-50 hover:text-emerald-800",onClick:()=>le(je),children:[s.jsx(VZ,{className:"w-3 h-3 mr-1"})," Transfrer"]})]})]})]})})},Se=()=>s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((je,Ge)=>s.jsx(Ec,{className:"h-24 w-full rounded-xl"},Ge))});return t?s.jsx("div",{className:"h-screen flex items-center justify-center",children:s.jsx(Zt,{className:"animate-spin w-10 h-10 text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Fi,{children:s.jsxs("title",{children:[(r==null?void 0:r.full_name)||"Profil"," - BonPlanInfos"]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24",children:[s.jsx(Xke,{}),(q||ae)&&s.jsxs(Fl,{variant:"destructive",className:"mb-6",children:[s.jsx(Iu,{className:"h-4 w-4"}),s.jsx(jd,{children:"Problme de chargement"}),s.jsxs(rc,{className:"flex items-center justify-between",children:[s.jsx("span",{children:ae?"Le chargement prend trop de temps. Vrifiez votre connexion.":"Une erreur est survenue lors du chargement des donnes."}),s.jsxs(ze,{variant:"outline",size:"sm",onClick:pe,className:"bg-white/10 hover:bg-white/20 text-white border-white/20",children:[s.jsx(j_,{className:"w-4 h-4 mr-2"})," Ressayer"]})]})]}),s.jsx("div",{className:"my-8",children:n?s.jsx(Se,{}):s.jsx(Jke,{userProfile:r,eventCount:o.length})}),r&&["organizer","admin","super_admin"].includes(r.user_type)&&s.jsxs("div",{className:"mb-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(mj,{className:"text-primary"}),"Tableau de Bord Gains"]}),s.jsx(ze,{onClick:()=>we(),variant:"ghost",size:"icon",disabled:W,children:s.jsx(j_,{className:`w-4 h-4 ${W?"animate-spin":""}`})})]}),W?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ec,{className:"h-32 w-full rounded-xl"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[...Array(5)].map((je,Ge)=>s.jsx(Ec,{className:"h-32 w-full rounded-xl"},Ge))})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Yt,{className:"border-none shadow-lg bg-gradient-to-r from-primary/90 to-primary text-primary-foreground overflow-hidden relative mb-6",children:[s.jsx("div",{className:"absolute top-0 right-0 p-10 bg-white/5 rounded-full -mr-10 -mt-10 blur-2xl"}),s.jsx(Qt,{className:"p-6 sm:p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[s.jsxs("h3",{className:"text-lg font-medium opacity-90 flex items-center justify-center md:justify-start gap-2",children:[s.jsx(jh,{className:"w-5 h-5"}),"Total Gains en Attente"]}),s.jsxs("div",{className:"text-5xl font-bold tracking-tight",children:[S," ",s.jsx("span",{className:"text-3xl opacity-80",children:""})]}),s.jsx("p",{className:"text-sm opacity-75",children:"Ces gains sont stocks temporairement. Transfrez-les pour pouvoir les retirer."})]}),s.jsx("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:s.jsxs(ze,{size:"lg",variant:"secondary",className:"w-full md:w-auto font-bold shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",onClick:()=>le("all"),disabled:S===0,children:[s.jsx($o,{className:"mr-2 h-5 w-5"}),"Tout transfrer (",S," )"]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Ne,{category:"vote",label:"Gains Votes",icon:e1,list:g.vote,colorClass:"border-l-blue-500",btnColor:"text-blue-600"}),s.jsx(Ne,{category:"raffle",label:"Gains Tombolas",icon:el,list:g.raffle,colorClass:"border-l-purple-500",btnColor:"text-purple-600"}),s.jsx(Ne,{category:"ticket",label:"Gains Billeterie",icon:el,list:g.ticket,colorClass:"border-l-green-500",btnColor:"text-green-600"}),s.jsx(Ne,{category:"stand",label:"Gains Stands",icon:S0,list:g.stand,colorClass:"border-l-orange-500",btnColor:"text-orange-600"}),s.jsx(Ne,{category:"protected",label:"Gains Ev.Protgs",icon:N0,list:g.protected,colorClass:"border-l-indigo-500",btnColor:"text-indigo-600"})]})]})]}),B?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[...Array(4)].map((je,Ge)=>s.jsx(Ec,{className:"h-10 w-32 rounded-md flex-shrink-0"},Ge))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((je,Ge)=>s.jsx(Ec,{className:"h-64 w-full rounded-xl"},Ge))})]}):s.jsx(eIe,{userProfile:r,userEvents:o,userTransactions:c,loadingEvents:B,referralData:f,activeTab:ce,loadingOrganizerStats:!1})]}),s.jsx(nIe,{isOpen:N,onClose:()=>C(!1),category:F,transactions:F?g[F]:[]}),s.jsx(kIe,{isOpen:A,onClose:()=>T(!1),transactions:F&&F!=="all"?g[F]:[],totalAmount:F&&F!=="all"?xe(g[F]):S,loading:Z,onConfirm:ne})]})},OIe=Ie.memo(PIe),vE=({isOpen:e,onClose:t,amountFcfa:r,packId:n,action:i})=>{const{user:a}=bn(),{toast:o}=js(),[l,c]=j.useState(!1),[u,f]=j.useState([]),[h,g]=j.useState(null),[p,S]=j.useState("");j.useEffect(()=>{e?(async()=>{c(!0);const{data:L,error:B}=await Ze.from("coin_packs").select("*").eq("is_active",!0).order("display_order");if(B)console.error("Error fetching coin packs:",B),o({title:"Erreur",description:"Impossible de charger les packs.",variant:"destructive"}),f([]);else if(f(L),n){const M=L.find(W=>W.id===n);M&&b(M)}else if(r){const M={id:"custom",name:"Recharge Personnalise",fcfa_price:r,coin_amount:bl.convertFcfaToCoins(r),bonus_coins:0};b(M)}c(!1)})():(g(null),S(""))},[e,o,n,r]);const b=F=>{if(!a){o({variant:"destructive",title:"Erreur",description:"Veuillez vous connecter."});return}g(F);const L=bl.generateMoneyFusionLink({userId:a.id,amountFcfa:F.fcfa_price,action:i||"buy_coins",packId:F.id!=="custom"?F.id:null,email:a.email,phone:a.phone||""});S(L)},N=()=>{p?window.open(p,"_blank","noopener,noreferrer"):o({title:"Veuillez slectionner un pack",description:"Choisissez un pack de pices pour continuer.",variant:"default"})},C=()=>{navigator.clipboard.writeText(p),o({title:"Copi!",description:"Le lien de paiement a t copi."})},A=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 max-h-[60vh] overflow-y-auto",children:u.map(F=>s.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all duration-300 cursor-pointer flex flex-col justify-between ${F.name.includes("Premium")||F.name.includes("Standard")?"border-primary bg-primary/10":"border-gray-700 bg-gray-800"} hover:border-primary`,onClick:()=>b(F),children:[(F.name.includes("Premium")||F.name.includes("Standard"))&&s.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",children:[s.jsx(Tu,{size:12})," Populaire"]}),s.jsxs("div",{className:"flex flex-col items-center text-center pt-4",children:[s.jsx("h3",{className:"text-xl font-semibold mb-1 text-white",children:F.name}),s.jsxs("p",{className:"text-4xl font-bold text-primary my-2 flex items-center gap-2",children:[s.jsx(ZD,{size:28}),F.coin_amount+(F.bonus_coins||0)]}),F.bonus_coins>0&&s.jsxs("p",{className:"text-sm text-primary/80 font-semibold",children:["dont ",F.bonus_coins," pices bonus !"]}),s.jsxs("p",{className:"text-lg font-medium text-white mt-3 bg-black/20 px-4 py-1 rounded-full",children:[F.fcfa_price.toLocaleString("fr-FR")," FCFA"]})]})]},F.id))}),T=()=>s.jsxs("div",{className:"p-4 space-y-6 text-center max-h-[70vh] overflow-y-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Finalisez votre paiement de ",h.fcfa_price.toLocaleString("fr-FR")," FCFA"]}),s.jsx("p",{className:"text-muted-foreground",children:"Scannez le QR code avec votre tlphone ou utilisez le lien ci-dessous."}),s.jsx("div",{className:"p-4 bg-white rounded-lg inline-block",children:s.jsx(zie,{value:p,size:192})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(ze,{onClick:C,variant:"outline",className:"w-full",children:[s.jsx(F2,{className:"w-4 h-4 mr-2"})," Copier le lien"]}),s.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:s.jsxs(ze,{className:"w-full",children:[s.jsx(XD,{className:"w-4 h-4 mr-2"})," Ouvrir le lien"]})})]}),s.jsx(ze,{variant:"ghost",onClick:()=>{g(null),S("")},children:"Retour au choix des packs"})]});return s.jsx(No,{open:e,onOpenChange:t,children:s.jsxs(fo,{className:"sm:max-w-[800px] bg-gray-900 border-gray-700 text-white",children:[s.jsxs(So,{children:[s.jsxs(Co,{className:"text-2xl font-bold flex items-center gap-2 text-primary",children:[s.jsx(Ua,{})," ",h?"Finaliser le Paiement":"Acheter des Pices"]}),s.jsx(tl,{className:"text-gray-400",children:h?"Suivez les instructions pour recharger votre compte.":"Rechargez votre compte pour profiter de toutes les fonctionnalits."})]}),l?s.jsx("div",{className:"flex justify-center items-center h-48",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})}):h?T():A(),s.jsxs(ru,{className:"flex flex-col sm:flex-row items-center justify-between w-full pt-6 border-t border-gray-200 dark:border-gray-700 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D2,{size:16,className:"text-green-500"}),s.jsx("span",{children:"Scuris par"}),s.jsx("span",{className:"font-semibold text-foreground",children:"MoneyFusion"})]}),s.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fm,{size:14}),s.jsx(L2e,{size:14}),s.jsx(Jp,{size:14})]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx(ze,{variant:"ghost",onClick:t,disabled:l,size:"sm",children:"Plus tard"}),s.jsx(ze,{onClick:N,disabled:l||!h,size:"sm",className:"bg-primary hover:bg-primary/90",children:l?s.jsx(Zt,{size:16,className:"animate-spin"}):"Payer maintenant"})]})]})]})})},IIe=()=>{var Q,le;const{t:e}=za(),[t,r]=j.useState([]),[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState(""),[u,f]=j.useState({selectedCategories:[],selectedCountries:[],selectedCities:[],selectedEventTypes:[],priceRange:[0,5e4],quickFilter:null}),h=Lu(),g=Sa(),{userProfile:p,adminConfig:S,forceRefreshUserProfile:b,hasFetchError:N}=Ja(),{user:C}=bn(),[A,T]=j.useState(!1),[F,L]=j.useState(!1),[B,M]=j.useState(new Set),[W,z]=j.useState({isOpen:!1,event:null,cost:0,costFcfa:0,breakdown:null,onConfirm:null}),Z=j.useMemo(()=>[{label:e("events_page.quick_filters.trending"),value:"trending"},{label:e("events_page.quick_filters.popular_by_category"),value:"popular_by_category"},{label:e("events_page.quick_filters.free_weekend"),value:"free_weekend"},{label:e("events_page.quick_filters.ending_soon"),value:"ending_soon",icon:Ll}],[e]),K=j.useCallback(async()=>{if(C)try{const{data:ne,error:ee}=await Pd(()=>Ze.from("protected_event_access").select("event_id").eq("user_id",C.id).eq("status","active"));if(ee)throw ee;const pe=new Set(ne.map(xe=>xe.event_id));M(pe)}catch(ne){console.error("Error fetching unlocked events:",ne)}},[C]),q=j.useCallback(async()=>{if(N){o(!1);return}o(!0);try{const[ne,ee]=await Promise.all([Pd(()=>Ze.from("events_with_categories").select("*").eq("status","active")),Pd(()=>Ze.from("event_categories").select("*").eq("is_active",!0).order("name"))]);if(ne.error)throw ne.error;if(ee.error)throw ee.error;r(ne.data||[]),i(ee.data||[])}catch{lt({title:e("common.error_title"),description:"Impossible de charger les vnements.",variant:"destructive"})}finally{o(!1)}},[N,e]);j.useEffect(()=>{q(),K()},[q,K]),j.useEffect(()=>{var ne;(ne=h.state)!=null&&ne.preselectedEventTypes&&(f(ee=>({...ee,selectedEventTypes:h.state.preselectedEventTypes})),g(h.pathname,{replace:!0,state:{}}))},[h.state,g]);const ie=(ne,ee)=>f(pe=>({...pe,[ne]:pe[ne].includes(ee)?pe[ne].filter(xe=>xe!==ee):[...pe[ne],ee]})),ae=ne=>f(ee=>({...ee,quickFilter:ee.quickFilter===ne?null:ne})),X=()=>{f({selectedCategories:[],selectedCountries:[],selectedCities:[],selectedEventTypes:[],priceRange:[0,5e4],quickFilter:null}),c("")},se=j.useMemo(()=>{let ne=t.filter(pe=>{const xe=l===""||pe.title.toLowerCase().includes(l.toLowerCase())||pe.description&&pe.description.toLowerCase().includes(l.toLowerCase()),Ne=u.selectedCategories.length===0||u.selectedCategories.includes(pe.category_slug),Se=u.selectedCountries.length===0||u.selectedCountries.includes(pe.country),je=u.selectedCities.length===0||u.selectedCities.includes(pe.city),Ge=u.selectedEventTypes.length===0||u.selectedEventTypes.includes(pe.event_type);return xe&&Ne&&Se&&je&&Ge});u.quickFilter;const ee=new Date;return ee.setDate(ee.getDate()-1),ne.sort((pe,xe)=>{const Ne=B.has(pe.id),Se=B.has(xe.id);if(Ne&&!Se)return 1;if(!Ne&&Se)return-1;const je=new Date(pe.created_at)>ee,Ge=new Date(xe.created_at)>ee;return je&&!Ge?-1:!je&&Ge?1:new Date(pe.event_date)-new Date(xe.event_date)})},[t,l,u,B]),he=async ne=>{try{const{data:ee,error:pe}=await Pd(()=>Ze.rpc("access_protected_event",{p_event_id:ne.id,p_user_id:C.id},{method:"POST"}));if(pe)throw pe;if(!ee.success)throw new Error(ee.message);M(xe=>new Set(xe).add(ne.id)),await b(),lt({title:e("events_page.unlock_modal.success_title"),description:e("events_page.unlock_modal.success_desc",{title:ne.title}),className:"bg-green-600 text-white"}),g(`/event/${ne.id}`)}catch(ee){ee.message.includes("Solde insuffisant")?T(!0):lt({title:e("common.error_title"),description:ee.message,variant:"destructive"})}},ce=async ne=>{if(!C){g("/auth");return}if(!B.has(ne.id)&&ne.event_type!=="protected")try{await Ze.from("user_interactions").insert({user_id:C.id,event_id:ne.id,interaction_type:"view"})}catch(Ne){console.error("Failed to log view interaction:",Ne)}const ee=p&&["super_admin","admin","secretary"].includes(p.user_type),pe=C&&ne.organizer_id===C.id;if(B.has(ne.id)||pe||ee||ne.event_type!=="protected")g(`/event/${ne.id}`);else{const Se=2*((S==null?void 0:S.coin_to_fcfa_rate)||10),je=await bl.getWalletBalances(C.id);if(je.total<2){T(!0);return}const Ge=Math.min(je.free_coin_balance,2),De=2-Ge;z({isOpen:!0,event:ne,cost:2,costFcfa:Se,breakdown:{free:Ge,paid:De},onConfirm:()=>he(ne)})}},ge=j.useMemo(()=>u.selectedCountries.length===0?Object.values(H2).flat().slice(0,100):u.selectedCountries.reduce((ne,ee)=>ne.concat(H2[ee]||[]),[]),[u.selectedCountries]),we=[{name:e("home_page.event_types.standard"),value:"standard"},{name:e("home_page.event_types.raffles"),value:"raffle"},{name:e("home_page.event_types.voting"),value:"voting"},{name:e("home_page.event_types.stands"),value:"stand_rental"},{name:e("home_page.event_types.ticketing"),value:"ticketing"},{name:"Protg",value:"protected"}],Ce=u.selectedCategories.length+u.selectedCountries.length+u.selectedCities.length+u.selectedEventTypes.length+(u.quickFilter?1:0);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("events_page.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("events_page.subtitle")})]}),s.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("events_page.title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:e("events_page.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx($l,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(rr,{placeholder:e("events_page.search_placeholder"),value:l,onChange:ne=>c(ne.target.value),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary"})]}),s.jsxs(Yte,{children:[s.jsx(Xte,{asChild:!0,children:s.jsxs(ze,{variant:"outline",className:"h-12 rounded-full relative",children:[s.jsx(M2e,{className:"w-4 h-4 mr-2"}),e("events_page.filters")," ",Ce>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs",children:Ce})]})}),s.jsxs(H7,{side:"right",className:"w-[300px] sm:w-[400px] flex flex-col",children:[s.jsx(q7,{children:s.jsx(K7,{children:e("events_page.filters")})}),s.jsxs("div",{className:"py-4 space-y-6 flex-grow overflow-y-auto pr-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.event_types")}),s.jsx("div",{className:"space-y-2",children:we.map(ne=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Su,{id:`type-${ne.value}`,checked:u.selectedEventTypes.includes(ne.value),onCheckedChange:()=>ie("selectedEventTypes",ne.value)}),s.jsx(kt,{htmlFor:`type-${ne.value}`,className:"cursor-pointer",children:ne.name})]},ne.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.categories")}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.map(ne=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Su,{id:`cat-${ne.id}`,checked:u.selectedCategories.includes(ne.slug),onCheckedChange:()=>ie("selectedCategories",ne.slug)}),s.jsx(kt,{htmlFor:`cat-${ne.id}`,className:"cursor-pointer",children:ne.name})]},ne.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.countries")}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l5.map(ne=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Su,{id:`country-${ne.code}`,checked:u.selectedCountries.includes(ne.name),onCheckedChange:()=>ie("selectedCountries",ne.name)}),s.jsx(kt,{htmlFor:`country-${ne.code}`,className:"cursor-pointer",children:ne.name})]},ne.code))})]}),ge.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.cities")}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ge.map(ne=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Su,{id:`city-${ne}`,checked:u.selectedCities.includes(ne),onCheckedChange:()=>ie("selectedCities",ne)}),s.jsx(kt,{htmlFor:`city-${ne}`,className:"cursor-pointer",children:ne})]},ne))})]})]}),s.jsx(G7,{children:s.jsx(ze,{variant:"outline",onClick:X,children:e("events_page.reset")})})]})]})]}),s.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:Z.map(ne=>s.jsxs(ze,{variant:u.quickFilter===ne.value?"default":"secondary",size:"sm",onClick:()=>ae(ne.value),className:"rounded-full",children:[ne.icon&&s.jsx(ne.icon,{className:`w-4 h-4 mr-2 ${ne.value==="ending_soon"?"text-red-400":""}`})," ",ne.label]},ne.value))})]}),a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})}):N?s.jsxs("div",{className:"text-center py-16 flex flex-col items-center",children:[s.jsx(Ll,{className:"w-16 h-16 text-destructive mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-destructive",children:e("home_page.loading_error.title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:e("home_page.loading_error.description")}),s.jsxs(ze,{onClick:()=>window.location.reload(),children:[s.jsx(j_,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):se.length>0?s.jsx(er.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05},children:se.map(ne=>s.jsx(aE,{event:ne,onClick:()=>ce(ne),isUnlocked:B.has(ne.id)||C&&ne.organizer_id===C.id||p&&["super_admin","admin","secretary"].includes(p.user_type)},ne.id))}):s.jsxs("div",{className:"text-center py-16 flex flex-col items-center",children:[s.jsx(Ll,{className:"w-16 h-16 text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("events_page.no_events_found.title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:e("events_page.no_events_found.description")}),s.jsxs(ze,{onClick:X,children:[s.jsx(j_,{className:"w-4 h-4 mr-2"}),e("events_page.no_events_found.reset_button")]})]})]}),s.jsx(P0,{isOpen:A,onClose:()=>T(!1),onProceed:()=>{T(!1),L(!0)}}),s.jsx(vE,{isOpen:F,onClose:()=>L(!1)}),s.jsx(nl,{open:W.isOpen,onOpenChange:ne=>!ne&&z({isOpen:!1,event:null,cost:0,costFcfa:0,breakdown:null,onConfirm:null}),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:e("events_page.unlock_modal.title")}),s.jsx(Ko,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[s.jsx(Ua,{className:"w-12 h-12 text-primary mb-4"}),s.jsx("p",{className:"text-lg font-bold mb-2",children:e("events_page.unlock_modal.description",{title:(Q=W.event)==null?void 0:Q.title,cost:W.cost,costFcfa:(le=W.costFcfa)==null?void 0:le.toLocaleString("fr-FR")})}),W.breakdown&&s.jsxs("div",{className:"w-full text-sm bg-muted/50 p-3 rounded border border-border mt-2 mb-2 text-left",children:[s.jsx("p",{className:"font-semibold mb-2 text-xs text-muted-foreground uppercase",children:"Dtail du paiement :"}),s.jsxs("ul",{className:"space-y-1",children:[W.breakdown.free>0&&s.jsxs("li",{className:"flex justify-between text-green-600 font-medium",children:[s.jsx("span",{children:" Pices gratuites :"}),s.jsxs("span",{children:["-",W.breakdown.free,""]})]}),W.breakdown.paid>0&&s.jsxs("li",{className:"flex justify-between text-blue-600 font-medium",children:[s.jsx("span",{children:" Pices achetes :"}),s.jsxs("span",{children:["-",W.breakdown.paid,""]})]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-start gap-2 mt-2",children:[s.jsx(Md,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:e("events_page.unlock_modal.info")})]})]})})]}),s.jsxs(al,{children:[s.jsx(sl,{children:e("common.cancel")}),s.jsx(il,{onClick:W.onConfirm,className:"bg-primary",children:e("common.confirm")})]})]})})]})},FIe=()=>{const e=Sa(),{t}=za(),r=[{type:"simple",title:t("create_event_page.types.simple.title")||"vnement Simple",description:t("create_event_page.types.simple.desc")||"Crez un vnement basique sans options avances pour informer votre communaut.",icon:Nu,path:"/create-simple-event",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600",shadowColor:"shadow-blue-500/20",textColor:"text-white",iconColor:"text-white"},{type:"ticketing",title:t("create_event_page.types.ticketing.title")||"Billetterie",description:t("create_event_page.types.ticketing.desc")||"Vendez des billets (QR code), grez les entres et suivez vos ventes en temps rel.",icon:el,path:"/create-ticketing-event",bgColor:"bg-gradient-to-br from-red-500 to-red-600",shadowColor:"shadow-red-500/20",textColor:"text-white",iconColor:"text-white"},{type:"voting",title:t("create_event_page.types.voting.title")||"Vote & Comptition",description:t("create_event_page.types.voting.desc")||"Organisez des concours, lections ou sondages payants ou gratuits.",icon:e1,path:"/create-voting-event",bgColor:"bg-gradient-to-br from-green-500 to-green-600",shadowColor:"shadow-green-500/20",textColor:"text-white",iconColor:"text-white"},{type:"raffle",title:t("create_event_page.types.raffle.title")||"Tombola",description:t("create_event_page.types.raffle.desc")||"Lancez une tombola avec tirage au sort automatique et quitable.",icon:qg,path:"/create-raffle-event",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600",shadowColor:"shadow-purple-500/20",textColor:"text-white",iconColor:"text-white"},{type:"stand_rental",title:t("create_event_page.types.stand.title")||"Location de Stands",description:t("create_event_page.types.stand.desc")||"Grez la location d'espaces pour vos exposants lors de foires ou salons.",icon:S0,path:"/create-stand-event",bgColor:"bg-gradient-to-br from-teal-500 to-teal-600",shadowColor:"shadow-teal-500/20",textColor:"text-white",iconColor:"text-white"}],n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-background/50",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:t("create_event_page.meta.title")||"Crer un vnement | BonPlanInfos"}),s.jsx("meta",{name:"description",content:t("create_event_page.meta.description")||"Choisissez le type d'vnement que vous souhaitez organiser."})]}),s.jsxs("main",{className:"container mx-auto max-w-6xl px-4 py-12",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center w-full relative mb-6",children:[s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"absolute left-0 lg:left-auto lg:-ml-16",children:s.jsx(eu,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:t("create_event_page.title")||"Crer un vnement"})]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:t("create_event_page.subtitle")||"Slectionnez le format qui correspond le mieux  vos besoins parmi nos 5 options disponibles."})]}),s.jsx(er.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",variants:n,initial:"hidden",animate:"visible",children:r.map(a=>s.jsx(er.div,{variants:i,className:"h-full",children:s.jsxs(Yt,{className:`group cursor-pointer h-full overflow-hidden border-0 relative transition-all duration-300 hover:-translate-y-1 hover:shadow-xl ${a.bgColor} ${a.shadowColor}`,onClick:()=>e(a.path),children:[s.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-24 h-24 rounded-full bg-white/10 blur-2xl transition-transform duration-500 group-hover:scale-150"}),s.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-20 h-20 rounded-full bg-black/10 blur-2xl transition-transform duration-500 group-hover:scale-150"}),s.jsxs(Qt,{className:"p-6 sm:p-8 flex flex-col items-start text-left h-full relative z-10",children:[s.jsx("div",{className:"p-3 rounded-2xl bg-white/20 backdrop-blur-sm mb-6 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3",children:s.jsx(a.icon,{className:`w-8 h-8 ${a.iconColor}`})}),s.jsx("h3",{className:`font-bold text-xl sm:text-2xl mb-3 ${a.textColor}`,children:a.title}),s.jsx("p",{className:"text-white/90 text-sm sm:text-base leading-relaxed",children:a.description}),s.jsxs("div",{className:"mt-auto pt-6 w-full flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-white/80",children:"Commencer"}),s.jsx(eu,{className:"w-4 h-4 text-white rotate-180"})]})]})]})},a.type))}),s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-16",children:s.jsx(Yt,{className:"bg-card border-muted",children:s.jsxs(Qt,{className:"p-8 flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[s.jsx("div",{className:"p-4 rounded-full bg-primary/10 text-primary",children:s.jsx(id,{className:"w-8 h-8"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:t("create_event_page.help.title")||"Besoin d'aide pour choisir ?"}),s.jsx("p",{className:"text-muted-foreground",children:t("create_event_page.help.description")||"Consultez notre guide dtaill pour comprendre les fonctionnalits de chaque type d'vnement et maximiser votre impact."})]}),s.jsxs(ze,{size:"lg",onClick:()=>e("/guide-utilisation"),className:"whitespace-nowrap",children:[s.jsx(Nu,{className:"w-4 h-4 mr-2"}),t("create_event_page.help.button")||"Voir le guide"]})]})})})]})]})},DIe=["fr","en"],RIe=(e,t,r={})=>{var u;const n="BonPlanInfos",i={fr:"La plateforme qui rcompense vos dcouvertes d'vnements en Afrique. Trouvez des bons plans, gagnez de l'argent et vivez des expriences uniques.",en:"The platform that rewards your event discoveries in Africa. Find great deals, earn money and live unique experiences."},a={fr:"bons plans, vnements afrique, promotions, sorties, concerts, festivals, gagner de l'argent, Abidjan, Dakar, Cotonou, Lom, Ouagadougou, rcompenses, pices, tlchargement",en:"deals, africa events, promotions, outings, concerts, festivals, earn money, Abidjan, Dakar, Cotonou, Lom, Ouagadougou, rewards, coins, downloads"},o=t("language")||"fr",l=a[o]||a.fr;return{"/":{title:`${t("nav.home","Accueil")} - ${n}`,description:t("home.meta.description",i[o]),keywords:l},"/events":{title:`${t("nav.events","vnements")} - ${n}`,description:o==="fr"?"Dcouvrez tous les vnements, concerts et activits prs de chez vous en Afrique. Rservez vos places et gagnez des rcompenses.":"Discover all events, concerts and activities near you in Africa. Book your tickets and earn rewards.",keywords:`vnements, concerts, activits, ${l}`},"/discover":{title:`Dcouvrir - ${n}`,description:o==="fr"?"Explorez les meilleurs vnements et promotions dans votre ville. Ne manquez plus jamais une occasion de vous amuser.":"Explore the best events and promotions in your city. Never miss a chance to have fun again.",keywords:`dcouvrir, explorer, ${l}`},"/event":{title:`${r.title||t("nav.event","vnement")} - ${n}`,description:r.description||(o==="fr"?"Dcouvrez tous les dtails de cet vnement exclusif. Rservez maintenant et ne manquez pas cette exprience unique.":"Discover all the details of this exclusive event. Book now and don't miss this unique experience."),keywords:`${r.title||""}, ${r.category||""}, ${r.city||""}, ${l}`},"/marketing":{title:`Partenariat - ${n}`,description:o==="fr"?"Devenez partenaire BonPlanInfos et lancez un business digital rentable dans votre rgion. Rejoignez notre rseau d'ambassadeurs.":"Become a BonPlanInfos partner and launch a profitable digital business in your region. Join our ambassador network.",keywords:`partenariat, franchise, business, ${l}`},"/partner-signup":{title:`Devenir Partenaire - ${n}`,description:o==="fr"?"Rejoignez le rseau BonPlanInfos en tant que partenaire. Dveloppez votre business et gnrez des revenus dans le digital.":"Join the BonPlanInfos network as a partner. Develop your business and generate digital income.",keywords:`devenir partenaire, inscription, ${l}`},"/pricing":{title:`Tarifs & Packs - ${n}`,description:o==="fr"?"Dcouvrez nos packs de pices et nos offres pour les organisateurs et les partenaires. Choisissez la formule qui vous convient.":"Discover our coin packs and offers for organizers and partners. Choose the plan that suits you.",keywords:`tarifs, prix, packs, abonnements, ${l}`},"/about":{title:` Propos - ${n}`,description:o==="fr"?"Dcouvrez la mission, l'quipe et les valeurs de BonPlanInfos, la plateforme d'vnements qui vous rcompense en Afrique.":"Discover the mission, team and values of BonPlanInfos, the event platform that rewards you in Africa.",keywords:` propos, mission, quipe, valeurs, ${l}`},"/wallet":{title:`Portefeuille - ${n}`,description:o==="fr"?"Grez votre portefeuille BonPlanInfos. Consultez votre solde de pices, vos transactions et retirez vos gains.":"Manage your BonPlanInfos wallet. Check your coin balance, transactions and withdraw your earnings.",keywords:`portefeuille, pices, transactions, retraits, ${l}`},"/profile":{title:`Profil - ${n}`,description:o==="fr"?"Grez votre profil BonPlanInfos. Personnalisez vos prfrences et consultez votre activit.":"Manage your BonPlanInfos profile. Customize your preferences and view your activity.",keywords:`profil, compte, paramtres, ${l}`}}[e]||{title:`${n} - ${(u=i[o])==null?void 0:u.split(".")[0]}`,description:i[o],keywords:l}},yE=({pageData:e={}})=>{const{i18n:t}=za(),r=Lu(),n=r.pathname.split("/").filter(N=>N),i=n[0]?`/${n[0]}`:"/",a=n[0]==="event"&&n[1],l=RIe(a?"/event":i,t.t,e),c=e.title||l.title,u=e.description||l.description,f=e.keywords||l.keywords,g=(()=>e.ogImage?`https://bonplaninfos.imgix.net/${e.ogImage.split("/").pop()}?auto=format&fit=max&w=1200&h=630`:e.cover_image?`https://bonplaninfos.imgix.net/${e.cover_image.split("/").pop()}?auto=format&fit=max&w=1200&h=630`:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/08e3ecec378eb185b9bc3412f675f660.png")(),p=`https://bonplaninfos.net${r.pathname}`,S=t.language||"fr",b=()=>{const N={"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://bonplaninfos.net/#website",url:"https://bonplaninfos.net",name:"BonPlanInfos",description:l.description,inLanguage:S,potentialAction:{"@type":"SearchAction",target:"https://bonplaninfos.net/events?q={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"Organization","@id":"https://bonplaninfos.net/#organization",name:"BonPlanInfos",url:"https://bonplaninfos.net",logo:{"@type":"ImageObject",url:"https://bonplaninfos.net/logo.png",width:200,height:200},description:l.description}]};return a&&e&&N["@graph"].push({"@type":"Event",name:e.title,description:e.description,startDate:e.event_date,endDate:e.end_date,location:{"@type":"Place",name:e.venue||e.city,address:{"@type":"PostalAddress",addressLocality:e.city,addressCountry:e.country}},organizer:{"@type":"Organization",name:e.organizer_name||"BonPlanInfos"},image:g}),N};return s.jsxs(Fi,{children:[s.jsx("html",{lang:S}),s.jsx("title",{children:c}),s.jsx("meta",{name:"description",content:u}),s.jsx("meta",{name:"keywords",content:f}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("link",{rel:"canonical",href:p}),DIe.map(N=>s.jsx("link",{rel:"alternate",hrefLang:N,href:`https://bonplaninfos.net/${N}${r.pathname}`},N)),s.jsx("link",{rel:"alternate",hrefLang:"x-default",href:p}),s.jsx("meta",{property:"og:title",content:c}),s.jsx("meta",{property:"og:description",content:u}),s.jsx("meta",{property:"og:url",content:p}),s.jsx("meta",{property:"og:site_name",content:"BonPlanInfos"}),s.jsx("meta",{property:"og:image",content:g}),s.jsx("meta",{property:"og:image:width",content:"1200"}),s.jsx("meta",{property:"og:image:height",content:"630"}),s.jsx("meta",{property:"og:type",content:a?"event":"website"}),s.jsx("meta",{property:"og:locale",content:S==="fr"?"fr_FR":"en_US"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:c}),s.jsx("meta",{name:"twitter:description",content:u}),s.jsx("meta",{name:"twitter:image",content:g}),s.jsx("meta",{name:"twitter:site",content:"@bonplaninfos"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(b())}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"theme-color",content:"#3B82F6"}),s.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"})]})};function WV(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jse(...e){return t=>{let r=!1;const n=e.map(i=>{const a=WV(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():WV(e[i],null)}}}}function jx(...e){return j.useCallback(jse(...e),e)}var Ese=j.forwardRef((e,t)=>{const{children:r,...n}=e,i=j.Children.toArray(r),a=i.find(LIe);if(a){const o=a.props.children,l=i.map(c=>c===a?j.Children.count(o)>1?j.Children.only(null):j.isValidElement(o)?o.props.children:null:c);return s.jsx(ZO,{...n,ref:t,children:j.isValidElement(o)?j.cloneElement(o,void 0,l):null})}return s.jsx(ZO,{...n,ref:t,children:r})});Ese.displayName="Slot";var ZO=j.forwardRef((e,t)=>{const{children:r,...n}=e;if(j.isValidElement(r)){const i=$Ie(r);return j.cloneElement(r,{...BIe(n,r.props),ref:t?jse(t,i):i})}return j.Children.count(r)>1?j.Children.only(null):null});ZO.displayName="SlotClone";var MIe=({children:e})=>s.jsx(s.Fragment,{children:e});function LIe(e){return j.isValidElement(e)&&e.type===MIe}function BIe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function $Ie(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var UIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],d5=UIe.reduce((e,t)=>{const r=j.forwardRef((n,i)=>{const{asChild:a,...o}=n,l=a?Ese:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),QO=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{};function zIe(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var f5=e=>{const{present:t,children:r}=e,n=VIe(t),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=jx(n.ref,WIe(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};f5.displayName="Presence";function VIe(e){const[t,r]=j.useState(),n=j.useRef({}),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=zIe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=sN(n.current);a.current=l==="mounted"?u:"none"},[l]),QO(()=>{const u=n.current,f=i.current;if(f!==e){const g=a.current,p=sN(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),QO(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const b=sN(n.current).includes(p.animationName);if(p.target===t&&b&&(c("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=p=>{p.target===t&&(a.current=sN(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function sN(e){return(e==null?void 0:e.animationName)||"none"}function WIe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function HIe(e,t=[]){let r=[];function n(a,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...S}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,N=j.useMemo(()=>S,Object.values(S));return s.jsx(b.Provider,{value:N,children:p})};u.displayName=a+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,S=j.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,qIe(i,...t)]}function qIe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function vg(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var GIe=j.createContext(void 0);function KIe(e){const t=j.useContext(GIe);return e||t||"ltr"}function YIe(e,[t,r]){return Math.min(r,Math.max(t,e))}function Rg(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function XIe(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var zR="ScrollArea",[Tse,Qvt]=HIe(zR),[JIe,kf]=Tse(zR),kse=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=j.useState(null),[u,f]=j.useState(null),[h,g]=j.useState(null),[p,S]=j.useState(null),[b,N]=j.useState(null),[C,A]=j.useState(0),[T,F]=j.useState(0),[L,B]=j.useState(!1),[M,W]=j.useState(!1),z=jx(t,K=>c(K)),Z=KIe(i);return s.jsx(JIe,{scope:r,type:n,dir:Z,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:g,scrollbarX:p,onScrollbarXChange:S,scrollbarXEnabled:L,onScrollbarXEnabledChange:B,scrollbarY:b,onScrollbarYChange:N,scrollbarYEnabled:M,onScrollbarYEnabledChange:W,onCornerWidthChange:A,onCornerHeightChange:F,children:s.jsx(d5.div,{dir:Z,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});kse.displayName=zR;var Pse="ScrollAreaViewport",Ose=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=kf(Pse,r),l=j.useRef(null),c=jx(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(d5.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Ose.displayName=Pse;var D0="ScrollAreaScrollbar",VR=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=kf(D0,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return j.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(ZIe,{...n,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(QIe,{...n,ref:t,forceMount:r}):i.type==="auto"?s.jsx(Ise,{...n,ref:t,forceMount:r}):i.type==="always"?s.jsx(WR,{...n,ref:t}):null});VR.displayName=D0;var ZIe=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=kf(D0,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(f5,{present:r||a,children:s.jsx(Ise,{"data-state":a?"visible":"hidden",...n,ref:t})})}),QIe=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=kf(D0,e.__scopeScrollArea),a=e.orientation==="horizontal",o=wE(()=>c("SCROLL_END"),100),[l,c]=XIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),j.useEffect(()=>{const u=i.viewport,f=a?"scrollLeft":"scrollTop";if(u){let h=u[f];const g=()=>{const p=u[f];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[i.viewport,a,c,o]),s.jsx(f5,{present:r||l!=="hidden",children:s.jsx(WR,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Rg(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Rg(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ise=j.forwardRef((e,t)=>{const r=kf(D0,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=j.useState(!1),l=e.orientation==="horizontal",c=wE(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return X2(r.viewport,c),X2(r.content,c),s.jsx(f5,{present:n||a,children:s.jsx(WR,{"data-state":a?"visible":"hidden",...i,ref:t})})}),WR=j.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=kf(D0,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Lse(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function h(g,p){return iFe(g,o.current,l,p)}return r==="horizontal"?s.jsx(eFe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollLeft,p=HV(g,l,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=h(g,i.dir))}}):r==="vertical"?s.jsx(tFe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollTop,p=HV(g,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=h(g))}}):null}),eFe=j.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=kf(D0,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=jx(t,c,a.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Dse,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bE(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),$se(g,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bC(o.paddingLeft),paddingEnd:bC(o.paddingRight)}})}})}),tFe=j.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=kf(D0,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=jx(t,c,a.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Dse,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bE(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),$se(g,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bC(o.paddingTop),paddingEnd:bC(o.paddingBottom)}})}})}),[rFe,Fse]=Tse(D0),Dse=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...g}=e,p=kf(D0,r),[S,b]=j.useState(null),N=jx(t,z=>b(z)),C=j.useRef(null),A=j.useRef(""),T=p.viewport,F=n.content-n.viewport,L=vg(f),B=vg(c),M=wE(h,10);function W(z){if(C.current){const Z=z.clientX-C.current.left,K=z.clientY-C.current.top;u({x:Z,y:K})}}return j.useEffect(()=>{const z=Z=>{const K=Z.target;(S==null?void 0:S.contains(K))&&L(Z,F)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[T,S,F,L]),j.useEffect(B,[n,B]),X2(S,M),X2(p.content,M),s.jsx(rFe,{scope:r,scrollbar:S,hasThumb:i,onThumbChange:vg(a),onThumbPointerUp:vg(o),onThumbPositionChange:B,onThumbPointerDown:vg(l),children:s.jsx(d5.div,{...g,ref:N,style:{position:"absolute",...g.style},onPointerDown:Rg(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),C.current=S.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),W(z))}),onPointerMove:Rg(e.onPointerMove,W),onPointerUp:Rg(e.onPointerUp,z=>{const Z=z.target;Z.hasPointerCapture(z.pointerId)&&Z.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=A.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),yC="ScrollAreaThumb",Rse=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Fse(yC,e.__scopeScrollArea);return s.jsx(f5,{present:r||i.hasThumb,children:s.jsx(nFe,{ref:t,...n})})}),nFe=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=kf(yC,r),o=Fse(yC,r),{onThumbPositionChange:l}=o,c=jx(t,h=>o.onThumbChange(h)),u=j.useRef(void 0),f=wE(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const h=a.viewport;if(h){const g=()=>{if(f(),!u.current){const p=sFe(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[a.viewport,f,l]),s.jsx(d5.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Rg(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),S=h.clientX-p.left,b=h.clientY-p.top;o.onThumbPointerDown({x:S,y:b})}),onPointerUp:Rg(e.onPointerUp,o.onThumbPointerUp)})});Rse.displayName=yC;var HR="ScrollAreaCorner",Mse=j.forwardRef((e,t)=>{const r=kf(HR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(aFe,{...e,ref:t}):null});Mse.displayName=HR;var aFe=j.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=kf(HR,r),[a,o]=j.useState(0),[l,c]=j.useState(0),u=!!(a&&l);return X2(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),X2(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?s.jsx(d5.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bC(e){return e?parseInt(e,10):0}function Lse(e,t){const r=e/t;return isNaN(r)?0:r}function bE(e){const t=Lse(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function iFe(e,t,r,n="ltr"){const i=bE(r),a=i/2,o=t||a,l=i-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return Bse([c,u],h)(e)}function HV(e,t,r="ltr"){const n=bE(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=YIe(e,c);return Bse([0,o],[0,l])(u)}function Bse(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $se(e,t){return e>0&&e<t}var sFe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function wE(e,t){const r=vg(e),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function X2(e,t){const r=vg(t);QO(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var Use=kse,oFe=Ose,lFe=Mse;const z_=Ie.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Use,{ref:n,className:Ir("relative overflow-hidden",e),...r,children:[s.jsx(oFe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(zse,{}),s.jsx(lFe,{})]}));z_.displayName=Use.displayName;const zse=Ie.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(VR,{ref:n,orientation:t,className:Ir("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(Rse,{className:"relative flex-1 rounded-full bg-border"})}));zse.displayName=VR.displayName;const cFe=({event:e,isUnlocked:t,handleShare:r})=>{const{user:n}=bn(),{userProfile:i,forceRefreshUserProfile:a}=Ja(),[o,l]=j.useState({views:e.views_count||0,likes:0,comments:0,shares:0}),[c,u]=j.useState({liked:!1}),[f,h]=j.useState([]),[g,p]=j.useState(""),[S,b]=j.useState({like:!1,comment:!1,action:null}),[N,C]=j.useState(null),A=n&&e.organizer_id===n.id,T=(i==null?void 0:i.user_type)==="super_admin",F=A||T,L=e.event_type==="protected";j.useEffect(()=>{(async()=>{if(!(e!=null&&e.id))return;const{count:Z,error:K}=await Ze.from("user_interactions").select("*",{count:"exact",head:!0}).eq("event_id",e.id).eq("interaction_type","like"),{data:q,error:ie}=await Ze.from("event_comments").select("*, user:profiles(full_name, avatar_url, username)").eq("event_id",e.id).order("created_at",{ascending:!1});if(K||ie?console.error("Error fetching interactions:",K||ie):(l(ae=>({...ae,likes:Z||0,comments:(q==null?void 0:q.length)||0})),h(q||[])),n){const{data:ae,error:X}=await Ze.from("user_interactions").select("id").eq("event_id",e.id).eq("user_id",n.id).eq("interaction_type","like").maybeSingle();X||u(se=>({...se,liked:!!ae}))}})()},[e.id,n]);const B=async()=>{if(!n){lt({title:"Connexion requise",description:"Vous devez tre connect pour aimer.",variant:"destructive"});return}if(!t&&L){lt({title:"Contenu verrouill",description:"Dbloquez l'vnement pour interagir.",variant:"destructive"});return}b(z=>({...z,like:!0}));try{const{data:z,error:Z}=await Ze.rpc("protected_event_interaction",{p_event_id:e.id,p_user_id:n.id,p_interaction_type:"like"});if(Z)throw Z;if(z.success){const K=z.message.includes("retire");l(q=>({...q,likes:K?Math.max(0,q.likes-1):q.likes+1})),u(q=>({...q,liked:!K})),a()}else lt({title:"Erreur",description:z.message,variant:"destructive"})}catch(z){lt({title:"Erreur",description:z.message,variant:"destructive"})}finally{b(z=>({...z,like:!1}))}},M=async z=>{if(z.preventDefault(),!!g.trim()){if(!n){lt({title:"Connexion requise",description:"Vous devez tre connect pour commenter.",variant:"destructive"});return}if(!t&&L&&!F){lt({title:"Contenu verrouill",description:"Dbloquez l'vnement pour commenter.",variant:"destructive"});return}b(Z=>({...Z,comment:!0}));try{const{data:Z,error:K}=await Ze.from("event_comments").insert({event_id:e.id,user_id:n.id,comment_text:g.trim(),is_approved:!0,rating:5}).select("*, user:profiles(full_name, avatar_url, username)").single();if(K)throw K;Z&&(h(q=>[Z,...q]),l(q=>({...q,comments:q.comments+1})),lt({title:"Succs",description:"Commentaire ajout !"}),p(""),a())}catch(Z){console.error(Z),lt({title:"Erreur",description:"Impossible d'ajouter le commentaire.",variant:"destructive"})}finally{b(Z=>({...Z,comment:!1}))}}},W=async()=>{if(N){b(z=>({...z,action:N})),console.log("Action: Suppression du commentaire par l'utilisateur role:",i==null?void 0:i.user_type);try{const{error:z}=await Ze.from("event_comments").delete().eq("id",N);if(z)throw z;h(Z=>Z.filter(K=>K.id!==N)),l(Z=>({...Z,comments:Math.max(0,Z.comments-1)})),lt({title:"Succs",description:"Commentaire supprim"})}catch(z){console.error("Delete error:",z),lt({title:"Erreur",description:"Impossible de supprimer le commentaire.",variant:"destructive"})}finally{b(z=>({...z,action:null})),C(null)}}};return s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("div",{className:"text-center",children:s.jsxs(ze,{variant:"ghost",className:"flex items-center space-x-2 text-muted-foreground cursor-default hover:bg-transparent",children:[s.jsx(Dm,{className:"w-5 h-5"}),s.jsx("span",{children:o.views})]})}),s.jsx("div",{className:"text-center",children:s.jsxs(ze,{variant:"ghost",onClick:B,disabled:S.like,className:`flex items-center space-x-2 transition-colors ${c.liked?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-primary"}`,children:[S.like?s.jsx(Zt,{className:"w-5 h-5 animate-spin"}):s.jsx(vj,{className:`w-5 h-5 ${c.liked?"fill-current":""}`}),s.jsx("span",{children:o.likes})]})}),s.jsxs(No,{children:[s.jsx(o5,{asChild:!0,children:s.jsx("div",{className:"text-center",children:s.jsxs(ze,{variant:"ghost",className:"flex items-center space-x-2 text-muted-foreground hover:text-primary",children:[s.jsx(S_,{className:"w-5 h-5"}),s.jsx("span",{children:o.comments})]})})}),s.jsxs(fo,{className:"sm:max-w-lg",children:[s.jsxs(So,{children:[s.jsxs(Co,{children:["Commentaires ",f.length>0&&`(${f.length})`]}),s.jsx(tl,{className:"hidden",children:"Espace de discussion"})]}),s.jsx(z_,{className:"h-[300px] pr-4 mt-2",children:f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(z=>{var Z,K,q,ie,ae,X;return s.jsx("div",{className:"p-3 rounded-lg bg-muted/50 group relative",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs shrink-0",children:((K=(Z=z.user)==null?void 0:Z.full_name)==null?void 0:K.charAt(0))||((ie=(q=z.user)==null?void 0:q.username)==null?void 0:ie.charAt(0))||"U"}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-sm font-semibold truncate",children:((ae=z.user)==null?void 0:ae.full_name)||((X=z.user)==null?void 0:X.username)||"Anonyme"}),F&&s.jsx(ze,{size:"icon",variant:"ghost",className:"h-6 w-6 text-muted-foreground hover:text-red-600 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2",onClick:()=>C(z.id),disabled:S.action===z.id,children:S.action===z.id?s.jsx(Zt,{className:"w-3 h-3 animate-spin"}):s.jsx(Vo,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-sm text-foreground mt-1 break-words pr-6",children:z.comment_text})]})]})},z.id)})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[s.jsx(S_,{className:"w-12 h-12 mb-2 opacity-20"}),s.jsx("p",{children:"Aucun commentaire pour le moment."}),s.jsx("p",{className:"text-sm opacity-70",children:"Soyez le premier  donner votre avis !"})]})}),s.jsx(ru,{className:"mt-4",children:s.jsxs("form",{onSubmit:M,className:"w-full flex items-center space-x-2",children:[s.jsx(uc,{value:g,onChange:z=>p(z.target.value),placeholder:"Ajouter un commentaire...",className:"flex-grow min-h-[40px] max-h-[100px]",rows:1}),s.jsx(ze,{type:"submit",disabled:S.comment,className:"shrink-0",children:S.comment?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):"Envoyer"})]})})]})]}),s.jsx(nl,{open:!!N,onOpenChange:()=>C(null),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"tes-vous sr de vouloir supprimer ce commentaire ?"}),s.jsx(Ko,{children:"Cette action est irrversible."})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Annuler"}),s.jsx(il,{onClick:W,className:"bg-red-600 hover:bg-red-700 text-white",children:"Supprimer"})]})]})}),s.jsx("div",{className:"text-center",children:s.jsxs(ze,{variant:"ghost",onClick:r,className:"flex items-center space-x-2 text-muted-foreground hover:text-primary",children:[s.jsx(Qp,{className:"w-5 h-5"}),s.jsx("span",{children:o.shares})]})})]})},uFe=({winners:e})=>{var i,a,o,l,c,u,f,h,g,p,S,b;if(!e||e.length===0)return null;const t=e.find(N=>N.rank===1),r=e.find(N=>N.rank===2),n=e.find(N=>N.rank===3);return s.jsxs("div",{className:"flex justify-center items-end gap-2 sm:gap-4 my-8 min-h-[250px]",children:[r&&s.jsxs(er.div,{initial:{height:0,opacity:0},animate:{height:"140px",opacity:1},transition:{delay:.5,duration:.5},className:"flex flex-col items-center w-24 sm:w-32",children:[s.jsxs("div",{className:"mb-2 text-center",children:[(i=r.profiles)!=null&&i.avatar_url?s.jsx("img",{src:r.profiles.avatar_url,alt:"",className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 border-gray-300 object-cover"}):s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-700 text-xl",children:(o=(a=r.profiles)==null?void 0:a.full_name)==null?void 0:o.charAt(0)}),s.jsx("p",{className:"text-xs sm:text-sm text-white font-bold mt-1 truncate max-w-[100px]",children:(l=r.profiles)==null?void 0:l.full_name}),s.jsxs("div",{className:"text-[10px] text-gray-300",children:["Ticket #",r.ticket_number]})]}),s.jsx("div",{className:"w-full h-full bg-gradient-to-t from-gray-700 to-gray-500 rounded-t-lg flex flex-col items-center justify-end p-2 border-t-4 border-gray-300 shadow-[0_0_15px_rgba(192,192,192,0.3)]",children:s.jsx("span",{className:"text-3xl font-bold text-gray-200",children:"2"})})]}),t&&s.jsxs(er.div,{initial:{height:0,opacity:0},animate:{height:"180px",opacity:1},transition:{delay:.2,duration:.6},className:"flex flex-col items-center w-28 sm:w-40 z-10",children:[s.jsxs("div",{className:"mb-2 text-center relative",children:[s.jsx(Zp,{className:"w-8 h-8 text-yellow-400 absolute -top-8 left-1/2 -translate-x-1/2 animate-bounce"}),(c=t.profiles)!=null&&c.avatar_url?s.jsx("img",{src:t.profiles.avatar_url,alt:"",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 border-yellow-400 object-cover shadow-lg"}):s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-yellow-400 flex items-center justify-center font-bold text-yellow-900 text-2xl shadow-lg",children:(f=(u=t.profiles)==null?void 0:u.full_name)==null?void 0:f.charAt(0)}),s.jsx("p",{className:"text-sm sm:text-base text-yellow-300 font-bold mt-1 truncate max-w-[120px]",children:(h=t.profiles)==null?void 0:h.full_name}),s.jsxs("div",{className:"text-xs text-yellow-200",children:["Ticket #",t.ticket_number]})]}),s.jsx("div",{className:"w-full h-full bg-gradient-to-t from-yellow-700 to-yellow-500 rounded-t-lg flex flex-col items-center justify-end p-2 border-t-4 border-yellow-300 shadow-[0_0_25px_rgba(234,179,8,0.5)]",children:s.jsx("span",{className:"text-5xl font-bold text-yellow-100",children:"1"})})]}),n&&s.jsxs(er.div,{initial:{height:0,opacity:0},animate:{height:"110px",opacity:1},transition:{delay:.8,duration:.5},className:"flex flex-col items-center w-24 sm:w-32",children:[s.jsxs("div",{className:"mb-2 text-center",children:[(g=n.profiles)!=null&&g.avatar_url?s.jsx("img",{src:n.profiles.avatar_url,alt:"",className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 border-amber-600 object-cover"}):s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-amber-600 flex items-center justify-center font-bold text-amber-100 text-xl",children:(S=(p=n.profiles)==null?void 0:p.full_name)==null?void 0:S.charAt(0)}),s.jsx("p",{className:"text-xs sm:text-sm text-white font-bold mt-1 truncate max-w-[100px]",children:(b=n.profiles)==null?void 0:b.full_name}),s.jsxs("div",{className:"text-[10px] text-amber-300",children:["Ticket #",n.ticket_number]})]}),s.jsx("div",{className:"w-full h-full bg-gradient-to-t from-amber-800 to-amber-600 rounded-t-lg flex flex-col items-center justify-end p-2 border-t-4 border-amber-500 shadow-[0_0_15px_rgba(217,119,6,0.3)]",children:s.jsx("span",{className:"text-3xl font-bold text-amber-200",children:"3"})})]})]})},dFe=({raffleId:e,onClose:t})=>{const{user:r}=bn(),[n,i]=j.useState([]),[a,o]=j.useState(!1),[l,c]=j.useState(["Initialisation du tirage..."]),[u,f]=j.useState([]),[h,g]=j.useState(!1);j.useEffect(()=>{if(a)return;const S=setInterval(()=>{const b=Array.from({length:5},()=>Math.floor(Math.random()*1e4).toString().padStart(4,"0"));i(b)},80);return()=>clearInterval(S)},[a]),j.useEffect(()=>{if(a)return;const S=[" Mlange des tickets..."," Vrification des participations..."," Calcul des probabilits..."," Le moment de vrit approche..."," Slection des gagnants..."];let b=0;const N=setInterval(()=>{b<S.length&&(c(C=>[...C.slice(-2),S[b]]),b++)},1500);return()=>clearInterval(N)},[a]);const p=j.useCallback(async()=>{g(!0);try{const{data:S,error:b}=await Ze.from("raffle_tickets").select(`
                rank,
                ticket_number,
                user_id,
                profiles:user_id (
                    id,
                    full_name,
                    username,
                    avatar_url
                )
            `).eq("raffle_event_id",e).not("rank","is",null).order("rank",{ascending:!0});if(b)throw b;const N=new Map;S==null||S.forEach(A=>{const T=A.user_id,F=N.get(T);(!F||A.rank<F.rank)&&N.set(T,A)});const C=Array.from(N.values()).sort((A,T)=>A.rank-T.rank).map((A,T)=>({...A,rank:T+1}));f(C),o(!0)}catch(S){console.error("Error fetching rankings",S)}finally{g(!1)}},[e]);return j.useEffect(()=>{(async()=>{const{data:N}=await Ze.from("raffle_events").select("status").eq("id",e).single();(N==null?void 0:N.status)==="completed"&&p()})();const b=Ze.channel(`draw-listener-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"raffle_events",filter:`id=eq.${e}`},N=>{N.new.status==="completed"&&setTimeout(p,2e3)}).subscribe();return()=>{Ze.removeChannel(b)}},[e,p]),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 overflow-y-auto",children:s.jsxs(er.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-4xl relative",children:[s.jsx(ze,{onClick:t,variant:"ghost",className:"absolute -top-12 right-0 text-white hover:bg-white/20",children:s.jsx(wl,{className:"w-6 h-6"})}),s.jsxs(Yt,{className:"border-4 border-yellow-500 bg-gradient-to-br from-indigo-900 to-black text-white shadow-2xl overflow-hidden min-h-[500px]",children:[s.jsxs("div",{className:"text-center py-6 border-b border-white/10 relative",children:[s.jsx(id,{className:"absolute top-4 left-4 text-yellow-400 w-6 h-6 animate-spin-slow"}),s.jsx(id,{className:"absolute top-4 right-4 text-yellow-400 w-6 h-6 animate-spin-slow"}),s.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 uppercase tracking-widest",children:a?"RSULTATS OFFICIELS":"TIRAGE EN COURS"})]}),s.jsx(Qt,{className:"p-6",children:a?s.jsx("div",{className:"space-y-8",children:h?s.jsx(Zt,{className:"w-10 h-10 mx-auto animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-yellow-400",children:"Flicitations aux gagnants !"}),s.jsx("p",{className:"text-gray-300",children:"Voici le classement officiel certifi."}),s.jsxs("p",{className:"text-sm text-gray-400",children:[s.jsx(Tu,{className:"w-4 h-4 inline mr-1"}),"Chaque participant n'apparat qu'une seule fois avec son meilleur ticket gagnant."]})]}),s.jsx(uFe,{winners:u}),s.jsxs("div",{className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden mt-6",children:[s.jsxs("div",{className:"p-3 bg-black/20 font-bold text-gray-400 text-sm uppercase flex justify-between px-6",children:[s.jsx("span",{children:"Position"}),s.jsx("span",{children:"Participant"}),s.jsx("span",{children:"Ticket"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:u.map(S=>{var b,N,C,A,T,F;return s.jsxs("div",{className:`flex items-center justify-between p-3 px-6 border-b border-white/5 transition-colors ${r&&((b=S.profiles)==null?void 0:b.id)===r.id?"bg-yellow-500/20 border-yellow-500/50":"hover:bg-white/5"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vr,{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${S.rank<=3?"bg-yellow-500 text-black":"bg-gray-700"}`,children:S.rank}),s.jsxs("div",{className:"flex items-center gap-3",children:[(N=S.profiles)!=null&&N.avatar_url?s.jsx("img",{src:S.profiles.avatar_url,className:"w-8 h-8 rounded-full object-cover",alt:""}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-xs",children:(A=(C=S.profiles)==null?void 0:C.full_name)==null?void 0:A.charAt(0)}),s.jsxs("span",{className:S.rank<=3?"text-yellow-200 font-bold":"text-gray-300",children:[((T=S.profiles)==null?void 0:T.full_name)||"Anonyme",r&&((F=S.profiles)==null?void 0:F.id)===r.id&&s.jsx("span",{className:"ml-2 text-xs text-yellow-500",children:"(Moi)"})]})]})]}),s.jsxs("span",{className:"font-mono text-blue-300",children:["#",S.ticket_number]})]},`${S.user_id}-${S.rank}`)})})]})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 py-10",children:[s.jsx("div",{className:"flex flex-wrap gap-4 justify-center items-center",children:n.map((S,b)=>s.jsx(er.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:b*.1},className:"w-20 h-24 bg-black/50 rounded-xl border-2 border-yellow-500/50 flex items-center justify-center shadow-[0_0_15px_rgba(234,179,8,0.3)]",children:s.jsx("span",{className:"text-4xl font-mono font-bold text-yellow-400 tabular-nums",children:S})},b))}),s.jsx("div",{className:"h-16 flex items-center justify-center",children:s.jsx(Du,{mode:"wait",children:s.jsx(er.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xl text-blue-200 text-center",children:l[l.length-1]},l[l.length-1])})}),s.jsx(Zt,{className:"w-12 h-12 text-yellow-500 animate-spin"}),s.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Les numros dfilent alatoirement pendant que le systme slectionne les gagnants..."})]})})]})]})})},fFe=({raffleData:e,eventId:t,isOrganizer:r,onDrawComplete:n})=>{bn();const{toast:i}=js(),[a,o]=j.useState(!1);j.useEffect(()=>{e==null||e.status},[e]);const l=async()=>{if(r)try{const{data:c,error:u}=await Ze.rpc("conduct_raffle_draw",{p_raffle_event_id:e.id});if(u)throw u;c.success?(i({title:"Tirage lanc !",description:"Les rsultats sont en cours de gnration. Les participants verront le dfilement des numros.",duration:5e3}),o(!0),n&&n()):i({title:"Attention",description:c.message,variant:"warning"})}catch(c){console.error("Draw error:",c),i({title:"Erreur",description:"Impossible de lancer le tirage.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[a&&s.jsx(dFe,{raffleId:e.id,onClose:()=>o(!1)}),r?s.jsxs(Yt,{className:"border-2 border-yellow-500 bg-gradient-to-r from-orange-50 to-yellow-50",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Zp,{className:"w-5 h-5 text-orange-600"}),"Zone Organisateur"]}),s.jsx(Oa,{children:"Contrle du tirage au sort"})]}),s.jsxs(Qt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Tickets Vendus"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.tickets_sold||0})]}),s.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Revenu Est."}),s.jsxs("div",{className:"text-xl font-bold text-green-600",children:[e.tickets_sold*(e.calculated_price_pi||0)," "]}),s.jsxs("div",{className:"text-[10px] text-gray-400",children:["~",(e.tickets_sold*(e.calculated_price_pi||0)*10).toLocaleString()," CFA"]})]})]}),e.status!=="completed"?s.jsxs(ze,{onClick:l,className:"w-full h-12 text-lg font-bold bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white shadow-lg",disabled:e.tickets_sold===0,children:[s.jsx(R2e,{className:"w-5 h-5 mr-2"}),"LANCER LE TIRAGE"]}):s.jsxs(ze,{onClick:()=>o(!0),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white shadow-lg",children:[s.jsx(wh,{className:"w-5 h-5 mr-2"}),"VOIR LES RSULTATS"]}),e.tickets_sold===0&&s.jsx("p",{className:"text-center text-xs text-red-500",children:"Au moins 1 ticket vendu est requis pour lancer le tirage."})]})]}):s.jsx(s.Fragment,{children:e.status==="completed"&&s.jsx(Yt,{className:"border-green-200 bg-green-50 animate-pulse-slow",children:s.jsxs(Qt,{className:"p-4 text-center",children:[s.jsx("h3",{className:"font-bold text-green-800 mb-2",children:" Le tirage est termin !"}),s.jsxs(ze,{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700 text-white w-full",children:[s.jsx(wh,{className:"w-4 h-4 mr-2"}),"Voir le classement complet"]})]})})})]})},Bd=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ir("w-full caption-bottom text-sm",e),...t})}));Bd.displayName="Table";const $d=j.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ir("[&_tr]:border-b",e),...t}));$d.displayName="TableHeader";const Ud=j.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ir("[&_tr:last-child]:border-0",e),...t}));Ud.displayName="TableBody";const hFe=j.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ir("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hFe.displayName="TableFooter";const di=j.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ir("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));di.displayName="TableRow";const Cn=j.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ir("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Cn.displayName="TableHead";const an=j.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ir("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));an.displayName="TableCell";const mFe=j.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ir("mt-4 text-sm text-muted-foreground",e),...t}));mFe.displayName="TableCaption";function pFe(e,t=[]){let r=[];function n(a,o){const l=j.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...S}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,N=j.useMemo(()=>S,Object.values(S));return s.jsx(b.Provider,{value:N,children:p})};u.displayName=a+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,S=j.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,gFe(i,...t)]}function gFe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var xFe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vse=xFe.reduce((e,t)=>{const r=Ej(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),qR="Progress",GR=100,[vFe,e2t]=pFe(qR),[yFe,bFe]=vFe(qR),Wse=j.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=_Fe,...o}=e;(i||i===0)&&!qV(i)&&console.error(NFe(`${i}`,"Progress"));const l=qV(i)?i:GR;n!==null&&!GV(n,l)&&console.error(SFe(`${n}`,"Progress"));const c=GV(n,l)?n:null,u=wC(c)?a(c,l):void 0;return s.jsx(yFe,{scope:r,value:c,max:l,children:s.jsx(Vse.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":wC(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":qse(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Wse.displayName=qR;var Hse="ProgressIndicator",wFe=j.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=bFe(Hse,r);return s.jsx(Vse.div,{"data-state":qse(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});wFe.displayName=Hse;function _Fe(e,t){return`${Math.round(e/t*100)}%`}function qse(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wC(e){return typeof e=="number"}function qV(e){return wC(e)&&!isNaN(e)&&e>0}function GV(e,t){return wC(e)&&!isNaN(e)&&e<=t&&e>=0}function NFe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${GR}\`.`}function SFe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${GR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Gse=Wse;const V_=j.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Gse,{ref:n,className:Ir("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(er.div,{className:"h-full w-full flex-1 bg-gradient-to-r from-green-400 via-blue-500 to-purple-600",style:{scaleX:(t||0)/100,originX:0},initial:{scaleX:0},animate:{scaleX:(t||0)/100},transition:{duration:.8,ease:"easeInOut"}})}));V_.displayName=Gse.displayName;const CFe=({raffleData:e,eventId:t,onPurchaseSuccess:r,isUnlocked:n,isOwner:i})=>{const{user:a}=bn(),{forceRefreshUserProfile:o,userProfile:l}=Ja(),[c,u]=j.useState(1),[f,h]=j.useState(!1),[g,p]=j.useState([]),[S,b]=j.useState(!1),[N,C]=j.useState([]),[A,T]=j.useState(!1),[F,L]=j.useState({totalTickets:0,myTicketsCount:0,participantsCount:0}),B=Sa(),M=i||a&&e&&a.id===e.organizer_id,W=(e==null?void 0:e.calculated_price_pi)||1,z=j.useMemo(()=>W*c,[W,c]),Z=(e==null?void 0:e.max_tickets_per_user)||10,K=F.myTicketsCount>0?Math.min(100,F.myTicketsCount/Z*100):0;j.useEffect(()=>{(async()=>{if(!(!a||!e))try{const{data:X,error:se}=await Ze.from("raffle_tickets").select("ticket_number, purchased_at, purchase_price_pi").eq("raffle_event_id",e.id).eq("user_id",a.id).order("ticket_number",{ascending:!0});if(se)throw se;if(C(X||[]),M){const{data:he,error:ce}=await Ze.from("raffle_tickets").select("*, profiles:user_id(full_name, email, avatar_url)").eq("raffle_event_id",e.id).order("purchased_at",{ascending:!1});if(ce)throw ce;p(he||[]);const ge=new Set((he==null?void 0:he.map(we=>we.user_id))||[]);L(we=>({...we,totalTickets:(he==null?void 0:he.length)||0,participantsCount:ge.size}))}else{const{count:he,error:ce}=await Ze.from("raffle_tickets").select("user_id",{count:"exact",distinct:!0}).eq("raffle_event_id",e.id);ce||L(ge=>({...ge,totalTickets:e.tickets_sold||0,myTicketsCount:(X==null?void 0:X.length)||0,participantsCount:he||0}))}}catch(X){console.error("Error fetching tickets:",X),lt({title:"Erreur de chargement",description:"Impossible de charger les tickets",variant:"destructive"})}})();const ae=Ze.channel(`raffle_tickets_${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"raffle_tickets",filter:`raffle_event_id=eq.${e.id}`},X=>{X.new.user_id===(a==null?void 0:a.id)&&(C(se=>[...se,{ticket_number:X.new.ticket_number,purchased_at:X.new.purchased_at,purchase_price_pi:X.new.purchase_price_pi}]),L(se=>({...se,myTicketsCount:se.myTicketsCount+1,totalTickets:se.totalTickets+1})))}).subscribe();return()=>{Ze.removeChannel(ae)}},[a,t,e,M]);const q=async()=>{if(!a){B("/auth");return}if(c<1)return;if(F.myTicketsCount+c>Z){lt({title:"Limite de tickets atteinte",description:`Vous ne pouvez pas acheter plus de ${Z} tickets.`,variant:"destructive"});return}if(((l==null?void 0:l.coin_balance)||0)<z){T(!0);return}h(!0);try{const{data:ae,error:X}=await Ze.rpc("purchase_raffle_tickets",{p_raffle_id:e.id,p_user_id:a.id,p_quantity:c});if(X)throw X;if(!ae.success)throw new Error(ae.message);lt({title:" Tickets achets !",description:`Vous avez obtenu ${c} ticket(s). Bonne chance !`,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white border-0"}),await o(),r&&r();const{data:se}=await Ze.from("raffle_tickets").select("ticket_number, purchased_at, purchase_price_pi").eq("raffle_event_id",e.id).eq("user_id",a.id);C(se||[]),u(1)}catch(ae){ae.message&&ae.message.includes("Solde insuffisant")?T(!0):lt({title:"Erreur d'achat",description:ae.message,variant:"destructive"})}finally{h(!1)}};return e?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Yt,{className:"bg-gradient-to-r from-blue-900/20 to-blue-900/5 border-blue-800/30",children:s.jsx(Qt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Tickets vendus"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:F.totalTickets})]}),s.jsx(el,{className:"w-8 h-8 text-blue-400"})]})})}),s.jsx(Yt,{className:"bg-gradient-to-r from-purple-900/20 to-purple-900/5 border-purple-800/30",children:s.jsx(Qt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Participants"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:F.participantsCount})]}),s.jsx(Zs,{className:"w-8 h-8 text-purple-400"})]})})}),s.jsx(Yt,{className:"bg-gradient-to-r from-green-900/20 to-green-900/5 border-green-800/30",children:s.jsxs(Qt,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Mes tickets"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:F.myTicketsCount})]}),s.jsx(mj,{className:"w-8 h-8 text-green-400"})]}),Z>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx(V_,{value:K,className:"h-2"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[F.myTicketsCount," / ",Z," tickets max"]})]})]})})]}),s.jsx(fFe,{raffleData:e,eventId:t,isOrganizer:M,onDrawComplete:r}),M&&s.jsxs(Yt,{className:"border-2 border-yellow-500/20 bg-gradient-to-b from-gray-900/50 to-black/50",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(R3,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{children:"Liste des Participants"})]}),s.jsxs(ze,{variant:"outline",onClick:()=>b(!0),className:"bg-gradient-to-r from-gray-800 to-black border-yellow-500/30 hover:bg-yellow-500/10",children:[s.jsx(R3,{className:"w-4 h-4 mr-2"}),"Voir tout (",g.length,")"]})]}),s.jsxs(Oa,{className:"text-gray-400",children:[F.participantsCount," participants uniques  ",F.totalTickets," tickets vendus"]})]}),s.jsx(Qt,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.slice(0,8).map(ie=>{var ae,X,se,he;return s.jsx("div",{className:"bg-gray-800/30 rounded-lg p-3 border border-white/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[(ae=ie.profiles)!=null&&ae.avatar_url?s.jsx("img",{src:ie.profiles.avatar_url,className:"w-8 h-8 rounded-full",alt:ie.profiles.full_name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-white text-xs",children:((se=(X=ie.profiles)==null?void 0:X.full_name)==null?void 0:se.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:((he=ie.profiles)==null?void 0:he.full_name)||"Inconnu"}),s.jsxs("p",{className:"text-xs text-gray-400",children:["#",ie.ticket_number]})]})]})},ie.id)})})})]}),(!M||e.status==="active")&&e.status!=="completed"&&s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.status==="active"&&s.jsxs(Yt,{className:"border-2 border-primary/30 bg-gradient-to-br from-primary/5 via-transparent to-primary/5 shadow-xl",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-3",children:[s.jsx(el,{className:"w-6 h-6 text-primary"}),"Acheter des Tickets"]}),s.jsx(Oa,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Prix unitaire: ",W," "]}),s.jsxs(Vr,{variant:"outline",className:"text-xs",children:["Max: ",Z," tickets"]})]})})]}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-800/50 to-black/50 rounded-xl border border-white/10",children:[s.jsx("span",{className:"font-medium text-white",children:"Quantit"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{variant:"outline",size:"icon",onClick:()=>u(Math.max(1,c-1)),className:"rounded-full w-10 h-10",disabled:c<=1,children:"-"}),s.jsx("span",{className:"w-12 text-center font-bold text-2xl text-white",children:c}),s.jsx(ze,{variant:"outline",size:"icon",onClick:()=>{F.myTicketsCount+c+1<=Z?u(c+1):lt({title:"Limite atteinte",description:`Vous ne pouvez pas dpasser ${Z} tickets.`,variant:"destructive"})},className:"rounded-full w-10 h-10",disabled:F.myTicketsCount+c>=Z,children:"+"})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-900/50 to-black/50 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-white",children:[z," "]})]}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Solde disponible: ",(l==null?void 0:l.coin_balance)||0," "]})]})]}),s.jsxs(ze,{className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-xl",onClick:q,disabled:f||F.myTicketsCount>=Z,children:[f?s.jsx(Zt,{className:"w-5 h-5 animate-spin mr-2"}):null,f?"Achat en cours...":`Payer ${z} `]}),F.myTicketsCount>=Z&&s.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-900/20 to-transparent rounded-lg border border-amber-700/30",children:s.jsxs("p",{className:"text-center text-amber-300 text-sm",children:[" Vous avez atteint la limite de ",Z," tickets"]})})]})]}),s.jsxs(Yt,{className:"border-2 border-blue-500/20 bg-gradient-to-br from-blue-900/10 via-transparent to-blue-900/10",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"text-white flex items-center gap-3",children:[s.jsx(R3,{className:"w-5 h-5 text-blue-400"}),"Mes Tickets (",F.myTicketsCount,")"]}),s.jsx(Oa,{className:"text-blue-300",children:"Chaque ticket a une chance gale de gagner"})]}),s.jsxs(Qt,{children:[N.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-64 overflow-y-auto pr-2",children:N.map(ie=>s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-blue-800/20 border border-blue-700/30 rounded-xl p-4 text-center hover:scale-[1.02] transition-transform duration-300",children:[s.jsx("div",{className:"text-xs text-blue-300 mb-2",children:"Ticket n"}),s.jsxs("div",{className:"font-mono font-bold text-3xl text-white mb-2",children:["#",ie.ticket_number]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Achet le ",new Date(ie.purchased_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})]})]},ie.ticket_number))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(el,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Vous n'avez pas encore de tickets."}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Achetez vos premiers tickets pour participer au tirage !"})]}),N.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Vos chances de gagner"}),s.jsx("span",{className:"text-sm font-medium text-white",children:F.totalTickets>0?`${(F.myTicketsCount/F.totalTickets*100).toFixed(1)}%`:"0%"})]}),s.jsx(V_,{value:F.totalTickets>0?F.myTicketsCount/F.totalTickets*100:0,className:"h-2 mt-2"})]})]})]})]}),s.jsx(No,{open:S,onOpenChange:b,children:s.jsxs(fo,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col bg-gradient-to-b from-gray-900 to-black border-2 border-yellow-500/20",children:[s.jsxs(So,{children:[s.jsxs(Co,{className:"flex items-center gap-3",children:[s.jsx(R3,{className:"w-5 h-5 text-yellow-500"}),"Liste complte des tickets vendus"]}),s.jsxs(tl,{className:"text-gray-400",children:["Total: ",g.length," tickets  ",F.participantsCount," participants  Revenu: ",g.length*W," "]})]}),s.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:s.jsxs(Bd,{children:[s.jsx($d,{className:"sticky top-0 bg-gray-900",children:s.jsxs(di,{children:[s.jsx(Cn,{className:"text-yellow-400",children:"Ticket #"}),s.jsx(Cn,{className:"text-yellow-400",children:"Participant"}),s.jsx(Cn,{className:"text-yellow-400",children:"Date d'achat"}),s.jsx(Cn,{className:"text-yellow-400",children:"Montant"})]})}),s.jsx(Ud,{children:g.map(ie=>{var ae,X,se,he,ce;return s.jsxs(di,{className:"hover:bg-white/5 border-b border-white/10",children:[s.jsxs(an,{className:"font-mono font-bold text-white",children:["#",ie.ticket_number]}),s.jsx(an,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[(ae=ie.profiles)!=null&&ae.avatar_url?s.jsx("img",{src:ie.profiles.avatar_url,className:"w-8 h-8 rounded-full",alt:ie.profiles.full_name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-white text-sm",children:((se=(X=ie.profiles)==null?void 0:X.full_name)==null?void 0:se.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:((he=ie.profiles)==null?void 0:he.full_name)||"Inconnu"}),s.jsx("div",{className:"text-xs text-gray-400",children:(ce=ie.profiles)==null?void 0:ce.email})]})]})}),s.jsx(an,{className:"text-gray-300",children:new Date(ie.purchased_at).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs(an,{className:"font-bold text-yellow-400",children:[ie.purchase_price_pi," "]})]},ie.id)})})]})})]})}),s.jsx(P0,{isOpen:A,onClose:()=>T(!1),requiredAmount:z,currentBalance:(l==null?void 0:l.coin_balance)||0})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})})},AFe=({event:e,isUnlocked:t,onRefresh:r})=>{var A,T;const{user:n}=bn(),[i,a]=j.useState([]),[o,l]=j.useState(null),[c,u]=j.useState(!0),[f,h]=j.useState(null),[g,p]=j.useState(!1),[S,b]=j.useState({companyName:"",contactPerson:"",email:(n==null?void 0:n.email)||"",phone:"",description:""});j.useEffect(()=>{e!=null&&e.id&&N()},[e==null?void 0:e.id,n==null?void 0:n.id]);const N=async()=>{u(!0);try{const{data:F,error:L}=await Ze.from("stand_types").select("*").eq("event_id",e.id).eq("is_active",!0).order("calculated_price_pi",{ascending:!0});if(L)throw L;if(a(F||[]),n){const{data:B,error:M}=await Ze.from("stand_rentals").select("*, stand_types(name, size, amenities)").eq("user_id",n.id).in("stand_event_id",(await Ze.from("stand_events").select("id").eq("event_id",e.id)).data.map(W=>W.id)).maybeSingle();M||l(B)}}catch(F){console.error("Error fetching stand data:",F)}finally{u(!1)}},C=async()=>{if(!n){lt({title:"Connexion requise",description:"Veuillez vous connecter pour louer un stand.",variant:"destructive"});return}if(f){p(!0);try{const{data:F}=await Ze.from("profiles").select("coin_balance").eq("id",n.id).single();if(F.coin_balance<f.calculated_price_pi)throw new Error(`Solde insuffisant. Il vous faut ${f.calculated_price_pi} .`);const{data:L,error:B}=await Ze.rpc("rent_stand",{p_event_id:e.id,p_user_id:n.id,p_stand_type_id:f.id,company_name:S.companyName,contact_person:S.contactPerson,contact_email:S.email,contact_phone:S.phone,business_description:S.description});if(B)throw B;if(!L.success)throw new Error(L.message);lt({title:"Rservation russie !",description:`Votre stand ${L.stand_number} a t rserv.`,className:"bg-green-600 text-white"}),h(null),N(),r&&r()}catch(F){console.error("Rental error:",F),lt({title:"Erreur",description:F.message,variant:"destructive"})}finally{p(!1)}}};return c?s.jsx("div",{className:"p-8 flex justify-center",children:s.jsx(Zt,{className:"animate-spin"})}):o?s.jsxs(Yt,{className:"border-green-500/50 bg-green-50/10",children:[s.jsxs(Wr,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[s.jsx(vl,{className:"w-6 h-6"}),s.jsx("span",{className:"font-bold uppercase tracking-wider",children:"Rservation Confirme"})]}),s.jsxs(qr,{className:"text-2xl",children:["Votre Stand: ",o.stand_number]}),s.jsx(Oa,{children:"Dtails de votre location pour cet vnement."})]}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"text-muted-foreground",children:"Type de Stand"}),s.jsxs("div",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(S0,{className:"w-4 h-4"})," ",(A=o.stand_types)==null?void 0:A.name]})]}),s.jsxs("div",{children:[s.jsx(kt,{className:"text-muted-foreground",children:"Dimensions"}),s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[s.jsx(X$,{className:"w-4 h-4"})," ",(T=o.stand_types)==null?void 0:T.size]})]}),s.jsxs("div",{children:[s.jsx(kt,{className:"text-muted-foreground",children:"Cot total pay"}),s.jsxs("div",{className:"font-bold text-primary text-xl",children:[o.rental_amount_pi," "]})]})]}),s.jsxs("div",{className:"space-y-4 border-l pl-0 md:pl-6 border-border",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"text-muted-foreground",children:"Entreprise enregistre"}),s.jsx("div",{className:"font-medium",children:o.company_name})]}),s.jsxs("div",{children:[s.jsx(kt,{className:"text-muted-foreground",children:"Contact"}),s.jsx("div",{className:"font-medium",children:o.contact_person}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o.contact_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o.contact_phone})]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Md,{className:"w-4 h-4"})," Instructions"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Veuillez prsenter ce rcapitulatif  l'organisateur lors de votre arrive pour prendre possession de votre stand. Un email de confirmation a t envoy  ",o.contact_email,"."]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(S0,{className:"w-6 h-6 text-primary"}),"Louer un Stand"]}),s.jsx("p",{className:"text-muted-foreground",children:"Choisissez parmi les emplacements disponibles pour exposer lors de l'vnement."})]}),t?i.length===0?s.jsx(Yt,{className:"bg-muted/30",children:s.jsx(Qt,{className:"p-8 text-center",children:s.jsx("p",{children:"Aucun stand n'est disponible  la location pour le moment."})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(F=>{const L=F.quantity_available-(F.quantity_rented||0),B=L<=0;return s.jsxs(Yt,{className:`flex flex-col ${B?"opacity-70 grayscale":"hover:border-primary/50 transition-colors"}`,children:[s.jsx(Wr,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(qr,{children:F.name}),s.jsxs(Oa,{className:"flex items-center gap-1 mt-1",children:[s.jsx(X$,{className:"w-3 h-3"})," ",F.size]})]}),s.jsx(Vr,{variant:B?"destructive":"secondary",children:B?"COMPLET":`${L} dispo.`})]})}),s.jsxs(Qt,{className:"flex-1 space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:F.description}),F.amenities&&Object.keys(F.amenities).length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(F.amenities).filter(([,M])=>M).map(([M])=>s.jsx(Vr,{variant:"outline",className:"text-xs bg-background",children:M.replace(/_/g," ")},M))})]}),s.jsxs(Zg,{className:"border-t pt-4 bg-muted/10 flex justify-between items-center",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Prix de location"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:[F.calculated_price_pi," "]})]}),s.jsxs(No,{children:[s.jsx(o5,{asChild:!0,children:s.jsx(ze,{disabled:B,onClick:()=>h(F),children:B?"Indisponible":"Rserver"})}),s.jsxs(fo,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(So,{children:[s.jsxs(Co,{children:["Rserver le stand : ",F.name]}),s.jsxs(tl,{children:["Remplissez les informations de votre entreprise pour valider la location.",s.jsx("br",{}),s.jsxs("strong",{children:["Cot : ",F.calculated_price_pi," "]})]})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(kt,{htmlFor:"company",children:"Nom de l'entreprise / Marque *"}),s.jsx(rr,{id:"company",value:S.companyName,onChange:M=>b({...S,companyName:M.target.value}),placeholder:"Ex: Ma Boutique Bio"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(kt,{htmlFor:"contact",children:"Personne  contacter *"}),s.jsx(rr,{id:"contact",value:S.contactPerson,onChange:M=>b({...S,contactPerson:M.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(kt,{htmlFor:"phone",children:"Tlphone *"}),s.jsx(rr,{id:"phone",value:S.phone,onChange:M=>b({...S,phone:M.target.value}),placeholder:"+225..."})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(kt,{htmlFor:"email",children:"Email *"}),s.jsx(rr,{id:"email",type:"email",value:S.email,onChange:M=>b({...S,email:M.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(kt,{htmlFor:"desc",children:"Activit / Produits exposs"}),s.jsx(uc,{id:"desc",value:S.description,onChange:M=>b({...S,description:M.target.value}),placeholder:"Dcrivez brivement ce que vous allez vendre ou exposer..."})]})]}),s.jsx(ru,{children:s.jsxs(ze,{onClick:C,disabled:g||!S.companyName||!S.contactPerson||!S.phone,className:"w-full",children:[g?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(vl,{className:"mr-2 h-4 w-4"}),"Confirmer la rservation (",F.calculated_price_pi," )"]})})]})]})]})]},F.id)})}):s.jsx(Yt,{className:"border-dashed",children:s.jsxs(Qt,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Md,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Veuillez dbloquer l'vnement pour voir les stands disponibles."})]})})]})},KV={blue:{bg:"bg-gradient-to-br from-blue-600 to-blue-700",border:"border-blue-700",hover:"hover:from-blue-700 hover:to-blue-800",text:"text-white",badge:"bg-blue-500 text-white"},bronze:{bg:"bg-gradient-to-br from-amber-700 to-amber-800",border:"border-amber-800",hover:"hover:from-amber-800 hover:to-amber-900",text:"text-white",badge:"bg-amber-600 text-white"},silver:{bg:"bg-gradient-to-br from-slate-500 to-slate-600",border:"border-slate-600",hover:"hover:from-slate-600 hover:to-slate-700",text:"text-white",badge:"bg-slate-400 text-slate-900"},gold:{bg:"bg-gradient-to-br from-yellow-600 to-yellow-700",border:"border-yellow-700",hover:"hover:from-yellow-700 hover:to-yellow-800",text:"text-white",badge:"bg-yellow-500 text-slate-900"},purple:{bg:"bg-gradient-to-br from-purple-600 to-purple-700",border:"border-purple-700",hover:"hover:from-purple-700 hover:to-purple-800",text:"text-white",badge:"bg-purple-500 text-white"},red:{bg:"bg-gradient-to-br from-red-600 to-red-700",border:"border-red-700",hover:"hover:from-red-700 hover:to-red-800",text:"text-white",badge:"bg-red-500 text-white"},green:{bg:"bg-gradient-to-br from-green-600 to-green-700",border:"border-green-700",hover:"hover:from-green-700 hover:to-green-800",text:"text-white",badge:"bg-green-500 text-white"},black:{bg:"bg-gradient-to-br from-slate-800 to-slate-900",border:"border-slate-900",hover:"hover:from-slate-900 hover:to-black",text:"text-white",badge:"bg-slate-700 text-white"}},jFe=({event:e,ticketingData:t,ticketTypes:r,isUnlocked:n,onRefresh:i})=>{const{user:a}=bn(),{userProfile:o}=Ja(),[l,c]=j.useState(()=>{try{const Ne=localStorage.getItem(`cart_${e==null?void 0:e.id}`);return Ne?JSON.parse(Ne):{}}catch{return{}}}),[u,f]=j.useState(!1),[h,g]=j.useState(null),[p,S]=j.useState(!1),[b,N]=j.useState(!1),[C,A]=j.useState(!1),[T,F]=j.useState(!1),[L,B]=j.useState(!1),[M,W]=j.useState(0),[z,Z]=j.useState(!1);j.useEffect(()=>{e!=null&&e.id&&localStorage.setItem(`cart_${e.id}`,JSON.stringify(l))},[l,e==null?void 0:e.id]),j.useEffect(()=>{b||T?(async()=>{if(a){Z(!0);try{const Se=await bl.getWalletBalances(a.id);W(Se.coin_balance)}catch(Se){console.error("Error fetching user balance:",Se),(o==null?void 0:o.coin_balance)!==void 0&&W(o.coin_balance)}finally{Z(!1)}}})():(o==null?void 0:o.coin_balance)!==void 0&&W(o.coin_balance)},[a,b,T,o]);const K=j.useMemo(()=>!e||!e.event_date?!1:new Date<new Date(e.event_date),[e]),q=(Ne,Se)=>{c(je=>{const Ge=je[Ne]||0,De=r==null?void 0:r.find(Ue=>Ue.id===Ne);if(!De)return je;const at=(De.quantity_available||0)-(De.quantity_sold||0);let ot;Se>0?ot=Math.min(Ge+Se,at):ot=Math.max(0,Ge+Se);const ht={...je};return ot===0?(delete ht[Ne],lt({title:"Retir du panier",description:`${De.name} a t retir de votre panier`})):(ht[Ne]=ot,Se>0&&ot>Ge?lt({title:"Ajout au panier",description:`${Se} x ${De.name} ajout(s)`}):Se<0&&ot<Ge&&lt({title:"Retir du panier",description:`${Math.abs(Se)} x ${De.name} retir(s)`})),ht})},ie=(Ne,Se)=>{const je=r==null?void 0:r.find(ot=>ot.id===Ne);if(!je)return;const Ge=(je.quantity_available||0)-(je.quantity_sold||0),De=l[Ne]||0;if(Se<=0){c(ot=>{const ht={...ot};return delete ht[Ne],ht}),lt({title:"Retir du panier",description:`${je.name} a t retir de votre panier`});return}const at=Math.min(Se,Ge-De);if(at<=0){lt({title:"Quantit non disponible",description:`Seulement ${Ge} places disponibles pour ${je.name}`,variant:"destructive"});return}c(ot=>({...ot,[Ne]:(ot[Ne]||0)+at})),lt({title:"Ajout au panier",description:`${at} x ${je.name} ajout(s)`})},ae=Ne=>{const Se=r==null?void 0:r.find(je=>je.id===Ne);c(je=>{const Ge={...je};return delete Ge[Ne],Ge}),Se&&lt({title:"Retir du panier",description:`${Se.name} a t retir de votre panier`})},X=()=>{Object.keys(l).length!==0&&(c({}),lt({title:"Panier vid",description:"Tous les billets ont t retirs de votre panier"}))},se=Ne=>Ne?K&&Ne.presale_price_pi&&Ne.presale_price_pi>0?Ne.presale_price_pi:Ne.price_coins||Ne.price_pi||0:0,he=j.useMemo(()=>r?Object.entries(l).map(([Ne,Se])=>{const je=r.find(ot=>ot.id===Ne);if(!je)return null;const Ge=se(je),De=Ge*Se,at=De*10;return{id:Ne,type:je,quantity:Se,unitPrice:Ge,total:De,totalFcfa:at}}).filter(Boolean):[],[l,r,K]),ce=j.useMemo(()=>he.reduce((Ne,Se)=>Ne+Se.total,0),[he]),ge=j.useMemo(()=>ce*10,[ce]),we=j.useMemo(()=>he.reduce((Ne,Se)=>Ne+Se.quantity,0),[he]),Ce=j.useMemo(()=>(M||0)>=ce,[M,ce]),Q=j.useMemo(()=>Math.max(0,ce-(M||0)),[M,ce]),le=()=>{B(!1),N(!1),window.location.href="/packs"},ne=async()=>{if(!a){lt({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des billets",variant:"destructive"}),N(!1);return}if(we===0){lt({title:"Panier vide",description:"Veuillez ajouter des billets  votre panier",variant:"destructive"});return}if(!Ce){B(!0);return}f(!0);try{const{data:Ne,error:Se}=await Ze.rpc("purchase_tickets_v2",{p_user_id:a.id,p_event_id:e.id,p_cart:l});if(Se)throw Se;if(!Ne.success)throw new Error(Ne.message);const Ge=(Ne.tickets||[]).map(De=>({ticket_number:De.number,type_name:De.type,price:De.price,price_fcfa:De.price_fcfa||De.price*10,ticket_code_short:De.short_code,qr_code:De.number}));g(Ge),N(!1),X(),lt({title:" Commande valide !",description:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:"Votre commande a t effectue avec succs."}),s.jsxs("span",{className:"font-medium text-primary",children:[s.jsx(p0,{className:"w-3 h-3 inline mr-1"}),"Vos billets sont disponibles dans votre profil !"]})]}),duration:5e3}),setTimeout(()=>{S(!0)},1e3),A(!0),setTimeout(()=>A(!1),5e3),i&&i()}catch(Ne){console.error("Purchase error:",Ne),lt({title:"Erreur d'achat",description:Ne.message||"Une erreur est survenue lors de l'achat",variant:"destructive"})}finally{f(!1)}},ee=async()=>{if(h&&h.length>0){lt({title:"Gnration en cours...",description:"Prparation de votre PDF de billets."});try{await Ase(e,h,a),lt({title:" Succs",description:"Vos billets ont t tlchargs."})}catch{lt({title:"Erreur",description:"Impossible de tlcharger les billets",variant:"destructive"})}}},pe=Ne=>{switch(Ne){case"gold":return s.jsx(Zp,{className:"w-5 h-5 text-yellow-300"});case"silver":return s.jsx(Tu,{className:"w-5 h-5 text-slate-300"});default:return s.jsx(el,{className:"w-5 h-5 text-white"})}},xe=[1,2,3,5];return n?s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 relative px-2 sm:px-0",children:[C&&s.jsx("div",{className:"fixed top-16 sm:top-20 left-1/2 transform -translate-x-1/2 z-50 animate-in slide-in-from-top duration-500 w-[90vw] sm:w-auto",children:s.jsxs(Fl,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 shadow-xl max-w-md mx-auto",children:[s.jsx(jp,{className:"h-5 w-5"}),s.jsx(jd,{className:"text-white",children:"Commande confirme !"}),s.jsxs(rc,{className:"text-white/90",children:["Vos billets sont disponibles dans l'onglet ",s.jsx("strong",{children:'"Mes Billets"'})," de votre profil."]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-gradient-to-r from-primary/10 to-purple-500/10 p-4 sm:p-6 rounded-xl border border-primary/20 gap-3 sm:gap-0",children:[s.jsxs("div",{className:"w-full sm:w-auto",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2 text-foreground",children:[s.jsx(el,{className:"text-primary h-5 w-5 sm:h-6 sm:w-6"})," Billetterie"]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Slectionnez vos billets ci-dessous"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[K?s.jsx(Vr,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300 animate-pulse text-xs sm:text-sm",children:" Prvente"}):s.jsx(Vr,{variant:"outline",className:"text-xs sm:text-sm",children:"Tarif Normal"}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 sm:py-2 bg-primary/10 rounded-lg",children:[s.jsx($o,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",children:["Solde: ",s.jsxs("span",{className:"font-bold",children:[M.toFixed(2)," "]})]})]})]})]}),!r||r.length===0?s.jsxs(Fl,{children:[s.jsx(jd,{children:"Aucun billet disponible"}),s.jsx(rc,{children:"La billetterie est ferme ou les billets sont puiss."})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:r.map(Ne=>{const Se=se(Ne),je=(Ne.quantity_available||0)-(Ne.quantity_sold||0),Ge=je<=0,De=l[Ne.id]||0,at=KV[Ne.color]||KV.blue;return s.jsx(Yt,{className:`relative overflow-hidden transition-all hover:shadow-xl ${at.bg} ${at.border} ${Ge?"opacity-80 grayscale":"hover:scale-[1.02]"} group`,children:s.jsxs(Qt,{className:"p-4 sm:p-6 flex flex-col h-full justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-start gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[pe(Ne.color),s.jsx("h3",{className:`font-bold text-lg sm:text-xl ${at.text} break-words`,children:Ne.name})]}),s.jsxs("div",{className:"text-right w-full sm:w-auto",children:[s.jsxs("div",{className:`font-bold text-xl sm:text-2xl ${at.text} flex items-center justify-end sm:justify-end`,children:[Se.toFixed(2)," ",s.jsx(Ua,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-1 text-yellow-300"})]}),s.jsxs("div",{className:`text-xs sm:text-sm ${at.text} opacity-80`,children:[(Se*10).toLocaleString()," FCFA"]})]})]}),Ne.description&&s.jsx("p",{className:`text-xs sm:text-sm ${at.text} opacity-90 mt-2 line-clamp-2`,children:Ne.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs ${at.text} font-medium ${Ge?"text-red-200":""} truncate`,children:Ge?" puis":` ${je} places`}),De>0&&s.jsxs(Vr,{variant:"secondary",className:`${at.badge} text-xs px-2`,children:[De," dans le panier"]})]}),!Ge&&s.jsx("div",{className:"flex flex-wrap gap-1",children:xe.map(ot=>s.jsxs(ze,{size:"sm",variant:"outline",className:`h-6 sm:h-7 px-2 text-xs ${at.text} border-white/30 hover:bg-white/20`,onClick:()=>ie(Ne.id,ot),disabled:je<De+ot,children:["+",ot]},ot))}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between pt-2 border-t border-white/20 gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-black/20 p-1 rounded-lg backdrop-blur-sm w-full sm:w-auto justify-center",children:[s.jsx(ze,{size:"icon",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8 text-white hover:bg-white/20 transition-colors",onClick:()=>q(Ne.id,-1),disabled:!De||Ge,children:s.jsx(HS,{className:"w-3 h-3 sm:w-3 sm:h-3"})}),s.jsx("span",{className:`w-8 text-center font-bold ${at.text} text-lg`,children:De||0}),s.jsx(ze,{size:"icon",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8 text-white hover:bg-white/20 transition-colors",onClick:()=>q(Ne.id,1),disabled:je<=De||Ge,children:s.jsx(Bl,{className:"w-3 h-3 sm:w-3 sm:h-3"})})]}),De>0&&s.jsxs(ze,{size:"sm",variant:"ghost",className:`h-7 px-2 text-xs ${at.text} hover:bg-white/20 w-full sm:w-auto mt-2 sm:mt-0`,onClick:()=>ae(Ne.id),children:[s.jsx(wl,{className:"w-3 h-3 mr-1"}),"Retirer"]})]})]})]})},Ne.id)})}),we>0&&s.jsxs(s.Fragment,{children:[T&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>F(!1),children:s.jsx("div",{className:"fixed bottom-0 left-0 right-0 sm:bottom-24 sm:left-1/2 sm:transform sm:-translate-x-1/2 w-full sm:max-w-md max-h-[85vh] overflow-hidden",onClick:Ne=>Ne.stopPropagation(),children:s.jsx(Yt,{className:"bg-card shadow-2xl border-t-4 border-t-primary rounded-t-2xl sm:rounded-xl h-full overflow-hidden",children:s.jsxs(Qt,{className:"p-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg",children:["Votre panier (",we," billet",we>1?"s":"",")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-primary/10 rounded text-sm",children:[s.jsx($o,{className:"w-3 h-3"}),s.jsxs("span",{className:"font-medium",children:[M.toFixed(2)," "]})]}),s.jsxs(ze,{variant:"ghost",size:"sm",onClick:X,className:"text-destructive hover:text-destructive p-2",children:[s.jsx(Vo,{className:"w-4 h-4"}),s.jsx("span",{className:"sr-only sm:not-sr-only sm:ml-1",children:"Vider"})]})]})]}),s.jsx(z_,{className:"flex-1 pr-2 sm:pr-4",children:he.map(Ne=>s.jsxs("div",{className:"flex items-center justify-between p-3 mb-2 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:Ne.type.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ne.unitPrice.toFixed(2),"   ",Ne.quantity]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 ml-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold text-sm sm:text-base",children:[Ne.total.toFixed(2)," "]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ne.totalFcfa.toLocaleString()," FCFA"]})]}),s.jsx(ze,{size:"icon",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8 text-destructive hover:text-destructive flex-shrink-0",onClick:()=>ae(Ne.id),children:s.jsx(wl,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},Ne.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[!Ce&&s.jsxs(Fl,{variant:"destructive",className:"mb-3",children:[s.jsx(jd,{className:"text-sm",children:"Solde insuffisant"}),s.jsxs(rc,{className:"text-xs",children:["Il vous manque ",Q.toFixed(2)," "]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("span",{className:"font-bold text-sm sm:text-base",children:"Total"}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:["Solde disponible: ",M.toFixed(2)," "]})]}),s.jsxs("div",{className:"text-right ml-2",children:[s.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-primary",children:[ce.toFixed(2)," "]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[ge.toLocaleString()," FCFA"]})]})]}),s.jsx(ze,{onClick:()=>{F(!1),Ce?N(!0):B(!0)},className:"w-full",size:"lg",disabled:z,children:z?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"w-5 h-5 mr-2 animate-spin"}),s.jsx("span",{className:"truncate",children:"Vrification..."})]}):Ce?s.jsxs(s.Fragment,{children:[s.jsx(im,{className:"w-5 h-5 mr-2"}),s.jsx("span",{className:"truncate",children:"Commander maintenant"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Lv,{className:"w-5 h-5 mr-2"}),s.jsx("span",{className:"truncate",children:"Recharger mon solde"})]})})]})]})})})}),s.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-50 flex justify-center px-3 sm:px-4 animate-in slide-in-from-bottom duration-500",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 bg-card/95 backdrop-blur-md rounded-2xl sm:rounded-full shadow-2xl border-t-4 border-t-primary p-3 sm:p-2 sm:pl-4 w-full max-w-md sm:max-w-none",children:[s.jsx("div",{className:"flex items-center gap-3 mb-2 sm:mb-0 w-full sm:w-auto justify-between sm:justify-start",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(im,{className:"w-6 h-6 text-primary"}),we>0&&s.jsx(Vr,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center",children:we})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"text-sm font-medium whitespace-nowrap",children:[we," billet",we>1?"s":""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"text-xs font-bold text-primary whitespace-nowrap",children:[ce.toFixed(2)," "]}),!Ce&&s.jsx(Vr,{variant:"destructive",className:"h-4 px-1 text-[10px] whitespace-nowrap",children:"Solde insuffisant"})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>F(!0),className:"h-9 rounded-full flex-1 sm:flex-none text-xs sm:text-sm",children:"Voir dtails"}),s.jsx(ze,{size:"lg",onClick:()=>{Ce?N(!0):B(!0)},className:`rounded-full flex-1 sm:flex-none text-xs sm:text-sm ${Ce?"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90":"bg-destructive hover:bg-destructive/90"}`,children:Ce?"Commander":"Recharger"})]})]})})]}),we===0&&s.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-50 flex justify-center px-3 sm:px-4",children:s.jsx(Yt,{className:"bg-card/95 backdrop-blur-md border-t-4 border-t-primary shadow-lg w-full max-w-md",children:s.jsx(Qt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(im,{className:"w-6 h-6 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre panier est vide"}),s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"whitespace-nowrap",children:"Ajouter des billets"})]})})})}),s.jsx(No,{open:b,onOpenChange:N,children:s.jsxs(fo,{className:"w-[95vw] max-w-lg mx-auto p-4 sm:p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs(So,{children:[s.jsx(Co,{className:"text-lg sm:text-xl",children:"Validation de commande"}),s.jsx(tl,{children:"Vrifiez et modifiez votre commande avant de finaliser"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($o,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Votre solde"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:[M.toFixed(2)," "]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:"Total panier"}),s.jsxs("p",{className:`text-xl sm:text-2xl font-bold ${Ce?"text-green-600":"text-destructive"}`,children:[ce.toFixed(2)," "]})]})]}),!Ce&&s.jsxs(Fl,{variant:"destructive",className:"mt-3",children:[s.jsx(jd,{className:"text-sm",children:"Solde insuffisant"}),s.jsxs(rc,{className:"text-xs",children:["Il vous manque ",Q.toFixed(2),"  pour valider cette commande."]})]})]}),s.jsx(z_,{className:"max-h-[40vh] sm:max-h-[50vh] pr-2 sm:pr-4",children:s.jsx("div",{className:"space-y-3 sm:space-y-4 py-2",children:he.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(im,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Votre panier est vide"})]}):he.map(Ne=>s.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-bold text-base sm:text-lg truncate",children:Ne.type.name}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mb-2 line-clamp-1",children:Ne.type.description||"Billet standard"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{size:"icon",variant:"outline",className:"h-7 w-7 sm:h-8 sm:w-8",onClick:()=>q(Ne.id,-1),disabled:Ne.quantity<=1,children:s.jsx(HS,{className:"w-3 h-3"})}),s.jsx("span",{className:"font-bold w-6 sm:w-8 text-center text-sm sm:text-base",children:Ne.quantity}),s.jsx(ze,{size:"icon",variant:"outline",className:"h-7 w-7 sm:h-8 sm:w-8",onClick:()=>q(Ne.id,1),disabled:(Ne.type.quantity_available||0)-(Ne.type.quantity_sold||0)<=Ne.quantity,children:s.jsx(Bl,{className:"w-3 h-3"})})]}),s.jsxs(ze,{size:"sm",variant:"destructive",className:"h-7 sm:h-8 px-2",onClick:()=>ae(Ne.id),children:[s.jsx(Vo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"sr-only sm:not-sr-only sm:ml-1",children:"Supprimer"})]})]})]}),s.jsxs("div",{className:"text-right ml-2",children:[s.jsxs("div",{className:"text-base sm:text-lg font-bold",children:[Ne.total.toFixed(2)," "]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[Ne.totalFcfa.toLocaleString()," FCFA"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[Ne.unitPrice.toFixed(2),"  / billet"]})]})]},Ne.id))})}),he.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("span",{className:"text-base sm:text-lg font-bold",children:["Total (",we," billet",we>1?"s":"",")"]}),s.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:[he.length," type",he.length>1?"s":""," de billet"]})]}),s.jsxs("div",{className:"text-right ml-2",children:[s.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary block",children:[ce.toFixed(2)," "]}),s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[ge.toLocaleString()," FCFA"]})]})]}),!Ce&&s.jsx(Fl,{className:"bg-amber-50 border-amber-200",children:s.jsxs(rc,{className:"text-xs sm:text-sm text-amber-800",children:[s.jsx(Lv,{className:"w-4 h-4 inline mr-2"}),"Votre solde est insuffisant. ",s.jsx("strong",{children:"Rechargez vos  pour continuer."})]})}),s.jsx(Fl,{className:"bg-blue-50 border-blue-200",children:s.jsxs(rc,{className:"text-xs sm:text-sm text-blue-700",children:[s.jsx(p0,{className:"w-4 h-4 inline mr-2"}),"Aprs paiement, vos billets seront disponibles dans votre profil."]})})]}),s.jsxs(ru,{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[s.jsxs(ze,{variant:"destructive",onClick:X,className:"w-full sm:flex-1",disabled:he.length===0,children:[s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Vider le panier"]}),s.jsx(ze,{variant:"outline",onClick:()=>N(!1),className:"w-full sm:flex-1",children:"Continuer mes achats"})]}),s.jsx(ze,{onClick:Ce?ne:()=>B(!0),disabled:u||he.length===0||!Ce,className:`w-full sm:w-48 ${Ce?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"}`,size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"animate-spin mr-2 w-5 h-5"}),s.jsx("span",{className:"truncate",children:"Traitement..."})]}):Ce?s.jsxs(s.Fragment,{children:[s.jsx(yx,{className:"mr-2 w-5 h-5"}),s.jsxs("span",{className:"truncate",children:["Payer ",ce.toFixed(2)," "]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Lv,{className:"mr-2 w-5 h-5"}),s.jsx("span",{className:"truncate",children:"Recharger mon solde"})]})})]})]})]})}),s.jsx(No,{open:L,onOpenChange:B,children:s.jsxs(fo,{className:"w-[95vw] max-w-md mx-auto p-4 sm:p-6",children:[s.jsxs(So,{children:[s.jsx("div",{className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-amber-100 to-orange-100 rounded-full flex items-center justify-center mb-4",children:s.jsx($o,{className:"w-8 h-8 sm:w-10 sm:h-10 text-amber-600"})}),s.jsx(Co,{className:"text-xl sm:text-2xl text-center text-amber-700",children:"Solde insuffisant"}),s.jsxs(tl,{className:"text-center text-sm sm:text-base",children:["Votre solde actuel de ",s.jsxs("strong",{children:[M.toFixed(2)," "]})," ne permet pas d'acheter le panier de ",s.jsxs("strong",{children:[ce.toFixed(2)," "]}),".",s.jsx("br",{}),s.jsx("br",{}),"Il vous manque ",s.jsxs("strong",{className:"text-destructive",children:[Q.toFixed(2)," "]}),"."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs(Fl,{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200",children:[s.jsx(jd,{className:"text-amber-800 text-sm sm:text-base",children:" Solution rapide"}),s.jsx(rc,{className:"text-amber-700 text-xs sm:text-sm",children:"Rechargez votre compte avec un pack de  pour finaliser votre achat et profiter de l'vnement !"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(ze,{variant:"outline",className:"h-14 sm:h-16 flex-col gap-1",onClick:()=>B(!1),children:[s.jsx(wl,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Annuler"})]}),s.jsxs(ze,{onClick:le,className:"h-14 sm:h-16 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 flex-col gap-1",children:[s.jsx(Lv,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs font-bold",children:"Voir les packs"})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground text-center pt-4 border-t",children:s.jsxs("p",{children:[" Les packs  vous permettent d'acheter des billets et de participer  tous les vnements.",s.jsx("br",{})," Profitez de promotions exclusives sur les gros packs !"]})})]})]})}),s.jsx(No,{open:p,onOpenChange:S,children:s.jsxs(fo,{className:"w-[95vw] max-w-md mx-auto p-4 sm:p-6 text-center",children:[s.jsxs(So,{children:[s.jsx("div",{className:"mx-auto w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mb-4 animate-in zoom-in duration-500",children:s.jsx(jp,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})}),s.jsx(Co,{className:"text-xl sm:text-2xl text-green-700",children:" Flicitations !"}),s.jsxs(tl,{className:"text-sm sm:text-base",children:["Votre commande a t effectue avec succs !",s.jsx("br",{}),s.jsx("strong",{className:"text-primary font-semibold",children:`Vos billets sont disponibles dans l'onglet "Mes Billets" de votre profil`})," pour un tlchargement ultrieur."]})]}),s.jsxs("div",{className:"py-4 sm:py-6 space-y-3",children:[s.jsxs(ze,{onClick:ee,className:"w-full h-12 sm:h-14 text-base sm:text-lg font-bold shadow-lg bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",children:[s.jsx(Fm,{className:"mr-2 h-5 w-5 sm:h-6 sm:w-6"}),s.jsx("span",{className:"truncate",children:"Tlcharger les Billets (PDF)"})]}),s.jsx(ze,{variant:"outline",className:"w-full",onClick:()=>S(!1),children:"Continuer la navigation"})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-4 border-t",children:s.jsxs("p",{children:[" Les billets sont galement sauvegards dans votre compte.",s.jsx("br",{})," Vous pouvez y accder  tout moment depuis votre profil."]})})]})})]}):null},EFe=({className:e="",orientation:t="horizontal",...r})=>s.jsx("div",{className:`${t==="horizontal"?"w-full h-[1px]":"h-full w-[1px]"} bg-gray-700 ${e}`,...r}),TFe=({endDate:e,onTimerEnd:t})=>{const[r,n]=j.useState({days:0,hours:0,minutes:0,seconds:0,expired:!1});return j.useEffect(()=>{const i=()=>{const o=new Date().getTime(),c=new Date(e).getTime()-o;if(c<0){n({days:0,hours:0,minutes:0,seconds:0,expired:!0}),t&&t();return}n({days:Math.floor(c/864e5),hours:Math.floor(c%864e5/36e5),minutes:Math.floor(c%36e5/6e4),seconds:Math.floor(c%6e4/1e3),expired:!1})};i();const a=setInterval(i,1e3);return()=>clearInterval(a)},[e,t]),r.expired?s.jsx("div",{className:"text-center py-4 bg-gradient-to-r from-red-900/50 to-red-800/30 border border-red-700/50 rounded-xl",children:s.jsx("p",{className:"text-red-300 font-bold text-lg",children:" Le vote est termin !"})}):s.jsxs("div",{className:"text-center py-4 bg-gradient-to-r from-blue-900/30 to-indigo-900/20 border border-blue-700/30 rounded-xl",children:[s.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center justify-center gap-2 text-blue-300",children:[s.jsx(Kg,{className:"w-5 h-5 text-blue-400"})," Temps restant"]}),s.jsx("div",{className:"flex justify-center gap-2",children:[{v:r.days,l:"J"},{v:r.hours,l:"H"},{v:r.minutes,l:"M"},{v:r.seconds,l:"S"}].map((i,a)=>s.jsxs("div",{className:"bg-gradient-to-b from-blue-600 to-cyan-500 p-3 rounded-xl shadow-lg min-w-[60px]",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:i.v}),s.jsx("div",{className:"text-xs text-white/80",children:i.l})]},a))})]})},kFe=({candidate:e,totalVotes:t,votePrice:r,onVote:n,settings:i,isFinished:a,index:o,isSelected:l,onSelect:c,event:u,rank:f})=>{const[h,g]=j.useState(1),[p,S]=j.useState(!1),[b,N]=j.useState(!1),C=Sa(),[A,T]=j.useState({isOpen:!1,onConfirm:null}),{user:F}=bn(),[L,B]=j.useState(!1),[M,W]=j.useState(e.vote_count||0),z=t>0?(M||0)/t*100:0,Z=h*r;j.useEffect(()=>{W(e.vote_count||0)},[e.vote_count]);const K=async()=>{if(T({isOpen:!1,onConfirm:null}),!F){C("/auth");return}S(!0);try{const{data:ie,error:ae}=await Ze.from("profiles").select("coin_balance").eq("id",F.id).single();if(ae)throw ae;if(((ie==null?void 0:ie.coin_balance)||0)<Z){N(!0),S(!1);return}const{data:X,error:se}=await Ze.rpc("cast_vote",{p_user_id:F.id,p_candidate_id:e.id,p_vote_count:h});if(se)throw new Error(se.message);let he=Array.isArray(X)?X[0]:X;if(!(he!=null&&he.success))throw new Error((he==null?void 0:he.message)||"Erreur");lt({title:" Vote enregistr !",description:`Vous avez donn ${h} voix  ${e.name}.`}),W(ce=>ce+h),n()}catch(ie){lt({title:"Erreur",description:ie.message,variant:"destructive"})}finally{S(!1)}},q=async ie=>{if(ie.stopPropagation(),navigator.share)try{await navigator.share({title:`Votez pour ${e.name}`,text:`Soutenez ${e.name} dans l'vnement ${u.title} sur BonPlanInfos !`,url:window.location.href})}catch(ae){console.log("Error sharing",ae)}else navigator.clipboard.writeText(window.location.href),lt({title:"Lien copi",description:"Le lien a t copi dans le presse-papier."})};return s.jsxs(s.Fragment,{children:[s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-2xl p-4 ${l?"ring-2 ring-emerald-500":""} relative overflow-hidden`,children:[e.category&&e.category!=="Gnral"&&s.jsx("div",{className:"absolute top-0 right-0",children:s.jsx(Vr,{variant:"secondary",className:"bg-emerald-900/80 text-emerald-200 border-0 rounded-bl-xl rounded-tr-none text-[10px] px-2",children:e.category})}),s.jsxs("div",{className:"flex items-start gap-3 mb-3 mt-2",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden border-2 border-emerald-500/50 cursor-pointer shrink-0",onClick:()=>B(!0),children:s.jsx("img",{src:e.photo_url||"/api/placeholder/64/64",alt:e.name,className:"w-full h-full object-cover transition-transform hover:scale-110"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-white truncate pr-2 cursor-pointer hover:text-emerald-400 transition-colors",onClick:()=>B(!0),children:e.name}),s.jsx("div",{className:"flex gap-1",children:s.jsx(ze,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-gray-700",onClick:()=>B(!0),children:s.jsx(Dm,{className:"w-4 h-4 text-gray-400"})})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1 text-emerald-400",children:[s.jsxs("span",{className:"font-semibold",children:[M," voix"]}),s.jsxs("span",{children:[z.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.max(5,z)}%`}})})]})]})]}),!a&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between bg-gray-800 p-1.5 rounded-lg border border-gray-700/50",children:[s.jsx(ze,{variant:"ghost",size:"icon",className:"h-7 w-7 hover:text-emerald-400",onClick:()=>g(ie=>Math.max(1,ie-1)),children:s.jsx(HS,{className:"w-3 h-3"})}),s.jsx("span",{className:"text-white font-bold font-mono text-lg min-w-[2ch] text-center",children:h}),s.jsx(ze,{variant:"ghost",size:"icon",className:"h-7 w-7 hover:text-emerald-400",onClick:()=>g(ie=>ie+1),children:s.jsx(Bl,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs(ze,{onClick:()=>c(e,h),variant:"outline",size:"sm",className:"col-span-4 text-xs bg-transparent border-gray-600 hover:bg-gray-800 hover:text-white p-0",children:[s.jsx(im,{className:"w-3 h-3 mr-1"})," Panier"]}),s.jsx(ze,{onClick:q,variant:"outline",size:"sm",className:"col-span-3 text-xs bg-transparent border-gray-600 hover:bg-gray-800 hover:text-white p-0",children:s.jsx(Qp,{className:"w-3 h-3"})}),s.jsx(ze,{onClick:()=>T({isOpen:!0,onConfirm:K}),disabled:p,size:"sm",className:"col-span-5 bg-emerald-600 hover:bg-emerald-700 text-xs text-white border-0",children:p?s.jsx(Zt,{className:"animate-spin w-3 h-3"}):`Voter ${Z}`})]})]})]}),s.jsx(nl,{open:L,onOpenChange:B,children:s.jsxs(Ho,{className:"bg-gradient-to-b from-gray-900 to-gray-950 border-gray-700 max-w-sm",children:[s.jsxs(qo,{children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"w-32 h-32 rounded-full p-1 bg-gradient-to-tr from-emerald-500 via-teal-500 to-cyan-500",children:s.jsx("img",{src:e.photo_url||"/api/placeholder/128/128",className:"w-full h-full rounded-full object-cover border-4 border-gray-900",alt:e.name})}),s.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gray-900 rounded-full p-1 border border-gray-700",children:s.jsxs("div",{className:"bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center",children:[s.jsx(wh,{className:"w-3 h-3 mr-1"})," #",f]})})]}),s.jsx(Go,{className:"text-2xl font-bold text-white text-center mb-1",children:e.name}),e.category&&s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx(Vr,{variant:"outline",className:"border-emerald-500 text-emerald-400 bg-emerald-950/30",children:e.category})}),s.jsxs(Ko,{className:"text-center space-y-4",children:[s.jsx("div",{className:"text-gray-400 text-sm line-clamp-3",children:e.description||"Aucune description disponible pour ce candidat."}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 my-4",children:[s.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl border border-gray-700/50",children:[s.jsx("div",{className:"text-emerald-400 font-bold text-xl",children:M}),s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:"Votes"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl border border-gray-700/50",children:[s.jsxs("div",{className:"text-blue-400 font-bold text-xl",children:["#",f]}),s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:"Rang"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl border border-gray-700/50",children:[s.jsxs("div",{className:"text-purple-400 font-bold text-xl",children:[z.toFixed(1),"%"]}),s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:"Score"})]})]}),s.jsx("div",{className:"p-4 bg-emerald-900/20 border border-emerald-800/30 rounded-xl",children:s.jsx("p",{className:"text-emerald-200 font-medium italic",children:'"Votez pour moi et aidez-moi  atteindre la premire place ! Chaque voix compte."'})})]})]}),s.jsxs(al,{className:"flex-col sm:flex-row gap-2",children:[s.jsxs(ze,{onClick:q,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white",children:[s.jsx(Qp,{className:"w-4 h-4 mr-2"})," Partager"]}),s.jsx(ze,{onClick:()=>B(!1),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white border-0",children:"Fermer"})]})]})}),s.jsx(P0,{isOpen:b,onClose:()=>N(!1),onProceed:()=>{N(!1),C("/packs")}}),s.jsx(nl,{open:A.isOpen,onOpenChange:ie=>!ie&&T({isOpen:!1,onConfirm:null}),children:s.jsxs(Ho,{className:"bg-gray-900 text-white border-gray-700",children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Confirmer le vote"}),s.jsxs(Ko,{className:"text-gray-400",children:["Voter pour ",e.name," (",h," voix) pour ",Z," (pices achetes uniquement)?"]})]}),s.jsxs(al,{children:[s.jsx(sl,{className:"text-black",children:"Annuler"}),s.jsx(il,{onClick:A.onConfirm,className:"bg-emerald-600 text-white",children:"Confirmer"})]})]})})]})},PFe=({event:e,isUnlocked:t,onRefresh:r})=>{const[n,i]=j.useState([]),[a,o]=j.useState(null),{user:l}=bn(),[c,u]=j.useState(0),[f,h]=j.useState([]),[g,p]=j.useState("candidates"),[S,b]=j.useState("Tous"),[N,C]=j.useState(["Tous"]),[A,T]=j.useState("Tous"),F=j.useCallback(async()=>{const{data:q}=await Ze.from("candidates").select("*").eq("event_id",e.id).order("vote_count",{ascending:!1}),{data:ie}=await Ze.from("event_settings").select("*").eq("event_id",e.id).single();if(l){const{data:ae}=await Ze.from("profiles").select("coin_balance").eq("id",l.id).single();u((ae==null?void 0:ae.coin_balance)||0)}if(q){i(q);const ae=[...new Set(q.map(X=>X.category).filter(Boolean))];ae.length>0&&C(["Tous",...ae.sort()])}o(ie||{vote_price_pi:1,end_date:new Date(Date.now()+864e5).toISOString()})},[e.id,l]);j.useEffect(()=>{F()},[F]);const L=async()=>{if(l)try{for(const q of f)await Ze.rpc("cast_vote",{p_user_id:l.id,p_candidate_id:q.candidate.id,p_vote_count:q.quantity});lt({title:"Succs",description:"Votes du panier enregistrs!"}),h([]),F(),r&&r()}catch(q){lt({title:"Erreur",description:q.message})}},B=n.reduce((q,ie)=>q+(ie.vote_count||0),0),M=j.useMemo(()=>S==="Tous"?n:n.filter(q=>q.category===S),[n,S]),W=j.useMemo(()=>[...n].sort((q,ie)=>(ie.vote_count||0)-(q.vote_count||0)),[n]),z=q=>W.findIndex(ie=>ie.id===q)+1,Z=j.useMemo(()=>A==="Tous"?W:n.filter(q=>q.category===A).sort((q,ie)=>(ie.vote_count||0)-(q.vote_count||0)),[n,A,W]),K=()=>{const q=new da,ie=Z;q.setFillColor(16,185,129),q.rect(0,0,210,40,"F"),q.setTextColor(255,255,255),q.setFontSize(22),q.setFont("helvetica","bold"),q.text("CLASSEMENT OFFICIEL",105,20,{align:"center"}),q.setFontSize(12),q.setFont("helvetica","normal"),q.text(e.title.toUpperCase()+(A!=="Tous"?` - CATGORIE: ${A.toUpperCase()}`:""),105,30,{align:"center"}),q.setTextColor(100,100,100),q.setFontSize(10),q.text(`Gnr le ${new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}  ${new Date().toLocaleTimeString("fr-FR")}`,105,50,{align:"center"});let ae=60;q.setFillColor(240,240,240),q.setDrawColor(200,200,200),q.rect(15,ae,180,10,"FD"),q.setTextColor(50,50,50),q.setFont("helvetica","bold"),q.text("RANG",25,ae+7),q.text("CANDIDAT",60,ae+7),q.text("CATGORIE",110,ae+7),q.text("VOTES",160,ae+7,{align:"right"}),q.text("SCORE",190,ae+7,{align:"right"}),ae+=10,q.setFont("helvetica","normal"),ie.forEach((X,se)=>{const he=B>0?((X.vote_count||0)/B*100).toFixed(1):"0.0",ce=se+1;se%2===1&&(q.setFillColor(250,250,250),q.rect(15,ae,180,12,"F")),ae>270&&(q.addPage(),ae=20),q.setFont("helvetica","bold"),ce===1?q.setTextColor(212,175,55):ce===2?q.setTextColor(120,120,120):ce===3?q.setTextColor(165,80,30):q.setTextColor(50,50,50),q.text(`#${ce}`,25,ae+8),q.setTextColor(0,0,0),q.setFont("helvetica","bold"),q.text(X.name,60,ae+8),q.setFont("helvetica","normal"),q.setTextColor(100,100,100),q.text(X.category||"-",110,ae+8),q.setTextColor(80,80,80),q.text(`${X.vote_count||0}`,160,ae+8,{align:"right"}),q.setFont("helvetica","bold"),q.setTextColor(16,185,129),q.text(`${he}%`,190,ae+8,{align:"right"}),q.setDrawColor(230,230,230),q.line(15,ae+12,195,ae+12),ae+=12}),q.setFontSize(8),q.setTextColor(150,150,150),q.text("Document gnr par BonPlanInfos - Systme de Vote Scuris",105,290,{align:"center"}),q.save(`classement-${A==="Tous"?"general":A.toLowerCase()}-${e.title.substring(0,10).replace(/[^a-z0-9]/gi,"_")}.pdf`),lt({title:"PDF gnr",description:"Le classement a t tlcharg."})};return t?s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vote"}),l&&s.jsxs(Vr,{variant:"outline",className:"text-amber-400 border-amber-400",children:[s.jsx(Ua,{className:"w-3 h-3 mr-1"})," Solde Achet: ",c,""]})]}),a&&s.jsx(TFe,{endDate:a.end_date}),g==="candidates"&&N.length>1&&s.jsx("div",{className:"overflow-x-auto pb-2 scrollbar-hide",children:s.jsx("div",{className:"flex space-x-2",children:N.map(q=>s.jsx("button",{onClick:()=>b(q),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${S===q?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:q},q))})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs(O0,{value:g,onValueChange:p,className:"w-full",children:[s.jsxs(Th,{className:"bg-gray-800 w-full border border-gray-700",children:[s.jsxs(Hn,{value:"candidates",className:"flex-1 data-[state=active]:bg-gray-700 data-[state=active]:text-white text-gray-400",children:[s.jsx(U2e,{className:"w-4 h-4 mr-2"})," Candidats"]}),s.jsxs(Hn,{value:"ranking",className:"flex-1 data-[state=active]:bg-gray-700 data-[state=active]:text-white text-gray-400",children:[s.jsx(mj,{className:"w-4 h-4 mr-2"})," Classement"]})]}),s.jsx(qn,{value:"candidates",children:M.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map((q,ie)=>s.jsx(kFe,{candidate:q,totalVotes:B,votePrice:(a==null?void 0:a.vote_price_pi)||1,onVote:()=>{F(),r&&r()},settings:a,isFinished:!1,index:ie,isSelected:f.some(ae=>ae.candidate.id===q.id),onSelect:(ae,X)=>h(se=>[...se,{candidate:ae,quantity:X,price:a==null?void 0:a.vote_price_pi}]),event:e,rank:z(q.id)},q.id))}):s.jsxs("div",{className:"text-center py-12 bg-gray-800/50 rounded-xl border border-gray-700 border-dashed",children:[s.jsx(JD,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:"Aucun candidat dans cette catgorie."})]})}),s.jsx(qn,{value:"ranking",children:s.jsxs(Yt,{className:"bg-gray-800 border-gray-700",children:[s.jsx(Wr,{children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs(qr,{className:"text-white flex items-center gap-2",children:[s.jsx(wh,{className:"text-yellow-500 w-5 h-5"})," Leaderboard"]}),s.jsx("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto",children:N.length>1&&N.map(q=>s.jsx("button",{onClick:()=>T(q),className:`px-3 py-1 rounded-md text-xs font-medium whitespace-nowrap transition-colors border ${A===q?"bg-emerald-600 text-white border-emerald-600":"bg-transparent text-gray-400 border-gray-600 hover:border-gray-400"}`,children:q==="Tous"?"Gnral":q},q))}),s.jsxs(ze,{onClick:K,variant:"outline",size:"sm",className:"bg-emerald-600 border-0 text-white hover:bg-emerald-700 whitespace-nowrap",children:[s.jsx(x2e,{className:"w-4 h-4 mr-2"})," PDF (",A==="Tous"?"Gnral":A,")"]})]})}),s.jsx(Qt,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-gray-700",children:Z.length>0?Z.map((q,ie)=>{const ae=ie+1,X=B>0?((q.vote_count||0)/B*100).toFixed(1):0;let se;return ae===1?se=s.jsx("div",{className:"bg-yellow-500/20 text-yellow-500 p-2 rounded-full border border-yellow-500/50",children:s.jsx(Zp,{className:"w-5 h-5"})}):ae===2?se=s.jsx("div",{className:"bg-gray-400/20 text-gray-400 p-2 rounded-full border border-gray-400/50",children:s.jsx("span",{className:"font-bold w-5 h-5 flex items-center justify-center",children:"2"})}):ae===3?se=s.jsx("div",{className:"bg-orange-700/20 text-orange-600 p-2 rounded-full border border-orange-700/50",children:s.jsx("span",{className:"font-bold w-5 h-5 flex items-center justify-center",children:"3"})}):se=s.jsxs("span",{className:"text-gray-500 font-mono font-bold text-lg w-9 text-center",children:["#",ae]}),s.jsxs("div",{className:"flex items-center p-4 hover:bg-gray-700/50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 mr-4 w-10 flex justify-center",children:se}),s.jsx("div",{className:"flex-shrink-0 mr-4",children:s.jsx("img",{src:q.photo_url||"/api/placeholder/40/40",className:"w-10 h-10 rounded-full object-cover border border-gray-600",alt:q.name})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:q.name}),s.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1.5 max-w-[100px]",children:s.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full",style:{width:`${X}%`}})}),s.jsxs("span",{className:"text-xs text-gray-400",children:[X,"%"]}),q.category&&s.jsx(Vr,{variant:"outline",className:"text-[10px] border-gray-600 text-gray-400 h-4 px-1",children:q.category})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-bold text-white",children:q.vote_count||0}),s.jsx("div",{className:"text-xs text-gray-500",children:"votes"})]})]},q.id)}):s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucun candidat trouv pour ce classement."})})})]})})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Yt,{className:"bg-gray-800 border-gray-700 sticky top-4",children:[s.jsx(Wr,{children:s.jsxs(qr,{className:"text-white text-lg flex items-center",children:[s.jsx(im,{className:"mr-2"})," Panier (",f.length,")"]})}),s.jsx(Qt,{children:f.length>0?s.jsxs("div",{className:"space-y-3",children:[f.map((q,ie)=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-gray-900/50 p-2 rounded border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-900 flex items-center justify-center text-emerald-400 text-xs font-bold",children:q.quantity}),s.jsx("span",{className:"text-gray-300 truncate max-w-[120px]",children:q.candidate.name})]}),s.jsxs("span",{className:"text-emerald-400 font-mono",children:[q.quantity*q.price,""]})]},ie)),s.jsx(EFe,{}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"text-gray-400",children:"Total"}),s.jsxs("span",{className:"text-xl font-bold text-emerald-400",children:[f.reduce((q,ie)=>q+ie.quantity*ie.price,0),""]})]}),s.jsx(ze,{onClick:L,className:"w-full mt-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:"Confirmer le paiement"}),s.jsx(ze,{onClick:()=>h([]),variant:"ghost",size:"sm",className:"w-full text-gray-500 hover:text-red-400 h-auto py-1 text-xs",children:"Vider le panier"})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(im,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"Votre panier est vide"})]})})]})})]})]}):null},OFe=({isOpen:e,onClose:t,eventId:r,organizerId:n})=>{const[i,a]=j.useState(null),[o,l]=j.useState(!1);return j.useEffect(()=>{e&&r&&(async()=>{l(!0);try{const{data:u,error:f}=await Ze.rpc("get_verification_stats",{p_event_id:r,p_organizer_id:n});if(f)throw f;a(u==null?void 0:u.stats)}catch(u){console.error("Error stats:",u)}finally{l(!1)}})()},[e,r,n]),s.jsx(No,{open:e,onOpenChange:t,children:s.jsxs(fo,{className:"sm:max-w-md",children:[s.jsxs(So,{children:[s.jsxs(Co,{className:"flex items-center gap-2",children:[s.jsx(GD,{className:"w-5 h-5 text-primary"})," Statistiques de Validation"]}),s.jsx(tl,{children:"tat des entres en temps rel"})]}),o?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"animate-spin"})}):i?s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Billets Vendus"}),s.jsx("p",{className:"text-2xl font-bold",children:i.total_tickets})]}),s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg text-center border border-primary/20",children:[s.jsx("p",{className:"text-xs text-primary uppercase font-bold",children:"Valids / Entrs"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:i.verified_tickets})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Taux de prsence"}),s.jsxs("span",{className:"font-bold",children:[i.verification_rate,"%"]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${i.verification_rate}%`}})})]}),i.duplicate_scans>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600 bg-yellow-50 p-2 rounded border border-yellow-200",children:[s.jsx(Ll,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.duplicate_scans," tentatives de doublons dtectes"]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Aucune donne disponible"})]})})},IFe=({description:e})=>{const[t,r]=j.useState(!1),n=300;if(!e)return null;const i=e.length>n,a=t?e:e.slice(0,n);return s.jsxs("div",{className:"prose dark:prose-invert max-w-none text-gray-600 dark:text-gray-300",children:[s.jsxs("p",{className:"whitespace-pre-line",children:[a,!t&&i&&"..."]}),i&&s.jsx(ze,{variant:"ghost",onClick:()=>r(!t),className:"mt-2 p-0 h-auto font-semibold text-primary hover:text-primary/80 hover:bg-transparent flex items-center",children:t?s.jsxs(s.Fragment,{children:["Voir moins ",s.jsx(GZ,{className:"ml-1 w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Voir plus ",s.jsx(pj,{className:"ml-1 w-4 h-4"})]})})]})},Kse=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t===0)throw n;return await new Promise(i=>setTimeout(i,r)),Kse(e,t-1,r*1.5)}},FFe=()=>{const{id:e}=BD(),t=Sa(),{userProfile:r,forceRefreshUserProfile:n}=Ja(),{user:i}=bn(),[a,o]=j.useState(null),[l,c]=j.useState(null),[u,f]=j.useState([]),[h,g]=j.useState(!0),[p,S]=j.useState(!1),[b,N]=j.useState(!1),[C,A]=j.useState(!1),[T,F]=j.useState({isOpen:!1,type:null,cost:0,breakdown:null,action:null}),[L,B]=j.useState(!1),[M,W]=j.useState(!1),[z,Z]=j.useState(!1),[K,q]=j.useState(!1),[ie,ae]=j.useState({total_rented:0,gross_revenue:0,organizer_net:0,platform_fee:0,loading:!1}),X=i==null?void 0:i.id,se=r==null?void 0:r.user_type,he=j.useCallback(async()=>{if(e){g(!0),console.log("Fetching event data for ID:",e);try{const{data:Ne,error:Se}=await Kse(()=>Ze.from("events").select("*, organizer:organizer_id(full_name), category:category_id(name, slug)").eq("id",e).maybeSingle());if(Se)throw Se;if(!Ne){console.error("Event not found"),o(null);return}o(Ne);let je=null;if(Ne.event_type==="raffle"){const{data:at}=await Ze.from("raffle_events").select("*").eq("event_id",e).maybeSingle();je=at}else if(Ne.event_type==="stand_rental"){const{data:at}=await Ze.from("stand_events").select("*").eq("event_id",e).maybeSingle();je=at}else if(Ne.event_type==="ticketing"){const{data:at}=await Ze.from("ticketing_events").select("*").eq("event_id",e).maybeSingle();je=at;const{data:ot}=await Ze.from("ticket_types").select("*").eq("event_id",e).eq("is_active",!0);f(ot||[])}c(je);const Ge=X&&Ne.organizer_id===X,De=se&&["super_admin","admin","secretary"].includes(se);if(Ge||De||Ne.event_type!=="protected")console.log("Access granted: Owner/Admin/Public"),S(!0);else if(X){console.log("Checking protected access for user:",X);const{data:at,error:ot}=await Ze.from("protected_event_access").select("status, expires_at").eq("event_id",e).eq("user_id",X).eq("status","active").gt("expires_at",new Date().toISOString()).maybeSingle();ot&&ot.code!=="PGRST116"&&console.error("Error checking access:",ot),console.log("Access data found:",at),S(!!at)}else console.log("Access denied: User not logged in or no access"),S(!1)}catch(Ne){console.error("Error fetching event:",Ne),o(null)}finally{g(!1)}}},[e,X,se]);j.useEffect(()=>{he()},[he]);const ce=i&&(a==null?void 0:a.organizer_id)===i.id;j.useEffect(()=>{ce&&(a==null?void 0:a.event_type)==="stand_rental"&&(async()=>{ae(Se=>({...Se,loading:!0}));try{const{count:Se}=await Ze.from("stand_rentals").select("*",{count:"exact",head:!0}).in("stand_event_id",(await Ze.from("stand_events").select("id").eq("event_id",a.id)).data.map(ot=>ot.id)).eq("status","confirmed"),{data:je}=await Ze.from("organizer_earnings").select("earnings_coins, platform_commission, amount_pi").eq("event_id",a.id).eq("transaction_type","stand_rental"),Ge=(je==null?void 0:je.reduce((ot,ht)=>ot+(ht.amount_pi||0),0))||0,De=(je==null?void 0:je.reduce((ot,ht)=>ot+(ht.earnings_coins||0),0))||0,at=(je==null?void 0:je.reduce((ot,ht)=>ot+(ht.platform_commission||0),0))||0;ae({total_rented:Se||0,gross_revenue:Ge,organizer_net:De,platform_fee:at,loading:!1})}catch(Se){console.error("Failed to fetch stand stats",Se),ae(je=>({...je,loading:!1}))}})()},[ce,a]);const ge=()=>{he(),n&&n()},we=async()=>{if(!(!i||!a)&&!L){console.log("Executing unlock for event:",a.id),B(!0);try{const{data:Ne,error:Se}=await Ze.rpc("access_protected_event",{p_event_id:a.id,p_user_id:i.id});if(Se)throw console.error("RPC Error:",Se),Se;if(console.log("RPC Success:",Ne),!Ne.success)throw new Error(Ne.message);lt({title:"Succs !",description:"L'vnement a t dbloqu. Bonne visite !",className:"bg-green-600 text-white"}),S(!0),ge()}catch(Ne){console.error("Unlock failed:",Ne),Ne.message&&Ne.message.includes("Solde insuffisant")?A(!0):lt({title:"Erreur",description:Ne.message||"Une erreur est survenue lors du dblocage.",variant:"destructive"})}finally{F({isOpen:!1,type:null,cost:0,breakdown:null,action:null}),B(!1)}}},Ce=async()=>{if(a){Z(!0);try{if(a.cover_image){const Se=zD(a.cover_image);Se&&await Ze.storage.from(Se.bucket).remove([Se.path])}const{error:Ne}=await Ze.rpc("delete_event_completely",{p_event_id:a.id});if(Ne)throw Ne;lt({title:"Succs",description:"vnement supprim avec succs."}),t("/events")}catch{lt({title:"Erreur",description:"Impossible de supprimer l'vnement.",variant:"destructive"})}finally{Z(!1),W(!1)}}},Q=async()=>{if(!i){t("/auth");return}console.log("Unlock button clicked for event:",a.id);const Ne=2,Se=await bl.getWalletBalances(i.id);if(console.log("User balances:",Se),Se.total<Ne){console.log("Insufficient balance"),A(!0);return}const je=Math.min(Se.free_coin_balance,Ne),Ge=Ne-je;console.log("Opening confirmation dialog"),F({isOpen:!0,type:"Dbloquer cet vnement",cost:Ne,breakdown:{free:je,paid:Ge},action:we})},le=async Ne=>{Ne.preventDefault(),T.action&&await T.action()},ne=()=>{t("/verify-ticket")},ee=async()=>{if(!a)return;const Ne={title:a.title,text:a.description?a.description.substring(0,100)+"...":`Dcouvrez ${a.title}`,url:window.location.href};try{navigator.share?await navigator.share(Ne):(await navigator.clipboard.writeText(window.location.href),lt({title:"Lien copi",description:"Lien copi dans le presse-papier."}))}catch(Se){console.log("Error sharing:",Se)}};if(h)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})});if(!a)return s.jsx("div",{className:"min-h-screen bg-background text-center p-8",children:s.jsx("h1",{className:"text-2xl text-red-500",children:"vnement non trouv"})});const pe=a.cover_image||"https://images.unsplash.com/photo-1509930854872-0f61005b282e",xe=ce||r&&["super_admin","admin","secretary"].includes(r.user_type);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(yE,{pageData:{title:a.title,description:a.description,ogImage:pe}}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs(ze,{variant:"ghost",onClick:()=>t(-1),children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ze,{variant:"outline",size:"sm",onClick:ee,children:[s.jsx(Qp,{className:"w-4 h-4 mr-2"}),"Partager"]}),xe&&s.jsxs(ze,{variant:"destructive",size:"sm",onClick:()=>W(!0),children:[s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg group",children:[s.jsx("img",{className:"w-full h-64 md:h-96 object-cover transition-transform duration-700 group-hover:scale-105",alt:a.title,src:pe}),!p&&s.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center backdrop-blur-sm p-6 text-center",children:[s.jsx(N0,{className:"w-16 h-16 text-primary mb-4 animate-bounce"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Contenu Verrouill"}),s.jsx("p",{className:"text-gray-200 mb-6 max-w-md",children:"Cet vnement est protg. Dbloquez-le pour accder aux dtails."}),s.jsxs(ze,{onClick:Q,size:"lg",className:"bg-yellow-500 text-black hover:bg-yellow-400 font-bold shadow-lg transform hover:scale-105 transition-all",children:[s.jsx(Ua,{className:"mr-2 h-5 w-5"})," Dbloquer (2)"]})]})]}),p&&a.event_date&&s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(mae,{eventDate:a.event_date,showMotivation:!0,size:"large",className:"justify-center"})}),p?s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(Yt,{className:"border-none shadow-md overflow-hidden",children:s.jsxs(Qt,{className:"p-8",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:a.title}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-muted-foreground mt-3",children:[s.jsxs(Vr,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(jo,{className:"w-3 h-3"})," ",new Date(a.event_date).toLocaleDateString()]}),s.jsxs(Vr,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(to,{className:"w-3 h-3"})," ",a.city,", ",a.country]})]})]})}),s.jsx(IFe,{description:a.description})]})}),a.event_type==="voting"&&s.jsx(PFe,{event:a,isUnlocked:p,onRefresh:ge}),a.event_type==="raffle"&&s.jsx(CFe,{raffleData:l,eventId:a.id,isUnlocked:p,onPurchaseSuccess:ge}),a.event_type==="stand_rental"&&s.jsx(AFe,{event:a,isUnlocked:p,onRefresh:ge}),a.event_type==="ticketing"&&s.jsx("div",{id:"tickets-section",className:"scroll-mt-20",children:s.jsx(jFe,{event:a,ticketingData:l,ticketTypes:u,isUnlocked:p,onRefresh:ge})})]}):s.jsx(Yt,{className:"border-dashed border-2 border-muted",children:s.jsx(Qt,{className:"p-12 text-center text-muted-foreground",children:s.jsx("p",{children:"Dbloquez l'vnement pour voir le programme complet."})})})]}),s.jsxs("div",{className:"space-y-6",children:[ce&&a.event_type==="ticketing"&&s.jsxs(Yt,{className:"border-primary/50 bg-primary/5 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-primary/10 p-3 border-b border-primary/20 flex items-center justify-between",children:s.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[s.jsx(N0,{className:"w-4 h-4"})," Espace Organisateur"]})}),s.jsxs(Qt,{className:"p-4 space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Grez les entres pour cet vnement."}),s.jsxs(ze,{onClick:ne,className:"w-full font-bold",size:"lg",children:[s.jsx(a7,{className:"w-5 h-5 mr-2"})," Scanner Billets"]}),s.jsxs(ze,{onClick:()=>q(!0),variant:"outline",className:"w-full",children:[s.jsx(GD,{className:"w-4 h-4 mr-2"})," Statistiques Entres"]})]})]}),ce&&a.event_type==="stand_rental"&&s.jsxs(Yt,{className:"border-blue-500/50 bg-blue-50/10 shadow-lg overflow-hidden animate-in fade-in",children:[s.jsx("div",{className:"bg-blue-500/10 p-3 border-b border-blue-500/20",children:s.jsxs("h3",{className:"font-bold text-blue-700 flex items-center gap-2",children:[s.jsx(cd,{className:"w-4 h-4"})," Tableau de bord Stands"]})}),s.jsx(Qt,{className:"p-4 space-y-4",children:ie.loading?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Zt,{className:"animate-spin text-blue-500"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Stands Lous"}),s.jsx(Vr,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200 text-lg px-3",children:ie.total_rented})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Revenus Bruts"}),s.jsxs("span",{className:"font-medium",children:[ie.gross_revenue," "]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(I2e,{className:"w-3 h-3"})," Frais (5%)"]}),s.jsxs("span",{className:"text-red-500",children:["-",ie.platform_fee," "]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-dashed border-gray-200",children:[s.jsx("span",{className:"font-bold text-green-700",children:"Vos Gains Nets (95%)"}),s.jsxs("span",{className:"font-bold text-xl text-green-700",children:[ie.organizer_net," "]})]})]})]})})]}),s.jsx(cFe,{event:a,isUnlocked:p}),a.organizer&&s.jsx(Yt,{children:s.jsxs(Qt,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Organis par"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:a.organizer.full_name.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.organizer.full_name}),a.contact_phone&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Py,{className:"w-3 h-3"})," ",a.contact_phone]})]})]})]})})]})]})]}),s.jsx(P0,{isOpen:C,onClose:()=>A(!1),onProceed:()=>{A(!1),N(!0)}}),s.jsx(vE,{isOpen:b,onClose:()=>N(!1)}),s.jsx(nl,{open:T.isOpen,onOpenChange:Ne=>!Ne&&F({isOpen:!1,action:null}),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:T.type}),s.jsx(Ko,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{children:["Cot total : ",s.jsxs("span",{className:"font-bold text-primary text-lg",children:[T.cost,""]})]}),T.breakdown&&s.jsxs("div",{className:"text-sm bg-muted p-3 rounded-md border border-border/50",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Dtail du paiement :"}),s.jsxs("ul",{className:"space-y-1",children:[T.breakdown.free>0&&s.jsxs("li",{className:"flex justify-between text-green-600 font-medium",children:[s.jsx("span",{children:" Pices gratuites :"}),s.jsxs("span",{children:["-",T.breakdown.free,""]})]}),T.breakdown.paid>0&&s.jsxs("li",{className:"flex justify-between text-blue-600 font-medium",children:[s.jsx("span",{children:" Pices achetes :"}),s.jsxs("span",{children:["-",T.breakdown.paid,""]})]})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[s.jsx(Ua,{className:"w-3 h-3"})," Le dblocage est dfinitif pour cet vnement."]})]})})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Annuler"}),s.jsx(il,{onClick:le,disabled:L,className:"bg-primary",children:L?s.jsx(Zt,{className:"animate-spin mr-2"}):"Confirmer"})]})]})}),s.jsx(nl,{open:M,onOpenChange:W,children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{className:"text-destructive",children:"Supprimer dfinitivement ?"}),s.jsx(Ko,{children:"tes-vous sr de vouloir supprimer cet vnement ? Cette action est irrversible."})]}),s.jsxs(al,{children:[s.jsx(sl,{disabled:z,children:"Annuler"}),s.jsxs(il,{onClick:Ce,className:"bg-destructive hover:bg-destructive/90",disabled:z,children:[z?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})}),s.jsx(OFe,{isOpen:K,onClose:()=>q(!1),eventId:a==null?void 0:a.id,organizerId:i==null?void 0:i.id})]})},DFe=({userToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=js(),{user:i}=bn(),[a,o]=j.useState({full_name:"",email:"",phone:"",user_type:"user",country:"",city:""}),[l,c]=j.useState(!1);j.useEffect(()=>{e&&o({full_name:e.full_name||"",email:e.email||"",phone:e.phone||"",user_type:e.user_type||"user",country:e.country||"",city:e.city||""})},[e]);const u=h=>o(g=>({...g,[h.target.name]:h.target.value})),f=async h=>{h.preventDefault(),c(!0);try{if(e){const{error:g}=await Ze.rpc("update_user_role_securely",{p_user_id:e.id,p_new_role:a.user_type,p_caller_id:i.id});if(g)throw g;const{error:p}=await Ze.from("profiles").update({full_name:a.full_name,phone:a.phone,country:a.country,city:a.city}).eq("id",e.id);if(p)throw p}else throw new Error("La cration directe d'utilisateur n'est pas supporte depuis cette interface.");n({title:"Succs",description:"Utilisateur mis  jour avec succs."}),t()}catch(g){n({title:"Erreur",description:g.message,variant:"destructive"})}finally{c(!1)}};return s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsx(rr,{name:"full_name",placeholder:"Nom complet",value:a.full_name,onChange:u,required:!0}),s.jsx(rr,{name:"email",type:"email",placeholder:"Email",value:a.email,onChange:u,required:!0,disabled:!!e}),s.jsx(rr,{name:"phone",placeholder:"Tlphone",value:a.phone,onChange:u}),s.jsxs(_i,{name:"user_type",value:a.user_type,onValueChange:h=>o(g=>({...g,user_type:h})),children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Type d'utilisateur"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"user",children:"Utilisateur"}),s.jsx(on,{value:"organizer",children:"Organisateur"}),s.jsx(on,{value:"admin",children:"Admin"}),s.jsx(on,{value:"secretary",children:"Secrtaire"})]})]}),s.jsx(rr,{name:"country",placeholder:"Pays",value:a.country,onChange:u}),s.jsx(rr,{name:"city",placeholder:"Ville",value:a.city,onChange:u}),s.jsxs(ru,{children:[s.jsx(ze,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),s.jsx(ze,{type:"submit",disabled:l,children:l?s.jsx(Zt,{className:"animate-spin"}):"Mettre  jour"})]})]})},YV=({onRefresh:e})=>{const{toast:t}=js(),{userProfile:r}=Ja(),{invokeFunction:n}=bn(),[i,a]=j.useState("users"),[o,l]=j.useState([]),[c,u]=j.useState(!0),[f,h]=j.useState(""),[g,p]=j.useState(!1),[S,b]=j.useState(null),[N,C]=j.useState(!1),[A,T]=j.useState(null),[F,L]=j.useState(!1),[B,M]=j.useState({page:0,size:20}),[W,z]=j.useState(0),[Z,K]=j.useState({user_type:"all"}),[q,ie]=j.useState(null),[ae,X]=j.useState([]),[se,he]=j.useState(!1),[ce,ge]=j.useState(null),[we,Ce]=j.useState(!1),[Q,le]=j.useState(null),[ne,ee]=j.useState(""),[pe,xe]=j.useState(!1),[Ne,Se]=j.useState(!1),je=(r==null?void 0:r.user_type)==="super_admin",Ge=j.useCallback(async()=>{u(!0);let st=Ze.from("profiles").select("*",{count:"exact"});f&&(st=st.or(`full_name.ilike.%${f}%,email.ilike.%${f}%,affiliate_code.ilike.%${f}%`)),Z.user_type!=="all"&&(st=st.eq("user_type",Z.user_type));const{data:lr,error:_r,count:kr}=await st.order("created_at",{ascending:!1}).range(B.page*B.size,(B.page+1)*B.size-1);_r?(console.error("Fetch users error:",_r),t({title:"Erreur",description:"Impossible de charger les utilisateurs",variant:"destructive"})):(l(lr||[]),z(kr||0)),u(!1)},[f,Z,B,t]),De=j.useCallback(async()=>{he(!0);try{const{data:st,error:lr}=await Ze.from("reactivation_requests").select(`
                *,
                user:user_id (id, full_name, email, avatar_url, user_type)
            `).eq("status","pending").order("created_at",{ascending:!1});if(lr)throw lr;X(st||[])}catch(st){console.error("Fetch requests error:",st),t({title:"Erreur",description:"Impossible de charger les demandes",variant:"destructive"})}finally{he(!1)}},[t]);j.useEffect(()=>{Ge(),De()},[Ge,De]);const at=()=>{p(!1),Ge(),e&&e()},ot=async st=>{if(st.user_type==="super_admin"){t({title:"Action interdite",description:"Le Super Admin ne peut pas tre dsactiv.",variant:"destructive"});return}try{C(!0);const lr=!st.is_active,{error:_r}=await Ze.from("profiles").update({is_active:lr}).eq("id",st.id);if(_r)throw _r;t({title:lr?"Utilisateur ractiv":"Utilisateur dsactiv",description:`Le compte de ${st.full_name||st.email} est maintenant ${lr?"actif":"inactif"}.`,variant:lr?"success":"destructive"}),Ge()}catch(lr){console.error("Toggle status error:",lr),t({title:"Erreur",description:lr.message,variant:"destructive"})}finally{C(!1)}},ht=async()=>{if(A){if((r==null?void 0:r.user_type)!=="super_admin"){t({title:"Non autoris",description:"Seul le Super Admin peut supprimer un utilisateur.",variant:"destructive"});return}L(!0);try{const{error:st}=await Ze.rpc("delete_user_securely",{p_user_id:A.id,p_caller_id:r.id});if(st)throw st;t({title:"Succs",description:"Utilisateur supprim dfinitivement."}),Ge(),T(null)}catch(st){console.error("Delete error:",st),t({title:"Erreur",description:st.message,variant:"destructive"})}finally{L(!1)}}},Ue=async(st,lr,_r)=>{ge(st);try{if(_r==="approve"){const{error:kr}=await Ze.from("profiles").update({is_active:!0}).eq("id",lr);if(kr)throw kr;const{error:Gn}=await Ze.from("reactivation_requests").update({status:"approved",reviewed_by:r.id,reviewed_at:new Date().toISOString()}).eq("id",st);if(Gn)throw Gn;t({title:"Approuv",description:"Utilisateur ractiv avec succs.",variant:"success"})}else{const{error:kr}=await Ze.from("reactivation_requests").update({status:"rejected",reviewed_by:r.id,reviewed_at:new Date().toISOString()}).eq("id",st);if(kr)throw kr;t({title:"Rejet",description:"Demande de ractivation rejete."})}De(),Ge()}catch(kr){console.error("Request action error:",kr),t({title:"Erreur",description:kr.message,variant:"destructive"})}finally{ge(null)}},Ct=st=>{le(st),ee("000000"),Ce(!0)},tr=async()=>{if(!(!Q||!ne)){Se(!0);try{console.log("Invoking admin-reset-password for user:",Q.id);const{data:st,error:lr}=await n("admin-reset-password",{body:JSON.stringify({userId:Q.id,newPassword:ne})});if(lr)throw console.error("Invoke function returned error:",lr),lr;if(st&&st.error)throw console.error("Function data contained error:",st.error),new Error(st.error);t({title:"Mot de passe rinitialis",description:`Le mot de passe de ${Q.full_name||Q.email} a t dfini sur : ${ne}. L'email de l'utilisateur a galement t confirm.`,variant:"success",duration:1e4}),Ce(!1)}catch(st){console.error("Reset password error catch:",st),t({title:"Erreur technique",description:st.message||"Impossible de joindre le serveur. Vrifiez votre connexion ou ressayez.",variant:"destructive"})}finally{Se(!1)}}},Ot=st=>{st&&(navigator.clipboard.writeText(st),t({title:"Copi",description:"Code copi"}))},xr=Math.ceil(W/B.size);return s.jsxs("div",{children:[q&&s.jsx(bR,{user:q,onRevert:()=>window.location.reload()}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gestion des Utilisateurs"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>{Ge(),De()},children:[s.jsx(Fu,{className:`h-4 w-4 mr-2 ${c||se?"animate-spin":""}`}),"Actualiser"]})})]}),s.jsxs(O0,{value:i,onValueChange:a,className:"w-full",children:[s.jsxs(Th,{className:"grid w-full grid-cols-2 lg:w-[400px] mb-4",children:[s.jsxs(Hn,{value:"users",children:["Utilisateurs",s.jsx(Vr,{variant:"secondary",className:"ml-2 text-xs",children:W})]}),s.jsxs(Hn,{value:"requests",className:"relative",children:["Demandes Ractivation",ae.length>0&&s.jsx(Vr,{variant:"destructive",className:"ml-2 text-xs animate-pulse",children:ae.length})]})]}),s.jsxs(qn,{value:"users",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[s.jsx(rr,{placeholder:"Rechercher (nom, email, code)...",value:f,onChange:st=>h(st.target.value),className:"max-w-sm"}),s.jsxs(_i,{value:Z.user_type,onValueChange:st=>K({user_type:st}),children:[s.jsx(gi,{className:"w-[180px]",children:s.jsx(Ni,{placeholder:"Rle"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Tous"}),s.jsx(on,{value:"user",children:"Utilisateur"}),s.jsx(on,{value:"organizer",children:"Organisateur"}),s.jsx(on,{value:"admin",children:"Admin"}),s.jsx(on,{value:"secretary",children:"Secrtaire"})]})]})]}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Utilisateur"}),s.jsx(Cn,{children:"Statut"}),s.jsx(Cn,{children:"Rle"}),s.jsx(Cn,{children:"Code Parrainage"}),s.jsx(Cn,{children:"Filleuls"}),s.jsx(Cn,{children:"Date d'inscription"}),s.jsx(Cn,{className:"text-right",children:"Actions"})]})}),s.jsx(Ud,{children:c&&o.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:7,className:"h-24 text-center",children:s.jsx(Zt,{className:"mx-auto h-6 w-6 animate-spin"})})}):o.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Aucun utilisateur trouv."})}):o.map(st=>s.jsxs(di,{children:[s.jsxs(an,{children:[s.jsx("div",{className:"font-medium",children:st.full_name||"Sans nom"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:st.email}),s.jsxs("div",{className:"text-xs text-muted-foreground flex gap-1 items-center",children:[st.country," ",st.city&&` ${st.city}`]})]}),s.jsx(an,{children:s.jsx(Vr,{variant:st.is_active?"success":"destructive",className:"text-[10px]",children:st.is_active?"Actif":"Inactif"})}),s.jsx(an,{children:s.jsxs(Vr,{variant:st.user_type==="super_admin"?"destructive":"outline",className:"gap-1",children:[st.user_type,st.admin_type&&` (${st.admin_type})`]})}),s.jsx(an,{children:st.affiliate_code?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs font-mono",children:st.affiliate_code}),s.jsx(ze,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Ot(st.affiliate_code),children:s.jsx(F2,{className:"h-3 w-3"})})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Non gnr"})}),s.jsx(an,{children:s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("span",{className:"font-bold",children:st.referral_count||0})})}),s.jsx(an,{className:"text-xs text-muted-foreground",children:new Date(st.created_at).toLocaleDateString()}),s.jsx(an,{className:"text-right",children:s.jsxs(Y4,{children:[s.jsx(X4,{asChild:!0,children:s.jsx(ze,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(eQ,{className:"h-4 w-4"})})}),s.jsxs(By,{align:"end",children:[s.jsx(J4,{children:"Actions"}),s.jsx(s1,{}),s.jsxs(Qu,{onClick:()=>{b(st),p(!0)},children:[s.jsx(C_,{className:"mr-2 h-4 w-4"})," Modifier"]}),je&&s.jsxs(Qu,{onClick:()=>Ct(st),children:[s.jsx(N2e,{className:"mr-2 h-4 w-4"})," Rinit. mot de passe"]}),s.jsx(Qu,{onClick:()=>ot(st),disabled:N||st.user_type==="super_admin",children:st.is_active?s.jsxs(s.Fragment,{children:[s.jsx(qZ,{className:"mr-2 h-4 w-4 text-orange-500"}),s.jsx("span",{className:"text-orange-500",children:"Dsactiver"})]}):s.jsxs(s.Fragment,{children:[s.jsx(vl,{className:"mr-2 h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-green-500",children:"Ractiver"})]})}),je&&s.jsxs(s.Fragment,{children:[s.jsx(s1,{}),s.jsxs(Qu,{className:"text-red-600 focus:text-red-600 focus:bg-red-100 dark:focus:bg-red-900/20",onClick:()=>T(st),disabled:st.user_type==="super_admin",children:[s.jsx(Vo,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})]})})]},st.id))})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>M(st=>({...st,page:Math.max(0,st.page-1)})),disabled:B.page===0,children:"Prcdent"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",B.page+1," sur ",xr||1]}),s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>M(st=>({...st,page:Math.min(xr-1,st.page+1)})),disabled:B.page>=xr-1,children:"Suivant"})]})]}),s.jsx(qn,{value:"requests",children:s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Utilisateur"}),s.jsx(Cn,{children:"Message / Motif"}),s.jsx(Cn,{children:"Date de la demande"}),s.jsx(Cn,{className:"text-right",children:"Actions"})]})}),s.jsx(Ud,{children:se?s.jsx(di,{children:s.jsx(an,{colSpan:4,className:"h-24 text-center",children:s.jsx(Zt,{className:"mx-auto h-6 w-6 animate-spin"})})}):ae.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"Aucune demande de ractivation en attente."})}):ae.map(st=>{var lr,_r,kr;return s.jsxs(di,{children:[s.jsxs(an,{children:[s.jsx("div",{className:"font-medium",children:((lr=st.user)==null?void 0:lr.full_name)||"Inconnu"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(_r=st.user)==null?void 0:_r.email}),s.jsx(Vr,{variant:"outline",className:"mt-1",children:(kr=st.user)==null?void 0:kr.user_type})]}),s.jsx(an,{className:"max-w-[300px]",children:s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx(S_,{className:"h-4 w-4 mt-1 text-muted-foreground shrink-0"}),s.jsxs("span",{className:"text-sm italic text-muted-foreground",children:['"',st.request_message||"Pas de message",'"']})]})}),s.jsx(an,{className:"text-sm text-muted-foreground",children:ui(new Date(st.created_at),"dd MMM yyyy HH:mm",{locale:Tc})}),s.jsx(an,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(ze,{size:"sm",variant:"outline",className:"text-green-600 border-green-200 hover:bg-green-50 hover:text-green-700",onClick:()=>Ue(st.id,st.user_id,"approve"),disabled:!!ce,children:[ce===st.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(R2,{className:"h-4 w-4 mr-1"}),"Approuver"]}),s.jsxs(ze,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",onClick:()=>Ue(st.id,st.user_id,"reject"),disabled:!!ce,children:[ce===st.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(_j,{className:"h-4 w-4 mr-1"}),"Rejeter"]})]})})]},st.id)})})]})})})]}),s.jsx(No,{open:g,onOpenChange:p,children:s.jsxs(fo,{children:[s.jsx(So,{children:s.jsxs(Co,{children:[S?"Modifier":"Crer"," un utilisateur"]})}),s.jsx(DFe,{userToEdit:S,onSave:at,onCancel:()=>p(!1)})]})}),s.jsx(nl,{open:!!A,onOpenChange:st=>!st&&T(null),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsxs(Go,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Ll,{className:"h-5 w-5"}),"Confirmer la suppression"]}),s.jsxs(Ko,{children:["tes-vous sr de vouloir supprimer l'utilisateur ",s.jsx("strong",{children:(A==null?void 0:A.full_name)||(A==null?void 0:A.email)})," ?",s.jsx("br",{}),s.jsx("br",{}),"Cette action est irrversible et supprimera toutes les donnes associes (transactions, vnements, etc.)."]})]}),s.jsxs(al,{children:[s.jsx(sl,{disabled:F,children:"Annuler"}),s.jsxs(il,{onClick:ht,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",disabled:F,children:[F?s.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Supprimer dfinitivement"]})]})]})}),s.jsx(No,{open:we,onOpenChange:Ce,children:s.jsxs(fo,{children:[s.jsxs(So,{children:[s.jsx(Co,{children:"Rinitialiser le mot de passe"}),s.jsxs(tl,{children:["Dfinissez un mot de passe temporaire pour ",s.jsx("strong",{children:(Q==null?void 0:Q.full_name)||(Q==null?void 0:Q.email)}),"."]})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-2 relative",children:[s.jsx(rr,{value:ne,onChange:st=>ee(st.target.value),placeholder:"Nouveau mot de passe",type:pe?"text":"password"}),s.jsx("button",{type:"button",onClick:()=>xe(!pe),className:"absolute right-24 top-1/2 -translate-y-1/2 text-muted-foreground px-2",children:pe?s.jsx(YZ,{className:"h-4 w-4"}):s.jsx(Dm,{className:"h-4 w-4"})}),s.jsx(ze,{variant:"outline",onClick:()=>ee("Temp"+Math.floor(1e3+Math.random()*9e3)+"!"),children:"Gnrer"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(ze,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>Ot(ne),disabled:!ne,children:[s.jsx(F2,{className:"h-3 w-3 mr-2"})," Copier le mot de passe"]})}),s.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Important :"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[s.jsxs("li",{children:["Le mot de passe par dfaut est ",s.jsx("strong",{children:"000000"})]}),s.jsx("li",{children:"Communiquez ce mot de passe  l'utilisateur de manire scurise."}),s.jsx("li",{children:"L'email de l'utilisateur sera automatiquement marqu comme confirm."})]})]})]}),s.jsxs(ru,{children:[s.jsx(ze,{variant:"outline",onClick:()=>Ce(!1),children:"Annuler"}),s.jsx(ze,{onClick:tr,disabled:Ne,children:Ne?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):"Confirmer la rinitialisation"})]})]})})]})},RFe=({open:e,onOpenChange:t,onSuccess:r})=>{const{user:n}=bn(),{toast:i}=js(),[a,o]=j.useState(!1),[l,c]=j.useState(""),[u,f]=j.useState(0),[h,g]=j.useState("selection"),[p,S]=j.useState({transactions:!1,revenues:!1,tickets:!1,balances:!1}),[b,N]=j.useState(null),C=()=>{g("selection"),f(0),c(""),S({transactions:!1,revenues:!1,tickets:!1,balances:!1}),N(null),t(!1)},A=z=>{S(Z=>({...Z,[z]:!Z[z]}))},T=()=>{const z=Object.values(p).every(Boolean);S({transactions:!z,revenues:!z,tickets:!z,balances:!z})},F=Object.values(p).filter(Boolean).length,L=l==="SUPPRIMER",B=()=>{F!==0&&g("confirmation")},M=async()=>{if(n){console.log("Reset initiated:",p),o(!0),g("processing"),f(10);try{const z=setInterval(()=>{f(q=>q>=90?90:q+10)},300),{data:Z,error:K}=await Ze.rpc("reset_selective_data",{p_admin_id:n.id,p_reset_transactions:p.transactions,p_reset_revenues:p.revenues,p_reset_tickets:p.tickets,p_reset_balances:p.balances});if(clearInterval(z),f(100),K)throw K;if(Z&&!Z.success)throw new Error(Z.message);console.log("Reset completed successfully",Z),Z.counts&&N(Z.counts),g("success"),i({title:"Rinitialisation russie",description:"Les donnes slectionnes ont t supprimes.",variant:"success"}),r&&r()}catch(z){console.error("Reset error:",z),g("selection"),f(0),i({title:"Erreur critique",description:z.message||"Impossible de rinitialiser les donnes.",variant:"destructive"})}finally{o(!1)}}},W=()=>{const z=[];return p.tickets&&z.push("Billets & Participations"),p.revenues&&z.push("Revenus & Gains"),p.transactions&&z.push("Historique Transactions"),p.balances&&z.push("Soldes Utilisateurs"),z};return s.jsx(No,{open:e,onOpenChange:z=>!a&&(z?null:C()),children:s.jsxs(fo,{className:"sm:max-w-[550px] border-destructive/20",children:[s.jsxs(So,{children:[s.jsxs(Co,{className:"text-destructive flex items-center gap-2 text-xl",children:[s.jsx(Ll,{className:"h-6 w-6"}),"Nettoyage Slectif des Donnes"]}),s.jsxs(tl,{className:"text-base",children:["Slectionnez les catgories de donnes  supprimer dfinitivement. Cette action est ",s.jsx("strong",{className:"text-destructive",children:"IRRVERSIBLE"}),"."]})]}),h==="selection"&&s.jsxs("div",{className:"space-y-6 py-2",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[F," catgories slectionnes"]}),s.jsxs(ze,{variant:"ghost",size:"sm",onClick:T,className:"h-8 text-xs",children:[s.jsx(j2e,{className:"w-3 h-3 mr-2"}),F===4?"Tout dslectionner":"Tout slectionner"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsx(Yt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.tickets?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>A("tickets"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Su,{checked:p.tickets,onCheckedChange:()=>A("tickets")}),s.jsxs("div",{children:[s.jsx(kt,{className:"font-bold cursor-pointer",children:"Billets, Votes & Participations"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supprime tous les tickets, scans, votes, participations et remet  zro les compteurs d'vnements."})]})]})}),s.jsx(Yt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.revenues?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>A("revenues"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Su,{checked:p.revenues,onCheckedChange:()=>A("revenues")}),s.jsxs("div",{children:[s.jsx(kt,{className:"font-bold cursor-pointer",children:"Revenus & Gains"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supprime l'historique des gains organisateurs, les demandes de retrait et les commissions admin."})]})]})}),s.jsx(Yt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.transactions?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>A("transactions"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Su,{checked:p.transactions,onCheckedChange:()=>A("transactions")}),s.jsxs("div",{children:[s.jsx(kt,{className:"font-bold cursor-pointer",children:"Historique des Transactions"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supprime toutes les traces d'achats de pices, transferts et dpenses dans les logs."})]})]})}),s.jsx(Yt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.balances?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>A("balances"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Su,{checked:p.balances,onCheckedChange:()=>A("balances")}),s.jsxs("div",{children:[s.jsx(kt,{className:"font-bold cursor-pointer",children:"Soldes & Portefeuilles"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Remet  zro tous les soldes de pices utilisateurs et les portefeuilles organisateurs."})]})]})})]})]}),h==="confirmation"&&s.jsxs("div",{className:"space-y-6 py-4 animate-in fade-in slide-in-from-right-4",children:[s.jsxs("div",{className:"bg-destructive/10 p-4 rounded-lg border border-destructive/20",children:[s.jsxs("h4",{className:"font-bold text-destructive flex items-center gap-2 mb-2",children:[s.jsx(Ll,{className:"w-5 h-5"})," Attention Action Destructrice"]}),s.jsx("p",{className:"text-sm mb-2",children:"Vous tes sur le point de supprimer dfinitivement :"}),s.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 mb-4 font-medium",children:W().map((z,Z)=>s.jsx("li",{children:z},Z))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Les utilisateurs et les vnements eux-mmes ne seront PAS supprims, seules leurs donnes associes le seront."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{className:"text-foreground font-semibold",children:["Pour confirmer, crivez ",s.jsx("span",{className:"text-destructive font-black",children:"SUPPRIMER"})," ci-dessous :"]}),s.jsx(rr,{value:l,onChange:z=>c(z.target.value),className:"border-destructive focus-visible:ring-destructive font-mono tracking-wider",placeholder:"SUPPRIMER",autoFocus:!0})]})]}),h==="processing"&&s.jsxs("div",{className:"py-12 flex flex-col items-center justify-center space-y-6",children:[s.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-muted rounded-full"}),s.jsx("div",{className:"absolute inset-0 border-4 border-destructive rounded-full border-t-transparent animate-spin",style:{animationDuration:"1s"}}),s.jsxs("span",{className:"font-bold text-xl",children:[u,"%"]})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Nettoyage en cours..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Veuillez ne pas fermer cette fentre."})]})]}),h==="success"&&s.jsxs("div",{className:"py-8 flex flex-col items-center justify-center space-y-6 text-center animate-in zoom-in-95 duration-300",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2 shadow-lg",children:s.jsx(jp,{className:"w-12 h-12 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-700",children:"Nettoyage Termin !"}),s.jsx("p",{className:"text-muted-foreground",children:"La base de donnes a t mise  jour avec succs."})]}),b&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full bg-muted/30 p-4 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Transactions:"})," ",s.jsx(Vr,{variant:"outline",children:b.transactions||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Revenus:"})," ",s.jsx(Vr,{variant:"outline",children:b.revenues||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tickets:"})," ",s.jsx(Vr,{variant:"outline",children:b.tickets||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Comptes Reset:"})," ",s.jsx(Vr,{variant:"outline",children:b.balances||0})]})]})]}),s.jsx(ru,{className:"sm:justify-between gap-2 pt-4 border-t mt-2",children:h==="selection"?s.jsxs(s.Fragment,{children:[s.jsx(ze,{variant:"outline",onClick:C,children:"Annuler"}),s.jsxs(ze,{variant:"default",disabled:F===0,onClick:B,className:"w-full sm:w-auto",children:["Continuer (",F,")"]})]}):h==="confirmation"?s.jsxs(s.Fragment,{children:[s.jsx(ze,{variant:"outline",onClick:()=>g("selection"),children:"Retour"}),s.jsxs(ze,{variant:"destructive",disabled:!L,onClick:M,className:"bg-destructive hover:bg-destructive/90 w-full sm:w-auto shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Confirmer la suppression"]})]}):h==="success"?s.jsx(ze,{className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:C,children:"Fermer et Actualiser"}):null})]})})},MFe=()=>{const{appSettings:e,loading:t,refreshData:r}=Ja(),{user:n}=bn(),[i,a]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[f,h]=j.useState(""),[g,p]=j.useState(!1),[S,b]=j.useState(!1),[N,C]=j.useState(null);j.useEffect(()=>{e&&(a(e),h(e.logo_url||"")),A()},[e]);const A=async()=>{try{const{data:M,error:W}=await Ze.from("admin_logs").select("created_at").eq("action_type","reset_data").order("created_at",{ascending:!1}).limit(1).maybeSingle();M&&C(new Date(M.created_at))}catch(M){console.error("Failed to fetch reset log",M)}},T=async M=>{if(M){p(!0);try{const W=M.name.split(".").pop(),z=`public/logo-${Date.now()}.${W}`,{error:Z}=await Ze.storage.from("media").upload(z,M,{upsert:!0});if(Z)throw Z;const{data:{publicUrl:K}}=Ze.storage.from("media").getPublicUrl(z);h(K),a(q=>({...q,logo_url:K})),lt({title:"Logo tlvers avec succs"})}catch(W){lt({title:"Erreur de tlversement",description:W.message,variant:"destructive"})}finally{p(!1)}}},F=async()=>{if(l(!0),!i)return;const{id:M,...W}=i,z={...W,coin_to_fcfa_rate:Number(W.coin_to_fcfa_rate)||10,min_withdrawal_pi:Number(W.min_withdrawal_pi)||50,commission_rate_starter:Number(W.commission_rate_starter)||20,commission_rate_business:Number(W.commission_rate_business)||30,commission_rate_premium:Number(W.commission_rate_premium)||40,platform_fee_percentage:Number(W.platform_fee_percentage)||5,currency_eur_rate:Number(W.currency_eur_rate)||.0015,currency_usd_rate:Number(W.currency_usd_rate)||.0016,logo_url:f};delete z.coin_packs,delete z.promotion_packs,delete z.created_at,delete z.updated_at,delete z.updated_by;try{let Z;if(M){const{error:K}=await Ze.from("app_settings").update(z).eq("id",M);Z=K}else{const{error:K}=await Ze.from("app_settings").insert([z]);Z=K}if(Z)throw Z;lt({title:"Configuration mise  jour",description:"Les paramtres ont t sauvegards.",variant:"success"}),r&&r()}catch(Z){console.error("Config save error:",Z),lt({title:"Erreur lors de la mise  jour",description:Z.message,variant:"destructive"})}finally{l(!1)}},L=async()=>{u(!0);try{const{data:M,error:W}=await Ze.rpc("reset_application_data",{p_admin_id:n.id});if(W)throw W;if(M&&!M.success)throw new Error(M.message);lt({title:"Application Rinitialise !",description:M.message,duration:9e3}),window.location.reload()}catch(M){lt({title:"Erreur lors de la rinitialisation",description:M.message,variant:"destructive"})}finally{u(!1)}};if(t&&!i)return s.jsxs("div",{className:"flex flex-col justify-center items-center p-12 space-y-4",children:[s.jsx(Zt,{className:"w-10 h-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement de la configuration..."})]});const B=(M,W)=>{a(z=>({...z,[M]:W}))};return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs(Yt,{className:"shadow-lg rounded-xl",children:[s.jsx(Wr,{children:s.jsx(qr,{children:"Configuration de la plateforme"})}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"logo",children:"Logo de la page d'accueil"}),s.jsxs("div",{className:"flex items-center gap-4",children:[f?s.jsx("img",{src:f,alt:"Logo actuel",className:"w-16 h-16 object-contain rounded-md bg-gray-100 p-1 border"}):s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md flex items-center justify-center text-gray-400 border",children:s.jsx(Yg,{className:"w-6 h-6"})}),s.jsx(rr,{id:"logo",type:"file",onChange:M=>T(M.target.files[0]),className:"hidden"}),s.jsx(ze,{asChild:!0,variant:"outline",children:s.jsxs(kt,{htmlFor:"logo",className:"cursor-pointer",children:[g?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Yg,{className:"mr-2 h-4 w-4"}),"Changer le logo"]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"platformFee",children:"Frais de plateforme sur les transactions (%)"}),s.jsx(rr,{id:"platformFee",type:"number",value:(i==null?void 0:i.platform_fee_percentage)||5,onChange:M=>B("platform_fee_percentage",M.target.value)})]})]}),s.jsx("h3",{className:"text-lg font-semibold pt-4 border-t mt-6",children:"Valeurs Montaires"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Conversion Pices"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"1 Pice ="}),s.jsx(rr,{type:"number",value:(i==null?void 0:i.coin_to_fcfa_rate)||10,onChange:M=>B("coin_to_fcfa_rate",M.target.value),className:"w-24"}),s.jsx("span",{children:"FCFA"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"minWithdrawal",children:"Retrait minimum (pices)"}),s.jsx(rr,{id:"minWithdrawal",type:"number",value:(i==null?void 0:i.min_withdrawal_pi)||50,onChange:M=>B("min_withdrawal_pi",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"eurRate",children:"Taux EUR (pour 1 FCFA)"}),s.jsx(rr,{id:"eurRate",type:"number",step:"0.0001",value:(i==null?void 0:i.currency_eur_rate)||.0015,onChange:M=>B("currency_eur_rate",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"usdRate",children:"Taux USD (pour 1 FCFA)"}),s.jsx(rr,{id:"usdRate",type:"number",step:"0.0001",value:(i==null?void 0:i.currency_usd_rate)||.0016,onChange:M=>B("currency_usd_rate",M.target.value)})]})]}),s.jsx("h3",{className:"text-lg font-semibold pt-4 border-t mt-6",children:"Commissions Partenaires (%)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"commissionStarter",children:"Licence Starter"}),s.jsx(rr,{id:"commissionStarter",type:"number",value:(i==null?void 0:i.commission_rate_starter)||20,onChange:M=>B("commission_rate_starter",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"commissionBusiness",children:"Licence Business"}),s.jsx(rr,{id:"commissionBusiness",type:"number",value:(i==null?void 0:i.commission_rate_business)||30,onChange:M=>B("commission_rate_business",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"commissionPremium",children:"Licence Premium"}),s.jsx(rr,{id:"commissionPremium",type:"number",value:(i==null?void 0:i.commission_rate_premium)||40,onChange:M=>B("commission_rate_premium",M.target.value)})]})]}),s.jsxs(ze,{onClick:F,disabled:o||g,className:"w-full md:w-auto",children:[o?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sauvegarder la configuration"]})]})]}),s.jsxs(Yt,{className:"border-orange-500/50 shadow-lg rounded-xl mt-8 bg-orange-500/5",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(xj,{className:"h-5 w-5"})," Nettoyage des Donnes"]}),s.jsxs(Oa,{children:["Utile aprs une priode de test. Cela supprimera toutes les transactions et remettra  zro les compteurs, mais ",s.jsx("strong",{children:"gardera les utilisateurs et les vnements"}),"."]})]}),s.jsxs(Qt,{children:[N&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-4",children:[s.jsx(jh,{className:"w-3 h-3"})," Dernier nettoyage : ",N.toLocaleString("fr-FR")]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cette action est idale pour passer de la phase de test  la production sans devoir recrer tous les comptes et contenus."}),s.jsxs(ze,{variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-500 hover:text-white",onClick:()=>b(!0),children:[s.jsx(j_,{className:"mr-2 h-4 w-4"}),"Nettoyer les Transactions & Donnes"]})]})]}),s.jsxs(Yt,{className:"border-destructive shadow-lg rounded-xl mt-8 bg-destructive/5",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Ll,{className:"h-5 w-5"})," Zone de danger absolue"]}),s.jsx(Oa,{children:"Suppression totale de l'application."})]}),s.jsxs(Qt,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Cette action supprimera ",s.jsx("strong",{children:"TOUT"})," : utilisateurs (sauf admins), vnements, configurations, historiques. L'application repartira de zro."]}),s.jsxs(nl,{children:[s.jsx(wR,{asChild:!0,children:s.jsx(ze,{variant:"destructive",children:"Rinitialiser TOTALEMENT l'Application"})}),s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"tes-vous absolument certain ?"}),s.jsxs(Ko,{children:["Cette action est ",s.jsx("strong",{children:"IRREVERSIBLE"}),". Elle supprimera dfinitivement toutes les donnes de l'application (utilisateurs, vnements, transactions, etc.)  l'exception des comptes administrateurs."]})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Annuler"}),s.jsxs(il,{onClick:L,disabled:c,className:"bg-destructive hover:bg-destructive/90",children:[c?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Oui, TOUT supprimer"]})]})]})]})]})]}),s.jsx(RFe,{open:S,onOpenChange:b,onSuccess:()=>{A(),r&&r()}})]})};var LFe=Array.isArray,md=LFe,BFe=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,Yse=BFe,$Fe=Yse,UFe=typeof self=="object"&&self&&self.Object===Object&&self,zFe=$Fe||UFe||Function("return this")(),R0=zFe,VFe=R0,WFe=VFe.Symbol,h5=WFe,XV=h5,Xse=Object.prototype,HFe=Xse.hasOwnProperty,qFe=Xse.toString,tw=XV?XV.toStringTag:void 0;function GFe(e){var t=HFe.call(e,tw),r=e[tw];try{e[tw]=void 0;var n=!0}catch{}var i=qFe.call(e);return n&&(t?e[tw]=r:delete e[tw]),i}var KFe=GFe,YFe=Object.prototype,XFe=YFe.toString;function JFe(e){return XFe.call(e)}var ZFe=JFe,JV=h5,QFe=KFe,eDe=ZFe,tDe="[object Null]",rDe="[object Undefined]",ZV=JV?JV.toStringTag:void 0;function nDe(e){return e==null?e===void 0?rDe:tDe:ZV&&ZV in Object(e)?QFe(e):eDe(e)}var Mm=nDe;function aDe(e){return e!=null&&typeof e=="object"}var Lm=aDe,iDe=Mm,sDe=Lm,oDe="[object Symbol]";function lDe(e){return typeof e=="symbol"||sDe(e)&&iDe(e)==oDe}var Vy=lDe,cDe=md,uDe=Vy,dDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fDe=/^\w*$/;function hDe(e,t){if(cDe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||uDe(e)?!0:fDe.test(e)||!dDe.test(e)||t!=null&&e in Object(t)}var KR=hDe;function mDe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var C1=mDe;const Wy=Si(C1);var pDe=Mm,gDe=C1,xDe="[object AsyncFunction]",vDe="[object Function]",yDe="[object GeneratorFunction]",bDe="[object Proxy]";function wDe(e){if(!gDe(e))return!1;var t=pDe(e);return t==vDe||t==yDe||t==xDe||t==bDe}var YR=wDe;const va=Si(YR);var _De=R0,NDe=_De["__core-js_shared__"],SDe=NDe,G8=SDe,QV=function(){var e=/[^.]+$/.exec(G8&&G8.keys&&G8.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function CDe(e){return!!QV&&QV in e}var ADe=CDe,jDe=Function.prototype,EDe=jDe.toString;function TDe(e){if(e!=null){try{return EDe.call(e)}catch{}try{return e+""}catch{}}return""}var Jse=TDe,kDe=YR,PDe=ADe,ODe=C1,IDe=Jse,FDe=/[\\^$.*+?()[\]{}|]/g,DDe=/^\[object .+?Constructor\]$/,RDe=Function.prototype,MDe=Object.prototype,LDe=RDe.toString,BDe=MDe.hasOwnProperty,$De=RegExp("^"+LDe.call(BDe).replace(FDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UDe(e){if(!ODe(e)||PDe(e))return!1;var t=kDe(e)?$De:DDe;return t.test(IDe(e))}var zDe=UDe;function VDe(e,t){return e==null?void 0:e[t]}var WDe=VDe,HDe=zDe,qDe=WDe;function GDe(e,t){var r=qDe(e,t);return HDe(r)?r:void 0}var Ex=GDe,KDe=Ex,YDe=KDe(Object,"create"),_E=YDe,eW=_E;function XDe(){this.__data__=eW?eW(null):{},this.size=0}var JDe=XDe;function ZDe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var QDe=ZDe,e7e=_E,t7e="__lodash_hash_undefined__",r7e=Object.prototype,n7e=r7e.hasOwnProperty;function a7e(e){var t=this.__data__;if(e7e){var r=t[e];return r===t7e?void 0:r}return n7e.call(t,e)?t[e]:void 0}var i7e=a7e,s7e=_E,o7e=Object.prototype,l7e=o7e.hasOwnProperty;function c7e(e){var t=this.__data__;return s7e?t[e]!==void 0:l7e.call(t,e)}var u7e=c7e,d7e=_E,f7e="__lodash_hash_undefined__";function h7e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=d7e&&t===void 0?f7e:t,this}var m7e=h7e,p7e=JDe,g7e=QDe,x7e=i7e,v7e=u7e,y7e=m7e;function Hy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hy.prototype.clear=p7e;Hy.prototype.delete=g7e;Hy.prototype.get=x7e;Hy.prototype.has=v7e;Hy.prototype.set=y7e;var b7e=Hy;function w7e(){this.__data__=[],this.size=0}var _7e=w7e;function N7e(e,t){return e===t||e!==e&&t!==t}var XR=N7e,S7e=XR;function C7e(e,t){for(var r=e.length;r--;)if(S7e(e[r][0],t))return r;return-1}var NE=C7e,A7e=NE,j7e=Array.prototype,E7e=j7e.splice;function T7e(e){var t=this.__data__,r=A7e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():E7e.call(t,r,1),--this.size,!0}var k7e=T7e,P7e=NE;function O7e(e){var t=this.__data__,r=P7e(t,e);return r<0?void 0:t[r][1]}var I7e=O7e,F7e=NE;function D7e(e){return F7e(this.__data__,e)>-1}var R7e=D7e,M7e=NE;function L7e(e,t){var r=this.__data__,n=M7e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var B7e=L7e,$7e=_7e,U7e=k7e,z7e=I7e,V7e=R7e,W7e=B7e;function qy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qy.prototype.clear=$7e;qy.prototype.delete=U7e;qy.prototype.get=z7e;qy.prototype.has=V7e;qy.prototype.set=W7e;var SE=qy,H7e=Ex,q7e=R0,G7e=H7e(q7e,"Map"),JR=G7e,tW=b7e,K7e=SE,Y7e=JR;function X7e(){this.size=0,this.__data__={hash:new tW,map:new(Y7e||K7e),string:new tW}}var J7e=X7e;function Z7e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Q7e=Z7e,eRe=Q7e;function tRe(e,t){var r=e.__data__;return eRe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var CE=tRe,rRe=CE;function nRe(e){var t=rRe(this,e).delete(e);return this.size-=t?1:0,t}var aRe=nRe,iRe=CE;function sRe(e){return iRe(this,e).get(e)}var oRe=sRe,lRe=CE;function cRe(e){return lRe(this,e).has(e)}var uRe=cRe,dRe=CE;function fRe(e,t){var r=dRe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hRe=fRe,mRe=J7e,pRe=aRe,gRe=oRe,xRe=uRe,vRe=hRe;function Gy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gy.prototype.clear=mRe;Gy.prototype.delete=pRe;Gy.prototype.get=gRe;Gy.prototype.has=xRe;Gy.prototype.set=vRe;var ZR=Gy,Zse=ZR,yRe="Expected a function";function QR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yRe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(QR.Cache||Zse),r}QR.Cache=Zse;var Qse=QR;const bRe=Si(Qse);var wRe=Qse,_Re=500;function NRe(e){var t=wRe(e,function(n){return r.size===_Re&&r.clear(),n}),r=t.cache;return t}var SRe=NRe,CRe=SRe,ARe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jRe=/\\(\\)?/g,ERe=CRe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ARe,function(r,n,i,a){t.push(i?a.replace(jRe,"$1"):n||r)}),t}),TRe=ERe;function kRe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var eM=kRe,rW=h5,PRe=eM,ORe=md,IRe=Vy,FRe=1/0,nW=rW?rW.prototype:void 0,aW=nW?nW.toString:void 0;function eoe(e){if(typeof e=="string")return e;if(ORe(e))return PRe(e,eoe)+"";if(IRe(e))return aW?aW.call(e):"";var t=e+"";return t=="0"&&1/e==-FRe?"-0":t}var DRe=eoe,RRe=DRe;function MRe(e){return e==null?"":RRe(e)}var toe=MRe,LRe=md,BRe=KR,$Re=TRe,URe=toe;function zRe(e,t){return LRe(e)?e:BRe(e,t)?[e]:$Re(URe(e))}var roe=zRe,VRe=Vy,WRe=1/0;function HRe(e){if(typeof e=="string"||VRe(e))return e;var t=e+"";return t=="0"&&1/e==-WRe?"-0":t}var AE=HRe,qRe=roe,GRe=AE;function KRe(e,t){t=qRe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[GRe(t[r++])];return r&&r==n?e:void 0}var tM=KRe,YRe=tM;function XRe(e,t,r){var n=e==null?void 0:YRe(e,t);return n===void 0?r:n}var noe=XRe;const Dd=Si(noe);function JRe(e){return e==null}var ZRe=JRe;const Ka=Si(ZRe);var QRe=Mm,eMe=md,tMe=Lm,rMe="[object String]";function nMe(e){return typeof e=="string"||!eMe(e)&&tMe(e)&&QRe(e)==rMe}var aMe=nMe;const nx=Si(aMe);var aoe={exports:{}},hs={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM=Symbol.for("react.element"),nM=Symbol.for("react.portal"),jE=Symbol.for("react.fragment"),EE=Symbol.for("react.strict_mode"),TE=Symbol.for("react.profiler"),kE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),iMe=Symbol.for("react.server_context"),OE=Symbol.for("react.forward_ref"),IE=Symbol.for("react.suspense"),FE=Symbol.for("react.suspense_list"),DE=Symbol.for("react.memo"),RE=Symbol.for("react.lazy"),sMe=Symbol.for("react.offscreen"),ioe;ioe=Symbol.for("react.module.reference");function Pf(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rM:switch(e=e.type,e){case jE:case TE:case EE:case IE:case FE:return e;default:switch(e=e&&e.$$typeof,e){case iMe:case PE:case OE:case RE:case DE:case kE:return e;default:return t}}case nM:return t}}}hs.ContextConsumer=PE;hs.ContextProvider=kE;hs.Element=rM;hs.ForwardRef=OE;hs.Fragment=jE;hs.Lazy=RE;hs.Memo=DE;hs.Portal=nM;hs.Profiler=TE;hs.StrictMode=EE;hs.Suspense=IE;hs.SuspenseList=FE;hs.isAsyncMode=function(){return!1};hs.isConcurrentMode=function(){return!1};hs.isContextConsumer=function(e){return Pf(e)===PE};hs.isContextProvider=function(e){return Pf(e)===kE};hs.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rM};hs.isForwardRef=function(e){return Pf(e)===OE};hs.isFragment=function(e){return Pf(e)===jE};hs.isLazy=function(e){return Pf(e)===RE};hs.isMemo=function(e){return Pf(e)===DE};hs.isPortal=function(e){return Pf(e)===nM};hs.isProfiler=function(e){return Pf(e)===TE};hs.isStrictMode=function(e){return Pf(e)===EE};hs.isSuspense=function(e){return Pf(e)===IE};hs.isSuspenseList=function(e){return Pf(e)===FE};hs.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jE||e===TE||e===EE||e===IE||e===FE||e===sMe||typeof e=="object"&&e!==null&&(e.$$typeof===RE||e.$$typeof===DE||e.$$typeof===kE||e.$$typeof===PE||e.$$typeof===OE||e.$$typeof===ioe||e.getModuleId!==void 0)};hs.typeOf=Pf;aoe.exports=hs;var oMe=aoe.exports,lMe=Mm,cMe=Lm,uMe="[object Number]";function dMe(e){return typeof e=="number"||cMe(e)&&lMe(e)==uMe}var soe=dMe;const fMe=Si(soe);var hMe=soe;function mMe(e){return hMe(e)&&e!=+e}var pMe=mMe;const Ky=Si(pMe);var Cu=function(t){return t===0?0:t>0?1:-1},jg=function(t){return nx(t)&&t.indexOf("%")===t.length-1},Mr=function(t){return fMe(t)&&!Ky(t)},gMe=function(t){return Ka(t)},Ml=function(t){return Mr(t)||nx(t)},xMe=0,Yy=function(t){var r=++xMe;return"".concat(t||"").concat(r)},Au=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mr(t)&&!nx(t))return n;var a;if(jg(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Ky(a)&&(a=n),i&&a>r&&(a=r),a},Np=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},vMe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Ju=function(t,r){return Mr(t)&&Mr(r)?function(n){return t+n*(r-t)}:function(){return r}};function _C(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Dd(n,t))===r})}var yMe=function(t,r){return Mr(t)&&Mr(r)?t-r:nx(t)&&nx(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function x2(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eI(e){"@babel/helpers - typeof";return eI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eI(e)}var bMe=["viewBox","children"],wMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iW=["points","pathLength"],K8={svg:bMe,polygon:iW,polyline:iW},aM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],NC=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!Wy(n))return null;var i={};return Object.keys(n).forEach(function(a){aM.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},_Me=function(t,r,n){return function(i){return t(r,n,i),null}},ax=function(t,r,n){if(!Wy(t)||eI(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];aM.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=_Me(o,r,n))}),i},NMe=["children"],SMe=["children"];function sW(e,t){if(e==null)return{};var r=CMe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tI(e){"@babel/helpers - typeof";return tI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tI(e)}var oW={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pm=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lW=null,Y8=null,iM=function e(t){if(t===lW&&Array.isArray(Y8))return Y8;var r=[];return j.Children.forEach(t,function(n){Ka(n)||(oMe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Y8=r,lW=t,r};function Af(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return pm(i)}):n=[pm(t)],iM(e).forEach(function(i){var a=Dd(i,"type.displayName")||Dd(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function bd(e,t){var r=Af(e,t);return r&&r[0]}var cW=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Mr(n)||n<=0||!Mr(i)||i<=0)},AMe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jMe=function(t){return t&&t.type&&nx(t.type)&&AMe.indexOf(t.type)>=0},EMe=function(t){return t&&tI(t)==="object"&&"clipDot"in t},TMe=function(t,r,n,i){var a,o=(a=K8==null?void 0:K8[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!va(t)&&(i&&o.includes(r)||wMe.includes(r))||n&&aM.includes(r)},la=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!Wy(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;TMe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},rI=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return uW(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!uW(a,o))return!1}return!0},uW=function(t,r){if(Ka(t)&&Ka(r))return!0;if(!Ka(t)&&!Ka(r)){var n=t.props||{},i=n.children,a=sW(n,NMe),o=r.props||{},l=o.children,c=sW(o,SMe);return i&&l?x2(a,c)&&rI(i,l):!i&&!l?x2(a,c):!1}return!1},dW=function(t,r){var n=[],i={};return iM(t).forEach(function(a,o){if(jMe(a))n.push(a);else if(a){var l=pm(a.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var h=u(a,l,o);n.push(h),i[l]=!0}}}),n},kMe=function(t){var r=t&&t.type;return r&&oW[r]?oW[r]:null},PMe=function(t,r){return iM(r).indexOf(t)},OMe=["children","width","height","viewBox","className","style","title","desc"];function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nI.apply(this,arguments)}function IMe(e,t){if(e==null)return{};var r=FMe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aI(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=IMe(e,OMe),f=i||{width:r,height:n,x:0,y:0},h=Ga("recharts-surface",a);return Ie.createElement("svg",nI({},la(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Ie.createElement("title",null,l),Ie.createElement("desc",null,c),t)}var DMe=["children","className"];function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iI.apply(this,arguments)}function RMe(e,t){if(e==null)return{};var r=MMe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ii=Ie.forwardRef(function(e,t){var r=e.children,n=e.className,i=RMe(e,DMe),a=Ga("recharts-layer",n);return Ie.createElement("g",iI({className:a},la(i,!0),{ref:t}),r)}),vh=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function LMe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var BMe=LMe,$Me=BMe;function UMe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:$Me(e,t,r)}var zMe=UMe,VMe="\\ud800-\\udfff",WMe="\\u0300-\\u036f",HMe="\\ufe20-\\ufe2f",qMe="\\u20d0-\\u20ff",GMe=WMe+HMe+qMe,KMe="\\ufe0e\\ufe0f",YMe="\\u200d",XMe=RegExp("["+YMe+VMe+GMe+KMe+"]");function JMe(e){return XMe.test(e)}var ooe=JMe;function ZMe(e){return e.split("")}var QMe=ZMe,loe="\\ud800-\\udfff",eLe="\\u0300-\\u036f",tLe="\\ufe20-\\ufe2f",rLe="\\u20d0-\\u20ff",nLe=eLe+tLe+rLe,aLe="\\ufe0e\\ufe0f",iLe="["+loe+"]",sI="["+nLe+"]",oI="\\ud83c[\\udffb-\\udfff]",sLe="(?:"+sI+"|"+oI+")",coe="[^"+loe+"]",uoe="(?:\\ud83c[\\udde6-\\uddff]){2}",doe="[\\ud800-\\udbff][\\udc00-\\udfff]",oLe="\\u200d",foe=sLe+"?",hoe="["+aLe+"]?",lLe="(?:"+oLe+"(?:"+[coe,uoe,doe].join("|")+")"+hoe+foe+")*",cLe=hoe+foe+lLe,uLe="(?:"+[coe+sI+"?",sI,uoe,doe,iLe].join("|")+")",dLe=RegExp(oI+"(?="+oI+")|"+uLe+cLe,"g");function fLe(e){return e.match(dLe)||[]}var hLe=fLe,mLe=QMe,pLe=ooe,gLe=hLe;function xLe(e){return pLe(e)?gLe(e):mLe(e)}var vLe=xLe,yLe=zMe,bLe=ooe,wLe=vLe,_Le=toe;function NLe(e){return function(t){t=_Le(t);var r=bLe(t)?wLe(t):void 0,n=r?r[0]:t.charAt(0),i=r?yLe(r,1).join(""):t.slice(1);return n[e]()+i}}var SLe=NLe,CLe=SLe,ALe=CLe("toUpperCase"),jLe=ALe;const ME=Si(jLe);function Ds(e){return function(){return e}}const moe=Math.cos,SC=Math.sin,Oh=Math.sqrt,CC=Math.PI,LE=2*CC,lI=Math.PI,cI=2*lI,dg=1e-6,ELe=cI-dg;function poe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function TLe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return poe;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class kLe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?poe:TLe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,h=l-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>dg)if(!(Math.abs(h*c-u*f)>dg)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,S=i-l,b=c*c+u*u,N=p*p+S*S,C=Math.sqrt(b),A=Math.sqrt(g),T=a*Math.tan((lI-Math.acos((b+g-N)/(2*C*A)))/2),F=T/A,L=T/C;Math.abs(F-1)>dg&&this._append`L${t+F*f},${r+F*h}`,this._append`A${a},${a},0,0,${+(h*p>f*S)},${this._x1=t+L*c},${this._y1=r+L*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,h=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>dg||Math.abs(this._y1-f)>dg)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%cI+cI),g>ELe?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:g>dg&&this._append`A${n},${n},0,${+(g>=lI)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function sM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kLe(t)}function oM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function goe(e){this._context=e}goe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function BE(e){return new goe(e)}function xoe(e){return e[0]}function voe(e){return e[1]}function yoe(e,t){var r=Ds(!0),n=null,i=BE,a=null,o=sM(l);e=typeof e=="function"?e:e===void 0?xoe:Ds(e),t=typeof t=="function"?t:t===void 0?voe:Ds(t);function l(c){var u,f=(c=oM(c)).length,h,g=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=f;++u)!(u<f&&r(h=c[u],u,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(h,u,c),+t(h,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ds(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ds(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ds(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function oN(e,t,r){var n=null,i=Ds(!0),a=null,o=BE,l=null,c=sM(u);e=typeof e=="function"?e:e===void 0?xoe:Ds(+e),t=typeof t=="function"?t:Ds(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?voe:Ds(+r);function u(h){var g,p,S,b=(h=oM(h)).length,N,C=!1,A,T=new Array(b),F=new Array(b);for(a==null&&(l=o(A=c())),g=0;g<=b;++g){if(!(g<b&&i(N=h[g],g,h))===C)if(C=!C)p=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=g-1;S>=p;--S)l.point(T[S],F[S]);l.lineEnd(),l.areaEnd()}C&&(T[g]=+e(N,g,h),F[g]=+t(N,g,h),l.point(n?+n(N,g,h):T[g],r?+r(N,g,h):F[g]))}if(A)return l=null,A+""||null}function f(){return yoe().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ds(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ds(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ds(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ds(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ds(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ds(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ds(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class boe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PLe(e){return new boe(e,!0)}function OLe(e){return new boe(e,!1)}const lM={draw(e,t){const r=Oh(t/CC);e.moveTo(r,0),e.arc(0,0,r,0,LE)}},ILe={draw(e,t){const r=Oh(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},woe=Oh(1/3),FLe=woe*2,DLe={draw(e,t){const r=Oh(t/FLe),n=r*woe;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},RLe={draw(e,t){const r=Oh(t),n=-r/2;e.rect(n,n,r,r)}},MLe=.8908130915292852,_oe=SC(CC/10)/SC(7*CC/10),LLe=SC(LE/10)*_oe,BLe=-moe(LE/10)*_oe,$Le={draw(e,t){const r=Oh(t*MLe),n=LLe*r,i=BLe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=LE*a/5,l=moe(o),c=SC(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},X8=Oh(3),ULe={draw(e,t){const r=-Oh(t/(X8*3));e.moveTo(0,r*2),e.lineTo(-X8*r,-r),e.lineTo(X8*r,-r),e.closePath()}},df=-.5,ff=Oh(3)/2,uI=1/Oh(12),zLe=(uI/2+1)*3,VLe={draw(e,t){const r=Oh(t/zLe),n=r/2,i=r*uI,a=n,o=r*uI+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(df*n-ff*i,ff*n+df*i),e.lineTo(df*a-ff*o,ff*a+df*o),e.lineTo(df*l-ff*c,ff*l+df*c),e.lineTo(df*n+ff*i,df*i-ff*n),e.lineTo(df*a+ff*o,df*o-ff*a),e.lineTo(df*l+ff*c,df*c-ff*l),e.closePath()}};function WLe(e,t){let r=null,n=sM(i);e=typeof e=="function"?e:Ds(e||lM),t=typeof t=="function"?t:Ds(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ds(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ds(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function AC(){}function jC(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Noe(e){this._context=e}Noe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HLe(e){return new Noe(e)}function Soe(e){this._context=e}Soe.prototype={areaStart:AC,areaEnd:AC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qLe(e){return new Soe(e)}function Coe(e){this._context=e}Coe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GLe(e){return new Coe(e)}function Aoe(e){this._context=e}Aoe.prototype={areaStart:AC,areaEnd:AC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KLe(e){return new Aoe(e)}function fW(e){return e<0?-1:1}function hW(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(fW(a)+fW(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function mW(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function J8(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function EC(e){this._context=e}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J8(this,this._t0,mW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,J8(this,mW(this,r=hW(this,e,t)),r);break;default:J8(this,this._t0,r=hW(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function joe(e){this._context=new Eoe(e)}(joe.prototype=Object.create(EC.prototype)).point=function(e,t){EC.prototype.point.call(this,t,e)};function Eoe(e){this._context=e}Eoe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function YLe(e){return new EC(e)}function XLe(e){return new joe(e)}function Toe(e){this._context=e}Toe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pW(e),i=pW(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pW(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function JLe(e){return new Toe(e)}function $E(e,t){this._context=e,this._t=t}$E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ZLe(e){return new $E(e,.5)}function QLe(e){return new $E(e,0)}function e9e(e){return new $E(e,1)}function J2(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function dI(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function t9e(e,t){return e[t]}function r9e(e){const t=[];return t.key=e,t}function n9e(){var e=Ds([]),t=dI,r=J2,n=t9e;function i(a){var o=Array.from(e.apply(this,arguments),r9e),l,c=o.length,u=-1,f;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,f=oM(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ds(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ds(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?dI:typeof a=="function"?a:Ds(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??J2,i):r},i}function a9e(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}J2(e,t)}}function i9e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}J2(e,t)}}function s9e(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],h=f[n][1]||0,g=f[n-1][1]||0,p=(h-g)/2,S=0;S<l;++S){var b=e[t[S]],N=b[n][1]||0,C=b[n-1][1]||0;p+=N-C}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,J2(e,t)}}function W_(e){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W_(e)}var o9e=["type","size","sizeType"];function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fI.apply(this,arguments)}function gW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gW(Object(r),!0).forEach(function(n){l9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9e(e,t,r){return t=c9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9e(e){var t=u9e(e,"string");return W_(t)=="symbol"?t:t+""}function u9e(e,t){if(W_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(W_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d9e(e,t){if(e==null)return{};var r=f9e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var koe={symbolCircle:lM,symbolCross:ILe,symbolDiamond:DLe,symbolSquare:RLe,symbolStar:$Le,symbolTriangle:ULe,symbolWye:VLe},h9e=Math.PI/180,m9e=function(t){var r="symbol".concat(ME(t));return koe[r]||lM},p9e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*h9e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},g9e=function(t,r){koe["symbol".concat(ME(t))]=r},cM=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=d9e(t,o9e),u=xW(xW({},c),{},{type:n,size:a,sizeType:l}),f=function(){var N=m9e(n),C=WLe().type(N).size(p9e(a,l,n));return C()},h=u.className,g=u.cx,p=u.cy,S=la(u,!0);return g===+g&&p===+p&&a===+a?Ie.createElement("path",fI({},S,{className:Ga("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(p,")"),d:f()})):null};cM.registerSymbol=g9e;function Z2(e){"@babel/helpers - typeof";return Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z2(e)}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hI.apply(this,arguments)}function vW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x9e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vW(Object(r),!0).forEach(function(n){H_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ooe(n.key),n)}}function y9e(e,t,r){return t&&yW(e.prototype,t),r&&yW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b9e(e,t,r){return t=TC(t),w9e(e,Poe()?Reflect.construct(t,r||[],TC(e).constructor):t.apply(e,r))}function w9e(e,t){if(t&&(Z2(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9e(e)}function _9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Poe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Poe=function(){return!!e})()}function TC(e){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TC(e)}function N9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}function mI(e,t){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mI(e,t)}function H_(e,t,r){return t=Ooe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=S9e(e,"string");return Z2(t)=="symbol"?t:t+""}function S9e(e,t){if(Z2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hf=32,uM=function(e){function t(){return v9e(this,t),b9e(this,t,arguments)}return N9e(t,e),y9e(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=hf/2,o=hf/6,l=hf/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:hf,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(hf,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hf/8,"h").concat(hf,"v").concat(hf*3/4,"h").concat(-hf,"z"),className:"recharts-legend-icon"});if(Ie.isValidElement(n.legendIcon)){var u=x9e({},n);return delete u.legendIcon,Ie.cloneElement(n.legendIcon,u)}return Ie.createElement(cM,{fill:c,cx:a,cy:a,size:hf,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:hf,height:hf},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,S){var b=p.formatter||c,N=Ga(H_(H_({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",p.inactive));if(p.type==="none")return null;var C=va(p.value)?null:p.value;vh(!va(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=p.inactive?u:p.color;return Ie.createElement("li",hI({className:N,style:h,key:"legend-item-".concat(S)},ax(n.props,p,S)),Ie.createElement(aI,{width:o,height:o,viewBox:f,style:g},n.renderIcon(p)),Ie.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},b?b(C,p,S):C))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);H_(uM,"displayName","Legend");H_(uM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var C9e=SE;function A9e(){this.__data__=new C9e,this.size=0}var j9e=A9e;function E9e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var T9e=E9e;function k9e(e){return this.__data__.get(e)}var P9e=k9e;function O9e(e){return this.__data__.has(e)}var I9e=O9e,F9e=SE,D9e=JR,R9e=ZR,M9e=200;function L9e(e,t){var r=this.__data__;if(r instanceof F9e){var n=r.__data__;if(!D9e||n.length<M9e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new R9e(n)}return r.set(e,t),this.size=r.size,this}var B9e=L9e,$9e=SE,U9e=j9e,z9e=T9e,V9e=P9e,W9e=I9e,H9e=B9e;function Xy(e){var t=this.__data__=new $9e(e);this.size=t.size}Xy.prototype.clear=U9e;Xy.prototype.delete=z9e;Xy.prototype.get=V9e;Xy.prototype.has=W9e;Xy.prototype.set=H9e;var Ioe=Xy,q9e="__lodash_hash_undefined__";function G9e(e){return this.__data__.set(e,q9e),this}var K9e=G9e;function Y9e(e){return this.__data__.has(e)}var X9e=Y9e,J9e=ZR,Z9e=K9e,Q9e=X9e;function kC(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new J9e;++t<r;)this.add(e[t])}kC.prototype.add=kC.prototype.push=Z9e;kC.prototype.has=Q9e;var Foe=kC;function eBe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Doe=eBe;function tBe(e,t){return e.has(t)}var Roe=tBe,rBe=Foe,nBe=Doe,aBe=Roe,iBe=1,sBe=2;function oBe(e,t,r,n,i,a){var o=r&iBe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var h=-1,g=!0,p=r&sBe?new rBe:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var S=e[h],b=t[h];if(n)var N=o?n(b,S,h,t,e,a):n(S,b,h,e,t,a);if(N!==void 0){if(N)continue;g=!1;break}if(p){if(!nBe(t,function(C,A){if(!aBe(p,A)&&(S===C||i(S,C,r,n,a)))return p.push(A)})){g=!1;break}}else if(!(S===b||i(S,b,r,n,a))){g=!1;break}}return a.delete(e),a.delete(t),g}var Moe=oBe,lBe=R0,cBe=lBe.Uint8Array,uBe=cBe;function dBe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var fBe=dBe;function hBe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dM=hBe,bW=h5,wW=uBe,mBe=XR,pBe=Moe,gBe=fBe,xBe=dM,vBe=1,yBe=2,bBe="[object Boolean]",wBe="[object Date]",_Be="[object Error]",NBe="[object Map]",SBe="[object Number]",CBe="[object RegExp]",ABe="[object Set]",jBe="[object String]",EBe="[object Symbol]",TBe="[object ArrayBuffer]",kBe="[object DataView]",_W=bW?bW.prototype:void 0,Z8=_W?_W.valueOf:void 0;function PBe(e,t,r,n,i,a,o){switch(r){case kBe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case TBe:return!(e.byteLength!=t.byteLength||!a(new wW(e),new wW(t)));case bBe:case wBe:case SBe:return mBe(+e,+t);case _Be:return e.name==t.name&&e.message==t.message;case CBe:case jBe:return e==t+"";case NBe:var l=gBe;case ABe:var c=n&vBe;if(l||(l=xBe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=yBe,o.set(e,t);var f=pBe(l(e),l(t),n,i,a,o);return o.delete(e),f;case EBe:if(Z8)return Z8.call(e)==Z8.call(t)}return!1}var OBe=PBe;function IBe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Loe=IBe,FBe=Loe,DBe=md;function RBe(e,t,r){var n=t(e);return DBe(e)?n:FBe(n,r(e))}var MBe=RBe;function LBe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var BBe=LBe;function $Be(){return[]}var UBe=$Be,zBe=BBe,VBe=UBe,WBe=Object.prototype,HBe=WBe.propertyIsEnumerable,NW=Object.getOwnPropertySymbols,qBe=NW?function(e){return e==null?[]:(e=Object(e),zBe(NW(e),function(t){return HBe.call(e,t)}))}:VBe,GBe=qBe;function KBe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var YBe=KBe,XBe=Mm,JBe=Lm,ZBe="[object Arguments]";function QBe(e){return JBe(e)&&XBe(e)==ZBe}var e$e=QBe,SW=e$e,t$e=Lm,Boe=Object.prototype,r$e=Boe.hasOwnProperty,n$e=Boe.propertyIsEnumerable,a$e=SW(function(){return arguments}())?SW:function(e){return t$e(e)&&r$e.call(e,"callee")&&!n$e.call(e,"callee")},fM=a$e,PC={exports:{}};function i$e(){return!1}var s$e=i$e;PC.exports;(function(e,t){var r=R0,n=s$e,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(PC,PC.exports);var $oe=PC.exports,o$e=9007199254740991,l$e=/^(?:0|[1-9]\d*)$/;function c$e(e,t){var r=typeof e;return t=t??o$e,!!t&&(r=="number"||r!="symbol"&&l$e.test(e))&&e>-1&&e%1==0&&e<t}var hM=c$e,u$e=9007199254740991;function d$e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=u$e}var mM=d$e,f$e=Mm,h$e=mM,m$e=Lm,p$e="[object Arguments]",g$e="[object Array]",x$e="[object Boolean]",v$e="[object Date]",y$e="[object Error]",b$e="[object Function]",w$e="[object Map]",_$e="[object Number]",N$e="[object Object]",S$e="[object RegExp]",C$e="[object Set]",A$e="[object String]",j$e="[object WeakMap]",E$e="[object ArrayBuffer]",T$e="[object DataView]",k$e="[object Float32Array]",P$e="[object Float64Array]",O$e="[object Int8Array]",I$e="[object Int16Array]",F$e="[object Int32Array]",D$e="[object Uint8Array]",R$e="[object Uint8ClampedArray]",M$e="[object Uint16Array]",L$e="[object Uint32Array]",Xs={};Xs[k$e]=Xs[P$e]=Xs[O$e]=Xs[I$e]=Xs[F$e]=Xs[D$e]=Xs[R$e]=Xs[M$e]=Xs[L$e]=!0;Xs[p$e]=Xs[g$e]=Xs[E$e]=Xs[x$e]=Xs[T$e]=Xs[v$e]=Xs[y$e]=Xs[b$e]=Xs[w$e]=Xs[_$e]=Xs[N$e]=Xs[S$e]=Xs[C$e]=Xs[A$e]=Xs[j$e]=!1;function B$e(e){return m$e(e)&&h$e(e.length)&&!!Xs[f$e(e)]}var $$e=B$e;function U$e(e){return function(t){return e(t)}}var Uoe=U$e,OC={exports:{}};OC.exports;(function(e,t){var r=Yse,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(OC,OC.exports);var z$e=OC.exports,V$e=$$e,W$e=Uoe,CW=z$e,AW=CW&&CW.isTypedArray,H$e=AW?W$e(AW):V$e,zoe=H$e,q$e=YBe,G$e=fM,K$e=md,Y$e=$oe,X$e=hM,J$e=zoe,Z$e=Object.prototype,Q$e=Z$e.hasOwnProperty;function eUe(e,t){var r=K$e(e),n=!r&&G$e(e),i=!r&&!n&&Y$e(e),a=!r&&!n&&!i&&J$e(e),o=r||n||i||a,l=o?q$e(e.length,String):[],c=l.length;for(var u in e)(t||Q$e.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||X$e(u,c)))&&l.push(u);return l}var tUe=eUe,rUe=Object.prototype;function nUe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||rUe;return e===r}var aUe=nUe;function iUe(e,t){return function(r){return e(t(r))}}var Voe=iUe,sUe=Voe,oUe=sUe(Object.keys,Object),lUe=oUe,cUe=aUe,uUe=lUe,dUe=Object.prototype,fUe=dUe.hasOwnProperty;function hUe(e){if(!cUe(e))return uUe(e);var t=[];for(var r in Object(e))fUe.call(e,r)&&r!="constructor"&&t.push(r);return t}var mUe=hUe,pUe=YR,gUe=mM;function xUe(e){return e!=null&&gUe(e.length)&&!pUe(e)}var m5=xUe,vUe=tUe,yUe=mUe,bUe=m5;function wUe(e){return bUe(e)?vUe(e):yUe(e)}var UE=wUe,_Ue=MBe,NUe=GBe,SUe=UE;function CUe(e){return _Ue(e,SUe,NUe)}var AUe=CUe,jW=AUe,jUe=1,EUe=Object.prototype,TUe=EUe.hasOwnProperty;function kUe(e,t,r,n,i,a){var o=r&jUe,l=jW(e),c=l.length,u=jW(t),f=u.length;if(c!=f&&!o)return!1;for(var h=c;h--;){var g=l[h];if(!(o?g in t:TUe.call(t,g)))return!1}var p=a.get(e),S=a.get(t);if(p&&S)return p==t&&S==e;var b=!0;a.set(e,t),a.set(t,e);for(var N=o;++h<c;){g=l[h];var C=e[g],A=t[g];if(n)var T=o?n(A,C,g,t,e,a):n(C,A,g,e,t,a);if(!(T===void 0?C===A||i(C,A,r,n,a):T)){b=!1;break}N||(N=g=="constructor")}if(b&&!N){var F=e.constructor,L=t.constructor;F!=L&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof L=="function"&&L instanceof L)&&(b=!1)}return a.delete(e),a.delete(t),b}var PUe=kUe,OUe=Ex,IUe=R0,FUe=OUe(IUe,"DataView"),DUe=FUe,RUe=Ex,MUe=R0,LUe=RUe(MUe,"Promise"),BUe=LUe,$Ue=Ex,UUe=R0,zUe=$Ue(UUe,"Set"),Woe=zUe,VUe=Ex,WUe=R0,HUe=VUe(WUe,"WeakMap"),qUe=HUe,pI=DUe,gI=JR,xI=BUe,vI=Woe,yI=qUe,Hoe=Mm,Jy=Jse,EW="[object Map]",GUe="[object Object]",TW="[object Promise]",kW="[object Set]",PW="[object WeakMap]",OW="[object DataView]",KUe=Jy(pI),YUe=Jy(gI),XUe=Jy(xI),JUe=Jy(vI),ZUe=Jy(yI),fg=Hoe;(pI&&fg(new pI(new ArrayBuffer(1)))!=OW||gI&&fg(new gI)!=EW||xI&&fg(xI.resolve())!=TW||vI&&fg(new vI)!=kW||yI&&fg(new yI)!=PW)&&(fg=function(e){var t=Hoe(e),r=t==GUe?e.constructor:void 0,n=r?Jy(r):"";if(n)switch(n){case KUe:return OW;case YUe:return EW;case XUe:return TW;case JUe:return kW;case ZUe:return PW}return t});var QUe=fg,Q8=Ioe,eze=Moe,tze=OBe,rze=PUe,IW=QUe,FW=md,DW=$oe,nze=zoe,aze=1,RW="[object Arguments]",MW="[object Array]",lN="[object Object]",ize=Object.prototype,LW=ize.hasOwnProperty;function sze(e,t,r,n,i,a){var o=FW(e),l=FW(t),c=o?MW:IW(e),u=l?MW:IW(t);c=c==RW?lN:c,u=u==RW?lN:u;var f=c==lN,h=u==lN,g=c==u;if(g&&DW(e)){if(!DW(t))return!1;o=!0,f=!1}if(g&&!f)return a||(a=new Q8),o||nze(e)?eze(e,t,r,n,i,a):tze(e,t,c,r,n,i,a);if(!(r&aze)){var p=f&&LW.call(e,"__wrapped__"),S=h&&LW.call(t,"__wrapped__");if(p||S){var b=p?e.value():e,N=S?t.value():t;return a||(a=new Q8),i(b,N,r,n,a)}}return g?(a||(a=new Q8),rze(e,t,r,n,i,a)):!1}var oze=sze,lze=oze,BW=Lm;function qoe(e,t,r,n,i){return e===t?!0:e==null||t==null||!BW(e)&&!BW(t)?e!==e&&t!==t:lze(e,t,r,n,qoe,i)}var pM=qoe,cze=Ioe,uze=pM,dze=1,fze=2;function hze(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new cze;if(n)var g=n(u,f,c,e,t,h);if(!(g===void 0?uze(f,u,dze|fze,n,h):g))return!1}}return!0}var mze=hze,pze=C1;function gze(e){return e===e&&!pze(e)}var Goe=gze,xze=Goe,vze=UE;function yze(e){for(var t=vze(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xze(i)]}return t}var bze=yze;function wze(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Koe=wze,_ze=mze,Nze=bze,Sze=Koe;function Cze(e){var t=Nze(e);return t.length==1&&t[0][2]?Sze(t[0][0],t[0][1]):function(r){return r===e||_ze(r,e,t)}}var Aze=Cze;function jze(e,t){return e!=null&&t in Object(e)}var Eze=jze,Tze=roe,kze=fM,Pze=md,Oze=hM,Ize=mM,Fze=AE;function Dze(e,t,r){t=Tze(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=Fze(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Ize(i)&&Oze(o,i)&&(Pze(e)||kze(e)))}var Rze=Dze,Mze=Eze,Lze=Rze;function Bze(e,t){return e!=null&&Lze(e,t,Mze)}var $ze=Bze,Uze=pM,zze=noe,Vze=$ze,Wze=KR,Hze=Goe,qze=Koe,Gze=AE,Kze=1,Yze=2;function Xze(e,t){return Wze(e)&&Hze(t)?qze(Gze(e),t):function(r){var n=zze(r,e);return n===void 0&&n===t?Vze(r,e):Uze(t,n,Kze|Yze)}}var Jze=Xze;function Zze(e){return e}var Zy=Zze;function Qze(e){return function(t){return t==null?void 0:t[e]}}var eVe=Qze,tVe=tM;function rVe(e){return function(t){return tVe(t,e)}}var nVe=rVe,aVe=eVe,iVe=nVe,sVe=KR,oVe=AE;function lVe(e){return sVe(e)?aVe(oVe(e)):iVe(e)}var cVe=lVe,uVe=Aze,dVe=Jze,fVe=Zy,hVe=md,mVe=cVe;function pVe(e){return typeof e=="function"?e:e==null?fVe:typeof e=="object"?hVe(e)?dVe(e[0],e[1]):uVe(e):mVe(e)}var M0=pVe;function gVe(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Yoe=gVe;function xVe(e){return e!==e}var vVe=xVe;function yVe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var bVe=yVe,wVe=Yoe,_Ve=vVe,NVe=bVe;function SVe(e,t,r){return t===t?NVe(e,t,r):wVe(e,_Ve,r)}var CVe=SVe,AVe=CVe;function jVe(e,t){var r=e==null?0:e.length;return!!r&&AVe(e,t,0)>-1}var EVe=jVe;function TVe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var kVe=TVe;function PVe(){}var OVe=PVe,ek=Woe,IVe=OVe,FVe=dM,DVe=1/0,RVe=ek&&1/FVe(new ek([,-0]))[1]==DVe?function(e){return new ek(e)}:IVe,MVe=RVe,LVe=Foe,BVe=EVe,$Ve=kVe,UVe=Roe,zVe=MVe,VVe=dM,WVe=200;function HVe(e,t,r){var n=-1,i=BVe,a=e.length,o=!0,l=[],c=l;if(r)o=!1,i=$Ve;else if(a>=WVe){var u=t?null:zVe(e);if(u)return VVe(u);o=!1,i=UVe,c=new LVe}else c=t?[]:l;e:for(;++n<a;){var f=e[n],h=t?t(f):f;if(f=r||f!==0?f:0,o&&h===h){for(var g=c.length;g--;)if(c[g]===h)continue e;t&&c.push(h),l.push(f)}else i(c,h,r)||(c!==l&&c.push(h),l.push(f))}return l}var qVe=HVe,GVe=M0,KVe=qVe;function YVe(e,t){return e&&e.length?KVe(e,GVe(t)):[]}var XVe=YVe;const $W=Si(XVe);function Xoe(e,t,r){return t===!0?$W(e,r):va(t)?$W(e,t):e}function Q2(e){"@babel/helpers - typeof";return Q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q2(e)}var JVe=["ref"];function UW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(r),!0).forEach(function(n){zE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zoe(n.key),n)}}function QVe(e,t,r){return t&&zW(e.prototype,t),r&&zW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eWe(e,t,r){return t=IC(t),tWe(e,Joe()?Reflect.construct(t,r||[],IC(e).constructor):t.apply(e,r))}function tWe(e,t){if(t&&(Q2(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rWe(e)}function rWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Joe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Joe=function(){return!!e})()}function IC(e){return IC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IC(e)}function nWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bI(e,t)}function bI(e,t){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bI(e,t)}function zE(e,t,r){return t=Zoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zoe(e){var t=aWe(e,"string");return Q2(t)=="symbol"?t:t+""}function aWe(e,t){if(Q2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iWe(e,t){if(e==null)return{};var r=sWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oWe(e){return e.value}function lWe(e,t){if(Ie.isValidElement(e))return Ie.cloneElement(e,t);if(typeof e=="function")return Ie.createElement(e,t);t.ref;var r=iWe(t,JVe);return Ie.createElement(uM,r)}var VW=1,v2=function(e){function t(){var r;ZVe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eWe(this,t,[].concat(i)),zE(r,"lastBoundingBox",{width:-1,height:-1}),r}return nWe(t,e),QVe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>VW||Math.abs(i.height-this.lastBoundingBox.height)>VW)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Y0({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();g={top:((f||0)-S.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Y0(Y0({},h),g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=Y0(Y0({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ie.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},lWe(a,Y0(Y0({},this.props),{},{payload:Xoe(f,u,oWe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Y0(Y0({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Mr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);zE(v2,"displayName","Legend");zE(v2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WW=h5,cWe=fM,uWe=md,HW=WW?WW.isConcatSpreadable:void 0;function dWe(e){return uWe(e)||cWe(e)||!!(HW&&e&&e[HW])}var fWe=dWe,hWe=Loe,mWe=fWe;function Qoe(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=mWe),i||(i=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?Qoe(l,t-1,r,n,i):hWe(i,l):n||(i[i.length]=l)}return i}var ele=Qoe;function pWe(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var gWe=pWe,xWe=gWe,vWe=xWe(),yWe=vWe,bWe=yWe,wWe=UE;function _We(e,t){return e&&bWe(e,t,wWe)}var tle=_We,NWe=m5;function SWe(e,t){return function(r,n){if(r==null)return r;if(!NWe(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var CWe=SWe,AWe=tle,jWe=CWe,EWe=jWe(AWe),gM=EWe,TWe=gM,kWe=m5;function PWe(e,t){var r=-1,n=kWe(e)?Array(e.length):[];return TWe(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var rle=PWe;function OWe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var IWe=OWe,qW=Vy;function FWe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=qW(e),o=t!==void 0,l=t===null,c=t===t,u=qW(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var DWe=FWe,RWe=DWe;function MWe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,l=r.length;++n<o;){var c=RWe(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var LWe=MWe,tk=eM,BWe=tM,$We=M0,UWe=rle,zWe=IWe,VWe=Uoe,WWe=LWe,HWe=Zy,qWe=md;function GWe(e,t,r){t.length?t=tk(t,function(a){return qWe(a)?function(o){return BWe(o,a.length===1?a[0]:a)}:a}):t=[HWe];var n=-1;t=tk(t,VWe($We));var i=UWe(e,function(a,o,l){var c=tk(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return zWe(i,function(a,o){return WWe(a,o,r)})}var KWe=GWe;function YWe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var XWe=YWe,JWe=XWe,GW=Math.max;function ZWe(e,t,r){return t=GW(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=GW(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),JWe(e,this,l)}}var QWe=ZWe;function eHe(e){return function(){return e}}var tHe=eHe,rHe=Ex,nHe=function(){try{var e=rHe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nle=nHe,aHe=tHe,KW=nle,iHe=Zy,sHe=KW?function(e,t){return KW(e,"toString",{configurable:!0,enumerable:!1,value:aHe(t),writable:!0})}:iHe,oHe=sHe,lHe=800,cHe=16,uHe=Date.now;function dHe(e){var t=0,r=0;return function(){var n=uHe(),i=cHe-(n-r);if(r=n,i>0){if(++t>=lHe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fHe=dHe,hHe=oHe,mHe=fHe,pHe=mHe(hHe),gHe=pHe,xHe=Zy,vHe=QWe,yHe=gHe;function bHe(e,t){return yHe(vHe(e,t,xHe),e+"")}var wHe=bHe,_He=XR,NHe=m5,SHe=hM,CHe=C1;function AHe(e,t,r){if(!CHe(r))return!1;var n=typeof t;return(n=="number"?NHe(r)&&SHe(t,r.length):n=="string"&&t in r)?_He(r[t],e):!1}var VE=AHe,jHe=ele,EHe=KWe,THe=wHe,YW=VE,kHe=THe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&YW(e,t[0],t[1])?t=[]:r>2&&YW(t[0],t[1],t[2])&&(t=[t[0]]),EHe(e,jHe(t,1),[])}),PHe=kHe;const xM=Si(PHe);function q_(e){"@babel/helpers - typeof";return q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q_(e)}function wI(){return wI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wI.apply(this,arguments)}function OHe(e,t){return RHe(e)||DHe(e,t)||FHe(e,t)||IHe()}function IHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FHe(e,t){if(e){if(typeof e=="string")return XW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XW(e,t)}}function XW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function RHe(e){if(Array.isArray(e))return e}function JW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JW(Object(r),!0).forEach(function(n){MHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MHe(e,t,r){return t=LHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LHe(e){var t=BHe(e,"string");return q_(t)=="symbol"?t:t+""}function BHe(e,t){if(q_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $He(e){return Array.isArray(e)&&Ml(e[0])&&Ml(e[1])?e.join(" ~ "):e}var UHe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,h=t.formatter,g=t.itemSorter,p=t.wrapperClassName,S=t.labelClassName,b=t.label,N=t.labelFormatter,C=t.accessibilityLayer,A=C===void 0?!1:C,T=function(){if(f&&f.length){var q={padding:0,margin:0},ie=(g?xM(f,g):f).map(function(ae,X){if(ae.type==="none")return null;var se=rk({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},l),he=ae.formatter||h||$He,ce=ae.value,ge=ae.name,we=ce,Ce=ge;if(he&&we!=null&&Ce!=null){var Q=he(ce,ge,ae,X,f);if(Array.isArray(Q)){var le=OHe(Q,2);we=le[0],Ce=le[1]}else we=Q}return Ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:se},Ml(Ce)?Ie.createElement("span",{className:"recharts-tooltip-item-name"},Ce):null,Ml(Ce)?Ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ie.createElement("span",{className:"recharts-tooltip-item-value"},we),Ie.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return Ie.createElement("ul",{className:"recharts-tooltip-item-list",style:q},ie)}return null},F=rk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),L=rk({margin:0},u),B=!Ka(b),M=B?b:"",W=Ga("recharts-default-tooltip",p),z=Ga("recharts-tooltip-label",S);B&&N&&f!==void 0&&f!==null&&(M=N(b,f));var Z=A?{role:"status","aria-live":"assertive"}:{};return Ie.createElement("div",wI({className:W,style:F},Z),Ie.createElement("p",{className:z,style:L},Ie.isValidElement(M)?M:"".concat(M)),T())};function G_(e){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G_(e)}function cN(e,t,r){return t=zHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zHe(e){var t=VHe(e,"string");return G_(t)=="symbol"?t:t+""}function VHe(e,t){if(G_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rw="recharts-tooltip-wrapper",WHe={visibility:"hidden"};function HHe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ga(rw,cN(cN(cN(cN({},"".concat(rw,"-right"),Mr(r)&&t&&Mr(t.x)&&r>=t.x),"".concat(rw,"-left"),Mr(r)&&t&&Mr(t.x)&&r<t.x),"".concat(rw,"-bottom"),Mr(n)&&t&&Mr(t.y)&&n>=t.y),"".concat(rw,"-top"),Mr(n)&&t&&Mr(t.y)&&n<t.y))}function ZW(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Mr(a[n]))return a[n];var f=r[n]-l-i,h=r[n]+i;if(t[n])return o[n]?f:h;if(o[n]){var g=f,p=c[n];return g<p?Math.max(h,c[n]):Math.max(f,c[n])}var S=h+l,b=c[n]+u;return S>b?Math.max(f,c[n]):Math.max(h,c[n])}function qHe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GHe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,h;return o.height>0&&o.width>0&&r?(f=ZW({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=ZW({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=qHe({translateX:f,translateY:h,useTranslate3d:l})):u=WHe,{cssProperties:u,cssClasses:HHe({translateX:f,translateY:h,coordinate:r})}}function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function QW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QW(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ile(n.key),n)}}function YHe(e,t,r){return t&&tH(e.prototype,t),r&&tH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XHe(e,t,r){return t=FC(t),JHe(e,ale()?Reflect.construct(t,r||[],FC(e).constructor):t.apply(e,r))}function JHe(e,t){if(t&&(ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZHe(e)}function ZHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ale(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ale=function(){return!!e})()}function FC(e){return FC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FC(e)}function QHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_I(e,t)}function _I(e,t){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_I(e,t)}function NI(e,t,r){return t=ile(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ile(e){var t=eqe(e,"string");return ey(t)=="symbol"?t:t+""}function eqe(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rH=1,tqe=function(e){function t(){var r;KHe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=XHe(this,t,[].concat(i)),NI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NI(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return QHe(t,e),YHe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>rH||Math.abs(n.height-this.state.lastBoundingBox.height)>rH)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,p=i.offset,S=i.position,b=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,T=GHe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:S,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:C}),F=T.cssClasses,L=T.cssProperties,B=eH(eH({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},A);return Ie.createElement("div",{tabIndex:-1,className:F,style:B,ref:function(W){n.wrapperNode=W}},u)}}])}(j.PureComponent),rqe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},b0={isSsr:rqe(),get:function(t){return b0[t]},set:function(t,r){if(typeof t=="string")b0[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){b0[i]=t[i]})}}};function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function nH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nH(Object(r),!0).forEach(function(n){vM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ole(n.key),n)}}function aqe(e,t,r){return t&&iH(e.prototype,t),r&&iH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iqe(e,t,r){return t=DC(t),sqe(e,sle()?Reflect.construct(t,r||[],DC(e).constructor):t.apply(e,r))}function sqe(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oqe(e)}function oqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sle=function(){return!!e})()}function DC(e){return DC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DC(e)}function lqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SI(e,t)}function SI(e,t){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SI(e,t)}function vM(e,t,r){return t=ole(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ole(e){var t=cqe(e,"string");return ty(t)=="symbol"?t:t+""}function cqe(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uqe(e){return e.dataKey}function dqe(e,t){return Ie.isValidElement(e)?Ie.cloneElement(e,t):typeof e=="function"?Ie.createElement(e,t):Ie.createElement(UHe,t)}var sh=function(e){function t(){return nqe(this,t),iqe(this,t,arguments)}return lqe(t,e),aqe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,g=i.isAnimationActive,p=i.offset,S=i.payload,b=i.payloadUniqBy,N=i.position,C=i.reverseDirection,A=i.useTranslate3d,T=i.viewBox,F=i.wrapperStyle,L=S??[];h&&L.length&&(L=Xoe(S.filter(function(M){return M.value!=null&&(M.hide!==!0||n.props.includeHidden)}),b,uqe));var B=L.length>0;return Ie.createElement(tqe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:f,hasPayload:B,offset:p,position:N,reverseDirection:C,useTranslate3d:A,viewBox:T,wrapperStyle:F},dqe(u,aH(aH({},this.props),{},{payload:L})))}}])}(j.PureComponent);vM(sh,"displayName","Tooltip");vM(sh,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!b0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fqe=R0,hqe=function(){return fqe.Date.now()},mqe=hqe,pqe=/\s/;function gqe(e){for(var t=e.length;t--&&pqe.test(e.charAt(t)););return t}var xqe=gqe,vqe=xqe,yqe=/^\s+/;function bqe(e){return e&&e.slice(0,vqe(e)+1).replace(yqe,"")}var wqe=bqe,_qe=wqe,sH=C1,Nqe=Vy,oH=0/0,Sqe=/^[-+]0x[0-9a-f]+$/i,Cqe=/^0b[01]+$/i,Aqe=/^0o[0-7]+$/i,jqe=parseInt;function Eqe(e){if(typeof e=="number")return e;if(Nqe(e))return oH;if(sH(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sH(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_qe(e);var r=Cqe.test(e);return r||Aqe.test(e)?jqe(e.slice(2),r?2:8):Sqe.test(e)?oH:+e}var lle=Eqe,Tqe=C1,nk=mqe,lH=lle,kqe="Expected a function",Pqe=Math.max,Oqe=Math.min;function Iqe(e,t,r){var n,i,a,o,l,c,u=0,f=!1,h=!1,g=!0;if(typeof e!="function")throw new TypeError(kqe);t=lH(t)||0,Tqe(r)&&(f=!!r.leading,h="maxWait"in r,a=h?Pqe(lH(r.maxWait)||0,t):a,g="trailing"in r?!!r.trailing:g);function p(B){var M=n,W=i;return n=i=void 0,u=B,o=e.apply(W,M),o}function S(B){return u=B,l=setTimeout(C,t),f?p(B):o}function b(B){var M=B-c,W=B-u,z=t-M;return h?Oqe(z,a-W):z}function N(B){var M=B-c,W=B-u;return c===void 0||M>=t||M<0||h&&W>=a}function C(){var B=nk();if(N(B))return A(B);l=setTimeout(C,b(B))}function A(B){return l=void 0,g&&n?p(B):(n=i=void 0,o)}function T(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function F(){return l===void 0?o:A(nk())}function L(){var B=nk(),M=N(B);if(n=arguments,i=this,c=B,M){if(l===void 0)return S(c);if(h)return clearTimeout(l),l=setTimeout(C,t),p(c)}return l===void 0&&(l=setTimeout(C,t)),o}return L.cancel=T,L.flush=F,L}var Fqe=Iqe,Dqe=Fqe,Rqe=C1,Mqe="Expected a function";function Lqe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Mqe);return Rqe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Dqe(e,t,{leading:n,maxWait:t,trailing:i})}var Bqe=Lqe;const cle=Si(Bqe);function K_(e){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K_(e)}function cH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cH(Object(r),!0).forEach(function(n){$qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $qe(e,t,r){return t=Uqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uqe(e){var t=zqe(e,"string");return K_(t)=="symbol"?t:t+""}function zqe(e,t){if(K_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vqe(e,t){return Gqe(e)||qqe(e,t)||Hqe(e,t)||Wqe()}function Wqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hqe(e,t){if(e){if(typeof e=="string")return uH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uH(e,t)}}function uH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Gqe(e){if(Array.isArray(e))return e}var dH=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,h=e.minHeight,g=e.maxHeight,p=e.children,S=e.debounce,b=S===void 0?0:S,N=e.id,C=e.className,A=e.onResize,T=e.style,F=T===void 0?{}:T,L=j.useRef(null),B=j.useRef();B.current=A,j.useImperativeHandle(t,function(){return Object.defineProperty(L.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),L.current},configurable:!0})});var M=j.useState({containerWidth:i.width,containerHeight:i.height}),W=Vqe(M,2),z=W[0],Z=W[1],K=j.useCallback(function(ie,ae){Z(function(X){var se=Math.round(ie),he=Math.round(ae);return X.containerWidth===se&&X.containerHeight===he?X:{containerWidth:se,containerHeight:he}})},[]);j.useEffect(function(){var ie=function(ge){var we,Ce=ge[0].contentRect,Q=Ce.width,le=Ce.height;K(Q,le),(we=B.current)===null||we===void 0||we.call(B,Q,le)};b>0&&(ie=cle(ie,b,{trailing:!0,leading:!1}));var ae=new ResizeObserver(ie),X=L.current.getBoundingClientRect(),se=X.width,he=X.height;return K(se,he),ae.observe(L.current),function(){ae.disconnect()}},[K,b]);var q=j.useMemo(function(){var ie=z.containerWidth,ae=z.containerHeight;if(ie<0||ae<0)return null;vh(jg(o)||jg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=jg(o)?ie:o,se=jg(c)?ae:c;r&&r>0&&(X?se=X/r:se&&(X=se*r),g&&se>g&&(se=g)),vh(X>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,se,o,c,f,h,r);var he=!Array.isArray(p)&&pm(p.type).endsWith("Chart");return Ie.Children.map(p,function(ce){return Ie.isValidElement(ce)?j.cloneElement(ce,uN({width:X,height:se},he?{style:uN({height:"100%",width:"100%",maxHeight:se,maxWidth:X},ce.props.style)}:{})):ce})},[r,p,c,g,h,f,z,o]);return Ie.createElement("div",{id:N?"".concat(N):void 0,className:Ga("recharts-responsive-container",C),style:uN(uN({},F),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:g}),ref:L},q)}),WE=function(t){return null};WE.displayName="Cell";function Y_(e){"@babel/helpers - typeof";return Y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y_(e)}function fH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fH(Object(r),!0).forEach(function(n){Kqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kqe(e,t,r){return t=Yqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yqe(e){var t=Xqe(e,"string");return Y_(t)=="symbol"?t:t+""}function Xqe(e,t){if(Y_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv={widthCache:{},cacheCount:0},Jqe=2e3,Zqe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hH="recharts_measurement_span";function Qqe(e){var t=CI({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var qw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||b0.isSsr)return{width:0,height:0};var n=Qqe(r),i=JSON.stringify({text:t,copyStyle:n});if(mv.widthCache[i])return mv.widthCache[i];try{var a=document.getElementById(hH);a||(a=document.createElement("span"),a.setAttribute("id",hH),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=CI(CI({},Zqe),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return mv.widthCache[i]=c,++mv.cacheCount>Jqe&&(mv.cacheCount=0,mv.widthCache={}),c}catch{return{width:0,height:0}}},eGe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function X_(e){"@babel/helpers - typeof";return X_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X_(e)}function RC(e,t){return aGe(e)||nGe(e,t)||rGe(e,t)||tGe()}function tGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rGe(e,t){if(e){if(typeof e=="string")return mH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mH(e,t)}}function mH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function aGe(e){if(Array.isArray(e))return e}function iGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oGe(n.key),n)}}function sGe(e,t,r){return t&&pH(e.prototype,t),r&&pH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oGe(e){var t=lGe(e,"string");return X_(t)=="symbol"?t:t+""}function lGe(e,t){if(X_(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(X_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cGe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uGe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ule={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dGe=Object.keys(ule),Gv="NaN";function fGe(e,t){return e*ule[t]}var dN=function(){function e(t,r){iGe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!cGe.test(r)&&(this.num=NaN,this.unit=""),dGe.includes(r)&&(this.num=fGe(t,r),this.unit="px")}return sGe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=uGe.exec(r))!==null&&n!==void 0?n:[],a=RC(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function dle(e){if(e.includes(Gv))return Gv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=gH.exec(t))!==null&&r!==void 0?r:[],i=RC(n,4),a=i[1],o=i[2],l=i[3],c=dN.parse(a??""),u=dN.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gv;t=t.replace(gH,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=xH.exec(t))!==null&&h!==void 0?h:[],p=RC(g,4),S=p[1],b=p[2],N=p[3],C=dN.parse(S??""),A=dN.parse(N??""),T=b==="+"?C.add(A):C.subtract(A);if(T.isNaN())return Gv;t=t.replace(xH,T.toString())}return t}var vH=/\(([^()]*)\)/;function hGe(e){for(var t=e;t.includes("(");){var r=vH.exec(t),n=RC(r,2),i=n[1];t=t.replace(vH,dle(i))}return t}function mGe(e){var t=e.replace(/\s+/g,"");return t=hGe(t),t=dle(t),t}function pGe(e){try{return mGe(e)}catch{return Gv}}function ak(e){var t=pGe(e.slice(5,-1));return t===Gv?"":t}var gGe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xGe=["dx","dy","angle","className","breakAll"];function AI(){return AI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AI.apply(this,arguments)}function yH(e,t){if(e==null)return{};var r=vGe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bH(e,t){return _Ge(e)||wGe(e,t)||bGe(e,t)||yGe()}function yGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bGe(e,t){if(e){if(typeof e=="string")return wH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wH(e,t)}}function wH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _Ge(e){if(Array.isArray(e))return e}var fle=/[ \f\n\r\t\v\u2028\u2029]+/,hle=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Ka(r)||(n?a=r.toString().split(""):a=r.toString().split(fle));var o=a.map(function(c){return{word:c,width:qw(c,i).width}}),l=n?0:qw("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},NGe=function(t,r,n,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Mr(o),h=l,g=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(se,he){var ce=he.word,ge=he.width,we=se[se.length-1];if(we&&(i==null||a||we.width+ge+n<Number(i)))we.words.push(ce),we.width+=ge+n;else{var Ce={words:[ce],width:ge};se.push(Ce)}return se},[])},p=g(r),S=function(X){return X.reduce(function(se,he){return se.width>he.width?se:he})};if(!f)return p;for(var b="",N=function(X){var se=h.slice(0,X),he=hle({breakAll:u,style:c,children:se+b}).wordsWithComputedWidth,ce=g(he),ge=ce.length>o||S(ce).width>Number(i);return[ge,ce]},C=0,A=h.length-1,T=0,F;C<=A&&T<=h.length-1;){var L=Math.floor((C+A)/2),B=L-1,M=N(B),W=bH(M,2),z=W[0],Z=W[1],K=N(L),q=bH(K,1),ie=q[0];if(!z&&!ie&&(C=L+1),z&&ie&&(A=L-1),!z&&ie){F=Z;break}T++}return F||p},_H=function(t){var r=Ka(t)?[]:t.toString().split(fle);return[{words:r}]},SGe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!b0.isSsr){var c,u,f=hle({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,g=f.spaceWidth;c=h,u=g}else return _H(i);return NGe({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return _H(i)},NH="#808080",ix=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,h=f===void 0?!1:f,g=t.textAnchor,p=g===void 0?"start":g,S=t.verticalAnchor,b=S===void 0?"end":S,N=t.fill,C=N===void 0?NH:N,A=yH(t,gGe),T=j.useMemo(function(){return SGe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:h,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,h,A.style,A.width]),F=A.dx,L=A.dy,B=A.angle,M=A.className,W=A.breakAll,z=yH(A,xGe);if(!Ml(n)||!Ml(a))return null;var Z=n+(Mr(F)?F:0),K=a+(Mr(L)?L:0),q;switch(b){case"start":q=ak("calc(".concat(u,")"));break;case"middle":q=ak("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:q=ak("calc(".concat(T.length-1," * -").concat(l,")"));break}var ie=[];if(h){var ae=T[0].width,X=A.width;ie.push("scale(".concat((Mr(X)?X/ae:1)/ae,")"))}return B&&ie.push("rotate(".concat(B,", ").concat(Z,", ").concat(K,")")),ie.length&&(z.transform=ie.join(" ")),Ie.createElement("text",AI({},la(z,!0),{x:Z,y:K,className:Ga("recharts-text",M),textAnchor:p,fill:C.includes("url")?NH:C}),T.map(function(se,he){var ce=se.words.join(W?"":" ");return Ie.createElement("tspan",{x:Z,dy:he===0?q:l,key:"".concat(ce,"-").concat(he)},ce)}))};function Gp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CGe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yM(e){let t,r,n;e.length!==2?(t=Gp,r=(l,c)=>Gp(e(l),c),n=(l,c)=>e(l)-c):(t=e===Gp||e===CGe?e:AGe,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const h=u+f>>>1;r(l[h],c)<0?u=h+1:f=h}while(u<f)}return u}function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const h=u+f>>>1;r(l[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function o(l,c,u=0,f=l.length){const h=i(l,c,u,f-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function AGe(){return 0}function mle(e){return e===null?NaN:+e}function*jGe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const EGe=yM(Gp),TGe=EGe.right;yM(mle).center;const p5=TGe;class SH extends Map{constructor(t,r=OGe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(CH(this,t))}has(t){return super.has(CH(this,t))}set(t,r){return super.set(kGe(this,t),r)}delete(t){return super.delete(PGe(this,t))}}function CH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kGe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function PGe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function OGe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IGe(e=Gp){if(e===Gp)return ple;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ple(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FGe=Math.sqrt(50),DGe=Math.sqrt(10),RGe=Math.sqrt(2);function MC(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=FGe?10:a>=DGe?5:a>=RGe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?MC(e,t,r*2):[l,c,u]}function jI(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?MC(t,e,r):MC(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function EI(e,t,r){return t=+t,e=+e,r=+r,MC(e,t,r)[2]}function TI(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?EI(t,e,r):EI(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function AH(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function jH(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function gle(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?ple:IGe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*h/c+g)),S=Math.min(n,Math.floor(t+(c-u)*h/c+g));gle(e,t,p,S,i)}const a=e[t];let o=r,l=n;for(nw(e,r,t),i(e[n],a)>0&&nw(e,r,n);o<l;){for(nw(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?nw(e,r,l):(++l,nw(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function nw(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function MGe(e,t,r){if(e=Float64Array.from(jGe(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jH(e);if(t>=1)return AH(e);var n,i=(n-1)*t,a=Math.floor(i),o=AH(gle(e,a).subarray(0,a+1)),l=jH(e.subarray(a+1));return o+(l-o)*(i-a)}}function LGe(e,t,r=mle){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function BGe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Of(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bm(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kI=Symbol("implicit");function bM(){var e=new SH,t=[],r=[],n=kI;function i(a){let o=e.get(a);if(o===void 0){if(n!==kI)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new SH;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bM(t,r).unknown(n)},Of.apply(i,arguments),i}function J_(){var e=bM().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function h(){var g=t().length,p=i<n,S=p?i:n,b=p?n:i;a=(b-S)/Math.max(1,g-c+u*2),l&&(a=Math.floor(a)),S+=(b-S-a*(g-c))*f,o=a*(1-c),l&&(S=Math.round(S),o=Math.round(o));var N=BGe(g).map(function(C){return S+a*C});return r(p?N.reverse():N)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(l=!!g,h()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),h()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),h()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return J_(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},Of.apply(h(),arguments)}function xle(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xle(t())},e}function Gw(){return xle(J_.apply(null,arguments).paddingInner(1))}function wM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vle(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function g5(){}var Z_=.7,LC=1/Z_,y2="\\s*([+-]?\\d+)\\s*",Q_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",w0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Ge=/^#([0-9a-f]{3,8})$/,UGe=new RegExp(`^rgb\\(${y2},${y2},${y2}\\)$`),zGe=new RegExp(`^rgb\\(${w0},${w0},${w0}\\)$`),VGe=new RegExp(`^rgba\\(${y2},${y2},${y2},${Q_}\\)$`),WGe=new RegExp(`^rgba\\(${w0},${w0},${w0},${Q_}\\)$`),HGe=new RegExp(`^hsl\\(${Q_},${w0},${w0}\\)$`),qGe=new RegExp(`^hsla\\(${Q_},${w0},${w0},${Q_}\\)$`),EH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wM(g5,e4,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TH,formatHex:TH,formatHex8:GGe,formatHsl:KGe,formatRgb:kH,toString:kH});function TH(){return this.rgb().formatHex()}function GGe(){return this.rgb().formatHex8()}function KGe(){return yle(this).formatHsl()}function kH(){return this.rgb().formatRgb()}function e4(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$Ge.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?PH(t):r===3?new td(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UGe.exec(e))?new td(t[1],t[2],t[3],1):(t=zGe.exec(e))?new td(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VGe.exec(e))?fN(t[1],t[2],t[3],t[4]):(t=WGe.exec(e))?fN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HGe.exec(e))?FH(t[1],t[2]/100,t[3]/100,1):(t=qGe.exec(e))?FH(t[1],t[2]/100,t[3]/100,t[4]):EH.hasOwnProperty(e)?PH(EH[e]):e==="transparent"?new td(NaN,NaN,NaN,0):null}function PH(e){return new td(e>>16&255,e>>8&255,e&255,1)}function fN(e,t,r,n){return n<=0&&(e=t=r=NaN),new td(e,t,r,n)}function YGe(e){return e instanceof g5||(e=e4(e)),e?(e=e.rgb(),new td(e.r,e.g,e.b,e.opacity)):new td}function PI(e,t,r,n){return arguments.length===1?YGe(e):new td(e,t,r,n??1)}function td(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wM(td,PI,vle(g5,{brighter(e){return e=e==null?LC:Math.pow(LC,e),new td(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Z_:Math.pow(Z_,e),new td(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new td(Mg(this.r),Mg(this.g),Mg(this.b),BC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OH,formatHex:OH,formatHex8:XGe,formatRgb:IH,toString:IH}));function OH(){return`#${Eg(this.r)}${Eg(this.g)}${Eg(this.b)}`}function XGe(){return`#${Eg(this.r)}${Eg(this.g)}${Eg(this.b)}${Eg((isNaN(this.opacity)?1:this.opacity)*255)}`}function IH(){const e=BC(this.opacity);return`${e===1?"rgb(":"rgba("}${Mg(this.r)}, ${Mg(this.g)}, ${Mg(this.b)}${e===1?")":`, ${e})`}`}function BC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eg(e){return e=Mg(e),(e<16?"0":"")+e.toString(16)}function FH(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ch(e,t,r,n)}function yle(e){if(e instanceof ch)return new ch(e.h,e.s,e.l,e.opacity);if(e instanceof g5||(e=e4(e)),!e)return new ch;if(e instanceof ch)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new ch(o,l,c,e.opacity)}function JGe(e,t,r,n){return arguments.length===1?yle(e):new ch(e,t,r,n??1)}function ch(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wM(ch,JGe,vle(g5,{brighter(e){return e=e==null?LC:Math.pow(LC,e),new ch(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Z_:Math.pow(Z_,e),new ch(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new td(ik(e>=240?e-240:e+120,i,n),ik(e,i,n),ik(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ch(DH(this.h),hN(this.s),hN(this.l),BC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=BC(this.opacity);return`${e===1?"hsl(":"hsla("}${DH(this.h)}, ${hN(this.s)*100}%, ${hN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DH(e){return e=(e||0)%360,e<0?e+360:e}function hN(e){return Math.max(0,Math.min(1,e||0))}function ik(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _M=e=>()=>e;function ZGe(e,t){return function(r){return e+r*t}}function QGe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function eKe(e){return(e=+e)==1?ble:function(t,r){return r-t?QGe(t,r,e):_M(isNaN(t)?r:t)}}function ble(e,t){var r=t-e;return r?ZGe(e,r):_M(isNaN(e)?t:e)}const RH=function e(t){var r=eKe(t);function n(i,a){var o=r((i=PI(i)).r,(a=PI(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=ble(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function tKe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function rKe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nKe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Qy(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function aKe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $C(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iKe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Qy(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var OI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sk=new RegExp(OI.source,"g");function sKe(e){return function(){return e}}function oKe(e){return function(t){return e(t)+""}}function lKe(e,t){var r=OI.lastIndex=sk.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=OI.exec(e))&&(i=sk.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:$C(n,i)})),r=sk.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?oKe(c[0].x):sKe(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}function Qy(e,t){var r=typeof t,n;return t==null||r==="boolean"?_M(t):(r==="number"?$C:r==="string"?(n=e4(t))?(t=n,RH):lKe:t instanceof e4?RH:t instanceof Date?aKe:rKe(t)?tKe:Array.isArray(t)?nKe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iKe:$C)(e,t)}function NM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cKe(e,t){t===void 0&&(t=e,e=Qy);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function uKe(e){return function(){return e}}function UC(e){return+e}var MH=[0,1];function ju(e){return e}function II(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uKe(isNaN(t)?NaN:.5)}function dKe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fKe(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=II(i,n),a=r(o,a)):(n=II(n,i),a=r(a,o)),function(l){return a(n(l))}}function hKe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=II(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=p5(e,l,1,n)-1;return a[c](i[c](l))}}function x5(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function HE(){var e=MH,t=MH,r=Qy,n,i,a,o=ju,l,c,u;function f(){var g=Math.min(e.length,t.length);return o!==ju&&(o=dKe(e[0],e[g-1])),l=g>2?hKe:fKe,c=u=null,h}function h(g){return g==null||isNaN(g=+g)?a:(c||(c=l(e.map(n),t,r)))(n(o(g)))}return h.invert=function(g){return o(i((u||(u=l(t,e.map(n),$C)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,UC),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=NM,f()},h.clamp=function(g){return arguments.length?(o=g?!0:ju,f()):o!==ju},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,p){return n=g,i=p,f()}}function SM(){return HE()(ju,ju)}function mKe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ry(e){return e=zC(Math.abs(e)),e?e[1]:NaN}function pKe(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function gKe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xKe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t4(e){if(!(t=xKe.exec(e)))throw new Error("invalid format: "+e);var t;return new CM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}t4.prototype=CM.prototype;function CM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}CM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vKe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var wle;function yKe(e,t){var r=zC(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(wle=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+zC(e,Math.max(0,t+a-1))[0]}function LH(e,t){var r=zC(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const BH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mKe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LH(e*100,t),r:LH,s:yKe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $H(e){return e}var UH=Array.prototype.map,zH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bKe(e){var t=e.grouping===void 0||e.thousands===void 0?$H:pKe(UH.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$H:gKe(UH.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=t4(h);var g=h.fill,p=h.align,S=h.sign,b=h.symbol,N=h.zero,C=h.width,A=h.comma,T=h.precision,F=h.trim,L=h.type;L==="n"?(A=!0,L="g"):BH[L]||(T===void 0&&(T=12),F=!0,L="g"),(N||g==="0"&&p==="=")&&(N=!0,g="0",p="=");var B=b==="$"?r:b==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",M=b==="$"?n:/[%p]/.test(L)?o:"",W=BH[L],z=/[defgprs%]/.test(L);T=T===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function Z(K){var q=B,ie=M,ae,X,se;if(L==="c")ie=W(K)+ie,K="";else{K=+K;var he=K<0||1/K<0;if(K=isNaN(K)?c:W(Math.abs(K),T),F&&(K=vKe(K)),he&&+K==0&&S!=="+"&&(he=!1),q=(he?S==="("?S:l:S==="-"||S==="("?"":S)+q,ie=(L==="s"?zH[8+wle/3]:"")+ie+(he&&S==="("?")":""),z){for(ae=-1,X=K.length;++ae<X;)if(se=K.charCodeAt(ae),48>se||se>57){ie=(se===46?i+K.slice(ae+1):K.slice(ae))+ie,K=K.slice(0,ae);break}}}A&&!N&&(K=t(K,1/0));var ce=q.length+K.length+ie.length,ge=ce<C?new Array(C-ce+1).join(g):"";switch(A&&N&&(K=t(ge+K,ge.length?C-ie.length:1/0),ge=""),p){case"<":K=q+K+ie+ge;break;case"=":K=q+ge+K+ie;break;case"^":K=ge.slice(0,ce=ge.length>>1)+q+K+ie+ge.slice(ce);break;default:K=ge+q+K+ie;break}return a(K)}return Z.toString=function(){return h+""},Z}function f(h,g){var p=u((h=t4(h),h.type="f",h)),S=Math.max(-8,Math.min(8,Math.floor(ry(g)/3)))*3,b=Math.pow(10,-S),N=zH[8+S/3];return function(C){return p(b*C)+N}}return{format:u,formatPrefix:f}}var mN,AM,_le;wKe({thousands:",",grouping:[3],currency:["$",""]});function wKe(e){return mN=bKe(e),AM=mN.format,_le=mN.formatPrefix,mN}function _Ke(e){return Math.max(0,-ry(Math.abs(e)))}function NKe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ry(t)/3)))*3-ry(Math.abs(e)))}function SKe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ry(t)-ry(e))+1}function Nle(e,t,r,n){var i=TI(e,t,r),a;switch(n=t4(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=NKe(i,o))&&(n.precision=a),_le(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=SKe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=_Ke(i))&&(n.precision=a-(n.type==="%")*2);break}}return AM(n)}function A1(e){var t=e.domain;return e.ticks=function(r){var n=t();return jI(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Nle(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);f-- >0;){if(u=EI(o,l,r),u===c)return n[i]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function VC(){var e=SM();return e.copy=function(){return x5(e,VC())},Of.apply(e,arguments),A1(e)}function Sle(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,UC),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Sle(e).unknown(t)},e=arguments.length?Array.from(e,UC):[0,1],A1(r)}function Cle(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function VH(e){return Math.log(e)}function WH(e){return Math.exp(e)}function CKe(e){return-Math.log(-e)}function AKe(e){return-Math.exp(-e)}function jKe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EKe(e){return e===10?jKe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TKe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HH(e){return(t,r)=>-e(-t,r)}function jM(e){const t=e(VH,WH),r=t.domain;let n=10,i,a;function o(){return i=TKe(n),a=EKe(n),r()[0]<0?(i=HH(i),a=HH(a),e(CKe,AKe)):e(VH,WH),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let g=i(u),p=i(f),S,b;const N=l==null?10:+l;let C=[];if(!(n%1)&&p-g<N){if(g=Math.floor(g),p=Math.ceil(p),u>0){for(;g<=p;++g)for(S=1;S<n;++S)if(b=g<0?S/a(-g):S*a(g),!(b<u)){if(b>f)break;C.push(b)}}else for(;g<=p;++g)for(S=n-1;S>=1;--S)if(b=g>0?S/a(-g):S*a(g),!(b<u)){if(b>f)break;C.push(b)}C.length*2<N&&(C=jI(u,f,N))}else C=jI(g,p,Math.min(p-g,N)).map(a);return h?C.reverse():C},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=t4(c)).precision==null&&(c.trim=!0),c=AM(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=u?c(f):""}},t.nice=()=>r(Cle(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Ale(){const e=jM(HE()).domain([1,10]);return e.copy=()=>x5(e,Ale()).base(e.base()),Of.apply(e,arguments),e}function qH(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GH(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EM(e){var t=1,r=e(qH(t),GH(t));return r.constant=function(n){return arguments.length?e(qH(t=+n),GH(t)):t},A1(r)}function jle(){var e=EM(HE());return e.copy=function(){return x5(e,jle()).constant(e.constant())},Of.apply(e,arguments)}function KH(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kKe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PKe(e){return e<0?-e*e:e*e}function TM(e){var t=e(ju,ju),r=1;function n(){return r===1?e(ju,ju):r===.5?e(kKe,PKe):e(KH(r),KH(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},A1(t)}function kM(){var e=TM(HE());return e.copy=function(){return x5(e,kM()).exponent(e.exponent())},Of.apply(e,arguments),e}function OKe(){return kM.apply(null,arguments).exponent(.5)}function YH(e){return Math.sign(e)*e*e}function IKe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ele(){var e=SM(),t=[0,1],r=!1,n;function i(a){var o=IKe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(YH(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,UC)).map(YH)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ele(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Of.apply(i,arguments),A1(i)}function Tle(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=LGe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[p5(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Gp),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Tle().domain(e).range(t).unknown(n)},Of.apply(a,arguments)}function kle(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[p5(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return kle().domain([e,t]).range(i).unknown(a)},Of.apply(A1(o),arguments)}function Ple(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[p5(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ple().domain(e).range(t).unknown(r)},Of.apply(i,arguments)}const ok=new Date,lk=new Date;function Ul(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Ul(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(ok.setTime(+a),lk.setTime(+o),e(ok),e(lk),Math.floor(r(ok,lk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const WC=Ul(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);WC.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ul(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):WC);WC.range;const om=1e3,_f=om*60,lm=_f*60,Em=lm*24,PM=Em*7,XH=Em*30,ck=Em*365,Tg=Ul(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*om)},(e,t)=>(t-e)/om,e=>e.getUTCSeconds());Tg.range;const OM=Ul(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*om)},(e,t)=>{e.setTime(+e+t*_f)},(e,t)=>(t-e)/_f,e=>e.getMinutes());OM.range;const IM=Ul(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_f)},(e,t)=>(t-e)/_f,e=>e.getUTCMinutes());IM.range;const FM=Ul(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*om-e.getMinutes()*_f)},(e,t)=>{e.setTime(+e+t*lm)},(e,t)=>(t-e)/lm,e=>e.getHours());FM.range;const DM=Ul(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*lm)},(e,t)=>(t-e)/lm,e=>e.getUTCHours());DM.range;const v5=Ul(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_f)/Em,e=>e.getDate()-1);v5.range;const qE=Ul(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Em,e=>e.getUTCDate()-1);qE.range;const Ole=Ul(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Em,e=>Math.floor(e/Em));Ole.range;function Tx(e){return Ul(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_f)/PM)}const GE=Tx(0),HC=Tx(1),FKe=Tx(2),DKe=Tx(3),ny=Tx(4),RKe=Tx(5),MKe=Tx(6);GE.range;HC.range;FKe.range;DKe.range;ny.range;RKe.range;MKe.range;function kx(e){return Ul(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/PM)}const KE=kx(0),qC=kx(1),LKe=kx(2),BKe=kx(3),ay=kx(4),$Ke=kx(5),UKe=kx(6);KE.range;qC.range;LKe.range;BKe.range;ay.range;$Ke.range;UKe.range;const RM=Ul(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());RM.range;const MM=Ul(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MM.range;const Tm=Ul(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Tm.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ul(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Tm.range;const km=Ul(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());km.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ul(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});km.range;function Ile(e,t,r,n,i,a){const o=[[Tg,1,om],[Tg,5,5*om],[Tg,15,15*om],[Tg,30,30*om],[a,1,_f],[a,5,5*_f],[a,15,15*_f],[a,30,30*_f],[i,1,lm],[i,3,3*lm],[i,6,6*lm],[i,12,12*lm],[n,1,Em],[n,2,2*Em],[r,1,PM],[t,1,XH],[t,3,3*XH],[e,1,ck]];function l(u,f,h){const g=f<u;g&&([u,f]=[f,u]);const p=h&&typeof h.range=="function"?h:c(u,f,h),S=p?p.range(u,+f+1):[];return g?S.reverse():S}function c(u,f,h){const g=Math.abs(f-u)/h,p=yM(([,,N])=>N).right(o,g);if(p===o.length)return e.every(TI(u/ck,f/ck,h));if(p===0)return WC.every(Math.max(TI(u,f,h),1));const[S,b]=o[g/o[p-1][2]<o[p][2]/g?p-1:p];return S.every(b)}return[l,c]}const[zKe,VKe]=Ile(km,MM,KE,Ole,DM,IM),[WKe,HKe]=Ile(Tm,RM,GE,v5,FM,OM);function uk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function aw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qKe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=iw(i),f=sw(i),h=iw(a),g=sw(a),p=iw(o),S=sw(o),b=iw(l),N=sw(l),C=iw(c),A=sw(c),T={a:he,A:ce,b:ge,B:we,c:null,d:rq,e:rq,f:pYe,g:CYe,G:jYe,H:fYe,I:hYe,j:mYe,L:Fle,m:gYe,M:xYe,p:Ce,q:Q,Q:iq,s:sq,S:vYe,u:yYe,U:bYe,V:wYe,w:_Ye,W:NYe,x:null,X:null,y:SYe,Y:AYe,Z:EYe,"%":aq},F={a:le,A:ne,b:ee,B:pe,c:null,d:nq,e:nq,f:OYe,g:zYe,G:WYe,H:TYe,I:kYe,j:PYe,L:Rle,m:IYe,M:FYe,p:xe,q:Ne,Q:iq,s:sq,S:DYe,u:RYe,U:MYe,V:LYe,w:BYe,W:$Ye,x:null,X:null,y:UYe,Y:VYe,Z:HYe,"%":aq},L={a:Z,A:K,b:q,B:ie,c:ae,d:eq,e:eq,f:lYe,g:QH,G:ZH,H:tq,I:tq,j:aYe,L:oYe,m:nYe,M:iYe,p:z,q:rYe,Q:uYe,s:dYe,S:sYe,u:JKe,U:ZKe,V:QKe,w:XKe,W:eYe,x:X,X:se,y:QH,Y:ZH,Z:tYe,"%":cYe};T.x=B(r,T),T.X=B(n,T),T.c=B(t,T),F.x=B(r,F),F.X=B(n,F),F.c=B(t,F);function B(Se,je){return function(Ge){var De=[],at=-1,ot=0,ht=Se.length,Ue,Ct,tr;for(Ge instanceof Date||(Ge=new Date(+Ge));++at<ht;)Se.charCodeAt(at)===37&&(De.push(Se.slice(ot,at)),(Ct=JH[Ue=Se.charAt(++at)])!=null?Ue=Se.charAt(++at):Ct=Ue==="e"?" ":"0",(tr=je[Ue])&&(Ue=tr(Ge,Ct)),De.push(Ue),ot=at+1);return De.push(Se.slice(ot,at)),De.join("")}}function M(Se,je){return function(Ge){var De=aw(1900,void 0,1),at=W(De,Se,Ge+="",0),ot,ht;if(at!=Ge.length)return null;if("Q"in De)return new Date(De.Q);if("s"in De)return new Date(De.s*1e3+("L"in De?De.L:0));if(je&&!("Z"in De)&&(De.Z=0),"p"in De&&(De.H=De.H%12+De.p*12),De.m===void 0&&(De.m="q"in De?De.q:0),"V"in De){if(De.V<1||De.V>53)return null;"w"in De||(De.w=1),"Z"in De?(ot=dk(aw(De.y,0,1)),ht=ot.getUTCDay(),ot=ht>4||ht===0?qC.ceil(ot):qC(ot),ot=qE.offset(ot,(De.V-1)*7),De.y=ot.getUTCFullYear(),De.m=ot.getUTCMonth(),De.d=ot.getUTCDate()+(De.w+6)%7):(ot=uk(aw(De.y,0,1)),ht=ot.getDay(),ot=ht>4||ht===0?HC.ceil(ot):HC(ot),ot=v5.offset(ot,(De.V-1)*7),De.y=ot.getFullYear(),De.m=ot.getMonth(),De.d=ot.getDate()+(De.w+6)%7)}else("W"in De||"U"in De)&&("w"in De||(De.w="u"in De?De.u%7:"W"in De?1:0),ht="Z"in De?dk(aw(De.y,0,1)).getUTCDay():uk(aw(De.y,0,1)).getDay(),De.m=0,De.d="W"in De?(De.w+6)%7+De.W*7-(ht+5)%7:De.w+De.U*7-(ht+6)%7);return"Z"in De?(De.H+=De.Z/100|0,De.M+=De.Z%100,dk(De)):uk(De)}}function W(Se,je,Ge,De){for(var at=0,ot=je.length,ht=Ge.length,Ue,Ct;at<ot;){if(De>=ht)return-1;if(Ue=je.charCodeAt(at++),Ue===37){if(Ue=je.charAt(at++),Ct=L[Ue in JH?je.charAt(at++):Ue],!Ct||(De=Ct(Se,Ge,De))<0)return-1}else if(Ue!=Ge.charCodeAt(De++))return-1}return De}function z(Se,je,Ge){var De=u.exec(je.slice(Ge));return De?(Se.p=f.get(De[0].toLowerCase()),Ge+De[0].length):-1}function Z(Se,je,Ge){var De=p.exec(je.slice(Ge));return De?(Se.w=S.get(De[0].toLowerCase()),Ge+De[0].length):-1}function K(Se,je,Ge){var De=h.exec(je.slice(Ge));return De?(Se.w=g.get(De[0].toLowerCase()),Ge+De[0].length):-1}function q(Se,je,Ge){var De=C.exec(je.slice(Ge));return De?(Se.m=A.get(De[0].toLowerCase()),Ge+De[0].length):-1}function ie(Se,je,Ge){var De=b.exec(je.slice(Ge));return De?(Se.m=N.get(De[0].toLowerCase()),Ge+De[0].length):-1}function ae(Se,je,Ge){return W(Se,t,je,Ge)}function X(Se,je,Ge){return W(Se,r,je,Ge)}function se(Se,je,Ge){return W(Se,n,je,Ge)}function he(Se){return o[Se.getDay()]}function ce(Se){return a[Se.getDay()]}function ge(Se){return c[Se.getMonth()]}function we(Se){return l[Se.getMonth()]}function Ce(Se){return i[+(Se.getHours()>=12)]}function Q(Se){return 1+~~(Se.getMonth()/3)}function le(Se){return o[Se.getUTCDay()]}function ne(Se){return a[Se.getUTCDay()]}function ee(Se){return c[Se.getUTCMonth()]}function pe(Se){return l[Se.getUTCMonth()]}function xe(Se){return i[+(Se.getUTCHours()>=12)]}function Ne(Se){return 1+~~(Se.getUTCMonth()/3)}return{format:function(Se){var je=B(Se+="",T);return je.toString=function(){return Se},je},parse:function(Se){var je=M(Se+="",!1);return je.toString=function(){return Se},je},utcFormat:function(Se){var je=B(Se+="",F);return je.toString=function(){return Se},je},utcParse:function(Se){var je=M(Se+="",!0);return je.toString=function(){return Se},je}}}var JH={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,GKe=/^%/,KKe=/[\\^$*+?|[\]().{}]/g;function Xi(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function YKe(e){return e.replace(KKe,"\\$&")}function iw(e){return new RegExp("^(?:"+e.map(YKe).join("|")+")","i")}function sw(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function XKe(e,t,r){var n=fc.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JKe(e,t,r){var n=fc.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZKe(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QKe(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eYe(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZH(e,t,r){var n=fc.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function QH(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tYe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rYe(e,t,r){var n=fc.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nYe(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eq(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aYe(e,t,r){var n=fc.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tq(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iYe(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sYe(e,t,r){var n=fc.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oYe(e,t,r){var n=fc.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lYe(e,t,r){var n=fc.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cYe(e,t,r){var n=GKe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uYe(e,t,r){var n=fc.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dYe(e,t,r){var n=fc.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rq(e,t){return Xi(e.getDate(),t,2)}function fYe(e,t){return Xi(e.getHours(),t,2)}function hYe(e,t){return Xi(e.getHours()%12||12,t,2)}function mYe(e,t){return Xi(1+v5.count(Tm(e),e),t,3)}function Fle(e,t){return Xi(e.getMilliseconds(),t,3)}function pYe(e,t){return Fle(e,t)+"000"}function gYe(e,t){return Xi(e.getMonth()+1,t,2)}function xYe(e,t){return Xi(e.getMinutes(),t,2)}function vYe(e,t){return Xi(e.getSeconds(),t,2)}function yYe(e){var t=e.getDay();return t===0?7:t}function bYe(e,t){return Xi(GE.count(Tm(e)-1,e),t,2)}function Dle(e){var t=e.getDay();return t>=4||t===0?ny(e):ny.ceil(e)}function wYe(e,t){return e=Dle(e),Xi(ny.count(Tm(e),e)+(Tm(e).getDay()===4),t,2)}function _Ye(e){return e.getDay()}function NYe(e,t){return Xi(HC.count(Tm(e)-1,e),t,2)}function SYe(e,t){return Xi(e.getFullYear()%100,t,2)}function CYe(e,t){return e=Dle(e),Xi(e.getFullYear()%100,t,2)}function AYe(e,t){return Xi(e.getFullYear()%1e4,t,4)}function jYe(e,t){var r=e.getDay();return e=r>=4||r===0?ny(e):ny.ceil(e),Xi(e.getFullYear()%1e4,t,4)}function EYe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xi(t/60|0,"0",2)+Xi(t%60,"0",2)}function nq(e,t){return Xi(e.getUTCDate(),t,2)}function TYe(e,t){return Xi(e.getUTCHours(),t,2)}function kYe(e,t){return Xi(e.getUTCHours()%12||12,t,2)}function PYe(e,t){return Xi(1+qE.count(km(e),e),t,3)}function Rle(e,t){return Xi(e.getUTCMilliseconds(),t,3)}function OYe(e,t){return Rle(e,t)+"000"}function IYe(e,t){return Xi(e.getUTCMonth()+1,t,2)}function FYe(e,t){return Xi(e.getUTCMinutes(),t,2)}function DYe(e,t){return Xi(e.getUTCSeconds(),t,2)}function RYe(e){var t=e.getUTCDay();return t===0?7:t}function MYe(e,t){return Xi(KE.count(km(e)-1,e),t,2)}function Mle(e){var t=e.getUTCDay();return t>=4||t===0?ay(e):ay.ceil(e)}function LYe(e,t){return e=Mle(e),Xi(ay.count(km(e),e)+(km(e).getUTCDay()===4),t,2)}function BYe(e){return e.getUTCDay()}function $Ye(e,t){return Xi(qC.count(km(e)-1,e),t,2)}function UYe(e,t){return Xi(e.getUTCFullYear()%100,t,2)}function zYe(e,t){return e=Mle(e),Xi(e.getUTCFullYear()%100,t,2)}function VYe(e,t){return Xi(e.getUTCFullYear()%1e4,t,4)}function WYe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ay(e):ay.ceil(e),Xi(e.getUTCFullYear()%1e4,t,4)}function HYe(){return"+0000"}function aq(){return"%"}function iq(e){return+e}function sq(e){return Math.floor(+e/1e3)}var pv,Lle,Ble;qYe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qYe(e){return pv=qKe(e),Lle=pv.format,pv.parse,Ble=pv.utcFormat,pv.utcParse,pv}function GYe(e){return new Date(e)}function KYe(e){return e instanceof Date?+e:+new Date(+e)}function LM(e,t,r,n,i,a,o,l,c,u){var f=SM(),h=f.invert,g=f.domain,p=u(".%L"),S=u(":%S"),b=u("%I:%M"),N=u("%I %p"),C=u("%a %d"),A=u("%b %d"),T=u("%B"),F=u("%Y");function L(B){return(c(B)<B?p:l(B)<B?S:o(B)<B?b:a(B)<B?N:n(B)<B?i(B)<B?C:A:r(B)<B?T:F)(B)}return f.invert=function(B){return new Date(h(B))},f.domain=function(B){return arguments.length?g(Array.from(B,KYe)):g().map(GYe)},f.ticks=function(B){var M=g();return e(M[0],M[M.length-1],B??10)},f.tickFormat=function(B,M){return M==null?L:u(M)},f.nice=function(B){var M=g();return(!B||typeof B.range!="function")&&(B=t(M[0],M[M.length-1],B??10)),B?g(Cle(M,B)):f},f.copy=function(){return x5(f,LM(e,t,r,n,i,a,o,l,c,u))},f}function YYe(){return Of.apply(LM(WKe,HKe,Tm,RM,GE,v5,FM,OM,Tg,Lle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XYe(){return Of.apply(LM(zKe,VKe,km,MM,KE,qE,DM,IM,Tg,Ble).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function YE(){var e=0,t=1,r,n,i,a,o=ju,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(g){var p,S;return arguments.length?([p,S]=g,o=h(p,S),u):[o(0),o(1)]}}return u.range=f(Qy),u.rangeRound=f(NM),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),u}}function j1(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $le(){var e=A1(YE()(ju));return e.copy=function(){return j1(e,$le())},Bm.apply(e,arguments)}function Ule(){var e=jM(YE()).domain([1,10]);return e.copy=function(){return j1(e,Ule()).base(e.base())},Bm.apply(e,arguments)}function zle(){var e=EM(YE());return e.copy=function(){return j1(e,zle()).constant(e.constant())},Bm.apply(e,arguments)}function BM(){var e=TM(YE());return e.copy=function(){return j1(e,BM()).exponent(e.exponent())},Bm.apply(e,arguments)}function JYe(){return BM.apply(null,arguments).exponent(.5)}function Vle(){var e=[],t=ju;function r(n){if(n!=null&&!isNaN(n=+n))return t((p5(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gp),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>MGe(e,a/n))},r.copy=function(){return Vle(t).domain(e)},Bm.apply(r,arguments)}function XE(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,u=ju,f,h=!1,g;function p(b){return isNaN(b=+b)?g:(b=.5+((b=+f(b))-a)*(n*b<n*a?l:c),u(h?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,i=f(e=+e),a=f(t=+t),o=f(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(h=!!b,p):h},p.interpolator=function(b){return arguments.length?(u=b,p):u};function S(b){return function(N){var C,A,T;return arguments.length?([C,A,T]=N,u=cKe(b,[C,A,T]),p):[u(0),u(.5),u(1)]}}return p.range=S(Qy),p.rangeRound=S(NM),p.unknown=function(b){return arguments.length?(g=b,p):g},function(b){return f=b,i=b(e),a=b(t),o=b(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Wle(){var e=A1(XE()(ju));return e.copy=function(){return j1(e,Wle())},Bm.apply(e,arguments)}function Hle(){var e=jM(XE()).domain([.1,1,10]);return e.copy=function(){return j1(e,Hle()).base(e.base())},Bm.apply(e,arguments)}function qle(){var e=EM(XE());return e.copy=function(){return j1(e,qle()).constant(e.constant())},Bm.apply(e,arguments)}function $M(){var e=TM(XE());return e.copy=function(){return j1(e,$M()).exponent(e.exponent())},Bm.apply(e,arguments)}function ZYe(){return $M.apply(null,arguments).exponent(.5)}const oq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:J_,scaleDiverging:Wle,scaleDivergingLog:Hle,scaleDivergingPow:$M,scaleDivergingSqrt:ZYe,scaleDivergingSymlog:qle,scaleIdentity:Sle,scaleImplicit:kI,scaleLinear:VC,scaleLog:Ale,scaleOrdinal:bM,scalePoint:Gw,scalePow:kM,scaleQuantile:Tle,scaleQuantize:kle,scaleRadial:Ele,scaleSequential:$le,scaleSequentialLog:Ule,scaleSequentialPow:BM,scaleSequentialQuantile:Vle,scaleSequentialSqrt:JYe,scaleSequentialSymlog:zle,scaleSqrt:OKe,scaleSymlog:jle,scaleThreshold:Ple,scaleTime:YYe,scaleUtc:XYe,tickFormat:Nle},Symbol.toStringTag,{value:"Module"}));var QYe=Vy;function eXe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!QYe(o):r(o,l)))var l=o,c=a}return c}var JE=eXe;function tXe(e,t){return e>t}var Gle=tXe,rXe=JE,nXe=Gle,aXe=Zy;function iXe(e){return e&&e.length?rXe(e,aXe,nXe):void 0}var sXe=iXe;const kp=Si(sXe);function oXe(e,t){return e<t}var Kle=oXe,lXe=JE,cXe=Kle,uXe=Zy;function dXe(e){return e&&e.length?lXe(e,uXe,cXe):void 0}var fXe=dXe;const ZE=Si(fXe);var hXe=eM,mXe=M0,pXe=rle,gXe=md;function xXe(e,t){var r=gXe(e)?hXe:pXe;return r(e,mXe(t))}var vXe=xXe,yXe=ele,bXe=vXe;function wXe(e,t){return yXe(bXe(e,t),1)}var _Xe=wXe;const NXe=Si(_Xe);var SXe=pM;function CXe(e,t){return SXe(e,t)}var AXe=CXe;const iy=Si(AXe);var eb=1e9,jXe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zM,uo=!0,Tf="[DecimalError] ",Lg=Tf+"Invalid argument: ",UM=Tf+"Exponent out of range: ",tb=Math.floor,hg=Math.pow,EXe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ed,Ql=1e7,Js=7,Yle=9007199254740991,GC=tb(Yle/Js),On={};On.absoluteValue=On.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};On.comparedTo=On.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};On.decimalPlaces=On.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Js;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};On.dividedBy=On.div=function(e){return gm(this,new this.constructor(e))};On.dividedToIntegerBy=On.idiv=function(e){var t=this,r=t.constructor;return As(gm(t,new r(e),0,1),r.precision)};On.equals=On.eq=function(e){return!this.cmp(e)};On.exponent=function(){return _l(this)};On.greaterThan=On.gt=function(e){return this.cmp(e)>0};On.greaterThanOrEqualTo=On.gte=function(e){return this.cmp(e)>=0};On.isInteger=On.isint=function(){return this.e>this.d.length-2};On.isNegative=On.isneg=function(){return this.s<0};On.isPositive=On.ispos=function(){return this.s>0};On.isZero=function(){return this.s===0};On.lessThan=On.lt=function(e){return this.cmp(e)<0};On.lessThanOrEqualTo=On.lte=function(e){return this.cmp(e)<1};On.logarithm=On.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ed))throw Error(Tf+"NaN");if(r.s<1)throw Error(Tf+(r.s?"NaN":"-Infinity"));return r.eq(Ed)?new n(0):(uo=!1,t=gm(r4(r,a),r4(e,a),a),uo=!0,As(t,i))};On.minus=On.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zle(t,e):Xle(t,(e.s=-e.s,e))};On.modulo=On.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Tf+"NaN");return r.s?(uo=!1,t=gm(r,e,0,1).times(e),uo=!0,r.minus(t)):As(new n(r),i)};On.naturalExponential=On.exp=function(){return Jle(this)};On.naturalLogarithm=On.ln=function(){return r4(this)};On.negated=On.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};On.plus=On.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Xle(t,e):Zle(t,(e.s=-e.s,e))};On.precision=On.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lg+e);if(t=_l(i)+1,n=i.d.length-1,r=n*Js+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};On.squareRoot=On.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tf+"NaN")}for(e=_l(l),uo=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=u0(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=tb((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(gm(l,a,o+2)).times(.5),u0(a.d).slice(0,o)===(t=u0(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(As(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return uo=!0,As(n,r)};On.times=On.mul=function(e){var t,r,n,i,a,o,l,c,u,f=this,h=f.constructor,g=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,u=p.length,c<u&&(a=g,g=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+p[n]*g[i-n-1]+t,a[i--]=l%Ql|0,t=l/Ql|0;a[i]=(a[i]+t)%Ql|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,uo?As(e,h.precision):e};On.toDecimalPlaces=On.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(j0(e,0,eb),t===void 0?t=n.rounding:j0(t,0,8),As(r,e+_l(r)+1,t))};On.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=sx(n,!0):(j0(e,0,eb),t===void 0?t=i.rounding:j0(t,0,8),n=As(new i(n),e+1,t),r=sx(n,!0,e+1)),r};On.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?sx(i):(j0(e,0,eb),t===void 0?t=a.rounding:j0(t,0,8),n=As(new a(i),e+_l(i)+1,t),r=sx(n.abs(),!1,e+_l(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};On.toInteger=On.toint=function(){var e=this,t=e.constructor;return As(new t(e),_l(e)+1,t.rounding)};On.toNumber=function(){return+this};On.toPower=On.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Ed);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tf+"Infinity");return l}if(l.eq(Ed))return l;if(n=c.precision,e.eq(Ed))return As(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=f<0?-f:f)<=Yle){for(i=new c(Ed),t=Math.ceil(n/Js+4),uo=!1;r%2&&(i=i.times(l),cq(i.d,t)),r=tb(r/2),r!==0;)l=l.times(l),cq(l.d,t);return uo=!0,e.s<0?new c(Ed).div(i):As(i,n)}}else if(a<0)throw Error(Tf+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,uo=!1,i=e.times(r4(l,n+u)),uo=!0,i=Jle(i),i.s=a,i};On.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=_l(i),n=sx(i,r<=a.toExpNeg||r>=a.toExpPos)):(j0(e,1,eb),t===void 0?t=a.rounding:j0(t,0,8),i=As(new a(i),e,t),r=_l(i),n=sx(i,e<=r||r<=a.toExpNeg,e)),n};On.toSignificantDigits=On.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(j0(e,1,eb),t===void 0?t=n.rounding:j0(t,0,8)),As(new n(r),e,t)};On.toString=On.valueOf=On.val=On.toJSON=On[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_l(e),r=e.constructor;return sx(e,t<=r.toExpNeg||t>=r.toExpPos)};function Xle(e,t){var r,n,i,a,o,l,c,u,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),uo?As(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/Js),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ql|0,c[a]%=Ql;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,uo?As(t,h):t}function j0(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Lg+e)}function u0(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Js-n.length,r&&(a+=yp(r)),a+=n;o=e[t],n=o+"",r=Js-n.length,r&&(a+=yp(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var gm=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Ql|0,o=a/Ql|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ql+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,f,h,g,p,S,b,N,C,A,T,F,L,B,M,W,z=n.constructor,Z=n.s==i.s?1:-1,K=n.d,q=i.d;if(!n.s)return new z(n);if(!i.s)throw Error(Tf+"Division by zero");for(c=n.e-i.e,M=q.length,L=K.length,p=new z(Z),S=p.d=[],u=0;q[u]==(K[u]||0);)++u;if(q[u]>(K[u]||0)&&--c,a==null?A=a=z.precision:o?A=a+(_l(n)-_l(i))+1:A=a,A<0)return new z(0);if(A=A/Js+2|0,u=0,M==1)for(f=0,q=q[0],A++;(u<L||f)&&A--;u++)T=f*Ql+(K[u]||0),S[u]=T/q|0,f=T%q|0;else{for(f=Ql/(q[0]+1)|0,f>1&&(q=e(q,f),K=e(K,f),M=q.length,L=K.length),F=M,b=K.slice(0,M),N=b.length;N<M;)b[N++]=0;W=q.slice(),W.unshift(0),B=q[0],q[1]>=Ql/2&&++B;do f=0,l=t(q,b,M,N),l<0?(C=b[0],M!=N&&(C=C*Ql+(b[1]||0)),f=C/B|0,f>1?(f>=Ql&&(f=Ql-1),h=e(q,f),g=h.length,N=b.length,l=t(h,b,g,N),l==1&&(f--,r(h,M<g?W:q,g))):(f==0&&(l=f=1),h=q.slice()),g=h.length,g<N&&h.unshift(0),r(b,h,N),l==-1&&(N=b.length,l=t(q,b,M,N),l<1&&(f++,r(b,M<N?W:q,N))),N=b.length):l===0&&(f++,b=[0]),S[u++]=f,l&&b[0]?b[N++]=K[F]||0:(b=[K[F]],N=1);while((F++<L||b[0]!==void 0)&&A--)}return S[0]||S.shift(),p.e=c,As(p,o?a+_l(p)+1:a)}}();function Jle(e,t){var r,n,i,a,o,l,c=0,u=0,f=e.constructor,h=f.precision;if(_l(e)>16)throw Error(UM+_l(e));if(!e.s)return new f(Ed);for(t==null?(uo=!1,l=h):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hg(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new f(Ed),f.precision=l;;){if(i=As(i.times(e),l),r=r.times(++c),o=a.plus(gm(i,r,l)),u0(o.d).slice(0,l)===u0(a.d).slice(0,l)){for(;u--;)a=As(a.times(a),l);return f.precision=h,t==null?(uo=!0,As(a,h)):a}a=o}}function _l(e){for(var t=e.e*Js,r=e.d[0];r>=10;r/=10)t++;return t}function fk(e,t,r){if(t>e.LN10.sd())throw uo=!0,r&&(e.precision=r),Error(Tf+"LN10 precision limit exceeded");return As(new e(e.LN10),t)}function yp(e){for(var t="";e--;)t+="0";return t}function r4(e,t){var r,n,i,a,o,l,c,u,f,h=1,g=10,p=e,S=p.d,b=p.constructor,N=b.precision;if(p.s<1)throw Error(Tf+(p.s?"NaN":"-Infinity"));if(p.eq(Ed))return new b(0);if(t==null?(uo=!1,u=N):u=t,p.eq(10))return t==null&&(uo=!0),fk(b,u);if(u+=g,b.precision=u,r=u0(S),n=r.charAt(0),a=_l(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=u0(p.d),n=r.charAt(0),h++;a=_l(p),n>1?(p=new b("0."+r),a++):p=new b(n+"."+r.slice(1))}else return c=fk(b,u+2,N).times(a+""),p=r4(new b(n+"."+r.slice(1)),u-g).plus(c),b.precision=N,t==null?(uo=!0,As(p,N)):p;for(l=o=p=gm(p.minus(Ed),p.plus(Ed),u),f=As(p.times(p),u),i=3;;){if(o=As(o.times(f),u),c=l.plus(gm(o,new b(i),u)),u0(c.d).slice(0,u)===u0(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(fk(b,u+2,N).times(a+""))),l=gm(l,new b(h),u),b.precision=N,t==null?(uo=!0,As(l,N)):l;l=c,i+=2}}function lq(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=tb(r/Js),e.d=[],n=(r+1)%Js,r<0&&(n+=Js),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Js;n<i;)e.d.push(+t.slice(n,n+=Js));t=t.slice(n),n=Js-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),uo&&(e.e>GC||e.e<-GC))throw Error(UM+r)}else e.s=0,e.e=0,e.d=[0];return e}function As(e,t,r){var n,i,a,o,l,c,u,f,h=e.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Js,i=t,u=h[f=0];else{if(f=Math.ceil((n+1)/Js),a=h.length,f>=a)return e;for(u=a=h[f],o=1;a>=10;a/=10)o++;n%=Js,i=n-Js+o}if(r!==void 0&&(a=hg(10,o-i-1),l=u/a%10|0,c=t<0||h[f+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/hg(10,o-i):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(a=_l(e),h.length=1,t=t-a-1,h[0]=hg(10,(Js-t%Js)%Js),e.e=tb(-t/Js)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,a=1,f--):(h.length=f+1,a=hg(10,Js-n),h[f]=i>0?(u/hg(10,o-i)%hg(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==Ql&&(h[0]=1,++e.e);break}else{if(h[f]+=a,h[f]!=Ql)break;h[f--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(uo&&(e.e>GC||e.e<-GC))throw Error(UM+_l(e));return e}function Zle(e,t){var r,n,i,a,o,l,c,u,f,h,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),uo?As(t,p):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/Js),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Ql-1;--c[a],c[i]+=Ql}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,uo?As(t,p):t):new g(0)}function sx(e,t,r){var n,i=_l(e),a=u0(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+yp(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+yp(-i-1)+a,r&&(n=r-o)>0&&(a+=yp(n))):i>=o?(a+=yp(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+yp(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=yp(n))),e.s<0?"-"+a:a}function cq(e,t){if(e.length>t)return e.length=t,!0}function Qle(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Lg+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return lq(o,a.toString())}else if(typeof a!="string")throw Error(Lg+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,EXe.test(a))lq(o,a);else throw Error(Lg+a)}if(i.prototype=On,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qle,i.config=i.set=TXe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function TXe(e){if(!e||typeof e!="object")throw Error(Tf+"Object expected");var t,r,n,i=["precision",1,eb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(tb(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Lg+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lg+r+": "+n);return this}var zM=Qle(jXe);Ed=new zM(1);const ys=zM;function kXe(e){return FXe(e)||IXe(e)||OXe(e)||PXe()}function PXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OXe(e,t){if(e){if(typeof e=="string")return FI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(e,t)}}function IXe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FXe(e){if(Array.isArray(e))return FI(e)}function FI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DXe=function(t){return t},ece={"@@functional/placeholder":!0},tce=function(t){return t===ece},uq=function(t){return function r(){return arguments.length===0||arguments.length===1&&tce(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},RXe=function e(t,r){return t===1?r:uq(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==ece}).length;return o>=t?r.apply(void 0,i):e(t-o,uq(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(h){return tce(h)?c.shift():h});return r.apply(void 0,kXe(f).concat(c))}))})},QE=function(t){return RXe(t.length,t)},DI=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},MXe=QE(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),LXe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return DXe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},RI=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rce=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function BXe(e){var t;return e===0?t=1:t=Math.floor(new ys(e).abs().log(10).toNumber())+1,t}function $Xe(e,t,r){for(var n=new ys(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var UXe=QE(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),zXe=QE(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),VXe=QE(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const e6={rangeStep:$Xe,getDigitCount:BXe,interpolateNumber:UXe,uninterpolateNumber:zXe,uninterpolateTruncation:VXe};function MI(e){return qXe(e)||HXe(e)||nce(e)||WXe()}function WXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HXe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qXe(e){if(Array.isArray(e))return LI(e)}function n4(e,t){return YXe(e)||KXe(e,t)||nce(e,t)||GXe()}function GXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(e,t){if(e){if(typeof e=="string")return LI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(e,t)}}function LI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KXe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function YXe(e){if(Array.isArray(e))return e}function ace(e){var t=n4(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function ice(e,t,r){if(e.lte(0))return new ys(0);var n=e6.getDigitCount(e.toNumber()),i=new ys(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new ys(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new ys(Math.ceil(c))}function XXe(e,t,r){var n=1,i=new ys(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new ys(10).pow(e6.getDigitCount(e)-1),i=new ys(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ys(Math.floor(e)))}else e===0?i=new ys(Math.floor((t-1)/2)):r||(i=new ys(Math.floor(e)));var o=Math.floor((t-1)/2),l=LXe(MXe(function(c){return i.add(new ys(c-o).mul(n)).toNumber()}),DI);return l(0,t)}function sce(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ys(0),tickMin:new ys(0),tickMax:new ys(0)};var a=ice(new ys(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new ys(0):(o=new ys(e).add(t).div(2),o=o.sub(new ys(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new ys(t).sub(o).div(a).toNumber()),u=l+c+1;return u>r?sce(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:o.sub(new ys(l).mul(a)),tickMax:o.add(new ys(c).mul(a))})}function JXe(e){var t=n4(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=ace([r,n]),c=n4(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(MI(DI(0,i-1).map(function(){return 1/0}))):[].concat(MI(DI(0,i-1).map(function(){return-1/0})),[f]);return r>n?RI(h):h}if(u===f)return XXe(u,i,a);var g=sce(u,f,o,a),p=g.step,S=g.tickMin,b=g.tickMax,N=e6.rangeStep(S,b.add(new ys(.1).mul(p)),p);return r>n?RI(N):N}function ZXe(e,t){var r=n4(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ace([n,i]),l=n4(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),h=ice(new ys(u).sub(c).div(f-1),a,0),g=[].concat(MI(e6.rangeStep(new ys(c),new ys(u).sub(new ys(.99).mul(h)),h)),[u]);return n>i?RI(g):g}var QXe=rce(JXe),eJe=rce(ZXe),tJe=!0,hk="Invariant failed";function ox(e,t){if(!e){if(tJe)throw new Error(hk);var r=typeof t=="function"?t():t,n=r?"".concat(hk,": ").concat(r):hk;throw new Error(n)}}var rJe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KC.apply(this,arguments)}function nJe(e,t){return oJe(e)||sJe(e,t)||iJe(e,t)||aJe()}function aJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJe(e,t){if(e){if(typeof e=="string")return dq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dq(e,t)}}function dq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function oJe(e){if(Array.isArray(e))return e}function lJe(e,t){if(e==null)return{};var r=cJe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cce(n.key),n)}}function dJe(e,t,r){return t&&fq(e.prototype,t),r&&fq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fJe(e,t,r){return t=YC(t),hJe(e,oce()?Reflect.construct(t,r||[],YC(e).constructor):t.apply(e,r))}function hJe(e,t){if(t&&(sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJe(e)}function mJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oce=function(){return!!e})()}function YC(e){return YC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YC(e)}function pJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BI(e,t)}function BI(e,t){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BI(e,t)}function lce(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=gJe(e,"string");return sy(t)=="symbol"?t:t+""}function gJe(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t6=function(e){function t(){return uJe(this,t),fJe(this,t,arguments)}return pJe(t,e),dJe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,g=lJe(n,rJe),p=la(g,!1);this.props.direction==="x"&&f.type!=="number"&&ox(!1);var S=c.map(function(b){var N=u(b,l),C=N.x,A=N.y,T=N.value,F=N.errorVal;if(!F)return null;var L=[],B,M;if(Array.isArray(F)){var W=nJe(F,2);B=W[0],M=W[1]}else B=M=F;if(a==="vertical"){var z=f.scale,Z=A+i,K=Z+o,q=Z-o,ie=z(T-B),ae=z(T+M);L.push({x1:ae,y1:K,x2:ae,y2:q}),L.push({x1:ie,y1:Z,x2:ae,y2:Z}),L.push({x1:ie,y1:K,x2:ie,y2:q})}else if(a==="horizontal"){var X=h.scale,se=C+i,he=se-o,ce=se+o,ge=X(T-B),we=X(T+M);L.push({x1:he,y1:we,x2:ce,y2:we}),L.push({x1:se,y1:ge,x2:se,y2:we}),L.push({x1:he,y1:ge,x2:ce,y2:ge})}return Ie.createElement(Ii,KC({className:"recharts-errorBar",key:"bar-".concat(L.map(function(Ce){return"".concat(Ce.x1,"-").concat(Ce.x2,"-").concat(Ce.y1,"-").concat(Ce.y2)}))},p),L.map(function(Ce){return Ie.createElement("line",KC({},Ce,{key:"line-".concat(Ce.x1,"-").concat(Ce.x2,"-").concat(Ce.y1,"-").concat(Ce.y2)}))}))});return Ie.createElement(Ii,{className:"recharts-errorBars"},S)}}])}(Ie.Component);lce(t6,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lce(t6,"displayName","ErrorBar");function a4(e){"@babel/helpers - typeof";return a4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a4(e)}function hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hq(Object(r),!0).forEach(function(n){xJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xJe(e,t,r){return t=vJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vJe(e){var t=yJe(e,"string");return a4(t)=="symbol"?t:t+""}function yJe(e,t){if(a4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uce=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=bd(r,v2);if(!o)return null;var l=v2.defaultProps,c=l!==void 0?tg(tg({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(f,h){var g=h.item,p=h.props,S=p.sectors||p.data||[];return f.concat(S.map(function(b){return{type:o.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var h=f.item,g=h.type.defaultProps,p=g!==void 0?tg(tg({},g),h.props):{},S=p.dataKey,b=p.name,N=p.legendType,C=p.hide;return{inactive:C,dataKey:S,type:c.iconType||N||"square",color:VM(h),value:b||S,payload:p}}),tg(tg(tg({},c),v2.getWithHeight(o,i)),{},{payload:u,item:o})};function i4(e){"@babel/helpers - typeof";return i4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i4(e)}function mq(e){return NJe(e)||_Je(e)||wJe(e)||bJe()}function bJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJe(e,t){if(e){if(typeof e=="string")return $I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $I(e,t)}}function _Je(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NJe(e){if(Array.isArray(e))return $I(e)}function $I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pq(Object(r),!0).forEach(function(n){b2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b2(e,t,r){return t=SJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJe(e){var t=CJe(e,"string");return i4(t)=="symbol"?t:t+""}function CJe(e,t){if(i4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dl(e,t,r){return Ka(e)||Ka(t)?r:Ml(t)?Dd(e,t,r):va(t)?t(e):r}function Kw(e,t,r,n){var i=NXe(e,function(l){return Dl(l,t)});if(r==="number"){var a=i.filter(function(l){return Mr(l)||parseFloat(l)});return a.length?[ZE(a),kp(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Ka(l)}):i;return o.map(function(l){return Ml(l)||l instanceof Date?l:""})}var AJe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Cu(h-f)!==Cu(g-h)){var S=[];if(Cu(g-h)===Cu(c[1]-c[0])){p=g;var b=h+c[1]-c[0];S[0]=Math.min(b,(b+f)/2),S[1]=Math.max(b,(b+f)/2)}else{p=f;var N=g+c[1]-c[0];S[0]=Math.min(h,(N+h)/2),S[1]=Math.max(h,(N+h)/2)}var C=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>C[0]&&t<=C[1]||t>=S[0]&&t<=S[1]){o=i[u].index;break}}else{var A=Math.min(f,g),T=Math.max(f,g);if(t>(A+h)/2&&t<=(T+h)/2){o=i[u].index;break}}}else for(var F=0;F<l;F++)if(F===0&&t<=(n[F].coordinate+n[F+1].coordinate)/2||F>0&&F<l-1&&t>(n[F].coordinate+n[F-1].coordinate)/2&&t<=(n[F].coordinate+n[F+1].coordinate)/2||F===l-1&&t>(n[F].coordinate+n[F-1].coordinate)/2){o=n[F].index;break}return o},VM=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Mo(Mo({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jJe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var f=a[l[c]].stackGroups,h=Object.keys(f),g=0,p=h.length;g<p;g++){var S=f[h[g]],b=S.items,N=S.cateAxisId,C=b.filter(function(M){return pm(M.type).indexOf("Bar")>=0});if(C&&C.length){var A=C[0].type.defaultProps,T=A!==void 0?Mo(Mo({},A),C[0].props):C[0].props,F=T.barSize,L=T[N];o[L]||(o[L]=[]);var B=Ka(F)?r:F;o[L].push({item:C[0],stackList:C.slice(1),barSize:Ka(B)?void 0:Au(B,n,0)})}}return o},EJe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Au(r,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,p=i/c,S=o.reduce(function(F,L){return F+L.barSize||0},0);S+=(c-1)*u,S>=i&&(S-=(c-1)*u,u=0),S>=i&&p>0&&(g=!0,p*=.9,S=c*p);var b=(i-S)/2>>0,N={offset:b-u,size:0};f=o.reduce(function(F,L){var B={item:L.item,position:{offset:N.offset+N.size+u,size:g?p:L.barSize}},M=[].concat(mq(F),[B]);return N=M[M.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(W){M.push({item:W,position:N})}),M},h)}else{var C=Au(n,i,0,!0);i-2*C-(c-1)*u<=0&&(u=0);var A=(i-2*C-(c-1)*u)/c;A>1&&(A>>=0);var T=l===+l?Math.min(A,l):A;f=o.reduce(function(F,L,B){var M=[].concat(mq(F),[{item:L.item,position:{offset:C+(A+u)*B+(A-T)/2,size:T}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(W){M.push({item:W,position:M[M.length-1].position})}),M},h)}return f},TJe=function(t,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=uce({children:a,legendWidth:c});if(u){var f=i||{},h=f.width,g=f.height,p=u.align,S=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&S==="middle")&&p!=="center"&&Mr(t[p]))return Mo(Mo({},t),{},b2({},p,t[p]+(h||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&S!=="middle"&&Mr(t[S]))return Mo(Mo({},t),{},b2({},S,t[S]+(g||0)))}return t},kJe=function(t,r,n){return Ka(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},dce=function(t,r,n,i,a){var o=r.props.children,l=Af(o,t6).filter(function(u){return kJe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var h=Dl(f,n);if(Ka(h))return u;var g=Array.isArray(h)?[ZE(h),kp(h)]:[h,h],p=c.reduce(function(S,b){var N=Dl(f,b,0),C=g[0]-Math.abs(Array.isArray(N)?N[0]:N),A=g[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(C,S[0]),Math.max(A,S[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},PJe=function(t,r,n,i,a){var o=r.map(function(l){return dce(t,l,n,a,i)}).filter(function(l){return!Ka(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fce=function(t,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&dce(t,c,u,i)||Kw(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},hce=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},mce=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},cm=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cu(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var g=a?a.indexOf(h):h;return{coordinate:i(g)+u,value:h,offset:u}});return f.filter(function(h){return!Ky(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:i(h)+u,value:h,index:g,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,g){return{coordinate:i(h)+u,value:a?a[h]:h,index:g,offset:u}})},mk=new WeakMap,pN=function(t,r){if(typeof r!="function")return t;mk.has(t)||mk.set(t,new WeakMap);var n=mk.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},pce=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:J_(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:VC(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gw(),realScaleType:"point"}:a==="category"?{scale:J_(),realScaleType:"band"}:{scale:VC(),realScaleType:"linear"};if(nx(i)){var c="scale".concat(ME(i));return{scale:(oq[c]||Gw)(),realScaleType:oq[c]?c:"point"}}return va(i)?{scale:i}:{scale:Gw(),realScaleType:"point"}},gq=1e-4,gce=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-gq,o=Math.max(i[0],i[1])+gq,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},OJe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},IJe=function(t,r){if(!r||r.length!==2||!Mr(r[0])||!Mr(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Mr(t[0])||t[0]<n)&&(a[0]=n),(!Mr(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},FJe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Ky(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},DJe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=Ky(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},RJe={sign:FJe,expand:a9e,none:J2,silhouette:i9e,wiggle:s9e,positive:DJe},MJe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=RJe[n],o=n9e().keys(i).value(function(l,c){return+Dl(l,c,0)}).order(dI).offset(a);return o(t)},LJe=function(t,r,n,i,a,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,g){var p,S=(p=g.type)!==null&&p!==void 0&&p.defaultProps?Mo(Mo({},g.type.defaultProps),g.props):g.props,b=S.stackId,N=S.hide;if(N)return h;var C=S[n],A=h[C]||{hasStack:!1,stackGroups:{}};if(Ml(b)){var T=A.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};T.items.push(g),A.hasStack=!0,A.stackGroups[b]=T}else A.stackGroups[Yy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return Mo(Mo({},h),{},b2({},C,A))},c),f={};return Object.keys(u).reduce(function(h,g){var p=u[g];if(p.hasStack){var S={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,N){var C=p.stackGroups[N];return Mo(Mo({},b),{},b2({},N,{numericAxisId:n,cateAxisId:i,items:C.items,stackedData:MJe(t,C.items,a)}))},S)}return Mo(Mo({},h),{},b2({},g,p))},f)},xce=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=QXe(u,a,l);return t.domain([ZE(f),kp(f)]),{niceTicks:f}}if(a&&i==="number"){var h=t.domain(),g=eJe(h,a,l);return{niceTicks:g}}return null};function xq(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ka(i[t.dataKey])){var l=_C(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Dl(i,Ka(o)?t.dataKey:o);return Ka(c)?null:t.scale(c)}var vq=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Dl(o,r.dataKey,r.domain[l]);return Ka(c)?null:r.scale(c)-a/2+i},BJe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},$Je=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Mo(Mo({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Ml(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},UJe=function(t){return t.reduce(function(r,n){return[ZE(n.concat([r[0]]).filter(Mr)),kp(n.concat([r[1]]).filter(Mr))]},[1/0,-1/0])},vce=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,f){var h=UJe(f.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},yq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UI=function(t,r,n){if(va(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Mr(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(yq.test(t[0])){var a=+yq.exec(t[0])[1];i[0]=r[0]-a}else va(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Mr(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(bq.test(t[1])){var o=+bq.exec(t[1])[1];i[1]=r[1]+o}else va(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},XC=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=xM(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],f=a[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},wq=function(t,r,n){return!t||!t.length||iy(t,Dd(n,"type.defaultProps.domain"))?r:t},yce=function(t,r){var n=t.type.defaultProps?Mo(Mo({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return Mo(Mo({},la(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:VM(t),value:Dl(r,i),type:c,payload:r,chartType:u,hide:f})};function s4(e){"@babel/helpers - typeof";return s4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s4(e)}function _q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_q(Object(r),!0).forEach(function(n){bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t,r){return t=zJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJe(e){var t=VJe(e,"string");return s4(t)=="symbol"?t:t+""}function VJe(e,t){if(s4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WJe(e,t){return KJe(e)||GJe(e,t)||qJe(e,t)||HJe()}function HJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qJe(e,t){if(e){if(typeof e=="string")return Nq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nq(e,t)}}function Nq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function KJe(e){if(Array.isArray(e))return e}var JC=Math.PI/180,YJe=function(t){return t*180/Math.PI},Ls=function(t,r,n,i){return{x:t+Math.cos(-JC*i)*n,y:r+Math.sin(-JC*i)*n}},wce=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XJe=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Au(t.cx,o,o/2),h=Au(t.cy,l,l/2),g=wce(o,l,n),p=Au(t.innerRadius,g,0),S=Au(t.outerRadius,g,g*.8),b=Object.keys(r);return b.reduce(function(N,C){var A=r[C],T=A.domain,F=A.reversed,L;if(Ka(A.range))i==="angleAxis"?L=[c,u]:i==="radiusAxis"&&(L=[p,S]),F&&(L=[L[1],L[0]]);else{L=A.range;var B=L,M=WJe(B,2);c=M[0],u=M[1]}var W=pce(A,a),z=W.realScaleType,Z=W.scale;Z.domain(T).range(L),gce(Z);var K=xce(Z,tm(tm({},A),{},{realScaleType:z})),q=tm(tm(tm({},A),K),{},{range:L,radius:S,realScaleType:z,scale:Z,cx:f,cy:h,innerRadius:p,outerRadius:S,startAngle:c,endAngle:u});return tm(tm({},N),{},bce({},C,q))},{})},JJe=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},ZJe=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,l=JJe({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:YJe(u),angleInRadian:u}},QJe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},eZe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},Sq=function(t,r){var n=t.x,i=t.y,a=ZJe({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=QJe(r),h=f.startAngle,g=f.endAngle,p=l,S;if(h<=g){for(;p>g;)p-=360;for(;p<h;)p+=360;S=p>=h&&p<=g}else{for(;p>h;)p-=360;for(;p<g;)p+=360;S=p>=g&&p<=h}return S?tm(tm({},r),{},{radius:o,angle:eZe(p,r)}):null},_ce=function(t){return!j.isValidElement(t)&&!va(t)&&typeof t!="boolean"?t.className:""};function o4(e){"@babel/helpers - typeof";return o4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o4(e)}var tZe=["offset"];function rZe(e){return sZe(e)||iZe(e)||aZe(e)||nZe()}function nZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZe(e,t){if(e){if(typeof e=="string")return zI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zI(e,t)}}function iZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sZe(e){if(Array.isArray(e))return zI(e)}function zI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oZe(e,t){if(e==null)return{};var r=lZe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(r),!0).forEach(function(n){cZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZe(e,t,r){return t=uZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZe(e){var t=dZe(e,"string");return o4(t)=="symbol"?t:t+""}function dZe(e,t){if(o4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l4(){return l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l4.apply(this,arguments)}var fZe=function(t){var r=t.value,n=t.formatter,i=Ka(t.children)?r:t.children;return va(n)?n(i):i},hZe=function(t,r){var n=Cu(r-t),i=Math.min(Math.abs(r-t),360);return n*i},mZe=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,f=c.cy,h=c.innerRadius,g=c.outerRadius,p=c.startAngle,S=c.endAngle,b=c.clockWise,N=(h+g)/2,C=hZe(p,S),A=C>=0?1:-1,T,F;i==="insideStart"?(T=p+A*o,F=b):i==="insideEnd"?(T=S-A*o,F=!b):i==="end"&&(T=S+A*o,F=b),F=C<=0?F:!F;var L=Ls(u,f,N,T),B=Ls(u,f,N,T+(F?1:-1)*359),M="M".concat(L.x,",").concat(L.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(F?0:1,`,
    `).concat(B.x,",").concat(B.y),W=Ka(t.id)?Yy("recharts-radial-line-"):t.id;return Ie.createElement("text",l4({},n,{dominantBaseline:"central",className:Ga("recharts-radial-bar-label",l)}),Ie.createElement("defs",null,Ie.createElement("path",{id:W,d:M})),Ie.createElement("textPath",{xlinkHref:"#".concat(W)},r))},pZe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,f=a.startAngle,h=a.endAngle,g=(f+h)/2;if(i==="outside"){var p=Ls(o,l,u+n,g),S=p.x,b=p.y;return{x:S,y:b,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var N=(c+u)/2,C=Ls(o,l,N,g),A=C.x,T=C.y;return{x:A,y:T,textAnchor:"middle",verticalAnchor:"middle"}},gZe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,h=f>=0?1:-1,g=h*i,p=h>0?"end":"start",S=h>0?"start":"end",b=u>=0?1:-1,N=b*i,C=b>0?"end":"start",A=b>0?"start":"end";if(a==="top"){var T={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return Tl(Tl({},T),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var F={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:S};return Tl(Tl({},F),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(a==="left"){var L={x:l-N,y:c+f/2,textAnchor:C,verticalAnchor:"middle"};return Tl(Tl({},L),n?{width:Math.max(L.x-n.x,0),height:f}:{})}if(a==="right"){var B={x:l+u+N,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return Tl(Tl({},B),n?{width:Math.max(n.x+n.width-B.x,0),height:f}:{})}var M=n?{width:u,height:f}:{};return a==="insideLeft"?Tl({x:l+N,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},M):a==="insideRight"?Tl({x:l+u-N,y:c+f/2,textAnchor:C,verticalAnchor:"middle"},M):a==="insideTop"?Tl({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:S},M):a==="insideBottom"?Tl({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:p},M):a==="insideTopLeft"?Tl({x:l+N,y:c+g,textAnchor:A,verticalAnchor:S},M):a==="insideTopRight"?Tl({x:l+u-N,y:c+g,textAnchor:C,verticalAnchor:S},M):a==="insideBottomLeft"?Tl({x:l+N,y:c+f-g,textAnchor:A,verticalAnchor:p},M):a==="insideBottomRight"?Tl({x:l+u-N,y:c+f-g,textAnchor:C,verticalAnchor:p},M):Wy(a)&&(Mr(a.x)||jg(a.x))&&(Mr(a.y)||jg(a.y))?Tl({x:l+Au(a.x,u),y:c+Au(a.y,f),textAnchor:"end",verticalAnchor:"end"},M):Tl({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},xZe=function(t){return"cx"in t&&Mr(t.cx)};function ac(e){var t=e.offset,r=t===void 0?5:t,n=oZe(e,tZe),i=Tl({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,h=f===void 0?"":f,g=i.textBreakAll;if(!a||Ka(l)&&Ka(c)&&!j.isValidElement(u)&&!va(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(va(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=fZe(i);var S=xZe(a),b=la(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return mZe(i,p,b);var N=S?pZe(i):gZe(i);return Ie.createElement(ix,l4({className:Ga("recharts-label",h)},b,N,{breakAll:g}),p)}ac.displayName="Label";var Nce=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,h=t.x,g=t.y,p=t.top,S=t.left,b=t.width,N=t.height,C=t.clockWise,A=t.labelViewBox;if(A)return A;if(Mr(b)&&Mr(N)){if(Mr(h)&&Mr(g))return{x:h,y:g,width:b,height:N};if(Mr(p)&&Mr(S))return{x:p,y:S,width:b,height:N}}return Mr(h)&&Mr(g)?{x:h,y:g,width:0,height:0}:Mr(r)&&Mr(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:C}:t.viewBox?t.viewBox:{}},vZe=function(t,r){return t?t===!0?Ie.createElement(ac,{key:"label-implicit",viewBox:r}):Ml(t)?Ie.createElement(ac,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===ac?j.cloneElement(t,{key:"label-implicit",viewBox:r}):Ie.createElement(ac,{key:"label-implicit",content:t,viewBox:r}):va(t)?Ie.createElement(ac,{key:"label-implicit",content:t,viewBox:r}):Wy(t)?Ie.createElement(ac,l4({viewBox:r},t,{key:"label-implicit"})):null:null},yZe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=Nce(t),o=Af(i,ac).map(function(c,u){return j.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=vZe(t.label,r||a);return[l].concat(rZe(o))};ac.parseViewBox=Nce;ac.renderCallByParent=yZe;function bZe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var wZe=bZe;const _Ze=Si(wZe);function c4(e){"@babel/helpers - typeof";return c4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c4(e)}var NZe=["valueAccessor"],SZe=["data","dataKey","clockWise","id","textBreakAll"];function CZe(e){return TZe(e)||EZe(e)||jZe(e)||AZe()}function AZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZe(e,t){if(e){if(typeof e=="string")return VI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(e,t)}}function EZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TZe(e){if(Array.isArray(e))return VI(e)}function VI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}function Aq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aq(Object(r),!0).forEach(function(n){kZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZe(e,t,r){return t=PZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZe(e){var t=OZe(e,"string");return c4(t)=="symbol"?t:t+""}function OZe(e,t){if(c4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eq(e,t){if(e==null)return{};var r=IZe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FZe=function(t){return Array.isArray(t.value)?_Ze(t.value):t.value};function xm(e){var t=e.valueAccessor,r=t===void 0?FZe:t,n=Eq(e,NZe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Eq(n,SZe);return!i||!i.length?null:Ie.createElement(Ii,{className:"recharts-label-list"},i.map(function(f,h){var g=Ka(a)?r(f,h):Dl(f&&f.payload,a),p=Ka(l)?{}:{id:"".concat(l,"-").concat(h)};return Ie.createElement(ac,ZC({},la(f,!0),u,p,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:ac.parseViewBox(Ka(o)?f:jq(jq({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}xm.displayName="LabelList";function DZe(e,t){return e?e===!0?Ie.createElement(xm,{key:"labelList-implicit",data:t}):Ie.isValidElement(e)||va(e)?Ie.createElement(xm,{key:"labelList-implicit",data:t,content:e}):Wy(e)?Ie.createElement(xm,ZC({data:t},e,{key:"labelList-implicit"})):null:null}function RZe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Af(n,xm).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=DZe(e.label,t);return[a].concat(CZe(i))}xm.renderCallByParent=RZe;function u4(e){"@babel/helpers - typeof";return u4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u4(e)}function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WI.apply(this,arguments)}function Tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(r),!0).forEach(function(n){MZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MZe(e,t,r){return t=LZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZe(e){var t=BZe(e,"string");return u4(t)=="symbol"?t:t+""}function BZe(e,t){if(u4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Ze=function(t,r){var n=Cu(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},gN=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/JC,g=u?a:a+o*h,p=Ls(r,n,f,g),S=Ls(r,n,i,g),b=u?a-o*h:a,N=Ls(r,n,f*Math.cos(h*JC),b);return{center:p,circleTangency:S,lineTangency:N,theta:h}},Sce=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=$Ze(o,l),u=o+c,f=Ls(r,n,a,o),h=Ls(r,n,a,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ls(r,n,i,o),S=Ls(r,n,i,u);g+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},UZe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,h=Cu(f-u),g=gN({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=g.circleTangency,S=g.lineTangency,b=g.theta,N=gN({cx:r,cy:n,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),C=N.circleTangency,A=N.lineTangency,T=N.theta,F=c?Math.abs(u-f):Math.abs(u-f)-b-T;if(F<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Sce({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var L="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var B=gN({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=B.circleTangency,W=B.lineTangency,z=B.theta,Z=gN({cx:r,cy:n,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),K=Z.circleTangency,q=Z.lineTangency,ie=Z.theta,ae=c?Math.abs(u-f):Math.abs(u-f)-z-ie;if(ae<0&&o===0)return"".concat(L,"L").concat(r,",").concat(n,"Z");L+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ae>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(W.x,",").concat(W.y,"Z")}else L+="L".concat(r,",").concat(n,"Z");return L},zZe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Cce=function(t){var r=kq(kq({},zZe),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,g=r.className;if(o<a||f===h)return null;var p=Ga("recharts-sector",g),S=o-a,b=Au(l,S,0,!0),N;return b>0&&Math.abs(f-h)<360?N=UZe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,S/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):N=Sce({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),Ie.createElement("path",WI({},la(r,!0),{className:p,d:N,role:"img"}))};function d4(e){"@babel/helpers - typeof";return d4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d4(e)}function HI(){return HI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HI.apply(this,arguments)}function Pq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pq(Object(r),!0).forEach(function(n){VZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZe(e,t,r){return t=WZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZe(e){var t=HZe(e,"string");return d4(t)=="symbol"?t:t+""}function HZe(e,t){if(d4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iq={curveBasisClosed:qLe,curveBasisOpen:GLe,curveBasis:HLe,curveBumpX:PLe,curveBumpY:OLe,curveLinearClosed:KLe,curveLinear:BE,curveMonotoneX:YLe,curveMonotoneY:XLe,curveNatural:JLe,curveStep:ZLe,curveStepAfter:e9e,curveStepBefore:QLe},xN=function(t){return t.x===+t.x&&t.y===+t.y},ow=function(t){return t.x},lw=function(t){return t.y},qZe=function(t,r){if(va(t))return t;var n="curve".concat(ME(t));return(n==="curveMonotone"||n==="curveBump")&&r?Iq["".concat(n).concat(r==="vertical"?"Y":"X")]:Iq[n]||BE},GZe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=qZe(n,l),h=u?a.filter(function(b){return xN(b)}):a,g;if(Array.isArray(o)){var p=u?o.filter(function(b){return xN(b)}):o,S=h.map(function(b,N){return Oq(Oq({},b),{},{base:p[N]})});return l==="vertical"?g=oN().y(lw).x1(ow).x0(function(b){return b.base.x}):g=oN().x(ow).y1(lw).y0(function(b){return b.base.y}),g.defined(xN).curve(f),g(S)}return l==="vertical"&&Mr(o)?g=oN().y(lw).x1(ow).x0(o):Mr(o)?g=oN().x(ow).y1(lw).y0(o):g=yoe().x(ow).y(lw),g.defined(xN).curve(f),g(h)},w2=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?GZe(t):i;return j.createElement("path",HI({},la(t,!1),NC(t),{className:Ga("recharts-curve",r),d:o,ref:a}))},KZe=Object.getOwnPropertyNames,YZe=Object.getOwnPropertySymbols,XZe=Object.prototype.hasOwnProperty;function Fq(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function vN(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function JZe(e){return e!=null?e[Symbol.toStringTag]:void 0}function Dq(e){return KZe(e).concat(YZe(e))}var ZZe=Object.hasOwn||function(e,t){return XZe.call(e,t)};function Px(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var QZe="__v",eQe="__o",tQe="_owner",Rq=Object.getOwnPropertyDescriptor,Mq=Object.keys;function rQe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function nQe(e,t){return Px(e.getTime(),t.getTime())}function aQe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iQe(e,t){return e===t}function Lq(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),f=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var g=o.value,p=l.value;if(r.equals(g[0],p[0],c,h,e,t,r)&&r.equals(g[1],p[1],g[0],p[0],e,t,r)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var sQe=Px;function oQe(e,t,r){var n=Mq(e),i=n.length;if(Mq(t).length!==i)return!1;for(;i-- >0;)if(!Ace(e,t,r,n[i]))return!1;return!0}function cw(e,t,r){var n=Dq(e),i=n.length;if(Dq(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],!Ace(e,t,r,a)||(o=Rq(e,a),l=Rq(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function lQe(e,t){return Px(e.valueOf(),t.valueOf())}function cQe(e,t){return e.source===t.source&&e.flags===t.flags}function Bq(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function uQe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dQe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ace(e,t,r,n){return(n===tQe||n===eQe||n===QZe)&&(e.$$typeof||t.$$typeof)?!0:ZZe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var fQe="[object Arguments]",hQe="[object Boolean]",mQe="[object Date]",pQe="[object Error]",gQe="[object Map]",xQe="[object Number]",vQe="[object Object]",yQe="[object RegExp]",bQe="[object Set]",wQe="[object String]",_Qe="[object URL]",NQe=Array.isArray,$q=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Uq=Object.assign,SQe=Object.prototype.toString.call.bind(Object.prototype.toString);function CQe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,g=e.areUrlsEqual,p=e.unknownTagComparators;return function(b,N,C){if(b===N)return!0;if(b==null||N==null)return!1;var A=typeof b;if(A!==typeof N)return!1;if(A!=="object")return A==="number"?o(b,N,C):A==="function"?i(b,N,C):!1;var T=b.constructor;if(T!==N.constructor)return!1;if(T===Object)return l(b,N,C);if(NQe(b))return t(b,N,C);if($q!=null&&$q(b))return h(b,N,C);if(T===Date)return r(b,N,C);if(T===RegExp)return u(b,N,C);if(T===Map)return a(b,N,C);if(T===Set)return f(b,N,C);var F=SQe(b);if(F===mQe)return r(b,N,C);if(F===yQe)return u(b,N,C);if(F===gQe)return a(b,N,C);if(F===bQe)return f(b,N,C);if(F===vQe)return typeof b.then!="function"&&typeof N.then!="function"&&l(b,N,C);if(F===_Qe)return g(b,N,C);if(F===pQe)return n(b,N,C);if(F===fQe)return l(b,N,C);if(F===hQe||F===xQe||F===wQe)return c(b,N,C);if(p){var L=p[F];if(!L){var B=JZe(b);B&&(L=p[B])}if(L)return L(b,N,C)}return!1}}function AQe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?cw:rQe,areDatesEqual:nQe,areErrorsEqual:aQe,areFunctionsEqual:iQe,areMapsEqual:n?Fq(Lq,cw):Lq,areNumbersEqual:sQe,areObjectsEqual:n?cw:oQe,arePrimitiveWrappersEqual:lQe,areRegExpsEqual:cQe,areSetsEqual:n?Fq(Bq,cw):Bq,areTypedArraysEqual:n?cw:uQe,areUrlsEqual:dQe,unknownTagComparators:void 0};if(r&&(i=Uq({},i,r(i))),t){var a=vN(i.areArraysEqual),o=vN(i.areMapsEqual),l=vN(i.areObjectsEqual),c=vN(i.areSetsEqual);i=Uq({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function jQe(e){return function(t,r,n,i,a,o,l){return e(t,r,l)}}function EQe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var f=n(),h=f.cache,g=h===void 0?t?new WeakMap:void 0:h,p=f.meta;return r(c,u,{cache:g,equals:i,meta:p,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var TQe=E1();E1({strict:!0});E1({circular:!0});E1({circular:!0,strict:!0});E1({createInternalComparator:function(){return Px}});E1({strict:!0,createInternalComparator:function(){return Px}});E1({circular:!0,createInternalComparator:function(){return Px}});E1({circular:!0,createInternalComparator:function(){return Px},strict:!0});function E1(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=AQe(e),c=CQe(l),u=n?n(c):jQe(c);return EQe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function kQe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function zq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):kQe(i)};requestAnimationFrame(n)}function qI(e){"@babel/helpers - typeof";return qI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qI(e)}function PQe(e){return DQe(e)||FQe(e)||IQe(e)||OQe()}function OQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQe(e,t){if(e){if(typeof e=="string")return Vq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vq(e,t)}}function Vq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DQe(e){if(Array.isArray(e))return e}function RQe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=PQe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){zq(i.bind(null,u),c);return}i(c),zq(i.bind(null,u));return}qI(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function f4(e){"@babel/helpers - typeof";return f4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f4(e)}function Wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wq(Object(r),!0).forEach(function(n){jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jce(e,t,r){return t=MQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQe(e){var t=LQe(e,"string");return f4(t)==="symbol"?t:String(t)}function LQe(e,t){if(f4(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f4(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BQe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},$Qe=function(t){return t},UQe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yw=function(t,r){return Object.keys(r).reduce(function(n,i){return Hq(Hq({},n),{},jce({},i,t(i,r[i])))},{})},qq=function(t,r,n){return t.map(function(i){return"".concat(UQe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function zQe(e,t){return HQe(e)||WQe(e,t)||Ece(e,t)||VQe()}function VQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function HQe(e){if(Array.isArray(e))return e}function qQe(e){return YQe(e)||KQe(e)||Ece(e)||GQe()}function GQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e,t){if(e){if(typeof e=="string")return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}}function KQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YQe(e){if(Array.isArray(e))return GI(e)}function GI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QC=1e-4,Tce=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kce=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Gq=function(t,r){return function(n){var i=Tce(t,r);return kce(i,n)}},XQe=function(t,r){return function(n){var i=Tce(t,r),a=[].concat(qQe(i.map(function(o,l){return o*l}).slice(1)),[0]);return kce(a,n)}},Kq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),f=zQe(u,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var h=Gq(i,o),g=Gq(a,l),p=XQe(i,o),S=function(C){return C>1?1:C<0?0:C},b=function(C){for(var A=C>1?1:C,T=A,F=0;F<8;++F){var L=h(T)-A,B=p(T);if(Math.abs(L-A)<QC||B<QC)return g(T);T=S(T-L/B)}return g(T)};return b.isStepper=!1,b},JQe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,h,g){var p=-(f-h)*n,S=g*a,b=g+(p-S)*l/1e3,N=g*l/1e3+f;return Math.abs(N-h)<QC&&Math.abs(b)<QC?[h,0]:[N,b]};return c.isStepper=!0,c.dt=l,c},ZQe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kq(i);case"spring":return JQe();default:if(i.split("(")[0]==="cubic-bezier")return Kq(i)}return typeof i=="function"?i:null};function h4(e){"@babel/helpers - typeof";return h4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h4(e)}function Yq(e){return tet(e)||eet(e)||Pce(e)||QQe()}function QQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tet(e){if(Array.isArray(e))return YI(e)}function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(r),!0).forEach(function(n){KI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KI(e,t,r){return t=ret(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ret(e){var t=net(e,"string");return h4(t)==="symbol"?t:String(t)}function net(e,t){if(h4(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h4(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aet(e,t){return oet(e)||set(e,t)||Pce(e,t)||iet()}function iet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pce(e,t){if(e){if(typeof e=="string")return YI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(e,t)}}function YI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function set(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function oet(e){if(Array.isArray(e))return e}var eA=function(t,r,n){return t+(r-t)*n},XI=function(t){var r=t.from,n=t.to;return r!==n},cet=function e(t,r,n){var i=Yw(function(a,o){if(XI(o)){var l=t(o.from,o.to,o.velocity),c=aet(l,2),u=c[0],f=c[1];return Cc(Cc({},o),{},{from:u,velocity:f})}return o},r);return n<1?Yw(function(a,o){return XI(o)?Cc(Cc({},o),{},{velocity:eA(o.velocity,i[a].velocity,n),from:eA(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const uet=function(e,t,r,n,i){var a=BQe(e,t),o=a.reduce(function(N,C){return Cc(Cc({},N),{},KI({},C,[e[C],t[C]]))},{}),l=a.reduce(function(N,C){return Cc(Cc({},N),{},KI({},C,{from:e[C],velocity:0,to:t[C]}))},{}),c=-1,u,f,h=function(){return null},g=function(){return Yw(function(C,A){return A.from},l)},p=function(){return!Object.values(l).filter(XI).length},S=function(C){u||(u=C);var A=C-u,T=A/r.dt;l=cet(r,l,T),i(Cc(Cc(Cc({},e),t),g())),u=C,p()||(c=requestAnimationFrame(h))},b=function(C){f||(f=C);var A=(C-f)/n,T=Yw(function(L,B){return eA.apply(void 0,Yq(B).concat([r(A)]))},o);if(i(Cc(Cc(Cc({},e),t),T)),A<1)c=requestAnimationFrame(h);else{var F=Yw(function(L,B){return eA.apply(void 0,Yq(B).concat([r(1)]))},o);i(Cc(Cc(Cc({},e),t),F))}};return h=r.isStepper?S:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}var det=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fet(e,t){if(e==null)return{};var r=het(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function het(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function pk(e){return xet(e)||get(e)||pet(e)||met()}function met(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pet(e,t){if(e){if(typeof e=="string")return JI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JI(e,t)}}function get(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xet(e){if(Array.isArray(e))return JI(e)}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jq(Object(r),!0).forEach(function(n){Sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sw(e,t,r){return t=Oce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oce(n.key),n)}}function yet(e,t,r){return t&&Zq(e.prototype,t),r&&Zq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oce(e){var t=bet(e,"string");return oy(t)==="symbol"?t:String(t)}function bet(e,t){if(oy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZI(e,t)}function ZI(e,t){return ZI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZI(e,t)}function _et(e){var t=Net();return function(){var n=tA(e),i;if(t){var a=tA(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QI(this,i)}}function QI(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eF(e)}function eF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Net(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tA(e){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tA(e)}var r6=function(e){wet(r,e);var t=_et(r);function r(n,i){var a;vet(this,r),a=t.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,h=o.steps,g=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(eF(a)),a.changeStyle=a.changeStyle.bind(eF(a)),!l||p<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:f}),QI(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof g=="function")return a.state={style:u},QI(a);a.state={style:c?Sw({},c,u):u}}else a.state={style:{}};return a}return yet(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,f=a.to,h=a.from,g=this.state.style;if(l){if(!o){var p={style:c?Sw({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(p);return}if(!(TQe(i.to,f)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=S||u?h:i.to;if(this.state&&g){var N={style:c?Sw({},c,b):b};(c&&g[c]!==b||!c&&g!==b)&&this.setState(N)}this.runAnimation(Zf(Zf({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,p=uet(o,l,ZQe(u),c,this.changeStyle),S=function(){a.stopJSAnimation=p()};this.manager.start([g,f,S,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,g=h===void 0?0:h,p=function(b,N,C){if(C===0)return b;var A=N.duration,T=N.easing,F=T===void 0?"ease":T,L=N.style,B=N.properties,M=N.onAnimationEnd,W=C>0?o[C-1]:N,z=B||Object.keys(L);if(typeof F=="function"||F==="spring")return[].concat(pk(b),[a.runJSAnimation.bind(a,{from:W.style,to:L,duration:A,easing:F}),A]);var Z=qq(z,A,F),K=Zf(Zf(Zf({},W.style),L),{},{transition:Z});return[].concat(pk(b),[K,A,M]).filter($Qe)};return this.manager.start([c].concat(pk(o.reduce(p,[f,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=RQe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,p=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var b=l?Sw({},l,c):c,N=qq(Object.keys(b),o,u);S.start([f,a,Zf(Zf({},b),{},{transition:N}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=fet(i,det),u=j.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||u===0||o<=0)return a;var h=function(p){var S=p.props,b=S.style,N=b===void 0?{}:b,C=S.className,A=j.cloneElement(p,Zf(Zf({},c),{},{style:Zf(Zf({},N),f),className:C}));return A};return u===1?h(j.Children.only(a)):Ie.createElement("div",null,j.Children.map(a,function(g){return h(g)}))}}]),r}(j.PureComponent);r6.displayName="Animate";r6.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};r6.propTypes={from:oa.oneOfType([oa.object,oa.string]),to:oa.oneOfType([oa.object,oa.string]),attributeName:oa.string,duration:oa.number,begin:oa.number,easing:oa.oneOfType([oa.string,oa.func]),steps:oa.arrayOf(oa.shape({duration:oa.number.isRequired,style:oa.object.isRequired,easing:oa.oneOfType([oa.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oa.func]),properties:oa.arrayOf("string"),onAnimationEnd:oa.func})),children:oa.oneOfType([oa.node,oa.func]),isActive:oa.bool,canBegin:oa.bool,onAnimationEnd:oa.func,shouldReAnimate:oa.bool,onAnimationStart:oa.func,onAnimationReStart:oa.func};const lx=r6;function m4(e){"@babel/helpers - typeof";return m4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m4(e)}function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rA.apply(this,arguments)}function Cet(e,t){return Tet(e)||Eet(e,t)||jet(e,t)||Aet()}function Aet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jet(e,t){if(e){if(typeof e=="string")return Qq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qq(e,t)}}function Qq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eet(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Tet(e){if(Array.isArray(e))return e}function eG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eG(Object(r),!0).forEach(function(n){ket(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ket(e,t,r){return t=Pet(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pet(e){var t=Oet(e,"string");return m4(t)=="symbol"?t:t+""}function Oet(e,t){if(m4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rG=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,p=4;g<p;g++)h[g]=a[g]>o?o:a[g];f="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),f+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),f+="L ".concat(t+n,",").concat(r+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+i)),f+="L ".concat(t+c*h[3],",").concat(r+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);f="M ".concat(t,",").concat(r+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t+c*S,",").concat(r,`
            L `).concat(t+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*S,`
            L `).concat(t+n,",").concat(r+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t+n-c*S,",").concat(r+i,`
            L `).concat(t+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*S," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},Iet=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),f=Math.max(a,a+l),h=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&i>=h&&i<=g}return!1},Fet={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WM=function(t){var r=tG(tG({},Fet),t),n=j.useRef(),i=j.useState(-1),a=Cet(i,2),o=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&l(F)}catch{}},[]);var c=r.x,u=r.y,f=r.width,h=r.height,g=r.radius,p=r.className,S=r.animationEasing,b=r.animationDuration,N=r.animationBegin,C=r.isAnimationActive,A=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var T=Ga("recharts-rectangle",p);return A?Ie.createElement(lx,{canBegin:o>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:b,animationEasing:S,isActive:A},function(F){var L=F.width,B=F.height,M=F.x,W=F.y;return Ie.createElement(lx,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:b,isActive:C,easing:S},Ie.createElement("path",rA({},la(r,!0),{className:T,d:rG(M,W,L,B,g),ref:n})))}):Ie.createElement("path",rA({},la(r,!0),{className:T,d:rG(c,u,f,h,g)}))},Det=["points","className","baseLinePoints","connectNulls"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function Ret(e,t){if(e==null)return{};var r=Met(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Met(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nG(e){return Uet(e)||$et(e)||Bet(e)||Let()}function Let(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bet(e,t){if(e){if(typeof e=="string")return tF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(e,t)}}function $et(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uet(e){if(Array.isArray(e))return tF(e)}function tF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aG=function(t){return t&&t.x===+t.x&&t.y===+t.y},zet=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){aG(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),aG(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Xw=function(t,r){var n=zet(t);r&&(n=[n.reduce(function(a,o){return[].concat(nG(a),nG(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Vet=function(t,r,n){var i=Xw(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xw(r.reverse(),n).slice(1))},Wet=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=Ret(t,Det);if(!r||!r.length)return null;var l=Ga("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Vet(r,i,a);return Ie.createElement("g",{className:l},Ie.createElement("path",Kv({},la(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Ie.createElement("path",Kv({},la(o,!0),{fill:"none",d:Xw(r,a)})):null,c?Ie.createElement("path",Kv({},la(o,!0),{fill:"none",d:Xw(i,a)})):null)}var f=Xw(r,a);return Ie.createElement("path",Kv({},la(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function rF(){return rF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rF.apply(this,arguments)}var n6=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Ga("recharts-dot",a);return r===+r&&n===+n&&i===+i?j.createElement("circle",rF({},la(t,!1),NC(t),{className:o,cx:r,cy:n,r:i})):null};function p4(e){"@babel/helpers - typeof";return p4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p4(e)}var Het=["x","y","top","left","width","height","className"];function nF(){return nF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nF.apply(this,arguments)}function iG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qet(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iG(Object(r),!0).forEach(function(n){Get(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Get(e,t,r){return t=Ket(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ket(e){var t=Yet(e,"string");return p4(t)=="symbol"?t:t+""}function Yet(e,t){if(p4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xet(e,t){if(e==null)return{};var r=Jet(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jet(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zet=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Qet=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,h=f===void 0?0:f,g=t.height,p=g===void 0?0:g,S=t.className,b=Xet(t,Het),N=qet({x:n,y:a,top:l,left:u,width:h,height:p},b);return!Mr(n)||!Mr(a)||!Mr(h)||!Mr(p)||!Mr(l)||!Mr(u)?null:Ie.createElement("path",nF({},la(N,!0),{className:Ga("recharts-cross",S),d:Zet(n,a,h,p,l,u)}))},ett=JE,ttt=Gle,rtt=M0;function ntt(e,t){return e&&e.length?ett(e,rtt(t),ttt):void 0}var att=ntt;const itt=Si(att);var stt=JE,ott=M0,ltt=Kle;function ctt(e,t){return e&&e.length?stt(e,ott(t),ltt):void 0}var utt=ctt;const dtt=Si(utt);var ftt=["cx","cy","angle","ticks","axisLine"],htt=["ticks","tick","angle","tickFormatter","stroke"];function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function sG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sG(Object(r),!0).forEach(function(n){a6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t){if(e==null)return{};var r=mtt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mtt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ptt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fce(n.key),n)}}function gtt(e,t,r){return t&&lG(e.prototype,t),r&&lG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xtt(e,t,r){return t=nA(t),vtt(e,Ice()?Reflect.construct(t,r||[],nA(e).constructor):t.apply(e,r))}function vtt(e,t){if(t&&(ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ytt(e)}function ytt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ice(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ice=function(){return!!e})()}function nA(e){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nA(e)}function btt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aF(e,t)}function aF(e,t){return aF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aF(e,t)}function a6(e,t,r){return t=Fce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fce(e){var t=wtt(e,"string");return ly(t)=="symbol"?t:t+""}function wtt(e,t){if(ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i6=function(e){function t(){return ptt(this,t),xtt(this,t,arguments)}return btt(t,e),gtt(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ls(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=itt(l,function(f){return f.coordinate||0}),u=dtt(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=oG(n,ftt),f=l.reduce(function(S,b){return[Math.min(S[0],b.coordinate),Math.max(S[1],b.coordinate)]},[1/0,-1/0]),h=Ls(i,a,f[0],o),g=Ls(i,a,f[1],o),p=rg(rg(rg({},la(u,!1)),{},{fill:"none"},la(c,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return Ie.createElement("line",Jw({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,f=oG(i,htt),h=this.getTickTextAnchor(),g=la(f,!1),p=la(o,!1),S=a.map(function(b,N){var C=n.getTickValueCoord(b),A=rg(rg(rg(rg({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(C.x,", ").concat(C.y,")")},g),{},{stroke:"none",fill:u},p),{},{index:N},C),{},{payload:b});return Ie.createElement(Ii,Jw({className:Ga("recharts-polar-radius-axis-tick",_ce(o)),key:"tick-".concat(b.coordinate)},ax(n.props,b,N)),t.renderTickItem(o,A,c?c(b.value,N):b.value))});return Ie.createElement(Ii,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:Ie.createElement(Ii,{className:Ga("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ac.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Ie.isValidElement(n)?o=Ie.cloneElement(n,i):va(n)?o=n(i):o=Ie.createElement(ix,Jw({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);a6(i6,"displayName","PolarRadiusAxis");a6(i6,"axisType","radiusAxis");a6(i6,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function cG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cG(Object(r),!0).forEach(function(n){s6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rce(n.key),n)}}function Ntt(e,t,r){return t&&uG(e.prototype,t),r&&uG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Stt(e,t,r){return t=aA(t),Ctt(e,Dce()?Reflect.construct(t,r||[],aA(e).constructor):t.apply(e,r))}function Ctt(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Att(e)}function Att(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dce=function(){return!!e})()}function aA(e){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aA(e)}function jtt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iF(e,t)}function iF(e,t){return iF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iF(e,t)}function s6(e,t,r){return t=Rce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rce(e){var t=Ett(e,"string");return cy(t)=="symbol"?t:t+""}function Ett(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ttt=Math.PI/180,dG=1e-5,o6=function(e){function t(){return _tt(this,t),Stt(this,t,arguments)}return jtt(t,e),Ntt(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,f=u||8,h=Ls(a,o,l,n.coordinate),g=Ls(a,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Ttt),o;return a>dG?o=i==="outer"?"start":"end":a<-dG?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ng(ng({},la(this.props,!1)),{},{fill:"none"},la(l,!1));if(c==="circle")return Ie.createElement(n6,yg({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(g){return Ls(i,a,o,g.coordinate)});return Ie.createElement(Wet,yg({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,f=la(this.props,!1),h=la(o,!1),g=ng(ng({},f),{},{fill:"none"},la(l,!1)),p=a.map(function(S,b){var N=n.getTickLineCoord(S),C=n.getTickTextAnchor(S),A=ng(ng(ng({textAnchor:C},f),{},{stroke:"none",fill:u},h),{},{index:b,payload:S,x:N.x2,y:N.y2});return Ie.createElement(Ii,yg({className:Ga("recharts-polar-angle-axis-tick",_ce(o)),key:"tick-".concat(S.coordinate)},ax(n.props,S,b)),l&&Ie.createElement("line",yg({className:"recharts-polar-angle-axis-tick-line"},g,N)),o&&t.renderTickItem(o,A,c?c(S.value,b):S.value))});return Ie.createElement(Ii,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:Ie.createElement(Ii,{className:Ga("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Ie.isValidElement(n)?o=Ie.cloneElement(n,i):va(n)?o=n(i):o=Ie.createElement(ix,yg({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);s6(o6,"displayName","PolarAngleAxis");s6(o6,"axisType","angleAxis");s6(o6,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ktt=Voe,Ptt=ktt(Object.getPrototypeOf,Object),Ott=Ptt,Itt=Mm,Ftt=Ott,Dtt=Lm,Rtt="[object Object]",Mtt=Function.prototype,Ltt=Object.prototype,Mce=Mtt.toString,Btt=Ltt.hasOwnProperty,$tt=Mce.call(Object);function Utt(e){if(!Dtt(e)||Itt(e)!=Rtt)return!1;var t=Ftt(e);if(t===null)return!0;var r=Btt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Mce.call(r)==$tt}var ztt=Utt;const Vtt=Si(ztt);var Wtt=Mm,Htt=Lm,qtt="[object Boolean]";function Gtt(e){return e===!0||e===!1||Htt(e)&&Wtt(e)==qtt}var Ktt=Gtt;const Ytt=Si(Ktt);function g4(e){"@babel/helpers - typeof";return g4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g4(e)}function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iA.apply(this,arguments)}function Xtt(e,t){return ert(e)||Qtt(e,t)||Ztt(e,t)||Jtt()}function Jtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ztt(e,t){if(e){if(typeof e=="string")return fG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fG(e,t)}}function fG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qtt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ert(e){if(Array.isArray(e))return e}function hG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hG(Object(r),!0).forEach(function(n){trt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function trt(e,t,r){return t=rrt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rrt(e){var t=nrt(e,"string");return g4(t)=="symbol"?t:t+""}function nrt(e,t){if(g4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pG=function(t,r,n,i,a){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},art={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},irt=function(t){var r=mG(mG({},art),t),n=j.useRef(),i=j.useState(-1),a=Xtt(i,2),o=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,h=r.lowerWidth,g=r.height,p=r.className,S=r.animationEasing,b=r.animationDuration,N=r.animationBegin,C=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||g!==+g||f===0&&h===0||g===0)return null;var A=Ga("recharts-trapezoid",p);return C?Ie.createElement(lx,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:g,x:c,y:u},duration:b,animationEasing:S,isActive:C},function(T){var F=T.upperWidth,L=T.lowerWidth,B=T.height,M=T.x,W=T.y;return Ie.createElement(lx,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:b,easing:S},Ie.createElement("path",iA({},la(r,!0),{className:A,d:pG(M,W,F,L,B),ref:n})))}):Ie.createElement("g",null,Ie.createElement("path",iA({},la(r,!0),{className:A,d:pG(c,u,f,h,g)})))},srt=["option","shapeType","propTransformer","activeClassName","isActive"];function x4(e){"@babel/helpers - typeof";return x4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x4(e)}function ort(e,t){if(e==null)return{};var r=lrt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lrt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gG(Object(r),!0).forEach(function(n){crt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function crt(e,t,r){return t=urt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function urt(e){var t=drt(e,"string");return x4(t)=="symbol"?t:t+""}function drt(e,t){if(x4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function frt(e,t){return sA(sA({},t),e)}function hrt(e,t){return e==="symbols"}function xG(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ie.createElement(WM,r);case"trapezoid":return Ie.createElement(irt,r);case"sector":return Ie.createElement(Cce,r);case"symbols":if(hrt(t))return Ie.createElement(cM,r);break;default:return null}}function mrt(e){return j.isValidElement(e)?e.props:e}function Lce(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?frt:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=ort(e,srt),u;if(j.isValidElement(t))u=j.cloneElement(t,sA(sA({},c),mrt(t)));else if(va(t))u=t(c);else if(Vtt(t)&&!Ytt(t)){var f=i(t,c);u=Ie.createElement(xG,{shapeType:r,elementProps:f})}else{var h=c;u=Ie.createElement(xG,{shapeType:r,elementProps:h})}return l?Ie.createElement(Ii,{className:o},u):u}function l6(e,t){return t!=null&&"trapezoids"in e.props}function c6(e,t){return t!=null&&"sectors"in e.props}function v4(e,t){return t!=null&&"points"in e.props}function prt(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function grt(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function xrt(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function vrt(e,t){var r;return l6(e,t)?r=prt:c6(e,t)?r=grt:v4(e,t)&&(r=xrt),r}function yrt(e,t){var r;return l6(e,t)?r="trapezoids":c6(e,t)?r="sectors":v4(e,t)&&(r="points"),r}function brt(e,t){if(l6(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(c6(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return v4(e,t)?t.payload:{}}function wrt(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=yrt(r,t),a=brt(r,t),o=n.filter(function(c,u){var f=iy(a,c),h=r.props[i].filter(function(S){var b=vrt(r,t);return b(S,t)}),g=r.props[i].indexOf(h[h.length-1]),p=u===g;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var uS;function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(this,arguments)}function vG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(r),!0).forEach(function(n){bf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ce(n.key),n)}}function Nrt(e,t,r){return t&&yG(e.prototype,t),r&&yG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Srt(e,t,r){return t=oA(t),Crt(e,Bce()?Reflect.construct(t,r||[],oA(e).constructor):t.apply(e,r))}function Crt(e,t){if(t&&(uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Art(e)}function Art(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bce=function(){return!!e})()}function oA(e){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oA(e)}function jrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sF(e,t)}function sF(e,t){return sF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sF(e,t)}function bf(e,t,r){return t=$ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ce(e){var t=Ert(e,"string");return uy(t)=="symbol"?t:t+""}function Ert(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $m=function(e){function t(r){var n;return _rt(this,t),n=Srt(this,t,[r]),bf(n,"pieRef",null),bf(n,"sectorRefs",[]),bf(n,"id",Yy("recharts-pie-")),bf(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),va(i)&&i()}),bf(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),va(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return jrt(t,e),Nrt(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,f=la(this.props,!1),h=la(o,!1),g=la(l,!1),p=o&&o.offsetRadius||20,S=n.map(function(b,N){var C=(b.startAngle+b.endAngle)/2,A=Ls(b.cx,b.cy,b.outerRadius+p,C),T=Fs(Fs(Fs(Fs({},f),b),{},{stroke:"none"},h),{},{index:N,textAnchor:t.getTextAnchor(A.x,b.cx)},A),F=Fs(Fs(Fs(Fs({},f),b),{},{fill:"none",stroke:b.fill},g),{},{index:N,points:[Ls(b.cx,b.cy,b.outerRadius,C),A]}),L=c;return Ka(c)&&Ka(u)?L="value":Ka(c)&&(L=u),Ie.createElement(Ii,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(N)},l&&t.renderLabelLineItem(l,F,"line"),t.renderLabelItem(o,T,Dl(b,L)))});return Ie.createElement(Ii,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(f),g=c&&i.hasActiveIndex()?c:null,p=h?o:g,S=Fs(Fs({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Ie.createElement(Ii,Yv({ref:function(N){N&&!i.sectorRefs.includes(N)&&i.sectorRefs.push(N)},tabIndex:-1,className:"recharts-pie-sector"},ax(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Ie.createElement(Lce,Yv({option:p,isActive:h,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,g=h.prevSectors,p=h.prevIsAnimationActive;return Ie.createElement(lx,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var b=S.t,N=[],C=a&&a[0],A=C.startAngle;return a.forEach(function(T,F){var L=g&&g[F],B=F>0?Dd(T,"paddingAngle",0):0;if(L){var M=Ju(L.endAngle-L.startAngle,T.endAngle-T.startAngle),W=Fs(Fs({},T),{},{startAngle:A+B,endAngle:A+M(b)+B});N.push(W),A=W.endAngle}else{var z=T.endAngle,Z=T.startAngle,K=Ju(0,z-Z),q=K(b),ie=Fs(Fs({},T),{},{startAngle:A+B,endAngle:A+q+B});N.push(ie),A=ie.endAngle}}),Ie.createElement(Ii,null,n.renderSectorsStatically(N))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!iy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,h=i.innerRadius,g=i.outerRadius,p=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!o||!o.length||!Mr(u)||!Mr(f)||!Mr(h)||!Mr(g))return null;var b=Ga("recharts-pie",l);return Ie.createElement(Ii,{tabIndex:this.props.rootTabIndex,className:b,ref:function(C){n.pieRef=C}},this.renderSectors(),c&&this.renderLabels(o),ac.renderCallByParent(this.props,null,!1),(!p||S)&&xm.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(Ie.isValidElement(n))return Ie.cloneElement(n,i);if(va(n))return n(i);var o=Ga("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ie.createElement(w2,Yv({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(Ie.isValidElement(n))return Ie.cloneElement(n,i);var o=a;if(va(n)&&(o=n(i),Ie.isValidElement(o)))return o;var l=Ga("recharts-pie-label-text",typeof n!="boolean"&&!va(n)?n.className:"");return Ie.createElement(ix,Yv({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);uS=$m;bf($m,"displayName","Pie");bf($m,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!b0.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});bf($m,"parseDeltaAngle",function(e,t){var r=Cu(t-e),n=Math.min(Math.abs(t-e),360);return r*n});bf($m,"getRealPieData",function(e){var t=e.data,r=e.children,n=la(e,!1),i=Af(r,WE);return t&&t.length?t.map(function(a,o){return Fs(Fs(Fs({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Fs(Fs({},n),a.props)}):[]});bf($m,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=wce(i,a),l=n+Au(e.cx,i,i/2),c=r+Au(e.cy,a,a/2),u=Au(e.innerRadius,o,0),f=Au(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});bf($m,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Fs(Fs({},t.type.defaultProps),t.props):t.props,i=uS.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,h=n.valueKey,g=n.tooltipType,p=Math.abs(n.minAngle),S=uS.parseCoordinateOfPie(n,r),b=uS.parseDeltaAngle(o,l),N=Math.abs(b),C=u;Ka(u)&&Ka(h)?(vh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):Ka(u)&&(vh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=h);var A=i.filter(function(W){return Dl(W,C,0)!==0}).length,T=(N>=360?A:A-1)*c,F=N-A*p-T,L=i.reduce(function(W,z){var Z=Dl(z,C,0);return W+(Mr(Z)?Z:0)},0),B;if(L>0){var M;B=i.map(function(W,z){var Z=Dl(W,C,0),K=Dl(W,f,z),q=(Mr(Z)?Z:0)/L,ie;z?ie=M.endAngle+Cu(b)*c*(Z!==0?1:0):ie=o;var ae=ie+Cu(b)*((Z!==0?p:0)+q*F),X=(ie+ae)/2,se=(S.innerRadius+S.outerRadius)/2,he=[{name:K,value:Z,payload:W,dataKey:C,type:g}],ce=Ls(S.cx,S.cy,se,X);return M=Fs(Fs(Fs({percent:q,cornerRadius:a,name:K,tooltipPayload:he,midAngle:X,middleRadius:se,tooltipPosition:ce},W),S),{},{value:Dl(W,C),startAngle:ie,endAngle:ae,payload:W,paddingAngle:Cu(b)*c}),M})}return Fs(Fs({},S),{},{sectors:B,data:i})});var Trt=Math.ceil,krt=Math.max;function Prt(e,t,r,n){for(var i=-1,a=krt(Trt((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var Ort=Prt,Irt=lle,bG=1/0,Frt=17976931348623157e292;function Drt(e){if(!e)return e===0?e:0;if(e=Irt(e),e===bG||e===-bG){var t=e<0?-1:1;return t*Frt}return e===e?e:0}var Uce=Drt,Rrt=Ort,Mrt=VE,gk=Uce;function Lrt(e){return function(t,r,n){return n&&typeof n!="number"&&Mrt(t,r,n)&&(r=n=void 0),t=gk(t),r===void 0?(r=t,t=0):r=gk(r),n=n===void 0?t<r?1:-1:gk(n),Rrt(t,r,n,e)}}var Brt=Lrt,$rt=Brt,Urt=$rt(),zrt=Urt;const lA=Si(zrt);function y4(e){"@babel/helpers - typeof";return y4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y4(e)}function wG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wG(Object(r),!0).forEach(function(n){zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zce(e,t,r){return t=Vrt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vrt(e){var t=Wrt(e,"string");return y4(t)=="symbol"?t:t+""}function Wrt(e,t){if(y4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hrt=["Webkit","Moz","O","ms"],qrt=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Hrt.reduce(function(a,o){return _G(_G({},a),{},zce({},o+n,r))},{});return i[t]=r,i};function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function cA(){return cA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cA.apply(this,arguments)}function NG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NG(Object(r),!0).forEach(function(n){xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Grt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wce(n.key),n)}}function Krt(e,t,r){return t&&SG(e.prototype,t),r&&SG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yrt(e,t,r){return t=uA(t),Xrt(e,Vce()?Reflect.construct(t,r||[],uA(e).constructor):t.apply(e,r))}function Xrt(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jrt(e)}function Jrt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vce=function(){return!!e})()}function uA(e){return uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uA(e)}function Zrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oF(e,t)}function oF(e,t){return oF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oF(e,t)}function xd(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Qrt(e,"string");return dy(t)=="symbol"?t:t+""}function Qrt(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ent=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Gw().domain(lA(0,c)).range([a,a+o-l]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},CG=function(t){return t.changedTouches&&!!t.changedTouches.length},fy=function(e){function t(r){var n;return Grt(this,t),n=Yrt(this,t,[r]),xd(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xd(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xd(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),xd(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xd(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xd(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xd(n,"handleSlideDragStart",function(i){var a=CG(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Zrt(t,e),Krt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,h=Math.min(i,a),g=Math.max(i,a),p=t.getIndexInRange(o,h),S=t.getIndexInRange(o,g);return{startIndex:p-p%c,endIndex:S===f?f:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Dl(a[n],l,n);return va(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,g=c.startIndex,p=c.endIndex,S=c.onChange,b=n.pageX-a;b>0?b=Math.min(b,u+f-h-l,u+f-h-o):b<0&&(b=Math.max(b,u-o,u-l));var N=this.getIndex({startX:o+b,endX:l+b});(N.startIndex!==g||N.endIndex!==p)&&S&&S(N),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=CG(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,h=f.x,g=f.width,p=f.travellerWidth,S=f.onChange,b=f.gap,N=f.data,C={startX:this.state.startX,endX:this.state.endX},A=n.pageX-a;A>0?A=Math.min(A,h+g-p-u):A<0&&(A=Math.max(A,h-u)),C[o]=u+A;var T=this.getIndex(C),F=T.startIndex,L=T.endIndex,B=function(){var W=N.length-1;return o==="startX"&&(l>c?F%b===0:L%b===0)||l<c&&L===W||o==="endX"&&(l>c?L%b===0:F%b===0)||l>c&&L===W};this.setState(xd(xd({},o,u+A),"brushMoveStartX",n.pageX),function(){S&&B()&&S(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var g=h+n;if(!(g===-1||g>=l.length)){var p=l[g];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(xd({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Ie.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,h=j.Children.only(u);return h?Ie.cloneElement(h,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,g=c.traveller,p=c.ariaLabel,S=c.data,b=c.startIndex,N=c.endIndex,C=Math.max(n,this.props.x),A=xk(xk({},la(this.props,!1)),{},{x:C,y:u,width:f,height:h}),T=p||"Min value: ".concat((a=S[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[N])===null||o===void 0?void 0:o.name);return Ie.createElement(Ii,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),l.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,A))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,f=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return Ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,h=f.startX,g=f.endX,p=5,S={pointerEvents:"none",fill:u};return Ie.createElement(Ii,{className:"recharts-brush-texts"},Ie.createElement(ix,cA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-p,y:o+l/2},S),this.getTextOfTick(i)),Ie.createElement(ix,cA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+c+p,y:o+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,h=n.alwaysShowText,g=this.state,p=g.startX,S=g.endX,b=g.isTextActive,N=g.isSlideMoving,C=g.isTravellerMoving,A=g.isTravellerFocused;if(!i||!i.length||!Mr(l)||!Mr(c)||!Mr(u)||!Mr(f)||u<=0||f<=0)return null;var T=Ga("recharts-brush",a),F=Ie.Children.count(o)===1,L=qrt("userSelect","none");return Ie.createElement(Ii,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(p,S),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(S,"endX"),(b||N||C||A||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return Ie.createElement(Ie.Fragment,null,Ie.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),Ie.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Ie.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Ie.isValidElement(n)?a=Ie.cloneElement(n,i):va(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return xk({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?ent({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(j.PureComponent);xd(fy,"displayName","Brush");xd(fy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tnt=gM;function rnt(e,t){var r;return tnt(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var nnt=rnt,ant=Doe,int=M0,snt=nnt,ont=md,lnt=VE;function cnt(e,t,r){var n=ont(e)?ant:snt;return r&&lnt(e,t,r)&&(t=void 0),n(e,int(t))}var unt=cnt;const dnt=Si(unt);var _0=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},AG=nle;function fnt(e,t,r){t=="__proto__"&&AG?AG(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hnt=fnt,mnt=hnt,pnt=tle,gnt=M0;function xnt(e,t){var r={};return t=gnt(t),pnt(e,function(n,i,a){mnt(r,i,t(n,i,a))}),r}var vnt=xnt;const ynt=Si(vnt);function bnt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var wnt=bnt,_nt=gM;function Nnt(e,t){var r=!0;return _nt(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var Snt=Nnt,Cnt=wnt,Ant=Snt,jnt=M0,Ent=md,Tnt=VE;function knt(e,t,r){var n=Ent(e)?Cnt:Ant;return r&&Tnt(e,t,r)&&(t=void 0),n(e,jnt(t))}var Pnt=knt;const Hce=Si(Pnt);var Ont=["x","y"];function b4(e){"@babel/helpers - typeof";return b4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b4(e)}function lF(){return lF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lF.apply(this,arguments)}function jG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jG(Object(r),!0).forEach(function(n){Int(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Int(e,t,r){return t=Fnt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fnt(e){var t=Dnt(e,"string");return b4(t)=="symbol"?t:t+""}function Dnt(e,t){if(b4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rnt(e,t){if(e==null)return{};var r=Mnt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mnt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lnt(e,t){var r=e.x,n=e.y,i=Rnt(e,Ont),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),h="".concat(t.width||i.width),g=parseInt(h,10);return uw(uw(uw(uw(uw({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function EG(e){return Ie.createElement(Lce,lF({shapeType:"rectangle",propTransformer:Lnt,activeClassName:"recharts-active-bar"},e))}var Bnt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=Mr(n)||gMe(n);return a?t(n,i):(a||ox(!1),r)}},$nt=["value","background"],qce;function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function Unt(e,t){if(e==null)return{};var r=znt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function znt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dA.apply(this,arguments)}function TG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TG(Object(r),!0).forEach(function(n){Pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kce(n.key),n)}}function Wnt(e,t,r){return t&&kG(e.prototype,t),r&&kG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hnt(e,t,r){return t=fA(t),qnt(e,Gce()?Reflect.construct(t,r||[],fA(e).constructor):t.apply(e,r))}function qnt(e,t){if(t&&(hy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gnt(e)}function Gnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gce=function(){return!!e})()}function fA(e){return fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fA(e)}function Knt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cF(e,t)}function cF(e,t){return cF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cF(e,t)}function Pp(e,t,r){return t=Kce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=Ynt(e,"string");return hy(t)=="symbol"?t:t+""}function Ynt(e,t){if(hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y5=function(e){function t(){var r;Vnt(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hnt(this,t,[].concat(i)),Pp(r,"state",{isAnimationFinished:!1}),Pp(r,"id",Yy("recharts-bar-")),Pp(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Pp(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Knt(t,e),Wnt(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,f=la(this.props,!1);return n&&n.map(function(h,g){var p=g===c,S=p?u:o,b=xl(xl(xl({},f),h),{},{isActive:p,option:S,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ie.createElement(Ii,dA({className:"recharts-bar-rectangle"},ax(i.props,h,g),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(g)}),Ie.createElement(EG,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,g=this.state.prevData;return Ie.createElement(lx,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var S=p.t,b=a.map(function(N,C){var A=g&&g[C];if(A){var T=Ju(A.x,N.x),F=Ju(A.y,N.y),L=Ju(A.width,N.width),B=Ju(A.height,N.height);return xl(xl({},N),{},{x:T(S),y:F(S),width:L(S),height:B(S)})}if(o==="horizontal"){var M=Ju(0,N.height),W=M(S);return xl(xl({},N),{},{y:N.y+N.height-W,height:W})}var z=Ju(0,N.width),Z=z(S);return xl(xl({},N),{},{width:Z})});return Ie.createElement(Ii,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!iy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=la(this.props.background,!1);return a.map(function(u,f){u.value;var h=u.background,g=Unt(u,$nt);if(!h)return null;var p=xl(xl(xl(xl(xl({},g),{},{fill:"#eee"},h),c),ax(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Ie.createElement(EG,dA({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,f=a.children,h=Af(f,t6);if(!h)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,p=function(N,C){var A=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:A,errorVal:Dl(N,C)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ie.createElement(Ii,S,h.map(function(b){return Ie.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,g=n.height,p=n.isAnimationActive,S=n.background,b=n.id;if(i||!a||!a.length)return null;var N=this.state.isAnimationFinished,C=Ga("recharts-bar",o),A=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,F=A||T,L=Ka(b)?this.id:b;return Ie.createElement(Ii,{className:C},A||T?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(L)},Ie.createElement("rect",{x:A?u:u-h/2,y:T?f:f-g/2,width:A?h:h*2,height:T?g:g*2}))):null,Ie.createElement(Ii,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat(L,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,L),(!p||N)&&xm.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);qce=y5;Pp(y5,"displayName","Bar");Pp(y5,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!b0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pp(y5,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,g=e.offset,p=OJe(n,r);if(!p)return null;var S=t.layout,b=r.type.defaultProps,N=b!==void 0?xl(xl({},b),r.props):r.props,C=N.dataKey,A=N.children,T=N.minPointSize,F=S==="horizontal"?o:a,L=u?F.scale.domain():null,B=BJe({numericAxis:F}),M=Af(A,WE),W=h.map(function(z,Z){var K,q,ie,ae,X,se;u?K=IJe(u[f+Z],L):(K=Dl(z,C),Array.isArray(K)||(K=[B,K]));var he=Bnt(T,qce.defaultProps.minPointSize)(K[1],Z);if(S==="horizontal"){var ce,ge=[o.scale(K[0]),o.scale(K[1])],we=ge[0],Ce=ge[1];q=vq({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:z,index:Z}),ie=(ce=Ce??we)!==null&&ce!==void 0?ce:void 0,ae=p.size;var Q=we-Ce;if(X=Number.isNaN(Q)?0:Q,se={x:q,y:o.y,width:ae,height:o.height},Math.abs(he)>0&&Math.abs(X)<Math.abs(he)){var le=Cu(X||he)*(Math.abs(he)-Math.abs(X));ie-=le,X+=le}}else{var ne=[a.scale(K[0]),a.scale(K[1])],ee=ne[0],pe=ne[1];if(q=ee,ie=vq({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:z,index:Z}),ae=pe-ee,X=p.size,se={x:a.x,y:ie,width:a.width,height:X},Math.abs(he)>0&&Math.abs(ae)<Math.abs(he)){var xe=Cu(ae||he)*(Math.abs(he)-Math.abs(ae));ae+=xe}}return xl(xl(xl({},z),{},{x:q,y:ie,width:ae,height:X,value:u?K:K[1],payload:z,background:se},M&&M[Z]&&M[Z].props),{},{tooltipPayload:[yce(r,z)],tooltipPosition:{x:q+ae/2,y:ie+X/2}})});return xl({data:W,layout:S},g)});function w4(e){"@babel/helpers - typeof";return w4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w4(e)}function Xnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yce(n.key),n)}}function Jnt(e,t,r){return t&&PG(e.prototype,t),r&&PG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OG(Object(r),!0).forEach(function(n){u6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u6(e,t,r){return t=Yce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yce(e){var t=Znt(e,"string");return w4(t)=="symbol"?t:t+""}function Znt(e,t){if(w4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qnt=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!bd(u,y5);return f.reduce(function(p,S){var b=r[S],N=b.orientation,C=b.domain,A=b.padding,T=A===void 0?{}:A,F=b.mirror,L=b.reversed,B="".concat(N).concat(F?"Mirror":""),M,W,z,Z,K;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var q=C[1]-C[0],ie=1/0,ae=b.categoricalDomain.sort(yMe);if(ae.forEach(function(ne,ee){ee>0&&(ie=Math.min((ne||0)-(ae[ee-1]||0),ie))}),Number.isFinite(ie)){var X=ie/q,se=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(M=X*se/2),b.padding==="no-gap"){var he=Au(t.barCategoryGap,X*se),ce=X*se/2;M=ce-he-(ce-he)/se*he}}}i==="xAxis"?W=[n.left+(T.left||0)+(M||0),n.left+n.width-(T.right||0)-(M||0)]:i==="yAxis"?W=c==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(M||0),n.top+n.height-(T.bottom||0)-(M||0)]:W=b.range,L&&(W=[W[1],W[0]]);var ge=pce(b,a,g),we=ge.scale,Ce=ge.realScaleType;we.domain(C).range(W),gce(we);var Q=xce(we,oh(oh({},b),{},{realScaleType:Ce}));i==="xAxis"?(K=N==="top"&&!F||N==="bottom"&&F,z=n.left,Z=h[B]-K*b.height):i==="yAxis"&&(K=N==="left"&&!F||N==="right"&&F,z=h[B]-K*b.width,Z=n.top);var le=oh(oh(oh({},b),Q),{},{realScaleType:Ce,x:z,y:Z,scale:we,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return le.bandSize=XC(le,Q),!b.hide&&i==="xAxis"?h[B]+=(K?-1:1)*le.height:b.hide||(h[B]+=(K?-1:1)*le.width),oh(oh({},p),{},u6({},S,le))},{})},Xce=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},eat=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return Xce({x:r,y:n},{x:i,y:a})},Jce=function(){function e(t){Xnt(this,e),this.scale=t}return Jnt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();u6(Jce,"EPS",1e-4);var HM=function(t){var r=Object.keys(t).reduce(function(n,i){return oh(oh({},n),{},u6({},i,Jce.create(t[i])))},{});return oh(oh({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return ynt(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Hce(i,function(a,o){return r[o].isInRange(a)})}})};function tat(e){return(e%180+180)%180}var rat=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tat(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nat=M0,aat=m5,iat=UE;function sat(e){return function(t,r,n){var i=Object(t);if(!aat(t)){var a=nat(r);t=iat(t),r=function(l){return a(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var oat=sat,lat=Uce;function cat(e){var t=lat(e),r=t%1;return t===t?r?t-r:t:0}var uat=cat,dat=Yoe,fat=M0,hat=uat,mat=Math.max;function pat(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:hat(r);return i<0&&(i=mat(n+i,0)),dat(e,fat(t),i)}var gat=pat,xat=oat,vat=gat,yat=xat(vat),bat=yat;const wat=Si(bat);var _at=bRe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),qM=j.createContext(void 0),GM=j.createContext(void 0),Zce=j.createContext(void 0),Qce=j.createContext({}),eue=j.createContext(void 0),tue=j.createContext(0),rue=j.createContext(0),IG=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=_at(a);return Ie.createElement(qM.Provider,{value:n},Ie.createElement(GM.Provider,{value:i},Ie.createElement(Qce.Provider,{value:a},Ie.createElement(Zce.Provider,{value:f},Ie.createElement(eue.Provider,{value:o},Ie.createElement(tue.Provider,{value:u},Ie.createElement(rue.Provider,{value:c},l)))))))},Nat=function(){return j.useContext(eue)},nue=function(t){var r=j.useContext(qM);r==null&&ox(!1);var n=r[t];return n==null&&ox(!1),n},Sat=function(){var t=j.useContext(qM);return Np(t)},Cat=function(){var t=j.useContext(GM),r=wat(t,function(n){return Hce(n.domain,Number.isFinite)});return r||Np(t)},aue=function(t){var r=j.useContext(GM);r==null&&ox(!1);var n=r[t];return n==null&&ox(!1),n},Aat=function(){var t=j.useContext(Zce);return t},jat=function(){return j.useContext(Qce)},KM=function(){return j.useContext(rue)},YM=function(){return j.useContext(tue)};function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}function Eat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sue(n.key),n)}}function Tat(e,t,r){return t&&FG(e.prototype,t),r&&FG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kat(e,t,r){return t=hA(t),Pat(e,iue()?Reflect.construct(t,r||[],hA(e).constructor):t.apply(e,r))}function Pat(e,t){if(t&&(my(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oat(e)}function Oat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iue=function(){return!!e})()}function hA(e){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hA(e)}function Iat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uF(e,t)}function uF(e,t){return uF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uF(e,t)}function DG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DG(Object(r),!0).forEach(function(n){XM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XM(e,t,r){return t=sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=Fat(e,"string");return my(t)=="symbol"?t:t+""}function Fat(e,t){if(my(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dat(e,t){return Bat(e)||Lat(e,t)||Mat(e,t)||Rat()}function Rat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mat(e,t){if(e){if(typeof e=="string")return MG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MG(e,t)}}function MG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lat(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Bat(e){if(Array.isArray(e))return e}function dF(){return dF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dF.apply(this,arguments)}var $at=function(t,r){var n;return Ie.isValidElement(t)?n=Ie.cloneElement(t,r):va(t)?n=t(r):n=Ie.createElement("line",dF({},r,{className:"recharts-reference-line-line"})),n},Uat=function(t,r,n,i,a,o,l,c,u){var f=a.x,h=a.y,g=a.width,p=a.height;if(n){var S=u.y,b=t.y.apply(S,{position:o});if(_0(u,"discard")&&!t.y.isInRange(b))return null;var N=[{x:f+g,y:b},{x:f,y:b}];return c==="left"?N.reverse():N}if(r){var C=u.x,A=t.x.apply(C,{position:o});if(_0(u,"discard")&&!t.x.isInRange(A))return null;var T=[{x:A,y:h+p},{x:A,y:h}];return l==="top"?T.reverse():T}if(i){var F=u.segment,L=F.map(function(B){return t.apply(B,{position:o})});return _0(u,"discard")&&dnt(L,function(B){return!t.isInRange(B)})?null:L}return null};function zat(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Nat(),f=nue(i),h=aue(a),g=Aat();if(!u||!g)return null;vh(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=HM({x:f.scale,y:h.scale}),S=Ml(t),b=Ml(r),N=n&&n.length===2,C=Uat(p,S,b,N,g,e.position,f.orientation,h.orientation,e);if(!C)return null;var A=Dat(C,2),T=A[0],F=T.x,L=T.y,B=A[1],M=B.x,W=B.y,z=_0(e,"hidden")?"url(#".concat(u,")"):void 0,Z=RG(RG({clipPath:z},la(e,!0)),{},{x1:F,y1:L,x2:M,y2:W});return Ie.createElement(Ii,{className:Ga("recharts-reference-line",l)},$at(o,Z),ac.renderCallByParent(e,eat({x1:F,y1:L,x2:M,y2:W})))}var JM=function(e){function t(){return Eat(this,t),kat(this,t,arguments)}return Iat(t,e),Tat(t,[{key:"render",value:function(){return Ie.createElement(zat,this.props)}}])}(Ie.Component);XM(JM,"displayName","ReferenceLine");XM(JM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fF(){return fF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fF.apply(this,arguments)}function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function LG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LG(Object(r),!0).forEach(function(n){d6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lue(n.key),n)}}function Wat(e,t,r){return t&&$G(e.prototype,t),r&&$G(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hat(e,t,r){return t=mA(t),qat(e,oue()?Reflect.construct(t,r||[],mA(e).constructor):t.apply(e,r))}function qat(e,t){if(t&&(py(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gat(e)}function Gat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oue=function(){return!!e})()}function mA(e){return mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mA(e)}function Kat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hF(e,t)}function hF(e,t){return hF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hF(e,t)}function d6(e,t,r){return t=lue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=Yat(e,"string");return py(t)=="symbol"?t:t+""}function Yat(e,t){if(py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xat=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=HM({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return _0(t,"discard")&&!o.isInRange(l)?null:l},f6=function(e){function t(){return Vat(this,t),Hat(this,t,arguments)}return Kat(t,e),Wat(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ml(i),f=Ml(a);if(vh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=Xat(this.props);if(!h)return null;var g=h.x,p=h.y,S=this.props,b=S.shape,N=S.className,C=_0(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=BG(BG({clipPath:C},la(this.props,!0)),{},{cx:g,cy:p});return Ie.createElement(Ii,{className:Ga("recharts-reference-dot",N)},t.renderDot(b,A),ac.renderCallByParent(this.props,{x:g-o,y:p-o,width:2*o,height:2*o}))}}])}(Ie.Component);d6(f6,"displayName","ReferenceDot");d6(f6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});d6(f6,"renderDot",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):va(e)?r=e(t):r=Ie.createElement(n6,fF({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function mF(){return mF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mF.apply(this,arguments)}function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function UG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UG(Object(r),!0).forEach(function(n){h6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uue(n.key),n)}}function Zat(e,t,r){return t&&VG(e.prototype,t),r&&VG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qat(e,t,r){return t=pA(t),eit(e,cue()?Reflect.construct(t,r||[],pA(e).constructor):t.apply(e,r))}function eit(e,t){if(t&&(gy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tit(e)}function tit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cue=function(){return!!e})()}function pA(e){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pA(e)}function rit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pF(e,t)}function pF(e,t){return pF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pF(e,t)}function h6(e,t,r){return t=uue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uue(e){var t=nit(e,"string");return gy(t)=="symbol"?t:t+""}function nit(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ait=function(t,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var g=HM({x:f.scale,y:h.scale}),p={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},S={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return _0(a,"discard")&&(!g.isInRange(p)||!g.isInRange(S))?null:Xce(p,S)},m6=function(e){function t(){return Jat(this,t),Qat(this,t,arguments)}return rit(t,e),Zat(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;vh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ml(i),g=Ml(a),p=Ml(o),S=Ml(l),b=this.props.shape;if(!h&&!g&&!p&&!S&&!b)return null;var N=ait(h,g,p,S,this.props);if(!N&&!b)return null;var C=_0(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Ie.createElement(Ii,{className:Ga("recharts-reference-area",c)},t.renderRect(b,zG(zG({clipPath:C},la(this.props,!0)),N)),ac.renderCallByParent(this.props,N))}}])}(Ie.Component);h6(m6,"displayName","ReferenceArea");h6(m6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});h6(m6,"renderRect",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):va(e)?r=e(t):r=Ie.createElement(WM,mF({},t,{className:"recharts-reference-area-rect"})),r});function due(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function iit(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rat(n,r)}function sit(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function gA(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function oit(e,t){return due(e,t+1)}function lit(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,h=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:due(n,u)};var b=c,N,C=function(){return N===void 0&&(N=r(S,b)),N},A=S.coordinate,T=c===0||gA(e,A,C,f,l);T||(c=0,f=o,u+=1),T&&(f=A+e*(C()/2+i),c+=u)},g;u<=a.length;)if(g=h(),g)return g.v;return[]}function _4(e){"@babel/helpers - typeof";return _4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_4(e)}function WG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WG(Object(r),!0).forEach(function(n){cit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cit(e,t,r){return t=uit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uit(e){var t=dit(e,"string");return _4(t)=="symbol"?t:t+""}function dit(e,t){if(_4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fit(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(g){var p=a[g],S,b=function(){return S===void 0&&(S=r(p,g)),S};if(g===o-1){var N=e*(p.coordinate+e*b()/2-c);a[g]=p=Hc(Hc({},p),{},{tickCoord:N>0?p.coordinate-N*e:p.coordinate})}else a[g]=p=Hc(Hc({},p),{},{tickCoord:p.coordinate});var C=gA(e,p.tickCoord,b,l,c);C&&(c=p.tickCoord-e*(b()/2+i),a[g]=Hc(Hc({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function hit(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var f=n[l-1],h=r(f,l-1),g=e*(f.coordinate+e*h/2-u);o[l-1]=f=Hc(Hc({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var p=gA(e,f.tickCoord,function(){return h},c,u);p&&(u=f.tickCoord-e*(h/2+i),o[l-1]=Hc(Hc({},f),{},{isShow:!0}))}for(var S=a?l-1:l,b=function(A){var T=o[A],F,L=function(){return F===void 0&&(F=r(T,A)),F};if(A===0){var B=e*(T.coordinate-e*L()/2-c);o[A]=T=Hc(Hc({},T),{},{tickCoord:B<0?T.coordinate-B*e:T.coordinate})}else o[A]=T=Hc(Hc({},T),{},{tickCoord:T.coordinate});var M=gA(e,T.tickCoord,L,c,u);M&&(c=T.tickCoord+e*(L()/2+i),o[A]=Hc(Hc({},T),{},{isShow:!0}))},N=0;N<S;N++)b(N);return o}function ZM(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(Mr(c)||b0.isSsr)return oit(i,typeof c=="number"&&Mr(c)?c:0);var g=[],p=l==="top"||l==="bottom"?"width":"height",S=f&&p==="width"?qw(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(T,F){var L=va(u)?u(T.value,F):T.value;return p==="width"?iit(qw(L,{fontSize:t,letterSpacing:r}),S,h):qw(L,{fontSize:t,letterSpacing:r})[p]},N=i.length>=2?Cu(i[1].coordinate-i[0].coordinate):1,C=sit(a,N,p);return c==="equidistantPreserveStart"?lit(N,C,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=hit(N,C,b,i,o,c==="preserveStartEnd"):g=fit(N,C,b,i,o),g.filter(function(A){return A.isShow}))}var mit=["viewBox"],pit=["viewBox"],git=["ticks"];function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function HG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HG(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vk(e,t){if(e==null)return{};var r=xit(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xit(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hue(n.key),n)}}function yit(e,t,r){return t&&qG(e.prototype,t),r&&qG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bit(e,t,r){return t=xA(t),wit(e,fue()?Reflect.construct(t,r||[],xA(e).constructor):t.apply(e,r))}function wit(e,t){if(t&&(xy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _it(e)}function _it(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fue=function(){return!!e})()}function xA(e){return xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xA(e)}function Nit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gF(e,t)}function gF(e,t){return gF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gF(e,t)}function QM(e,t,r){return t=hue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hue(e){var t=Sit(e,"string");return xy(t)=="symbol"?t:t+""}function Sit(e,t){if(xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rb=function(e){function t(r){var n;return vit(this,t),n=bit(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Nit(t,e),yit(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=vk(n,mit),l=this.props,c=l.viewBox,u=vk(l,pit);return!x2(a,c)||!x2(o,u)||!x2(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,g=i.tickMargin,p,S,b,N,C,A,T=h?-1:1,F=n.tickSize||f,L=Mr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=S=n.coordinate,N=o+ +!h*c,b=N-T*F,A=b-T*g,C=L;break;case"left":b=N=n.coordinate,S=a+ +!h*l,p=S-T*F,C=p-T*g,A=L;break;case"right":b=N=n.coordinate,S=a+ +h*l,p=S+T*F,C=p+T*g,A=L;break;default:p=S=n.coordinate,N=o+ +h*c,b=N+T*F,A=b+T*g,C=L;break}return{line:{x1:p,y1:b,x2:S,y2:N},tick:{x:C,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,h=El(El(El({},la(this.props,!1)),la(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);h=El(El({},h),{},{x1:i,y1:a+g*l,x2:i+o,y2:a+g*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=El(El({},h),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+l})}return Ie.createElement("line",Xv({},h,{className:Ga("recharts-cartesian-axis-line",Dd(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,g=l.unit,p=ZM(El(El({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),N=la(this.props,!1),C=la(f,!1),A=El(El({},N),{},{fill:"none"},la(c,!1)),T=p.map(function(F,L){var B=o.getTickLineCoord(F),M=B.line,W=B.tick,z=El(El(El(El({textAnchor:S,verticalAnchor:b},N),{},{stroke:"none",fill:u},C),W),{},{index:L,payload:F,visibleTicksCount:p.length,tickFormatter:h});return Ie.createElement(Ii,Xv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},ax(o.props,F,L)),c&&Ie.createElement("line",Xv({},A,M,{className:Ga("recharts-cartesian-axis-tick-line",Dd(c,"className"))})),f&&t.renderTickItem(f,z,"".concat(va(h)?h(F.value,L):F.value).concat(g||"")))});return Ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,g=h.ticks,p=vk(h,git),S=g;return va(c)&&(S=g&&g.length>0?c(this.props):c(p)),o<=0||l<=0||!S||!S.length?null:Ie.createElement(Ii,{className:Ga("recharts-cartesian-axis",u),ref:function(N){n.layerReference=N}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),ac.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=Ga(i.className,"recharts-cartesian-axis-tick-value");return Ie.isValidElement(n)?o=Ie.cloneElement(n,El(El({},i),{},{className:l})):va(n)?o=n(El(El({},i),{},{className:l})):o=Ie.createElement(ix,Xv({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);QM(rb,"displayName","CartesianAxis");QM(rb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cit=["x1","y1","x2","y2","key"],Ait=["offset"];function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function GG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GG(Object(r),!0).forEach(function(n){jit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jit(e,t,r){return t=Eit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eit(e){var t=Tit(e,"string");return cx(t)=="symbol"?t:t+""}function Tit(e,t){if(cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function KG(e,t){if(e==null)return{};var r=kit(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kit(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pit=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return Ie.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mue(e,t){var r;if(Ie.isValidElement(e))r=Ie.cloneElement(e,t);else if(va(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=KG(t,Cit),u=la(c,!1);u.offset;var f=KG(u,Ait);r=Ie.createElement("line",kg({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function Oit(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=Kc(Kc({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return mue(i,u)});return Ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Iit(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=Kc(Kc({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return mue(i,u)});return Ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Fit(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,p){return g-p});i!==f[0]&&f.unshift(0);var h=f.map(function(g,p){var S=!f[p+1],b=S?i+o-g:f[p+1]-g;if(b<=0)return null;var N=p%t.length;return Ie.createElement("rect",{key:"react-".concat(p),y:g,x:n,height:b,width:a,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Dit(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,p){return g-p});a!==f[0]&&f.unshift(0);var h=f.map(function(g,p){var S=!f[p+1],b=S?a+l-g:f[p+1]-g;if(b<=0)return null;var N=p%n.length;return Ie.createElement("rect",{key:"react-".concat(p),x:g,y:o,width:b,height:c,stroke:"none",fill:n[N],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Rit=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return mce(ZM(Kc(Kc(Kc({},rb.defaultProps),n),{},{ticks:cm(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Mit=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return mce(ZM(Kc(Kc(Kc({},rb.defaultProps),n),{},{ticks:cm(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},gv={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pue(e){var t,r,n,i,a,o,l=KM(),c=YM(),u=jat(),f=Kc(Kc({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gv.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:gv.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:gv.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:gv.verticalFill,x:Mr(e.x)?e.x:u.left,y:Mr(e.y)?e.y:u.top,width:Mr(e.width)?e.width:u.width,height:Mr(e.height)?e.height:u.height}),h=f.x,g=f.y,p=f.width,S=f.height,b=f.syncWithTicks,N=f.horizontalValues,C=f.verticalValues,A=Sat(),T=Cat();if(!Mr(p)||p<=0||!Mr(S)||S<=0||!Mr(h)||h!==+h||!Mr(g)||g!==+g)return null;var F=f.verticalCoordinatesGenerator||Rit,L=f.horizontalCoordinatesGenerator||Mit,B=f.horizontalPoints,M=f.verticalPoints;if((!B||!B.length)&&va(L)){var W=N&&N.length,z=L({yAxis:T?Kc(Kc({},T),{},{ticks:W?N:T.ticks}):void 0,width:l,height:c,offset:u},W?!0:b);vh(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cx(z),"]")),Array.isArray(z)&&(B=z)}if((!M||!M.length)&&va(F)){var Z=C&&C.length,K=F({xAxis:A?Kc(Kc({},A),{},{ticks:Z?C:A.ticks}):void 0,width:l,height:c,offset:u},Z?!0:b);vh(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cx(K),"]")),Array.isArray(K)&&(M=K)}return Ie.createElement("g",{className:"recharts-cartesian-grid"},Ie.createElement(Pit,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Ie.createElement(Oit,kg({},f,{offset:u,horizontalPoints:B,xAxis:A,yAxis:T})),Ie.createElement(Iit,kg({},f,{offset:u,verticalPoints:M,xAxis:A,yAxis:T})),Ie.createElement(Fit,kg({},f,{horizontalPoints:B})),Ie.createElement(Dit,kg({},f,{verticalPoints:M})))}pue.displayName="CartesianGrid";var Lit=["layout","type","stroke","connectNulls","isRange","ref"],Bit=["key"],gue;function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function xue(e,t){if(e==null)return{};var r=$it(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $it(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function YG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YG(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yue(n.key),n)}}function zit(e,t,r){return t&&XG(e.prototype,t),r&&XG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vit(e,t,r){return t=vA(t),Wit(e,vue()?Reflect.construct(t,r||[],vA(e).constructor):t.apply(e,r))}function Wit(e,t){if(t&&(vy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hit(e)}function Hit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vue=function(){return!!e})()}function vA(e){return vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vA(e)}function qit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xF(e,t)}function xF(e,t){return xF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xF(e,t)}function d0(e,t,r){return t=yue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=Git(e,"string");return vy(t)=="symbol"?t:t+""}function Git(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1=function(e){function t(){var r;Uit(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Vit(this,t,[].concat(i)),d0(r,"state",{isAnimationFinished:!0}),d0(r,"id",Yy("recharts-area-")),d0(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),va(o)&&o()}),d0(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),va(o)&&o()}),r}return qit(t,e),zit(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,g=la(this.props,!1),p=la(u,!0),S=f.map(function(N,C){var A=pp(pp(pp({key:"dot-".concat(C),r:3},g),p),{},{index:C,cx:N.x,cy:N.y,dataKey:h,value:N.value,payload:N.payload,points:f});return t.renderDotItem(u,A)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Ie.createElement(Ii,Pg({className:"recharts-area-dots"},b),S)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=n*Math.abs(c-u),h=kp(o.map(function(g){return g.y||0}));return Mr(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(kp(a.map(function(g){return g.y||0})),h)),Mr(h)?Ie.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=n*Math.abs(c-u),h=kp(o.map(function(g){return g.x||0}));return Mr(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(kp(a.map(function(g){return g.x||0})),h)),Mr(h)?Ie.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,h=l.connectNulls,g=l.isRange;l.ref;var p=xue(l,Lit);return Ie.createElement(Ii,{clipPath:a?"url(#clipPath-".concat(o,")"):null},Ie.createElement(w2,Pg({},la(p,!0),{points:n,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&Ie.createElement(w2,Pg({},la(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),f!=="none"&&g&&Ie.createElement(w2,Pg({},la(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,g=o.animationEasing,p=o.animationId,S=this.state,b=S.prevPoints,N=S.prevBaseLine;return Ie.createElement(lx,{begin:f,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var A=C.t;if(b){var T=b.length/l.length,F=l.map(function(W,z){var Z=Math.floor(z*T);if(b[Z]){var K=b[Z],q=Ju(K.x,W.x),ie=Ju(K.y,W.y);return pp(pp({},W),{},{x:q(A),y:ie(A)})}return W}),L;if(Mr(c)&&typeof c=="number"){var B=Ju(N,c);L=B(A)}else if(Ka(c)||Ky(c)){var M=Ju(N,0);L=M(A)}else L=c.map(function(W,z){var Z=Math.floor(z*T);if(N[Z]){var K=N[Z],q=Ju(K.x,W.x),ie=Ju(K.y,W.y);return pp(pp({},W),{},{x:q(A),y:ie(A)})}return W});return a.renderAreaStatically(F,L,n,i)}return Ie.createElement(Ii,null,Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(A))),Ie.createElement(Ii,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,g=u.totalLength;return c&&o&&o.length&&(!f&&g>0||!iy(f,o)||!iy(h,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,f=i.left,h=i.xAxis,g=i.yAxis,p=i.width,S=i.height,b=i.isAnimationActive,N=i.id;if(a||!l||!l.length)return null;var C=this.state.isAnimationFinished,A=l.length===1,T=Ga("recharts-area",c),F=h&&h.allowDataOverflow,L=g&&g.allowDataOverflow,B=F||L,M=Ka(N)?this.id:N,W=(n=la(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},z=W.r,Z=z===void 0?3:z,K=W.strokeWidth,q=K===void 0?2:K,ie=EMe(o)?o:{},ae=ie.clipDot,X=ae===void 0?!0:ae,se=Z*2+q;return Ie.createElement(Ii,{className:T},F||L?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(M)},Ie.createElement("rect",{x:F?f:f-p/2,y:L?u:u-S/2,width:F?p:p*2,height:L?S:S*2})),!X&&Ie.createElement("clipPath",{id:"clipPath-dots-".concat(M)},Ie.createElement("rect",{x:f-se/2,y:u-se/2,width:p+se,height:S+se}))):null,A?null:this.renderArea(B,M),(o||A)&&this.renderDots(B,X,M),(!b||C)&&xm.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);gue=T1;d0(T1,"displayName","Area");d0(T1,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!b0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});d0(T1,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Mr(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});d0(T1,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,g=e.offset,p=t.layout,S=u&&u.length,b=gue.getBaseValue(t,r,n,i),N=p==="horizontal",C=!1,A=h.map(function(F,L){var B;S?B=u[f+L]:(B=Dl(F,c),Array.isArray(B)?C=!0:B=[b,B]);var M=B[1]==null||S&&Dl(F,c)==null;return N?{x:xq({axis:n,ticks:a,bandSize:l,entry:F,index:L}),y:M?null:i.scale(B[1]),value:B,payload:F}:{x:M?null:n.scale(B[1]),y:xq({axis:i,ticks:o,bandSize:l,entry:F,index:L}),value:B,payload:F}}),T;return S||C?T=A.map(function(F){var L=Array.isArray(F.value)?F.value[0]:null;return N?{x:F.x,y:L!=null&&F.y!=null?i.scale(L):null}:{x:L!=null?n.scale(L):null,y:F.y}}):T=N?i.scale(b):n.scale(b),pp({points:A,baseLine:T,layout:p,isRange:C},g)});d0(T1,"renderDotItem",function(e,t){var r;if(Ie.isValidElement(e))r=Ie.cloneElement(e,t);else if(va(e))r=e(t);else{var n=Ga("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=xue(t,Bit);r=Ie.createElement(n6,Pg({},a,{key:i,className:n}))}return r});function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function Kit(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ue(n.key),n)}}function Yit(e,t,r){return t&&JG(e.prototype,t),r&&JG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xit(e,t,r){return t=yA(t),Jit(e,bue()?Reflect.construct(t,r||[],yA(e).constructor):t.apply(e,r))}function Jit(e,t){if(t&&(yy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zit(e)}function Zit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bue=function(){return!!e})()}function yA(e){return yA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yA(e)}function Qit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vF(e,t)}function vF(e,t){return vF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vF(e,t)}function wue(e,t,r){return t=_ue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ue(e){var t=est(e,"string");return yy(t)=="symbol"?t:t+""}function est(e,t){if(yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yF(){return yF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yF.apply(this,arguments)}function tst(e){var t=e.xAxisId,r=KM(),n=YM(),i=nue(t);return i==null?null:j.createElement(rb,yF({},i,{className:Ga("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return cm(o,!0)}}))}var p6=function(e){function t(){return Kit(this,t),Xit(this,t,arguments)}return Qit(t,e),Yit(t,[{key:"render",value:function(){return j.createElement(tst,this.props)}}])}(j.Component);wue(p6,"displayName","XAxis");wue(p6,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function rst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cue(n.key),n)}}function nst(e,t,r){return t&&ZG(e.prototype,t),r&&ZG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ast(e,t,r){return t=bA(t),ist(e,Nue()?Reflect.construct(t,r||[],bA(e).constructor):t.apply(e,r))}function ist(e,t){if(t&&(by(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sst(e)}function sst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nue=function(){return!!e})()}function bA(e){return bA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bA(e)}function ost(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bF(e,t)}function bF(e,t){return bF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bF(e,t)}function Sue(e,t,r){return t=Cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=lst(e,"string");return by(t)=="symbol"?t:t+""}function lst(e,t){if(by(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wF(){return wF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wF.apply(this,arguments)}var cst=function(t){var r=t.yAxisId,n=KM(),i=YM(),a=aue(r);return a==null?null:j.createElement(rb,wF({},a,{className:Ga("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return cm(l,!0)}}))},g6=function(e){function t(){return rst(this,t),ast(this,t,arguments)}return ost(t,e),nst(t,[{key:"render",value:function(){return j.createElement(cst,this.props)}}])}(j.Component);Sue(g6,"displayName","YAxis");Sue(g6,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QG(e){return hst(e)||fst(e)||dst(e)||ust()}function ust(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dst(e,t){if(e){if(typeof e=="string")return _F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _F(e,t)}}function fst(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hst(e){if(Array.isArray(e))return _F(e)}function _F(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NF=function(t,r,n,i,a){var o=Af(t,JM),l=Af(t,f6),c=[].concat(QG(o),QG(l)),u=Af(t,m6),f="".concat(i,"Id"),h=i[0],g=r;if(c.length&&(g=c.reduce(function(b,N){if(N.props[f]===n&&_0(N.props,"extendDomain")&&Mr(N.props[h])){var C=N.props[h];return[Math.min(b[0],C),Math.max(b[1],C)]}return b},g)),u.length){var p="".concat(h,"1"),S="".concat(h,"2");g=u.reduce(function(b,N){if(N.props[f]===n&&_0(N.props,"extendDomain")&&Mr(N.props[p])&&Mr(N.props[S])){var C=N.props[p],A=N.props[S];return[Math.min(b[0],C,A),Math.max(b[1],C,A)]}return b},g)}return a&&a.length&&(g=a.reduce(function(b,N){return Mr(N)?[Math.min(b[0],N),Math.max(b[1],N)]:b},g)),g},Aue={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function a(c,u,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,h||c,g),S=r?r+u:u;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],p]:c._events[S].push(p):(c._events[S]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)t.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,p=h.length,S=new Array(p);g<p;g++)S[g]=h[g].fn;return S},l.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,g,p,S){var b=r?r+u:u;if(!this._events[b])return!1;var N=this._events[b],C=arguments.length,A,T;if(N.fn){switch(N.once&&this.removeListener(u,N.fn,void 0,!0),C){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,h),!0;case 4:return N.fn.call(N.context,f,h,g),!0;case 5:return N.fn.call(N.context,f,h,g,p),!0;case 6:return N.fn.call(N.context,f,h,g,p,S),!0}for(T=1,A=new Array(C-1);T<C;T++)A[T-1]=arguments[T];N.fn.apply(N.context,A)}else{var F=N.length,L;for(T=0;T<F;T++)switch(N[T].once&&this.removeListener(u,N[T].fn,void 0,!0),C){case 1:N[T].fn.call(N[T].context);break;case 2:N[T].fn.call(N[T].context,f);break;case 3:N[T].fn.call(N[T].context,f,h);break;case 4:N[T].fn.call(N[T].context,f,h,g);break;default:if(!A)for(L=1,A=new Array(C-1);L<C;L++)A[L-1]=arguments[L];N[T].fn.apply(N[T].context,A)}}return!0},l.prototype.on=function(u,f,h){return a(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return a(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,g){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var S=this._events[p];if(S.fn)S.fn===f&&(!g||S.once)&&(!h||S.context===h)&&o(this,p);else{for(var b=0,N=[],C=S.length;b<C;b++)(S[b].fn!==f||g&&!S[b].once||h&&S[b].context!==h)&&N.push(S[b]);N.length?this._events[p]=N.length===1?N[0]:N:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Aue);var mst=Aue.exports;const pst=Si(mst);var yk=new pst,bk="recharts.syncMouseEvents";function N4(e){"@babel/helpers - typeof";return N4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N4(e)}function gst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jue(n.key),n)}}function xst(e,t,r){return t&&eK(e.prototype,t),r&&eK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wk(e,t,r){return t=jue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=vst(e,"string");return N4(t)=="symbol"?t:t+""}function vst(e,t){if(N4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yst=function(){function e(){gst(this,e),wk(this,"activeIndex",0),wk(this,"coordinateList",[]),wk(this,"layout","horizontal")}return xst(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,g=r.mouseHandlerCallback,p=g===void 0?null:g;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])}();function bst(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Mr(n)&&Mr(i))return!0}return!1}function wst(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Eue(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=Ls(t,r,n,i),l=Ls(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function _st(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,h=t.angle,g=Ls(l,c,u,h),p=Ls(l,c,f,h);n=g.x,i=g.y,a=p.x,o=p.y}else return Eue(t);return[{x:n,y:i},{x:a,y:o}]}function S4(e){"@babel/helpers - typeof";return S4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S4(e)}function tK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(r),!0).forEach(function(n){Nst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nst(e,t,r){return t=Sst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sst(e){var t=Cst(e,"string");return S4(t)=="symbol"?t:t+""}function Cst(e,t){if(S4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ast(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var S,b=w2;if(g==="ScatterChart")S=o,b=Qet;else if(g==="BarChart")S=wst(h,o,c,f),b=WM;else if(h==="radial"){var N=Eue(o),C=N.cx,A=N.cy,T=N.radius,F=N.startAngle,L=N.endAngle;S={cx:C,cy:A,startAngle:F,endAngle:L,innerRadius:T,outerRadius:T},b=Cce}else S={points:_st(h,o,c)},b=w2;var B=yN(yN(yN(yN({stroke:"#ccc",pointerEvents:"none"},c),S),la(p,!1)),{},{payload:l,payloadIndex:u,className:Ga("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,B):j.createElement(b,B)}var jst=["item"],Est=["children","className","width","height","style","compact","title","desc"];function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function rK(e,t){return Pst(e)||kst(e,t)||kue(e,t)||Tst()}function Tst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kst(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Pst(e){if(Array.isArray(e))return e}function nK(e,t){if(e==null)return{};var r=Ost(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ost(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ist(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pue(n.key),n)}}function Fst(e,t,r){return t&&aK(e.prototype,t),r&&aK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dst(e,t,r){return t=wA(t),Rst(e,Tue()?Reflect.construct(t,r||[],wA(e).constructor):t.apply(e,r))}function Rst(e,t){if(t&&(wy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mst(e)}function Mst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tue=function(){return!!e})()}function wA(e){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wA(e)}function Lst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SF(e,t)}function SF(e,t){return SF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SF(e,t)}function _y(e){return Ust(e)||$st(e)||kue(e)||Bst()}function Bst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(e,t){if(e){if(typeof e=="string")return CF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CF(e,t)}}function $st(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ust(e){if(Array.isArray(e))return CF(e)}function CF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iK(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ha(e,t,r){return t=Pue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=zst(e,"string");return wy(t)=="symbol"?t:t+""}function zst(e,t){if(wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vst={xAxis:["bottom","top"],yAxis:["left","right"]},Wst={width:"100%",height:"100%"},Oue={x:0,y:0};function bN(e){return e}var Hst=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},qst=function(t,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return or(or(or({},i),Ls(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return or(or(or({},i),Ls(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Oue},x6=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(_y(l),_y(u)):l},[]);return o.length>0?o:t&&t.length&&Mr(i)&&Mr(a)?t.slice(i,a+1):[]};function Iue(e){return e==="number"?[0,"auto"]:void 0}var AF=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,l=x6(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;g=_C(p,o.dataKey,i)}else g=h&&h[n]||l[n];return g?[].concat(_y(c),[yce(u,g)]):c},[])},sK=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=Hst(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=AJe(o,l,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,g=AF(t,r,f,h),p=qst(n,l,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:g,activeCoordinate:p}}return null},Gst=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,h=t.children,g=t.stackOffset,p=hce(f,a);return n.reduce(function(S,b){var N,C=b.type.defaultProps!==void 0?or(or({},b.type.defaultProps),b.props):b.props,A=C.type,T=C.dataKey,F=C.allowDataOverflow,L=C.allowDuplicatedCategory,B=C.scale,M=C.ticks,W=C.includeHidden,z=C[o];if(S[z])return S;var Z=x6(t.data,{graphicalItems:i.filter(function(Q){var le,ne=o in Q.props?Q.props[o]:(le=Q.type.defaultProps)===null||le===void 0?void 0:le[o];return ne===z}),dataStartIndex:c,dataEndIndex:u}),K=Z.length,q,ie,ae;bst(C.domain,F,A)&&(q=UI(C.domain,null,F),p&&(A==="number"||B!=="auto")&&(ae=Kw(Z,T,"category")));var X=Iue(A);if(!q||q.length===0){var se,he=(se=C.domain)!==null&&se!==void 0?se:X;if(T){if(q=Kw(Z,T,A),A==="category"&&p){var ce=vMe(q);L&&ce?(ie=q,q=lA(0,K)):L||(q=wq(he,q,b).reduce(function(Q,le){return Q.indexOf(le)>=0?Q:[].concat(_y(Q),[le])},[]))}else if(A==="category")L?q=q.filter(function(Q){return Q!==""&&!Ka(Q)}):q=wq(he,q,b).reduce(function(Q,le){return Q.indexOf(le)>=0||le===""||Ka(le)?Q:[].concat(_y(Q),[le])},[]);else if(A==="number"){var ge=PJe(Z,i.filter(function(Q){var le,ne,ee=o in Q.props?Q.props[o]:(le=Q.type.defaultProps)===null||le===void 0?void 0:le[o],pe="hide"in Q.props?Q.props.hide:(ne=Q.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ee===z&&(W||!pe)}),T,a,f);ge&&(q=ge)}p&&(A==="number"||B!=="auto")&&(ae=Kw(Z,T,"category"))}else p?q=lA(0,K):l&&l[z]&&l[z].hasStack&&A==="number"?q=g==="expand"?[0,1]:vce(l[z].stackGroups,c,u):q=fce(Z,i.filter(function(Q){var le=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ne="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return le===z&&(W||!ne)}),A,f,!0);if(A==="number")q=NF(h,q,z,a,M),he&&(q=UI(he,q,F));else if(A==="category"&&he){var we=he,Ce=q.every(function(Q){return we.indexOf(Q)>=0});Ce&&(q=we)}}return or(or({},S),{},ha({},z,or(or({},C),{},{axisType:a,domain:q,categoricalDomain:ae,duplicateDomain:ie,originalDomain:(N=C.domain)!==null&&N!==void 0?N:X,isCategorical:p,layout:f})))},{})},Kst=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,h=t.children,g=x6(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=g.length,S=hce(f,a),b=-1;return n.reduce(function(N,C){var A=C.type.defaultProps!==void 0?or(or({},C.type.defaultProps),C.props):C.props,T=A[o],F=Iue("number");if(!N[T]){b++;var L;return S?L=lA(0,p):l&&l[T]&&l[T].hasStack?(L=vce(l[T].stackGroups,c,u),L=NF(h,L,T,a)):(L=UI(F,fce(g,n.filter(function(B){var M,W,z=o in B.props?B.props[o]:(M=B.type.defaultProps)===null||M===void 0?void 0:M[o],Z="hide"in B.props?B.props.hide:(W=B.type.defaultProps)===null||W===void 0?void 0:W.hide;return z===T&&!Z}),"number",f),i.defaultProps.allowDataOverflow),L=NF(h,L,T,a)),or(or({},N),{},ha({},T,or(or({axisType:a},i.defaultProps),{},{hide:!0,orientation:Dd(Vst,"".concat(a,".").concat(b%2),null),domain:L,originalDomain:F,isCategorical:S,layout:f})))}return N},{})},Yst=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,h="".concat(i,"Id"),g=Af(f,a),p={};return g&&g.length?p=Gst(t,{axes:g,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Kst(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Xst=function(t){var r=Np(t),n=cm(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:XC(r,n)}},oK=function(t){var r=t.children,n=t.defaultShowTooltip,i=bd(r,fy),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Jst=function(t){return!t||!t.length?!1:t.some(function(r){var n=pm(r&&r.type);return n&&n.indexOf("Bar")>=0})},lK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zst=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,h=n.children,g=n.margin||{},p=bd(h,fy),S=bd(h,v2),b=Object.keys(c).reduce(function(L,B){var M=c[B],W=M.orientation;return!M.mirror&&!M.hide?or(or({},L),{},ha({},W,L[W]+M.width)):L},{left:g.left||0,right:g.right||0}),N=Object.keys(o).reduce(function(L,B){var M=o[B],W=M.orientation;return!M.mirror&&!M.hide?or(or({},L),{},ha({},W,Dd(L,"".concat(W))+M.height)):L},{top:g.top||0,bottom:g.bottom||0}),C=or(or({},N),b),A=C.bottom;p&&(C.bottom+=p.props.height||fy.defaultProps.height),S&&r&&(C=TJe(C,i,n,r));var T=u-C.left-C.right,F=f-C.top-C.bottom;return or(or({brushBottom:A},C),{},{width:Math.max(T,0),height:Math.max(F,0)})},Qst=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Fue=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,g=function(C,A){var T=A.graphicalItems,F=A.stackGroups,L=A.offset,B=A.updateId,M=A.dataStartIndex,W=A.dataEndIndex,z=C.barSize,Z=C.layout,K=C.barGap,q=C.barCategoryGap,ie=C.maxBarSize,ae=lK(Z),X=ae.numericAxisName,se=ae.cateAxisName,he=Jst(T),ce=[];return T.forEach(function(ge,we){var Ce=x6(C.data,{graphicalItems:[ge],dataStartIndex:M,dataEndIndex:W}),Q=ge.type.defaultProps!==void 0?or(or({},ge.type.defaultProps),ge.props):ge.props,le=Q.dataKey,ne=Q.maxBarSize,ee=Q["".concat(X,"Id")],pe=Q["".concat(se,"Id")],xe={},Ne=c.reduce(function(st,lr){var _r=A["".concat(lr.axisType,"Map")],kr=Q["".concat(lr.axisType,"Id")];_r&&_r[kr]||lr.axisType==="zAxis"||ox(!1);var Gn=_r[kr];return or(or({},st),{},ha(ha({},lr.axisType,Gn),"".concat(lr.axisType,"Ticks"),cm(Gn)))},xe),Se=Ne[se],je=Ne["".concat(se,"Ticks")],Ge=F&&F[ee]&&F[ee].hasStack&&$Je(ge,F[ee].stackGroups),De=pm(ge.type).indexOf("Bar")>=0,at=XC(Se,je),ot=[],ht=he&&jJe({barSize:z,stackGroups:F,totalSize:Qst(Ne,se)});if(De){var Ue,Ct,tr=Ka(ne)?ie:ne,Ot=(Ue=(Ct=XC(Se,je,!0))!==null&&Ct!==void 0?Ct:tr)!==null&&Ue!==void 0?Ue:0;ot=EJe({barGap:K,barCategoryGap:q,bandSize:Ot!==at?Ot:at,sizeList:ht[pe],maxBarSize:tr}),Ot!==at&&(ot=ot.map(function(st){return or(or({},st),{},{position:or(or({},st.position),{},{offset:st.position.offset-Ot/2})})}))}var xr=ge&&ge.type&&ge.type.getComposedData;xr&&ce.push({props:or(or({},xr(or(or({},Ne),{},{displayedData:Ce,props:C,dataKey:le,item:ge,bandSize:at,barPosition:ot,offset:L,stackedData:Ge,layout:Z,dataStartIndex:M,dataEndIndex:W}))),{},ha(ha(ha({key:ge.key||"item-".concat(we)},X,Ne[X]),se,Ne[se]),"animationId",B)),childIndex:PMe(ge,C.children),item:ge})}),ce},p=function(C,A){var T=C.props,F=C.dataStartIndex,L=C.dataEndIndex,B=C.updateId;if(!cW({props:T}))return null;var M=T.children,W=T.layout,z=T.stackOffset,Z=T.data,K=T.reverseStackOrder,q=lK(W),ie=q.numericAxisName,ae=q.cateAxisName,X=Af(M,n),se=LJe(Z,X,"".concat(ie,"Id"),"".concat(ae,"Id"),z,K),he=c.reduce(function(Q,le){var ne="".concat(le.axisType,"Map");return or(or({},Q),{},ha({},ne,Yst(T,or(or({},le),{},{graphicalItems:X,stackGroups:le.axisType===ie&&se,dataStartIndex:F,dataEndIndex:L}))))},{}),ce=Zst(or(or({},he),{},{props:T,graphicalItems:X}),A==null?void 0:A.legendBBox);Object.keys(he).forEach(function(Q){he[Q]=f(T,he[Q],ce,Q.replace("Map",""),r)});var ge=he["".concat(ae,"Map")],we=Xst(ge),Ce=g(T,or(or({},he),{},{dataStartIndex:F,dataEndIndex:L,updateId:B,graphicalItems:X,stackGroups:se,offset:ce}));return or(or({formattedGraphicalItems:Ce,graphicalItems:X,offset:ce,stackGroups:se},we),he)},S=function(N){function C(A){var T,F,L;return Ist(this,C),L=Dst(this,C,[A]),ha(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ha(L,"accessibilityManager",new yst),ha(L,"handleLegendBBoxUpdate",function(B){if(B){var M=L.state,W=M.dataStartIndex,z=M.dataEndIndex,Z=M.updateId;L.setState(or({legendBBox:B},p({props:L.props,dataStartIndex:W,dataEndIndex:z,updateId:Z},or(or({},L.state),{},{legendBBox:B}))))}}),ha(L,"handleReceiveSyncEvent",function(B,M,W){if(L.props.syncId===B){if(W===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(M)}}),ha(L,"handleBrushChange",function(B){var M=B.startIndex,W=B.endIndex;if(M!==L.state.dataStartIndex||W!==L.state.dataEndIndex){var z=L.state.updateId;L.setState(function(){return or({dataStartIndex:M,dataEndIndex:W},p({props:L.props,dataStartIndex:M,dataEndIndex:W,updateId:z},L.state))}),L.triggerSyncEvent({dataStartIndex:M,dataEndIndex:W})}}),ha(L,"handleMouseEnter",function(B){var M=L.getMouseInfo(B);if(M){var W=or(or({},M),{},{isTooltipActive:!0});L.setState(W),L.triggerSyncEvent(W);var z=L.props.onMouseEnter;va(z)&&z(W,B)}}),ha(L,"triggeredAfterMouseMove",function(B){var M=L.getMouseInfo(B),W=M?or(or({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(W),L.triggerSyncEvent(W);var z=L.props.onMouseMove;va(z)&&z(W,B)}),ha(L,"handleItemMouseEnter",function(B){L.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),ha(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),ha(L,"handleMouseMove",function(B){B.persist(),L.throttleTriggeredAfterMouseMove(B)}),ha(L,"handleMouseLeave",function(B){L.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};L.setState(M),L.triggerSyncEvent(M);var W=L.props.onMouseLeave;va(W)&&W(M,B)}),ha(L,"handleOuterEvent",function(B){var M=kMe(B),W=Dd(L.props,"".concat(M));if(M&&va(W)){var z,Z;/.*touch.*/i.test(M)?Z=L.getMouseInfo(B.changedTouches[0]):Z=L.getMouseInfo(B),W((z=Z)!==null&&z!==void 0?z:{},B)}}),ha(L,"handleClick",function(B){var M=L.getMouseInfo(B);if(M){var W=or(or({},M),{},{isTooltipActive:!0});L.setState(W),L.triggerSyncEvent(W);var z=L.props.onClick;va(z)&&z(W,B)}}),ha(L,"handleMouseDown",function(B){var M=L.props.onMouseDown;if(va(M)){var W=L.getMouseInfo(B);M(W,B)}}),ha(L,"handleMouseUp",function(B){var M=L.props.onMouseUp;if(va(M)){var W=L.getMouseInfo(B);M(W,B)}}),ha(L,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),ha(L,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&L.handleMouseDown(B.changedTouches[0])}),ha(L,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&L.handleMouseUp(B.changedTouches[0])}),ha(L,"handleDoubleClick",function(B){var M=L.props.onDoubleClick;if(va(M)){var W=L.getMouseInfo(B);M(W,B)}}),ha(L,"handleContextMenu",function(B){var M=L.props.onContextMenu;if(va(M)){var W=L.getMouseInfo(B);M(W,B)}}),ha(L,"triggerSyncEvent",function(B){L.props.syncId!==void 0&&yk.emit(bk,L.props.syncId,B,L.eventEmitterSymbol)}),ha(L,"applySyncEvent",function(B){var M=L.props,W=M.layout,z=M.syncMethod,Z=L.state.updateId,K=B.dataStartIndex,q=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)L.setState(or({dataStartIndex:K,dataEndIndex:q},p({props:L.props,dataStartIndex:K,dataEndIndex:q,updateId:Z},L.state)));else if(B.activeTooltipIndex!==void 0){var ie=B.chartX,ae=B.chartY,X=B.activeTooltipIndex,se=L.state,he=se.offset,ce=se.tooltipTicks;if(!he)return;if(typeof z=="function")X=z(ce,B);else if(z==="value"){X=-1;for(var ge=0;ge<ce.length;ge++)if(ce[ge].value===B.activeLabel){X=ge;break}}var we=or(or({},he),{},{x:he.left,y:he.top}),Ce=Math.min(ie,we.x+we.width),Q=Math.min(ae,we.y+we.height),le=ce[X]&&ce[X].value,ne=AF(L.state,L.props.data,X),ee=ce[X]?{x:W==="horizontal"?ce[X].coordinate:Ce,y:W==="horizontal"?Q:ce[X].coordinate}:Oue;L.setState(or(or({},B),{},{activeLabel:le,activeCoordinate:ee,activePayload:ne,activeTooltipIndex:X}))}else L.setState(B)}),ha(L,"renderCursor",function(B){var M,W=L.state,z=W.isTooltipActive,Z=W.activeCoordinate,K=W.activePayload,q=W.offset,ie=W.activeTooltipIndex,ae=W.tooltipAxisBandSize,X=L.getTooltipEventType(),se=(M=B.props.active)!==null&&M!==void 0?M:z,he=L.props.layout,ce=B.key||"_recharts-cursor";return Ie.createElement(Ast,{key:ce,activeCoordinate:Z,activePayload:K,activeTooltipIndex:ie,chartName:r,element:B,isActive:se,layout:he,offset:q,tooltipAxisBandSize:ae,tooltipEventType:X})}),ha(L,"renderPolarAxis",function(B,M,W){var z=Dd(B,"type.axisType"),Z=Dd(L.state,"".concat(z,"Map")),K=B.type.defaultProps,q=K!==void 0?or(or({},K),B.props):B.props,ie=Z&&Z[q["".concat(z,"Id")]];return j.cloneElement(B,or(or({},ie),{},{className:Ga(z,ie.className),key:B.key||"".concat(M,"-").concat(W),ticks:cm(ie,!0)}))}),ha(L,"renderPolarGrid",function(B){var M=B.props,W=M.radialLines,z=M.polarAngles,Z=M.polarRadius,K=L.state,q=K.radiusAxisMap,ie=K.angleAxisMap,ae=Np(q),X=Np(ie),se=X.cx,he=X.cy,ce=X.innerRadius,ge=X.outerRadius;return j.cloneElement(B,{polarAngles:Array.isArray(z)?z:cm(X,!0).map(function(we){return we.coordinate}),polarRadius:Array.isArray(Z)?Z:cm(ae,!0).map(function(we){return we.coordinate}),cx:se,cy:he,innerRadius:ce,outerRadius:ge,key:B.key||"polar-grid",radialLines:W})}),ha(L,"renderLegend",function(){var B=L.state.formattedGraphicalItems,M=L.props,W=M.children,z=M.width,Z=M.height,K=L.props.margin||{},q=z-(K.left||0)-(K.right||0),ie=uce({children:W,formattedGraphicalItems:B,legendWidth:q,legendContent:u});if(!ie)return null;var ae=ie.item,X=nK(ie,jst);return j.cloneElement(ae,or(or({},X),{},{chartWidth:z,chartHeight:Z,margin:K,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),ha(L,"renderTooltip",function(){var B,M=L.props,W=M.children,z=M.accessibilityLayer,Z=bd(W,sh);if(!Z)return null;var K=L.state,q=K.isTooltipActive,ie=K.activeCoordinate,ae=K.activePayload,X=K.activeLabel,se=K.offset,he=(B=Z.props.active)!==null&&B!==void 0?B:q;return j.cloneElement(Z,{viewBox:or(or({},se),{},{x:se.left,y:se.top}),active:he,label:X,payload:he?ae:[],coordinate:ie,accessibilityLayer:z})}),ha(L,"renderBrush",function(B){var M=L.props,W=M.margin,z=M.data,Z=L.state,K=Z.offset,q=Z.dataStartIndex,ie=Z.dataEndIndex,ae=Z.updateId;return j.cloneElement(B,{key:B.key||"_recharts-brush",onChange:pN(L.handleBrushChange,B.props.onChange),data:z,x:Mr(B.props.x)?B.props.x:K.left,y:Mr(B.props.y)?B.props.y:K.top+K.height+K.brushBottom-(W.bottom||0),width:Mr(B.props.width)?B.props.width:K.width,startIndex:q,endIndex:ie,updateId:"brush-".concat(ae)})}),ha(L,"renderReferenceElement",function(B,M,W){if(!B)return null;var z=L,Z=z.clipPathId,K=L.state,q=K.xAxisMap,ie=K.yAxisMap,ae=K.offset,X=B.type.defaultProps||{},se=B.props,he=se.xAxisId,ce=he===void 0?X.xAxisId:he,ge=se.yAxisId,we=ge===void 0?X.yAxisId:ge;return j.cloneElement(B,{key:B.key||"".concat(M,"-").concat(W),xAxis:q[ce],yAxis:ie[we],viewBox:{x:ae.left,y:ae.top,width:ae.width,height:ae.height},clipPathId:Z})}),ha(L,"renderActivePoints",function(B){var M=B.item,W=B.activePoint,z=B.basePoint,Z=B.childIndex,K=B.isRange,q=[],ie=M.props.key,ae=M.item.type.defaultProps!==void 0?or(or({},M.item.type.defaultProps),M.item.props):M.item.props,X=ae.activeDot,se=ae.dataKey,he=or(or({index:Z,dataKey:se,cx:W.x,cy:W.y,r:4,fill:VM(M.item),strokeWidth:2,stroke:"#fff",payload:W.payload,value:W.value},la(X,!1)),NC(X));return q.push(C.renderActiveDot(X,he,"".concat(ie,"-activePoint-").concat(Z))),z?q.push(C.renderActiveDot(X,or(or({},he),{},{cx:z.x,cy:z.y}),"".concat(ie,"-basePoint-").concat(Z))):K&&q.push(null),q}),ha(L,"renderGraphicChild",function(B,M,W){var z=L.filterFormatItem(B,M,W);if(!z)return null;var Z=L.getTooltipEventType(),K=L.state,q=K.isTooltipActive,ie=K.tooltipAxis,ae=K.activeTooltipIndex,X=K.activeLabel,se=L.props.children,he=bd(se,sh),ce=z.props,ge=ce.points,we=ce.isRange,Ce=ce.baseLine,Q=z.item.type.defaultProps!==void 0?or(or({},z.item.type.defaultProps),z.item.props):z.item.props,le=Q.activeDot,ne=Q.hide,ee=Q.activeBar,pe=Q.activeShape,xe=!!(!ne&&q&&he&&(le||ee||pe)),Ne={};Z!=="axis"&&he&&he.props.trigger==="click"?Ne={onClick:pN(L.handleItemMouseEnter,B.props.onClick)}:Z!=="axis"&&(Ne={onMouseLeave:pN(L.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:pN(L.handleItemMouseEnter,B.props.onMouseEnter)});var Se=j.cloneElement(B,or(or({},z.props),Ne));function je(lr){return typeof ie.dataKey=="function"?ie.dataKey(lr.payload):null}if(xe)if(ae>=0){var Ge,De;if(ie.dataKey&&!ie.allowDuplicatedCategory){var at=typeof ie.dataKey=="function"?je:"payload.".concat(ie.dataKey.toString());Ge=_C(ge,at,X),De=we&&Ce&&_C(Ce,at,X)}else Ge=ge==null?void 0:ge[ae],De=we&&Ce&&Ce[ae];if(pe||ee){var ot=B.props.activeIndex!==void 0?B.props.activeIndex:ae;return[j.cloneElement(B,or(or(or({},z.props),Ne),{},{activeIndex:ot})),null,null]}if(!Ka(Ge))return[Se].concat(_y(L.renderActivePoints({item:z,activePoint:Ge,basePoint:De,childIndex:ae,isRange:we})))}else{var ht,Ue=(ht=L.getItemByXY(L.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:Se},Ct=Ue.graphicalItem,tr=Ct.item,Ot=tr===void 0?B:tr,xr=Ct.childIndex,st=or(or(or({},z.props),Ne),{},{activeIndex:xr});return[j.cloneElement(Ot,st),null,null]}return we?[Se,null,null]:[Se,null]}),ha(L,"renderCustomized",function(B,M,W){return j.cloneElement(B,or(or({key:"recharts-customized-".concat(W)},L.props),L.state))}),ha(L,"renderMap",{CartesianGrid:{handler:bN,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:bN},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:bN},YAxis:{handler:bN},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((T=A.id)!==null&&T!==void 0?T:Yy("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=cle(L.triggeredAfterMouseMove,(F=A.throttleDelay)!==null&&F!==void 0?F:1e3/60),L.state={},L}return Lst(C,N),Fst(C,[{key:"componentDidMount",value:function(){var T,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,F=T.children,L=T.data,B=T.height,M=T.layout,W=bd(F,sh);if(W){var z=W.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var Z=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,K=AF(this.state,L,z,Z),q=this.state.tooltipTicks[z].coordinate,ie=(this.state.offset.top+B)/2,ae=M==="horizontal",X=ae?{x:q,y:ie}:{y:q,x:ie},se=this.state.formattedGraphicalItems.find(function(ce){var ge=ce.item;return ge.type.name==="Scatter"});se&&(X=or(or({},X),se.props.points[z].tooltipPosition),K=se.props.points[z].tooltipPayload);var he={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:Z,activePayload:K,activeCoordinate:X};this.setState(he),this.renderCursor(W),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var L,B;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(T){rI([bd(T.children,sh)],[bd(this.props.children,sh)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=bd(this.props.children,sh);if(T&&typeof T.props.shared=="boolean"){var F=T.props.shared?"axis":"item";return l.indexOf(F)>=0?F:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var F=this.container,L=F.getBoundingClientRect(),B=eGe(L),M={chartX:Math.round(T.pageX-B.left),chartY:Math.round(T.pageY-B.top)},W=L.width/F.offsetWidth||1,z=this.inRange(M.chartX,M.chartY,W);if(!z)return null;var Z=this.state,K=Z.xAxisMap,q=Z.yAxisMap,ie=this.getTooltipEventType(),ae=sK(this.state,this.props.data,this.props.layout,z);if(ie!=="axis"&&K&&q){var X=Np(K).scale,se=Np(q).scale,he=X&&X.invert?X.invert(M.chartX):null,ce=se&&se.invert?se.invert(M.chartY):null;return or(or({},M),{},{xValue:he,yValue:ce},ae)}return ae?or(or({},M),ae):null}},{key:"inRange",value:function(T,F){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,M=T/L,W=F/L;if(B==="horizontal"||B==="vertical"){var z=this.state.offset,Z=M>=z.left&&M<=z.left+z.width&&W>=z.top&&W<=z.top+z.height;return Z?{x:M,y:W}:null}var K=this.state,q=K.angleAxisMap,ie=K.radiusAxisMap;if(q&&ie){var ae=Np(q);return Sq({x:M,y:W},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,F=this.getTooltipEventType(),L=bd(T,sh),B={};L&&F==="axis"&&(L.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=NC(this.props,this.handleOuterEvent);return or(or({},M),B)}},{key:"addListener",value:function(){yk.on(bk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yk.removeListener(bk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,F,L){for(var B=this.state.formattedGraphicalItems,M=0,W=B.length;M<W;M++){var z=B[M];if(z.item===T||z.props.key===T.key||F===pm(z.item.type)&&L===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,F=this.state.offset,L=F.left,B=F.top,M=F.height,W=F.width;return Ie.createElement("defs",null,Ie.createElement("clipPath",{id:T},Ie.createElement("rect",{x:L,y:B,height:M,width:W})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(F,L){var B=rK(L,2),M=B[0],W=B[1];return or(or({},F),{},ha({},M,W.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(F,L){var B=rK(L,2),M=B[0],W=B[1];return or(or({},F),{},ha({},M,W.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[T])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(T){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[T])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(T){var F=this.state,L=F.formattedGraphicalItems,B=F.activeItem;if(L&&L.length)for(var M=0,W=L.length;M<W;M++){var z=L[M],Z=z.props,K=z.item,q=K.type.defaultProps!==void 0?or(or({},K.type.defaultProps),K.props):K.props,ie=pm(K.type);if(ie==="Bar"){var ae=(Z.data||[]).find(function(ce){return Iet(T,ce)});if(ae)return{graphicalItem:z,payload:ae}}else if(ie==="RadialBar"){var X=(Z.data||[]).find(function(ce){return Sq(T,ce)});if(X)return{graphicalItem:z,payload:X}}else if(l6(z,B)||c6(z,B)||v4(z,B)){var se=wrt({graphicalItem:z,activeTooltipItem:B,itemData:q.data}),he=q.activeIndex===void 0?se:q.activeIndex;return{graphicalItem:or(or({},z),{},{childIndex:he}),payload:v4(z,B)?q.data[se]:z.props.data[se]}}}return null}},{key:"render",value:function(){var T=this;if(!cW(this))return null;var F=this.props,L=F.children,B=F.className,M=F.width,W=F.height,z=F.style,Z=F.compact,K=F.title,q=F.desc,ie=nK(F,Est),ae=la(ie,!1);if(Z)return Ie.createElement(IG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement(aI,Jv({},ae,{width:M,height:W,title:K,desc:q}),this.renderClipPath(),dW(L,this.renderMap)));if(this.props.accessibilityLayer){var X,se;ae.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,ae.role=(se=this.props.role)!==null&&se!==void 0?se:"application",ae.onKeyDown=function(ce){T.accessibilityManager.keyboardEvent(ce)},ae.onFocus=function(){T.accessibilityManager.focus()}}var he=this.parseEventsOfWrapper();return Ie.createElement(IG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement("div",Jv({className:Ga("recharts-wrapper",B),style:or({position:"relative",cursor:"default",width:M,height:W},z)},he,{ref:function(ge){T.container=ge}}),Ie.createElement(aI,Jv({},ae,{width:M,height:W,title:K,desc:q,style:Wst}),this.renderClipPath(),dW(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ha(S,"displayName",r),ha(S,"defaultProps",or({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ha(S,"getDerivedStateFromProps",function(N,C){var A=N.dataKey,T=N.data,F=N.children,L=N.width,B=N.height,M=N.layout,W=N.stackOffset,z=N.margin,Z=C.dataStartIndex,K=C.dataEndIndex;if(C.updateId===void 0){var q=oK(N);return or(or(or({},q),{},{updateId:0},p(or(or({props:N},q),{},{updateId:0}),C)),{},{prevDataKey:A,prevData:T,prevWidth:L,prevHeight:B,prevLayout:M,prevStackOffset:W,prevMargin:z,prevChildren:F})}if(A!==C.prevDataKey||T!==C.prevData||L!==C.prevWidth||B!==C.prevHeight||M!==C.prevLayout||W!==C.prevStackOffset||!x2(z,C.prevMargin)){var ie=oK(N),ae={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},X=or(or({},sK(C,T,M)),{},{updateId:C.updateId+1}),se=or(or(or({},ie),ae),X);return or(or(or({},se),p(or({props:N},se),C)),{},{prevDataKey:A,prevData:T,prevWidth:L,prevHeight:B,prevLayout:M,prevStackOffset:W,prevMargin:z,prevChildren:F})}if(!rI(F,C.prevChildren)){var he,ce,ge,we,Ce=bd(F,fy),Q=Ce&&(he=(ce=Ce.props)===null||ce===void 0?void 0:ce.startIndex)!==null&&he!==void 0?he:Z,le=Ce&&(ge=(we=Ce.props)===null||we===void 0?void 0:we.endIndex)!==null&&ge!==void 0?ge:K,ne=Q!==Z||le!==K,ee=!Ka(T),pe=ee&&!ne?C.updateId:C.updateId+1;return or(or({updateId:pe},p(or(or({props:N},C),{},{updateId:pe,dataStartIndex:Q,dataEndIndex:le}),C)),{},{prevChildren:F,dataStartIndex:Q,dataEndIndex:le})}return null}),ha(S,"renderActiveDot",function(N,C,A){var T;return j.isValidElement(N)?T=j.cloneElement(N,C):va(N)?T=N(C):T=Ie.createElement(n6,C),Ie.createElement(Ii,{className:"recharts-active-dot",key:A},T)});var b=j.forwardRef(function(C,A){return Ie.createElement(S,Jv({},C,{ref:A}))});return b.displayName=S.displayName,b},eot=Fue({chartName:"PieChart",GraphicalChild:$m,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:o6},{axisType:"radiusAxis",AxisComp:i6}],formatAxisMap:XJe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tot=Fue({chartName:"AreaChart",GraphicalChild:T1,axisComponents:[{axisType:"xAxis",AxisComp:p6},{axisType:"yAxis",AxisComp:g6}],formatAxisMap:Qnt});const wN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],rot=()=>{const[e,t]=j.useState(!0),[r,n]=j.useState(null),[i,a]=j.useState(!1),[o,l]=j.useState({totalCommissions:0,estimatedRevenue:0,totalTransactions:0,pendingWithdrawals:0,totalUsers:0,newUsers:0,activeEvents:0,totalSalesFcfa:0}),[c,u]=j.useState([]),[f,h]=j.useState([]),[g,p]=j.useState([]),S=j.useCallback(async(N=!1)=>{N?a(!0):t(!0),n(null);try{const{data:C,error:A}=await Pd(()=>Ze.rpc("get_super_admin_dashboard_stats"));if(A)throw A;const{data:T}=await Pd(()=>Ze.from("transactions").select("*, user:user_id(full_name, email)").order("created_at",{ascending:!1}).limit(5)),{data:F}=await Pd(()=>Ze.from("profiles").select("created_at").gte("created_at",f2(new Date,30).toISOString())),{data:L}=await Pd(()=>Ze.from("coin_spending").select("purpose, amount").gte("created_at",f2(new Date,90).toISOString())),B={},M=new Date;for(let K=29;K>=0;K--){const q=ui(f2(M,K),"yyyy-MM-dd");B[q]=0}(F||[]).forEach(K=>{const q=ui(new Date(K.created_at),"yyyy-MM-dd");B[q]!==void 0&&B[q]++});const W=Object.entries(B).map(([K,q])=>({date:ui(new Date(K),"dd MMM",{locale:Tc}),users:q})),z={};(L||[]).forEach(K=>{const q=K.purpose||"Autre";z[q]=(z[q]||0)+(K.amount||0)});const Z=Object.entries(z).map(([K,q])=>({name:K==="ticket_purchase"?"Billetterie":K==="vote_participation"?"Votes":K==="raffle_participation"?"Tombola":K==="stand_rental"?"Stands":K==="event_access"?"v. Protgs":K,value:q})).sort((K,q)=>q.value-K.value);l({totalCommissions:(C==null?void 0:C.total_commissions)||0,estimatedRevenue:(C==null?void 0:C.total_user_balance)||0,totalTransactions:(C==null?void 0:C.total_transactions)||0,pendingWithdrawals:(C==null?void 0:C.pending_withdrawals)||0,totalUsers:(C==null?void 0:C.total_users)||0,newUsers:(C==null?void 0:C.new_users)||0,activeEvents:(C==null?void 0:C.active_events)||0,totalSalesFcfa:(C==null?void 0:C.total_sales_fcfa)||0}),u(T||[]),h(W),p(Z)}catch(C){console.error("Dashboard fetch error:",C),n("Impossible de charger les donnes. Vrifiez votre connexion.")}finally{t(!1),a(!1)}},[]);if(j.useEffect(()=>{S()},[S]),r)return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border border-destructive/20 rounded-xl bg-destructive/5 text-destructive animate-in fade-in",children:[s.jsx(Iu,{className:"w-12 h-12 mb-4"}),s.jsx("h3",{className:"text-xl font-bold",children:"Erreur de chargement"}),s.jsx("p",{className:"mb-4",children:r}),s.jsxs(ze,{onClick:()=>S(!0),variant:"outline",children:[s.jsx(Fu,{className:"w-4 h-4 mr-2"})," Ressayer"]})]});const b=({title:N,value:C,subtext:A,icon:T,colorClass:F,borderClass:L})=>s.jsxs(Yt,{className:`relative overflow-hidden ${L?`border-l-4 ${L}`:""}`,children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qr,{className:"text-sm font-medium text-muted-foreground",children:N}),T&&s.jsx(T,{className:`h-4 w-4 ${F}`})]}),s.jsxs(Qt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:C}),A&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:A})]})]});return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Super Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Vue d'ensemble et mtriques cls de la plateforme."})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ze,{onClick:()=>S(!0),variant:"outline",disabled:i||e,className:"shadow-sm",children:[s.jsx(Fu,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),i?"Mise  jour...":"Actualiser"]})})]}),e&&!i?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(N=>s.jsx(Ec,{className:"h-32 rounded-xl"},N))}):s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(b,{title:"Commissions Totales",value:`${o.totalCommissions.toLocaleString()} `,subtext:"Cumul commissions plateforme (5%)",icon:Ua,colorClass:"text-yellow-500",borderClass:"border-l-yellow-500"}),s.jsx(b,{title:"Masse Montaire (Utilisateurs)",value:`${o.estimatedRevenue.toLocaleString()} `,subtext:"Total solde actuel des utilisateurs",icon:$o,colorClass:"text-blue-500",borderClass:"border-l-blue-500"}),s.jsx(b,{title:"Utilisateurs Inscrits",value:o.totalUsers.toLocaleString(),subtext:`+${o.newUsers} nouveaux (30j)`,icon:Zs,colorClass:"text-green-500",borderClass:"border-l-green-500"}),s.jsx(b,{title:"Retraits en Attente",value:o.pendingWithdrawals,subtext:"Demandes  traiter",icon:Iu,colorClass:"text-red-500",borderClass:"border-l-red-500"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(b,{title:"Chiffre d'Affaires (Ventes)",value:rve(o.totalSalesFcfa),subtext:"Total achats de packs et licences",icon:cd,colorClass:"text-emerald-600"}),s.jsx(b,{title:"Total Transactions",value:o.totalTransactions.toLocaleString(),subtext:"Volume global d'oprations",icon:fm,colorClass:"text-purple-500"}),s.jsx(b,{title:"vnements Actifs",value:o.activeEvents,subtext:"En ligne actuellement",icon:zZ,colorClass:"text-indigo-500"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-7",children:[s.jsxs(Yt,{className:"col-span-4 shadow-md",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Activit Utilisateurs"}),s.jsx(Oa,{children:"Nouvelles inscriptions sur 30 jours"})]}),s.jsx(Qt,{className:"pl-2",children:s.jsx(dH,{width:"100%",height:300,children:s.jsxs(tot,{data:f,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),s.jsx(p6,{dataKey:"date",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,minTickGap:30}),s.jsx(g6,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),s.jsx(pue,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.1)"}),s.jsx(sh,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"none",borderRadius:"8px",color:"#fff"}}),s.jsx(T1,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorUsers)"})]})})})]}),s.jsxs(Yt,{className:"col-span-3 shadow-md",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Sources de Dpenses"}),s.jsx(Oa,{children:"Utilisation des pices par type"})]}),s.jsxs(Qt,{children:[s.jsx(dH,{width:"100%",height:300,children:s.jsxs(eot,{children:[s.jsx($m,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((N,C)=>s.jsx(WE,{fill:wN[C%wN.length]},`cell-${C}`))}),s.jsx(sh,{}),s.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground font-bold text-lg",children:"Types"})]})}),s.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:g.map((N,C)=>s.jsxs(Vr,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:wN[C%wN.length]}}),N.name]},C))})]})]})]}),s.jsxs(O0,{defaultValue:"recent_tx",className:"space-y-4",children:[s.jsx(Th,{children:s.jsx(Hn,{value:"recent_tx",children:"Dernires Transactions"})}),s.jsx(qn,{value:"recent_tx",children:s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Flux Rcent"}),s.jsx(Oa,{children:"Les 5 dernires oprations financires."})]}),s.jsx(Qt,{children:s.jsx("div",{className:"space-y-4",children:c.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Aucune transaction rcente"}):c.map(N=>{var C;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card/50 hover:bg-card/80 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-2 rounded-full ${N.amount_pi>0?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:N.amount_pi>0?s.jsx(cd,{className:"w-4 h-4"}):s.jsx(n2e,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:N.description||N.transaction_type}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:((C=N.user)==null?void 0:C.full_name)||"Utilisateur"}),s.jsx("span",{children:""}),s.jsx("span",{children:ui(new Date(N.created_at),"dd MMM HH:mm",{locale:Tc})})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`font-bold ${N.amount_pi>0?"text-green-600":"text-red-500"}`,children:[N.amount_pi>0?"+":"",N.amount_pi," "]}),N.amount_fcfa&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.abs(N.amount_fcfa).toLocaleString()," FCFA"]})]})]},N.id)})})})]})})]})]})};var v6="Switch",[not,t2t]=dc(v6),[aot,iot]=not(v6),Due=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[g,p]=j.useState(null),S=ka(t,T=>p(T)),b=j.useRef(!1),N=g?f||!!g.closest("form"):!0,[C,A]=cc({prop:i,defaultProp:a??!1,onChange:u,caller:v6});return s.jsxs(aot,{scope:r,checked:C,disabled:l,children:[s.jsx(In.button,{type:"button",role:"switch","aria-checked":C,"aria-required":o,"data-state":Bue(C),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:S,onClick:Lr(e.onClick,T=>{A(F=>!F),N&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),N&&s.jsx(Lue,{control:g,bubbles:!b.current,name:n,value:c,checked:C,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Due.displayName=v6;var Rue="SwitchThumb",Mue=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=iot(Rue,r);return s.jsx(In.span,{"data-state":Bue(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Mue.displayName=Rue;var sot="SwitchBubbleInput",Lue=j.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=j.useRef(null),l=ka(o,a),c=iE(r),u=Fj(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const S=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(S)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lue.displayName=sot;function Bue(e){return e?"checked":"unchecked"}var $ue=Due,oot=Mue;const Td=Ie.forwardRef(({className:e,...t},r)=>s.jsx($ue,{className:Ir("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(oot,{className:Ir("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Td.displayName=$ue.displayName;const lot=()=>{bn();const{toast:e}=js(),[t,r]=j.useState([]),[n,i]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(!1),[h,g]=j.useState(null),[p,S]=j.useState(null),[b,N]=j.useState({title:"",description:"",video_url:"",thumbnail_url:"",reward_coins:10,is_mandatory:!0,is_active:!1,video_duration:0}),C=j.useCallback(async()=>{o(!0);const{data:z,error:Z}=await Ze.from("mandatory_videos").select("*").order("created_at",{ascending:!1});Z?e({title:"Erreur",description:"Impossible de charger les vidos.",variant:"destructive"}):r(z),o(!1)},[e]);j.useEffect(()=>{C()},[C]);const A=()=>{i(null),S(null),N({title:"",description:"",video_url:"",thumbnail_url:"",reward_coins:10,is_mandatory:!0,is_active:!1,video_duration:0})},T=z=>{i(z),N({title:z.title,description:z.description||"",video_url:z.video_url,thumbnail_url:z.thumbnail_url||"",reward_coins:z.reward_coins||10,is_mandatory:z.is_mandatory,is_active:z.is_active,video_duration:z.video_duration||0})},F=async(z,Z)=>{if(!z)return null;const K=z.name.split(".").pop(),q=`${Date.now()}.${K}`,ie=`${Z}/${q}`,{error:ae}=await Ze.storage.from("media").upload(ie,z);if(ae)throw ae;const{data:X}=Ze.storage.from("media").getPublicUrl(ie);return X.publicUrl},L=async z=>{z.preventDefault(),c(!0);try{let Z=b.video_url;if(p&&(Z=await F(p,"videos")),!Z)throw new Error("Une URL de vido ou un fichier est requis.");const K={...b,video_url:Z};if(n){const{error:q}=await Ze.from("mandatory_videos").update(K).eq("id",n.id);if(q)throw q;e({title:"Succs",description:"Vido mise  jour."})}else{const{error:q}=await Ze.from("mandatory_videos").insert([K]);if(q)throw q;e({title:"Succs",description:"Vido cre."})}A(),await C()}catch(Z){e({title:"Erreur",description:`La sauvegarde a chou: ${Z.message}`,variant:"destructive"})}finally{c(!1)}},B=z=>{g(z),f(!0)},M=async()=>{if(!h)return;const{error:z}=await Ze.from("mandatory_videos").delete().eq("id",h);z?e({title:"Erreur",description:"La suppression a chou.",variant:"destructive"}):(e({title:"Succs",description:"Vido supprime."}),await C()),f(!1),g(null)},W=async z=>{const Z=!z.is_active;if(Z){const{error:q}=await Ze.from("mandatory_videos").update({is_active:!1}).eq("is_active",!0);if(q){e({title:"Erreur",description:"Impossible de dsactiver les autres vidos.",variant:"destructive"});return}}const{error:K}=await Ze.from("mandatory_videos").update({is_active:Z}).eq("id",z.id);K?e({title:"Erreur",description:"Le changement de statut a chou.",variant:"destructive"}):(e({title:"Succs",description:"Statut de la vido mis  jour."}),await C())};return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs(Yt,{className:"shadow-lg rounded-xl",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center",children:[n?s.jsx(C_,{className:"mr-2"}):s.jsx(A_,{className:"mr-2"}),n?"Modifier la vido":"Ajouter une vido"]}),s.jsx(Oa,{children:"Grez les vidos de rcompense. Une seule peut tre active."})]}),s.jsx(Qt,{children:s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"title",children:"Titre"}),s.jsx(rr,{id:"title",value:b.title,onChange:z=>N({...b,title:z.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"video_upload",children:"Tlverser une vido"}),s.jsx(rr,{id:"video_upload",type:"file",accept:"video/*",onChange:z=>S(z.target.files[0])})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"video_url",children:"OU Coller une URL de vido"}),s.jsx(rr,{id:"video_url",value:b.video_url,onChange:z=>N({...b,video_url:z.target.value}),placeholder:"https://..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"description",children:"Description"}),s.jsx(uc,{id:"description",value:b.description,onChange:z=>N({...b,description:z.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"reward_coins",children:"Pices en rcompense"}),s.jsx(rr,{id:"reward_coins",type:"number",min:"0",value:b.reward_coins,onChange:z=>N({...b,reward_coins:parseInt(z.target.value)||0}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"video_duration",children:"Dure (secondes)"}),s.jsx(rr,{id:"video_duration",type:"number",min:"1",value:b.video_duration,onChange:z=>N({...b,video_duration:parseInt(z.target.value)||0}),required:!0})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Td,{id:"is_active_form",checked:b.is_active,onCheckedChange:z=>N({...b,is_active:z})}),s.jsx(kt,{htmlFor:"is_active_form",children:"Activer (dsactivera les autres)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ze,{type:"submit",disabled:l,children:[l&&s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Mettre  jour":"Enregistrer"]}),n&&s.jsx(ze,{variant:"ghost",onClick:A,children:"Annuler"})]})]})})]}),s.jsxs(Yt,{className:"shadow-lg rounded-xl mt-8",children:[s.jsx(Wr,{children:s.jsx(qr,{children:"Liste des vidos"})}),s.jsx(Qt,{children:a?s.jsx(Zt,{className:"animate-spin"}):s.jsx("div",{className:"space-y-4",children:t.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-xl shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(cQ,{className:z.is_active?"text-green-500":"text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:z.title}),s.jsx("p",{className:`text-sm ${z.is_active?"text-green-500":"text-muted-foreground"}`,children:z.is_active?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>W(z),title:z.is_active?"Dsactiver":"Activer",children:z.is_active?s.jsx(r7,{className:"h-4 w-4 text-yellow-500"}):s.jsx(n7,{className:"h-4 w-4 text-green-500"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>T(z),children:s.jsx(C_,{className:"h-4 w-4"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>B(z.id),children:s.jsx(Vo,{className:"h-4 w-4 text-red-500"})})]})]},z.id))})})]}),s.jsx(nl,{open:u,onOpenChange:f,children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"tes-vous sr ?"}),s.jsx(Ko,{children:"Cette action est irrversible. La vido sera dfinitivement supprime."})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Annuler"}),s.jsx(il,{onClick:M,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})},cot=({users:e,licenseTypes:t,onCancel:r,onRefresh:n,partnerToEdit:i})=>{bn();const[a,o]=j.useState({partner_id:"",license_id:"",country:"",cities:[]}),[l,c]=j.useState(!1),[u,f]=j.useState([]),[h,g]=j.useState("");j.useEffect(()=>{var b,N;i&&o({partner_id:i.user_id,license_id:i.license_id,country:((b=i.coverage_zone)==null?void 0:b.country)||"",cities:((N=i.coverage_zone)==null?void 0:N.cities)||[]})},[i]);const p=j.useMemo(()=>{if(!h)return e.filter(N=>N.user_type!=="admin"&&N.user_type!=="super_admin");const b=h.toLowerCase();return e.filter(N=>N.user_type!=="admin"&&N.user_type!=="super_admin"&&(N.full_name&&N.full_name.toLowerCase().includes(b)||N.email&&N.email.toLowerCase().includes(b)))},[e,h]);j.useEffect(()=>{a.country?f(H2[a.country]||[]):f([])},[a.country]);const S=async b=>{if(b.preventDefault(),!a.partner_id||!a.country||!a.license_id){lt({title:"Champs manquants",description:"Veuillez slectionner un utilisateur, un pays et un type de licence.",variant:"destructive"});return}c(!0);try{const N={country:a.country,cities:a.cities};if(i){const{error:C}=await Ze.from("partners").update({license_id:a.license_id,coverage_zone:N,updated_at:new Date}).eq("id",i.id);if(C)throw C;lt({title:"Partenaire mis  jour avec succs"})}else{const{error:C}=await Ze.from("partners").insert({user_id:a.partner_id,license_id:a.license_id,coverage_zone:N,status:"pending"});if(C)throw C;await Ze.from("profiles").update({user_type:"admin"}).eq("id",a.partner_id),lt({title:"Partenaire cr",description:"Le nouveau partenaire est en attente d'approbation."})}n(),r()}catch(N){console.error("Error saving partner:",N),lt({title:"Erreur lors de l'enregistrement",description:N.message,variant:"destructive"})}finally{c(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(Yt,{className:"w-full max-w-xl bg-card text-foreground shadow-lg rounded-xl",children:[s.jsx(Wr,{children:s.jsx(qr,{children:i?"Modifier le partenaire":"Crer un nouveau partenaire"})}),s.jsx(Qt,{children:s.jsxs("form",{onSubmit:S,className:"space-y-4 max-h-[80vh] overflow-y-auto p-2",children:[!i&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Rechercher un utilisateur"}),s.jsx(rr,{placeholder:"Rechercher par nom ou email...",value:h,onChange:b=>g(b.target.value)}),s.jsxs(_i,{onValueChange:b=>o({...a,partner_id:b}),value:a.partner_id,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Slectionner un utilisateur"})}),s.jsx(xi,{children:p.map(b=>s.jsxs(on,{value:b.id,children:[b.full_name," (",b.email,")"]},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Type de licence"}),s.jsxs(_i,{onValueChange:b=>o({...a,license_id:b}),value:a.license_id,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Slectionner un type de licence"})}),s.jsx(xi,{children:t.map(b=>s.jsx(on,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Pays"}),s.jsxs(_i,{onValueChange:b=>o({...a,country:b,cities:[]}),value:a.country,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Pays de la licence"})}),s.jsx(xi,{children:l5.map(b=>s.jsx(on,{value:b.name,children:b.name},b.name))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Villes couvertes"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md max-h-40 overflow-y-auto",children:u.map(b=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:`city-${b}`,value:b,checked:a.cities.includes(b),onChange:N=>{const C=N.target.checked?[...a.cities,b]:a.cities.filter(A=>A!==b);o({...a,cities:C})}}),s.jsx(kt,{htmlFor:`city-${b}`,children:b})]},b))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(ze,{type:"submit",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"})," Enregistrement..."]}):"Enregistrer"}),s.jsx(ze,{type:"button",variant:"outline",onClick:r,children:"Annuler"})]})]})})]})})},uot=({onRefresh:e})=>{const[t,r]=j.useState([]),[n,i]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState(!1),[u,f]=j.useState(null),[h,g]=j.useState(""),[p,S]=j.useState(!0),b=j.useCallback(async()=>{S(!0);try{const{data:T,error:F}=await Ze.from("partners").select("*, user:user_id(full_name, email), license:license_id(name, commission_rate)");if(F)throw F;const{data:L,error:B}=await Ze.from("profiles").select("*");if(B)throw B;const{data:M,error:W}=await Ze.from("partner_licenses").select("*");if(W)throw W;r(T||[]),i(L||[]),o(M||[])}catch{lt({title:"Erreur",description:"Impossible de charger les donnes des partenaires.",variant:"destructive"})}finally{S(!1)}},[]);j.useEffect(()=>{b()},[b]);const N=j.useMemo(()=>{if(!h)return t;const T=h.toLowerCase();return t.filter(F=>{var L,B,M,W,z,Z;return((B=(L=F.user)==null?void 0:L.full_name)==null?void 0:B.toLowerCase().includes(T))||((W=(M=F.user)==null?void 0:M.email)==null?void 0:W.toLowerCase().includes(T))||((Z=(z=F.license)==null?void 0:z.name)==null?void 0:Z.toLowerCase().includes(T))})},[t,h]),C=async(T,F)=>{var L;try{let B={status:F,updated_at:new Date};if(F==="active"){const W=new Date,{data:z}=await Ze.from("partners").select("license:license_id(duration_days)").eq("id",T).single(),Z=((L=z==null?void 0:z.license)==null?void 0:L.duration_days)||30;W.setDate(W.getDate()+Z),B.expiration_date=W.toISOString(),B.activation_date=new Date().toISOString()}const{error:M}=await Ze.from("partners").update(B).eq("id",T);if(M)throw M;lt({title:"Statut mis  jour"}),b()}catch{lt({title:"Erreur",description:"Impossible de mettre  jour le statut.",variant:"destructive"})}},A=T=>{const F=new Date,L=T.expiration_date?new Date(T.expiration_date):null;return L&&L<F?"expired":T.status};return p?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):s.jsxs(s.Fragment,{children:[s.jsxs(Yt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(Wr,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsx(qr,{className:"text-white",children:" Gestion des Partenaires"}),s.jsxs(ze,{onClick:()=>c(!0),children:[s.jsx(s7,{className:"mr-2 h-4 w-4"})," Crer un partenaire"]})]}),s.jsxs(Qt,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(rr,{type:"text",placeholder:"Rechercher un partenaire...",className:"pl-10 w-full",value:h,onChange:T=>g(T.target.value)})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-background/50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Partenaire"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Licence"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Validit"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Statut"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:N.map(T=>{var L,B,M;const F=A(T);return s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"font-semibold text-white",children:((L=T.user)==null?void 0:L.full_name)||"N/A"})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-semibold text-white capitalize",children:(B=T.license)==null?void 0:B.name}),s.jsx("p",{className:"text-sm text-gray-400",children:T.coverage_zone.country})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hm,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:(M=T.user)==null?void 0:M.email})]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"text-white",children:T.expiration_date?`Expire le: ${new Date(T.expiration_date).toLocaleDateString()}`:"N/A"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("select",{className:"bg-gray-800 text-sm p-1 rounded-md border border-gray-700",value:F||"pending",onChange:W=>C(T.id,W.target.value),children:[s.jsx("option",{value:"pending",children:"En attente d'approbation"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"suspended",children:"Suspendu"}),s.jsx("option",{value:"expired",children:"Expir"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex gap-2",children:s.jsx(ze,{size:"sm",variant:"outline",onClick:()=>{f(T),c(!0)},title:"Modifier",children:s.jsx(C_,{className:"w-4 h-4"})})})})]},T.id)})})]})})]})]}),(l||u)&&s.jsx(cot,{users:n,licenseTypes:a,partnerToEdit:u,onCancel:()=>{c(!1),f(null)},onRefresh:b})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _A={};_A.version="0.18.5";var Uue=1252,dot=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zue=function(e){dot.indexOf(e)!=-1&&(Uue=e)};function fot(){zue(1252)}var C4=function(e){zue(e)};function hot(){C4(1200),fot()}function mot(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var _N=function(t){return String.fromCharCode(t)},cK=function(t){return String.fromCharCode(t)},bg,Op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function A4(e){for(var t="",r=0,n=0,i=0,a=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,i=e.charCodeAt(u++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=Op.charAt(a)+Op.charAt(o)+Op.charAt(l)+Op.charAt(c);return t}function Pm(e){var t="",r=0,n=0,i=0,a=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Op.indexOf(e.charAt(u++)),o=Op.indexOf(e.charAt(u++)),r=a<<2|o>>4,t+=String.fromCharCode(r),l=Op.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Op.indexOf(e.charAt(u++)),i=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var ts=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Um=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ux(e){return ts?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function uK(e){return ts?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var uh=function(t){return ts?Um(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function y6(e){if(typeof ArrayBuffer>"u")return uh(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function b5(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function pot(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var kc=ts?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Um(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function got(e){for(var t=[],r=0,n=e.length+250,i=ux(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|l>>6&15|(o&3)<<4,i[r++]=128|l&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(t.push(i.slice(0,r)),r=0,i=ux(65535),n=65530)}return t.push(i.slice(0,r)),kc(t)}var Zw=/\u0000/g,NN=/[\u0001-\u0006]/g;function _2(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ph(e,t){var r=""+e;return r.length>=t?r:Lo("0",t-r.length)+r}function eL(e,t){var r=""+e;return r.length>=t?r:Lo(" ",t-r.length)+r}function NA(e,t){var r=""+e;return r.length>=t?r:r+Lo(" ",t-r.length)}function xot(e,t){var r=""+Math.round(e);return r.length>=t?r:Lo("0",t-r.length)+r}function vot(e,t){var r=""+e;return r.length>=t?r:Lo("0",t-r.length)+r}var dK=Math.pow(2,32);function xv(e,t){if(e>dK||e<-dK)return xot(e,t);var r=Math.round(e);return vot(r,t)}function SA(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var fK=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_k=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yot(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Wo={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},hK={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bot={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function CA(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,o=1,l=0,c=1,u=0,f=0,h=Math.floor(i);u<t&&(h=Math.floor(i),l=h*o+a,f=h*u+c,!(i-h<5e-8));)i=1/(i-h),a=o,o=l,c=u,u=f;if(f>t&&(u>t?(f=c,l=a):(f=u,l=o)),!r)return[0,n*l,f];var g=Math.floor(n*l/f);return[g,n*l-g*f,f]}function SN(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,o=[],l={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=jot(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var Vue=new Date(1899,11,31,0,0,0),wot=Vue.getTime(),_ot=new Date(1900,2,1,0,0,0);function Wue(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=_ot&&(r+=24*60*60*1e3),(r-(wot+(e.getTimezoneOffset()-Vue.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function tL(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Not(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Sot(e){var t=e<0?12:11,r=tL(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Cot(e){var t=tL(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Aot(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Sot(e):t===10?r=e.toFixed(10).substr(0,12):r=Cot(e),tL(Not(r.toUpperCase()))}function jF(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Aot(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return d1(14,Wue(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jot(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Eot(e,t,r,n){var i="",a=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return _k[r.m-1][1];case 5:return _k[r.m-1][0];default:return _k[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return fK[r.q][0];default:return fK[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ph(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(i=ph(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var f=u>0?ph(c,u):"";return f}function Ip(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Hue=/%/g;function Tot(e,t,r){var n=t.replace(Hue,""),i=t.length-n.length;return vm(e,n,r*Math.pow(10,2*i))+Lo("%",i)}function kot(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return vm(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function que(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+que(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Gue=/# (\?+)( ?)\/( ?)(\d+)/;function Pot(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),o=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(o===0?Lo(" ",e[1].length+1+e[4].length):eL(o,e[1].length)+e[2]+"/"+e[3]+ph(l,e[4].length))}function Oot(e,t,r){return r+(t===0?"":""+t)+Lo(" ",e[1].length+2+e[4].length)}var Kue=/^#*0*\.([0#]+)/,Yue=/\).*[0#]/,Xue=/\(###\) ###\\?-####/;function wu(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function mK(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function pK(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Iot(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Fot(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function mf(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Yue)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mf("n",n,r):"("+mf("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return kot(e,t,r);if(t.indexOf("%")!==-1)return Tot(e,t,r);if(t.indexOf("E")!==-1)return que(t,r);if(t.charCodeAt(0)===36)return"$"+mf(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+xv(c,t.length);if(t.match(/^[#?]+$/))return i=xv(r,0),i==="0"&&(i=""),i.length>t.length?i:wu(t.substr(0,t.length-i.length))+i;if(a=t.match(Gue))return Pot(a,c,u);if(t.match(/^#+0+$/))return u+xv(c,t.length-t.indexOf("0"));if(a=t.match(Kue))return i=mK(r,a[1].length).replace(/^([^\.]+)$/,"$1."+wu(a[1])).replace(/\.$/,"."+wu(a[1])).replace(/\.(\d*)$/,function(S,b){return"."+b+Lo("0",wu(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+mK(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ip(xv(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mf(e,t,-r):Ip(""+(Math.floor(r)+Iot(r,a[1].length)))+"."+ph(pK(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return mf(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_2(mf(e,t.replace(/[\\-]/g,""),r)),o=0,_2(_2(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(t.match(Xue))return i=mf(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=CA(c,Math.pow(10,o)-1,!1),i=""+u,f=vm("n",a[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=NA(l[2],o),f.length<a[4].length&&(f=wu(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=CA(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?eL(l[1],o)+a[2]+"/"+a[3]+NA(l[2],o):Lo(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=xv(r,0),t.length<=i.length?i:wu(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,g=t.length-i.length-h;return wu(t.substr(0,h)+i+t.substr(t.length-g))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=pK(r,a[1].length),r<0?"-"+mf(e,t,-r):Ip(Fot(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?ph(0,3-S.length):"")+S})+"."+ph(o,a[1].length);switch(t){case"###,##0.00":return mf(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Ip(xv(c,0));return p!=="0"?u+p:"";case"###,###.00":return mf(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return mf(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Dot(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return vm(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Rot(e,t,r){var n=t.replace(Hue,""),i=t.length-n.length;return vm(e,n,r*Math.pow(10,2*i))+Lo("%",i)}function Jue(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Jue(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function e0(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Yue)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?e0("n",n,r):"("+e0("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Dot(e,t,r);if(t.indexOf("%")!==-1)return Rot(e,t,r);if(t.indexOf("E")!==-1)return Jue(t,r);if(t.charCodeAt(0)===36)return"$"+e0(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ph(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:wu(t.substr(0,t.length-i.length))+i;if(a=t.match(Gue))return Oot(a,c,u);if(t.match(/^#+0+$/))return u+ph(c,t.length-t.indexOf("0"));if(a=t.match(Kue))return i=(""+r).replace(/^([^\.]+)$/,"$1."+wu(a[1])).replace(/\.$/,"."+wu(a[1])),i=i.replace(/\.(\d*)$/,function(S,b){return"."+b+Lo("0",wu(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ip(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+e0(e,t,-r):Ip(""+r)+"."+Lo("0",a[1].length);if(a=t.match(/^#,#*,#0/))return e0(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_2(e0(e,t.replace(/[\\-]/g,""),r)),o=0,_2(_2(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(t.match(Xue))return i=e0(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=CA(c,Math.pow(10,o)-1,!1),i=""+u,f=vm("n",a[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=NA(l[2],o),f.length<a[4].length&&(f=wu(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=CA(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?eL(l[1],o)+a[2]+"/"+a[3]+NA(l[2],o):Lo(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:wu(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,g=t.length-i.length-h;return wu(t.substr(0,h)+i+t.substr(t.length-g))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+e0(e,t,-r):Ip(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?ph(0,3-S.length):"")+S})+"."+ph(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Ip(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return e0(e,t.slice(0,t.lastIndexOf(".")),r)+wu(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function vm(e,t,r){return(r|0)===r?e0(e,t,r):mf(e,t,r)}function Mot(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Zue=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Que(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":SA(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Zue))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Lot(e,t,r,n){for(var i=[],a="",o=0,l="",c="t",u,f,h,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!SA(e,o))throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(h=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++o;break;case"\\":var p=e.charAt(++o),S=p==="("||p===")"?p:"t";i[i.length]={t:S,v:p},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=SN(t,r,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=SN(t,r),u==null))return"";for(a=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var b={t:l,v:l};if(u==null&&(u=SN(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",o+=5,g="h"):(b.t="t",++o),u==null&&b.t==="T")return"";i[i.length]=b,c=l;break;case"[":for(a=l;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Zue)){if(u==null&&(u=SN(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Que(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=l;++o<e.length&&(l=e.charAt(o))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++o)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"t",v:l},++o;break}var N=0,C=0,A;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=g,c="h",N<1&&(N=1);break;case"s":(A=i[o].v.match(/\.0+$/))&&(C=Math.max(C,A[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&i[o].v.match(/[Hh]/)&&(N=1),N<2&&i[o].v.match(/[Mm]/)&&(N=2),N<3&&i[o].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",F;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Eot(i[o].t.charCodeAt(0),i[o].v,u,C),i[o].t="t";break;case"n":case"?":for(F=o+1;i[F]!=null&&((l=i[F].t)==="?"||l==="D"||(l===" "||l==="t")&&i[F+1]!=null&&(i[F+1].t==="?"||i[F+1].t==="t"&&i[F+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[F].v==="/"||i[F].v===" "&&i[F+1]!=null&&i[F+1].t=="?"));)i[o].v+=i[F].v,i[F]={v:"",t:";"},++F;T+=i[o].v,o=F-1;break;case"G":i[o].t="t",i[o].v=jF(t,r);break}var L="",B,M;if(T.length>0){T.charCodeAt(0)==40?(B=t<0&&T.charCodeAt(0)===45?-t:t,M=vm("n",T,B)):(B=t<0&&n>1?-t:t,M=vm("n",T,B),B<0&&i[0]&&i[0].t=="t"&&(M=M.substr(1),i[0].v="-"+i[0].v)),F=M.length-1;var W=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){W=o;break}var z=i.length;if(W===i.length&&M.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(F>=i[o].v.length-1?(F-=i[o].v.length,i[o].v=M.substr(F+1,i[o].v.length)):F<0?i[o].v="":(i[o].v=M.substr(0,F+1),F=-1),i[o].t="t",z=o);F>=0&&z<i.length&&(i[z].v=M.substr(0,F+1)+i[z].v)}else if(W!==i.length&&M.indexOf("E")===-1){for(F=M.indexOf(".")-1,o=W;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===W?i[o].v.indexOf(".")-1:i[o].v.length-1,L=i[o].v.substr(f+1);f>=0;--f)F>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(L=M.charAt(F--)+L);i[o].v=L,i[o].t="t",z=o}for(F>=0&&z<i.length&&(i[z].v=M.substr(0,F+1)+i[z].v),F=M.indexOf(".")+1,o=W;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==W)){for(f=i[o].v.indexOf(".")>-1&&o===W?i[o].v.indexOf(".")+1:0,L=i[o].v.substr(0,f);f<i[o].v.length;++f)F<M.length&&(L+=M.charAt(F++));i[o].v=L,i[o].t="t",z=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(B=n>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=vm(i[o].t,i[o].v,B),i[o].t="t");var Z="";for(o=0;o!==i.length;++o)i[o]!=null&&(Z+=i[o].v);return Z}var gK=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xK(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Bot(e,t){var r=Mot(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(gK),l=r[1].match(gK);return xK(t,o)?[n,r[0]]:xK(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,a]}function d1(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Wo)[e],n==null&&(n=r.table&&r.table[hK[e]]||Wo[hK[e]]),n==null&&(n=bot[e]||"General");break}if(SA(n,0))return jF(t,r);t instanceof Date&&(t=Wue(t,r.date1904));var i=Bot(n,t);if(SA(i[1]))return jF(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Lot(i[1],t,r,i[0])}function ede(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Wo[r]==null){t<0&&(t=r);continue}if(Wo[r]==e){t=r;break}}t<0&&(t=391)}return Wo[t]=e,t}function b6(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ede(e[t],t)}function w6(){Wo=yot()}var tde=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $ot(e){var t=typeof e=="number"?Wo[e]:e;return t=t.replace(tde,"(\\d+)"),new RegExp("^"+t+"$")}function Uot(e,t,r){var n=-1,i=-1,a=-1,o=-1,l=-1,c=-1;(t.match(tde)||[]).forEach(function(h,g){var p=parseInt(r[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:i=p;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&i==-1&&a==-1?f:u+"T"+f}var zot=function(){var e={};e.version="1.2.0";function t(){for(var M=0,W=new Array(256),z=0;z!=256;++z)M=z,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,W[z]=M;return typeof Int32Array<"u"?new Int32Array(W):W}var r=t();function n(M){var W=0,z=0,Z=0,K=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Z=0;Z!=256;++Z)K[Z]=M[Z];for(Z=0;Z!=256;++Z)for(z=M[Z],W=256+Z;W<4096;W+=256)z=K[W]=z>>>8^M[z&255];var q=[];for(Z=1;Z!=16;++Z)q[Z-1]=typeof Int32Array<"u"?K.subarray(Z*256,Z*256+256):K.slice(Z*256,Z*256+256);return q}var i=n(r),a=i[0],o=i[1],l=i[2],c=i[3],u=i[4],f=i[5],h=i[6],g=i[7],p=i[8],S=i[9],b=i[10],N=i[11],C=i[12],A=i[13],T=i[14];function F(M,W){for(var z=W^-1,Z=0,K=M.length;Z<K;)z=z>>>8^r[(z^M.charCodeAt(Z++))&255];return~z}function L(M,W){for(var z=W^-1,Z=M.length-15,K=0;K<Z;)z=T[M[K++]^z&255]^A[M[K++]^z>>8&255]^C[M[K++]^z>>16&255]^N[M[K++]^z>>>24]^b[M[K++]]^S[M[K++]]^p[M[K++]]^g[M[K++]]^h[M[K++]]^f[M[K++]]^u[M[K++]]^c[M[K++]]^l[M[K++]]^o[M[K++]]^a[M[K++]]^r[M[K++]];for(Z+=15;K<Z;)z=z>>>8^r[(z^M[K++])&255];return~z}function B(M,W){for(var z=W^-1,Z=0,K=M.length,q=0,ie=0;Z<K;)q=M.charCodeAt(Z++),q<128?z=z>>>8^r[(z^q)&255]:q<2048?(z=z>>>8^r[(z^(192|q>>6&31))&255],z=z>>>8^r[(z^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,ie=M.charCodeAt(Z++)&1023,z=z>>>8^r[(z^(240|q>>8&7))&255],z=z>>>8^r[(z^(128|q>>2&63))&255],z=z>>>8^r[(z^(128|ie>>6&15|(q&3)<<4))&255],z=z>>>8^r[(z^(128|ie&63))&255]):(z=z>>>8^r[(z^(224|q>>12&15))&255],z=z>>>8^r[(z^(128|q>>6&63))&255],z=z>>>8^r[(z^(128|q&63))&255]);return~z}return e.table=r,e.bstr=F,e.buf=L,e.str=B,e}(),bs=function(){var t={};t.version="1.2.1";function r(Fe,We){for(var Xe=Fe.split("/"),Qe=We.split("/"),Je=0,it=0,wt=Math.min(Xe.length,Qe.length);Je<wt;++Je){if(it=Xe[Je].length-Qe[Je].length)return it;if(Xe[Je]!=Qe[Je])return Xe[Je]<Qe[Je]?-1:1}return Xe.length-Qe.length}function n(Fe){if(Fe.charAt(Fe.length-1)=="/")return Fe.slice(0,-1).indexOf("/")===-1?Fe:n(Fe.slice(0,-1));var We=Fe.lastIndexOf("/");return We===-1?Fe:Fe.slice(0,We+1)}function i(Fe){if(Fe.charAt(Fe.length-1)=="/")return i(Fe.slice(0,-1));var We=Fe.lastIndexOf("/");return We===-1?Fe:Fe.slice(We+1)}function a(Fe,We){typeof We=="string"&&(We=new Date(We));var Xe=We.getHours();Xe=Xe<<6|We.getMinutes(),Xe=Xe<<5|We.getSeconds()>>>1,Fe.write_shift(2,Xe);var Qe=We.getFullYear()-1980;Qe=Qe<<4|We.getMonth()+1,Qe=Qe<<5|We.getDate(),Fe.write_shift(2,Qe)}function o(Fe){var We=Fe.read_shift(2)&65535,Xe=Fe.read_shift(2)&65535,Qe=new Date,Je=Xe&31;Xe>>>=5;var it=Xe&15;Xe>>>=4,Qe.setMilliseconds(0),Qe.setFullYear(Xe+1980),Qe.setMonth(it-1),Qe.setDate(Je);var wt=We&31;We>>>=5;var Pt=We&63;return We>>>=6,Qe.setHours(We),Qe.setMinutes(Pt),Qe.setSeconds(wt<<1),Qe}function l(Fe){wd(Fe,0);for(var We={},Xe=0;Fe.l<=Fe.length-4;){var Qe=Fe.read_shift(2),Je=Fe.read_shift(2),it=Fe.l+Je,wt={};switch(Qe){case 21589:Xe=Fe.read_shift(1),Xe&1&&(wt.mtime=Fe.read_shift(4)),Je>5&&(Xe&2&&(wt.atime=Fe.read_shift(4)),Xe&4&&(wt.ctime=Fe.read_shift(4))),wt.mtime&&(wt.mt=new Date(wt.mtime*1e3));break}Fe.l=it,We[Qe]=wt}return We}var c;function u(){return c||(c={})}function f(Fe,We){if(Fe[0]==80&&Fe[1]==75)return Di(Fe,We);if((Fe[0]|32)==109&&(Fe[1]|32)==105)return Ti(Fe,We);if(Fe.length<512)throw new Error("CFB file size "+Fe.length+" < 512");var Xe=3,Qe=512,Je=0,it=0,wt=0,Pt=0,St=0,Rt=[],Mt=Fe.slice(0,512);wd(Mt,0);var mr=h(Mt);switch(Xe=mr[0],Xe){case 3:Qe=512;break;case 4:Qe=4096;break;case 0:if(mr[1]==0)return Di(Fe,We);default:throw new Error("Major Version: Expected 3 or 4 saw "+Xe)}Qe!==512&&(Mt=Fe.slice(0,Qe),wd(Mt,28));var Cr=Fe.slice(0,Qe);g(Mt,Xe);var Ar=Mt.read_shift(4,"i");if(Xe===3&&Ar!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ar);Mt.l+=4,wt=Mt.read_shift(4,"i"),Mt.l+=4,Mt.chk("00100000","Mini Stream Cutoff Size: "),Pt=Mt.read_shift(4,"i"),Je=Mt.read_shift(4,"i"),St=Mt.read_shift(4,"i"),it=Mt.read_shift(4,"i");for(var Tr=-1,Pr=0;Pr<109&&(Tr=Mt.read_shift(4,"i"),!(Tr<0));++Pr)Rt[Pr]=Tr;var aa=p(Fe,Qe);N(St,it,aa,Qe,Rt);var Bt=A(aa,wt,Rt,Qe);Bt[wt].name="!Directory",Je>0&&Pt!==ie&&(Bt[Pt].name="!MiniFAT"),Bt[Rt[0]].name="!FAT",Bt.fat_addrs=Rt,Bt.ssz=Qe;var Ra={},Pa=[],Kn=[],au=[];T(wt,Bt,aa,Pa,Je,Ra,Kn,Pt),S(Kn,au,Pa),Pa.shift();var Ma={FileIndex:Kn,FullPaths:au};return We&&We.raw&&(Ma.raw={header:Cr,sectors:aa}),Ma}function h(Fe){if(Fe[Fe.l]==80&&Fe[Fe.l+1]==75)return[0,0];Fe.chk(ae,"Header Signature: "),Fe.l+=16;var We=Fe.read_shift(2,"u");return[Fe.read_shift(2,"u"),We]}function g(Fe,We){var Xe=9;switch(Fe.l+=2,Xe=Fe.read_shift(2)){case 9:if(We!=3)throw new Error("Sector Shift: Expected 9 saw "+Xe);break;case 12:if(We!=4)throw new Error("Sector Shift: Expected 12 saw "+Xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Xe)}Fe.chk("0600","Mini Sector Shift: "),Fe.chk("000000000000","Reserved: ")}function p(Fe,We){for(var Xe=Math.ceil(Fe.length/We)-1,Qe=[],Je=1;Je<Xe;++Je)Qe[Je-1]=Fe.slice(Je*We,(Je+1)*We);return Qe[Xe-1]=Fe.slice(Xe*We),Qe}function S(Fe,We,Xe){for(var Qe=0,Je=0,it=0,wt=0,Pt=0,St=Xe.length,Rt=[],Mt=[];Qe<St;++Qe)Rt[Qe]=Mt[Qe]=Qe,We[Qe]=Xe[Qe];for(;Pt<Mt.length;++Pt)Qe=Mt[Pt],Je=Fe[Qe].L,it=Fe[Qe].R,wt=Fe[Qe].C,Rt[Qe]===Qe&&(Je!==-1&&Rt[Je]!==Je&&(Rt[Qe]=Rt[Je]),it!==-1&&Rt[it]!==it&&(Rt[Qe]=Rt[it])),wt!==-1&&(Rt[wt]=Qe),Je!==-1&&Qe!=Rt[Qe]&&(Rt[Je]=Rt[Qe],Mt.lastIndexOf(Je)<Pt&&Mt.push(Je)),it!==-1&&Qe!=Rt[Qe]&&(Rt[it]=Rt[Qe],Mt.lastIndexOf(it)<Pt&&Mt.push(it));for(Qe=1;Qe<St;++Qe)Rt[Qe]===Qe&&(it!==-1&&Rt[it]!==it?Rt[Qe]=Rt[it]:Je!==-1&&Rt[Je]!==Je&&(Rt[Qe]=Rt[Je]));for(Qe=1;Qe<St;++Qe)if(Fe[Qe].type!==0){if(Pt=Qe,Pt!=Rt[Pt])do Pt=Rt[Pt],We[Qe]=We[Pt]+"/"+We[Qe];while(Pt!==0&&Rt[Pt]!==-1&&Pt!=Rt[Pt]);Rt[Qe]=-1}for(We[0]+="/",Qe=1;Qe<St;++Qe)Fe[Qe].type!==2&&(We[Qe]+="/")}function b(Fe,We,Xe){for(var Qe=Fe.start,Je=Fe.size,it=[],wt=Qe;Xe&&Je>0&&wt>=0;)it.push(We.slice(wt*q,wt*q+q)),Je-=q,wt=wg(Xe,wt*4);return it.length===0?ar(0):kc(it).slice(0,Fe.size)}function N(Fe,We,Xe,Qe,Je){var it=ie;if(Fe===ie){if(We!==0)throw new Error("DIFAT chain shorter than expected")}else if(Fe!==-1){var wt=Xe[Fe],Pt=(Qe>>>2)-1;if(!wt)return;for(var St=0;St<Pt&&(it=wg(wt,St*4))!==ie;++St)Je.push(it);N(wg(wt,Qe-4),We-1,Xe,Qe,Je)}}function C(Fe,We,Xe,Qe,Je){var it=[],wt=[];Je||(Je=[]);var Pt=Qe-1,St=0,Rt=0;for(St=We;St>=0;){Je[St]=!0,it[it.length]=St,wt.push(Fe[St]);var Mt=Xe[Math.floor(St*4/Qe)];if(Rt=St*4&Pt,Qe<4+Rt)throw new Error("FAT boundary crossed: "+St+" 4 "+Qe);if(!Fe[Mt])break;St=wg(Fe[Mt],Rt)}return{nodes:it,data:CK([wt])}}function A(Fe,We,Xe,Qe){var Je=Fe.length,it=[],wt=[],Pt=[],St=[],Rt=Qe-1,Mt=0,mr=0,Cr=0,Ar=0;for(Mt=0;Mt<Je;++Mt)if(Pt=[],Cr=Mt+We,Cr>=Je&&(Cr-=Je),!wt[Cr]){St=[];var Tr=[];for(mr=Cr;mr>=0;){Tr[mr]=!0,wt[mr]=!0,Pt[Pt.length]=mr,St.push(Fe[mr]);var Pr=Xe[Math.floor(mr*4/Qe)];if(Ar=mr*4&Rt,Qe<4+Ar)throw new Error("FAT boundary crossed: "+mr+" 4 "+Qe);if(!Fe[Pr]||(mr=wg(Fe[Pr],Ar),Tr[mr]))break}it[Cr]={nodes:Pt,data:CK([St])}}return it}function T(Fe,We,Xe,Qe,Je,it,wt,Pt){for(var St=0,Rt=Qe.length?2:0,Mt=We[Fe].data,mr=0,Cr=0,Ar;mr<Mt.length;mr+=128){var Tr=Mt.slice(mr,mr+128);wd(Tr,64),Cr=Tr.read_shift(2),Ar=sL(Tr,0,Cr-Rt),Qe.push(Ar);var Pr={name:Ar,type:Tr.read_shift(1),color:Tr.read_shift(1),L:Tr.read_shift(4,"i"),R:Tr.read_shift(4,"i"),C:Tr.read_shift(4,"i"),clsid:Tr.read_shift(16),state:Tr.read_shift(4,"i"),start:0,size:0},aa=Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2);aa!==0&&(Pr.ct=F(Tr,Tr.l-8));var Bt=Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2);Bt!==0&&(Pr.mt=F(Tr,Tr.l-8)),Pr.start=Tr.read_shift(4,"i"),Pr.size=Tr.read_shift(4,"i"),Pr.size<0&&Pr.start<0&&(Pr.size=Pr.type=0,Pr.start=ie,Pr.name=""),Pr.type===5?(St=Pr.start,Je>0&&St!==ie&&(We[St].name="!StreamData")):Pr.size>=4096?(Pr.storage="fat",We[Pr.start]===void 0&&(We[Pr.start]=C(Xe,Pr.start,We.fat_addrs,We.ssz)),We[Pr.start].name=Pr.name,Pr.content=We[Pr.start].data.slice(0,Pr.size)):(Pr.storage="minifat",Pr.size<0?Pr.size=0:St!==ie&&Pr.start!==ie&&We[St]&&(Pr.content=b(Pr,We[St].data,(We[Pt]||{}).data))),Pr.content&&wd(Pr.content,0),it[Ar]=Pr,wt.push(Pr)}}function F(Fe,We){return new Date((Sd(Fe,We+4)/1e7*Math.pow(2,32)+Sd(Fe,We)/1e7-11644473600)*1e3)}function L(Fe,We){return u(),f(c.readFileSync(Fe),We)}function B(Fe,We){var Xe=We&&We.type;switch(Xe||ts&&Buffer.isBuffer(Fe)&&(Xe="buffer"),Xe||"base64"){case"file":return L(Fe,We);case"base64":return f(uh(Pm(Fe)),We);case"binary":return f(uh(Fe),We)}return f(Fe,We)}function M(Fe,We){var Xe=We||{},Qe=Xe.root||"Root Entry";if(Fe.FullPaths||(Fe.FullPaths=[]),Fe.FileIndex||(Fe.FileIndex=[]),Fe.FullPaths.length!==Fe.FileIndex.length)throw new Error("inconsistent CFB structure");Fe.FullPaths.length===0&&(Fe.FullPaths[0]=Qe+"/",Fe.FileIndex[0]={name:Qe,type:5}),Xe.CLSID&&(Fe.FileIndex[0].clsid=Xe.CLSID),W(Fe)}function W(Fe){var We="Sh33tJ5";if(!bs.find(Fe,"/"+We)){var Xe=ar(4);Xe[0]=55,Xe[1]=Xe[3]=50,Xe[2]=54,Fe.FileIndex.push({name:We,type:2,content:Xe,size:4,L:69,R:69,C:69}),Fe.FullPaths.push(Fe.FullPaths[0]+We),z(Fe)}}function z(Fe,We){M(Fe);for(var Xe=!1,Qe=!1,Je=Fe.FullPaths.length-1;Je>=0;--Je){var it=Fe.FileIndex[Je];switch(it.type){case 0:Qe?Xe=!0:(Fe.FileIndex.pop(),Fe.FullPaths.pop());break;case 1:case 2:case 5:Qe=!0,isNaN(it.R*it.L*it.C)&&(Xe=!0),it.R>-1&&it.L>-1&&it.R==it.L&&(Xe=!0);break;default:Xe=!0;break}}if(!(!Xe&&!We)){var wt=new Date(1987,1,19),Pt=0,St=Object.create?Object.create(null):{},Rt=[];for(Je=0;Je<Fe.FullPaths.length;++Je)St[Fe.FullPaths[Je]]=!0,Fe.FileIndex[Je].type!==0&&Rt.push([Fe.FullPaths[Je],Fe.FileIndex[Je]]);for(Je=0;Je<Rt.length;++Je){var Mt=n(Rt[Je][0]);Qe=St[Mt],Qe||(Rt.push([Mt,{name:i(Mt).replace("/",""),type:1,clsid:se,ct:wt,mt:wt,content:null}]),St[Mt]=!0)}for(Rt.sort(function(Ar,Tr){return r(Ar[0],Tr[0])}),Fe.FullPaths=[],Fe.FileIndex=[],Je=0;Je<Rt.length;++Je)Fe.FullPaths[Je]=Rt[Je][0],Fe.FileIndex[Je]=Rt[Je][1];for(Je=0;Je<Rt.length;++Je){var mr=Fe.FileIndex[Je],Cr=Fe.FullPaths[Je];if(mr.name=i(Cr).replace("/",""),mr.L=mr.R=mr.C=-(mr.color=1),mr.size=mr.content?mr.content.length:0,mr.start=0,mr.clsid=mr.clsid||se,Je===0)mr.C=Rt.length>1?1:-1,mr.size=0,mr.type=5;else if(Cr.slice(-1)=="/"){for(Pt=Je+1;Pt<Rt.length&&n(Fe.FullPaths[Pt])!=Cr;++Pt);for(mr.C=Pt>=Rt.length?-1:Pt,Pt=Je+1;Pt<Rt.length&&n(Fe.FullPaths[Pt])!=n(Cr);++Pt);mr.R=Pt>=Rt.length?-1:Pt,mr.type=1}else n(Fe.FullPaths[Je+1]||"")==n(Cr)&&(mr.R=Je+1),mr.type=2}}}function Z(Fe,We){var Xe=We||{};if(Xe.fileType=="mad")return ln(Fe,Xe);switch(z(Fe),Xe.fileType){case"zip":return Wi(Fe,Xe)}var Qe=function(Ar){for(var Tr=0,Pr=0,aa=0;aa<Ar.FileIndex.length;++aa){var Bt=Ar.FileIndex[aa];if(Bt.content){var Ra=Bt.content.length;Ra>0&&(Ra<4096?Tr+=Ra+63>>6:Pr+=Ra+511>>9)}}for(var Pa=Ar.FullPaths.length+3>>2,Kn=Tr+7>>3,au=Tr+127>>7,Ma=Kn+Pr+Pa+au,ma=Ma+127>>7,wn=ma<=109?0:Math.ceil((ma-109)/127);Ma+ma+wn+127>>7>ma;)wn=++ma<=109?0:Math.ceil((ma-109)/127);var Cl=[1,wn,ma,au,Pa,Pr,Tr,0];return Ar.FileIndex[0].size=Tr<<6,Cl[7]=(Ar.FileIndex[0].start=Cl[0]+Cl[1]+Cl[2]+Cl[3]+Cl[4]+Cl[5])+(Cl[6]+7>>3),Cl}(Fe),Je=ar(Qe[7]<<9),it=0,wt=0;{for(it=0;it<8;++it)Je.write_shift(1,X[it]);for(it=0;it<8;++it)Je.write_shift(2,0);for(Je.write_shift(2,62),Je.write_shift(2,3),Je.write_shift(2,65534),Je.write_shift(2,9),Je.write_shift(2,6),it=0;it<3;++it)Je.write_shift(2,0);for(Je.write_shift(4,0),Je.write_shift(4,Qe[2]),Je.write_shift(4,Qe[0]+Qe[1]+Qe[2]+Qe[3]-1),Je.write_shift(4,0),Je.write_shift(4,4096),Je.write_shift(4,Qe[3]?Qe[0]+Qe[1]+Qe[2]-1:ie),Je.write_shift(4,Qe[3]),Je.write_shift(-4,Qe[1]?Qe[0]-1:ie),Je.write_shift(4,Qe[1]),it=0;it<109;++it)Je.write_shift(-4,it<Qe[2]?Qe[1]+it:-1)}if(Qe[1])for(wt=0;wt<Qe[1];++wt){for(;it<236+wt*127;++it)Je.write_shift(-4,it<Qe[2]?Qe[1]+it:-1);Je.write_shift(-4,wt===Qe[1]-1?ie:wt+1)}var Pt=function(Ar){for(wt+=Ar;it<wt-1;++it)Je.write_shift(-4,it+1);Ar&&(++it,Je.write_shift(-4,ie))};for(wt=it=0,wt+=Qe[1];it<wt;++it)Je.write_shift(-4,he.DIFSECT);for(wt+=Qe[2];it<wt;++it)Je.write_shift(-4,he.FATSECT);Pt(Qe[3]),Pt(Qe[4]);for(var St=0,Rt=0,Mt=Fe.FileIndex[0];St<Fe.FileIndex.length;++St)Mt=Fe.FileIndex[St],Mt.content&&(Rt=Mt.content.length,!(Rt<4096)&&(Mt.start=wt,Pt(Rt+511>>9)));for(Pt(Qe[6]+7>>3);Je.l&511;)Je.write_shift(-4,he.ENDOFCHAIN);for(wt=it=0,St=0;St<Fe.FileIndex.length;++St)Mt=Fe.FileIndex[St],Mt.content&&(Rt=Mt.content.length,!(!Rt||Rt>=4096)&&(Mt.start=wt,Pt(Rt+63>>6)));for(;Je.l&511;)Je.write_shift(-4,he.ENDOFCHAIN);for(it=0;it<Qe[4]<<2;++it){var mr=Fe.FullPaths[it];if(!mr||mr.length===0){for(St=0;St<17;++St)Je.write_shift(4,0);for(St=0;St<3;++St)Je.write_shift(4,-1);for(St=0;St<12;++St)Je.write_shift(4,0);continue}Mt=Fe.FileIndex[it],it===0&&(Mt.start=Mt.size?Mt.start-1:ie);var Cr=it===0&&Xe.root||Mt.name;if(Rt=2*(Cr.length+1),Je.write_shift(64,Cr,"utf16le"),Je.write_shift(2,Rt),Je.write_shift(1,Mt.type),Je.write_shift(1,Mt.color),Je.write_shift(-4,Mt.L),Je.write_shift(-4,Mt.R),Je.write_shift(-4,Mt.C),Mt.clsid)Je.write_shift(16,Mt.clsid,"hex");else for(St=0;St<4;++St)Je.write_shift(4,0);Je.write_shift(4,Mt.state||0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,Mt.start),Je.write_shift(4,Mt.size),Je.write_shift(4,0)}for(it=1;it<Fe.FileIndex.length;++it)if(Mt=Fe.FileIndex[it],Mt.size>=4096)if(Je.l=Mt.start+1<<9,ts&&Buffer.isBuffer(Mt.content))Mt.content.copy(Je,Je.l,0,Mt.size),Je.l+=Mt.size+511&-512;else{for(St=0;St<Mt.size;++St)Je.write_shift(1,Mt.content[St]);for(;St&511;++St)Je.write_shift(1,0)}for(it=1;it<Fe.FileIndex.length;++it)if(Mt=Fe.FileIndex[it],Mt.size>0&&Mt.size<4096)if(ts&&Buffer.isBuffer(Mt.content))Mt.content.copy(Je,Je.l,0,Mt.size),Je.l+=Mt.size+63&-64;else{for(St=0;St<Mt.size;++St)Je.write_shift(1,Mt.content[St]);for(;St&63;++St)Je.write_shift(1,0)}if(ts)Je.l=Je.length;else for(;Je.l<Je.length;)Je.write_shift(1,0);return Je}function K(Fe,We){var Xe=Fe.FullPaths.map(function(St){return St.toUpperCase()}),Qe=Xe.map(function(St){var Rt=St.split("/");return Rt[Rt.length-(St.slice(-1)=="/"?2:1)]}),Je=!1;We.charCodeAt(0)===47?(Je=!0,We=Xe[0].slice(0,-1)+We):Je=We.indexOf("/")!==-1;var it=We.toUpperCase(),wt=Je===!0?Xe.indexOf(it):Qe.indexOf(it);if(wt!==-1)return Fe.FileIndex[wt];var Pt=!it.match(NN);for(it=it.replace(Zw,""),Pt&&(it=it.replace(NN,"!")),wt=0;wt<Xe.length;++wt)if((Pt?Xe[wt].replace(NN,"!"):Xe[wt]).replace(Zw,"")==it||(Pt?Qe[wt].replace(NN,"!"):Qe[wt]).replace(Zw,"")==it)return Fe.FileIndex[wt];return null}var q=64,ie=-2,ae="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",he={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ie,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(Fe,We,Xe){u();var Qe=Z(Fe,Xe);c.writeFileSync(We,Qe)}function ge(Fe){for(var We=new Array(Fe.length),Xe=0;Xe<Fe.length;++Xe)We[Xe]=String.fromCharCode(Fe[Xe]);return We.join("")}function we(Fe,We){var Xe=Z(Fe,We);switch(We&&We.type||"buffer"){case"file":return u(),c.writeFileSync(We.filename,Xe),Xe;case"binary":return typeof Xe=="string"?Xe:ge(Xe);case"base64":return A4(typeof Xe=="string"?Xe:ge(Xe));case"buffer":if(ts)return Buffer.isBuffer(Xe)?Xe:Um(Xe);case"array":return typeof Xe=="string"?uh(Xe):Xe}return Xe}var Ce;function Q(Fe){try{var We=Fe.InflateRaw,Xe=new We;if(Xe._processChunk(new Uint8Array([3,0]),Xe._finishFlushFlag),Xe.bytesRead)Ce=Fe;else throw new Error("zlib does not expose bytesRead")}catch(Qe){console.error("cannot use native zlib: "+(Qe.message||Qe))}}function le(Fe,We){if(!Ce)return ya(Fe,We);var Xe=Ce.InflateRaw,Qe=new Xe,Je=Qe._processChunk(Fe.slice(Fe.l),Qe._finishFlushFlag);return Fe.l+=Qe.bytesRead,Je}function ne(Fe){return Ce?Ce.deflateRawSync(Fe):na(Fe)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(Fe){var We=(Fe<<1|Fe<<11)&139536|(Fe<<5|Fe<<15)&558144;return(We>>16|We>>8|We)&255}for(var Se=typeof Uint8Array<"u",je=Se?new Uint8Array(256):[],Ge=0;Ge<256;++Ge)je[Ge]=Ne(Ge);function De(Fe,We){var Xe=je[Fe&255];return We<=8?Xe>>>8-We:(Xe=Xe<<8|je[Fe>>8&255],We<=16?Xe>>>16-We:(Xe=Xe<<8|je[Fe>>16&255],Xe>>>24-We))}function at(Fe,We){var Xe=We&7,Qe=We>>>3;return(Fe[Qe]|(Xe<=6?0:Fe[Qe+1]<<8))>>>Xe&3}function ot(Fe,We){var Xe=We&7,Qe=We>>>3;return(Fe[Qe]|(Xe<=5?0:Fe[Qe+1]<<8))>>>Xe&7}function ht(Fe,We){var Xe=We&7,Qe=We>>>3;return(Fe[Qe]|(Xe<=4?0:Fe[Qe+1]<<8))>>>Xe&15}function Ue(Fe,We){var Xe=We&7,Qe=We>>>3;return(Fe[Qe]|(Xe<=3?0:Fe[Qe+1]<<8))>>>Xe&31}function Ct(Fe,We){var Xe=We&7,Qe=We>>>3;return(Fe[Qe]|(Xe<=1?0:Fe[Qe+1]<<8))>>>Xe&127}function tr(Fe,We,Xe){var Qe=We&7,Je=We>>>3,it=(1<<Xe)-1,wt=Fe[Je]>>>Qe;return Xe<8-Qe||(wt|=Fe[Je+1]<<8-Qe,Xe<16-Qe)||(wt|=Fe[Je+2]<<16-Qe,Xe<24-Qe)||(wt|=Fe[Je+3]<<24-Qe),wt&it}function Ot(Fe,We,Xe){var Qe=We&7,Je=We>>>3;return Qe<=5?Fe[Je]|=(Xe&7)<<Qe:(Fe[Je]|=Xe<<Qe&255,Fe[Je+1]=(Xe&7)>>8-Qe),We+3}function xr(Fe,We,Xe){var Qe=We&7,Je=We>>>3;return Xe=(Xe&1)<<Qe,Fe[Je]|=Xe,We+1}function st(Fe,We,Xe){var Qe=We&7,Je=We>>>3;return Xe<<=Qe,Fe[Je]|=Xe&255,Xe>>>=8,Fe[Je+1]=Xe,We+8}function lr(Fe,We,Xe){var Qe=We&7,Je=We>>>3;return Xe<<=Qe,Fe[Je]|=Xe&255,Xe>>>=8,Fe[Je+1]=Xe&255,Fe[Je+2]=Xe>>>8,We+16}function _r(Fe,We){var Xe=Fe.length,Qe=2*Xe>We?2*Xe:We+5,Je=0;if(Xe>=We)return Fe;if(ts){var it=uK(Qe);if(Fe.copy)Fe.copy(it);else for(;Je<Fe.length;++Je)it[Je]=Fe[Je];return it}else if(Se){var wt=new Uint8Array(Qe);if(wt.set)wt.set(Fe);else for(;Je<Xe;++Je)wt[Je]=Fe[Je];return wt}return Fe.length=Qe,Fe}function kr(Fe){for(var We=new Array(Fe),Xe=0;Xe<Fe;++Xe)We[Xe]=0;return We}function Gn(Fe,We,Xe){var Qe=1,Je=0,it=0,wt=0,Pt=0,St=Fe.length,Rt=Se?new Uint16Array(32):kr(32);for(it=0;it<32;++it)Rt[it]=0;for(it=St;it<Xe;++it)Fe[it]=0;St=Fe.length;var Mt=Se?new Uint16Array(St):kr(St);for(it=0;it<St;++it)Rt[Je=Fe[it]]++,Qe<Je&&(Qe=Je),Mt[it]=0;for(Rt[0]=0,it=1;it<=Qe;++it)Rt[it+16]=Pt=Pt+Rt[it-1]<<1;for(it=0;it<St;++it)Pt=Fe[it],Pt!=0&&(Mt[it]=Rt[Pt+16]++);var mr=0;for(it=0;it<St;++it)if(mr=Fe[it],mr!=0)for(Pt=De(Mt[it],Qe)>>Qe-mr,wt=(1<<Qe+4-mr)-1;wt>=0;--wt)We[Pt|wt<<mr]=mr&15|it<<4;return Qe}var sn=Se?new Uint16Array(512):kr(512),Jn=Se?new Uint16Array(32):kr(32);if(!Se){for(var ea=0;ea<512;++ea)sn[ea]=0;for(ea=0;ea<32;++ea)Jn[ea]=0}(function(){for(var Fe=[],We=0;We<32;We++)Fe.push(5);Gn(Fe,Jn,32);var Xe=[];for(We=0;We<=143;We++)Xe.push(8);for(;We<=255;We++)Xe.push(9);for(;We<=279;We++)Xe.push(7);for(;We<=287;We++)Xe.push(8);Gn(Xe,sn,288)})();var yn=function(){for(var We=Se?new Uint8Array(32768):[],Xe=0,Qe=0;Xe<xe.length-1;++Xe)for(;Qe<xe[Xe+1];++Qe)We[Qe]=Xe;for(;Qe<32768;++Qe)We[Qe]=29;var Je=Se?new Uint8Array(259):[];for(Xe=0,Qe=0;Xe<pe.length-1;++Xe)for(;Qe<pe[Xe+1];++Qe)Je[Qe]=Xe;function it(Pt,St){for(var Rt=0;Rt<Pt.length;){var Mt=Math.min(65535,Pt.length-Rt),mr=Rt+Mt==Pt.length;for(St.write_shift(1,+mr),St.write_shift(2,Mt),St.write_shift(2,~Mt&65535);Mt-- >0;)St[St.l++]=Pt[Rt++]}return St.l}function wt(Pt,St){for(var Rt=0,Mt=0,mr=Se?new Uint16Array(32768):[];Mt<Pt.length;){var Cr=Math.min(65535,Pt.length-Mt);if(Cr<10){for(Rt=Ot(St,Rt,+(Mt+Cr==Pt.length)),Rt&7&&(Rt+=8-(Rt&7)),St.l=Rt/8|0,St.write_shift(2,Cr),St.write_shift(2,~Cr&65535);Cr-- >0;)St[St.l++]=Pt[Mt++];Rt=St.l*8;continue}Rt=Ot(St,Rt,+(Mt+Cr==Pt.length)+2);for(var Ar=0;Cr-- >0;){var Tr=Pt[Mt];Ar=(Ar<<5^Tr)&32767;var Pr=-1,aa=0;if((Pr=mr[Ar])&&(Pr|=Mt&-32768,Pr>Mt&&(Pr-=32768),Pr<Mt))for(;Pt[Pr+aa]==Pt[Mt+aa]&&aa<250;)++aa;if(aa>2){Tr=Je[aa],Tr<=22?Rt=st(St,Rt,je[Tr+1]>>1)-1:(st(St,Rt,3),Rt+=5,st(St,Rt,je[Tr-23]>>5),Rt+=3);var Bt=Tr<8?0:Tr-4>>2;Bt>0&&(lr(St,Rt,aa-pe[Tr]),Rt+=Bt),Tr=We[Mt-Pr],Rt=st(St,Rt,je[Tr]>>3),Rt-=3;var Ra=Tr<4?0:Tr-2>>1;Ra>0&&(lr(St,Rt,Mt-Pr-xe[Tr]),Rt+=Ra);for(var Pa=0;Pa<aa;++Pa)mr[Ar]=Mt&32767,Ar=(Ar<<5^Pt[Mt])&32767,++Mt;Cr-=aa-1}else Tr<=143?Tr=Tr+48:Rt=xr(St,Rt,1),Rt=st(St,Rt,je[Tr]),mr[Ar]=Mt&32767,++Mt}Rt=st(St,Rt,0)-1}return St.l=(Rt+7)/8|0,St.l}return function(St,Rt){return St.length<8?it(St,Rt):wt(St,Rt)}}();function na(Fe){var We=ar(50+Math.floor(Fe.length*1.1)),Xe=yn(Fe,We);return We.slice(0,Xe)}var Yr=Se?new Uint16Array(32768):kr(32768),ws=Se?new Uint16Array(32768):kr(32768),Mn=Se?new Uint16Array(128):kr(128),Nr=1,An=1;function pn(Fe,We){var Xe=Ue(Fe,We)+257;We+=5;var Qe=Ue(Fe,We)+1;We+=5;var Je=ht(Fe,We)+4;We+=4;for(var it=0,wt=Se?new Uint8Array(19):kr(19),Pt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],St=1,Rt=Se?new Uint8Array(8):kr(8),Mt=Se?new Uint8Array(8):kr(8),mr=wt.length,Cr=0;Cr<Je;++Cr)wt[ee[Cr]]=it=ot(Fe,We),St<it&&(St=it),Rt[it]++,We+=3;var Ar=0;for(Rt[0]=0,Cr=1;Cr<=St;++Cr)Mt[Cr]=Ar=Ar+Rt[Cr-1]<<1;for(Cr=0;Cr<mr;++Cr)(Ar=wt[Cr])!=0&&(Pt[Cr]=Mt[Ar]++);var Tr=0;for(Cr=0;Cr<mr;++Cr)if(Tr=wt[Cr],Tr!=0){Ar=je[Pt[Cr]]>>8-Tr;for(var Pr=(1<<7-Tr)-1;Pr>=0;--Pr)Mn[Ar|Pr<<Tr]=Tr&7|Cr<<3}var aa=[];for(St=1;aa.length<Xe+Qe;)switch(Ar=Mn[Ct(Fe,We)],We+=Ar&7,Ar>>>=3){case 16:for(it=3+at(Fe,We),We+=2,Ar=aa[aa.length-1];it-- >0;)aa.push(Ar);break;case 17:for(it=3+ot(Fe,We),We+=3;it-- >0;)aa.push(0);break;case 18:for(it=11+Ct(Fe,We),We+=7;it-- >0;)aa.push(0);break;default:aa.push(Ar),St<Ar&&(St=Ar);break}var Bt=aa.slice(0,Xe),Ra=aa.slice(Xe);for(Cr=Xe;Cr<286;++Cr)Bt[Cr]=0;for(Cr=Qe;Cr<30;++Cr)Ra[Cr]=0;return Nr=Gn(Bt,Yr,286),An=Gn(Ra,ws,30),We}function Va(Fe,We){if(Fe[0]==3&&!(Fe[1]&3))return[ux(We),2];for(var Xe=0,Qe=0,Je=uK(We||1<<18),it=0,wt=Je.length>>>0,Pt=0,St=0;!(Qe&1);){if(Qe=ot(Fe,Xe),Xe+=3,Qe>>>1)Qe>>1==1?(Pt=9,St=5):(Xe=pn(Fe,Xe),Pt=Nr,St=An);else{Xe&7&&(Xe+=8-(Xe&7));var Rt=Fe[Xe>>>3]|Fe[(Xe>>>3)+1]<<8;if(Xe+=32,Rt>0)for(!We&&wt<it+Rt&&(Je=_r(Je,it+Rt),wt=Je.length);Rt-- >0;)Je[it++]=Fe[Xe>>>3],Xe+=8;continue}for(;;){!We&&wt<it+32767&&(Je=_r(Je,it+32767),wt=Je.length);var Mt=tr(Fe,Xe,Pt),mr=Qe>>>1==1?sn[Mt]:Yr[Mt];if(Xe+=mr&15,mr>>>=4,!(mr>>>8&255))Je[it++]=mr;else{if(mr==256)break;mr-=257;var Cr=mr<8?0:mr-4>>2;Cr>5&&(Cr=0);var Ar=it+pe[mr];Cr>0&&(Ar+=tr(Fe,Xe,Cr),Xe+=Cr),Mt=tr(Fe,Xe,St),mr=Qe>>>1==1?Jn[Mt]:ws[Mt],Xe+=mr&15,mr>>>=4;var Tr=mr<4?0:mr-2>>1,Pr=xe[mr];for(Tr>0&&(Pr+=tr(Fe,Xe,Tr),Xe+=Tr),!We&&wt<Ar&&(Je=_r(Je,Ar+100),wt=Je.length);it<Ar;)Je[it]=Je[it-Pr],++it}}}return We?[Je,Xe+7>>>3]:[Je.slice(0,it),Xe+7>>>3]}function ya(Fe,We){var Xe=Fe.slice(Fe.l||0),Qe=Va(Xe,We);return Fe.l+=Qe[1],Qe[0]}function ol(Fe,We){if(Fe)typeof console<"u"&&console.error(We);else throw new Error(We)}function Di(Fe,We){var Xe=Fe;wd(Xe,0);var Qe=[],Je=[],it={FileIndex:Qe,FullPaths:Je};M(it,{root:We.root});for(var wt=Xe.length-4;(Xe[wt]!=80||Xe[wt+1]!=75||Xe[wt+2]!=5||Xe[wt+3]!=6)&&wt>=0;)--wt;Xe.l=wt+4,Xe.l+=4;var Pt=Xe.read_shift(2);Xe.l+=6;var St=Xe.read_shift(4);for(Xe.l=St,wt=0;wt<Pt;++wt){Xe.l+=20;var Rt=Xe.read_shift(4),Mt=Xe.read_shift(4),mr=Xe.read_shift(2),Cr=Xe.read_shift(2),Ar=Xe.read_shift(2);Xe.l+=8;var Tr=Xe.read_shift(4),Pr=l(Xe.slice(Xe.l+mr,Xe.l+mr+Cr));Xe.l+=mr+Cr+Ar;var aa=Xe.l;Xe.l=Tr+4,fa(Xe,Rt,Mt,it,Pr),Xe.l=aa}return it}function fa(Fe,We,Xe,Qe,Je){Fe.l+=2;var it=Fe.read_shift(2),wt=Fe.read_shift(2),Pt=o(Fe);if(it&8257)throw new Error("Unsupported ZIP encryption");for(var St=Fe.read_shift(4),Rt=Fe.read_shift(4),Mt=Fe.read_shift(4),mr=Fe.read_shift(2),Cr=Fe.read_shift(2),Ar="",Tr=0;Tr<mr;++Tr)Ar+=String.fromCharCode(Fe[Fe.l++]);if(Cr){var Pr=l(Fe.slice(Fe.l,Fe.l+Cr));(Pr[21589]||{}).mt&&(Pt=Pr[21589].mt),((Je||{})[21589]||{}).mt&&(Pt=Je[21589].mt)}Fe.l+=Cr;var aa=Fe.slice(Fe.l,Fe.l+Rt);switch(wt){case 8:aa=le(Fe,Mt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+wt)}var Bt=!1;it&8&&(St=Fe.read_shift(4),St==134695760&&(St=Fe.read_shift(4),Bt=!0),Rt=Fe.read_shift(4),Mt=Fe.read_shift(4)),Rt!=We&&ol(Bt,"Bad compressed size: "+We+" != "+Rt),Mt!=Xe&&ol(Bt,"Bad uncompressed size: "+Xe+" != "+Mt),sa(Qe,Ar,aa,{unsafe:!0,mt:Pt})}function Wi(Fe,We){var Xe=We||{},Qe=[],Je=[],it=ar(1),wt=Xe.compression?8:0,Pt=0,St=0,Rt=0,Mt=0,mr=0,Cr=Fe.FullPaths[0],Ar=Cr,Tr=Fe.FileIndex[0],Pr=[],aa=0;for(St=1;St<Fe.FullPaths.length;++St)if(Ar=Fe.FullPaths[St].slice(Cr.length),Tr=Fe.FileIndex[St],!(!Tr.size||!Tr.content||Ar=="Sh33tJ5")){var Bt=Mt,Ra=ar(Ar.length);for(Rt=0;Rt<Ar.length;++Rt)Ra.write_shift(1,Ar.charCodeAt(Rt)&127);Ra=Ra.slice(0,Ra.l),Pr[mr]=zot.buf(Tr.content,0);var Pa=Tr.content;wt==8&&(Pa=ne(Pa)),it=ar(30),it.write_shift(4,67324752),it.write_shift(2,20),it.write_shift(2,Pt),it.write_shift(2,wt),Tr.mt?a(it,Tr.mt):it.write_shift(4,0),it.write_shift(-4,Pr[mr]),it.write_shift(4,Pa.length),it.write_shift(4,Tr.content.length),it.write_shift(2,Ra.length),it.write_shift(2,0),Mt+=it.length,Qe.push(it),Mt+=Ra.length,Qe.push(Ra),Mt+=Pa.length,Qe.push(Pa),it=ar(46),it.write_shift(4,33639248),it.write_shift(2,0),it.write_shift(2,20),it.write_shift(2,Pt),it.write_shift(2,wt),it.write_shift(4,0),it.write_shift(-4,Pr[mr]),it.write_shift(4,Pa.length),it.write_shift(4,Tr.content.length),it.write_shift(2,Ra.length),it.write_shift(2,0),it.write_shift(2,0),it.write_shift(2,0),it.write_shift(2,0),it.write_shift(4,0),it.write_shift(4,Bt),aa+=it.l,Je.push(it),aa+=Ra.length,Je.push(Ra),++mr}return it=ar(22),it.write_shift(4,101010256),it.write_shift(2,0),it.write_shift(2,0),it.write_shift(2,mr),it.write_shift(2,mr),it.write_shift(4,aa),it.write_shift(4,Mt),it.write_shift(2,0),kc([kc(Qe),kc(Je),it])}var Za={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function yr(Fe,We){if(Fe.ctype)return Fe.ctype;var Xe=Fe.name||"",Qe=Xe.match(/\.([^\.]+)$/);return Qe&&Za[Qe[1]]||We&&(Qe=(Xe=We).match(/[\.\\]([^\.\\])+$/),Qe&&Za[Qe[1]])?Za[Qe[1]]:"application/octet-stream"}function zr(Fe){for(var We=A4(Fe),Xe=[],Qe=0;Qe<We.length;Qe+=76)Xe.push(We.slice(Qe,Qe+76));return Xe.join(`\r
`)+`\r
`}function ba(Fe){var We=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Rt){var Mt=Rt.charCodeAt(0).toString(16).toUpperCase();return"="+(Mt.length==1?"0"+Mt:Mt)});We=We.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),We.charAt(0)==`
`&&(We="=0D"+We.slice(1)),We=We.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Xe=[],Qe=We.split(`\r
`),Je=0;Je<Qe.length;++Je){var it=Qe[Je];if(it.length==0){Xe.push("");continue}for(var wt=0;wt<it.length;){var Pt=76,St=it.slice(wt,wt+Pt);St.charAt(Pt-1)=="="?Pt--:St.charAt(Pt-2)=="="?Pt-=2:St.charAt(Pt-3)=="="&&(Pt-=3),St=it.slice(wt,wt+Pt),wt+=Pt,wt<it.length&&(St+="="),Xe.push(St)}}return Xe.join(`\r
`)}function Xr(Fe){for(var We=[],Xe=0;Xe<Fe.length;++Xe){for(var Qe=Fe[Xe];Xe<=Fe.length&&Qe.charAt(Qe.length-1)=="=";)Qe=Qe.slice(0,Qe.length-1)+Fe[++Xe];We.push(Qe)}for(var Je=0;Je<We.length;++Je)We[Je]=We[Je].replace(/[=][0-9A-Fa-f]{2}/g,function(it){return String.fromCharCode(parseInt(it.slice(1),16))});return uh(We.join(`\r
`))}function Ei(Fe,We,Xe){for(var Qe="",Je="",it="",wt,Pt=0;Pt<10;++Pt){var St=We[Pt];if(!St||St.match(/^\s*$/))break;var Rt=St.match(/^(.*?):\s*([^\s].*)$/);if(Rt)switch(Rt[1].toLowerCase()){case"content-location":Qe=Rt[2].trim();break;case"content-type":it=Rt[2].trim();break;case"content-transfer-encoding":Je=Rt[2].trim();break}}switch(++Pt,Je.toLowerCase()){case"base64":wt=uh(Pm(We.slice(Pt).join("")));break;case"quoted-printable":wt=Xr(We.slice(Pt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Je)}var Mt=sa(Fe,Qe.slice(Xe.length),wt,{unsafe:!0});it&&(Mt.ctype=it)}function Ti(Fe,We){if(ge(Fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Xe=We&&We.root||"",Qe=(ts&&Buffer.isBuffer(Fe)?Fe.toString("binary"):ge(Fe)).split(`\r
`),Je=0,it="";for(Je=0;Je<Qe.length;++Je)if(it=Qe[Je],!!/^Content-Location:/i.test(it)&&(it=it.slice(it.indexOf("file")),Xe||(Xe=it.slice(0,it.lastIndexOf("/")+1)),it.slice(0,Xe.length)!=Xe))for(;Xe.length>0&&(Xe=Xe.slice(0,Xe.length-1),Xe=Xe.slice(0,Xe.lastIndexOf("/")+1),it.slice(0,Xe.length)!=Xe););var wt=(Qe[1]||"").match(/boundary="(.*?)"/);if(!wt)throw new Error("MAD cannot find boundary");var Pt="--"+(wt[1]||""),St=[],Rt=[],Mt={FileIndex:St,FullPaths:Rt};M(Mt);var mr,Cr=0;for(Je=0;Je<Qe.length;++Je){var Ar=Qe[Je];Ar!==Pt&&Ar!==Pt+"--"||(Cr++&&Ei(Mt,Qe.slice(mr,Je),Xe),mr=Je)}return Mt}function ln(Fe,We){var Xe=We||{},Qe=Xe.boundary||"SheetJS";Qe="------="+Qe;for(var Je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Qe.slice(2)+'"',"","",""],it=Fe.FullPaths[0],wt=it,Pt=Fe.FileIndex[0],St=1;St<Fe.FullPaths.length;++St)if(wt=Fe.FullPaths[St].slice(it.length),Pt=Fe.FileIndex[St],!(!Pt.size||!Pt.content||wt=="Sh33tJ5")){wt=wt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(aa){return"_x"+aa.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(aa){return"_u"+aa.charCodeAt(0).toString(16)+"_"});for(var Rt=Pt.content,Mt=ts&&Buffer.isBuffer(Rt)?Rt.toString("binary"):ge(Rt),mr=0,Cr=Math.min(1024,Mt.length),Ar=0,Tr=0;Tr<=Cr;++Tr)(Ar=Mt.charCodeAt(Tr))>=32&&Ar<128&&++mr;var Pr=mr>=Cr*4/5;Je.push(Qe),Je.push("Content-Location: "+(Xe.root||"file:///C:/SheetJS/")+wt),Je.push("Content-Transfer-Encoding: "+(Pr?"quoted-printable":"base64")),Je.push("Content-Type: "+yr(Pt,wt)),Je.push(""),Je.push(Pr?ba(Mt):zr(Mt))}return Je.push(Qe+`--\r
`),Je.join(`\r
`)}function ms(Fe){var We={};return M(We,Fe),We}function sa(Fe,We,Xe,Qe){var Je=Qe&&Qe.unsafe;Je||M(Fe);var it=!Je&&bs.find(Fe,We);if(!it){var wt=Fe.FullPaths[0];We.slice(0,wt.length)==wt?wt=We:(wt.slice(-1)!="/"&&(wt+="/"),wt=(wt+We).replace("//","/")),it={name:i(We),type:2},Fe.FileIndex.push(it),Fe.FullPaths.push(wt),Je||bs.utils.cfb_gc(Fe)}return it.content=Xe,it.size=Xe?Xe.length:0,Qe&&(Qe.CLSID&&(it.clsid=Qe.CLSID),Qe.mt&&(it.mt=Qe.mt),Qe.ct&&(it.ct=Qe.ct)),it}function ki(Fe,We){M(Fe);var Xe=bs.find(Fe,We);if(Xe){for(var Qe=0;Qe<Fe.FileIndex.length;++Qe)if(Fe.FileIndex[Qe]==Xe)return Fe.FileIndex.splice(Qe,1),Fe.FullPaths.splice(Qe,1),!0}return!1}function si(Fe,We,Xe){M(Fe);var Qe=bs.find(Fe,We);if(Qe){for(var Je=0;Je<Fe.FileIndex.length;++Je)if(Fe.FileIndex[Je]==Qe)return Fe.FileIndex[Je].name=i(Xe),Fe.FullPaths[Je]=Xe,!0}return!1}function Ri(Fe){z(Fe,!0)}return t.find=K,t.read=B,t.parse=f,t.write=we,t.writeFile=ce,t.utils={cfb_new:ms,cfb_add:sa,cfb_del:ki,cfb_mov:si,cfb_gc:Ri,ReadShift:e_,CheckField:yde,prep_blob:wd,bconcat:kc,use_zlib:Q,_deflateRaw:na,_inflateRaw:ya,consts:he},t}();function Vot(e){return typeof e=="string"?y6(e):Array.isArray(e)?pot(e):e}function w5(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=y6(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?um(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([Vot(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=b5(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Dc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function vK(e,t){for(var r=[],n=Dc(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function rL(e){for(var t=[],r=Dc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function _6(e){for(var t=[],r=Dc(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Wot(e){for(var t=[],r=Dc(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var AA=new Date(1899,11,30,0,0,0);function dd(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=AA.getTime()+(e.getTimezoneOffset()-AA.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var rde=new Date,Hot=AA.getTime()+(rde.getTimezoneOffset()-AA.getTimezoneOffset())*6e4,yK=rde.getTimezoneOffset();function nde(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Hot),t.getTimezoneOffset()!==yK&&t.setTime(t.getTime()+(t.getTimezoneOffset()-yK)*6e4),t}var bK=new Date("2017-02-19T19:06:09.000Z"),ade=isNaN(bK.getFullYear())?new Date("2/19/17"):bK,qot=ade.getFullYear()==2017;function ku(e,t){var r=new Date(e);if(qot)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ade.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function N6(e,t){if(ts&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return um(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return um(mot(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return um(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return um(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function fd(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=fd(e[r]));return t}function Lo(e,t){for(var r="";r.length<t;)r+=e;return r}function ym(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var Got=["january","february","march","april","may","june","july","august","september","october","november","december"];function j4(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Got.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function ti(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ts?n=Um(r):n=got(r),bs.utils.cfb_add(e,t,n)}bs.utils.cfb_add(e,t,r)}else e.file(t,r)}function nL(){return bs.utils.cfb_new()}var Sl=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Kot={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},aL=rL(Kot),iL=/[&<>'"]/g,Yot=/[\u0000-\u0008\u000b-\u001f]/g;function us(e){var t=e+"";return t.replace(iL,function(r){return aL[r]}).replace(Yot,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function wK(e){return us(e).replace(/ /g,"_x0020_")}var ide=/[\u0000-\u001f]/g;function Xot(e){var t=e+"";return t.replace(iL,function(r){return aL[r]}).replace(/\n/g,"<br/>").replace(ide,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Jot(e){var t=e+"";return t.replace(iL,function(r){return aL[r]}).replace(ide,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Zot(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Qot(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Nk(e){for(var t="",r=0,n=0,i=0,a=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function _K(e){var t=ux(2*e.length),r,n,i=1,a=0,o=0,l;for(n=0;n<e.length;n+=i)i=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function NK(e){return Um(e,"binary").toString("utf8")}var CN="foo bar baz",Qw=ts&&(NK(CN)==Nk(CN)&&NK||_K(CN)==Nk(CN)&&_K)||Nk,um=ts?function(e){return Um(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},elt=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),sde=/(^\s|\s$|\n)/;function Pc(e,t){return"<"+e+(t.match(sde)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function E4(e){return Dc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Kr(e,t,r){return"<"+e+(r!=null?E4(r):"")+(t!=null?(t.match(sde)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function EF(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function tlt(e,t){switch(typeof e){case"string":var r=Kr("vt:lpwstr",us(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return Kr((e|0)==e?"vt:i4":"vt:r8",us(String(e)));case"boolean":return Kr("vt:bool",e?"true":"false")}if(e instanceof Date)return Kr("vt:filetime",EF(e));throw new Error("Unable to serialize "+e)}var ic={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},nb=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Nd={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function rlt(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function nlt(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=n?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var SK=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},CK=ts?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Um(t)})):SK(e)}:SK,AK=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Cw(e,i)));return n.join("").replace(Zw,"")},sL=ts?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Zw,""):AK(e,t,r)}:AK,jK=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},ode=ts?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):jK(e,t,r)}:jK,EK=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Sv(e,i)));return n.join("")},_5=ts?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):EK(t,r,n)}:EK,lde=function(e,t){var r=Sd(e,t);return r>0?_5(e,t+4,t+4+r-1):""},cde=lde,ude=function(e,t){var r=Sd(e,t);return r>0?_5(e,t+4,t+4+r-1):""},dde=ude,fde=function(e,t){var r=2*Sd(e,t);return r>0?_5(e,t+4,t+4+r-1):""},hde=fde,mde=function(t,r){var n=Sd(t,r);return n>0?sL(t,r+4,r+4+n):""},pde=mde,gde=function(e,t){var r=Sd(e,t);return r>0?_5(e,t+4,t+4+r):""},xde=gde,vde=function(e,t){return rlt(e,t)},jA=vde,oL=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ts&&(cde=function(t,r){if(!Buffer.isBuffer(t))return lde(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},dde=function(t,r){if(!Buffer.isBuffer(t))return ude(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},hde=function(t,r){if(!Buffer.isBuffer(t))return fde(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},pde=function(t,r){if(!Buffer.isBuffer(t))return mde(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},xde=function(t,r){if(!Buffer.isBuffer(t))return gde(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},jA=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):vde(t,r)},oL=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Sv=function(e,t){return e[t]},Cw=function(e,t){return e[t+1]*256+e[t]},alt=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Sd=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wg=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ilt=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function e_(e,t){var r="",n,i,a=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,ts&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Cw(this,u)),u+=2;e*=2;break;case"utf8":r=_5(this,this.l,this.l+e);break;case"utf16le":e*=2,r=sL(this,this.l,this.l+e);break;case"wstr":return e_.call(this,e,"dbcs");case"lpstr-ansi":r=cde(this,this.l),e=4+Sd(this,this.l);break;case"lpstr-cp":r=dde(this,this.l),e=4+Sd(this,this.l);break;case"lpwstr":r=hde(this,this.l),e=4+2*Sd(this,this.l);break;case"lpp4":e=4+Sd(this,this.l),r=pde(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Sd(this,this.l),r=xde(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Sv(this,this.l+e++))!==0;)a.push(_N(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=Cw(this,this.l+e))!==0;)a.push(_N(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Sv(this,u),this.l=u+1,l=e_.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(_N(Cw(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Sv(this,u),this.l=u+1,l=e_.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(_N(Sv(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Sv(this,this.l),this.l++,n;case 2:return n=(t==="i"?alt:Cw)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wg:ilt)(this,this.l),this.l+=4,n):(i=Sd(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=jA(this,this.l):i=jA([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=ode(this,this.l,e);break}}return this.l+=e,r}var slt=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},olt=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},llt=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function clt(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)llt(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,slt(this,t,this.l);break;case 8:if(n=8,r==="f"){nlt(this,t,this.l);break}case 16:break;case-4:n=4,olt(this,t,this.l);break}return this.l+=n,this}function yde(e,t){var r=ode(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function wd(e,t){e.l=t,e.read_shift=e_,e.chk=yde,e.write_shift=clt}function E0(e,t){e.l+=t}function ar(e){var t=ux(e);return wd(t,0),t}function ld(){var e=[],t=ts?256:2048,r=function(u){var f=ar(u);return wd(f,0),f},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},o=function(){return i(),kc(e)},l=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:l,end:o,_bufs:e}}function wr(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=r0t[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&oL(r)&&e.push(r)}}function t_(e,t,r){var n=fd(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function TK(e,t,r){var n=fd(e);return n.s=t_(n.s,t.s,r),n.e=t_(n.e,t.s,r),n}function r_(e,t){if(e.cRel&&e.c<0)for(e=fd(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fd(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=fs(e);return!e.cRel&&e.cRel!=null&&(r=flt(r)),!e.rRel&&e.rRel!=null&&(r=ult(r)),r}function Sk(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Jc(e.s.c)+":"+(e.e.cRel?"":"$")+Jc(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ic(e.s.r)+":"+(e.e.rRel?"":"$")+Ic(e.e.r):r_(e.s,t.biff)+":"+r_(e.e,t.biff)}function lL(e){return parseInt(dlt(e),10)-1}function Ic(e){return""+(e+1)}function ult(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function dlt(e){return e.replace(/\$(\d+)$/,"$1")}function cL(e){for(var t=hlt(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Jc(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function flt(e){return e.replace(/^([A-Z])/,"$$$1")}function hlt(e){return e.replace(/^\$([A-Z])/,"$1")}function mlt(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function sc(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function fs(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function zd(e){var t=e.indexOf(":");return t==-1?{s:sc(e),e:sc(e)}:{s:sc(e.slice(0,t)),e:sc(e.slice(t+1))}}function Nl(e,t){return typeof t>"u"||typeof t=="number"?Nl(e.s,e.e):(typeof e!="string"&&(e=fs(e)),typeof t!="string"&&(t=fs(t)),e==t?e:e+":"+t)}function ro(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function kK(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=d1(e.z,r?dd(t):t)}catch{}try{return e.w=d1((e.XF||{}).numFmtId||(r?14:0),r?dd(t):t)}catch{return""+t}}function Om(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?N5[e.v]||e.v:t==null?kK(e,e.v):kK(e,t))}function Ox(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function bde(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),o=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?sc(n.origin):n.origin;o=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=ro(a["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(!(typeof t[h][g]>"u")){var p={v:t[h][g]},S=o+h,b=l+g;if(u.s.r>S&&(u.s.r=S),u.s.c>b&&(u.s.c=b),u.e.r<S&&(u.e.r=S),u.e.c<b&&(u.e.c=b),t[h][g]&&typeof t[h][g]=="object"&&!Array.isArray(t[h][g])&&!(t[h][g]instanceof Date))p=t[h][g];else if(Array.isArray(p.v)&&(p.f=t[h][g][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Wo[14],n.cellDates?(p.t="d",p.w=d1(p.z,dd(p.v))):(p.t="n",p.v=dd(p.v),p.w=d1(p.z,p.v))):p.t="s";if(i)a[S]||(a[S]=[]),a[S][b]&&a[S][b].z&&(p.z=a[S][b].z),a[S][b]=p;else{var N=fs({c:b,r:S});a[N]&&a[N].z&&(p.z=a[N].z),a[N]=p}}}return u.s.c<1e7&&(a["!ref"]=Nl(u)),a}function ab(e,t){return bde(null,e,t)}function plt(e){return e.read_shift(4,"i")}function yh(e,t){return t||(t=ar(4)),t.write_shift(4,e),t}function Zc(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function oc(e,t){var r=!1;return t==null&&(r=!0,t=ar(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function glt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function xlt(e,t){return t||(t=ar(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function uL(e,t){var r=e.l,n=e.read_shift(1),i=Zc(e),a=[],o={t:i,h:i};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(glt(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function vlt(e,t){var r=!1;return t==null&&(r=!0,t=ar(15+4*e.t.length)),t.write_shift(1,0),oc(e.t,t),r?t.slice(0,t.l):t}var ylt=uL;function blt(e,t){var r=!1;return t==null&&(r=!0,t=ar(23+4*e.t.length)),t.write_shift(1,1),oc(e.t,t),t.write_shift(4,1),xlt({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function If(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ix(e,t){return t==null&&(t=ar(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Fx(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Dx(e,t){return t==null&&(t=ar(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var wlt=Zc,wde=oc;function dL(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function EA(e,t){var r=!1;return t==null&&(r=!0,t=ar(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var _lt=Zc,TF=dL,fL=EA;function _de(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?jA([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wg(t,0)>>2;return r?i/100:i}function Nde(e,t){t==null&&(t=ar(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Sde(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Nlt(e,t){return t||(t=ar(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Rx=Sde,ib=Nlt;function sb(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function dx(e,t){return(t||ar(8)).write_shift(8,e,"f")}function Slt(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=Ilt[i];u&&(t.rgb=UK(u));break;case 2:t.rgb=UK([o,l,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function TA(e,t){if(t||(t=ar(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Clt(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Alt(e,t){t||(t=ar(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Cde=2,vd=3,AN=11,kA=19,jN=64,jlt=65,Elt=71,Tlt=4108,klt=4126,jc=80,PK={1:{n:"CodePage",t:Cde},2:{n:"Category",t:jc},3:{n:"PresentationFormat",t:jc},4:{n:"ByteCount",t:vd},5:{n:"LineCount",t:vd},6:{n:"ParagraphCount",t:vd},7:{n:"SlideCount",t:vd},8:{n:"NoteCount",t:vd},9:{n:"HiddenCount",t:vd},10:{n:"MultimediaClipCount",t:vd},11:{n:"ScaleCrop",t:AN},12:{n:"HeadingPairs",t:Tlt},13:{n:"TitlesOfParts",t:klt},14:{n:"Manager",t:jc},15:{n:"Company",t:jc},16:{n:"LinksUpToDate",t:AN},17:{n:"CharacterCount",t:vd},19:{n:"SharedDoc",t:AN},22:{n:"HyperlinksChanged",t:AN},23:{n:"AppVersion",t:vd,p:"version"},24:{n:"DigSig",t:jlt},26:{n:"ContentType",t:jc},27:{n:"ContentStatus",t:jc},28:{n:"Language",t:jc},29:{n:"Version",t:jc},255:{},2147483648:{n:"Locale",t:kA},2147483651:{n:"Behavior",t:kA},1919054434:{}},OK={1:{n:"CodePage",t:Cde},2:{n:"Title",t:jc},3:{n:"Subject",t:jc},4:{n:"Author",t:jc},5:{n:"Keywords",t:jc},6:{n:"Comments",t:jc},7:{n:"Template",t:jc},8:{n:"LastAuthor",t:jc},9:{n:"RevNumber",t:jc},10:{n:"EditTime",t:jN},11:{n:"LastPrinted",t:jN},12:{n:"CreatedDate",t:jN},13:{n:"ModifiedDate",t:jN},14:{n:"PageCount",t:vd},15:{n:"WordCount",t:vd},16:{n:"CharCount",t:vd},17:{n:"Thumbnail",t:Elt},18:{n:"Application",t:jc},19:{n:"DocSecurity",t:vd},255:{},2147483648:{n:"Locale",t:kA},2147483651:{n:"Behavior",t:kA},1919054434:{}};function Plt(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Olt=Plt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ilt=fd(Olt),N5={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Flt={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},EN={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Ade(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function jde(e,t){var r=Wot(Flt),n=[],i;n[n.length]=Sl,n[n.length]=Kr("Types",null,{xmlns:ic.CT,"xmlns:xsd":ic.xsd,"xmlns:xsi":ic.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Kr("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=Kr("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:EN[c][t.bookType]||EN[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Kr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:EN[c][t.bookType]||EN[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Kr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ki={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ede(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function N2(e){var t=[Sl,Kr("Relationships",null,{xmlns:ic.RELS})];return Dc(e["!id"]).forEach(function(r){t[t.length]=Kr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function cs(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,a?i.TargetMode=a:[Ki.HLINK,Ki.XPATH,Ki.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function Dlt(e){var t=[Sl];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function IK(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Rlt(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Mlt(e){var t=[Sl];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(IK(e[r][0],e[r][1])),t.push(Rlt("",e[r][0]));return t.push(IK("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Tde(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_A.version+"</meta:generator></office:meta></office:document-meta>"}var Bg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ck(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=us(t),n[n.length]=r?Kr(e,t,r):Pc(e,t))}function kde(e,t){var r=t||{},n=[Sl,Kr("cp:coreProperties",null,{"xmlns:cp":ic.CORE_PROPS,"xmlns:dc":ic.dc,"xmlns:dcterms":ic.dcterms,"xmlns:dcmitype":ic.dcmitype,"xmlns:xsi":ic.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Ck("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:EF(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&Ck("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:EF(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Bg.length;++a){var o=Bg[a],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Ck(o[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var S2=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Pde=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Ode(e){var t=[],r=Kr;return e||(e={}),e.Application="SheetJS",t[t.length]=Sl,t[t.length]=Kr("Properties",null,{xmlns:ic.EXT_PROPS,"xmlns:vt":ic.vt}),S2.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=us(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+us(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Ide(e){var t=[Sl,Kr("Properties",null,{xmlns:ic.CUST_PROPS,"xmlns:vt":ic.vt})];if(!e)return t.join("");var r=1;return Dc(e).forEach(function(i){++r,t[t.length]=Kr("property",tlt(e[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:us(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var FK={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Llt(e,t){var r=[];return Dc(FK).map(function(n){for(var i=0;i<Bg.length;++i)if(Bg[i][1]==n)return Bg[i];for(i=0;i<S2.length;++i)if(S2[i][1]==n)return S2[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Pc(FK[n[1]]||n[1],i))}}),Kr("DocumentProperties",r.join(""),{xmlns:Nd.o})}function Blt(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Dc(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<Bg.length;++o)if(a==Bg[o][1])return;for(o=0;o<S2.length;++o)if(a==S2[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var l=e[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(Kr(wK(a),l,{"dt:dt":c}))}}),t&&Dc(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Kr(wK(a),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Nd.o+'">'+i.join("")+"</"+n+">"}function $lt(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var o=ar(8);return o.write_shift(4,n),o.write_shift(4,i),o}function DK(e,t){var r=ar(4),n=ar(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ar(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=$lt(t);break;case 31:case 80:for(n=ar(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return kc([r,n])}var Fde=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Ult(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function RK(e,t,r){var n=ar(8),i=[],a=[],o=8,l=0,c=ar(8),u=ar(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),o+=8+c.length,!t){u=ar(8),u.write_shift(4,0),i.unshift(u);var f=[ar(4)];for(f[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=ar(4+4+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=kc(f),a.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Fde.indexOf(e[l][0])>-1||Pde.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],p=0;if(t){p=+t[e[l][0]];var S=r[p];if(S.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}c=DK(S.t,g)}else{var N=Ult(g);N==-1&&(N=31,g=String(g)),c=DK(N,g)}a.push(c),u=ar(8),u.write_shift(4,t?p:2+l),i.push(u),o+=8+c.length}var C=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,C),C+=a[l].length;return n.write_shift(4,o),n.write_shift(4,a.length),kc([n].concat(i).concat(a))}function MK(e,t,r,n,i,a){var o=ar(i?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,bs.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var c=RK(e,r,n);if(l.push(c),i){var u=RK(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+c.length),l.push(u)}return kc(l)}function zlt(e,t){t||(t=ar(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Vlt(e,t){return e.read_shift(t)===1}function _u(e,t){return t||(t=ar(2)),t.write_shift(2,+!!e),t}function Dde(e){return e.read_shift(2,"u")}function gf(e,t){return t||(t=ar(2)),t.write_shift(2,e),t}function Rde(e,t,r){return r||(r=ar(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Mde(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?e.read_shift(n,i):"";return o}function Wlt(e){var t=e.t||"",r=ar(3+0);r.write_shift(2,t.length),r.write_shift(1,1);var n=ar(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return kc(i)}function Hlt(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function qlt(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Hlt(e,n,r)}function Glt(e,t,r){if(r.biff>5)return qlt(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Lde(e,t,r){return r||(r=ar(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function LK(e,t){t||(t=ar(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Klt(e){var t=ar(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(a==28)n=n.slice(1),LK(n,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),a&8&&LK(i>-1?n.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function fx(e,t,r,n){return n||(n=ar(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Ylt(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[i,a,o]}function Xlt(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function Bde(e,t){return t||(t=ar(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function hL(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ar(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Jlt(e,t){var r=!t||t.biff==8,n=ar(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Zlt(e,t){var r=!t||t.biff>=8?2:1,n=ar(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Qlt(e,t){var r=ar(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=Wlt(e[i]);var a=kc([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function ect(){var e=ar(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function tct(e){var t=ar(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function rct(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=ar(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function nct(e,t,r,n){var i=ar(10);return fx(e,t,n,i),i.write_shift(4,r),i}function act(e,t,r,n,i){var a=!i||i.biff==8,o=ar(6+2+ +a+(1+a)*r.length);return fx(e,t,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function ict(e,t,r,n){var i=r&&r.biff==5;n||(n=ar(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function sct(e,t){var r=t.biff==8||!t.biff?4:2,n=ar(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function BK(e,t,r,n){var i=r&&r.biff==5;n||(n=ar(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function oct(e){var t=ar(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function lct(e,t,r,n,i,a){var o=ar(8);return fx(e,t,n,o),Rde(r,a,o),o}function cct(e,t,r,n){var i=ar(14);return fx(e,t,n,i),dx(r,i),i}function uct(e,t,r){if(r.biff<8)return dct(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(Ylt(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function dct(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Mde(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function fct(e){var t=ar(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Bde(e[r],t);return t}function hct(e){var t=ar(24),r=sc(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return kc([t,Klt(e[1])])}function mct(e){var t=e[1].Tooltip,r=ar(10+2*(t.length+1));r.write_shift(2,2048);var n=sc(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function pct(e){return e||(e=ar(4)),e.write_shift(2,1),e.write_shift(2,1),e}function gct(e,t,r){if(!r.cellStyles)return E0(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function xct(e,t){var r=ar(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function vct(e){for(var t=ar(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function yct(e,t,r){var n=ar(15);return C5(n,e,t),n.write_shift(8,r,"f"),n}function bct(e,t,r){var n=ar(9);return C5(n,e,t),n.write_shift(2,r),n}var wct=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=rL({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],f=ux(1);switch(c.type){case"base64":f=uh(Pm(l));break;case"binary":f=uh(l);break;case"buffer":case"array":f=l;break}wd(f,0);var h=f.read_shift(1),g=!!(h&136),p=!1,S=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,g=!0;break;case 49:p=!0,g=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var b=0,N=521;h==2&&(b=f.read_shift(2)),f.l+=3,h!=2&&(b=f.read_shift(4)),b>1048576&&(b=1e6),h!=2&&(N=f.read_shift(2));var C=f.read_shift(2),A=c.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(A=e[f[f.l]]),f.l+=1,f.l+=2),S&&(f.l+=36);for(var T=[],F={},L=Math.min(f.length,h==2?521:N-10-(p?264:0)),B=S?32:11;f.l<L&&f[f.l]!=13;)switch(F={},F.name=bg.utils.decode(A,f.slice(f.l,f.l+B)).replace(/[\u0000\r\n].*$/g,""),f.l+=B,F.type=String.fromCharCode(f.read_shift(1)),h!=2&&!S&&(F.offset=f.read_shift(4)),F.len=f.read_shift(1),h==2&&(F.offset=f.read_shift(2)),F.dec=f.read_shift(1),F.name.length&&T.push(F),h!=2&&(f.l+=S?13:14),F.type){case"B":(!p||F.len!=8)&&c.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(f[f.l]!==13&&(f.l=N-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=N;var M=0,W=0;for(u[0]=[],W=0;W!=T.length;++W)u[0][W]=T[W].name;for(;b-- >0;){if(f[f.l]===42){f.l+=C;continue}for(++f.l,u[++M]=[],W=0,W=0;W!=T.length;++W){var z=f.slice(f.l,f.l+T[W].len);f.l+=T[W].len,wd(z,0);var Z=bg.utils.decode(A,z);switch(T[W].type){case"C":Z.trim().length&&(u[M][W]=Z.replace(/\s+$/,""));break;case"D":Z.length===8?u[M][W]=new Date(+Z.slice(0,4),+Z.slice(4,6)-1,+Z.slice(6,8)):u[M][W]=Z;break;case"F":u[M][W]=parseFloat(Z.trim());break;case"+":case"I":u[M][W]=S?z.read_shift(-4,"i")^2147483648:z.read_shift(4,"i");break;case"L":switch(Z.trim().toUpperCase()){case"Y":case"T":u[M][W]=!0;break;case"N":case"F":u[M][W]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Z+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[M][W]="##MEMO##"+(S?parseInt(Z.trim(),10):z.read_shift(4));break;case"N":Z=Z.replace(/\u0000/g,"").trim(),Z&&Z!="."&&(u[M][W]=+Z||0);break;case"@":u[M][W]=new Date(z.read_shift(-8,"f")-621356832e5);break;case"T":u[M][W]=new Date((z.read_shift(4)-2440588)*864e5+z.read_shift(4));break;case"Y":u[M][W]=z.read_shift(4,"i")/1e4+z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[M][W]=-z.read_shift(-8,"f");break;case"B":if(p&&T[W].len==8){u[M][W]=z.read_shift(8,"f");break}case"G":case"P":z.l+=T[W].len;break;case"0":if(T[W].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[W].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=T,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=ab(r(l,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function i(l,c){try{return Ox(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&C4(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=ld(),h=DA(l,{header:1,raw:!0,cellDates:!0}),g=h[0],p=h.slice(1),S=l["!cols"]||[],b=0,N=0,C=0,A=1;for(b=0;b<g.length;++b){if(((S[b]||{}).DBF||{}).name){g[b]=S[b].DBF.name,++C;continue}if(g[b]!=null){if(++C,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(N=0;N<1024;++N)if(g.indexOf(g[b]+"_"+N)==-1){g[b]+="_"+N;break}}}}var T=ro(l["!ref"]),F=[],L=[],B=[];for(b=0;b<=T.e.c-T.s.c;++b){var M="",W="",z=0,Z=[];for(N=0;N<p.length;++N)p[N][b]!=null&&Z.push(p[N][b]);if(Z.length==0||g[b]==null){F[b]="?";continue}for(N=0;N<Z.length;++N){switch(typeof Z[N]){case"number":W="B";break;case"string":W="C";break;case"boolean":W="L";break;case"object":W=Z[N]instanceof Date?"D":"C";break;default:W="C"}z=Math.max(z,String(Z[N]).length),M=M&&M!=W?"C":W}z>250&&(z=250),W=((S[b]||{}).DBF||{}).type,W=="C"&&S[b].DBF.len>z&&(z=S[b].DBF.len),M=="B"&&W=="N"&&(M="N",B[b]=S[b].DBF.dec,z=S[b].DBF.len),L[b]=M=="C"||W=="N"?z:a[M]||0,A+=L[b],F[b]=M}var K=f.next(32);for(K.write_shift(4,318902576),K.write_shift(4,p.length),K.write_shift(2,296+32*C),K.write_shift(2,A),b=0;b<4;++b)K.write_shift(4,0);for(K.write_shift(4,0|(+t[Uue]||3)<<8),b=0,N=0;b<g.length;++b)if(g[b]!=null){var q=f.next(32),ie=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,ie,"sbcs"),q.write_shift(1,F[b]=="?"?"C":F[b],"sbcs"),q.write_shift(4,N),q.write_shift(1,L[b]||a[F[b]]||0),q.write_shift(1,B[b]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),N+=L[b]||a[F[b]]||0}var ae=f.next(264);for(ae.write_shift(4,13),b=0;b<65;++b)ae.write_shift(4,0);for(b=0;b<p.length;++b){var X=f.next(A);for(X.write_shift(1,0),N=0;N<g.length;++N)if(g[N]!=null)switch(F[N]){case"L":X.write_shift(1,p[b][N]==null?63:p[b][N]?84:70);break;case"B":X.write_shift(8,p[b][N]||0,"f");break;case"N":var se="0";for(typeof p[b][N]=="number"&&(se=p[b][N].toFixed(B[N]||0)),C=0;C<L[N]-se.length;++C)X.write_shift(1,32);X.write_shift(1,se,"sbcs");break;case"D":p[b][N]?(X.write_shift(4,("0000"+p[b][N].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[b][N].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[b][N].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var he=String(p[b][N]!=null?p[b][N]:"").slice(0,L[N]);for(X.write_shift(1,he,"sbcs"),C=0;C<L[N]-he.length;++C)X.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),_ct=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Dc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,p){var S=e[p];return typeof S=="number"?cK(S):S},n=function(g,p,S){var b=p.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return b==59?g:cK(b)};e["|"]=254;function i(g,p){switch(p.type){case"base64":return a(Pm(g),p);case"binary":return a(g,p);case"buffer":return a(ts&&Buffer.isBuffer(g)?g.toString("binary"):b5(g),p);case"array":return a(N6(g),p)}throw new Error("Unrecognized type "+p.type)}function a(g,p){var S=g.split(/[\n\r]+/),b=-1,N=-1,C=0,A=0,T=[],F=[],L=null,B={},M=[],W=[],z=[],Z=0,K;for(+p.codepage>=0&&C4(+p.codepage);C!==S.length;++C){Z=0;var q=S[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),ie=q.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),ae=ie[0],X;if(q.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ie[1].charAt(0)=="P"&&F.push(q.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,he=!1,ce=!1,ge=!1,we=-1,Ce=-1;for(A=1;A<ie.length;++A)switch(ie[A].charAt(0)){case"A":break;case"X":N=parseInt(ie[A].slice(1))-1,he=!0;break;case"Y":for(b=parseInt(ie[A].slice(1))-1,he||(N=0),K=T.length;K<=b;++K)T[K]=[];break;case"K":X=ie[A].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(ym(X))?isNaN(j4(X).getDate())||(X=ku(X)):(X=ym(X),L!==null&&Que(L)&&(X=nde(X))),se=!0;break;case"E":ge=!0;var Q=but(ie[A].slice(1),{r:b,c:N});T[b][N]=[T[b][N],Q];break;case"S":ce=!0,T[b][N]=[T[b][N],"S5S"];break;case"G":break;case"R":we=parseInt(ie[A].slice(1))-1;break;case"C":Ce=parseInt(ie[A].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+q)}if(se&&(T[b][N]&&T[b][N].length==2?T[b][N][0]=X:T[b][N]=X,L=null),ce){if(ge)throw new Error("SYLK shared formula cannot have own formula");var le=we>-1&&T[we][Ce];if(!le||!le[1])throw new Error("SYLK shared formula cannot find base");T[b][N][1]=wut(le[1],{r:b-we,c:N-Ce})}break;case"F":var ne=0;for(A=1;A<ie.length;++A)switch(ie[A].charAt(0)){case"X":N=parseInt(ie[A].slice(1))-1,++ne;break;case"Y":for(b=parseInt(ie[A].slice(1))-1,K=T.length;K<=b;++K)T[K]=[];break;case"M":Z=parseInt(ie[A].slice(1))/20;break;case"F":break;case"G":break;case"P":L=F[parseInt(ie[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(z=ie[A].slice(1).split(" "),K=parseInt(z[0],10);K<=parseInt(z[1],10);++K)Z=parseInt(z[2],10),W[K-1]=Z===0?{hidden:!0}:{wch:Z},mL(W[K-1]);break;case"C":N=parseInt(ie[A].slice(1))-1,W[N]||(W[N]={});break;case"R":b=parseInt(ie[A].slice(1))-1,M[b]||(M[b]={}),Z>0?(M[b].hpt=Z,M[b].hpx=Wde(Z)):Z===0&&(M[b].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+q)}ne<1&&(L=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+q)}}return M.length>0&&(B["!rows"]=M),W.length>0&&(B["!cols"]=W),p&&p.sheetRows&&(T=T.slice(0,p.sheetRows)),[T,B]}function o(g,p){var S=i(g,p),b=S[0],N=S[1],C=ab(b,p);return Dc(N).forEach(function(A){C[A]=N[A]}),C}function l(g,p){return Ox(o(g,p),p)}function c(g,p,S,b){var N="C;Y"+(S+1)+";X"+(b+1)+";K";switch(g.t){case"n":N+=g.v||0,g.f&&!g.F&&(N+=";E"+gL(g.f,{r:S,c:b}));break;case"b":N+=g.v?"TRUE":"FALSE";break;case"e":N+=g.w||g.v;break;case"d":N+='"'+(g.w||g.v)+'"';break;case"s":N+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function u(g,p){p.forEach(function(S,b){var N="F;W"+(b+1)+" "+(b+1)+" ";S.hidden?N+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=PA(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=OA(S.wpx)),typeof S.wch=="number"&&(N+=Math.round(S.wch))),N.charAt(N.length-1)!=" "&&g.push(N)})}function f(g,p){p.forEach(function(S,b){var N="F;";S.hidden?N+="M0;":S.hpt?N+="M"+20*S.hpt+";":S.hpx&&(N+="M"+20*IA(S.hpx)+";"),N.length>2&&g.push(N+"R"+(b+1))})}function h(g,p){var S=["ID;PWXL;N;E"],b=[],N=ro(g["!ref"]),C,A=Array.isArray(g),T=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),g["!cols"]&&u(S,g["!cols"]),g["!rows"]&&f(S,g["!rows"]),S.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var F=N.s.r;F<=N.e.r;++F)for(var L=N.s.c;L<=N.e.c;++L){var B=fs({r:F,c:L});C=A?(g[F]||[])[L]:g[B],!(!C||C.v==null&&(!C.f||C.F))&&b.push(c(C,g,F,L))}return S.join(T)+T+b.join(T)+T+"E"+T}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),Nct=function(){function e(a,o){switch(o.type){case"base64":return t(Pm(a),o);case"binary":return t(a,o);case"buffer":return t(ts&&Buffer.isBuffer(a)?a.toString("binary"):b5(a),o);case"array":return t(N6(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var l=a.split(`
`),c=-1,u=-1,f=0,h=[];f!==l.length;++f){if(l[f].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var g=l[f].trim().split(","),p=g[0],S=g[1];++f;for(var b=l[f]||"";(b.match(/["]/g)||[]).length&1&&f<l.length-1;)b+=`
`+l[++f];switch(b=b.trim(),+p){case-1:if(b==="BOT"){h[++c]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?h[c][u]=!0:b==="FALSE"?h[c][u]=!1:isNaN(ym(S))?isNaN(j4(S).getDate())?h[c][u]=S:h[c][u]=ku(S):h[c][u]=ym(S),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),h[c][u++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(a,o){return ab(e(a,o),o)}function n(a,o){return Ox(r(a,o),o)}var i=function(){var a=function(c,u,f,h,g){c.push(u),c.push(f+","+h),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,f,h){c.push(u+","+f),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],f=ro(c["!ref"]),h,g=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,f.e.r-f.s.r+1,""),a(u,"TUPLES",0,f.e.c-f.s.c+1,""),a(u,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){o(u,-1,0,"BOT");for(var S=f.s.c;S<=f.e.c;++S){var b=fs({r:p,c:S});if(h=g?(c[p]||[])[S]:c[b],!h){o(u,1,0,"");continue}switch(h.t){case"n":var N=h.w;!N&&h.v!=null&&(N=h.v),N==null?h.f&&!h.F?o(u,1,0,"="+h.f):o(u,1,0,""):o(u,0,N,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=d1(h.z||Wo[14],dd(ku(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var C=`\r
`,A=u.join(C);return A}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),$de=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){for(var p=h.split(`
`),S=-1,b=-1,N=0,C=[];N!==p.length;++N){var A=p[N].trim().split(":");if(A[0]==="cell"){var T=sc(A[1]);if(C.length<=T.r)for(S=C.length;S<=T.r;++S)C[S]||(C[S]=[]);switch(S=T.r,b=T.c,A[2]){case"t":C[S][b]=e(A[3]);break;case"v":C[S][b]=+A[3];break;case"vtf":var F=A[A.length-1];case"vtc":switch(A[3]){case"nl":C[S][b]=!!+A[4];break;default:C[S][b]=+A[4];break}A[2]=="vtf"&&(C[S][b]=[C[S][b],F])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function n(h,g){return ab(r(h,g),g)}function i(h,g){return Ox(n(h,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var g=[],p=[],S,b="",N=zd(h["!ref"]),C=Array.isArray(h),A=N.s.r;A<=N.e.r;++A)for(var T=N.s.c;T<=N.e.c;++T)if(b=fs({r:A,c:T}),S=C?(h[A]||[])[T]:h[b],!(!S||S.v==null||S.t==="z")){switch(p=["cell",b,"t"],S.t){case"s":case"str":p.push(t(S.v));break;case"n":S.f?(p[2]="vtf",p[3]="n",p[4]=S.v,p[5]=t(S.f)):(p[2]="v",p[3]=S.v);break;case"b":p[2]="vt"+(S.f?"f":"c"),p[3]="nl",p[4]=S.v?"1":"0",p[5]=t(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var F=dd(ku(S.v));p[2]="vtc",p[3]="nd",p[4]=""+F,p[5]=S.w||d1(S.z||Wo[14],F);break;case"e":continue}g.push(p.join(":"))}return g.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(h){return[a,o,l,o,u(h),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}}(),Sct=function(){function e(f,h,g,p,S){S.raw?h[g][p]=f:f===""||(f==="TRUE"?h[g][p]=!0:f==="FALSE"?h[g][p]=!1:isNaN(ym(f))?isNaN(j4(f).getDate())?h[g][p]=f:h[g][p]=ku(f):h[g][p]=ym(f))}function t(f,h){var g=h||{},p=[];if(!f||f.length===0)return p;for(var S=f.split(/[\r\n]/),b=S.length-1;b>=0&&S[b].length===0;)--b;for(var N=10,C=0,A=0;A<=b;++A)C=S[A].indexOf(" "),C==-1?C=S[A].length:C++,N=Math.max(N,C);for(A=0;A<=b;++A){p[A]=[];var T=0;for(e(S[A].slice(0,N).trim(),p,A,T,g),T=1;T<=(S[A].length-N)/10+1;++T)e(S[A].slice(N+(T-1)*10,N+T*10).trim(),p,A,T,g)}return g.sheetRows&&(p=p.slice(0,g.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var h={},g=!1,p=0,S=0;p<f.length;++p)(S=f.charCodeAt(p))==34?g=!g:!g&&S in r&&(h[S]=(h[S]||0)+1);S=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&S.push([h[p],p]);if(!S.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&S.push([h[p],p])}return S.sort(function(b,N){return b[0]-N[0]||n[b[1]]-n[N[1]]}),r[S.pop()[1]]||44}function a(f,h){var g=h||{},p="",S=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=i(f.slice(0,1024)):g&&g.FS?p=g.FS:p=i(f.slice(0,1024));var N=0,C=0,A=0,T=0,F=0,L=p.charCodeAt(0),B=!1,M=0,W=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var z=g.dateNF!=null?$ot(g.dateNF):null;function Z(){var K=f.slice(T,F),q={};if(K.charAt(0)=='"'&&K.charAt(K.length-1)=='"'&&(K=K.slice(1,-1).replace(/""/g,'"')),K.length===0)q.t="z";else if(g.raw)q.t="s",q.v=K;else if(K.trim().length===0)q.t="s",q.v=K;else if(K.charCodeAt(0)==61)K.charCodeAt(1)==34&&K.charCodeAt(K.length-1)==34?(q.t="s",q.v=K.slice(2,-1).replace(/""/g,'"')):_ut(K)?(q.t="n",q.f=K.slice(1)):(q.t="s",q.v=K);else if(K=="TRUE")q.t="b",q.v=!0;else if(K=="FALSE")q.t="b",q.v=!1;else if(!isNaN(A=ym(K)))q.t="n",g.cellText!==!1&&(q.w=K),q.v=A;else if(!isNaN(j4(K).getDate())||z&&K.match(z)){q.z=g.dateNF||Wo[14];var ie=0;z&&K.match(z)&&(K=Uot(K,g.dateNF,K.match(z)||[]),ie=1),g.cellDates?(q.t="d",q.v=ku(K,ie)):(q.t="n",q.v=dd(ku(K,ie))),g.cellText!==!1&&(q.w=d1(q.z,q.v instanceof Date?dd(q.v):q.v)),g.cellNF||delete q.z}else q.t="s",q.v=K;if(q.t=="z"||(g.dense?(S[N]||(S[N]=[]),S[N][C]=q):S[fs({c:C,r:N})]=q),T=F+1,W=f.charCodeAt(T),b.e.c<C&&(b.e.c=C),b.e.r<N&&(b.e.r=N),M==L)++C;else if(C=0,++N,g.sheetRows&&g.sheetRows<=N)return!0}e:for(;F<f.length;++F)switch(M=f.charCodeAt(F)){case 34:W===34&&(B=!B);break;case L:case 10:case 13:if(!B&&Z())break e;break}return F-T>0&&Z(),S["!ref"]=Nl(b),S}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,h):ab(t(f,h),h)}function l(f,h){var g="",p=h.type=="string"?[0,0,0,0]:R0t(f,h);switch(h.type){case"base64":g=Pm(f);break;case"binary":g=f;break;case"buffer":h.codepage==65001?g=f.toString("utf8"):h.codepage&&typeof bg<"u"?g=bg.utils.decode(h.codepage,f):g=ts&&Buffer.isBuffer(f)?f.toString("binary"):b5(f);break;case"array":g=N6(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?g=Qw(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=Qw(g):h.type=="binary"&&typeof bg<"u"&&h.codepage&&(g=bg.utils.decode(h.codepage,bg.utils.encode(28591,g))),g.slice(0,19)=="socialcalc:version:"?$de.to_sheet(h.type=="string"?g:Qw(g),h):o(g,h)}function c(f,h){return Ox(l(f,h),h)}function u(f){for(var h=[],g=ro(f["!ref"]),p,S=Array.isArray(f),b=g.s.r;b<=g.e.r;++b){for(var N=[],C=g.s.c;C<=g.e.c;++C){var A=fs({r:b,c:C});if(p=S?(f[b]||[])[C]:f[A],!p||p.v==null){N.push("          ");continue}for(var T=(p.w||(Om(p),p.w)||"").slice(0,10);T.length<10;)T+=" ";N.push(T+(C===0?" ":""))}h.push(N.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),$K=function(){function e(Q,le,ne){if(Q){wd(Q,Q.l||0);for(var ee=ne.Enum||we;Q.l<Q.length;){var pe=Q.read_shift(2),xe=ee[pe]||ee[65535],Ne=Q.read_shift(2),Se=Q.l+Ne,je=xe.f&&xe.f(Q,Ne,ne);if(Q.l=Se,le(je,xe,pe))return}}}function t(Q,le){switch(le.type){case"base64":return r(uh(Pm(Q)),le);case"binary":return r(uh(Q),le);case"buffer":case"array":return r(Q,le)}throw"Unsupported type "+le.type}function r(Q,le){if(!Q)return Q;var ne=le||{},ee=ne.dense?[]:{},pe="Sheet1",xe="",Ne=0,Se={},je=[],Ge=[],De={s:{r:0,c:0},e:{r:0,c:0}},at=ne.sheetRows||0;if(Q[2]==0&&(Q[3]==8||Q[3]==9)&&Q.length>=16&&Q[14]==5&&Q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Q[2]==2)ne.Enum=we,e(Q,function(Ct,tr,Ot){switch(Ot){case 0:ne.vers=Ct,Ct>=4096&&(ne.qpro=!0);break;case 6:De=Ct;break;case 204:Ct&&(xe=Ct);break;case 222:xe=Ct;break;case 15:case 51:ne.qpro||(Ct[1].v=Ct[1].v.slice(1));case 13:case 14:case 16:Ot==14&&(Ct[2]&112)==112&&(Ct[2]&15)>1&&(Ct[2]&15)<15&&(Ct[1].z=ne.dateNF||Wo[14],ne.cellDates&&(Ct[1].t="d",Ct[1].v=nde(Ct[1].v))),ne.qpro&&Ct[3]>Ne&&(ee["!ref"]=Nl(De),Se[pe]=ee,je.push(pe),ee=ne.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},Ne=Ct[3],pe=xe||"Sheet"+(Ne+1),xe="");var xr=ne.dense?(ee[Ct[0].r]||[])[Ct[0].c]:ee[fs(Ct[0])];if(xr){xr.t=Ct[1].t,xr.v=Ct[1].v,Ct[1].z!=null&&(xr.z=Ct[1].z),Ct[1].f!=null&&(xr.f=Ct[1].f);break}ne.dense?(ee[Ct[0].r]||(ee[Ct[0].r]=[]),ee[Ct[0].r][Ct[0].c]=Ct[1]):ee[fs(Ct[0])]=Ct[1];break}},ne);else if(Q[2]==26||Q[2]==14)ne.Enum=Ce,Q[2]==14&&(ne.qpro=!0,Q.l=0),e(Q,function(Ct,tr,Ot){switch(Ot){case 204:pe=Ct;break;case 22:Ct[1].v=Ct[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ct[3]>Ne&&(ee["!ref"]=Nl(De),Se[pe]=ee,je.push(pe),ee=ne.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},Ne=Ct[3],pe="Sheet"+(Ne+1)),at>0&&Ct[0].r>=at)break;ne.dense?(ee[Ct[0].r]||(ee[Ct[0].r]=[]),ee[Ct[0].r][Ct[0].c]=Ct[1]):ee[fs(Ct[0])]=Ct[1],De.e.c<Ct[0].c&&(De.e.c=Ct[0].c),De.e.r<Ct[0].r&&(De.e.r=Ct[0].r);break;case 27:Ct[14e3]&&(Ge[Ct[14e3][0]]=Ct[14e3][1]);break;case 1537:Ge[Ct[0]]=Ct[1],Ct[0]==Ne&&(pe=Ct[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+Q[2]);if(ee["!ref"]=Nl(De),Se[xe||pe]=ee,je.push(xe||pe),!Ge.length)return{SheetNames:je,Sheets:Se};for(var ot={},ht=[],Ue=0;Ue<Ge.length;++Ue)Se[je[Ue]]?(ht.push(Ge[Ue]||je[Ue]),ot[Ge[Ue]]=Se[Ge[Ue]]||Se[je[Ue]]):(ht.push(Ge[Ue]),ot[Ge[Ue]]={"!ref":"A1"});return{SheetNames:ht,Sheets:ot}}function n(Q,le){var ne=le||{};if(+ne.codepage>=0&&C4(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=ld(),pe=ro(Q["!ref"]),xe=Array.isArray(Q),Ne=[];Zr(ee,0,a(1030)),Zr(ee,6,c(pe));for(var Se=Math.min(pe.e.r,8191),je=pe.s.r;je<=Se;++je)for(var Ge=Ic(je),De=pe.s.c;De<=pe.e.c;++De){je===pe.s.r&&(Ne[De]=Jc(De));var at=Ne[De]+Ge,ot=xe?(Q[je]||[])[De]:Q[at];if(!(!ot||ot.t=="z"))if(ot.t=="n")(ot.v|0)==ot.v&&ot.v>=-32768&&ot.v<=32767?Zr(ee,13,p(je,De,ot.v)):Zr(ee,14,b(je,De,ot.v));else{var ht=Om(ot);Zr(ee,15,h(je,De,ht.slice(0,239)))}}return Zr(ee,1),ee.end()}function i(Q,le){var ne=le||{};if(+ne.codepage>=0&&C4(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=ld();Zr(ee,0,o(Q));for(var pe=0,xe=0;pe<Q.SheetNames.length;++pe)(Q.Sheets[Q.SheetNames[pe]]||{})["!ref"]&&Zr(ee,27,ge(Q.SheetNames[pe],xe++));var Ne=0;for(pe=0;pe<Q.SheetNames.length;++pe){var Se=Q.Sheets[Q.SheetNames[pe]];if(!(!Se||!Se["!ref"])){for(var je=ro(Se["!ref"]),Ge=Array.isArray(Se),De=[],at=Math.min(je.e.r,8191),ot=je.s.r;ot<=at;++ot)for(var ht=Ic(ot),Ue=je.s.c;Ue<=je.e.c;++Ue){ot===je.s.r&&(De[Ue]=Jc(Ue));var Ct=De[Ue]+ht,tr=Ge?(Se[ot]||[])[Ue]:Se[Ct];if(!(!tr||tr.t=="z"))if(tr.t=="n")Zr(ee,23,Z(ot,Ue,Ne,tr.v));else{var Ot=Om(tr);Zr(ee,22,M(ot,Ue,Ne,Ot.slice(0,239)))}}++Ne}}return Zr(ee,1),ee.end()}function a(Q){var le=ar(2);return le.write_shift(2,Q),le}function o(Q){var le=ar(26);le.write_shift(2,4096),le.write_shift(2,4),le.write_shift(4,0);for(var ne=0,ee=0,pe=0,xe=0;xe<Q.SheetNames.length;++xe){var Ne=Q.SheetNames[xe],Se=Q.Sheets[Ne];if(!(!Se||!Se["!ref"])){++pe;var je=zd(Se["!ref"]);ne<je.e.r&&(ne=je.e.r),ee<je.e.c&&(ee=je.e.c)}}return ne>8191&&(ne=8191),le.write_shift(2,ne),le.write_shift(1,pe),le.write_shift(1,ee),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(1,1),le.write_shift(1,2),le.write_shift(4,0),le.write_shift(4,0),le}function l(Q,le,ne){var ee={s:{c:0,r:0},e:{c:0,r:0}};return le==8&&ne.qpro?(ee.s.c=Q.read_shift(1),Q.l++,ee.s.r=Q.read_shift(2),ee.e.c=Q.read_shift(1),Q.l++,ee.e.r=Q.read_shift(2),ee):(ee.s.c=Q.read_shift(2),ee.s.r=Q.read_shift(2),le==12&&ne.qpro&&(Q.l+=2),ee.e.c=Q.read_shift(2),ee.e.r=Q.read_shift(2),le==12&&ne.qpro&&(Q.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(Q){var le=ar(8);return le.write_shift(2,Q.s.c),le.write_shift(2,Q.s.r),le.write_shift(2,Q.e.c),le.write_shift(2,Q.e.r),le}function u(Q,le,ne){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(ee[0].c=Q.read_shift(1),ee[3]=Q.read_shift(1),ee[0].r=Q.read_shift(2),Q.l+=2):(ee[2]=Q.read_shift(1),ee[0].c=Q.read_shift(2),ee[0].r=Q.read_shift(2)),ee}function f(Q,le,ne){var ee=Q.l+le,pe=u(Q,le,ne);if(pe[1].t="s",ne.vers==20768){Q.l++;var xe=Q.read_shift(1);return pe[1].v=Q.read_shift(xe,"utf8"),pe}return ne.qpro&&Q.l++,pe[1].v=Q.read_shift(ee-Q.l,"cstr"),pe}function h(Q,le,ne){var ee=ar(7+ne.length);ee.write_shift(1,255),ee.write_shift(2,le),ee.write_shift(2,Q),ee.write_shift(1,39);for(var pe=0;pe<ee.length;++pe){var xe=ne.charCodeAt(pe);ee.write_shift(1,xe>=128?95:xe)}return ee.write_shift(1,0),ee}function g(Q,le,ne){var ee=u(Q,le,ne);return ee[1].v=Q.read_shift(2,"i"),ee}function p(Q,le,ne){var ee=ar(7);return ee.write_shift(1,255),ee.write_shift(2,le),ee.write_shift(2,Q),ee.write_shift(2,ne,"i"),ee}function S(Q,le,ne){var ee=u(Q,le,ne);return ee[1].v=Q.read_shift(8,"f"),ee}function b(Q,le,ne){var ee=ar(13);return ee.write_shift(1,255),ee.write_shift(2,le),ee.write_shift(2,Q),ee.write_shift(8,ne,"f"),ee}function N(Q,le,ne){var ee=Q.l+le,pe=u(Q,le,ne);if(pe[1].v=Q.read_shift(8,"f"),ne.qpro)Q.l=ee;else{var xe=Q.read_shift(2);F(Q.slice(Q.l,Q.l+xe),pe),Q.l+=xe}return pe}function C(Q,le,ne){var ee=le&32768;return le&=-32769,le=(ee?Q:0)+(le>=8192?le-16384:le),(ee?"":"$")+(ne?Jc(le):Ic(le))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(Q,le){wd(Q,0);for(var ne=[],ee=0,pe="",xe="",Ne="",Se="";Q.l<Q.length;){var je=Q[Q.l++];switch(je){case 0:ne.push(Q.read_shift(8,"f"));break;case 1:xe=C(le[0].c,Q.read_shift(2),!0),pe=C(le[0].r,Q.read_shift(2),!1),ne.push(xe+pe);break;case 2:{var Ge=C(le[0].c,Q.read_shift(2),!0),De=C(le[0].r,Q.read_shift(2),!1);xe=C(le[0].c,Q.read_shift(2),!0),pe=C(le[0].r,Q.read_shift(2),!1),ne.push(Ge+De+":"+xe+pe)}break;case 3:if(Q.l<Q.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(Q.read_shift(2));break;case 6:{for(var at="";je=Q[Q.l++];)at+=String.fromCharCode(je);ne.push('"'+at.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:Se=ne.pop(),Ne=ne.pop(),ne.push(["AND","OR"][je-20]+"("+Ne+","+Se+")");break;default:if(je<32&&T[je])Se=ne.pop(),Ne=ne.pop(),ne.push(Ne+T[je]+Se);else if(A[je]){if(ee=A[je][1],ee==69&&(ee=Q[Q.l++]),ee>ne.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+ne.join("|")+"|");return}var ot=ne.slice(-ee);ne.length-=ee,ne.push(A[je][0]+"("+ot.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}ne.length==1?le[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function L(Q){var le=[{c:0,r:0},{t:"n",v:0},0];return le[0].r=Q.read_shift(2),le[3]=Q[Q.l++],le[0].c=Q[Q.l++],le}function B(Q,le){var ne=L(Q);return ne[1].t="s",ne[1].v=Q.read_shift(le-4,"cstr"),ne}function M(Q,le,ne,ee){var pe=ar(6+ee.length);pe.write_shift(2,Q),pe.write_shift(1,ne),pe.write_shift(1,le),pe.write_shift(1,39);for(var xe=0;xe<ee.length;++xe){var Ne=ee.charCodeAt(xe);pe.write_shift(1,Ne>=128?95:Ne)}return pe.write_shift(1,0),pe}function W(Q,le){var ne=L(Q);ne[1].v=Q.read_shift(2);var ee=ne[1].v>>1;if(ne[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return ne[1].v=ee,ne}function z(Q,le){var ne=L(Q),ee=Q.read_shift(4),pe=Q.read_shift(4),xe=Q.read_shift(2);if(xe==65535)return ee===0&&pe===3221225472?(ne[1].t="e",ne[1].v=15):ee===0&&pe===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Ne=xe&32768;return xe=(xe&32767)-16446,ne[1].v=(1-Ne*2)*(pe*Math.pow(2,xe+32)+ee*Math.pow(2,xe)),ne}function Z(Q,le,ne,ee){var pe=ar(14);if(pe.write_shift(2,Q),pe.write_shift(1,ne),pe.write_shift(1,le),ee==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var xe=0,Ne=0,Se=0,je=0;return ee<0&&(xe=1,ee=-ee),Ne=Math.log2(ee)|0,ee/=Math.pow(2,Ne-31),je=ee>>>0,je&2147483648||(ee/=2,++Ne,je=ee>>>0),ee-=je,je|=2147483648,je>>>=0,ee*=Math.pow(2,32),Se=ee>>>0,pe.write_shift(4,Se),pe.write_shift(4,je),Ne+=16383+(xe?32768:0),pe.write_shift(2,Ne),pe}function K(Q,le){var ne=z(Q);return Q.l+=le-14,ne}function q(Q,le){var ne=L(Q),ee=Q.read_shift(4);return ne[1].v=ee>>6,ne}function ie(Q,le){var ne=L(Q),ee=Q.read_shift(8,"f");return ne[1].v=ee,ne}function ae(Q,le){var ne=ie(Q);return Q.l+=le-10,ne}function X(Q,le){return Q[Q.l+le-1]==0?Q.read_shift(le,"cstr"):""}function se(Q,le){var ne=Q[Q.l++];ne>le-1&&(ne=le-1);for(var ee="";ee.length<ne;)ee+=String.fromCharCode(Q[Q.l++]);return ee}function he(Q,le,ne){if(!(!ne.qpro||le<21)){var ee=Q.read_shift(1);Q.l+=17,Q.l+=1,Q.l+=2;var pe=Q.read_shift(le-21,"cstr");return[ee,pe]}}function ce(Q,le){for(var ne={},ee=Q.l+le;Q.l<ee;){var pe=Q.read_shift(2);if(pe==14e3){for(ne[pe]=[0,""],ne[pe][0]=Q.read_shift(2);Q[Q.l];)ne[pe][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return ne}function ge(Q,le){var ne=ar(5+Q.length);ne.write_shift(2,14e3),ne.write_shift(2,le);for(var ee=0;ee<Q.length;++ee){var pe=Q.charCodeAt(ee);ne[ne.l++]=pe>127?95:pe}return ne[ne.l++]=0,ne}var we={0:{n:"BOF",f:Dde},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:S},15:{n:"LABEL",f},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},Ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:z},24:{n:"NUMBER18",f:W},25:{n:"FORMULA19",f:K},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:ie},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:he},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),Cct=/^\s|\s$|[\t\n\r]/;function Ude(e,t){if(!t.bookSST)return"";var r=[Sl];r[r.length]=Kr("sst",null,{xmlns:nb[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Cct)&&(a+=' xml:space="preserve"'),a+=">"+us(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Act(e){return[e.read_shift(4),e.read_shift(4)]}function jct(e,t){return t||(t=ar(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Ect=vlt;function Tct(e){var t=ld();wr(t,159,jct(e));for(var r=0;r<e.length;++r)wr(t,19,Ect(e[r]));return wr(t,160),t.end()}function kct(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function zde(e){var t=0,r,n=kct(e),i=n.length+1,a,o,l,c,u;for(r=ux(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Pct=function(){function e(i,a){switch(a.type){case"base64":return t(Pm(i),a);case"binary":return t(i,a);case"buffer":return t(ts&&Buffer.isBuffer(i)?i.toString("binary"):b5(i),a);case"array":return t(N6(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var o=a||{},l=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,h){Array.isArray(l)&&(l[h]=[]);for(var g=/\\\w+\b/g,p=0,S,b=-1;S=g.exec(f);){switch(S[0]){case"\\cell":var N=f.slice(p,g.lastIndex-S[0].length);if(N[0]==" "&&(N=N.slice(1)),++b,N.length){var C={v:N,t:"s"};Array.isArray(l)?l[h][b]=C:l[fs({r:h,c:b})]=C}break}p=g.lastIndex}b>u.e.c&&(u.e.c=b)}),l["!ref"]=Nl(u),l}function r(i,a){return Ox(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=ro(i["!ref"]),l,c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=fs({r:u,c:f});l=c?(i[u]||[])[f]:i[h],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(Om(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function UK(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Oct=6,bm=Oct;function PA(e){return Math.floor((e+Math.round(128/bm)/256)*bm)}function OA(e){return Math.floor((e-5)/bm*100+.5)/100}function kF(e){return Math.round((e*bm+5)/bm*256)/256}function mL(e){e.width?(e.wpx=PA(e.width),e.wch=OA(e.wpx),e.MDW=bm):e.wpx?(e.wch=OA(e.wpx),e.width=kF(e.wch),e.MDW=bm):typeof e.wch=="number"&&(e.width=kF(e.wch),e.wpx=PA(e.width),e.MDW=bm),e.customWidth&&delete e.customWidth}var Ict=96,Vde=Ict;function IA(e){return e*96/Vde}function Wde(e){return e*Vde/96}function Fct(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Kr("numFmt",null,{numFmtId:n,formatCode:us(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Kr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Dct(e){var t=[];return t[t.length]=Kr("cellXfs",null),e.forEach(function(r){t[t.length]=Kr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Kr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Hde(e,t){var r=[Sl,Kr("styleSheet",null,{xmlns:nb[0],"xmlns:vt":ic.vt})],n;return e.SSF&&(n=Fct(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Dct(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Rct(e,t){var r=e.read_shift(2),n=Zc(e);return[r,n]}function Mct(e,t,r){r||(r=ar(6+4*t.length)),r.write_shift(2,e),oc(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Lct(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=Clt(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Slt(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Zc(e),n}function Bct(e,t){t||(t=ar(25+4*32)),t.write_shift(2,e.sz*20),Alt(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),TA(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),oc(e.name,t),t.length>t.l?t.slice(0,t.l):t}var $ct=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ak,Uct=E0;function zK(e,t){t||(t=ar(4*3+8*7+16*1)),Ak||(Ak=rL($ct));var r=Ak[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(TA({auto:1},t),TA({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function zct(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function qde(e,t,r){r||(r=ar(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function dw(e,t){return t||(t=ar(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Vct=E0;function Wct(e,t){return t||(t=ar(51)),t.write_shift(1,0),dw(null,t),dw(null,t),dw(null,t),dw(null,t),dw(null,t),t.length>t.l?t.slice(0,t.l):t}function Hct(e,t){return t||(t=ar(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),EA(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function qct(e,t,r){var n=ar(2052);return n.write_shift(4,e),EA(t,n),EA(r,n),n.length>n.l?n.slice(0,n.l):n}function Gct(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(wr(e,615,yh(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&wr(e,44,Mct(i,t[i]))}),wr(e,616))}}function Kct(e){var t=1;wr(e,611,yh(t)),wr(e,43,Bct({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),wr(e,612)}function Yct(e){var t=2;wr(e,603,yh(t)),wr(e,45,zK({patternType:"none"})),wr(e,45,zK({patternType:"gray125"})),wr(e,604)}function Xct(e){var t=1;wr(e,613,yh(t)),wr(e,46,Wct()),wr(e,614)}function Jct(e){var t=1;wr(e,626,yh(t)),wr(e,47,qde({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),wr(e,627)}function Zct(e,t){wr(e,617,yh(t.length)),t.forEach(function(r){wr(e,47,qde(r,0))}),wr(e,618)}function Qct(e){var t=1;wr(e,619,yh(t)),wr(e,48,Hct({xfId:0,builtinId:0,name:"Normal"})),wr(e,620)}function eut(e){var t=0;wr(e,505,yh(t)),wr(e,506)}function tut(e){var t=0;wr(e,508,qct(t,"TableStyleMedium9","PivotStyleMedium4")),wr(e,509)}function rut(e,t){var r=ld();return wr(r,278),Gct(r,e.SSF),Kct(r),Yct(r),Xct(r),Jct(r),Zct(r,t.cellXfs),Qct(r),eut(r),tut(r),wr(r,279),r.end()}function Gde(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Sl];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function nut(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Zc(e)}}function aut(e){var t=ar(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),oc(e.name,t),t.slice(0,t.l)}function iut(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function sut(e){var t=ar(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function out(e,t){var r=ar(8+2*t.length);return r.write_shift(4,e),oc(t,r),r.slice(0,r.l)}function lut(e){return e.l+=4,e.read_shift(4)!=0}function cut(e,t){var r=ar(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}function uut(){var e=ld();return wr(e,332),wr(e,334,yh(1)),wr(e,335,aut({name:"XLDAPR",version:12e4,flags:3496657072})),wr(e,336),wr(e,339,out(1,"XLDAPR")),wr(e,52),wr(e,35,yh(514)),wr(e,4096,yh(0)),wr(e,4097,gf(1)),wr(e,36),wr(e,53),wr(e,340),wr(e,337,cut(1,!0)),wr(e,51,sut([[1,0]])),wr(e,338),wr(e,333),e.end()}function Kde(){var e=[Sl];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function dut(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=fs(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Zv=1024;function Yde(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Kr("xml",null,{"xmlns:v":Nd.v,"xmlns:o":Nd.o,"xmlns:x":Nd.x,"xmlns:mv":Nd.mv}).replace(/\/>/,">"),Kr("o:shapelayout",Kr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Kr("v:shapetype",[Kr("v:stroke",null,{joinstyle:"miter"}),Kr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Zv<e*1e3;)Zv+=1e3;return t.forEach(function(a){var o=sc(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Kr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Kr("v:fill",c,l),f={on:"t",obscured:"t"};++Zv,i=i.concat(["<v:shape"+E4({id:"_x0000_s"+Zv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Kr("v:shadow",null,f),Kr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Pc("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Pc("x:AutoFill","False"),Pc("x:Row",String(o.r)),Pc("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Xde(e){var t=[Sl,Kr("comments",null,{xmlns:nb[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=us(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(us(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Pc("t",us(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)o+=`Reply:
    `+a[l]+`
`;t.push(Pc("t",us(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function fut(e,t,r){var n=[Sl,Kr("ThreadedComments",null,{xmlns:ic.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Kr("threadedComment",Pc("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function hut(e){var t=[Sl,Kr("personList",null,{xmlns:ic.TCMNT,"xmlns:x":nb[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Kr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function mut(e){var t={};t.iauthor=e.read_shift(4);var r=Rx(e);return t.rfx=r.s,t.ref=fs(r.s),e.l+=16,t}function put(e,t){return t==null&&(t=ar(36)),t.write_shift(4,e[1].iauthor),ib(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var gut=Zc;function xut(e){return oc(e.slice(0,54))}function vut(e){var t=ld(),r=[];return wr(t,628),wr(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),wr(t,632,xut(i.a)))})}),wr(t,631),wr(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:sc(n[0]),e:sc(n[0])};wr(t,635,put([a,i])),i.t&&i.t.length>0&&wr(t,637,blt(i)),wr(t,636),delete i.iauthor})}),wr(t,634),wr(t,629),t.end()}function yut(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&bs.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var Jde=["xlsb","xlsm","xlam","biff8","xla"],but=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,o){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=t.c:--f,c?u+=t.r:--u,i+(l?"":"$")+Jc(f)+(c?"":"$")+Ic(u)}return function(i,a){return t=a,i.replace(e,r)}}(),pL=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gL=function(){return function(t,r){return t.replace(pL,function(n,i,a,o,l,c){var u=cL(o)-(a?0:r.c),f=lL(c)-(l?0:r.r),h=f==0?"":l?f+1:"["+f+"]",g=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+g})}}();function wut(e,t){return e.replace(pL,function(r,n,i,a,o,l){return n+(i=="$"?i+a:Jc(cL(a)+t.c))+(o=="$"?o+l:Ic(lL(l)+t.r))})}function _ut(e){return e.length!=1}function pl(e){e.l+=1}function f1(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function Zde(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Qde(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),o=f1(e,2),l=f1(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function Qde(e){var t=f1(e,2),r=f1(e,2),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Nut(e,t,r){if(r.biff<8)return Qde(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=f1(e,2),o=f1(e,2);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function efe(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Sut(e);var n=e.read_shift(r&&r.biff==12?4:2),i=f1(e,2);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Sut(e){var t=f1(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Cut(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Aut(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return jut(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:l}}function jut(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function Eut(e,t,r){var n=(e[e.l++]&96)>>5,i=Zde(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Tut(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=Zde(e,a,r);return[n,i,o]}function kut(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Put(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function Out(e,t,r){var n=(e[e.l++]&96)>>5,i=Nut(e,t-1,r);return[n,i]}function Iut(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function VK(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Fut(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function Dut(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Rut(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Mut(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Lut(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function tfe(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function But(e){return e.read_shift(2),tfe(e)}function $ut(e){return e.read_shift(2),tfe(e)}function Uut(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=efe(e,0,r);return[n,i]}function zut(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=Aut(e,0,r);return[n,i]}function Vut(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=efe(e,0,r);return[n,i,a]}function Wut(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[Wdt[i],afe[i],n]}function Hut(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:qut(e);return[i,(a[0]===0?afe:Vdt)[a[1]]]}function qut(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Gut(e,t,r){e.l+=r&&r.biff==2?3:4}function Kut(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Yut(e){return e.l++,N5[e.read_shift(1)]}function Xut(e){return e.l++,e.read_shift(2)}function Jut(e){return e.l++,e.read_shift(1)!==0}function Zut(e){return e.l++,sb(e)}function Qut(e,t,r){return e.l++,Mde(e,t-1,r)}function edt(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Vlt(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=N5[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=sb(e);break;case 2:r[1]=Glt(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function tdt(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Rx:Xlt)(e));return i}function rdt(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var l=0;l!=i;++l)o[a][l]=edt(e,r.biff);return o}function ndt(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function adt(e,t,r){if(r.biff==5)return idt(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function idt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function sdt(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function odt(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function ldt(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function cdt(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var udt=E0,ddt=E0,fdt=E0;function S5(e,t,r){return e.l+=2,[Cut(e)]}function xL(e){return e.l+=6,[]}var hdt=S5,mdt=xL,pdt=xL,gdt=S5;function rfe(e){return e.l+=2,[Dde(e),e.read_shift(2)&1]}var xdt=S5,vdt=rfe,ydt=xL,bdt=S5,wdt=S5,_dt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ndt(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=_dt[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:i,C:a}}function Sdt(e){return e.l+=2,[e.read_shift(4)]}function Cdt(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Adt(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jdt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Edt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Tdt(e){return e.l+=4,[0,0]}var WK={1:{n:"PtgExp",f:Kut},2:{n:"PtgTbl",f:fdt},3:{n:"PtgAdd",f:pl},4:{n:"PtgSub",f:pl},5:{n:"PtgMul",f:pl},6:{n:"PtgDiv",f:pl},7:{n:"PtgPower",f:pl},8:{n:"PtgConcat",f:pl},9:{n:"PtgLt",f:pl},10:{n:"PtgLe",f:pl},11:{n:"PtgEq",f:pl},12:{n:"PtgGe",f:pl},13:{n:"PtgGt",f:pl},14:{n:"PtgNe",f:pl},15:{n:"PtgIsect",f:pl},16:{n:"PtgUnion",f:pl},17:{n:"PtgRange",f:pl},18:{n:"PtgUplus",f:pl},19:{n:"PtgUminus",f:pl},20:{n:"PtgPercent",f:pl},21:{n:"PtgParen",f:pl},22:{n:"PtgMissArg",f:pl},23:{n:"PtgStr",f:Qut},26:{n:"PtgSheet",f:Cdt},27:{n:"PtgEndSheet",f:Adt},28:{n:"PtgErr",f:Yut},29:{n:"PtgBool",f:Jut},30:{n:"PtgInt",f:Xut},31:{n:"PtgNum",f:Zut},32:{n:"PtgArray",f:Iut},33:{n:"PtgFunc",f:Wut},34:{n:"PtgFuncVar",f:Hut},35:{n:"PtgName",f:ndt},36:{n:"PtgRef",f:Uut},37:{n:"PtgArea",f:Eut},38:{n:"PtgMemArea",f:sdt},39:{n:"PtgMemErr",f:udt},40:{n:"PtgMemNoMem",f:ddt},41:{n:"PtgMemFunc",f:odt},42:{n:"PtgRefErr",f:ldt},43:{n:"PtgAreaErr",f:kut},44:{n:"PtgRefN",f:zut},45:{n:"PtgAreaN",f:Out},46:{n:"PtgMemAreaN",f:jdt},47:{n:"PtgMemNoMemN",f:Edt},57:{n:"PtgNameX",f:adt},58:{n:"PtgRef3d",f:Vut},59:{n:"PtgArea3d",f:Tut},60:{n:"PtgRefErr3d",f:cdt},61:{n:"PtgAreaErr3d",f:Put},255:{}},kdt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Pdt={1:{n:"PtgElfLel",f:rfe},2:{n:"PtgElfRw",f:bdt},3:{n:"PtgElfCol",f:hdt},6:{n:"PtgElfRwV",f:wdt},7:{n:"PtgElfColV",f:gdt},10:{n:"PtgElfRadical",f:xdt},11:{n:"PtgElfRadicalS",f:ydt},13:{n:"PtgElfColS",f:mdt},15:{n:"PtgElfColSV",f:pdt},16:{n:"PtgElfRadicalLel",f:vdt},25:{n:"PtgList",f:Ndt},29:{n:"PtgSxName",f:Sdt},255:{}},Odt={0:{n:"PtgAttrNoop",f:Tdt},1:{n:"PtgAttrSemi",f:Lut},2:{n:"PtgAttrIf",f:Rut},4:{n:"PtgAttrChoose",f:Fut},8:{n:"PtgAttrGoto",f:Dut},16:{n:"PtgAttrSum",f:Gut},32:{n:"PtgAttrBaxcel",f:VK},33:{n:"PtgAttrBaxcel",f:VK},64:{n:"PtgAttrSpace",f:But},65:{n:"PtgAttrSpaceSemi",f:$ut},128:{n:"PtgAttrIfError",f:Mut},255:{}};function Idt(e,t,r,n){if(n.biff<8)return E0(e,t);for(var i=e.l+t,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=rdt(e,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=tdt(e,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=i-e.l,t!==0&&a.push(E0(e,t)),a}function Fdt(e,t,r){for(var n=e.l+t,i,a,o=[];n!=e.l;)t=n-e.l,a=e[e.l],i=WK[a]||WK[kdt[a]],(a===24||a===25)&&(i=(a===24?Pdt:Odt)[e[e.l+1]]),!i||!i.f?E0(e,t):o.push([i.n,i.f(e,t,r)]);return o}function Ddt(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Rdt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Mdt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function nfe(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HK(e,t,r){var n=nfe(e,t,r);return n=="#REF"?n:Mdt(n,r)}function Ny(e,t,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,f,h=0,g=0,p,S="";if(!e[0]||!e[0][0])return"";for(var b=-1,N="",C=0,A=e[0].length;C<A;++C){var T=e[0][C];switch(T[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),b>=0){switch(e[0][b][1][0]){case 0:N=Lo(" ",e[0][b][1][1]);break;case 1:N=Lo("\r",e[0][b][1][1]);break;default:if(N="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}u=u+N,b=-1}l.push(u+Rdt[T[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=t_(T[1][1],o,i),l.push(r_(f,a));break;case"PtgRefN":f=r?t_(T[1][1],r,i):T[1][1],l.push(r_(f,a));break;case"PtgRef3d":h=T[1][1],f=t_(T[1][2],o,i),S=HK(n,h,i),l.push(S+"!"+r_(f,a));break;case"PtgFunc":case"PtgFuncVar":var F=T[1][0],L=T[1][1];F||(F=0),F&=127;var B=F==0?[]:l.slice(-F);l.length-=F,L==="User"&&(L=B.shift()),l.push(L+"("+B.join(",")+")");break;case"PtgBool":l.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(T[1]);break;case"PtgNum":l.push(String(T[1]));break;case"PtgStr":l.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(T[1]);break;case"PtgAreaN":p=TK(T[1][1],r?{s:r}:o,i),l.push(Sk(p,i));break;case"PtgArea":p=TK(T[1][1],o,i),l.push(Sk(p,i));break;case"PtgArea3d":h=T[1][1],p=T[1][2],S=HK(n,h,i),l.push(S+"!"+Sk(p,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=T[1][2];var M=(n.names||[])[g-1]||(n[0]||[])[g],W=M?M.Name:"SH33TJSNAME"+String(g);W&&W.slice(0,6)=="_xlfn."&&!i.xlfn&&(W=W.slice(6)),l.push(W);break;case"PtgNameX":var z=T[1][1];g=T[1][2];var Z;if(i.biff<=5)z<0&&(z=-z),n[z]&&(Z=n[z][g]);else{var K="";if(((n[z]||[])[0]||[])[0]==14849||(((n[z]||[])[0]||[])[0]==1025?n[z][g]&&n[z][g].itab>0&&(K=n.SheetNames[n[z][g].itab-1]+"!"):K=n.SheetNames[g-1]+"!"),n[z]&&n[z][g])K+=n[z][g].Name;else if(n[0]&&n[0][g])K+=n[0][g].Name;else{var q=(nfe(n,z,i)||"").split(";;");q[g-1]?K=q[g-1]:K+="SH33TJSERRX"}l.push(K);break}Z||(Z={Name:"SH33TJSERRY"}),l.push(Z.Name);break;case"PtgParen":var ie="(",ae=")";if(b>=0){switch(N="",e[0][b][1][0]){case 2:ie=Lo(" ",e[0][b][1][1])+ie;break;case 3:ie=Lo("\r",e[0][b][1][1])+ie;break;case 4:ae=Lo(" ",e[0][b][1][1])+ae;break;case 5:ae=Lo("\r",e[0][b][1][1])+ae;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}l.push(ie+l.pop()+ae);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:T[1][1],r:T[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[fs(f)]){var se=n.sharedf[fs(f)];l.push(Ny(se,o,X,n,i))}else{var he=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){l.push(Ny(u[1],o,X,n,i)),he=!0;break}he||l.push(T[1])}break;case"PtgArray":l.push("{"+Ddt(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ce.indexOf(e[0][C][0])==-1){T=e[0][b];var ge=!0;switch(T[1][0]){case 4:ge=!1;case 0:N=Lo(" ",T[1][1]);break;case 5:ge=!1;case 1:N=Lo("\r",T[1][1]);break;default:if(N="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}l.push((ge?N:"")+l.pop()+(ge?"":N)),b=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function Ldt(e){if(e==null){var t=ar(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return dx(e);return dx(0)}function Bdt(e,t,r,n,i){var a=fx(t,r,i),o=Ldt(e.v),l=ar(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=ar(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var h=kc([a,o,l,u]);return h}function S6(e,t,r){var n=e.read_shift(4),i=Fdt(e,n,r),a=e.read_shift(4),o=a>0?Idt(e,a,i,r):null;return[i,o]}var $dt=S6,C6=S6,Udt=S6,zdt=S6,Vdt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},afe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Wdt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Hdt(e){var t="of:="+e.replace(pL,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function qdt(e){return e.replace(/\./,"!")}var n_=typeof Map<"u";function vL(e,t,r){var n=0,i=e.length;if(r){if(n_?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=n_?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(n_?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function A6(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(bm=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=OA(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=kF(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function ife(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function k1(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){ede(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function Gdt(e,t,r){if(e&&e["!ref"]){var n=ro(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Kdt(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Nl(e[r])+'"/>';return t+"</mergeCells>"}function Ydt(e,t,r,n,i){var a=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,o.codeName=um(us(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Kr("outlinePr",null,u)}!a&&!l||(i[i.length]=Kr("sheetPr",l,o))}var Xdt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Jdt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Zdt(e){var t={sheet:1};return Xdt.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Jdt.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=zde(e.password).toString(16).toUpperCase()),Kr("sheetProtection",null,t)}function Qdt(e){return ife(e),Kr("pageMargins",null,e)}function eft(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Kr("col",null,A6(i,n)));return r[r.length]="</cols>",r.join("")}function tft(e,t,r,n){var i=typeof e.ref=="string"?e.ref:Nl(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=zd(i);o.s.r==o.e.r&&(o.e.r=zd(t["!ref"]).e.r,i=Nl(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Kr("autoFilter",null,{ref:i})}function rft(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Kr("sheetViews",Kr("sheetView",null,i),{})}function nft(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=N5[e.v];break;case"d":n&&n.cellDates?i=ku(e.v,-1).toISOString():(e=fd(e),e.t="n",i=""+(e.v=dd(ku(e.v)))),typeof e.z>"u"&&(e.z=Wo[14]);break;default:i=e.v;break}var l=Pc("v",us(i)),c={r:t},u=k1(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Pc("v",""+vL(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Kr("f",us(e.f),f)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Kr("c",l,c)}function aft(e,t,r,n){var i=[],a=[],o=ro(e["!ref"]),l="",c,u="",f=[],h=0,g=0,p=e["!rows"],S=Array.isArray(e),b={r:u},N,C=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=Jc(g);for(h=o.s.r;h<=o.e.r;++h){for(a=[],u=Ic(h),g=o.s.c;g<=o.e.c;++g){c=f[g]+u;var A=S?(e[h]||[])[g]:e[c];A!==void 0&&(l=nft(A,c,e,t))!=null&&a.push(l)}(a.length>0||p&&p[h])&&(b={r:u},p&&p[h]&&(N=p[h],N.hidden&&(b.hidden=1),C=-1,N.hpx?C=IA(N.hpx):N.hpt&&(C=N.hpt),C>-1&&(b.ht=C,b.customHeight=1),N.level&&(b.outlineLevel=N.level)),i[i.length]=Kr("row",a.join(""),b))}if(p)for(;h<p.length;++h)p&&p[h]&&(b={r:h+1},N=p[h],N.hidden&&(b.hidden=1),C=-1,N.hpx?C=IA(N.hpx):N.hpt&&(C=N.hpt),C>-1&&(b.ht=C,b.customHeight=1),N.level&&(b.outlineLevel=N.level),i[i.length]=Kr("row","",b));return i.join("")}function sfe(e,t,r,n){var i=[Sl,Kr("worksheet",null,{xmlns:nb[0],"xmlns:r":ic.r})],a=r.SheetNames[e],o=0,l="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",f=ro(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Nl(f)}n||(n={}),c["!comments"]=[];var h=[];Ydt(c,r,e,t,i),i[i.length]=Kr("dimension",null,{ref:u}),i[i.length]=rft(c,t,e,r),t.sheetFormat&&(i[i.length]=Kr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=eft(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=aft(c,t),l.length>0&&(i[i.length]=l)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=Zdt(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=tft(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=Kdt(c["!merges"]));var g=-1,p,S=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(b){b[1].Target&&(p={ref:b[0]},b[1].Target.charAt(0)!="#"&&(S=cs(n,-1,us(b[1].Target).replace(/#.*$/,""),Ki.HLINK),p["r:id"]="rId"+S),(g=b[1].Target.indexOf("#"))>-1&&(p.location=us(b[1].Target.slice(g+1))),b[1].Tooltip&&(p.tooltip=us(b[1].Tooltip)),i[i.length]=Kr("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Qdt(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Pc("ignoredErrors",Kr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(S=cs(n,-1,"../drawings/drawing"+(e+1)+".xml",Ki.DRAW),i[i.length]=Kr("drawing",null,{"r:id":"rId"+S}),c["!drawing"]=h),c["!comments"].length>0&&(S=cs(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ki.VML),i[i.length]=Kr("legacyDrawing",null,{"r:id":"rId"+S}),c["!legacy"]=S),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function ift(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function sft(e,t,r){var n=ar(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=IA(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,g=-1,p=f<<10;p<f+1<<10;++p){u.c=p;var S=Array.isArray(r)?(r[u.r]||[])[u.c]:r[fs(u)];S&&(h<0&&(h=p),g=p)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,g))}var b=n.l;return n.l=c,n.write_shift(4,l),n.l=b,n.length>n.l?n.slice(0,n.l):n}function oft(e,t,r,n){var i=sft(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&wr(e,0,i)}var lft=Rx,cft=ib;function uft(){}function dft(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=wlt(e),r}function fft(e,t,r){r==null&&(r=ar(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return TA({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),wde(e,r),r.slice(0,r.l)}function hft(e){var t=If(e);return[t]}function mft(e,t,r){return r==null&&(r=ar(8)),Ix(t,r)}function pft(e){var t=Fx(e);return[t]}function gft(e,t,r){return r==null&&(r=ar(4)),Dx(t,r)}function xft(e){var t=If(e),r=e.read_shift(1);return[t,r,"b"]}function vft(e,t,r){return r==null&&(r=ar(9)),Ix(t,r),r.write_shift(1,e.v?1:0),r}function yft(e){var t=Fx(e),r=e.read_shift(1);return[t,r,"b"]}function bft(e,t,r){return r==null&&(r=ar(5)),Dx(t,r),r.write_shift(1,e.v?1:0),r}function wft(e){var t=If(e),r=e.read_shift(1);return[t,r,"e"]}function _ft(e,t,r){return r==null&&(r=ar(9)),Ix(t,r),r.write_shift(1,e.v),r}function Nft(e){var t=Fx(e),r=e.read_shift(1);return[t,r,"e"]}function Sft(e,t,r){return r==null&&(r=ar(8)),Dx(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Cft(e){var t=If(e),r=e.read_shift(4);return[t,r,"s"]}function Aft(e,t,r){return r==null&&(r=ar(12)),Ix(t,r),r.write_shift(4,t.v),r}function jft(e){var t=Fx(e),r=e.read_shift(4);return[t,r,"s"]}function Eft(e,t,r){return r==null&&(r=ar(8)),Dx(t,r),r.write_shift(4,t.v),r}function Tft(e){var t=If(e),r=sb(e);return[t,r,"n"]}function kft(e,t,r){return r==null&&(r=ar(16)),Ix(t,r),dx(e.v,r),r}function Pft(e){var t=Fx(e),r=sb(e);return[t,r,"n"]}function Oft(e,t,r){return r==null&&(r=ar(12)),Dx(t,r),dx(e.v,r),r}function Ift(e){var t=If(e),r=_de(e);return[t,r,"n"]}function Fft(e,t,r){return r==null&&(r=ar(12)),Ix(t,r),Nde(e.v,r),r}function Dft(e){var t=Fx(e),r=_de(e);return[t,r,"n"]}function Rft(e,t,r){return r==null&&(r=ar(8)),Dx(t,r),Nde(e.v,r),r}function Mft(e){var t=If(e),r=uL(e);return[t,r,"is"]}function Lft(e){var t=If(e),r=Zc(e);return[t,r,"str"]}function Bft(e,t,r){return r==null&&(r=ar(12+4*e.v.length)),Ix(t,r),oc(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $ft(e){var t=Fx(e),r=Zc(e);return[t,r,"str"]}function Uft(e,t,r){return r==null&&(r=ar(8+4*e.v.length)),Dx(t,r),oc(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zft(e,t,r){var n=e.l+t,i=If(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var l=C6(e,n-e.l,r);o[3]=Ny(l,null,i,r.supbooks,r)}else e.l=n;return o}function Vft(e,t,r){var n=e.l+t,i=If(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var l=C6(e,n-e.l,r);o[3]=Ny(l,null,i,r.supbooks,r)}else e.l=n;return o}function Wft(e,t,r){var n=e.l+t,i=If(e);i.r=r["!row"];var a=sb(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var l=C6(e,n-e.l,r);o[3]=Ny(l,null,i,r.supbooks,r)}else e.l=n;return o}function Hft(e,t,r){var n=e.l+t,i=If(e);i.r=r["!row"];var a=Zc(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var l=C6(e,n-e.l,r);o[3]=Ny(l,null,i,r.supbooks,r)}else e.l=n;return o}var qft=Rx,Gft=ib;function Kft(e,t){return t==null&&(t=ar(4)),t.write_shift(4,e),t}function Yft(e,t){var r=e.l+t,n=Rx(e),i=dL(e),a=Zc(e),o=Zc(e),l=Zc(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:l};return o&&(c.Tooltip=o),c}function Xft(e,t){var r=ar(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ib({s:sc(e[0]),e:sc(e[0])},r),fL("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return oc(i||"",r),oc(e[1].Tooltip||"",r),oc("",r),r.slice(0,r.l)}function Jft(){}function Zft(e,t,r){var n=e.l+t,i=Sde(e),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var l=$dt(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Qft(e,t,r){var n=e.l+t,i=Rx(e),a=[i];if(r.cellFormula){var o=zdt(e,n-e.l,r);a[1]=o,e.l=n}else e.l=n;return a}function eht(e,t,r){r==null&&(r=ar(18));var n=A6(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var ofe=["left","right","top","bottom","header","footer"];function tht(e){var t={};return ofe.forEach(function(r){t[r]=sb(e)}),t}function rht(e,t){return t==null&&(t=ar(6*8)),ife(e),ofe.forEach(function(r){dx(e[r],t)}),t}function nht(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function aht(e,t,r){r==null&&(r=ar(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function iht(e){var t=ar(24);return t.write_shift(4,4),t.write_shift(4,1),ib(e,t),t}function sht(e,t){return t==null&&(t=ar(16*4+2)),t.write_shift(2,e.password?zde(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function oht(){}function lht(){}function cht(e,t,r,n,i,a,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=fd(t),t.z=t.z||Wo[14],t.v=dd(ku(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=k1(i.cellXfs,t,i),t.l&&a["!links"].push([fs(c),t.l]),t.c&&a["!comments"].push([fs(c),t.c]),t.t){case"s":case"str":return i.bookSST?(l=vL(i.Strings,t.v,i.revStrings),c.t="s",c.v=l,o?wr(e,18,Eft(t,c)):wr(e,7,Aft(t,c))):(c.t="str",o?wr(e,17,Uft(t,c)):wr(e,6,Bft(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?wr(e,13,Rft(t,c)):wr(e,2,Fft(t,c)):o?wr(e,16,Oft(t,c)):wr(e,5,kft(t,c)),!0;case"b":return c.t="b",o?wr(e,15,bft(t,c)):wr(e,4,vft(t,c)),!0;case"e":return c.t="e",o?wr(e,14,Sft(t,c)):wr(e,3,_ft(t,c)),!0}return o?wr(e,12,gft(t,c)):wr(e,1,mft(t,c)),!0}function uht(e,t,r,n){var i=ro(t["!ref"]||"A1"),a,o="",l=[];wr(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=Ic(f),oft(e,t,i,f);var h=!1;if(f<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){f===i.s.r&&(l[g]=Jc(g)),a=l[g]+o;var p=c?(t[f]||[])[g]:t[a];if(!p){h=!1;continue}h=cht(e,p,f,g,n,t,h)}}wr(e,146)}function dht(e,t){!t||!t["!merges"]||(wr(e,177,Kft(t["!merges"].length)),t["!merges"].forEach(function(r){wr(e,176,Gft(r))}),wr(e,178))}function fht(e,t){!t||!t["!cols"]||(wr(e,390),t["!cols"].forEach(function(r,n){r&&wr(e,60,eht(n,r))}),wr(e,391))}function hht(e,t){!t||!t["!ref"]||(wr(e,648),wr(e,649,iht(ro(t["!ref"]))),wr(e,650))}function mht(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=cs(r,-1,n[1].Target.replace(/#.*$/,""),Ki.HLINK);wr(e,494,Xft(n,i))}}),delete t["!links"]}function pht(e,t,r,n){if(t["!comments"].length>0){var i=cs(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ki.VML);wr(e,551,fL("rId"+i)),t["!legacy"]=i}}function ght(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:Nl(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=zd(a);l.s.r==l.e.r&&(l.e.r=zd(t["!ref"]).e.r,a=Nl(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),wr(e,161,ib(ro(a))),wr(e,162)}}function xht(e,t,r){wr(e,133),wr(e,137,aht(t,r)),wr(e,138),wr(e,134)}function vht(e,t){t["!protect"]&&wr(e,535,sht(t["!protect"]))}function yht(e,t,r,n){var i=ld(),a=r.SheetNames[e],o=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=ro(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],wr(i,129),(r.vbaraw||o["!outline"])&&wr(i,147,fft(l,o["!outline"])),wr(i,148,cft(c)),xht(i,o,r.Workbook),fht(i,o),uht(i,o,e,t),vht(i,o),ght(i,o,r,e),dht(i,o),mht(i,o,n),o["!margins"]&&wr(i,476,rht(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&hht(i,o),pht(i,o,e,n),wr(i,130),i.end()}function bht(e,t){e.l+=10;var r=Zc(e);return{name:r}}var wht=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _ht(e){return!e.Workbook||!e.Workbook.WBProps?"false":Qot(e.Workbook.WBProps.date1904)?"true":"false"}var Nht="][*?/\\".split("");function lfe(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return Nht.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function Sht(e,t,r){e.forEach(function(n,i){lfe(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[i]&&t[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Cht(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Sht(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Gdt(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function cfe(e){var t=[Sl];t[t.length]=Kr("workbook",null,{xmlns:nb[0],"xmlns:r":ic.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(wht.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Kr("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:us(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Kr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Kr("definedName",us(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Aht(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=TF(e),r.name=Zc(e),r}function jht(e,t){return t||(t=ar(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),fL(e.strRelID,t),oc(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Eht(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Zc(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Tht(e,t){t||(t=ar(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),wde(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function kht(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=_lt(e),o=Udt(e,0,r),l=dL(e);e.l=n;var c={Name:a,Ptg:o};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function Pht(e,t){wr(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};wr(e,156,jht(i))}wr(e,144)}function Oht(e,t){t||(t=ar(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return oc("SheetJS",t),oc(_A.version,t),oc(_A.version,t),oc("7262",t),t.length>t.l?t.slice(0,t.l):t}function Iht(e,t){t||(t=ar(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Fht(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(wr(e,135),wr(e,158,Iht(i)),wr(e,136))}}function Dht(e,t){var r=ld();return wr(r,131),wr(r,128,Oht()),wr(r,153,Tht(e.Workbook&&e.Workbook.WBProps||null)),Fht(r,e),Pht(r,e),wr(r,132),r.end()}function Rht(e,t,r){return(t.slice(-4)===".bin"?Dht:cfe)(e)}function Mht(e,t,r,n,i){return(t.slice(-4)===".bin"?yht:sfe)(e,r,n,i)}function Lht(e,t,r){return(t.slice(-4)===".bin"?rut:Hde)(e,r)}function Bht(e,t,r){return(t.slice(-4)===".bin"?Tct:Ude)(e,r)}function $ht(e,t,r){return(t.slice(-4)===".bin"?vut:Xde)(e)}function Uht(e){return(e.slice(-4)===".bin"?uut:Kde)()}function zht(e,t){var r=[];return e.Props&&r.push(Llt(e.Props,t)),e.Custprops&&r.push(Blt(e.Props,e.Custprops)),r.join("")}function Vht(){return""}function Wht(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(Kr("NumberFormat",null,{"ss:Format":us(Wo[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(Kr("Style",a.join(""),o))}),Kr("Styles",r.join(""))}function ufe(e){return Kr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+gL(e.Ref,{r:0,c:0})})}function Hht(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(ufe(i)))}return Kr("Names",r.join(""))}function qht(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],o=0;o<i.length;++o){var l=i[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(ufe(l)))}return a.join("")}function Ght(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Kr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Kr("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Kr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Kr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Pc("ProtectContents","True")),e["!protect"].objects&&i.push(Pc("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Pc("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Pc("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Pc("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Kr("WorksheetOptions",i.join(""),{xmlns:Nd.x})}function Kht(e){return e.map(function(t){var r=Zot(t.t||""),n=Kr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Kr("Comment",n,{"ss:Author":t.a})}).join("")}function Yht(e,t,r,n,i,a,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+us(gL(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=sc(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=us(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=us(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(l["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(l["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",g=String(e.v);break;case"b":h="Boolean",g=e.v?"1":"0";break;case"e":h="Error",g=N5[e.v];break;case"d":h="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Wo[14]);break;case"s":h="String",g=Jot(e.v||"");break}var p=k1(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var S=e.v!=null?g:"",b=e.t=="z"?"":'<Data ss:Type="'+h+'">'+S+"</Data>";return(e.c||[]).length>0&&(b+=Kht(e.c)),Kr("Cell",b,l)}function Xht(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Wde(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Jht(e,t,r,n){if(!e["!ref"])return"";var i=ro(e["!ref"]),a=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(N,C){mL(N);var A=!!N.width,T=A6(C,N),F={"ss:Index":C+1};A&&(F["ss:Width"]=PA(T.width)),N.hidden&&(F["ss:Hidden"]="1"),l.push(Kr("Column",null,F))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var f=[Xht(u,(e["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var g=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>h)&&!(a[o].s.r>u)&&!(a[o].e.c<h)&&!(a[o].e.r<u)){(a[o].s.c!=h||a[o].s.r!=u)&&(g=!0);break}if(!g){var p={r:u,c:h},S=fs(p),b=c?(e[u]||[])[h]:e[S];f.push(Yht(b,S,e,t,r,n,p))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function Zht(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],o=a?qht(a,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?Jht(a,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(Ght(a,t,e,r)),n.join("")}function Qht(e,t){t||(t={}),e.SSF||(e.SSF=fd(Wo)),e.SSF&&(w6(),b6(e.SSF),t.revssf=_6(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],k1(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(zht(e,t)),r.push(Vht()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Kr("Worksheet",Zht(n,t,e),{"ss:Name":us(e.SheetNames[n])}));return r[2]=Wht(e,t),r[3]=Hht(e),Sl+Kr("Workbook",r.join(""),{xmlns:Nd.ss,"xmlns:o":Nd.o,"xmlns:x":Nd.x,"xmlns:ss":Nd.ss,"xmlns:dt":Nd.dt,"xmlns:html":Nd.html})}var jk={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function e0t(e,t){var r=[],n=[],i=[],a=0,o,l=vK(PK,"n"),c=vK(OK,"n");if(e.Props)for(o=Dc(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Dc(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Custprops[o[a]]]);var u=[];for(a=0;a<i.length;++a)Fde.indexOf(i[a][0])>-1||Pde.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&bs.utils.cfb_add(t,"/SummaryInformation",MK(n,jk.SI,c,OK)),(r.length||u.length)&&bs.utils.cfb_add(t,"/DocumentSummaryInformation",MK(r,jk.DSI,l,PK,u.length?u:null,jk.UDI))}function t0t(e,t){var r=t||{},n=bs.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return bs.utils.cfb_add(n,i,dfe(e,r)),r.biff==8&&(e.Props||e.Custprops)&&e0t(e,n),r.biff==8&&e.vbaraw&&yut(n,bs.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var r0t={0:{f:ift},1:{f:hft},2:{f:Ift},3:{f:wft},4:{f:xft},5:{f:Tft},6:{f:Lft},7:{f:Cft},8:{f:Hft},9:{f:Wft},10:{f:zft},11:{f:Vft},12:{f:pft},13:{f:Dft},14:{f:Nft},15:{f:yft},16:{f:Pft},17:{f:$ft},18:{f:jft},19:{f:uL},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kht},40:{},42:{},43:{f:Lct},44:{f:Rct},45:{f:Uct},46:{f:Vct},47:{f:zct},48:{},49:{f:plt},50:{},51:{f:iut},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:gct},62:{f:Mft},63:{f:dut},64:{f:oht},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:E0,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nht},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dft},148:{f:lft,p:16},151:{f:Jft},152:{},153:{f:Eht},154:{},155:{},156:{f:Aht},157:{},158:{},159:{T:1,f:Act},160:{T:-1},161:{T:1,f:Rx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qft},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nut},336:{T:-1},337:{f:lut,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uct},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zft},427:{f:Qft},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tht},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:uft},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Yft},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gut},633:{T:1},634:{T:-1},635:{T:1,f:mut},636:{T:-1},637:{f:ylt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:bht},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lht},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Zr(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&oL(r)&&e.push(r)}}function n0t(e,t,r,n){var i=n||(r||[]).length||0;if(i<=8224)return Zr(e,t,r,i);var a=t;if(!isNaN(a)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var f=e.next(4);for(f.write_shift(2,a),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function C5(e,t,r){return e||(e=ar(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function a0t(e,t,r,n){var i=ar(9);return C5(i,e,t),Rde(r,n||"b",i),i}function i0t(e,t,r){var n=ar(8+2*r.length);return C5(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function s0t(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?dd(ku(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Zr(e,2,bct(r,n,i)):Zr(e,3,yct(r,n,i));return;case"b":case"e":Zr(e,5,a0t(r,n,t.v,t.t));return;case"s":case"str":Zr(e,4,i0t(r,n,(t.v||"").slice(0,255)));return}Zr(e,1,C5(null,r,n))}function o0t(e,t,r,n){var i=Array.isArray(t),a=ro(t["!ref"]||"A1"),o,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Nl(a)}for(var u=a.s.r;u<=a.e.r;++u){l=Ic(u);for(var f=a.s.c;f<=a.e.c;++f){u===a.s.r&&(c[f]=Jc(f)),o=c[f]+l;var h=i?(t[u]||[])[f]:t[o];h&&s0t(e,h,u,f)}}}function l0t(e,t){for(var r=t||{},n=ld(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Zr(n,r.biff==4?1033:r.biff==3?521:9,hL(e,16,r)),o0t(n,e.Sheets[e.SheetNames[i]],i,r),Zr(n,10),n.end()}function c0t(e,t,r){Zr(e,49,rct({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function u0t(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Zr(e,1054,ict(i,t[i],r))})}function d0t(e,t){var r=ar(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Zr(e,2151,r),r=ar(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Bde(ro(t["!ref"]||"A1"),r),r.write_shift(4,4),Zr(e,2152,r)}function f0t(e,t){for(var r=0;r<16;++r)Zr(e,224,BK({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Zr(e,224,BK(n,0,t))})}function h0t(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Zr(e,440,hct(n)),n[1].Tooltip&&Zr(e,2048,mct(n))}delete t["!links"]}function m0t(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&Zr(e,125,xct(A6(i,n),i))})}}function p0t(e,t,r,n,i){var a=16+k1(i.cellXfs,t,i);if(t.v==null&&!t.bf){Zr(e,513,fx(r,n,a));return}if(t.bf)Zr(e,6,Bdt(t,r,n,i,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?dd(ku(t.v)):t.v;Zr(e,515,cct(r,n,o,a));break;case"b":case"e":Zr(e,517,lct(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var l=vL(i.Strings,t.v,i.revStrings);Zr(e,253,nct(r,n,l,a))}else Zr(e,516,act(r,n,(t.v||"").slice(0,255),a,i));break;default:Zr(e,513,fx(r,n,a))}}function g0t(e,t,r){var n=ld(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,f,h="",g=[],p=ro(a["!ref"]||"A1"),S=u?65536:16384;if(p.e.c>255||p.e.r>=S){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,S-1)}Zr(n,2057,hL(r,16,t)),Zr(n,13,gf(1)),Zr(n,12,gf(100)),Zr(n,15,_u(!0)),Zr(n,17,_u(!1)),Zr(n,16,dx(.001)),Zr(n,95,_u(!0)),Zr(n,42,_u(!1)),Zr(n,43,_u(!1)),Zr(n,130,gf(1)),Zr(n,128,oct([0,0])),Zr(n,131,_u(!1)),Zr(n,132,_u(!1)),u&&m0t(n,a["!cols"]),Zr(n,512,sct(p,t)),u&&(a["!links"]=[]);for(var b=p.s.r;b<=p.e.r;++b){h=Ic(b);for(var N=p.s.c;N<=p.e.c;++N){b===p.s.r&&(g[N]=Jc(N)),f=g[N]+h;var C=c?(a[b]||[])[N]:a[f];C&&(p0t(n,C,b,N,t),u&&C.l&&a["!links"].push([f,C.l]))}}var A=l.CodeName||l.name||i;return u&&Zr(n,574,tct((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&Zr(n,229,fct(a["!merges"])),u&&h0t(n,a),Zr(n,442,Lde(A)),u&&d0t(n,a),Zr(n,10),n.end()}function x0t(e,t,r){var n=ld(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(Zr(n,2057,hL(e,5,r)),r.bookType=="xla"&&Zr(n,135),Zr(n,225,l?gf(1200):null),Zr(n,193,zlt(2)),c&&Zr(n,191),c&&Zr(n,192),Zr(n,226),Zr(n,92,Jlt("SheetJS",r)),Zr(n,66,gf(l?1200:1252)),l&&Zr(n,353,gf(0)),l&&Zr(n,448),Zr(n,317,vct(e.SheetNames.length)),l&&e.vbaraw&&Zr(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Zr(n,442,Lde(u))}Zr(n,156,gf(17)),Zr(n,25,_u(!1)),Zr(n,18,_u(!1)),Zr(n,19,gf(0)),l&&Zr(n,431,_u(!1)),l&&Zr(n,444,gf(0)),Zr(n,61,ect()),Zr(n,64,_u(!1)),Zr(n,141,gf(0)),Zr(n,34,_u(_ht(e)=="true")),Zr(n,14,_u(!0)),l&&Zr(n,439,_u(!1)),Zr(n,218,gf(0)),c0t(n,e,r),u0t(n,e.SSF,r),f0t(n,r),l&&Zr(n,352,_u(!1));var f=n.end(),h=ld();l&&Zr(h,140,pct()),l&&r.Strings&&n0t(h,252,Qlt(r.Strings)),Zr(h,10);var g=h.end(),p=ld(),S=0,b=0;for(b=0;b<e.SheetNames.length;++b)S+=(l?12:11)+(l?2:1)*e.SheetNames[b].length;var N=f.length+S+g.length;for(b=0;b<e.SheetNames.length;++b){var C=a[b]||{};Zr(p,133,Zlt({pos:N,hs:C.Hidden||0,dt:0,name:e.SheetNames[b]},r)),N+=t[b].length}var A=p.end();if(S!=A.length)throw new Error("BS8 "+S+" != "+A.length);var T=[];return f.length&&T.push(f),A.length&&T.push(A),g.length&&T.push(g),kc(T)}function v0t(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=fd(Wo)),e&&e.SSF&&(w6(),b6(e.SSF),r.revssf=_6(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,yL(r),r.cellXfs=[],k1(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=g0t(i,r,e);return n.unshift(x0t(e,n,r)),kc(n)}function dfe(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=zd(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return v0t(e,t);case 4:case 3:case 2:return l0t(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function y0t(e,t,r,n){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){l=-1;break}l=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(l<0)){var f=fs({r,c:o}),h=n.dense?(e[r]||[])[o]:e[f],g=h&&h.v!=null&&(h.h||Xot(h.w||(Om(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),p.id=(n.id||"sjs")+"-"+f,a.push(Kr("td",g,p))}}var S="<tr>";return S+a.join("")+"</tr>"}var b0t='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',w0t="</body></html>";function _0t(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function ffe(e,t){var r=t||{},n=r.header!=null?r.header:b0t,i=r.footer!=null?r.footer:w0t,a=[n],o=zd(e["!ref"]);r.dense=Array.isArray(e),a.push(_0t(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)a.push(y0t(e,o,l,r));return a.push("</table>"+i),a.join("")}function hfe(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?sc(n.origin):n.origin;i=o.r,a=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var f=zd(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var h=[],g=0,p=e["!rows"]||(e["!rows"]=[]),S=0,b=0,N=0,C=0,A=0,T=0;for(e["!cols"]||(e["!cols"]=[]);S<l.length&&b<c;++S){var F=l[S];if(qK(F)){if(n.display)continue;p[b]={hidden:!0}}var L=F.children;for(N=C=0;N<L.length;++N){var B=L[N];if(!(n.display&&qK(B))){var M=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):elt(B.innerHTML),W=B.getAttribute("data-z")||B.getAttribute("z");for(g=0;g<h.length;++g){var z=h[g];z.s.c==C+a&&z.s.r<b+i&&b+i<=z.e.r&&(C=z.e.c+1-a,g=-1)}T=+B.getAttribute("colspan")||1,((A=+B.getAttribute("rowspan")||1)>1||T>1)&&h.push({s:{r:b+i,c:C+a},e:{r:b+i+(A||1)-1,c:C+a+(T||1)-1}});var Z={t:"s",v:M},K=B.getAttribute("data-t")||B.getAttribute("t")||"";M!=null&&(M.length==0?Z.t=K||"z":n.raw||M.trim().length==0||K=="s"||(M==="TRUE"?Z={t:"b",v:!0}:M==="FALSE"?Z={t:"b",v:!1}:isNaN(ym(M))?isNaN(j4(M).getDate())||(Z={t:"d",v:ku(M)},n.cellDates||(Z={t:"n",v:dd(Z.v)}),Z.z=n.dateNF||Wo[14]):Z={t:"n",v:ym(M)})),Z.z===void 0&&W!=null&&(Z.z=W);var q="",ie=B.getElementsByTagName("A");if(ie&&ie.length)for(var ae=0;ae<ie.length&&!(ie[ae].hasAttribute("href")&&(q=ie[ae].getAttribute("href"),q.charAt(0)!="#"));++ae);q&&q.charAt(0)!="#"&&(Z.l={Target:q}),n.dense?(e[b+i]||(e[b+i]=[]),e[b+i][C+a]=Z):e[fs({c:C+a,r:b+i})]=Z,u.e.c<C+a&&(u.e.c=C+a),C+=T}}++b}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,b-1+i),e["!ref"]=Nl(u),b>=c&&(e["!fullref"]=Nl((u.e.r=l.length-S+b-1+i,u))),e}function mfe(e,t){var r=t||{},n=r.dense?[]:{};return hfe(n,e,t)}function N0t(e,t){return Ox(mfe(e,t),t)}function qK(e){var t="",r=S0t(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function S0t(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var C0t=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+E4({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Sl+t}}(),GK=function(){var e=function(a){return us(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,l){var c=[];c.push('      <table:table table:name="'+us(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,f=0,h=zd(a["!ref"]||"A1"),g=a["!merges"]||[],p=0,S=Array.isArray(a);if(a["!cols"])for(f=0;f<=h.e.c;++f)c.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var b="",N=a["!rows"]||[];for(u=0;u<h.s.r;++u)b=N[u]?' table:style-name="ro'+N[u].ods+'"':"",c.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=h.e.r;++u){for(b=N[u]?' table:style-name="ro'+N[u].ods+'"':"",c.push("        <table:table-row"+b+`>
`),f=0;f<h.s.c;++f)c.push(t);for(;f<=h.e.c;++f){var C=!1,A={},T="";for(p=0;p!=g.length;++p)if(!(g[p].s.c>f)&&!(g[p].s.r>u)&&!(g[p].e.c<f)&&!(g[p].e.r<u)){(g[p].s.c!=f||g[p].s.r!=u)&&(C=!0),A["table:number-columns-spanned"]=g[p].e.c-g[p].s.c+1,A["table:number-rows-spanned"]=g[p].e.r-g[p].s.r+1;break}if(C){c.push(r);continue}var F=fs({r:u,c:f}),L=S?(a[u]||[])[f]:a[F];if(L&&L.f&&(A["table:formula"]=us(Hdt(L.f)),L.F&&L.F.slice(0,F.length)==F)){var B=zd(L.F);A["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,A["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!L){c.push(t);continue}switch(L.t){case"b":T=L.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=L.v?"true":"false";break;case"n":T=L.w||String(L.v||0),A["office:value-type"]="float",A["office:value"]=L.v||0;break;case"s":case"str":T=L.v==null?"":L.v,A["office:value-type"]="string";break;case"d":T=L.w||ku(L.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=ku(L.v).toISOString(),A["table:style-name"]="ce1";break;default:c.push(t);continue}var M=e(T);if(L.l&&L.l.Target){var W=L.l.Target;W=W.charAt(0)=="#"?"#"+qdt(W.slice(1)):W,W.charAt(0)!="#"&&!W.match(/^\w+:/)&&(W="../"+W),M=Kr("text:a",M,{"xlink:href":W.replace(/&/g,"&amp;")})}c.push("          "+Kr("table:table-cell",Kr("text:p",M,{}),A)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;mL(h),h.ods=l;var g=u["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var h=u["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Sl],u=E4({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=E4({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(Tde().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function pfe(e,t){if(t.bookType=="fods")return GK(e,t);var r=nL(),n="",i=[],a=[];return n="mimetype",ti(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ti(r,n,GK(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",ti(r,n,C0t(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",ti(r,n,Sl+Tde()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",ti(r,n,Mlt(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ti(r,n,Dlt(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function FA(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function A0t(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):uh(um(e))}function j0t(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function h1(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function E0t(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function T4(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function os(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function C2(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Pl(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=T4(e,r),a=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=T4(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:l,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function Sc(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(os(n*8+i.type)),i.type==2&&t.push(os(i.data.length)),t.push(i.data))})}),h1(t)}function Qf(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=T4(e,n),a=Pl(e.slice(n[0],n[0]+i));n[0]+=i;var o={id:C2(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Pl(l.data),u=C2(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=C2(a[3][0].data)>>>0>0),r.push(o)}return r}function vv(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:os(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:os(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:os(o.data.length)}],n[2].push({data:Sc(o.meta),type:2})});var a=Sc(n);t.push(os(a.length)),t.push(a),i.forEach(function(o){return t.push(o)})}),h1(t)}function T0t(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=T4(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}i.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[h1(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var f=h1(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function eh(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(T0t(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return h1(t)}function yv(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=os(n),o=a.length;t.push(a),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return h1(t)}function Ek(e,t){var r=new Uint8Array(32),n=FA(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,E0t(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function Tk(e,t){var r=new Uint8Array(32),n=FA(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function dp(e){var t=Pl(e);return T4(t[1][0].data)}function k0t(e,t,r){var n,i,a,o;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&C2(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=FA(e[7][0].data),f=0,h=[],g=FA(e[4][0].data),p=0,S=[],b=0;b<t.length;++b){if(t[b]==null){u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}u.setUint16(b*2,f,!0),g.setUint16(b*2,p,!0);var N,C;switch(typeof t[b]){case"string":N=Ek({t:"s",v:t[b]},r),C=Tk({t:"s",v:t[b]},r);break;case"number":N=Ek({t:"n",v:t[b]},r),C=Tk({t:"n",v:t[b]},r);break;case"boolean":N=Ek({t:"b",v:t[b]},r),C=Tk({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}h.push(N),f+=N.length,S.push(C),p+=C.length,++c}for(e[2][0].data=os(c);b<e[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return e[6][0].data=h1(h),e[3][0].data=h1(S),c}function P0t(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=zd(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Nl(n)));var a=DA(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(le){return le.forEach(function(ne){typeof ne=="string"&&o.push(ne)})});var l={},c=[],u=bs.read(t.numbers,{type:"base64"});u.FileIndex.map(function(le,ne){return[le,u.FullPaths[ne]]}).forEach(function(le){var ne=le[0],ee=le[1];if(ne.type==2&&ne.name.match(/\.iwa/)){var pe=ne.content,xe=eh(pe),Ne=Qf(xe);Ne.forEach(function(Se){c.push(Se.id),l[Se.id]={deps:[],location:ee,type:C2(Se.messages[0].meta[1][0].data)}})}}),c.sort(function(le,ne){return le-ne});var f=c.filter(function(le){return le>1}).map(function(le){return[le,os(le)]});u.FileIndex.map(function(le,ne){return[le,u.FullPaths[ne]]}).forEach(function(le){var ne=le[0];if(le[1],!!ne.name.match(/\.iwa/)){var ee=Qf(eh(ne.content));ee.forEach(function(pe){pe.messages.forEach(function(xe){f.forEach(function(Ne){pe.messages.some(function(Se){return C2(Se.meta[1][0].data)!=11006&&j0t(Se.data,Ne[1])})&&l[Ne[0]].deps.push(pe.id)})})})}});for(var h=bs.find(u,l[1].location),g=Qf(eh(h.content)),p,S=0;S<g.length;++S){var b=g[S];b.id==1&&(p=b)}var N=dp(Pl(p.messages[0].data)[1][0].data);for(h=bs.find(u,l[N].location),g=Qf(eh(h.content)),S=0;S<g.length;++S)b=g[S],b.id==N&&(p=b);for(N=dp(Pl(p.messages[0].data)[2][0].data),h=bs.find(u,l[N].location),g=Qf(eh(h.content)),S=0;S<g.length;++S)b=g[S],b.id==N&&(p=b);for(N=dp(Pl(p.messages[0].data)[2][0].data),h=bs.find(u,l[N].location),g=Qf(eh(h.content)),S=0;S<g.length;++S)b=g[S],b.id==N&&(p=b);var C=Pl(p.messages[0].data);{C[6][0].data=os(n.e.r+1),C[7][0].data=os(n.e.c+1);var A=dp(C[46][0].data),T=bs.find(u,l[A].location),F=Qf(eh(T.content));{for(var L=0;L<F.length&&F[L].id!=A;++L);if(F[L].id!=A)throw"Bad ColumnRowUIDMapArchive";var B=Pl(F[L].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var M=0;M<=n.e.c;++M){var W=[];W[1]=W[2]=[{type:0,data:os(M+420690)}],B[1].push({type:2,data:Sc(W)}),B[2].push({type:0,data:os(M)}),B[3].push({type:0,data:os(M)})}B[4]=[],B[5]=[],B[6]=[];for(var z=0;z<=n.e.r;++z)W=[],W[1]=W[2]=[{type:0,data:os(z+726270)}],B[4].push({type:2,data:Sc(W)}),B[5].push({type:0,data:os(z)}),B[6].push({type:0,data:os(z)});F[L].messages[0].data=Sc(B)}T.content=yv(vv(F)),T.size=T.content.length,delete C[46];var Z=Pl(C[4][0].data);{Z[7][0].data=os(n.e.r+1);var K=Pl(Z[1][0].data),q=dp(K[2][0].data);T=bs.find(u,l[q].location),F=Qf(eh(T.content));{if(F[0].id!=q)throw"Bad HeaderStorageBucket";var ie=Pl(F[0].messages[0].data);for(z=0;z<a.length;++z){var ae=Pl(ie[2][0].data);ae[1][0].data=os(z),ae[4][0].data=os(a[z].length),ie[2][z]={type:ie[2][0].type,data:Sc(ae)}}F[0].messages[0].data=Sc(ie)}T.content=yv(vv(F)),T.size=T.content.length;var X=dp(Z[2][0].data);T=bs.find(u,l[X].location),F=Qf(eh(T.content));{if(F[0].id!=X)throw"Bad HeaderStorageBucket";for(ie=Pl(F[0].messages[0].data),M=0;M<=n.e.c;++M)ae=Pl(ie[2][0].data),ae[1][0].data=os(M),ae[4][0].data=os(n.e.r+1),ie[2][M]={type:ie[2][0].type,data:Sc(ae)};F[0].messages[0].data=Sc(ie)}T.content=yv(vv(F)),T.size=T.content.length;var se=dp(Z[4][0].data);(function(){for(var le=bs.find(u,l[se].location),ne=Qf(eh(le.content)),ee,pe=0;pe<ne.length;++pe){var xe=ne[pe];xe.id==se&&(ee=xe)}var Ne=Pl(ee.messages[0].data);{Ne[3]=[];var Se=[];o.forEach(function(De,at){Se[1]=[{type:0,data:os(at)}],Se[2]=[{type:0,data:os(1)}],Se[3]=[{type:2,data:A0t(De)}],Ne[3].push({type:2,data:Sc(Se)})})}ee.messages[0].data=Sc(Ne);var je=vv(ne),Ge=yv(je);le.content=Ge,le.size=le.content.length})();var he=Pl(Z[3][0].data);{var ce=he[1][0];delete he[2];var ge=Pl(ce.data);{var we=dp(ge[2][0].data);(function(){for(var le=bs.find(u,l[we].location),ne=Qf(eh(le.content)),ee,pe=0;pe<ne.length;++pe){var xe=ne[pe];xe.id==we&&(ee=xe)}var Ne=Pl(ee.messages[0].data);{delete Ne[6],delete he[7];var Se=new Uint8Array(Ne[5][0].data);Ne[5]=[];for(var je=0,Ge=0;Ge<=n.e.r;++Ge){var De=Pl(Se);je+=k0t(De,a[Ge],o),De[1][0].data=os(Ge),Ne[5].push({data:Sc(De),type:2})}Ne[1]=[{type:0,data:os(n.e.c+1)}],Ne[2]=[{type:0,data:os(n.e.r+1)}],Ne[3]=[{type:0,data:os(je)}],Ne[4]=[{type:0,data:os(n.e.r+1)}]}ee.messages[0].data=Sc(Ne);var at=vv(ne),ot=yv(at);le.content=ot,le.size=le.content.length})()}ce.data=Sc(ge)}Z[3][0].data=Sc(he)}C[4][0].data=Sc(Z)}p.messages[0].data=Sc(C);var Ce=vv(g),Q=yv(Ce);return h.content=Q,h.size=h.content.length,u}function O0t(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function yL(e){O0t([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function I0t(e,t){return t.bookType=="ods"?pfe(e,t):t.bookType=="numbers"?P0t(e,t):t.bookType=="xlsb"?F0t(e,t):D0t(e,t)}function F0t(e,t){Zv=1024,e&&!e.SSF&&(e.SSF=fd(Wo)),e&&e.SSF&&(w6(),b6(e.SSF),t.revssf=_6(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,n_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Jde.indexOf(t.bookType)>-1,i=Ade();yL(t=t||{});var a=nL(),o="",l=0;if(t.cellXfs=[],k1(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ti(a,o,kde(e.Props,t)),i.coreprops.push(o),cs(t.rels,2,o,Ki.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ti(a,o,Ode(e.Props)),i.extprops.push(o),cs(t.rels,3,o,Ki.EXT_PROPS),e.Custprops!==e.Props&&Dc(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ti(a,o,Ide(e.Custprops)),i.custprops.push(o),cs(t.rels,4,o,Ki.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],g=(h||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,ti(a,o,Mht(l-1,o,t,e,f)),i.sheets.push(o),cs(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ki.WS[0])}if(h){var p=h["!comments"],S=!1,b="";p&&p.length>0&&(b="xl/comments"+l+"."+r,ti(a,b,$ht(p,b)),i.comments.push(b),cs(f,-1,"../comments"+l+"."+r,Ki.CMNT),S=!0),h["!legacy"]&&S&&ti(a,"xl/drawings/vmlDrawing"+l+".vml",Yde(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&ti(a,Ede(o),N2(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,ti(a,o,Bht(t.Strings,o,t)),i.strs.push(o),cs(t.wbrels,-1,"sharedStrings."+r,Ki.SST)),o="xl/workbook."+r,ti(a,o,Rht(e,o)),i.workbooks.push(o),cs(t.rels,1,o,Ki.WB),o="xl/theme/theme1.xml",ti(a,o,Gde(e.Themes,t)),i.themes.push(o),cs(t.wbrels,-1,"theme/theme1.xml",Ki.THEME),o="xl/styles."+r,ti(a,o,Lht(e,o,t)),i.styles.push(o),cs(t.wbrels,-1,"styles."+r,Ki.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",ti(a,o,e.vbaraw),i.vba.push(o),cs(t.wbrels,-1,"vbaProject.bin",Ki.VBA)),o="xl/metadata."+r,ti(a,o,Uht(o)),i.metadata.push(o),cs(t.wbrels,-1,"metadata."+r,Ki.XLMETA),ti(a,"[Content_Types].xml",jde(i,t)),ti(a,"_rels/.rels",N2(t.rels)),ti(a,"xl/_rels/workbook."+r+".rels",N2(t.wbrels)),delete t.revssf,delete t.ssf,a}function D0t(e,t){Zv=1024,e&&!e.SSF&&(e.SSF=fd(Wo)),e&&e.SSF&&(w6(),b6(e.SSF),t.revssf=_6(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,n_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Jde.indexOf(t.bookType)>-1,i=Ade();yL(t=t||{});var a=nL(),o="",l=0;if(t.cellXfs=[],k1(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ti(a,o,kde(e.Props,t)),i.coreprops.push(o),cs(t.rels,2,o,Ki.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ti(a,o,Ode(e.Props)),i.extprops.push(o),cs(t.rels,3,o,Ki.EXT_PROPS),e.Custprops!==e.Props&&Dc(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ti(a,o,Ide(e.Custprops)),i.custprops.push(o),cs(t.rels,4,o,Ki.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],p=(g||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,ti(a,o,sfe(l-1,t,e,h)),i.sheets.push(o),cs(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ki.WS[0])}if(g){var S=g["!comments"],b=!1,N="";if(S&&S.length>0){var C=!1;S.forEach(function(A){A[1].forEach(function(T){T.T==!0&&(C=!0)})}),C&&(N="xl/threadedComments/threadedComment"+l+"."+r,ti(a,N,fut(S,f,t)),i.threadedcomments.push(N),cs(h,-1,"../threadedComments/threadedComment"+l+"."+r,Ki.TCMNT)),N="xl/comments"+l+"."+r,ti(a,N,Xde(S)),i.comments.push(N),cs(h,-1,"../comments"+l+"."+r,Ki.CMNT),b=!0}g["!legacy"]&&b&&ti(a,"xl/drawings/vmlDrawing"+l+".vml",Yde(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&ti(a,Ede(o),N2(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,ti(a,o,Ude(t.Strings,t)),i.strs.push(o),cs(t.wbrels,-1,"sharedStrings."+r,Ki.SST)),o="xl/workbook."+r,ti(a,o,cfe(e)),i.workbooks.push(o),cs(t.rels,1,o,Ki.WB),o="xl/theme/theme1.xml",ti(a,o,Gde(e.Themes,t)),i.themes.push(o),cs(t.wbrels,-1,"theme/theme1.xml",Ki.THEME),o="xl/styles."+r,ti(a,o,Hde(e,t)),i.styles.push(o),cs(t.wbrels,-1,"styles."+r,Ki.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",ti(a,o,e.vbaraw),i.vba.push(o),cs(t.wbrels,-1,"vbaProject.bin",Ki.VBA)),o="xl/metadata."+r,ti(a,o,Kde()),i.metadata.push(o),cs(t.wbrels,-1,"metadata."+r,Ki.XLMETA),f.length>1&&(o="xl/persons/person.xml",ti(a,o,hut(f)),i.people.push(o),cs(t.wbrels,-1,"persons/person.xml",Ki.PEOPLE)),ti(a,"[Content_Types].xml",jde(i,t)),ti(a,"_rels/.rels",N2(t.rels)),ti(a,"xl/_rels/workbook."+r+".rels",N2(t.wbrels)),delete t.revssf,delete t.ssf,a}function R0t(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Pm(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function gfe(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return w5(t.file,bs.write(e,{type:ts?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return bs.write(e,t)}function M0t(e,t){var r=fd(t||{}),n=I0t(e,r);return L0t(n,r)}function L0t(e,t){var r={},n=ts?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?bs.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(y6(i))}return t.password&&typeof encrypt_agile<"u"?gfe(encrypt_agile(i,t.password),t):t.type==="file"?w5(t.file,i):t.type=="string"?Qw(i):i}function B0t(e,t){var r=t||{},n=t0t(e,r);return gfe(n,r)}function t0(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return A4(um(n));case"binary":return um(n);case"string":return e;case"file":return w5(t.file,n,"utf8");case"buffer":return ts?Um(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):t0(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function $0t(e,t){switch(t.type){case"base64":return A4(e);case"binary":return e;case"string":return e;case"file":return w5(t.file,e,"binary");case"buffer":return ts?Um(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function TN(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?A4(r):t.type=="string"?Qw(r):r;case"file":return w5(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function xfe(e,t){hot(),Cht(e);var r=fd(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=xfe(e,r);return r.type="array",y6(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return t0(Qht(e,r),r);case"slk":case"sylk":return t0(_ct.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return t0(ffe(e.Sheets[e.SheetNames[i]],r),r);case"txt":return $0t(vfe(e.Sheets[e.SheetNames[i]],r),r);case"csv":return t0(bL(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return t0(Nct.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return TN(wct.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return t0(Sct.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return t0(Pct.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return t0($de.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return t0(pfe(e,r),r);case"wk1":return TN($K.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return TN($K.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),TN(dfe(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),B0t(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return M0t(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function U0t(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function z0t(e,t,r){var n=r||{};return n.type="file",n.file=t,U0t(n),xfe(e,n)}function V0t(e,t,r,n,i,a,o,l){var c=Ic(r),u=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var S=o?e[r][p]:e[n[p]+c];if(S===void 0||S.t===void 0){if(u===void 0)continue;a[p]!=null&&(g[a[p]]=u);continue}var b=S.v;switch(S.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(a[p]!=null){if(b==null)if(S.t=="e"&&b===null)g[a[p]]=null;else if(u!==void 0)g[a[p]]=u;else if(f&&b===null)g[a[p]]=null;else continue;else g[a[p]]=f&&(S.t!=="n"||S.t==="n"&&l.rawNumbers!==!1)?b:Om(S,b,l);b!=null&&(h=!1)}}return{row:g,isempty:h}}function DA(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=ro(f);break;case"number":c=ro(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(i=0);var h=Ic(c.s.r),g=[],p=[],S=0,b=0,N=Array.isArray(e),C=c.s.r,A=0,T={};N&&!e[C]&&(e[C]=[]);var F=u.skipHidden&&e["!cols"]||[],L=u.skipHidden&&e["!rows"]||[];for(A=c.s.c;A<=c.e.c;++A)if(!(F[A]||{}).hidden)switch(g[A]=Jc(A),r=N?e[C][A]:e[g[A]+h],n){case 1:a[A]=A-c.s.c;break;case 2:a[A]=g[A];break;case 3:a[A]=u.header[A-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Om(r,null,u),b=T[o]||0,!b)T[o]=1;else{do l=o+"_"+b++;while(T[l]);T[o]=b,T[l]=1}a[A]=l}for(C=c.s.r+i;C<=c.e.r;++C)if(!(L[C]||{}).hidden){var B=V0t(e,c,C,g,n,a,N,u);(B.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[S++]=B.row)}return p.length=S,p}var KK=/"/g;function W0t(e,t,r,n,i,a,o,l){for(var c=!0,u=[],f="",h=Ic(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var p=l.dense?(e[r]||[])[g]:e[n[g]+h];if(p==null)f="";else if(p.v!=null){c=!1,f=""+(l.rawNumbers&&p.t=="n"?p.v:Om(p,null,l));for(var S=0,b=0;S!==f.length;++S)if((b=f.charCodeAt(S))===i||b===a||b===34||l.forceQuotes){f='"'+f.replace(KK,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(c=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(KK,'""')+'"')):f="";u.push(f)}return l.blankrows===!1&&c?null:u.join(o)}function bL(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=ro(e["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),f="",h=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(g[S]||{}).hidden||(h[S]=Jc(S));for(var b=0,N=i.s.r;N<=i.e.r;++N)(p[N]||{}).hidden||(f=W0t(e,i,N,h,o,c,a,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((b++?l:"")+f)));return delete n.dense,r.join("")}function vfe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=bL(e,t);return r}function H0t(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=ro(e["!ref"]),a="",o=[],l,c=[],u=Array.isArray(e);for(l=i.s.c;l<=i.e.c;++l)o[l]=Jc(l);for(var f=i.s.r;f<=i.e.r;++f)for(a=Ic(f),l=i.s.c;l<=i.e.c;++l)if(t=o[l]+a,r=u?(e[f]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function yfe(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},o=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?sc(n.origin):n.origin;o=c.r,l=c.c}var u,f={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(a["!ref"]){var h=ro(a["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+t.length-1+i)}else o==-1&&(o=0,f.e.r=t.length-1+i);var g=n.header||[],p=0;t.forEach(function(b,N){Dc(b).forEach(function(C){(p=g.indexOf(C))==-1&&(g[p=g.length]=C);var A=b[C],T="z",F="",L=fs({c:l+p,r:o+N+i});u=k4(a,L),A&&typeof A=="object"&&!(A instanceof Date)?a[L]=A:(typeof A=="number"?T="n":typeof A=="boolean"?T="b":typeof A=="string"?T="s":A instanceof Date?(T="d",n.cellDates||(T="n",A=dd(A)),F=n.dateNF||Wo[14]):A===null&&n.nullError&&(T="e",A=0),u?(u.t=T,u.v=A,delete u.w,delete u.R,F&&(u.z=F)):a[L]=u={t:T,v:A},F&&(u.z=F))})}),f.e.c=Math.max(f.e.c,l+g.length-1);var S=Ic(o);if(i)for(p=0;p<g.length;++p)a[Jc(p+l)+S]={t:"s",v:g[p]};return a["!ref"]=Nl(f),a}function q0t(e,t){return yfe(null,e,t)}function k4(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=sc(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?k4(e,fs(t)):k4(e,fs({r:t,c:r||0}))}function G0t(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function K0t(){return{SheetNames:[],Sheets:{}}}function Y0t(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(lfe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function X0t(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=G0t(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function J0t(e,t){return e.z=t,e}function bfe(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Z0t(e,t,r){return bfe(e,"#"+t,r)}function Q0t(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function emt(e,t,r,n){for(var i=typeof t!="string"?t:ro(t),a=typeof t=="string"?t:Nl(t),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var c=k4(e,o,l);c.t="n",c.F=a,delete c.v,o==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var kk={encode_col:Jc,encode_row:Ic,encode_cell:fs,encode_range:Nl,decode_col:cL,decode_row:lL,split_cell:mlt,decode_cell:sc,decode_range:zd,format_cell:Om,sheet_add_aoa:bde,sheet_add_json:yfe,sheet_add_dom:hfe,aoa_to_sheet:ab,json_to_sheet:q0t,table_to_sheet:mfe,table_to_book:N0t,sheet_to_csv:bL,sheet_to_txt:vfe,sheet_to_json:DA,sheet_to_html:ffe,sheet_to_formulae:H0t,sheet_to_row_object_array:DA,sheet_get_cell:k4,book_new:K0t,book_append_sheet:Y0t,book_set_sheet_visibility:X0t,cell_set_number_format:J0t,cell_set_hyperlink:bfe,cell_set_internal_link:Z0t,cell_add_comment:Q0t,sheet_set_array_formula:emt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const dS=()=>{var K,q;bn();const{userProfile:e}=Ja(),[t,r]=j.useState([]),[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState(null),[u,f]=j.useState(""),[h,g]=j.useState("all"),[p,S]=j.useState(null),[b,N]=j.useState(!1),[C,A]=j.useState(""),T=(e==null?void 0:e.user_type)==="super_admin";T||(e==null||e.user_type);const F=T,L=j.useCallback(async()=>{if(["super_admin","admin","secretary"].includes(e==null?void 0:e.user_type)){o(!0);try{let ae=Ze.from("organizer_withdrawal_requests").select(`
                  *,
                  organizer:organizer_id (full_name, email, country, phone),
                  reviewer:reviewed_by_admin (full_name)
                `).order("requested_at",{ascending:!1});!T&&(e!=null&&e.country)&&(ae=ae.eq("organizer.country",e.country));const{data:X,error:se}=await ae;if(se)throw se;const he=T?X:X.filter(ce=>{var ge;return((ge=ce.organizer)==null?void 0:ge.country)===(e==null?void 0:e.country)});r(he||[]),i(he||[])}catch(ae){console.error("Erreur chargement:",ae),lt({title:"Erreur",description:"Impossible de charger les demandes.",variant:"destructive"})}finally{o(!1)}}},[T,e]);j.useEffect(()=>{e&&L()},[e,L]),j.useEffect(()=>{let ie=[...t];if(u.trim().length>0){const ae=u.toLowerCase();ie=ie.filter(X=>{var se,he,ce,ge,we,Ce;return((he=(se=X.organizer)==null?void 0:se.full_name)==null?void 0:he.toLowerCase().includes(ae))||((ge=(ce=X.organizer)==null?void 0:ce.email)==null?void 0:ge.toLowerCase().includes(ae))||((Ce=(we=X.organizer)==null?void 0:we.phone)==null?void 0:Ce.toLowerCase().includes(ae))})}h!=="all"&&(ie=ie.filter(ae=>ae.status===h)),i(ie)},[u,h,t]);const B=()=>{f(""),g("all"),i(t)},M=async(ie,ae,X=null)=>{if(!F){lt({title:"Non autoris",description:"Vous n'avez pas les droits pour effectuer cette action.",variant:"destructive"});return}c(ie);try{const{data:se,error:he}=await Ze.rpc("process_organizer_withdrawal",{p_request_id:ie,p_status:ae,p_notes:X});if(he)throw he;if(se&&!se.success)throw new Error(se.message);lt({title:"Succs",description:`Demande ${ae==="approved"?"approuve":"rejete"}.`}),await L()}catch(se){lt({title:"Erreur",description:se.message,variant:"destructive"})}finally{c(null),N(!1),A(""),S(null)}},W=ie=>{S(ie),N(!0)},z=()=>{const ie=n.map(se=>{var he,ce,ge,we,Ce,Q;return{Organisateur:(he=se.organizer)==null?void 0:he.full_name,Email:(ce=se.organizer)==null?void 0:ce.email,Tlphone:(ge=se.organizer)==null?void 0:ge.phone,Pays:(we=se.organizer)==null?void 0:we.country,Montant_PI:se.amount_pi,Montant_FCFA:se.amount_fcfa,Moyen:(Ce=se.payment_details)==null?void 0:Ce.method,Identifiant:(Q=se.payment_details)==null?void 0:Q.number,Statut:se.status,Date:new Date(se.requested_at).toLocaleString("fr-FR")}}),ae=kk.json_to_sheet(ie),X=kk.book_new();kk.book_append_sheet(X,ae,"Retraits"),z0t(X,"withdrawals.xlsx"),lt({title:"Export russi",description:"Le fichier Excel a t gnr."})},Z=ie=>{const ae={pending:"bg-yellow-500/20 text-yellow-600 border-yellow-200",approved:"bg-green-500/20 text-green-600 border-green-200",rejected:"bg-red-500/20 text-red-600 border-red-200",paid:"bg-blue-500/20 text-blue-600 border-blue-200"},X={pending:"En attente",approved:"Approuv",rejected:"Rejet",paid:"Pay"};return s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${ae[ie]||""}`,children:X[ie]||ie})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[s.jsxs("div",{className:"relative w-full md:w-72",children:[s.jsx("input",{className:"w-full px-3 py-2 border rounded-md pl-9 bg-background",placeholder:"Rechercher un organisateur...",value:u,onChange:ie=>f(ie.target.value)}),s.jsx($l,{className:"w-4 h-4 absolute left-2 top-3 text-muted-foreground"})]}),s.jsxs("select",{className:"px-3 py-2 border rounded-md bg-background w-full md:w-auto",value:h,onChange:ie=>g(ie.target.value),children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"approved",children:"Approuv"}),s.jsx("option",{value:"rejected",children:"Rejet"}),s.jsx("option",{value:"paid",children:"Pay"})]}),s.jsx(ze,{variant:"outline",onClick:B,className:"w-full md:w-auto",children:"Rinitialiser"}),s.jsxs("div",{className:"flex gap-2 ml-auto w-full md:w-auto",children:[s.jsxs(ze,{onClick:z,className:"flex items-center gap-2 flex-1 md:flex-none",variant:"secondary",children:[s.jsx(Fm,{className:"w-4 h-4"})," Excel"]}),s.jsx(ze,{onClick:L,variant:"outline",disabled:a,className:"flex items-center gap-2 flex-1 md:flex-none",children:s.jsx(Fu,{className:`h-4 w-4 ${a?"animate-spin":""}`})})]})]}),!F&&s.jsxs("div",{className:"bg-blue-50 text-blue-700 px-4 py-2 rounded-md text-sm border border-blue-200 flex items-center gap-2",children:[s.jsx(Dm,{className:"w-4 h-4"}),"Mode lecture seule : Seul le Super Admin peut traiter les demandes de retrait."]}),s.jsx("div",{className:"rounded-md border bg-card",children:a?s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx(Zt,{className:"h-8 w-8 animate-spin"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Organisateur"}),s.jsx(Cn,{children:"Montant ()"}),s.jsx(Cn,{children:"Montant (FCFA)"}),s.jsx(Cn,{children:"Paiement"}),s.jsx(Cn,{children:"Statut"}),s.jsx(Cn,{children:"Date"}),F&&s.jsx(Cn,{className:"text-right",children:"Actions"})]})}),s.jsx(Ud,{children:n.length>0?n.map(ie=>{var ae,X,se,he,ce,ge,we;return s.jsxs(di,{children:[s.jsxs(an,{children:[s.jsx("div",{className:"font-medium",children:(ae=ie.organizer)==null?void 0:ae.full_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(X=ie.organizer)==null?void 0:X.email}),s.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:(se=ie.organizer)==null?void 0:se.phone}),(T||e.user_type==="admin")&&s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium mt-0.5",children:(he=ie.organizer)==null?void 0:he.country})]}),s.jsxs(an,{className:"font-mono",children:[ie.amount_pi.toLocaleString("fr-FR")," "]}),s.jsxs(an,{className:"font-bold",children:[ie.amount_fcfa.toLocaleString("fr-FR")," FCFA"]}),s.jsxs(an,{children:[s.jsx("div",{className:"font-medium",children:((ce=ie.payment_details)==null?void 0:ce.method)||"N/A"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:((ge=ie.payment_details)==null?void 0:ge.number)||((we=ie.payment_details)==null?void 0:we.account_number)||""})]}),s.jsx(an,{children:Z(ie.status)}),s.jsxs(an,{children:[new Date(ie.requested_at).toLocaleDateString("fr-FR"),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(ie.requested_at).toLocaleTimeString("fr-FR")})]}),F&&s.jsx(an,{className:"text-right space-x-2",children:ie.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>M(ie.id,"approved"),disabled:l===ie.id,className:"hover:bg-green-100 dark:hover:bg-green-900/20",title:"Approuver",children:l===ie.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(yx,{className:"h-4 w-4 text-green-600"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>W(ie),disabled:l===ie.id,className:"hover:bg-red-100 dark:hover:bg-red-900/20",title:"Rejeter",children:s.jsx(wl,{className:"h-4 w-4 text-red-600"})})]})})]},ie.id)}):s.jsx(di,{children:s.jsx(an,{colSpan:F?7:6,className:"text-center py-8",children:"Aucun rsultat trouv."})})})]})})}),s.jsx(No,{open:b,onOpenChange:N,children:s.jsxs(fo,{children:[s.jsxs(So,{children:[s.jsx(Co,{children:"Rejeter la demande"}),s.jsx(tl,{children:"Une raison est obligatoire et sera visible par lorganisateur."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[p&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm border",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Organisateur:"})," ",(K=p.organizer)==null?void 0:K.full_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Montant:"})," ",p.amount_pi," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Paiement:"})," ",(q=p.payment_details)==null?void 0:q.method]})]}),s.jsx(uc,{rows:4,placeholder:"Ex: Numro mobile money incorrect...",value:C,onChange:ie=>A(ie.target.value)})]}),s.jsxs(ru,{children:[s.jsx(ze,{variant:"outline",onClick:()=>N(!1),children:"Annuler"}),s.jsxs(ze,{variant:"destructive",onClick:()=>M(p==null?void 0:p.id,"rejected",C),disabled:!C.trim()||l===(p==null?void 0:p.id),children:[l===(p==null?void 0:p.id)&&s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmer"]})]})]})})]})},tmt=()=>{const{user:e}=bn(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(!1),[l,c]=j.useState(""),[u,f]=j.useState(!1),[h,g]=j.useState(null),[p,S]=j.useState({title:"",message:"",type:"info",video_url:"",target_audience:"all",target_countries:[],send_immediately:!1}),[b,N]=j.useState(!1),[C,A]=j.useState([]);j.useEffect(()=>{T(),F()},[]);const T=async()=>{i(!0);try{const{data:Z,error:K}=await Ze.from("announcements").select("*").order("created_at",{ascending:!1});if(K)throw K;r(Z||[])}catch(Z){console.error("Error fetching announcements:",Z),lt({title:"Erreur",description:"Impossible de charger les annonces.",variant:"destructive"})}finally{i(!1)}},F=async()=>{try{const{data:Z}=await Ze.from("profiles").select("country").not("country","is",null);if(Z){const K=[...new Set(Z.map(q=>q.country).filter(Boolean))];A(K)}}catch(Z){console.error("Error fetching countries:",Z)}},L=async Z=>{var K,q;Z.preventDefault(),N(!0);try{if(!((K=p.title)!=null&&K.trim()))throw new Error("Le titre est requis");if(!((q=p.message)!=null&&q.trim()))throw new Error("Le message est requis");if(p.target_audience==="countries"&&(!p.target_countries||p.target_countries.length===0))throw new Error("Veuillez slectionner au moins un pays cible");const ie={title:p.title,message:p.message,type:p.type,video_url:p.video_url,target_audience:p.target_audience,target_countries:p.target_audience==="countries"?p.target_countries:null,send_to_all_users:p.target_audience==="all",send_immediately:p.send_immediately,created_by:e.id,status:p.send_immediately?"sent":"pending",sent_at:p.send_immediately?new Date().toISOString():null},{data:ae,error:X}=await Ze.from("announcements").insert(ie).select().single();if(X)throw X;p.send_immediately&&await Ze.rpc("send_announcement_to_users",{announcement_uuid:ae.id}),lt({title:"Succs",description:"Annonce cre avec succs."}),o(!1),S({title:"",message:"",type:"info",video_url:"",target_audience:"all",target_countries:[],send_immediately:!1}),T()}catch(ie){console.error("Create error:",ie),lt({title:"Erreur",description:ie.message,variant:"destructive"})}finally{N(!1)}},B=Z=>{g(Z),f(!0)},M=async()=>{if(h)try{const{error:Z}=await Ze.from("announcements").delete().eq("id",h.id);if(Z)throw Z;r(K=>K.filter(q=>q.id!==h.id)),lt({title:"Supprime",description:"L'annonce a t supprime."})}catch(Z){lt({title:"Erreur",description:Z.message,variant:"destructive"})}finally{f(!1),g(null)}},W=Z=>{S(K=>{const q=K.target_countries||[];return q.includes(Z)?{...K,target_countries:q.filter(ie=>ie!==Z)}:{...K,target_countries:[...q,Z]}})},z=(t||[]).filter(Z=>{var K,q;return((K=Z.title)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))||((q=Z.message)==null?void 0:q.toLowerCase().includes(l.toLowerCase()))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(ZZ,{className:"w-6 h-6 text-primary"}),"Gestion des Annonces"]}),s.jsx("p",{className:"text-muted-foreground",children:"Crez et grez les notifications globales."})]}),s.jsxs(No,{open:a,onOpenChange:o,children:[s.jsx(o5,{asChild:!0,children:s.jsxs(ze,{children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"})," Nouvelle Annonce"]})}),s.jsxs(fo,{className:"max-w-2xl",children:[s.jsxs(So,{children:[s.jsx(Co,{children:"Crer une annonce"}),s.jsx(tl,{children:"Envoyez un message  vos utilisateurs."})]}),s.jsxs("form",{onSubmit:L,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Titre"}),s.jsx(rr,{value:p.title,onChange:Z=>S({...p,title:Z.target.value}),placeholder:"Titre de l'annonce",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),s.jsxs(_i,{value:p.type,onValueChange:Z=>S({...p,type:Z}),children:[s.jsx(gi,{children:s.jsx(Ni,{})}),s.jsxs(xi,{children:[s.jsx(on,{value:"info",children:"Information"}),s.jsx(on,{value:"alert",children:"Alerte"}),s.jsx(on,{value:"promo",children:"Promotion"}),s.jsx(on,{value:"event",children:"vnement"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Message"}),s.jsx(uc,{value:p.message,onChange:Z=>S({...p,message:Z.target.value}),placeholder:"Contenu de votre message...",rows:4,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Vido URL (Optionnel)"}),s.jsx(rr,{value:p.video_url,onChange:Z=>S({...p,video_url:Z.target.value}),placeholder:"https://..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cible"}),s.jsxs(_i,{value:p.target_audience,onValueChange:Z=>S({...p,target_audience:Z}),children:[s.jsx(gi,{children:s.jsx(Ni,{})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Tous les utilisateurs"}),s.jsx(on,{value:"countries",children:"Pays spcifiques"})]})]})]}),p.target_audience==="countries"&&s.jsxs("div",{className:"p-4 border rounded-md bg-muted/50",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Slectionner les pays"}),s.jsx(z_,{className:"h-32",children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:(C||[]).map(Z=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Su,{id:`country-${Z}`,checked:(p.target_countries||[]).includes(Z),onCheckedChange:()=>W(Z)}),s.jsx("label",{htmlFor:`country-${Z}`,className:"text-sm",children:Z})]},Z))})})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[s.jsx(Su,{id:"send-now",checked:p.send_immediately,onCheckedChange:Z=>S({...p,send_immediately:Z})}),s.jsx("label",{htmlFor:"send-now",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Envoyer immdiatement comme notification push"})]}),s.jsxs(ru,{children:[s.jsx(ze,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsxs(ze,{type:"submit",disabled:b,children:[b&&s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Crer l'annonce"]})]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(rr,{placeholder:"Rechercher une annonce...",className:"pl-10",value:l,onChange:Z=>c(Z.target.value)})]}),n?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):s.jsx("div",{className:"grid gap-4",children:z.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune annonce trouve."}):z.map(Z=>{var K;return s.jsx(Yt,{className:"overflow-hidden",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:`w-2 bg-${Z.type==="alert"?"red":Z.type==="promo"?"purple":"blue"}-500`}),s.jsx(Qt,{className:"flex-1 p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vr,{variant:"outline",className:"uppercase text-xs",children:Z.type}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Z.created_at).toLocaleDateString()}),Z.status==="sent"&&s.jsx(Vr,{className:"bg-green-500",children:"Envoye"})]}),s.jsx("h3",{className:"text-xl font-bold",children:Z.title}),s.jsx("p",{className:"text-muted-foreground mt-2",children:Z.message}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"w-4 h-4"}),"Cible: ",Z.target_audience==="all"?"Tous":(((K=Z.target_countries)==null?void 0:K.length)||0)+" pays"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(tQ,{className:"w-4 h-4"}),"Reus: ",Z.delivered_count||0]})]})]}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>B(Z),className:"text-destructive hover:bg-destructive/10",children:s.jsx(Vo,{className:"w-5 h-5"})})]})})]})},Z.id)})}),s.jsx(nl,{open:u,onOpenChange:f,children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Supprimer l'annonce"}),s.jsx(Ko,{children:"tes-vous sr de vouloir supprimer cette annonce ? Cette action est irrversible."})]}),s.jsx("div",{className:"py-4",children:s.jsx("p",{className:"font-semibold text-white",children:h==null?void 0:h.title})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(sl,{children:"Annuler"}),s.jsx(il,{onClick:M,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})};function fS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var PF={exports:{}},Pk={exports:{}};/*! cpexcel.js (C) 2013-present SheetJS -- http://sheetjs.com */var YK;function rmt(){return YK||(YK=1,function(e){var t={version:"1.15.0"};t[437]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[620]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[737]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[850]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[852]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[857]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[861]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[865]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[866]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[874]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[895]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[932]=function(){var r=[],n={},i=[],a;for(i[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=i[0].length;++a)i[0][a].charCodeAt(0)!==65533&&(n[i[0][a]]=0+a,r[0+a]=i[0][a]);for(i[129]="".split(""),a=0;a!=i[129].length;++a)i[129][a].charCodeAt(0)!==65533&&(n[i[129][a]]=33024+a,r[33024+a]=i[129][a]);for(i[130]="".split(""),a=0;a!=i[130].length;++a)i[130][a].charCodeAt(0)!==65533&&(n[i[130][a]]=33280+a,r[33280+a]=i[130][a]);for(i[131]="".split(""),a=0;a!=i[131].length;++a)i[131][a].charCodeAt(0)!==65533&&(n[i[131][a]]=33536+a,r[33536+a]=i[131][a]);for(i[132]="".split(""),a=0;a!=i[132].length;++a)i[132][a].charCodeAt(0)!==65533&&(n[i[132][a]]=33792+a,r[33792+a]=i[132][a]);for(i[135]="".split(""),a=0;a!=i[135].length;++a)i[135][a].charCodeAt(0)!==65533&&(n[i[135][a]]=34560+a,r[34560+a]=i[135][a]);for(i[136]="".split(""),a=0;a!=i[136].length;++a)i[136][a].charCodeAt(0)!==65533&&(n[i[136][a]]=34816+a,r[34816+a]=i[136][a]);for(i[137]="".split(""),a=0;a!=i[137].length;++a)i[137][a].charCodeAt(0)!==65533&&(n[i[137][a]]=35072+a,r[35072+a]=i[137][a]);for(i[138]="".split(""),a=0;a!=i[138].length;++a)i[138][a].charCodeAt(0)!==65533&&(n[i[138][a]]=35328+a,r[35328+a]=i[138][a]);for(i[139]="".split(""),a=0;a!=i[139].length;++a)i[139][a].charCodeAt(0)!==65533&&(n[i[139][a]]=35584+a,r[35584+a]=i[139][a]);for(i[140]="".split(""),a=0;a!=i[140].length;++a)i[140][a].charCodeAt(0)!==65533&&(n[i[140][a]]=35840+a,r[35840+a]=i[140][a]);for(i[141]="".split(""),a=0;a!=i[141].length;++a)i[141][a].charCodeAt(0)!==65533&&(n[i[141][a]]=36096+a,r[36096+a]=i[141][a]);for(i[142]="".split(""),a=0;a!=i[142].length;++a)i[142][a].charCodeAt(0)!==65533&&(n[i[142][a]]=36352+a,r[36352+a]=i[142][a]);for(i[143]="".split(""),a=0;a!=i[143].length;++a)i[143][a].charCodeAt(0)!==65533&&(n[i[143][a]]=36608+a,r[36608+a]=i[143][a]);for(i[144]="".split(""),a=0;a!=i[144].length;++a)i[144][a].charCodeAt(0)!==65533&&(n[i[144][a]]=36864+a,r[36864+a]=i[144][a]);for(i[145]="".split(""),a=0;a!=i[145].length;++a)i[145][a].charCodeAt(0)!==65533&&(n[i[145][a]]=37120+a,r[37120+a]=i[145][a]);for(i[146]="".split(""),a=0;a!=i[146].length;++a)i[146][a].charCodeAt(0)!==65533&&(n[i[146][a]]=37376+a,r[37376+a]=i[146][a]);for(i[147]="".split(""),a=0;a!=i[147].length;++a)i[147][a].charCodeAt(0)!==65533&&(n[i[147][a]]=37632+a,r[37632+a]=i[147][a]);for(i[148]="".split(""),a=0;a!=i[148].length;++a)i[148][a].charCodeAt(0)!==65533&&(n[i[148][a]]=37888+a,r[37888+a]=i[148][a]);for(i[149]="".split(""),a=0;a!=i[149].length;++a)i[149][a].charCodeAt(0)!==65533&&(n[i[149][a]]=38144+a,r[38144+a]=i[149][a]);for(i[150]="".split(""),a=0;a!=i[150].length;++a)i[150][a].charCodeAt(0)!==65533&&(n[i[150][a]]=38400+a,r[38400+a]=i[150][a]);for(i[151]="".split(""),a=0;a!=i[151].length;++a)i[151][a].charCodeAt(0)!==65533&&(n[i[151][a]]=38656+a,r[38656+a]=i[151][a]);for(i[152]="".split(""),a=0;a!=i[152].length;++a)i[152][a].charCodeAt(0)!==65533&&(n[i[152][a]]=38912+a,r[38912+a]=i[152][a]);for(i[153]="".split(""),a=0;a!=i[153].length;++a)i[153][a].charCodeAt(0)!==65533&&(n[i[153][a]]=39168+a,r[39168+a]=i[153][a]);for(i[154]="".split(""),a=0;a!=i[154].length;++a)i[154][a].charCodeAt(0)!==65533&&(n[i[154][a]]=39424+a,r[39424+a]=i[154][a]);for(i[155]="".split(""),a=0;a!=i[155].length;++a)i[155][a].charCodeAt(0)!==65533&&(n[i[155][a]]=39680+a,r[39680+a]=i[155][a]);for(i[156]="".split(""),a=0;a!=i[156].length;++a)i[156][a].charCodeAt(0)!==65533&&(n[i[156][a]]=39936+a,r[39936+a]=i[156][a]);for(i[157]="".split(""),a=0;a!=i[157].length;++a)i[157][a].charCodeAt(0)!==65533&&(n[i[157][a]]=40192+a,r[40192+a]=i[157][a]);for(i[158]="".split(""),a=0;a!=i[158].length;++a)i[158][a].charCodeAt(0)!==65533&&(n[i[158][a]]=40448+a,r[40448+a]=i[158][a]);for(i[159]="".split(""),a=0;a!=i[159].length;++a)i[159][a].charCodeAt(0)!==65533&&(n[i[159][a]]=40704+a,r[40704+a]=i[159][a]);for(i[224]="".split(""),a=0;a!=i[224].length;++a)i[224][a].charCodeAt(0)!==65533&&(n[i[224][a]]=57344+a,r[57344+a]=i[224][a]);for(i[225]="".split(""),a=0;a!=i[225].length;++a)i[225][a].charCodeAt(0)!==65533&&(n[i[225][a]]=57600+a,r[57600+a]=i[225][a]);for(i[226]="".split(""),a=0;a!=i[226].length;++a)i[226][a].charCodeAt(0)!==65533&&(n[i[226][a]]=57856+a,r[57856+a]=i[226][a]);for(i[227]="".split(""),a=0;a!=i[227].length;++a)i[227][a].charCodeAt(0)!==65533&&(n[i[227][a]]=58112+a,r[58112+a]=i[227][a]);for(i[228]="".split(""),a=0;a!=i[228].length;++a)i[228][a].charCodeAt(0)!==65533&&(n[i[228][a]]=58368+a,r[58368+a]=i[228][a]);for(i[229]="".split(""),a=0;a!=i[229].length;++a)i[229][a].charCodeAt(0)!==65533&&(n[i[229][a]]=58624+a,r[58624+a]=i[229][a]);for(i[230]="".split(""),a=0;a!=i[230].length;++a)i[230][a].charCodeAt(0)!==65533&&(n[i[230][a]]=58880+a,r[58880+a]=i[230][a]);for(i[231]="".split(""),a=0;a!=i[231].length;++a)i[231][a].charCodeAt(0)!==65533&&(n[i[231][a]]=59136+a,r[59136+a]=i[231][a]);for(i[232]="".split(""),a=0;a!=i[232].length;++a)i[232][a].charCodeAt(0)!==65533&&(n[i[232][a]]=59392+a,r[59392+a]=i[232][a]);for(i[233]="".split(""),a=0;a!=i[233].length;++a)i[233][a].charCodeAt(0)!==65533&&(n[i[233][a]]=59648+a,r[59648+a]=i[233][a]);for(i[234]="".split(""),a=0;a!=i[234].length;++a)i[234][a].charCodeAt(0)!==65533&&(n[i[234][a]]=59904+a,r[59904+a]=i[234][a]);for(i[237]="".split(""),a=0;a!=i[237].length;++a)i[237][a].charCodeAt(0)!==65533&&(n[i[237][a]]=60672+a,r[60672+a]=i[237][a]);for(i[238]="".split(""),a=0;a!=i[238].length;++a)i[238][a].charCodeAt(0)!==65533&&(n[i[238][a]]=60928+a,r[60928+a]=i[238][a]);for(i[250]="".split(""),a=0;a!=i[250].length;++a)i[250][a].charCodeAt(0)!==65533&&(n[i[250][a]]=64e3+a,r[64e3+a]=i[250][a]);for(i[251]="".split(""),a=0;a!=i[251].length;++a)i[251][a].charCodeAt(0)!==65533&&(n[i[251][a]]=64256+a,r[64256+a]=i[251][a]);for(i[252]="".split(""),a=0;a!=i[252].length;++a)i[252][a].charCodeAt(0)!==65533&&(n[i[252][a]]=64512+a,r[64512+a]=i[252][a]);return{enc:n,dec:r}}(),t[936]=function(){var r=[],n={},i=[],a;for(i[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=i[0].length;++a)i[0][a].charCodeAt(0)!==65533&&(n[i[0][a]]=0+a,r[0+a]=i[0][a]);for(i[129]="".split(""),a=0;a!=i[129].length;++a)i[129][a].charCodeAt(0)!==65533&&(n[i[129][a]]=33024+a,r[33024+a]=i[129][a]);for(i[130]="".split(""),a=0;a!=i[130].length;++a)i[130][a].charCodeAt(0)!==65533&&(n[i[130][a]]=33280+a,r[33280+a]=i[130][a]);for(i[131]="".split(""),a=0;a!=i[131].length;++a)i[131][a].charCodeAt(0)!==65533&&(n[i[131][a]]=33536+a,r[33536+a]=i[131][a]);for(i[132]="".split(""),a=0;a!=i[132].length;++a)i[132][a].charCodeAt(0)!==65533&&(n[i[132][a]]=33792+a,r[33792+a]=i[132][a]);for(i[133]="".split(""),a=0;a!=i[133].length;++a)i[133][a].charCodeAt(0)!==65533&&(n[i[133][a]]=34048+a,r[34048+a]=i[133][a]);for(i[134]="".split(""),a=0;a!=i[134].length;++a)i[134][a].charCodeAt(0)!==65533&&(n[i[134][a]]=34304+a,r[34304+a]=i[134][a]);for(i[135]="".split(""),a=0;a!=i[135].length;++a)i[135][a].charCodeAt(0)!==65533&&(n[i[135][a]]=34560+a,r[34560+a]=i[135][a]);for(i[136]="".split(""),a=0;a!=i[136].length;++a)i[136][a].charCodeAt(0)!==65533&&(n[i[136][a]]=34816+a,r[34816+a]=i[136][a]);for(i[137]="".split(""),a=0;a!=i[137].length;++a)i[137][a].charCodeAt(0)!==65533&&(n[i[137][a]]=35072+a,r[35072+a]=i[137][a]);for(i[138]="".split(""),a=0;a!=i[138].length;++a)i[138][a].charCodeAt(0)!==65533&&(n[i[138][a]]=35328+a,r[35328+a]=i[138][a]);for(i[139]="".split(""),a=0;a!=i[139].length;++a)i[139][a].charCodeAt(0)!==65533&&(n[i[139][a]]=35584+a,r[35584+a]=i[139][a]);for(i[140]="".split(""),a=0;a!=i[140].length;++a)i[140][a].charCodeAt(0)!==65533&&(n[i[140][a]]=35840+a,r[35840+a]=i[140][a]);for(i[141]="".split(""),a=0;a!=i[141].length;++a)i[141][a].charCodeAt(0)!==65533&&(n[i[141][a]]=36096+a,r[36096+a]=i[141][a]);for(i[142]="".split(""),a=0;a!=i[142].length;++a)i[142][a].charCodeAt(0)!==65533&&(n[i[142][a]]=36352+a,r[36352+a]=i[142][a]);for(i[143]="".split(""),a=0;a!=i[143].length;++a)i[143][a].charCodeAt(0)!==65533&&(n[i[143][a]]=36608+a,r[36608+a]=i[143][a]);for(i[144]="".split(""),a=0;a!=i[144].length;++a)i[144][a].charCodeAt(0)!==65533&&(n[i[144][a]]=36864+a,r[36864+a]=i[144][a]);for(i[145]="".split(""),a=0;a!=i[145].length;++a)i[145][a].charCodeAt(0)!==65533&&(n[i[145][a]]=37120+a,r[37120+a]=i[145][a]);for(i[146]="".split(""),a=0;a!=i[146].length;++a)i[146][a].charCodeAt(0)!==65533&&(n[i[146][a]]=37376+a,r[37376+a]=i[146][a]);for(i[147]="".split(""),a=0;a!=i[147].length;++a)i[147][a].charCodeAt(0)!==65533&&(n[i[147][a]]=37632+a,r[37632+a]=i[147][a]);for(i[148]="".split(""),a=0;a!=i[148].length;++a)i[148][a].charCodeAt(0)!==65533&&(n[i[148][a]]=37888+a,r[37888+a]=i[148][a]);for(i[149]="".split(""),a=0;a!=i[149].length;++a)i[149][a].charCodeAt(0)!==65533&&(n[i[149][a]]=38144+a,r[38144+a]=i[149][a]);for(i[150]="".split(""),a=0;a!=i[150].length;++a)i[150][a].charCodeAt(0)!==65533&&(n[i[150][a]]=38400+a,r[38400+a]=i[150][a]);for(i[151]="".split(""),a=0;a!=i[151].length;++a)i[151][a].charCodeAt(0)!==65533&&(n[i[151][a]]=38656+a,r[38656+a]=i[151][a]);for(i[152]="".split(""),a=0;a!=i[152].length;++a)i[152][a].charCodeAt(0)!==65533&&(n[i[152][a]]=38912+a,r[38912+a]=i[152][a]);for(i[153]="".split(""),a=0;a!=i[153].length;++a)i[153][a].charCodeAt(0)!==65533&&(n[i[153][a]]=39168+a,r[39168+a]=i[153][a]);for(i[154]="".split(""),a=0;a!=i[154].length;++a)i[154][a].charCodeAt(0)!==65533&&(n[i[154][a]]=39424+a,r[39424+a]=i[154][a]);for(i[155]="".split(""),a=0;a!=i[155].length;++a)i[155][a].charCodeAt(0)!==65533&&(n[i[155][a]]=39680+a,r[39680+a]=i[155][a]);for(i[156]="".split(""),a=0;a!=i[156].length;++a)i[156][a].charCodeAt(0)!==65533&&(n[i[156][a]]=39936+a,r[39936+a]=i[156][a]);for(i[157]="".split(""),a=0;a!=i[157].length;++a)i[157][a].charCodeAt(0)!==65533&&(n[i[157][a]]=40192+a,r[40192+a]=i[157][a]);for(i[158]="".split(""),a=0;a!=i[158].length;++a)i[158][a].charCodeAt(0)!==65533&&(n[i[158][a]]=40448+a,r[40448+a]=i[158][a]);for(i[159]="".split(""),a=0;a!=i[159].length;++a)i[159][a].charCodeAt(0)!==65533&&(n[i[159][a]]=40704+a,r[40704+a]=i[159][a]);for(i[160]="".split(""),a=0;a!=i[160].length;++a)i[160][a].charCodeAt(0)!==65533&&(n[i[160][a]]=40960+a,r[40960+a]=i[160][a]);for(i[161]="".split(""),a=0;a!=i[161].length;++a)i[161][a].charCodeAt(0)!==65533&&(n[i[161][a]]=41216+a,r[41216+a]=i[161][a]);for(i[162]="".split(""),a=0;a!=i[162].length;++a)i[162][a].charCodeAt(0)!==65533&&(n[i[162][a]]=41472+a,r[41472+a]=i[162][a]);for(i[163]="".split(""),a=0;a!=i[163].length;++a)i[163][a].charCodeAt(0)!==65533&&(n[i[163][a]]=41728+a,r[41728+a]=i[163][a]);for(i[164]="".split(""),a=0;a!=i[164].length;++a)i[164][a].charCodeAt(0)!==65533&&(n[i[164][a]]=41984+a,r[41984+a]=i[164][a]);for(i[165]="".split(""),a=0;a!=i[165].length;++a)i[165][a].charCodeAt(0)!==65533&&(n[i[165][a]]=42240+a,r[42240+a]=i[165][a]);for(i[166]="".split(""),a=0;a!=i[166].length;++a)i[166][a].charCodeAt(0)!==65533&&(n[i[166][a]]=42496+a,r[42496+a]=i[166][a]);for(i[167]="".split(""),a=0;a!=i[167].length;++a)i[167][a].charCodeAt(0)!==65533&&(n[i[167][a]]=42752+a,r[42752+a]=i[167][a]);for(i[168]="".split(""),a=0;a!=i[168].length;++a)i[168][a].charCodeAt(0)!==65533&&(n[i[168][a]]=43008+a,r[43008+a]=i[168][a]);for(i[169]="".split(""),a=0;a!=i[169].length;++a)i[169][a].charCodeAt(0)!==65533&&(n[i[169][a]]=43264+a,r[43264+a]=i[169][a]);for(i[170]="".split(""),a=0;a!=i[170].length;++a)i[170][a].charCodeAt(0)!==65533&&(n[i[170][a]]=43520+a,r[43520+a]=i[170][a]);for(i[171]="".split(""),a=0;a!=i[171].length;++a)i[171][a].charCodeAt(0)!==65533&&(n[i[171][a]]=43776+a,r[43776+a]=i[171][a]);for(i[172]="".split(""),a=0;a!=i[172].length;++a)i[172][a].charCodeAt(0)!==65533&&(n[i[172][a]]=44032+a,r[44032+a]=i[172][a]);for(i[173]="".split(""),a=0;a!=i[173].length;++a)i[173][a].charCodeAt(0)!==65533&&(n[i[173][a]]=44288+a,r[44288+a]=i[173][a]);for(i[174]="".split(""),a=0;a!=i[174].length;++a)i[174][a].charCodeAt(0)!==65533&&(n[i[174][a]]=44544+a,r[44544+a]=i[174][a]);for(i[175]="".split(""),a=0;a!=i[175].length;++a)i[175][a].charCodeAt(0)!==65533&&(n[i[175][a]]=44800+a,r[44800+a]=i[175][a]);for(i[176]="".split(""),a=0;a!=i[176].length;++a)i[176][a].charCodeAt(0)!==65533&&(n[i[176][a]]=45056+a,r[45056+a]=i[176][a]);for(i[177]="".split(""),a=0;a!=i[177].length;++a)i[177][a].charCodeAt(0)!==65533&&(n[i[177][a]]=45312+a,r[45312+a]=i[177][a]);for(i[178]="".split(""),a=0;a!=i[178].length;++a)i[178][a].charCodeAt(0)!==65533&&(n[i[178][a]]=45568+a,r[45568+a]=i[178][a]);for(i[179]="".split(""),a=0;a!=i[179].length;++a)i[179][a].charCodeAt(0)!==65533&&(n[i[179][a]]=45824+a,r[45824+a]=i[179][a]);for(i[180]="".split(""),a=0;a!=i[180].length;++a)i[180][a].charCodeAt(0)!==65533&&(n[i[180][a]]=46080+a,r[46080+a]=i[180][a]);for(i[181]="".split(""),a=0;a!=i[181].length;++a)i[181][a].charCodeAt(0)!==65533&&(n[i[181][a]]=46336+a,r[46336+a]=i[181][a]);for(i[182]="".split(""),a=0;a!=i[182].length;++a)i[182][a].charCodeAt(0)!==65533&&(n[i[182][a]]=46592+a,r[46592+a]=i[182][a]);for(i[183]="".split(""),a=0;a!=i[183].length;++a)i[183][a].charCodeAt(0)!==65533&&(n[i[183][a]]=46848+a,r[46848+a]=i[183][a]);for(i[184]="".split(""),a=0;a!=i[184].length;++a)i[184][a].charCodeAt(0)!==65533&&(n[i[184][a]]=47104+a,r[47104+a]=i[184][a]);for(i[185]="".split(""),a=0;a!=i[185].length;++a)i[185][a].charCodeAt(0)!==65533&&(n[i[185][a]]=47360+a,r[47360+a]=i[185][a]);for(i[186]="".split(""),a=0;a!=i[186].length;++a)i[186][a].charCodeAt(0)!==65533&&(n[i[186][a]]=47616+a,r[47616+a]=i[186][a]);for(i[187]="".split(""),a=0;a!=i[187].length;++a)i[187][a].charCodeAt(0)!==65533&&(n[i[187][a]]=47872+a,r[47872+a]=i[187][a]);for(i[188]="".split(""),a=0;a!=i[188].length;++a)i[188][a].charCodeAt(0)!==65533&&(n[i[188][a]]=48128+a,r[48128+a]=i[188][a]);for(i[189]="".split(""),a=0;a!=i[189].length;++a)i[189][a].charCodeAt(0)!==65533&&(n[i[189][a]]=48384+a,r[48384+a]=i[189][a]);for(i[190]="".split(""),a=0;a!=i[190].length;++a)i[190][a].charCodeAt(0)!==65533&&(n[i[190][a]]=48640+a,r[48640+a]=i[190][a]);for(i[191]="".split(""),a=0;a!=i[191].length;++a)i[191][a].charCodeAt(0)!==65533&&(n[i[191][a]]=48896+a,r[48896+a]=i[191][a]);for(i[192]="".split(""),a=0;a!=i[192].length;++a)i[192][a].charCodeAt(0)!==65533&&(n[i[192][a]]=49152+a,r[49152+a]=i[192][a]);for(i[193]="".split(""),a=0;a!=i[193].length;++a)i[193][a].charCodeAt(0)!==65533&&(n[i[193][a]]=49408+a,r[49408+a]=i[193][a]);for(i[194]="".split(""),a=0;a!=i[194].length;++a)i[194][a].charCodeAt(0)!==65533&&(n[i[194][a]]=49664+a,r[49664+a]=i[194][a]);for(i[195]="".split(""),a=0;a!=i[195].length;++a)i[195][a].charCodeAt(0)!==65533&&(n[i[195][a]]=49920+a,r[49920+a]=i[195][a]);for(i[196]="".split(""),a=0;a!=i[196].length;++a)i[196][a].charCodeAt(0)!==65533&&(n[i[196][a]]=50176+a,r[50176+a]=i[196][a]);for(i[197]="".split(""),a=0;a!=i[197].length;++a)i[197][a].charCodeAt(0)!==65533&&(n[i[197][a]]=50432+a,r[50432+a]=i[197][a]);for(i[198]="".split(""),a=0;a!=i[198].length;++a)i[198][a].charCodeAt(0)!==65533&&(n[i[198][a]]=50688+a,r[50688+a]=i[198][a]);for(i[199]="".split(""),a=0;a!=i[199].length;++a)i[199][a].charCodeAt(0)!==65533&&(n[i[199][a]]=50944+a,r[50944+a]=i[199][a]);for(i[200]="".split(""),a=0;a!=i[200].length;++a)i[200][a].charCodeAt(0)!==65533&&(n[i[200][a]]=51200+a,r[51200+a]=i[200][a]);for(i[201]="".split(""),a=0;a!=i[201].length;++a)i[201][a].charCodeAt(0)!==65533&&(n[i[201][a]]=51456+a,r[51456+a]=i[201][a]);for(i[202]="".split(""),a=0;a!=i[202].length;++a)i[202][a].charCodeAt(0)!==65533&&(n[i[202][a]]=51712+a,r[51712+a]=i[202][a]);for(i[203]="".split(""),a=0;a!=i[203].length;++a)i[203][a].charCodeAt(0)!==65533&&(n[i[203][a]]=51968+a,r[51968+a]=i[203][a]);for(i[204]="".split(""),a=0;a!=i[204].length;++a)i[204][a].charCodeAt(0)!==65533&&(n[i[204][a]]=52224+a,r[52224+a]=i[204][a]);for(i[205]="".split(""),a=0;a!=i[205].length;++a)i[205][a].charCodeAt(0)!==65533&&(n[i[205][a]]=52480+a,r[52480+a]=i[205][a]);for(i[206]="".split(""),a=0;a!=i[206].length;++a)i[206][a].charCodeAt(0)!==65533&&(n[i[206][a]]=52736+a,r[52736+a]=i[206][a]);for(i[207]="".split(""),a=0;a!=i[207].length;++a)i[207][a].charCodeAt(0)!==65533&&(n[i[207][a]]=52992+a,r[52992+a]=i[207][a]);for(i[208]="".split(""),a=0;a!=i[208].length;++a)i[208][a].charCodeAt(0)!==65533&&(n[i[208][a]]=53248+a,r[53248+a]=i[208][a]);for(i[209]="".split(""),a=0;a!=i[209].length;++a)i[209][a].charCodeAt(0)!==65533&&(n[i[209][a]]=53504+a,r[53504+a]=i[209][a]);for(i[210]="".split(""),a=0;a!=i[210].length;++a)i[210][a].charCodeAt(0)!==65533&&(n[i[210][a]]=53760+a,r[53760+a]=i[210][a]);for(i[211]="".split(""),a=0;a!=i[211].length;++a)i[211][a].charCodeAt(0)!==65533&&(n[i[211][a]]=54016+a,r[54016+a]=i[211][a]);for(i[212]="".split(""),a=0;a!=i[212].length;++a)i[212][a].charCodeAt(0)!==65533&&(n[i[212][a]]=54272+a,r[54272+a]=i[212][a]);for(i[213]="".split(""),a=0;a!=i[213].length;++a)i[213][a].charCodeAt(0)!==65533&&(n[i[213][a]]=54528+a,r[54528+a]=i[213][a]);for(i[214]="".split(""),a=0;a!=i[214].length;++a)i[214][a].charCodeAt(0)!==65533&&(n[i[214][a]]=54784+a,r[54784+a]=i[214][a]);for(i[215]="".split(""),a=0;a!=i[215].length;++a)i[215][a].charCodeAt(0)!==65533&&(n[i[215][a]]=55040+a,r[55040+a]=i[215][a]);for(i[216]="".split(""),a=0;a!=i[216].length;++a)i[216][a].charCodeAt(0)!==65533&&(n[i[216][a]]=55296+a,r[55296+a]=i[216][a]);for(i[217]="".split(""),a=0;a!=i[217].length;++a)i[217][a].charCodeAt(0)!==65533&&(n[i[217][a]]=55552+a,r[55552+a]=i[217][a]);for(i[218]="".split(""),a=0;a!=i[218].length;++a)i[218][a].charCodeAt(0)!==65533&&(n[i[218][a]]=55808+a,r[55808+a]=i[218][a]);for(i[219]="".split(""),a=0;a!=i[219].length;++a)i[219][a].charCodeAt(0)!==65533&&(n[i[219][a]]=56064+a,r[56064+a]=i[219][a]);for(i[220]="".split(""),a=0;a!=i[220].length;++a)i[220][a].charCodeAt(0)!==65533&&(n[i[220][a]]=56320+a,r[56320+a]=i[220][a]);for(i[221]="".split(""),a=0;a!=i[221].length;++a)i[221][a].charCodeAt(0)!==65533&&(n[i[221][a]]=56576+a,r[56576+a]=i[221][a]);for(i[222]="".split(""),a=0;a!=i[222].length;++a)i[222][a].charCodeAt(0)!==65533&&(n[i[222][a]]=56832+a,r[56832+a]=i[222][a]);for(i[223]="".split(""),a=0;a!=i[223].length;++a)i[223][a].charCodeAt(0)!==65533&&(n[i[223][a]]=57088+a,r[57088+a]=i[223][a]);for(i[224]="".split(""),a=0;a!=i[224].length;++a)i[224][a].charCodeAt(0)!==65533&&(n[i[224][a]]=57344+a,r[57344+a]=i[224][a]);for(i[225]="".split(""),a=0;a!=i[225].length;++a)i[225][a].charCodeAt(0)!==65533&&(n[i[225][a]]=57600+a,r[57600+a]=i[225][a]);for(i[226]="".split(""),a=0;a!=i[226].length;++a)i[226][a].charCodeAt(0)!==65533&&(n[i[226][a]]=57856+a,r[57856+a]=i[226][a]);for(i[227]="".split(""),a=0;a!=i[227].length;++a)i[227][a].charCodeAt(0)!==65533&&(n[i[227][a]]=58112+a,r[58112+a]=i[227][a]);for(i[228]="".split(""),a=0;a!=i[228].length;++a)i[228][a].charCodeAt(0)!==65533&&(n[i[228][a]]=58368+a,r[58368+a]=i[228][a]);for(i[229]="".split(""),a=0;a!=i[229].length;++a)i[229][a].charCodeAt(0)!==65533&&(n[i[229][a]]=58624+a,r[58624+a]=i[229][a]);for(i[230]="".split(""),a=0;a!=i[230].length;++a)i[230][a].charCodeAt(0)!==65533&&(n[i[230][a]]=58880+a,r[58880+a]=i[230][a]);for(i[231]="".split(""),a=0;a!=i[231].length;++a)i[231][a].charCodeAt(0)!==65533&&(n[i[231][a]]=59136+a,r[59136+a]=i[231][a]);for(i[232]="".split(""),a=0;a!=i[232].length;++a)i[232][a].charCodeAt(0)!==65533&&(n[i[232][a]]=59392+a,r[59392+a]=i[232][a]);for(i[233]="".split(""),a=0;a!=i[233].length;++a)i[233][a].charCodeAt(0)!==65533&&(n[i[233][a]]=59648+a,r[59648+a]=i[233][a]);for(i[234]="".split(""),a=0;a!=i[234].length;++a)i[234][a].charCodeAt(0)!==65533&&(n[i[234][a]]=59904+a,r[59904+a]=i[234][a]);for(i[235]="".split(""),a=0;a!=i[235].length;++a)i[235][a].charCodeAt(0)!==65533&&(n[i[235][a]]=60160+a,r[60160+a]=i[235][a]);for(i[236]="".split(""),a=0;a!=i[236].length;++a)i[236][a].charCodeAt(0)!==65533&&(n[i[236][a]]=60416+a,r[60416+a]=i[236][a]);for(i[237]="".split(""),a=0;a!=i[237].length;++a)i[237][a].charCodeAt(0)!==65533&&(n[i[237][a]]=60672+a,r[60672+a]=i[237][a]);for(i[238]="".split(""),a=0;a!=i[238].length;++a)i[238][a].charCodeAt(0)!==65533&&(n[i[238][a]]=60928+a,r[60928+a]=i[238][a]);for(i[239]="".split(""),a=0;a!=i[239].length;++a)i[239][a].charCodeAt(0)!==65533&&(n[i[239][a]]=61184+a,r[61184+a]=i[239][a]);for(i[240]="".split(""),a=0;a!=i[240].length;++a)i[240][a].charCodeAt(0)!==65533&&(n[i[240][a]]=61440+a,r[61440+a]=i[240][a]);for(i[241]="".split(""),a=0;a!=i[241].length;++a)i[241][a].charCodeAt(0)!==65533&&(n[i[241][a]]=61696+a,r[61696+a]=i[241][a]);for(i[242]="".split(""),a=0;a!=i[242].length;++a)i[242][a].charCodeAt(0)!==65533&&(n[i[242][a]]=61952+a,r[61952+a]=i[242][a]);for(i[243]="".split(""),a=0;a!=i[243].length;++a)i[243][a].charCodeAt(0)!==65533&&(n[i[243][a]]=62208+a,r[62208+a]=i[243][a]);for(i[244]="".split(""),a=0;a!=i[244].length;++a)i[244][a].charCodeAt(0)!==65533&&(n[i[244][a]]=62464+a,r[62464+a]=i[244][a]);for(i[245]="".split(""),a=0;a!=i[245].length;++a)i[245][a].charCodeAt(0)!==65533&&(n[i[245][a]]=62720+a,r[62720+a]=i[245][a]);for(i[246]="".split(""),a=0;a!=i[246].length;++a)i[246][a].charCodeAt(0)!==65533&&(n[i[246][a]]=62976+a,r[62976+a]=i[246][a]);for(i[247]="".split(""),a=0;a!=i[247].length;++a)i[247][a].charCodeAt(0)!==65533&&(n[i[247][a]]=63232+a,r[63232+a]=i[247][a]);for(i[248]="".split(""),a=0;a!=i[248].length;++a)i[248][a].charCodeAt(0)!==65533&&(n[i[248][a]]=63488+a,r[63488+a]=i[248][a]);for(i[249]="".split(""),a=0;a!=i[249].length;++a)i[249][a].charCodeAt(0)!==65533&&(n[i[249][a]]=63744+a,r[63744+a]=i[249][a]);for(i[250]="".split(""),a=0;a!=i[250].length;++a)i[250][a].charCodeAt(0)!==65533&&(n[i[250][a]]=64e3+a,r[64e3+a]=i[250][a]);for(i[251]="".split(""),a=0;a!=i[251].length;++a)i[251][a].charCodeAt(0)!==65533&&(n[i[251][a]]=64256+a,r[64256+a]=i[251][a]);for(i[252]="".split(""),a=0;a!=i[252].length;++a)i[252][a].charCodeAt(0)!==65533&&(n[i[252][a]]=64512+a,r[64512+a]=i[252][a]);for(i[253]="".split(""),a=0;a!=i[253].length;++a)i[253][a].charCodeAt(0)!==65533&&(n[i[253][a]]=64768+a,r[64768+a]=i[253][a]);for(i[254]="".split(""),a=0;a!=i[254].length;++a)i[254][a].charCodeAt(0)!==65533&&(n[i[254][a]]=65024+a,r[65024+a]=i[254][a]);return{enc:n,dec:r}}(),t[949]=function(){var r=[],n={},i=[],a;for(i[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=i[0].length;++a)i[0][a].charCodeAt(0)!==65533&&(n[i[0][a]]=0+a,r[0+a]=i[0][a]);for(i[129]="".split(""),a=0;a!=i[129].length;++a)i[129][a].charCodeAt(0)!==65533&&(n[i[129][a]]=33024+a,r[33024+a]=i[129][a]);for(i[130]="".split(""),a=0;a!=i[130].length;++a)i[130][a].charCodeAt(0)!==65533&&(n[i[130][a]]=33280+a,r[33280+a]=i[130][a]);for(i[131]="".split(""),a=0;a!=i[131].length;++a)i[131][a].charCodeAt(0)!==65533&&(n[i[131][a]]=33536+a,r[33536+a]=i[131][a]);for(i[132]="".split(""),a=0;a!=i[132].length;++a)i[132][a].charCodeAt(0)!==65533&&(n[i[132][a]]=33792+a,r[33792+a]=i[132][a]);for(i[133]="".split(""),a=0;a!=i[133].length;++a)i[133][a].charCodeAt(0)!==65533&&(n[i[133][a]]=34048+a,r[34048+a]=i[133][a]);for(i[134]="".split(""),a=0;a!=i[134].length;++a)i[134][a].charCodeAt(0)!==65533&&(n[i[134][a]]=34304+a,r[34304+a]=i[134][a]);for(i[135]="".split(""),a=0;a!=i[135].length;++a)i[135][a].charCodeAt(0)!==65533&&(n[i[135][a]]=34560+a,r[34560+a]=i[135][a]);for(i[136]="".split(""),a=0;a!=i[136].length;++a)i[136][a].charCodeAt(0)!==65533&&(n[i[136][a]]=34816+a,r[34816+a]=i[136][a]);for(i[137]="".split(""),a=0;a!=i[137].length;++a)i[137][a].charCodeAt(0)!==65533&&(n[i[137][a]]=35072+a,r[35072+a]=i[137][a]);for(i[138]="".split(""),a=0;a!=i[138].length;++a)i[138][a].charCodeAt(0)!==65533&&(n[i[138][a]]=35328+a,r[35328+a]=i[138][a]);for(i[139]="".split(""),a=0;a!=i[139].length;++a)i[139][a].charCodeAt(0)!==65533&&(n[i[139][a]]=35584+a,r[35584+a]=i[139][a]);for(i[140]="".split(""),a=0;a!=i[140].length;++a)i[140][a].charCodeAt(0)!==65533&&(n[i[140][a]]=35840+a,r[35840+a]=i[140][a]);for(i[141]="".split(""),a=0;a!=i[141].length;++a)i[141][a].charCodeAt(0)!==65533&&(n[i[141][a]]=36096+a,r[36096+a]=i[141][a]);for(i[142]="".split(""),a=0;a!=i[142].length;++a)i[142][a].charCodeAt(0)!==65533&&(n[i[142][a]]=36352+a,r[36352+a]=i[142][a]);for(i[143]="".split(""),a=0;a!=i[143].length;++a)i[143][a].charCodeAt(0)!==65533&&(n[i[143][a]]=36608+a,r[36608+a]=i[143][a]);for(i[144]="".split(""),a=0;a!=i[144].length;++a)i[144][a].charCodeAt(0)!==65533&&(n[i[144][a]]=36864+a,r[36864+a]=i[144][a]);for(i[145]="".split(""),a=0;a!=i[145].length;++a)i[145][a].charCodeAt(0)!==65533&&(n[i[145][a]]=37120+a,r[37120+a]=i[145][a]);for(i[146]="".split(""),a=0;a!=i[146].length;++a)i[146][a].charCodeAt(0)!==65533&&(n[i[146][a]]=37376+a,r[37376+a]=i[146][a]);for(i[147]="".split(""),a=0;a!=i[147].length;++a)i[147][a].charCodeAt(0)!==65533&&(n[i[147][a]]=37632+a,r[37632+a]=i[147][a]);for(i[148]="".split(""),a=0;a!=i[148].length;++a)i[148][a].charCodeAt(0)!==65533&&(n[i[148][a]]=37888+a,r[37888+a]=i[148][a]);for(i[149]="".split(""),a=0;a!=i[149].length;++a)i[149][a].charCodeAt(0)!==65533&&(n[i[149][a]]=38144+a,r[38144+a]=i[149][a]);for(i[150]="".split(""),a=0;a!=i[150].length;++a)i[150][a].charCodeAt(0)!==65533&&(n[i[150][a]]=38400+a,r[38400+a]=i[150][a]);for(i[151]="".split(""),a=0;a!=i[151].length;++a)i[151][a].charCodeAt(0)!==65533&&(n[i[151][a]]=38656+a,r[38656+a]=i[151][a]);for(i[152]="".split(""),a=0;a!=i[152].length;++a)i[152][a].charCodeAt(0)!==65533&&(n[i[152][a]]=38912+a,r[38912+a]=i[152][a]);for(i[153]="".split(""),a=0;a!=i[153].length;++a)i[153][a].charCodeAt(0)!==65533&&(n[i[153][a]]=39168+a,r[39168+a]=i[153][a]);for(i[154]="".split(""),a=0;a!=i[154].length;++a)i[154][a].charCodeAt(0)!==65533&&(n[i[154][a]]=39424+a,r[39424+a]=i[154][a]);for(i[155]="".split(""),a=0;a!=i[155].length;++a)i[155][a].charCodeAt(0)!==65533&&(n[i[155][a]]=39680+a,r[39680+a]=i[155][a]);for(i[156]="".split(""),a=0;a!=i[156].length;++a)i[156][a].charCodeAt(0)!==65533&&(n[i[156][a]]=39936+a,r[39936+a]=i[156][a]);for(i[157]="".split(""),a=0;a!=i[157].length;++a)i[157][a].charCodeAt(0)!==65533&&(n[i[157][a]]=40192+a,r[40192+a]=i[157][a]);for(i[158]="".split(""),a=0;a!=i[158].length;++a)i[158][a].charCodeAt(0)!==65533&&(n[i[158][a]]=40448+a,r[40448+a]=i[158][a]);for(i[159]="".split(""),a=0;a!=i[159].length;++a)i[159][a].charCodeAt(0)!==65533&&(n[i[159][a]]=40704+a,r[40704+a]=i[159][a]);for(i[160]="".split(""),a=0;a!=i[160].length;++a)i[160][a].charCodeAt(0)!==65533&&(n[i[160][a]]=40960+a,r[40960+a]=i[160][a]);for(i[161]="".split(""),a=0;a!=i[161].length;++a)i[161][a].charCodeAt(0)!==65533&&(n[i[161][a]]=41216+a,r[41216+a]=i[161][a]);for(i[162]="".split(""),a=0;a!=i[162].length;++a)i[162][a].charCodeAt(0)!==65533&&(n[i[162][a]]=41472+a,r[41472+a]=i[162][a]);for(i[163]="".split(""),a=0;a!=i[163].length;++a)i[163][a].charCodeAt(0)!==65533&&(n[i[163][a]]=41728+a,r[41728+a]=i[163][a]);for(i[164]="".split(""),a=0;a!=i[164].length;++a)i[164][a].charCodeAt(0)!==65533&&(n[i[164][a]]=41984+a,r[41984+a]=i[164][a]);for(i[165]="".split(""),a=0;a!=i[165].length;++a)i[165][a].charCodeAt(0)!==65533&&(n[i[165][a]]=42240+a,r[42240+a]=i[165][a]);for(i[166]="".split(""),a=0;a!=i[166].length;++a)i[166][a].charCodeAt(0)!==65533&&(n[i[166][a]]=42496+a,r[42496+a]=i[166][a]);for(i[167]="".split(""),a=0;a!=i[167].length;++a)i[167][a].charCodeAt(0)!==65533&&(n[i[167][a]]=42752+a,r[42752+a]=i[167][a]);for(i[168]="".split(""),a=0;a!=i[168].length;++a)i[168][a].charCodeAt(0)!==65533&&(n[i[168][a]]=43008+a,r[43008+a]=i[168][a]);for(i[169]="".split(""),a=0;a!=i[169].length;++a)i[169][a].charCodeAt(0)!==65533&&(n[i[169][a]]=43264+a,r[43264+a]=i[169][a]);for(i[170]="".split(""),a=0;a!=i[170].length;++a)i[170][a].charCodeAt(0)!==65533&&(n[i[170][a]]=43520+a,r[43520+a]=i[170][a]);for(i[171]="".split(""),a=0;a!=i[171].length;++a)i[171][a].charCodeAt(0)!==65533&&(n[i[171][a]]=43776+a,r[43776+a]=i[171][a]);for(i[172]="".split(""),a=0;a!=i[172].length;++a)i[172][a].charCodeAt(0)!==65533&&(n[i[172][a]]=44032+a,r[44032+a]=i[172][a]);for(i[173]="".split(""),a=0;a!=i[173].length;++a)i[173][a].charCodeAt(0)!==65533&&(n[i[173][a]]=44288+a,r[44288+a]=i[173][a]);for(i[174]="".split(""),a=0;a!=i[174].length;++a)i[174][a].charCodeAt(0)!==65533&&(n[i[174][a]]=44544+a,r[44544+a]=i[174][a]);for(i[175]="".split(""),a=0;a!=i[175].length;++a)i[175][a].charCodeAt(0)!==65533&&(n[i[175][a]]=44800+a,r[44800+a]=i[175][a]);for(i[176]="".split(""),a=0;a!=i[176].length;++a)i[176][a].charCodeAt(0)!==65533&&(n[i[176][a]]=45056+a,r[45056+a]=i[176][a]);for(i[177]="".split(""),a=0;a!=i[177].length;++a)i[177][a].charCodeAt(0)!==65533&&(n[i[177][a]]=45312+a,r[45312+a]=i[177][a]);for(i[178]="".split(""),a=0;a!=i[178].length;++a)i[178][a].charCodeAt(0)!==65533&&(n[i[178][a]]=45568+a,r[45568+a]=i[178][a]);for(i[179]="".split(""),a=0;a!=i[179].length;++a)i[179][a].charCodeAt(0)!==65533&&(n[i[179][a]]=45824+a,r[45824+a]=i[179][a]);for(i[180]="".split(""),a=0;a!=i[180].length;++a)i[180][a].charCodeAt(0)!==65533&&(n[i[180][a]]=46080+a,r[46080+a]=i[180][a]);for(i[181]="".split(""),a=0;a!=i[181].length;++a)i[181][a].charCodeAt(0)!==65533&&(n[i[181][a]]=46336+a,r[46336+a]=i[181][a]);for(i[182]="".split(""),a=0;a!=i[182].length;++a)i[182][a].charCodeAt(0)!==65533&&(n[i[182][a]]=46592+a,r[46592+a]=i[182][a]);for(i[183]="".split(""),a=0;a!=i[183].length;++a)i[183][a].charCodeAt(0)!==65533&&(n[i[183][a]]=46848+a,r[46848+a]=i[183][a]);for(i[184]="".split(""),a=0;a!=i[184].length;++a)i[184][a].charCodeAt(0)!==65533&&(n[i[184][a]]=47104+a,r[47104+a]=i[184][a]);for(i[185]="".split(""),a=0;a!=i[185].length;++a)i[185][a].charCodeAt(0)!==65533&&(n[i[185][a]]=47360+a,r[47360+a]=i[185][a]);for(i[186]="".split(""),a=0;a!=i[186].length;++a)i[186][a].charCodeAt(0)!==65533&&(n[i[186][a]]=47616+a,r[47616+a]=i[186][a]);for(i[187]="".split(""),a=0;a!=i[187].length;++a)i[187][a].charCodeAt(0)!==65533&&(n[i[187][a]]=47872+a,r[47872+a]=i[187][a]);for(i[188]="".split(""),a=0;a!=i[188].length;++a)i[188][a].charCodeAt(0)!==65533&&(n[i[188][a]]=48128+a,r[48128+a]=i[188][a]);for(i[189]="".split(""),a=0;a!=i[189].length;++a)i[189][a].charCodeAt(0)!==65533&&(n[i[189][a]]=48384+a,r[48384+a]=i[189][a]);for(i[190]="".split(""),a=0;a!=i[190].length;++a)i[190][a].charCodeAt(0)!==65533&&(n[i[190][a]]=48640+a,r[48640+a]=i[190][a]);for(i[191]="".split(""),a=0;a!=i[191].length;++a)i[191][a].charCodeAt(0)!==65533&&(n[i[191][a]]=48896+a,r[48896+a]=i[191][a]);for(i[192]="".split(""),a=0;a!=i[192].length;++a)i[192][a].charCodeAt(0)!==65533&&(n[i[192][a]]=49152+a,r[49152+a]=i[192][a]);for(i[193]="".split(""),a=0;a!=i[193].length;++a)i[193][a].charCodeAt(0)!==65533&&(n[i[193][a]]=49408+a,r[49408+a]=i[193][a]);for(i[194]="".split(""),a=0;a!=i[194].length;++a)i[194][a].charCodeAt(0)!==65533&&(n[i[194][a]]=49664+a,r[49664+a]=i[194][a]);for(i[195]="".split(""),a=0;a!=i[195].length;++a)i[195][a].charCodeAt(0)!==65533&&(n[i[195][a]]=49920+a,r[49920+a]=i[195][a]);for(i[196]="".split(""),a=0;a!=i[196].length;++a)i[196][a].charCodeAt(0)!==65533&&(n[i[196][a]]=50176+a,r[50176+a]=i[196][a]);for(i[197]="".split(""),a=0;a!=i[197].length;++a)i[197][a].charCodeAt(0)!==65533&&(n[i[197][a]]=50432+a,r[50432+a]=i[197][a]);for(i[198]="".split(""),a=0;a!=i[198].length;++a)i[198][a].charCodeAt(0)!==65533&&(n[i[198][a]]=50688+a,r[50688+a]=i[198][a]);for(i[199]="".split(""),a=0;a!=i[199].length;++a)i[199][a].charCodeAt(0)!==65533&&(n[i[199][a]]=50944+a,r[50944+a]=i[199][a]);for(i[200]="".split(""),a=0;a!=i[200].length;++a)i[200][a].charCodeAt(0)!==65533&&(n[i[200][a]]=51200+a,r[51200+a]=i[200][a]);for(i[202]="".split(""),a=0;a!=i[202].length;++a)i[202][a].charCodeAt(0)!==65533&&(n[i[202][a]]=51712+a,r[51712+a]=i[202][a]);for(i[203]="".split(""),a=0;a!=i[203].length;++a)i[203][a].charCodeAt(0)!==65533&&(n[i[203][a]]=51968+a,r[51968+a]=i[203][a]);for(i[204]="".split(""),a=0;a!=i[204].length;++a)i[204][a].charCodeAt(0)!==65533&&(n[i[204][a]]=52224+a,r[52224+a]=i[204][a]);for(i[205]="".split(""),a=0;a!=i[205].length;++a)i[205][a].charCodeAt(0)!==65533&&(n[i[205][a]]=52480+a,r[52480+a]=i[205][a]);for(i[206]="".split(""),a=0;a!=i[206].length;++a)i[206][a].charCodeAt(0)!==65533&&(n[i[206][a]]=52736+a,r[52736+a]=i[206][a]);for(i[207]="".split(""),a=0;a!=i[207].length;++a)i[207][a].charCodeAt(0)!==65533&&(n[i[207][a]]=52992+a,r[52992+a]=i[207][a]);for(i[208]="".split(""),a=0;a!=i[208].length;++a)i[208][a].charCodeAt(0)!==65533&&(n[i[208][a]]=53248+a,r[53248+a]=i[208][a]);for(i[209]="".split(""),a=0;a!=i[209].length;++a)i[209][a].charCodeAt(0)!==65533&&(n[i[209][a]]=53504+a,r[53504+a]=i[209][a]);for(i[210]="".split(""),a=0;a!=i[210].length;++a)i[210][a].charCodeAt(0)!==65533&&(n[i[210][a]]=53760+a,r[53760+a]=i[210][a]);for(i[211]="".split(""),a=0;a!=i[211].length;++a)i[211][a].charCodeAt(0)!==65533&&(n[i[211][a]]=54016+a,r[54016+a]=i[211][a]);for(i[212]="".split(""),a=0;a!=i[212].length;++a)i[212][a].charCodeAt(0)!==65533&&(n[i[212][a]]=54272+a,r[54272+a]=i[212][a]);for(i[213]="".split(""),a=0;a!=i[213].length;++a)i[213][a].charCodeAt(0)!==65533&&(n[i[213][a]]=54528+a,r[54528+a]=i[213][a]);for(i[214]="".split(""),a=0;a!=i[214].length;++a)i[214][a].charCodeAt(0)!==65533&&(n[i[214][a]]=54784+a,r[54784+a]=i[214][a]);for(i[215]="".split(""),a=0;a!=i[215].length;++a)i[215][a].charCodeAt(0)!==65533&&(n[i[215][a]]=55040+a,r[55040+a]=i[215][a]);for(i[216]="".split(""),a=0;a!=i[216].length;++a)i[216][a].charCodeAt(0)!==65533&&(n[i[216][a]]=55296+a,r[55296+a]=i[216][a]);for(i[217]="".split(""),a=0;a!=i[217].length;++a)i[217][a].charCodeAt(0)!==65533&&(n[i[217][a]]=55552+a,r[55552+a]=i[217][a]);for(i[218]="".split(""),a=0;a!=i[218].length;++a)i[218][a].charCodeAt(0)!==65533&&(n[i[218][a]]=55808+a,r[55808+a]=i[218][a]);for(i[219]="".split(""),a=0;a!=i[219].length;++a)i[219][a].charCodeAt(0)!==65533&&(n[i[219][a]]=56064+a,r[56064+a]=i[219][a]);for(i[220]="".split(""),a=0;a!=i[220].length;++a)i[220][a].charCodeAt(0)!==65533&&(n[i[220][a]]=56320+a,r[56320+a]=i[220][a]);for(i[221]="".split(""),a=0;a!=i[221].length;++a)i[221][a].charCodeAt(0)!==65533&&(n[i[221][a]]=56576+a,r[56576+a]=i[221][a]);for(i[222]="".split(""),a=0;a!=i[222].length;++a)i[222][a].charCodeAt(0)!==65533&&(n[i[222][a]]=56832+a,r[56832+a]=i[222][a]);for(i[223]="".split(""),a=0;a!=i[223].length;++a)i[223][a].charCodeAt(0)!==65533&&(n[i[223][a]]=57088+a,r[57088+a]=i[223][a]);for(i[224]="".split(""),a=0;a!=i[224].length;++a)i[224][a].charCodeAt(0)!==65533&&(n[i[224][a]]=57344+a,r[57344+a]=i[224][a]);for(i[225]="".split(""),a=0;a!=i[225].length;++a)i[225][a].charCodeAt(0)!==65533&&(n[i[225][a]]=57600+a,r[57600+a]=i[225][a]);for(i[226]="".split(""),a=0;a!=i[226].length;++a)i[226][a].charCodeAt(0)!==65533&&(n[i[226][a]]=57856+a,r[57856+a]=i[226][a]);for(i[227]="".split(""),a=0;a!=i[227].length;++a)i[227][a].charCodeAt(0)!==65533&&(n[i[227][a]]=58112+a,r[58112+a]=i[227][a]);for(i[228]="".split(""),a=0;a!=i[228].length;++a)i[228][a].charCodeAt(0)!==65533&&(n[i[228][a]]=58368+a,r[58368+a]=i[228][a]);for(i[229]="".split(""),a=0;a!=i[229].length;++a)i[229][a].charCodeAt(0)!==65533&&(n[i[229][a]]=58624+a,r[58624+a]=i[229][a]);for(i[230]="".split(""),a=0;a!=i[230].length;++a)i[230][a].charCodeAt(0)!==65533&&(n[i[230][a]]=58880+a,r[58880+a]=i[230][a]);for(i[231]="".split(""),a=0;a!=i[231].length;++a)i[231][a].charCodeAt(0)!==65533&&(n[i[231][a]]=59136+a,r[59136+a]=i[231][a]);for(i[232]="".split(""),a=0;a!=i[232].length;++a)i[232][a].charCodeAt(0)!==65533&&(n[i[232][a]]=59392+a,r[59392+a]=i[232][a]);for(i[233]="".split(""),a=0;a!=i[233].length;++a)i[233][a].charCodeAt(0)!==65533&&(n[i[233][a]]=59648+a,r[59648+a]=i[233][a]);for(i[234]="".split(""),a=0;a!=i[234].length;++a)i[234][a].charCodeAt(0)!==65533&&(n[i[234][a]]=59904+a,r[59904+a]=i[234][a]);for(i[235]="".split(""),a=0;a!=i[235].length;++a)i[235][a].charCodeAt(0)!==65533&&(n[i[235][a]]=60160+a,r[60160+a]=i[235][a]);for(i[236]="".split(""),a=0;a!=i[236].length;++a)i[236][a].charCodeAt(0)!==65533&&(n[i[236][a]]=60416+a,r[60416+a]=i[236][a]);for(i[237]="".split(""),a=0;a!=i[237].length;++a)i[237][a].charCodeAt(0)!==65533&&(n[i[237][a]]=60672+a,r[60672+a]=i[237][a]);for(i[238]="".split(""),a=0;a!=i[238].length;++a)i[238][a].charCodeAt(0)!==65533&&(n[i[238][a]]=60928+a,r[60928+a]=i[238][a]);for(i[239]="".split(""),a=0;a!=i[239].length;++a)i[239][a].charCodeAt(0)!==65533&&(n[i[239][a]]=61184+a,r[61184+a]=i[239][a]);for(i[240]="".split(""),a=0;a!=i[240].length;++a)i[240][a].charCodeAt(0)!==65533&&(n[i[240][a]]=61440+a,r[61440+a]=i[240][a]);for(i[241]="".split(""),a=0;a!=i[241].length;++a)i[241][a].charCodeAt(0)!==65533&&(n[i[241][a]]=61696+a,r[61696+a]=i[241][a]);for(i[242]="".split(""),a=0;a!=i[242].length;++a)i[242][a].charCodeAt(0)!==65533&&(n[i[242][a]]=61952+a,r[61952+a]=i[242][a]);for(i[243]="".split(""),a=0;a!=i[243].length;++a)i[243][a].charCodeAt(0)!==65533&&(n[i[243][a]]=62208+a,r[62208+a]=i[243][a]);for(i[244]="".split(""),a=0;a!=i[244].length;++a)i[244][a].charCodeAt(0)!==65533&&(n[i[244][a]]=62464+a,r[62464+a]=i[244][a]);for(i[245]="".split(""),a=0;a!=i[245].length;++a)i[245][a].charCodeAt(0)!==65533&&(n[i[245][a]]=62720+a,r[62720+a]=i[245][a]);for(i[246]="".split(""),a=0;a!=i[246].length;++a)i[246][a].charCodeAt(0)!==65533&&(n[i[246][a]]=62976+a,r[62976+a]=i[246][a]);for(i[247]="".split(""),a=0;a!=i[247].length;++a)i[247][a].charCodeAt(0)!==65533&&(n[i[247][a]]=63232+a,r[63232+a]=i[247][a]);for(i[248]="".split(""),a=0;a!=i[248].length;++a)i[248][a].charCodeAt(0)!==65533&&(n[i[248][a]]=63488+a,r[63488+a]=i[248][a]);for(i[249]="".split(""),a=0;a!=i[249].length;++a)i[249][a].charCodeAt(0)!==65533&&(n[i[249][a]]=63744+a,r[63744+a]=i[249][a]);for(i[250]="".split(""),a=0;a!=i[250].length;++a)i[250][a].charCodeAt(0)!==65533&&(n[i[250][a]]=64e3+a,r[64e3+a]=i[250][a]);for(i[251]="".split(""),a=0;a!=i[251].length;++a)i[251][a].charCodeAt(0)!==65533&&(n[i[251][a]]=64256+a,r[64256+a]=i[251][a]);for(i[252]="".split(""),a=0;a!=i[252].length;++a)i[252][a].charCodeAt(0)!==65533&&(n[i[252][a]]=64512+a,r[64512+a]=i[252][a]);for(i[253]="".split(""),a=0;a!=i[253].length;++a)i[253][a].charCodeAt(0)!==65533&&(n[i[253][a]]=64768+a,r[64768+a]=i[253][a]);return{enc:n,dec:r}}(),t[950]=function(){var r=[],n={},i=[],a;for(i[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=i[0].length;++a)i[0][a].charCodeAt(0)!==65533&&(n[i[0][a]]=0+a,r[0+a]=i[0][a]);for(i[161]="".split(""),a=0;a!=i[161].length;++a)i[161][a].charCodeAt(0)!==65533&&(n[i[161][a]]=41216+a,r[41216+a]=i[161][a]);for(i[162]="".split(""),a=0;a!=i[162].length;++a)i[162][a].charCodeAt(0)!==65533&&(n[i[162][a]]=41472+a,r[41472+a]=i[162][a]);for(i[163]="".split(""),a=0;a!=i[163].length;++a)i[163][a].charCodeAt(0)!==65533&&(n[i[163][a]]=41728+a,r[41728+a]=i[163][a]);for(i[164]="".split(""),a=0;a!=i[164].length;++a)i[164][a].charCodeAt(0)!==65533&&(n[i[164][a]]=41984+a,r[41984+a]=i[164][a]);for(i[165]="".split(""),a=0;a!=i[165].length;++a)i[165][a].charCodeAt(0)!==65533&&(n[i[165][a]]=42240+a,r[42240+a]=i[165][a]);for(i[166]="".split(""),a=0;a!=i[166].length;++a)i[166][a].charCodeAt(0)!==65533&&(n[i[166][a]]=42496+a,r[42496+a]=i[166][a]);for(i[167]="".split(""),a=0;a!=i[167].length;++a)i[167][a].charCodeAt(0)!==65533&&(n[i[167][a]]=42752+a,r[42752+a]=i[167][a]);for(i[168]="".split(""),a=0;a!=i[168].length;++a)i[168][a].charCodeAt(0)!==65533&&(n[i[168][a]]=43008+a,r[43008+a]=i[168][a]);for(i[169]="".split(""),a=0;a!=i[169].length;++a)i[169][a].charCodeAt(0)!==65533&&(n[i[169][a]]=43264+a,r[43264+a]=i[169][a]);for(i[170]="".split(""),a=0;a!=i[170].length;++a)i[170][a].charCodeAt(0)!==65533&&(n[i[170][a]]=43520+a,r[43520+a]=i[170][a]);for(i[171]="".split(""),a=0;a!=i[171].length;++a)i[171][a].charCodeAt(0)!==65533&&(n[i[171][a]]=43776+a,r[43776+a]=i[171][a]);for(i[172]="".split(""),a=0;a!=i[172].length;++a)i[172][a].charCodeAt(0)!==65533&&(n[i[172][a]]=44032+a,r[44032+a]=i[172][a]);for(i[173]="".split(""),a=0;a!=i[173].length;++a)i[173][a].charCodeAt(0)!==65533&&(n[i[173][a]]=44288+a,r[44288+a]=i[173][a]);for(i[174]="".split(""),a=0;a!=i[174].length;++a)i[174][a].charCodeAt(0)!==65533&&(n[i[174][a]]=44544+a,r[44544+a]=i[174][a]);for(i[175]="".split(""),a=0;a!=i[175].length;++a)i[175][a].charCodeAt(0)!==65533&&(n[i[175][a]]=44800+a,r[44800+a]=i[175][a]);for(i[176]="".split(""),a=0;a!=i[176].length;++a)i[176][a].charCodeAt(0)!==65533&&(n[i[176][a]]=45056+a,r[45056+a]=i[176][a]);for(i[177]="".split(""),a=0;a!=i[177].length;++a)i[177][a].charCodeAt(0)!==65533&&(n[i[177][a]]=45312+a,r[45312+a]=i[177][a]);for(i[178]="".split(""),a=0;a!=i[178].length;++a)i[178][a].charCodeAt(0)!==65533&&(n[i[178][a]]=45568+a,r[45568+a]=i[178][a]);for(i[179]="".split(""),a=0;a!=i[179].length;++a)i[179][a].charCodeAt(0)!==65533&&(n[i[179][a]]=45824+a,r[45824+a]=i[179][a]);for(i[180]="".split(""),a=0;a!=i[180].length;++a)i[180][a].charCodeAt(0)!==65533&&(n[i[180][a]]=46080+a,r[46080+a]=i[180][a]);for(i[181]="".split(""),a=0;a!=i[181].length;++a)i[181][a].charCodeAt(0)!==65533&&(n[i[181][a]]=46336+a,r[46336+a]=i[181][a]);for(i[182]="".split(""),a=0;a!=i[182].length;++a)i[182][a].charCodeAt(0)!==65533&&(n[i[182][a]]=46592+a,r[46592+a]=i[182][a]);for(i[183]="".split(""),a=0;a!=i[183].length;++a)i[183][a].charCodeAt(0)!==65533&&(n[i[183][a]]=46848+a,r[46848+a]=i[183][a]);for(i[184]="".split(""),a=0;a!=i[184].length;++a)i[184][a].charCodeAt(0)!==65533&&(n[i[184][a]]=47104+a,r[47104+a]=i[184][a]);for(i[185]="".split(""),a=0;a!=i[185].length;++a)i[185][a].charCodeAt(0)!==65533&&(n[i[185][a]]=47360+a,r[47360+a]=i[185][a]);for(i[186]="".split(""),a=0;a!=i[186].length;++a)i[186][a].charCodeAt(0)!==65533&&(n[i[186][a]]=47616+a,r[47616+a]=i[186][a]);for(i[187]="".split(""),a=0;a!=i[187].length;++a)i[187][a].charCodeAt(0)!==65533&&(n[i[187][a]]=47872+a,r[47872+a]=i[187][a]);for(i[188]="".split(""),a=0;a!=i[188].length;++a)i[188][a].charCodeAt(0)!==65533&&(n[i[188][a]]=48128+a,r[48128+a]=i[188][a]);for(i[189]="".split(""),a=0;a!=i[189].length;++a)i[189][a].charCodeAt(0)!==65533&&(n[i[189][a]]=48384+a,r[48384+a]=i[189][a]);for(i[190]="".split(""),a=0;a!=i[190].length;++a)i[190][a].charCodeAt(0)!==65533&&(n[i[190][a]]=48640+a,r[48640+a]=i[190][a]);for(i[191]="".split(""),a=0;a!=i[191].length;++a)i[191][a].charCodeAt(0)!==65533&&(n[i[191][a]]=48896+a,r[48896+a]=i[191][a]);for(i[192]="".split(""),a=0;a!=i[192].length;++a)i[192][a].charCodeAt(0)!==65533&&(n[i[192][a]]=49152+a,r[49152+a]=i[192][a]);for(i[193]="".split(""),a=0;a!=i[193].length;++a)i[193][a].charCodeAt(0)!==65533&&(n[i[193][a]]=49408+a,r[49408+a]=i[193][a]);for(i[194]="".split(""),a=0;a!=i[194].length;++a)i[194][a].charCodeAt(0)!==65533&&(n[i[194][a]]=49664+a,r[49664+a]=i[194][a]);for(i[195]="".split(""),a=0;a!=i[195].length;++a)i[195][a].charCodeAt(0)!==65533&&(n[i[195][a]]=49920+a,r[49920+a]=i[195][a]);for(i[196]="".split(""),a=0;a!=i[196].length;++a)i[196][a].charCodeAt(0)!==65533&&(n[i[196][a]]=50176+a,r[50176+a]=i[196][a]);for(i[197]="".split(""),a=0;a!=i[197].length;++a)i[197][a].charCodeAt(0)!==65533&&(n[i[197][a]]=50432+a,r[50432+a]=i[197][a]);for(i[198]="".split(""),a=0;a!=i[198].length;++a)i[198][a].charCodeAt(0)!==65533&&(n[i[198][a]]=50688+a,r[50688+a]=i[198][a]);for(i[201]="".split(""),a=0;a!=i[201].length;++a)i[201][a].charCodeAt(0)!==65533&&(n[i[201][a]]=51456+a,r[51456+a]=i[201][a]);for(i[202]="".split(""),a=0;a!=i[202].length;++a)i[202][a].charCodeAt(0)!==65533&&(n[i[202][a]]=51712+a,r[51712+a]=i[202][a]);for(i[203]="".split(""),a=0;a!=i[203].length;++a)i[203][a].charCodeAt(0)!==65533&&(n[i[203][a]]=51968+a,r[51968+a]=i[203][a]);for(i[204]="".split(""),a=0;a!=i[204].length;++a)i[204][a].charCodeAt(0)!==65533&&(n[i[204][a]]=52224+a,r[52224+a]=i[204][a]);for(i[205]="".split(""),a=0;a!=i[205].length;++a)i[205][a].charCodeAt(0)!==65533&&(n[i[205][a]]=52480+a,r[52480+a]=i[205][a]);for(i[206]="".split(""),a=0;a!=i[206].length;++a)i[206][a].charCodeAt(0)!==65533&&(n[i[206][a]]=52736+a,r[52736+a]=i[206][a]);for(i[207]="".split(""),a=0;a!=i[207].length;++a)i[207][a].charCodeAt(0)!==65533&&(n[i[207][a]]=52992+a,r[52992+a]=i[207][a]);for(i[208]="".split(""),a=0;a!=i[208].length;++a)i[208][a].charCodeAt(0)!==65533&&(n[i[208][a]]=53248+a,r[53248+a]=i[208][a]);for(i[209]="".split(""),a=0;a!=i[209].length;++a)i[209][a].charCodeAt(0)!==65533&&(n[i[209][a]]=53504+a,r[53504+a]=i[209][a]);for(i[210]="".split(""),a=0;a!=i[210].length;++a)i[210][a].charCodeAt(0)!==65533&&(n[i[210][a]]=53760+a,r[53760+a]=i[210][a]);for(i[211]="".split(""),a=0;a!=i[211].length;++a)i[211][a].charCodeAt(0)!==65533&&(n[i[211][a]]=54016+a,r[54016+a]=i[211][a]);for(i[212]="".split(""),a=0;a!=i[212].length;++a)i[212][a].charCodeAt(0)!==65533&&(n[i[212][a]]=54272+a,r[54272+a]=i[212][a]);for(i[213]="".split(""),a=0;a!=i[213].length;++a)i[213][a].charCodeAt(0)!==65533&&(n[i[213][a]]=54528+a,r[54528+a]=i[213][a]);for(i[214]="".split(""),a=0;a!=i[214].length;++a)i[214][a].charCodeAt(0)!==65533&&(n[i[214][a]]=54784+a,r[54784+a]=i[214][a]);for(i[215]="".split(""),a=0;a!=i[215].length;++a)i[215][a].charCodeAt(0)!==65533&&(n[i[215][a]]=55040+a,r[55040+a]=i[215][a]);for(i[216]="".split(""),a=0;a!=i[216].length;++a)i[216][a].charCodeAt(0)!==65533&&(n[i[216][a]]=55296+a,r[55296+a]=i[216][a]);for(i[217]="".split(""),a=0;a!=i[217].length;++a)i[217][a].charCodeAt(0)!==65533&&(n[i[217][a]]=55552+a,r[55552+a]=i[217][a]);for(i[218]="".split(""),a=0;a!=i[218].length;++a)i[218][a].charCodeAt(0)!==65533&&(n[i[218][a]]=55808+a,r[55808+a]=i[218][a]);for(i[219]="".split(""),a=0;a!=i[219].length;++a)i[219][a].charCodeAt(0)!==65533&&(n[i[219][a]]=56064+a,r[56064+a]=i[219][a]);for(i[220]="".split(""),a=0;a!=i[220].length;++a)i[220][a].charCodeAt(0)!==65533&&(n[i[220][a]]=56320+a,r[56320+a]=i[220][a]);for(i[221]="".split(""),a=0;a!=i[221].length;++a)i[221][a].charCodeAt(0)!==65533&&(n[i[221][a]]=56576+a,r[56576+a]=i[221][a]);for(i[222]="".split(""),a=0;a!=i[222].length;++a)i[222][a].charCodeAt(0)!==65533&&(n[i[222][a]]=56832+a,r[56832+a]=i[222][a]);for(i[223]="".split(""),a=0;a!=i[223].length;++a)i[223][a].charCodeAt(0)!==65533&&(n[i[223][a]]=57088+a,r[57088+a]=i[223][a]);for(i[224]="".split(""),a=0;a!=i[224].length;++a)i[224][a].charCodeAt(0)!==65533&&(n[i[224][a]]=57344+a,r[57344+a]=i[224][a]);for(i[225]="".split(""),a=0;a!=i[225].length;++a)i[225][a].charCodeAt(0)!==65533&&(n[i[225][a]]=57600+a,r[57600+a]=i[225][a]);for(i[226]="".split(""),a=0;a!=i[226].length;++a)i[226][a].charCodeAt(0)!==65533&&(n[i[226][a]]=57856+a,r[57856+a]=i[226][a]);for(i[227]="".split(""),a=0;a!=i[227].length;++a)i[227][a].charCodeAt(0)!==65533&&(n[i[227][a]]=58112+a,r[58112+a]=i[227][a]);for(i[228]="".split(""),a=0;a!=i[228].length;++a)i[228][a].charCodeAt(0)!==65533&&(n[i[228][a]]=58368+a,r[58368+a]=i[228][a]);for(i[229]="".split(""),a=0;a!=i[229].length;++a)i[229][a].charCodeAt(0)!==65533&&(n[i[229][a]]=58624+a,r[58624+a]=i[229][a]);for(i[230]="".split(""),a=0;a!=i[230].length;++a)i[230][a].charCodeAt(0)!==65533&&(n[i[230][a]]=58880+a,r[58880+a]=i[230][a]);for(i[231]="".split(""),a=0;a!=i[231].length;++a)i[231][a].charCodeAt(0)!==65533&&(n[i[231][a]]=59136+a,r[59136+a]=i[231][a]);for(i[232]="".split(""),a=0;a!=i[232].length;++a)i[232][a].charCodeAt(0)!==65533&&(n[i[232][a]]=59392+a,r[59392+a]=i[232][a]);for(i[233]="".split(""),a=0;a!=i[233].length;++a)i[233][a].charCodeAt(0)!==65533&&(n[i[233][a]]=59648+a,r[59648+a]=i[233][a]);for(i[234]="".split(""),a=0;a!=i[234].length;++a)i[234][a].charCodeAt(0)!==65533&&(n[i[234][a]]=59904+a,r[59904+a]=i[234][a]);for(i[235]="".split(""),a=0;a!=i[235].length;++a)i[235][a].charCodeAt(0)!==65533&&(n[i[235][a]]=60160+a,r[60160+a]=i[235][a]);for(i[236]="".split(""),a=0;a!=i[236].length;++a)i[236][a].charCodeAt(0)!==65533&&(n[i[236][a]]=60416+a,r[60416+a]=i[236][a]);for(i[237]="".split(""),a=0;a!=i[237].length;++a)i[237][a].charCodeAt(0)!==65533&&(n[i[237][a]]=60672+a,r[60672+a]=i[237][a]);for(i[238]="".split(""),a=0;a!=i[238].length;++a)i[238][a].charCodeAt(0)!==65533&&(n[i[238][a]]=60928+a,r[60928+a]=i[238][a]);for(i[239]="".split(""),a=0;a!=i[239].length;++a)i[239][a].charCodeAt(0)!==65533&&(n[i[239][a]]=61184+a,r[61184+a]=i[239][a]);for(i[240]="".split(""),a=0;a!=i[240].length;++a)i[240][a].charCodeAt(0)!==65533&&(n[i[240][a]]=61440+a,r[61440+a]=i[240][a]);for(i[241]="".split(""),a=0;a!=i[241].length;++a)i[241][a].charCodeAt(0)!==65533&&(n[i[241][a]]=61696+a,r[61696+a]=i[241][a]);for(i[242]="".split(""),a=0;a!=i[242].length;++a)i[242][a].charCodeAt(0)!==65533&&(n[i[242][a]]=61952+a,r[61952+a]=i[242][a]);for(i[243]="".split(""),a=0;a!=i[243].length;++a)i[243][a].charCodeAt(0)!==65533&&(n[i[243][a]]=62208+a,r[62208+a]=i[243][a]);for(i[244]="".split(""),a=0;a!=i[244].length;++a)i[244][a].charCodeAt(0)!==65533&&(n[i[244][a]]=62464+a,r[62464+a]=i[244][a]);for(i[245]="".split(""),a=0;a!=i[245].length;++a)i[245][a].charCodeAt(0)!==65533&&(n[i[245][a]]=62720+a,r[62720+a]=i[245][a]);for(i[246]="".split(""),a=0;a!=i[246].length;++a)i[246][a].charCodeAt(0)!==65533&&(n[i[246][a]]=62976+a,r[62976+a]=i[246][a]);for(i[247]="".split(""),a=0;a!=i[247].length;++a)i[247][a].charCodeAt(0)!==65533&&(n[i[247][a]]=63232+a,r[63232+a]=i[247][a]);for(i[248]="".split(""),a=0;a!=i[248].length;++a)i[248][a].charCodeAt(0)!==65533&&(n[i[248][a]]=63488+a,r[63488+a]=i[248][a]);for(i[249]="".split(""),a=0;a!=i[249].length;++a)i[249][a].charCodeAt(0)!==65533&&(n[i[249][a]]=63744+a,r[63744+a]=i[249][a]);return{enc:n,dec:r}}(),t[1250]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1251]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1252]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1253]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1254]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1255]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1256]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1257]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1258]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[1e4]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[10006]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[10007]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[10008]=function(){var r=[],n={},i=[],a;for(i[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=i[0].length;++a)i[0][a].charCodeAt(0)!==65533&&(n[i[0][a]]=0+a,r[0+a]=i[0][a]);for(i[161]="".split(""),a=0;a!=i[161].length;++a)i[161][a].charCodeAt(0)!==65533&&(n[i[161][a]]=41216+a,r[41216+a]=i[161][a]);for(i[162]="".split(""),a=0;a!=i[162].length;++a)i[162][a].charCodeAt(0)!==65533&&(n[i[162][a]]=41472+a,r[41472+a]=i[162][a]);for(i[163]="".split(""),a=0;a!=i[163].length;++a)i[163][a].charCodeAt(0)!==65533&&(n[i[163][a]]=41728+a,r[41728+a]=i[163][a]);for(i[164]="".split(""),a=0;a!=i[164].length;++a)i[164][a].charCodeAt(0)!==65533&&(n[i[164][a]]=41984+a,r[41984+a]=i[164][a]);for(i[165]="".split(""),a=0;a!=i[165].length;++a)i[165][a].charCodeAt(0)!==65533&&(n[i[165][a]]=42240+a,r[42240+a]=i[165][a]);for(i[166]="".split(""),a=0;a!=i[166].length;++a)i[166][a].charCodeAt(0)!==65533&&(n[i[166][a]]=42496+a,r[42496+a]=i[166][a]);for(i[167]="".split(""),a=0;a!=i[167].length;++a)i[167][a].charCodeAt(0)!==65533&&(n[i[167][a]]=42752+a,r[42752+a]=i[167][a]);for(i[168]="".split(""),a=0;a!=i[168].length;++a)i[168][a].charCodeAt(0)!==65533&&(n[i[168][a]]=43008+a,r[43008+a]=i[168][a]);for(i[169]="".split(""),a=0;a!=i[169].length;++a)i[169][a].charCodeAt(0)!==65533&&(n[i[169][a]]=43264+a,r[43264+a]=i[169][a]);for(i[176]="".split(""),a=0;a!=i[176].length;++a)i[176][a].charCodeAt(0)!==65533&&(n[i[176][a]]=45056+a,r[45056+a]=i[176][a]);for(i[177]="".split(""),a=0;a!=i[177].length;++a)i[177][a].charCodeAt(0)!==65533&&(n[i[177][a]]=45312+a,r[45312+a]=i[177][a]);for(i[178]="".split(""),a=0;a!=i[178].length;++a)i[178][a].charCodeAt(0)!==65533&&(n[i[178][a]]=45568+a,r[45568+a]=i[178][a]);for(i[179]="".split(""),a=0;a!=i[179].length;++a)i[179][a].charCodeAt(0)!==65533&&(n[i[179][a]]=45824+a,r[45824+a]=i[179][a]);for(i[180]="".split(""),a=0;a!=i[180].length;++a)i[180][a].charCodeAt(0)!==65533&&(n[i[180][a]]=46080+a,r[46080+a]=i[180][a]);for(i[181]="".split(""),a=0;a!=i[181].length;++a)i[181][a].charCodeAt(0)!==65533&&(n[i[181][a]]=46336+a,r[46336+a]=i[181][a]);for(i[182]="".split(""),a=0;a!=i[182].length;++a)i[182][a].charCodeAt(0)!==65533&&(n[i[182][a]]=46592+a,r[46592+a]=i[182][a]);for(i[183]="".split(""),a=0;a!=i[183].length;++a)i[183][a].charCodeAt(0)!==65533&&(n[i[183][a]]=46848+a,r[46848+a]=i[183][a]);for(i[184]="".split(""),a=0;a!=i[184].length;++a)i[184][a].charCodeAt(0)!==65533&&(n[i[184][a]]=47104+a,r[47104+a]=i[184][a]);for(i[185]="".split(""),a=0;a!=i[185].length;++a)i[185][a].charCodeAt(0)!==65533&&(n[i[185][a]]=47360+a,r[47360+a]=i[185][a]);for(i[186]="".split(""),a=0;a!=i[186].length;++a)i[186][a].charCodeAt(0)!==65533&&(n[i[186][a]]=47616+a,r[47616+a]=i[186][a]);for(i[187]="".split(""),a=0;a!=i[187].length;++a)i[187][a].charCodeAt(0)!==65533&&(n[i[187][a]]=47872+a,r[47872+a]=i[187][a]);for(i[188]="".split(""),a=0;a!=i[188].length;++a)i[188][a].charCodeAt(0)!==65533&&(n[i[188][a]]=48128+a,r[48128+a]=i[188][a]);for(i[189]="".split(""),a=0;a!=i[189].length;++a)i[189][a].charCodeAt(0)!==65533&&(n[i[189][a]]=48384+a,r[48384+a]=i[189][a]);for(i[190]="".split(""),a=0;a!=i[190].length;++a)i[190][a].charCodeAt(0)!==65533&&(n[i[190][a]]=48640+a,r[48640+a]=i[190][a]);for(i[191]="".split(""),a=0;a!=i[191].length;++a)i[191][a].charCodeAt(0)!==65533&&(n[i[191][a]]=48896+a,r[48896+a]=i[191][a]);for(i[192]="".split(""),a=0;a!=i[192].length;++a)i[192][a].charCodeAt(0)!==65533&&(n[i[192][a]]=49152+a,r[49152+a]=i[192][a]);for(i[193]="".split(""),a=0;a!=i[193].length;++a)i[193][a].charCodeAt(0)!==65533&&(n[i[193][a]]=49408+a,r[49408+a]=i[193][a]);for(i[194]="".split(""),a=0;a!=i[194].length;++a)i[194][a].charCodeAt(0)!==65533&&(n[i[194][a]]=49664+a,r[49664+a]=i[194][a]);for(i[195]="".split(""),a=0;a!=i[195].length;++a)i[195][a].charCodeAt(0)!==65533&&(n[i[195][a]]=49920+a,r[49920+a]=i[195][a]);for(i[196]="".split(""),a=0;a!=i[196].length;++a)i[196][a].charCodeAt(0)!==65533&&(n[i[196][a]]=50176+a,r[50176+a]=i[196][a]);for(i[197]="".split(""),a=0;a!=i[197].length;++a)i[197][a].charCodeAt(0)!==65533&&(n[i[197][a]]=50432+a,r[50432+a]=i[197][a]);for(i[198]="".split(""),a=0;a!=i[198].length;++a)i[198][a].charCodeAt(0)!==65533&&(n[i[198][a]]=50688+a,r[50688+a]=i[198][a]);for(i[199]="".split(""),a=0;a!=i[199].length;++a)i[199][a].charCodeAt(0)!==65533&&(n[i[199][a]]=50944+a,r[50944+a]=i[199][a]);for(i[200]="".split(""),a=0;a!=i[200].length;++a)i[200][a].charCodeAt(0)!==65533&&(n[i[200][a]]=51200+a,r[51200+a]=i[200][a]);for(i[201]="".split(""),a=0;a!=i[201].length;++a)i[201][a].charCodeAt(0)!==65533&&(n[i[201][a]]=51456+a,r[51456+a]=i[201][a]);for(i[202]="".split(""),a=0;a!=i[202].length;++a)i[202][a].charCodeAt(0)!==65533&&(n[i[202][a]]=51712+a,r[51712+a]=i[202][a]);for(i[203]="".split(""),a=0;a!=i[203].length;++a)i[203][a].charCodeAt(0)!==65533&&(n[i[203][a]]=51968+a,r[51968+a]=i[203][a]);for(i[204]="".split(""),a=0;a!=i[204].length;++a)i[204][a].charCodeAt(0)!==65533&&(n[i[204][a]]=52224+a,r[52224+a]=i[204][a]);for(i[205]="".split(""),a=0;a!=i[205].length;++a)i[205][a].charCodeAt(0)!==65533&&(n[i[205][a]]=52480+a,r[52480+a]=i[205][a]);for(i[206]="".split(""),a=0;a!=i[206].length;++a)i[206][a].charCodeAt(0)!==65533&&(n[i[206][a]]=52736+a,r[52736+a]=i[206][a]);for(i[207]="".split(""),a=0;a!=i[207].length;++a)i[207][a].charCodeAt(0)!==65533&&(n[i[207][a]]=52992+a,r[52992+a]=i[207][a]);for(i[208]="".split(""),a=0;a!=i[208].length;++a)i[208][a].charCodeAt(0)!==65533&&(n[i[208][a]]=53248+a,r[53248+a]=i[208][a]);for(i[209]="".split(""),a=0;a!=i[209].length;++a)i[209][a].charCodeAt(0)!==65533&&(n[i[209][a]]=53504+a,r[53504+a]=i[209][a]);for(i[210]="".split(""),a=0;a!=i[210].length;++a)i[210][a].charCodeAt(0)!==65533&&(n[i[210][a]]=53760+a,r[53760+a]=i[210][a]);for(i[211]="".split(""),a=0;a!=i[211].length;++a)i[211][a].charCodeAt(0)!==65533&&(n[i[211][a]]=54016+a,r[54016+a]=i[211][a]);for(i[212]="".split(""),a=0;a!=i[212].length;++a)i[212][a].charCodeAt(0)!==65533&&(n[i[212][a]]=54272+a,r[54272+a]=i[212][a]);for(i[213]="".split(""),a=0;a!=i[213].length;++a)i[213][a].charCodeAt(0)!==65533&&(n[i[213][a]]=54528+a,r[54528+a]=i[213][a]);for(i[214]="".split(""),a=0;a!=i[214].length;++a)i[214][a].charCodeAt(0)!==65533&&(n[i[214][a]]=54784+a,r[54784+a]=i[214][a]);for(i[215]="".split(""),a=0;a!=i[215].length;++a)i[215][a].charCodeAt(0)!==65533&&(n[i[215][a]]=55040+a,r[55040+a]=i[215][a]);for(i[216]="".split(""),a=0;a!=i[216].length;++a)i[216][a].charCodeAt(0)!==65533&&(n[i[216][a]]=55296+a,r[55296+a]=i[216][a]);for(i[217]="".split(""),a=0;a!=i[217].length;++a)i[217][a].charCodeAt(0)!==65533&&(n[i[217][a]]=55552+a,r[55552+a]=i[217][a]);for(i[218]="".split(""),a=0;a!=i[218].length;++a)i[218][a].charCodeAt(0)!==65533&&(n[i[218][a]]=55808+a,r[55808+a]=i[218][a]);for(i[219]="".split(""),a=0;a!=i[219].length;++a)i[219][a].charCodeAt(0)!==65533&&(n[i[219][a]]=56064+a,r[56064+a]=i[219][a]);for(i[220]="".split(""),a=0;a!=i[220].length;++a)i[220][a].charCodeAt(0)!==65533&&(n[i[220][a]]=56320+a,r[56320+a]=i[220][a]);for(i[221]="".split(""),a=0;a!=i[221].length;++a)i[221][a].charCodeAt(0)!==65533&&(n[i[221][a]]=56576+a,r[56576+a]=i[221][a]);for(i[222]="".split(""),a=0;a!=i[222].length;++a)i[222][a].charCodeAt(0)!==65533&&(n[i[222][a]]=56832+a,r[56832+a]=i[222][a]);for(i[223]="".split(""),a=0;a!=i[223].length;++a)i[223][a].charCodeAt(0)!==65533&&(n[i[223][a]]=57088+a,r[57088+a]=i[223][a]);for(i[224]="".split(""),a=0;a!=i[224].length;++a)i[224][a].charCodeAt(0)!==65533&&(n[i[224][a]]=57344+a,r[57344+a]=i[224][a]);for(i[225]="".split(""),a=0;a!=i[225].length;++a)i[225][a].charCodeAt(0)!==65533&&(n[i[225][a]]=57600+a,r[57600+a]=i[225][a]);for(i[226]="".split(""),a=0;a!=i[226].length;++a)i[226][a].charCodeAt(0)!==65533&&(n[i[226][a]]=57856+a,r[57856+a]=i[226][a]);for(i[227]="".split(""),a=0;a!=i[227].length;++a)i[227][a].charCodeAt(0)!==65533&&(n[i[227][a]]=58112+a,r[58112+a]=i[227][a]);for(i[228]="".split(""),a=0;a!=i[228].length;++a)i[228][a].charCodeAt(0)!==65533&&(n[i[228][a]]=58368+a,r[58368+a]=i[228][a]);for(i[229]="".split(""),a=0;a!=i[229].length;++a)i[229][a].charCodeAt(0)!==65533&&(n[i[229][a]]=58624+a,r[58624+a]=i[229][a]);for(i[230]="".split(""),a=0;a!=i[230].length;++a)i[230][a].charCodeAt(0)!==65533&&(n[i[230][a]]=58880+a,r[58880+a]=i[230][a]);for(i[231]="".split(""),a=0;a!=i[231].length;++a)i[231][a].charCodeAt(0)!==65533&&(n[i[231][a]]=59136+a,r[59136+a]=i[231][a]);for(i[232]="".split(""),a=0;a!=i[232].length;++a)i[232][a].charCodeAt(0)!==65533&&(n[i[232][a]]=59392+a,r[59392+a]=i[232][a]);for(i[233]="".split(""),a=0;a!=i[233].length;++a)i[233][a].charCodeAt(0)!==65533&&(n[i[233][a]]=59648+a,r[59648+a]=i[233][a]);for(i[234]="".split(""),a=0;a!=i[234].length;++a)i[234][a].charCodeAt(0)!==65533&&(n[i[234][a]]=59904+a,r[59904+a]=i[234][a]);for(i[235]="".split(""),a=0;a!=i[235].length;++a)i[235][a].charCodeAt(0)!==65533&&(n[i[235][a]]=60160+a,r[60160+a]=i[235][a]);for(i[236]="".split(""),a=0;a!=i[236].length;++a)i[236][a].charCodeAt(0)!==65533&&(n[i[236][a]]=60416+a,r[60416+a]=i[236][a]);for(i[237]="".split(""),a=0;a!=i[237].length;++a)i[237][a].charCodeAt(0)!==65533&&(n[i[237][a]]=60672+a,r[60672+a]=i[237][a]);for(i[238]="".split(""),a=0;a!=i[238].length;++a)i[238][a].charCodeAt(0)!==65533&&(n[i[238][a]]=60928+a,r[60928+a]=i[238][a]);for(i[239]="".split(""),a=0;a!=i[239].length;++a)i[239][a].charCodeAt(0)!==65533&&(n[i[239][a]]=61184+a,r[61184+a]=i[239][a]);for(i[240]="".split(""),a=0;a!=i[240].length;++a)i[240][a].charCodeAt(0)!==65533&&(n[i[240][a]]=61440+a,r[61440+a]=i[240][a]);for(i[241]="".split(""),a=0;a!=i[241].length;++a)i[241][a].charCodeAt(0)!==65533&&(n[i[241][a]]=61696+a,r[61696+a]=i[241][a]);for(i[242]="".split(""),a=0;a!=i[242].length;++a)i[242][a].charCodeAt(0)!==65533&&(n[i[242][a]]=61952+a,r[61952+a]=i[242][a]);for(i[243]="".split(""),a=0;a!=i[243].length;++a)i[243][a].charCodeAt(0)!==65533&&(n[i[243][a]]=62208+a,r[62208+a]=i[243][a]);for(i[244]="".split(""),a=0;a!=i[244].length;++a)i[244][a].charCodeAt(0)!==65533&&(n[i[244][a]]=62464+a,r[62464+a]=i[244][a]);for(i[245]="".split(""),a=0;a!=i[245].length;++a)i[245][a].charCodeAt(0)!==65533&&(n[i[245][a]]=62720+a,r[62720+a]=i[245][a]);for(i[246]="".split(""),a=0;a!=i[246].length;++a)i[246][a].charCodeAt(0)!==65533&&(n[i[246][a]]=62976+a,r[62976+a]=i[246][a]);for(i[247]="".split(""),a=0;a!=i[247].length;++a)i[247][a].charCodeAt(0)!==65533&&(n[i[247][a]]=63232+a,r[63232+a]=i[247][a]);return{enc:n,dec:r}}(),t[10029]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[10079]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[10081]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),t[28591]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],i={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(i[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:i,dec:n}}(),e.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"&&(e.exports=t);/*! cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */(function(r,n){if(typeof t>"u")if(typeof fS<"u"){var i=t;e.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"?e.exports=n(i):r.cptable=n(i)}else throw new Error("cptable not found");else t=n(t)})(Rs,function(r){var n={1200:"utf16le",1201:"utf16be",12e3:"utf32le",12001:"utf32be",16969:"utf64le",20127:"ascii",65e3:"utf7",65001:"utf8"},i=[874,1250,1251,1252,1253,1254,1255,1256,1e4],a=[932,936,949,950],o=[65001],l={},c={},u={},f={},h=function(we){return String.fromCharCode(we)},g=function(we){return we.charCodeAt(0)},p=typeof Buffer<"u",S=function(){};if(p){var b=!Buffer.from;if(!b)try{Buffer.from("foo","utf8")}catch{b=!0}S=b?function(ge,we){return we?new Buffer(ge,we):new Buffer(ge)}:Buffer.from.bind(Buffer),Buffer.allocUnsafe||(Buffer.allocUnsafe=function(ge){return new Buffer(ge)});var N=1024,C=Buffer.allocUnsafe(N),A=function(we){for(var Ce=Buffer.allocUnsafe(65536),Q=0;Q<65536;++Q)Ce[Q]=0;for(var le=Object.keys(we),ne=le.length,ee=0,pe=le[ee];ee<ne;++ee)(pe=le[ee])&&(Ce[pe.charCodeAt(0)]=we[pe]);return Ce},T=function(we){var Ce=A(r[we].enc);return function(le,ne){var ee=le.length,pe,xe=0,Ne=0,Se=0,je=0;if(typeof le=="string")for(pe=Buffer.allocUnsafe(ee),xe=0;xe<ee;++xe)pe[xe]=Ce[le.charCodeAt(xe)];else if(Buffer.isBuffer(le)){for(pe=Buffer.allocUnsafe(2*ee),Ne=0,xe=0;xe<ee;++xe)Se=le[xe],Se<128?pe[Ne++]=Ce[Se]:Se<224?(pe[Ne++]=Ce[((Se&31)<<6)+(le[xe+1]&63)],++xe):Se<240?(pe[Ne++]=Ce[((Se&15)<<12)+((le[xe+1]&63)<<6)+(le[xe+2]&63)],xe+=2):(je=((Se&7)<<18)+((le[xe+1]&63)<<12)+((le[xe+2]&63)<<6)+(le[xe+3]&63),xe+=3,je<65536?pe[Ne++]=Ce[je]:(je-=65536,pe[Ne++]=Ce[55296+(je>>10&1023)],pe[Ne++]=Ce[56320+(je&1023)]));pe=pe.slice(0,Ne)}else for(pe=Buffer.allocUnsafe(ee),xe=0;xe<ee;++xe)pe[xe]=Ce[le[xe].charCodeAt(0)];return!ne||ne==="buf"?pe:ne!=="arr"?pe.toString("binary"):[].slice.call(pe)}},F=function(we){var Ce=r[we].dec,Q=Buffer.allocUnsafe(131072),le=0,ne="";for(le=0;le<Ce.length;++le)if(ne=Ce[le]){var ee=ne.charCodeAt(0);Q[2*le]=ee&255,Q[2*le+1]=ee>>8}return function(xe){var Ne=xe.length,Se=0,je=0;if(2*Ne>N&&(N=2*Ne,C=Buffer.allocUnsafe(N)),Buffer.isBuffer(xe))for(Se=0;Se<Ne;Se++)je=2*xe[Se],C[2*Se]=Q[je],C[2*Se+1]=Q[je+1];else if(typeof xe=="string")for(Se=0;Se<Ne;Se++)je=2*xe.charCodeAt(Se),C[2*Se]=Q[je],C[2*Se+1]=Q[je+1];else for(Se=0;Se<Ne;Se++)je=2*xe[Se],C[2*Se]=Q[je],C[2*Se+1]=Q[je+1];return C.slice(0,2*Ne).toString("ucs2")}},L=function(we){for(var Ce=r[we].enc,Q=Buffer.allocUnsafe(131072),le=0;le<131072;++le)Q[le]=0;for(var ne=Object.keys(Ce),ee=0,pe=ne[ee];ee<ne.length;++ee)if(pe=ne[ee]){var xe=pe.charCodeAt(0);Q[2*xe]=Ce[pe]&255,Q[2*xe+1]=Ce[pe]>>8}return function(Se,je){var Ge=Se.length,De=Buffer.allocUnsafe(2*Ge),at=0,ot=0,ht=0,Ue=0,Ct=0;if(typeof Se=="string"){for(at=Ue=0;at<Ge;++at)ot=Se.charCodeAt(at)*2,De[Ue++]=Q[ot+1]||Q[ot],Q[ot+1]>0&&(De[Ue++]=Q[ot]);De=De.slice(0,Ue)}else if(Buffer.isBuffer(Se)){for(at=Ue=0;at<Ge;++at)Ct=Se[at],Ct<128?ot=Ct:Ct<224?(ot=((Ct&31)<<6)+(Se[at+1]&63),++at):Ct<240?(ot=((Ct&15)<<12)+((Se[at+1]&63)<<6)+(Se[at+2]&63),at+=2):(ot=((Ct&7)<<18)+((Se[at+1]&63)<<12)+((Se[at+2]&63)<<6)+(Se[at+3]&63),at+=3),ot<65536?(ot*=2,De[Ue++]=Q[ot+1]||Q[ot],Q[ot+1]>0&&(De[Ue++]=Q[ot])):(ht=ot-65536,ot=2*(55296+(ht>>10&1023)),De[Ue++]=Q[ot+1]||Q[ot],Q[ot+1]>0&&(De[Ue++]=Q[ot]),ot=2*(56320+(ht&1023)),De[Ue++]=Q[ot+1]||Q[ot],Q[ot+1]>0&&(De[Ue++]=Q[ot]));De=De.slice(0,Ue)}else for(at=Ue=0;at<Ge;at++)ot=Se[at].charCodeAt(0)*2,De[Ue++]=Q[ot+1]||Q[ot],Q[ot+1]>0&&(De[Ue++]=Q[ot]);return!je||je==="buf"?De:je!=="arr"?De.toString("binary"):[].slice.call(De)}},B=function(we){var Ce=r[we].dec,Q=Buffer.allocUnsafe(131072),le=0,ne,ee=0,pe=0,xe=0;for(xe=0;xe<65536;++xe)Q[2*xe]=255,Q[2*xe+1]=253;for(le=0;le<Ce.length;++le)(ne=Ce[le])&&(ee=ne.charCodeAt(0),pe=2*le,Q[pe]=ee&255,Q[pe+1]=ee>>8);return function(Se){var je=Se.length,Ge=Buffer.allocUnsafe(2*je),De=0,at=0,ot=0;if(Buffer.isBuffer(Se))for(De=0;De<je;De++)at=2*Se[De],Q[at]===255&&Q[at+1]===253&&(at=2*((Se[De]<<8)+Se[De+1]),++De),Ge[ot++]=Q[at],Ge[ot++]=Q[at+1];else if(typeof Se=="string")for(De=0;De<je;De++)at=2*Se.charCodeAt(De),Q[at]===255&&Q[at+1]===253&&(at=2*((Se.charCodeAt(De)<<8)+Se.charCodeAt(De+1)),++De),Ge[ot++]=Q[at],Ge[ot++]=Q[at+1];else for(De=0;De<je;De++)at=2*Se[De],Q[at]===255&&Q[at+1]===253&&(at=2*((Se[De]<<8)+Se[De+1]),++De),Ge[ot++]=Q[at],Ge[ot++]=Q[at+1];return Ge.slice(0,ot).toString("ucs2")}};l[65001]=function ge(we){if(typeof we=="string")return ge(we.split("").map(g));var Ce=we.length,Q=0,le=0;4*Ce>N&&(N=4*Ce,C=Buffer.allocUnsafe(N));var ne=0;Ce>=3&&we[0]==239&&we[1]==187&&we[2]==191&&(ne=3);for(var ee=1,pe=0,xe=0;ne<Ce;ne+=ee)ee=1,xe=we[ne],xe<128?Q=xe:xe<224?(Q=(xe&31)*64+(we[ne+1]&63),ee=2):xe<240?(Q=((xe&15)<<12)+(we[ne+1]&63)*64+(we[ne+2]&63),ee=3):(Q=(xe&7)*262144+((we[ne+1]&63)<<12)+(we[ne+2]&63)*64+(we[ne+3]&63),ee=4),Q<65536?(C[pe++]=Q&255,C[pe++]=Q>>8):(Q-=65536,le=55296+(Q>>10&1023),Q=56320+(Q&1023),C[pe++]=le&255,C[pe++]=le>>>8,C[pe++]=Q&255,C[pe++]=Q>>>8&255);return C.slice(0,pe).toString("ucs2")},c[65001]=function(we,Ce){if(p&&Buffer.isBuffer(we))return!Ce||Ce==="buf"?we:Ce!=="arr"?we.toString("binary"):[].slice.call(we);var Q=we.length,le=0,ne=0,ee=0,pe=typeof we=="string";4*Q>N&&(N=4*Q,C=Buffer.allocUnsafe(N));for(var xe=0;xe<Q;++xe)le=pe?we.charCodeAt(xe):we[xe].charCodeAt(0),le<=127?C[ee++]=le:le<=2047?(C[ee++]=192+(le>>6),C[ee++]=128+(le&63)):le>=55296&&le<=57343?(le-=55296,++xe,ne=(pe?we.charCodeAt(xe):we[xe].charCodeAt(0))-56320+(le<<10),C[ee++]=240+(ne>>>18&7),C[ee++]=144+(ne>>>12&63),C[ee++]=128+(ne>>>6&63),C[ee++]=128+(ne&63)):(C[ee++]=224+(le>>12),C[ee++]=128+(le>>6&63),C[ee++]=128+(le&63));return!Ce||Ce==="buf"?C.slice(0,ee):Ce!=="arr"?C.slice(0,ee).toString("binary"):[].slice.call(C,0,ee)}}var M=function(){if(p){if(u[i[0]])return;var we=0,Ce=0;for(we=0;we<i.length;++we)Ce=i[we],r[Ce]&&(u[Ce]=F(Ce),f[Ce]=T(Ce));for(we=0;we<a.length;++we)Ce=a[we],r[Ce]&&(u[Ce]=B(Ce),f[Ce]=L(Ce));for(we=0;we<o.length;++we)Ce=o[we],l[Ce]&&(u[Ce]=l[Ce]),c[Ce]&&(f[Ce]=c[Ce])}},W=function(ge,we){return""},z=function(we){delete u[we],delete f[we]},Z=function(){if(p){if(!u[i[0]])return;i.forEach(z),a.forEach(z),o.forEach(z)}ae=W,X=0},K={encache:M,decache:Z,sbcs:i,dbcs:a};M();var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?",ae=W,X=0,se=function ge(we,Ce,Q){if(we===X&&ae)return ae(Ce,Q);if(f[we])return ae=f[X=we],ae(Ce,Q);p&&Buffer.isBuffer(Ce)&&(Ce=Ce.toString("utf8"));var le=Ce.length,ne=p?Buffer.allocUnsafe(4*le):[],ee=0,pe=0,xe=0,Ne=0,Se=r[we],je,Ge="",De=typeof Ce=="string";if(Se&&(je=Se.enc))for(pe=0;pe<le;++pe,++xe)ee=je[De?Ce.charAt(pe):Ce[pe]],ee>255?(ne[xe]=ee>>8,ne[++xe]=ee&255):ne[xe]=ee&255;else if(Ge=n[we])switch(Ge){case"utf8":if(p&&De){ne=S(Ce,Ge),xe=ne.length;break}for(pe=0;pe<le;++pe,++xe)ee=De?Ce.charCodeAt(pe):Ce[pe].charCodeAt(0),ee<=127?ne[xe]=ee:ee<=2047?(ne[xe]=192+(ee>>6),ne[++xe]=128+(ee&63)):ee>=55296&&ee<=57343?(ee-=55296,Ne=(De?Ce.charCodeAt(++pe):Ce[++pe].charCodeAt(0))-56320+(ee<<10),ne[xe]=240+(Ne>>>18&7),ne[++xe]=144+(Ne>>>12&63),ne[++xe]=128+(Ne>>>6&63),ne[++xe]=128+(Ne&63)):(ne[xe]=224+(ee>>12),ne[++xe]=128+(ee>>6&63),ne[++xe]=128+(ee&63));break;case"ascii":if(p&&typeof Ce=="string"){ne=S(Ce,Ge),xe=ne.length;break}for(pe=0;pe<le;++pe,++xe)if(ee=De?Ce.charCodeAt(pe):Ce[pe].charCodeAt(0),ee<=127)ne[xe]=ee;else throw new Error("bad ascii "+ee);break;case"utf16le":if(p&&typeof Ce=="string"){ne=S(Ce,Ge),xe=ne.length;break}for(pe=0;pe<le;++pe)ee=De?Ce.charCodeAt(pe):Ce[pe].charCodeAt(0),ne[xe++]=ee&255,ne[xe++]=ee>>8;break;case"utf16be":for(pe=0;pe<le;++pe)ee=De?Ce.charCodeAt(pe):Ce[pe].charCodeAt(0),ne[xe++]=ee>>8,ne[xe++]=ee&255;break;case"utf32le":for(pe=0;pe<le;++pe)ee=De?Ce.charCodeAt(pe):Ce[pe].charCodeAt(0),ee>=55296&&ee<=57343&&(ee=65536+(ee-55296<<10)+(Ce[++pe].charCodeAt(0)-56320)),ne[xe++]=ee&255,ee>>=8,ne[xe++]=ee&255,ee>>=8,ne[xe++]=ee&255,ee>>=8,ne[xe++]=ee&255;break;case"utf32be":for(pe=0;pe<le;++pe)ee=De?Ce.charCodeAt(pe):Ce[pe].charCodeAt(0),ee>=55296&&ee<=57343&&(ee=65536+(ee-55296<<10)+(Ce[++pe].charCodeAt(0)-56320)),ne[xe+3]=ee&255,ee>>=8,ne[xe+2]=ee&255,ee>>=8,ne[xe+1]=ee&255,ee>>=8,ne[xe]=ee&255,xe+=4;break;case"utf7":for(pe=0;pe<le;pe++){var at=De?Ce.charAt(pe):Ce[pe].charAt(0);if(at==="+"){ne[xe++]=43,ne[xe++]=45;continue}if(ie.indexOf(at)>-1){ne[xe++]=at.charCodeAt(0);continue}var ot=ge(1201,at);ne[xe++]=43,ne[xe++]=q.charCodeAt(ot[0]>>2),ne[xe++]=q.charCodeAt(((ot[0]&3)<<4)+((ot[1]||0)>>4)),ne[xe++]=q.charCodeAt(((ot[1]&15)<<2)+((ot[2]||0)>>6)),ne[xe++]=45}break;default:throw new Error("Unsupported magic: "+we+" "+n[we])}else throw new Error("Unrecognized CP: "+we);return ne=ne.slice(0,xe),p?!Q||Q==="buf"?ne:Q!=="arr"?ne.toString("binary"):[].slice.call(ne):Q=="str"?ne.map(h).join(""):ne},he=function ge(we,Ce){var Q;if(Q=u[we])return Q(Ce);if(typeof Ce=="string")return ge(we,Ce.split("").map(g));var le=Ce.length,ne=new Array(le),ee="",pe=0,xe=0,Ne=1,Se=0,je=0,Ge=r[we],De,at="";if(Ge&&(De=Ge.dec))for(xe=0;xe<le;xe+=Ne){if(Ne=2,ee=De[(Ce[xe]<<8)+Ce[xe+1]],ee||(Ne=1,ee=De[Ce[xe]]),!ee)throw new Error("Unrecognized code: "+Ce[xe]+" "+Ce[xe+Ne-1]+" "+xe+" "+Ne+" "+De[Ce[xe]]);ne[Se++]=ee}else if(at=n[we])switch(at){case"utf8":for(le>=3&&Ce[0]==239&&Ce[1]==187&&Ce[2]==191&&(xe=3);xe<le;xe+=Ne)Ne=1,Ce[xe]<128?pe=Ce[xe]:Ce[xe]<224?(pe=(Ce[xe]&31)*64+(Ce[xe+1]&63),Ne=2):Ce[xe]<240?(pe=((Ce[xe]&15)<<12)+(Ce[xe+1]&63)*64+(Ce[xe+2]&63),Ne=3):(pe=(Ce[xe]&7)*262144+((Ce[xe+1]&63)<<12)+(Ce[xe+2]&63)*64+(Ce[xe+3]&63),Ne=4),pe<65536||(pe-=65536,je=55296+(pe>>10&1023),pe=56320+(pe&1023),ne[Se++]=String.fromCharCode(je)),ne[Se++]=String.fromCharCode(pe);break;case"ascii":if(p&&Buffer.isBuffer(Ce))return Ce.toString(at);for(xe=0;xe<le;xe++)ne[xe]=String.fromCharCode(Ce[xe]);Se=le;break;case"utf16le":if(le>=2&&Ce[0]==255&&Ce[1]==254&&(xe=2),p&&Buffer.isBuffer(Ce))return Ce.toString(at);for(Ne=2;xe+1<le;xe+=Ne)ne[Se++]=String.fromCharCode((Ce[xe+1]<<8)+Ce[xe]);break;case"utf16be":for(le>=2&&Ce[0]==254&&Ce[1]==255&&(xe=2),Ne=2;xe+1<le;xe+=Ne)ne[Se++]=String.fromCharCode((Ce[xe]<<8)+Ce[xe+1]);break;case"utf32le":for(le>=4&&Ce[0]==255&&Ce[1]==254&&Ce[2]===0&&Ce[3]===0&&(xe=4),Ne=4;xe<le;xe+=Ne)pe=(Ce[xe+3]<<24)+(Ce[xe+2]<<16)+(Ce[xe+1]<<8)+Ce[xe],pe>65535?(pe-=65536,ne[Se++]=String.fromCharCode(55296+(pe>>10&1023)),ne[Se++]=String.fromCharCode(56320+(pe&1023))):ne[Se++]=String.fromCharCode(pe);break;case"utf32be":for(le>=4&&Ce[3]==255&&Ce[2]==254&&Ce[1]===0&&Ce[0]===0&&(xe=4),Ne=4;xe<le;xe+=Ne)pe=(Ce[xe]<<24)+(Ce[xe+1]<<16)+(Ce[xe+2]<<8)+Ce[xe+3],pe>65535?(pe-=65536,ne[Se++]=String.fromCharCode(55296+(pe>>10&1023)),ne[Se++]=String.fromCharCode(56320+(pe&1023))):ne[Se++]=String.fromCharCode(pe);break;case"utf7":for(le>=4&&Ce[0]==43&&Ce[1]==47&&Ce[2]==118&&(le>=5&&Ce[3]==56&&Ce[4]==45?xe=5:(Ce[3]==56||Ce[3]==57||Ce[3]==43||Ce[3]==47)&&(xe=4));xe<le;xe+=Ne){if(Ce[xe]!==43){Ne=1,ne[Se++]=String.fromCharCode(Ce[xe]);continue}if(Ne=1,Ce[xe+1]===45){Ne=2,ne[Se++]="+";continue}for(;String.fromCharCode(Ce[xe+Ne]).match(/[A-Za-z0-9+\/]/);)Ne++;var ot=0;Ce[xe+Ne]===45&&(++Ne,ot=1);for(var ht=[],Ue="",Ct=0,tr=0,Ot=0,xr=0,st=0,lr=0,_r=0,kr=1;kr<Ne-ot&&(xr=q.indexOf(String.fromCharCode(Ce[xe+kr++])),st=q.indexOf(String.fromCharCode(Ce[xe+kr++])),Ct=xr<<2|st>>4,ht.push(Ct),lr=q.indexOf(String.fromCharCode(Ce[xe+kr++])),!(lr===-1||(tr=(st&15)<<4|lr>>2,ht.push(tr),_r=q.indexOf(String.fromCharCode(Ce[xe+kr++])),_r===-1)));)Ot=(lr&3)<<6|_r,_r<64&&ht.push(Ot);for(Ue=ge(1201,ht),kr=0;kr<Ue.length;++kr)ne[Se++]=Ue.charAt(kr)}break;default:throw new Error("Unsupported magic: "+we+" "+n[we])}else throw new Error("Unrecognized CP: "+we);return ne.slice(0,Se).join("")},ce=function(we){return!!(r[we]||n[we])};return r.utils={decode:he,encode:se,hascp:ce,magic:n,cache:K},r})}(Pk)),Pk.exports}const nmt={},amt=Object.freeze(Object.defineProperty({__proto__:null,default:nmt},Symbol.toStringTag,{value:"Module"})),Ok=zY(amt);(function(e,t){var r={};function n(i){i.version="0.18.5",i.style_version="1.2.0";var a,o=1200,l=1252;typeof cptable<"u"?a=cptable:typeof fS<"u"&&(a=rmt());var c=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],u={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},f=function(d){c.indexOf(d)!=-1&&(l=u[0]=d)},h=function(d){f(o=d)};function g(){h(1200),f(1252)}function p(d){for(var x=[],v=0,_=d.length;v<_;++v)x[v]=d.charCodeAt(v);return x}function S(d){for(var x=[],v=0;v<d.length>>1;++v)x[v]=String.fromCharCode(d.charCodeAt(2*v+1)+(d.charCodeAt(2*v)<<8));return x.join("")}var b=function(d){var x=d.charCodeAt(0),v=d.charCodeAt(1);return x==255&&v==254?function(_){for(var k=[],I=0;I<_.length>>1;++I)k[I]=String.fromCharCode(_.charCodeAt(2*I)+(_.charCodeAt(2*I+1)<<8));return k.join("")}(d.slice(2)):x==254&&v==255?S(d.slice(2)):x==65279?d.slice(1):d},N=function(d){return String.fromCharCode(d)},C=function(d){return String.fromCharCode(d)};a!==void 0&&(h=function(d){f(o=d)},b=function(d){return d.charCodeAt(0)===255&&d.charCodeAt(1)===254?a.utils.decode(1200,p(d.slice(2))):d},N=function(d){return o===1200?String.fromCharCode(d):a.utils.decode(o,[255&d,d>>8])[0]},C=function(d){return a.utils.decode(l,[d])[0]});var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T(d){for(var x,v,_,k,I,O="",R=0,H=0,G=0;G<d.length;)k=(x=d.charCodeAt(G++))>>2,I=(3&x)<<4|(v=d.charCodeAt(G++))>>4,R=(15&v)<<2|(_=d.charCodeAt(G++))>>6,H=63&_,isNaN(v)?R=H=64:isNaN(_)&&(H=64),O+=A.charAt(k)+A.charAt(I)+A.charAt(R)+A.charAt(H);return O}function F(d){var x,v,_,k,I,O,R="";d=d.replace(/[^\w\+\/\=]/g,"");for(var H=0;H<d.length;)x=A.indexOf(d.charAt(H++))<<2|(k=A.indexOf(d.charAt(H++)))>>4,R+=String.fromCharCode(x),v=(15&k)<<4|(I=A.indexOf(d.charAt(H++)))>>2,I!==64&&(R+=String.fromCharCode(v)),_=(3&I)<<6|(O=A.indexOf(d.charAt(H++))),O!==64&&(R+=String.fromCharCode(_));return R}var L=typeof Buffer<"u"&&typeof process<"u"&&process.versions!==void 0&&!!process.versions.node,B=function(){if(typeof Buffer>"u")return function(){};var d=!Buffer.from;if(!d)try{Buffer.from("foo","utf8")}catch{d=!0}return d?function(x,v){return v?new Buffer(x,v):new Buffer(x)}:Buffer.from.bind(Buffer)}();function M(d){return L?Buffer.alloc?Buffer.alloc(d):new Buffer(d):new(typeof Uint8Array<"u"?Uint8Array:Array)(d)}function W(d){return L?Buffer.allocUnsafe?Buffer.allocUnsafe(d):new Buffer(d):new(typeof Uint8Array<"u"?Uint8Array:Array)(d)}var z=function(d){return L?B(d,"binary"):d.split("").map(function(x){return 255&x.charCodeAt(0)})};function Z(d){if(typeof ArrayBuffer>"u")return z(d);for(var x=new ArrayBuffer(d.length),v=new Uint8Array(x),_=0;_!=d.length;++_)v[_]=255&d.charCodeAt(_);return x}function K(d){if(Array.isArray(d))return d.map(function(_){return String.fromCharCode(_)}).join("");for(var x=[],v=0;v<d.length;++v)x[v]=String.fromCharCode(d[v]);return x.join("")}function q(d){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(d instanceof ArrayBuffer)return q(new Uint8Array(d));for(var x=new Array(d.length),v=0;v<d.length;++v)x[v]=d[v];return x}var ie=L?function(d){return Buffer.concat(d.map(function(x){return Buffer.isBuffer(x)?x:B(x)}))}:function(d){if(typeof Uint8Array>"u")return[].concat.apply([],d.map(function(I){return Array.isArray(I)?I:[].slice.call(I)}));for(var v=0,x=0,v=0;v<d.length;++v)x+=d[v].length;for(var _,k=new Uint8Array(x),x=v=0;v<d.length;x+=_,++v)if(_=d[v].length,d[v]instanceof Uint8Array)k.set(d[v],x);else{if(typeof d[v]=="string")throw"wtf";k.set(new Uint8Array(d[v]),x)}return k},ae=/\u0000/g,X=/[\u0001-\u0006]/g;function se(d){for(var x="",v=d.length-1;0<=v;)x+=d.charAt(v--);return x}function he(d,x){return d=""+d,x<=d.length?d:Pt("0",x-d.length)+d}function ce(d,x){return d=""+d,x<=d.length?d:Pt(" ",x-d.length)+d}function ge(d,x){return d=""+d,x<=d.length?d:d+Pt(" ",x-d.length)}var we=Math.pow(2,32);function Ce(k,x){if(we<k||k<-we)return v=k,_=x,v=""+Math.round(v),_<=v.length?v:Pt("0",_-v.length)+v;var v,_,k=Math.round(k);return(x=x)<=(k=""+(k=k)).length?k:Pt("0",x-k.length)+k}function Q(d,x){return x=x||0,d.length>=7+x&&(32|d.charCodeAt(x))==103&&(32|d.charCodeAt(x+1))==101&&(32|d.charCodeAt(x+2))==110&&(32|d.charCodeAt(x+3))==101&&(32|d.charCodeAt(x+4))==114&&(32|d.charCodeAt(x+5))==97&&(32|d.charCodeAt(x+6))==108}var le=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ne=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],ee={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},pe={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ne(d,x,v){for(var _=d<0?-1:1,k=d*_,I=0,O=1,R=0,H=1,G=0,te=0,de=Math.floor(k);G<x&&(R=(de=Math.floor(k))*O+I,te=de*G+H,!(k-de<5e-8));)k=1/(k-de),I=O,O=R,H=G,G=te;return x<te&&(R=x<G?(te=H,I):(te=G,O)),v?(v=Math.floor(_*R/te),[v,_*R-v*te,te]):[0,_*R,te]}function Se(R,x,v){if(2958465<R||R<0)return null;var _=0|R,k=Math.floor(86400*(R-_)),I=0,O=[],R={D:_,T:k,u:86400*(R-_)-k,y:0,m:0,d:0,H:0,M:0,S:0,q:0};return Math.abs(R.u)<1e-6&&(R.u=0),x&&x.date1904&&(_+=1462),.9999<R.u&&(R.u=0,++k==86400&&(R.T=k=0,++_,++R.D)),_===60?(O=v?[1317,10,29]:[1900,2,29],I=3):_===0?(O=v?[1317,8,29]:[1900,1,0],I=6):(60<_&&--_,(x=new Date(1900,0,1)).setDate(x.getDate()+_-1),O=[x.getFullYear(),x.getMonth()+1,x.getDate()],I=x.getDay(),_<60&&(I=(I+6)%7),v&&(I=function(H,G){return G[0]-=581,G=H.getDay(),H<60&&(G=(G+6)%7),G}(x,O))),R.y=O[0],R.m=O[1],R.d=O[2],R.S=k%60,k=Math.floor(k/60),R.M=k%60,k=Math.floor(k/60),R.H=k,R.q=I,R}var je=new Date(1899,11,31,0,0,0),Ge=je.getTime(),De=new Date(1900,2,1,0,0,0);function at(d,x){var v=d.getTime();return x?v-=1262304e5:De<=d&&(v+=864e5),(v-(Ge+6e4*(d.getTimezoneOffset()-je.getTimezoneOffset())))/864e5}function ot(d){return d.indexOf(".")==-1?d:d.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ht(d){var x,v,_,k=Math.floor(Math.log(Math.abs(d))*Math.LOG10E),I=-4<=k&&k<=-1?d.toPrecision(10+k):Math.abs(k)<=9?(v=(x=d)<0?12:11,(_=ot(x.toFixed(12))).length<=v||(_=x.toPrecision(10)).length<=v?_:x.toExponential(5)):k===10?d.toFixed(10).substr(0,12):(I=ot((d=d).toFixed(11))).length>(d<0?12:11)||I==="0"||I==="-0"?d.toPrecision(6):I;return ot((I=I.toUpperCase()).indexOf("E")==-1?I:I.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2"))}function Ue(d,x){switch(typeof d){case"string":return d;case"boolean":return d?"TRUE":"FALSE";case"number":return(0|d)===d?d.toString(10):ht(d);case"undefined":return"";case"object":if(d==null)return"";if(d instanceof Date)return An(14,at(d,x&&x.date1904),x)}throw new Error("unsupported value in General format: "+d)}function Ct(d){if(d.length<=3)return d;for(var x=d.length%3,v=d.substr(0,x);x!=d.length;x+=3)v+=(0<v.length?",":"")+d.substr(x,3);return v}var tr=/%/g,Ot=/# (\?+)( ?)\/( ?)(\d+)/,xr=/^#*0*\.([0#]+)/,st=/\).*[0#]/,lr=/\(###\) ###\\?-####/;function _r(d){for(var x,v="",_=0;_!=d.length;++_)switch(x=d.charCodeAt(_)){case 35:break;case 63:v+=" ";break;case 48:v+="0";break;default:v+=String.fromCharCode(x)}return v}function kr(d,x){return x=Math.pow(10,x),""+Math.round(d*x)/x}function Gn(_,x){var v=_-Math.floor(_),_=Math.pow(10,x);return x<(""+Math.round(v*_)).length?0:Math.round(v*_)}function sn(d,x,v){if(d.charCodeAt(0)===40&&!x.match(st)){var _=x.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=v?sn("n",_,v):"("+sn("n",_,-v)+")"}if(x.charCodeAt(x.length-1)===44)return function(_e,Me,He){for(var qe=Me.length-1;Me.charCodeAt(qe-1)===44;)--qe;return ea(_e,Me.substr(0,qe),He/Math.pow(10,3*(Me.length-qe)))}(d,x,v);if(x.indexOf("%")!==-1)return R=d,G=v,H=(te=x).replace(tr,""),te=te.length-H.length,ea(R,H,G*Math.pow(10,2*te))+Pt("%",te);var k;if(x.indexOf("E")!==-1)return function _e(Me,He){var qe,ft=Me.indexOf("E")-Me.indexOf(".")-1;if(Me.match(/^#+0.0E\+0$/)){if(He==0)return"0.0E+0";if(He<0)return"-"+_e(Me,-He);var Et=Me.indexOf(".");Et===-1&&(Et=Me.indexOf("E"));var bt=Math.floor(Math.log(He)*Math.LOG10E)%Et;if(bt<0&&(bt+=Et),(qe=(He/Math.pow(10,bt)).toPrecision(1+ft+(Et+bt)%Et)).indexOf("e")===-1){var Ut=Math.floor(Math.log(He)*Math.LOG10E);for(qe.indexOf(".")===-1?qe=qe.charAt(0)+"."+qe.substr(1)+"E+"+(Ut-qe.length+bt):qe+="E+"+(Ut-bt);qe.substr(0,2)==="0.";)qe=(qe=qe.charAt(0)+qe.substr(2,Et)+"."+qe.substr(2+Et)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");qe=qe.replace(/\+-/,"-")}qe=qe.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(cr,dr,Gt,Er){return dr+Gt+Er.substr(0,(Et+bt)%Et)+"."+Er.substr(bt)+"E"})}else qe=He.toExponential(ft);return Me.match(/E\+00$/)&&qe.match(/e[+-]\d$/)&&(qe=qe.substr(0,qe.length-1)+"0"+qe.charAt(qe.length-1)),(qe=Me.match(/E\-/)&&qe.match(/e\+/)?qe.replace(/e\+/,"e"):qe).replace("e","E")}(x,v);if(x.charCodeAt(0)===36)return"$"+sn(d,x.substr(x.charAt(1)==" "?2:1),v);var I,O,R,H,G,te,de,fe=Math.abs(v),me=v<0?"-":"";if(x.match(/^00+$/))return me+Ce(fe,x.length);if(x.match(/^[#?]+$/))return(k=(k=Ce(v,0))==="0"?"":k).length>x.length?k:_r(x.substr(0,x.length-k.length))+k;if(I=x.match(Ot))return de=I,R=fe,H=me,G=parseInt(de[4],10),te=Math.round(R*G),R=Math.floor(te/G),H+(R===0?"":""+R)+" "+((te-=R*G)==0?Pt(" ",de[1].length+1+de[4].length):ce(te,de[1].length)+de[2]+"/"+de[3]+he(G,de[4].length));if(x.match(/^#+0+$/))return me+Ce(fe,x.length-x.indexOf("0"));if(I=x.match(xr))return k=kr(v,I[1].length).replace(/^([^\.]+)$/,"$1."+_r(I[1])).replace(/\.$/,"."+_r(I[1])).replace(/\.(\d*)$/,function(_e,Me){return"."+Me+Pt("0",_r(I[1]).length-Me.length)}),x.indexOf("0.")!==-1?k:k.replace(/^0\./,".");if(x=x.replace(/^#+([0.])/,"$1"),I=x.match(/^(0*)\.(#*)$/))return me+kr(fe,I[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,I[1].length?"0.":".");if(I=x.match(/^#{1,3},##0(\.?)$/))return me+Ct(Ce(fe,0));if(I=x.match(/^#,##0\.([#0]*0)$/))return v<0?"-"+sn(d,x,-v):Ct(""+(Math.floor(v)+(de=v,(Ae=I[1].length)<(""+Math.round((de-Math.floor(de))*Math.pow(10,Ae))).length?1:0)))+"."+he(Gn(v,I[1].length),I[1].length);if(I=x.match(/^#,#*,#0/))return sn(d,x.replace(/^#,#*,/,""),v);if(I=x.match(/^([0#]+)(\\?-([0#]+))+$/))return k=se(sn(d,x.replace(/[\\-]/g,""),v)),O=0,se(se(x.replace(/\\/g,"")).replace(/[0#]/g,function(_e){return O<k.length?k.charAt(O++):_e==="0"?"0":""}));if(x.match(lr))return"("+(k=sn(d,"##########",v)).substr(0,3)+") "+k.substr(3,3)+"-"+k.substr(6);var Ae="";if(I=x.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return O=Math.min(I[4].length,7),ve=Ne(fe,Math.pow(10,O)-1,!1),k=me,(Ae=ea("n",I[1],ve[1])).charAt(Ae.length-1)==" "&&(Ae=Ae.substr(0,Ae.length-1)+"0"),k+=Ae+I[2]+"/"+I[3],(Ae=ge(ve[2],O)).length<I[4].length&&(Ae=_r(I[4].substr(I[4].length-Ae.length))+Ae),k+=Ae;if(I=x.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return O=Math.min(Math.max(I[1].length,I[4].length),7),me+((ve=Ne(fe,Math.pow(10,O)-1,!0))[0]||(ve[1]?"":"0"))+" "+(ve[1]?ce(ve[1],O)+I[2]+"/"+I[3]+ge(ve[2],O):Pt(" ",2*O+1+I[2].length+I[3].length));if(I=x.match(/^[#0?]+$/))return k=Ce(v,0),x.length<=k.length?k:_r(x.substr(0,x.length-k.length))+k;if(I=x.match(/^([#0?]+)\.([#0]+)$/)){k=""+v.toFixed(Math.min(I[2].length,10)).replace(/([^0])0+$/,"$1"),O=k.indexOf(".");var ve=x.indexOf(".")-O,Be=x.length-k.length-ve;return _r(x.substr(0,ve)+k+x.substr(x.length-Be))}if(I=x.match(/^00,000\.([#0]*0)$/))return O=Gn(v,I[1].length),v<0?"-"+sn(d,x,-v):Ct((Be=v)<2147483647&&-2147483648<Be?""+(0<=Be?0|Be:Be-1|0):""+Math.floor(Be)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_e){return"00,"+(_e.length<3?he(0,3-_e.length):"")+_e})+"."+he(O,I[1].length);switch(x){case"###,##0.00":return sn(d,"#,##0.00",v);case"###,###":case"##,###":case"#,###":var Ee=Ct(Ce(fe,0));return Ee!=="0"?me+Ee:"";case"###,###.00":return sn(d,"###,##0.00",v).replace(/^0\./,".");case"#,###.00":return sn(d,"#,##0.00",v).replace(/^0\./,".")}throw new Error("unsupported format |"+x+"|")}function Jn(d,x,v){if(d.charCodeAt(0)===40&&!x.match(st)){var _=x.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=v?Jn("n",_,v):"("+Jn("n",_,-v)+")"}if(x.charCodeAt(x.length-1)===44)return function(ve,Be,Ee){for(var _e=Be.length-1;Be.charCodeAt(_e-1)===44;)--_e;return ea(ve,Be.substr(0,_e),Ee/Math.pow(10,3*(Be.length-_e)))}(d,x,v);if(x.indexOf("%")!==-1)return k=d,O=v,_=(I=x).replace(tr,""),I=I.length-_.length,ea(k,_,O*Math.pow(10,2*I))+Pt("%",I);var k,I,O,R;if(x.indexOf("E")!==-1)return function ve(Be,Ee){var _e,Me=Be.indexOf("E")-Be.indexOf(".")-1;if(Be.match(/^#+0.0E\+0$/)){if(Ee==0)return"0.0E+0";if(Ee<0)return"-"+ve(Be,-Ee);var He=Be.indexOf(".");He===-1&&(He=Be.indexOf("E"));var qe,ft=Math.floor(Math.log(Ee)*Math.LOG10E)%He;ft<0&&(ft+=He),(_e=(Ee/Math.pow(10,ft)).toPrecision(1+Me+(He+ft)%He)).match(/[Ee]/)||(qe=Math.floor(Math.log(Ee)*Math.LOG10E),_e.indexOf(".")===-1?_e=_e.charAt(0)+"."+_e.substr(1)+"E+"+(qe-_e.length+ft):_e+="E+"+(qe-ft),_e=_e.replace(/\+-/,"-")),_e=_e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(Et,bt,Ut,cr){return bt+Ut+cr.substr(0,(He+ft)%He)+"."+cr.substr(ft)+"E"})}else _e=Ee.toExponential(Me);return Be.match(/E\+00$/)&&_e.match(/e[+-]\d$/)&&(_e=_e.substr(0,_e.length-1)+"0"+_e.charAt(_e.length-1)),(_e=Be.match(/E\-/)&&_e.match(/e\+/)?_e.replace(/e\+/,"e"):_e).replace("e","E")}(x,v);if(x.charCodeAt(0)===36)return"$"+Jn(d,x.substr(x.charAt(1)==" "?2:1),v);var H,G,te=Math.abs(v),de=v<0?"-":"";if(x.match(/^00+$/))return de+he(te,x.length);if(x.match(/^[#?]+$/))return(R=v===0?"":""+v).length>x.length?R:_r(x.substr(0,x.length-R.length))+R;if(H=x.match(Ot))return de+((fe=te)===0?"":""+fe)+Pt(" ",(fe=H)[1].length+2+fe[4].length);if(x.match(/^#+0+$/))return de+he(te,x.length-x.indexOf("0"));if(H=x.match(xr))return R=(R=(""+v).replace(/^([^\.]+)$/,"$1."+_r(H[1])).replace(/\.$/,"."+_r(H[1]))).replace(/\.(\d*)$/,function(ve,Be){return"."+Be+Pt("0",_r(H[1]).length-Be.length)}),x.indexOf("0.")!==-1?R:R.replace(/^0\./,".");if(x=x.replace(/^#+([0.])/,"$1"),H=x.match(/^(0*)\.(#*)$/))return de+(""+te).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,H[1].length?"0.":".");if(H=x.match(/^#{1,3},##0(\.?)$/))return de+Ct(""+te);if(H=x.match(/^#,##0\.([#0]*0)$/))return v<0?"-"+Jn(d,x,-v):Ct(""+v)+"."+Pt("0",H[1].length);if(H=x.match(/^#,#*,#0/))return Jn(d,x.replace(/^#,#*,/,""),v);if(H=x.match(/^([0#]+)(\\?-([0#]+))+$/))return R=se(Jn(d,x.replace(/[\\-]/g,""),v)),G=0,se(se(x.replace(/\\/g,"")).replace(/[0#]/g,function(ve){return G<R.length?R.charAt(G++):ve==="0"?"0":""}));if(x.match(lr))return"("+(R=Jn(d,"##########",v)).substr(0,3)+") "+R.substr(3,3)+"-"+R.substr(6);var fe="";if(H=x.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return G=Math.min(H[4].length,7),me=Ne(te,Math.pow(10,G)-1,!1),R=de,(fe=ea("n",H[1],me[1])).charAt(fe.length-1)==" "&&(fe=fe.substr(0,fe.length-1)+"0"),R+=fe+H[2]+"/"+H[3],(fe=ge(me[2],G)).length<H[4].length&&(fe=_r(H[4].substr(H[4].length-fe.length))+fe),R+=fe;if(H=x.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return G=Math.min(Math.max(H[1].length,H[4].length),7),de+((me=Ne(te,Math.pow(10,G)-1,!0))[0]||(me[1]?"":"0"))+" "+(me[1]?ce(me[1],G)+H[2]+"/"+H[3]+ge(me[2],G):Pt(" ",2*G+1+H[2].length+H[3].length));if(H=x.match(/^[#0?]+$/))return R=""+v,x.length<=R.length?R:_r(x.substr(0,x.length-R.length))+R;if(H=x.match(/^([#0]+)\.([#0]+)$/)){R=""+v.toFixed(Math.min(H[2].length,10)).replace(/([^0])0+$/,"$1"),G=R.indexOf(".");var fe=x.indexOf(".")-G,me=x.length-R.length-fe;return _r(x.substr(0,fe)+R+x.substr(x.length-me))}if(H=x.match(/^00,000\.([#0]*0)$/))return v<0?"-"+Jn(d,x,-v):Ct(""+v).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ve){return"00,"+(ve.length<3?he(0,3-ve.length):"")+ve})+"."+he(0,H[1].length);switch(x){case"###,###":case"##,###":case"#,###":var Ae=Ct(""+te);return Ae!=="0"?de+Ae:"";default:if(x.match(/\.[0#?]*$/))return Jn(d,x.slice(0,x.lastIndexOf(".")),v)+_r(x.slice(x.lastIndexOf(".")))}throw new Error("unsupported format |"+x+"|")}function ea(d,x,v){return((0|v)===v?Jn:sn)(d,x,v)}var yn=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function na(d){for(var x=0,v="",_="";x<d.length;)switch(v=d.charAt(x)){case"G":Q(d,x)&&(x+=6),x++;break;case'"':for(;d.charCodeAt(++x)!==34&&x<d.length;);++x;break;case"\\":case"_":x+=2;break;case"@":++x;break;case"B":case"b":if(d.charAt(x+1)==="1"||d.charAt(x+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(d.substr(x,3).toUpperCase()==="A/P"||d.substr(x,5).toUpperCase()==="AM/PM"||d.substr(x,5).toUpperCase()==="/")return!0;++x;break;case"[":for(_=v;d.charAt(x++)!=="]"&&x<d.length;)_+=d.charAt(x);if(_.match(yn))return!0;break;case".":case"0":case"#":for(;x<d.length&&(-1<"0#?.,E+-%".indexOf(v=d.charAt(++x))||v=="\\"&&d.charAt(x+1)=="-"&&-1<"0#".indexOf(d.charAt(x+2))););break;case"?":for(;d.charAt(++x)===v;);break;case"*":++x,d.charAt(x)!=" "&&d.charAt(x)!="*"||++x;break;case"(":case")":++x;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;x<d.length&&-1<"0123456789".indexOf(d.charAt(++x)););break;case" ":default:++x}return!1}function Yr(d,x,v,_){for(var k,I,O,R=[],H="",G=0,te="",de="t",fe="H";G<d.length;)switch(te=d.charAt(G)){case"G":if(!Q(d,G))throw new Error("unrecognized character "+te+" in "+d);R[R.length]={t:"G",v:"General"},G+=7;break;case'"':for(H="";(O=d.charCodeAt(++G))!==34&&G<d.length;)H+=String.fromCharCode(O);R[R.length]={t:"t",v:H},++G;break;case"\\":var me=d.charAt(++G),Ae=me==="("||me===")"?me:"t";R[R.length]={t:Ae,v:me},++G;break;case"_":R[R.length]={t:"t",v:" "},G+=2;break;case"@":R[R.length]={t:"T",v:x},++G;break;case"B":case"b":if(d.charAt(G+1)==="1"||d.charAt(G+1)==="2"){if(k==null&&(k=Se(x,v,d.charAt(G+1)==="2"))==null)return"";R[R.length]={t:"X",v:d.substr(G,2)},de=te,G+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":te=te.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(x<0||k==null&&(k=Se(x,v))==null)return"";for(H=te;++G<d.length&&d.charAt(G).toLowerCase()===te;)H+=te;(te=te==="m"&&de.toLowerCase()==="h"?"M":te)==="h"&&(te=fe),R[R.length]={t:te,v:H},de=te;break;case"A":case"a":case"":if(me={t:te,v:te},k==null&&(k=Se(x,v)),d.substr(G,3).toUpperCase()==="A/P"?(k!=null&&(me.v=12<=k.H?"P":"A"),me.t="T",fe="h",G+=3):d.substr(G,5).toUpperCase()==="AM/PM"?(k!=null&&(me.v=12<=k.H?"PM":"AM"),me.t="T",G+=5,fe="h"):d.substr(G,5).toUpperCase()==="/"?(k!=null&&(me.v=12<=k.H?"":""),me.t="T",G+=5,fe="h"):(me.t="t",++G),k==null&&me.t==="T")return"";R[R.length]=me,de=te;break;case"[":for(H=te;d.charAt(G++)!=="]"&&G<d.length;)H+=d.charAt(G);if(H.slice(-1)!=="]")throw'unterminated "[" block: |'+H+"|";if(H.match(yn)){if(k==null&&(k=Se(x,v))==null)return"";R[R.length]={t:"Z",v:H.toLowerCase()},de=H.charAt(1)}else-1<H.indexOf("$")&&(H=(H.match(/\$([^-\[\]]*)/)||[])[1]||"$",na(d)||(R[R.length]={t:"t",v:H}));break;case".":if(k!=null){for(H=te;++G<d.length&&(te=d.charAt(G))==="0";)H+=te;R[R.length]={t:"s",v:H};break}case"0":case"#":for(H=te;++G<d.length&&-1<"0#?.,E+-%".indexOf(te=d.charAt(G));)H+=te;R[R.length]={t:"n",v:H};break;case"?":for(H=te;d.charAt(++G)===te;)H+=te;R[R.length]={t:te,v:H},de=te;break;case"*":++G,d.charAt(G)!=" "&&d.charAt(G)!="*"||++G;break;case"(":case")":R[R.length]={t:_===1?"t":te,v:te},++G;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(H=te;G<d.length&&-1<"0123456789".indexOf(d.charAt(++G));)H+=d.charAt(G);R[R.length]={t:"D",v:H};break;case" ":R[R.length]={t:te,v:te},++G;break;case"$":R[R.length]={t:"t",v:"$"},++G;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(te)===-1)throw new Error("unrecognized character "+te+" in "+d);R[R.length]={t:"t",v:te},++G}var ve,Be=0,Ee=0;for(G=R.length-1,de="t";0<=G;--G)switch(R[G].t){case"h":case"H":R[G].t=fe,de="h",Be<1&&(Be=1);break;case"s":(ve=R[G].v.match(/\.0+$/))&&(Ee=Math.max(Ee,ve[0].length-1)),Be<3&&(Be=3);case"d":case"y":case"M":case"e":de=R[G].t;break;case"m":de==="s"&&(R[G].t="M",Be<2&&(Be=2));break;case"X":break;case"Z":(Be=(Be=Be<1&&R[G].v.match(/[Hh]/)?1:Be)<2&&R[G].v.match(/[Mm]/)?2:Be)<3&&R[G].v.match(/[Ss]/)&&(Be=3)}switch(Be){case 0:break;case 1:.5<=k.u&&(k.u=0,++k.S),60<=k.S&&(k.S=0,++k.M),60<=k.M&&(k.M=0,++k.H);break;case 2:.5<=k.u&&(k.u=0,++k.S),60<=k.S&&(k.S=0,++k.M)}var _e,Me="";for(G=0;G<R.length;++G)switch(R[G].t){case"t":case"T":case" ":case"D":break;case"X":R[G].v="",R[G].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":R[G].v=function(cr,dr,Gt,Er){var cn,en="",$r=0,Hr=0,Rr=Gt.y,br=0;switch(cr){case 98:Rr=Gt.y+543;case 121:switch(dr.length){case 1:case 2:cn=Rr%100,br=2;break;default:cn=Rr%1e4,br=4}break;case 109:switch(dr.length){case 1:case 2:cn=Gt.m,br=dr.length;break;case 3:return ne[Gt.m-1][1];case 5:return ne[Gt.m-1][0];default:return ne[Gt.m-1][2]}break;case 100:switch(dr.length){case 1:case 2:cn=Gt.d,br=dr.length;break;case 3:return le[Gt.q][0];default:return le[Gt.q][1]}break;case 104:switch(dr.length){case 1:case 2:cn=1+(Gt.H+11)%12,br=dr.length;break;default:throw"bad hour format: "+dr}break;case 72:switch(dr.length){case 1:case 2:cn=Gt.H,br=dr.length;break;default:throw"bad hour format: "+dr}break;case 77:switch(dr.length){case 1:case 2:cn=Gt.M,br=dr.length;break;default:throw"bad minute format: "+dr}break;case 115:if(dr!="s"&&dr!="ss"&&dr!=".0"&&dr!=".00"&&dr!=".000")throw"bad second format: "+dr;return Gt.u!==0||dr!="s"&&dr!="ss"?(60*(Hr=2<=Er?Er===3?1e3:100:Er===1?10:1)<=($r=Math.round(Hr*(Gt.S+Gt.u)))&&($r=0),dr==="s"?$r===0?"0":""+$r/Hr:(en=he($r,2+Er),dr==="ss"?en.substr(0,2):"."+en.substr(2,dr.length-1))):he(Gt.S,dr.length);case 90:switch(dr){case"[h]":case"[hh]":cn=24*Gt.D+Gt.H;break;case"[m]":case"[mm]":cn=60*(24*Gt.D+Gt.H)+Gt.M;break;case"[s]":case"[ss]":cn=60*(60*(24*Gt.D+Gt.H)+Gt.M)+Math.round(Gt.S+Gt.u);break;default:throw"bad abstime format: "+dr}br=dr.length===3?1:2;break;case 101:cn=Rr,br=1}return 0<br?he(cn,br):""}(R[G].t.charCodeAt(0),R[G].v,k,Ee),R[G].t="t";break;case"n":case"?":for(_e=G+1;R[_e]!=null&&((te=R[_e].t)==="?"||te==="D"||(te===" "||te==="t")&&R[_e+1]!=null&&(R[_e+1].t==="?"||R[_e+1].t==="t"&&R[_e+1].v==="/")||R[G].t==="("&&(te===" "||te==="n"||te===")")||te==="t"&&(R[_e].v==="/"||R[_e].v===" "&&R[_e+1]!=null&&R[_e+1].t=="?"));)R[G].v+=R[_e].v,R[_e]={v:"",t:";"},++_e;Me+=R[G].v,G=_e-1;break;case"G":R[G].t="t",R[G].v=Ue(x,v)}var He,qe,ft="";if(0<Me.length){Me.charCodeAt(0)==40?(He=x<0&&Me.charCodeAt(0)===45?-x:x,qe=ea("n",Me,He)):(qe=ea("n",Me,He=x<0&&1<_?-x:x),He<0&&R[0]&&R[0].t=="t"&&(qe=qe.substr(1),R[0].v="-"+R[0].v)),_e=qe.length-1;for(var Et=R.length,G=0;G<R.length;++G)if(R[G]!=null&&R[G].t!="t"&&-1<R[G].v.indexOf(".")){Et=G;break}var bt=R.length;if(Et===R.length&&qe.indexOf("E")===-1){for(G=R.length-1;0<=G;--G)R[G]!=null&&"n?".indexOf(R[G].t)!==-1&&(_e>=R[G].v.length-1?(_e-=R[G].v.length,R[G].v=qe.substr(_e+1,R[G].v.length)):_e<0?R[G].v="":(R[G].v=qe.substr(0,_e+1),_e=-1),R[G].t="t",bt=G);0<=_e&&bt<R.length&&(R[bt].v=qe.substr(0,_e+1)+R[bt].v)}else if(Et!==R.length&&qe.indexOf("E")===-1){for(_e=qe.indexOf(".")-1,G=Et;0<=G;--G)if(R[G]!=null&&"n?".indexOf(R[G].t)!==-1){for(I=-1<R[G].v.indexOf(".")&&G===Et?R[G].v.indexOf(".")-1:R[G].v.length-1,ft=R[G].v.substr(I+1);0<=I;--I)0<=_e&&(R[G].v.charAt(I)==="0"||R[G].v.charAt(I)==="#")&&(ft=qe.charAt(_e--)+ft);R[G].v=ft,R[G].t="t",bt=G}for(0<=_e&&bt<R.length&&(R[bt].v=qe.substr(0,_e+1)+R[bt].v),_e=qe.indexOf(".")+1,G=Et;G<R.length;++G)if(R[G]!=null&&("n?(".indexOf(R[G].t)!==-1||G===Et)){for(I=-1<R[G].v.indexOf(".")&&G===Et?R[G].v.indexOf(".")+1:0,ft=R[G].v.substr(0,I);I<R[G].v.length;++I)_e<qe.length&&(ft+=qe.charAt(_e++));R[G].v=ft,R[G].t="t",bt=G}}}for(G=0;G<R.length;++G)R[G]!=null&&-1<"n?".indexOf(R[G].t)&&(He=1<_&&x<0&&0<G&&R[G-1].v==="-"?-x:x,R[G].v=ea(R[G].t,R[G].v,He),R[G].t="t");var Ut="";for(G=0;G!==R.length;++G)R[G]!=null&&(Ut+=R[G].v);return Ut}var ws=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Mn(d,x){if(x!=null){var v=parseFloat(x[2]);switch(x[1]){case"=":if(d==v)return 1;break;case">":if(v<d)return 1;break;case"<":if(d<v)return 1;break;case"<>":if(d!=v)return 1;break;case">=":if(v<=d)return 1;break;case"<=":if(d<=v)return 1}}}function Nr(d,x){var v=function(O){for(var R=[],H=!1,G=0,te=0;G<O.length;++G)switch(O.charCodeAt(G)){case 34:H=!H;break;case 95:case 42:case 92:++G;break;case 59:R[R.length]=O.substr(te,G-te),te=G+1}if(R[R.length]=O.substr(te),H===!0)throw new Error("Format |"+O+"| unterminated string ");return R}(d),_=v.length,k=v[_-1].indexOf("@");if(_<4&&-1<k&&--_,4<v.length)throw new Error("cannot find right format for |"+v.join("|")+"|");if(typeof x!="number")return[4,v.length===4||-1<k?v[v.length-1]:"@"];switch(v.length){case 1:v=-1<k?["General","General","General",v[0]]:[v[0],v[0],v[0],"@"];break;case 2:v=-1<k?[v[0],v[0],v[0],v[1]]:[v[0],v[1],v[0],"@"];break;case 3:v=-1<k?[v[0],v[1],v[0],v[2]]:[v[0],v[1],v[2],"@"]}var I=0<x?v[0]:x<0?v[1]:v[2];return v[0].indexOf("[")===-1&&v[1].indexOf("[")===-1?[_,I]:v[0].match(/\[[=<>]/)==null&&v[1].match(/\[[=<>]/)==null?[_,I]:(d=v[0].match(ws),I=v[1].match(ws),Mn(x,d)?[_,v[0]]:Mn(x,I)?[_,v[1]]:[_,v[d!=null&&I!=null?2:1]])}function An(d,x,v){v==null&&(v={});var _="";switch(typeof d){case"string":_=d=="m/d/yy"&&v.dateNF?v.dateNF:d;break;case"number":(_=(_=d==14&&v.dateNF?v.dateNF:(v.table!=null?v.table:ee)[d])==null?v.table&&v.table[pe[d]]||ee[pe[d]]:_)==null&&(_=xe[d]||"General")}if(Q(_,0))return Ue(x,v);var k=Nr(_,x=x instanceof Date?at(x,v.date1904):x);if(Q(k[1]))return Ue(x,v);if(x===!0)x="TRUE";else if(x===!1)x="FALSE";else if(x===""||x==null)return"";return Yr(k[1],x,v,k[0])}function pn(d,x){if(typeof x!="number"){x=+x||-1;for(var v=0;v<392;++v)if(ee[v]!=null){if(ee[v]==d){x=v;break}}else x<0&&(x=v);x<0&&(x=391)}return ee[x]=d,x}function Va(d){for(var x=0;x!=392;++x)d[x]!==void 0&&pn(d[x],x)}function ya(){var d;(d=d||{})[0]="General",d[1]="0",d[2]="0.00",d[3]="#,##0",d[4]="#,##0.00",d[9]="0%",d[10]="0.00%",d[11]="0.00E+00",d[12]="# ?/?",d[13]="# ??/??",d[14]="m/d/yy",d[15]="d-mmm-yy",d[16]="d-mmm",d[17]="mmm-yy",d[18]="h:mm AM/PM",d[19]="h:mm:ss AM/PM",d[20]="h:mm",d[21]="h:mm:ss",d[22]="m/d/yy h:mm",d[37]="#,##0 ;(#,##0)",d[38]="#,##0 ;[Red](#,##0)",d[39]="#,##0.00;(#,##0.00)",d[40]="#,##0.00;[Red](#,##0.00)",d[45]="mm:ss",d[46]="[h]:mm:ss",d[47]="mmss.0",d[48]="##0.0E+0",d[49]="@",d[56]='"/ "hh""mm""ss" "',ee=d}var ol={format:An,load:pn,_table:ee,load_table:Va,parse_date_code:Se,is_date:na,get_table:function(){return ol._table=ee}},Di={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},fa=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Wi,Za=function(){var d={};d.version="1.2.0";var x=function(){for(var _e=0,Me=new Array(256),He=0;He!=256;++He)_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=He)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1,Me[He]=_e;return typeof Int32Array<"u"?new Int32Array(Me):Me}(),v=function(_e){for(var Me=0,He=0,ft=0,qe=new(typeof Int32Array<"u"?Int32Array:Array)(4096),ft=0;ft!=256;++ft)qe[ft]=_e[ft];for(ft=0;ft!=256;++ft)for(He=_e[ft],Me=256+ft;Me<4096;Me+=256)He=qe[Me]=He>>>8^_e[255&He];var Et=[];for(ft=1;ft!=16;++ft)Et[ft-1]=typeof Int32Array<"u"?qe.subarray(256*ft,256*ft+256):qe.slice(256*ft,256*ft+256);return Et}(x),_=v[0],k=v[1],I=v[2],O=v[3],R=v[4],H=v[5],G=v[6],te=v[7],de=v[8],fe=v[9],me=v[10],Ae=v[11],ve=v[12],Be=v[13],Ee=v[14];return d.table=x,d.bstr=function(_e,Me){for(var He=-1^Me,qe=0,ft=_e.length;qe<ft;)He=He>>>8^x[255&(He^_e.charCodeAt(qe++))];return~He},d.buf=function(_e,Me){for(var He=-1^Me,qe=_e.length-15,ft=0;ft<qe;)He=Ee[_e[ft++]^255&He]^Be[_e[ft++]^He>>8&255]^ve[_e[ft++]^He>>16&255]^Ae[_e[ft++]^He>>>24]^me[_e[ft++]]^fe[_e[ft++]]^de[_e[ft++]]^te[_e[ft++]]^G[_e[ft++]]^H[_e[ft++]]^R[_e[ft++]]^O[_e[ft++]]^I[_e[ft++]]^k[_e[ft++]]^_[_e[ft++]]^x[_e[ft++]];for(qe+=15;ft<qe;)He=He>>>8^x[255&(He^_e[ft++])];return~He},d.str=function(_e,Me){for(var He,qe=-1^Me,ft=0,Et=_e.length,bt=0;ft<Et;)qe=(bt=_e.charCodeAt(ft++))<128?qe>>>8^x[255&(qe^bt)]:bt<2048?(qe=qe>>>8^x[255&(qe^(192|bt>>6&31))])>>>8^x[255&(qe^(128|63&bt))]:55296<=bt&&bt<57344?(bt=64+(1023&bt),He=1023&_e.charCodeAt(ft++),(qe=(qe=(qe=qe>>>8^x[255&(qe^(240|bt>>8&7))])>>>8^x[255&(qe^(128|bt>>2&63))])>>>8^x[255&(qe^(128|He>>6&15|(3&bt)<<4))])>>>8^x[255&(qe^(128|63&He))]):(qe=(qe=qe>>>8^x[255&(qe^(224|bt>>12&15))])>>>8^x[255&(qe^(128|bt>>6&63))])>>>8^x[255&(qe^(128|63&bt))];return~qe},d}(),yr=function(){var d,x={};function v(nt){if(nt.charAt(nt.length-1)=="/")return nt.slice(0,-1).indexOf("/")===-1?nt:v(nt.slice(0,-1));var Kt=nt.lastIndexOf("/");return Kt===-1?nt:nt.slice(0,Kt+1)}function _(nt){if(nt.charAt(nt.length-1)=="/")return _(nt.slice(0,-1));var Kt=nt.lastIndexOf("/");return Kt===-1?nt:nt.slice(Kt+1)}function k(nt){qt(nt,0);for(var Kt,dt={};nt.l<=nt.length-4;){var Wt=nt.read_shift(2),ct=nt.read_shift(2),Sr=nt.l+ct,Ht={};Wt===21589&&(1&(Kt=nt.read_shift(1))&&(Ht.mtime=nt.read_shift(4)),5<ct&&(2&Kt&&(Ht.atime=nt.read_shift(4)),4&Kt&&(Ht.ctime=nt.read_shift(4))),Ht.mtime&&(Ht.mt=new Date(1e3*Ht.mtime))),nt.l=Sr,dt[Wt]=Ht}return dt}function I(){return d=d||Ok}function O(nt,Kt){if(nt[0]==80&&nt[1]==75)return Gi(nt,Kt);if((32|nt[0])==109&&(32|nt[1])==105)return function(Dr,Wn){if(_e(Dr.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var mn=Wn&&Wn.root||"",Ur=(L&&Buffer.isBuffer(Dr)?Dr.toString("binary"):_e(Dr)).split(`\r
`),ta=0,ra="";for(ta=0;ta<Ur.length;++ta)if(ra=Ur[ta],/^Content-Location:/i.test(ra)&&(ra=ra.slice(ra.indexOf("file")),mn=mn||ra.slice(0,ra.lastIndexOf("/")+1),ra.slice(0,mn.length)!=mn))for(;0<mn.length&&(mn=(mn=mn.slice(0,mn.length-1)).slice(0,mn.lastIndexOf("/")+1),ra.slice(0,mn.length)!=mn););if(Dr=(Ur[1]||"").match(/boundary="(.*?)"/),!Dr)throw new Error("MAD cannot find boundary");var Ss="--"+(Dr[1]||""),ua={FileIndex:[],FullPaths:[]};H(ua);var Ha,Dn=0;for(ta=0;ta<Ur.length;++ta){var ci=Ur[ta];ci!==Ss&&ci!==Ss+"--"||(Dn++&&function(pi,un,En){for(var vn,Qa="",Ui="",jl="",Zl=0;Zl<10;++Zl){var ml=un[Zl];if(!ml||ml.match(/^\s*$/))break;var Mc=ml.match(/^(.*?):\s*([^\s].*)$/);if(Mc)switch(Mc[1].toLowerCase()){case"content-location":Qa=Mc[2].trim();break;case"content-type":jl=Mc[2].trim();break;case"content-transfer-encoding":Ui=Mc[2].trim()}}switch(++Zl,Ui.toLowerCase()){case"base64":vn=z(F(un.slice(Zl).join("")));break;case"quoted-printable":vn=function(Lc){for(var X1=[],xu=0;xu<Lc.length;++xu){for(var H0=Lc[xu];xu<=Lc.length&&H0.charAt(H0.length-1)=="=";)H0=H0.slice(0,H0.length-1)+Lc[++xu];X1.push(H0)}for(var J1=0;J1<X1.length;++J1)X1[J1]=X1[J1].replace(/[=][0-9A-Fa-f]{2}/g,function(Xme){return String.fromCharCode(parseInt(Xme.slice(1),16))});return z(X1.join(`\r
`))}(un.slice(Zl));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ui)}En=cf(pi,Qa.slice(En.length),vn,{unsafe:!0}),jl&&(En.ctype=jl)}(ua,Ur.slice(Ha,ta),mn),Ha=ta)}return ua}(nt,Kt);if(nt.length<512)throw new Error("CFB file size "+nt.length+" < 512");var dt,Wt,ct,Sr=3,Ht=512,Gr=0,Jt=[],Lt=nt.slice(0,512);qt(Lt,0);var sr=function(Dr){if(Dr[Dr.l]==80&&Dr[Dr.l+1]==75)return[0,0];Dr.chk(Ae,"Header Signature: "),Dr.l+=16;var Wn=Dr.read_shift(2,"u");return[Dr.read_shift(2,"u"),Wn]}(Lt);switch(Sr=sr[0]){case 3:Ht=512;break;case 4:Ht=4096;break;case 0:if(sr[1]==0)return Gi(nt,Kt);default:throw new Error("Major Version: Expected 3 or 4 saw "+Sr)}Ht!==512&&qt(Lt=nt.slice(0,Ht),28);var Fr=nt.slice(0,Ht);(function(Dr,Wn){var mn=9;switch(Dr.l+=2,mn=Dr.read_shift(2)){case 9:if(Wn!=3)throw new Error("Sector Shift: Expected 9 saw "+mn);break;case 12:if(Wn!=4)throw new Error("Sector Shift: Expected 12 saw "+mn);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+mn)}Dr.chk("0600","Mini Sector Shift: "),Dr.chk("000000000000","Reserved: ")})(Lt,Sr);var Bn=Lt.read_shift(4,"i");if(Sr===3&&Bn!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Bn);Lt.l+=4,Wt=Lt.read_shift(4,"i"),Lt.l+=4,Lt.chk("00100000","Mini Stream Cutoff Size: "),ct=Lt.read_shift(4,"i"),dt=Lt.read_shift(4,"i"),$n=Lt.read_shift(4,"i"),Gr=Lt.read_shift(4,"i");for(var Fn,gn=0;gn<109&&!((Fn=Lt.read_shift(4,"i"))<0);++gn)Jt[gn]=Fn;var tn=function(Dr,Wn){for(var mn=Math.ceil(Dr.length/Wn)-1,Ur=[],ta=1;ta<mn;++ta)Ur[ta-1]=Dr.slice(ta*Wn,(ta+1)*Wn);return Ur[mn-1]=Dr.slice(mn*Wn),Ur}(nt,Ht);(function Dr(Wn,mn,Ur,ta,ra){var Ss=me;if(Wn===me){if(mn!==0)throw new Error("DIFAT chain shorter than expected")}else if(Wn!==-1){var ua=Ur[Wn],Ha=(ta>>>2)-1;if(ua){for(var Dn=0;Dn<Ha&&(Ss=Hl(ua,4*Dn))!==me;++Dn)ra.push(Ss);Dr(Hl(ua,ta-4),mn-1,Ur,ta,ra)}}})($n,Gr,tn,Ht,Jt);var jn=function(Dr,Wn,mn,Ur){var ta=Dr.length,ra=[],Ss=[],ua=[],Ha=[],Dn=Ur-1,ci=0,pi=0,un=0,En=0;for(ci=0;ci<ta;++ci)if(ua=[],ta<=(un=ci+Wn)&&(un-=ta),!Ss[un]){Ha=[];var vn=[];for(pi=un;0<=pi;){vn[pi]=!0,Ss[pi]=!0,ua[ua.length]=pi,Ha.push(Dr[pi]);var Qa=mn[Math.floor(4*pi/Ur)];if(Ur<4+(En=4*pi&Dn))throw new Error("FAT boundary crossed: "+pi+" 4 "+Ur);if(!Dr[Qa]||(pi=Hl(Dr[Qa],En),vn[pi]))break}ra[un]={nodes:ua,data:pd([Ha])}}return ra}(tn,Wt,Jt,Ht);jn[Wt].name="!Directory",0<dt&&ct!==me&&(jn[ct].name="!MiniFAT"),jn[Jt[0]].name="!FAT",jn.fat_addrs=Jt,jn.ssz=Ht;var Bn=[],$n=[],Gr=[];return function(Dr,Wn,mn,Ur,ta,ra,Ss){for(var ua,Ha=0,Dn=mn.length?2:0,ci=Dr[Wt].data,pi=0,un=0;pi<ci.length;pi+=128){var En=ci.slice(pi,pi+128);qt(En,64),un=En.read_shift(2),ua=Yo(En,0,un-Dn),mn.push(ua);var vn={name:ua,type:En.read_shift(1),color:En.read_shift(1),L:En.read_shift(4,"i"),R:En.read_shift(4,"i"),C:En.read_shift(4,"i"),clsid:En.read_shift(16),state:En.read_shift(4,"i"),start:0,size:0};En.read_shift(2)+En.read_shift(2)+En.read_shift(2)+En.read_shift(2)!==0&&(vn.ct=R(En,En.l-8)),En.read_shift(2)+En.read_shift(2)+En.read_shift(2)+En.read_shift(2)!==0&&(vn.mt=R(En,En.l-8)),vn.start=En.read_shift(4,"i"),vn.size=En.read_shift(4,"i"),vn.size<0&&vn.start<0&&(vn.size=vn.type=0,vn.start=me,vn.name=""),vn.type===5?(Ha=vn.start,0<Ur&&Ha!==me&&(Dr[Ha].name="!StreamData")):4096<=vn.size?(vn.storage="fat",Dr[vn.start]===void 0&&(Dr[vn.start]=function(Qa,Ui,jl,Zl,ml){var Mc=[],Lc=[];ml=ml||[];var X1=Zl-1,xu=0,H0=0;for(xu=Ui;0<=xu;){ml[xu]=!0,Mc[Mc.length]=xu,Lc.push(Qa[xu]);var J1=jl[Math.floor(4*xu/Zl)];if(Zl<4+(H0=4*xu&X1))throw new Error("FAT boundary crossed: "+xu+" 4 "+Zl);if(!Qa[J1])break;xu=Hl(Qa[J1],H0)}return{nodes:Mc,data:pd([Lc])}}(Wn,vn.start,Dr.fat_addrs,Dr.ssz)),Dr[vn.start].name=vn.name,vn.content=Dr[vn.start].data.slice(0,vn.size)):(vn.storage="minifat",vn.size<0?vn.size=0:Ha!==me&&vn.start!==me&&Dr[Ha]&&(vn.content=function(Qa,Ui,jl){for(var Zl=Qa.start,ml=Qa.size,Mc=[],Lc=Zl;jl&&0<ml&&0<=Lc;)Mc.push(Ui.slice(Lc*fe,Lc*fe+fe)),ml-=fe,Lc=Hl(jl,4*Lc);return Mc.length===0?vt(0):ie(Mc).slice(0,Qa.size)}(vn,Dr[Ha].data,(Dr[Ss]||{}).data))),vn.content&&qt(vn.content,0),ta[ua]=vn,ra.push(vn)}}(jn,tn,Bn,dt,{},$n,ct),function(Dr,Wn,mn){for(var Ur=0,ta=0,ra=0,Ss=0,ua=0,Ha=mn.length,Dn=[],ci=[];Ur<Ha;++Ur)Dn[Ur]=ci[Ur]=Ur,Wn[Ur]=mn[Ur];for(;ua<ci.length;++ua)Ur=ci[ua],ta=Dr[Ur].L,ra=Dr[Ur].R,Ss=Dr[Ur].C,Dn[Ur]===Ur&&(ta!==-1&&Dn[ta]!==ta&&(Dn[Ur]=Dn[ta]),ra!==-1&&Dn[ra]!==ra&&(Dn[Ur]=Dn[ra])),Ss!==-1&&(Dn[Ss]=Ur),ta!==-1&&Ur!=Dn[Ur]&&(Dn[ta]=Dn[Ur],ci.lastIndexOf(ta)<ua&&ci.push(ta)),ra!==-1&&Ur!=Dn[Ur]&&(Dn[ra]=Dn[Ur],ci.lastIndexOf(ra)<ua&&ci.push(ra));for(Ur=1;Ur<Ha;++Ur)Dn[Ur]===Ur&&(ra!==-1&&Dn[ra]!==ra?Dn[Ur]=Dn[ra]:ta!==-1&&Dn[ta]!==ta&&(Dn[Ur]=Dn[ta]));for(Ur=1;Ur<Ha;++Ur)if(Dr[Ur].type!==0){if((ua=Ur)!=Dn[ua])for(;ua=Dn[ua],Wn[Ur]=Wn[ua]+"/"+Wn[Ur],ua!==0&&Dn[ua]!==-1&&ua!=Dn[ua];);Dn[Ur]=-1}for(Wn[0]+="/",Ur=1;Ur<Ha;++Ur)Dr[Ur].type!==2&&(Wn[Ur]+="/")}($n,Gr,Bn),Bn.shift(),Gr={FileIndex:$n,FullPaths:Gr},Kt&&Kt.raw&&(Gr.raw={header:Fr,sectors:tn}),Gr}function R(nt,Kt){return new Date(1e3*(pa(nt,Kt+4)/1e7*Math.pow(2,32)+pa(nt,Kt)/1e7-11644473600))}function H(nt,Wt){var dt=Wt||{},Wt=dt.root||"Root Entry";if(nt.FullPaths||(nt.FullPaths=[]),nt.FileIndex||(nt.FileIndex=[]),nt.FullPaths.length!==nt.FileIndex.length)throw new Error("inconsistent CFB structure");nt.FullPaths.length===0&&(nt.FullPaths[0]=Wt+"/",nt.FileIndex[0]={name:Wt,type:5}),dt.CLSID&&(nt.FileIndex[0].clsid=dt.CLSID),Wt=nt,dt="Sh33tJ5",yr.find(Wt,"/"+dt)||((nt=vt(4))[0]=55,nt[1]=nt[3]=50,nt[2]=54,Wt.FileIndex.push({name:dt,type:2,content:nt,size:4,L:69,R:69,C:69}),Wt.FullPaths.push(Wt.FullPaths[0]+dt),G(Wt))}function G(nt,Kt){H(nt);for(var dt=!1,Wt=!1,ct=nt.FullPaths.length-1;0<=ct;--ct){var Sr=nt.FileIndex[ct];switch(Sr.type){case 0:Wt?dt=!0:(nt.FileIndex.pop(),nt.FullPaths.pop());break;case 1:case 2:case 5:Wt=!0,isNaN(Sr.R*Sr.L*Sr.C)&&(dt=!0),-1<Sr.R&&-1<Sr.L&&Sr.R==Sr.L&&(dt=!0);break;default:dt=!0}}if(dt||Kt){for(var Ht=new Date(1987,1,19),Jt=0,Lt=Object.create?Object.create(null):{},sr=[],ct=0;ct<nt.FullPaths.length;++ct)Lt[nt.FullPaths[ct]]=!0,nt.FileIndex[ct].type!==0&&sr.push([nt.FullPaths[ct],nt.FileIndex[ct]]);for(ct=0;ct<sr.length;++ct){var Fr=v(sr[ct][0]);(Wt=Lt[Fr])||(sr.push([Fr,{name:_(Fr).replace("/",""),type:1,clsid:Be,ct:Ht,mt:Ht,content:null}]),Lt[Fr]=!0)}for(sr.sort(function(tn,jn){return function(Bn,$n){for(var Gr,Dr=Bn.split("/"),Wn=$n.split("/"),mn=0,Ur=Math.min(Dr.length,Wn.length);mn<Ur;++mn){if(Gr=Dr[mn].length-Wn[mn].length)return Gr;if(Dr[mn]!=Wn[mn])return Dr[mn]<Wn[mn]?-1:1}return Dr.length-Wn.length}(tn[0],jn[0])}),nt.FullPaths=[],nt.FileIndex=[],ct=0;ct<sr.length;++ct)nt.FullPaths[ct]=sr[ct][0],nt.FileIndex[ct]=sr[ct][1];for(ct=0;ct<sr.length;++ct){var Fn=nt.FileIndex[ct],gn=nt.FullPaths[ct];if(Fn.name=_(gn).replace("/",""),Fn.L=Fn.R=Fn.C=-(Fn.color=1),Fn.size=Fn.content?Fn.content.length:0,Fn.start=0,Fn.clsid=Fn.clsid||Be,ct===0)Fn.C=1<sr.length?1:-1,Fn.size=0,Fn.type=5;else if(gn.slice(-1)=="/"){for(Jt=ct+1;Jt<sr.length&&v(nt.FullPaths[Jt])!=gn;++Jt);for(Fn.C=Jt>=sr.length?-1:Jt,Jt=ct+1;Jt<sr.length&&v(nt.FullPaths[Jt])!=v(gn);++Jt);Fn.R=Jt>=sr.length?-1:Jt,Fn.type=1}else v(nt.FullPaths[ct+1]||"")==v(gn)&&(Fn.R=ct+1),Fn.type=2}}}function te(nt,Kt){var dt=Kt||{};if(dt.fileType=="mad")return function(gn,tn){for(var jn=tn||{},Bn=jn.boundary||"SheetJS",$n=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Bn="------="+Bn).slice(2)+'"',"","",""],Gr=gn.FullPaths[0],Dr=Gr,Wn=gn.FileIndex[0],mn=1;mn<gn.FullPaths.length;++mn)if(Dr=gn.FullPaths[mn].slice(Gr.length),(Wn=gn.FileIndex[mn]).size&&Wn.content&&Dr!="Sh33tJ5"){Dr=Dr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dn){return"_x"+Dn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dn){return"_u"+Dn.charCodeAt(0).toString(16)+"_"});for(var Ur=Wn.content,ta=L&&Buffer.isBuffer(Ur)?Ur.toString("binary"):_e(Ur),ra=0,Ss=Math.min(1024,ta.length),ua=0,Ha=0;Ha<=Ss;++Ha)32<=(ua=ta.charCodeAt(Ha))&&ua<128&&++ra;Ur=4*Ss/5<=ra,$n.push(Bn),$n.push("Content-Location: "+(jn.root||"file:///C:/SheetJS/")+Dr),$n.push("Content-Transfer-Encoding: "+(Ur?"quoted-printable":"base64")),$n.push("Content-Type: "+function(un,ci){if(un.ctype)return un.ctype;var pi=un.name||"",un=pi.match(/\.([^\.]+)$/);return un&&Al[un[1]]||ci&&(un=(pi=ci).match(/[\.\\]([^\.\\])+$/))&&Al[un[1]]?Al[un[1]]:"application/octet-stream"}(Wn,Dr)),$n.push(""),$n.push((Ur?function(Dn){Dn=Dn.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(jl){return jl=jl.charCodeAt(0).toString(16).toUpperCase(),"="+(jl.length==1?"0"+jl:jl)}),(Dn=Dn.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)==`
`&&(Dn="=0D"+Dn.slice(1)),Dn=Dn.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,`
=0A`).replace(/([^\r\n])\n/gm,"$1=0A");for(var ci=[],pi=Dn.split(`\r
`),un=0;un<pi.length;++un){var En=pi[un];if(En.length!=0)for(var vn=0;vn<En.length;){var Qa=76,Ui=En.slice(vn,vn+Qa);Ui.charAt(Qa-1)=="="?Qa--:Ui.charAt(Qa-2)=="="?Qa-=2:Ui.charAt(Qa-3)=="="&&(Qa-=3),Ui=En.slice(vn,vn+Qa),(vn+=Qa)<En.length&&(Ui+="="),ci.push(Ui)}else ci.push("")}return ci.join(`\r
`)}:function(Dn){for(var ci=T(Dn),pi=[],un=0;un<ci.length;un+=76)pi.push(ci.slice(un,un+76));return pi.join(`\r
`)+`\r
`})(ta))}return $n.push(Bn+`--\r
`),$n.join(`\r
`)}(nt,dt);if(G(nt),dt.fileType==="zip")return function(gn,jn){var jn=jn||{},Bn=[],$n=[],Gr=vt(1),Dr=jn.compression?8:0,Wn=0,mn=0,Ur=0,ta=0,ra=0,Ss=gn.FullPaths[0],ua=Ss,Ha=gn.FileIndex[0],Dn=[],ci=0;for(mn=1;mn<gn.FullPaths.length;++mn)if(ua=gn.FullPaths[mn].slice(Ss.length),(Ha=gn.FileIndex[mn]).size&&Ha.content&&ua!="Sh33tJ5"){var pi=ta,un=vt(ua.length);for(Ur=0;Ur<ua.length;++Ur)un.write_shift(1,127&ua.charCodeAt(Ur));un=un.slice(0,un.l),Dn[ra]=Za.buf(Ha.content,0);var En=Ha.content;Dr==8&&(En=function(vn){return de?de.deflateRawSync(vn):hn(vn)}(En)),(Gr=vt(30)).write_shift(4,67324752),Gr.write_shift(2,20),Gr.write_shift(2,Wn),Gr.write_shift(2,Dr),Ha.mt?function(vn,Qa){var Ui=(Qa=typeof Qa=="string"?new Date(Qa):Qa).getHours();Ui=(Ui=Ui<<6|Qa.getMinutes())<<5|Qa.getSeconds()>>>1,vn.write_shift(2,Ui),Ui=(Ui=(Ui=Qa.getFullYear()-1980)<<4|Qa.getMonth()+1)<<5|Qa.getDate(),vn.write_shift(2,Ui)}(Gr,Ha.mt):Gr.write_shift(4,0),Gr.write_shift(-4,Dn[ra]),Gr.write_shift(4,En.length),Gr.write_shift(4,Ha.content.length),Gr.write_shift(2,un.length),Gr.write_shift(2,0),ta+=Gr.length,Bn.push(Gr),ta+=un.length,Bn.push(un),ta+=En.length,Bn.push(En),(Gr=vt(46)).write_shift(4,33639248),Gr.write_shift(2,0),Gr.write_shift(2,20),Gr.write_shift(2,Wn),Gr.write_shift(2,Dr),Gr.write_shift(4,0),Gr.write_shift(-4,Dn[ra]),Gr.write_shift(4,En.length),Gr.write_shift(4,Ha.content.length),Gr.write_shift(2,un.length),Gr.write_shift(2,0),Gr.write_shift(2,0),Gr.write_shift(2,0),Gr.write_shift(2,0),Gr.write_shift(4,0),Gr.write_shift(4,pi),ci+=Gr.l,$n.push(Gr),ci+=un.length,$n.push(un),++ra}return(Gr=vt(22)).write_shift(4,101010256),Gr.write_shift(2,0),Gr.write_shift(2,0),Gr.write_shift(2,ra),Gr.write_shift(2,ra),Gr.write_shift(4,ci),Gr.write_shift(4,ta),Gr.write_shift(2,0),ie([ie(Bn),ie($n),Gr])}(nt,dt);for(var Wt=function(gn){for(var tn=0,jn=0,Bn=0;Bn<gn.FileIndex.length;++Bn){var $n=gn.FileIndex[Bn];$n.content&&0<($n=$n.content.length)&&($n<4096?tn+=$n+63>>6:jn+=$n+511>>9)}for(var Gr=gn.FullPaths.length+3>>2,Dr=tn+127>>7,Wn=(tn+7>>3)+jn+Gr+Dr,mn=Wn+127>>7,Ur=mn<=109?0:Math.ceil((mn-109)/127);mn<Wn+mn+Ur+127>>7;)Ur=++mn<=109?0:Math.ceil((mn-109)/127);return Gr=[1,Ur,mn,Dr,Gr,jn,tn,0],gn.FileIndex[0].size=tn<<6,Gr[7]=(gn.FileIndex[0].start=Gr[0]+Gr[1]+Gr[2]+Gr[3]+Gr[4]+Gr[5])+(Gr[6]+7>>3),Gr}(nt),ct=vt(Wt[7]<<9),Ht=0,Sr=0,Ht=0;Ht<8;++Ht)ct.write_shift(1,ve[Ht]);for(Ht=0;Ht<8;++Ht)ct.write_shift(2,0);for(ct.write_shift(2,62),ct.write_shift(2,3),ct.write_shift(2,65534),ct.write_shift(2,9),ct.write_shift(2,6),Ht=0;Ht<3;++Ht)ct.write_shift(2,0);for(ct.write_shift(4,0),ct.write_shift(4,Wt[2]),ct.write_shift(4,Wt[0]+Wt[1]+Wt[2]+Wt[3]-1),ct.write_shift(4,0),ct.write_shift(4,4096),ct.write_shift(4,Wt[3]?Wt[0]+Wt[1]+Wt[2]-1:me),ct.write_shift(4,Wt[3]),ct.write_shift(-4,Wt[1]?Wt[0]-1:me),ct.write_shift(4,Wt[1]),Ht=0;Ht<109;++Ht)ct.write_shift(-4,Ht<Wt[2]?Wt[1]+Ht:-1);if(Wt[1])for(Sr=0;Sr<Wt[1];++Sr){for(;Ht<236+127*Sr;++Ht)ct.write_shift(-4,Ht<Wt[2]?Wt[1]+Ht:-1);ct.write_shift(-4,Sr===Wt[1]-1?me:Sr+1)}function Jt(gn){for(Sr+=gn;Ht<Sr-1;++Ht)ct.write_shift(-4,Ht+1);gn&&(++Ht,ct.write_shift(-4,me))}for(Sr=Ht=0,Sr+=Wt[1];Ht<Sr;++Ht)ct.write_shift(-4,Ee.DIFSECT);for(Sr+=Wt[2];Ht<Sr;++Ht)ct.write_shift(-4,Ee.FATSECT);Jt(Wt[3]),Jt(Wt[4]);for(var Lt=0,sr=0,Fr=nt.FileIndex[0];Lt<nt.FileIndex.length;++Lt)(Fr=nt.FileIndex[Lt]).content&&((sr=Fr.content.length)<4096||(Fr.start=Sr,Jt(sr+511>>9)));for(Jt(Wt[6]+7>>3);511&ct.l;)ct.write_shift(-4,Ee.ENDOFCHAIN);for(Lt=Sr=Ht=0;Lt<nt.FileIndex.length;++Lt)(Fr=nt.FileIndex[Lt]).content&&(!(sr=Fr.content.length)||4096<=sr||(Fr.start=Sr,Jt(sr+63>>6)));for(;511&ct.l;)ct.write_shift(-4,Ee.ENDOFCHAIN);for(Ht=0;Ht<Wt[4]<<2;++Ht){var Fn=nt.FullPaths[Ht];if(Fn&&Fn.length!==0){if(Fr=nt.FileIndex[Ht],Ht===0&&(Fr.start=Fr.size?Fr.start-1:me),Fn=Ht===0&&dt.root||Fr.name,sr=2*(Fn.length+1),ct.write_shift(64,Fn,"utf16le"),ct.write_shift(2,sr),ct.write_shift(1,Fr.type),ct.write_shift(1,Fr.color),ct.write_shift(-4,Fr.L),ct.write_shift(-4,Fr.R),ct.write_shift(-4,Fr.C),Fr.clsid)ct.write_shift(16,Fr.clsid,"hex");else for(Lt=0;Lt<4;++Lt)ct.write_shift(4,0);ct.write_shift(4,Fr.state||0),ct.write_shift(4,0),ct.write_shift(4,0),ct.write_shift(4,0),ct.write_shift(4,0),ct.write_shift(4,Fr.start),ct.write_shift(4,Fr.size),ct.write_shift(4,0)}else{for(Lt=0;Lt<17;++Lt)ct.write_shift(4,0);for(Lt=0;Lt<3;++Lt)ct.write_shift(4,-1);for(Lt=0;Lt<12;++Lt)ct.write_shift(4,0)}}for(Ht=1;Ht<nt.FileIndex.length;++Ht)if(4096<=(Fr=nt.FileIndex[Ht]).size)if(ct.l=Fr.start+1<<9,L&&Buffer.isBuffer(Fr.content))Fr.content.copy(ct,ct.l,0,Fr.size),ct.l+=Fr.size+511&-512;else{for(Lt=0;Lt<Fr.size;++Lt)ct.write_shift(1,Fr.content[Lt]);for(;511&Lt;++Lt)ct.write_shift(1,0)}for(Ht=1;Ht<nt.FileIndex.length;++Ht)if(0<(Fr=nt.FileIndex[Ht]).size&&Fr.size<4096)if(L&&Buffer.isBuffer(Fr.content))Fr.content.copy(ct,ct.l,0,Fr.size),ct.l+=Fr.size+63&-64;else{for(Lt=0;Lt<Fr.size;++Lt)ct.write_shift(1,Fr.content[Lt]);for(;63&Lt;++Lt)ct.write_shift(1,0)}if(L)ct.l=ct.length;else for(;ct.l<ct.length;)ct.write_shift(1,0);return ct}x.version="1.2.1";var de,fe=64,me=-2,Ae="d0cf11e0a1b11ae1",ve=[208,207,17,224,161,177,26,225],Be="00000000000000000000000000000000",Ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:me,FREESECT:-1,HEADER_SIGNATURE:Ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Be,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(nt){for(var Kt=new Array(nt.length),dt=0;dt<nt.length;++dt)Kt[dt]=String.fromCharCode(nt[dt]);return Kt.join("")}for(var Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],He=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],ft,Et=typeof Uint8Array<"u",bt=Et?new Uint8Array(256):[],Ut=0;Ut<256;++Ut)bt[Ut]=255&((ft=139536&((ft=Ut)<<1|ft<<11)|558144&(ft<<5|ft<<15))>>16|ft>>8|ft);function cr(nt,Wt){var dt=7&Wt,Wt=Wt>>>3;return(nt[Wt]|(dt<=5?0:nt[1+Wt]<<8))>>>dt&7}function dr(nt,Wt){var dt=7&Wt,Wt=Wt>>>3;return(nt[Wt]|(dt<=3?0:nt[1+Wt]<<8))>>>dt&31}function Gt(nt,Wt){var dt=7&Wt,Wt=Wt>>>3;return(nt[Wt]|(dt<=1?0:nt[1+Wt]<<8))>>>dt&127}function Er(nt,Ht,dt){var Wt=7&Ht,ct=Ht>>>3,Sr=(1<<dt)-1,Ht=nt[ct]>>>Wt;return dt<8-Wt?Ht&Sr:(Ht|=nt[1+ct]<<8-Wt,dt<16-Wt?Ht&Sr:(Ht|=nt[2+ct]<<16-Wt,dt<24-Wt?Ht&Sr:(Ht|=nt[3+ct]<<24-Wt)&Sr))}function cn(nt,Kt,dt){var Wt=7&Kt,ct=Kt>>>3;return Wt<=5?nt[ct]|=(7&dt)<<Wt:(nt[ct]|=dt<<Wt&255,nt[1+ct]=(7&dt)>>8-Wt),Kt+3}function en(nt,Kt,dt){var Wt=Kt>>>3;return dt<<=7&Kt,nt[Wt]|=255&dt,dt>>>=8,nt[1+Wt]=dt,Kt+8}function $r(nt,Kt,dt){var Wt=Kt>>>3;return dt<<=7&Kt,nt[Wt]|=255&dt,dt>>>=8,nt[1+Wt]=255&dt,nt[2+Wt]=dt>>>8,Kt+16}function Hr(nt,Kt){var dt=nt.length,Wt=Kt<2*dt?2*dt:Kt+5,ct=0;if(Kt<=dt)return nt;if(L){var Sr=W(Wt);if(nt.copy)nt.copy(Sr);else for(;ct<nt.length;++ct)Sr[ct]=nt[ct];return Sr}if(Et){var Ht=new Uint8Array(Wt);if(Ht.set)Ht.set(nt);else for(;ct<dt;++ct)Ht[ct]=nt[ct];return Ht}return nt.length=Wt,nt}function Rr(nt){for(var Kt=new Array(nt),dt=0;dt<nt;++dt)Kt[dt]=0;return Kt}function br(nt,Kt,dt){for(var Wt,ct=1,sr=0,Sr=0,Ht=0,Jt=nt.length,Lt=Et?new Uint16Array(32):Rr(32),sr=0;sr<32;++sr)Lt[sr]=0;for(sr=Jt;sr<dt;++sr)nt[sr]=0;Jt=nt.length;var Fr=Et?new Uint16Array(Jt):Rr(Jt);for(sr=0;sr<Jt;++sr)Lt[Wt=nt[sr]]++,ct<Wt&&(ct=Wt),Fr[sr]=0;for(Lt[0]=0,sr=1;sr<=ct;++sr)Lt[sr+16]=Ht=Ht+Lt[sr-1]<<1;for(sr=0;sr<Jt;++sr)(Ht=nt[sr])!=0&&(Fr[sr]=Lt[Ht+16]++);var Fn,gn,tn,jn;for(sr=0;sr<Jt;++sr)if((Fn=nt[sr])!=0)for(gn=Fr[sr],tn=ct,jn=void 0,jn=bt[255&gn],Ht=(tn<=8?jn>>>8-tn:(jn=jn<<8|bt[gn>>8&255],tn<=16?jn>>>16-tn:(jn=jn<<8|bt[gn>>16&255])>>>24-tn))>>ct-Fn,Sr=(1<<ct+4-Fn)-1;0<=Sr;--Sr)Kt[Ht|Sr<<Fn]=15&Fn|sr<<4;return ct}var xn=Et?new Uint16Array(512):Rr(512),Nn=Et?new Uint16Array(32):Rr(32);if(!Et){for(var Xn=0;Xn<512;++Xn)xn[Xn]=0;for(Xn=0;Xn<32;++Xn)Nn[Xn]=0}(function(){for(var nt=[],Kt=0;Kt<32;Kt++)nt.push(5);br(nt,Nn,32);for(var dt=[],Kt=0;Kt<=143;Kt++)dt.push(8);for(;Kt<=255;Kt++)dt.push(9);for(;Kt<=279;Kt++)dt.push(7);for(;Kt<=287;Kt++)dt.push(8);br(dt,xn,288)})();var Xa=function(){for(var nt=Et?new Uint8Array(32768):[],Kt=0,dt=0;Kt<qe.length-1;++Kt)for(;dt<qe[Kt+1];++dt)nt[dt]=Kt;for(;dt<32768;++dt)nt[dt]=29;for(var Wt=Et?new Uint8Array(259):[],Kt=0,dt=0;Kt<He.length-1;++Kt)for(;dt<He[Kt+1];++dt)Wt[dt]=Kt;return function(ct,Sr){return(ct.length<8?function(Ht,Jt){for(var Lt=0;Lt<Ht.length;){var sr=Math.min(65535,Ht.length-Lt),Fr=Lt+sr==Ht.length;for(Jt.write_shift(1,+Fr),Jt.write_shift(2,sr),Jt.write_shift(2,65535&~sr);0<sr--;)Jt[Jt.l++]=Ht[Lt++]}return Jt.l}:function(Ht,Jt){for(var Lt=0,sr=0,Fr=Et?new Uint16Array(32768):[];sr<Ht.length;){var Fn=Math.min(65535,Ht.length-sr);if(Fn<10){for(7&(Lt=cn(Jt,Lt,+(sr+Fn==Ht.length)))&&(Lt+=8-(7&Lt)),Jt.l=Lt/8|0,Jt.write_shift(2,Fn),Jt.write_shift(2,65535&~Fn);0<Fn--;)Jt[Jt.l++]=Ht[sr++];Lt=8*Jt.l}else{Lt=cn(Jt,Lt,+(sr+Fn==Ht.length)+2);for(var gn=0;0<Fn--;){var tn=Ht[sr],gn=32767&(gn<<5^tn),jn=-1,Bn=0;if((jn=Fr[gn])&&(sr<(jn|=-32768&sr)&&(jn-=32768),jn<sr))for(;Ht[jn+Bn]==Ht[sr+Bn]&&Bn<250;)++Bn;if(2<Bn){(tn=Wt[Bn])<=22?Lt=en(Jt,Lt,bt[tn+1]>>1)-1:(en(Jt,Lt,3),en(Jt,Lt+=5,bt[tn-23]>>5),Lt+=3);var $n=tn<8?0:tn-4>>2;0<$n&&($r(Jt,Lt,Bn-He[tn]),Lt+=$n),tn=nt[sr-jn],Lt=en(Jt,Lt,bt[tn]>>3),Lt-=3;var Gr=tn<4?0:tn-2>>1;0<Gr&&($r(Jt,Lt,sr-jn-qe[tn]),Lt+=Gr);for(var Dr=0;Dr<Bn;++Dr)Fr[gn]=32767&sr,gn=32767&(gn<<5^Ht[sr]),++sr;Fn-=Bn-1}else tn<=143?tn+=48:($n=(($n=1)&$n)<<(7&(Gr=Lt)),Jt[Gr>>>3]|=$n,Lt=Gr+1),Lt=en(Jt,Lt,bt[tn]),Fr[gn]=32767&sr,++sr}Lt=en(Jt,Lt,0)-1}}return Jt.l=(Lt+7)/8|0,Jt.l})(ct,Sr)}}();function hn(dt){var Kt=vt(50+Math.floor(1.1*dt.length)),dt=Xa(dt,Kt);return Kt.slice(0,dt)}var jr=Et?new Uint16Array(32768):Rr(32768),_a=Et?new Uint16Array(32768):Rr(32768),bi=Et?new Uint16Array(128):Rr(128),li=1,Zi=1;function Io(nt,Kt){if(nt[0]==3&&!(3&nt[1]))return[M(Kt),2];for(var dt=0,Wt=0,ct=W(Kt||1<<18),Sr=0,Ht=ct.length>>>0,Jt=0,Lt=0;!(1&Wt);)if(Wt=cr(nt,dt),dt+=3,Wt>>>1!=0)for(Lt=Wt>>1==1?(Jt=9,5):(dt=function(Bn,$n){var Gr,Dr,Wn,mn=dr(Bn,$n)+257,Ur=dr(Bn,$n+=5)+1,ta=(Wn=7&(Dr=$n+=5),4+(((Gr=Bn)[Dr=Dr>>>3]|(Wn<=4?0:Gr[1+Dr]<<8))>>>Wn&15));$n+=4;for(var ra=0,Ss=Et?new Uint8Array(19):Rr(19),ua=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ha=1,Dn=Et?new Uint8Array(8):Rr(8),ci=Et?new Uint8Array(8):Rr(8),pi=Ss.length,un=0;un<ta;++un)Ss[Me[un]]=ra=cr(Bn,$n),Ha<ra&&(Ha=ra),Dn[ra]++,$n+=3;var En=0;for(Dn[0]=0,un=1;un<=Ha;++un)ci[un]=En=En+Dn[un-1]<<1;for(un=0;un<pi;++un)(En=Ss[un])!=0&&(ua[un]=ci[En]++);for(var vn,un=0;un<pi;++un)if((vn=Ss[un])!=0){En=bt[ua[un]]>>8-vn;for(var Qa=(1<<7-vn)-1;0<=Qa;--Qa)bi[En|Qa<<vn]=7&vn|un<<3}for(var Ui,jl,Zl,ml=[],Ha=1;ml.length<mn+Ur;)switch($n+=7&(En=bi[Gt(Bn,$n)]),En>>>=3){case 16:for(ra=3+(Zl=void 0,Zl=7&(jl=$n),((Ui=Bn)[jl=jl>>>3]|(Zl<=6?0:Ui[1+jl]<<8))>>>Zl&3),$n+=2,En=ml[ml.length-1];0<ra--;)ml.push(En);break;case 17:for(ra=3+cr(Bn,$n),$n+=3;0<ra--;)ml.push(0);break;case 18:for(ra=11+Gt(Bn,$n),$n+=7;0<ra--;)ml.push(0);break;default:ml.push(En),Ha<En&&(Ha=En)}var Mc=ml.slice(0,mn),Lc=ml.slice(mn);for(un=mn;un<286;++un)Mc[un]=0;for(un=Ur;un<30;++un)Lc[un]=0;return li=br(Mc,jr,286),Zi=br(Lc,_a,30),$n}(nt,dt),Jt=li,Zi);;){!Kt&&Ht<Sr+32767&&(Ht=(ct=Hr(ct,Sr+32767)).length);var sr=Er(nt,dt,Jt),Fr=(Wt>>>1==1?xn:jr)[sr];if(dt+=15&Fr,((Fr>>>=4)>>>8&255)==0)ct[Sr++]=Fr;else{if(Fr==256)break;var Fn=(Fr-=257)<8?0:Fr-4>>2;5<Fn&&(Fn=0);var gn=Sr+He[Fr];0<Fn&&(gn+=Er(nt,dt,Fn),dt+=Fn),sr=Er(nt,dt,Lt),dt+=15&(Fr=(Wt>>>1==1?Nn:_a)[sr]);var sr=(Fr>>>=4)<4?0:Fr-2>>1,tn=qe[Fr];for(0<sr&&(tn+=Er(nt,dt,sr),dt+=sr),!Kt&&Ht<gn&&(Ht=(ct=Hr(ct,gn+100)).length);Sr<gn;)ct[Sr]=ct[Sr-tn],++Sr}}else{7&dt&&(dt+=8-(7&dt));var jn=nt[dt>>>3]|nt[1+(dt>>>3)]<<8;if(dt+=32,0<jn)for(!Kt&&Ht<Sr+jn&&(Ht=(ct=Hr(ct,Sr+jn)).length);0<jn--;)ct[Sr++]=nt[dt>>>3],dt+=8}return Kt?[ct,dt+7>>>3]:[ct.slice(0,Sr),dt+7>>>3]}function gt(nt,Kt){return Kt=Io(nt.slice(nt.l||0),Kt),nt.l+=Kt[1],Kt[0]}function Qi(nt,Kt){if(!nt)throw new Error(Kt);typeof console<"u"&&console.error(Kt)}function Gi(nt,Kt){var dt=nt;qt(dt,0);var Wt={FileIndex:[],FullPaths:[]};H(Wt,{root:Kt.root});for(var ct=dt.length-4;(dt[ct]!=80||dt[ct+1]!=75||dt[ct+2]!=5||dt[ct+3]!=6)&&0<=ct;)--ct;dt.l=ct+4,dt.l+=4;var Sr=dt.read_shift(2);for(dt.l+=6,Kt=dt.read_shift(4),dt.l=Kt,ct=0;ct<Sr;++ct){dt.l+=20;var Ht=dt.read_shift(4),Jt=dt.read_shift(4),Lt=dt.read_shift(2),sr=dt.read_shift(2),Fr=dt.read_shift(2);dt.l+=8;var Fn=dt.read_shift(4),gn=k(dt.slice(dt.l+Lt,dt.l+Lt+sr));dt.l+=Lt+sr+Fr,Fr=dt.l,dt.l=Fn+4,function(tn,jn,Bn,$n,Gr){tn.l+=2;var Dr=tn.read_shift(2),Wn=tn.read_shift(2),mn=function(Ui){var un=65535&Ui.read_shift(2),En=65535&Ui.read_shift(2),vn=new Date,Qa=31&En,Ui=15&(En>>>=5);return En>>>=4,vn.setMilliseconds(0),vn.setFullYear(1980+En),vn.setMonth(Ui-1),vn.setDate(Qa),Ui=31&un,Qa=63&(un>>>=5),un>>>=6,vn.setHours(un),vn.setMinutes(Qa),vn.setSeconds(Ui<<1),vn}(tn);if(8257&Dr)throw new Error("Unsupported ZIP encryption");tn.read_shift(4);for(var Ur,ta=tn.read_shift(4),ra=tn.read_shift(4),Ss=tn.read_shift(2),ua=tn.read_shift(2),Ha="",Dn=0;Dn<Ss;++Dn)Ha+=String.fromCharCode(tn[tn.l++]);ua&&(((Ur=k(tn.slice(tn.l,tn.l+ua)))[21589]||{}).mt&&(mn=Ur[21589].mt),((Gr||{})[21589]||{}).mt&&(mn=Gr[21589].mt)),tn.l+=ua;var ci=tn.slice(tn.l,tn.l+ta);switch(Wn){case 8:ci=function(pi,vn){if(!de)return gt(pi,vn);var En=new de.InflateRaw,vn=En._processChunk(pi.slice(pi.l),En._finishFlushFlag);return pi.l+=En.bytesRead,vn}(tn,ra);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Wn)}ua=!1,8&Dr&&(tn.read_shift(4)==134695760&&(tn.read_shift(4),ua=!0),ta=tn.read_shift(4),ra=tn.read_shift(4)),ta!=jn&&Qi(ua,"Bad compressed size: "+jn+" != "+ta),ra!=Bn&&Qi(ua,"Bad uncompressed size: "+Bn+" != "+ra),cf($n,Ha,ci,{unsafe:!0,mt:mn})}(dt,Ht,Jt,Wt,gn),dt.l=Fr}return Wt}var Al={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cf(nt,Kt,dt,Wt){var ct=Wt&&Wt.unsafe;ct||H(nt);var Sr,Ht=!ct&&yr.find(nt,Kt);return Ht||(Sr=nt.FullPaths[0],Sr=Kt.slice(0,Sr.length)==Sr?Kt:(Sr.slice(-1)!="/"&&(Sr+="/"),(Sr+Kt).replace("//","/")),Ht={name:_(Kt),type:2},nt.FileIndex.push(Ht),nt.FullPaths.push(Sr),ct||yr.utils.cfb_gc(nt)),Ht.content=dt,Ht.size=dt?dt.length:0,Wt&&(Wt.CLSID&&(Ht.clsid=Wt.CLSID),Wt.mt&&(Ht.mt=Wt.mt),Wt.ct&&(Ht.ct=Wt.ct)),Ht}return x.find=function(nt,Kt){var dt=nt.FullPaths.map(function(Lt){return Lt.toUpperCase()}),Wt=dt.map(function(Lt){var sr=Lt.split("/");return sr[sr.length-(Lt.slice(-1)=="/"?2:1)]}),ct=!1;Kt.charCodeAt(0)===47?(ct=!0,Kt=dt[0].slice(0,-1)+Kt):ct=Kt.indexOf("/")!==-1;var Jt=Kt.toUpperCase(),Sr=(ct===!0?dt:Wt).indexOf(Jt);if(Sr!==-1)return nt.FileIndex[Sr];var Ht=!Jt.match(X),Jt=Jt.replace(ae,"");for(Ht&&(Jt=Jt.replace(X,"!")),Sr=0;Sr<dt.length;++Sr)if((Ht?dt[Sr].replace(X,"!"):dt[Sr]).replace(ae,"")==Jt||(Ht?Wt[Sr].replace(X,"!"):Wt[Sr]).replace(ae,"")==Jt)return nt.FileIndex[Sr];return null},x.read=function(nt,Kt){var dt,Wt,ct=Kt&&Kt.type;switch(ct||L&&Buffer.isBuffer(nt)&&(ct="buffer"),ct||"base64"){case"file":return dt=nt,Wt=Kt,I(),O(d.readFileSync(dt),Wt);case"base64":return O(z(F(nt)),Kt);case"binary":return O(z(nt),Kt)}return O(nt,Kt)},x.parse=O,x.write=function(nt,Kt){var dt=te(nt,Kt);switch(Kt&&Kt.type||"buffer"){case"file":return I(),d.writeFileSync(Kt.filename,dt),dt;case"binary":return typeof dt=="string"?dt:_e(dt);case"base64":return T(typeof dt=="string"?dt:_e(dt));case"buffer":if(L)return Buffer.isBuffer(dt)?dt:B(dt);case"array":return typeof dt=="string"?z(dt):dt}return dt},x.writeFile=function(nt,Kt,dt){I(),dt=te(nt,dt),d.writeFileSync(Kt,dt)},x.utils={cfb_new:function(nt){var Kt={};return H(Kt,nt),Kt},cfb_add:cf,cfb_del:function(nt,Kt){H(nt);var dt=yr.find(nt,Kt);if(dt){for(var Wt=0;Wt<nt.FileIndex.length;++Wt)if(nt.FileIndex[Wt]==dt)return nt.FileIndex.splice(Wt,1),nt.FullPaths.splice(Wt,1),!0}return!1},cfb_mov:function(nt,Kt,dt){H(nt);var Wt=yr.find(nt,Kt);if(Wt){for(var ct=0;ct<nt.FileIndex.length;++ct)if(nt.FileIndex[ct]==Wt)return nt.FileIndex[ct].name=_(dt),nt.FullPaths[ct]=dt,!0}return!1},cfb_gc:function(nt){G(nt,!0)},ReadShift:ri,CheckField:jt,prep_blob:qt,bconcat:ie,use_zlib:function(nt){try{var Kt=new nt.InflateRaw;if(Kt._processChunk(new Uint8Array([3,0]),Kt._finishFlushFlag),!Kt.bytesRead)throw new Error("zlib does not expose bytesRead");de=nt}catch(dt){console.error("cannot use native zlib: "+(dt.message||dt))}},_deflateRaw:hn,_inflateRaw:gt,consts:Ee},x}();if(typeof fS<"u")try{Wi=Ok}catch{}function zr(d){return typeof d=="string"?Z(d):Array.isArray(d)?function(x){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(x)}(d):d}function ba(d,x,v){if(Wi!==void 0&&Wi.writeFileSync)return v?Wi.writeFileSync(d,x,v):Wi.writeFileSync(d,x);if(typeof Deno<"u"){if(v&&typeof x=="string")switch(v){case"utf8":x=new TextEncoder(v).encode(x);break;case"binary":x=Z(x);break;default:throw new Error("Unsupported encoding "+v)}return Deno.writeFileSync(d,x)}var _=v=="utf8"?dn(x):x;if(typeof IE_SaveFile<"u")return IE_SaveFile(_,d);if(typeof Blob<"u"){if(_=new Blob([zr(_)],{type:"application/octet-stream"}),typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(_,d);if(typeof saveAs<"u")return saveAs(_,d);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var k=URL.createObjectURL(_);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(k)},6e4),chrome.downloads.download({url:k,filename:d,saveAs:!0});if(_=document.createElement("a"),_.download!=null)return _.download=d,_.href=k,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(k)},6e4),k}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var I=File(d);return I.open("w"),I.encoding="binary",Array.isArray(x)&&(x=K(x)),I.write(x),I.close(),x}catch(O){if(!O.message||!O.message.match(/onstruct/))throw O}throw new Error("cannot save file "+d)}function Xr(d){for(var x=Object.keys(d),v=[],_=0;_<x.length;++_)Object.prototype.hasOwnProperty.call(d,x[_])&&v.push(x[_]);return v}function Ei(d,x){for(var v=[],_=Xr(d),k=0;k!==_.length;++k)v[d[_[k]][x]]==null&&(v[d[_[k]][x]]=_[k]);return v}function Ti(d){for(var x=[],v=Xr(d),_=0;_!==v.length;++_)x[d[v[_]]]=v[_];return x}function ln(d){for(var x=[],v=Xr(d),_=0;_!==v.length;++_)x[d[v[_]]]=parseInt(v[_],10);return x}var ms=new Date(1899,11,30,0,0,0);function sa(d,x){var v=d.getTime();return x&&(v-=1263168e5),(v-(ms.getTime()+6e4*(d.getTimezoneOffset()-ms.getTimezoneOffset())))/864e5}var ki=new Date,si=ms.getTime()+6e4*(ki.getTimezoneOffset()-ms.getTimezoneOffset()),Ri=ki.getTimezoneOffset();function Fe(d){var x=new Date;return x.setTime(24*d*60*60*1e3+si),x.getTimezoneOffset()!==Ri&&x.setTime(x.getTime()+6e4*(x.getTimezoneOffset()-Ri)),x}var We=new Date("2017-02-19T19:06:09.000Z"),Xe=isNaN(We.getFullYear())?new Date("2/19/17"):We,Qe=Xe.getFullYear()==2017;function Je(d,x){var v=new Date(d);return Qe?(0<x?v.setTime(v.getTime()+60*v.getTimezoneOffset()*1e3):x<0&&v.setTime(v.getTime()-60*v.getTimezoneOffset()*1e3),v):d instanceof Date?d:Xe.getFullYear()==1917&&!isNaN(v.getFullYear())?(x=v.getFullYear(),-1<d.indexOf(""+x)||v.setFullYear(v.getFullYear()+100),v):(v=d.match(/\d+/g)||["2017","2","19","0","0","0"],v=new Date(+v[0],+v[1]-1,+v[2],+v[3]||0,+v[4]||0,+v[5]||0),v=-1<d.indexOf("Z")?new Date(v.getTime()-60*v.getTimezoneOffset()*1e3):v)}function it(d,x){if(L&&Buffer.isBuffer(d)){if(x){if(d[0]==255&&d[1]==254)return dn(d.slice(2).toString("utf16le"));if(d[1]==254&&d[2]==255)return dn(S(d.slice(2).toString("binary")))}return d.toString("binary")}if(typeof TextDecoder<"u")try{if(x){if(d[0]==255&&d[1]==254)return dn(new TextDecoder("utf-16le").decode(d.slice(2)));if(d[0]==254&&d[1]==255)return dn(new TextDecoder("utf-16be").decode(d.slice(2)))}var v={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(d)&&(d=new Uint8Array(d)),new TextDecoder("latin1").decode(d).replace(/[]/g,function(I){return v[I]||I})}catch{}for(var _=[],k=0;k!=d.length;++k)_.push(String.fromCharCode(d[k]));return _.join("")}function wt(d){if(typeof JSON<"u"&&!Array.isArray(d))return JSON.parse(JSON.stringify(d));if(typeof d!="object"||d==null)return d;if(d instanceof Date)return new Date(d.getTime());var x,v={};for(x in d)Object.prototype.hasOwnProperty.call(d,x)&&(v[x]=wt(d[x]));return v}function Pt(d,x){for(var v="";v.length<x;)v+=d;return v}function St(_){var x=Number(_);if(!isNaN(x))return isFinite(x)?x:NaN;if(!/\d/.test(_))return x;var v=1,_=_.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return v*=100,""});return isNaN(x=Number(_))?(_=_.replace(/[(](.*)[)]/,function(k,I){return v=-v,I}),isNaN(x=Number(_))?x:x/v):x/v}var Rt=["january","february","march","april","may","june","july","august","september","october","november","december"];function Mt(d){var x=new Date(d),v=new Date(NaN),_=x.getYear(),k=x.getMonth(),I=x.getDate();if(isNaN(I))return v;var O=d.toLowerCase();if(O.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(3<(O=O.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length&&Rt.indexOf(O)==-1)return v}else if(O.match(/[a-z]/))return v;return _<0||8099<_||(!(0<k||1<I)||_==101)&&d.match(/[^-0-9:,\/\\]/)?v:x}var mr,Cr=(mr="abacaba".split(/(:?b)/i).length==5,function(d,x,v){if(mr||typeof x=="string")return d.split(x);for(var _=d.split(x),k=[_[0]],I=1;I<_.length;++I)k.push(v),k.push(_[I]);return k});function Ar(d){return d?d.content&&d.type?it(d.content,!0):d.data?b(d.data):d.asNodeBuffer&&L?b(d.asNodeBuffer().toString("binary")):d.asBinary?b(d.asBinary()):d._data&&d._data.getContent?b(it(Array.prototype.slice.call(d._data.getContent(),0))):null:null}function Tr(d){if(!d)return null;if(d.data)return p(d.data);if(d.asNodeBuffer&&L)return d.asNodeBuffer();if(d._data&&d._data.getContent){var x=d._data.getContent();return typeof x=="string"?p(x):Array.prototype.slice.call(x)}return d.content&&d.type?d.content:null}function Pr(d,x){for(var v=d.FullPaths||Xr(d.files),_=x.toLowerCase().replace(/[\/]/g,"\\"),k=_.replace(/\\/g,"/"),I=0;I<v.length;++I){var O=v[I].replace(/^Root Entry[\/]/,"").toLowerCase();if(_==O||k==O)return d.files?d.files[v[I]]:d.FileIndex[I]}return null}function aa(d,x){if(d=Pr(d,x),d==null)throw new Error("Cannot find file "+x+" in zip");return d}function Bt(d,x,v){if(!v)return((v=aa(d,x))&&v.name.slice(-4)===".bin"?Tr:Ar)(v);if(!x)return null;try{return Bt(d,x)}catch{return null}}function Ra(d,x,v){if(!v)return Ar(aa(d,x));if(!x)return null;try{return Ra(d,x)}catch{return null}}function Pa(d){for(var x=d.FullPaths||Xr(d.files),v=[],_=0;_<x.length;++_)x[_].slice(-1)!="/"&&v.push(x[_].replace(/^Root Entry[\/]/,""));return v.sort()}function Kn(d,x,v){if(d.FullPaths){if(typeof v=="string"){var _=(L?B:function(k){for(var I=[],O=0,R=k.length+250,H=M(k.length+255),G=0;G<k.length;++G){var te,de=k.charCodeAt(G);de<128?H[O++]=de:de<2048?(H[O++]=192|de>>6&31,H[O++]=128|63&de):55296<=de&&de<57344?(de=64+(1023&de),te=1023&k.charCodeAt(++G),H[O++]=240|de>>8&7,H[O++]=128|de>>2&63,H[O++]=128|te>>6&15|(3&de)<<4,H[O++]=128|63&te):(H[O++]=224|de>>12&15,H[O++]=128|de>>6&63,H[O++]=128|63&de),R<O&&(I.push(H.slice(0,O)),O=0,H=M(65535),R=65530)}return I.push(H.slice(0,O)),ie(I)})(v);return yr.utils.cfb_add(d,x,_)}yr.utils.cfb_add(d,x,v)}else d.file(x,v)}function au(){return yr.utils.cfb_new()}function Ma(d,x){switch(x.type){case"base64":return yr.read(d,{type:"base64"});case"binary":return yr.read(d,{type:"binary"});case"buffer":case"array":return yr.read(d,{type:"buffer"})}throw new Error("Unrecognized type "+x.type)}function ma(d,x){if(d.charAt(0)=="/")return d.slice(1);var v=x.split("/");x.slice(-1)!="/"&&v.pop();for(var _=d.split("/");_.length!==0;){var k=_.shift();k===".."?v.pop():k!=="."&&v.push(k)}return v.join("/")}var wn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Cl=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,o3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Ya=wn.match(o3)?o3:/<[^>]*>/g,Fh=/<\w*:/,Es=/<(\/?)\w+:/;function Un(d,x,v){for(var _={},k=0,I=0;k!==d.length&&(I=d.charCodeAt(k))!==32&&I!==10&&I!==13;++k);if(x||(_[0]=d.slice(0,k)),k===d.length)return _;var O,R,H,G=d.match(Cl),te=0,de=0,fe="",me="";if(G)for(de=0;de!=G.length;++de){for(me=G[de],I=0;I!=me.length&&me.charCodeAt(I)!==61;++I);for(fe=me.slice(0,I).trim();me.charCodeAt(I+1)==32;)++I;for(R=(k=me.charCodeAt(I+1))==34||k==39?1:0,O=me.slice(I+1+R,me.length-R),te=0;te!=fe.length&&fe.charCodeAt(te)!==58;++te);te===fe.length?(_[fe=0<fe.indexOf("_")?fe.slice(0,fe.indexOf("_")):fe]=O,v||(_[fe.toLowerCase()]=O)):_[H=(te===5&&fe.slice(0,5)==="xmlns"?"xmlns":"")+fe.slice(te+1)]&&fe.slice(te-3,te)=="ext"||(_[H]=O,v||(_[H.toLowerCase()]=O))}return _}function zl(d){return d.replace(Es,"<$1")}var ps,ho,Ff={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$s=Ti(Ff),Tn=(ps=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,ho=/_x([\da-fA-F]{4})_/gi,function d(x){var v=x+"",_=v.indexOf("<![CDATA[");return _==-1?v.replace(ps,function(k,I){return Ff[k]||String.fromCharCode(parseInt(I,-1<k.indexOf("x")?16:10))||k}).replace(ho,function(k,I){return String.fromCharCode(parseInt(I,16))}):(x=v.indexOf("]]>"),d(v.slice(0,_))+v.slice(_+9,x)+d(v.slice(x+3)))}),Us=/[&<>'"]/g,Tt=/[\u0000-\u0008\u000b-\u001f]/g;function Ye(d){return(d+"").replace(Us,function(x){return $s[x]}).replace(Tt,function(x){return"_x"+("000"+x.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Ln(d){return Ye(d).replace(/ /g,"_x0020_")}var Ts=/[\u0000-\u001f]/g;function ll(d){return(d+"").replace(Us,function(x){return $s[x]}).replace(/\n/g,"<br/>").replace(Ts,function(x){return"&#x"+("000"+x.charCodeAt(0).toString(16)).slice(-4)+";"})}var Dh,Rh=(Dh=/&#(\d+);/g,function(d){return d.replace(Dh,Vl)});function Vl(d,x){return String.fromCharCode(parseInt(x,10))}function Qr(d){switch(d){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fi(d){for(var x,v,_,k,I="",O=0,R=0;O<d.length;)(x=d.charCodeAt(O++))<128?I+=String.fromCharCode(x):(v=d.charCodeAt(O++),191<x&&x<224?(R=(31&x)<<6,R|=63&v,I+=String.fromCharCode(R)):(_=d.charCodeAt(O++),x<240?I+=String.fromCharCode((15&x)<<12|(63&v)<<6|63&_):(k=((7&x)<<18|(63&v)<<12|(63&_)<<6|63&(R=d.charCodeAt(O++)))-65536,I+=String.fromCharCode(55296+(k>>>10&1023)),I+=String.fromCharCode(56320+(1023&k)))));return I}function qd(d){for(var x,v,_=M(2*d.length),k=1,I=0,O=0,R=0;R<d.length;R+=k)k=1,(v=d.charCodeAt(R))<128?x=v:v<224?(x=64*(31&v)+(63&d.charCodeAt(R+1)),k=2):v<240?(x=4096*(15&v)+64*(63&d.charCodeAt(R+1))+(63&d.charCodeAt(R+2)),k=3):(k=4,x=262144*(7&v)+4096*(63&d.charCodeAt(R+1))+64*(63&d.charCodeAt(R+2))+(63&d.charCodeAt(R+3)),O=55296+((x-=65536)>>>10&1023),x=56320+(1023&x)),O!==0&&(_[I++]=255&O,_[I++]=O>>>8,O=0),_[I++]=x%256,_[I++]=x>>>8;return _.slice(0,I).toString("ucs2")}function Df(d){return B(d,"binary").toString("utf8")}var Gd,ks,Kd,rv="foo bar baz",Ci=L&&(Df(rv)==fi(rv)?Df:qd(rv)==fi(rv)&&qd)||fi,dn=L?function(d){return B(d,"utf8").toString("binary")}:function(d){for(var x,v=[],_=0,k=0;_<d.length;)switch(!0){case(k=d.charCodeAt(_++))<128:v.push(String.fromCharCode(k));break;case k<2048:v.push(String.fromCharCode(192+(k>>6))),v.push(String.fromCharCode(128+(63&k)));break;case(55296<=k&&k<57344):k-=55296,x=d.charCodeAt(_++)-56320+(k<<10),v.push(String.fromCharCode(240+(x>>18&7))),v.push(String.fromCharCode(144+(x>>12&63))),v.push(String.fromCharCode(128+(x>>6&63))),v.push(String.fromCharCode(128+(63&x)));break;default:v.push(String.fromCharCode(224+(k>>12))),v.push(String.fromCharCode(128+(k>>6&63))),v.push(String.fromCharCode(128+(63&k)))}return v.join("")},iu=(Gd={},function(d,x){var v=d+"|"+(x||"");return Gd[v]||(Gd[v]=new RegExp("<(?:\\w+:)?"+d+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+d+">",x||""))}),su=(ks=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(d){return[new RegExp("&"+d[0]+";","ig"),d[1]]}),function(d){for(var x=d.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),v=0;v<ks.length;++v)x=x.replace(ks[v][0],ks[v][1]);return x}),zn=(Kd={},function(d){return Kd[d]!==void 0?Kd[d]:Kd[d]=new RegExp("<(?:vt:)?"+d+">([\\s\\S]*?)</(?:vt:)?"+d+">","g")}),zm=/<\/?(?:vt:)?variant>/g,Ca=/<(?:vt:)([^>]*)>([\s\S]*)</;function _s(_,x){var v=Un(_),_=_.match(zn(v.baseType))||[],k=[];if(_.length==v.size)return _.forEach(function(I){I=I.replace(zm,"").match(Ca),I&&k.push({v:Ci(I[2]),t:I[1]})}),k;if(x.WTF)throw new Error("unexpected vector length "+_.length+" != "+v.size);return k}var Mh=/(^\s|\s$|\n)/;function zs(d,x){return"<"+d+(x.match(Mh)?' xml:space="preserve"':"")+">"+x+"</"+d+">"}function Yd(d){return Xr(d).map(function(x){return" "+x+'="'+d[x]+'"'}).join("")}function Or(d,x,v){return"<"+d+(v!=null?Yd(v):"")+(x!=null?(x.match(Mh)?' xml:space="preserve"':"")+">"+x+"</"+d:"/")+">"}function Rf(d,x){try{return d.toISOString().replace(/\.\d*/,"")}catch(v){if(x)throw v}return""}function hc(d){if(L&&Buffer.isBuffer(d))return d.toString("utf8");if(typeof d=="string")return d;if(typeof Uint8Array<"u"&&d instanceof Uint8Array)return Ci(K(q(d)));throw new Error("Bad input format: expected Buffer or string")}var cl=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,as={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Vs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ou(d){for(var x=[],v=0;v<d[0].length;++v)if(d[0][v])for(var _=0,k=d[0][v].length;_<k;_+=10240)x.push.apply(x,d[0][v].slice(_,_+10240));return x}function Eo(d,x,v){for(var _=[],k=x;k<v;k+=2)_.push(String.fromCharCode(Mi(d,k)));return _.join("").replace(ae,"")}function Lh(d,x,v){for(var _=[],k=x;k<x+v;++k)_.push(("0"+d[k].toString(16)).slice(-2));return _.join("")}function Bh(d,x,v){for(var _=[],k=x;k<v;k++)_.push(String.fromCharCode(cu(d,k)));return _.join("")}function $h(d,x){var v=pa(d,x);return 0<v?$t(d,x+4,x+4+v-1):""}function lu(d,x){var v=pa(d,x);return 0<v?$t(d,x+4,x+4+v-1):""}function Uu(d,x){var v=2*pa(d,x);return 0<v?$t(d,x+4,x+4+v-1):""}function Vm(d,x){var v=pa(d,x);return 0<v?Yo(d,x+4,x+4+v):""}function ei(d,x){var v=pa(d,x);return 0<v?$t(d,x+4,x+4+v):""}function mc(d,x){for(var v=1-2*(d[x+7]>>>7),_=((127&d[x+7])<<4)+(d[x+6]>>>4&15),k=15&d[x+6],I=5;0<=I;--I)k=256*k+d[x+I];return _==2047?k==0?1/0*v:NaN:(_==0?_=-1022:(_-=1023,k+=Math.pow(2,52)),v*Math.pow(2,_-52)*k)}var pd=L?function(d){return 0<d[0].length&&Buffer.isBuffer(d[0][0])?Buffer.concat(d[0].map(function(x){return Buffer.isBuffer(x)?x:B(x)})):ou(d)}:ou,Yo=L?function(d,x,v){return Buffer.isBuffer(d)?d.toString("utf16le",x,v).replace(ae,""):Eo(d,x,v)}:Eo,Wm=L?function(d,x,v){return Buffer.isBuffer(d)?d.toString("hex",x,x+v):Lh(d,x,v)}:Lh,$t=L?function(d,x,v){return Buffer.isBuffer(d)?d.toString("utf8",x,v):Bh(d,x,v)}:Bh,Aa=$h,Ns=lu,zu=Uu,Mf=Vm,Xd=ei,Jd=mc,Lf=function(d){return Array.isArray(d)||typeof Uint8Array<"u"&&d instanceof Uint8Array};L&&(Aa=function(d,x){if(!Buffer.isBuffer(d))return $h(d,x);var v=d.readUInt32LE(x);return 0<v?d.toString("utf8",x+4,x+4+v-1):""},Ns=function(d,x){if(!Buffer.isBuffer(d))return lu(d,x);var v=d.readUInt32LE(x);return 0<v?d.toString("utf8",x+4,x+4+v-1):""},zu=function(d,x){if(!Buffer.isBuffer(d))return Uu(d,x);var v=2*d.readUInt32LE(x);return d.toString("utf16le",x+4,x+4+v-1)},Mf=function(d,x){if(!Buffer.isBuffer(d))return Vm(d,x);var v=d.readUInt32LE(x);return d.toString("utf16le",x+4,x+4+v)},Xd=function(d,x){if(!Buffer.isBuffer(d))return ei(d,x);var v=d.readUInt32LE(x);return d.toString("utf8",x+4,x+4+v)},Jd=function(d,x){return Buffer.isBuffer(d)?d.readDoubleLE(x):mc(d,x)},Lf=function(d){return Buffer.isBuffer(d)||Array.isArray(d)||typeof Uint8Array<"u"&&d instanceof Uint8Array}),a!==void 0&&(Yo=function(d,x,v){return a.utils.decode(1200,d.slice(x,v)).replace(ae,"")},$t=function(d,x,v){return a.utils.decode(65001,d.slice(x,v))},Aa=function(d,x){var v=pa(d,x);return 0<v?a.utils.decode(l,d.slice(x+4,x+4+v-1)):""},Ns=function(d,x){var v=pa(d,x);return 0<v?a.utils.decode(o,d.slice(x+4,x+4+v-1)):""},zu=function(d,x){var v=2*pa(d,x);return 0<v?a.utils.decode(1200,d.slice(x+4,x+4+v-1)):""},Mf=function(d,x){var v=pa(d,x);return 0<v?a.utils.decode(1200,d.slice(x+4,x+4+v)):""},Xd=function(d,x){var v=pa(d,x);return 0<v?a.utils.decode(65001,d.slice(x+4,x+4+v)):""});var cu=function(d,x){return d[x]},Mi=function(d,x){return 256*d[x+1]+d[x]},Zd=function(d,x){return x=256*d[x+1]+d[x],x<32768?x:-1*(65535-x+1)},pa=function(d,x){return d[x+3]*(1<<24)+(d[x+2]<<16)+(d[x+1]<<8)+d[x]},Hl=function(d,x){return d[x+3]<<24|d[x+2]<<16|d[x+1]<<8|d[x]},ql=function(d,x){return d[x]<<24|d[x+1]<<16|d[x+2]<<8|d[x+3]};function ri(d,x){var v,_,k,I,O,R,H="",G=[];switch(x){case"dbcs":if(R=this.l,L&&Buffer.isBuffer(this))H=this.slice(this.l,this.l+2*d).toString("utf16le");else for(O=0;O<d;++O)H+=String.fromCharCode(Mi(this,R)),R+=2;d*=2;break;case"utf8":H=$t(this,this.l,this.l+d);break;case"utf16le":d*=2,H=Yo(this,this.l,this.l+d);break;case"wstr":if(a===void 0)return ri.call(this,d,"dbcs");H=a.utils.decode(o,this.slice(this.l,this.l+2*d)),d*=2;break;case"lpstr-ansi":H=Aa(this,this.l),d=4+pa(this,this.l);break;case"lpstr-cp":H=Ns(this,this.l),d=4+pa(this,this.l);break;case"lpwstr":H=zu(this,this.l),d=4+2*pa(this,this.l);break;case"lpp4":d=4+pa(this,this.l),H=Mf(this,this.l),2&d&&(d+=2);break;case"8lpp4":d=4+pa(this,this.l),H=Xd(this,this.l),3&d&&(d+=4-(3&d));break;case"cstr":for(d=0,H="";(k=cu(this,this.l+d++))!==0;)G.push(N(k));H=G.join("");break;case"_wstr":for(d=0,H="";(k=Mi(this,this.l+d))!==0;)G.push(N(k)),d+=2;d+=2,H=G.join("");break;case"dbcs-cont":for(H="",R=this.l,O=0;O<d;++O){if(this.lens&&this.lens.indexOf(R)!==-1)return k=cu(this,R),this.l=R+1,I=ri.call(this,d-O,k?"dbcs-cont":"sbcs-cont"),G.join("")+I;G.push(N(Mi(this,R))),R+=2}H=G.join(""),d*=2;break;case"cpstr":if(a!==void 0){H=a.utils.decode(o,this.slice(this.l,this.l+d));break}case"sbcs-cont":for(H="",R=this.l,O=0;O!=d;++O){if(this.lens&&this.lens.indexOf(R)!==-1)return k=cu(this,R),this.l=R+1,I=ri.call(this,d-O,k?"dbcs-cont":"sbcs-cont"),G.join("")+I;G.push(N(cu(this,R))),R+=1}H=G.join("");break;default:switch(d){case 1:return v=cu(this,this.l),this.l++,v;case 2:return v=(x==="i"?Zd:Mi)(this,this.l),this.l+=2,v;case 4:case-4:return x==="i"||!(128&this[this.l+3])?(v=(0<d?Hl:ql)(this,this.l),this.l+=4,v):(_=pa(this,this.l),this.l+=4,_);case 8:case-8:if(x==="f")return _=d==8?Jd(this,this.l):Jd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,_;d=8;case 16:H=Wm(this,this.l,d)}}return this.l+=d,H}var re=function(d,x,v){d[v]=255&x,d[v+1]=x>>>8&255,d[v+2]=x>>>16&255,d[v+3]=x>>>24&255},Oe=function(d,x,v){d[v]=255&x,d[v+1]=x>>8&255,d[v+2]=x>>16&255,d[v+3]=x>>24&255},et=function(d,x,v){d[v]=255&x,d[v+1]=x>>>8&255};function mt(d,x,v){var _=0,k=0;if(v==="dbcs"){for(k=0;k!=x.length;++k)et(this,x.charCodeAt(k),this.l+2*k);_=2*x.length}else if(v==="sbcs"){if(a!==void 0&&l==874)for(k=0;k!=x.length;++k){var I=a.utils.encode(l,x.charAt(k));this[this.l+k]=I[0]}else for(x=x.replace(/[^\x00-\x7F]/g,"_"),k=0;k!=x.length;++k)this[this.l+k]=255&x.charCodeAt(k);_=x.length}else{if(v==="hex"){for(;k<d;++k)this[this.l++]=parseInt(x.slice(2*k,2*k+2),16)||0;return this}if(v==="utf16le"){for(var O=Math.min(this.l+d,this.length),k=0;k<Math.min(x.length,d);++k){var R=x.charCodeAt(k);this[this.l++]=255&R,this[this.l++]=R>>8}for(;this.l<O;)this[this.l++]=0;return this}switch(d){case 1:_=1,this[this.l]=255&x;break;case 2:_=2,this[this.l]=255&x,x>>>=8,this[this.l+1]=255&x;break;case 3:_=3,this[this.l]=255&x,x>>>=8,this[this.l+1]=255&x,x>>>=8,this[this.l+2]=255&x;break;case 4:_=4,re(this,x,this.l);break;case 8:if(_=8,v==="f"){(function(H,G,te){var de=(G<0||1/G==-1/0?1:0)<<7,fe=0,me=0,Ae=de?-G:G;isFinite(Ae)?Ae==0?fe=me=0:(fe=Math.floor(Math.log(Ae)/Math.LN2),me=Ae*Math.pow(2,52-fe),fe<=-1023&&(!isFinite(me)||me<Math.pow(2,52))?fe=-1022:(me-=Math.pow(2,52),fe+=1023)):(fe=2047,me=isNaN(G)?26985:0);for(var ve=0;ve<=5;++ve,me/=256)H[te+ve]=255&me;H[te+6]=(15&fe)<<4|15&me,H[te+7]=fe>>4|de})(this,x,this.l);break}case 16:break;case-4:_=4,Oe(this,x,this.l)}}return this.l+=_,this}function jt(d,x){var v=Wm(this,this.l,d.length>>1);if(v!==d)throw new Error(x+"Expected "+d+" saw "+v);this.l+=d.length>>1}function qt(d,x){d.l=x,d.read_shift=ri,d.chk=jt,d.write_shift=mt}function nr(d,x){d.l+=x}function vt(d){return d=M(d),qt(d,0),d}function _n(d,x,v){if(d){qt(d,d.l||0);for(var _,k=d.length,I=0;d.l<k;){128&(I=d.read_shift(1))&&(I=(127&I)+((127&d.read_shift(1))<<7));for(var O,R=Ib[I]||Ib[65535],H=127&(O=d.read_shift(1)),G=1;G<4&&128&O;++G)H+=(127&(O=d.read_shift(1)))<<7*G;_=d.l+H;var te=R.f&&R.f(d,H,v);if(d.l=_,x(te,R,I))return}}}function Vn(){function d(O){return qt(O=vt(O),0),O}function x(){I&&(I.length>I.l&&((I=I.slice(0,I.l)).l=I.length),0<I.length&&_.push(I),I=null)}function v(O){return I&&O<I.length-I.l?I:(x(),I=d(Math.max(O+1,k)))}var _=[],k=L?256:2048,I=d(k);return{next:v,push:function(O){x(),(I=O).l==null&&(I.l=I.length),v(k)},end:function(){return x(),ie(_)},_bufs:_}}function zt(d,x,v,_){var k=+x;if(!isNaN(k)){x=1+(128<=k?1:0)+1,128<=(_=_||Ib[k].p||(v||[]).length||0)&&++x,16384<=_&&++x,2097152<=_&&++x;var I=d.next(x);k<=127?I.write_shift(1,k):(I.write_shift(1,128+(127&k)),I.write_shift(1,k>>7));for(var O=0;O!=4;++O){if(!(128<=_)){I.write_shift(1,_);break}I.write_shift(1,128+(127&_)),_>>=7}0<_&&Lf(v)&&d.push(v)}}function Wa(d,x,v){var _=wt(d);if(x.s?(_.cRel&&(_.c+=x.s.c),_.rRel&&(_.r+=x.s.r)):(_.cRel&&(_.c+=x.c),_.rRel&&(_.r+=x.r)),!v||v.biff<12){for(;256<=_.c;)_.c-=256;for(;65536<=_.r;)_.r-=65536}return _}function gs(d,x,v){return d=wt(d),d.s=Wa(d.s,x.s,v),d.e=Wa(d.e,x.s,v),d}function Ai(d,x){if(d.cRel&&d.c<0)for(d=wt(d);d.c<0;)d.c+=8<x?16384:256;if(d.rRel&&d.r<0)for(d=wt(d);d.r<0;)d.r+=8<x?1048576:5<x?65536:16384;var v=kn(d);return d.cRel||d.cRel==null||(v=v.replace(/^([A-Z])/,"$$$1")),v=!d.rRel&&d.rRel!=null?v.replace(/([A-Z]|^)(\d+)$/,"$1$$$2"):v}function xs(d,x){return d.s.r!=0||d.s.rRel||d.e.r!=(12<=x.biff?1048575:8<=x.biff?65536:16384)||d.e.rRel?d.s.c!=0||d.s.cRel||d.e.c!=(12<=x.biff?16383:255)||d.e.cRel?Ai(d.s,x.biff)+":"+Ai(d.e,x.biff):(d.s.rRel?"":"$")+ja(d.s.r)+":"+(d.e.rRel?"":"$")+ja(d.e.r):(d.s.cRel?"":"$")+wa(d.s.c)+":"+(d.e.cRel?"":"$")+wa(d.e.c)}function To(d){return parseInt(d.replace(/\$(\d+)$/,"$1"),10)-1}function ja(d){return""+(d+1)}function pc(d){for(var x=d.replace(/^\$([A-Z])/,"$1"),v=0,_=0;_!==x.length;++_)v=26*v+x.charCodeAt(_)-64;return v-1}function wa(d){if(d<0)throw new Error("invalid column "+d);var x="";for(++d;d;d=Math.floor((d-1)/26))x=String.fromCharCode((d-1)%26+65)+x;return x}function ni(d){for(var x=0,v=0,_=0;_<d.length;++_){var k=d.charCodeAt(_);48<=k&&k<=57?x=10*x+(k-48):65<=k&&k<=90&&(v=26*v+(k-64))}return{c:v-1,r:x-1}}function kn(d){for(var x=d.c+1,v="";x;x=(x-1)/26|0)v=String.fromCharCode((x-1)%26+65)+v;return v+(d.r+1)}function no(d){var x=d.indexOf(":");return x==-1?{s:ni(d),e:ni(d)}:{s:ni(d.slice(0,x)),e:ni(d.slice(x+1))}}function Yn(d,x){return x===void 0||typeof x=="number"?Yn(d.s,d.e):(d=typeof d!="string"?kn(d):d)==(x=typeof x!="string"?kn(x):x)?d:d+":"+x}function Ia(d){for(var x={s:{c:0,r:0},e:{c:0,r:0}},I=0,v=0,_=0,k=d.length,I=0;v<k&&!((_=d.charCodeAt(v)-64)<1||26<_);++v)I=26*I+_;for(x.s.c=--I,I=0;v<k&&!((_=d.charCodeAt(v)-48)<0||9<_);++v)I=10*I+_;if(x.s.r=--I,v===k||_!=10)return x.e.c=x.s.c,x.e.r=x.s.r,x;for(++v,I=0;v!=k&&!((_=d.charCodeAt(v)-64)<1||26<_);++v)I=26*I+_;for(x.e.c=--I,I=0;v!=k&&!((_=d.charCodeAt(v)-48)<0||9<_);++v)I=10*I+_;return x.e.r=--I,x}function Bf(d,x){var v=d.t=="d"&&x instanceof Date;if(d.z!=null)try{return d.w=An(d.z,v?sa(x):x)}catch{}try{return d.w=An((d.XF||{}).numFmtId||(v?14:0),v?sa(x):x)}catch{return""+x}}function Gl(d,x,v){return d==null||d.t==null||d.t=="z"?"":d.w!==void 0?d.w:(d.t=="d"&&!d.z&&v&&v.dateNF&&(d.z=v.dateNF),d.t=="e"?ao[d.v]||d.v:Bf(d,x??d.v))}function Kl(d,_){var v=_&&_.sheet?_.sheet:"Sheet1",_={};return _[v]=d,{SheetNames:[v],Sheets:_}}function Ji(d,x,v){var _=v||{},k=d?Array.isArray(d):_.dense,I=d||(k?[]:{}),O=0,R=0;I&&_.origin!=null&&(typeof _.origin=="number"?O=_.origin:(O=(H=typeof _.origin=="string"?ni(_.origin):_.origin).r,R=H.c),I["!ref"]||(I["!ref"]="A1:A1"));var H,G={s:{c:1e7,r:1e7},e:{c:0,r:0}};I["!ref"]&&(H=Ia(I["!ref"]),G.s.c=H.s.c,G.s.r=H.s.r,G.e.c=Math.max(G.e.c,H.e.c),G.e.r=Math.max(G.e.r,H.e.r),O==-1&&(G.e.r=O=H.e.r+1));for(var te=0;te!=x.length;++te)if(x[te]){if(!Array.isArray(x[te]))throw new Error("aoa_to_sheet expects an array of arrays");for(var de=0;de!=x[te].length;++de)if(x[te][de]!==void 0){var fe={v:x[te][de]},me=O+te,Ae=R+de;if(G.s.r>me&&(G.s.r=me),G.s.c>Ae&&(G.s.c=Ae),G.e.r<me&&(G.e.r=me),G.e.c<Ae&&(G.e.c=Ae),!x[te][de]||typeof x[te][de]!="object"||Array.isArray(x[te][de])||x[te][de]instanceof Date)if(Array.isArray(fe.v)&&(fe.f=x[te][de][1],fe.v=fe.v[0]),fe.v===null)if(fe.f)fe.t="n";else if(_.nullError)fe.t="e",fe.v=0;else{if(!_.sheetStubs)continue;fe.t="z"}else typeof fe.v=="number"?fe.t="n":typeof fe.v=="boolean"?fe.t="b":fe.v instanceof Date?(fe.z=_.dateNF||ee[14],_.cellDates?(fe.t="d",fe.w=An(fe.z,sa(fe.v))):(fe.t="n",fe.v=sa(fe.v),fe.w=An(fe.z,fe.v))):fe.t="s";else fe=x[te][de];k?(I[me]||(I[me]=[]),I[me][Ae]&&I[me][Ae].z&&(fe.z=I[me][Ae].z),I[me][Ae]=fe):(I[me=kn({c:Ae,r:me})]&&I[me].z&&(fe.z=I[me].z),I[me]=fe)}}return G.s.c<1e7&&(I["!ref"]=Yn(G)),I}function uu(d,x){return Ji(null,d,x)}function ko(d,x){return(x=x||vt(4)).write_shift(4,d),x}function is(d){var x=d.read_shift(4);return x===0?"":d.read_shift(x,"dbcs")}function Zn(d,x){var v=!1;return x==null&&(v=!0,x=vt(4+2*d.length)),x.write_shift(4,d.length),0<d.length&&x.write_shift(0,d,"dbcs"),v?x.slice(0,x.l):x}function mo(d,x){var v,_=d.l,k=d.read_shift(1),O=is(d),I=[],O={t:O,h:O};if(1&k){for(var R=d.read_shift(4),H=0;H!=R;++H)I.push({ich:(v=d).read_shift(2),ifnt:v.read_shift(2)});O.r=I}else O.r=[{ich:0,ifnt:0}];return d.l=_+x,O}var ke=mo;function m(d,x){var v,_=!1;return x==null&&(_=!0,x=vt(23+4*d.t.length)),x.write_shift(1,1),Zn(d.t,x),x.write_shift(4,1),v={ich:0,ifnt:0},(d=(d=x)||vt(4)).write_shift(2,v.ich||0),d.write_shift(2,v.ifnt||0),_?x.slice(0,x.l):x}function y(d){var x=d.read_shift(4),v=d.read_shift(2);return v+=d.read_shift(1)<<16,d.l++,{c:x,iStyleRef:v}}function w(d,x){return(x=x??vt(8)).write_shift(-4,d.c),x.write_shift(3,d.iStyleRef||d.s),x.write_shift(1,0),x}function E(d){var x=d.read_shift(2);return x+=d.read_shift(1)<<16,d.l++,{c:-1,iStyleRef:x}}function P(d,x){return(x=x??vt(4)).write_shift(3,d.iStyleRef||d.s),x.write_shift(1,0),x}var D=is,V=Zn;function J(d){var x=d.read_shift(4);return x===0||x===4294967295?"":d.read_shift(x,"dbcs")}function oe(d,x){var v=!1;return x==null&&(v=!0,x=vt(127)),x.write_shift(4,0<d.length?d.length:4294967295),0<d.length&&x.write_shift(0,d,"dbcs"),v?x.slice(0,x.l):x}var be=is,Te=J,Le=oe;function tt(d){var x=d.slice(d.l,d.l+4),v=1&x[0],_=2&x[0];return d.l+=4,x=_==0?Jd([0,0,0,0,252&x[0],x[1],x[2],x[3]],0):Hl(x,0)>>2,v?x/100:x}function ut(d,x){x==null&&(x=vt(4));var v=0,_=0,k=100*d;if(d==(0|d)&&-(1<<29)<=d&&d<1<<29?_=1:k==(0|k)&&-(1<<29)<=k&&k<1<<29&&(v=_=1),!_)throw new Error("unsupported RkNumber "+d);x.write_shift(-4,((v?k:d)<<2)+(v+2))}function pt(d){var x={s:{},e:{}};return x.s.r=d.read_shift(4),x.e.r=d.read_shift(4),x.s.c=d.read_shift(4),x.e.c=d.read_shift(4),x}var Nt=pt,Vt=function(d,x){return(x=x||vt(16)).write_shift(4,d.s.r),x.write_shift(4,d.e.r),x.write_shift(4,d.s.c),x.write_shift(4,d.e.c),x};function ir(d){if(d.length-d.l<8)throw"XLS Xnum Buffer underflow";return d.read_shift(8,"f")}function vr(d,x){return(x||vt(8)).write_shift(8,d,"f")}function pr(d,x){if(x=x||vt(8),!d||d.auto)return x.write_shift(4,0),x.write_shift(4,0),x;d.index!=null?(x.write_shift(1,2),x.write_shift(1,d.index)):d.theme!=null?(x.write_shift(1,6),x.write_shift(1,d.theme)):(x.write_shift(1,5),x.write_shift(1,0));var v=d.tint||0;return 0<v?v*=32767:v<0&&(v*=32768),x.write_shift(2,v),d.rgb&&d.theme==null?(typeof(d=d.rgb||"FFFFFF")=="number"&&(d=("000000"+d.toString(16)).slice(-6)),x.write_shift(1,parseInt(d.slice(0,2),16)),x.write_shift(1,parseInt(d.slice(2,4),16)),x.write_shift(1,parseInt(d.slice(4,6),16)),x.write_shift(1,255)):(x.write_shift(2,0),x.write_shift(1,0),x.write_shift(1,0)),x}function La(d,x){var v=d.read_shift(4);switch(v){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[d.read_shift(4)]||""}if(400<v)throw new Error("Unsupported Clipboard: "+v.toString(16));return d.l-=4,d.read_shift(0,x==1?"lpstr":"lpwstr")}var ca=2,hi=3,Po=12,Ps=81,mi=[80,Ps],vs={1:{n:"CodePage",t:ca},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:hi},5:{n:"LineCount",t:hi},6:{n:"ParagraphCount",t:hi},7:{n:"SlideCount",t:hi},8:{n:"NoteCount",t:hi},9:{n:"HiddenCount",t:hi},10:{n:"MultimediaClipCount",t:hi},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:hi},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:hi,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Ws={1:{n:"CodePage",t:ca},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:hi},15:{n:"WordCount",t:hi},16:{n:"CharCount",t:hi},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:hi},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Yl={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Vu=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ul=wt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(d){return[d>>16&255,d>>8&255,255&d]})),ao={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ss={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ns={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Os={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function po(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Qd(d,x){var v,_=function(H){for(var G=[],te=Xr(H),de=0;de!==te.length;++de)G[H[te[de]]]==null&&(G[H[te[de]]]=[]),G[H[te[de]]].push(te[de]);return G}(ns),k=[];k[k.length]=wn,k[k.length]=Or("Types",null,{xmlns:as.CT,"xmlns:xsd":as.xsd,"xmlns:xsi":as.xsi}),k=k.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(H){return Or("Default",null,{Extension:H[0],ContentType:H[1]})}));function I(H){d[H]&&0<d[H].length&&(v=d[H][0],k[k.length]=Or("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:Os[H][x.bookType]||Os[H].xlsx}))}function O(H){(d[H]||[]).forEach(function(G){k[k.length]=Or("Override",null,{PartName:(G[0]=="/"?"":"/")+G,ContentType:Os[H][x.bookType]||Os[H].xlsx})})}function R(H){(d[H]||[]).forEach(function(G){k[k.length]=Or("Override",null,{PartName:(G[0]=="/"?"":"/")+G,ContentType:_[H][0]})})}return I("workbooks"),O("sheets"),O("charts"),R("themes"),["strs","styles"].forEach(I),["coreprops","extprops","custprops"].forEach(R),R("vba"),R("comments"),R("threadedcomments"),R("drawings"),O("metadata"),R("people"),2<k.length&&(k[k.length]="</Types>",k[1]=k[1].replace("/>",">")),k.join("")}var Ea={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ef(d){var x=d.lastIndexOf("/");return d.slice(0,x+1)+"_rels/"+d.slice(x+1)+".rels"}function Uh(d,x){var v={"!id":{}};if(!d)return v;x.charAt(0)!=="/"&&(x="/"+x);var _={};return(d.match(Ya)||[]).forEach(function(k){var I,O=Un(k);O[0]==="<Relationship"&&((I={}).Type=O.Type,I.Target=O.Target,I.Id=O.Id,O.TargetMode&&(I.TargetMode=O.TargetMode),k=O.TargetMode==="External"?O.Target:ma(O.Target,x),v[k]=I,_[O.Id]=I)}),v["!id"]=_,v}function zh(d){var x=[wn,Or("Relationships",null,{xmlns:as.RELS})];return Xr(d["!id"]).forEach(function(v){x[x.length]=Or("Relationship",null,d["!id"][v])}),2<x.length&&(x[x.length]="</Relationships>",x[1]=x[1].replace("/>",">")),x.join("")}function Pi(d,x,v,_,k,I){if(k=k||{},d["!id"]||(d["!id"]={}),d["!idx"]||(d["!idx"]=1),x<0)for(x=d["!idx"];d["!id"]["rId"+x];++x);if(d["!idx"]=x+1,k.Id="rId"+x,k.Type=_,k.Target=v,I?k.TargetMode=I:-1<[Ea.HLINK,Ea.XPATH,Ea.XMISS].indexOf(k.Type)&&(k.TargetMode="External"),d["!id"][k.Id])throw new Error("Cannot rewrite rId "+x);return d["!id"][k.Id]=k,d[("/"+k.Target).replace("//","/")]=k,x}var du="application/vnd.oasis.opendocument.spreadsheet";function fu(d,x,v){return['  <rdf:Description rdf:about="'+d+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(v||"odf")+"#"+x+`"/>
`,`  </rdf:Description>
`].join("")}function O1(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+i.version+"</meta:generator></office:meta></office:document-meta>"}var gc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],T5=function(){for(var d=new Array(gc.length),x=0;x<gc.length;++x){var v=gc[x],v="(?:"+v[0].slice(0,v[0].indexOf(":"))+":)"+v[0].slice(v[0].indexOf(":")+1);d[x]=new RegExp("<"+v+"[^>]*>([\\s\\S]*?)</"+v+">")}return d}();function I1(d){var x={};d=Ci(d);for(var v=0;v<gc.length;++v){var _=gc[v],k=d.match(T5[v]);k!=null&&0<k.length&&(x[_[1]]=Tn(k[1])),_[2]==="date"&&x[_[1]]&&(x[_[1]]=Je(x[_[1]]))}return x}function Hm(d,x,v,_,k){k[d]==null&&x!=null&&x!==""&&(x=Ye(k[d]=x),_[_.length]=v?Or(d,x,v):zs(d,x))}function Mx(d,x){var v=x||{},_=[wn,Or("cp:coreProperties",null,{"xmlns:cp":as.CORE_PROPS,"xmlns:dc":as.dc,"xmlns:dcterms":as.dcterms,"xmlns:dcmitype":as.dcmitype,"xmlns:xsi":as.xsi})],k={};if(!d&&!v.Props)return _.join("");d&&(d.CreatedDate!=null&&Hm("dcterms:created",typeof d.CreatedDate=="string"?d.CreatedDate:Rf(d.CreatedDate,v.WTF),{"xsi:type":"dcterms:W3CDTF"},_,k),d.ModifiedDate!=null&&Hm("dcterms:modified",typeof d.ModifiedDate=="string"?d.ModifiedDate:Rf(d.ModifiedDate,v.WTF),{"xsi:type":"dcterms:W3CDTF"},_,k));for(var I=0;I!=gc.length;++I){var O=gc[I],R=v.Props&&v.Props[O[1]]!=null?v.Props[O[1]]:d?d[O[1]]:null;R===!0?R="1":R===!1?R="0":typeof R=="number"&&(R=String(R)),R!=null&&Hm(O[0],R,null,_,k)}return 2<_.length&&(_[_.length]="</cp:coreProperties>",_[1]=_[1].replace("/>",">")),_.join("")}var Vh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Lx=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Bx(d,x,v,_){var k=[];if(typeof d=="string")k=_s(d,_);else for(var I=0;I<d.length;++I)k=k.concat(d[I].map(function(te){return{v:te}}));var O,R=typeof x=="string"?_s(x,_).map(function(te){return te.v}):x,H=0;if(0<R.length)for(var G=0;G!==k.length;G+=2){switch(O=+k[G+1].v,k[G].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":v.Worksheets=O,v.SheetNames=R.slice(H,H+O);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":v.NamedRanges=O,v.DefinedNames=R.slice(H,H+O);break;case"Charts":case"Diagramme":v.Chartsheets=O,v.ChartNames=R.slice(H,H+O)}H+=O}}function F1(d){var x=[],v=Or;return(d=d||{}).Application="SheetJS",x[x.length]=wn,x[x.length]=Or("Properties",null,{xmlns:as.EXT_PROPS,"xmlns:vt":as.vt}),Vh.forEach(function(_){if(d[_[1]]!==void 0){var k;switch(_[2]){case"string":k=Ye(String(d[_[1]]));break;case"bool":k=d[_[1]]?"true":"false"}k!==void 0&&(x[x.length]=v(_[0],k))}}),x[x.length]=v("HeadingPairs",v("vt:vector",v("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+v("vt:variant",v("vt:i4",String(d.Worksheets))),{size:2,baseType:"variant"})),x[x.length]=v("TitlesOfParts",v("vt:vector",d.SheetNames.map(function(_){return"<vt:lpstr>"+Ye(_)+"</vt:lpstr>"}).join(""),{size:d.Worksheets,baseType:"lpstr"})),2<x.length&&(x[x.length]="</Properties>",x[1]=x[1].replace("/>",">")),x.join("")}var lb=/<[^>]+>[^<]*/g;function k5(d){var x=[wn,Or("Properties",null,{xmlns:as.CUST_PROPS,"xmlns:vt":as.vt})];if(!d)return x.join("");var v=1;return Xr(d).forEach(function(_){++v,x[x.length]=Or("property",function(k,I){switch(typeof k){case"string":var O=Or("vt:lpwstr",Ye(k));return O=I?O.replace(/&quot;/g,"_x0022_"):O;case"number":return Or((0|k)==k?"vt:i4":"vt:r8",Ye(String(k)));case"boolean":return Or("vt:bool",k?"true":"false")}if(k instanceof Date)return Or("vt:filetime",Rf(k));throw new Error("Unable to serialize "+k)}(d[_],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:v,name:Ye(_)})}),2<x.length&&(x[x.length]="</Properties>",x[1]=x[1].replace("/>",">")),x.join("")}var P5,$x={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function cb(v){var x=v.read_shift(4),v=v.read_shift(4);return new Date(1e3*(v/1e7*Math.pow(2,32)+x/1e7-11644473600)).toISOString().replace(/\.000/,"")}function O5(d,x,v){var _=d.l,k=d.read_shift(0,"lpstr-cp");if(v)for(;d.l-_&3;)++d.l;return k}function I5(d,x,v){var _=d.read_shift(0,"lpwstr");return v&&(d.l+=4-(_.length+1&3)&3),_}function F5(d,x,v){return x===31?I5(d):O5(d,0,v)}function D5(d,x,v){return F5(d,x,v===!1?0:4)}function ub(d){for(var x,v,_,k=d.read_shift(4),I=[],O=0;O<k/2;++O)I.push((_=v=void 0,v=(x=d).l,_=zx(x,Ps),x[x.l]==0&&x[x.l+1]==0&&x.l-v&2&&(x.l+=2),[_,zx(x,hi)]));return I}function Ux(d,x){for(var v=d.read_shift(4),_={},k=0;k!=v;++k){var I=d.read_shift(4),O=d.read_shift(4);_[I]=d.read_shift(O,x===1200?"utf16le":"utf8").replace(ae,"").replace(X,"!"),x===1200&&O%2&&(d.l+=2)}return 3&d.l&&(d.l=d.l>>3<<2),_}function qm(d){var x=d.read_shift(4),v=d.slice(d.l,d.l+x);return d.l+=x,0<(3&x)&&(d.l+=4-(3&x)&3),v}function zx(d,x,v){var _,k,I=d.read_shift(2),O=v||{};if(d.l+=2,x!==Po&&I!==x&&mi.indexOf(x)===-1&&((65534&x)!=4126||(65534&I)!=4126))throw new Error("Expected type "+x+" saw "+I);switch(x===Po?I:x){case 2:return _=d.read_shift(2,"i"),O.raw||(d.l+=2),_;case 3:return _=d.read_shift(4,"i");case 11:return d.read_shift(4)!==0;case 19:return _=d.read_shift(4);case 30:return O5(d,0,4).replace(ae,"");case 31:return I5(d);case 64:return cb(d);case 65:return qm(d);case 71:return(k={}).Size=(_=d).read_shift(4),_.l+=k.Size+3-(k.Size-1)%4,k;case 80:return D5(d,I,!O.raw).replace(ae,"");case 81:return function(R,H){if(!H)throw new Error("VtUnalignedString must have positive length");return F5(R,H,0)}(d,I).replace(ae,"");case 4108:return ub(d);case 4126:case 4127:return(I==4127?function(R){for(var H=R.read_shift(4),G=[],te=0;te!=H;++te){var de=R.l;G[te]=R.read_shift(0,"lpwstr").replace(ae,""),R.l-de&2&&(R.l+=2)}return G}:function(R){for(var H=R.read_shift(4),G=[],te=0;te!=H;++te)G[te]=R.read_shift(0,"lpstr-cp").replace(ae,"");return G})(d);default:throw new Error("TypedPropertyValue unrecognized type "+x+" "+I)}}function R5(d,x){var v,_,k,I=vt(4),O=vt(4);switch(I.write_shift(4,d==80?31:d),d){case 3:O.write_shift(-4,x);break;case 5:(O=vt(8)).write_shift(8,x,"f");break;case 11:O.write_shift(4,x?1:0);break;case 64:_=(typeof(v=x)=="string"?new Date(Date.parse(v)):v).getTime()/1e3+11644473600,k=_%Math.pow(2,32),v=(_-k)/Math.pow(2,32),v*=1e7,0<(_=(k*=1e7)/Math.pow(2,32)|0)&&(k%=Math.pow(2,32),v+=_),(_=vt(8)).write_shift(4,k),_.write_shift(4,v),O=_;break;case 31:case 80:for((O=vt(4+2*(x.length+1)+(x.length%2?0:2))).write_shift(4,x.length+1),O.write_shift(0,x,"dbcs");O.l!=O.length;)O.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+d+" "+x)}return ie([I,O])}function db(d,x){for(var v=d.l,_=d.read_shift(4),k=d.read_shift(4),I=[],G=0,O=0,R=-1,H={},G=0;G!=k;++G){var te=d.read_shift(4),de=d.read_shift(4);I[G]=[te,de+v]}I.sort(function(Ee,_e){return Ee[1]-_e[1]});var fe={};for(G=0;G!=k;++G){if(d.l!==I[G][1]){var me=!0;if(0<G&&x)switch(x[I[G-1][0]].t){case 2:d.l+2===I[G][1]&&(d.l+=2,me=!1);break;case 80:case 4108:d.l<=I[G][1]&&(d.l=I[G][1],me=!1)}if((!x||G==0)&&d.l<=I[G][1]&&(me=!1,d.l=I[G][1]),me)throw new Error("Read Error: Expected address "+I[G][1]+" at "+d.l+" :"+G)}if(x){var Ae=x[I[G][0]];if(fe[Ae.n]=zx(d,Ae.t,{raw:!0}),Ae.p==="version"&&(fe[Ae.n]=String(fe[Ae.n]>>16)+"."+("0000"+String(65535&fe[Ae.n])).slice(-4)),Ae.n=="CodePage")switch(fe[Ae.n]){case 0:fe[Ae.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:h(O=fe[Ae.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+fe[Ae.n])}}else if(I[G][0]===1)O=fe.CodePage=zx(d,ca),h(O),R!==-1&&(Be=d.l,d.l=I[R][1],H=Ux(d,O),d.l=Be);else if(I[G][0]===0)O!==0?H=Ux(d,O):(R=G,d.l=I[G+1][1]);else{var ve,Be=H[I[G][0]];switch(d[d.l]){case 65:d.l+=4,ve=qm(d);break;case 30:case 31:d.l+=4,ve=D5(d,d[d.l-4]).replace(/\u0000+$/,"");break;case 3:d.l+=4,ve=d.read_shift(4,"i");break;case 19:d.l+=4,ve=d.read_shift(4);break;case 5:d.l+=4,ve=d.read_shift(8,"f");break;case 11:d.l+=4,ve=Li(d,4);break;case 64:d.l+=4,ve=Je(cb(d));break;default:throw new Error("unparsed value: "+d[d.l])}fe[Be]=ve}}return d.l=v+_,fe}var M5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function L5(d,x,v){var _,k,I,O,R=vt(8),H=[],G=[],te=8,de=0,fe=vt(8),me=vt(8);if(fe.write_shift(4,2),fe.write_shift(4,1200),me.write_shift(4,1),G.push(fe),H.push(me),te+=8+fe.length,!x){(me=vt(8)).write_shift(4,0),H.unshift(me);var Ae=[vt(4)];for(Ae[0].write_shift(4,d.length),de=0;de<d.length;++de){var ve=d[de][0];for((fe=vt(8+2*(ve.length+1)+(ve.length%2?0:2))).write_shift(4,de+2),fe.write_shift(4,ve.length+1),fe.write_shift(0,ve,"dbcs");fe.l!=fe.length;)fe.write_shift(1,0);Ae.push(fe)}fe=ie(Ae),G.unshift(fe),te+=8+fe.length}for(de=0;de<d.length;++de)x&&!x[d[de][0]]||-1<M5.indexOf(d[de][0])||-1<Lx.indexOf(d[de][0])||d[de][1]!=null&&(I=d[de][1],_=0,fe=x?((O=v[_=+x[d[de][0]]]).p=="version"&&typeof I=="string"&&(I=(+(k=I.split("."))[0]<<16)+(+k[1]||0)),R5(O.t,I)):((O=function(Ee){switch(typeof Ee){case"boolean":return 11;case"number":return(0|Ee)==Ee?3:5;case"string":return 31;case"object":if(Ee instanceof Date)return 64}return-1}(I))==-1&&(O=31,I=String(I)),R5(O,I)),G.push(fe),(me=vt(8)).write_shift(4,x?_:2+de),H.push(me),te+=8+fe.length);for(var Be=8*(G.length+1),de=0;de<G.length;++de)H[de].write_shift(4,Be),Be+=G[de].length;return R.write_shift(4,te),R.write_shift(4,G.length),ie([R].concat(H).concat(G))}function B5(d,x,v){var _=d.content;if(!_)return{};qt(_,0);var k,I=0;_.chk("feff","Byte Order: "),_.read_shift(2);var O=_.read_shift(4),R=_.read_shift(16);if(R!==yr.utils.consts.HEADER_CLSID&&R!==v)throw new Error("Bad PropertySet CLSID "+R);if((d=_.read_shift(4))!==1&&d!==2)throw new Error("Unrecognized #Sets: "+d);if(v=_.read_shift(16),R=_.read_shift(4),d===1&&R!==_.l)throw new Error("Length mismatch: "+R+" !== "+_.l);d===2&&(k=_.read_shift(16),I=_.read_shift(4));var H,G,te=db(_,x),de={SystemIdentifier:O};for(H in te)de[H]=te[H];if(de.FMTID=v,d===1)return de;if(I-_.l==2&&(_.l+=2),_.l!==I)throw new Error("Length mismatch 2: "+_.l+" !== "+I);try{G=db(_,null)}catch{}for(H in G)de[H]=G[H];return de.FMTID=[v,k],de}function $5(d,x,v,_,k,I){var O=vt(k?68:48),R=[O];return O.write_shift(2,65534),O.write_shift(2,0),O.write_shift(4,842412599),O.write_shift(16,yr.utils.consts.HEADER_CLSID,"hex"),O.write_shift(4,k?2:1),O.write_shift(16,x,"hex"),O.write_shift(4,k?68:48),_=L5(d,v,_),R.push(_),k&&(k=L5(k,null,null),O.write_shift(16,I,"hex"),O.write_shift(4,68+_.length),R.push(k)),ie(R)}function xc(d,x){return d.read_shift(x),null}function Li(d,x){return d.read_shift(x)===1}function Hs(d,x){return(x=x||vt(2)).write_shift(2,+!!d),x}function Oo(d){return d.read_shift(2,"u")}function hu(d,x){return(x=x||vt(2)).write_shift(2,d),x}function $f(d,x){return function(v,_,k){for(var I=[],O=v.l+_;v.l<O;)I.push(k(v,O-v.l));if(O!==v.l)throw new Error("Slurp error");return I}(d,x,Oo)}function mu(d,x,v){return(v=v||vt(2)).write_shift(1,x=="e"?+d:+!!d),v.write_shift(1,x=="e"?1:0),v}function D1(d,x,v){var _=d.read_shift(v&&12<=v.biff?2:1),k="sbcs-cont",I=o;return v&&8<=v.biff&&(o=1200),v&&v.biff!=8?v.biff==12&&(k="wstr"):d.read_shift(1)&&(k="dbcs-cont"),2<=v.biff&&v.biff<=5&&(k="cpstr"),k=_?d.read_shift(_,k):"",o=I,k}function L0(d,x,v){if(v){if(2<=v.biff&&v.biff<=5)return d.read_shift(x,"cpstr");if(12<=v.biff)return d.read_shift(x,"dbcs-cont")}return d.read_shift(1)===0?d.read_shift(x,"sbcs-cont"):d.read_shift(x,"dbcs-cont")}function Gm(d,x,v){var _=d.read_shift(v&&v.biff==2?1:2);return _===0?(d.l++,""):L0(d,_,v)}function Wh(d,x,v){if(5<v.biff)return Gm(d,0,v);var _=d.read_shift(1);return _===0?(d.l++,""):d.read_shift(_,v.biff<=4||!d.lens?"cpstr":"sbcs-cont")}function fb(d,x,v){return(v=v||vt(3+2*d.length)).write_shift(2,d.length),v.write_shift(1,1),v.write_shift(31,d,"utf16le"),v}function U5(d){var x,v,_,k,I=d.read_shift(16);switch(I){case"e0c9ea79f9bace118c8200aa004ba90b":return v=(x=d).read_shift(4),_=x.l,k=!1,24<v&&(x.l+=v-24,x.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(k=!0),x.l=_),v=x.read_shift((k?v-24:v)>>1,"utf16le").replace(ae,""),k&&(x.l+=24),v;case"0303000000000000c000000000000046":return function(O){for(var R=O.read_shift(2),H="";0<R--;)H+="../";var G=O.read_shift(0,"lpstr-ansi");if(O.l+=2,O.read_shift(2)!=57005)throw new Error("Bad FileMoniker");if(O.read_shift(4)===0)return H+G.replace(/\\/g,"/");if(G=O.read_shift(4),O.read_shift(2)!=3)throw new Error("Bad FileMoniker");return H+O.read_shift(G>>1,"utf16le").replace(ae,"")}(d);default:throw new Error("Unsupported Moniker "+I)}}function Vx(d){var x=d.read_shift(4);return 0<x?d.read_shift(x,"utf16le").replace(ae,""):""}function R1(d,x){(x=x||vt(6+2*d.length)).write_shift(4,1+d.length);for(var v=0;v<d.length;++v)x.write_shift(2,d.charCodeAt(v));return x.write_shift(2,0),x}function M1(d){return[d.read_shift(1),d.read_shift(1),d.read_shift(1),d.read_shift(1)]}function Km(d){return d=M1(d),d[3]=0,d}function Wu(d){return{r:d.read_shift(2),c:d.read_shift(2),ixfe:d.read_shift(2)}}function Hh(d,x,v,_){return(_=_||vt(6)).write_shift(2,d),_.write_shift(2,x),_.write_shift(2,v||0),_}function z5(d){return[d.read_shift(2),tt(d)]}function L1(d){var x=d.read_shift(2),v=d.read_shift(2);return{s:{c:d.read_shift(2),r:x},e:{c:d.read_shift(2),r:v}}}function V5(d,x){return(x=x||vt(8)).write_shift(2,d.s.r),x.write_shift(2,d.e.r),x.write_shift(2,d.s.c),x.write_shift(2,d.e.c),x}function W5(d){var x=d.read_shift(2),v=d.read_shift(2);return{s:{c:d.read_shift(1),r:x},e:{c:d.read_shift(1),r:v}}}var M6=W5;function H5(d){d.l+=4;var x=d.read_shift(2),v=d.read_shift(2),_=d.read_shift(2);return d.l+=12,[v,x,_]}function Xl(d){d.l+=2,d.l+=d.read_shift(2)}var L6={0:Xl,4:Xl,5:Xl,6:Xl,7:function(d){return d.l+=4,d.cf=d.read_shift(2),{}},8:Xl,9:Xl,10:Xl,11:Xl,12:Xl,13:function(d){var x={};return d.l+=4,d.l+=16,x.fSharedNote=d.read_shift(2),d.l+=4,x},14:Xl,15:Xl,16:Xl,17:Xl,18:Xl,19:Xl,20:Xl,21:H5};function B1(d,x){var v={BIFFVer:0,dt:0};switch(v.BIFFVer=d.read_shift(2),2<=(x-=2)&&(v.dt=d.read_shift(2),d.l-=2),v.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(6<x)throw new Error("Unexpected BIFF Ver "+v.BIFFVer)}return d.read_shift(x),v}function Ym(d,x,v){var _=1536,k=16;switch(v.bookType){case"biff8":break;case"biff5":_=1280,k=8;break;case"biff4":_=4,k=6;break;case"biff3":_=3,k=6;break;case"biff2":_=2,k=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}return v=vt(k),v.write_shift(2,_),v.write_shift(2,x),4<k&&v.write_shift(2,29282),6<k&&v.write_shift(2,1997),8<k&&(v.write_shift(2,49161),v.write_shift(2,1),v.write_shift(2,1798),v.write_shift(2,0)),v}function B6(d){var x=vt(8);x.write_shift(4,d.Count),x.write_shift(4,d.Unique);for(var v,_,k,I=[],O=0;O<d.length;++O)I[O]=(v=d[O],k=_=void 0,_=v.t||"",(k=vt(3)).write_shift(2,_.length),k.write_shift(1,1),(v=vt(2*_.length)).write_shift(2*_.length,_,"utf16le"),ie([k,v]));var R=ie([x].concat(I));return R.parts=[x.length].concat(I.map(function(H){return H.length})),R}function q5(d,x,v){var _=0;return v&&v.biff==2||(_=d.read_shift(2)),d=d.read_shift(2),v&&v.biff==2&&(_=1-(d>>15),d&=32767),[{Unsynced:1&_,DyZero:(2&_)>>1,ExAsc:(4&_)>>2,ExDsc:(8&_)>>3},d]}var nv=Wh;function hb(d,I,O){var _=d.l+I,R=O.biff!=8&&O.biff?2:4,k=d.read_shift(R),I=d.read_shift(R),O=d.read_shift(2),R=d.read_shift(2);return d.l=_,{s:{r:k,c:O},e:{r:I,c:R}}}function U(d,x,v,_){return v=v&&v.biff==5,(_=_||vt(v?16:20)).write_shift(2,0),d.style?(_.write_shift(2,d.numFmtId||0),_.write_shift(2,65524)):(_.write_shift(2,d.numFmtId||0),_.write_shift(2,x<<4)),x=0,0<d.numFmtId&&v&&(x|=1024),_.write_shift(4,x),_.write_shift(4,0),v||_.write_shift(4,0),_.write_shift(2,0),_}function Y(d,x,v){var _=Wu(d);return v.biff!=2&&x!=9||++d.l,d=(x=d).read_shift(1),d=x.read_shift(1)===1?d:d===1,_.val=d,_.t=d===!0||d===!1?"b":"e",_}function ue(d,x,v){return x===0?"":Wh(d,0,v)}function ye(d,x,v){var _,k=d.read_shift(2),k={fBuiltIn:1&k,fWantAdvise:k>>>1&1,fWantPict:k>>>2&1,fOle:k>>>3&1,fOleLink:k>>>4&1,cf:k>>>5&1023,fIcon:k>>>15&1};return v.sbcch===14849&&(_=function(I,G,R){I.l+=4,G-=4;var H=I.l+G,G=D1(I,0,R);if((R=I.read_shift(2))!==(H-=I.l))throw new Error("Malformed AddinUdf: padding = "+H+" != "+R);return I.l+=R,G}(d,x-2,v)),k.body=_||d.read_shift(x-2),typeof _=="string"&&(k.Name=_),k}var Pe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Re(d,H,v){var _=d.l+H,k=d.read_shift(2),I=d.read_shift(1),O=d.read_shift(1),R=d.read_shift(v&&v.biff==2?1:2),H=0;return(!v||5<=v.biff)&&(v.biff!=5&&(d.l+=2),H=d.read_shift(2),v.biff==5&&(d.l+=2),d.l+=4),O=L0(d,O,v),32&k&&(O=Pe[O.charCodeAt(0)]),k=_-d.l,v&&v.biff==2&&--k,{chKey:I,Name:O,itab:H,rgce:_!=d.l&&R!==0&&0<k?function(G,Ae,de,ve){var me,Ae=G.l+Ae,ve=Eb(G,ve,de);return Ae!==G.l&&(me=jb(G,Ae-G.l,ve,de)),[ve,me]}(d,k,v,R):[]}}function $e(d,x,v){if(v.biff<8)return function(R,H){return R[R.l+1]==3&&R[R.l]++,H=D1(R,0,H),H.charCodeAt(0)==3?H.slice(1):H}(d,v);for(var _,k,I=[],x=d.l+x,O=d.read_shift(8<v.biff?4:2);O--!=0;)I.push((_=d,v.biff,k=8<(k=v).biff?4:2,[_.read_shift(k),_.read_shift(k,"i"),_.read_shift(k,"i")]));if(d.l!=x)throw new Error("Bad ExternSheet: "+d.l+" != "+x);return I}function Ve(d,x,v){var _=M6(d);switch(v.biff){case 2:d.l++,x-=7;break;case 3:case 4:d.l+=2,x-=8;break;default:d.l+=6,x-=12}return[_,function(k,I,O){var R,H=k.l+I,G=O.biff==2?1:2,te=k.read_shift(G);if(te==65535)return[[],nr(k,I-2)];var de=Eb(k,te,O);return I!==te+G&&(R=jb(k,I-te-G,de,O)),k.l=H,[de,R]}(d,x,v)]}var Ke={8:function(d,x){var v=d.l+x;d.l+=10;var _=d.read_shift(2);return d.l+=4,d.l+=2,d.l+=2,d.l+=2,d.l+=4,x=d.read_shift(1),d.l+=x,d.l=v,{fmt:_}}};function rt(d){var x=vt(24),v=ni(d[0]);x.write_shift(2,v.r),x.write_shift(2,v.r),x.write_shift(2,v.c),x.write_shift(2,v.c);for(var _="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),k=0;k<16;++k)x.write_shift(1,parseInt(_[k],16));return ie([x,function(I){var O=vt(512),R=0,H=I.Target,G=-1<(I=(H=H.slice(0,7)=="file://"?H.slice(7):H).indexOf("#"))?31:23;switch(H.charAt(0)){case"#":G=28;break;case".":G&=-3}O.write_shift(4,2),O.write_shift(4,G);for(var te=[8,6815827,6619237,4849780,83],R=0;R<te.length;++R)O.write_shift(4,te[R]);if(G==28)R1(H=H.slice(1),O);else if(2&G){for(te="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),R=0;R<te.length;++R)O.write_shift(1,parseInt(te[R],16));var de=-1<I?H.slice(0,I):H;for(O.write_shift(4,2*(de.length+1)),R=0;R<de.length;++R)O.write_shift(2,de.charCodeAt(R));O.write_shift(2,0),8&G&&R1(-1<I?H.slice(I+1):"",O)}else{for(te="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),R=0;R<te.length;++R)O.write_shift(1,parseInt(te[R],16));for(var fe=0;H.slice(3*fe,3*fe+3)=="../"||H.slice(3*fe,3*fe+3)=="..\\";)++fe;for(O.write_shift(2,fe),O.write_shift(4,H.length-3*fe+1),R=0;R<H.length-3*fe;++R)O.write_shift(1,255&H.charCodeAt(R+3*fe));for(O.write_shift(1,0),O.write_shift(2,65535),O.write_shift(2,57005),R=0;R<6;++R)O.write_shift(4,0)}return O.slice(0,O.l)}(d[1])])}function xt(d,H,v){if(!v.cellStyles)return nr(d,H);var _=v&&12<=v.biff?4:2,k=d.read_shift(_),I=d.read_shift(_),O=d.read_shift(_),R=d.read_shift(_),H=d.read_shift(2);return _==2&&(d.l+=2),R={s:k,e:I,w:O,ixfe:R,flags:H},(5<=v.biff||!v.biff)&&(R.level=H>>8&7),R}var It=Wu,Ft=$f,xT=Gm,At,hr,Xt,yt=[2,3,48,49,131,139,140,245],_t=(At={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},hr=Ti({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127}),Xt={B:8,C:250,L:1,D:8,"?":0,"":0},{to_workbook:function(d,x){try{return Kl(ur(d,x),x)}catch(v){if(x&&x.WTF)throw v}return{SheetNames:[],Sheets:{}}},to_sheet:ur,from_sheet:function(d,x){if(0<=+(x=x||{}).codepage&&h(+x.codepage),x.type=="string")throw new Error("Cannot write DBF to JS string");for(var v=Vn(),_=(x=h3(d,{header:1,raw:!0,cellDates:!0}))[0],k=x.slice(1),I=d["!cols"]||[],G=0,O=0,R=0,H=1,G=0;G<_.length;++G)if(((I[G]||{}).DBF||{}).name)_[G]=I[G].DBF.name,++R;else if(_[G]!=null){if(++R,typeof _[G]=="number"&&(_[G]=_[G].toString(10)),typeof _[G]!="string")throw new Error("DBF Invalid column name "+_[G]+" |"+typeof _[G]+"|");if(_.indexOf(_[G])!==G){for(O=0;O<1024;++O)if(_.indexOf(_[G]+"_"+O)==-1){_[G]+="_"+O;break}}}var te=Ia(d["!ref"]),de=[],fe=[],me=[];for(G=0;G<=te.e.c-te.s.c;++G){for(var Ae="",ve="",Be=0,Ee=[],O=0;O<k.length;++O)k[O][G]!=null&&Ee.push(k[O][G]);if(Ee.length!=0&&_[G]!=null){for(O=0;O<Ee.length;++O){switch(typeof Ee[O]){case"number":ve="B";break;case"string":ve="C";break;case"boolean":ve="L";break;case"object":ve=Ee[O]instanceof Date?"D":"C";break;default:ve="C"}Be=Math.max(Be,String(Ee[O]).length),Ae=Ae&&Ae!=ve?"C":ve}250<Be&&(Be=250),(ve=((I[G]||{}).DBF||{}).type)=="C"&&I[G].DBF.len>Be&&(Be=I[G].DBF.len),Ae=="B"&&ve=="N"&&(Ae="N",me[G]=I[G].DBF.dec,Be=I[G].DBF.len),fe[G]=Ae=="C"||ve=="N"?Be:Xt[Ae]||0,H+=fe[G],de[G]=Ae}else de[G]="?"}var _e,Me,He=v.next(32);for(He.write_shift(4,318902576),He.write_shift(4,k.length),He.write_shift(2,296+32*R),He.write_shift(2,H),G=0;G<4;++G)He.write_shift(4,0);for(He.write_shift(4,0|(+hr[l]||3)<<8),O=G=0;G<_.length;++G)_[G]!=null&&(_e=v.next(32),Me=(_[G].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11),_e.write_shift(1,Me,"sbcs"),_e.write_shift(1,de[G]=="?"?"C":de[G],"sbcs"),_e.write_shift(4,O),_e.write_shift(1,fe[G]||Xt[de[G]]||0),_e.write_shift(1,me[G]||0),_e.write_shift(1,2),_e.write_shift(4,0),_e.write_shift(1,0),_e.write_shift(4,0),_e.write_shift(4,0),O+=fe[G]||Xt[de[G]]||0);var qe=v.next(264);for(qe.write_shift(4,13),G=0;G<65;++G)qe.write_shift(4,0);for(G=0;G<k.length;++G){var ft=v.next(H);for(ft.write_shift(1,0),O=0;O<_.length;++O)if(_[O]!=null)switch(de[O]){case"L":ft.write_shift(1,k[G][O]==null?63:k[G][O]?84:70);break;case"B":ft.write_shift(8,k[G][O]||0,"f");break;case"N":var Et="0";for(typeof k[G][O]=="number"&&(Et=k[G][O].toFixed(me[O]||0)),R=0;R<fe[O]-Et.length;++R)ft.write_shift(1,32);ft.write_shift(1,Et,"sbcs");break;case"D":k[G][O]?(ft.write_shift(4,("0000"+k[G][O].getFullYear()).slice(-4),"sbcs"),ft.write_shift(2,("00"+(k[G][O].getMonth()+1)).slice(-2),"sbcs"),ft.write_shift(2,("00"+k[G][O].getDate()).slice(-2),"sbcs")):ft.write_shift(8,"00000000","sbcs");break;case"C":var bt=String(k[G][O]!=null?k[G][O]:"").slice(0,fe[O]);for(ft.write_shift(1,bt,"sbcs"),R=0;R<fe[O]-bt.length;++R)ft.write_shift(1,32)}}return v.next(1).write_shift(1,26),v.end()}});function ur(d,x){return x=x||{},x.dateNF||(x.dateNF="yyyymmdd"),d=uu(function(v,_){var k=[],I=M(1);switch(_.type){case"base64":I=z(F(v));break;case"binary":I=z(v);break;case"buffer":case"array":I=v}qt(I,0);var O=I.read_shift(1),R=!!(136&O),H=!1,G=!1;switch(O){case 2:case 3:break;case 48:case 49:R=H=!0;break;case 131:case 139:break;case 140:G=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+O.toString(16))}var te=0,de=521;O==2&&(te=I.read_shift(2)),I.l+=3,1048576<(te=O!=2?I.read_shift(4):te)&&(te=1e6),O!=2&&(de=I.read_shift(2));var fe=I.read_shift(2),me=_.codepage||1252;O!=2&&(I.l+=16,I.read_shift(1),I[I.l]!==0&&(me=At[I[I.l]]),I.l+=1,I.l+=2),G&&(I.l+=36);for(var Ae=[],ve={},Be=Math.min(I.length,O==2?521:de-10-(H?264:0)),Ee=G?32:11;I.l<Be&&I[I.l]!=13;)switch((ve={}).name=a.utils.decode(me,I.slice(I.l,I.l+Ee)).replace(/[\u0000\r\n].*$/g,""),I.l+=Ee,ve.type=String.fromCharCode(I.read_shift(1)),O==2||G||(ve.offset=I.read_shift(4)),ve.len=I.read_shift(1),O==2&&(ve.offset=I.read_shift(2)),ve.dec=I.read_shift(1),ve.name.length&&Ae.push(ve),O!=2&&(I.l+=G?13:14),ve.type){case"B":H&&ve.len==8||!_.WTF||console.log("Skipping "+ve.name+":"+ve.type);break;case"G":case"P":_.WTF&&console.log("Skipping "+ve.name+":"+ve.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ve.type)}if(I[I.l]!==13&&(I.l=de-1),I.read_shift(1)!==13)throw new Error("DBF Terminator not found "+I.l+" "+I[I.l]);I.l=de;var _e=0,Me=0;for(k[0]=[],Me=0;Me!=Ae.length;++Me)k[0][Me]=Ae[Me].name;for(;0<te--;)if(I[I.l]!==42)for(++I.l,k[++_e]=[],Me=Me=0;Me!=Ae.length;++Me){var He=I.slice(I.l,I.l+Ae[Me].len);I.l+=Ae[Me].len,qt(He,0);var qe=a.utils.decode(me,He);switch(Ae[Me].type){case"C":qe.trim().length&&(k[_e][Me]=qe.replace(/\s+$/,""));break;case"D":qe.length===8?k[_e][Me]=new Date(+qe.slice(0,4),+qe.slice(4,6)-1,+qe.slice(6,8)):k[_e][Me]=qe;break;case"F":k[_e][Me]=parseFloat(qe.trim());break;case"+":case"I":k[_e][Me]=G?2147483648^He.read_shift(-4,"i"):He.read_shift(4,"i");break;case"L":switch(qe.trim().toUpperCase()){case"Y":case"T":k[_e][Me]=!0;break;case"N":case"F":k[_e][Me]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+qe+"|")}break;case"M":if(!R)throw new Error("DBF Unexpected MEMO for type "+O.toString(16));k[_e][Me]="##MEMO##"+(G?parseInt(qe.trim(),10):He.read_shift(4));break;case"N":(qe=qe.replace(/\u0000/g,"").trim())&&qe!="."&&(k[_e][Me]=+qe||0);break;case"@":k[_e][Me]=new Date(He.read_shift(-8,"f")-621356832e5);break;case"T":k[_e][Me]=new Date(864e5*(He.read_shift(4)-2440588)+He.read_shift(4));break;case"Y":k[_e][Me]=He.read_shift(4,"i")/1e4+He.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":k[_e][Me]=-He.read_shift(-8,"f");break;case"B":if(H&&Ae[Me].len==8){k[_e][Me]=He.read_shift(8,"f");break}case"G":case"P":He.l+=Ae[Me].len;break;case"0":if(Ae[Me].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Ae[Me].type)}}else I.l+=fe;if(O!=2&&I.l<I.length&&I[I.l++]!=26)throw new Error("DBF EOF Marker missing "+(I.l-1)+" of "+I.length+" "+I[I.l-1].toString(16));return _&&_.sheetRows&&(k=k.slice(0,_.sheetRows)),_.DBF=Ae,k}(d,x),x),d["!cols"]=x.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete x.DBF,d}var gr,fr,fn,rn,ia=(gr={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},fr=new RegExp("\x1BN("+Xr(gr).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),fn=function(d,x){return x=gr[x],typeof x=="number"?C(x):x},rn=function(d,x,v){return v=x.charCodeAt(0)-32<<4|v.charCodeAt(0)-48,v==59?d:C(v)},gr["|"]=254,{to_workbook:function(d,x){return Kl(Oi(d,x),x)},to_sheet:Oi,from_sheet:function(d,x){var v,_,k=["ID;PWXL;N;E"],I=[],O=Ia(d["!ref"]),R=Array.isArray(d),H=`\r
`;k.push("P;PGeneral"),k.push("F;P0;DG0G8;M255"),d["!cols"]&&(v=k,d["!cols"].forEach(function(fe,me){me="F;W"+(me+1)+" "+(me+1)+" ",fe.hidden?me+="0":(typeof fe.width!="number"||fe.wpx||(fe.wpx=Qm(fe.width)),typeof fe.wpx!="number"||fe.wch||(fe.wch=H1(fe.wpx)),typeof fe.wch=="number"&&(me+=Math.round(fe.wch))),me.charAt(me.length-1)!=" "&&v.push(me)})),d["!rows"]&&(_=k,d["!rows"].forEach(function(fe,me){var Ae="F;";fe.hidden?Ae+="M0;":fe.hpt?Ae+="M"+20*fe.hpt+";":fe.hpx&&(Ae+="M"+20*Nb(fe.hpx)+";"),2<Ae.length&&_.push(Ae+"R"+(me+1))})),k.push("B;Y"+(O.e.r-O.s.r+1)+";X"+(O.e.c-O.s.c+1)+";D"+[O.s.c,O.s.r,O.e.c,O.e.r].join(" "));for(var G=O.s.r;G<=O.e.r;++G)for(var te=O.s.c;te<=O.e.c;++te){var de=kn({r:G,c:te});(de=R?(d[G]||[])[te]:d[de])&&(de.v!=null||de.f&&!de.F)&&I.push(function(fe,me,Ae){var ve="C;Y"+(me+1)+";X"+(Ae+1)+";K";switch(fe.t){case"n":ve+=fe.v||0,fe.f&&!fe.F&&(ve+=";E"+K6(fe.f,{r:me,c:Ae}));break;case"b":ve+=fe.v?"TRUE":"FALSE";break;case"e":ve+=fe.w||fe.v;break;case"d":ve+='"'+(fe.w||fe.v)+'"';break;case"s":ve+='"'+fe.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return ve}(de,G,te))}return k.join(H)+H+I.join(H)+H+"E"+H}});function nn(fe,x){var v,_,k=fe.split(/[\n\r]+/),I=-1,O=-1,R=0,H=0,G=[],te=[],de=null,fe={},me=[],Ae=[],ve=0;for(0<=+x.codepage&&h(+x.codepage);R!==k.length;++R){ve=0;var Be,Ee=k[R].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,rn).replace(fr,fn),_e=Ee.replace(/;;/g,"\0").split(";").map(function(Er){return Er.replace(/\u0000/g,";")}),Me=_e[0];if(0<Ee.length)switch(Me){case"ID":case"E":case"B":case"O":case"W":break;case"P":_e[1].charAt(0)=="P"&&te.push(Ee.slice(3).replace(/;;/g,";"));break;case"C":for(var He=!1,qe=!1,ft=!1,Et=!1,bt=-1,Ut=-1,H=1;H<_e.length;++H)switch(_e[H].charAt(0)){case"A":break;case"X":O=parseInt(_e[H].slice(1))-1,qe=!0;break;case"Y":for(I=parseInt(_e[H].slice(1))-1,qe||(O=0),_=G.length;_<=I;++_)G[_]=[];break;case"K":(Be=_e[H].slice(1)).charAt(0)==='"'?Be=Be.slice(1,Be.length-1):Be==="TRUE"?Be=!0:Be==="FALSE"?Be=!1:isNaN(St(Be))?isNaN(Mt(Be).getDate())||(Be=Je(Be)):(Be=St(Be),de!==null&&na(de)&&(Be=Fe(Be))),a!==void 0&&typeof Be=="string"&&(x||{}).type!="string"&&(x||{}).codepage&&(Be=a.utils.decode(x.codepage,Be)),He=!0;break;case"E":Et=!0;var cr=ev(_e[H].slice(1),{r:I,c:O});G[I][O]=[G[I][O],cr];break;case"S":ft=!0,G[I][O]=[G[I][O],"S5S"];break;case"G":break;case"R":bt=parseInt(_e[H].slice(1))-1;break;case"C":Ut=parseInt(_e[H].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+Ee)}if(He&&(G[I][O]&&G[I][O].length==2?G[I][O][0]=Be:G[I][O]=Be,de=null),ft){if(Et)throw new Error("SYLK shared formula cannot have own formula");var dr=-1<bt&&G[bt][Ut];if(!dr||!dr[1])throw new Error("SYLK shared formula cannot find base");G[I][O][1]=a9(dr[1],{r:I-bt,c:O-Ut})}break;case"F":var Gt=0;for(H=1;H<_e.length;++H)switch(_e[H].charAt(0)){case"X":O=parseInt(_e[H].slice(1))-1,++Gt;break;case"Y":for(I=parseInt(_e[H].slice(1))-1,_=G.length;_<=I;++_)G[_]=[];break;case"M":ve=parseInt(_e[H].slice(1))/20;break;case"F":case"G":break;case"P":de=te[parseInt(_e[H].slice(1))];break;case"S":case"D":case"N":break;case"W":for(v=_e[H].slice(1).split(" "),_=parseInt(v[0],10);_<=parseInt(v[1],10);++_)ve=parseInt(v[2],10),Ae[_-1]=ve===0?{hidden:!0}:{wch:ve},tp(Ae[_-1]);break;case"C":Ae[O=parseInt(_e[H].slice(1))-1]||(Ae[O]={});break;case"R":me[I=parseInt(_e[H].slice(1))-1]||(me[I]={}),0<ve?(me[I].hpt=ve,me[I].hpx=Zx(ve)):ve===0&&(me[I].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+Ee)}Gt<1&&(de=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+Ee)}}return 0<me.length&&(fe["!rows"]=me),0<Ae.length&&(fe["!cols"]=Ae),[G=x&&x.sheetRows?G.slice(0,x.sheetRows):G,fe]}function Oi(_,x){var v=function(O,R){switch(R.type){case"base64":return nn(F(O),R);case"binary":return nn(O,R);case"buffer":return nn(L&&Buffer.isBuffer(O)?O.toString("binary"):K(O),R);case"array":return nn(it(O),R)}throw new Error("Unrecognized type "+R.type)}(_,x),_=v[0],k=v[1],I=uu(_,x);return Xr(k).forEach(function(O){I[O]=k[O]}),I}var Hi={to_workbook:function(d,x){return Kl(ai(d,x),x)},to_sheet:ai,from_sheet:function(d){var x=[],v=Ia(d["!ref"]),_=Array.isArray(d);qi(x,"TABLE",0,1,"sheetjs"),qi(x,"VECTORS",0,v.e.r-v.s.r+1,""),qi(x,"TUPLES",0,v.e.c-v.s.c+1,""),qi(x,"DATA",0,0,"");for(var k=v.s.r;k<=v.e.r;++k){ii(x,-1,0,"BOT");for(var I=v.s.c;I<=v.e.c;++I){var O,R=kn({r:k,c:I});if(O=_?(d[k]||[])[I]:d[R])switch(O.t){case"n":var H=O.w;(H=!H&&O.v!=null?O.v:H)==null?O.f&&!O.F?ii(x,1,0,"="+O.f):ii(x,1,0,""):ii(x,0,H,"V");break;case"b":ii(x,0,O.v?1:0,O.v?"TRUE":"FALSE");break;case"s":ii(x,1,0,isNaN(O.v)?O.v:'="'+O.v+'"');break;case"d":O.w||(O.w=An(O.z||ee[14],sa(Je(O.v)))),ii(x,0,O.w,"V");break;default:ii(x,1,0,"")}else ii(x,1,0,"")}}return ii(x,-1,0,"EOD"),x.join(`\r
`)}};function oi(d,x){for(var v=d.split(`
`),_=-1,k=-1,I=0,O=[];I!==v.length;++I)if(v[I].trim()!=="BOT"){if(!(_<0)){for(var R=v[I].trim().split(","),H=R[0],G=R[1],te=v[++I]||"";1&(te.match(/["]/g)||[]).length&&I<v.length-1;)te+=`
`+v[++I];switch(te=te.trim(),+H){case-1:if(te==="BOT"){O[++_]=[],k=0;continue}if(te!=="EOD")throw new Error("Unrecognized DIF special command "+te);break;case 0:te==="TRUE"?O[_][k]=!0:te==="FALSE"?O[_][k]=!1:isNaN(St(G))?isNaN(Mt(G).getDate())?O[_][k]=G:O[_][k]=Je(G):O[_][k]=St(G),++k;break;case 1:te=(te=te.slice(1,te.length-1)).replace(/""/g,'"'),te&&te.match(/^=".*"$/)&&(te=te.slice(2,-1)),O[_][k++]=te!==""?te:null}if(te==="EOD")break}}else O[++_]=[],k=0;return O=x&&x.sheetRows?O.slice(0,x.sheetRows):O}function ai(d,x){return uu(function(v,_){switch(_.type){case"base64":return oi(F(v),_);case"binary":return oi(v,_);case"buffer":return oi(L&&Buffer.isBuffer(v)?v.toString("binary"):K(v),_);case"array":return oi(it(v),_)}throw new Error("Unrecognized type "+_.type)}(d,x),x)}function qi(d,x,v,_,k){d.push(x),d.push(v+","+_),d.push('"'+k.replace(/"/g,'""')+'"')}function ii(d,x,v,_){d.push(x+","+v),d.push(x==1?'"'+_.replace(/"/g,'""')+'"':_)}var Fa,io,vc,go,yc=(Fa=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),io=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,vc=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),go="--SocialCalcSpreadsheetControlSave--",{to_workbook:function(d,x){return Kl(Rc(d,x),x)},to_sheet:Rc,from_sheet:function(d){return[Fa,io,vc,io,function(x){if(!x||!x["!ref"])return"";for(var v,_,k=[],I=[],O=no(x["!ref"]),R=Array.isArray(x),H=O.s.r;H<=O.e.r;++H)for(var G=O.s.c;G<=O.e.c;++G)if(_=kn({r:H,c:G}),(v=R?(x[H]||[])[G]:x[_])&&v.v!=null&&v.t!=="z"){switch(I=["cell",_,"t"],v.t){case"s":case"str":I.push(Bi(v.v));break;case"n":v.f?(I[2]="vtf",I[3]="n",I[4]=v.v,I[5]=Bi(v.f)):(I[2]="v",I[3]=v.v);break;case"b":I[2]="vt"+(v.f?"f":"c"),I[3]="nl",I[4]=v.v?"1":"0",I[5]=Bi(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var te=sa(Je(v.v));I[2]="vtc",I[3]="nd",I[4]=""+te,I[5]=v.w||An(v.z||ee[14],te);break;case"e":continue}k.push(I.join(":"))}return k.push("sheet:c:"+(O.e.c-O.s.c+1)+":r:"+(O.e.r-O.s.r+1)+":tvf:1"),k.push("valueformat:1:text-wiki"),k.join(`
`)}(d),go].join(`
`)}});function Bi(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function Rc(d,x){return uu(function(v,_){for(var k,I=v.split(`
`),O=-1,R=0,H=[];R!==I.length;++R){var G=I[R].trim().split(":");if(G[0]==="cell"){var te=ni(G[1]);if(H.length<=te.r)for(O=H.length;O<=te.r;++O)H[O]||(H[O]=[]);switch(O=te.r,k=te.c,G[2]){case"t":H[O][k]=G[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`);break;case"v":H[O][k]=+G[3];break;case"vtf":var de=G[G.length-1];case"vtc":G[3]==="nl"?H[O][k]=!!+G[4]:H[O][k]=+G[4],G[2]=="vtf"&&(H[O][k]=[H[O][k],de])}}}return H=_&&_.sheetRows?H.slice(0,_.sheetRows):H}(d,x),x)}var bc,xo,so=(bc={44:",",9:"	",59:";",124:"|"},xo={44:3,9:2,59:1,124:0},{to_workbook:function(d,x){return Kl(rf(d,x),x)},to_sheet:rf,from_sheet:function(d){for(var x=[],v=Ia(d["!ref"]),_=Array.isArray(d),k=v.s.r;k<=v.e.r;++k){for(var I=[],O=v.s.c;O<=v.e.c;++O){var R=kn({r:k,c:O});if((R=_?(d[k]||[])[O]:d[R])&&R.v!=null){for(var H=(R.w||(Gl(R),R.w)||"").slice(0,10);H.length<10;)H+=" ";I.push(H+(O===0?" ":""))}else I.push("          ")}x.push(I.join(""))}return x.join(`
`)}});function Jl(d,x,v,_,k){k.raw?x[v][_]=d:d===""||(d==="TRUE"?x[v][_]=!0:d==="FALSE"?x[v][_]=!1:isNaN(St(d))?isNaN(Mt(d).getDate())?x[v][_]=d:x[v][_]=Je(d):x[v][_]=St(d))}function pu(d){for(var x={},v=!1,_=0,k=0;_<d.length;++_)(k=d.charCodeAt(_))==34?v=!v:!v&&k in bc&&(x[k]=(x[k]||0)+1);for(_ in k=[],x)Object.prototype.hasOwnProperty.call(x,_)&&k.push([x[_],_]);if(!k.length)for(_ in x=xo)Object.prototype.hasOwnProperty.call(x,_)&&k.push([x[_],_]);return k.sort(function(I,O){return I[0]-O[0]||xo[I[1]]-xo[O[1]]}),bc[k.pop()[1]]||44}function tf(d,_){var v=_||{},_="",k=v.dense?[]:{},I={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(_=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(_=d.charAt(4),d=d.slice(6)):_=pu(d.slice(0,1024)):_=v&&v.FS?v.FS:pu(d.slice(0,1024));var O=0,R=0,H=0,G=0,te=0,de=_.charCodeAt(0),fe=!1,me=0,Ae=d.charCodeAt(0);d=d.replace(/\r\n/gm,`
`);var ve=v.dateNF!=null?(_=(_=typeof(_=v.dateNF)=="number"?ee[_]:_).replace(fa,"(\\d+)"),new RegExp("^"+_+"$")):null;function Be(){var Ee,_e=d.slice(G,te),Me={};if((_e=_e.charAt(0)=='"'&&_e.charAt(_e.length-1)=='"'?_e.slice(1,-1).replace(/""/g,'"'):_e).length===0?Me.t="z":v.raw||_e.trim().length===0?(Me.t="s",Me.v=_e):_e.charCodeAt(0)==61?_e.charCodeAt(1)==34&&_e.charCodeAt(_e.length-1)==34?(Me.t="s",Me.v=_e.slice(2,-1).replace(/""/g,'"')):_e.length!=1?(Me.t="n",Me.f=_e.slice(1)):(Me.t="s",Me.v=_e):_e=="TRUE"?(Me.t="b",Me.v=!0):_e=="FALSE"?(Me.t="b",Me.v=!1):isNaN(H=St(_e))?!isNaN(Mt(_e).getDate())||ve&&_e.match(ve)?(Me.z=v.dateNF||ee[14],Ee=0,ve&&_e.match(ve)&&(_e=function(He,qe){var ft=-1,Et=-1,bt=-1,Ut=-1,cr=-1,dr=-1;(He.match(fa)||[]).forEach(function(Er,cn){var en=parseInt(qe[cn+1],10);switch(Er.toLowerCase().charAt(0)){case"y":ft=en;break;case"d":bt=en;break;case"h":Ut=en;break;case"s":dr=en;break;case"m":0<=Ut?cr=en:Et=en}}),0<=dr&&cr==-1&&0<=Et&&(cr=Et,Et=-1);var Gt=(""+(0<=ft?ft:new Date().getFullYear())).slice(-4)+"-"+("00"+(1<=Et?Et:1)).slice(-2)+"-"+("00"+(1<=bt?bt:1)).slice(-2);return(Gt=Gt.length==7?"0"+Gt:Gt).length==8&&(Gt="20"+Gt),He=("00"+(0<=Ut?Ut:0)).slice(-2)+":"+("00"+(0<=cr?cr:0)).slice(-2)+":"+("00"+(0<=dr?dr:0)).slice(-2),Ut==-1&&cr==-1&&dr==-1?Gt:ft==-1&&Et==-1&&bt==-1?He:Gt+"T"+He}(v.dateNF,_e.match(ve)||[]),Ee=1),v.cellDates?(Me.t="d",Me.v=Je(_e,Ee)):(Me.t="n",Me.v=sa(Je(_e,Ee))),v.cellText!==!1&&(Me.w=An(Me.z,Me.v instanceof Date?sa(Me.v):Me.v)),v.cellNF||delete Me.z):(Me.t="s",Me.v=_e):(!(Me.t="n")!==v.cellText&&(Me.w=_e),Me.v=H),Me.t=="z"||(v.dense?(k[O]||(k[O]=[]),k[O][R]=Me):k[kn({c:R,r:O})]=Me),G=te+1,Ae=d.charCodeAt(G),I.e.c<R&&(I.e.c=R),I.e.r<O&&(I.e.r=O),me!=de)return R=0,++O,v.sheetRows&&v.sheetRows<=O?1:void 0;++R}e:for(;te<d.length;++te)switch(me=d.charCodeAt(te)){case 34:Ae===34&&(fe=!fe);break;case de:case 10:case 13:if(!fe&&Be())break e}return 0<te-G&&Be(),k["!ref"]=Yn(I),k}function dl(d,x){return!x||!x.PRN||x.FS||d.slice(0,4)=="sep="||0<=d.indexOf("	")||0<=d.indexOf(",")||0<=d.indexOf(";")?tf(d,x):uu(function(v,_){var k=_||{},I=[];if(!v||v.length===0)return I;for(var O=v.split(/[\r\n]/),R=O.length-1;0<=R&&O[R].length===0;)--R;for(var H=10,G=0,te=0;te<=R;++te)(G=O[te].indexOf(" "))==-1?G=O[te].length:G++,H=Math.max(H,G);for(te=0;te<=R;++te){I[te]=[];var de=0;for(Jl(O[te].slice(0,H).trim(),I,te,de,k),de=1;de<=(O[te].length-H)/10+1;++de)Jl(O[te].slice(H+10*(de-1),H+10*de).trim(),I,te,de,k)}return I=k.sheetRows?I.slice(0,k.sheetRows):I}(d,x),x)}function rf(d,x){var v="",_=x.type=="string"?[0,0,0,0]:uT(d,x);switch(x.type){case"base64":v=F(d);break;case"binary":v=d;break;case"buffer":v=x.codepage==65001?d.toString("utf8"):x.codepage&&a!==void 0?a.utils.decode(x.codepage,d):L&&Buffer.isBuffer(d)?d.toString("binary"):K(d);break;case"array":v=it(d);break;case"string":v=d;break;default:throw new Error("Unrecognized type "+x.type)}return _[0]==239&&_[1]==187&&_[2]==191?v=Ci(v.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?v=Ci(v):x.type=="binary"&&a!==void 0&&x.codepage&&(v=a.utils.decode(x.codepage,a.utils.encode(28591,v))),v.slice(0,19)=="socialcalc:version:"?yc.to_sheet(x.type=="string"?v:Ci(v),x):dl(v,x)}var nf,qh,af,qs,Uf=(nf={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},qh=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""],af={0:{n:"BOF",f:Oo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(d,x,v){var _={s:{c:0,r:0},e:{c:0,r:0}};return x==8&&v.qpro?(_.s.c=d.read_shift(1),d.l++,_.s.r=d.read_shift(2),_.e.c=d.read_shift(1),d.l++,_.e.r=d.read_shift(2)):(_.s.c=d.read_shift(2),_.s.r=d.read_shift(2),x==12&&v.qpro&&(d.l+=2),_.e.c=d.read_shift(2),_.e.r=d.read_shift(2),x==12&&v.qpro&&(d.l+=2),_.s.c==65535&&(_.s.c=_.e.c=_.s.r=_.e.r=0)),_}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(d,x,v){return(v=B0(d,0,v))[1].v=d.read_shift(2,"i"),v}},14:{n:"NUMBER",f:function(d,x,v){return(v=B0(d,0,v))[1].v=d.read_shift(8,"f"),v}},15:{n:"LABEL",f:Xm},16:{n:"FORMULA",f:function(d,x,v){var _=d.l+x;return(x=B0(d,0,v))[1].v=d.read_shift(8,"f"),v.qpro?d.l=_:(_=d.read_shift(2),function(k,I){qt(k,0);for(var O=[],R=0,H="",G="",te="",de="";k.l<k.length;){var fe=k[k.l++];switch(fe){case 0:O.push(k.read_shift(8,"f"));break;case 1:G=zf(I[0].c,k.read_shift(2),!0),H=zf(I[0].r,k.read_shift(2),!1),O.push(G+H);break;case 2:var me=zf(I[0].c,k.read_shift(2),!0),Ae=zf(I[0].r,k.read_shift(2),!1);G=zf(I[0].c,k.read_shift(2),!0),H=zf(I[0].r,k.read_shift(2),!1),O.push(me+Ae+":"+G+H);break;case 3:if(k.l<k.length)return console.error("WK1 premature formula end");break;case 4:O.push("("+O.pop()+")");break;case 5:O.push(k.read_shift(2));break;case 6:for(var ve="";fe=k[k.l++];)ve+=String.fromCharCode(fe);O.push('"'+ve.replace(/"/g,'""')+'"');break;case 8:O.push("-"+O.pop());break;case 23:O.push("+"+O.pop());break;case 22:O.push("NOT("+O.pop()+")");break;case 20:case 21:de=O.pop(),te=O.pop(),O.push(["AND","OR"][fe-20]+"("+te+","+de+")");break;default:if(fe<32&&qh[fe])de=O.pop(),te=O.pop(),O.push(te+qh[fe]+de);else{if(!nf[fe])return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16));if((R=(R=nf[fe][1])==69?k[k.l++]:R)>O.length)return console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+O.join("|")+"|");Ae=O.slice(-R),O.length-=R,O.push(nf[fe][0]+"("+Ae.join(",")+")")}}}O.length==1?I[1].f=""+O[0]:console.error("WK1 bad formula parse |"+O.join("|")+"|")}(d.slice(d.l,d.l+_),x),d.l+=_),x}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:Xm},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pb},222:{n:"SHEETNAMELP",f:function(d,x){var v=d[d.l++];x-1<v&&(v=x-1);for(var _="";_.length<v;)_+=String.fromCharCode(d[d.l++]);return _}},65535:{n:""}},qs={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(d,x){var v=wc(d);return v[1].t="s",v[1].v=d.read_shift(x-4,"cstr"),v}},23:{n:"NUMBER17",f:$0},24:{n:"NUMBER18",f:function(d,x){var v=wc(d);v[1].v=d.read_shift(2);var _=v[1].v>>1;if(1&v[1].v)switch(7&_){case 0:_=5e3*(_>>3);break;case 1:_=500*(_>>3);break;case 2:_=(_>>3)/20;break;case 3:_=(_>>3)/200;break;case 4:_=(_>>3)/2e3;break;case 5:_=(_>>3)/2e4;break;case 6:_=(_>>3)/16;break;case 7:_=(_>>3)/64}return v[1].v=_,v}},25:{n:"FORMULA19",f:function(d,x){var v=$0(d);return d.l+=x-14,v}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(d,x){for(var v={},_=d.l+x;d.l<_;){var k=d.read_shift(2);if(k==14e3){for(v[k]=[0,""],v[k][0]=d.read_shift(2);d[d.l];)v[k][1]+=String.fromCharCode(d[d.l]),d.l++;d.l++}}return v}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(_,x){var v=wc(_),_=_.read_shift(4);return v[1].v=_>>6,v}},38:{n:"??"},39:{n:"NUMBER27",f:U0},40:{n:"FORMULA28",f:function(d,x){var v=U0(d);return d.l+=x-10,v}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pb},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(d,x,v){if(v.qpro&&!(x<21))return v=d.read_shift(1),d.l+=17,d.l+=1,d.l+=2,[v,d.read_shift(x-21,"cstr")]}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},{sheet_to_wk1:function(d,x){var v=x||{};if(0<=+v.codepage&&h(+v.codepage),v.type=="string")throw new Error("Cannot write WK1 to JS string");var _=Vn(),k=Ia(d["!ref"]),I=Array.isArray(d),O=[];Jr(_,0,(x=1030,(v=vt(2)).write_shift(2,x),v)),Jr(_,6,(x=k,(v=vt(8)).write_shift(2,x.s.c),v.write_shift(2,x.s.r),v.write_shift(2,x.e.c),v.write_shift(2,x.e.r),v));for(var R,H,G,te,de=Math.min(k.e.r,8191),fe=k.s.r;fe<=de;++fe)for(var me=ja(fe),Ae=k.s.c;Ae<=k.e.c;++Ae){fe===k.s.r&&(O[Ae]=wa(Ae));var ve=O[Ae]+me,ve=I?(d[fe]||[])[Ae]:d[ve];ve&&ve.t!="z"&&(ve.t=="n"?(0|ve.v)==ve.v&&-32768<=ve.v&&ve.v<=32767?Jr(_,13,(R=fe,H=Ae,G=ve.v,te=void 0,(te=vt(7)).write_shift(1,255),te.write_shift(2,H),te.write_shift(2,R),te.write_shift(2,G,"i"),te)):Jr(_,14,(H=fe,R=Ae,G=ve.v,te=void 0,(te=vt(13)).write_shift(1,255),te.write_shift(2,R),te.write_shift(2,H),te.write_shift(8,G,"f"),te)):Jr(_,15,function(Be,Ee,_e){var Me=vt(7+_e.length);Me.write_shift(1,255),Me.write_shift(2,Ee),Me.write_shift(2,Be),Me.write_shift(1,39);for(var He=0;He<Me.length;++He){var qe=_e.charCodeAt(He);Me.write_shift(1,128<=qe?95:qe)}return Me.write_shift(1,0),Me}(fe,Ae,Gl(ve).slice(0,239))))}return Jr(_,1),_.end()},book_to_wk3:function(d,x){if(0<=+(x=x||{}).codepage&&h(+x.codepage),x.type=="string")throw new Error("Cannot write WK3 to JS string");var v=Vn();Jr(v,0,function(ve){var Be=vt(26);Be.write_shift(2,4096),Be.write_shift(2,4),Be.write_shift(4,0);for(var Ee=0,_e=0,Me=0,He=0;He<ve.SheetNames.length;++He){var qe=ve.SheetNames[He],qe=ve.Sheets[qe];qe&&qe["!ref"]&&(++Me,qe=no(qe["!ref"]),Ee<qe.e.r&&(Ee=qe.e.r),_e<qe.e.c&&(_e=qe.e.c))}return 8191<Ee&&(Ee=8191),Be.write_shift(2,Ee),Be.write_shift(1,Me),Be.write_shift(1,_e),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(1,1),Be.write_shift(1,2),Be.write_shift(4,0),Be.write_shift(4,0),Be}(d));for(var _=0,k=0;_<d.SheetNames.length;++_)(d.Sheets[d.SheetNames[_]]||{})["!ref"]&&Jr(v,27,function(ve,Be){var Ee=vt(5+ve.length);Ee.write_shift(2,14e3),Ee.write_shift(2,Be);for(var _e=0;_e<ve.length;++_e){var Me=ve.charCodeAt(_e);Ee[Ee.l++]=127<Me?95:Me}return Ee[Ee.l++]=0,Ee}(d.SheetNames[_],k++));for(var I=0,_=0;_<d.SheetNames.length;++_){var O=d.Sheets[d.SheetNames[_]];if(O&&O["!ref"]){for(var R=Ia(O["!ref"]),H=Array.isArray(O),G=[],te=Math.min(R.e.r,8191),de=R.s.r;de<=te;++de)for(var fe=ja(de),me=R.s.c;me<=R.e.c;++me){de===R.s.r&&(G[me]=wa(me));var Ae=G[me]+fe,Ae=H?(O[de]||[])[me]:O[Ae];Ae&&Ae.t!="z"&&(Ae.t=="n"?Jr(v,23,function(ft,bt,Et,Me){var He=vt(14);if(He.write_shift(2,ft),He.write_shift(1,Et),He.write_shift(1,bt),Me==0)return He.write_shift(4,0),He.write_shift(4,0),He.write_shift(2,65535),He;var qe=0,ft=0,Et=0,bt=0;return Me<0&&(qe=1,Me=-Me),ft=0|Math.log2(Me),Me/=Math.pow(2,ft-31),!(2147483648&(bt=Me>>>0))&&(++ft,bt=(Me/=2)>>>0),Me-=bt,bt|=2147483648,bt>>>=0,Me*=Math.pow(2,32),Et=Me>>>0,He.write_shift(4,Et),He.write_shift(4,bt),ft+=16383+(qe?32768:0),He.write_shift(2,ft),He}(de,me,I,Ae.v)):Jr(v,22,function(Be,Ee,_e,Me){var He=vt(6+Me.length);He.write_shift(2,Be),He.write_shift(1,_e),He.write_shift(1,Ee),He.write_shift(1,39);for(var qe=0;qe<Me.length;++qe){var ft=Me.charCodeAt(qe);He.write_shift(1,128<=ft?95:ft)}return He.write_shift(1,0),He}(de,me,I,Gl(Ae).slice(0,239))))}++I}}return Jr(v,1),v.end()},to_workbook:function(d,x){switch(x.type){case"base64":return Wx(z(F(d)),x);case"binary":return Wx(z(d),x);case"buffer":case"array":return Wx(d,x)}throw"Unsupported type "+x.type}});function mb(d,x,v){if(d){qt(d,d.l||0);for(var _=v.Enum||af;d.l<d.length;){var k=d.read_shift(2),I=_[k]||_[65535],R=d.read_shift(2),O=d.l+R,R=I.f&&I.f(d,R,v);if(d.l=O,x(R,I,k))return}}}function Wx(d,x){if(!d)return d;var v=x||{},_=v.dense?[]:{},k="Sheet1",I="",O=0,R={},H=[],G=[],te={s:{r:0,c:0},e:{r:0,c:0}},de=v.sheetRows||0;if(d[2]==0&&(d[3]==8||d[3]==9)&&16<=d.length&&d[14]==5&&d[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(d[2]==2)v.Enum=af,mb(d,function(ve,Be,Ee){switch(Ee){case 0:4096<=(v.vers=ve)&&(v.qpro=!0);break;case 6:te=ve;break;case 204:ve&&(I=ve);break;case 222:I=ve;break;case 15:case 51:v.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:Ee==14&&(112&ve[2])==112&&1<(15&ve[2])&&(15&ve[2])<15&&(ve[1].z=v.dateNF||ee[14],v.cellDates&&(ve[1].t="d",ve[1].v=Fe(ve[1].v))),v.qpro&&ve[3]>O&&(_["!ref"]=Yn(te),R[k]=_,H.push(k),_=v.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},O=ve[3],k=I||"Sheet"+(O+1),I="");var _e=v.dense?(_[ve[0].r]||[])[ve[0].c]:_[kn(ve[0])];if(_e){_e.t=ve[1].t,_e.v=ve[1].v,ve[1].z!=null&&(_e.z=ve[1].z),ve[1].f!=null&&(_e.f=ve[1].f);break}v.dense?(_[ve[0].r]||(_[ve[0].r]=[]),_[ve[0].r][ve[0].c]=ve[1]):_[kn(ve[0])]=ve[1]}},v);else{if(d[2]!=26&&d[2]!=14)throw new Error("Unrecognized LOTUS BOF "+d[2]);v.Enum=qs,d[2]==14&&(v.qpro=!0,d.l=0),mb(d,function(ve,Be,Ee){switch(Ee){case 204:k=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>O&&(_["!ref"]=Yn(te),R[k]=_,H.push(k),_=v.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},O=ve[3],k="Sheet"+(O+1)),0<de&&ve[0].r>=de)break;v.dense?(_[ve[0].r]||(_[ve[0].r]=[]),_[ve[0].r][ve[0].c]=ve[1]):_[kn(ve[0])]=ve[1],te.e.c<ve[0].c&&(te.e.c=ve[0].c),te.e.r<ve[0].r&&(te.e.r=ve[0].r);break;case 27:ve[14e3]&&(G[ve[14e3][0]]=ve[14e3][1]);break;case 1537:G[ve[0]]=ve[1],ve[0]==O&&(k=ve[1])}},v)}if(_["!ref"]=Yn(te),R[I||k]=_,H.push(I||k),!G.length)return{SheetNames:H,Sheets:R};for(var fe={},me=[],Ae=0;Ae<G.length;++Ae)R[H[Ae]]?(me.push(G[Ae]||H[Ae]),fe[G[Ae]]=R[G[Ae]]||R[H[Ae]]):(me.push(G[Ae]),fe[G[Ae]]={"!ref":"A1"});return{SheetNames:me,Sheets:fe}}function B0(d,x,v){var _=[{c:0,r:0},{t:"n",v:0},0,0];return v.qpro&&v.vers!=20768?(_[0].c=d.read_shift(1),_[3]=d.read_shift(1),_[0].r=d.read_shift(2),d.l+=2):(_[2]=d.read_shift(1),_[0].c=d.read_shift(2),_[0].r=d.read_shift(2)),_}function Xm(d,k,v){var _=d.l+k,k=B0(d,0,v);return k[1].t="s",v.vers!=20768?(v.qpro&&d.l++,k[1].v=d.read_shift(_-d.l,"cstr"),k):(d.l++,_=d.read_shift(1),k[1].v=d.read_shift(_,"utf8"),k)}function zf(d,x,v){var _=32768&x;return(_?"":"$")+(v?wa:ja)(x=(_?d:0)+(8192<=(x&=-32769)?x-16384:x))}function wc(d){var x=[{c:0,r:0},{t:"n",v:0},0];return x[0].r=d.read_shift(2),x[3]=d[d.l++],x[0].c=d[d.l++],x}function $0(I,x){var v=wc(I),_=I.read_shift(4),k=I.read_shift(4);if((O=I.read_shift(2))==65535)return _===0&&k===3221225472?(v[1].t="e",v[1].v=15):_===0&&k===3489660928?(v[1].t="e",v[1].v=42):v[1].v=0,v;var I=32768&O,O=(32767&O)-16446;return v[1].v=(1-2*I)*(k*Math.pow(2,32+O)+_*Math.pow(2,O)),v}function U0(_,x){var v=wc(_),_=_.read_shift(8,"f");return v[1].v=_,v}function pb(d,x){return d[d.l+x-1]==0?d.read_shift(x,"cstr"):""}var $1,gb,U1,Hx,qx=($1=iu("t"),gb=iu("rPr"),U1=/<(?:\w+:)?r>/g,Hx=/<\/(?:\w+:)?r>/,function(d){return d.replace(U1,"").split(Hx).map(z1).filter(function(x){return x.v})});function z1(d){var x=d.match($1);return x?(x={t:"s",v:Tn(x[1])},d=d.match(gb),d&&(x.s=function(v){var _={},k=v.match(Ya),I=0,O=!1;if(k)for(;I!=k.length;++I){var R=Un(k[I]);switch(R[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!R.val)break;case"<shadow>":case"<shadow/>":_.shadow=1;break;case"</shadow>":break;case"<charset":if(R.val=="1")break;_.cp=u[parseInt(R.val,10)];break;case"<outline":if(!R.val)break;case"<outline>":case"<outline/>":_.outline=1;break;case"</outline>":break;case"<rFont":_.name=R.val;break;case"<sz":_.sz=R.val;break;case"<strike":if(!R.val)break;case"<strike>":case"<strike/>":_.strike=1;break;case"</strike>":break;case"<u":if(!R.val)break;switch(R.val){case"double":_.uval="double";break;case"singleAccounting":_.uval="single-accounting";break;case"doubleAccounting":_.uval="double-accounting"}case"<u>":case"<u/>":_.u=1;break;case"</u>":break;case"<b":if(R.val=="0")break;case"<b>":case"<b/>":_.b=1;break;case"</b>":break;case"<i":if(R.val=="0")break;case"<i>":case"<i/>":_.i=1;break;case"</i>":break;case"<color":R.rgb&&(_.color=R.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":_.family=R.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":_.valign=R.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":O=!0;break;case"</ext>":O=!1;break;default:if(R[0].charCodeAt(1)!==47&&!O)throw new Error("Unrecognized rich format "+R[0])}}return _}(d[1])),x):{t:"s",v:""}}var G5,$6=(G5=/(\r\n|\n)/g,function(d){return d.map(xb).join("")});function xb(d){var x,v,_,k=[[],d.v,[]];return d.v?(d.s&&(x=d.s,v=k[0],_=k[2],d=[],x.u&&d.push("text-decoration: underline;"),x.uval&&d.push("text-underline-style:"+x.uval+";"),x.sz&&d.push("font-size:"+x.sz+"pt;"),x.outline&&d.push("text-effect: outline;"),x.shadow&&d.push("text-shadow: auto;"),v.push('<span style="'+d.join("")+'">'),x.b&&(v.push("<b>"),_.push("</b>")),x.i&&(v.push("<i>"),_.push("</i>")),x.strike&&(v.push("<s>"),_.push("</s>")),(d=x.valign||"")=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(v.push("<"+d+">"),_.push("</"+d+">")),_.push("</span>")),k[0].join("")+k[1].replace(G5,"<br/>")+k[2].join("")):""}var Gh=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,U6=/<(?:\w+:)?r>/,z6=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function vb(d,_){var v=!_||_.cellHTML,_={};return d?(d.match(/^\s*<(?:\w+:)?t[^>]*>/)?(_.t=Tn(Ci(d.slice(d.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),_.r=Ci(d),v&&(_.h=ll(_.t))):d.match(U6)&&(_.r=Ci(d),_.t=Tn(Ci((d.replace(z6,"").match(Gh)||[]).join("").replace(Ya,""))),v&&(_.h=$6(qx(_.r)))),_):{t:""}}var K5=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Gx=/<(?:\w+:)?(?:si|sstItem)>/g,Y5=/<\/(?:\w+:)?(?:si|sstItem)>/,X5=/^\s|\s$|[\t\n\r]/;function V1(d,x){if(!x.bookSST)return"";var v=[wn];v[v.length]=Or("sst",null,{xmlns:Wl[0],count:d.Count,uniqueCount:d.Unique});for(var _,k,I=0;I!=d.length;++I)d[I]!=null&&(k="<si>",(_=d[I]).r?k+=_.r:(k+="<t",_.t||(_.t=""),_.t.match(X5)&&(k+=' xml:space="preserve"'),k+=">"+Ye(_.t)+"</t>"),k+="</si>",v[v.length]=k);return 2<v.length&&(v[v.length]="</sst>",v[1]=v[1].replace("/>",">")),v.join("")}var yb=function(d,x){var v=!1;return x==null&&(v=!0,x=vt(15+4*d.t.length)),x.write_shift(1,0),Zn(d.t,x),v?x.slice(0,x.l):x};function W1(d){var x,v,_=Vn();zt(_,159,(x=d,(v=v||vt(8)).write_shift(4,x.Count),v.write_shift(4,x.Unique),v));for(var k=0;k<d.length;++k)zt(_,19,yb(d[k]));return zt(_,160),_.end()}function bb(d){if(a!==void 0)return a.utils.encode(l,d);for(var x=[],v=d.split(""),_=0;_<v.length;++_)x[_]=v[_].charCodeAt(0);return x}function Vf(d,x){var v={};return v.Major=d.read_shift(2),v.Minor=d.read_shift(2),4<=x&&(d.l+=x-4),v}function Kx(d){var x=[];d.l+=4;for(var v=d.read_shift(4);0<v--;)x.push(function(_){for(var I=_.read_shift(4),k=_.l+I-4,I={},O=_.read_shift(4),R=[];0<O--;)R.push({t:_.read_shift(4),v:_.read_shift(0,"lpp4")});if(I.name=_.read_shift(0,"lpp4"),I.comps=R,_.l!=k)throw new Error("Bad DataSpaceMapEntry: "+_.l+" != "+k);return I}(d));return x}function J5(d){var x,v,v=(v={},(x=d).read_shift(4),x.l+=4,v.id=x.read_shift(0,"lpp4"),v.name=x.read_shift(0,"lpp4"),v.R=Vf(x,4),v.U=Vf(x,4),v.W=Vf(x,4),v);if(v.ename=d.read_shift(0,"8lpp4"),v.blksz=d.read_shift(4),v.cmode=d.read_shift(4),d.read_shift(4)!=4)throw new Error("Bad !Primary record");return v}function Yx(d,v){var v=d.l+v,_={};_.Flags=63&d.read_shift(4),d.l+=4,_.AlgID=d.read_shift(4);var k=!1;switch(_.AlgID){case 26126:case 26127:case 26128:k=_.Flags==36;break;case 26625:k=_.Flags==4;break;case 0:k=_.Flags==16||_.Flags==4||_.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+_.AlgID}if(!k)throw new Error("Encryption Flags/AlgID mismatch");return _.AlgIDHash=d.read_shift(4),_.KeySize=d.read_shift(4),_.ProviderType=d.read_shift(4),d.l+=8,_.CSPName=d.read_shift(v-d.l>>1,"utf16le"),d.l=v,_}function Wf(d,_){var v={},_=d.l+_;return d.l+=4,v.Salt=d.slice(d.l,d.l+16),d.l+=16,v.Verifier=d.slice(d.l,d.l+16),d.l+=16,d.read_shift(4),v.VerifierHash=d.slice(d.l,_),d.l=_,v}function Z5(d){var x=Vf(d);switch(x.Minor){case 2:return[x.Minor,function(k){if((63&k.read_shift(4))!=36)throw new Error("EncryptionInfo mismatch");var _=k.read_shift(4),_=Yx(k,_),k=Wf(k,k.length-k.l);return{t:"Std",h:_,v:k}}(d)];case 3:return[x.Minor,function(){throw new Error("File is password-protected: ECMA-376 Extensible")}()];case 4:return[x.Minor,function(k){var _=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];k.l+=4;var k=k.read_shift(k.length-k.l,"utf8"),I={};return k.replace(Ya,function(O){var R=Un(O);switch(zl(R[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":_.forEach(function(H){I[H]=R[H]});break;case"<dataIntegrity":I.encryptedHmacKey=R.encryptedHmacKey,I.encryptedHmacValue=R.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":I.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":I.uri=R.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":I.encs.push(R);break;default:throw R[0]}}),I}(d)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+x.Minor)}function Xx(d){var x,v=0,_=bb(d),k=_.length+1,I=M(k);for(I[0]=_.length,x=1;x!=k;++x)I[x]=_[x-1];for(x=k-1;0<=x;--x)v=((16384&v?1:0)|v<<1&32767)^I[x];return 52811^v}var wb,_b,z0,Q5=(wb=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],_b=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],z0=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],function(d){for(var x,v,_=bb(d),k=function(H){for(var G=_b[H.length-1],te=104,de=H.length-1;0<=de;--de)for(var fe=H[de],me=0;me!=7;++me)64&fe&&(G^=z0[te]),fe*=2,--te;return G}(_),I=_.length,O=M(16),R=0;R!=16;++R)O[R]=0;for((1&I)==1&&(x=k>>8,O[I]=V0(wb[0],x),--I,x=255&k,d=_[_.length-1],O[I]=V0(d,x));0<I;)x=k>>8,O[--I]=V0(_[I],x),x=255&k,O[--I]=V0(_[I],x);for(v=(I=15)-_.length;0<v;)x=k>>8,O[I]=V0(wb[v],x),--v,x=255&k,O[--I]=V0(_[I],x),--I,--v;return O});function V0(d,x){return 255&((x=d^x)/2|128*x)}var V6=function(d){var x=0,v=Q5(d);return function(_){return _=function(k,I,O,R,H){var G,te;for(H=H||I,R=R||Q5(k),G=0;G!=I.length;++G)te=I[G],te=255&((te^=R[O])>>5|te<<3),H[G]=te,++O;return[H,O,R]}("",_,x,v),x=_[1],_[0]}};function e3(d,x,v){return v=v||{},v.Info=d.read_shift(2),d.l-=2,v.Info===1?v.Data=function(_){var k={},I=k.EncryptionVersionInfo=Vf(_,4);if(I.Major!=1||I.Minor!=1)throw"unrecognized version code "+I.Major+" : "+I.Minor;return k.Salt=_.read_shift(16),k.EncryptedVerifier=_.read_shift(16),k.EncryptedVerifierHash=_.read_shift(16),k}(d):v.Data=function(_,k){var I={},O=I.EncryptionVersionInfo=Vf(_,4);if(k-=4,O.Minor!=2)throw new Error("unrecognized minor version code: "+O.Minor);if(4<O.Major||O.Major<2)throw new Error("unrecognized major version code: "+O.Major);return I.Flags=_.read_shift(4),k-=4,O=_.read_shift(4),k-=4,I.EncryptionHeader=Yx(_,O),k-=O,I.EncryptionVerifier=Wf(_,k),I}(d,x),v}var t3={to_workbook:function(d,x){return Kl(Jm(d,x),x)},to_sheet:Jm,from_sheet:function(d){for(var x=["{\\rtf1\\ansi"],v=Ia(d["!ref"]),_=Array.isArray(d),k=v.s.r;k<=v.e.r;++k){x.push("\\trowd\\trautofit1");for(var I=v.s.c;I<=v.e.c;++I)x.push("\\cellx"+(I+1));for(x.push("\\pard\\intbl"),I=v.s.c;I<=v.e.c;++I){var O=kn({r:k,c:I});(O=_?(d[k]||[])[I]:d[O])&&(O.v!=null||O.f&&!O.F)&&(x.push(" "+(O.w||(Gl(O),O.w))),x.push("\\cell"))}x.push("\\pard\\intbl\\row")}return x.join("")+"}"}};function Jm(d,x){switch(x.type){case"base64":return Zm(F(d),x);case"binary":return Zm(d,x);case"buffer":return Zm(L&&Buffer.isBuffer(d)?d.toString("binary"):K(d),x);case"array":return Zm(it(d),x)}throw new Error("Unrecognized type "+x.type)}function Zm(_,x){var v=(x||{}).dense?[]:{},_=_.match(/\\trowd.*?\\row\b/g);if(!_.length)throw new Error("RTF missing table");var k={s:{c:0,r:0},e:{c:0,r:_.length-1}};return _.forEach(function(I,O){Array.isArray(v)&&(v[O]=[]);for(var R,H=/\\\w+\b/g,G=0,te=-1;R=H.exec(I);)R[0]==="\\cell"&&(++te,(R=(R=I.slice(G,H.lastIndex-R[0].length))[0]==" "?R.slice(1):R).length&&(R={v:R,t:"s"},Array.isArray(v)?v[O][te]=R:v[kn({r:O,c:te})]=R)),G=H.lastIndex;te>k.e.c&&(k.e.c=te)}),v["!ref"]=Yn(k),v}function Kh(d){for(var x=0,v=1;x!=3;++x)v=256*v+(255<d[x]?255:d[x]<0?0:d[x]);return v.toString(16).toUpperCase().slice(1)}function Hu(d,x){return x===0?d:(d=function(te){var _=te[0]/255,k=te[1]/255,I=te[2]/255,O=Math.max(_,k,I),R=Math.min(_,k,I),H=O-R;if(H==0)return[0,0,_];var G=0,te=0,te=H/(1<(R=O+R)?2-R:R);switch(O){case _:G=((k-I)/H+6)%6;break;case k:G=(I-_)/H+2;break;case I:G=(_-k)/H+4}return[G/6,te,R/2]}((d=(d=d).slice(d[0]==="#"?1:0).slice(0,6),[parseInt(d.slice(0,2),16),parseInt(d.slice(2,4),16),parseInt(d.slice(4,6),16)])),d[2]=x<0?d[2]*(1+x):1-(1-d[2])*(1-x),Kh(function(O){var _,k=O[0],I=O[1],O=O[2],R=2*I*(O<.5?O:1-O),H=[O=O-R/2,O,O],G=6*k;if(I!==0)switch(0|G){case 0:case 6:_=R*G,H[0]+=R,H[1]+=_;break;case 1:_=R*(2-G),H[0]+=_,H[1]+=R;break;case 2:_=R*(G-2),H[1]+=R,H[2]+=_;break;case 3:_=R*(4-G),H[1]+=_,H[2]+=R;break;case 4:_=R*(G-4),H[2]+=R,H[0]+=_;break;case 5:_=R*(6-G),H[2]+=_,H[0]+=R}for(var te=0;te!=3;++te)H[te]=Math.round(255*H[te]);return H}(d)))}var Hf=6,Yh=15,Jx=1,fl=Hf;function Qm(d){return Math.floor((d+Math.round(128/fl)/256)*fl)}function H1(d){return Math.floor((d-5)/fl*100+.5)/100}function ep(d){return Math.round((d*fl+5)/fl*256)/256}function q1(d){return ep(H1(Qm(d)))}function W6(d){var x=Math.abs(d-q1(d)),v=fl;if(.005<x)for(fl=Jx;fl<Yh;++fl)Math.abs(d-q1(d))<=x&&(x=Math.abs(d-q1(d)),v=fl);fl=v}function tp(d){d.width?(d.wpx=Qm(d.width),d.wch=H1(d.wpx),d.MDW=fl):d.wpx?(d.wch=H1(d.wpx),d.width=ep(d.wch),d.MDW=fl):typeof d.wch=="number"&&(d.width=ep(d.wch),d.wpx=Qm(d.width),d.MDW=fl),d.customWidth&&delete d.customWidth}var UL=96;function Nb(d){return 96*d/UL}function Zx(d){return d*UL/96}var Hhe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},r3=["numFmtId","fillId","fontId","borderId","xfId"],n3=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],zL,VL,WL,HL,qL,Sb,qhe=(zL=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,VL=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,WL=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,HL=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,qL=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/,function(d,x,v){var _,k,I,O,R,H={};return d&&((_=(d=d.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(zL))&&function(G,te,de){te.NumberFmt=[];for(var fe=Xr(ee),me=0;me<fe.length;++me)te.NumberFmt[fe[me]]=ee[fe[me]];var Ae=G[0].match(Ya);if(Ae)for(me=0;me<Ae.length;++me){var ve=Un(Ae[me]);switch(zl(ve[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var Be=Tn(Ci(ve.formatCode)),Ee=parseInt(ve.numFmtId,10);if(te.NumberFmt[Ee]=Be,0<Ee){if(392<Ee){for(Ee=392;60<Ee&&te.NumberFmt[Ee]!=null;--Ee);te.NumberFmt[Ee]=Be}pn(Be,Ee)}break;case"</numFmt>":break;default:if(de.WTF)throw new Error("unrecognized "+ve[0]+" in numFmts")}}}(_,H,v),(_=d.match(HL))&&function(G,te,de,fe){te.Fonts=[];var me={},Ae=!1;(G[0].match(Ya)||[]).forEach(function(ve){var Be,Ee=Un(ve);switch(zl(Ee[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":te.Fonts.push(me),me={};break;case"<name":Ee.val&&(me.name=Ci(Ee.val));break;case"<name/>":case"</name>":break;case"<b":me.bold=Ee.val?Qr(Ee.val):1;break;case"<b/>":me.bold=1;break;case"<i":me.italic=Ee.val?Qr(Ee.val):1;break;case"<i/>":me.italic=1;break;case"<u":switch(Ee.val){case"none":me.underline=0;break;case"single":me.underline=1;break;case"double":me.underline=2;break;case"singleAccounting":me.underline=33;break;case"doubleAccounting":me.underline=34}break;case"<u/>":me.underline=1;break;case"<strike":me.strike=Ee.val?Qr(Ee.val):1;break;case"<strike/>":me.strike=1;break;case"<outline":me.outline=Ee.val?Qr(Ee.val):1;break;case"<outline/>":me.outline=1;break;case"<shadow":me.shadow=Ee.val?Qr(Ee.val):1;break;case"<shadow/>":me.shadow=1;break;case"<condense":me.condense=Ee.val?Qr(Ee.val):1;break;case"<condense/>":me.condense=1;break;case"<extend":me.extend=Ee.val?Qr(Ee.val):1;break;case"<extend/>":me.extend=1;break;case"<sz":Ee.val&&(me.sz=+Ee.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":Ee.val&&(me.vertAlign=Ee.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":Ee.val&&(me.family=parseInt(Ee.val,10));break;case"<family/>":case"</family>":break;case"<scheme":Ee.val&&(me.scheme=Ee.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(Ee.val=="1")break;Ee.codepage=u[parseInt(Ee.val,10)];break;case"<color":me.color||(me.color={}),Ee.auto&&(me.color.auto=Qr(Ee.auto)),Ee.rgb?me.color.rgb=Ee.rgb.slice(-6):Ee.indexed?(me.color.index=parseInt(Ee.indexed,10),Be=ul[me.color.index],Be=(Be=me.color.index==81?ul[1]:Be)||ul[1],me.color.rgb=Be[0].toString(16)+Be[1].toString(16)+Be[2].toString(16)):Ee.theme&&(me.color.theme=parseInt(Ee.theme,10),Ee.tint&&(me.color.tint=parseFloat(Ee.tint)),Ee.theme&&de.themeElements&&de.themeElements.clrScheme&&(me.color.rgb=Hu(de.themeElements.clrScheme[me.color.theme].rgb,me.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":Ae=!0;break;case"</AlternateContent>":Ae=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Ae=!0;break;case"</ext>":Ae=!1;break;default:if(fe&&fe.WTF&&!Ae)throw new Error("unrecognized "+Ee[0]+" in fonts")}})}(_,H,x,v),(_=d.match(WL))&&function(G,te,de){te.Fills=[];var fe={},me=!1;(G[0].match(Ya)||[]).forEach(function(Ae){var ve=Un(Ae);switch(zl(ve[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":fe={},te.Fills.push(fe);break;case"</fill>":case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":te.Fills.push(fe),fe={};break;case"<patternFill":case"<patternFill>":ve.patternType&&(fe.patternType=ve.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":fe.bgColor||(fe.bgColor={}),ve.indexed&&(fe.bgColor.indexed=parseInt(ve.indexed,10)),ve.theme&&(fe.bgColor.theme=parseInt(ve.theme,10)),ve.tint&&(fe.bgColor.tint=parseFloat(ve.tint)),ve.rgb&&(fe.bgColor.rgb=ve.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":fe.fgColor||(fe.fgColor={}),ve.theme&&(fe.fgColor.theme=parseInt(ve.theme,10)),ve.tint&&(fe.fgColor.tint=parseFloat(ve.tint)),ve.rgb!=null&&(fe.fgColor.rgb=ve.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":case"</stop>":break;case"<color":case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":me=!0;break;case"</ext>":me=!1;break;default:if(de&&de.WTF&&!me)throw new Error("unrecognized "+ve[0]+" in fills")}})}(_,H,v),(_=d.match(qL))&&function(G,te,de){te.Borders=[];var fe={},me=!1;(G[0].match(Ya)||[]).forEach(function(Ae){var ve=Un(Ae);switch(zl(ve[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":fe={},ve.diagonalUp&&(fe.diagonalUp=Qr(ve.diagonalUp)),ve.diagonalDown&&(fe.diagonalDown=Qr(ve.diagonalDown)),te.Borders.push(fe);break;case"</border>":case"<left/>":break;case"<left":case"<left>":case"</left>":case"<right/>":break;case"<right":case"<right>":case"</right>":case"<top/>":break;case"<top":case"<top>":case"</top>":case"<bottom/>":break;case"<bottom":case"<bottom>":case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":break;case"<start":case"<start>":case"<start/>":case"</start>":break;case"<end":case"<end>":case"<end/>":case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":me=!0;break;case"</ext>":me=!1;break;default:if(de&&de.WTF&&!me)throw new Error("unrecognized "+ve[0]+" in borders")}})}(_,H,v),(_=d.match(VL))&&(_=_,I=v,R=!((k=H).CellXf=[]),(_[0].match(Ya)||[]).forEach(function(G){var te=Un(G),de=0;switch(zl(te[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(delete(O=te)[0],de=0;de<r3.length;++de)O[r3[de]]&&(O[r3[de]]=parseInt(O[r3[de]],10));for(de=0;de<n3.length;++de)O[n3[de]]&&(O[n3[de]]=Qr(O[n3[de]]));if(k.NumberFmt&&392<O.numFmtId){for(de=392;60<de;--de)if(k.NumberFmt[O.numFmtId]==k.NumberFmt[de]){O.numFmtId=de;break}}k.CellXf.push(O);break;case"</xf>":break;case"<alignment":case"<alignment/>":var fe={};te.vertical&&(fe.vertical=te.vertical),te.horizontal&&(fe.horizontal=te.horizontal),te.textRotation!=null&&(fe.textRotation=te.textRotation),te.indent&&(fe.indent=te.indent),te.wrapText&&(fe.wrapText=Qr(te.wrapText)),O.alignment=fe;break;case"</alignment>":case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":R=!0;break;case"</AlternateContent>":R=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":R=!0;break;case"</ext>":R=!1;break;default:if(I&&I.WTF&&!R)throw new Error("unrecognized "+te[0]+" in cellXfs")}}))),H});function GL(d,x){if(Sb!==void 0)return Sb.toXml();var v,_,k,I,O=[wn,Or("styleSheet",null,{xmlns:Wl[0],"xmlns:vt":as.vt})];return d.SSF&&(_=d.SSF,k=["<numFmts>"],[[5,8],[23,26],[41,44],[50,392]].forEach(function(R){for(var H=R[0];H<=R[1];++H)_[H]!=null&&(k[k.length]=Or("numFmt",null,{numFmtId:H,formatCode:Ye(_[H])}))}),(v=k.length===1?"":(k[k.length]="</numFmts>",k[0]=Or("numFmts",null,{count:k.length-2}).replace("/>",">"),k.join("")))!=null)&&(O[O.length]=v),O[O.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',O[O.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',O[O.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',O[O.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',x=x.cellXfs,(I=[])[I.length]="<cellXfs/>",x.forEach(function(R){I[I.length]=Or("xf",null,R)}),I[I.length]="</cellXfs>",(v=I.length===2?"":(I[0]=Or("cellXfs",null,{count:I.length-2}).replace("/>",">"),I.join("")))&&(O[O.length]=v),O[O.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',O[O.length]='<dxfs count="0"/>',O[O.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',2<O.length&&(O[O.length]="</styleSheet>",O[1]=O[1].replace("/>",">")),O.join("")}function Ghe(d,x){var v;(x=x||vt(153)).write_shift(2,20*d.sz),v=d,_=(_=x)||vt(2),v=(v.italic?2:0)|(v.strike?8:0)|(v.outline?16:0)|(v.shadow?32:0)|(v.condense?64:0)|(v.extend?128:0),_.write_shift(1,v),_.write_shift(1,0),x.write_shift(2,d.bold?700:400);var _=0;return d.vertAlign=="superscript"?_=1:d.vertAlign=="subscript"&&(_=2),x.write_shift(2,_),x.write_shift(1,d.underline||0),x.write_shift(1,d.family||0),x.write_shift(1,d.charset||0),x.write_shift(1,0),pr(d.color,x),_=0,d.scheme=="major"&&(_=1),d.scheme=="minor"&&(_=2),x.write_shift(1,_),Zn(d.name,x),x.length>x.l?x.slice(0,x.l):x}var KL,Khe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Yhe=nr;function YL(d,x){x=x||vt(84),d=(KL=KL||Ti(Khe))[d.patternType],d==null&&(d=40),x.write_shift(4,d);var v=0;if(d!=40)for(pr({auto:1},x),pr({auto:1},x);v<12;++v)x.write_shift(4,0);else{for(;v<4;++v)x.write_shift(4,0);for(;v<12;++v)x.write_shift(4,0)}return x.length>x.l?x.slice(0,x.l):x}function XL(d,x,v){return(v=v||vt(16)).write_shift(2,x||0),v.write_shift(2,d.numFmtId||0),v.write_shift(2,0),v.write_shift(2,0),v.write_shift(2,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v}function Cb(d,x){return(x=x||vt(10)).write_shift(1,0),x.write_shift(1,0),x.write_shift(4,0),x.write_shift(4,0),x}ki=nr;function Xhe(d,x){var v;x&&(v=0,[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var k=_[0];k<=_[1];++k)x[k]!=null&&++v}),v!=0&&(zt(d,615,ko(v)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var k,I,O,R=_[0];R<=_[1];++R)x[R]!=null&&zt(d,44,(k=R,I=x[R],(O=(O=void 0)||vt(6+4*I.length)).write_shift(2,k),Zn(I,O),I=O.length>O.l?O.slice(0,O.l):O,O.l==null&&(O.l=O.length),I))}),zt(d,616)))}function Jhe(d){var x;zt(d,613,ko(1)),zt(d,46,((x=x||vt(51)).write_shift(1,0),Cb(0,x),Cb(0,x),Cb(0,x),Cb(0,x),Cb(0,x),x.length>x.l?x.slice(0,x.l):x)),zt(d,614)}function Zhe(d){var x,v;zt(d,619,ko(1)),zt(d,48,(x={xfId:0,builtinId:0,name:"Normal"},(v=v||vt(52)).write_shift(4,x.xfId),v.write_shift(2,1),v.write_shift(1,+x.builtinId),v.write_shift(1,0),oe(x.name||"",v),v.length>v.l?v.slice(0,v.l):v)),zt(d,620)}function Qhe(d){var x,v,_,k;zt(d,508,(x=0,v="TableStyleMedium9",_="PivotStyleMedium4",(k=vt(2052)).write_shift(4,x),oe(v,k),oe(_,k),k.length>k.l?k.slice(0,k.l):k)),zt(d,509)}function e0e(d,x){var v,_=Vn();return zt(_,278),Xhe(_,d.SSF),zt(d=_,611,ko(1)),zt(d,43,Ghe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),zt(d,612),zt(d=_,603,ko(2)),zt(d,45,YL({patternType:"none"})),zt(d,45,YL({patternType:"gray125"})),zt(d,604),Jhe(_),zt(d=_,626,ko(1)),zt(d,47,XL({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),zt(d,627),v=_,x=x.cellXfs,zt(v,617,ko(x.length)),x.forEach(function(k){zt(v,47,XL(k,0))}),zt(v,618),Zhe(_),zt(x=_,505,ko(0)),zt(x,506),Qhe(_),zt(_,279),_.end()}var t0e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function r0e(d,x,v){x.themeElements.clrScheme=[];var _={};(d[0].match(Ya)||[]).forEach(function(k){var I=Un(k);switch(I[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":_.rgb=I.val;break;case"<a:sysClr":_.rgb=I.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":I[0].charAt(1)==="/"?(x.themeElements.clrScheme[t0e.indexOf(I[0])]=_,_={}):_.name=I[0].slice(3,I[0].length-1);break;default:if(v&&v.WTF)throw new Error("Unrecognized "+I[0]+" in clrScheme")}})}function n0e(){}function a0e(){}var i0e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,s0e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,o0e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,l0e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function JL(d,x){var v,_,k,I,O,R={};if(!(v=(d=!d||d.length===0?H6():d).match(l0e)))throw new Error("themeElements not found in theme");return _=v[0],I=x,(k=R).themeElements={},[["clrScheme",i0e,r0e],["fontScheme",s0e,n0e],["fmtScheme",o0e,a0e]].forEach(function(H){if(!(O=_.match(H[1])))throw new Error(H[0]+" not found in themeElements");H[2](O,k,I)}),R.raw=d,R}function H6(d,x){return x&&x.themeXLSX?x.themeXLSX:d&&typeof d.raw=="string"?d.raw:(d=[wn],d[d.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',d[d.length]="<a:themeElements>",d[d.length]='<a:clrScheme name="Office">',d[d.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',d[d.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',d[d.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',d[d.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',d[d.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',d[d.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',d[d.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',d[d.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',d[d.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',d[d.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',d[d.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',d[d.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',d[d.length]="</a:clrScheme>",d[d.length]='<a:fontScheme name="Office">',d[d.length]="<a:majorFont>",d[d.length]='<a:latin typeface="Cambria"/>',d[d.length]='<a:ea typeface=""/>',d[d.length]='<a:cs typeface=""/>',d[d.length]='<a:font script="Jpan" typeface=" "/>',d[d.length]='<a:font script="Hang" typeface=" "/>',d[d.length]='<a:font script="Hans" typeface=""/>',d[d.length]='<a:font script="Hant" typeface=""/>',d[d.length]='<a:font script="Arab" typeface="Times New Roman"/>',d[d.length]='<a:font script="Hebr" typeface="Times New Roman"/>',d[d.length]='<a:font script="Thai" typeface="Tahoma"/>',d[d.length]='<a:font script="Ethi" typeface="Nyala"/>',d[d.length]='<a:font script="Beng" typeface="Vrinda"/>',d[d.length]='<a:font script="Gujr" typeface="Shruti"/>',d[d.length]='<a:font script="Khmr" typeface="MoolBoran"/>',d[d.length]='<a:font script="Knda" typeface="Tunga"/>',d[d.length]='<a:font script="Guru" typeface="Raavi"/>',d[d.length]='<a:font script="Cans" typeface="Euphemia"/>',d[d.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',d[d.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',d[d.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',d[d.length]='<a:font script="Thaa" typeface="MV Boli"/>',d[d.length]='<a:font script="Deva" typeface="Mangal"/>',d[d.length]='<a:font script="Telu" typeface="Gautami"/>',d[d.length]='<a:font script="Taml" typeface="Latha"/>',d[d.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',d[d.length]='<a:font script="Orya" typeface="Kalinga"/>',d[d.length]='<a:font script="Mlym" typeface="Kartika"/>',d[d.length]='<a:font script="Laoo" typeface="DokChampa"/>',d[d.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',d[d.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',d[d.length]='<a:font script="Viet" typeface="Times New Roman"/>',d[d.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',d[d.length]='<a:font script="Geor" typeface="Sylfaen"/>',d[d.length]="</a:majorFont>",d[d.length]="<a:minorFont>",d[d.length]='<a:latin typeface="Calibri"/>',d[d.length]='<a:ea typeface=""/>',d[d.length]='<a:cs typeface=""/>',d[d.length]='<a:font script="Jpan" typeface=" "/>',d[d.length]='<a:font script="Hang" typeface=" "/>',d[d.length]='<a:font script="Hans" typeface=""/>',d[d.length]='<a:font script="Hant" typeface=""/>',d[d.length]='<a:font script="Arab" typeface="Arial"/>',d[d.length]='<a:font script="Hebr" typeface="Arial"/>',d[d.length]='<a:font script="Thai" typeface="Tahoma"/>',d[d.length]='<a:font script="Ethi" typeface="Nyala"/>',d[d.length]='<a:font script="Beng" typeface="Vrinda"/>',d[d.length]='<a:font script="Gujr" typeface="Shruti"/>',d[d.length]='<a:font script="Khmr" typeface="DaunPenh"/>',d[d.length]='<a:font script="Knda" typeface="Tunga"/>',d[d.length]='<a:font script="Guru" typeface="Raavi"/>',d[d.length]='<a:font script="Cans" typeface="Euphemia"/>',d[d.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',d[d.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',d[d.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',d[d.length]='<a:font script="Thaa" typeface="MV Boli"/>',d[d.length]='<a:font script="Deva" typeface="Mangal"/>',d[d.length]='<a:font script="Telu" typeface="Gautami"/>',d[d.length]='<a:font script="Taml" typeface="Latha"/>',d[d.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',d[d.length]='<a:font script="Orya" typeface="Kalinga"/>',d[d.length]='<a:font script="Mlym" typeface="Kartika"/>',d[d.length]='<a:font script="Laoo" typeface="DokChampa"/>',d[d.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',d[d.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',d[d.length]='<a:font script="Viet" typeface="Arial"/>',d[d.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',d[d.length]='<a:font script="Geor" typeface="Sylfaen"/>',d[d.length]="</a:minorFont>",d[d.length]="</a:fontScheme>",d[d.length]='<a:fmtScheme name="Office">',d[d.length]="<a:fillStyleLst>",d[d.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:lin ang="16200000" scaled="1"/>',d[d.length]="</a:gradFill>",d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:lin ang="16200000" scaled="0"/>',d[d.length]="</a:gradFill>",d[d.length]="</a:fillStyleLst>",d[d.length]="<a:lnStyleLst>",d[d.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',d[d.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',d[d.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',d[d.length]="</a:lnStyleLst>",d[d.length]="<a:effectStyleLst>",d[d.length]="<a:effectStyle>",d[d.length]="<a:effectLst>",d[d.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',d[d.length]="</a:effectLst>",d[d.length]="</a:effectStyle>",d[d.length]="<a:effectStyle>",d[d.length]="<a:effectLst>",d[d.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',d[d.length]="</a:effectLst>",d[d.length]="</a:effectStyle>",d[d.length]="<a:effectStyle>",d[d.length]="<a:effectLst>",d[d.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',d[d.length]="</a:effectLst>",d[d.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',d[d.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',d[d.length]="</a:effectStyle>",d[d.length]="</a:effectStyleLst>",d[d.length]="<a:bgFillStyleLst>",d[d.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',d[d.length]="</a:gradFill>",d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',d[d.length]="</a:gradFill>",d[d.length]="</a:bgFillStyleLst>",d[d.length]="</a:fmtScheme>",d[d.length]="</a:themeElements>",d[d.length]="<a:objectDefaults>",d[d.length]="<a:spDef>",d[d.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',d[d.length]="</a:spDef>",d[d.length]="<a:lnDef>",d[d.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',d[d.length]="</a:lnDef>",d[d.length]="</a:objectDefaults>",d[d.length]="<a:extraClrSchemeLst/>",d[d.length]="</a:theme>",d.join(""))}function c0e(d){var x={};switch(x.xclrType=d.read_shift(2),x.nTintShade=d.read_shift(2),x.xclrType){case 0:d.l+=4;break;case 1:x.xclrValue=nr(d,4);break;case 2:x.xclrValue=M1(d);break;case 3:x.xclrValue=d.read_shift(4);break;case 4:d.l+=4}return d.l+=8,x}function u0e(d){var x=d.read_shift(2),v=d.read_shift(2)-4,_=[x];switch(x){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:_[1]=c0e(d);break;case 6:_[1]=nr(d,v);break;case 14:case 15:_[1]=d.read_shift(v==1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+x+" "+v)}return _}function d0e(){var d,x,v,_=Vn();return zt(_,332),zt(_,334,ko(1)),zt(_,335,((v=vt(12+2*(x={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,x.flags),v.write_shift(4,x.version),Zn(x.name,v),v.slice(0,v.l))),zt(_,336),zt(_,339,(d=1,(v=vt(8+2*(x="XLDAPR").length)).write_shift(4,d),Zn(x,v),v.slice(0,v.l))),zt(_,52),zt(_,35,ko(514)),zt(_,4096,ko(0)),zt(_,4097,hu(1)),zt(_,36),zt(_,53),zt(_,340),zt(_,337,(d=1,x=!0,(v=vt(8)).write_shift(4,d),v.write_shift(4,x?1:0),v)),zt(_,51,function(k){var I=vt(4+8*k.length);I.write_shift(4,k.length);for(var O=0;O<k.length;++O)I.write_shift(4,k[O][0]),I.write_shift(4,k[O][1]);return I}([[1,0]])),zt(_,338),zt(_,333),_.end()}function ZL(){var d=[wn];return d.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),d.join("")}var Qx=1024;function QL(d,x){for(var v=[21600,21600],_=["m0,0l0",v[1],v[0],v[1],v[0],"0xe"].join(","),k=[Or("xml",null,{"xmlns:v":Vs.v,"xmlns:o":Vs.o,"xmlns:x":Vs.x,"xmlns:mv":Vs.mv}).replace(/\/>/,">"),Or("o:shapelayout",Or("o:idmap",null,{"v:ext":"edit",data:d}),{"v:ext":"edit"}),Or("v:shapetype",[Or("v:stroke",null,{joinstyle:"miter"}),Or("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:v.join(","),path:_})];Qx<1e3*d;)Qx+=1e3;return x.forEach(function(I){var O=ni(I[0]),H={color2:"#BEFF82",type:"gradient"};H.type=="gradient"&&(H.angle="-180");var R=H.type=="gradient"?Or("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,H=Or("v:fill",R,H);++Qx,k=k.concat(["<v:shape"+Yd({id:"_x0000_s"+Qx,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(I[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",H,Or("v:shadow",null,{on:"t",obscured:"t"}),Or("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zs("x:Anchor",[O.c+1,0,O.r+1,0,O.c+3,20,O.r+5,20].join(",")),zs("x:AutoFill","False"),zs("x:Row",String(O.r)),zs("x:Column",String(O.c)),I[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),k.push("</xml>"),k.join("")}function e9(d,x,v,_){var k,I=Array.isArray(d);x.forEach(function(O){var R,H=ni(O.ref);(k=I?(d[H.r]||(d[H.r]=[]),d[H.r][H.c]):d[O.ref])||(k={t:"z"},I?d[H.r][H.c]=k:d[O.ref]=k,(R=Ia(d["!ref"]||"BDWGO1000001:A1")).s.r>H.r&&(R.s.r=H.r),R.e.r<H.r&&(R.e.r=H.r),R.s.c>H.c&&(R.s.c=H.c),R.e.c<H.c&&(R.e.c=H.c),(R=Yn(R))!==d["!ref"]&&(d["!ref"]=R)),k.c||(k.c=[]);var G={a:O.author,t:O.t,r:O.r,T:v};O.h&&(G.h=O.h);for(var te=k.c.length-1;0<=te;--te){if(!v&&k.c[te].T)return;v&&!k.c[te].T&&k.c.splice(te,1)}if(v&&_){for(te=0;te<_.length;++te)if(G.a==_[te].id){G.a=_[te].name||G.a;break}}k.c.push(G)})}function t9(d){var x=[wn,Or("comments",null,{xmlns:Wl[0]})],v=[];return x.push("<authors>"),d.forEach(function(_){_[1].forEach(function(k){var I=Ye(k.a);v.indexOf(I)==-1&&(v.push(I),x.push("<author>"+I+"</author>")),k.T&&k.ID&&v.indexOf("tc="+k.ID)==-1&&(v.push("tc="+k.ID),x.push("<author>tc="+k.ID+"</author>"))})}),v.length==0&&(v.push("SheetJ5"),x.push("<author>SheetJ5</author>")),x.push("</authors>"),x.push("<commentList>"),d.forEach(function(_){var k=0,I=[];if(_[1][0]&&_[1][0].T&&_[1][0].ID?k=v.indexOf("tc="+_[1][0].ID):_[1].forEach(function(H){H.a&&(k=v.indexOf(Ye(H.a))),I.push(H.t||"")}),x.push('<comment ref="'+_[0]+'" authorId="'+k+'"><text>'),I.length<=1)x.push(zs("t",Ye(I[0]||"")));else{for(var O=`Comment:
    `+I[0]+`
`,R=1;R<I.length;++R)O+=`Reply:
    `+I[R]+`
`;x.push(zs("t",Ye(O)))}x.push("</text></comment>")}),x.push("</commentList>"),2<x.length&&(x[x.length]="</comments>",x[1]=x[1].replace("/>",">")),x.join("")}We=is;function f0e(d){var x=Vn(),v=[];return zt(x,628),zt(x,630),d.forEach(function(_){_[1].forEach(function(k){-1<v.indexOf(k.a)||(v.push(k.a.slice(0,54)),zt(x,632,Zn(k.a.slice(0,54))))})}),zt(x,631),zt(x,633),d.forEach(function(_){_[1].forEach(function(k){k.iauthor=v.indexOf(k.a);var I,O={s:ni(_[0]),e:ni(_[0])};zt(x,635,(O=[O,k],(I=I??vt(36)).write_shift(4,O[1].iauthor),Vt(O[0],I),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I)),k.t&&0<k.t.length&&zt(x,637,m(k)),zt(x,636),delete k.iauthor})}),zt(x,634),zt(x,629),x.end()}var h0e="application/vnd.ms-office.vbaProject",r9=["xlsb","xlsm","xlam","biff8","xla"],q6,n9,ev=(n9=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,function(d,x){return q6=x,d.replace(n9,m0e)});function m0e(d,x,v,_){var k=!1,I=!1;return v.length==0?I=!0:v.charAt(0)=="["&&(I=!0,v=v.slice(1,-1)),_.length==0?k=!0:_.charAt(0)=="["&&(k=!0,_=_.slice(1,-1)),v=0<v.length?0|parseInt(v,10):0,_=0<_.length?0|parseInt(_,10):0,k?_+=q6.c:--_,I?v+=q6.r:--v,x+(k?"":"$")+wa(_)+(I?"":"$")+ja(v)}var G6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,K6=function(d,x){return d.replace(G6,function(v,_,k,I,O,R){return I=pc(I)-(k?0:x.c),R=To(R)-(O?0:x.r),_+"R"+(R==0?"":O?1+R:"["+R+"]")+"C"+(I==0?"":k?1+I:"["+I+"]")})};function a9(d,x){return d.replace(G6,function(v,_,k,I,O,R){return _+(k=="$"?k+I:wa(pc(I)+x.c))+(O=="$"?O+R:ja(To(R)+x.r))})}function i9(d){return d.replace(/_xlfn\./g,"")}function hl(d){d.l+=1}function rp(d,x){return x=d.read_shift(x==1?1:2),[16383&x,x>>14&1,x>>15&1]}function s9(O,x,k){var I=2;if(k){if(2<=k.biff&&k.biff<=5)return o9(O);k.biff==12&&(I=4)}var _=O.read_shift(I),k=O.read_shift(I),I=rp(O,2),O=rp(O,2);return{s:{r:_,c:I[0],cRel:I[1],rRel:I[2]},e:{r:k,c:O[0],cRel:O[1],rRel:O[2]}}}function o9(k){var x=rp(k,2),v=rp(k,2),_=k.read_shift(1),k=k.read_shift(1);return{s:{r:x[0],c:_,cRel:x[1],rRel:x[2]},e:{r:v[0],c:k,cRel:v[1],rRel:v[2]}}}function l9(O,x,I){if(I&&2<=I.biff&&I.biff<=5)return k=rp(_=O,2),_=_.read_shift(1),{r:k[0],c:_,cRel:k[1],rRel:k[2]};var _,k,I=O.read_shift(I&&I.biff==12?4:2),O=rp(O,2);return{r:I,c:O[0],cRel:O[1],rRel:O[2]}}function p0e(O,x,I){if(I=I&&I.biff?I.biff:8,2<=I&&I<=5)return function(de){var H=de.read_shift(2),G=de.read_shift(1),te=(32768&H)>>15,de=(16384&H)>>14;return H&=16383,te==1&&8192<=H&&(H-=16384),de==1&&128<=G&&(G-=256),{r:H,c:G,cRel:de,rRel:te}}(O);var _=O.read_shift(12<=I?4:2),k=O.read_shift(2),I=(16384&k)>>14,O=(32768&k)>>15;if(k&=16383,O==1)for(;524287<_;)_-=1048576;if(I==1)for(;8191<k;)k-=16384;return{r:_,c:k,cRel:I,rRel:O}}function c9(d){var x=1&d[d.l+1];return d.l+=4,[x,1]}function u9(d){return[d.read_shift(1),d.read_shift(1)]}function g0e(d,x,v){var _=0,k=0;v.biff==12?(_=d.read_shift(4),k=d.read_shift(4)):(k=1+d.read_shift(1),_=1+d.read_shift(2)),2<=v.biff&&v.biff<8&&(--_,--k==0&&(k=256));for(var I=0,O=[];I!=_&&(O[I]=[]);++I)for(var R=0;R!=k;++R)O[I][R]=function(H,G){var te=[H.read_shift(1)];if(G==12)switch(te[0]){case 2:te[0]=4;break;case 4:te[0]=16;break;case 0:te[0]=1;break;case 1:te[0]=2}switch(te[0]){case 4:te[1]=Li(H,1)?"TRUE":"FALSE",G!=12&&(H.l+=7);break;case 37:case 16:te[1]=ao[H[H.l]],H.l+=G==12?4:8;break;case 0:H.l+=8;break;case 1:te[1]=ir(H);break;case 2:te[1]=Wh(H,0,{biff:0<G&&G<8?2:G});break;default:throw new Error("Bad SerAr: "+te[0])}return te}(d,v.biff);return O}function Ab(d,x,v){return d.l+=2,[(d=(_=d).read_shift(2),_=_.read_shift(2),{r:d,c:255&_,fQuoted:!!(16384&_),cRel:_>>15,rRel:_>>15})];var _}function Y6(d){return d.l+=6,[]}function d9(d){return d.l+=2,[Oo(d),1&d.read_shift(2)]}var x0e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],f9={1:{n:"PtgExp",f:function(d,x,v){return d.l++,v&&v.biff==12?[d.read_shift(4,"i"),0]:[d.read_shift(2),d.read_shift(v&&v.biff==2?1:2)]}},2:{n:"PtgTbl",f:nr},3:{n:"PtgAdd",f:hl},4:{n:"PtgSub",f:hl},5:{n:"PtgMul",f:hl},6:{n:"PtgDiv",f:hl},7:{n:"PtgPower",f:hl},8:{n:"PtgConcat",f:hl},9:{n:"PtgLt",f:hl},10:{n:"PtgLe",f:hl},11:{n:"PtgEq",f:hl},12:{n:"PtgGe",f:hl},13:{n:"PtgGt",f:hl},14:{n:"PtgNe",f:hl},15:{n:"PtgIsect",f:hl},16:{n:"PtgUnion",f:hl},17:{n:"PtgRange",f:hl},18:{n:"PtgUplus",f:hl},19:{n:"PtgUminus",f:hl},20:{n:"PtgPercent",f:hl},21:{n:"PtgParen",f:hl},22:{n:"PtgMissArg",f:hl},23:{n:"PtgStr",f:function(d,x,v){return d.l++,D1(d,0,v)}},26:{n:"PtgSheet",f:function(d,x,v){return d.l+=5,d.l+=2,d.l+=v.biff==2?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(d,x,v){return d.l+=v.biff==2?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(d){return d.l++,ao[d.read_shift(1)]}},29:{n:"PtgBool",f:function(d){return d.l++,d.read_shift(1)!==0}},30:{n:"PtgInt",f:function(d){return d.l++,d.read_shift(2)}},31:{n:"PtgNum",f:function(d){return d.l++,ir(d)}},32:{n:"PtgArray",f:function(d,x,v){var _=(96&d[d.l++])>>5;return d.l+=v.biff==2?6:v.biff==12?14:7,[_]}},33:{n:"PtgFunc",f:function(d,x,v){var _=(96&d[d.l])>>5;return d.l+=1,v=d.read_shift(v&&v.biff<=3?1:2),[j0e[v],p9[v],_]}},34:{n:"PtgFuncVar",f:function(d,x,v){var _=d[d.l++],k=d.read_shift(1),I=v&&v.biff<=3?[_==88?-1:0,d.read_shift(1)]:[(I=d)[I.l+1]>>7,32767&I.read_shift(2)];return[k,(I[0]===0?p9:A0e)[I[1]]]}},35:{n:"PtgName",f:function(d,x,v){var _=d.read_shift(1)>>>5&3,k=!v||8<=v.biff?4:2,k=d.read_shift(k);switch(v.biff){case 2:d.l+=5;break;case 3:case 4:d.l+=8;break;case 5:d.l+=12}return[_,0,k]}},36:{n:"PtgRef",f:function(d,x,v){var _=(96&d[d.l])>>5;return d.l+=1,[_,l9(d,0,v)]}},37:{n:"PtgArea",f:function(d,x,v){return[(96&d[d.l++])>>5,s9(d,2<=v.biff&&v.biff,v)]}},38:{n:"PtgMemArea",f:function(d,x,v){var _=d.read_shift(1)>>>5&3;return d.l+=v&&v.biff==2?3:4,[_,d.read_shift(v&&v.biff==2?1:2)]}},39:{n:"PtgMemErr",f:nr},40:{n:"PtgMemNoMem",f:nr},41:{n:"PtgMemFunc",f:function(d,x,v){return[d.read_shift(1)>>>5&3,d.read_shift(v&&v.biff==2?1:2)]}},42:{n:"PtgRefErr",f:function(d,x,v){var _=d.read_shift(1)>>>5&3;return d.l+=4,v.biff<8&&d.l--,v.biff==12&&(d.l+=2),[_]}},43:{n:"PtgAreaErr",f:function(d,x,v){var _=(96&d[d.l++])>>5;return d.l+=v&&8<v.biff?12:v.biff<8?6:8,[_]}},44:{n:"PtgRefN",f:function(d,x,v){var _=(96&d[d.l])>>5;return d.l+=1,[_,p0e(d,0,v)]}},45:{n:"PtgAreaN",f:function(d,x,v){return[(96&d[d.l++])>>5,function(H,R){if(R.biff<8)return o9(H);var I=H.read_shift(R.biff==12?4:2),O=H.read_shift(R.biff==12?4:2),R=rp(H,2),H=rp(H,2);return{s:{r:I,c:R[0],cRel:R[1],rRel:R[2]},e:{r:O,c:H[0],cRel:H[1],rRel:H[2]}}}(d,v)]}},46:{n:"PtgMemAreaN",f:function(d){return[d.read_shift(1)>>>5&3,d.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(d){return[d.read_shift(1)>>>5&3,d.read_shift(2)]}},57:{n:"PtgNameX",f:function(d,x,v){return v.biff==5?function(_){var k=_.read_shift(1)>>>5&3,I=_.read_shift(2,"i");_.l+=8;var O=_.read_shift(2);return _.l+=12,[k,I,O]}(d):[d.read_shift(1)>>>5&3,d.read_shift(2),d.read_shift(4)]}},58:{n:"PtgRef3d",f:function(d,x,v){var _=(96&d[d.l])>>5;d.l+=1;var k=d.read_shift(2);return v&&v.biff==5&&(d.l+=12),[_,k,l9(d,0,v)]}},59:{n:"PtgArea3d",f:function(d,x,v){var _=(96&d[d.l++])>>5,k=d.read_shift(2,"i");if(v)switch(v.biff){case 5:d.l+=12;break}return[_,k,s9(d,0,v)]}},60:{n:"PtgRefErr3d",f:function(d,x,v){var _=(96&d[d.l++])>>5,k=d.read_shift(2),I=4;if(v)switch(v.biff){case 5:I=15;break;case 12:I=6}return d.l+=I,[_,k]}},61:{n:"PtgAreaErr3d",f:function(d,x,v){var _=(96&d[d.l++])>>5,k=d.read_shift(2),I=8;if(v)switch(v.biff){case 5:d.l+=12,I=6;break;case 12:I=12}return d.l+=I,[_,k]}},255:{}},v0e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},y0e={1:{n:"PtgElfLel",f:d9},2:{n:"PtgElfRw",f:Ab},3:{n:"PtgElfCol",f:Ab},6:{n:"PtgElfRwV",f:Ab},7:{n:"PtgElfColV",f:Ab},10:{n:"PtgElfRadical",f:Ab},11:{n:"PtgElfRadicalS",f:Y6},13:{n:"PtgElfColS",f:Y6},15:{n:"PtgElfColSV",f:Y6},16:{n:"PtgElfRadicalLel",f:d9},25:{n:"PtgList",f:function(I){I.l+=2;var x=I.read_shift(2),v=I.read_shift(2),_=I.read_shift(4),k=I.read_shift(2),I=I.read_shift(2);return{ixti:x,coltype:3&v,rt:x0e[v>>2&31],idx:_,c:k,C:I}}},29:{n:"PtgSxName",f:function(d){return d.l+=2,[d.read_shift(4)]}},255:{}},b0e={0:{n:"PtgAttrNoop",f:function(d){return d.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(d,x,v){var _=255&d[d.l+1]?1:0;return d.l+=v&&v.biff==2?3:4,[_]}},2:{n:"PtgAttrIf",f:function(d,x,v){var _=255&d[d.l+1]?1:0;return d.l+=2,[_,d.read_shift(v&&v.biff==2?1:2)]}},4:{n:"PtgAttrChoose",f:function(d,x,v){d.l+=2;for(var _=d.read_shift(v&&v.biff==2?1:2),k=[],I=0;I<=_;++I)k.push(d.read_shift(v&&v.biff==2?1:2));return k}},8:{n:"PtgAttrGoto",f:function(d,x,v){var _=255&d[d.l+1]?1:0;return d.l+=2,[_,d.read_shift(v&&v.biff==2?1:2)]}},16:{n:"PtgAttrSum",f:function(d,x,v){d.l+=v&&v.biff==2?3:4}},32:{n:"PtgAttrBaxcel",f:c9},33:{n:"PtgAttrBaxcel",f:c9},64:{n:"PtgAttrSpace",f:function(d){return d.read_shift(2),u9(d)}},65:{n:"PtgAttrSpaceSemi",f:function(d){return d.read_shift(2),u9(d)}},128:{n:"PtgAttrIfError",f:function(d){var x=255&d[d.l+1]?1:0;return d.l+=2,[x,d.read_shift(2)]}},255:{}};function jb(d,x,v,_){if(_.biff<8)return nr(d,x);for(var k=d.l+x,I=[],O=0;O!==v.length;++O)switch(v[O][0]){case"PtgArray":v[O][1]=g0e(d,0,_),I.push(v[O][1]);break;case"PtgMemArea":v[O][2]=function(R,H){for(var G=R.read_shift(H.biff==12?4:2),te=[],de=0;de!=G;++de)te.push((H.biff==12?Nt:L1)(R));return te}(d,(v[O][1],_)),I.push(v[O][2]);break;case"PtgExp":_&&_.biff==12&&(v[O][1][1]=d.read_shift(4),I.push(v[O][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+v[O][0]}return(x=k-d.l)!==0&&I.push(nr(d,x)),I}function Eb(d,x,v){for(var _,k,I=d.l+x,O=[];I!=d.l;)x=I-d.l,k=d[d.l],_=f9[k]||f9[v0e[k]],(_=k===24||k===25?(k===24?y0e:b0e)[d[d.l+1]]:_)&&_.f?O.push([_.n,_.f(d,x,v)]):nr(d,x);return O}var w0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function h9(d,x,v){if(!d)return"SH33TJSERR0";if(8<v.biff&&(!d.XTI||!d.XTI[x]))return d.SheetNames[x];if(!d.XTI)return"SH33TJSERR6";var _=d.XTI[x];if(v.biff<8)return 1e4<x&&(x-=65536),(x=x<0?-x:x)==0?"":d.XTI[x-1];if(!_)return"SH33TJSERR1";var k="";if(8<v.biff)switch(d[_[0]][0]){case 357:return k=_[1]==-1?"#REF":d.SheetNames[_[1]],_[1]==_[2]?k:k+":"+d.SheetNames[_[2]];case 358:return v.SID!=null?d.SheetNames[v.SID]:"SH33TJSSAME"+d[_[0]][0];case 355:default:return"SH33TJSSRC"+d[_[0]][0]}switch(d[_[0]][0][0]){case 1025:return k=_[1]==-1?"#REF":d.SheetNames[_[1]]||"SH33TJSERR3",_[1]==_[2]?k:k+":"+d.SheetNames[_[2]];case 14849:return d[_[0]].slice(1).map(function(I){return I.Name}).join(";;");default:return d[_[0]][0][3]?(k=_[1]==-1?"#REF":d[_[0]][0][3][_[1]]||"SH33TJSERR4",_[1]==_[2]?k:k+":"+d[_[0]][0][3][_[2]]):"SH33TJSERR2"}}function m9(d,x,v){return x=h9(d,x,v),x=="#REF"?x:function(_,k){if(!(_||k&&k.biff<=5&&2<=k.biff))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(_)?"'"+_+"'":_}(x,v)}function gu(d,x,v,_,k){var I,O,R,H=k&&k.biff||8,G={s:{c:0,r:0},e:{c:0,r:0}},te=[],de=0,fe=0,me="";if(!d[0]||!d[0][0])return"";for(var Ae=-1,ve="",Be=0,Ee=d[0].length;Be<Ee;++Be){var _e=d[0][Be];switch(_e[0]){case"PtgUminus":te.push("-"+te.pop());break;case"PtgUplus":te.push("+"+te.pop());break;case"PtgPercent":te.push(te.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(cn=te.pop(),I=te.pop(),0<=Ae){switch(d[0][Ae][1][0]){case 0:ve=Pt(" ",d[0][Ae][1][1]);break;case 1:ve=Pt("\r",d[0][Ae][1][1]);break;default:if(ve="",k.WTF)throw new Error("Unexpected PtgAttrSpaceType "+d[0][Ae][1][0])}I+=ve,Ae=-1}te.push(I+w0e[_e[0]]+cn);break;case"PtgIsect":cn=te.pop(),I=te.pop(),te.push(I+" "+cn);break;case"PtgUnion":cn=te.pop(),I=te.pop(),te.push(I+","+cn);break;case"PtgRange":cn=te.pop(),I=te.pop(),te.push(I+":"+cn);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":break;case"PtgRef":O=Wa(_e[1][1],G,k),te.push(Ai(O,H));break;case"PtgRefN":O=v?Wa(_e[1][1],v,k):_e[1][1],te.push(Ai(O,H));break;case"PtgRef3d":de=_e[1][1],O=Wa(_e[1][2],G,k),me=m9(_,de,k),te.push(me+"!"+Ai(O,H));break;case"PtgFunc":case"PtgFuncVar":var He=_e[1][0],Me=_e[1][1],He=He||0,qe=(He&=127)==0?[]:te.slice(-He);te.length-=He,Me==="User"&&(Me=qe.shift()),te.push(Me+"("+qe.join(",")+")");break;case"PtgBool":te.push(_e[1]?"TRUE":"FALSE");break;case"PtgInt":te.push(_e[1]);break;case"PtgNum":te.push(String(_e[1]));break;case"PtgStr":te.push('"'+_e[1].replace(/"/g,'""')+'"');break;case"PtgErr":te.push(_e[1]);break;case"PtgAreaN":R=gs(_e[1][1],v?{s:v}:G,k),te.push(xs(R,k));break;case"PtgArea":R=gs(_e[1][1],G,k),te.push(xs(R,k));break;case"PtgArea3d":de=_e[1][1],R=_e[1][2],me=m9(_,de,k),te.push(me+"!"+xs(R,k));break;case"PtgAttrSum":te.push("SUM("+te.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":fe=_e[1][2];var ft=(_.names||[])[fe-1]||(_[0]||[])[fe],Et=ft?ft.Name:"SH33TJSNAME"+String(fe);Et&&Et.slice(0,6)=="_xlfn."&&!k.xlfn&&(Et=Et.slice(6)),te.push(Et);break;case"PtgNameX":var bt,Ut=_e[1][1],fe=_e[1][2];if(!(k.biff<=5)){ft="",((_[Ut]||[])[0]||[])[0]==14849||(((_[Ut]||[])[0]||[])[0]==1025?_[Ut][fe]&&0<_[Ut][fe].itab&&(ft=_.SheetNames[_[Ut][fe].itab-1]+"!"):ft=_.SheetNames[fe-1]+"!"),_[Ut]&&_[Ut][fe]?ft+=_[Ut][fe].Name:_[0]&&_[0][fe]?ft+=_[0][fe].Name:(Et=(h9(_,Ut,k)||"").split(";;"))[fe-1]?ft=Et[fe-1]:ft+="SH33TJSERRX",te.push(ft);break}bt=(bt=_[Ut=Ut<0?-Ut:Ut]?_[Ut][fe]:bt)||{Name:"SH33TJSERRY"},te.push(bt.Name);break;case"PtgParen":var cr="(",dr=")";if(0<=Ae){switch(ve="",d[0][Ae][1][0]){case 2:cr=Pt(" ",d[0][Ae][1][1])+cr;break;case 3:cr=Pt("\r",d[0][Ae][1][1])+cr;break;case 4:dr=Pt(" ",d[0][Ae][1][1])+dr;break;case 5:dr=Pt("\r",d[0][Ae][1][1])+dr;break;default:if(k.WTF)throw new Error("Unexpected PtgAttrSpaceType "+d[0][Ae][1][0])}Ae=-1}te.push(cr+te.pop()+dr);break;case"PtgRefErr":case"PtgRefErr3d":te.push("#REF!");break;case"PtgExp":O={c:_e[1][1],r:_e[1][0]};var Gt={c:v.c,r:v.r};if(_.sharedf[kn(O)])Ut=_.sharedf[kn(O)],te.push(gu(Ut,0,Gt,_,k));else{for(var Er=!1,cn=0;cn!=_.arrayf.length;++cn)if(I=_.arrayf[cn],!(O.c<I[0].s.c||O.c>I[0].e.c||O.r<I[0].s.r||O.r>I[0].e.r)){te.push(gu(I[1],0,Gt,_,k)),Er=!0;break}Er||te.push(_e[1])}break;case"PtgArray":te.push("{"+function(Hr){for(var Rr=[],br=0;br<Hr.length;++br){for(var xn=Hr[br],Nn=[],Xn=0;Xn<xn.length;++Xn){var Xa=xn[Xn];Xa?Xa[0]===2?Nn.push('"'+Xa[1].replace(/"/g,'""')+'"'):Nn.push(Xa[1]):Nn.push("")}Rr.push(Nn.join(","))}return Rr.join(";")}(_e[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Ae=Be;break;case"PtgTbl":case"PtgMemErr":break;case"PtgMissArg":te.push("");break;case"PtgAreaErr":case"PtgAreaErr3d":te.push("#REF!");break;case"PtgList":te.push("Table"+_e[1].idx+"[#"+_e[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":default:throw new Error("Unrecognized Formula Token: "+String(_e))}if(k.biff!=3&&0<=Ae&&["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(d[0][Be][0])==-1){var en=!0;switch((_e=d[0][Ae])[1][0]){case 4:en=!1;case 0:ve=Pt(" ",_e[1][1]);break;case 5:en=!1;case 1:ve=Pt("\r",_e[1][1]);break;default:if(ve="",k.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_e[1][0])}te.push((en?ve:"")+te.pop()+(en?"":ve)),Ae=-1}}if(1<te.length&&k.WTF)throw new Error("bad formula stack");return te[0]}function X6(d,O,v){var _=d.l+O,k=Wu(d);v.biff==2&&++d.l;var I=function(R){var H;if(Mi(R,R.l+6)!==65535)return[ir(R),"n"];switch(R[R.l]){case 0:return R.l+=8,["String","s"];case 1:return H=R[R.l+2]===1,R.l+=8,[H,"b"];case 2:return H=R[R.l+2],R.l+=8,[H,"e"];case 3:return R.l+=8,["","s"]}return[]}(d),O=d.read_shift(1);return v.biff!=2&&(d.read_shift(1),5<=v.biff&&d.read_shift(4)),v=function(R,H,G){var te,de=R.l+H,fe=G.biff==2?1:2,me=R.read_shift(fe);if(me==65535)return[[],nr(R,H-2)];var Ae=Eb(R,me,G);return H!==me+fe&&(te=jb(R,H-me-fe,Ae,G)),R.l=de,[Ae,te]}(d,_-d.l,v),{cell:k,val:I[0],formula:v,shared:O>>3&1,tt:I[1]}}function _0e(d,x,v,_,k){x=Hh(x,v,k),k=(v=d.v)!=null?vr(typeof v=="number"?v:0):((v=vt(8)).write_shift(1,3),v.write_shift(1,0),v.write_shift(2,0),v.write_shift(2,0),v.write_shift(2,65535),v),v=vt(6),v.write_shift(2,33),v.write_shift(4,0);for(var I=vt(d.bf.length),O=0;O<d.bf.length;++O)I[O]=d.bf[O];return ie([x,k,v,I])}function a3(d,x,v){var k=d.read_shift(4),_=Eb(d,k,v),k=d.read_shift(4);return[_,0<k?jb(d,k,_,v):null]}var N0e=a3,i3=a3,S0e=a3,C0e=a3,A0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},p9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},j0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function g9(d){return(d=(d=(d=(d=(d=d.slice(0,3)=="of:"?d.slice(3):d).charCodeAt(0)==61&&(d=d.slice(1)).charCodeAt(0)==61?d.slice(1):d).replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(x,v){return v.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function J6(d){return d=d.split(":"),[d[0].split(".")[0],d[0].split(".")[1]+(1<d.length?":"+(d[1].split(".")[1]||d[1].split(".")[0]):"")]}var Tb={},tv={},kb=typeof Map<"u";function Z6(d,x,v){var _=0,k=d.length;if(v){if(kb?v.has(x):Object.prototype.hasOwnProperty.call(v,x)){for(var I=kb?v.get(x):v[x];_<I.length;++_)if(d[I[_]].t===x)return d.Count++,I[_]}}else for(;_<k;++_)if(d[_].t===x)return d.Count++,_;return d[k]={t:x},d.Count++,d.Unique++,v&&(kb?(v.has(x)||v.set(x,[]),v.get(x).push(k)):(Object.prototype.hasOwnProperty.call(v,x)||(v[x]=[]),v[x].push(k))),k}function s3(_,x){var v={min:_+1,max:_+1},_=-1;return x.MDW&&(fl=x.MDW),x.width!=null?v.customWidth=1:x.wpx!=null?_=H1(x.wpx):x.wch!=null&&(_=x.wch),-1<_?(v.width=ep(_),v.customWidth=1):x.width!=null&&(v.width=x.width),x.hidden&&(v.hidden=!0),x.level!=null&&(v.outlineLevel=v.level=x.level),v}function G1(d,x){d&&(x=x=="xlml"?[1,1,1,1,.5,.5]:[.7,.7,.75,.75,.3,.3],d.left==null&&(d.left=x[0]),d.right==null&&(d.right=x[1]),d.top==null&&(d.top=x[2]),d.bottom==null&&(d.bottom=x[3]),d.header==null&&(d.header=x[4]),d.footer==null&&(d.footer=x[5]))}function np(d,x,v){if(Sb!==void 0){if(/^\d+$/.exec(x.s)||x.s&&x.s==+x.s)return x.s;var _=x.s||{};return x.z&&(_.numFmt=x.z),Sb.addStyle(_)}var k=v.revssf[x.z!=null?x.z:"General"],I=60,O=d.length;if(k==null&&v.ssf){for(;I<392;++I)if(v.ssf[I]==null){pn(x.z,I),v.ssf[I]=x.z,v.revssf[x.z]=k=I;break}}for(I=0;I!=O;++I)if(d[I].numFmtId===k)return I;return d[O]={numFmtId:k,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},O}function x9(d,x,v,_,k,I){try{_.cellNF&&(d.z=ee[x])}catch(R){if(_.WTF)throw R}if(d.t!=="z"||_.cellStyles){if(d.t==="d"&&typeof d.v=="string"&&(d.v=Je(d.v)),(!_||_.cellText!==!1)&&d.t!=="z")try{if(ee[x]==null&&pn(Di[x]||"General",x),d.t==="e")d.w=d.w||ao[d.v];else if(x===0)if(d.t==="n")(0|d.v)===d.v?d.w=d.v.toString(10):d.w=ht(d.v);else if(d.t==="d"){var O=sa(d.v);d.w=(0|O)===O?O.toString(10):ht(O)}else{if(d.v===void 0)return;d.w=Ue(d.v,tv)}else d.t==="d"?d.w=An(x,sa(d.v),tv):d.w=An(x,d.v,tv)}catch(R){if(_.WTF)throw R}if(_.cellStyles&&v!=null)try{d.s=I.Fills[v],d.s.fgColor&&d.s.fgColor.theme&&!d.s.fgColor.rgb&&(d.s.fgColor.rgb=Hu(k.themeElements.clrScheme[d.s.fgColor.theme].rgb,d.s.fgColor.tint||0),_.WTF&&(d.s.fgColor.raw_rgb=k.themeElements.clrScheme[d.s.fgColor.theme].rgb)),d.s.bgColor&&d.s.bgColor.theme&&(d.s.bgColor.rgb=Hu(k.themeElements.clrScheme[d.s.bgColor.theme].rgb,d.s.bgColor.tint||0),_.WTF&&(d.s.bgColor.raw_rgb=k.themeElements.clrScheme[d.s.bgColor.theme].rgb))}catch(R){if(_.WTF&&I.Fills)throw R}}}var E0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,T0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,k0e=/<(?:\w:)?hyperlink [^>]*>/gm,P0e=/"(\w*:\w*)"/,O0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,I0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,F0e=/<(?:\w:)?pageMargins[^>]*\/>/g,v9=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,D0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,R0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function M0e(d,x,v,_,k,I,O){if(!d)return d;_=_||{"!id":{}};var R=x.dense?[]:{},H={s:{r:2e6,c:2e6},e:{r:0,c:0}},G="",Et="",te=d.match(T0e);te?(G=d.slice(0,te.index),Et=d.slice(te.index+te[0].length)):G=Et=d;var de=G.match(v9);de?Q6(de[0],0,k,v):(de=G.match(D0e))&&(d=de[0],de[1],de=R,fe=k,me=v,Q6(d.slice(0,d.indexOf(">")),0,fe,me));var fe,me,Ae=(G.match(/<(?:\w*:)?dimension/)||{index:-1}).index;0<Ae&&(fe=G.slice(Ae,Ae+50).match(P0e))&&(me=R,(Be=Ia(Be=fe[1])).s.r<=Be.e.r&&Be.s.c<=Be.e.c&&0<=Be.s.r&&0<=Be.s.c&&(me["!ref"]=Yn(Be)));var ve,Be=G.match(R0e);Be&&Be[1]&&(_e=Be[1],(ve=k).Views||(ve.Views=[{}]),(_e.match($0e)||[]).forEach(function(bt,Ut){bt=Un(bt),ve.Views[Ut]||(ve.Views[Ut]={}),+bt.zoomScale&&(ve.Views[Ut].zoom=+bt.zoomScale),Qr(bt.rightToLeft)&&(ve.Views[Ut].RTL=!0)}));var Ee,_e=[];x.cellStyles&&(Ee=G.match(O0e))&&function(bt,Ut){for(var cr=!1,dr=0;dr!=Ut.length;++dr){var Gt=Un(Ut[dr],!0);Gt.hidden&&(Gt.hidden=Qr(Gt.hidden));var Er=parseInt(Gt.min,10)-1,cn=parseInt(Gt.max,10)-1;for(Gt.outlineLevel&&(Gt.level=+Gt.outlineLevel||0),delete Gt.min,delete Gt.max,Gt.width=+Gt.width,!cr&&Gt.width&&(cr=!0,W6(Gt.width)),tp(Gt);Er<=cn;)bt[Er++]=wt(Gt)}}(_e,Ee),te&&U0e(te[1],R,x,H,I,O),O=Et.match(I0e),O&&(R["!autofilter"]={ref:(O[0].match(/ref="([^"]*)"/)||[])[1]});var Me=[],He=Et.match(E0e);if(He)for(Ae=0;Ae!=He.length;++Ae)Me[Ae]=Ia(He[Ae].slice(He[Ae].indexOf('"')+1));O=Et.match(k0e),O&&function(bt,Ut,cr){for(var dr=Array.isArray(bt),Gt=0;Gt!=Ut.length;++Gt){var Er=Un(Ci(Ut[Gt]),!0);if(!Er.ref)return;var cn=((cr||{})["!id"]||[])[Er.id];cn?(Er.Target=cn.Target,Er.location&&(Er.Target+="#"+Tn(Er.location))):(Er.Target="#"+Tn(Er.location),cn={Target:Er.Target,TargetMode:"Internal"}),Er.Rel=cn,Er.tooltip&&(Er.Tooltip=Er.tooltip,delete Er.tooltip);for(var en=Ia(Er.ref),$r=en.s.r;$r<=en.e.r;++$r)for(var Hr=en.s.c;Hr<=en.e.c;++Hr){var Rr=kn({c:Hr,r:$r});dr?(bt[$r]||(bt[$r]=[]),bt[$r][Hr]||(bt[$r][Hr]={t:"z",v:void 0}),bt[$r][Hr].l=Er):(bt[Rr]||(bt[Rr]={t:"z",v:void 0}),bt[Rr].l=Er)}}}(R,O,_);var qe,ft,Et=Et.match(F0e);return Et&&(R["!margins"]=(qe=Un(Et[0]),ft={},["left","right","top","bottom","header","footer"].forEach(function(bt){qe[bt]&&(ft[bt]=parseFloat(qe[bt]))}),ft)),!R["!ref"]&&H.e.c>=H.s.c&&H.e.r>=H.s.r&&(R["!ref"]=Yn(H)),0<x.sheetRows&&R["!ref"]&&(Et=Ia(R["!ref"]),x.sheetRows<=+Et.e.r&&(Et.e.r=x.sheetRows-1,Et.e.r>H.e.r&&(Et.e.r=H.e.r),Et.e.r<Et.s.r&&(Et.s.r=Et.e.r),Et.e.c>H.e.c&&(Et.e.c=H.e.c),Et.e.c<Et.s.c&&(Et.s.c=Et.e.c),R["!fullref"]=R["!ref"],R["!ref"]=Yn(Et))),0<_e.length&&(R["!cols"]=_e),0<Me.length&&(R["!merges"]=Me),R}function Q6(d,x,v,_){d=Un(d),v.Sheets[_]||(v.Sheets[_]={}),d.codeName&&(v.Sheets[_].CodeName=Tn(Ci(d.codeName)))}var L0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],B0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"],$0e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,y9,b9,w9,_9,N9,S9,C9,U0e=(y9=/<(?:\w+:)?c[ \/>]/,b9=/<\/(?:\w+:)?row>/,w9=/r=["']([^"']*)["']/,_9=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,N9=/ref=["']([^"']*)["']/,S9=iu("v"),C9=iu("f"),function(d,x,v,_,k,I){for(var O,R,H,G,te,de,fe=0,me="",Ae=[],ve=[],Be=0,Ee=0,_e="",Me=0,He=0,qe=0,ft=0,Et=Array.isArray(I.CellXf),bt=[],Ut=[],cr=Array.isArray(x),dr=[],Gt={},Er=!1,cn=!!v.sheetStubs,en=d.split(b9),$r=0,Hr=en.length;$r!=Hr;++$r){var Rr=(me=en[$r].trim()).length;if(Rr!==0){var br=0;e:for(fe=0;fe<Rr;++fe)switch(me[fe]){case">":if(me[fe-1]!="/"){++fe;break e}if(v&&v.cellStyles){if(Me=(H=Un(me.slice(br,fe),!0)).r!=null?parseInt(H.r,10):Me+1,He=-1,v.sheetRows&&v.sheetRows<Me)continue;Er=!(Gt={}),H.ht&&(Er=!0,Gt.hpt=parseFloat(H.ht),Gt.hpx=Zx(Gt.hpt)),H.hidden=="1"&&(Er=!0,Gt.hidden=!0),H.outlineLevel!=null&&(Er=!0,Gt.level=+H.outlineLevel),Er&&(dr[Me-1]=Gt)}break;case"<":br=fe}if(fe<=br)break;if(Me=(H=Un(me.slice(br,fe),!0)).r!=null?parseInt(H.r,10):Me+1,He=-1,!(v.sheetRows&&v.sheetRows<Me)){_.s.r>Me-1&&(_.s.r=Me-1),_.e.r<Me-1&&(_.e.r=Me-1),v&&v.cellStyles&&(Er=!(Gt={}),H.ht&&(Er=!0,Gt.hpt=parseFloat(H.ht),Gt.hpx=Zx(Gt.hpt)),H.hidden=="1"&&(Er=!0,Gt.hidden=!0),H.outlineLevel!=null&&(Er=!0,Gt.level=+H.outlineLevel),Er&&(dr[Me-1]=Gt)),Ae=me.slice(fe).split(y9);for(var xn,Nn=0;Nn!=Ae.length&&Ae[Nn].trim().charAt(0)=="<";++Nn);for(Ae=Ae.slice(Nn),fe=0;fe!=Ae.length;++fe)if((me=Ae[fe].trim()).length!==0){if(ve=me.match(w9),Be=fe,Ee=0,me="<c "+(me.slice(0,1)=="<"?">":"")+me,ve!=null&&ve.length===2){for(Be=0,_e=ve[1],Ee=0;Ee!=_e.length&&!((O=_e.charCodeAt(Ee)-64)<1||26<O);++Ee)Be=26*Be+O;He=--Be}else++He;for(Ee=0;Ee!=me.length&&me.charCodeAt(Ee)!==62;++Ee);if(++Ee,(H=Un(me.slice(0,Ee),!0)).r||(H.r=kn({r:Me-1,c:He})),R={t:""},(ve=(_e=me.slice(Ee)).match(S9))!=null&&ve[1]!==""&&(R.v=Tn(ve[1])),v.cellFormula){(ve=_e.match(C9))!=null&&ve[1]!==""?(R.f=Tn(Ci(ve[1])).replace(/\r\n/g,`
`),v.xlfn||(R.f=i9(R.f)),-1<ve[0].indexOf('t="array"')?(R.F=(_e.match(N9)||[])[1],-1<R.F.indexOf(":")&&bt.push([Ia(R.F),R.F])):-1<ve[0].indexOf('t="shared"')&&(te=Un(ve[0]),xn=Tn(Ci(ve[1])),v.xlfn||(xn=i9(xn)),Ut[parseInt(te.si,10)]=[te,xn,H.r])):(ve=_e.match(/<f[^>]*\/>/))&&Ut[(te=Un(ve[0])).si]&&(R.f=(de=Ut[te.si][1],hn=Ut[te.si][2],xn=H.r,hn=no(hn).s,xn=ni(xn),a9(de,{r:xn.r-hn.r,c:xn.c-hn.c})));for(var Xn=ni(H.r),Ee=0;Ee<bt.length;++Ee)Xn.r>=bt[Ee][0].s.r&&Xn.r<=bt[Ee][0].e.r&&Xn.c>=bt[Ee][0].s.c&&Xn.c<=bt[Ee][0].e.c&&(R.F=bt[Ee][1])}if(H.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else{if(!cn)continue;R.t="z"}else R.t=H.t||"n";switch(_.s.c>He&&(_.s.c=He),_.e.c<He&&(_.e.c=He),R.t){case"n":if(R.v==""||R.v==null){if(!cn)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(R.v===void 0){if(!cn)continue;R.t="z"}else G=Tb[parseInt(R.v,10)],R.v=G.t,R.r=G.r,v.cellHTML&&(R.h=G.h);break;case"str":R.t="s",R.v=R.v!=null?Ci(R.v):"",v.cellHTML&&(R.h=ll(R.v));break;case"inlineStr":ve=_e.match(_9),R.t="s",ve!=null&&(G=vb(ve[1]))?(R.v=G.t,v.cellHTML&&(R.h=G.h)):R.v="";break;case"b":R.v=Qr(R.v);break;case"d":v.cellDates?R.v=Je(R.v,1):(R.v=sa(Je(R.v,1)),R.t="n");break;case"e":v&&v.cellText===!1||(R.w=R.v),R.v=ss[R.v]}var Xa,qe=ft=0,hn=null;Et&&H.s!==void 0&&(hn=I.CellXf[H.s])!=null&&(hn.numFmtId!=null&&(qe=hn.numFmtId),v.cellStyles&&hn.fillId!=null&&(ft=hn.fillId)),x9(R,qe,ft,v,k,I),v.cellDates&&Et&&R.t=="n"&&na(ee[qe])&&(R.t="d",R.v=Fe(R.v)),H.cm&&v.xlmeta&&(Xa=(v.xlmeta.Cell||[])[+H.cm-1])&&Xa.type=="XLDAPR"&&(R.D=!0),cr?(x[(Xa=ni(H.r)).r]||(x[Xa.r]=[]),x[Xa.r][Xa.c]=R):x[H.r]=R}}}}0<dr.length&&(x["!rows"]=dr)});function z0e(d,x){for(var v,_,k,I,O=[],R=[],H=Ia(d["!ref"]),G=[],te=0,ve=0,de=d["!rows"],fe=Array.isArray(d),me={r:""},Ae=-1,ve=H.s.c;ve<=H.e.c;++ve)G[ve]=wa(ve);for(te=H.s.r;te<=H.e.r;++te){for(R=[],k=ja(te),ve=H.s.c;ve<=H.e.c;++ve){_=G[ve]+k;var Be=fe?(d[te]||[])[ve]:d[_];Be!==void 0&&(v=function(Ee,_e,Me,He){if(Ee.c&&Me["!comments"].push([_e,Ee.c]),Ee.v===void 0&&typeof Ee.f!="string"||Ee.t==="z"&&!Ee.f)return"";var qe="",ft=Ee.t,Et=Ee.v;if(Ee.t!=="z")switch(Ee.t){case"b":qe=Ee.v?"1":"0";break;case"n":qe=""+Ee.v;break;case"e":qe=ao[Ee.v];break;case"d":qe=He&&He.cellDates?Je(Ee.v,-1).toISOString():((Ee=wt(Ee)).t="n",""+(Ee.v=sa(Je(Ee.v)))),Ee.z===void 0&&(Ee.z=ee[14]);break;default:qe=Ee.v}var bt=zs("v",Ye(qe)),Ut={r:_e},cr=np(He.cellXfs,Ee,He);switch(cr!==0&&(Ut.s=cr),Ee.t){case"n":break;case"d":Ut.t="d";break;case"b":Ut.t="b";break;case"e":Ut.t="e";break;case"z":break;default:if(Ee.v==null){delete Ee.t;break}if(32767<Ee.v.length)throw new Error("Text length must not exceed 32767 characters");if(He&&He.bookSST){bt=zs("v",""+Z6(He.Strings,Ee.v,He.revStrings)),Ut.t="s";break}Ut.t="str"}return Ee.t!=ft&&(Ee.t=ft,Ee.v=Et),typeof Ee.f=="string"&&Ee.f&&(Et=Ee.F&&Ee.F.slice(0,_e.length)==_e?{t:"array",ref:Ee.F}:null,bt=Or("f",Ye(Ee.f),Et)+(Ee.v!=null?bt:"")),Ee.l&&Me["!links"].push([_e,Ee.l]),Ee.D&&(Ut.cm=1),Or("c",bt,Ut)}(Be,_,d,x))!=null&&R.push(v)}(0<R.length||de&&de[te])&&(me={r:k},de&&de[te]&&((I=de[te]).hidden&&(me.hidden=1),Ae=-1,I.hpx?Ae=Nb(I.hpx):I.hpt&&(Ae=I.hpt),-1<Ae&&(me.ht=Ae,me.customHeight=1),I.level&&(me.outlineLevel=I.level)),O[O.length]=Or("row",R.join(""),me))}if(de)for(;te<de.length;++te)de&&de[te]&&(me={r:te+1},(I=de[te]).hidden&&(me.hidden=1),Ae=-1,I.hpx?Ae=Nb(I.hpx):I.hpt&&(Ae=I.hpt),-1<Ae&&(me.ht=Ae,me.customHeight=1),I.level&&(me.outlineLevel=I.level),O[O.length]=Or("row","",me));return O.join("")}function A9(d,x,v,_){var k,I,O=[wn,Or("worksheet",null,{xmlns:Wl[0],"xmlns:r":as.r})],R=v.SheetNames[d],H=v.Sheets[R],G=(H=H??{})["!ref"]||"A1",te=Ia(G);if(16383<te.e.c||1048575<te.e.r){if(x.WTF)throw new Error("Range "+G+" exceeds format limit A1:XFD1048576");te.e.c=Math.min(te.e.c,16383),te.e.r=Math.min(te.e.c,1048575),G=Yn(te)}_=_||{},H["!comments"]=[];var de,fe,me=[];(function(Ee,_e,Me,He,qe){var ft=!1,Et={},bt=null;if(He.bookType!=="xlsx"&&_e.vbaraw){var Ut=_e.SheetNames[Me];try{_e.Workbook&&(Ut=_e.Workbook.Sheets[Me].CodeName||Ut)}catch{}ft=!0,Et.codeName=dn(Ye(Ut))}Ee&&Ee["!outline"]&&(He={summaryBelow:1,summaryRight:1},Ee["!outline"].above&&(He.summaryBelow=0),Ee["!outline"].left&&(He.summaryRight=0),bt=(bt||"")+Or("outlinePr",null,He)),(ft||bt)&&(qe[qe.length]=Or("sheetPr",bt,Et))})(H,v,d,x,O),O[O.length]=Or("dimension",null,{ref:G}),O[O.length]=(R={workbookViewId:"0"},((((te=v)||{}).Workbook||{}).Views||[])[0]&&(R.rightToLeft=te.Workbook.Views[0].RTL?"1":"0"),Or("sheetViews",Or("sheetView",null,R),{})),x.sheetFormat&&(O[O.length]=Or("sheetFormatPr",null,{defaultRowHeight:x.sheetFormat.defaultRowHeight||"16",baseColWidth:x.sheetFormat.baseColWidth||"10",outlineLevelRow:x.sheetFormat.outlineLevelRow||"7"})),H["!cols"]!=null&&0<H["!cols"].length&&(O[O.length]=function(Ee){for(var _e,Me=["<cols>"],He=0;He!=Ee.length;++He)(_e=Ee[He])&&(Me[Me.length]=Or("col",null,s3(He,_e)));return Me[Me.length]="</cols>",Me.join("")}(H["!cols"])),O[k=O.length]="<sheetData/>",H["!links"]=[],H["!ref"]!=null&&0<(I=z0e(H,x)).length&&(O[O.length]=I),O.length>k+1&&(O[O.length]="</sheetData>",O[k]=O[k].replace("/>",">")),H["!protect"]&&(O[O.length]=(de=H["!protect"],fe={sheet:1},L0e.forEach(function(Ee){de[Ee]!=null&&de[Ee]&&(fe[Ee]="1")}),B0e.forEach(function(Ee){de[Ee]==null||de[Ee]||(fe[Ee]="0")}),de.password&&(fe.password=Xx(de.password).toString(16).toUpperCase()),Or("sheetProtection",null,fe))),H["!autofilter"]!=null&&(O[O.length]=function(Ee,_e,Me,He){var qe=typeof Ee.ref=="string"?Ee.ref:Yn(Ee.ref);Me.Workbook||(Me.Workbook={Sheets:[]}),Me.Workbook.Names||(Me.Workbook.Names=[]);var ft=Me.Workbook.Names;(Ee=no(qe)).s.r==Ee.e.r&&(Ee.e.r=no(_e["!ref"]).e.r,qe=Yn(Ee));for(var Et=0;Et<ft.length;++Et){var bt=ft[Et];if(bt.Name=="_xlnm._FilterDatabase"&&bt.Sheet==He){bt.Ref="'"+Me.SheetNames[He]+"'!"+qe;break}}return Et==ft.length&&ft.push({Name:"_xlnm._FilterDatabase",Sheet:He,Ref:"'"+Me.SheetNames[He]+"'!"+qe}),Or("autoFilter",null,{ref:qe})}(H["!autofilter"],H,v,d)),H["!merges"]!=null&&0<H["!merges"].length&&(O[O.length]=function(Ee){if(Ee.length===0)return"";for(var _e='<mergeCells count="'+Ee.length+'">',Me=0;Me!=Ee.length;++Me)_e+='<mergeCell ref="'+Yn(Ee[Me])+'"/>';return _e+"</mergeCells>"}(H["!merges"]));var Ae,ve,Be=-1;return 0<H["!links"].length&&(O[O.length]="<hyperlinks>",H["!links"].forEach(function(Ee){Ee[1].Target&&(ve={ref:Ee[0]},Ee[1].Target.charAt(0)!="#"&&(Be=Pi(_,-1,Ye(Ee[1].Target).replace(/#.*$/,""),Ea.HLINK),ve["r:id"]="rId"+Be),-1<(Ae=Ee[1].Target.indexOf("#"))&&(ve.location=Ye(Ee[1].Target.slice(Ae+1))),Ee[1].Tooltip&&(ve.tooltip=Ye(Ee[1].Tooltip)),O[O.length]=Or("hyperlink",null,ve))}),O[O.length]="</hyperlinks>"),delete H["!links"],H["!margins"]!=null&&(O[O.length]=(G1(v=H["!margins"]),Or("pageMargins",null,v))),x&&!x.ignoreEC&&x.ignoreEC!=null||(O[O.length]=zs("ignoredErrors",Or("ignoredError",null,{numberStoredAsText:1,sqref:G}))),0<me.length&&(Be=Pi(_,-1,"../drawings/drawing"+(d+1)+".xml",Ea.DRAW),O[O.length]=Or("drawing",null,{"r:id":"rId"+Be}),H["!drawing"]=me),0<H["!comments"].length&&(Be=Pi(_,-1,"../drawings/vmlDrawing"+(d+1)+".vml",Ea.VML),O[O.length]=Or("legacyDrawing",null,{"r:id":"rId"+Be}),H["!legacy"]=Be),1<O.length&&(O[O.length]="</worksheet>",O[1]=O[1].replace("/>",">")),O.join("")}function V0e(d,x,v,_){v=function(k,I,O){var R=vt(145),H=(O["!rows"]||[])[k]||{};R.write_shift(4,k),R.write_shift(4,0);var te=320;H.hpx?te=20*Nb(H.hpx):H.hpt&&(te=20*H.hpt),R.write_shift(2,te),R.write_shift(1,0),te=0,H.level&&(te|=H.level),H.hidden&&(te|=16),(H.hpx||H.hpt)&&(te|=32),R.write_shift(1,te),R.write_shift(1,0);var G=0,te=R.l;R.l+=4;for(var de={r:k,c:0},fe=0;fe<16;++fe)if(!(I.s.c>fe+1<<10||I.e.c<fe<<10)){for(var me=-1,Ae=-1,ve=fe<<10;ve<fe+1<<10;++ve)de.c=ve,(Array.isArray(O)?(O[de.r]||[])[de.c]:O[kn(de)])&&(me<0&&(me=ve),Ae=ve);me<0||(++G,R.write_shift(4,me),R.write_shift(4,Ae))}return k=R.l,R.l=te,R.write_shift(4,G),R.l=k,R.length>R.l?R.slice(0,R.l):R}(_,v,x),(17<v.length||(x["!rows"]||[])[_])&&zt(d,0,v)}var o3=Nt,W0e=Vt;function j9(d){return[E(d),ir(d),"n"]}var rv=Nt,H0e=Vt,E9=["left","right","top","bottom","header","footer"];function q0e(d,x,v,_,k,I,O){if(x.v===void 0)return!1;var R="";switch(x.t){case"b":R=x.v?"1":"0";break;case"d":(x=wt(x)).z=x.z||ee[14],x.v=sa(Je(x.v)),x.t="n";break;case"n":case"e":R=""+x.v;break;default:R=x.v}var H,G,te,de,fe,me,Ae,ve,Be,Ee,_e,Me,He,qe,ft,Et,bt,Ut,cr,dr,Gt={r:v,c:_};switch(Gt.s=np(k.cellXfs,x,k),x.l&&I["!links"].push([kn(Gt),x.l]),x.c&&I["!comments"].push([kn(Gt),x.c]),x.t){case"s":case"str":return k.bookSST?(R=Z6(k.Strings,x.v,k.revStrings),Gt.t="s",Gt.v=R,O?zt(d,18,(P(bt=Gt,Ut=Ut??vt(8)),Ut.write_shift(4,bt.v),Ut)):zt(d,7,(w(bt=Gt,Et=Et??vt(12)),Et.write_shift(4,bt.v),Et))):(Gt.t="str",O?zt(d,17,(qe=x,P(Gt,ft=ft??vt(8+4*qe.v.length)),Zn(qe.v,ft),ft.length>ft.l?ft.slice(0,ft.l):ft)):zt(d,6,(qe=x,w(Gt,He=He??vt(12+4*qe.v.length)),Zn(qe.v,He),He.length>He.l?He.slice(0,He.l):He))),!0;case"n":return x.v==(0|x.v)&&-1e3<x.v&&x.v<1e3?O?zt(d,13,(_e=x,P(Gt,Me=Me??vt(8)),ut(_e.v,Me),Me)):zt(d,2,(_e=x,w(Gt,Ee=Ee??vt(12)),ut(_e.v,Ee),Ee)):O?zt(d,16,(ve=x,P(Gt,Be=Be??vt(12)),vr(ve.v,Be),Be)):zt(d,5,(ve=x,w(Gt,Ae=Ae??vt(16)),vr(ve.v,Ae),Ae)),!0;case"b":return Gt.t="b",O?zt(d,15,(fe=x,P(Gt,me=me??vt(5)),me.write_shift(1,fe.v?1:0),me)):zt(d,4,(fe=x,w(Gt,de=de??vt(9)),de.write_shift(1,fe.v?1:0),de)),!0;case"e":return Gt.t="e",O?zt(d,14,(G=x,P(Gt,te=te??vt(8)),te.write_shift(1,G.v),te.write_shift(2,0),te.write_shift(1,0),te)):zt(d,3,(G=x,w(Gt,H=H??vt(9)),H.write_shift(1,G.v),H)),!0}return O?zt(d,12,P(Gt,dr=dr??vt(4))):zt(d,1,w(Gt,cr=cr??vt(8))),!0}function G0e(d,x){var v,_;x&&x["!merges"]&&(zt(d,177,(v=x["!merges"].length,(_=_??vt(4)).write_shift(4,v),_)),x["!merges"].forEach(function(k){zt(d,176,H0e(k))}),zt(d,178))}function K0e(d,x){x&&x["!cols"]&&(zt(d,390),x["!cols"].forEach(function(v,_){v&&zt(d,60,function(k,I,O){O==null&&(O=vt(18));var R=s3(k,I);return O.write_shift(-4,k),O.write_shift(-4,k),O.write_shift(4,256*(R.width||10)),O.write_shift(4,0),k=0,I.hidden&&(k|=1),typeof R.width=="number"&&(k|=2),I.level&&(k|=I.level<<8),O.write_shift(2,k),O}(_,v))}),zt(d,391))}function Y0e(d,x){var v;x&&x["!ref"]&&(zt(d,648),zt(d,649,(v=Ia(x["!ref"]),(x=vt(24)).write_shift(4,4),x.write_shift(4,1),Vt(v,x),x)),zt(d,650))}function X0e(d,x,v){x["!links"].forEach(function(_){var k,I;_[1].Target&&(k=Pi(v,-1,_[1].Target.replace(/#.*$/,""),Ea.HLINK),zt(d,494,(I=k,_=vt(50+4*((k=_)[1].Target.length+(k[1].Tooltip||"").length)),Vt({s:ni(k[0]),e:ni(k[0])},_),Le("rId"+I,_),Zn(((I=k[1].Target.indexOf("#"))==-1?"":k[1].Target.slice(I+1))||"",_),Zn(k[1].Tooltip||"",_),Zn("",_),_.slice(0,_.l))))}),delete x["!links"]}function J0e(d,x,v){zt(d,133),zt(d,137,function(_,k){k==null&&(k=vt(30));var I=924;return(((_||{}).Views||[])[0]||{}).RTL&&(I|=32),k.write_shift(2,I),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(1,0),k.write_shift(2,0),k.write_shift(2,100),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(4,0),k}(v)),zt(d,138),zt(d,134)}function Z0e(d,x){var v,_;x["!protect"]&&zt(d,535,(v=x["!protect"],(_=_??vt(66)).write_shift(2,v.password?Xx(v.password):0),_.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(k){k[1]?_.write_shift(4,v[k[0]]==null||v[k[0]]?0:1):_.write_shift(4,v[k[0]]!=null&&v[k[0]]?0:1)}),_))}function Q0e(d,x,v,_){var k=Vn(),G=v.SheetNames[d],I=v.Sheets[G]||{},O=G;try{v&&v.Workbook&&(O=v.Workbook.Sheets[d].CodeName||O)}catch{}var R,H,G=Ia(I["!ref"]||"A1");if(16383<G.e.c||1048575<G.e.r){if(x.WTF)throw new Error("Range "+(I["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");G.e.c=Math.min(G.e.c,16383),G.e.r=Math.min(G.e.c,1048575)}return I["!links"]=[],I["!comments"]=[],zt(k,129),(v.vbaraw||I["!outline"])&&zt(k,147,function(te,de,fe){fe==null&&(fe=vt(84+4*te.length));var me=192;de&&(de.above&&(me&=-65),de.left&&(me&=-129)),fe.write_shift(1,me);for(var Ae=1;Ae<3;++Ae)fe.write_shift(1,0);return pr({auto:1},fe),fe.write_shift(-4,-1),fe.write_shift(-4,-1),V(te,fe),fe.slice(0,fe.l)}(O,I["!outline"])),zt(k,148,W0e(G)),J0e(k,0,v.Workbook),K0e(k,I),function(te,de,fe){var me,Ae=Ia(de["!ref"]||"A1"),ve=[];zt(te,145);var Be=Array.isArray(de),Ee=Ae.e.r;de["!rows"]&&(Ee=Math.max(Ae.e.r,de["!rows"].length-1));for(var _e=Ae.s.r;_e<=Ee;++_e){me=ja(_e),V0e(te,de,Ae,_e);var Me=!1;if(_e<=Ae.e.r)for(var He=Ae.s.c;He<=Ae.e.c;++He){_e===Ae.s.r&&(ve[He]=wa(He)),qe=ve[He]+me;var qe=Be?(de[_e]||[])[He]:de[qe];qe?Me=q0e(te,qe,_e,He,fe,de,Me):Me=!1}}zt(te,146)}(k,I,x),Z0e(k,I),function(te,de,fe,me){if(de["!autofilter"]){var Be=de["!autofilter"],Ae=typeof Be.ref=="string"?Be.ref:Yn(Be.ref);fe.Workbook||(fe.Workbook={Sheets:[]}),fe.Workbook.Names||(fe.Workbook.Names=[]);var ve=fe.Workbook.Names,Be=no(Ae);Be.s.r==Be.e.r&&(Be.e.r=no(de["!ref"]).e.r,Ae=Yn(Be));for(var Ee=0;Ee<ve.length;++Ee){var _e=ve[Ee];if(_e.Name=="_xlnm._FilterDatabase"&&_e.Sheet==me){_e.Ref="'"+fe.SheetNames[me]+"'!"+Ae;break}}Ee==ve.length&&ve.push({Name:"_xlnm._FilterDatabase",Sheet:me,Ref:"'"+fe.SheetNames[me]+"'!"+Ae}),zt(te,161,Vt(Ia(Ae))),zt(te,162)}}(k,I,v,d),G0e(k,I),X0e(k,I,_),I["!margins"]&&zt(k,476,(R=I["!margins"],H==null&&(H=vt(48)),G1(R),E9.forEach(function(te){vr(R[te],H)}),H)),x&&!x.ignoreEC&&x.ignoreEC!=null||Y0e(k,I),G=k,x=d,_=_,0<(I=I)["!comments"].length&&(x=Pi(_,-1,"../drawings/vmlDrawing"+(x+1)+".vml",Ea.VML),zt(G,551,Le("rId"+x)),I["!legacy"]=x),zt(k,130),k.end()}function eme(d,x,v,_,k,I){var O=I||{"!type":"chart"};if(!d)return I;var R,H=0,G=0,te={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(d.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(de){var fe=function(me){var Ae,ve=[],Be=me.match(/^<c:numCache>/);(me.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(_e){_e=_e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/),_e&&(ve[+_e[1]]=Be?+_e[2]:_e[2])});var Ee=Tn((me.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(me.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(_e){Ae=_e.replace(/<.*?>/g,"")}),[ve,Ee,Ae]}(de);te.s.r=te.s.c=0,te.e.c=H,R=wa(H),fe[0].forEach(function(me,Ae){O[R+ja(Ae)]={t:"n",v:me,z:fe[1]},G=Ae}),te.e.r<G&&(te.e.r=G),++H}),0<H&&(O["!ref"]=Yn(te)),O}var eT=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],tme=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],rme=[],nme=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function T9(d,x){for(var v=0;v!=d.length;++v)for(var _=d[v],k=0;k!=x.length;++k){var I=x[k];if(_[I[0]]==null)_[I[0]]=I[1];else switch(I[2]){case"bool":typeof _[I[0]]=="string"&&(_[I[0]]=Qr(_[I[0]]));break;case"int":typeof _[I[0]]=="string"&&(_[I[0]]=parseInt(_[I[0]],10))}}}function k9(d,x){for(var v=0;v!=x.length;++v){var _=x[v];if(d[_[0]]==null)d[_[0]]=_[1];else switch(_[2]){case"bool":typeof d[_[0]]=="string"&&(d[_[0]]=Qr(d[_[0]]));break;case"int":typeof d[_[0]]=="string"&&(d[_[0]]=parseInt(d[_[0]],10))}}}function P9(d){k9(d.WBProps,eT),k9(d.CalcPr,nme),T9(d.WBView,tme),T9(d.Sheets,rme),tv.date1904=Qr(d.WBProps.date1904)}var ame="][*?/\\".split("");function O9(d,x){if(31<d.length){if(x)return;throw new Error("Sheet names cannot exceed 31 chars")}var v=!0;return ame.forEach(function(_){if(d.indexOf(_)!=-1){if(!x)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");v=!1}}),v}function I9(d){if(!d||!d.SheetNames||!d.Sheets)throw new Error("Invalid Workbook");if(!d.SheetNames.length)throw new Error("Workbook is empty");var x,v,_,k=d.Workbook&&d.Workbook.Sheets||[];x=d.SheetNames,v=k,_=!!d.vbaraw,x.forEach(function(O,R){O9(O);for(var H=0;H<R;++H)if(O==x[H])throw new Error("Duplicate Sheet Name: "+O);if(_){var G=v&&v[R]&&v[R].CodeName||O;if(G.charCodeAt(0)==95&&22<G.length)throw new Error("Bad Code Name: Worksheet"+G)}});for(var I=0;I<d.SheetNames.length;++I)(function(O,R){if(O&&O["!ref"]){var H=Ia(O["!ref"]);if(H.e.c<H.s.c||H.e.r<H.s.r)throw new Error("Bad range ("+R+"): "+O["!ref"])}})(d.Sheets[d.SheetNames[I]],(d.SheetNames[I],I))}var ime=/<\w+:workbook/;function F9(d){var x=[wn];x[x.length]=Or("workbook",null,{xmlns:Wl[0],"xmlns:r":as.r});var v=d.Workbook&&0<(d.Workbook.Names||[]).length,_={codeName:"ThisWorkbook"};d.Workbook&&d.Workbook.WBProps&&(eT.forEach(function(R){d.Workbook.WBProps[R[0]]!=null&&d.Workbook.WBProps[R[0]]!=R[1]&&(_[R[0]]=d.Workbook.WBProps[R[0]])}),d.Workbook.WBProps.CodeName&&(_.codeName=d.Workbook.WBProps.CodeName,delete _.CodeName)),x[x.length]=Or("workbookPr",null,_);var k=d.Workbook&&d.Workbook.Sheets||[],I=0;if(k&&k[0]&&k[0].Hidden){for(x[x.length]="<bookViews>",I=0;I!=d.SheetNames.length&&k[I]&&k[I].Hidden;++I);I==d.SheetNames.length&&(I=0),x[x.length]='<workbookView firstSheet="'+I+'" activeTab="'+I+'"/>',x[x.length]="</bookViews>"}for(x[x.length]="<sheets>",I=0;I!=d.SheetNames.length;++I){var O={name:Ye(d.SheetNames[I].slice(0,31))};if(O.sheetId=""+(I+1),O["r:id"]="rId"+(I+1),k[I])switch(k[I].Hidden){case 1:O.state="hidden";break;case 2:O.state="veryHidden"}x[x.length]=Or("sheet",null,O)}return x[x.length]="</sheets>",v&&(x[x.length]="<definedNames>",d.Workbook&&d.Workbook.Names&&d.Workbook.Names.forEach(function(R){var H={name:R.Name};R.Comment&&(H.comment=R.Comment),R.Sheet!=null&&(H.localSheetId=""+R.Sheet),R.Hidden&&(H.hidden="1"),R.Ref&&(x[x.length]=Or("definedName",Ye(R.Ref),H))}),x[x.length]="</definedNames>"),2<x.length&&(x[x.length]="</workbook>",x[1]=x[1].replace("/>",">")),x.join("")}function sme(d,x){var v={};return d.read_shift(4),v.ArchID=d.read_shift(4),d.l+=x-8,v}function ome(d,x){zt(d,143);for(var v,_=0;_!=x.SheetNames.length;++_){var k={Hidden:x.Workbook&&x.Workbook.Sheets&&x.Workbook.Sheets[_]&&x.Workbook.Sheets[_].Hidden||0,iTabID:_+1,strRelID:"rId"+(_+1),name:x.SheetNames[_]};zt(d,156,(v=k,(k=(k=void 0)||vt(127)).write_shift(4,v.Hidden),k.write_shift(4,v.iTabID),Le(v.strRelID,k),Zn(v.name.slice(0,31),k),k.length>k.l?k.slice(0,k.l):k))}zt(d,144)}function lme(d,x){if(x.Workbook&&x.Workbook.Sheets){for(var v,_=x.Workbook.Sheets,k=0,I=-1,O=-1;k<_.length;++k)!_[k]||!_[k].Hidden&&I==-1?I=k:_[k].Hidden==1&&O==-1&&(O=k);I<O||(zt(d,135),zt(d,158,(x=I,(v=v||vt(29)).write_shift(-4,0),v.write_shift(-4,460),v.write_shift(4,28800),v.write_shift(4,17600),v.write_shift(4,500),v.write_shift(4,x),v.write_shift(4,x),v.write_shift(1,120),v.length>v.l?v.slice(0,v.l):v)),zt(d,136))}}function cme(d,x){var v=Vn();return zt(v,131),zt(v,128,function(_){_=_||vt(127);for(var k=0;k!=4;++k)_.write_shift(4,0);return Zn("SheetJS",_),Zn(i.version,_),Zn(i.version,_),Zn("7262",_),_.length>_.l?_.slice(0,_.l):_}()),zt(v,153,function(_,k){k=k||vt(72);var I=0;return _&&_.filterPrivacy&&(I|=8),k.write_shift(4,I),k.write_shift(4,0),V(_&&_.CodeName||"ThisWorkbook",k),k.slice(0,k.l)}(d.Workbook&&d.Workbook.WBProps||null)),lme(v,d),ome(v,d),zt(v,132),v.end()}function ume(d,x,v){return(x.slice(-4)===".bin"?function(_,k){var I={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},O=[],R=!1;(k=k||{}).biff=12;var H=[],G=[[]];return G.SheetNames=[],G.XTI=[],Ib[16]={n:"BrtFRTArchID$",f:sme},_n(_,function(te,de,fe){switch(fe){case 156:G.SheetNames.push(te.name),I.Sheets.push(te);break;case 153:I.WBProps=te;break;case 39:te.Sheet!=null&&(k.SID=te.Sheet),te.Ref=gu(te.Ptg,0,null,G,k),delete k.SID,delete te.Ptg,H.push(te);break;case 1036:break;case 357:case 358:case 355:case 667:G[0].length?G.push([fe,te]):G[0]=[fe,te],G[G.length-1].XTI=[];break;case 362:G.length===0&&(G[0]=[],G[0].XTI=[]),G[G.length-1].XTI=G[G.length-1].XTI.concat(te),G.XTI=G.XTI.concat(te);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:O.push(fe),R=!0;break;case 36:O.pop(),R=!1;break;case 37:O.push(fe),R=!0;break;case 38:O.pop(),R=!1;break;case 16:break;default:if(!de.T&&(!R||k.WTF&&O[O.length-1]!=37&&O[O.length-1]!=35))throw new Error("Unexpected record 0x"+fe.toString(16))}},k),P9(I),I.Names=H,I.supbooks=G,I}:function(_,k){if(!_)throw new Error("Could not find file");var I={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},O=!1,R="xmlns",H={},G=0;if(_.replace(Ya,function(te,de){var fe=Un(te);switch(zl(fe[0])){case"<?xml":break;case"<workbook":te.match(ime)&&(R="xmlns"+te.match(/<(\w+):/)[1]),I.xmlns=fe[R];break;case"</workbook>":break;case"<fileVersion":delete fe[0],I.AppVersion=fe;break;case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":eT.forEach(function(me){if(fe[me[0]]!=null)switch(me[2]){case"bool":I.WBProps[me[0]]=Qr(fe[me[0]]);break;case"int":I.WBProps[me[0]]=parseInt(fe[me[0]],10);break;default:I.WBProps[me[0]]=fe[me[0]]}}),fe.codeName&&(I.WBProps.CodeName=Ci(fe.codeName));break;case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete fe[0],I.WBView.push(fe);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(fe.state){case"hidden":fe.Hidden=1;break;case"veryHidden":fe.Hidden=2;break;default:fe.Hidden=0}delete fe.state,fe.name=Tn(Ci(fe.name)),delete fe[0],I.Sheets.push(fe);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":break;case"<definedNames>":case"<definedNames":O=!0;break;case"</definedNames>":O=!1;break;case"<definedName":(H={}).Name=Ci(fe.name),fe.comment&&(H.Comment=fe.comment),fe.localSheetId&&(H.Sheet=+fe.localSheetId),Qr(fe.hidden||"0")&&(H.Hidden=!0),G=de+te.length;break;case"</definedName>":H.Ref=Tn(Ci(_.slice(G,de))),I.Names.push(H);break;case"<definedName/>":break;case"<calcPr":case"<calcPr/>":delete fe[0],I.CalcPr=fe;break;case"</calcPr>":case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":O=!0;break;case"</ext>":O=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":O=!0;break;case"</AlternateContent>":O=!1;break;case"<revisionPtr":break;default:if(!O&&k.WTF)throw new Error("unrecognized "+fe[0]+" in workbook")}return te}),Wl.indexOf(I.xmlns)===-1)throw new Error("Unknown Namespace: "+I.xmlns);return P9(I),I})(d,v)}function dme(d,x,v,_,k,I,O,R){return(x.slice(-4)===".bin"?function(H,G,te,de,fe,me,Ae){if(!H)return H;var ve=G||{};de=de||{"!id":{}};var Be,Ee,_e,Me,He,qe,ft,Et,bt,Ut,cr=ve.dense?[]:{},dr={s:{r:2e6,c:2e6},e:{r:0,c:0}},Gt=!1,Er=!1,cn=[];ve.biff=12;var en=ve["!row"]=0,$r=!1,Hr=[],Rr={},br=ve.supbooks||fe.supbooks||[[]];if(br.sharedf=Rr,br.arrayf=Hr,br.SheetNames=fe.SheetNames||fe.Sheets.map(function(jr){return jr.name}),!ve.supbooks&&(ve.supbooks=br,fe.Names))for(var xn=0;xn<fe.Names.length;++xn)br[0][xn+1]=fe.Names[xn];var Nn,Xn=[],Xa=[],hn=!1;return Ib[16]={n:"BrtShortReal",f:j9},_n(H,function(jr,_a,bi){if(!Er)switch(bi){case 148:Be=jr;break;case 0:Ee=jr,ve.sheetRows&&ve.sheetRows<=Ee.r&&(Er=!0),bt=ja(He=Ee.r),ve["!row"]=Ee.r,(jr.hidden||jr.hpt||jr.level!=null)&&(jr.hpt&&(jr.hpx=Zx(jr.hpt)),Xa[jr.r]=jr);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_e={t:jr[2]},jr[2]){case"n":_e.v=jr[1];break;case"s":Et=Tb[jr[1]],_e.v=Et.t,_e.r=Et.r;break;case"b":_e.v=!!jr[1];break;case"e":_e.v=jr[1],ve.cellText!==!1&&(_e.w=ao[_e.v]);break;case"str":_e.t="s",_e.v=jr[1];break;case"is":_e.t="s",_e.v=jr[1].t}if((Me=Ae.CellXf[jr[0].iStyleRef])&&x9(_e,Me.numFmtId,null,ve,me,Ae),qe=jr[0].c==-1?qe+1:jr[0].c,ve.dense?(cr[He]||(cr[He]=[]),cr[He][qe]=_e):cr[wa(qe)+bt]=_e,ve.cellFormula){for($r=!1,en=0;en<Hr.length;++en){var li=Hr[en];Ee.r>=li[0].s.r&&Ee.r<=li[0].e.r&&qe>=li[0].s.c&&qe<=li[0].e.c&&(_e.F=Yn(li[0]),$r=!0)}!$r&&3<jr.length&&(_e.f=jr[3])}dr.s.r>Ee.r&&(dr.s.r=Ee.r),dr.s.c>qe&&(dr.s.c=qe),dr.e.r<Ee.r&&(dr.e.r=Ee.r),dr.e.c<qe&&(dr.e.c=qe),ve.cellDates&&Me&&_e.t=="n"&&na(ee[Me.numFmtId])&&(Zi=Se(_e.v))&&(_e.t="d",_e.v=new Date(Zi.y,Zi.m-1,Zi.d,Zi.H,Zi.M,Zi.S,Zi.u)),Nn&&(Nn.type=="XLDAPR"&&(_e.D=!0),Nn=void 0);break;case 1:case 12:if(!ve.sheetStubs||Gt)break;_e={t:"z",v:void 0},qe=jr[0].c==-1?qe+1:jr[0].c,ve.dense?(cr[He]||(cr[He]=[]),cr[He][qe]=_e):cr[wa(qe)+bt]=_e,dr.s.r>Ee.r&&(dr.s.r=Ee.r),dr.s.c>qe&&(dr.s.c=qe),dr.e.r<Ee.r&&(dr.e.r=Ee.r),dr.e.c<qe&&(dr.e.c=qe),Nn&&(Nn.type=="XLDAPR"&&(_e.D=!0),Nn=void 0);break;case 176:cn.push(jr);break;case 49:Nn=((ve.xlmeta||{}).Cell||[])[jr-1];break;case 494:var Zi=de["!id"][jr.relId];for(Zi?(jr.Target=Zi.Target,jr.loc&&(jr.Target+="#"+jr.loc),jr.Rel=Zi):jr.relId==""&&(jr.Target="#"+jr.loc),He=jr.rfx.s.r;He<=jr.rfx.e.r;++He)for(qe=jr.rfx.s.c;qe<=jr.rfx.e.c;++qe)ve.dense?(cr[He]||(cr[He]=[]),cr[He][qe]||(cr[He][qe]={t:"z",v:void 0}),cr[He][qe].l=jr):(ft=kn({c:qe,r:He}),cr[ft]||(cr[ft]={t:"z",v:void 0}),cr[ft].l=jr);break;case 426:if(!ve.cellFormula)break;Hr.push(jr),(Ut=ve.dense?cr[He][qe]:cr[wa(qe)+bt]).f=gu(jr[1],0,{r:Ee.r,c:qe},br,ve),Ut.F=Yn(jr[0]);break;case 427:if(!ve.cellFormula)break;Rr[kn(jr[0].s)]=jr[1],(Ut=ve.dense?cr[He][qe]:cr[wa(qe)+bt]).f=gu(jr[1],0,{r:Ee.r,c:qe},br,ve);break;case 60:if(!ve.cellStyles)break;for(;jr.e>=jr.s;)Xn[jr.e--]={width:jr.w/256,hidden:!!(1&jr.flags),level:jr.level},hn||(hn=!0,W6(jr.w/256)),tp(Xn[jr.e+1]);break;case 161:cr["!autofilter"]={ref:Yn(jr)};break;case 476:cr["!margins"]=jr;break;case 147:fe.Sheets[te]||(fe.Sheets[te]={}),jr.name&&(fe.Sheets[te].CodeName=jr.name),(jr.above||jr.left)&&(cr["!outline"]={above:jr.above,left:jr.left});break;case 137:fe.Views||(fe.Views=[{}]),fe.Views[0]||(fe.Views[0]={}),jr.RTL&&(fe.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:Gt=!0;break;case 36:Gt=!1;break;case 37:Gt=!0;break;case 38:Gt=!1;break;default:if(!_a.T&&(!Gt||ve.WTF))throw new Error("Unexpected record 0x"+bi.toString(16))}},ve),delete ve.supbooks,delete ve["!row"],!cr["!ref"]&&(dr.s.r<2e6||Be&&(0<Be.e.r||0<Be.e.c||0<Be.s.r||0<Be.s.c))&&(cr["!ref"]=Yn(Be||dr)),ve.sheetRows&&cr["!ref"]&&(H=Ia(cr["!ref"]),ve.sheetRows<=+H.e.r&&(H.e.r=ve.sheetRows-1,H.e.r>dr.e.r&&(H.e.r=dr.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>dr.e.c&&(H.e.c=dr.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),cr["!fullref"]=cr["!ref"],cr["!ref"]=Yn(H))),0<cn.length&&(cr["!merges"]=cn),0<Xn.length&&(cr["!cols"]=Xn),0<Xa.length&&(cr["!rows"]=Xa),cr}:M0e)(d,_,v,k,I,O,R)}function fme(d,x,v,_,k,I){return x.slice(-4)===".bin"?function(O,R,H,G,te){if(!O)return O;G=G||{"!id":{}};var de={"!type":"chart","!drawel":null,"!rel":""},fe=!1;return _n(O,function(me,Ae,ve){switch(ve){case 550:de["!rel"]=me;break;case 651:te.Sheets[H]||(te.Sheets[H]={}),me.name&&(te.Sheets[H].CodeName=me.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:fe=!0;break;case 36:fe=!1;break;case 37:break;case 38:break;default:if(!(0<Ae.T)){if(!(Ae.T<0)){if(!fe||R.WTF)throw new Error("Unexpected record 0x"+ve.toString(16))}}}},R),G["!id"][de["!rel"]]&&(de["!drawel"]=G["!id"][de["!rel"]]),de}(d,_,v,k,I):function(O,R,H,G){if(!O)return O;H=H||{"!id":{}};var te={"!type":"chart","!drawel":null,"!rel":""},de=O.match(v9);return de&&Q6(de[0],0,G,R),(O=O.match(/drawing r:id="(.*?)"/))&&(te["!rel"]=O[1]),H["!id"][te["!rel"]]&&(te["!drawel"]=H["!id"][te["!rel"]]),te}(d,v,k,I)}function hme(d,x,v,_){return(x.slice(-4)===".bin"?function(k,I,O){var R,H={NumberFmt:[]};for(R in ee)H.NumberFmt[R]=ee[R];H.CellXf=[],H.Fonts=[];var G=[],te=!1;return _n(k,function(de,fe,me){switch(me){case 44:H.NumberFmt[de[0]]=de[1],pn(de[1],de[0]);break;case 43:H.Fonts.push(de),de.color.theme!=null&&I&&I.themeElements&&I.themeElements.clrScheme&&(de.color.rgb=Hu(I.themeElements.clrScheme[de.color.theme].rgb,de.color.tint||0));break;case 1025:case 45:case 46:break;case 47:G[G.length-1]==617&&H.CellXf.push(de);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:te=!0;break;case 36:te=!1;break;case 37:G.push(me),te=!0;break;case 38:G.pop(),te=!1;break;default:if(0<fe.T)G.push(me);else if(fe.T<0)G.pop();else if(!te||O.WTF&&G[G.length-1]!=37)throw new Error("Unexpected record 0x"+me.toString(16))}}),H}:qhe)(d,v,_)}function mme(d,x,v){return x.slice(-4)===".bin"?(_=v,I=!(k=[]),_n(d,function(O,R,H){switch(H){case 159:k.Count=O[0],k.Unique=O[1];break;case 19:k.push(O);break;case 160:return 1;case 35:I=!0;break;case 36:I=!1;break;default:if(R.T,!I||_.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}),k):function(O,R){var H=[],G="";if(!O)return H;if(O=O.match(K5)){G=O[2].replace(Gx,"").split(Y5);for(var te=0;te!=G.length;++te){var de=vb(G[te].trim(),R);de!=null&&(H[H.length]=de)}O=Un(O[1]),H.Count=O.count,H.Unique=O.uniqueCount}return H}(d,v);var _,k,I}function pme(d,x,v){return x.slice(-4)===".bin"?(_=v,k=[],I=[],R=!(O={}),_n(d,function(H,G,te){switch(te){case 632:I.push(H);break;case 635:O=H;break;case 637:O.t=H.t,O.h=H.h,O.r=H.r;break;case 636:if(O.author=I[O.iauthor],delete O.iauthor,_.sheetRows&&O.rfx&&_.sheetRows<=O.rfx.r)break;O.t||(O.t=""),delete O.rfx,k.push(O);break;case 3072:break;case 35:R=!0;break;case 36:R=!1;break;case 37:case 38:break;default:if(!G.T&&(!R||_.WTF))throw new Error("Unexpected record 0x"+te.toString(16))}}),k):function(H,G){if(H.match(/<(?:\w+:)?comments *\/>/))return[];var te=[],de=[],fe=H.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);return fe&&fe[1]&&fe[1].split(/<\/\w*:?author>/).forEach(function(me){me===""||me.trim()===""||(me=me.match(/<(?:\w+:)?author[^>]*>(.*)/))&&te.push(me[1])}),(H=H.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/))&&H[1]&&H[1].split(/<\/\w*:?comment>/).forEach(function(me){var Ae,ve;me===""||me.trim()===""||(Ae=me.match(/<(?:\w+:)?comment[^>]*>/))&&(Ae={author:(ve=Un(Ae[0])).authorId&&te[ve.authorId]||"sheetjsghost",ref:ve.ref,guid:ve.guid},ve=ni(ve.ref),G.sheetRows&&G.sheetRows<=ve.r||(me=!!(me=me.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/))&&!!me[1]&&vb(me[1])||{r:"",t:"",h:""},Ae.r=me.r,me.r=="<t></t>"&&(me.t=me.h=""),Ae.t=(me.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),G.cellHTML&&(Ae.h=me.h),de.push(Ae)))}),de}(d,v);var _,k,I,O,R}function gme(d,x){return x.slice(-4)===".bin"?(v=[],_n(d,function(_,k,I){if(I===63)v.push(_);else if(!k.T)throw new Error("Unexpected record 0x"+I.toString(16))}),v):function(_){var k=[];if(!_)return k;var I=1;return(_.match(Ya)||[]).forEach(function(O){var R=Un(O);switch(R[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete R[0],R.i?I=R.i:R.i=I,k.push(R)}}),k}(d);var v}function xme(d,x,v,_){if(v.slice(-4)===".bin")return function(k,I){if(!k)return k;var O=I||{},R=!1;_n(k,function(H,G,te){switch(te){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:R=!0;break;case 36:R=!1;break;default:if(!G.T&&(!R||O.WTF))throw new Error("Unexpected record 0x"+te.toString(16))}},O)}(d,_)}function vme(d,x,v){return x.slice(-4)===".bin"?(_={Types:[],Cell:[],Value:[]},k=v||{},O=!(I=[]),R=2,_n(d,function(H,G,te){switch(te){case 335:_.Types.push({name:H.name});break;case 51:H.forEach(function(de){R==1?_.Cell.push({type:_.Types[de[0]-1].name,index:de[1]}):R==0&&_.Value.push({type:_.Types[de[0]-1].name,index:de[1]})});break;case 337:R=H?1:0;break;case 338:R=2;break;case 35:I.push(te),O=!0;break;case 36:I.pop(),O=!1;break;default:if(!G.T&&(!O||k.WTF&&I[I.length-1]!=35))throw new Error("Unexpected record 0x"+te.toString(16))}}),_):function(H,G){var te={Types:[],Cell:[],Value:[]};if(!H)return te;var de,fe=!1,me=2;return H.replace(Ya,function(Ae){var ve=Un(Ae);switch(zl(ve[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":te.Types.push({name:ve.name});break;case"</metadataType>":break;case"<futureMetadata":for(var Be=0;Be<te.Types.length;++Be)te.Types[Be].name==ve.name&&(de=te.Types[Be]);break;case"</futureMetadata>":case"<bk>":case"</bk>":break;case"<rc":me==1?te.Cell.push({type:te.Types[ve.t-1].name,index:+ve.v}):me==0&&te.Value.push({type:te.Types[ve.t-1].name,index:+ve.v});break;case"</rc>":break;case"<cellMetadata":me=1;break;case"</cellMetadata>":me=2;break;case"<valueMetadata":me=0;break;case"</valueMetadata>":me=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":fe=!0;break;case"</ext>":fe=!1;break;case"<rvb":if(!de)break;de.offsets||(de.offsets=[]),de.offsets.push(+ve.i);break;default:if(!fe&&G.WTF)throw new Error("unrecognized "+ve[0]+" in metadata")}return Ae}),te}(d,v);var _,k,I,O,R}var Pb,D9=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,R9=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qf(d,x){var v=d.split(/\s+/),_=[];if(x||(_[0]=v[0]),v.length===1)return _;var k,I,O,R=d.match(D9);if(R)for(O=0;O!=R.length;++O)(I=(k=R[O].match(R9))[1].indexOf(":"))===-1?_[k[1]]=k[2].slice(1,k[2].length-1):_[k[1].slice(0,6)==="xmlns:"?"xmlns"+k[1].slice(6):k[1].slice(I+1)]=k[2].slice(1,k[2].length-1);return _}function yme(d,x,v){if(d.t!=="z"){if(!v||v.cellText!==!1)try{d.t==="e"?d.w=d.w||ao[d.v]:x==="General"?d.t==="n"?(0|d.v)===d.v?d.w=d.v.toString(10):d.w=ht(d.v):d.w=Ue(d.v):d.w=(_=x||"General",k=d.v,(_=Pb[_]||Tn(_))==="General"?Ue(k):An(_,k))}catch(O){if(v.WTF)throw O}var _,k;try{var I=Pb[x]||x||"General";v.cellNF&&(d.z=I),v.cellDates&&d.t=="n"&&na(I)&&(I=Se(d.v))&&(d.t="d",d.v=new Date(I.y,I.m-1,I.d,I.H,I.M,I.S,I.u))}catch(O){if(v.WTF)throw O}}}function tT(d,x){var v=x||{};ya();var _,k=b(hc(d)),I=(k=v.type=="binary"||v.type=="array"||v.type=="base64"?a!==void 0?a.utils.decode(65001,p(k)):Ci(k):k).slice(0,1024).toLowerCase(),O=!1;if((1023&(I=I.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&I.indexOf(","),1023&I.indexOf(";"))){var R=wt(v);return R.type="string",so.to_workbook(k,R)}if(I.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ct){0<=I.indexOf("<"+ct)&&(O=!0)}),O)return function(ct,Sr){if(ct=ct.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi),!ct||ct.length==0)throw new Error("Invalid HTML: could not find <table>");if(ct.length==1)return Kl(B9(ct[0],Sr),Sr);var Ht=pT();return ct.forEach(function(Jt,Lt){gT(Ht,B9(Jt,Sr),"Sheet"+(Lt+1))}),Ht}(k,v);Pb={"General Number":"General","General Date":ee[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ee[15],"Short Date":ee[14],"Long Time":ee[19],"Medium Time":ee[18],"Short Time":ee[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ee[2],Standard:ee[4],Percent:ee[10],Scientific:ee[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var H,G=[],te,de={},fe=[],me=v.dense?[]:{},Ae="",ve={},Be={},Ee=qf('<Data ss:Type="String">'),_e=0,Me=0,He=0,qe={s:{r:2e6,c:2e6},e:{r:0,c:0}},ft={},Et={},bt="",Ut=0,cr=[],dr={},Gt={},Er=0,cn=[],en=[],$r={},Hr=[],Rr=!1,br=[],xn=[],Nn={},Xn=0,Xa=0,hn={Sheets:[],WBProps:{date1904:!1}},jr={};cl.lastIndex=0,k=k.replace(/<!--([\s\S]*?)-->/gm,"");for(var _a,bi,li,Zi,Io="";_=cl.exec(k);)switch(_[3]=(Io=_[3]).toLowerCase()){case"data":if(Io=="data"){if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&G.push([_[3],!0]);break}if(G[G.length-1][1])break;_[1]==="/"?function(ct,Sr,Ht,Jt,Lt,sr,Fr,Fn,gn,tn){var jn="General",Bn=Jt.StyleID,$n={};tn=tn||{};var Gr=[],Dr=0;for((Bn=Bn===void 0&&Fn?Fn.StyleID:Bn)===void 0&&Fr&&(Bn=Fr.StyleID);sr[Bn]!==void 0&&(sr[Bn].nf&&(jn=sr[Bn].nf),sr[Bn].Interior&&Gr.push(sr[Bn].Interior),sr[Bn].Parent);)Bn=sr[Bn].Parent;switch(Ht.Type){case"Boolean":Jt.t="b",Jt.v=Qr(ct);break;case"String":Jt.t="s",Jt.r=Rh(Tn(ct)),Jt.v=-1<ct.indexOf("<")?Tn(Sr||ct).replace(/<.*?>/g,""):Jt.r;break;case"DateTime":ct.slice(-1)!="Z"&&(ct+="Z"),Jt.v=(Je(ct)-new Date(Date.UTC(1899,11,30)))/864e5,Jt.v!=Jt.v?Jt.v=Tn(ct):Jt.v<60&&(Jt.v=Jt.v-1),jn&&jn!="General"||(jn="yyyy-mm-dd");case"Number":Jt.v===void 0&&(Jt.v=+ct),Jt.t||(Jt.t="n");break;case"Error":Jt.t="e",Jt.v=ss[ct],tn.cellText!==!1&&(Jt.w=ct);break;default:ct==""&&Sr==""?Jt.t="z":(Jt.t="s",Jt.v=Rh(Sr||ct))}if(yme(Jt,jn,tn),tn.cellFormula!==!1)if(Jt.Formula)Ht=Tn(Jt.Formula),Ht.charCodeAt(0)==61&&(Ht=Ht.slice(1)),Jt.f=ev(Ht,Lt),delete Jt.Formula,Jt.ArrayRange=="RC"?Jt.F=ev("RC:RC",Lt):Jt.ArrayRange&&(Jt.F=ev(Jt.ArrayRange,Lt),gn.push([Ia(Jt.F),Jt.F]));else for(Dr=0;Dr<gn.length;++Dr)Lt.r>=gn[Dr][0].s.r&&Lt.r<=gn[Dr][0].e.r&&Lt.c>=gn[Dr][0].s.c&&Lt.c<=gn[Dr][0].e.c&&(Jt.F=gn[Dr][1]);tn.cellStyles&&(Gr.forEach(function(Wn){!$n.patternType&&Wn.patternType&&($n.patternType=Wn.patternType)}),Jt.s=$n),Jt.StyleID!==void 0&&(Jt.ixfe=Jt.StyleID)}(k.slice(_e,_.index),bt,Ee,G[G.length-1][0]=="comment"?$r:ve,{c:Me,r:He},ft,Hr[Me],Be,br,v):(bt="",Ee=qf(_[0]),_e=_.index+_[0].length);break;case"cell":if(_[1]==="/")if(0<en.length&&(ve.c=en),(!v.sheetRows||v.sheetRows>He)&&ve.v!==void 0&&(v.dense?(me[He]||(me[He]=[]),me[He][Me]=ve):me[wa(Me)+ja(He)]=ve),ve.HRef&&(ve.l={Target:Tn(ve.HRef)},ve.HRefScreenTip&&(ve.l.Tooltip=ve.HRefScreenTip),delete ve.HRef,delete ve.HRefScreenTip),(ve.MergeAcross||ve.MergeDown)&&(Xn=Me+(0|parseInt(ve.MergeAcross,10)),Xa=He+(0|parseInt(ve.MergeDown,10)),cr.push({s:{c:Me,r:He},e:{c:Xn,r:Xa}})),v.sheetStubs)if(ve.MergeAcross||ve.MergeDown){for(var gt=Me;gt<=Xn;++gt)for(var Qi=He;Qi<=Xa;++Qi)(Me<gt||He<Qi)&&(v.dense?(me[Qi]||(me[Qi]=[]),me[Qi][gt]={t:"z"}):me[wa(gt)+ja(Qi)]={t:"z"});Me=Xn+1}else++Me;else ve.MergeAcross?Me=Xn+1:++Me;else(Me=(ve=function(ct){var Sr={};if(ct.split(/\s+/).length===1)return Sr;var Ht,Jt,Lt,sr=ct.match(D9);if(sr)for(Lt=0;Lt!=sr.length;++Lt)(Jt=(Ht=sr[Lt].match(R9))[1].indexOf(":"))===-1?Sr[Ht[1]]=Ht[2].slice(1,Ht[2].length-1):Sr[Ht[1].slice(0,6)==="xmlns:"?"xmlns"+Ht[1].slice(6):Ht[1].slice(Jt+1)]=Ht[2].slice(1,Ht[2].length-1);return Sr}(_[0])).Index?+ve.Index-1:Me)<qe.s.c&&(qe.s.c=Me),Me>qe.e.c&&(qe.e.c=Me),_[0].slice(-2)==="/>"&&++Me,en=[];break;case"row":_[1]==="/"||_[0].slice(-2)==="/>"?(He<qe.s.r&&(qe.s.r=He),He>qe.e.r&&(qe.e.r=He),_[0].slice(-2)==="/>"&&(Be=qf(_[0])).Index&&(He=+Be.Index-1),Me=0,++He):((Be=qf(_[0])).Index&&(He=+Be.Index-1),Nn={},Be.AutoFitHeight!="0"&&!Be.Height||(Nn.hpx=parseInt(Be.Height,10),Nn.hpt=Nb(Nn.hpx),xn[He]=Nn),Be.Hidden=="1"&&(Nn.hidden=!0,xn[He]=Nn));break;case"worksheet":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"));fe.push(Ae),qe.s.r<=qe.e.r&&qe.s.c<=qe.e.c&&(me["!ref"]=Yn(qe),v.sheetRows&&v.sheetRows<=qe.e.r&&(me["!fullref"]=me["!ref"],qe.e.r=v.sheetRows-1,me["!ref"]=Yn(qe))),cr.length&&(me["!merges"]=cr),0<Hr.length&&(me["!cols"]=Hr),0<xn.length&&(me["!rows"]=xn),de[Ae]=me}else qe={s:{r:2e6,c:2e6},e:{r:0,c:0}},He=Me=0,G.push([_[3],!1]),H=qf(_[0]),Ae=Tn(H.Name),me=v.dense?[]:{},cr=[],br=[],xn=[],jr={name:Ae,Hidden:0},hn.Sheets.push(jr);break;case"table":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"))}else{if(_[0].slice(-2)=="/>")break;G.push([_[3],!1]),Rr=!(Hr=[])}break;case"style":_[1]==="/"?(bi=ft,li=Et,(Zi=v).cellStyles&&(!li.Interior||(Zi=li.Interior).Pattern&&(Zi.patternType=Hhe[Zi.Pattern]||Zi.Pattern)),bi[li.ID]=li):Et=qf(_[0]);break;case"numberformat":Et.nf=Tn(qf(_[0]).Format||"General"),Pb[Et.nf]&&(Et.nf=Pb[Et.nf]);for(var Gi=0;Gi!=392&&ee[Gi]!=Et.nf;++Gi);if(Gi==392){for(Gi=57;Gi!=392;++Gi)if(ee[Gi]==null){pn(Et.nf,Gi);break}}break;case"column":if(G[G.length-1][0]!=="table")break;if((te=qf(_[0])).Hidden&&(te.hidden=!0,delete te.Hidden),te.Width&&(te.wpx=parseInt(te.Width,10)),!Rr&&10<te.wpx){Rr=!0,fl=Hf;for(var Al=0;Al<Hr.length;++Al)Hr[Al]&&tp(Hr[Al])}Rr&&tp(te),Hr[te.Index-1||Hr.length]=te;for(var cf=0;cf<+te.Span;++cf)Hr[Hr.length]=wt(te);break;case"namedrange":if(_[1]==="/")break;hn.Names||(hn.Names=[]);var nt=Un(_[0]),Kt={Name:nt.Name,Ref:ev(nt.RefersTo.slice(1),{r:0,c:0})};0<hn.Sheets.length&&(Kt.Sheet=hn.Sheets.length-1),hn.Names.push(Kt);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":break;case"font":if(_[0].slice(-2)==="/>")break;_[1]==="/"?bt+=k.slice(Ut,_.index):Ut=_.index+_[0].length;break;case"interior":if(!v.cellStyles)break;Et.Interior=qf(_[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(_[0].slice(-2)==="/>")break;_[1]==="/"?(li=dr,nt=Io,Kt=k.slice(Er,_.index),li[nt=(P5=P5||Ti($x))[nt]||nt]=Kt):Er=_.index+_[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"))}else G.push([_[3],!1]);break;case"comment":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"));(_a=$r).t=_a.v||"",_a.t=_a.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),_a.v=_a.w=_a.ixfe=void 0,en.push($r)}else G.push([_[3],!1]),$r={a:(H=qf(_[0])).Author};break;case"autofilter":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&(_a=qf(_[0]),me["!autofilter"]={ref:ev(_a.Range).replace(/\$/g,"")},G.push([_[3],!0]));break;case"name":break;case"datavalidation":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&G.push([_[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(_[1]==="/"){if((H=G.pop())[0]!==_[3])throw new Error("Bad state: "+H.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&G.push([_[3],!0]);break;case"null":break;default:if(G.length==0&&_[3]=="document"||G.length==0&&_[3]=="uof")return J9(k,v);var dt=!0;switch(G[G.length-1][0]){case"officedocumentsettings":switch(_[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:dt=!1}break;case"componentoptions":switch(_[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:dt=!1}break;case"excelworkbook":switch(_[3]){case"date1904":hn.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:dt=!1}break;case"workbookoptions":switch(_[3]){case"owcversion":case"height":case"width":break;default:dt=!1}break;case"worksheetoptions":switch(_[3]){case"visible":if(_[0].slice(-2)!=="/>")if(_[1]==="/")switch(k.slice(Er,_.index)){case"SheetHidden":jr.Hidden=1;break;case"SheetVeryHidden":jr.Hidden=2}else Er=_.index+_[0].length;break;case"header":me["!margins"]||G1(me["!margins"]={},"xlml"),isNaN(+Un(_[0]).Margin)||(me["!margins"].header=+Un(_[0]).Margin);break;case"footer":me["!margins"]||G1(me["!margins"]={},"xlml"),isNaN(+Un(_[0]).Margin)||(me["!margins"].footer=+Un(_[0]).Margin);break;case"pagemargins":var Wt=Un(_[0]);me["!margins"]||G1(me["!margins"]={},"xlml"),isNaN(+Wt.Top)||(me["!margins"].top=+Wt.Top),isNaN(+Wt.Left)||(me["!margins"].left=+Wt.Left),isNaN(+Wt.Right)||(me["!margins"].right=+Wt.Right),isNaN(+Wt.Bottom)||(me["!margins"].bottom=+Wt.Bottom);break;case"displayrighttoleft":hn.Views||(hn.Views=[]),hn.Views[0]||(hn.Views[0]={}),hn.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":break;case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":break;case"nosummaryrowsbelowdetail":me["!outline"]||(me["!outline"]={}),me["!outline"].above=!0;break;case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":me["!outline"]||(me["!outline"]={}),me["!outline"].left=!0;break;case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;default:dt=!1}break;case"pivottable":case"pivotcache":switch(_[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:dt=!1}break;case"pagebreaks":switch(_[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:dt=!1}break;case"autofilter":switch(_[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:dt=!1}break;case"querytable":switch(_[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:dt=!1}break;case"datavalidation":switch(_[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:dt=!1}break;case"sorting":case"conditionalformatting":switch(_[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:dt=!1}break;case"mapinfo":case"schema":case"data":switch(_[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:dt=!1}break;case"smarttags":break;default:dt=!1}if(dt||_[3].match(/!\[CDATA/))break;if(!G[G.length-1][1])throw"Unrecognized tag: "+_[3]+"|"+G.join("|");if(G[G.length-1][0]==="customdocumentproperties"){if(_[0].slice(-2)==="/>")break;_[1]==="/"?function(ct,Sr,Ht,Jt){var Lt=Jt;switch((Ht[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":Lt=Qr(Jt);break;case"i2":case"int":Lt=parseInt(Jt,10);break;case"r4":case"float":Lt=parseFloat(Jt);break;case"date":case"dateTime.tz":Lt=Je(Jt);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+Ht[0])}ct[Tn(Sr)]=Lt}(Gt,Io,cn,k.slice(Er,_.index)):Er=(cn=_).index+_[0].length;break}if(v.WTF)throw"Unrecognized tag: "+_[3]+"|"+G.join("|")}return R={},v.bookSheets||v.bookProps||(R.Sheets=de),R.SheetNames=fe,R.Workbook=hn,R.SSF=wt(ee),R.Props=dr,R.Custprops=Gt,R}function rT(d,x){switch(lT(x=x||{}),x.type||"base64"){case"base64":return tT(F(d),x);case"binary":case"buffer":case"file":return tT(d,x);case"array":return tT(K(d),x)}}function bme(d,x){var v,_,k,I,O,R,H,G=[];return d.Props&&G.push((v=d.Props,_=x,k=[],Xr($x).map(function(te){for(var de=0;de<gc.length;++de)if(gc[de][1]==te)return gc[de];for(de=0;de<Vh.length;++de)if(Vh[de][1]==te)return Vh[de];throw te}).forEach(function(te){var de;v[te[1]]!=null&&(de=(_&&_.Props&&_.Props[te[1]]!=null?_.Props:v)[te[1]],typeof(de=te[2]==="date"?new Date(de).toISOString().replace(/\.\d*Z/,"Z"):de)=="number"?de=String(de):de===!0||de===!1?de=de?"1":"0":de instanceof Date&&(de=new Date(de).toISOString().replace(/\.\d*Z/,"")),k.push(zs($x[te[1]]||te[1],de)))}),Or("DocumentProperties",k.join(""),{xmlns:Vs.o}))),d.Custprops&&G.push((I=d.Props,O=d.Custprops,R=["Worksheets","SheetNames"],d="CustomDocumentProperties",H=[],I&&Xr(I).forEach(function(te){if(Object.prototype.hasOwnProperty.call(I,te)){for(var de=0;de<gc.length;++de)if(te==gc[de][1])return;for(de=0;de<Vh.length;++de)if(te==Vh[de][1])return;for(de=0;de<R.length;++de)if(te==R[de])return;var fe="string",me=typeof(me=I[te])=="number"?(fe="float",String(me)):me===!0||me===!1?(fe="boolean",me?"1":"0"):String(me);H.push(Or(Ln(te),me,{"dt:dt":fe}))}}),O&&Xr(O).forEach(function(te){var de,fe;Object.prototype.hasOwnProperty.call(O,te)&&(I&&Object.prototype.hasOwnProperty.call(I,te)||(de="string",fe=typeof(fe=O[te])=="number"?(de="float",String(fe)):fe===!0||fe===!1?(de="boolean",fe?"1":"0"):fe instanceof Date?(de="dateTime.tz",fe.toISOString()):String(fe),H.push(Or(Ln(te),fe,{"dt:dt":de}))))}),"<"+d+' xmlns="'+Vs.o+'">'+H.join("")+"</"+d+">")),G.join("")}function M9(d){return Or("NamedRange",null,{"ss:Name":d.Name,"ss:RefersTo":"="+K6(d.Ref,{r:0,c:0})})}function wme(d,x,v,_,k,I,O){if(!d||d.v==null&&d.f==null)return"";var R={};if(d.f&&(R["ss:Formula"]="="+Ye(K6(d.f,O))),d.F&&d.F.slice(0,x.length)==x&&(x=ni(d.F.slice(x.length+1)),R["ss:ArrayRange"]="RC:R"+(x.r==O.r?"":"["+(x.r-O.r)+"]")+"C"+(x.c==O.c?"":"["+(x.c-O.c)+"]")),d.l&&d.l.Target&&(R["ss:HRef"]=Ye(d.l.Target),d.l.Tooltip&&(R["x:HRefScreenTip"]=Ye(d.l.Tooltip))),v["!merges"])for(var H=v["!merges"],G=0;G!=H.length;++G)H[G].s.c==O.c&&H[G].s.r==O.r&&(H[G].e.c>H[G].s.c&&(R["ss:MergeAcross"]=H[G].e.c-H[G].s.c),H[G].e.r>H[G].s.r&&(R["ss:MergeDown"]=H[G].e.r-H[G].s.r));var te="",de="";switch(d.t){case"z":if(!_.sheetStubs)return"";break;case"n":te="Number",de=String(d.v);break;case"b":te="Boolean",de=d.v?"1":"0";break;case"e":te="Error",de=ao[d.v];break;case"d":te="DateTime",de=new Date(d.v).toISOString(),d.z==null&&(d.z=d.z||ee[14]);break;case"s":te="String",de=((d.v||"")+"").replace(Us,function(fe){return $s[fe]}).replace(Ts,function(fe){return"&#x"+fe.charCodeAt(0).toString(16).toUpperCase()+";"})}return v=np(_.cellXfs,d,_),R["ss:StyleID"]="s"+(21+v),R["ss:Index"]=O.c+1,v=d.v!=null?de:"",v=d.t=="z"?"":'<Data ss:Type="'+te+'">'+v+"</Data>",0<(d.c||[]).length&&(v+=d.c.map(function(fe){var me=Or("ss:Data",(fe.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Or("Comment",me,{"ss:Author":fe.a})}).join("")),Or("Cell",v,R)}function _me(d,x){if(!d["!ref"])return"";var v=Ia(d["!ref"]),_=d["!merges"]||[],k=0,I=[];d["!cols"]&&d["!cols"].forEach(function(Be,He){tp(Be);var _e=!!Be.width,Me=s3(He,Be),He={"ss:Index":He+1};_e&&(He["ss:Width"]=Qm(Me.width)),Be.hidden&&(He["ss:Hidden"]="1"),I.push(Or("Column",null,He))});for(var O,R,H=Array.isArray(d),G=v.s.r;G<=v.e.r;++G){for(var te=[(O=G,R=(d["!rows"]||[])[G],O='<Row ss:Index="'+(O+1)+'"',R&&(R.hpt&&!R.hpx&&(R.hpx=Zx(R.hpt)),R.hpx&&(O+=' ss:AutoFitHeight="0" ss:Height="'+R.hpx+'"'),R.hidden&&(O+=' ss:Hidden="1"')),O+">")],de=v.s.c;de<=v.e.c;++de){for(var fe,me,Ae,ve=!1,k=0;k!=_.length;++k)if(!(_[k].s.c>de||_[k].s.r>G||_[k].e.c<de||_[k].e.r<G)){_[k].s.c==de&&_[k].s.r==G||(ve=!0);break}ve||(me=kn(fe={r:G,c:de}),Ae=H?(d[G]||[])[de]:d[me],te.push(wme(Ae,me,d,x,0,0,fe)))}te.push("</Row>"),2<te.length&&I.push(te.join(""))}return I.join("")}function Nme(d,x,v){var _=[],I=v.SheetNames[d],k=v.Sheets[I],I=k?function(O,R,H){if(!O||!((H||{}).Workbook||{}).Names)return"";for(var G=H.Workbook.Names,te=[],de=0;de<G.length;++de){var fe=G[de];fe.Sheet==R&&(fe.Name.match(/^_xlfn\./)||te.push(M9(fe)))}return te.join("")}(k,d,v):"";return 0<I.length&&_.push("<Names>"+I+"</Names>"),0<(I=k?_me(k,x):"").length&&_.push("<Table>"+I+"</Table>"),_.push(function(O,R,H){if(!O)return"";var G=[];if(O["!margins"]&&(G.push("<PageSetup>"),O["!margins"].header&&G.push(Or("Header",null,{"x:Margin":O["!margins"].header})),O["!margins"].footer&&G.push(Or("Footer",null,{"x:Margin":O["!margins"].footer})),G.push(Or("PageMargins",null,{"x:Bottom":O["!margins"].bottom||"0.75","x:Left":O["!margins"].left||"0.7","x:Right":O["!margins"].right||"0.7","x:Top":O["!margins"].top||"0.75"})),G.push("</PageSetup>")),H&&H.Workbook&&H.Workbook.Sheets&&H.Workbook.Sheets[R])if(H.Workbook.Sheets[R].Hidden)G.push(Or("Visible",H.Workbook.Sheets[R].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var te=0;te<R&&(!H.Workbook.Sheets[te]||H.Workbook.Sheets[te].Hidden);++te);te==R&&G.push("<Selected/>")}return((((H||{}).Workbook||{}).Views||[])[0]||{}).RTL&&G.push("<DisplayRightToLeft/>"),O["!protect"]&&(G.push(zs("ProtectContents","True")),O["!protect"].objects&&G.push(zs("ProtectObjects","True")),O["!protect"].scenarios&&G.push(zs("ProtectScenarios","True")),O["!protect"].selectLockedCells==null||O["!protect"].selectLockedCells?O["!protect"].selectUnlockedCells==null||O["!protect"].selectUnlockedCells||G.push(zs("EnableSelection","UnlockedCells")):G.push(zs("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(de){O["!protect"][de[0]]&&G.push("<"+de[1]+"/>")})),G.length==0?"":Or("WorksheetOptions",G.join(""),{xmlns:Vs.x})}(k,d,v)),_.join("")}function Sme(d,x){x=x||{},d.SSF||(d.SSF=wt(ee)),d.SSF&&(ya(),Va(d.SSF),x.revssf=ln(d.SSF),x.revssf[d.SSF[65535]]=0,x.ssf=d.SSF,x.cellXfs=[],np(x.cellXfs,{},{revssf:{General:0}}));var v=[];v.push(bme(d,x)),v.push(""),v.push(""),v.push("");for(var _,k=0;k<d.SheetNames.length;++k)v.push(Or("Worksheet",Nme(k,x,d),{"ss:Name":Ye(d.SheetNames[k])}));return v[2]=(_=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'],x.cellXfs.forEach(function(I,O){var R=[];R.push(Or("NumberFormat",null,{"ss:Format":Ye(ee[I.numFmtId])})),O={"ss:ID":"s"+(21+O)},_.push(Or("Style",R.join(""),O))}),Or("Styles",_.join(""))),v[3]=function(I){if(!((I||{}).Workbook||{}).Names)return"";for(var O=I.Workbook.Names,R=[],H=0;H<O.length;++H){var G=O[H];G.Sheet==null&&(G.Name.match(/^_xlfn\./)||R.push(M9(G)))}return Or("Names",R.join(""))}(d),wn+Or("Workbook",v.join(""),{xmlns:Vs.ss,"xmlns:o":Vs.o,"xmlns:x":Vs.x,"xmlns:ss":Vs.ss,"xmlns:dt":Vs.dt,"xmlns:html":Vs.html})}function Cme(d){var x={},v=d.content;return v.l=28,x.AnsiUserType=v.read_shift(0,"lpstr-ansi"),x.AnsiClipboardFormat=La(v,1),v.length-v.l<=4?x:(d=v.read_shift(4),d==0||40<d?x:(v.l-=4,x.Reserved1=v.read_shift(0,"lpstr-ansi"),v.length-v.l<=4||(d=v.read_shift(4))!==1907505652?x:(x.UnicodeClipboardFormat=La(v,2),(d=v.read_shift(4))==0||40<d?x:(v.l-=4,void(x.Reserved2=v.read_shift(0,"lpwstr"))))))}var Ame=[60,1084,2066,2165,2175];function Xh(d,x,v){if(d.t!=="z"&&d.XF){var _,k=0;try{k=d.z||d.XF.numFmtId||0,x.cellNF&&(d.z=ee[k])}catch(I){if(x.WTF)throw I}if(!x||x.cellText!==!1)try{d.t==="e"?d.w=d.w||ao[d.v]:k===0||k=="General"?d.t==="n"?(0|d.v)===d.v?d.w=d.v.toString(10):d.w=ht(d.v):d.w=Ue(d.v):d.w=An(k,d.v,{date1904:!!v,dateNF:x&&x.dateNF})}catch(I){if(x.WTF)throw I}x.cellDates&&k&&d.t=="n"&&na(ee[k]||String(k))&&(_=Se(d.v))&&(d.t="d",d.v=new Date(_.y,_.m-1,_.d,_.H,_.M,_.S,_.u))}}function l3(d,x,v){return{v:d,ixfe:x,t:v}}function jme(d,x){var v={opts:{}},_={};function k(Lt){return!(Lt<8)&&Lt<64&&ft[Lt-8]||ul[Lt]}function I(Lt,sr,Fr){if(!(1<Rr||Fr.sheetRows&&Lt.r>=Fr.sheetRows)){var Fn,gn,tn;if(Fr.cellStyles&&sr.XF&&sr.XF.data&&(gn=Fr,(tn=(Fn=sr).XF.data)&&tn.patternType&&gn&&gn.cellStyles&&(Fn.s={},Fn.s.patternType=tn.patternType,(gn=Kh(k(tn.icvFore)))&&(Fn.s.fgColor={rgb:gn}),(gn=Kh(k(tn.icvBack)))&&(Fn.s.bgColor={rgb:gn}))),delete sr.ixfe,delete sr.XF,_e=kn(O=Lt),me&&me.s&&me.e||(me={s:{r:0,c:0},e:{r:0,c:0}}),Lt.r<me.s.r&&(me.s.r=Lt.r),Lt.c<me.s.c&&(me.s.c=Lt.c),Lt.r+1>me.e.r&&(me.e.r=Lt.r+1),Lt.c+1>me.e.c&&(me.e.c=Lt.c+1),Fr.cellFormula&&sr.f){for(var jn=0;jn<He.length;++jn)if(!(He[jn][0].s.c>Lt.c||He[jn][0].s.r>Lt.r||He[jn][0].e.c<Lt.c||He[jn][0].e.r<Lt.r)){sr.F=Yn(He[jn][0]),He[jn][0].s.c==Lt.c&&He[jn][0].s.r==Lt.r||delete sr.f,sr.f&&(sr.f=""+gu(He[jn][1],0,Lt,en,Ut));break}}Fr.dense?(de[Lt.r]||(de[Lt.r]=[]),de[Lt.r][Lt.c]=sr):de[_e]=sr}}var O,R,H,G,te,de=x.dense?[]:{},fe={},me={},Ae=null,ve=[],Be="",Ee={},_e="",Me={},He=[],qe=[],ft=[],Et={Sheets:[],WBProps:{date1904:!1},Views:[{}]},bt={},Ut={enc:!1,sbcch:0,snames:[],sharedf:Me,arrayf:He,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!x&&!!x.cellStyles,WTF:!!x&&!!x.wtf};x.password&&(Ut.password=x.password);var cr=[],dr=[],Gt=[],Er=[],cn=!1,en=[];en.SheetNames=Ut.snames,en.sharedf=Ut.sharedf,en.arrayf=Ut.arrayf,en.names=[],en.XTI=[];var $r,Hr=0,Rr=0,br=0,xn=[],Nn=[];Ut.codepage=1200,h(1200);for(var Xn=!1;d.l<d.length-1;){var Xa=d.l,hn=d.read_shift(2);if(hn===0&&Hr===10)break;var jr=d.l===d.length?0:d.read_shift(2),_a=nT[hn];if(_a&&_a.f){if(x.bookSheets&&Hr===133&&hn!==133)break;if(Hr=hn,_a.r===2||_a.r==12){var bi=d.read_shift(2);if(jr-=2,!Ut.enc&&bi!==hn&&((255&bi)<<8|bi>>8)!==hn)throw new Error("rt mismatch: "+bi+"!="+hn);_a.r==12&&(d.l+=10,jr-=10)}var li,Zi,Io,gt={},gt=hn===10?_a.f(d,jr,Ut):function(Lt,sr,Fr,Fn,gn){var tn=Fn,jn=[],Bn=Fr.slice(Fr.l,Fr.l+tn);if(gn&&gn.enc&&gn.enc.insitu&&0<Bn.length)switch(Lt){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:gn.enc.insitu(Bn)}jn.push(Bn),Fr.l+=tn;for(var $n=Mi(Fr,Fr.l),Gr=nT[$n],Dr=0;Gr!=null&&-1<Ame.indexOf($n);)tn=Mi(Fr,Fr.l+2),Dr=Fr.l+4,$n==2066?Dr+=4:$n!=2165&&$n!=2175||(Dr+=12),Bn=Fr.slice(Dr,Fr.l+4+tn),jn.push(Bn),Fr.l+=4+tn,Gr=nT[$n=Mi(Fr,Fr.l)];var Wn=ie(jn);qt(Wn,0);var mn=0;Wn.lens=[];for(var Ur=0;Ur<jn.length;++Ur)Wn.lens.push(mn),mn+=jn[Ur].length;if(Wn.length<Fn)throw"XLS Record 0x"+Lt.toString(16)+" Truncated: "+Wn.length+" < "+Fn;return sr.f(Wn,Wn.length,gn)}(hn,_a,d,jr,Ut);if(Rr!=0||[9,521,1033,2057].indexOf(Hr)!==-1)switch(hn){case 34:v.opts.Date1904=Et.WBProps.date1904=gt;break;case 134:v.opts.WriteProtect=!0;break;case 47:if(Ut.enc||(d.l=0),Ut.enc=gt,!x.password)throw new Error("File is password-protected");if(gt.valid==null)throw new Error("Encryption scheme unsupported");if(!gt.valid)throw new Error("Password is incorrect");break;case 92:Ut.lastuser=gt;break;case 66:var Qi=Number(gt);switch(Qi){case 21010:Qi=1200;break;case 32768:Qi=1e4;break;case 32769:Qi=1252}h(Ut.codepage=Qi),Xn=!0;break;case 317:Ut.rrtabid=gt;break;case 25:Ut.winlocked=gt;break;case 439:v.opts.RefreshAll=gt;break;case 12:v.opts.CalcCount=gt;break;case 16:v.opts.CalcDelta=gt;break;case 17:v.opts.CalcIter=gt;break;case 13:v.opts.CalcMode=gt;break;case 14:v.opts.CalcPrecision=gt;break;case 95:v.opts.CalcSaveRecalc=gt;break;case 15:Ut.CalcRefMode=gt;break;case 2211:v.opts.FullCalc=gt;break;case 129:gt.fDialog&&(de["!type"]="dialog"),gt.fBelow||((de["!outline"]||(de["!outline"]={})).above=!0),gt.fRight||((de["!outline"]||(de["!outline"]={})).left=!0);break;case 224:qe.push(gt);break;case 430:en.push([gt]),en[en.length-1].XTI=[];break;case 35:case 547:en[en.length-1].push(gt);break;case 24:case 536:$r={Name:gt.Name,Ref:gu(gt.rgce,0,null,en,Ut)},0<gt.itab&&($r.Sheet=gt.itab-1),en.names.push($r),en[0]||(en[0]=[],en[0].XTI=[]),en[en.length-1].push(gt),gt.Name=="_xlnm._FilterDatabase"&&0<gt.itab&&gt.rgce&&gt.rgce[0]&&gt.rgce[0][0]&&gt.rgce[0][0][0]=="PtgArea3d"&&(Nn[gt.itab-1]={ref:Yn(gt.rgce[0][0][1][2])});break;case 22:Ut.ExternCount=gt;break;case 23:en.length==0&&(en[0]=[],en[0].XTI=[]),en[en.length-1].XTI=en[en.length-1].XTI.concat(gt),en.XTI=en.XTI.concat(gt);break;case 2196:if(Ut.biff<8)break;$r!=null&&($r.Comment=gt[1]);break;case 18:de["!protect"]=gt;break;case 19:gt!==0&&Ut.WTF&&console.error("Password verifier: "+gt);break;case 133:fe[gt.pos]=gt,Ut.snames.push(gt.name);break;case 10:if(--Rr)break;me.e&&(0<me.e.r&&0<me.e.c&&(me.e.r--,me.e.c--,de["!ref"]=Yn(me),x.sheetRows&&x.sheetRows<=me.e.r&&(Gi=me.e.r,me.e.r=x.sheetRows-1,de["!fullref"]=de["!ref"],de["!ref"]=Yn(me),me.e.r=Gi),me.e.r++,me.e.c++),0<cr.length&&(de["!merges"]=cr),0<dr.length&&(de["!objects"]=dr),0<Gt.length&&(de["!cols"]=Gt),0<Er.length&&(de["!rows"]=Er),Et.Sheets.push(bt)),Be===""?Ee=de:_[Be]=de,de=x.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(Ut.biff===8&&(Ut.biff={9:2,521:3,1033:4}[hn]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[gt.BIFFVer]||8),Ut.biffguess=gt.BIFFVer==0,gt.BIFFVer==0&&gt.dt==4096&&(Ut.biff=5,Xn=!0,h(Ut.codepage=28591)),Ut.biff==8&&gt.BIFFVer==0&&gt.dt==16&&(Ut.biff=2),Rr++)break;var Gi,de=x.dense?[]:{};Ut.biff<8&&!Xn&&(Xn=!0,h(Ut.codepage=x.codepage||1252)),Ut.biff<5||gt.BIFFVer==0&&gt.dt==4096?(Be===""&&(Be="Sheet1"),me={s:{r:0,c:0},e:{r:0,c:0}},Gi={pos:d.l-jr,name:Be},fe[Gi.pos]=Gi,Ut.snames.push(Be)):Be=(fe[Xa]||{name:""}).name,gt.dt==32&&(de["!type"]="chart"),gt.dt==64&&(de["!type"]="macro"),cr=[],dr=[],Ut.arrayf=He=[],Gt=[],cn=!(Er=[]),bt={Hidden:(fe[Xa]||{hs:0}).hs,name:Be};break;case 515:case 3:case 2:de["!type"]=="chart"&&(x.dense?(de[gt.r]||[])[gt.c]:de[kn({c:gt.c,r:gt.r})])&&++gt.c,nt={ixfe:gt.ixfe,XF:qe[gt.ixfe]||{},v:gt.val,t:"n"},0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:gt.c,r:gt.r},nt,x);break;case 5:case 517:nt={ixfe:gt.ixfe,XF:qe[gt.ixfe],v:gt.val,t:gt.t},0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:gt.c,r:gt.r},nt,x);break;case 638:nt={ixfe:gt.ixfe,XF:qe[gt.ixfe],v:gt.rknum,t:"n"},0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:gt.c,r:gt.r},nt,x);break;case 189:for(var Al=gt.c;Al<=gt.C;++Al){var cf=gt.rkrec[Al-gt.c][0],nt={ixfe:cf,XF:qe[cf],v:gt.rkrec[Al-gt.c][1],t:"n"};0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:Al,r:gt.r},nt,x)}break;case 6:case 518:case 1030:if(gt.val=="String"){Ae=gt;break}(nt=l3(gt.val,gt.cell.ixfe,gt.tt)).XF=qe[nt.ixfe],x.cellFormula&&(!((Kt=gt.formula)&&Kt[0]&&Kt[0][0]&&Kt[0][0][0]=="PtgExp")||Me[Io=kn({r:li=Kt[0][0][1][0],c:Zi=Kt[0][0][1][1]})]?nt.f=""+gu(gt.formula,0,gt.cell,en,Ut):nt.F=((x.dense?(de[li]||[])[Zi]:de[Io])||{}).F),0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I(gt.cell,nt,x),Ae=gt;break;case 7:case 519:if(!Ae)throw new Error("String record expects Formula");(nt=l3(Ae.val=gt,Ae.cell.ixfe,"s")).XF=qe[nt.ixfe],x.cellFormula&&(nt.f=""+gu(Ae.formula,0,Ae.cell,en,Ut)),0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I(Ae.cell,nt,x),Ae=null;break;case 33:case 545:He.push(gt);var Kt=kn(gt[0].s),dt=x.dense?(de[gt[0].s.r]||[])[gt[0].s.c]:de[Kt];if(x.cellFormula&&dt){if(!Ae||!Kt||!dt)break;dt.f=""+gu(gt[1],0,gt[0],en,Ut),dt.F=Yn(gt[0])}break;case 1212:if(!x.cellFormula)break;if(_e){if(!Ae)break;Me[kn(Ae.cell)]=gt[0],((dt=x.dense?(de[Ae.cell.r]||[])[Ae.cell.c]:de[kn(Ae.cell)])||{}).f=""+gu(gt[0],0,O,en,Ut)}break;case 253:nt=l3(ve[gt.isst].t,gt.ixfe,"s"),ve[gt.isst].h&&(nt.h=ve[gt.isst].h),nt.XF=qe[nt.ixfe],0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:gt.c,r:gt.r},nt,x);break;case 513:x.sheetStubs&&(nt={ixfe:gt.ixfe,XF:qe[gt.ixfe],t:"z"},0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:gt.c,r:gt.r},nt,x));break;case 190:if(x.sheetStubs)for(var Wt=gt.c;Wt<=gt.C;++Wt){var ct=gt.ixfe[Wt-gt.c];nt={ixfe:ct,XF:qe[ct],t:"z"},0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:Wt,r:gt.r},nt,x)}break;case 214:case 516:case 4:(nt=l3(gt.val,gt.ixfe,"s")).XF=qe[nt.ixfe],0<br&&(nt.z=xn[nt.ixfe>>8&63]),Xh(nt,x,v.opts.Date1904),I({c:gt.c,r:gt.r},nt,x);break;case 0:case 512:Rr===1&&(me=gt);break;case 252:ve=gt;break;case 1054:if(Ut.biff==4){xn[br++]=gt[1];for(var Sr=0;Sr<br+163&&ee[Sr]!=gt[1];++Sr);163<=Sr&&pn(gt[1],br+163)}else pn(gt[1],gt[0]);break;case 30:xn[br++]=gt;for(var Ht=0;Ht<br+163&&ee[Ht]!=gt;++Ht);163<=Ht&&pn(gt,br+163);break;case 229:cr=cr.concat(gt);break;case 93:dr[gt.cmo[0]]=Ut.lastobj=gt;break;case 438:Ut.lastobj.TxO=gt;break;case 127:Ut.lastobj.ImData=gt;break;case 440:for(H=gt[0].s.r;H<=gt[0].e.r;++H)for(R=gt[0].s.c;R<=gt[0].e.c;++R)(dt=x.dense?(de[H]||[])[R]:de[kn({c:R,r:H})])&&(dt.l=gt[1]);break;case 2048:for(H=gt[0].s.r;H<=gt[0].e.r;++H)for(R=gt[0].s.c;R<=gt[0].e.c;++R)(dt=x.dense?(de[H]||[])[R]:de[kn({c:R,r:H})])&&dt.l&&(dt.l.Tooltip=gt[1]);break;case 28:if(Ut.biff<=5&&2<=Ut.biff)break;dt=x.dense?(de[gt[0].r]||[])[gt[0].c]:de[kn(gt[0])];var Jt=dr[gt[2]];dt||(dt=x.dense?(de[gt[0].r]||(de[gt[0].r]=[]),de[gt[0].r][gt[0].c]={t:"z"}):de[kn(gt[0])]={t:"z"},me.e.r=Math.max(me.e.r,gt[0].r),me.s.r=Math.min(me.s.r,gt[0].r),me.e.c=Math.max(me.e.c,gt[0].c),me.s.c=Math.min(me.s.c,gt[0].c)),dt.c||(dt.c=[]),Jt={a:gt[1],t:Jt.TxO.t},dt.c.push(Jt);break;case 2173:qe[gt.ixfe],gt.ext.forEach(function(sr){sr[0]});break;case 125:if(!Ut.cellStyles)break;for(;gt.e>=gt.s;)Gt[gt.e--]={width:gt.w/256,level:gt.level||0,hidden:!!(1&gt.flags)},cn||(cn=!0,W6(gt.w/256)),tp(Gt[gt.e+1]);break;case 520:Jt={},gt.level!=null&&((Er[gt.r]=Jt).level=gt.level),gt.hidden&&((Er[gt.r]=Jt).hidden=!0),gt.hpt&&((Er[gt.r]=Jt).hpt=gt.hpt,Jt.hpx=Zx(gt.hpt));break;case 38:case 39:case 40:case 41:de["!margins"]||G1(de["!margins"]={}),de["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[hn]]=gt;break;case 161:de["!margins"]||G1(de["!margins"]={}),de["!margins"].header=gt.header,de["!margins"].footer=gt.footer;break;case 574:gt.RTL&&(Et.Views[0].RTL=!0);break;case 146:ft=gt;break;case 2198:te=gt;break;case 140:G=gt;break;case 442:Be?bt.CodeName=gt||bt.name:Et.WBProps.CodeName=gt||"ThisWorkbook"}}else _a||console.error("Missing Info for XLS Record 0x"+hn.toString(16)),d.l+=jr}return v.SheetNames=Xr(fe).sort(function(Lt,sr){return Number(Lt)-Number(sr)}).map(function(Lt){return fe[Lt].name}),x.bookSheets||(v.Sheets=_),!v.SheetNames.length&&Ee["!ref"]?(v.SheetNames.push("Sheet1"),v.Sheets&&(v.Sheets.Sheet1=Ee)):v.Preamble=Ee,v.Sheets&&Nn.forEach(function(Lt,sr){v.Sheets[v.SheetNames[sr]]["!autofilter"]=Lt}),v.Strings=ve,v.SSF=wt(ee),Ut.enc&&(v.Encryption=Ut.enc),te&&(v.Themes=te),v.Metadata={},G!==void 0&&(v.Metadata.Country=G),0<en.names.length&&(Et.Names=en.names),v.Workbook=Et,v}var Ob={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function c3(d,x){var v,_,k,I,O;if(lT(x=x||{}),g(),x.codepage&&f(x.codepage),d.FullPaths){if(yr.find(d,"/encryption"))throw new Error("File is password-protected");v=yr.find(d,"!CompObj"),k=yr.find(d,"/Workbook")||yr.find(d,"/Book")}else{switch(x.type){case"base64":d=z(F(d));break;case"binary":d=z(d);break;case"buffer":break;case"array":Array.isArray(d)||(d=Array.prototype.slice.call(d))}qt(d,0),k={content:d}}if(v&&Cme(v),x.bookProps&&!x.bookSheets)_={};else{var R=L?"buffer":"array";if(k&&k.content)_=jme(k.content,x);else if((k=yr.find(d,"PerfectOffice_MAIN"))&&k.content)_=Uf.to_workbook(k.content,(x.type=R,x));else{if(!(k=yr.find(d,"NativeContent_MAIN"))||!k.content)throw(k=yr.find(d,"MN0"))&&k.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");_=Uf.to_workbook(k.content,(x.type=R,x))}x.bookVBA&&d.FullPaths&&yr.find(d,"/_VBA_PROJECT_CUR/VBA/dir")&&(_.vbaraw=(I=d,O=yr.utils.cfb_new({root:"R"}),I.FullPaths.forEach(function(H,G){H.slice(-1)!=="/"&&H.match(/_VBA_PROJECT_CUR/)&&(H=H.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,""),yr.utils.cfb_add(O,H,I.FileIndex[G].content))}),yr.write(O)))}return R={},d.FullPaths&&function(H,G,te){var de=yr.find(H,"/!DocumentSummaryInformation");if(de&&0<de.size)try{var fe,me=B5(de,vs,Ob.DSI);for(fe in me)G[fe]=me[fe]}catch(Ee){if(te.WTF)throw Ee}var Ae=yr.find(H,"/!SummaryInformation");if(Ae&&0<Ae.size)try{var ve,Be=B5(Ae,Ws,Ob.SI);for(ve in Be)G[ve]==null&&(G[ve]=Be[ve])}catch(Ee){if(te.WTF)throw Ee}G.HeadingPairs&&G.TitlesOfParts&&(Bx(G.HeadingPairs,G.TitlesOfParts,G,te),delete G.HeadingPairs,delete G.TitlesOfParts)}(d,R,x),_.Props=_.Custprops=R,x.bookFiles&&(_.cfb=d),_}function Eme(d,I){var v,_,k=I||{},I=yr.utils.cfb_new({root:"R"}),O="/Workbook";switch(k.bookType||"xls"){case"xls":k.bookType="biff8";case"xla":k.bookType||(k.bookType="xla");case"biff8":O="/Workbook",k.biff=8;break;case"biff5":O="/Book",k.biff=5;break;default:throw new Error("invalid type "+k.bookType+" for XLS CFB")}return yr.utils.cfb_add(I,O,L9(d,k)),k.biff==8&&(d.Props||d.Custprops)&&function(R,H){var G,te=[],de=[],fe=[],me=0,Ae=Ei(vs,"n"),ve=Ei(Ws,"n");if(R.Props)for(G=Xr(R.Props),me=0;me<G.length;++me)(Object.prototype.hasOwnProperty.call(Ae,G[me])?te:Object.prototype.hasOwnProperty.call(ve,G[me])?de:fe).push([G[me],R.Props[G[me]]]);if(R.Custprops)for(G=Xr(R.Custprops),me=0;me<G.length;++me)Object.prototype.hasOwnProperty.call(R.Props||{},G[me])||(Object.prototype.hasOwnProperty.call(Ae,G[me])?te:Object.prototype.hasOwnProperty.call(ve,G[me])?de:fe).push([G[me],R.Custprops[G[me]]]);for(var Be=[],me=0;me<fe.length;++me)-1<M5.indexOf(fe[me][0])||-1<Lx.indexOf(fe[me][0])||fe[me][1]!=null&&Be.push(fe[me]);de.length&&yr.utils.cfb_add(H,"/SummaryInformation",$5(de,Ob.SI,ve,Ws)),(te.length||Be.length)&&yr.utils.cfb_add(H,"/DocumentSummaryInformation",$5(te,Ob.DSI,Ae,vs,Be.length?Be:null,Ob.UDI))}(d,I),k.biff==8&&d.vbaraw&&(v=I,(_=yr.read(d.vbaraw,{type:typeof d.vbaraw=="string"?"binary":"buffer"})).FullPaths.forEach(function(R,H){H==0||(R=R.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/")).slice(-1)!=="/"&&yr.utils.cfb_add(v,R,_.FileIndex[H].content)})),I}var Ib={0:{f:function(d,x){var v={},_=d.l+x;v.r=d.read_shift(4),d.l+=4;var k=d.read_shift(2);return d.l+=1,x=d.read_shift(1),d.l=_,7&x&&(v.level=7&x),16&x&&(v.hidden=!0),32&x&&(v.hpt=k/20),v}},1:{f:function(d){return[y(d)]}},2:{f:function(d){return[y(d),tt(d),"n"]}},3:{f:function(d){return[y(d),d.read_shift(1),"e"]}},4:{f:function(d){return[y(d),d.read_shift(1),"b"]}},5:{f:function(d){return[y(d),ir(d),"n"]}},6:{f:function(d){return[y(d),is(d),"str"]}},7:{f:function(d){return[y(d),d.read_shift(4),"s"]}},8:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var I=[k,is(d),"str"];return v.cellFormula?(d.l+=2,x=i3(d,_-d.l,v),I[3]=gu(x,0,k,v.supbooks,v)):d.l=_,I}},9:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var I=[k,ir(d),"n"];return v.cellFormula?(d.l+=2,x=i3(d,_-d.l,v),I[3]=gu(x,0,k,v.supbooks,v)):d.l=_,I}},10:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var I=[k,d.read_shift(1),"b"];return v.cellFormula?(d.l+=2,x=i3(d,_-d.l,v),I[3]=gu(x,0,k,v.supbooks,v)):d.l=_,I}},11:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var I=[k,d.read_shift(1),"e"];return v.cellFormula?(d.l+=2,x=i3(d,_-d.l,v),I[3]=gu(x,0,k,v.supbooks,v)):d.l=_,I}},12:{f:function(d){return[E(d)]}},13:{f:function(d){return[E(d),tt(d),"n"]}},14:{f:function(d){return[E(d),d.read_shift(1),"e"]}},15:{f:function(d){return[E(d),d.read_shift(1),"b"]}},16:{f:j9},17:{f:function(d){return[E(d),is(d),"str"]}},18:{f:function(d){return[E(d),d.read_shift(4),"s"]}},19:{f:mo},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(d,O,R){var _=d.l+O;d.l+=4,d.l+=1;var k=d.read_shift(4),I=be(d),O=S0e(d,0,R),R=J(d);return d.l=_,O={Name:I,Ptg:O},k<268435455&&(O.Sheet=k),R&&(O.Comment=R),O}},40:{},42:{},43:{f:function(d,x,v){var _={};_.sz=d.read_shift(2)/20;var k,I=(I=(k=d).read_shift(1),k.l++,{fBold:1&I,fItalic:2&I,fUnderline:4&I,fStrikeout:8&I,fOutline:16&I,fShadow:32&I,fCondense:64&I,fExtend:128&I});switch(I.fItalic&&(_.italic=1),I.fCondense&&(_.condense=1),I.fExtend&&(_.extend=1),I.fShadow&&(_.shadow=1),I.fOutline&&(_.outline=1),I.fStrikeout&&(_.strike=1),d.read_shift(2)===700&&(_.bold=1),d.read_shift(2)){case 1:_.vertAlign="superscript";break;case 2:_.vertAlign="subscript"}switch((I=d.read_shift(1))!=0&&(_.underline=I),0<(I=d.read_shift(1))&&(_.family=I),0<(I=d.read_shift(1))&&(_.charset=I),d.l++,_.color=function(O){var R={},H=O.read_shift(1)>>>1,G=O.read_shift(1),te=O.read_shift(2,"i"),de=O.read_shift(1),fe=O.read_shift(1),me=O.read_shift(1);switch(O.l++,H){case 0:R.auto=1;break;case 1:R.index=G;var Ae=ul[G];Ae&&(R.rgb=Kh(Ae));break;case 2:R.rgb=Kh([de,fe,me]);break;case 3:R.theme=G}return te!=0&&(R.tint=0<te?te/32767:te/32768),R}(d),d.read_shift(1)){case 1:_.scheme="major";break;case 2:_.scheme="minor"}return _.name=is(d),_}},44:{f:function(d,x){return[d.read_shift(2),is(d)]}},45:{f:Yhe},46:{f:ki},47:{f:function(d,k){var v=d.l+k,_=d.read_shift(2),k=d.read_shift(2);return d.l=v,{ixfe:_,numFmtId:k}}},48:{},49:{f:function(d){return d.read_shift(4,"i")}},50:{},51:{f:function(d){for(var x=[],v=d.read_shift(4);0<v--;)x.push([d.read_shift(4),d.read_shift(4)]);return x}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xt},62:{f:function(d){return[y(d),mo(d),"is"]}},63:{f:function(d){var x={};x.i=d.read_shift(4);var v={};return v.r=d.read_shift(4),v.c=d.read_shift(4),x.r=kn(v),2&(d=d.read_shift(1))&&(x.l="1"),8&d&&(x.a="1"),x}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:nr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(d){var x=d.read_shift(2);return d.l+=28,{RTL:32&x}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(d,x){var v={},_=d[d.l];return++d.l,v.above=!(64&_),v.left=!(128&_),d.l+=18,v.name=D(d),v}},148:{f:o3,p:16},151:{f:function(){}},152:{},153:{f:function(d,x){var v={},_=d.read_shift(4);return v.defaultThemeVersion=d.read_shift(4),0<(d=8<x?is(d):"").length&&(v.CodeName=d),v.autoCompressPictures=!!(65536&_),v.backupFile=!!(64&_),v.checkCompatibility=!!(4096&_),v.date1904=!!(1&_),v.filterPrivacy=!!(8&_),v.hidePivotFieldList=!!(1024&_),v.promptedSolutions=!!(16&_),v.publishItems=!!(2048&_),v.refreshAllConnections=!!(262144&_),v.saveExternalLinkValues=!!(128&_),v.showBorderUnselectedTables=!!(4&_),v.showInkAnnotation=!!(32&_),v.showObjects=["all","placeholders","none"][_>>13&3],v.showPivotChartFilter=!!(32768&_),v.updateLinks=["userSet","never","always"][_>>8&3],v}},154:{},155:{},156:{f:function(d,x){var v={};return v.Hidden=d.read_shift(4),v.iTabID=d.read_shift(4),v.strRelID=Te(d),v.name=is(d),v}},157:{},158:{},159:{T:1,f:function(d){return[d.read_shift(4),d.read_shift(4)]}},160:{T:-1},161:{T:1,f:Nt},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:rv},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(d,x){return{flags:d.read_shift(4),version:d.read_shift(4),name:is(d)}}},336:{T:-1},337:{f:function(d){return d.l+=4,d.read_shift(4)!=0},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Te},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(d,I,v){var _=d.l+I,k=pt(d),I=d.read_shift(1);return(k=[k])[2]=I,v.cellFormula?(v=N0e(d,_-d.l,v),k[1]=v):d.l=_,k}},427:{f:function(d,k,v){var _=d.l+k,k=[Nt(d)];return v.cellFormula&&(v=C0e(d,_-d.l,v),k[1]=v),d.l=_,k}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(d){var x={};return E9.forEach(function(v){x[v]=ir(d)}),x}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(d,R){var v=d.l+R,_=Nt(d),k=J(d),I=is(d),O=is(d),R=is(d);return d.l=v,R={rfx:_,relId:k,loc:I,display:R},O&&(R.Tooltip=O),R}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Te},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:We},633:{T:1},634:{T:-1},635:{T:1,f:function(d){var x={};x.iauthor=d.read_shift(4);var v=Nt(d);return x.rfx=v.s,x.ref=kn(v.s),d.l+=16,x}},636:{T:-1},637:{f:ke},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(d,x){return d.l+=10,{name:is(d)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},nT={6:{f:X6},10:{f:xc},12:{f:Oo},13:{f:Oo},14:{f:Li},15:{f:Li},16:{f:ir},17:{f:Li},18:{f:Li},19:{f:Oo},20:{f:ue},21:{f:ue},23:{f:$e},24:{f:Re},25:{f:Li},26:{},27:{},28:{f:function(d,x,v){return function(_,k){if(!(k.biff<8)){var I=_.read_shift(2),O=_.read_shift(2),R=_.read_shift(2),H=_.read_shift(2),G=Wh(_,0,k);return k.biff<8&&_.read_shift(1),[{r:I,c:O},G,H,R]}}(d,v)}},29:{},34:{f:Li},35:{f:ye},38:{f:ir},39:{f:ir},40:{f:ir},41:{f:ir},42:{f:Li},43:{f:Li},47:{f:function(d,x,v){var _={Type:8<=v.biff?d.read_shift(2):0};return _.Type?e3(d,x-2,_):(x=d,v.biff,d=v,v=_,x={key:Oo(x),verificationBytes:Oo(x)},d.password&&(x.verifier=Xx(d.password)),v.valid=x.verificationBytes===x.verifier,v.valid&&(v.insitu=V6(d.password))),_}},49:{f:function(d,x,v){var _={dyHeight:d.read_shift(2),fl:d.read_shift(2)};switch(v&&v.biff||8){case 2:break;case 3:case 4:d.l+=2;break;default:d.l+=10}return _.name=D1(d,0,v),_}},51:{f:Oo},60:{},61:{f:function(d){return{Pos:[d.read_shift(2),d.read_shift(2)],Dim:[d.read_shift(2),d.read_shift(2)],Flags:d.read_shift(2),CurTab:d.read_shift(2),FirstTab:d.read_shift(2),Selected:d.read_shift(2),TabRatio:d.read_shift(2)}}},64:{f:Li},65:{f:function(){}},66:{f:Oo},77:{},80:{},81:{},82:{},85:{f:Oo},89:{},90:{},91:{},92:{f:function(d,x,k){if(k.enc)return d.l+=x,"";var _=d.l,k=Wh(d,0,k);return d.read_shift(x+_-d.l),k}},93:{f:function(d,x,v){return v&&v.biff<8?function(_,k,I){_.l+=4;var O=_.read_shift(2),R=_.read_shift(2),H=_.read_shift(2);_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=6,k-=36;var G=[];return G.push((Ke[O]||nr)(_,k,I)),{cmo:[R,O,H],ft:G}}(d,x,v):{cmo:v=H5(d),ft:function(_,k){for(var I=_.l+k,O=[];_.l<I;){var R=_.read_shift(2);_.l-=2;try{O.push(L6[R](_,I-_.l))}catch{return _.l=I,O}}return _.l!=I&&(_.l=I),O}(d,x-22,v[1])}}},94:{},95:{f:Li},96:{},97:{},99:{f:Li},125:{f:xt},128:{f:function(d){if(d.l+=4,(d=[d.read_shift(2),d.read_shift(2)])[0]!==0&&d[0]--,d[1]!==0&&d[1]--,7<d[0]||7<d[1])throw new Error("Bad Gutters: "+d.join("|"));return d}},129:{f:function(d,x,v){return{fDialog:16&(x=v&&v.biff==8||x==2?d.read_shift(2):(d.l+=x,0)),fBelow:64&x,fRight:128&x}}},130:{f:Oo},131:{f:Li},132:{f:Li},133:{f:function(d,x,v){var _=d.read_shift(4),k=3&d.read_shift(1),I=d.read_shift(1);switch(I){case 0:I="Worksheet";break;case 1:I="Macrosheet";break;case 2:I="Chartsheet";break;case 6:I="VBAModule"}return v=D1(d,0,v),{pos:_,hs:k,dt:I,name:v=v.length===0?"Sheet1":v}}},134:{},140:{f:function(d){var x=[0,0],v=d.read_shift(2);return x[0]=Yl[v]||v,v=d.read_shift(2),x[1]=Yl[v]||v,x}},141:{f:Oo},144:{},146:{f:function(d){for(var x=d.read_shift(2),v=[];0<x--;)v.push(Km(d));return v}},151:{},152:{},153:{},154:{},155:{},156:{f:Oo},157:{},158:{},160:{f:Ft},161:{f:function(d,x){var v={};return x<32||(d.l+=16,v.header=ir(d),v.footer=ir(d),d.l+=2),v}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(d,x){for(var v=d.l+x-2,_=d.read_shift(2),k=d.read_shift(2),I=[];d.l<v;)I.push(z5(d));if(d.l!==v)throw new Error("MulRK read error");if(x=d.read_shift(2),I.length!=x-k+1)throw new Error("MulRK length mismatch");return{r:_,c:k,C:x,rkrec:I}}},190:{f:function(d,x){for(var v=d.l+x-2,_=d.read_shift(2),k=d.read_shift(2),I=[];d.l<v;)I.push(d.read_shift(2));if(d.l!==v)throw new Error("MulBlank read error");if(x=d.read_shift(2),I.length!=x-k+1)throw new Error("MulBlank length mismatch");return{r:_,c:k,C:x,ixfe:I}}},193:{f:xc},197:{},198:{},199:{},200:{},201:{},202:{f:Li},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oo},220:{},221:{f:Li},222:{},224:{f:function(d,x,v){var _,k,I,O={};return O.ifnt=d.read_shift(2),O.numFmtId=d.read_shift(2),O.flags=d.read_shift(2),O.fStyle=O.flags>>2&1,x-=6,O.data=(_=d,O.fStyle,k=v,I={},x=_.read_shift(4),d=_.read_shift(4),v=_.read_shift(4),_=_.read_shift(2),I.patternType=Vu[v>>26],k.cellStyles&&(I.alc=7&x,I.fWrap=x>>3&1,I.alcV=x>>4&7,I.fJustLast=x>>7&1,I.trot=x>>8&255,I.cIndent=x>>16&15,I.fShrinkToFit=x>>20&1,I.iReadOrder=x>>22&2,I.fAtrNum=x>>26&1,I.fAtrFnt=x>>27&1,I.fAtrAlc=x>>28&1,I.fAtrBdr=x>>29&1,I.fAtrPat=x>>30&1,I.fAtrProt=x>>31&1,I.dgLeft=15&d,I.dgRight=d>>4&15,I.dgTop=d>>8&15,I.dgBottom=d>>12&15,I.icvLeft=d>>16&127,I.icvRight=d>>23&127,I.grbitDiag=d>>30&3,I.icvTop=127&v,I.icvBottom=v>>7&127,I.icvDiag=v>>14&127,I.dgDiag=v>>21&15,I.icvFore=127&_,I.icvBack=_>>7&127,I.fsxButton=_>>14&1),I),O}},225:{f:function(d,x){return x===0||d.read_shift(2),1200}},226:{f:xc},227:{},229:{f:function(d,x){for(var v=[],_=d.read_shift(2);_--;)v.push(L1(d));return v}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(d,x){for(var v=d.l+x,x=d.read_shift(4),_=d.read_shift(4),k=[],I=0;I!=_&&d.l<v;++I)k.push(function(R){var H=o;o=1200;var G,te=R.read_shift(2),de=4&(ve=R.read_shift(1)),fe=8&ve,me=1+(1&ve),Ae=0,ve={};return fe&&(Ae=R.read_shift(2)),de&&(G=R.read_shift(4)),me=me==2?"dbcs-cont":"sbcs-cont",me=te===0?"":R.read_shift(te,me),fe&&(R.l+=4*Ae),de&&(R.l+=G),ve.t=me,fe||(ve.raw="<t>"+ve.t+"</t>",ve.r=ve.t),o=H,ve}(d));return k.Count=x,k.Unique=_,k}},253:{f:function(d){var x=Wu(d);return x.isst=d.read_shift(4),x}},255:{f:function(d,x){var v={};return v.dsst=d.read_shift(2),d.l+=x-2,v}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$f},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Li},353:{f:xc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(d,I,v){var _=d.l+I,k=d.read_shift(2),I=d.read_shift(2);if((v.sbcch=I)==1025||I==14849)return[I,k];if(I<1||255<I)throw new Error("Unexpected SupBook type: "+I);for(var v=L0(d,I),O=[];_>d.l;)O.push(Gm(d));return[I,k,v,O]}},431:{f:Li},432:{},433:{},434:{},437:{},438:{f:function(d,x,v){var _=d.l,k="";try{d.l+=4;var I=(v.lastobj||{cmo:[0,0]}).cmo[1];[0,5,7,11,12,14].indexOf(I)==-1?d.l+=6:function(G){var te=G.read_shift(1);G.l++;var de=G.read_shift(2);G.l+=2}(d);var O=d.read_shift(2);d.read_shift(2),Oo(d),I=d.read_shift(2),d.l+=I;for(var R=1;R<d.lens.length-1;++R){if(d.l-_!=d.lens[R])throw new Error("TxO: bad continue record");var H=d[d.l];if((k+=L0(d,d.lens[R+1]-d.lens[R]-1)).length>=(H?O:2*O))break}if(k.length!==O&&k.length!==2*O)throw new Error("cchText: "+O+" != "+k.length);return d.l=_+x,{t:k}}catch{return d.l=_+x,{t:k}}}},439:{f:Li},440:{f:function(d,x){var v=L1(d);return d.l+=16,[v,function(_,k){var I=_.l+k;if((de=_.read_shift(4))!==2)throw new Error("Unrecognized streamVersion: "+de);k=_.read_shift(2),_.l+=2;var O,R,H,G,te,de="";16&k&&(O=Vx(_,_.l)),128&k&&(R=Vx(_,_.l)),(257&k)==257&&(H=Vx(_,_.l)),(257&k)==1&&(fe=U5(_,_.l)),8&k&&(de=Vx(_,_.l)),32&k&&(G=_.read_shift(16)),64&k&&(te=cb(_)),_.l=I;var fe=R||H||fe||"";return fe&&de&&(fe+="#"+de),fe=fe||"#"+de,fe={Target:fe=2&k&&fe.charAt(0)=="/"&&fe.charAt(1)!="/"?"file://"+fe:fe},G&&(fe.guid=G),te&&(fe.time=te),O&&(fe.Tooltip=O),fe}(d,x-24)]}},441:{},442:{f:Gm},443:{},444:{f:Oo},445:{},446:{},448:{f:xc},449:{f:function(d){return d.read_shift(2),d.read_shift(4)},r:2},450:{f:xc},512:{f:hb},513:{f:It},515:{f:function(d,x,v){return v.biffguess&&v.biff==2&&(v.biff=5),v=Wu(d),d=ir(d),v.val=d,v}},516:{f:function(d,x,v){return v.biffguess&&v.biff==2&&(v.biff=5),d.l,x=Wu(d),v.biff==2&&d.l++,v=Gm(d,d.l,v),x.val=v,x}},517:{f:Y},519:{f:xT},520:{f:function(d){var x={};x.r=d.read_shift(2),x.c=d.read_shift(2),x.cnt=d.read_shift(2)-x.c;var v=d.read_shift(2);d.l+=4;var _=d.read_shift(1);return d.l+=3,7&_&&(x.level=7&_),32&_&&(x.hidden=!0),64&_&&(x.hpt=v/20),x}},523:{},545:{f:Ve},549:{f:q5},566:{},574:{f:function(d,x,v){return v&&2<=v.biff&&v.biff<5?{}:{RTL:64&d.read_shift(2)}}},638:{f:function(_){var x=_.read_shift(2),v=_.read_shift(2),_=z5(_);return{r:x,c:v,ixfe:_[0],rknum:_[1]}}},659:{},1048:{},1054:{f:function(d,x,v){return[d.read_shift(2),Wh(d,0,v)]}},1084:{},1212:{f:function(d,x,v){var _=W5(d);d.l++;var k=d.read_shift(1);return[function(I,O,R){var H,G=I.l+O,te=I.read_shift(2),de=Eb(I,te,R);return te==65535?[[],nr(I,O-2)]:(O!==te+2&&(H=jb(I,G-te-2,de,R)),[de,H])}(d,x-=8,v),k,_]}},2048:{f:function(d,x){return d.read_shift(2),[L1(d),d.read_shift((x-10)/2,"dbcs-cont").replace(ae,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:B1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:xc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(d){d.l+=2;var x={cxfs:0,crc:0};return x.cxfs=d.read_shift(2),x.crc=d.read_shift(4),x},r:12},2173:{f:function(d,x){d.l,d.l+=2,x=d.read_shift(2),d.l+=2;for(var v=d.read_shift(2),_=[];0<v--;)_.push(u0e(d,d.l));return{ixfe:x,ext:_}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Li,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(d,x,v){if(!(v.biff<8)){var _=d.read_shift(2),k=d.read_shift(2);return[L0(d,_,v),L0(d,k,v)]}d.l+=x},r:12},2197:{},2198:{f:function(d,x,v){var _=d.l+x;if(d.read_shift(4)!==124226)if(v.cellStyles){var k,I=d.slice(d.l);d.l=_;try{k=Ma(I,{type:"array"})}catch{return}if(x=Ra(k,"theme/theme/theme1.xml",!0),x)return JL(x,v)}else d.l=_},r:12},2199:{},2200:{},2201:{},2202:{f:function(d){return[d.read_shift(4)!==0,d.read_shift(4)!==0,d.read_shift(4)]},r:12},2203:{f:xc},2204:{},2205:{},2206:{},2207:{},2211:{f:function(d){var x,v,_=(v=(x=d).read_shift(2),_=x.read_shift(2),x.l+=8,{type:v,flags:_});if(_.type!=2211)throw new Error("Invalid Future Record "+_.type);return d.read_shift(4)!==0}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oo},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(d,x,v){var _={area:!1};return v.biff!=5?d.l+=x:(x=d.read_shift(1),d.l+=3,16&x&&(_.area=!0)),_}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(d){for(var x=d.read_shift(2),v=[];0<x--;)v.push(Km(d));return v}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:hb},1:{},2:{f:function(d){var x=Wu(d);return++d.l,d=d.read_shift(2),x.t="n",x.val=d,x}},3:{f:function(d){var x=Wu(d);return++d.l,d=ir(d),x.t="n",x.val=d,x}},4:{f:function(d,x,v){v.biffguess&&v.biff==5&&(v.biff=2);var _=Wu(d);return++d.l,v=Wh(d,0,v),_.t="str",_.val=v,_}},5:{f:Y},7:{f:function(d){var x=d.read_shift(1);return x===0?(d.l++,""):d.read_shift(x,"sbcs-cont")}},8:{},9:{f:B1},11:{},22:{f:Oo},30:{f:nv},31:{},32:{},33:{f:Ve},36:{},37:{f:q5},50:{f:function(d,x){d.l+=6,d.l+=2,d.l+=1,d.l+=3,d.l+=1,d.l+=x-13}},62:{},52:{},67:{},68:{f:Oo},69:{},86:{},126:{},127:{f:function(d){var x=d.read_shift(2),_=d.read_shift(2),v=d.read_shift(4),_={fmt:x,env:_,len:v,data:d.slice(d.l,d.l+v)};return d.l+=v,_}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(d,I,O){var _=d.l+I,k=Wu(d),I=d.read_shift(2),O=L0(d,I,O);return d.l=_,k.t="str",k.val=O,k}},223:{},234:{},354:{},421:{},518:{f:X6},521:{f:B1},536:{f:Re},547:{f:ye},561:{},579:{},1030:{f:X6},1033:{f:B1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Jr(d,x,v,_){var k=x;isNaN(k)||(x=_||(v||[]).length||0,(_=d.next(4)).write_shift(2,k),_.write_shift(2,x),0<x&&Lf(v)&&d.push(v))}function Fb(d,x,v){return(d=d||vt(7)).write_shift(2,x),d.write_shift(2,v),d.write_shift(2,0),d.write_shift(1,0),d}function Tme(d,x,v,_){if(x.v!=null)switch(x.t){case"d":case"n":var k=x.t=="d"?sa(Je(x.v)):x.v;return void(k==(0|k)&&0<=k&&k<65536?Jr(d,2,(te=v,de=_,fe=k,Fb(me=vt(9),te,de),me.write_shift(2,fe),me)):Jr(d,3,(fe=v,me=_,k=k,Fb(G=vt(15),fe,me),G.write_shift(8,k,"f"),G)));case"b":case"e":return void Jr(d,5,(G=v,I=_,O=x.v,R=x.t,Fb(H=vt(9),G,I),mu(O,R||"b",H),H));case"s":case"str":return void Jr(d,4,(I=v,O=_,R=(x.v||"").slice(0,255),Fb(H=vt(8+2*R.length),I,O),H.write_shift(1,R.length),H.write_shift(R.length,R,"sbcs"),H.l<H.length?H.slice(0,H.l):H))}var I,O,R,H,G,te,de,fe,me;Jr(d,1,Fb(null,v,_))}function kme(d,x){for(var v=x||{},x=Vn(),_=0,k=0;k<d.SheetNames.length;++k)d.SheetNames[k]==v.sheet&&(_=k);if(_==0&&v.sheet&&d.SheetNames[0]!=v.sheet)throw new Error("Sheet not found: "+v.sheet);return Jr(x,v.biff==4?1033:v.biff==3?521:9,Ym(0,16,v)),function(I,O,R){var H,G,te=Array.isArray(O),de=Ia(O["!ref"]||"A1"),fe=[];if(255<de.e.c||16383<de.e.r){if(R.WTF)throw new Error("Range "+(O["!ref"]||"A1")+" exceeds format limit A1:IV16384");de.e.c=Math.min(de.e.c,255),de.e.r=Math.min(de.e.c,16383),H=Yn(de)}for(var me=de.s.r;me<=de.e.r;++me){G=ja(me);for(var Ae=de.s.c;Ae<=de.e.c;++Ae){me===de.s.r&&(fe[Ae]=wa(Ae)),H=fe[Ae]+G;var ve=te?(O[me]||[])[Ae]:O[H];ve&&Tme(I,ve,me,Ae)}}}(x,d.Sheets[d.SheetNames[_]],v),Jr(x,10),x.end()}function Pme(d,x,v){var _,k;Jr(d,49,(k=(_={sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"}).name||"Arial",(d=vt((v=(d=v)&&d.biff==5)?15+k.length:16+2*k.length)).write_shift(2,20*(_.sz||12)),d.write_shift(4,0),d.write_shift(2,400),d.write_shift(4,0),d.write_shift(2,0),d.write_shift(1,k.length),v||d.write_shift(1,1),d.write_shift((v?1:2)*k.length,k,v?"sbcs":"utf16le"),d))}function Ome(d,x,v){x&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var k,I,O,R,H=_[0];H<=_[1];++H)x[H]!=null&&Jr(d,1054,(k=H,I=x[H],R=void 0,O=(O=v)&&O.biff==5,(R=R||vt(O?3+I.length:5+2*I.length)).write_shift(2,k),R.write_shift(O?1:2,I.length),O||R.write_shift(1,1),R.write_shift((O?1:2)*I.length,I,O?"sbcs":"utf16le"),(R=R.length>R.l?R.slice(0,R.l):R).l==null&&(R.l=R.length),R))})}function Ime(d,x){for(var v=0;v<x["!links"].length;++v){var _=x["!links"][v];Jr(d,440,rt(_)),_[1].Tooltip&&Jr(d,2048,function(k){var I=k[1].Tooltip,O=vt(10+2*(I.length+1));O.write_shift(2,2048),k=ni(k[0]),O.write_shift(2,k.r),O.write_shift(2,k.r),O.write_shift(2,k.c),O.write_shift(2,k.c);for(var R=0;R<I.length;++R)O.write_shift(2,I.charCodeAt(R));return O.write_shift(2,0),O}(_))}delete x["!links"]}function Fme(d,x){var v;x&&(v=0,x.forEach(function(_,k){var I;++v<=256&&_&&Jr(d,125,(I=s3(k,_),_=k,(k=vt(12)).write_shift(2,_),k.write_shift(2,_),k.write_shift(2,256*I.width),k.write_shift(2,0),_=0,I.hidden&&(_|=1),k.write_shift(1,_),_=I.level||0,k.write_shift(1,_),k.write_shift(2,0),k))}))}function Dme(d,x,v,_,k){var I,O,R,H,G,te,de,fe,me,Ae,ve,Be=16+np(k.cellXfs,x,k);if(x.v!=null||x.bf)if(x.bf)Jr(d,6,_0e(x,v,_,0,Be));else switch(x.t){case"d":case"n":var Ee=x.t=="d"?sa(Je(x.v)):x.v;Jr(d,515,(te=v,de=_,fe=Ee,me=Be,Ae=vt(14),Hh(te,de,me,Ae),vr(fe,Ae),Ae));break;case"b":case"e":Jr(d,517,(Ee=v,te=_,de=x.v,me=Be,fe=x.t,Ae=vt(8),Hh(Ee,te,me,Ae),mu(de,fe,Ae),Ae));break;case"s":case"str":k.bookSST?(ve=Z6(k.Strings,x.v,k.revStrings),Jr(d,253,(I=v,O=_,R=ve,H=Be,G=vt(10),Hh(I,O,H,G),G.write_shift(4,R),G))):Jr(d,516,(ve=v,I=_,O=(x.v||"").slice(0,255),H=Be,R=vt(+(G=!(R=k)||R.biff==8)+8+(1+G)*O.length),Hh(ve,I,H,R),R.write_shift(2,O.length),G&&R.write_shift(1,1),R.write_shift((1+G)*O.length,O,G?"utf16le":"sbcs"),R));break;default:Jr(d,513,Hh(v,_,Be))}else Jr(d,513,Hh(v,_,Be))}function Rme(d,x,v){var _,k,I=Vn(),Me=v.SheetNames[d],O=v.Sheets[Me]||{},R=(v||{}).Workbook||{},H=(R.Sheets||[])[d]||{},G=Array.isArray(O),te=x.biff==8,de=[],fe=Ia(O["!ref"]||"A1"),me=te?65536:16384;if(255<fe.e.c||fe.e.r>=me){if(x.WTF)throw new Error("Range "+(O["!ref"]||"A1")+" exceeds format limit A1:IV16384");fe.e.c=Math.min(fe.e.c,255),fe.e.r=Math.min(fe.e.c,me-1)}Jr(I,2057,Ym(0,16,x)),Jr(I,13,hu(1)),Jr(I,12,hu(100)),Jr(I,15,Hs(!0)),Jr(I,17,Hs(!1)),Jr(I,16,vr(.001)),Jr(I,95,Hs(!0)),Jr(I,42,Hs(!1)),Jr(I,43,Hs(!1)),Jr(I,130,hu(1)),Jr(I,128,(v=[0,0],(d=vt(8)).write_shift(4,0),d.write_shift(2,v[0]?v[0]+1:0),d.write_shift(2,v[1]?v[1]+1:0),d)),Jr(I,131,Hs(!1)),Jr(I,132,Hs(!1)),te&&Fme(I,O["!cols"]),Jr(I,512,(me=fe,(v=vt(2*(d=(v=x).biff!=8&&v.biff?2:4)+6)).write_shift(d,me.s.r),v.write_shift(d,me.e.r+1),v.write_shift(2,me.s.c),v.write_shift(2,me.e.c+1),v.write_shift(2,0),v)),te&&(O["!links"]=[]);for(var Ae=fe.s.r;Ae<=fe.e.r;++Ae){k=ja(Ae);for(var ve=fe.s.c;ve<=fe.e.c;++ve){Ae===fe.s.r&&(de[ve]=wa(ve)),_=de[ve]+k;var Be=G?(O[Ae]||[])[ve]:O[_];Be&&(Dme(I,Be,Ae,ve,x),te&&Be.l&&O["!links"].push([_,Be.l]))}}var Ee,_e,Me=H.CodeName||H.name||Me;return te&&Jr(I,574,(R=(R.Views||[])[0],_e=vt(18),Ee=1718,R&&R.RTL&&(Ee|=64),_e.write_shift(2,Ee),_e.write_shift(4,0),_e.write_shift(4,64),_e.write_shift(4,0),_e.write_shift(4,0),_e)),te&&(O["!merges"]||[]).length&&Jr(I,229,function(He){var qe=vt(2+8*He.length);qe.write_shift(2,He.length);for(var ft=0;ft<He.length;++ft)V5(He[ft],qe);return qe}(O["!merges"])),te&&Ime(I,O),Jr(I,442,fb(Me)),te&&(Ee=I,_e=O,(Me=vt(19)).write_shift(4,2151),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(2,3),Me.write_shift(1,1),Me.write_shift(4,0),Jr(Ee,2151,Me),(Me=vt(39)).write_shift(4,2152),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(2,3),Me.write_shift(1,0),Me.write_shift(4,0),Me.write_shift(2,1),Me.write_shift(4,4),Me.write_shift(2,0),V5(Ia(_e["!ref"]||"A1"),Me),Me.write_shift(4,4),Jr(Ee,2152,Me)),Jr(I,10),I.end()}function Mme(d,x,v){var _=Vn(),R=(d||{}).Workbook||{},k=R.Sheets||[],I=R.WBProps||{},O=v.biff==8,R=v.biff==5;Jr(_,2057,Ym(0,5,v)),v.bookType=="xla"&&Jr(_,135),Jr(_,225,O?hu(1200):null),Jr(_,193,function(Ee,_e){_e=_e||vt(Ee);for(var Me=0;Me<Ee;++Me)_e.write_shift(1,0);return _e}(2)),R&&Jr(_,191),R&&Jr(_,192),Jr(_,226),Jr(_,92,function(Ee){var _e=!Ee||Ee.biff==8,Me=vt(_e?112:54);for(Me.write_shift(Ee.biff==8?2:1,7),_e&&Me.write_shift(1,0),Me.write_shift(4,859007059),Me.write_shift(4,5458548|(_e?0:536870912));Me.l<Me.length;)Me.write_shift(1,_e?0:32);return Me}(v)),Jr(_,66,hu(O?1200:1252)),O&&Jr(_,353,hu(0)),O&&Jr(_,448),Jr(_,317,function(Ee){for(var _e=vt(2*Ee),Me=0;Me<Ee;++Me)_e.write_shift(2,Me+1);return _e}(d.SheetNames.length)),O&&d.vbaraw&&Jr(_,211),O&&d.vbaraw&&Jr(_,442,fb(I.CodeName||"ThisWorkbook")),Jr(_,156,hu(17)),Jr(_,25,Hs(!1)),Jr(_,18,Hs(!1)),Jr(_,19,hu(0)),O&&Jr(_,431,Hs(!1)),O&&Jr(_,444,hu(0)),Jr(_,61,((R=vt(18)).write_shift(2,0),R.write_shift(2,0),R.write_shift(2,29280),R.write_shift(2,17600),R.write_shift(2,56),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(2,1),R.write_shift(2,500),R)),Jr(_,64,Hs(!1)),Jr(_,141,hu(0)),Jr(_,34,Hs(((I=d).Workbook&&I.Workbook.WBProps&&Qr(I.Workbook.WBProps.date1904)?"true":"false")=="true")),Jr(_,14,Hs(!0)),O&&Jr(_,439,Hs(!1)),Jr(_,218,hu(0)),Pme(_,0,v),Ome(_,d.SSF,v),function(Ee,_e){for(var Me=0;Me<16;++Me)Jr(Ee,224,U({numFmtId:0,style:!0},0,_e));_e.cellXfs.forEach(function(He){Jr(Ee,224,U(He,0,_e))})}(_,v),O&&Jr(_,352,Hs(!1)),R=_.end(),I=Vn(),O&&Jr(I,140,((Be=Be||vt(4)).write_shift(2,1),Be.write_shift(2,1),Be)),O&&v.Strings&&function(Ee,_e,Me){var He=(Me||[]).length||0;if(He<=8224)return Jr(Ee,_e,Me,He);if(!isNaN(_e)){for(var qe=Me.parts||[],ft=0,Et=0,bt=0;bt+(qe[ft]||8224)<=8224;)bt+=qe[ft]||8224,ft++;var Ut=Ee.next(4);for(Ut.write_shift(2,_e),Ut.write_shift(2,bt),Ee.push(Me.slice(Et,Et+bt)),Et+=bt;Et<He;){for((Ut=Ee.next(4)).write_shift(2,60),bt=0;bt+(qe[ft]||8224)<=8224;)bt+=qe[ft]||8224,ft++;Ut.write_shift(2,bt),Ee.push(Me.slice(Et,Et+bt)),Et+=bt}}}(I,252,B6(v.Strings)),Jr(I,10);for(var _=I.end(),H=Vn(),G=0,te=0,te=0;te<d.SheetNames.length;++te)G+=(O?12:11)+(O?2:1)*d.SheetNames[te].length;var de,fe,me,Ae,ve=R.length+G+_.length;for(te=0;te<d.SheetNames.length;++te)Jr(H,133,(de={pos:ve,hs:(k[te]||{}).Hidden||0,dt:0,name:d.SheetNames[te]},Ae=me=void 0,me=!(fe=v)||8<=fe.biff?2:1,(Ae=vt(8+me*de.name.length)).write_shift(4,de.pos),Ae.write_shift(1,de.hs||0),Ae.write_shift(1,de.dt),Ae.write_shift(1,de.name.length),8<=fe.biff&&Ae.write_shift(1,1),Ae.write_shift(me*de.name.length,de.name,fe.biff<8?"sbcs":"utf16le"),(fe=Ae.slice(0,Ae.l)).l=Ae.l,fe)),ve+=x[te].length;var Be=H.end();if(G!=Be.length)throw new Error("BS8 "+G+" != "+Be.length);return I=[],R.length&&I.push(R),Be.length&&I.push(Be),_.length&&I.push(_),ie(I)}function L9(d,x){for(var v=0;v<=d.SheetNames.length;++v){var _=d.Sheets[d.SheetNames[v]];_&&_["!ref"]&&255<no(_["!ref"]).e.c&&typeof console<"u"&&console.error&&console.error("Worksheet '"+d.SheetNames[v]+"' extends beyond column IV (255).  Data may be lost.")}var k=x||{};switch(k.biff||2){case 8:case 5:return function(I,O){var R=O||{},H=[];I&&!I.SSF&&(I.SSF=wt(ee)),I&&I.SSF&&(ya(),Va(I.SSF),R.revssf=ln(I.SSF),R.revssf[I.SSF[65535]]=0,R.ssf=I.SSF),R.Strings=[],R.Strings.Count=0,R.Strings.Unique=0,cT(R),R.cellXfs=[],np(R.cellXfs,{},{revssf:{General:0}}),I.Props||(I.Props={});for(var G=0;G<I.SheetNames.length;++G)H[H.length]=Rme(G,R,I);return H.unshift(Mme(I,H,R)),ie(H)}(d,x);case 4:case 3:case 2:return kme(d,x)}throw new Error("invalid type "+k.bookType+" for BIFF")}function B9(d,x){var v=x||{},_=v.dense?[]:{},k=(d=d.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!k)throw new Error("Invalid HTML: could not find <table>");for(var I,x=d.match(/<\/table/i),fe=k.index,O=x&&x.index||d.length,R=Cr(d.slice(fe,O),/(:?<tr[^>]*>)/i,"<tr>"),H=-1,G=0,te={s:{r:1e7,c:1e7},e:{r:0,c:0}},de=[],fe=0;fe<R.length;++fe){var me=R[fe].trim(),Ae=me.slice(0,3).toLowerCase();if(Ae!="<tr"){if(Ae=="<td"||Ae=="<th")for(var ve=me.split(/<\/t[dh]>/i),O=0;O<ve.length;++O){var Be=ve[O].trim();if(Be.match(/<t[dh]/i)){for(var Ee=Be,_e=0;Ee.charAt(0)=="<"&&-1<(_e=Ee.indexOf(">"));)Ee=Ee.slice(_e+1);for(var Me=0;Me<de.length;++Me){var He=de[Me];He.s.c==G&&He.s.r<H&&H<=He.e.r&&(G=He.e.c+1,Me=-1)}var qe=Un(Be.slice(0,Be.indexOf(">"))),ft=qe.colspan?+qe.colspan:1;(1<(I=+qe.rowspan)||1<ft)&&de.push({s:{r:H,c:G},e:{r:H+(I||1)-1,c:G+ft-1}}),Be=qe.t||qe["data-t"]||"",Ee.length&&(Ee=su(Ee),te.s.r>H&&(te.s.r=H),te.e.r<H&&(te.e.r=H),te.s.c>G&&(te.s.c=G),te.e.c<G&&(te.e.c=G),Ee.length&&(qe={t:"s",v:Ee},v.raw||!Ee.trim().length||Be=="s"||(Ee==="TRUE"?qe={t:"b",v:!0}:Ee==="FALSE"?qe={t:"b",v:!1}:isNaN(St(Ee))?isNaN(Mt(Ee).getDate())||(qe={t:"d",v:Je(Ee)},(qe=v.cellDates?qe:{t:"n",v:sa(qe.v)}).z=v.dateNF||ee[14]):qe={t:"n",v:St(Ee)}),v.dense?(_[H]||(_[H]=[]),_[H][G]=qe):_[kn({r:H,c:G})]=qe)),G+=ft}}}else{if(++H,v.sheetRows&&v.sheetRows<=H){--H;break}G=0}}return _["!ref"]=Yn(te),de.length&&(_["!merges"]=de),_}function $9(d,x,v,_){for(var k=d["!merges"]||[],I=[],O=x.s.c;O<=x.e.c;++O){for(var R,H,G,te,de=0,fe=0,me=0;me<k.length;++me)if(!(k[me].s.r>v||k[me].s.c>O||k[me].e.r<v||k[me].e.c<O)){if(k[me].s.r<v||k[me].s.c<O){de=-1;break}de=k[me].e.r-k[me].s.r+1,fe=k[me].e.c-k[me].s.c+1;break}de<0||(R=kn({r:v,c:O}),G=(H=_.dense?(d[v]||[])[O]:d[R])&&H.v!=null&&(H.h||ll(H.w||(Gl(H),H.w)||""))||"",te={},1<de&&(te.rowspan=de),1<fe&&(te.colspan=fe),_.editable?G='<span contenteditable="true">'+G+"</span>":H&&(te["data-t"]=H&&H.t||"z",H.v!=null&&(te["data-v"]=H.v),H.z!=null&&(te["data-z"]=H.z),H.l&&(H.l.Target||"#").charAt(0)!="#"&&(G='<a href="'+H.l.Target+'">'+G+"</a>")),te.id=(_.id||"sjs")+"-"+R,I.push(Or("td",G,te)))}return"<tr>"+I.join("")+"</tr>"}var U9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',z9="</body></html>";function V9(d,x,v){return[].join("")+"<table"+(v&&v.id?' id="'+v.id+'"':"")+">"}function W9(d,k){var v=k||{},_=v.header!=null?v.header:U9,k=v.footer!=null?v.footer:z9,I=[_],O=no(d["!ref"]);v.dense=Array.isArray(d),I.push(V9(0,0,v));for(var R=O.s.r;R<=O.e.r;++R)I.push($9(d,O,R,v));return I.push("</table>"+k),I.join("")}function H9(d,x,v){var _=v||{},k=0,I=0;_.origin!=null&&(typeof _.origin=="number"?k=_.origin:(k=(v=typeof _.origin=="string"?ni(_.origin):_.origin).r,I=v.c));var O=x.getElementsByTagName("tr"),R=Math.min(_.sheetRows||1e7,O.length),H={s:{r:0,c:0},e:{r:k,c:I}};d["!ref"]&&(x=no(d["!ref"]),H.s.r=Math.min(H.s.r,x.s.r),H.s.c=Math.min(H.s.c,x.s.c),H.e.r=Math.max(H.e.r,x.e.r),H.e.c=Math.max(H.e.c,x.e.c),k==-1&&(H.e.r=k=x.e.r+1));var G,te,de=[],fe=0,me=d["!rows"]||(d["!rows"]=[]),Ae=0,ve=0,Be=0,Ee=0;for(d["!cols"]||(d["!cols"]=[]);Ae<O.length&&ve<R;++Ae){var _e=O[Ae];if(G9(_e)){if(_.display)continue;me[ve]={hidden:!0}}for(var Me=_e.children,Be=Ee=0;Be<Me.length;++Be){var He=Me[Be];if(!_.display||!G9(He)){for(var qe=He.hasAttribute("data-v")?He.getAttribute("data-v"):He.hasAttribute("v")?He.getAttribute("v"):su(He.innerHTML),ft=He.getAttribute("data-z")||He.getAttribute("z"),fe=0;fe<de.length;++fe){var Et=de[fe];Et.s.c==Ee+I&&Et.s.r<ve+k&&ve+k<=Et.e.r&&(Ee=Et.e.c+1-I,fe=-1)}te=+He.getAttribute("colspan")||1,(1<(G=+He.getAttribute("rowspan")||1)||1<te)&&de.push({s:{r:ve+k,c:Ee+I},e:{r:ve+k+(G||1)-1,c:Ee+I+(te||1)-1}});var bt={t:"s",v:qe},Ut=He.getAttribute("data-t")||He.getAttribute("t")||"";qe!=null&&(qe.length==0?bt.t=Ut||"z":_.raw||qe.trim().length==0||Ut=="s"||(qe==="TRUE"?bt={t:"b",v:!0}:qe==="FALSE"?bt={t:"b",v:!1}:isNaN(St(qe))?isNaN(Mt(qe).getDate())||(bt={t:"d",v:Je(qe)},(bt=_.cellDates?bt:{t:"n",v:sa(bt.v)}).z=_.dateNF||ee[14]):bt={t:"n",v:St(qe)})),bt.z===void 0&&ft!=null&&(bt.z=ft);var cr="",dr=He.getElementsByTagName("A");if(dr&&dr.length)for(var Gt=0;Gt<dr.length&&(!dr[Gt].hasAttribute("href")||(cr=dr[Gt].getAttribute("href")).charAt(0)=="#");++Gt);cr&&cr.charAt(0)!="#"&&(bt.l={Target:cr}),_.dense?(d[ve+k]||(d[ve+k]=[]),d[ve+k][Ee+I]=bt):d[kn({c:Ee+I,r:ve+k})]=bt,H.e.c<Ee+I&&(H.e.c=Ee+I),Ee+=te}}++ve}return de.length&&(d["!merges"]=(d["!merges"]||[]).concat(de)),H.e.r=Math.max(H.e.r,ve-1+k),d["!ref"]=Yn(H),R<=ve&&(d["!fullref"]=Yn((H.e.r=O.length-Ae+ve-1+k,H))),d}function q9(d,x){return H9((x||{}).dense?[]:{},d,x)}function G9(d){var v,x="",v=(v=d).ownerDocument.defaultView&&typeof v.ownerDocument.defaultView.getComputedStyle=="function"?v.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null;return(x=(x=v?v(d).getPropertyValue("display"):x)||d.style&&d.style.display)==="none"}var K9={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Y9(d,x){var v=x||{},_,k,I,O,R,H=hc(d),G=[],te={name:""},de="",fe=0,me={},Ae=[],ve=v.dense?[]:{},Be={value:""},Ee="",_e=0,Me=[],He=-1,qe=-1,ft={s:{r:1e6,c:1e7},e:{r:0,c:0}},Et=0,bt={},Ut=[],cr={},dr=[],Gt=1,Er=1,cn=[],en={Names:[]},$r={},Hr=["",""],Rr=[],br={},xn="",Nn=0,Xn=!1,Xa=!1,hn=0;for(cl.lastIndex=0,H=H.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");O=cl.exec(H);)switch(O[3]=O[3].replace(/_.*$/,"")){case"table":case"":O[1]==="/"?(ft.e.c>=ft.s.c&&ft.e.r>=ft.s.r?ve["!ref"]=Yn(ft):ve["!ref"]="A1:A1",0<v.sheetRows&&v.sheetRows<=ft.e.r&&(ve["!fullref"]=ve["!ref"],ft.e.r=v.sheetRows-1,ve["!ref"]=Yn(ft)),Ut.length&&(ve["!merges"]=Ut),dr.length&&(ve["!rows"]=dr),I.name=I.||I.name,typeof JSON<"u"&&JSON.stringify(I),Ae.push(I.name),me[I.name]=ve,Xa=!1):O[0].charAt(O[0].length-2)!=="/"&&(I=Un(O[0],!1),He=qe=-1,ft.s.r=ft.s.c=1e7,ft.e.r=ft.e.c=0,ve=v.dense?[]:{},Ut=[],dr=[],Xa=!0);break;case"table-row-group":O[1]==="/"?--Et:++Et;break;case"table-row":case"":if(O[1]==="/"){He+=Gt,Gt=1;break}if((jr=Un(O[0],!1)).?He=jr.-1:He==-1&&(He=0),(Gt=+jr["number-rows-repeated"]||1)<10)for(hn=0;hn<Gt;++hn)0<Et&&(dr[He+hn]={level:Et});qe=-1;break;case"covered-table-cell":O[1]!=="/"&&++qe,v.sheetStubs&&(v.dense?(ve[He]||(ve[He]=[]),ve[He][qe]={t:"z"}):ve[kn({r:He,c:qe})]={t:"z"}),Ee="",Me=[];break;case"table-cell":case"":if(O[0].charAt(O[0].length-2)==="/")++qe,Be=Un(O[0],!1),Er=parseInt(Be["number-columns-repeated"]||"1",10),R={t:"z",v:null},Be.formula&&v.cellFormula!=0&&(R.f=g9(Tn(Be.formula))),(Be.||Be["value-type"])=="string"&&(R.t="s",R.v=Tn(Be["string-value"]||""),v.dense?(ve[He]||(ve[He]=[]),ve[He][qe]=R):ve[kn({r:He,c:qe})]=R),qe+=Er-1;else if(O[1]!=="/"){Ee="",_e=0,Me=[],Er=1;var jr=Gt?He+Gt-1:He;if(++qe>ft.e.c&&(ft.e.c=qe),qe<ft.s.c&&(ft.s.c=qe),He<ft.s.r&&(ft.s.r=He),jr>ft.e.r&&(ft.e.r=jr),Rr=[],br={},R={t:(Be=Un(O[0],!1)).||Be["value-type"],v:null},v.cellFormula)if(Be.formula&&(Be.formula=Tn(Be.formula)),Be["number-matrix-columns-spanned"]&&Be["number-matrix-rows-spanned"]&&(cr={s:{r:He,c:qe},e:{r:He+(parseInt(Be["number-matrix-rows-spanned"],10)||0)-1,c:qe+(parseInt(Be["number-matrix-columns-spanned"],10)||0)-1}},R.F=Yn(cr),cn.push([cr,R.F])),Be.formula)R.f=g9(Be.formula);else for(hn=0;hn<cn.length;++hn)He>=cn[hn][0].s.r&&He<=cn[hn][0].e.r&&qe>=cn[hn][0].s.c&&qe<=cn[hn][0].e.c&&(R.F=cn[hn][1]);switch((Be["number-columns-spanned"]||Be["number-rows-spanned"])&&(cr={s:{r:He,c:qe},e:{r:He+(parseInt(Be["number-rows-spanned"],10)||0)-1,c:qe+(parseInt(Be["number-columns-spanned"],10)||0)-1}},Ut.push(cr)),Be["number-columns-repeated"]&&(Er=parseInt(Be["number-columns-repeated"],10)),R.t){case"boolean":R.t="b",R.v=Qr(Be["boolean-value"]);break;case"float":case"percentage":case"currency":R.t="n",R.v=parseFloat(Be.value);break;case"date":R.t="d",R.v=Je(Be["date-value"]),v.cellDates||(R.t="n",R.v=sa(R.v)),R.z="m/d/yy";break;case"time":R.t="n",R.v=function(li){var Zi=0,Io=0,gt=!1,Qi=li.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!Qi)throw new Error("|"+li+"| is not an ISO8601 Duration");for(var Gi=1;Gi!=Qi.length;++Gi)if(Qi[Gi]){switch(Io=1,3<Gi&&(gt=!0),Qi[Gi].slice(Qi[Gi].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+Qi[Gi].slice(Qi[Gi].length-1));case"D":Io*=24;case"H":Io*=60;case"M":if(!gt)throw new Error("Unsupported ISO Duration Field: M");Io*=60}Zi+=Io*parseInt(Qi[Gi],10)}return Zi}(Be["time-value"])/86400,v.cellDates&&(R.t="d",R.v=Fe(R.v)),R.z="HH:MM:SS";break;case"number":R.t="n",R.v=parseFloat(Be.);break;default:if(R.t!=="string"&&R.t!=="text"&&R.t)throw new Error("Unsupported value type "+R.t);R.t="s",Be["string-value"]!=null&&(Ee=Tn(Be["string-value"]),Me=[])}}else{if(Xn=!1,R.t==="s"&&(R.v=Ee||"",Me.length&&(R.R=Me),Xn=_e==0),$r.Target&&(R.l=$r),0<Rr.length&&(R.c=Rr,Rr=[]),Ee&&v.cellText!==!1&&(R.w=Ee),Xn&&(R.t="z",delete R.v),(!Xn||v.sheetStubs)&&!(v.sheetRows&&v.sheetRows<=He))for(var _a=0;_a<Gt;++_a){if(Er=parseInt(Be["number-columns-repeated"]||"1",10),v.dense)for(ve[He+_a]||(ve[He+_a]=[]),ve[He+_a][qe]=_a==0?R:wt(R);0<--Er;)ve[He+_a][qe+Er]=wt(R);else for(ve[kn({r:He+_a,c:qe})]=R;0<--Er;)ve[kn({r:He+_a,c:qe+Er})]=wt(R);ft.e.c<=qe&&(ft.e.c=qe)}qe+=(Er=parseInt(Be["number-columns-repeated"]||"1",10))-1,Er=0,R={},Ee="",Me=[]}$r={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(O[1]==="/"){if((_=G.pop())[0]!==O[3])throw"Bad state: "+_}else O[0].charAt(O[0].length-2)!=="/"&&G.push([O[3],!0]);break;case"annotation":if(O[1]==="/"){if((_=G.pop())[0]!==O[3])throw"Bad state: "+_;br.t=Ee,Me.length&&(br.R=Me),br.a=xn,Rr.push(br)}else O[0].charAt(O[0].length-2)!=="/"&&G.push([O[3],!1]);Ee=xn="",_e=Nn=0,Me=[];break;case"creator":O[1]==="/"?xn=H.slice(Nn,O.index):Nn=O.index+O[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(O[1]==="/"){if((_=G.pop())[0]!==O[3])throw"Bad state: "+_}else O[0].charAt(O[0].length-2)!=="/"&&G.push([O[3],!1]);Ee="",_e=0,Me=[];break;case"scientific-number":case"currency-symbol":case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(O[1]==="/"){if(bt[te.name]=de,(_=G.pop())[0]!==O[3])throw"Bad state: "+_}else O[0].charAt(O[0].length-2)!=="/"&&(de="",te=Un(O[0],!1),G.push([O[3],!0]));break;case"script":case"libraries":case"automatic-styles":break;case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":break;case"number":switch(G[G.length-1][0]){case"time-style":case"date-style":k=Un(O[0],!1),de+=K9[O[3]][k.style==="long"?1:0]}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(G[G.length-1][0]){case"time-style":case"date-style":k=Un(O[0],!1),de+=K9[O[3]][k.style==="long"?1:0]}break;case"boolean-style":case"boolean":case"text-style":break;case"text":if(O[0].slice(-2)==="/>")break;if(O[1]==="/")switch(G[G.length-1][0]){case"number-style":case"date-style":case"time-style":de+=H.slice(fe,O.index)}else fe=O.index+O[0].length;break;case"named-range":Hr=J6((k=Un(O[0],!1))["cell-range-address"]);var bi={Name:k.name,Ref:Hr[0]+"!"+Hr[1]};Xa&&(bi.Sheet=Ae.length),en.Names.push(bi);break;case"text-content":case"text-properties":case"embedded-text":break;case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":break;case"p":case"":if(-1<["master-styles"].indexOf(G[G.length-1][0]))break;O[1]!=="/"||Be&&Be["string-value"]?(Un(O[0],!1),_e=O.index+O[0].length):(bi=(bi=H.slice(_e,O.index)).replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(li,Zi){return Array(parseInt(Zi,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),bi=[Tn(bi.replace(/<[^>]*>/g,""))],Ee=(0<Ee.length?Ee+`
`:"")+bi[0]);break;case"s":break;case"database-range":if(O[1]==="/")break;try{me[(Hr=J6(Un(O[0])["target-range-address"]))[0]]["!autofilter"]={ref:Hr[1]}}catch{}break;case"date":case"object":break;case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":break;case"a":if(O[1]!=="/"){if(!($r=Un(O[0],!1)).href)break;$r.Target=Tn($r.href),delete $r.href,$r.Target.charAt(0)=="#"&&-1<$r.Target.indexOf(".")?(Hr=J6($r.Target.slice(1)),$r.Target="#"+Hr[0]+"!"+Hr[1]):$r.Target.match(/^\.\.[\\\/]/)&&($r.Target=$r.Target.slice(3))}break;case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;default:switch(O[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(v.WTF)throw new Error(O)}}return d={Sheets:me,SheetNames:Ae,Workbook:en},v.bookSheets&&delete d.Sheets,d}function X9(d,x){x=x||{},Pr(d,"META-INF/manifest.xml")&&function(_,k){for(var I,O,R=hc(_);I=cl.exec(R);)switch(I[3]){case"manifest":break;case"file-entry":if((O=Un(I[0],!1)).path=="/"&&O.type!==du)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(k&&k.WTF)throw I}}(Bt(d,"META-INF/manifest.xml"),x);var v=Ra(d,"content.xml");if(!v)throw new Error("Missing content.xml in ODS / UOF file");return x=Y9(Ci(v),x),Pr(d,"meta.xml")&&(x.Props=I1(Bt(d,"meta.xml"))),x}function J9(d,x){return Y9(d,x)}var Lme=function(){var d=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),x="<office:document-styles "+Yd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+d+"</office:document-styles>";return function(){return wn+x}}(),Z9=function(){function d(v,_,k){var I=[];I.push('      <table:table table:name="'+Ye(_.SheetNames[k])+`" table:style-name="ta1">
`);var O=0,R=0,H=no(v["!ref"]||"A1"),G=v["!merges"]||[],te=0,de=Array.isArray(v);if(v["!cols"])for(R=0;R<=H.e.c;++R)I.push("        <table:table-column"+(v["!cols"][R]?' table:style-name="co'+v["!cols"][R].ods+'"':"")+`></table:table-column>
`);for(var fe="",me=v["!rows"]||[],O=0;O<H.s.r;++O)fe=me[O]?' table:style-name="ro'+me[O].ods+'"':"",I.push("        <table:table-row"+fe+`></table:table-row>
`);for(;O<=H.e.r;++O){for(fe=me[O]?' table:style-name="ro'+me[O].ods+'"':"",I.push("        <table:table-row"+fe+`>
`),R=0;R<H.s.c;++R)I.push(x);for(;R<=H.e.c;++R){for(var Ae=!1,ve={},Be="",te=0;te!=G.length;++te)if(!(G[te].s.c>R||G[te].s.r>O||G[te].e.c<R||G[te].e.r<O)){G[te].s.c==R&&G[te].s.r==O||(Ae=!0),ve["table:number-columns-spanned"]=G[te].e.c-G[te].s.c+1,ve["table:number-rows-spanned"]=G[te].e.r-G[te].s.r+1;break}if(Ae)I.push(`          <table:covered-table-cell/>
`);else{var Ee=kn({r:O,c:R}),_e=de?(v[O]||[])[R]:v[Ee];if(_e&&_e.f&&(ve["table:formula"]=Ye(("of:="+_e.f.replace(G6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),_e.F&&_e.F.slice(0,Ee.length)==Ee&&(Me=no(_e.F),ve["table:number-matrix-columns-spanned"]=Me.e.c-Me.s.c+1,ve["table:number-matrix-rows-spanned"]=Me.e.r-Me.s.r+1)),_e){switch(_e.t){case"b":Be=_e.v?"TRUE":"FALSE",ve["office:value-type"]="boolean",ve["office:boolean-value"]=_e.v?"true":"false";break;case"n":Be=_e.w||String(_e.v||0),ve["office:value-type"]="float",ve["office:value"]=_e.v||0;break;case"s":case"str":Be=_e.v==null?"":_e.v,ve["office:value-type"]="string";break;case"d":Be=_e.w||Je(_e.v).toISOString(),ve["office:value-type"]="date",ve["office:date-value"]=Je(_e.v).toISOString(),ve["table:style-name"]="ce1";break;default:I.push(x);continue}var Me,Ee=Ye(Be).replace(/  +/g,function(qe){return'<text:s text:c="'+qe.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");_e.l&&_e.l.Target&&(Ee=Or("text:a",Ee,{"xlink:href":(Me=(Me=(Me=_e.l.Target).charAt(0)=="#"?"#"+Me.slice(1).replace(/\./,"!"):Me).charAt(0)!="#"&&!Me.match(/^\w+:/)?"../"+Me:Me).replace(/&/g,"&amp;")})),I.push("          "+Or("table:table-cell",Or("text:p",Ee,{}),ve)+`
`)}else I.push(x)}}I.push(`        </table:table-row>
`)}return I.push(`      </table:table>
`),I.join("")}var x=`          <table:table-cell />
`;return function(v,_){var k=[wn],I=Yd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),O=Yd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});_.bookType=="fods"?(k.push("<office:document"+I+O+`>
`),k.push(O1().replace(/office:document-meta/g,"office:meta"))):k.push("<office:document-content"+I+`>
`),function(H,G){H.push(` <office:automatic-styles>
`),H.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),H.push(`   <number:month number:style="long"/>
`),H.push(`   <number:text>/</number:text>
`),H.push(`   <number:day number:style="long"/>
`),H.push(`   <number:text>/</number:text>
`),H.push(`   <number:year/>
`),H.push(`  </number:date-style>
`);var te=0;G.SheetNames.map(function(fe){return G.Sheets[fe]}).forEach(function(fe){if(fe&&fe["!cols"]){for(var me=0;me<fe["!cols"].length;++me)if(fe["!cols"][me]){var Ae=fe["!cols"][me];if(Ae.width==null&&Ae.wpx==null&&Ae.wch==null)continue;tp(Ae),Ae.ods=te,Ae=fe["!cols"][me].wpx+"px",H.push('  <style:style style:name="co'+te+`" style:family="table-column">
`),H.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Ae+`"/>
`),H.push(`  </style:style>
`),++te}}});var de=0;G.SheetNames.map(function(fe){return G.Sheets[fe]}).forEach(function(fe){if(fe&&fe["!rows"])for(var me,Ae=0;Ae<fe["!rows"].length;++Ae)fe["!rows"][Ae]&&(fe["!rows"][Ae].ods=de,me=fe["!rows"][Ae].hpx+"px",H.push('  <style:style style:name="ro'+de+`" style:family="table-row">
`),H.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+me+`"/>
`),H.push(`  </style:style>
`),++de)}),H.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),H.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),H.push(`  </style:style>
`),H.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),H.push(` </office:automatic-styles>
`)}(k,v),k.push(`  <office:body>
`),k.push(`    <office:spreadsheet>
`);for(var R=0;R!=v.SheetNames.length;++R)k.push(d(v.Sheets[v.SheetNames[R]],v,R));return k.push(`    </office:spreadsheet>
`),k.push(`  </office:body>
`),_.bookType=="fods"?k.push("</office:document>"):k.push("</office:document-content>"),k.join("")}}();function Q9(d,x){if(x.bookType=="fods")return Z9(d,x);var v=au(),_=[],k=[];return Kn(v,"mimetype","application/vnd.oasis.opendocument.spreadsheet"),Kn(v,"content.xml",Z9(d,x)),_.push(["content.xml","text/xml"]),k.push(["content.xml","ContentFile"]),Kn(v,"styles.xml",Lme(d,x)),_.push(["styles.xml","text/xml"]),k.push(["styles.xml","StylesFile"]),Kn(v,"meta.xml",wn+O1()),_.push(["meta.xml","text/xml"]),k.push(["meta.xml","MetadataFile"]),Kn(v,"manifest.rdf",function(I){var O=[wn];O.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var R=0;R!=I.length;++R)O.push(fu(I[R][0],I[R][1])),O.push([`  <rdf:Description rdf:about="">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+I[R][0]+`"/>
`,`  </rdf:Description>
`].join(""));return O.push(fu("","Document","pkg")),O.push("</rdf:RDF>"),O.join("")}(k)),_.push(["manifest.rdf","application/rdf+xml"]),Kn(v,"META-INF/manifest.xml",function(I){var O=[wn];O.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),O.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var R=0;R<I.length;++R)O.push('  <manifest:file-entry manifest:full-path="'+I[R][0]+'" manifest:media-type="'+I[R][1]+`"/>
`);return O.push("</manifest:manifest>"),O.join("")}(_)),v}function W0(d){return new DataView(d.buffer,d.byteOffset,d.byteLength)}function aT(d){return typeof TextDecoder<"u"?new TextDecoder().decode(d):Ci(K(d))}function eB(d){return typeof TextEncoder<"u"?new TextEncoder().encode(d):z(dn(d))}function ap(d){var x=d.reduce(function(k,I){return k+I.length},0),v=new Uint8Array(x),_=0;return d.forEach(function(k){v.set(k,_),_+=k.length}),v}function tB(d){return 16843009*((d=(858993459&(d-=d>>1&1431655765))+(d>>2&858993459))+(d>>4)&252645135)>>>24}function Db(d,x){var v=x?x[0]:0,_=127&d[v];return 128<=d[v++]&&(_|=(127&d[v])<<7,d[v++]<128||(_|=(127&d[v])<<14,d[v++]<128||(_|=(127&d[v])<<21,d[v++]<128||(_+=(127&d[v])*Math.pow(2,28),++v,d[v++]<128||(_+=(127&d[v])*Math.pow(2,35),++v,d[v++]<128||(_+=(127&d[v])*Math.pow(2,42),++v,d[v++])))))),x&&(x[0]=v),_}function $i(d){var x=new Uint8Array(7);x[0]=127&d;var v=1;return 127<d&&(x[v-1]|=128,x[v]=d>>7&127,++v,d<=16383||(x[v-1]|=128,x[v]=d>>14&127,++v,d<=2097151||(x[v-1]|=128,x[v]=d>>21&127,++v,d<=268435455||(x[v-1]|=128,x[v]=d/256>>>21&127,++v,d<=34359738367||(x[v-1]|=128,x[v]=d/65536>>>21&127,++v,d<=4398046511103||(x[v-1]|=128,x[v]=d/16777216>>>21&127,++v)))))),x.slice(0,v)}function oo(d){var x=0,v=127&d[0];return 128<=d[x++]&&(v|=(127&d[1])<<7,d[x++]<128||(v|=(127&d[2])<<14,d[x++]<128||(v|=(127&d[3])<<21,d[+x]<128||(v|=(127&d[4])<<28)))),v}function yi(d){for(var x=[],v=[0];v[0]<d.length;){var _,k=v[0],I=Db(d,v),O=7&I,R=0;if((I=Math.floor(I/8))==0)break;switch(O){case 0:for(var H=v[0];128<=d[v[0]++];);_=d.slice(H,v[0]);break;case 5:R=4,_=d.slice(v[0],v[0]+R),v[0]+=R;break;case 1:R=8,_=d.slice(v[0],v[0]+R),v[0]+=R;break;case 2:R=Db(d,v),_=d.slice(v[0],v[0]+R),v[0]+=R;break;case 3:case 4:default:throw new Error("PB Type ".concat(O," for Field ").concat(I," at offset ").concat(k))}var G={data:_,type:O};x[I]==null?x[I]=[G]:x[I].push(G)}return x}function vo(d){var x=[];return d.forEach(function(v,_){_!=0&&v.forEach(function(k){k.data&&(x.push($i(8*_+k.type)),k.type==2&&x.push($i(k.data.length)),x.push(k.data))})}),ap(x)}function iT(d,x){return(d==null?void 0:d.map(function(v){return x(v.data)}))||[]}function sf(d){for(var x=[],v=[0];v[0]<d.length;){var _=Db(d,v),k=yi(d.slice(v[0],v[0]+_));v[0]+=_;var I={id:oo(k[1][0].data),messages:[]};k[2].forEach(function(H){var R=yi(H.data),H=oo(R[3][0].data);I.messages.push({meta:R,data:d.slice(v[0],v[0]+H)}),v[0]+=H}),(_=k[3])!=null&&_[0]&&(I.merge=0<oo(k[3][0].data)>>>0),x.push(I)}return x}function K1(d){var x=[];return d.forEach(function(v){var _=[[],[{data:$i(v.id),type:0}],[]];v.merge!=null&&(_[3]=[{data:$i(+!!v.merge),type:0}]);var k=[];v.messages.forEach(function(I){k.push(I.data),I.meta[3]=[{type:0,data:$i(I.data.length)}],_[2].push({data:vo(I.meta),type:2})}),v=vo(_),x.push($i(v.length)),x.push(v),k.forEach(function(I){return x.push(I)})}),ap(x)}function of(d){for(var x=[],v=0;v<d.length;){var _=d[v++],k=d[v]|d[v+1]<<8|d[v+2]<<16;v+=3,x.push(function(I,O){if(I!=0)throw new Error("Unexpected Snappy chunk type ".concat(I));for(var R=[0],H=Db(O,R),G=[];R[0]<O.length;){var te=3&O[R[0]];if(te!=0){var de=0,fe=0;if(te==1?(fe=4+(O[R[0]]>>2&7),de=(224&O[R[0]++])<<3,de|=O[R[0]++]):(fe=1+(O[R[0]++]>>2),te==2?(de=O[R[0]]|O[R[0]+1]<<8,R[0]+=2):(de=(O[R[0]]|O[R[0]+1]<<8|O[R[0]+2]<<16|O[R[0]+3]<<24)>>>0,R[0]+=4)),G=[ap(G)],de==0)throw new Error("Invalid offset 0");if(de>G[0].length)throw new Error("Invalid offset beyond length");if(de<=fe)for(G.push(G[0].slice(-de)),fe-=de;fe>=G[G.length-1].length;)G.push(G[G.length-1]),fe-=G[G.length-1].length;G.push(G[0].slice(-de,-de+fe))}else te=O[R[0]++]>>2,te<60?++te:(de=te-59,te=O[R[0]],1<de&&(te|=O[R[0]+1]<<8),2<de&&(te|=O[R[0]+2]<<16),3<de&&(te|=O[R[0]+3]<<24),te>>>=0,te++,R[0]+=de),G.push(O.slice(R[0],R[0]+te)),R[0]+=te}if((I=ap(G)).length!=H)throw new Error("Unexpected length: ".concat(I.length," != ").concat(H));return I}(_,d.slice(v,v+k))),v+=k}if(v!==d.length)throw new Error("data is not a valid framed stream!");return ap(x)}function Y1(d){for(var x=[],v=0;v<d.length;){var _=Math.min(d.length-v,268435455),k=new Uint8Array(4);x.push(k);var I=$i(_),O=I.length;x.push(I),_<=60?(O++,x.push(new Uint8Array([_-1<<2]))):_<=256?(O+=2,x.push(new Uint8Array([240,_-1&255]))):_<=65536?(O+=3,x.push(new Uint8Array([244,_-1&255,_-1>>8&255]))):_<=16777216?(O+=4,x.push(new Uint8Array([248,_-1&255,_-1>>8&255,_-1>>16&255]))):_<=4294967296&&(O+=5,x.push(new Uint8Array([252,_-1&255,_-1>>8&255,_-1>>16&255,_-1>>>24&255]))),x.push(d.slice(v,v+_)),O+=_,k[0]=0,k[1]=255&O,k[2]=O>>8&255,k[3]=O>>16&255,v+=_}return ap(x)}function Bme(d,x,v){var _,k=W0(d),I=k.getUint32(8,!0),O=12,R=-1,H=-1,G=NaN,te=NaN,de=new Date(2001,0,1);switch(1&I&&(G=function(fe,me){for(var Ae=(127&fe[me+15])<<7|fe[me+14]>>1,ve=1&fe[me+14],Be=me+13;me<=Be;--Be)ve=256*ve+fe[Be];return(128&fe[me+15]?-ve:ve)*Math.pow(10,Ae-6176)}(d,O),O+=16),2&I&&(te=k.getFloat64(O,!0),O+=8),4&I&&(de.setTime(de.getTime()+1e3*k.getFloat64(O,!0)),O+=8),8&I&&(H=k.getUint32(O,!0),O+=4),16&I&&(R=k.getUint32(O,!0),O+=4),d[1]){case 0:break;case 2:_={t:"n",v:G};break;case 3:_={t:"s",v:x[H]};break;case 5:_={t:"d",v:de};break;case 6:_={t:"b",v:0<te};break;case 7:_={t:"n",v:te/86400};break;case 8:_={t:"e",v:0};break;case 9:if(!(-1<R))throw new Error("Unsupported cell type ".concat(d[1]," : ").concat(31&I," : ").concat(d.slice(0,4)));_={t:"s",v:v[R]};break;case 10:_={t:"n",v:G};break;default:throw new Error("Unsupported cell type ".concat(d[1]," : ").concat(31&I," : ").concat(d.slice(0,4)))}return _}function sT(d,x){var v=new Uint8Array(32),_=W0(v),k=12,I=0;switch(v[0]=5,d.t){case"n":v[1]=2,function(O,R,H){var G=Math.floor(H==0?0:Math.LOG10E*Math.log(Math.abs(H)))+6176-16,te=H/Math.pow(10,G-6176);O[R+15]|=G>>7,O[R+14]|=(127&G)<<1;for(var de=0;1<=te;++de,te/=256)O[R+de]=255&te;O[R+15]|=0<=H?0:128}(v,k,d.v),I|=1,k+=16;break;case"b":v[1]=6,_.setFloat64(k,d.v?1:0,!0),I|=2,k+=8;break;case"s":if(x.indexOf(d.v)==-1)throw new Error("Value ".concat(d.v," missing from SST!"));v[1]=3,_.setUint32(k,x.indexOf(d.v),!0),I|=8,k+=4;break;default:throw"unsupported cell type "+d.t}return _.setUint32(8,I,!0),v.slice(0,k)}function oT(d,x){var v=new Uint8Array(32),_=W0(v),k=12,I=0;switch(v[0]=3,d.t){case"n":v[2]=2,_.setFloat64(k,d.v,!0),I|=32,k+=8;break;case"b":v[2]=6,_.setFloat64(k,d.v?1:0,!0),I|=32,k+=8;break;case"s":if(x.indexOf(d.v)==-1)throw new Error("Value ".concat(d.v," missing from SST!"));v[2]=3,_.setUint32(k,x.indexOf(d.v),!0),I|=16,k+=4;break;default:throw"unsupported cell type "+d.t}return _.setUint32(4,I,!0),v.slice(0,k)}function $me(d,x,v){switch(d[0]){case 0:case 1:case 2:case 3:return function(_,k,I,O){var R,H=W0(_),G=H.getUint32(4,!0),te=(1<O?12:8)+4*tB(G&(1<O?3470:398)),de=-1,fe=-1,me=NaN,Ae=new Date(2001,0,1);switch(512&G&&(de=H.getUint32(te,!0),te+=4),te+=4*tB(G&(1<O?12288:4096)),16&G&&(fe=H.getUint32(te,!0),te+=4),32&G&&(me=H.getFloat64(te,!0),te+=8),64&G&&(Ae.setTime(Ae.getTime()+1e3*H.getFloat64(te,!0)),te+=8),_[2]){case 0:break;case 2:R={t:"n",v:me};break;case 3:R={t:"s",v:k[fe]};break;case 5:R={t:"d",v:Ae};break;case 6:R={t:"b",v:0<me};break;case 7:R={t:"n",v:me/86400};break;case 8:R={t:"e",v:0};break;case 9:if(-1<de)R={t:"s",v:I[de]};else if(-1<fe)R={t:"s",v:k[fe]};else{if(isNaN(me))throw new Error("Unsupported cell type ".concat(_.slice(0,4)));R={t:"n",v:me}}break;default:throw new Error("Unsupported cell type ".concat(_.slice(0,4)))}return R}(d,x,v,d[0]);case 5:return Bme(d,x,v);default:throw new Error("Unsupported payload version ".concat(d[0]))}}function _c(d){return Db(yi(d)[1][0].data)}function rB(d,_){var _=yi(_.data),v=oo(_[1][0].data),_=_[3],k=[];return(_||[]).forEach(function(I){var O=yi(I.data),R=oo(O[1][0].data)>>>0;switch(v){case 1:k[R]=aT(O[3][0].data);break;case 8:var G=yi(d[_c(O[9][0].data)][0].data),H=d[_c(G[1][0].data)][0],G=oo(H.meta[1][0].data);if(G!=2001)throw new Error("2000 unexpected reference to ".concat(G));H=yi(H.data),k[R]=H[3].map(function(te){return aT(te.data)}).join("")}}),k}function Ume(d,k){var v=yi(k.data),_=(k=v==null?void 0:v[7])!=null&&k[0]?0<oo(v[7][0].data)>>>0?1:0:-1,k=iT(v[5],function(I){return function(O,R){var H,G,te,de=yi(O),fe=oo(de[1][0].data)>>>0,me=oo(de[2][0].data)>>>0,Ae=((O=(Ae=de[8])==null?void 0:Ae[0])==null?void 0:O.data)&&0<oo(de[8][0].data)||!1;if((O=(O=de[7])==null?void 0:O[0])!=null&&O.data&&R!=0)G=(H=(H=de[7])==null?void 0:H[0])==null?void 0:H.data,te=(H=(H=de[6])==null?void 0:H[0])==null?void 0:H.data;else{if((H=(H=de[4])==null?void 0:H[0])==null||!H.data||R==1)throw"NUMBERS Tile missing ".concat(R," cell storage");G=(R=(R=de[4])==null?void 0:R[0])==null?void 0:R.data,te=(de=(de=de[3])==null?void 0:de[0])==null?void 0:de.data}for(var ve=Ae?4:1,Be=W0(G),Ee=[],_e=0;_e<G.length/2;++_e){var Me=Be.getUint16(2*_e,!0);Me<65535&&Ee.push([_e,Me])}if(Ee.length!=me)throw"Expected ".concat(me," cells, found ").concat(Ee.length);for(var He=[],_e=0;_e<Ee.length-1;++_e)He[Ee[_e][0]]=te.subarray(Ee[_e][1]*ve,Ee[_e+1][1]*ve);return 1<=Ee.length&&(He[Ee[Ee.length-1][0]]=te.subarray(Ee[Ee.length-1][1]*ve)),{R:fe,cells:He}}(I,_)});return{nrows:oo(v[4][0].data)>>>0,data:k.reduce(function(I,O){return I[O.R]||(I[O.R]=[]),O.cells.forEach(function(R,H){if(I[O.R][H])throw new Error("Duplicate cell r=".concat(O.R," c=").concat(H));I[O.R][H]=R}),I},[])}}function zme(d,k){var v={"!ref":"A1"},_=d[_c(yi(k.data)[2][0].data)],k=oo(_[0].meta[1][0].data);if(k!=6001)throw new Error("6000 unexpected reference to ".concat(k));return function(I,H,R){var de=yi(H.data);if((H={s:{r:0,c:0},e:{r:0,c:0}}).e.r=(oo(de[6][0].data)>>>0)-1,H.e.r<0)throw new Error("Invalid row varint ".concat(de[6][0].data));if(H.e.c=(oo(de[7][0].data)>>>0)-1,H.e.c<0)throw new Error("Invalid col varint ".concat(de[7][0].data));R["!ref"]=Yn(H);var H=yi(de[4][0].data),G=rB(I,I[_c(H[4][0].data)][0]),te=(de=H[17])!=null&&de[0]?rB(I,I[_c(H[17][0].data)][0]):[],de=yi(H[3][0].data),fe=0;if(de[1].forEach(function(Ae){var ve=yi(Ae.data),Ae=I[_c(ve[2][0].data)][0],ve=oo(Ae.meta[1][0].data);if(ve!=6002)throw new Error("6001 unexpected reference to ".concat(ve));Ae=Ume(0,Ae),Ae.data.forEach(function(Be,Ee){Be.forEach(function(_e,Me){Me=kn({r:fe+Ee,c:Me}),_e=$me(_e,G,te),_e&&(R[Me]=_e)})}),fe+=Ae.nrows}),(de=H[13])!=null&&de[0]){if(de=I[_c(H[13][0].data)][0],H=oo(de.meta[1][0].data),H!=6144)throw new Error("Expected merge type 6144, found ".concat(H));R["!merges"]=(de=yi(de.data))==null?void 0:de[1].map(function(Ae){var ve=yi(Ae.data),Ae=W0(yi(ve[1][0].data)[1][0].data),ve=W0(yi(ve[2][0].data)[1][0].data);return{s:{r:Ae.getUint16(0,!0),c:Ae.getUint16(2,!0)},e:{r:Ae.getUint16(0,!0)+ve.getUint16(0,!0)-1,c:Ae.getUint16(2,!0)+ve.getUint16(2,!0)-1}}})}}(d,_[0],v),v}function Vme(d,x){var v=pT(),_=yi(x.data);if((x=_[2])!=null&&x[0])throw new Error("Keynote presentations are not supported");if(iT(_[1],_c).forEach(function(k){d[k].forEach(function(I){var O,R,H,G;oo(I.meta[1][0].data)==2&&(R=d,I=yi((H=I).data),G={name:(H=I[1])!=null&&H[0]?aT(I[1][0].data):"",sheets:[]},iT(I[2],_c).forEach(function(te){R[te].forEach(function(de){oo(de.meta[1][0].data)==6e3&&G.sheets.push(zme(R,de))})}),(O=G).sheets.forEach(function(te,de){gT(v,te,de==0?O.name:O.name+"_"+de,!0)}))})}),v.SheetNames.length==0)throw new Error("Empty NUMBERS file");return v}function nB(d){var x={},v=[];if(d.FullPaths.forEach(function(k){if(k.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),d.FileIndex.forEach(function(k){if(k.name.match(/\.iwa$/)){var I,O;try{I=of(k.content)}catch(R){return console.log("?? "+k.content.length+" "+(R.message||R))}try{O=sf(I)}catch(R){return console.log("## "+(R.message||R))}O.forEach(function(R){x[R.id]=R.messages,v.push(R.id)})}}),!v.length)throw new Error("File has no messages");if((d=(d=(d=(d=x==null?void 0:x[1])==null?void 0:d[0])==null?void 0:d.meta)==null?void 0:d[1])!=null&&d[0].data&&oo(x[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var _=((d=(d=(d=(d=x==null?void 0:x[1])==null?void 0:d[0])==null?void 0:d.meta)==null?void 0:d[1])==null?void 0:d[0].data)&&oo(x[1][0].meta[1][0].data)==1&&x[1][0];if(_||v.forEach(function(k){x[k].forEach(function(I){if(oo(I.meta[1][0].data)>>>0==1){if(_)throw new Error("Document has multiple roots");_=I}})}),!_)throw new Error("Cannot find Document root");return Vme(x,_)}function Wme(d,x){if(!x||!x.numbers)throw new Error("Must pass a `numbers` option -- check the README");var v=d.Sheets[d.SheetNames[0]];1<d.SheetNames.length&&console.error("The Numbers writer currently writes only the first table");var _=no(v["!ref"]);_.s.r=_.s.c=0;var k=!1;9<_.e.c&&(k=!0,_.e.c=9),49<_.e.r&&(k=!0,_.e.r=49),k&&console.error("The Numbers writer is currently limited to ".concat(Yn(_)));var I=h3(v,{range:_,header:1}),O=["~Sh33tJ5~"];I.forEach(function($r){return $r.forEach(function(Hr){typeof Hr=="string"&&O.push(Hr)})});var R={},H=[],G=yr.read(x.numbers,{type:"base64"});G.FileIndex.map(function($r,Hr){return[$r,G.FullPaths[Hr]]}).forEach(function($r){var Hr=$r[0],Rr=$r[1];Hr.type==2&&Hr.name.match(/\.iwa/)&&sf(of(Hr.content)).forEach(function(br){H.push(br.id),R[br.id]={deps:[],location:Rr,type:oo(br.messages[0].meta[1][0].data)}})}),H.sort(function($r,Hr){return $r-Hr});var te=H.filter(function($r){return 1<$r}).map(function($r){return[$r,$i($r)]});G.FileIndex.map(function($r,Hr){return[$r,G.FullPaths[Hr]]}).forEach(function($r){var Hr=$r[0];$r[1],Hr.name.match(/\.iwa/)&&sf(of(Hr.content)).forEach(function(Rr){Rr.messages.forEach(function(br){te.forEach(function(xn){Rr.messages.some(function(Nn){return oo(Nn.meta[1][0].data)!=11006&&function(Xn,Xa){e:for(var hn=0;hn<=Xn.length-Xa.length;++hn){for(var jr=0;jr<Xa.length;++jr)if(Xn[hn+jr]!=Xa[jr])continue e;return!0}return!1}(Nn.data,xn[1])})&&R[xn[0]].deps.push(Rr.id)})})})});for(var de,fe=yr.find(G,R[1].location),me=sf(of(fe.content)),Ae=0;Ae<me.length;++Ae){var ve=me[Ae];ve.id==1&&(de=ve)}for(var Be=_c(yi(de.messages[0].data)[1][0].data),me=sf(of((fe=yr.find(G,R[Be].location)).content)),Ae=0;Ae<me.length;++Ae)(ve=me[Ae]).id==Be&&(de=ve);var cr=yi(de.messages[0].data);for(cr[1]=[{type:2,data:eB(d.SheetNames[0])}],de.messages[0].data=vo(cr),fe.content=Y1(K1(me)),fe.size=fe.content.length,Be=_c(cr[2][0].data),me=sf(of((fe=yr.find(G,R[Be].location)).content)),Ae=0;Ae<me.length;++Ae)(ve=me[Ae]).id==Be&&(de=ve);for(Be=_c(yi(de.messages[0].data)[2][0].data),me=sf(of((fe=yr.find(G,R[Be].location)).content)),Ae=0;Ae<me.length;++Ae)(ve=me[Ae]).id==Be&&(de=ve);k=yi(de.messages[0].data),k[6][0].data=$i(_.e.r+1),k[7][0].data=$i(_.e.c+1);for(var Ee=_c(k[46][0].data),x=yr.find(G,R[Ee].location),_e=sf(of(x.content)),Me=0;Me<_e.length&&_e[Me].id!=Ee;++Me);if(_e[Me].id!=Ee)throw"Bad ColumnRowUIDMapArchive";var He=yi(_e[Me].messages[0].data);He[1]=[],He[2]=[],He[3]=[];for(var qe=0;qe<=_.e.c;++qe)He[1].push({type:2,data:vo([[],[{type:0,data:$i(qe+420690)}],[{type:0,data:$i(qe+420690)}]])}),He[2].push({type:0,data:$i(qe)}),He[3].push({type:0,data:$i(qe)});He[4]=[],He[5]=[],He[6]=[];for(var ft=0;ft<=_.e.r;++ft)He[4].push({type:2,data:vo([[],[{type:0,data:$i(ft+726270)}],[{type:0,data:$i(ft+726270)}]])}),He[5].push({type:0,data:$i(ft)}),He[6].push({type:0,data:$i(ft)});if(_e[Me].messages[0].data=vo(He),x.content=Y1(K1(_e)),x.size=x.content.length,delete k[46],d=yi(k[4][0].data),d[7][0].data=$i(_.e.r+1),cr=_c(yi(d[1][0].data)[2][0].data),(_e=sf(of((x=yr.find(G,R[cr].location)).content)))[0].id!=cr)throw"Bad HeaderStorageBucket";for(var Et=yi(_e[0].messages[0].data),ft=0;ft<I.length;++ft){var bt=yi(Et[2][0].data);bt[1][0].data=$i(ft),bt[4][0].data=$i(I[ft].length),Et[2][ft]={type:Et[2][0].type,data:vo(bt)}}_e[0].messages[0].data=vo(Et),x.content=Y1(K1(_e)),x.size=x.content.length;var Ut,cr=_c(d[2][0].data);if((_e=sf(of((x=yr.find(G,R[cr].location)).content)))[0].id!=cr)throw"Bad HeaderStorageBucket";for(Et=yi(_e[0].messages[0].data),qe=0;qe<=_.e.c;++qe)(bt=yi(Et[2][0].data))[1][0].data=$i(qe),bt[4][0].data=$i(_.e.r+1),Et[2][qe]={type:Et[2][0].type,data:vo(bt)};_e[0].messages[0].data=vo(Et),x.content=Y1(K1(_e)),x.size=x.content.length,v["!merges"]&&(cn=function($r){for(var Hr=927262;Hr<2e6;++Hr)if(!R[Hr])return R[Hr]=$r,Hr;throw new Error("Too many messages")}({type:6144,deps:[Be],location:R[Be].location}),Ut=[[],[]],v["!merges"].forEach(function($r){Ut[1].push({type:2,data:vo([[],[{type:2,data:vo([[],[{type:5,data:new Uint8Array(new Uint16Array([$r.s.r,$r.s.c]).buffer)}]])}],[{type:2,data:vo([[],[{type:5,data:new Uint8Array(new Uint16Array([$r.e.r-$r.s.r+1,$r.e.c-$r.s.c+1]).buffer)}]])}]])})}),d[13]=[{type:2,data:vo([[],[{type:0,data:$i(cn)}]])}],me.push({id:cn,messages:[(Er=6144,cn=vo(Ut),{meta:[[],[{type:0,data:$i(Er)}]],data:cn})]}));var dr=_c(d[4][0].data);(function(){for(var $r,Hr=yr.find(G,R[dr].location),Rr=sf(of(Hr.content)),br=0;br<Rr.length;++br){var xn=Rr[br];xn.id==dr&&($r=xn)}var Nn=yi($r.messages[0].data);Nn[3]=[],O.forEach(function(Xn,Xa){Nn[3].push({type:2,data:vo([[],[{type:0,data:$i(Xa)}],[{type:0,data:$i(1)}],[{type:2,data:eB(Xn)}]])})}),$r.messages[0].data=vo(Nn),Hr.content=Y1(K1(Rr)),Hr.size=Hr.content.length})();var Gt=yi(d[3][0].data),Er=Gt[1][0];delete Gt[2];var Er,cn,cn=yi(Er.data),en=_c(cn[2][0].data);return function(){for(var $r,Hr=yr.find(G,R[en].location),Rr=sf(of(Hr.content)),br=0;br<Rr.length;++br){var xn=Rr[br];xn.id==en&&($r=xn)}var Nn=yi($r.messages[0].data);delete Nn[6],delete Gt[7];var Xn=new Uint8Array(Nn[5][0].data);Nn[5]=[];for(var Xa=0,hn=0;hn<=_.e.r;++hn){var jr=yi(Xn);Xa+=function(_a,bi,li){var Zi,Io;if((Zi=_a[6])==null||!Zi[0]||(Io=_a[7])==null||!Io[0])throw"Mutation only works on post-BNC storages!";if((Io=(Io=_a[8])==null?void 0:Io[0])!=null&&Io.data&&0<oo(_a[8][0].data))throw"Math only works with normal offsets";for(var gt,Qi,Gi=0,Al=W0(_a[7][0].data),cf=0,nt=[],Kt=W0(_a[4][0].data),dt=0,Wt=[],ct=0;ct<bi.length;++ct)if(bi[ct]!=null){switch(Al.setUint16(2*ct,cf,!0),Kt.setUint16(2*ct,dt,!0),typeof bi[ct]){case"string":gt=sT({t:"s",v:bi[ct]},li),Qi=oT({t:"s",v:bi[ct]},li);break;case"number":gt=sT({t:"n",v:bi[ct]},li),Qi=oT({t:"n",v:bi[ct]},li);break;case"boolean":gt=sT({t:"b",v:bi[ct]},li),Qi=oT({t:"b",v:bi[ct]},li);break;default:throw new Error("Unsupported value "+bi[ct])}nt.push(gt),cf+=gt.length,Wt.push(Qi),dt+=Qi.length,++Gi}else Al.setUint16(2*ct,65535,!0),Kt.setUint16(2*ct,65535);for(_a[2][0].data=$i(Gi);ct<_a[7][0].data.length/2;++ct)Al.setUint16(2*ct,65535,!0),Kt.setUint16(2*ct,65535,!0);return _a[6][0].data=ap(nt),_a[3][0].data=ap(Wt),Gi}(jr,I[hn],O),jr[1][0].data=$i(hn),Nn[5].push({data:vo(jr),type:2})}Nn[1]=[{type:0,data:$i(_.e.c+1)}],Nn[2]=[{type:0,data:$i(_.e.r+1)}],Nn[3]=[{type:0,data:$i(Xa)}],Nn[4]=[{type:0,data:$i(_.e.r+1)}],$r.messages[0].data=vo(Nn),Hr.content=Y1(K1(Rr)),Hr.size=Hr.content.length}(),Er.data=vo(cn),d[3][0].data=vo(Gt),k[4][0].data=vo(d),de.messages[0].data=vo(k),fe.content=Y1(K1(me)),fe.size=fe.content.length,G}function aB(d){return function(x){for(var v=0;v!=d.length;++v){var _=d[v];x[_[0]]===void 0&&(x[_[0]]=_[1]),_[2]==="n"&&(x[_[0]]=Number(x[_[0]]))}}}function lT(d){aB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(d)}function cT(d){aB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(d)}function Hme(d,x){if(!d)return 0;try{d=x.map(function(v){return v.id||(v.id=v.strRelID),[v.name,d["!id"][v.id].Target,(v=d["!id"][v.id].Type,-1<Ea.WS.indexOf(v)?"sheet":Ea.CS&&v==Ea.CS?"chart":Ea.DS&&v==Ea.DS?"dialog":Ea.MS&&v==Ea.MS?"macro":v&&v.length?v:"sheet")]})}catch{return null}return d&&d.length!==0?d:null}function qme(d,x,v,_,k,I,O,R,H,G,te,de){try{I[_]=Uh(Ra(d,v,!0),x);var fe=Bt(d,x);switch(R){case"sheet":ve=dme(fe,x,k,H,I[_],G,te,de);break;case"chart":if(!(ve=fme(fe,x,k,H,I[_],G))||!ve["!drawel"])break;var Ae=ma(ve["!drawel"].Target,x),me=ef(Ae),_e=ma((_e=Ra(d,Ae,!0),me=Uh(Ra(d,me,!0),Ae),_e?(_e=(_e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1],me["!id"][_e].Target):"??"),Ae),Ae=ef(_e),ve=eme(Ra(d,_e,!0),0,0,Uh(Ra(d,Ae,!0),_e),0,ve);break;case"macro":Ee=x,I[_],Ee.slice(-4),ve={"!type":"macro"};break;case"dialog":Ee=x,I[_],Ee.slice(-4),ve={"!type":"dialog"};break;default:throw new Error("Unrecognized sheet type "+R)}O[_]=ve;var Be=[];I&&I[_]&&Xr(I[_]).forEach(function(Me){var He,qe,ft,Et,bt,Ut,cr="";if(I[_][Me].Type==Ea.CMNT){cr=ma(I[_][Me].Target,x);var dr=pme(Bt(d,cr,!0),cr,H);if(!dr||!dr.length)return;e9(ve,dr,!1)}I[_][Me].Type==Ea.TCMNT&&(cr=ma(I[_][Me].Target,x),Be=Be.concat((He=Bt(d,cr,!0),qe=H,Et=!(ft=[]),bt={},Ut=0,He.replace(Ya,function(Gt,Er){var cn=Un(Gt);switch(zl(cn[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":break;case"<threadedComment":bt={author:cn.personId,guid:cn.id,ref:cn.ref,T:1};break;case"</threadedComment>":bt.t!=null&&ft.push(bt);break;case"<text>":case"<text":Ut=Er+Gt.length;break;case"</text>":bt.t=He.slice(Ut,Er).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":Et=!0;break;case"</mentions>":Et=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Et=!0;break;case"</ext>":Et=!1;break;default:if(!Et&&qe.WTF)throw new Error("unrecognized "+cn[0]+" in threaded comments")}return Gt}),ft)))}),Be&&Be.length&&e9(ve,Be,!0,H.people||[])}catch(Me){if(H.WTF)throw Me}var Ee,_e}function lf(d){return d.charAt(0)=="/"?d.slice(1):d}function iB(d,x){if(ya(),lT(x=x||{}),Pr(d,"META-INF/manifest.xml")||Pr(d,"objectdata.xml"))return X9(d,x);if(Pr(d,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(d.FileIndex)return nB(d);var v=yr.utils.cfb_new();return Pa(d).forEach(function(Rr){Kn(v,Rr,function br(xn,Nn,Xn){if(!Xn)return Tr(aa(xn,Nn));if(!Nn)return null;try{return br(xn,Nn)}catch{return null}}(d,Rr))}),nB(v)}if(!Pr(d,"[Content_Types].xml"))throw Pr(d,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Pr(d,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var _,k,I=Pa(d),O=function(Rr){var br=po();if(!Rr||!Rr.match)return br;var xn={};if((Rr.match(Ya)||[]).forEach(function(Nn){var Xn=Un(Nn);switch(Xn[0].replace(Fh,"<")){case"<?xml":break;case"<Types":br.xmlns=Xn["xmlns"+(Xn[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":xn[Xn.Extension]=Xn.ContentType;break;case"<Override":br[ns[Xn.ContentType]]!==void 0&&br[ns[Xn.ContentType]].push(Xn.PartName)}}),br.xmlns!==as.CT)throw new Error("Unknown Namespace: "+br.xmlns);return br.calcchain=0<br.calcchains.length?br.calcchains[0]:"",br.sst=0<br.strs.length?br.strs[0]:"",br.style=0<br.styles.length?br.styles[0]:"",br.defaults=xn,delete br.calcchains,br}(Ra(d,"[Content_Types].xml")),bt=!1;if(O.workbooks.length===0&&Bt(d,k="xl/workbook.xml",!0)&&O.workbooks.push(k),O.workbooks.length===0){if(!Bt(d,k="xl/workbook.bin",!0))throw new Error("Could not find workbook");O.workbooks.push(k),bt=!0}O.workbooks[0].slice(-3)=="bin"&&(bt=!0);var R={},H={};if(!x.bookSheets&&!x.bookProps){if(Tb=[],O.sst)try{Tb=mme(Bt(d,lf(O.sst)),O.sst,x)}catch(Rr){if(x.WTF)throw Rr}x.cellStyles&&O.themes.length&&(Ae=Ra(d,O.themes[0].replace(/^\//,""),!0)||"",O.themes[0],R=JL(Ae,x)),O.style&&(H=hme(Bt(d,lf(O.style)),O.style,R,x))}O.links.map(function(Rr){try{return Uh(Ra(d,ef(lf(Rr))),Rr),xme(Bt(d,lf(Rr)),0,Rr,x)}catch{}});var G,te,de,fe=ume(Bt(d,lf(O.workbooks[0])),O.workbooks[0],x),me={},Ae="";O.coreprops.length&&((Ae=Bt(d,lf(O.coreprops[0]),!0))&&(me=I1(Ae)),O.extprops.length!==0&&(Ae=Bt(d,lf(O.extprops[0]),!0))&&(ve=x,de={},te=(te=me)||{},G=Ci(G=Ae),Vh.forEach(function(Rr){var br=(G.match(iu(Rr[0]))||[])[1];switch(Rr[2]){case"string":br&&(te[Rr[1]]=Tn(br));break;case"bool":te[Rr[1]]=br==="true";break;case"raw":var xn=G.match(new RegExp("<"+Rr[0]+"[^>]*>([\\s\\S]*?)</"+Rr[0]+">"));xn&&0<xn.length&&(de[Rr[1]]=xn[1])}}),de.HeadingPairs&&de.TitlesOfParts&&Bx(de.HeadingPairs,de.TitlesOfParts,te,ve)));var ve={};x.bookSheets&&!x.bookProps||O.custprops.length!==0&&(Ae=Ra(d,lf(O.custprops[0]),!0))&&(ve=function(Rr,br){var xn={},Nn="",Xn=Rr.match(lb);if(Xn)for(var Xa=0;Xa!=Xn.length;++Xa){var hn=Xn[Xa],jr=Un(hn);switch(jr[0]){case"<?xml":case"<Properties":break;case"<property":Nn=Tn(jr.name);break;case"</property>":Nn=null;break;default:if(hn.indexOf("<vt:")===0){var _a=hn.split(">"),bi=_a[0].slice(4),li=_a[1];switch(bi){case"lpstr":case"bstr":case"lpwstr":xn[Nn]=Tn(li);break;case"bool":xn[Nn]=Qr(li);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":xn[Nn]=parseInt(li,10);break;case"r4":case"r8":case"decimal":xn[Nn]=parseFloat(li);break;case"filetime":case"date":xn[Nn]=Je(li);break;case"cy":case"error":xn[Nn]=Tn(li);break;default:if(bi.slice(-1)=="/")break;br.WTF&&typeof console<"u"&&console.warn("Unexpected",hn,bi,_a)}}else if(hn.slice(0,2)!=="</"&&br.WTF)throw new Error(hn)}}return xn}(Ae,x));var Be={};if((x.bookSheets||x.bookProps)&&(fe.Sheets?_=fe.Sheets.map(function(Rr){return Rr.name}):me.Worksheets&&0<me.SheetNames.length&&(_=me.SheetNames),x.bookProps&&(Be.Props=me,Be.Custprops=ve),x.bookSheets&&_!==void 0&&(Be.SheetNames=_),x.bookSheets?Be.SheetNames:x.bookProps))return Be;_={},Ae={},x.bookDeps&&O.calcchain&&(Ae=gme(Bt(d,lf(O.calcchain)),O.calcchain));var Ee,_e,Me=0,He={},qe=fe.Sheets;me.Worksheets=qe.length,me.SheetNames=[];for(var ft=0;ft!=qe.length;++ft)me.SheetNames[ft]=qe[ft].name;var Et=bt?"bin":"xml",bt=O.workbooks[0].lastIndexOf("/"),Ut=(O.workbooks[0].slice(0,bt+1)+"_rels/"+O.workbooks[0].slice(bt+1)+".rels").replace(/^\//,"");Pr(d,Ut)||(Ut="xl/_rels/workbook."+Et+".rels");var cr,dr,Gt,Er=Uh(Ra(d,Ut,!0),Ut.replace(/_rels.*/,"s5s"));1<=(O.metadata||[]).length&&(x.xlmeta=vme(Bt(d,lf(O.metadata[0])),O.metadata[0],x)),1<=(O.people||[]).length&&(x.people=(bt=Bt(d,lf(O.people[0])),cr=x,Gt=!(dr=[]),bt.replace(Ya,function(Rr){var br=Un(Rr);switch(zl(br[0])){case"<?xml":case"<personList":case"</personList>":break;case"<person":dr.push({name:br.displayname,id:br.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Gt=!0;break;case"</ext>":Gt=!1;break;default:if(!Gt&&cr.WTF)throw new Error("unrecognized "+br[0]+" in threaded comments")}return Rr}),dr)),Er=Er&&Hme(Er,fe.Sheets);var cn=Bt(d,"xl/worksheets/sheet.xml",!0)?1:0;e:for(Me=0;Me!=me.Worksheets;++Me){var en="sheet";if(Er&&Er[Me]?(Ee="xl/"+Er[Me][1].replace(/[\/]?xl\//,""),Pr(d,Ee)||(Ee=Er[Me][1]),Pr(d,Ee)||(Ee=Ut.replace(/_rels\/.*$/,"")+Er[Me][1]),en=Er[Me][2]):Ee=(Ee="xl/worksheets/sheet"+(Me+1-cn)+"."+Et).replace(/sheet0\./,"sheet."),_e=Ee.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),x&&x.sheets!=null)switch(typeof x.sheets){case"number":if(Me!=x.sheets)continue e;break;case"string":if(me.SheetNames[Me].toLowerCase()!=x.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(x.sheets)){for(var $r=!1,Hr=0;Hr!=x.sheets.length;++Hr)typeof x.sheets[Hr]=="number"&&x.sheets[Hr]==Me&&($r=1),typeof x.sheets[Hr]=="string"&&x.sheets[Hr].toLowerCase()==me.SheetNames[Me].toLowerCase()&&($r=1);if(!$r)continue e}}qme(d,Ee,_e,me.SheetNames[Me],Me,He,_,en,x,fe,R,H)}return Be={Directory:O,Workbook:fe,Props:me,Custprops:ve,Deps:Ae,Sheets:_,SheetNames:me.SheetNames,Strings:Tb,Styles:H,Themes:R,SSF:wt(ee)},x&&x.bookFiles&&(d.files?(Be.keys=I,Be.files=d.files):(Be.keys=[],Be.files={},d.FullPaths.forEach(function(Rr,br){Rr=Rr.replace(/^Root Entry[\/]/,""),Be.keys.push(Rr),Be.files[Rr]=d.FileIndex[br]}))),x&&x.bookVBA&&(0<O.vba.length?Be.vbaraw=Bt(d,lf(O.vba[0]),!0):O.defaults&&O.defaults.bin===h0e&&(Be.vbaraw=Bt(d,"xl/vbaProject.bin",!0))),Be}function Gme(d,x){var v,_=x||{},k="Workbook",I=yr.find(d,k);try{if(k="/!DataSpaces/Version",!(I=yr.find(d,k))||!I.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(O=I.content,(v={}).id=O.read_shift(0,"lpp4"),v.R=Vf(O,4),v.U=Vf(O,4),v.W=Vf(O,4),k="/!DataSpaces/DataSpaceMap",!(I=yr.find(d,k))||!I.content)throw new Error("ECMA-376 Encrypted file missing "+k);var O=Kx(I.content);if(O.length!==1||O[0].comps.length!==1||O[0].comps[0].t!==0||O[0].name!=="StrongEncryptionDataSpace"||O[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+k);if(k="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(I=yr.find(d,k))||!I.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(O=function(R){var H=[];R.l+=4;for(var G=R.read_shift(4);0<G--;)H.push(R.read_shift(0,"lpp4"));return H}(I.content),O.length!=1||O[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+k);if(k="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(I=yr.find(d,k))||!I.content)throw new Error("ECMA-376 Encrypted file missing "+k);J5(I.content)}catch{}if(k="/EncryptionInfo",!(I=yr.find(d,k))||!I.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(x=Z5(I.content),k="/EncryptedPackage",!(I=yr.find(d,k))||!I.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(x[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(x[1],I.content,_.password||"",_);if(x[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(x[1],I.content,_.password||"",_);throw new Error("File is password-protected")}function Kme(d,x){return(x.bookType=="ods"?Q9:x.bookType=="numbers"?Wme:x.bookType=="xlsb"?function(v,_){Qx=1024,v&&!v.SSF&&(v.SSF=wt(ee)),v&&v.SSF&&(ya(),Va(v.SSF),_.revssf=ln(v.SSF),_.revssf[v.SSF[65535]]=0,_.ssf=v.SSF),_.rels={},_.wbrels={},_.Strings=[],_.Strings.Count=0,_.Strings.Unique=0,kb?_.revStrings=new Map:(_.revStrings={},_.revStrings.foo=[],delete _.revStrings.foo);var k=_.bookType=="xlsb"?"bin":"xml",I=-1<r9.indexOf(_.bookType),O=po();cT(_=_||{});var R=au(),H="",G=0;if(_.cellXfs=[],np(_.cellXfs,{},{revssf:{General:0}}),v.Props||(v.Props={}),Kn(R,H="docProps/core.xml",Mx(v.Props,_)),O.coreprops.push(H),Pi(_.rels,2,H,Ea.CORE_PROPS),H="docProps/app.xml",!v.Props||!v.Props.SheetNames)if(v.Workbook&&v.Workbook.Sheets){for(var te=[],de=0;de<v.SheetNames.length;++de)(v.Workbook.Sheets[de]||{}).Hidden!=2&&te.push(v.SheetNames[de]);v.Props.SheetNames=te}else v.Props.SheetNames=v.SheetNames;for(v.Props.Worksheets=v.Props.SheetNames.length,Kn(R,H,F1(v.Props)),O.extprops.push(H),Pi(_.rels,3,H,Ea.EXT_PROPS),v.Custprops!==v.Props&&0<Xr(v.Custprops||{}).length&&(Kn(R,H="docProps/custom.xml",k5(v.Custprops)),O.custprops.push(H),Pi(_.rels,4,H,Ea.CUST_PROPS)),G=1;G<=v.SheetNames.length;++G){var fe,me,Ae,ve={"!id":{}},Be=v.Sheets[v.SheetNames[G-1]];Kn(R,H="xl/worksheets/sheet"+G+"."+k,function(Ee,_e,Me,He,qe){return(_e.slice(-4)===".bin"?Q0e:A9)(Ee,Me,He,qe)}(G-1,H,_,v,ve)),O.sheets.push(H),Pi(_.wbrels,-1,"worksheets/sheet"+G+"."+k,Ea.WS[0]),Be&&(fe=Be["!comments"],me=!1,Ae="",fe&&0<fe.length&&(Kn(R,Ae="xl/comments"+G+"."+k,function(Ee,_e,Me){return(_e.slice(-4)===".bin"?f0e:t9)(Ee)}(fe,Ae)),O.comments.push(Ae),Pi(ve,-1,"../comments"+G+"."+k,Ea.CMNT),me=!0),Be["!legacy"]&&me&&Kn(R,"xl/drawings/vmlDrawing"+G+".vml",QL(G,Be["!comments"])),delete Be["!comments"],delete Be["!legacy"]),ve["!id"].rId1&&Kn(R,ef(H),zh(ve))}return _.Strings!=null&&0<_.Strings.length&&(Kn(R,H="xl/sharedStrings."+k,function(Ee,_e,Me){return(_e.slice(-4)===".bin"?W1:V1)(Ee,Me)}(_.Strings,H,_)),O.strs.push(H),Pi(_.wbrels,-1,"sharedStrings."+k,Ea.SST)),Kn(R,H="xl/workbook."+k,function(Ee,_e,Me){return(_e.slice(-4)===".bin"?cme:F9)(Ee)}(v,H)),O.workbooks.push(H),Pi(_.rels,1,H,Ea.WB),Kn(R,H="xl/theme/theme1.xml",H6(v.Themes,_)),O.themes.push(H),Pi(_.wbrels,-1,"theme/theme1.xml",Ea.THEME),Kn(R,H="xl/styles."+k,function(Ee,_e,Me){return(_e.slice(-4)===".bin"?e0e:GL)(Ee,Me)}(v,H,_)),O.styles.push(H),Pi(_.wbrels,-1,"styles."+k,Ea.STY),v.vbaraw&&I&&(Kn(R,H="xl/vbaProject.bin",v.vbaraw),O.vba.push(H),Pi(_.wbrels,-1,"vbaProject.bin",Ea.VBA)),Kn(R,H="xl/metadata."+k,function(Ee){return(Ee.slice(-4)===".bin"?d0e:ZL)()}(H)),O.metadata.push(H),Pi(_.wbrels,-1,"metadata."+k,Ea.XLMETA),Kn(R,"[Content_Types].xml",Qd(O,_)),Kn(R,"_rels/.rels",zh(_.rels)),Kn(R,"xl/_rels/workbook."+k+".rels",zh(_.wbrels)),delete _.revssf,delete _.ssf,R}:sB)(d,x)}function sB(d,x){Qx=1024,d&&!d.SSF&&(d.SSF=wt(ee)),d&&d.SSF&&(ya(),Va(d.SSF),x.revssf=ln(d.SSF),x.revssf[d.SSF[65535]]=0,x.ssf=d.SSF),x.rels={},x.wbrels={},x.Strings=[],x.Strings.Count=0,x.Strings.Unique=0,kb?x.revStrings=new Map:(x.revStrings={},x.revStrings.foo=[],delete x.revStrings.foo);var v="xml",_=-1<r9.indexOf(x.bookType),k=po();cT(x=x||{});var I=au(),O="",R=0;if(x.cellXfs=[],np(x.cellXfs,{},{revssf:{General:0}}),d.Props||(d.Props={}),O="docProps/core.xml",Kn(I,O,Mx(d.Props,x)),k.coreprops.push(O),Pi(x.rels,2,O,Ea.CORE_PROPS),O="docProps/app.xml",!d.Props||!d.Props.SheetNames)if(d.Workbook&&d.Workbook.Sheets){for(var H=[],G=0;G<d.SheetNames.length;++G)(d.Workbook.Sheets[G]||{}).Hidden!=2&&H.push(d.SheetNames[G]);d.Props.SheetNames=H}else d.Props.SheetNames=d.SheetNames;d.Props.Worksheets=d.Props.SheetNames.length,Kn(I,O,F1(d.Props)),k.extprops.push(O),Pi(x.rels,3,O,Ea.EXT_PROPS),d.Custprops!==d.Props&&0<Xr(d.Custprops||{}).length&&(Kn(I,O="docProps/custom.xml",k5(d.Custprops)),k.custprops.push(O),Pi(x.rels,4,O,Ea.CUST_PROPS));var te,de=["SheetJ5"];for(x.tcid=0,R=1;R<=d.SheetNames.length;++R){var fe,me,Ae,ve,Be={"!id":{}},Ee=d.Sheets[d.SheetNames[R-1]];Kn(I,O="xl/worksheets/sheet"+R+"."+v,A9(R-1,x,d,Be)),k.sheets.push(O),Pi(x.wbrels,-1,"worksheets/sheet"+R+"."+v,Ea.WS[0]),Ee&&(me=!1,Ae="",(fe=Ee["!comments"])&&0<fe.length&&(ve=!1,fe.forEach(function(_e){_e[1].forEach(function(Me){Me.T==1&&(ve=!0)})}),ve&&(Kn(I,Ae="xl/threadedComments/threadedComment"+R+"."+v,function(_e,Me,He){var qe=[wn,Or("ThreadedComments",null,{xmlns:as.TCMNT}).replace(/[\/]>/,">")];return _e.forEach(function(ft){var Et="";(ft[1]||[]).forEach(function(bt,Ut){var cr;bt.T?(bt.a&&Me.indexOf(bt.a)==-1&&Me.push(bt.a),cr={ref:ft[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+He.tcid++).slice(-12)+"}"},Ut==0?Et=cr.id:cr.parentId=Et,bt.ID=cr.id,bt.a&&(cr.personId="{54EE7950-7262-4200-6969-"+("000000000000"+Me.indexOf(bt.a)).slice(-12)+"}"),qe.push(Or("threadedComment",zs("text",bt.t||""),cr))):delete bt.ID})}),qe.push("</ThreadedComments>"),qe.join("")}(fe,de,x)),k.threadedcomments.push(Ae),Pi(Be,-1,"../threadedComments/threadedComment"+R+"."+v,Ea.TCMNT)),Kn(I,Ae="xl/comments"+R+"."+v,t9(fe)),k.comments.push(Ae),Pi(Be,-1,"../comments"+R+"."+v,Ea.CMNT),me=!0),Ee["!legacy"]&&me&&Kn(I,"xl/drawings/vmlDrawing"+R+".vml",QL(R,Ee["!comments"])),delete Ee["!comments"],delete Ee["!legacy"]),Be["!id"].rId1&&Kn(I,ef(O),zh(Be))}return x.Strings!=null&&0<x.Strings.length&&(Kn(I,O="xl/sharedStrings.xml",V1(x.Strings,x)),k.strs.push(O),Pi(x.wbrels,-1,"sharedStrings.xml",Ea.SST)),Kn(I,O="xl/workbook.xml",F9(d)),k.workbooks.push(O),Pi(x.rels,1,O,Ea.WB),Kn(I,O="xl/theme/theme1.xml",H6(d.Themes,x)),k.themes.push(O),Pi(x.wbrels,-1,"theme/theme1.xml",Ea.THEME),Kn(I,O="xl/styles.xml",GL(d,x)),k.styles.push(O),Pi(x.wbrels,-1,"styles.xml",Ea.STY),d.vbaraw&&_&&(Kn(I,O="xl/vbaProject.bin",d.vbaraw),k.vba.push(O),Pi(x.wbrels,-1,"vbaProject.bin",Ea.VBA)),Kn(I,O="xl/metadata.xml",ZL()),k.metadata.push(O),Pi(x.wbrels,-1,"metadata.xml",Ea.XLMETA),1<de.length&&(Kn(I,O="xl/persons/person.xml",(_=de,te=[wn,Or("personList",null,{xmlns:as.TCMNT,"xmlns:x":Wl[0]}).replace(/[\/]>/,">")],_.forEach(function(_e,Me){te.push(Or("person",null,{displayName:_e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+Me).slice(-12)+"}",userId:_e,providerId:"None"}))}),te.push("</personList>"),te.join(""))),k.people.push(O),Pi(x.wbrels,-1,"persons/person.xml",Ea.PEOPLE)),Kn(I,"[Content_Types].xml",Qd(k,x)),Kn(I,"_rels/.rels",zh(x.rels)),Kn(I,"xl/_rels/workbook.xml.rels",zh(x.wbrels)),delete x.revssf,delete x.ssf,I}function uT(d,x){var v="";switch((x||{}).type||"base64"){case"buffer":return[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]];case"base64":v=F(d.slice(0,12));break;case"binary":v=d;break;case"array":return[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]];default:throw new Error("Unrecognized type "+(x&&x.type||"undefined"))}return[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3),v.charCodeAt(4),v.charCodeAt(5),v.charCodeAt(6),v.charCodeAt(7)]}function oB(d,x){var v=0;e:for(;v<d.length;)switch(d.charCodeAt(v)){case 10:case 13:case 32:++v;break;case 60:return rT(d.slice(v),x);default:break e}return so.to_workbook(d,x)}function dT(d,x,v,_){return _?(v.type="string",so.to_workbook(d,v)):so.to_workbook(x,v)}function u3(d,x){g();var v=x||{};if(typeof ArrayBuffer<"u"&&d instanceof ArrayBuffer)return u3(new Uint8Array(d),((v=wt(v)).type="array",v));typeof Uint8Array<"u"&&d instanceof Uint8Array&&!v.type&&(v.type=typeof Deno<"u"?"buffer":"array");var _,k,I,O,R,H=d,G=!1;if(v.cellStyles&&(v.cellNF=!0,v.sheetStubs=!0),tv={},v.dateNF&&(tv.dateNF=v.dateNF),v.type||(v.type=L&&Buffer.isBuffer(d)?"buffer":"base64"),v.type=="file"&&(v.type=L?"buffer":"binary",H=function(de){if(Wi!==void 0)return Wi.readFileSync(de);if(typeof Deno<"u")return Deno.readFileSync(de);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var fe=File(de);fe.open("r"),fe.encoding="binary";var me=fe.read();return fe.close(),me}catch(Ae){if(!Ae.message||!Ae.message.match(/onstruct/))throw Ae}throw new Error("Cannot access file "+de)}(d),typeof Uint8Array>"u"||L||(v.type="array")),v.type=="string"&&(G=!0,v.type="binary",v.codepage=65001,H=(te=d).match(/[^\x00-\x7F]/)?dn(te):te),v.type=="array"&&typeof Uint8Array<"u"&&d instanceof Uint8Array&&typeof ArrayBuffer<"u"){var te=new ArrayBuffer(3),te=new Uint8Array(te);if(te.foo="bar",!te.foo)return(v=wt(v)).type="array",u3(q(H),v)}switch((_=uT(H,v))[0]){case 208:if(_[1]===207&&_[2]===17&&_[3]===224&&_[4]===161&&_[5]===177&&_[6]===26&&_[7]===225)return O=yr.read(H,v),R=v,(yr.find(O,"EncryptedPackage")?Gme:c3)(O,R);break;case 9:if(_[1]<=8)return c3(H,v);break;case 60:return rT(H,v);case 73:if(_[1]===73&&_[2]===42&&_[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(_[1]===68)return function(de,fe){var me=fe||{},Ae=!!me.WTF;me.WTF=!0;try{var ve=ia.to_workbook(de,me);return me.WTF=Ae,ve}catch(Be){if(me.WTF=Ae,!Be.message.match(/SYLK bad record ID/)&&Ae)throw Be;return so.to_workbook(de,fe)}}(H,v);break;case 84:if(_[1]===65&&_[2]===66&&_[3]===76)return Hi.to_workbook(H,v);break;case 80:return _[1]===75&&_[2]<9&&_[3]<9?(I=R=H,(k=(k=v)||{}).type||(k.type=L&&Buffer.isBuffer(R)?"buffer":"base64"),iB(Ma(I,k),k)):dT(d,H,v,G);case 239:return _[3]===60?rT(H,v):dT(d,H,v,G);case 255:if(_[1]===254)return I=H,(k=v).type=="base64"&&(I=F(I)),I=a.utils.decode(1200,I.slice(2),"str"),k.type="binary",oB(I,k);if(_[1]===0&&_[2]===2&&_[3]===0)return Uf.to_workbook(H,v);break;case 0:if(_[1]===0&&(2<=_[2]&&_[3]===0||_[2]===0&&(_[3]===8||_[3]===9)))return Uf.to_workbook(H,v);break;case 3:case 131:case 139:case 140:return _t.to_workbook(H,v);case 123:if(_[1]===92&&_[2]===114&&_[3]===116)return t3.to_workbook(H,v);break;case 10:case 13:case 32:return function(de,fe){var me="",Ae=uT(de,fe);switch(fe.type){case"base64":me=F(de);break;case"binary":me=de;break;case"buffer":me=de.toString("binary");break;case"array":me=it(de);break;default:throw new Error("Unrecognized type "+fe.type)}return Ae[0]==239&&Ae[1]==187&&Ae[2]==191&&(me=Ci(me)),fe.type="binary",oB(me,fe)}(H,v);case 137:if(_[1]===80&&_[2]===78&&_[3]===71)throw new Error("PNG Image File is not a spreadsheet")}return-1<yt.indexOf(_[0])&&_[2]<=12&&_[3]<=31?_t.to_workbook(H,v):dT(d,H,v,G)}function lB(d,x){return x=x||{},x.type="file",u3(d,x)}function cB(d,x){switch(x.type){case"base64":case"binary":break;case"buffer":case"array":x.type="";break;case"file":return ba(x.file,yr.write(d,{type:L?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+x.bookType+"' files");default:throw new Error("Unrecognized type "+x.type)}return yr.write(d,x)}function uB(d,x){var v={},_=L?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(x.compression&&(v.compression="DEFLATE"),x.password)v.type=_;else switch(x.type){case"base64":v.type="base64";break;case"binary":v.type="string";break;case"string":throw new Error("'string' output type invalid for '"+x.bookType+"' files");case"buffer":case"file":v.type=_;break;default:throw new Error("Unrecognized type "+x.type)}if(d=d.FullPaths?yr.write(d,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[v.type]||v.type,compression:!!x.compression}):d.generate(v),typeof Deno<"u"&&typeof d=="string"){if(x.type=="binary"||x.type=="base64")return d;d=new Uint8Array(Z(d))}return x.password&&typeof encrypt_agile<"u"?cB(encrypt_agile(d,x.password),x):x.type==="file"?ba(x.file,d):x.type=="string"?Ci(d):d}function Jh(d,x,v){var _=(v=v||"")+d;switch(x.type){case"base64":return T(dn(_));case"binary":return dn(_);case"string":return d;case"file":return ba(x.file,_,"utf8");case"buffer":return L?B(_,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(_):Jh(_,{type:"binary"}).split("").map(function(k){return k.charCodeAt(0)})}throw new Error("Unrecognized type "+x.type)}function d3(d,x){switch(x.type){case"string":case"base64":case"binary":for(var v="",_=0;_<d.length;++_)v+=String.fromCharCode(d[_]);return x.type=="base64"?T(v):x.type=="string"?Ci(v):v;case"file":return ba(x.file,d);case"buffer":return d;default:throw new Error("Unrecognized type "+x.type)}}function fT(d,x){g(),I9(d);var v,_=wt(x||{});return _.cellStyles&&(_.cellNF=!0,_.sheetStubs=!0),_.type!="array"?(v=d,x=wt((x=_)||{}),uB(sB(v,x),x)):(_.type="binary",d=fT(d,_),_.type="array",Z(d))}function f3(d,x){g(),I9(d);var v=wt(x||{});if(v.cellStyles&&(v.cellNF=!0,v.sheetStubs=!0),v.type=="array")return v.type="binary",x=f3(d,v),v.type="array",Z(x);var _,k,I,O=0;if(v.sheet&&(O=typeof v.sheet=="number"?v.sheet:d.SheetNames.indexOf(v.sheet),!d.SheetNames[O]))throw new Error("Sheet not found: "+v.sheet+" : "+typeof v.sheet);switch(v.bookType||"xlsb"){case"xml":case"xlml":return Jh(Sme(d,v),v);case"slk":case"sylk":return Jh(ia.from_sheet(d.Sheets[d.SheetNames[O]],v),v);case"htm":case"html":return Jh(W9(d.Sheets[d.SheetNames[O]],v),v);case"txt":return function(R,H){switch(H.type){case"base64":return T(R);case"binary":case"string":return R;case"file":return ba(H.file,R,"binary");case"buffer":return L?B(R,"binary"):R.split("").map(function(G){return G.charCodeAt(0)})}throw new Error("Unrecognized type "+H.type)}(pB(d.Sheets[d.SheetNames[O]],v),v);case"csv":return Jh(mT(d.Sheets[d.SheetNames[O]],v),v,"\uFEFF");case"dif":return Jh(Hi.from_sheet(d.Sheets[d.SheetNames[O]],v),v);case"dbf":return d3(_t.from_sheet(d.Sheets[d.SheetNames[O]],v),v);case"prn":return Jh(so.from_sheet(d.Sheets[d.SheetNames[O]],v),v);case"rtf":return Jh(t3.from_sheet(d.Sheets[d.SheetNames[O]],v),v);case"eth":return Jh(yc.from_sheet(d.Sheets[d.SheetNames[O]],v),v);case"fods":return Jh(Q9(d,v),v);case"wk1":return d3(Uf.sheet_to_wk1(d.Sheets[d.SheetNames[O]],v),v);case"wk3":return d3(Uf.book_to_wk3(d,v),v);case"biff2":v.biff||(v.biff=2);case"biff3":v.biff||(v.biff=3);case"biff4":return v.biff||(v.biff=4),d3(L9(d,v),v);case"biff5":v.biff||(v.biff=5);case"biff8":case"xla":case"xls":return v.biff||(v.biff=8),cB(Eme(d,I=(I=v)||{}),I);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return _=d,I=wt((k=v)||{}),Sb=new Yme(k),uB(Kme(_,I),I);default:throw new Error("Unrecognized bookType |"+v.bookType+"|")}}function hT(d){var x;d.bookType||((x=d.file.slice(d.file.lastIndexOf(".")).toLowerCase()).match(/^\.[a-z]+$/)&&(d.bookType=x.slice(1)),d.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[d.bookType]||d.bookType)}function dB(d,x,v){return v=v||{},v.type="file",v.file=x,hT(v),f3(d,v)}function fB(d,x,v,_,k,I,O,R){var H=ja(v),G=R.defval,te=R.raw||!Object.prototype.hasOwnProperty.call(R,"raw"),de=!0,fe=k===1?[]:{};if(k!==1)if(Object.defineProperty)try{Object.defineProperty(fe,"__rowNum__",{value:v,enumerable:!1})}catch{fe.__rowNum__=v}else fe.__rowNum__=v;if(!O||d[v])for(var me=x.s.c;me<=x.e.c;++me){var Ae=O?d[v][me]:d[_[me]+H];if(Ae!==void 0&&Ae.t!==void 0){var ve=Ae.v;switch(Ae.t){case"z":if(ve==null)break;continue;case"e":ve=ve==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+Ae.t)}if(I[me]!=null){if(ve==null)if(Ae.t=="e"&&ve===null)fe[I[me]]=null;else if(G!==void 0)fe[I[me]]=G;else{if(!te||ve!==null)continue;fe[I[me]]=null}else fe[I[me]]=te&&(Ae.t!=="n"||Ae.t==="n"&&R.rawNumbers!==!1)?ve:Gl(Ae,ve,R);ve!=null&&(de=!1)}}else G!==void 0&&I[me]!=null&&(fe[I[me]]=G)}return{row:fe,isempty:de}}function h3(d,x){if(d==null||d["!ref"]==null)return[];var v,_={t:"n",v:0},k=0,I=1,O=[],R="",H={s:{r:0,c:0},e:{r:0,c:0}},G=x||{},te=G.range!=null?G.range:d["!ref"];switch(G.header===1?k=1:G.header==="A"?k=2:Array.isArray(G.header)?k=3:G.header==null&&(k=0),typeof te){case"string":H=Ia(te);break;case"number":(H=Ia(d["!ref"])).s.r=te;break;default:H=te}0<k&&(I=0);var de=ja(H.s.r),fe=[],me=[],Ae=0,ve=0,Be=Array.isArray(d),Ee=H.s.r,_e=0,Me={};Be&&!d[Ee]&&(d[Ee]=[]);for(var He,qe=G.skipHidden&&d["!cols"]||[],ft=G.skipHidden&&d["!rows"]||[],_e=H.s.c;_e<=H.e.c;++_e)if(!(qe[_e]||{}).hidden)switch(fe[_e]=wa(_e),_=Be?d[Ee][_e]:d[fe[_e]+de],k){case 1:O[_e]=_e-H.s.c;break;case 2:O[_e]=fe[_e];break;case 3:O[_e]=G.header[_e-H.s.c];break;default:if(R=v=Gl(_=_??{w:"__EMPTY",t:"s"},null,G),ve=Me[v]||0){for(;R=v+"_"+ve++,Me[R];);Me[v]=ve,Me[R]=1}else Me[v]=1;O[_e]=R}for(Ee=H.s.r+I;Ee<=H.e.r;++Ee)(ft[Ee]||{}).hidden||(He=fB(d,H,Ee,fe,k,O,Be,G)).isempty!==!1&&(k===1?G.blankrows===!1:!G.blankrows)||(me[Ae++]=He.row);return me.length=Ae,me}var hB=/"/g;function mB(d,x,v,_,k,I,O,R){for(var H=!0,G=[],te="",de=ja(v),fe=x.s.c;fe<=x.e.c;++fe)if(_[fe]){var me=R.dense?(d[v]||[])[fe]:d[_[fe]+de];if(me==null)te="";else if(me.v!=null){H=!1,te=""+(R.rawNumbers&&me.t=="n"?me.v:Gl(me,null,R));for(var Ae,ve=0;ve!==te.length;++ve)if((Ae=te.charCodeAt(ve))===k||Ae===I||Ae===34||R.forceQuotes){te='"'+te.replace(hB,'""')+'"';break}te=="ID"&&(te='"ID"')}else me.f==null||me.F?te="":(H=!1,0<=(te="="+me.f).indexOf(",")&&(te='"'+te.replace(hB,'""')+'"'));G.push(te)}return R.blankrows===!1&&H?null:G.join(O)}function mT(d,x){var v=[],_=x??{};if(d==null||d["!ref"]==null)return"";var k=Ia(d["!ref"]),I=_.FS!==void 0?_.FS:",",O=I.charCodeAt(0),R=_.RS!==void 0?_.RS:`
`,H=R.charCodeAt(0),G=new RegExp((I=="|"?"\\|":I)+"+$"),te="",de=[];_.dense=Array.isArray(d);for(var fe=_.skipHidden&&d["!cols"]||[],me=_.skipHidden&&d["!rows"]||[],Ae=k.s.c;Ae<=k.e.c;++Ae)(fe[Ae]||{}).hidden||(de[Ae]=wa(Ae));for(var ve=0,Be=k.s.r;Be<=k.e.r;++Be)(me[Be]||{}).hidden||(te=mB(d,k,Be,de,O,H,I,_))!=null&&(!(te=_.strip?te.replace(G,""):te)&&_.blankrows===!1||v.push((ve++?R:"")+te));return delete _.dense,v.join("")}function pB(d,x){return(x=x||{}).FS="	",x.RS=`
`,d=mT(d,x),a===void 0||x.type=="string"?d:(d=a.utils.encode(1200,d,"str"),String.fromCharCode(255)+String.fromCharCode(254)+d)}function gB(te,x,v){var _,k=v||{},I=+!k.skipHeader,O=te||{},R=0,H=0;O&&k.origin!=null&&(typeof k.origin=="number"?R=k.origin:(G=typeof k.origin=="string"?ni(k.origin):k.origin,R=G.r,H=G.c));var G,te={s:{c:0,r:0},e:{c:H,r:R+x.length-1+I}};O["!ref"]?(G=Ia(O["!ref"]),te.e.c=Math.max(te.e.c,G.e.c),te.e.r=Math.max(te.e.r,G.e.r),R==-1&&(R=G.e.r+1,te.e.r=R+x.length-1+I)):R==-1&&(R=0,te.e.r=x.length-1+I);var de=k.header||[],fe=0;x.forEach(function(Ae,ve){Xr(Ae).forEach(function(He){(fe=de.indexOf(He))==-1&&(de[fe=de.length]=He);var Ee=Ae[He],_e="z",Me="",He=kn({c:H+fe,r:R+ve+I});_=m3(O,He),!Ee||typeof Ee!="object"||Ee instanceof Date?(typeof Ee=="number"?_e="n":typeof Ee=="boolean"?_e="b":typeof Ee=="string"?_e="s":Ee instanceof Date?(_e="d",k.cellDates||(_e="n",Ee=sa(Ee)),Me=k.dateNF||ee[14]):Ee===null&&k.nullError&&(_e="e",Ee=0),_?(_.t=_e,_.v=Ee,delete _.w,delete _.R,Me&&(_.z=Me)):O[He]=_={t:_e,v:Ee},Me&&(_.z=Me)):O[He]=Ee})}),te.e.c=Math.max(te.e.c,H+de.length-1);var me=ja(R);if(I)for(fe=0;fe<de.length;++fe)O[wa(fe+H)+me]={t:"s",v:de[fe]};return O["!ref"]=Yn(te),O}function m3(d,x,v){return typeof x!="string"?m3(d,kn(typeof x!="number"?x:{r:x,c:v||0})):Array.isArray(d)?(v=ni(x),d[v.r]||(d[v.r]=[]),d[v.r][v.c]||(d[v.r][v.c]={t:"z"})):d[x]||(d[x]={t:"z"})}function pT(){return{SheetNames:[],Sheets:{}}}function gT(d,x,v,_){var k=1;if(!v)for(;k<=65535&&d.SheetNames.indexOf(v="Sheet"+k)!=-1;++k,v=void 0);if(!v||65535<=d.SheetNames.length)throw new Error("Too many worksheets");if(_&&0<=d.SheetNames.indexOf(v)){var _=v.match(/(^.*?)(\d+)$/),k=_&&+_[2]||0,I=_&&_[1]||v;for(++k;k<=65535&&d.SheetNames.indexOf(v=I+k)!=-1;++k);}if(O9(v),0<=d.SheetNames.indexOf(v))throw new Error("Worksheet with name |"+v+"| already exists!");return d.SheetNames.push(v),d.Sheets[v]=x,v}function xB(d,x,v){return x?(d.l={Target:x},v&&(d.l.Tooltip=v)):delete d.l,d}var p3,xT={encode_col:wa,encode_row:ja,encode_cell:kn,encode_range:Yn,decode_col:pc,decode_row:To,split_cell:function(d){return d.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:ni,decode_range:no,format_cell:Gl,sheet_add_aoa:Ji,sheet_add_json:gB,sheet_add_dom:H9,aoa_to_sheet:uu,json_to_sheet:function(d,x){return gB(null,d,x)},table_to_sheet:q9,table_to_book:function(d,x){return Kl(q9(d,x),x)},sheet_to_csv:mT,sheet_to_txt:pB,sheet_to_json:h3,sheet_to_html:W9,sheet_to_formulae:function(d){var x,v="",_="";if(d==null||d["!ref"]==null)return[];for(var k,I=Ia(d["!ref"]),O=[],R=[],H=Array.isArray(d),G=I.s.c;G<=I.e.c;++G)O[G]=wa(G);for(var te=I.s.r;te<=I.e.r;++te)for(k=ja(te),G=I.s.c;G<=I.e.c;++G)if(v=O[G]+k,_="",(x=H?(d[te]||[])[G]:d[v])!==void 0){if(x.F!=null){if(v=x.F,!x.f)continue;_=x.f,v.indexOf(":")==-1&&(v=v+":"+v)}if(x.f!=null)_=x.f;else{if(x.t=="z")continue;if(x.t=="n"&&x.v!=null)_=""+x.v;else if(x.t=="b")_=x.v?"TRUE":"FALSE";else if(x.w!==void 0)_="'"+x.w;else{if(x.v===void 0)continue;_=x.t=="s"?"'"+x.v:""+x.v}}R[R.length]=v+"="+_}return R},sheet_to_row_object_array:h3,sheet_get_cell:m3,book_new:pT,book_append_sheet:gT,book_set_sheet_visibility:function(d,x,v){switch(d.Workbook||(d.Workbook={}),d.Workbook.Sheets||(d.Workbook.Sheets=[]),x=function(_,k){if(typeof k=="number"){if(0<=k&&_.SheetNames.length>k)return k;throw new Error("Cannot find sheet # "+k)}if(typeof k!="string")throw new Error("Cannot find sheet |"+k+"|");if(-1<(_=_.SheetNames.indexOf(k)))return _;throw new Error("Cannot find sheet name |"+k+"|")}(d,x),d.Workbook.Sheets[x]||(d.Workbook.Sheets[x]={}),v){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+v)}d.Workbook.Sheets[x].Hidden=v},cell_set_number_format:function(d,x){return d.z=x,d},cell_set_hyperlink:xB,cell_set_internal_link:function(d,x,v){return xB(d,"#"+x,v)},cell_add_comment:function(d,x,v){d.c||(d.c=[]),d.c.push({t:x,a:v||"SheetJS"})},sheet_set_array_formula:function(d,x,v,_){for(var k=typeof x!="string"?x:Ia(x),I=typeof x=="string"?x:Yn(x),O=k.s.r;O<=k.e.r;++O)for(var R=k.s.c;R<=k.e.c;++R){var H=m3(d,O,R);H.t="n",H.F=I,delete H.v,O==k.s.r&&R==k.s.c&&(H.f=v,_&&(H.D=!0))}return d},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function vB(d){p3=d}var nv={to_json:function(d,x){var v=p3({objectMode:!0});if(d==null||d["!ref"]==null)return v.push(null),v;var _,k={t:"n",v:0},I=0,O=1,R=[],H="",G={s:{r:0,c:0},e:{r:0,c:0}},te=x||{},de=te.range!=null?te.range:d["!ref"];switch(te.header===1?I=1:te.header==="A"?I=2:Array.isArray(te.header)&&(I=3),typeof de){case"string":G=Ia(de);break;case"number":(G=Ia(d["!ref"])).s.r=de;break;default:G=de}0<I&&(O=0);var fe=ja(G.s.r),me=[],Ae=0,ve=Array.isArray(d),Be=G.s.r,Ee=0,_e={};ve&&!d[Be]&&(d[Be]=[]);for(var Me=te.skipHidden&&d["!cols"]||[],He=te.skipHidden&&d["!rows"]||[],Ee=G.s.c;Ee<=G.e.c;++Ee)if(!(Me[Ee]||{}).hidden)switch(me[Ee]=wa(Ee),k=ve?d[Be][Ee]:d[me[Ee]+fe],I){case 1:R[Ee]=Ee-G.s.c;break;case 2:R[Ee]=me[Ee];break;case 3:R[Ee]=te.header[Ee-G.s.c];break;default:if(H=_=Gl(k=k??{w:"__EMPTY",t:"s"},null,te),Ae=_e[_]||0){for(;H=_+"_"+Ae++,_e[H];);_e[_]=Ae,_e[H]=1}else _e[_]=1;R[Ee]=H}return Be=G.s.r+O,v._read=function(){for(;Be<=G.e.r;)if(!(He[Be-1]||{}).hidden){var qe=fB(d,G,Be,me,I,R,ve,te);if(++Be,qe.isempty===!1||(I===1?te.blankrows!==!1:te.blankrows))return void v.push(qe.row)}return v.push(null)},v},to_html:function(d,k){var v=p3(),_=k||{},k=_.header!=null?_.header:U9,I=_.footer!=null?_.footer:z9;v.push(k);var O=no(d["!ref"]);_.dense=Array.isArray(d),v.push(V9(0,0,_));var R=O.s.r,H=!1;return v._read=function(){if(R>O.e.r)return H||(H=!0,v.push("</table>"+I)),v.push(null);for(;R<=O.e.r;){v.push($9(d,O,R,_)),++R;break}},v},to_csv:function(d,x){var v=p3(),_=x??{};if(d==null||d["!ref"]==null)return v.push(null),v;var k=Ia(d["!ref"]),I=_.FS!==void 0?_.FS:",",O=I.charCodeAt(0),R=_.RS!==void 0?_.RS:`
`,H=R.charCodeAt(0),G=new RegExp((I=="|"?"\\|":I)+"+$"),te="",de=[];_.dense=Array.isArray(d);for(var fe=_.skipHidden&&d["!cols"]||[],me=_.skipHidden&&d["!rows"]||[],Ae=k.s.c;Ae<=k.e.c;++Ae)(fe[Ae]||{}).hidden||(de[Ae]=wa(Ae));var ve=k.s.r,Be=!1,Ee=0;return v._read=function(){if(!Be)return Be=!0,v.push("\uFEFF");for(;ve<=k.e.r;)if(++ve,!(me[ve-1]||{}).hidden&&(te=mB(d,k,ve-1,de,O,H,I,_),te!=null&&((te=_.strip?te.replace(G,""):te)||_.blankrows!==!1)))return v.push((Ee++?R:"")+te);return v.push(null)},v},set_readable:vB},ji=function(){function d(x,v,_){return this instanceof d?(this.tagName=x,this._attributes=v||{},this._children=_||[],this._prefix="",this):new d(x,v,_)}return d.prototype.createElement=function(){return new d(arguments)},d.prototype.children=function(){return this._children},d.prototype.append=function(x){return this._children.push(x),this},d.prototype.prefix=function(x){return arguments.length==0?this._prefix:(this._prefix=x,this)},d.prototype.attr=function(x,v){if(v==null)return delete this._attributes[x],this;if(arguments.length==0)return this._attributes;if(typeof x=="string"&&arguments.length==1)return this._attributes.attr[x];if(typeof x=="object"&&arguments.length==1)for(var _ in x)this._attributes[_]=x[_];else arguments.length==2&&typeof x=="string"&&(this._attributes[x]=v);return this},d.prototype.escapeAttributeValue=function(x){return'"'+x.replace(/\"/g,"&quot;")+'"'},d.prototype.toXml=function(x){var v=(x=x||this)._prefix;if(v+="<"+x.tagName,x._attributes)for(var _ in x._attributes)v+=" "+_+"="+this.escapeAttributeValue(""+x._attributes[_]);if(x._children&&0<x._children.length){v+=">";for(var k=0;k<x._children.length;k++)v+=this.toXml(x._children[k]);v+="</"+x.tagName+">"}else v+="/>";return v},d}(),Yme=function(d){var x,v=164,_={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},k={};for(x in _)k[_[x]]=x;var I={};return{initialize:function(O){this.$fonts=ji("fonts").attr("count",0).attr("x14ac:knownFonts","1"),this.$fills=ji("fills").attr("count",0),this.$borders=ji("borders").attr("count",0),this.$numFmts=ji("numFmts").attr("count",0),this.$cellStyleXfs=ji("cellStyleXfs"),this.$xf=ji("xf").attr("numFmtId",0).attr("fontId",0).attr("fillId",0).attr("borderId",0),this.$cellXfs=ji("cellXfs").attr("count",0),this.$cellStyles=ji("cellStyles").append(ji("cellStyle").attr("name","Normal").attr("xfId",0).attr("builtinId",0)),this.$dxfs=ji("dxfs").attr("count","0"),this.$tableStyles=ji("tableStyles").attr("count","0").attr("defaultTableStyle","TableStyleMedium9").attr("defaultPivotStyle","PivotStyleMedium4"),this.$styles=ji("styleSheet").attr("xmlns:mc","http://schemas.openxmlformats.org/markup-compatibility/2006").attr("xmlns:x14ac","http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac").attr("xmlns","http://schemas.openxmlformats.org/spreadsheetml/2006/main").attr("mc:Ignorable","x14ac").prefix('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>').append(this.$numFmts).append(this.$fonts).append(this.$fills).append(this.$borders).append(this.$cellStyleXfs.append(this.$xf)).append(this.$cellXfs).append(this.$cellStyles).append(this.$dxfs).append(this.$tableStyles);var R=O.defaultCellStyle||{};return R.font||(R.font={name:"Calibri",sz:"11"}),R.font.name||(R.font.name="Calibri"),R.font.sz||(R.font.sz=11),R.fill||(R.fill={patternType:"none",fgColor:{}}),R.border||(R.border={}),R.numFmt||(R.numFmt=0),this.defaultStyle=R,O=JSON.parse(JSON.stringify(R)),O.fill={patternType:"gray125",fgColor:{}},this.addStyles([R,O]),this},addStyle:function(O){var R=JSON.stringify(O),H=I[R];return H==null?(H=this._addXf(O),I[R]=H):H=I[R],H},addStyles:function(O){var R=this;return O.map(function(H){return R.addStyle(H)})},_duckTypeStyle:function(O){return typeof O=="object"&&(O.patternFill||O.fgColor)?{fill:O}:O.font||O.numFmt||O.border||O.fill?O:this._getStyleCSS(O)},_getStyleCSS:function(O){return O},_addXf:function(O){var R=this._addFont(O.font),H=this._addFill(O.fill),G=this._addBorder(O.border),te=this._addNumFmt(O.numFmt),de=ji("xf").attr("numFmtId",te).attr("fontId",R).attr("fillId",H).attr("borderId",G).attr("xfId","0");return 0<R&&de.attr("applyFont","1"),0<H&&de.attr("applyFill","1"),0<G&&de.attr("applyBorder","1"),0<te&&de.attr("applyNumberFormat","1"),O.alignment&&(te=ji("alignment"),O.alignment.horizontal&&te.attr("horizontal",O.alignment.horizontal),O.alignment.vertical&&te.attr("vertical",O.alignment.vertical),O.alignment.indent&&te.attr("indent",O.alignment.indent),O.alignment.readingOrder&&te.attr("readingOrder",O.alignment.readingOrder),O.alignment.wrapText&&te.attr("wrapText",O.alignment.wrapText),O.alignment.textRotation!=null&&te.attr("textRotation",O.alignment.textRotation),de.append(te).attr("applyAlignment",1)),this.$cellXfs.append(de),de=+this.$cellXfs.children().length,this.$cellXfs.attr("count",de),de-1},_addFont:function(O){if(!O)return 0;var R=ji("font").append(ji("sz").attr("val",O.sz||this.defaultStyle.font.sz)).append(ji("name").attr("val",O.name||this.defaultStyle.font.name));return O.bold&&R.append(ji("b")),O.underline&&R.append(ji("u")),O.italic&&R.append(ji("i")),O.strike&&R.append(ji("strike")),O.outline&&R.append(ji("outline")),O.shadow&&R.append(ji("shadow")),O.vertAlign&&R.append(ji("vertAlign").attr("val",O.vertAlign)),O.color&&(O.color.theme?(R.append(ji("color").attr("theme",O.color.theme)),O.color.tint&&R.append(ji("tint").attr("theme",O.color.tint))):O.color.rgb&&R.append(ji("color").attr("rgb",O.color.rgb))),this.$fonts.append(R),R=this.$fonts.children().length,this.$fonts.attr("count",R),R-1},_addNumFmt:function(O){if(!O)return 0;if(typeof O=="string"){var R=k[O];if(0<=R)return R}return/^[0-9]+$/.exec(O)?O:(O=O.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),O=ji("numFmt").attr("numFmtId",++v).attr("formatCode",O),this.$numFmts.append(O),O=this.$numFmts.children().length,this.$numFmts.attr("count",O),v)},_addFill:function(O){if(!O)return 0;var R,H=ji("patternFill").attr("patternType",O.patternType||"solid");return O.fgColor&&(R=ji("fgColor"),O.fgColor.rgb?(O.fgColor.rgb.length==6&&(O.fgColor.rgb="FF"+O.fgColor.rgb),R.attr("rgb",O.fgColor.rgb),H.append(R)):O.fgColor.theme&&(R.attr("theme",O.fgColor.theme),O.fgColor.tint&&R.attr("tint",O.fgColor.tint),H.append(R)),O.bgColor||(O.bgColor={indexed:"64"})),O.bgColor&&(O=ji("bgColor").attr(O.bgColor),H.append(O)),H=ji("fill").append(H),this.$fills.append(H),H=this.$fills.children().length,this.$fills.attr("count",H),H-1},_getSubBorder:function(O,R){var H=ji(O);return R&&(H.attr("style",R.style||"medium"),R.color&&(O=ji("color"),R.color.auto?O.attr("auto",R.color.auto):R.color.rgb?O.attr("rgb",R.color.rgb):(R.color.theme||R.color.tint)&&(O.attr("theme",R.color.theme||"1"),O.attr("tint",R.color.tint||"0")),H.append(O))),H},_addBorder:function(O){if(!O)return 0;var R=this,H=ji("border").attr("diagonalUp",O.diagonalUp).attr("diagonalDown",O.diagonalDown);["left","right","top","bottom","diagonal"].forEach(function(te){H.append(R._getSubBorder(te,O[te]))}),this.$borders.append(H);var G=this.$borders.children().length;return this.$borders.attr("count",G),G-1},toXml:function(){return this.$styles.toXml()}}.initialize(d||{})};c3!==void 0&&(i.parse_xlscfb=c3),i.parse_zip=iB,i.read=u3,i.readFile=lB,i.readFileSync=lB,i.write=f3,i.writeFile=dB,i.writeFileSync=dB,i.writeFileAsync=function(d,x,v,_){var k=v||{};return k.type="file",k.file=d,hT(k),k.type="buffer",_ instanceof Function||(_=v),Wi.writeFile(d,f3(x,k),_)},i.utils=xT,i.writeXLSX=fT,i.writeFileXLSX=function(d,x,v){return(v=v||{}).type="file",v.file=x,hT(v),fT(d,v)},i.SSF=ol,nv!==void 0&&(i.stream=nv),yr!==void 0&&(i.CFB=yr),typeof fS>"u"||((nv=Ok)||{}).Readable&&vB(nv.Readable)}if(n(t),typeof window<"u"&&!window.XLSX)try{window.XLSX=r}catch{}})(PF,PF.exports);var qc=PF.exports;const wfe=({data:e,headers:t,sheetName:r="Export",fileName:n="export.xlsx"})=>{const i=[t.map(g=>g.label),...e.map(g=>t.map(p=>g[p.key]??""))],a=qc.utils.aoa_to_sheet(i),o={font:{name:"Poppins",bold:!0},alignment:{horizontal:"center",vertical:"center"},fill:{fgColor:{rgb:"EFEAFF"}},border:{bottom:{style:"medium",color:{rgb:"B3A4F2"}},top:{style:"thin",color:{rgb:"DDDDDD"}},left:{style:"thin",color:{rgb:"DDDDDD"}},right:{style:"thin",color:{rgb:"DDDDDD"}}}},l={font:{name:"Poppins"},alignment:{horizontal:"left",vertical:"center"},border:{bottom:{style:"thin",color:{rgb:"DDDDDD"}},top:{style:"thin",color:{rgb:"DDDDDD"}},left:{style:"thin",color:{rgb:"DDDDDD"}},right:{style:"thin",color:{rgb:"DDDDDD"}}}},c={...l,fill:{fgColor:{rgb:"FAFAFA"}}},u=qc.utils.decode_range(a["!ref"]);for(let g=u.s.c;g<=u.e.c;++g){const p=qc.utils.encode_cell({r:0,c:g});a[p].s=o;for(let S=1;S<=u.e.r;++S){const b=qc.utils.encode_cell({r:S,c:g});a[b]&&(a[b].s=S%2===0?c:l)}}const f=t.map((g,p)=>{const S=[g.label,...e.map(b=>b[g.key]??"")];return{wch:Math.max(...S.map(b=>String(b).length))+2}});a["!cols"]=f,a["!autofilter"]={ref:qc.utils.encode_range(u)},a["!freeze"]={ySplit:1,state:"frozen"};const h=qc.utils.book_new();qc.utils.book_append_sheet(h,a,r),qc.writeFile(h,n)},XK=({events:e,onRefresh:t})=>{const[r,n]=j.useState(e),[i,a]=j.useState(""),[o,l]=j.useState("all"),[c,u]=j.useState("all"),[f,h]=j.useState(null),[g,p]=j.useState(!1),[S,b]=j.useState(!1),N=Sa();j.useEffect(()=>{let B=e;if(i){const M=i.toLowerCase();B=B.filter(W=>{var z,Z,K,q;return((z=W.title)==null?void 0:z.toLowerCase().includes(M))||((Z=W.city)==null?void 0:Z.toLowerCase().includes(M))||((q=(K=W.organizer)==null?void 0:K.full_name)==null?void 0:q.toLowerCase().includes(M))})}o!=="all"&&(B=B.filter(M=>M.status===o)),c!=="all"&&(B=B.filter(M=>M.event_type===c)),n(B)},[i,o,c,e]);const C=async B=>{const M=B.status==="active"?"inactive":"active";try{const{error:W}=await Ze.from("events").update({status:M}).eq("id",B.id);if(W)throw W;lt({title:"Statut mis  jour",description:`L'vnement est maintenant ${M==="active"?"actif":"inactif"}.`}),t&&t()}catch(W){lt({title:"Erreur",description:W.message,variant:"destructive"})}},A=async()=>{if(f){b(!0);try{const B=e.find(W=>W.id===f);if(B&&B.cover_image){const W=zD(B.cover_image);if(W){const{error:z}=await Ze.storage.from(W.bucket).remove([W.path]);z&&console.warn("Storage cleanup warning:",z)}}const{error:M}=await Ze.rpc("delete_event_completely",{p_event_id:f});if(M)throw M;lt({title:"vnement supprim",description:"L'vnement et toutes ses donnes associes ont t supprims."}),t&&t(),p(!1),h(null)}catch(B){console.error("Delete error:",B),lt({title:"Erreur critique",description:"Impossible de supprimer l'vnement. "+B.message,variant:"destructive"})}finally{b(!1)}}},T=()=>{if(!r||r.length===0){lt({title:"Aucune donne",description:"Rien  exporter pour le moment.",variant:"destructive"});return}const B=r.map(M=>{var W;return{ID:M.id,Titre:M.title,Type:M.event_type,Organisateur:((W=M.organizer)==null?void 0:W.full_name)||"Inconnu",Date:new Date(M.event_date).toLocaleString("fr-FR"),Lieu:`${M.city}, ${M.country}`,Statut:M.status,Prix_Pi:M.price_pi,Vues:M.views_count,Interactions:M.interactions_count}});wfe({data:B,fileName:`export_evenements_${new Date().toISOString().split("T")[0]}.xlsx`,sheetName:"vnements"}),lt({title:"Exportation russie"})},F=B=>{switch(B){case"ticketing":return s.jsxs(Vr,{variant:"outline",className:"border-blue-500 text-blue-500",children:[s.jsx(el,{className:"w-3 h-3 mr-1"})," Billetterie"]});case"voting":return s.jsxs(Vr,{variant:"outline",className:"border-green-500 text-green-500",children:[s.jsx(e1,{className:"w-3 h-3 mr-1"})," Vote"]});case"raffle":return s.jsxs(Vr,{variant:"outline",className:"border-purple-500 text-purple-500",children:[s.jsx(qg,{className:"w-3 h-3 mr-1"})," Tombola"]});case"stand_rental":return s.jsxs(Vr,{variant:"outline",className:"border-orange-500 text-orange-500",children:[s.jsx(S0,{className:"w-3 h-3 mr-1"})," Stands"]});case"protected":return s.jsxs(Vr,{variant:"outline",className:"border-red-500 text-red-500",children:[s.jsx(nc,{className:"w-3 h-3 mr-1"})," Protg"]});default:return s.jsxs(Vr,{variant:"outline",className:"border-gray-500 text-gray-500",children:[s.jsx(Nu,{className:"w-3 h-3 mr-1"})," Standard"]})}},L=B=>{switch(B){case"active":return"success";case"inactive":return"secondary";case"completed":return"default";default:return"outline"}};return s.jsxs(Yt,{className:"glass-effect shadow-lg border-none",children:[s.jsxs(Wr,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 border-b border-border/10 pb-6",children:[s.jsxs("div",{children:[s.jsx(qr,{className:"text-2xl font-bold",children:"Gestion des vnements"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Grez tous les types d'vnements de la plateforme"})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[s.jsx(ze,{onClick:t,variant:"ghost",size:"sm",children:s.jsx(Zt,{className:"h-4 w-4 "})}),s.jsxs(ze,{onClick:T,variant:"outline",size:"sm",className:"ml-auto",children:[s.jsx(Fm,{className:"mr-2 h-4 w-4"})," Exporter"]})]})]}),s.jsxs(Qt,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 mb-6",children:[s.jsxs("div",{className:"md:col-span-5 relative",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher (titre, ville, organisateur)...",value:i,onChange:B=>a(B.target.value),className:"pl-10"})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs(_i,{value:c,onValueChange:u,children:[s.jsx(gi,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(JD,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(Ni,{placeholder:"Type d'vnement"})]})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Tous les types"}),s.jsx(on,{value:"standard",children:"Standard"}),s.jsx(on,{value:"protected",children:"Protg"}),s.jsx(on,{value:"ticketing",children:"Billetterie"}),s.jsx(on,{value:"voting",children:"Vote"}),s.jsx(on,{value:"raffle",children:"Tombola"}),s.jsx(on,{value:"stand_rental",children:"Location Stands"})]})]})}),s.jsx("div",{className:"md:col-span-4",children:s.jsxs(_i,{value:o,onValueChange:l,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Statut"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Tous les statuts"}),s.jsx(on,{value:"active",children:"Actif"}),s.jsx(on,{value:"inactive",children:"Inactif"}),s.jsx(on,{value:"completed",children:"Termin"})]})]})})]}),s.jsx("div",{className:"rounded-md border border-border/50 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{className:"text-left text-muted-foreground border-b border-border/50",children:[s.jsx("th",{className:"p-4 font-medium",children:"vnement"}),s.jsx("th",{className:"p-4 font-medium hidden md:table-cell",children:"Type"}),s.jsx("th",{className:"p-4 font-medium hidden sm:table-cell",children:"Organisateur"}),s.jsx("th",{className:"p-4 font-medium hidden lg:table-cell",children:"Lieu & Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-border/50",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-8 text-center text-muted-foreground",children:"Aucun vnement trouv pour ces critres."})}):r.map(B=>{var M;return s.jsxs("tr",{className:"hover:bg-muted/20 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-foreground line-clamp-1",children:B.title}),s.jsx("span",{className:"text-xs text-muted-foreground md:hidden",children:new Date(B.event_date).toLocaleDateString()})]})}),s.jsx("td",{className:"p-4 hidden md:table-cell",children:F(B.event_type)}),s.jsx("td",{className:"p-4 hidden sm:table-cell text-muted-foreground",children:((M=B.organizer)==null?void 0:M.full_name)||"Inconnu"}),s.jsx("td",{className:"p-4 hidden lg:table-cell",children:s.jsxs("div",{className:"flex flex-col text-xs text-muted-foreground",children:[s.jsx("span",{children:new Date(B.event_date).toLocaleDateString("fr-FR")}),s.jsxs("span",{children:[B.city,", ",B.country]})]})}),s.jsx("td",{className:"p-4",children:s.jsx(Vr,{variant:L(B.status),className:B.status==="active"?"bg-green-500/15 text-green-600 hover:bg-green-500/25 border-green-500/20":"",children:B.status==="active"?"Actif":B.status==="inactive"?"Inactif":B.status})}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs(Y4,{children:[s.jsx(X4,{asChild:!0,children:s.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted",children:s.jsx(k2e,{className:"h-4 w-4"})})}),s.jsxs(By,{align:"end",children:[s.jsx(J4,{children:"Actions"}),s.jsx(s1,{}),s.jsxs(Qu,{onClick:()=>N(`/event/${B.id}`),children:[s.jsx(Dm,{className:"mr-2 h-4 w-4"})," Voir dtails"]}),s.jsx(Qu,{onClick:()=>C(B),children:B.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(iQ,{className:"mr-2 h-4 w-4"})," Dsactiver"]}):s.jsxs(s.Fragment,{children:[s.jsx(sQ,{className:"mr-2 h-4 w-4"})," Activer"]})}),s.jsx(s1,{}),s.jsxs(Qu,{className:"text-red-600 focus:text-red-600 focus:bg-red-50 dark:focus:bg-red-950/20",onClick:()=>{h(B.id),p(!0)},children:[s.jsx(Vo,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})})]},B.id)})})]})})}),s.jsx(nl,{open:g,onOpenChange:p,children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Suppression dfinitive"}),s.jsxs(Ko,{children:["Cette action supprimera l'vnement slectionn ainsi que ",s.jsx("strong",{children:"tous les billets, votes, commentaires et statistiques associs"}),". Cette action est irrversible."]})]}),s.jsxs(al,{children:[s.jsx(sl,{disabled:S,children:"Annuler"}),s.jsx(il,{onClick:A,className:"bg-destructive hover:bg-destructive/90",disabled:S,children:S?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):"Confirmer la suppression"})]})]})})]})]})},JK=({promotions:e,onRefresh:t})=>{const r=Sa(),[n,i]=j.useState(e),[a,o]=j.useState("all"),[l,c]=j.useState(""),[,u]=j.useState(0);j.useEffect(()=>{const p=setInterval(()=>u(S=>S+1),6e4);return()=>clearInterval(p)},[]),j.useEffect(()=>{let p=e;if(l&&(p=p.filter(S=>{var b,N,C;return S.title.toLowerCase().includes(l.toLowerCase())||((N=(b=S.organizer)==null?void 0:b.full_name)==null?void 0:N.toLowerCase().includes(l.toLowerCase()))||((C=S.description)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))})),a!=="all"){const S=new Date().toISOString();a==="active"?p=p.filter(b=>b.pack_expires_at>S&&b.status==="active"):a==="expired"?p=p.filter(b=>b.pack_expires_at<=S):a==="inactive"&&(p=p.filter(b=>b.status!=="active"))}i(p)},[e,l,a]);const f=async(p,S)=>{try{const b=S==="active"?"cancelled":"active",{error:N}=await Ze.from("event_promotions").update({status:b,cancelled_at:b==="cancelled"?new Date().toISOString():null}).eq("id",p);if(N)throw N;lt({title:"Statut de la promotion mis  jour"}),t()}catch(b){console.error("Error updating promotion status:",b),lt({title:"Erreur lors de la mise  jour",variant:"destructive"})}},h=async p=>{if(window.confirm("tes-vous sr de vouloir supprimer cette promotion ? Cette action est irrversible."))try{const{error:S}=await Ze.from("event_promotions").delete().eq("id",p);if(S)throw S;lt({title:"Promotion supprime avec succs"}),t()}catch(S){console.error("Error deleting promotion:",S),lt({title:"Erreur lors de la suppression",variant:"destructive"})}},g=({endDate:p})=>{const[S,b]=j.useState("");return j.useEffect(()=>{const N=()=>{const A=new Date(p)-new Date;if(A<=0){b("Expir");return}const T=Math.floor(A/(1e3*60*60*24)),F=Math.floor(A/(1e3*60*60)%24);b(`${T}j ${F}h restants`)};N();const C=setInterval(N,6e4);return()=>clearInterval(C)},[p]),s.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[s.jsx(jh,{className:"w-3 h-3"})," ",S]})};return s.jsxs(Yt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsx(Wr,{children:s.jsx(qr,{className:"text-white",children:" Gestion des Promotions"})}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(rr,{type:"text",placeholder:"Rechercher une promotion...",className:"pl-10 w-full",value:l,onChange:p=>c(p.target.value)})]}),s.jsxs(_i,{value:a,onValueChange:o,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Toutes les promotions"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Toutes les promotions"}),s.jsx(on,{value:"active",children:"Actives"}),s.jsx(on,{value:"expired",children:"Expires"}),s.jsx(on,{value:"inactive",children:"Inactives/Annules"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-background/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:"Promotion (vnement)"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Organisateur"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Cot"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:n.map(p=>{var N;const S=new Date(p.pack_expires_at)<new Date,b=p.status==="active"&&!S;return s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-semibold text-white",children:p.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Pack: ",p.pack_name]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"text-white",children:(N=p.organizer)==null?void 0:N.full_name})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-bold text-primary",children:p.cost_pi})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold w-fit ${b?"bg-green-500/20 text-green-400":S?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:b?"Active":S?"Expire":"Inactive/Annule"}),s.jsx(g,{endDate:p.pack_expires_at})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ze,{size:"icon",variant:"ghost",onClick:()=>r(`/event/${p.event_id}`),children:s.jsx(Dm,{className:"w-4 h-4"})}),s.jsx(ze,{size:"icon",variant:"ghost",className:b?"text-yellow-500":"text-green-500",onClick:()=>f(p.id,p.status),children:b?s.jsx(D2e,{className:"w-4 h-4"}):s.jsx(D2,{className:"w-4 h-4"})}),s.jsx(ze,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>h(p.id),children:s.jsx(Vo,{className:"w-4 h-4"})})]})})]},p.id)})})]})})]})]})},imt=({popups:e,onRefresh:t})=>{const{user:r}=bn(),{toast:n}=js(),[i,a]=j.useState(e||[]),[o,l]=j.useState(!1),[c,u]=j.useState(null),[f,h]=j.useState(!1),[g,p]=j.useState(!1),[S,b]=j.useState(!1),[N,C]=j.useState(null),[A,T]=j.useState(null),[F,L]=j.useState({alt_text:"",image_url:"",is_active:!0});j.useEffect(()=>{!e||e.length===0?B():a(e)},[e]);const B=async()=>{l(!0);try{const{data:ae,error:X}=await Ze.from("welcome_popups").select("*").order("created_at",{ascending:!1});if(X)throw X;a(ae||[])}catch(ae){console.error("Erreur lors du chargement des popups:",ae),n({title:"Erreur",description:"Impossible de charger les popups.",variant:"destructive"})}finally{l(!1)}},M=async()=>{await B(),t&&t()},W=()=>{u(null),h(!1),T(null),L({alt_text:"",image_url:"",is_active:!0})},z=ae=>{u(ae),L({alt_text:ae.alt_text||"",image_url:ae.image_url||"",is_active:ae.is_active}),h(!0)},Z=async ae=>{ae.preventDefault(),p(!0);try{let X=F.image_url;if(A){const we=A.name.split(".").pop(),Q=`welcome-popups/${`popup_${Date.now()}.${we}`}`;console.log("Tlversement du fichier:",Q);const{error:le}=await Ze.storage.from("media").upload(Q,A,{cacheControl:"3600",upsert:!1});if(le)throw le;const{data:ne}=Ze.storage.from("media").getPublicUrl(Q);X=ne.publicUrl,console.log("URL publique gnre:",X)}if(!X&&!F.image_url)throw new Error("L'URL de l'image ou un fichier tlvers est requis.");const se={alt_text:F.alt_text||"",image_url:X||F.image_url,is_active:F.is_active,uploaded_by:r.id,updated_at:new Date().toISOString()};console.log("Donnes  sauvegarder:",se);let he;c?he=await Ze.from("welcome_popups").update(se).eq("id",c.id).select():he=await Ze.from("welcome_popups").insert(se).select();const{data:ce,error:ge}=he;if(ge)throw console.error("Erreur Supabase:",ge),ge;console.log("Popup sauvegard avec succs:",ce),n({title:"Succs",description:`Popup ${c?"mis  jour":"cr"} avec succs.`}),W(),await M()}catch(X){console.error("Erreur de sauvegarde:",X),n({title:"Erreur",description:`La sauvegarde a chou: ${X.message}`,variant:"destructive"})}finally{p(!1)}},K=ae=>{C(ae),b(!0)},q=async()=>{if(N)try{const{error:ae}=await Ze.from("welcome_popups").delete().eq("id",N);if(ae)throw ae;n({title:"Succs",description:"Popup supprim avec succs."}),a(X=>X.filter(se=>se.id!==N)),t&&t()}catch(ae){console.error("Erreur de suppression:",ae),n({title:"Erreur",description:"La suppression a chou.",variant:"destructive"})}finally{b(!1),C(null)}},ie=async ae=>{try{const{error:X}=await Ze.from("welcome_popups").update({is_active:!ae.is_active,updated_at:new Date().toISOString()}).eq("id",ae.id);if(X)throw X;n({title:"Succs",description:`Popup ${ae.is_active?"dsactiv":"activ"}.`}),a(se=>se.map(he=>he.id===ae.id?{...he,is_active:!ae.is_active}:he)),t&&t()}catch(X){console.error("Erreur de changement de statut:",X),n({title:"Erreur",description:"Le changement de statut a chou.",variant:"destructive"})}};return s.jsxs(Yt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between",children:[s.jsx(qr,{className:"text-white",children:" Gestion des Popups de Bienvenue"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ze,{onClick:M,variant:"outline",size:"sm",disabled:o,className:"flex items-center gap-2",children:[s.jsx(Fu,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Actualiser"]}),s.jsxs(ze,{onClick:()=>{W(),h(!0)},className:"flex items-center gap-2",children:[s.jsx(A_,{className:"w-4 h-4"}),"Nouveau Popup"]})]})]}),s.jsxs(Qt,{children:[f&&s.jsxs("form",{onSubmit:Z,className:"space-y-4 mb-8 p-4 border border-border/50 rounded-xl shadow-inner bg-background/30",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:c?" Modifier le Popup":" Ajouter un Popup"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"alt_text",className:"text-white",children:"Texte alternatif (pour le SEO)"}),s.jsx(rr,{id:"alt_text",value:F.alt_text,onChange:ae=>L({...F,alt_text:ae.target.value}),placeholder:"Description de l'image",className:"bg-white/10 border-white/20 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"image_url",className:"text-white",children:"URL de l'image (ou tlverser)"}),s.jsx(rr,{id:"image_url",value:F.image_url,onChange:ae=>L({...F,image_url:ae.target.value}),placeholder:"https://...",className:"bg-white/10 border-white/20 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"file-upload",className:"text-white",children:"Tlverser une image"}),s.jsx(rr,{id:"file-upload",type:"file",accept:"image/*",onChange:ae=>T(ae.target.files[0]),className:"bg-white/10 border-white/20 text-white file:text-white"}),A&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:"text-sm text-green-300",children:["Fichier slectionn: ",A.name]}),s.jsx("img",{src:URL.createObjectURL(A),alt:"Aperu",className:"w-32 h-32 object-contain mt-2 rounded border border-white/20"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Su,{id:"is_active",checked:F.is_active,onCheckedChange:ae=>L({...F,is_active:ae}),className:"data-[state=checked]:bg-primary"}),s.jsx(kt,{htmlFor:"is_active",className:"text-white cursor-pointer",children:"Actif"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-white/20",children:[s.jsx(ze,{type:"button",variant:"ghost",onClick:W,className:"text-white hover:bg-white/20",children:"Annuler"}),s.jsxs(ze,{type:"submit",disabled:g||!F.image_url&&!A,className:"bg-primary hover:bg-primary/90",children:[g&&s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Mettre  jour":"Enregistrer"]})]})]}),o?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-white",children:"Chargement des popups..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-white/20 rounded-xl",children:[s.jsx("p",{className:"text-white/70 mb-4",children:"Aucun popup de bienvenue configur"}),s.jsxs(ze,{onClick:()=>{W(),h(!0)},variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:[s.jsx(A_,{className:"w-4 h-4 mr-2"}),"Crer votre premier popup"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(ae=>s.jsxs("div",{className:`flex flex-col p-4 rounded-xl shadow-sm gap-4 transition-all ${ae.is_active?"bg-gradient-to-br from-green-900/20 to-green-900/5 border border-green-500/30":"bg-gradient-to-br from-red-900/20 to-red-900/5 border border-red-500/30"}`,children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${ae.is_active?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:`text-sm font-medium ${ae.is_active?"text-green-300":"text-red-300"}`,children:ae.is_active?"Actif":"Inactif"})]}),s.jsx("span",{className:"text-xs text-white/50",children:new Date(ae.created_at).toLocaleDateString()})]}),s.jsx("div",{className:"relative w-full h-48 mb-3",children:s.jsx("img",{src:ae.image_url,alt:ae.alt_text,className:"w-full h-full object-cover rounded-lg",onError:X=>{X.target.src="https://placehold.co/400x300/1a1a2e/ffffff?text=Image+non+charge"}})}),s.jsx("p",{className:"font-medium text-white mb-1 truncate",children:ae.alt_text||"Image sans description"}),s.jsxs("p",{className:"text-xs text-white/60 truncate",children:["URL: ",ae.image_url.substring(0,30),"..."]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>ie(ae),className:"h-8 w-8 hover:bg-white/20",title:ae.is_active?"Dsactiver":"Activer",children:ae.is_active?s.jsx(r7,{className:"h-4 w-4 text-yellow-400"}):s.jsx(n7,{className:"h-4 w-4 text-green-400"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>z(ae),className:"h-8 w-8 hover:bg-white/20",title:"Modifier",children:s.jsx(C_,{className:"h-4 w-4 text-blue-400"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>K(ae.id),className:"h-8 w-8 hover:bg-white/20",title:"Supprimer",children:s.jsx(Vo,{className:"h-4 w-4 text-red-400"})})]}),s.jsxs("span",{className:"text-xs text-white/40",children:["ID: ",ae.id.substring(0,8),"..."]})]})]},ae.id))}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 pt-4 border-t border-white/10",children:[s.jsxs("div",{children:["Total: ",i.length," popup",i.length>1?"s":"","  Actifs: ",i.filter(ae=>ae.is_active).length,"  Inactifs:"," ",i.filter(ae=>!ae.is_active).length]}),s.jsxs("div",{className:"text-xs",children:["Dernire mise  jour: ",new Date().toLocaleTimeString()]})]})]})]}),s.jsx(nl,{open:S,onOpenChange:b,children:s.jsxs(Ho,{className:"bg-gray-900 border border-gray-700",children:[s.jsxs(qo,{children:[s.jsx(Go,{className:"text-white",children:"tes-vous sr ?"}),s.jsx(Ko,{className:"text-gray-300",children:"Cette action est irrversible. Le popup sera dfinitivement supprim de la base de donnes."})]}),s.jsxs(al,{children:[s.jsx(sl,{className:"bg-gray-800 text-white border-gray-700 hover:bg-gray-700",children:"Annuler"}),s.jsx(il,{onClick:q,className:"bg-red-600 hover:bg-red-700 text-white",children:"Supprimer"})]})]})})]})},OF=({onRefresh:e})=>{var q;const{t}=za(),{user:r}=bn(),{userProfile:n}=Ja(),[i,a]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(null),[f,h]=j.useState(""),[g,p]=j.useState(""),[S,b]=j.useState(!1),[N,C]=j.useState(""),[A,T]=j.useState([]),[F,L]=j.useState(!0),[B,M]=j.useState(null),W=j.useCallback(async()=>{try{let ie=Ze.from("profiles").select("*");(n==null?void 0:n.user_type)==="secretary"&&(ie=ie.eq("country",n.country));const{data:ae,error:X}=await ie;if(X)throw X;a(ae||[])}catch{lt({title:t("common.error_title"),description:"Impossible de charger les utilisateurs.",variant:"destructive"})}},[t,n]),z=j.useCallback(async()=>{L(!0);try{const{data:ie,error:ae}=await Ze.from("admin_logs").select("id, created_at, details, target_user:target_id (full_name, email)").eq("actor_id",r.id).eq("action_type","user_credited").order("created_at",{ascending:!1}).limit(10);if(ae)throw ae;T(ie.filter(X=>{var se;return!((se=X.details)!=null&&se.reversed)})||[])}catch{lt({title:t("common.error_title"),description:"Impossible de charger l'historique.",variant:"destructive"})}finally{L(!1)}},[r.id,t]);j.useEffect(()=>{W(),z()},[W,z]),j.useEffect(()=>{if(N===""){l([]);return}const ie=N.toLowerCase(),ae=i.filter(X=>{var se,he;return((se=X.full_name)==null?void 0:se.toLowerCase().includes(ie))||((he=X.email)==null?void 0:he.toLowerCase().includes(ie))});l(ae)},[N,i]);const Z=async ie=>{if(ie.preventDefault(),!c||!f||parseInt(f)<=0){lt({title:t("common.error_title"),description:"Veuillez remplir tous les champs.",variant:"destructive"});return}b(!0);try{const{data:ae,error:X}=await Ze.rpc("credit_user_coins",{p_user_id:c.id,p_amount:parseInt(f),p_reason:g,p_creditor_id:r.id});if(X)throw new Error(X.message);if(!ae.success)throw new Error(ae.message);lt({title:"Succs",description:`${c.full_name} a t crdit de ${f} pices.`}),u(null),h(""),p(""),C(""),z(),e&&e()}catch(ae){lt({title:t("common.error_title"),description:ae.message,variant:"destructive"})}finally{b(!1)}},K=async()=>{if(B){b(!0);try{const{data:ie,error:ae}=await Ze.rpc("reverse_credit",{p_log_id:B.id,p_reverser_id:r.id});if(ae)throw new Error(ae.message);if(!ie.success)throw new Error(ie.message);lt({title:"Succs",description:"Le crdit a t annul."}),z(),e&&e()}catch(ie){lt({title:t("common.error_title"),description:ie.message,variant:"destructive"})}finally{b(!1),M(null)}}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Yt,{className:"glass-effect",children:[s.jsx(Wr,{children:s.jsx(qr,{children:t("secretary_dashboard.credit_form.title")})}),s.jsx(Qt,{children:s.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"user-search",children:t("secretary_dashboard.credit_form.search_user_label")}),s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{id:"user-search",placeholder:t("secretary_dashboard.credit_form.search_user_placeholder"),value:N,onChange:ie=>C(ie.target.value),className:"pl-10"})]})]}),N&&s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"user-select",children:t("secretary_dashboard.credit_form.user_label")}),s.jsxs(_i,{onValueChange:ie=>u(i.find(ae=>ae.id===ie)),children:[s.jsx(gi,{id:"user-select",children:s.jsx(Ni,{placeholder:t("secretary_dashboard.credit_form.select_user_placeholder")})}),s.jsx(xi,{children:o.map(ie=>s.jsxs(on,{value:ie.id,children:[ie.full_name," (",ie.email,")"]},ie.id))})]})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"amount",children:t("secretary_dashboard.credit_form.amount_label")}),s.jsx(rr,{id:"amount",type:"number",value:f,onChange:ie=>h(ie.target.value),placeholder:t("secretary_dashboard.credit_form.amount_placeholder")})]}),s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"reason",children:t("secretary_dashboard.credit_form.reason_label")}),s.jsx(rr,{id:"reason",type:"text",value:g,onChange:ie=>p(ie.target.value),placeholder:t("secretary_dashboard.credit_form.reason_placeholder")})]}),s.jsxs(ze,{type:"submit",disabled:S||!c,className:"w-full",children:[S?s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(s7,{className:"w-4 h-4 mr-2"}),t("secretary_dashboard.credit_form.submit_button")]})]})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Yt,{className:"glass-effect",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Mes 10 derniers crdits"}),s.jsx(Oa,{children:"Liste de vos crdits les plus rcents qui n'ont pas t annuls."})]}),s.jsx(Qt,{children:F?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"animate-spin text-primary"})}):A.length>0?s.jsx("div",{className:"space-y-3",children:A.map(ie=>{var ae;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:(ae=ie.target_user)==null?void 0:ae.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(ie.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"font-bold flex items-center gap-1",children:[ie.details.amount," ",s.jsx(Ua,{className:"w-4 h-4 text-yellow-400"})]}),s.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>M(ie),children:s.jsx(Vp,{className:"w-4 h-4 text-red-500"})})]})]},ie.id)})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun crdit effectu rcemment."})})]})}),s.jsx(nl,{open:!!B,onOpenChange:()=>M(null),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Confirmer l'annulation"}),s.jsxs(Ko,{children:["Voulez-vous vraiment annuler ce crdit de ",B==null?void 0:B.details.amount," pices pour ",(q=B==null?void 0:B.target_user)==null?void 0:q.full_name,"? Cette action est irrversible et dduira le montant du solde de l'utilisateur."]})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Non"}),s.jsx(il,{onClick:K,children:"Oui, annuler"})]})]})})]})},smt=()=>{const{userProfile:e,adminConfig:t}=Ja(),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(""),[c,u]=j.useState({totalCoins:0,totalFCFA:0,totalEUR:0,totalUSD:0}),f=(t==null?void 0:t.coin_to_fcfa_rate)||10,h=(t==null?void 0:t.currency_eur_rate)||650,g=(t==null?void 0:t.currency_usd_rate)||550,p=j.useCallback(async()=>{if(e!=null&&e.country){a(!0);try{const{data:b,error:N}=await Ze.from("profiles").select("id").in("user_type",["super_admin","secretary"]);if(N)throw N;const C=b.map(Z=>Z.id);let A=Ze.from("admin_logs").select(`
          id,
          created_at,
          details,
          actor:actor_id (full_name, user_type),
          target_user:target_id (full_name, email, country, city)
        `).in("actor_id",C).eq("action_type","user_credited").eq("target_user.country",e.country).order("created_at",{ascending:!1});o&&(A=A.or(`target_user.full_name.ilike.%${o}%,target_user.email.ilike.%${o}%`));const{data:T,error:F}=await A;if(F)throw F;const L=T.filter(Z=>{var K;return!((K=Z.details)!=null&&K.reversed)});n(L);const B=L.reduce((Z,K)=>{var q;return Z+(((q=K.details)==null?void 0:q.amount)||0)},0),M=B*f,W=M/h,z=M/g;u({totalCoins:B,totalFCFA:M,totalEUR:W,totalUSD:z})}catch(b){lt({title:"Erreur",description:"Impossible de charger l'historique des crdits.",variant:"destructive"}),console.error(b)}finally{a(!1)}}},[e==null?void 0:e.country,o,f,h,g]);j.useEffect(()=>{p()},[p]);const S=(b,N="FCFA")=>new Intl.NumberFormat("fr-FR",{style:N!=="FCFA"?"currency":void 0,currency:N==="EUR"?"EUR":N==="USD"?"USD":void 0,minimumFractionDigits:0,maximumFractionDigits:0}).format(b)+(N==="FCFA"?" FCFA":"");return s.jsxs(Yt,{className:"glass-effect shadow-lg",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(cd,{className:"w-6 h-6 text-green-500"}),"Historique des Crdits",s.jsxs(Vr,{variant:"secondary",className:"ml-2",children:["Zone: ",e==null?void 0:e.country]})]}),s.jsx("p",{className:"text-muted-foreground",children:"Liste des utilisateurs de votre pays crdits par les Super Admins et secrtaires."})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(Yt,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200",children:s.jsx(Qt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Total Pices"}),s.jsx("p",{className:"text-2xl font-bold text-amber-900",children:c.totalCoins.toLocaleString("fr-FR")})]}),s.jsx("div",{className:"p-2 bg-amber-500 rounded-full",children:s.jsx(Ua,{className:"w-6 h-6 text-white"})})]})})}),s.jsx(Yt,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsxs(Qt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Valeur FCFA"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:S(c.totalFCFA)})]}),s.jsx("div",{className:"p-2 bg-green-500 rounded-full",children:s.jsx(cd,{className:"w-6 h-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Taux: 1 = ",f," FCFA"]})]})}),s.jsx(Yt,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsxs(Qt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Valeur EUR"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:S(c.totalEUR,"EUR")})]}),s.jsx("div",{className:"p-2 bg-blue-500 rounded-full",children:s.jsx(p2e,{className:"w-6 h-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["1 = ",h.toLocaleString("fr-FR")," FCFA"]})]})}),s.jsx(Yt,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:s.jsxs(Qt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Valeur USD"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:S(c.totalUSD,"USD")})]}),s.jsx("div",{className:"p-2 bg-purple-500 rounded-full",children:s.jsx(dh,{className:"w-6 h-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["1$ = ",g.toLocaleString("fr-FR")," FCFA"]})]})})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher par nom ou email d'utilisateur...",value:o,onChange:b=>l(b.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsxs("span",{children:[r.length," crdit(s) distribus"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsxs("span",{children:["Moyenne: ",r.length>0?Math.round(c.totalCoins/r.length):0," par crdit"]})]})]}),i?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"animate-spin text-primary w-8 h-8"})}):s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Utilisateur Crdit"}),s.jsx(Cn,{children:"Localisation"}),s.jsx(Cn,{children:"Montant"}),s.jsx(Cn,{children:"Valeur FCFA"}),s.jsx(Cn,{children:"Crdit par"}),s.jsx(Cn,{children:"Date"})]})}),s.jsx(Ud,{children:r.length===0?s.jsx(di,{children:s.jsxs(an,{colSpan:"6",className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ua,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun crdit trouv dans votre zone."})]})}):r.map(b=>{var A,T,F,L,B,M,W,z;const N=((A=b.details)==null?void 0:A.amount)||0,C=N*f;return s.jsxs(di,{className:"hover:bg-muted/50",children:[s.jsxs(an,{children:[s.jsx("p",{className:"font-semibold",children:((T=b.target_user)==null?void 0:T.full_name)||"Utilisateur inconnu"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(F=b.target_user)==null?void 0:F.email})]}),s.jsxs(an,{children:[s.jsx("p",{className:"font-medium",children:((L=b.target_user)==null?void 0:L.city)||"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(B=b.target_user)==null?void 0:B.country})]}),s.jsx(an,{children:s.jsxs("div",{className:"flex items-center gap-1 font-bold text-amber-600",children:[N.toLocaleString("fr-FR"),s.jsx(Ua,{className:"w-4 h-4"})]})}),s.jsx(an,{className:"text-green-600 font-semibold",children:S(C)}),s.jsxs(an,{children:[s.jsx("p",{className:"font-medium",children:(M=b.actor)==null?void 0:M.full_name}),s.jsx(Vr,{variant:"outline",className:"text-xs capitalize",children:((z=(W=b.actor)==null?void 0:W.user_type)==null?void 0:z.replace("_"," "))||"Admin"})]}),s.jsxs(an,{className:"text-sm text-muted-foreground",children:[new Date(b.created_at).toLocaleDateString("fr-FR"),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:new Date(b.created_at).toLocaleTimeString("fr-FR")})]})]},b.id)})})]})]})]})},omt=({badge:e,onToggle:t})=>{const n=(i=>{const a={starter:{gradient:"from-gray-500 to-gray-700",icon:"",title:"Ambassadeur de Ville"},business:{gradient:"from-green-500 to-green-700",icon:"",title:"Ambassadeur Rgional"},premium:{gradient:"from-yellow-500 to-yellow-700",icon:"",title:"Ambassadeur National"}};return a[e.license_type]||a.starter})(e.license_type);return s.jsxs(Yt,{className:`overflow-hidden transition-all duration-300 ${e.is_active?"border-primary/50 shadow-lg":"border-border opacity-70"} rounded-xl`,children:[s.jsx(Wr,{className:`bg-gradient-to-r ${n.gradient} text-white p-4`,children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-2xl",children:n.icon}),s.jsxs("div",{children:[s.jsx(qr,{className:"text-lg text-white",children:e.partner_name}),s.jsx(Oa,{className:"text-white/80 text-sm",children:n.title})]})]})})}),s.jsxs(Qt,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(to,{className:"w-4 h-4"})," Zone"]}),s.jsx("span",{className:"font-semibold",children:e.zone})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(HZ,{className:"w-4 h-4"})," ID Badge"]}),s.jsx("code",{className:"text-xs font-mono bg-muted px-2 py-1 rounded",children:e.badge_id})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t mt-3",children:[s.jsx("label",{htmlFor:`toggle-${e.id}`,className:"text-sm font-medium",children:e.is_active?"Activ":"Dsactiv"}),s.jsx(Td,{id:`toggle-${e.id}`,checked:e.is_active,onCheckedChange:i=>t(e.id,i)})]})]})]})},lmt=()=>{const{badges:e,loading:t,toggleBadgeStatus:r,refreshBadges:n}=hae();return t?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs(Yt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(Wr,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(qr,{className:"text-white",children:"Gestion des Badges Partenaires"}),s.jsxs(Oa,{children:[e.filter(i=>i.is_active).length," badge(s) actif(s) sur ",e.length," au total."]})]}),s.jsxs(ze,{onClick:n,size:"sm",variant:"outline",children:[s.jsx(Fu,{className:"w-4 h-4 mr-2"})," Actualiser"]})]}),s.jsxs(Qt,{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(i=>s.jsx(omt,{badge:i,onToggle:r},i.id))}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(HZ,{className:"w-12 h-12 mx-auto mb-4"}),s.jsx("p",{className:"text-lg",children:"Aucun badge partenaire trouv."})]})]})]})},ZK=({users:e,onRefresh:t})=>{const{userProfile:r}=Ja(),[n,i]=j.useState(!1),[a,o]=j.useState(""),[l,c]=j.useState(!1),[u,f]=j.useState([]),h=(r==null?void 0:r.user_type)==="super_admin",g=(r==null?void 0:r.user_type)==="admin";j.useEffect(()=>{if(h){const F=e.filter(L=>L.user_type==="admin");f(F)}},[e,h]);const p=j.useMemo(()=>h?e.filter(F=>F.user_type==="secretary"):g?e.filter(F=>F.user_type==="secretary"&&F.appointed_by===r.id):[],[e,h,g,r]),S=j.useMemo(()=>e.filter(F=>(F.user_type==="user"||F.user_type==="organizer")&&F.country===r.country),[e,r]),b=async(F,L)=>{await Ze.from("admin_logs").insert({actor_id:r.id,action_type:F,target_id:L})},N=async(F,L,B=null)=>{c(!0);try{const{error:M}=await Ze.from("profiles").update({user_type:L,appointed_by:L==="secretary"?B:null}).eq("id",F);if(M)throw M;await b(L==="secretary"?"secretary_appointed":"secretary_revoked",F),lt({title:"Rle mis  jour avec succs"}),t(),i(!1),o("")}catch(M){lt({title:"Erreur",description:M.message,variant:"destructive"})}finally{c(!1)}},C=()=>{if(!a){lt({title:"Veuillez slectionner un utilisateur",variant:"destructive"});return}N(a,"secretary",r.id)},A=F=>{N(F,"user")},T=F=>{if(!h)return null;const L=u.find(B=>B.id===F);return L?{name:L.full_name,country:L.country}:null};return s.jsxs(s.Fragment,{children:[s.jsxs(Yt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(Wr,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx(qr,{className:"text-white",children:"Gestion des secrtaires"}),(h||g)&&s.jsxs(ze,{onClick:()=>i(!0),children:[s.jsx(s7,{className:"w-4 h-4 mr-2"}),"Nommer un secrtaire"]})]}),s.jsx(Qt,{children:s.jsxs("div",{className:"space-y-4",children:[p.map(F=>{var B,M;const L=T(F.appointed_by);return s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-xl shadow-sm gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(t1,{className:"w-12 h-12",children:[s.jsx(r1,{src:F.avatar_url}),s.jsx(n1,{className:"bg-purple-500 text-white",children:(M=(B=F.full_name)==null?void 0:B.charAt(0))==null?void 0:M.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:F.full_name}),s.jsx("p",{className:"text-sm text-gray-400",children:F.email}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[s.jsx(Vr,{className:"bg-purple-500 text-white text-xs",children:"Secrtaire"}),L&&s.jsxs(Vr,{variant:"secondary",className:"text-xs",children:[s.jsx(Jp,{className:"w-3 h-3 mr-1"})," Nomm par: ",L.name]}),(L==null?void 0:L.country)&&s.jsxs(Vr,{variant:"outline",className:"text-xs",children:[s.jsx(a0,{className:"w-3 h-3 mr-1"})," ",L.country]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:s.jsxs(ze,{size:"sm",variant:"destructive",onClick:()=>A(F.id),disabled:l,children:[l?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Rvoquer"]})})]},F.id)}),p.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(R2,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Aucun secrtaire nomm"})]})]})})]}),s.jsx(No,{open:n,onOpenChange:i,children:s.jsxs(fo,{children:[s.jsxs(So,{children:[s.jsx(Co,{children:"Nommer un nouveau secrtaire"}),s.jsx(tl,{children:"Slectionnez un utilisateur de votre zone pour lui attribuer le rle de secrtaire."})]}),s.jsx("div",{className:"py-4",children:s.jsxs(_i,{onValueChange:o,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Slectionnez un utilisateur..."})}),s.jsx(xi,{children:S.map(F=>s.jsxs(on,{value:F.id,children:[F.full_name," (",F.email,")"]},F.id))})]})}),s.jsxs(ru,{children:[s.jsx(ze,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),s.jsx(ze,{onClick:C,disabled:l||!a,children:l?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):"Confirmer"})]})]})})]})},cmt=5*60*1e3,QK=50,umt=1e4,dmt=({country:e,initialTransactions:t})=>{const[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(null),[c,u]=j.useState("all"),[f,h]=j.useState(""),[g,p]=j.useState(0),[S,b]=j.useState(!0);j.useState(0);const N=j.useRef({}),C=j.useCallback(async(L=!1,B=0)=>{const M=performance.now(),W=`${e||"all"}-${c}-${f}-${g}`;if(!L&&N.current[W]&&Date.now()-N.current[W].timestamp<cmt){console.log("Using cached transactions"),n(N.current[W].data),a(!1);return}a(!0),l(null);try{const z=new Promise((X,se)=>setTimeout(()=>se(new Error("Request timed out")),umt)),Z=(async()=>{let X;const se=g*QK,he=se+QK-1;e?(X=Ze.from("transactions").select("*",{count:"exact"}).eq("country",e).order("created_at",{ascending:!1}).range(se,he),c!=="all"&&(X=X.eq("transaction_type",c)),f&&(X=X.ilike("description",`%${f}%`))):(X=Ze.from("coin_spending").select(`
              id, amount, description, created_at, purpose,
              user:user_id (full_name, email)
            `,{count:"exact"}).order("created_at",{ascending:!1}).range(se,he),c!=="all"&&(X=X.eq("purpose",c)),f&&(X=X.or(`description.ilike.%${f}%`)));const{data:ce,error:ge,count:we}=await X;if(ge)throw ge;return{data:ce,count:we}})(),{data:K,count:q}=await Promise.race([Z,z]),ie=K.map(X=>{var se,he;return{id:X.id,user_full_name:X.user_full_name||((se=X.user)==null?void 0:se.full_name)||"Utilisateur",user_email:X.user_email||((he=X.user)==null?void 0:he.email)||"-",description:X.description||X.purpose,amount:X.amount||X.amount_pi,type:X.type||X.purpose||X.transaction_type,created_at:X.created_at,status:X.status||"completed"}});n(X=>L?[...X,...ie]:ie),b(r.length+ie.length<q),N.current[W]={data:ie,timestamp:Date.now()};const ae=performance.now()-M;console.log(`Transactions fetched in ${ae.toFixed(2)}ms`)}catch(z){if(console.error("Error fetching transactions:",z),B<3){const Z=Math.pow(2,B)*1e3;console.log(`Retrying in ${Z}ms (Attempt ${B+1}/3)...`),setTimeout(()=>C(L,B+1),Z)}else l(z.message||"Erreur de chargement"),lt({title:"Erreur",description:"Impossible de charger les transactions.",variant:"destructive"})}finally{a(!1)}},[e,c,f,g]);j.useEffect(()=>{p(0),C(!1)},[C]);const A=()=>{if(r.length===0){lt({title:"Aucune donne  exporter",variant:"destructive"});return}const L=r.map(B=>({id:B.id,user:B.user_full_name,email:B.user_email,description:B.description,amount:B.amount,type:B.type,date:new Date(B.created_at).toLocaleString("fr-FR"),status:B.status}));wfe({data:L,headers:[{label:"ID",key:"id"},{label:"Utilisateur",key:"user"},{label:"Email",key:"email"},{label:"Description",key:"description"},{label:"Montant",key:"amount"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"Statut",key:"status"}],sheetName:"Transactions",fileName:`transactions_${new Date().toISOString().split("T")[0]}.xlsx`}),lt({title:"Succs",description:"Exportation termine."})},T=L=>L>0?s.jsx(a2e,{className:"w-4 h-4 text-red-400"}):s.jsx(r2e,{className:"w-4 h-4 text-green-400"}),F=L=>L>0?"text-red-400":"text-green-400";return s.jsxs(Yt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(Wr,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs(qr,{className:"text-white flex items-center gap-2",children:[" Transactions ",i&&s.jsx(Zt,{className:"w-4 h-4 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>C(!1),disabled:i,children:[s.jsx(Fu,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Actualiser"]}),s.jsxs(ze,{variant:"outline",size:"sm",onClick:A,children:[s.jsx(Fm,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(rr,{type:"text",placeholder:"Rechercher...",className:"pl-10 w-full",value:f,onChange:L=>h(L.target.value)})]}),s.jsxs(_i,{value:c,onValueChange:u,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Tous les types"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Tous les types"}),s.jsx(on,{value:"manual_credit",children:"Crdit (Manuel)"}),s.jsx(on,{value:"raffle_ticket",children:"Ticket Tombola"}),s.jsx(on,{value:"vote",children:"Vote"}),s.jsx(on,{value:"ticket_purchase",children:"Achat Ticket"}),s.jsx(on,{value:"stand_rental",children:"Location Stand"})]})]})]}),o&&s.jsxs("div",{className:"p-4 mb-4 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center justify-between text-destructive",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iu,{className:"w-5 h-5"}),s.jsx("span",{children:o})]}),s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>C(!1),className:"border-destructive/30 hover:bg-destructive/20",children:"Ressayer"})]}),i&&r.length===0?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ec,{className:"h-12 w-full"}),s.jsx(Ec,{className:"h-12 w-full"}),s.jsx(Ec,{className:"h-12 w-full"}),s.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse",children:"Chargement des transactions..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto rounded-md border border-gray-800",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black/20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:"ID"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Statut"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:r.length>0?r.map(L=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500",children:[L.id.slice(0,8),"..."]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-white",children:L.user_full_name}),s.jsx("div",{className:"text-xs text-gray-500",children:L.user_email})]}),s.jsx("td",{className:"px-6 py-4 text-gray-300",children:L.description||L.type}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[T(L.amount),s.jsx("span",{className:`font-bold ${F(L.amount)}`,children:Math.abs(L.amount)}),s.jsx(Ua,{className:"w-3 h-3 text-yellow-500"})]})}),s.jsxs("td",{className:"px-6 py-4 text-gray-400",children:[new Date(L.created_at).toLocaleDateString(),s.jsx("span",{className:"block text-xs opacity-70",children:new Date(L.created_at).toLocaleTimeString()})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Vr,{variant:L.status==="completed"?"success":L.status==="pending"?"warning":"destructive",children:L.status})})]},L.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"Aucune transaction trouve"})})})]})}),S&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs(ze,{variant:"secondary",onClick:()=>{p(L=>L+1),C(!0)},disabled:i,children:[i?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Charger plus de transactions"]})})]})]})]})};var Na=function(){return Na=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Na.apply(this,arguments)};function fmt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function _fe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function A5(e){return e.mode==="multiple"}function j5(e){return e.mode==="range"}function j6(e){return e.mode==="single"}var hmt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function mmt(e,t){return ui(e,"LLLL y",t)}function pmt(e,t){return ui(e,"d",t)}function gmt(e,t){return ui(e,"LLLL",t)}function xmt(e){return"".concat(e)}function vmt(e,t){return ui(e,"cccccc",t)}function ymt(e,t){return ui(e,"yyyy",t)}var bmt=Object.freeze({__proto__:null,formatCaption:mmt,formatDay:pmt,formatMonthCaption:gmt,formatWeekNumber:xmt,formatWeekdayName:vmt,formatYearCaption:ymt}),wmt=function(e,t,r){return ui(e,"do MMMM (EEEE)",r)},_mt=function(){return"Month: "},Nmt=function(){return"Go to next month"},Smt=function(){return"Go to previous month"},Cmt=function(e,t){return ui(e,"cccc",t)},Amt=function(e){return"Week n. ".concat(e)},jmt=function(){return"Year: "},Emt=Object.freeze({__proto__:null,labelDay:wmt,labelMonthDropdown:_mt,labelNext:Nmt,labelPrevious:Smt,labelWeekNumber:Amt,labelWeekday:Cmt,labelYearDropdown:jmt});function Tmt(){var e="buttons",t=hmt,r=AR,n={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:bmt,labels:Emt,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function kmt(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=od(n):t&&(a=new Date(t,0,1)),i?o=SR(i):r&&(o=new Date(r,11,31)),{fromDate:a?V2(a):void 0,toDate:o?V2(o):void 0}}var Nfe=j.createContext(void 0);function Pmt(e){var t,r=e.initialProps,n=Tmt(),i=kmt(r),a=i.fromDate,o=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(j6(r)||A5(r)||j5(r))&&(c=r.onSelect);var u=Na(Na(Na({},n),r),{captionLayout:l,classNames:Na(Na({},n.classNames),r.classNames),components:Na({},r.components),formatters:Na(Na({},n.formatters),r.formatters),fromDate:a,labels:Na(Na({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Na(Na({},n.modifiers),r.modifiers),modifiersClassNames:Na(Na({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Na(Na({},n.styles),r.styles),toDate:o});return s.jsx(Nfe.Provider,{value:u,children:e.children})}function Bs(){var e=j.useContext(Nfe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Sfe(e){var t=Bs(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Omt(e){return s.jsx("svg",Na({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Cfe(e){var t,r,n=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=Bs(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Omt;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Imt(e){var t,r=Bs(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var h=[];if(_8e(n,i))for(var g=od(n),p=n.getMonth();p<=i.getMonth();p++)h.push(k8(g,p));else for(var g=od(new Date),p=0;p<=11;p++)h.push(k8(g,p));var S=function(N){var C=Number(N.target.value),A=k8(od(e.displayMonth),C);e.onChange(A)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Cfe;return s.jsx(b,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:S,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(N){return s.jsx("option",{value:N.getMonth(),children:l(N,{locale:o})},N.getMonth())})})}function Fmt(e){var t,r=e.displayMonth,n=Bs(),i=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,g=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var p=i.getFullYear(),S=a.getFullYear(),b=p;b<=S;b++)g.push(gV(xae(new Date),b));var N=function(A){var T=gV(od(r),Number(A.target.value));e.onChange(T)},C=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Cfe;return s.jsx(C,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:N,value:r.getFullYear(),caption:f(r,{locale:o}),children:g.map(function(A){return s.jsx("option",{value:A.getFullYear(),children:f(A,{locale:o})},A.getFullYear())})})}function Dmt(e,t){var r=j.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function Rmt(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&L_(a,i)<0){var u=-1*(c-1);i=Ch(a,u)}return o&&L_(i,o)<0&&(i=o),od(i)}function Mmt(){var e=Bs(),t=Rmt(e),r=Dmt(t,e.month),n=r[0],i=r[1],a=function(o){var l;if(!e.disableNavigation){var c=od(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function Lmt(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=od(e),a=od(Ch(i,n)),o=L_(a,i),l=[],c=0;c<o;c++){var u=Ch(i,c);l.push(u)}return r&&(l=l.reverse()),l}function Bmt(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=od(e);if(!r)return Ch(l,o);var c=L_(r,e);if(!(c<a))return Ch(l,o)}}function $mt(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=od(e);if(!r)return Ch(l,-o);var c=L_(l,r);if(!(c<=0))return Ch(l,-o)}}var Afe=j.createContext(void 0);function Umt(e){var t=Bs(),r=Mmt(),n=r[0],i=r[1],a=Lmt(n,t),o=Bmt(n,t),l=$mt(n,t),c=function(h){return a.some(function(g){return jR(h,g)})},u=function(h,g){c(h)||(g&&Sae(h,g)?i(Ch(h,1+t.numberOfMonths*-1)):i(h))},f={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Afe.Provider,{value:f,children:e.children})}function E5(){var e=j.useContext(Afe);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function eY(e){var t,r=Bs(),n=r.classNames,i=r.styles,a=r.components,o=E5().goToMonth,l=function(f){o(Ch(f,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Sfe,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Imt,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Fmt,{onChange:l,displayMonth:e.displayMonth})]})}function zmt(e){return s.jsx("svg",Na({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Vmt(e){return s.jsx("svg",Na({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var RA=j.forwardRef(function(e,t){var r=Bs(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=Na(Na({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Na({},e,{ref:t,type:"button",className:o,style:l}))});function Wmt(e){var t,r,n=Bs(),i=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=u(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),S=f(e.nextMonth,{locale:a}),b=[o.nav_button,o.nav_button_next].join(" "),N=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Vmt,C=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:zmt;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(RA,{name:"previous-month","aria-label":g,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(C,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(RA,{name:"next-month","aria-label":S,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(C,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})})]})}function tY(e){var t=Bs().numberOfMonths,r=E5(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(S){return jR(e.displayMonth,S)}),c=l===0,u=l===o.length-1,f=t>1&&(c||!u),h=t>1&&(u||!c),g=function(){n&&a(n)},p=function(){i&&a(i)};return s.jsx(Wmt,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:g,onNextClick:p})}function Hmt(e){var t,r=Bs(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Sfe,u;return i?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(eY,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(eY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(tY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(tY,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:u})}function qmt(e){var t=Bs(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?s.jsx("tfoot",{className:i,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Gmt(e,t,r){for(var n=r?Qg(new Date):A0(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=bu(n,a);i.push(o)}return i}function Kmt(){var e=Bs(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Gmt(i,a,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:i}),children:l(f,{locale:i})},h)})]})}function Ymt(){var e,t=Bs(),r=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:Kmt;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function Xmt(e){var t=Bs(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var wL=j.createContext(void 0);function Jmt(e){if(!A5(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(wL.Provider,{value:t,children:e.children})}return s.jsx(Zmt,{initialProps:e.initialProps,children:e.children})}function Zmt(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,o=function(u,f,h){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,u,f,h);var S=!!(f.selected&&i&&(n==null?void 0:n.length)===i);if(!S){var b=!!(!f.selected&&a&&(n==null?void 0:n.length)===a);if(!b){var N=n?_fe([],n,!0):[];if(f.selected){var C=N.findIndex(function(A){return ed(u,A)});N.splice(C,1)}else N.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,N,u,f,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=a&&n.length>a-1,h=n.some(function(g){return ed(g,u)});return!!(f&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(wL.Provider,{value:c,children:r})}function _L(){var e=j.useContext(wL);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Qmt(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?ed(i,e)&&ed(n,e)?void 0:ed(i,e)?{from:i,to:void 0}:ed(n,e)?void 0:TO(n,e)?{from:e,to:i}:{from:n,to:e}:i?TO(e,i)?{from:i,to:e}:{from:e,to:i}:n?Sae(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var NL=j.createContext(void 0);function ept(e){if(!j5(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(NL.Provider,{value:t,children:e.children})}return s.jsx(tpt,{initialProps:e.initialProps,children:e.children})}function tpt(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,o=i.to,l=t.min,c=t.max,u=function(p,S,b){var N,C;(N=t.onDayClick)===null||N===void 0||N.call(t,p,S,b);var A=Qmt(p,n);(C=t.onSelect)===null||C===void 0||C.call(t,A,p,S,b)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],ed(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),l&&(a&&!o&&f.disabled.push({after:f2(a,l-1),before:bu(a,l-1)}),a&&o&&f.disabled.push({after:a,before:bu(a,l-1)}),!a&&o&&f.disabled.push({after:f2(o,l-1),before:bu(o,l-1)})),c){if(a&&!o&&(f.disabled.push({before:bu(a,-c+1)}),f.disabled.push({after:bu(a,c-1)})),a&&o){var h=mh(o,a)+1,g=c-h;f.disabled.push({before:f2(a,g)}),f.disabled.push({after:bu(o,g)})}!a&&o&&(f.disabled.push({before:bu(o,-c+1)}),f.disabled.push({after:bu(o,c-1)}))}return s.jsx(NL.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function SL(){var e=j.useContext(NL);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function hS(e){return Array.isArray(e)?_fe([],e,!0):e!==void 0?[e]:[]}function rpt(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=hS(i)}),t}var Ah;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ah||(Ah={}));var npt=Ah.Selected,X0=Ah.Disabled,apt=Ah.Hidden,ipt=Ah.Today,Ik=Ah.RangeEnd,Fk=Ah.RangeMiddle,Dk=Ah.RangeStart,spt=Ah.Outside;function opt(e,t,r){var n,i=(n={},n[npt]=hS(e.selected),n[X0]=hS(e.disabled),n[apt]=hS(e.hidden),n[ipt]=[e.today],n[Ik]=[],n[Fk]=[],n[Dk]=[],n[spt]=[],n);return e.fromDate&&i[X0].push({before:e.fromDate}),e.toDate&&i[X0].push({after:e.toDate}),A5(e)?i[X0]=i[X0].concat(t.modifiers[X0]):j5(e)&&(i[X0]=i[X0].concat(r.modifiers[X0]),i[Dk]=r.modifiers[Dk],i[Fk]=r.modifiers[Fk],i[Ik]=r.modifiers[Ik]),i}var jfe=j.createContext(void 0);function lpt(e){var t=Bs(),r=_L(),n=SL(),i=opt(t,r,n),a=rpt(t.modifiers),o=Na(Na({},i),a);return s.jsx(jfe.Provider,{value:o,children:e.children})}function Efe(){var e=j.useContext(jfe);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function cpt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function upt(e){return!!(e&&typeof e=="object"&&"from"in e)}function dpt(e){return!!(e&&typeof e=="object"&&"after"in e)}function fpt(e){return!!(e&&typeof e=="object"&&"before"in e)}function hpt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function mpt(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=mh(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=mh(e,n)>=0&&mh(i,e)>=0;return o}return i?ed(i,e):n?ed(n,e):!1}function ppt(e){return NR(e)}function gpt(e){return Array.isArray(e)&&e.every(NR)}function xpt(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(ppt(r))return ed(e,r);if(gpt(r))return r.includes(e);if(upt(r))return mpt(e,r);if(hpt(r))return r.dayOfWeek.includes(e.getDay());if(cpt(r)){var n=mh(r.before,e),i=mh(r.after,e),a=n>0,o=i<0,l=TO(r.before,r.after);return l?o&&a:a||o}return dpt(r)?mh(e,r.after)>0:fpt(r)?mh(r.before,e)>0:typeof r=="function"?r(e):!1})}function CL(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return xpt(e,l)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!jR(e,r)&&(i.outside=!0),i}function vpt(e,t){for(var r=od(e[0]),n=SR(e[e.length-1]),i,a,o=r;o<=n;){var l=CL(o,t),c=!l.disabled&&!l.hidden;if(!c){o=bu(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=bu(o,1)}return a||i}var ypt=365;function Tfe(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,u=i.fromDate,f=i.toDate,h=i.locale,g={day:bu,week:EO,month:Ch,year:fTe,startOfWeek:function(N){return i.ISOWeek?Qg(N):A0(N,{locale:h,weekStartsOn:c})},endOfWeek:function(N){return i.ISOWeek?vae(N):CR(N,{locale:h,weekStartsOn:c})}},p=g[r](e,n==="after"?1:-1);n==="before"&&u?p=hTe([u,p]):n==="after"&&f&&(p=mTe([f,p]));var S=!0;if(a){var b=CL(p,a);S=!b.disabled&&!b.hidden}return S?p:l.count>ypt?l.lastFocused:Tfe(p,{moveBy:r,direction:n,context:i,modifiers:a,retry:Na(Na({},l),{count:l.count+1})})}var kfe=j.createContext(void 0);function bpt(e){var t=E5(),r=Efe(),n=j.useState(),i=n[0],a=n[1],o=j.useState(),l=o[0],c=o[1],u=vpt(t.displayMonths,r),f=i??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(i),a(void 0)},g=function(N){a(N)},p=Bs(),S=function(N,C){if(i){var A=Tfe(i,{moveBy:N,direction:C,context:p,modifiers:r});ed(i,A)||(t.goToDate(A,i),g(A))}},b={focusedDay:i,focusTarget:f,blur:h,focus:g,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return s.jsx(kfe.Provider,{value:b,children:e.children})}function AL(){var e=j.useContext(kfe);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function wpt(e,t){var r=Efe(),n=CL(e,r,t);return n}var jL=j.createContext(void 0);function _pt(e){if(!j6(e.initialProps)){var t={selected:void 0};return s.jsx(jL.Provider,{value:t,children:e.children})}return s.jsx(Npt,{initialProps:e.initialProps,children:e.children})}function Npt(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:n};return s.jsx(jL.Provider,{value:i,children:r})}function Pfe(){var e=j.useContext(jL);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Spt(e,t){var r=Bs(),n=Pfe(),i=_L(),a=SL(),o=AL(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,g=o.focus,p=o.focusMonthBefore,S=o.focusMonthAfter,b=o.focusYearBefore,N=o.focusYearAfter,C=o.focusStartOfWeek,A=o.focusEndOfWeek,T=function(he){var ce,ge,we,Ce;j6(r)?(ce=n.onDayClick)===null||ce===void 0||ce.call(n,e,t,he):A5(r)?(ge=i.onDayClick)===null||ge===void 0||ge.call(i,e,t,he):j5(r)?(we=a.onDayClick)===null||we===void 0||we.call(a,e,t,he):(Ce=r.onDayClick)===null||Ce===void 0||Ce.call(r,e,t,he)},F=function(he){var ce;g(e),(ce=r.onDayFocus)===null||ce===void 0||ce.call(r,e,t,he)},L=function(he){var ce;h(),(ce=r.onDayBlur)===null||ce===void 0||ce.call(r,e,t,he)},B=function(he){var ce;(ce=r.onDayMouseEnter)===null||ce===void 0||ce.call(r,e,t,he)},M=function(he){var ce;(ce=r.onDayMouseLeave)===null||ce===void 0||ce.call(r,e,t,he)},W=function(he){var ce;(ce=r.onDayPointerEnter)===null||ce===void 0||ce.call(r,e,t,he)},z=function(he){var ce;(ce=r.onDayPointerLeave)===null||ce===void 0||ce.call(r,e,t,he)},Z=function(he){var ce;(ce=r.onDayTouchCancel)===null||ce===void 0||ce.call(r,e,t,he)},K=function(he){var ce;(ce=r.onDayTouchEnd)===null||ce===void 0||ce.call(r,e,t,he)},q=function(he){var ce;(ce=r.onDayTouchMove)===null||ce===void 0||ce.call(r,e,t,he)},ie=function(he){var ce;(ce=r.onDayTouchStart)===null||ce===void 0||ce.call(r,e,t,he)},ae=function(he){var ce;(ce=r.onDayKeyUp)===null||ce===void 0||ce.call(r,e,t,he)},X=function(he){var ce;switch(he.key){case"ArrowLeft":he.preventDefault(),he.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":he.preventDefault(),he.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":he.preventDefault(),he.stopPropagation(),u();break;case"ArrowUp":he.preventDefault(),he.stopPropagation(),f();break;case"PageUp":he.preventDefault(),he.stopPropagation(),he.shiftKey?b():p();break;case"PageDown":he.preventDefault(),he.stopPropagation(),he.shiftKey?N():S();break;case"Home":he.preventDefault(),he.stopPropagation(),C();break;case"End":he.preventDefault(),he.stopPropagation(),A();break}(ce=r.onDayKeyDown)===null||ce===void 0||ce.call(r,e,t,he)},se={onClick:T,onFocus:F,onBlur:L,onKeyDown:X,onKeyUp:ae,onMouseEnter:B,onMouseLeave:M,onPointerEnter:W,onPointerLeave:z,onTouchCancel:Z,onTouchEnd:K,onTouchMove:q,onTouchStart:ie};return se}function Cpt(){var e=Bs(),t=Pfe(),r=_L(),n=SL(),i=j6(e)?t.selected:A5(e)?r.selected:j5(e)?n.selected:void 0;return i}function Apt(e){return Object.values(Ah).includes(e)}function jpt(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(Apt(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Ept(e,t){var r=Na({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Na(Na({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Tpt(e,t,r){var n,i,a,o=Bs(),l=AL(),c=wpt(e,t),u=Spt(e,c),f=Cpt(),h=!!(o.onDayClick||o.mode!=="default");j.useEffect(function(){var B;c.outside||l.focusedDay&&h&&ed(l.focusedDay,e)&&((B=r.current)===null||B===void 0||B.focus())},[l.focusedDay,e,r,h,c.outside]);var g=jpt(o,c).join(" "),p=Ept(o,c),S=!!(c.outside&&!o.showOutsideDays||c.hidden),b=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Xmt,N=s.jsx(b,{date:e,displayMonth:t,activeModifiers:c}),C={style:p,className:g,children:N,role:"gridcell"},A=l.focusTarget&&ed(l.focusTarget,e)&&!c.outside,T=l.focusedDay&&ed(l.focusedDay,e),F=Na(Na(Na({},C),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=T||A?0:-1,n)),u),L={isButton:h,isHidden:S,activeModifiers:c,selectedDays:f,buttonProps:F,divProps:C};return L}function kpt(e){var t=j.useRef(null),r=Tpt(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(RA,Na({name:"day",ref:t},r.buttonProps)):s.jsx("div",Na({},r.divProps))}function Ppt(e){var t=e.number,r=e.dates,n=Bs(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var h=c(Number(t),{locale:l}),g=function(p){i(t,r,p)};return s.jsx(RA,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:g,children:f})}function Opt(e){var t,r,n=Bs(),i=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:kpt,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Ppt,f;return o&&(f=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[f,e.dates.map(function(h){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},y8e(h))})]})}function rY(e,t,r){for(var n=r!=null&&r.ISOWeek?vae(t):CR(t,r),i=r!=null&&r.ISOWeek?Qg(e):A0(e,r),a=mh(n,i),o=[],l=0;l<=a;l++)o.push(bu(i,l));var c=o.reduce(function(u,f){var h=r!=null&&r.ISOWeek?bae(f):_ae(f,r),g=u.find(function(p){return p.weekNumber===h});return g?(g.dates.push(f),u):(u.push({weekNumber:h,dates:[f]}),u)},[]);return c}function Ipt(e,t){var r=rY(od(e),SR(e),t);if(t!=null&&t.useFixedWeeks){var n=w8e(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=EO(a,6-n),l=rY(EO(a,1),o,t);r.push.apply(r,l)}}return r}function Fpt(e){var t,r,n,i=Bs(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,f=i.components,h=i.weekStartsOn,g=i.firstWeekContainsDate,p=i.ISOWeek,S=Ipt(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:h,firstWeekContainsDate:g}),b=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:Ymt,N=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:Opt,C=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:qmt;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(b,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:S.map(function(A){return s.jsx(N,{displayMonth:e.displayMonth,dates:A.dates,weekNumber:A.weekNumber},A.weekNumber)})}),s.jsx(C,{displayMonth:e.displayMonth})]})}function Dpt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Rpt=Dpt()?j.useLayoutEffect:j.useEffect,Rk=!1,Mpt=0;function nY(){return"react-day-picker-".concat(++Mpt)}function Lpt(e){var t,r=e??(Rk?nY():null),n=j.useState(r),i=n[0],a=n[1];return Rpt(function(){i===null&&a(nY())},[]),j.useEffect(function(){Rk===!1&&(Rk=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Bpt(e){var t,r,n=Bs(),i=n.dir,a=n.classNames,o=n.styles,l=n.components,c=E5().displayMonths,u=Lpt(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],g=o.month,p=e.displayIndex===0,S=e.displayIndex===c.length-1,b=!p&&!S;i==="rtl"&&(t=[p,S],S=t[0],p=t[1]),p&&(h.push(a.caption_start),g=Na(Na({},g),o.caption_start)),S&&(h.push(a.caption_end),g=Na(Na({},g),o.caption_end)),b&&(h.push(a.caption_between),g=Na(Na({},g),o.caption_between));var N=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Hmt;return s.jsxs("div",{className:h.join(" "),style:g,children:[s.jsx(N,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Fpt,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function $pt(e){var t=Bs(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function Upt(e){var t,r,n=e.initialProps,i=Bs(),a=AL(),o=E5(),l=j.useState(!1),c=l[0],u=l[1];j.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var h=Na(Na({},i.styles.root),i.style),g=Object.keys(n).filter(function(S){return S.startsWith("data-")}).reduce(function(S,b){var N;return Na(Na({},S),(N={},N[b]=n[b],N))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:$pt;return s.jsx("div",Na({className:f.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(p,{children:o.displayMonths.map(function(S,b){return s.jsx(Bpt,{displayIndex:b,displayMonth:S},b)})})}))}function zpt(e){var t=e.children,r=fmt(e,["children"]);return s.jsx(Pmt,{initialProps:r,children:s.jsx(Umt,{children:s.jsx(_pt,{initialProps:r,children:s.jsx(Jmt,{initialProps:r,children:s.jsx(ept,{initialProps:r,children:s.jsx(lpt,{children:s.jsx(bpt,{children:t})})})})})})})}function Vpt(e){return s.jsx(zpt,Na({},e,{children:s.jsx(Upt,{initialProps:e})}))}function Ofe({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Vpt,{showOutsideDays:r,className:Ir("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ir(nO({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ir(nO({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(gj,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(Hg,{className:"h-4 w-4"})},...n})}Ofe.displayName="Calendar";const fw=10,kN={user_credited:{label:"Crdit Utilisateur",color:"text-blue-600 bg-blue-50 border-blue-200",icon:fm},manual_credit:{label:"Crdit Manuel",color:"text-blue-600 bg-blue-50 border-blue-200",icon:fm},user_debited:{label:"Dbit Utilisateur",color:"text-orange-600 bg-orange-50 border-orange-200",icon:$o},withdrawal_approved:{label:"Retrait Approuv",color:"text-green-600 bg-green-50 border-green-200",icon:vl},withdrawal_rejected:{label:"Retrait Rejet",color:"text-red-600 bg-red-50 border-red-200",icon:_j},withdrawal_requested:{label:"Retrait Demand",color:"text-orange-600 bg-orange-50 border-orange-200",icon:$o},role_updated:{label:"Rle Modifi",color:"text-purple-600 bg-purple-50 border-purple-200",icon:lQ},user_deleted:{label:"Utilisateur Supprim",color:"text-destructive bg-destructive/10 border-destructive/20",icon:Vo},login:{label:"Connexion",color:"text-gray-600 bg-gray-50 border-gray-200",icon:E2e},logout:{label:"Dconnexion",color:"text-gray-600 bg-gray-50 border-gray-200",icon:Gg},credit_reversal:{label:"Annulation Crdit",color:"text-amber-600 bg-amber-50 border-amber-200",icon:oQ},license_renewed:{label:"Licence Renouvele",color:"text-indigo-600 bg-indigo-50 border-indigo-200",icon:Nu},default:{label:"Action Admin",color:"text-slate-600 bg-slate-50 border-slate-200",icon:Nu}},aY=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(0),[o,l]=j.useState(1),[c,u]=j.useState(""),[f,h]=j.useState("all"),[g,p]=j.useState({from:null,to:null}),S=j.useCallback(async()=>{n(!0);try{let T=Ze.from("admin_logs").select(`
                    *,
                    actor:actor_id (full_name, email, avatar_url, user_type),
                    target:target_id (full_name, email, avatar_url)
                `,{count:"exact"});if(c){const z=`%${c}%`;T=T.or(`action_type.ilike.${z},actor_name.ilike.${z},target_name.ilike.${z},actor_email.ilike.${z}`)}if(f&&f!=="all"&&(T=T.eq("action_type",f)),g!=null&&g.from&&(T=T.gte("created_at",g.from.toISOString())),g!=null&&g.to){const z=new Date(g.to);z.setHours(23,59,59,999),T=T.lte("created_at",z.toISOString())}const F=(o-1)*fw,L=F+fw-1,{data:B,error:M,count:W}=await T.order("created_at",{ascending:!1}).range(F,L);if(M)throw M;t(B||[]),a(W||0)}catch(T){console.error("Error fetching logs:",T),lt({title:"Erreur",description:"Impossible de charger le journal d'activit.",variant:"destructive"})}finally{n(!1)}},[o,c,f,g]);j.useEffect(()=>{const T=setTimeout(()=>{S()},300);return()=>clearTimeout(T)},[S]);const b=()=>{try{const T=e.map(B=>{var M,W,z,Z;return{Date:ui(new Date(B.created_at),"dd/MM/yyyy HH:mm"),Action:((M=kN[B.action_type])==null?void 0:M.label)||B.action_type,Acteur:((W=B.actor)==null?void 0:W.full_name)||B.actor_name||"Systme",Email_Acteur:((z=B.actor)==null?void 0:z.email)||B.actor_email||"-",Cible:((Z=B.target)==null?void 0:Z.full_name)||B.target_name||"-",Dtails:JSON.stringify(B.details||{})}}),F=qc.utils.json_to_sheet(T),L=qc.utils.book_new();qc.utils.book_append_sheet(L,F,"Journal Activit"),qc.writeFile(L,`journal_activite_${ui(new Date,"yyyyMMdd")}.xlsx`),lt({title:"Export russi",description:"Le fichier a t tlcharg.",variant:"success"})}catch(T){console.error("Export error:",T),lt({title:"Erreur d'export",description:T.message,variant:"destructive"})}},N=T=>kN[T]||kN.default,C=T=>{var M,W,z;const F=T.details||{},L=T.action_type,B=F.reversed===!0;return s.jsxs("div",{className:"text-sm space-y-1.5",children:[(L==="user_credited"||L==="user_debited"||L==="manual_credit")&&s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Montant:"}),s.jsxs(Vr,{variant:"outline",className:"font-mono text-sm font-bold",children:[(M=F.amount)==null?void 0:M.toLocaleString()," "]})]}),F.reason&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Raison:"}),s.jsxs("span",{className:"text-foreground font-medium",children:['"',F.reason,'"']})]})]}),L==="withdrawal_approved"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs(Vr,{className:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",children:[(W=F.amount_pi)==null?void 0:W.toLocaleString()," "]}),F.amount_fcfa&&s.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",(z=F.amount_fcfa)==null?void 0:z.toLocaleString()," FCFA)"]})]}),F.notes&&s.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Notes: ",F.notes]})]}),L==="role_updated"&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Vr,{variant:"secondary",className:"line-through opacity-70",children:F.old_role||"?"}),s.jsx(VZ,{className:"w-3 h-3 text-muted-foreground"}),s.jsx(Vr,{variant:"default",className:"bg-purple-100 text-purple-800 hover:bg-purple-200 border-purple-200",children:F.new_role})]}),B&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-100 rounded-md flex items-start gap-2 text-xs text-red-700 animate-in fade-in slide-in-from-top-1",children:[s.jsx(oQ,{className:"w-4 h-4 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:" ANNUL"}),s.jsxs("p",{children:["Le: ",F.reversed_at?ui(new Date(F.reversed_at),"dd/MM/yyyy HH:mm"):"-"]}),s.jsxs("p",{children:["Par: ",F.reversed_by_name||"Admin"]})]})]}),!["user_credited","manual_credit","user_debited","withdrawal_approved","role_updated"].includes(L)&&Object.keys(F).length>0&&s.jsx("div",{className:"bg-muted/30 rounded p-1.5 text-xs font-mono text-muted-foreground overflow-x-auto",children:Object.entries(F).map(([Z,K])=>Z!=="reversed"&&Z!=="reversed_by"&&Z!=="reversed_at"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("span",{className:"opacity-70",children:[Z,":"]}),s.jsx("span",{className:"font-semibold truncate",children:typeof K=="object"?JSON.stringify(K):String(K)})]},Z))})]})},A=Math.ceil(i/fw);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 items-start md:items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Journal d'Activit"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Historique complet des actions administratives et vnements systme."})]}),s.jsxs("div",{className:"flex items-center gap-2 self-end",children:[s.jsxs(ze,{variant:"outline",size:"sm",onClick:S,disabled:r,children:[r?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(JD,{className:"w-4 h-4 mr-2"}),"Actualiser"]}),s.jsxs(ze,{variant:"default",size:"sm",onClick:b,disabled:e.length===0,children:[s.jsx(Fm,{className:"w-4 h-4 mr-2"})," Exporter"]})]})]}),s.jsxs(Yt,{className:"border-muted",children:[s.jsx(Wr,{className:"pb-3 border-b bg-muted/10",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx($l,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher (action, acteur, cible)...",className:"pl-9 bg-background",value:c,onChange:T=>{u(T.target.value),l(1)}})]}),s.jsxs(_i,{value:f,onValueChange:T=>{h(T),l(1)},children:[s.jsx(gi,{className:"w-full lg:w-[220px] bg-background",children:s.jsx(Ni,{placeholder:"Type d'action"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Toutes les actions"}),Object.entries(kN).map(([T,F])=>T!=="default"&&s.jsx(on,{value:T,children:F.label},T))]})]}),s.jsxs(Ine,{children:[s.jsx(Fne,{asChild:!0,children:s.jsxs(ze,{variant:"outline",className:"w-full lg:w-[240px] justify-start text-left font-normal bg-background",children:[s.jsx(jo,{className:"mr-2 h-4 w-4"}),g!=null&&g.from?g.to?s.jsxs(s.Fragment,{children:[ui(g.from,"d MMM",{locale:Tc})," -"," ",ui(g.to,"d MMM",{locale:Tc})]}):ui(g.from,"d MMM yyyy",{locale:Tc}):s.jsx("span",{children:"Filtrer par date"})]})}),s.jsx(yR,{className:"w-auto p-0",align:"end",children:s.jsx(Ofe,{initialFocus:!0,mode:"range",defaultMonth:g==null?void 0:g.from,selected:g,onSelect:T=>{p(T),l(1)},numberOfMonths:2})})]}),(c||f!=="all"||(g==null?void 0:g.from))&&s.jsx(ze,{variant:"ghost",onClick:()=>{u(""),h("all"),p({from:null,to:null})},className:"px-3 text-muted-foreground hover:text-foreground",children:"Rinitialiser"})]})}),s.jsxs(Qt,{className:"p-0",children:[r&&e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[s.jsx(Zt,{className:"w-10 h-10 animate-spin text-primary/50"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement du journal..."})]}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-3 bg-muted/5",children:[s.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:s.jsx(nQ,{className:"w-8 h-8 text-muted-foreground/50"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Aucune activit trouve"}),s.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Aucun journal ne correspond  vos critres. Essayez de modifier les filtres ou la priode."})]}):s.jsx("div",{className:"divide-y divide-border",children:e.map(T=>{var B,M,W,z,Z,K,q,ie,ae,X;const F=N(T.action_type),L=F.icon;return s.jsx("div",{className:"p-4 hover:bg-accent/5 transition-colors group",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"md:w-[200px] shrink-0 flex md:flex-col items-center md:items-start gap-3 md:gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border shadow-sm shrink-0 ${F.color}`,children:s.jsx(L,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-semibold text-sm md:hidden",children:F.label})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-medium hidden md:inline-block mb-1 px-2 py-0.5 rounded-full bg-muted/50 w-fit",children:F.label}),s.jsx("span",{className:"text-xs text-muted-foreground pl-1",children:ui(new Date(T.created_at),"d MMM yyyy",{locale:Tc})}),s.jsx("span",{className:"text-xs text-muted-foreground pl-1",children:ui(new Date(T.created_at),"HH:mm",{locale:Tc})})]})]}),s.jsxs("div",{className:"md:w-[300px] shrink-0 space-y-2.5 py-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground w-10 shrink-0",children:"Acteur"}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 px-2 py-1 rounded-full max-w-full",children:[s.jsxs(t1,{className:"w-5 h-5 border",children:[s.jsx(r1,{src:(B=T.actor)==null?void 0:B.avatar_url}),s.jsx(n1,{className:"text-[8px] bg-primary/10 text-primary",children:(((W=(M=T.actor)==null?void 0:M.full_name)==null?void 0:W[0])||((z=T.actor_name)==null?void 0:z[0])||"S").toUpperCase()})]}),s.jsx("div",{className:"flex flex-col overflow-hidden",children:s.jsx("span",{className:"text-xs font-medium truncate max-w-[140px]",title:T.actor_email,children:((Z=T.actor)==null?void 0:Z.full_name)||T.actor_name||"Systme"})})]})]}),T.target_id&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground w-10 shrink-0",children:"Cible"}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 px-2 py-1 rounded-full max-w-full",children:[s.jsxs(t1,{className:"w-5 h-5 border",children:[s.jsx(r1,{src:(K=T.target)==null?void 0:K.avatar_url}),s.jsx(n1,{className:"text-[8px] bg-indigo-50 text-indigo-600",children:(((ie=(q=T.target)==null?void 0:q.full_name)==null?void 0:ie[0])||((ae=T.target_name)==null?void 0:ae[0])||"?").toUpperCase()})]}),s.jsx("div",{className:"flex flex-col overflow-hidden",children:s.jsx("span",{className:"text-xs font-medium truncate max-w-[140px]",title:T.target_email,children:((X=T.target)==null?void 0:X.full_name)||T.target_name||"Utilisateur"})})]})]})]}),s.jsxs("div",{className:"flex-1 min-w-0 py-1 border-l md:pl-4 md:border-l-border/50",children:[s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground mb-1",children:"Dtails"}),C(T)]})]})},T.id)})}),i>0&&s.jsxs("div",{className:"p-4 border-t bg-muted/5 flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Affichage de ",s.jsx("strong",{children:(o-1)*fw+1}),"  ",s.jsx("strong",{children:Math.min(o*fw,i)})," sur ",s.jsx("strong",{children:i})," entres"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(T=>Math.max(1,T-1)),disabled:o===1,children:s.jsx(gj,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-xs font-medium px-2",children:["Page ",o," / ",A]}),s.jsx(ze,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(T=>Math.min(A,T+1)),disabled:o===A,children:s.jsx(Hg,{className:"w-4 h-4"})})]})]})]})]})]})},Wpt=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState("all"),{toast:c}=js(),u=async()=>{n(!0);try{const{data:p,error:S}=await Ze.from("paiements_admin").select(`
          id,
          mois,
          ca_zone,
          taux_commission,
          score,
          montant_a_payer,
          statut,
          paye_le,
          admin_id,
          admin:admin_id (
            full_name,
            email
          )
        `).order("mois",{ascending:!1});if(S)throw S;t(p||[])}catch(p){console.error("Error fetching admin payments:",p),c({title:"Erreur",description:"Impossible de charger les paiements administrateurs.",variant:"destructive"})}finally{n(!1)}};j.useEffect(()=>{u()},[]);const f=async p=>{try{const{error:S}=await Ze.from("paiements_admin").update({statut:"pay",paye_le:new Date().toISOString()}).eq("id",p);if(S)throw S;t(e.map(b=>b.id===p?{...b,statut:"pay",paye_le:new Date().toISOString()}:b)),c({title:"Paiement mis  jour",description:'Le statut a t chang en "Pay".',variant:"success"})}catch{c({title:"Erreur",description:"Impossible de mettre  jour le paiement.",variant:"destructive"})}},h=()=>{const p=g.map(N=>{var C,A;return{Mois:ui(new Date(N.mois),"MMMM yyyy",{locale:Tc}),Administrateur:((C=N.admin)==null?void 0:C.full_name)||"Inconnu",Email:((A=N.admin)==null?void 0:A.email)||"Inconnu","CA Zone (FCFA)":N.ca_zone,"Taux Commission (%)":N.taux_commission,"Score Performance":N.score,"Montant  Payer (FCFA)":N.montant_a_payer,Statut:N.statut==="pay"?"Pay":"En attente","Date Paiement":N.paye_le?ui(new Date(N.paye_le),"dd/MM/yyyy"):"-"}}),S=qc.utils.json_to_sheet(p),b=qc.utils.book_new();qc.utils.book_append_sheet(b,S,"Paiements Admin"),qc.writeFile(b,`paiements_admin_${ui(new Date,"dd-MM-yyyy")}.xlsx`)},g=e.filter(p=>{var N,C;const S=(((N=p.admin)==null?void 0:N.full_name)||"").toLowerCase().includes(i.toLowerCase())||(((C=p.admin)==null?void 0:C.email)||"").toLowerCase().includes(i.toLowerCase()),b=o==="all"||p.statut===o;return S&&b});return s.jsxs(Yt,{children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between",children:[s.jsx(qr,{children:"Paiements Administrateurs"}),s.jsxs(ze,{onClick:h,variant:"outline",size:"sm",children:[s.jsx(Fm,{className:"mr-2 h-4 w-4"}),"Exporter Excel"]})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($l,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher un administrateur...",value:i,onChange:p=>a(p.target.value),className:"pl-8"})]}),s.jsxs(_i,{value:o,onValueChange:l,children:[s.jsx(gi,{className:"w-[180px]",children:s.jsx(Ni,{placeholder:"Filtrer par statut"})}),s.jsxs(xi,{children:[s.jsx(on,{value:"all",children:"Tous les statuts"}),s.jsx(on,{value:"en_attente",children:"En attente"}),s.jsx(on,{value:"pay",children:"Pay"})]})]})]}),r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"})}):g.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucun paiement trouv."}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Mois"}),s.jsx(Cn,{children:"Administrateur"}),s.jsx(Cn,{children:"Performance"}),s.jsx(Cn,{className:"text-right",children:"Montant (FCFA)"}),s.jsx(Cn,{children:"Statut"}),s.jsx(Cn,{className:"text-right",children:"Actions"})]})}),s.jsx(Ud,{children:g.map(p=>{var S,b,N,C;return s.jsxs(di,{children:[s.jsx(an,{className:"font-medium",children:ui(new Date(p.mois),"MMMM yyyy",{locale:Tc})}),s.jsx(an,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:((S=p.admin)==null?void 0:S.full_name)||"Inconnu"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:(b=p.admin)==null?void 0:b.email})]})}),s.jsx(an,{children:s.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[s.jsxs("span",{children:["CA: ",(N=p.ca_zone)==null?void 0:N.toLocaleString()," FCFA"]}),s.jsxs("span",{children:["Taux: ",p.taux_commission,"%"]}),s.jsxs("span",{children:["Score: ",p.score]})]})}),s.jsxs(an,{className:"text-right font-bold text-green-600",children:[(C=p.montant_a_payer)==null?void 0:C.toLocaleString()," FCFA"]}),s.jsxs(an,{children:[s.jsx(Vr,{variant:p.statut==="pay"?"success":"warning",children:p.statut==="pay"?"Pay":"En attente"}),p.paye_le&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["le ",ui(new Date(p.paye_le),"dd/MM/yyyy")]})]}),s.jsx(an,{className:"text-right",children:p.statut!=="pay"&&s.jsxs(ze,{size:"sm",onClick:()=>f(p.id),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(vl,{className:"mr-2 h-3 w-3"}),"Marquer pay"]})})]},p.id)})})]})})]})]})},iY=()=>{Ja();const[e,t]=j.useState([]),[r,n]=j.useState(new Map),[i,a]=j.useState(!0),[o,l]=j.useState(""),c=j.useCallback(async()=>{a(!0);try{const{data:p,error:S}=await Ze.from("locations").select("*").order("created_at",{ascending:!1});if(S)throw console.error("Fetch locations error:",S),new Error(`Impossible de charger les lieux: ${S.message}`);const{data:b,error:N}=await Ze.from("profiles").select("id, full_name, email");if(N)throw console.error("Fetch profiles error:",N),new Error(`Impossible de charger les profils utilisateurs: ${N.message}`);const C=new Map(b.map(A=>[A.id,A]));n(C),t(p||[])}catch(p){lt({title:"Erreur de chargement",description:p.message,variant:"destructive"})}finally{a(!1)}},[]);j.useEffect(()=>{c()},[c]);const u=j.useMemo(()=>e.map(p=>({...p,profile:r.get(p.user_id)||{full_name:"N/A",email:""}})),[e,r]),f=j.useMemo(()=>{if(!o)return u;const p=o.toLowerCase();return u.filter(S=>{var b;return S.name&&S.name.toLowerCase().includes(p)||S.city&&S.city.toLowerCase().includes(p)||((b=S.profile)==null?void 0:b.full_name)&&S.profile.full_name.toLowerCase().includes(p)})},[u,o]),h=async p=>{const S=!p.is_active;try{const{error:b}=await Ze.from("locations").update({is_active:S}).eq("id",p.id);if(b)throw b;lt({title:"Statut mis  jour avec succs!"}),c()}catch(b){lt({title:"Erreur lors de la mise  jour",description:b.message,variant:"destructive"})}},g=async p=>{try{const{error:S}=await Ze.rpc("delete_location",{p_location_id:p});if(S)throw S;lt({title:"Lieu supprim avec succs!"}),c()}catch(S){lt({title:"Erreur lors de la suppression",description:S.message,variant:"destructive"})}};return i?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"animate-spin text-primary"})}):s.jsxs(Yt,{className:"glass-effect border-purple-500/20",children:[s.jsx(Wr,{children:s.jsx(qr,{children:"Gestion des Lieux"})}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher par nom, ville ou utilisateur...",value:o,onChange:p=>l(p.target.value),className:"pl-10"})]}),s.jsx("div",{className:"space-y-4",children:f.map(p=>{var S;return s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-grow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(to,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.address,", ",p.city,", ",p.country]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ajout par: ",((S=p.profile)==null?void 0:S.full_name)||"N/A"]}),s.jsx(Vr,{variant:p.is_active?"success":"destructive",className:"mt-1",children:p.is_active?"Actif":"Inactif"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>h(p),children:p.is_active?s.jsx(iQ,{className:"w-5 h-5 text-yellow-500"}):s.jsx(sQ,{className:"w-5 h-5 text-green-500"})}),s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>g(p.id),className:"text-red-500",children:s.jsx(Vo,{className:"w-4 h-4"})})]})]},p.id)})})]})]})},Hpt=()=>{const{user:e}=bn(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState(null),[h,g]=j.useState({credits:!1,revenue:!1}),p=async()=>{i(!0);try{const{data:N,error:C}=await Ze.rpc("get_zones_stats");if(C)throw C;r(N||[])}catch(N){console.error("Error fetching zone stats:",N),lt({title:"Erreur",description:"Impossible de charger les statistiques des zones.",variant:"destructive"})}finally{i(!1)}};j.useEffect(()=>{p()},[]);const S=(N=null)=>{f(N),g({credits:!1,revenue:!1}),c(!0)},b=async()=>{if(!h.credits&&!h.revenue){lt({title:"Slection requise",description:"Veuillez choisir au moins une donne  rinitialiser.",variant:"warning"});return}o(!0),c(!1);try{const N=u?[u]:t;let C=0,A=0;for(const T of N){const{data:F,error:L}=await Ze.rpc("reset_zone_data",{p_admin_id:e.id,p_country:T.country,p_reset_credits:h.credits,p_reset_revenue:h.revenue});L||!F.success?(console.error(`Failed to reset ${T.country}`,L),A++):C++}C>0&&lt({title:"Rinitialisation termine",description:`${C} zone(s) traite(s) avec succs.`,variant:"success"}),A>0&&lt({title:"Erreurs survenues",description:`${A} zone(s) n'ont pas pu tre traites.`,variant:"destructive"}),await p()}catch(N){lt({title:"Erreur critique",description:N.message,variant:"destructive"})}finally{o(!1)}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs(Yt,{className:"border-orange-500/20 shadow-lg",children:[s.jsx(Wr,{className:"bg-orange-500/5 rounded-t-xl",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsxs(qr,{className:"flex items-center gap-2 text-xl text-orange-700 dark:text-orange-400",children:[s.jsx(Vp,{className:"h-6 w-6"}),"Rinitialisation par Zone"]}),s.jsx(Oa,{children:"Grez et remettez  zro les statistiques financires par pays. Utile pour corriger des donnes de test ou dmarrer une nouvelle priode comptable."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ze,{variant:"outline",size:"sm",onClick:p,disabled:n||a,children:[s.jsx(Fu,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Actualiser"]}),s.jsxs(ze,{variant:"destructive",size:"sm",onClick:()=>S(null),disabled:n||a||t.length===0,children:[s.jsx(m2e,{className:"h-4 w-4 mr-2"}),"Tout Rinitialiser"]})]})]})}),s.jsx(Qt,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{className:"bg-muted/50",children:[s.jsx(Cn,{className:"font-bold",children:"Pays / Zone"}),s.jsx(Cn,{className:"text-center",children:"Utilisateurs"}),s.jsx(Cn,{className:"text-right",children:"Crdits Distribus"}),s.jsx(Cn,{className:"text-right",children:"Revenus (Achats)"}),s.jsx(Cn,{className:"text-center",children:"Actions"})]})}),s.jsx(Ud,{children:n?s.jsx(di,{children:s.jsx(an,{colSpan:5,className:"h-32 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-muted-foreground",children:[s.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{children:"Chargement des donnes..."})]})})}):t.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:5,className:"h-32 text-center text-muted-foreground",children:"Aucune donne de zone trouve."})}):t.map(N=>s.jsxs(di,{className:"hover:bg-muted/30 transition-colors",children:[s.jsx(an,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(to,{className:"h-4 w-4 text-primary/70"}),N.country]})}),s.jsx(an,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Zs,{className:"h-3 w-3 text-muted-foreground"}),N.user_count]})}),s.jsx(an,{className:"text-right",children:s.jsxs(Vr,{variant:"outline",className:"font-mono bg-blue-50 text-blue-700 border-blue-200",children:[N.total_credits.toLocaleString()," "]})}),s.jsx(an,{className:"text-right",children:s.jsxs(Vr,{variant:"outline",className:"font-mono bg-green-50 text-green-700 border-green-200",children:[N.total_revenue.toLocaleString()," FCFA"]})}),s.jsx(an,{className:"text-center",children:s.jsxs(ze,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-100",onClick:()=>S(N),disabled:a,children:[s.jsx(Vp,{className:"h-4 w-4 mr-1"}),"Rinitialiser"]})})]},N.country))})]})})})]}),s.jsx(nl,{open:l,onOpenChange:c,children:s.jsxs(Ho,{className:"sm:max-w-[500px]",children:[s.jsxs(qo,{children:[s.jsxs(Go,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Ll,{className:"h-5 w-5"}),"Confirmation de Rinitialisation"]}),s.jsxs(Ko,{children:["Vous tes sur le point de rinitialiser les donnes pour :",s.jsx("span",{className:"font-bold text-foreground block mt-1 text-lg",children:u?u.country:"TOUTES LES ZONES"})]})]}),s.jsxs("div",{className:"py-4 space-y-4 border-y border-border/50",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:"Slectionnez les donnes  supprimer :"}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-md hover:bg-muted/50 border border-transparent hover:border-border transition-all cursor-pointer",onClick:()=>g(N=>({...N,credits:!N.credits})),children:[s.jsx(Su,{id:"reset-credits",checked:h.credits,onCheckedChange:N=>g(C=>({...C,credits:N}))}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsx(kt,{htmlFor:"reset-credits",className:"font-semibold cursor-pointer",children:"Crdits Distribus (Coins)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supprime l'historique des pices crdites manuellement par les administrateurs."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-md hover:bg-muted/50 border border-transparent hover:border-border transition-all cursor-pointer",onClick:()=>g(N=>({...N,revenue:!N.revenue})),children:[s.jsx(Su,{id:"reset-revenue",checked:h.revenue,onCheckedChange:N=>g(C=>({...C,revenue:N}))}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsx(kt,{htmlFor:"reset-revenue",className:"font-semibold cursor-pointer",children:"Revenus (Achats FCFA)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supprime l'historique des achats de packs et licences effectus par les utilisateurs."})]})]})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Annuler"}),s.jsxs(il,{onClick:b,className:"bg-destructive hover:bg-destructive/90",disabled:!h.credits&&!h.revenue,children:[a?s.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Confirmer la Suppression"]})]})]})})]})},qpt=()=>{const[e,t]=j.useState(!0),[r,n]=j.useState([]),[i,a]=j.useState(0),o=j.useCallback(async()=>{t(!0);try{const{data:l,error:c}=await Ze.from("transactions").select("amount_pi, country, transaction_type, created_at, status").in("transaction_type",["manual_credit","credit_reversal","coin_pack","bonus"]);if(c)throw c;console.log("Credits by country: [data]",l);const u={};let f=0;l.forEach(g=>{if(g.status==="completed"||g.status==="paid"){const p=g.country||"Inconnu",S=g.amount_pi||0;u[p]||(u[p]={country:p,totalAmount:0,transactionCount:0,reversals:0}),u[p].totalAmount+=S,u[p].transactionCount+=1,S<0&&(u[p].reversals+=Math.abs(S)),f+=S}});const h=Object.values(u).sort((g,p)=>p.totalAmount-g.totalAmount);n(h),a(f),console.log("Total credits: [amount]",f)}catch(l){console.error("Error fetching credit stats:",l)}finally{t(!1)}},[]);return j.useEffect(()=>{o()},[o]),e?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"animate-spin h-8 w-8 text-primary"})}):s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(Yt,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100",children:[s.jsx(Wr,{className:"pb-2",children:s.jsx(qr,{className:"text-sm font-medium text-muted-foreground",children:"Total Crdits Distribus"})}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-700",children:[i.toLocaleString()," "]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Net aprs annulations"})]})]}),s.jsxs(Yt,{children:[s.jsx(Wr,{className:"pb-2",children:s.jsx(qr,{className:"text-sm font-medium text-muted-foreground",children:"Pays Actifs"})}),s.jsxs(Qt,{children:[s.jsx("div",{className:"text-3xl font-bold",children:r.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Zones gographiques touches"})]})]})]}),s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(a0,{className:"h-5 w-5"}),"Rpartition par Pays"]}),s.jsx(Oa,{children:"Dtail des crdits et achats de pices par zone gographique."})]}),s.jsx(Qt,{children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Pays"}),s.jsx(Cn,{className:"text-right",children:"Transactions"}),s.jsx(Cn,{className:"text-right",children:"Annulations (Reversals)"}),s.jsx(Cn,{className:"text-right",children:"Total Net ()"})]})}),s.jsx(Ud,{children:r.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"Aucune donne de crdit disponible."})}):r.map(l=>s.jsxs(di,{children:[s.jsx(an,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{variant:"outline",className:"rounded-sm",children:l.country.substring(0,2).toUpperCase()}),l.country]})}),s.jsx(an,{className:"text-right",children:l.transactionCount}),s.jsx(an,{className:"text-right text-red-500",children:l.reversals>0?`-${l.reversals.toLocaleString()} `:"-"}),s.jsxs(an,{className:"text-right font-bold text-green-600",children:[l.totalAmount.toLocaleString()," "]})]},l.country))})]})})]})]})},mS=({isSuperAdmin:e,country:t})=>{const{user:r}=bn(),[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState(""),[u,f]=j.useState(null),[h,g]=j.useState(!1),p=j.useCallback(async()=>{o(!0);try{let N=Ze.from("admin_logs").select(`
                    id,
                    created_at,
                    details,
                    actor:actor_id (id, full_name, email),
                    target:target_id (full_name, email, country)
                `).order("created_at",{ascending:!1}).limit(100);e||t&&(N=N.eq("target.country",t));const{data:C,error:A}=await N;if(A)throw A;i(C||[])}catch(N){console.error("Error fetching credit logs:",N),lt({title:"Erreur",description:"Impossible de charger les crdits.",variant:"destructive"})}finally{o(!1)}},[e,t]);j.useEffect(()=>{const N=setTimeout(()=>{p()},500);return()=>clearTimeout(N)},[p,l]);const S=async()=>{if(!(!u||!r)){g(!0);try{const{data:N,error:C}=await Ze.rpc("reverse_credit",{p_log_id:u.id,p_reverser_id:r.id});if(C)throw C;if(N&&!N.success)throw new Error(N.message);lt({title:"Succs",description:"Le crdit a t annul."}),p()}catch(N){lt({title:"Erreur",description:N.message,variant:"destructive"})}finally{g(!1),f(null)}}},b=n.filter(N=>{var A,T,F,L,B,M,W,z,Z;if(!(((A=N.details)==null?void 0:A.reversed)===!0))return!1;if(l){const K=l.toLowerCase();return((F=(T=N.actor)==null?void 0:T.full_name)==null?void 0:F.toLowerCase().includes(K))||((B=(L=N.actor)==null?void 0:L.email)==null?void 0:B.toLowerCase().includes(K))||((W=(M=N.target)==null?void 0:M.full_name)==null?void 0:W.toLowerCase().includes(K))||((Z=(z=N.target)==null?void 0:z.email)==null?void 0:Z.toLowerCase().includes(K))}return!0});return s.jsxs(s.Fragment,{children:[s.jsxs(Yt,{className:"glass-effect",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Historique des Crdits Annuls"}),s.jsxs("div",{className:"relative mt-4",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher par utilisateur ou admin...",value:l,onChange:N=>c(N.target.value),className:"pl-10"})]})]}),s.jsx(Qt,{children:a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):s.jsx("div",{className:"space-y-4",children:b.length>0?b.map(N=>{var C,A,T,F,L,B,M,W;return s.jsxs("div",{className:"p-4 bg-background/50 rounded-lg shadow-sm border border-destructive/20",children:[s.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-destructive",children:["Crdit Annul de ",((C=N.details)==null?void 0:C.amount)||"N/A"," "]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Utilisateur:"})," ",((A=N.target)==null?void 0:A.full_name)||((T=N.target)==null?void 0:T.email)||"N/A"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Crdit par:"})," ",((F=N.actor)==null?void 0:F.full_name)||((L=N.actor)==null?void 0:L.email)||"Systme"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Annul par:"})," ",((B=N.details)==null?void 0:B.reversed_by_name)||"N/A"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Crdit du ",ui(new Date(N.created_at),"d MMM yyyy",{locale:Tc})]}),((M=N.details)==null?void 0:M.reversed_at)&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Annul le ",ui(new Date(N.details.reversed_at),"d MMM yyyy, HH:mm",{locale:Tc})]})]})]}),((W=N.details)==null?void 0:W.reason)&&s.jsx("div",{className:"mt-2 text-xs bg-muted p-2 rounded",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Raison du crdit:"})," ",N.details.reason]})})]},N.id)}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun crdit annul trouv."})})})]}),s.jsx(nl,{open:!!u,onOpenChange:()=>f(null),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:"Confirmer l'annulation"}),s.jsxs(Ko,{children:["Voulez-vous vraiment annuler le crdit de ",u==null?void 0:u.details.amount,"  pour ",u==null?void 0:u.target.full_name," ? Cette action est irrversible."]})]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Non"}),s.jsxs(il,{onClick:S,disabled:h,children:[h&&s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Oui, annuler"]})]})]})})]})},sY=({actorId:e})=>{const[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(""),l=j.useCallback(async()=>{i(!0);try{let u=Ze.from("organizer_withdrawal_requests").select(`
          id,
          amount_pi,
          amount_fcfa,
          status,
          admin_notes,
          requested_at,
          reviewed_at,
          paid_at,
          organizer:organizer_id (full_name, email),
          reviewer:reviewed_by_admin (full_name)
        `).neq("status","pending").order("requested_at",{ascending:!1});e&&(u=u.eq("reviewed_by_admin",e)),a&&(u=u.or(`organizer.full_name.ilike.%${a}%,organizer.email.ilike.%${a}%`));const{data:f,error:h}=await u;if(h)throw h;const g=f.map(p=>({id:p.id,created_at:p.reviewed_at||p.requested_at,action_type:`withdrawal_${p.status}`,details:{amount_pi:p.amount_pi,amount_fcfa:p.amount_fcfa,notes:p.admin_notes,status:p.status},target_user:p.organizer,actor:p.reviewer}));r(g)}catch(u){console.error("Erreur chargement historique:",u),lt({title:"Erreur",description:"Impossible de charger l'historique des retraits.",variant:"destructive"})}finally{i(!1)}},[e,a]);j.useEffect(()=>{l()},[l]);const c=u=>{const f={withdrawal_approved:{variant:"default",label:"Approuv"},withdrawal_rejected:{variant:"destructive",label:"Rejet"},withdrawal_paid:{variant:"secondary",label:"Pay"}},h=f[u]||f.withdrawal_approved;return s.jsx(Vr,{variant:h.variant,children:h.label})};return s.jsxs(Yt,{className:"glass-effect shadow-lg",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Historique des Traitements de Retraits"}),s.jsxs(ze,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center gap-2",children:[s.jsx(Fu,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Actualiser"]})]}),s.jsx(Oa,{children:"Suivi des approbations et rejets de demandes de retrait."})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher par nom ou email d'organisateur...",value:a,onChange:u=>o(u.target.value),className:"pl-10"})]}),n?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Organisateur"}),s.jsx(Cn,{children:"Montant"}),s.jsx(Cn,{children:"Action"}),!e&&s.jsx(Cn,{children:"Trait par"}),s.jsx(Cn,{children:"Date traitement"}),s.jsx(Cn,{children:"Notes"})]})}),s.jsx(Ud,{children:t.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:e?5:6,className:"text-center py-8",children:"Aucun traitement de retrait trouv."})}):t.map(u=>{var f,h,g,p,S,b,N,C;return s.jsxs(di,{children:[s.jsxs(an,{children:[s.jsx("p",{className:"font-semibold",children:((f=u.target_user)==null?void 0:f.full_name)||"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:((h=u.target_user)==null?void 0:h.email)||"N/A"})]}),s.jsxs(an,{children:[s.jsxs("div",{className:"font-bold flex items-center gap-1",children:[(g=u.details)==null?void 0:g.amount_pi," ",s.jsx(Ua,{className:"w-4 h-4 text-yellow-400"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(S=(p=u.details)==null?void 0:p.amount_fcfa)==null?void 0:S.toLocaleString("fr-FR")," FCFA"]})]}),s.jsx(an,{children:c(u.action_type)}),!e&&s.jsx(an,{children:s.jsx("p",{className:"text-sm",children:((b=u.actor)==null?void 0:b.full_name)||"Systme"})}),s.jsxs(an,{children:[new Date(u.created_at).toLocaleDateString("fr-FR"),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleTimeString("fr-FR")})]}),s.jsx(an,{children:s.jsx("div",{className:"text-sm max-w-xs truncate",title:(N=u.details)==null?void 0:N.notes,children:((C=u.details)==null?void 0:C.notes)||""})})]},u.id)})})]})})]})]})},Gpt=({open:e,onOpenChange:t,availableAmount:r,validatedAmount:n=0,estimatedAmount:i=0,onSuccess:a,adminId:o,config:l})=>{const{toast:c}=js(),[u,f]=j.useState(!1),[h,g]=j.useState(""),[p,S]=j.useState(""),[b,N]=j.useState({phone:"",bank_account:"",bank_name:""});j.useEffect(()=>{e&&(g(""),S(""),N({phone:"",bank_account:"",bank_name:""}))},[e]);const C=(l==null?void 0:l.min_withdrawal_amount)||1e3,A=(l==null?void 0:l.max_withdrawal_amount)||5e5,T=l!=null&&l.withdrawal_methods&&Array.isArray(l.withdrawal_methods)?l.withdrawal_methods:["Orange Money","MTN Money","Moov Money","Virement Bancaire"],F=async()=>{const B=Number(h);if(!h||B<=0){c({title:"Erreur",description:"Veuillez entrer un montant valide.",variant:"destructive"});return}if(B<C){c({title:"Montant insuffisant",description:`Minimum: ${C.toLocaleString()} FCFA`,variant:"destructive"});return}if(B>A){c({title:"Montant excessif",description:`Maximum: ${A.toLocaleString()} FCFA`,variant:"destructive"});return}if(B>r){c({title:"Solde insuffisant",description:"Le montant dpasse votre solde total disponible.",variant:"destructive"});return}if(!p){c({title:"Erreur",description:"Slectionnez une mthode de paiement.",variant:"destructive"});return}f(!0);try{const M=p.toLowerCase().includes("bank")||p.toLowerCase().includes("virement")||p.toLowerCase().includes("banque"),W=!M;if(M&&(!b.bank_name||!b.bank_account))throw new Error("Veuillez remplir les dtails bancaires (Banque + Numro).");if(W&&!b.phone)throw new Error("Veuillez entrer le numro de tlphone pour le transfert.");const{error:z}=await Ze.from("admin_withdrawal_requests").insert({admin_id:o,amount_fcfa:B,amount_pi:Math.ceil(B/10),status:"pending",method:p,mobile_money_number:W?b.phone:null,bank_name:M?b.bank_name:null,account_number:M?b.bank_account:null,requested_at:new Date().toISOString(),notes:`Demande partielle ou totale. Solde dispo: ${r}. Demand: ${B}.`});if(z)throw z;c({title:"Demande envoye !",description:`${B.toLocaleString()} FCFA demands via ${p}.`,variant:"success"}),a&&a(),t(!1)}catch(M){console.error("Withdrawal error:",M),c({title:"Erreur",description:M.message||"Impossible de traiter la demande.",variant:"destructive"})}finally{f(!1)}},L=p.toLowerCase().includes("bank")||p.toLowerCase().includes("virement")||p.toLowerCase().includes("banque");return s.jsx(No,{open:e,onOpenChange:t,children:s.jsxs(fo,{className:"sm:max-w-[450px]",children:[s.jsxs(So,{children:[s.jsxs(Co,{className:"flex items-center gap-2 text-xl",children:[s.jsx($o,{className:"h-6 w-6 text-primary"}),"Retrait de Salaire"]}),s.jsx(tl,{children:"Vous pouvez retirer tout ou une partie de votre solde disponible."})]}),s.jsxs("div",{className:"grid gap-5 py-2",children:[s.jsxs(Fl,{className:"bg-blue-50 border-blue-200 text-blue-800 py-3",children:[s.jsx(Md,{className:"h-4 w-4 text-blue-600"}),s.jsxs(jd,{className:"text-sm font-bold ml-2",children:["Solde Disponible: ",r.toLocaleString()," FCFA"]}),s.jsxs(rc,{className:"text-xs ml-2 opacity-90 mt-1",children:["Comprend ",n.toLocaleString()," FCFA valids + ",i.toLocaleString()," FCFA estims."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"amount",className:"font-medium",children:"Montant  retirer (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"amount",type:"number",value:h,onChange:B=>g(B.target.value),placeholder:"Entrez le montant...",className:"pr-20 text-lg font-semibold"}),s.jsx(ze,{type:"button",variant:"ghost",className:"absolute right-1 top-1 h-7 text-xs text-primary hover:text-primary/80",onClick:()=>g(r),children:"Tout retirer"})]}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground px-1",children:[s.jsxs("span",{children:["Min: ",C.toLocaleString()]}),s.jsxs("span",{className:Number(h)>r?"text-red-500 font-bold":"",children:["Max: ",Math.min(A,r).toLocaleString()]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{className:"font-medium",children:"Mthode de paiement"}),s.jsxs(_i,{value:p,onValueChange:S,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Slectionnez un moyen de paiement"})}),s.jsx(xi,{children:T.map((B,M)=>s.jsx(on,{value:B,children:B},M))})]})]}),p&&s.jsx("div",{className:"space-y-3 bg-muted/30 p-3 rounded-md border border-dashed border-muted-foreground/20 animate-in fade-in zoom-in-95 duration-200",children:L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(kt,{className:"text-xs",children:"Nom de la banque"}),s.jsx(rr,{className:"bg-white h-9",value:b.bank_name,onChange:B=>N({...b,bank_name:B.target.value}),placeholder:"Ex: Ecobank, UBA..."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(kt,{className:"text-xs",children:"RIB / Numro de compte"}),s.jsx(rr,{className:"bg-white h-9",value:b.bank_account,onChange:B=>N({...b,bank_account:B.target.value}),placeholder:"CI059..."})]})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs(kt,{className:"text-xs",children:["Numro de tlphone (",p,")"]}),s.jsx(rr,{className:"bg-white h-9",value:b.phone,onChange:B=>N({...b,phone:B.target.value}),placeholder:"+237..."})]})})]}),s.jsxs(ru,{className:"gap-2 sm:gap-0",children:[s.jsx(ze,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(ze,{onClick:F,disabled:u||!h||!p,className:"w-full sm:w-auto",children:[u&&s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmer le retrait"]})]})]})})};var Kpt=Symbol("radix.slottable");function Ypt(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Kpt,t}var[E6,r2t]=dc("Tooltip",[y1]),T6=y1(),Ife="TooltipProvider",Xpt=700,IF="tooltip.open",[Jpt,EL]=E6(Ife),Ffe=e=>{const{__scopeTooltip:t,delayDuration:r=Xpt,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Jpt,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};Ffe.displayName=Ife;var P4="Tooltip",[Zpt,k6]=E6(P4),Dfe=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=EL(P4,e.__scopeTooltip),u=T6(t),[f,h]=j.useState(null),g=sd(),p=j.useRef(0),S=o??c.disableHoverableContent,b=l??c.delayDuration,N=j.useRef(!1),[C,A]=cc({prop:n,defaultProp:i??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(IF))):c.onClose(),a==null||a(M)},caller:P4}),T=j.useMemo(()=>C?N.current?"delayed-open":"instant-open":"closed",[C]),F=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N.current=!1,A(!0)},[A]),L=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,A(!1)},[A]),B=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{N.current=!0,A(!0),p.current=0},b)},[b,A]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(Dj,{...u,children:s.jsx(Zpt,{scope:t,contentId:g,open:C,stateAttribute:T,trigger:f,onTriggerChange:h,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?B():F()},[c.isOpenDelayedRef,B,F]),onTriggerLeave:j.useCallback(()=>{S?L():(window.clearTimeout(p.current),p.current=0)},[L,S]),onOpen:F,onClose:L,disableHoverableContent:S,children:r})})};Dfe.displayName=P4;var FF="TooltipTrigger",Rfe=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=k6(FF,r),a=EL(FF,r),o=T6(r),l=j.useRef(null),c=ka(t,l,i.onTriggerChange),u=j.useRef(!1),f=j.useRef(!1),h=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(H4,{asChild:!0,...o,children:s.jsx(In.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Lr(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Lr(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Lr(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Lr(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Lr(e.onBlur,i.onClose),onClick:Lr(e.onClick,i.onClose)})})});Rfe.displayName=FF;var Qpt="TooltipPortal",[n2t,e1t]=E6(Qpt,{forceMount:void 0}),Sy="TooltipContent",Mfe=j.forwardRef((e,t)=>{const r=e1t(Sy,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=k6(Sy,e.__scopeTooltip);return s.jsx(Bu,{present:n||o.open,children:o.disableHoverableContent?s.jsx(Lfe,{side:i,...a,ref:t}):s.jsx(t1t,{side:i,...a,ref:t})})}),t1t=j.forwardRef((e,t)=>{const r=k6(Sy,e.__scopeTooltip),n=EL(Sy,e.__scopeTooltip),i=j.useRef(null),a=ka(t,i),[o,l]=j.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:h}=n,g=j.useCallback(()=>{l(null),h(!1)},[h]),p=j.useCallback((S,b)=>{const N=S.currentTarget,C={x:S.clientX,y:S.clientY},A=s1t(C,N.getBoundingClientRect()),T=o1t(C,A),F=l1t(b.getBoundingClientRect()),L=u1t([...T,...F]);l(L),h(!0)},[h]);return j.useEffect(()=>()=>g(),[g]),j.useEffect(()=>{if(c&&f){const S=N=>p(N,f),b=N=>p(N,c);return c.addEventListener("pointerleave",S),f.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",S),f.removeEventListener("pointerleave",b)}}},[c,f,p,g]),j.useEffect(()=>{if(o){const S=b=>{const N=b.target,C={x:b.clientX,y:b.clientY},A=(c==null?void 0:c.contains(N))||(f==null?void 0:f.contains(N)),T=!c1t(C,o);A?g():T&&(g(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,f,o,u,g]),s.jsx(Lfe,{...e,ref:a})}),[r1t,n1t]=E6(P4,{isInside:!1}),a1t=Ypt("TooltipContent"),Lfe=j.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=k6(Sy,r),u=T6(r),{onClose:f}=c;return j.useEffect(()=>(document.addEventListener(IF,f),()=>document.removeEventListener(IF,f)),[f]),j.useEffect(()=>{if(c.trigger){const h=g=>{const p=g.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),s.jsx(xx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:s.jsxs(Rj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(a1t,{children:n}),s.jsx(r1t,{scope:r,isInside:!0,children:s.jsx(Fve,{id:c.contentId,role:"tooltip",children:i||n})})]})})});Mfe.displayName=Sy;var Bfe="TooltipArrow",i1t=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=T6(r);return n1t(Bfe,r).isInside?null:s.jsx(Mj,{...i,...n,ref:t})});i1t.displayName=Bfe;function s1t(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function o1t(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function l1t(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function c1t(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,f=l.y,h=c.x,g=c.y;f>n!=g>n&&r<(h-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function u1t(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),d1t(t)}function d1t(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var f1t=Ffe,h1t=Dfe,m1t=Rfe,$fe=Mfe;const p1t=f1t,g1t=h1t,x1t=m1t,Ufe=Ie.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx($fe,{ref:n,sideOffset:t,className:Ir("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ufe.displayName=$fe.displayName;const v1t=()=>{const{user:e}=bn(),{userProfile:t}=Ja(),[r,n]=j.useState(!0),[i,a]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState(null),[f,h]=j.useState(0),[g,p]=j.useState(0),[S,b]=j.useState(0),[N,C]=j.useState(0),[A,T]=j.useState(0),[F,L]=j.useState({withdrawal_available_date:5}),[B,M]=j.useState(!1),[W,z]=j.useState(!1),[Z,K]=j.useState(null),[q,ie]=j.useState(null),ae=j.useCallback(async()=>{if(e){console.log("Refreshing balance..."),n(!0);try{const{data:ce}=await Ze.from("admin_withdrawal_config").select("*").limit(1).maybeSingle(),ge=ce||{withdrawal_available_date:5};L(ge);const we=new Date,Ce=we.getDate(),Q=ge.withdrawal_available_date;let le;Ce>=Q?le=we:le=N8e(we,Q),K(le);const{data:ne}=await Ze.from("admin_balances").select("available_balance").eq("admin_id",e.id).maybeSingle(),ee=(ne==null?void 0:ne.available_balance)||0;h(ee);const{data:pe,error:xe}=await Ze.rpc("get_admin_salary_stats",{p_admin_id:e.id,p_month:new Date().toISOString()});let Ne=0;!xe&&pe&&(Ne=pe.total_salary_fcfa||0,p(Ne),T(pe.personal_score||0));const{data:Se}=await Ze.from("admin_payment_info").select("*").eq("admin_id",e.id).maybeSingle();ie(Se);const{data:je,error:Ge}=await Ze.from("admin_withdrawal_requests").select("*").eq("admin_id",e.id).order("requested_at",{ascending:!1});if(Ge)throw Ge;const De=je||[];l(De),a(De.filter(tr=>tr.status==="approved"));const at=De.filter(tr=>tr.status==="pending").reduce((tr,Ot)=>tr+(Ot.amount_fcfa||0),0);C(at);const ot=Math.max(0,ee+Ne-at);b(ot);const ht=Ce>=Q,Ue=ot>0,Ct=De.some(tr=>tr.status==="pending");z(ht&&Ue&&!Ct)}catch(ce){console.error("Error fetching salary data:",ce),lt({title:"Erreur",description:"Impossible de charger les donnes financires.",variant:"destructive"})}finally{n(!1)}}},[e]);j.useEffect(()=>{if(!e)return;const ce=Ze.channel("admin-salary-updates").on("postgres_changes",{event:"*",schema:"public",table:"admin_withdrawal_requests",filter:`admin_id=eq.${e.id}`},ge=>{console.log("Real-time: Withdrawal request update detected",ge),ae()}).on("postgres_changes",{event:"*",schema:"public",table:"admin_balances",filter:`admin_id=eq.${e.id}`},ge=>{console.log("Real-time: Balance update detected",ge),ae()}).subscribe();return()=>{Ze.removeChannel(ce)}},[e,ae]),j.useEffect(()=>{ae()},[ae]);const X=ce=>{if(!ce||!q)return null;const ge=ce.toLowerCase();return ge.includes("orange")?q.orange_money:ge.includes("mtn")?q.mtn_money:ge.includes("moov")?q.moov_money:ge.includes("wave")?q.wave_number:ge.includes("bank")&&q.bank_iban?q.bank_iban:null},se=ce=>ce?`+237 ${ce.substring(0,2)} ${ce.substring(2,4)} ${ce.substring(4,6)} ${ce.substring(6,8)}`:"",he=async ce=>{var ge,we,Ce,Q,le,ne;if(!(!ce||!t)){u(ce.id);try{const ee=new da,pe=ee.internal.pageSize.getWidth(),xe=20;ee.setFillColor(30,41,59),ee.rect(0,0,pe,50,"F"),ee.setTextColor(255,255,255),ee.setFontSize(22),ee.setFont("helvetica","bold"),ee.text("BONPLANINFOS",xe,30),ee.setFontSize(14),ee.setFont("helvetica","normal"),ee.text("REU DE PAIEMENT CERTIFI",pe-xe,30,{align:"right"}),ee.setFontSize(10),ee.text("Document officiel de transaction",pe-xe,37,{align:"right"}),ee.setDrawColor(79,70,229),ee.setLineWidth(1),ee.line(xe,55,pe-xe,55),ee.setTextColor(0,0,0),ee.setFontSize(10),ee.text(`Date d'mission: ${ui(new Date,"dd/MM/yyyy HH:mm")}`,xe,65),ee.text(`N de rfrence: ${ce.id.substring(0,8).toUpperCase()}`,xe,72),ee.text("Type de transaction: Retrait Salaire Administrateur",pe-xe,65,{align:"right"}),ee.text("Statut: PAY",pe-xe,72,{align:"right"}),ee.setFontSize(14),ee.setFont("helvetica","bold"),ee.setTextColor(30,41,59),ee.text("INFORMATIONS DU BNFICIAIRE",pe/2,90,{align:"center"}),ee.setDrawColor(200,200,200),ee.setLineWidth(.5),ee.rect(xe,95,pe-2*xe,70),ee.setFontSize(10),ee.setFont("helvetica","bold"),ee.text("Nom complet:",xe+5,108),ee.setFont("helvetica","normal"),ee.text((t==null?void 0:t.full_name)||(e==null?void 0:e.email)||"Non spcifi",xe+40,108),ee.setFont("helvetica","bold"),ee.text("Email:",xe+5,116),ee.setFont("helvetica","normal"),ee.text((t==null?void 0:t.email)||"Non spcifi",xe+40,116),ee.setFont("helvetica","bold"),ee.text("Tlphone:",xe+5,124),ee.setFont("helvetica","normal"),ee.text(se(t==null?void 0:t.phone)||(t==null?void 0:t.phone)||"Non spcifi",xe+40,124),ee.setFont("helvetica","bold"),ee.text("Ville:",xe+5,132),ee.setFont("helvetica","normal"),ee.text((t==null?void 0:t.city)||"Non spcifie",xe+40,132),ee.setFont("helvetica","bold"),ee.text("Pays:",xe+5,140),ee.setFont("helvetica","normal"),ee.text((t==null?void 0:t.country)||"Non spcifi",xe+40,140),ee.setFont("helvetica","bold"),ee.text("Type de licence:",pe/2,108),ee.setFont("helvetica","normal"),ee.text((t==null?void 0:t.license_type)||"Administrateur",pe/2+45,108),ee.setFont("helvetica","bold"),ee.text("N de licence:",pe/2,116),ee.setFont("helvetica","normal"),ee.text((t==null?void 0:t.license_number)||"N/A",pe/2+45,116),ee.setFont("helvetica","bold"),ee.text("IBAN:",pe/2,124),ee.setFont("helvetica","normal"),ee.text((q==null?void 0:q.bank_iban)||"Non spcifi",pe/2+45,124),ee.setFont("helvetica","bold"),ee.text("Mthode retrait:",pe/2,132),ee.setFont("helvetica","normal"),ee.text(ce.method||"Non spcifie",pe/2+45,132),ee.setFont("helvetica","bold"),ee.text("ID Admin:",pe/2,140),ee.setFont("helvetica","normal"),ee.text(((ge=e==null?void 0:e.id)==null?void 0:ge.substring(0,8))||"N/A",pe/2+45,140),ee.setFontSize(16),ee.setFont("helvetica","bold"),ee.setTextColor(79,70,229),ee.text("DTAILS DU PAIEMENT",pe/2,165,{align:"center"}),ee.setFillColor(34,197,94),ee.rect(xe,170,pe-2*xe,40,"F"),ee.setTextColor(255,255,255),ee.setFontSize(18),ee.setFont("helvetica","bold"),ee.text("MONTANT VERS",pe/2,185,{align:"center"});const Ne=((we=ce.amount_fcfa)==null?void 0:we.toString().replace(/\//g,".").replace(/\s/g,"."))||((Ce=ce.amount_fcfa)==null?void 0:Ce.toString());ee.setTextColor(255,255,255),ee.setFontSize(28),ee.setFont("helvetica","bold"),ee.text(`${Ne} FCFA`,pe/2,205,{align:"center"}),ee.setTextColor(0,0,0),ee.setFontSize(10),ee.setFont("helvetica","normal");const Se=220;ee.text("Dtails transactionnels:",xe,Se);const je=X(ce.method),Ge=[["Date de demande",ui(new Date(ce.requested_at),"dd/MM/yyyy HH:mm")],["Date de traitement",ce.processed_at?ui(new Date(ce.processed_at),"dd/MM/yyyy HH:mm"):ui(new Date,"dd/MM/yyyy HH:mm")],["Rfrence interne",`BPI-${ce.id.substring(0,6).toUpperCase()}`]];je&&Ge.push(["N compte/portefeuille",je]),Ge.forEach(([at,ot],ht)=>{const Ue=Se+10+ht*8;ee.setFont("helvetica","bold"),ee.text(`${at}:`,xe,Ue),ee.setFont("helvetica","normal"),ee.text(ot,xe+70,Ue)}),((Q=ce.method)!=null&&Q.toLowerCase().includes("mobile")||(le=ce.method)!=null&&le.toLowerCase().includes("money"))&&(ee.setFillColor(255,251,235),ee.rect(xe,265,pe-2*xe,25,"F"),ee.setDrawColor(252,211,77),ee.setLineWidth(.5),ee.rect(xe,265,pe-2*xe,25),ee.setTextColor(194,65,12),ee.setFontSize(8),ee.setFont("helvetica","bold"),ee.text(" POUR TRANSFERT MOBILE MONEY",xe+5,275),ee.setFont("helvetica","normal"),ee.setTextColor(0,0,0),ee.text(`Envoyez le paiement au: ${se(je)||je||(t==null?void 0:t.phone)||""}`,xe+5,282)),ee.setFillColor(30,41,59),ee.rect(0,300,pe,40,"F"),ee.setTextColor(255,255,255),ee.setFontSize(8),ee.setFont("helvetica","normal"),ee.text("BonPlanInfos - Plateforme d'information et de services",pe/2,315,{align:"center"}),ee.text("Email: support@bonplaninfos.com | Tlphone: +237 6XX XX XX XX",pe/2,322,{align:"center"}),ee.text(" 2025 BonPlanInfos. Tous droits rservs. Ce document fait foi de paiement.",pe/2,329,{align:"center"}),ee.setTextColor(240,240,240,20),ee.setFontSize(60),ee.setFont("helvetica","bold"),ee.text("PAY",pe/2,200,{align:"center",angle:45});const De=`recu_paiement_${((ne=t==null?void 0:t.full_name)==null?void 0:ne.replace(/\s+/g,"_"))||"admin"}_${ce.amount_fcfa}_${ui(new Date(ce.requested_at),"yyyyMMdd")}.pdf`;ee.save(De),lt({title:"Reu gnr avec succs",description:"Votre reu de paiement a t tlcharg.",variant:"default"})}catch(ee){console.error("Erreur gnration PDF:",ee),lt({title:"Erreur",description:"Impossible de gnrer le PDF.",variant:"destructive"})}finally{u(null)}}};return r&&!S?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[W&&s.jsxs("div",{className:"bg-green-100 border border-green-200 text-green-800 px-6 py-4 rounded-lg flex items-center justify-between shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-200 p-2 rounded-full",children:s.jsx($o,{className:"w-5 h-5 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:"Salaire disponible pour retrait !"}),s.jsx("p",{className:"text-sm",children:"Vous pouvez retirer votre solde valid ainsi que votre estimation du mois courant."})]})]}),s.jsx(ze,{onClick:()=>M(!0),className:"bg-green-600 hover:bg-green-700 text-white border-none shadow-md",children:"Retirer maintenant"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Yt,{className:"md:col-span-1 shadow-lg border-primary/10 bg-gradient-to-br from-white to-indigo-50/30 dark:from-gray-900 dark:to-gray-800/50",children:[s.jsx(Wr,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(qr,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Solde Total Disponible"}),s.jsx(p1t,{children:s.jsxs(g1t,{children:[s.jsx(x1t,{children:s.jsx(Md,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(Ufe,{children:s.jsx("p",{children:"Calcul: (Valid + Estimation) - Demandes en attente"})})]})})]})}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"text-3xl font-bold text-primary mb-1",children:[S.toLocaleString()," ",s.jsx("span",{className:"text-lg text-muted-foreground",children:"FCFA"})]}),s.jsxs("div",{className:"mt-3 mb-4 bg-white/50 dark:bg-black/20 p-2 rounded border border-indigo-100 dark:border-indigo-900 text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Solde valid:"}),s.jsxs("span",{className:"font-semibold",children:[f.toLocaleString()," FCFA"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Estimation en cours:"}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",g.toLocaleString()," FCFA"]})]}),N>0&&s.jsxs("div",{className:"flex justify-between text-amber-600",children:[s.jsx("span",{children:"En attente:"}),s.jsxs("span",{className:"font-semibold",children:["-",N.toLocaleString()," FCFA"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(Vr,{variant:W?"success":"secondary",className:"rounded-full px-2",children:W?"Retrait ouvert":N>0?"Retrait en cours":"En attente"}),!W&&!N&&s.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-1",children:[s.jsx(N0,{className:"w-3 h-3"})," Dispo le ",F.withdrawal_available_date," du mois"]})]}),s.jsx(ze,{className:"w-full",onClick:()=>M(!0),disabled:!W,children:W?"Demander un retrait":N>0?"Traitement en cours...":`Disponible le ${F.withdrawal_available_date}`})]})]}),s.jsxs(Yt,{className:"md:col-span-1 shadow-md",children:[s.jsx(Wr,{className:"pb-2",children:s.jsx(qr,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Performance (Mois en cours)"})}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-200 mb-1",children:[g.toLocaleString()," ",s.jsx("span",{className:"text-lg text-muted-foreground",children:"FCFA"})]}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Score Personnel"}),s.jsx("span",{className:"font-bold text-indigo-600",children:A.toFixed(2)})]}),s.jsx(V_,{value:A*100,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"* Votre performance actuelle est incluse dans le solde disponible pour retrait."})]})]})]}),s.jsxs(Yt,{className:"md:col-span-1 shadow-md bg-slate-50 dark:bg-slate-900/50",children:[s.jsx(Wr,{className:"pb-2",children:s.jsx(qr,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Prochaine Date"})}),s.jsxs(Qt,{className:"flex flex-col justify-center h-[140px]",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx(c2e,{className:"w-10 h-10 text-indigo-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:Z?ui(Z,"dd MMMM yyyy",{locale:Tc}):"---"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ouverture des retraits"})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-2 bg-white dark:bg-slate-800 p-2 rounded border",children:s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx(Ll,{className:"w-3 h-3 mt-0.5 text-amber-500"}),"Les demandes sont traites sous 48h ouvres aprs soumission."]})})]})]})]}),s.jsxs(Yt,{className:"shadow-lg",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Nu,{className:"w-5 h-5"})," Historique des Retraits"]}),s.jsx(Oa,{children:"Consultez l'tat de vos demandes et tlchargez vos reus."})]}),s.jsx(Qt,{children:o.length>0?s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Date demande"}),s.jsx(Cn,{children:"Montant"}),s.jsx(Cn,{children:"Mthode"}),s.jsx(Cn,{children:"Statut"}),s.jsx(Cn,{className:"text-right",children:"Reu"})]})}),s.jsx(Ud,{children:o.map(ce=>s.jsxs(di,{children:[s.jsx(an,{className:"font-medium",children:ui(new Date(ce.requested_at),"dd/MM/yyyy HH:mm")}),s.jsxs(an,{className:"font-bold text-indigo-600",children:[ce.amount_fcfa.toLocaleString()," FCFA"]}),s.jsx(an,{children:s.jsx("span",{className:"capitalize",children:ce.method||ce.withdrawal_method||"---"})}),s.jsx(an,{children:s.jsx(Vr,{variant:ce.status==="approved"||ce.status==="paid"?"success":ce.status==="rejected"?"destructive":"secondary",children:ce.status==="approved"?"Valid":ce.status==="paid"?"Pay":ce.status==="rejected"?"Rejet":"En attente"})}),s.jsx(an,{className:"text-right",children:(ce.status==="approved"||ce.status==="paid")&&s.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>he(ce),disabled:c===ce.id,children:c===ce.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(Fm,{className:"h-4 w-4 text-gray-500"})})})]},ce.id))})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/10 rounded-lg border border-dashed border-muted-foreground/20",children:[s.jsx(cd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"Aucun historique de retrait pour le moment."})]})})]}),s.jsx(Gpt,{open:B,onOpenChange:M,availableAmount:S,validatedAmount:f,estimatedAmount:g,adminId:e==null?void 0:e.id,config:F,onSuccess:()=>{ae(),console.log("Withdrawal request created successfully")}})]})},y1t=()=>{const[e,t]=j.useState("requests");return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Retraits Salaires"}),s.jsx("p",{className:"text-muted-foreground",children:"Supervisez et validez les demandes de salaire des administrateurs."})]})}),s.jsxs(O0,{value:e,onValueChange:t,children:[s.jsxs(Th,{children:[s.jsx(Hn,{value:"requests",children:"Demandes en attente"}),s.jsx(Hn,{value:"history",children:"Historique"}),s.jsx(Hn,{value:"config",children:"Configuration"})]}),s.jsx(qn,{value:"requests",className:"space-y-4 animate-in fade-in slide-in-from-left-2",children:s.jsx(oY,{status:"pending"})}),s.jsx(qn,{value:"history",className:"space-y-4 animate-in fade-in slide-in-from-left-2",children:s.jsx(oY,{status:"history"})}),s.jsx(qn,{value:"config",className:"space-y-4 animate-in fade-in slide-in-from-left-2",children:s.jsx(b1t,{})})]})]})},oY=({status:e})=>{const{user:t}=bn(),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(null),c=async()=>{a(!0);try{let f=Ze.from("admin_withdrawal_requests").select(`
                    *,
                    admin:admin_id (
                        full_name,
                        email,
                        phone,
                        city,
                        country
                    )
                `).order("requested_at",{ascending:!1});e==="pending"?f=f.eq("status","pending"):f=f.neq("status","pending");const{data:h,error:g}=await f;if(g)throw g;n(h||[])}catch(f){console.error("Error fetching requests:",f),lt({title:"Erreur",description:"Impossible de charger les demandes.",variant:"destructive"})}finally{a(!1)}};j.useEffect(()=>{c()},[e]);const u=async(f,h)=>{l(f);try{if(h==="approved"){const{data:g,error:p}=await Ze.rpc("approve_admin_withdrawal",{p_request_id:f,p_processed_by:t.id});if(p)throw p;if(!g.success)throw new Error(g.message);lt({title:"Succs",description:"Demande approuve et solde mis  jour.",variant:"success"})}else{const{error:g}=await Ze.from("admin_withdrawal_requests").update({status:"rejected",processed_at:new Date().toISOString(),processed_by:t.id}).eq("id",f);if(g)throw g;lt({title:"Rejet",description:"Demande rejete."})}c()}catch(g){console.error("Processing error:",g),lt({title:"Erreur",description:g.message,variant:"destructive"})}finally{l(null)}};return i?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:e==="pending"?"Validations requises":"Historique complet"}),s.jsx(Oa,{children:"Vrifiez les identifiants de paiement avant de valider."})]}),s.jsx(Qt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Demandeur"}),s.jsx(Cn,{children:"Montant"}),s.jsx(Cn,{children:"Dtails Paiement"}),s.jsx(Cn,{children:"Infos Contact"}),s.jsx(Cn,{children:"Date"}),s.jsx(Cn,{children:"Statut"}),e==="pending"&&s.jsx(Cn,{className:"text-right",children:"Actions"})]})}),s.jsx(Ud,{children:r.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Aucune demande trouve."})}):r.map(f=>{var h,g,p,S,b,N,C,A,T,F;return s.jsxs(di,{className:f.status==="pending"?"bg-muted/20":"",children:[s.jsx(an,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:((g=(h=f.admin)==null?void 0:h.full_name)==null?void 0:g.charAt(0))||"A"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:(p=f.admin)==null?void 0:p.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(S=f.admin)==null?void 0:S.email})]})]})}),s.jsxs(an,{children:[s.jsx("span",{className:"font-bold text-lg text-primary",children:(b=f.amount_fcfa)==null?void 0:b.toLocaleString("fr-FR")}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"FCFA"})]}),s.jsx(an,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(Vr,{variant:"outline",className:"w-fit capitalize",children:(N=f.method)==null?void 0:N.replace("_"," ")}),s.jsx("div",{className:"flex items-center gap-1.5 text-sm font-medium",children:(C=f.method)!=null&&C.includes("bank")?s.jsxs(s.Fragment,{children:[s.jsx(fm,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsxs("span",{children:[f.bank_name," - ",f.account_number]})]}):s.jsxs(s.Fragment,{children:[s.jsx(y2e,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:f.mobile_money_number||f.account_number})]})})]})}),s.jsx(an,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx(Py,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:((A=f.admin)==null?void 0:A.phone)||"N/A"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(T=f.admin)==null?void 0:T.city,", ",(F=f.admin)==null?void 0:F.country]})]})}),s.jsxs(an,{children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:ui(new Date(f.requested_at),"dd MMM yyyy",{locale:Tc})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ui(new Date(f.requested_at),"HH:mm")})]}),s.jsx(an,{children:s.jsx(Vr,{variant:f.status==="pending"?"secondary":f.status==="approved"?"success":"destructive",children:f.status==="approved"?"Valid":f.status==="pending"?"En attente":"Refus"})}),e==="pending"&&s.jsx(an,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ze,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8 w-8 p-0",onClick:()=>u(f.id,"approved"),disabled:o===f.id,title:"Approuver",children:o===f.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(yx,{className:"h-4 w-4"})}),s.jsx(ze,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>u(f.id,"rejected"),disabled:o===f.id,title:"Rejeter",children:o===f.id?s.jsx(Zt,{className:"h-4 w-4 animate-spin"}):s.jsx(wl,{className:"h-4 w-4"})})]})})]},f.id)})})]})})})]})},b1t=()=>{const[e,t]=j.useState({withdrawal_available_date:5,min_withdrawal_amount:1e3,max_withdrawal_amount:5e5,withdrawal_methods:["Orange Money","Bank Transfer"]}),[r,n]=j.useState(!0),[i,a]=j.useState(!1),o=async()=>{n(!0);try{const{data:c,error:u}=await Ze.from("admin_withdrawal_config").select("*").limit(1).maybeSingle();c&&t(c)}catch(c){console.error("Error config:",c)}finally{n(!1)}};j.useEffect(()=>{o()},[]);const l=async()=>{a(!0);try{const c={withdrawal_available_date:parseInt(e.withdrawal_available_date),min_withdrawal_amount:parseInt(e.min_withdrawal_amount),max_withdrawal_amount:parseInt(e.max_withdrawal_amount),withdrawal_methods:Array.isArray(e.withdrawal_methods)?e.withdrawal_methods:e.withdrawal_methods.split(",").map(f=>f.trim())},{error:u}=await Ze.from("admin_withdrawal_config").upsert(e.id?{...c,id:e.id}:c);if(u)throw u;lt({title:"Configuration sauvegarde",variant:"success"}),o()}catch(c){lt({title:"Erreur",description:c.message,variant:"destructive"})}finally{a(!1)}};return r?s.jsx("div",{className:"flex justify-center p-10",children:s.jsx(Zt,{className:"animate-spin"})}):s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Configuration du systme"}),s.jsx(Oa,{children:"Paramtres globaux pour les retraits administrateurs."})]}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Jour d'ouverture (du mois)"}),s.jsx(rr,{type:"number",min:"1",max:"28",value:e.withdrawal_available_date,onChange:c=>t({...e,withdrawal_available_date:c.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Date  partir de laquelle le retrait est possible."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Mthodes autorises (virgule)"}),s.jsx(rr,{value:Array.isArray(e.withdrawal_methods)?e.withdrawal_methods.join(", "):e.withdrawal_methods,onChange:c=>t({...e,withdrawal_methods:c.target.value.split(",")})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Minimim (FCFA)"}),s.jsx(rr,{type:"number",value:e.min_withdrawal_amount,onChange:c=>t({...e,min_withdrawal_amount:c.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Maximum (FCFA)"}),s.jsx(rr,{type:"number",value:e.max_withdrawal_amount,onChange:c=>t({...e,max_withdrawal_amount:c.target.value})})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(ze,{onClick:l,disabled:i,children:[i&&s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(bj,{className:"mr-2 h-4 w-4"})," Sauvegarder"]})})]})]})},w1t=({userProfile:e})=>{const{t}=za(),[r,n]=j.useState({credited:0,purchased:0,activeUsers:0,monthlyRevenue:0}),[i,a]=j.useState(!0),o=j.useCallback(async()=>{if(!(e!=null&&e.country)){a(!1);return}a(!0);try{const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0);let f=Ze.from("transactions").select("amount_pi").eq("country",e.country).eq("transaction_type","manual_credit").gte("created_at",c.toISOString()).lte("created_at",u.toISOString());e.city&&(f=f.eq("city",e.city));const{data:h,error:g}=await f;if(g)throw g;const p=h.reduce((W,z)=>W+(z.amount_pi||0),0);let S=Ze.from("user_coin_transactions").select(`
                    amount_fcfa,
                    user:user_id!inner(country, city)
                `).eq("user.country",e.country).gte("created_at",c.toISOString()).lte("created_at",u.toISOString()).eq("status","completed");e.city&&(S=S.eq("user.city",e.city));const{data:b,error:N}=await S;if(N)throw N;const C=b.reduce((W,z)=>W+(Number(z.amount_fcfa)||0),0);let A=Ze.from("profiles").select("id",{count:"exact"}).eq("country",e.country).eq("is_active",!0);e.city&&(A=A.eq("city",e.city));const{count:T,error:F}=await A;if(F)throw F;const M=p*10+C;n({credited:p,purchased:C,activeUsers:T||0,monthlyRevenue:M})}catch(l){console.error("Failed to fetch admin stats:",l),lt({title:t("admin_dashboard.stats.error_title"),description:l.message,variant:"destructive"})}finally{a(!1)}},[e,t]);return j.useEffect(()=>{o()},[o]),i?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:s.jsxs(Yt,{className:"glass-effect shadow-lg",children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qr,{className:"text-sm font-medium",children:"Chargement..."}),s.jsx(Zt,{className:"h-5 w-5 text-primary animate-spin"})]}),s.jsx(Qt,{children:s.jsx("div",{className:"text-2xl font-bold",children:"..."})})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(Yt,{className:"glass-effect shadow-lg border-l-4 border-l-green-500",children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qr,{className:"text-sm font-medium",children:t("admin_dashboard.stats.revenue_title")}),s.jsx(dh,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[r.monthlyRevenue.toLocaleString("fr-FR")," FCFA"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{className:"block",children:["Achats: ",r.purchased.toLocaleString("fr-FR")," FCFA"]}),s.jsxs("span",{className:"block",children:["Crdits: ",(r.credited*10).toLocaleString("fr-FR")," FCFA (",r.credited," )"]})]})]})]}),s.jsxs(Yt,{className:"glass-effect shadow-lg",children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qr,{className:"text-sm font-medium",children:"Utilisateurs actifs"}),s.jsx(Zs,{className:"h-5 w-5 text-primary"})]}),s.jsxs(Qt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.activeUsers.toLocaleString("fr-FR")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"dans votre zone"})]})]}),s.jsxs(Yt,{className:"glass-effect shadow-lg",children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qr,{className:"text-sm font-medium",children:"Zone"}),s.jsx(to,{className:"h-5 w-5 text-primary"})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"text-lg font-bold",children:[e==null?void 0:e.country,(e==null?void 0:e.city)&&`, ${e.city}`]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e!=null&&e.city?"Ville spcifique":"Tout le pays"})]})]})]})},_1t=({user:e})=>{const{t}=za(),[r,n]=j.useState(null),[i,a]=j.useState({days:0,hours:0,minutes:0,seconds:0,expired:!1,totalSeconds:0}),[o,l]=j.useState(!0),[c,u]=j.useState(!1),f=j.useCallback(async()=>{if(!(e!=null&&e.id))return;l(!0);const{data:Z,error:K}=await Ze.from("partners").select("*, license:license_id(*)").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();K?lt({title:t("admin_dashboard.license.partner_error_title"),variant:"destructive",description:K.message}):n(Z),l(!1)},[e,t]);j.useEffect(()=>{f()},[f]),j.useEffect(()=>{if(!(r!=null&&r.expiration_date))return;const Z=()=>{const q=new Date(r.expiration_date),ie=new Date,ae=q.getTime()-ie.getTime();if(ae<=0){a({days:0,hours:0,minutes:0,seconds:0,expired:!0,totalSeconds:0});return}const X=Math.floor(ae/1e3),se=Math.floor(X/(3600*24)),he=Math.floor(X%(3600*24)/3600),ce=Math.floor(X%3600/60),ge=Math.floor(X%60);a({days:se,hours:he,minutes:ce,seconds:ge,expired:!1,totalSeconds:X})};Z();const K=setInterval(Z,1e3);return()=>clearInterval(K)},[r==null?void 0:r.expiration_date]);const h=async()=>{if(r){u(!0);try{const{error:Z}=await Ze.from("licence_renewal_requests").insert({admin_id:e.id,licence_id:r.license_id,status:"pending",request_date:new Date().toISOString()});if(Z)throw Z;lt({title:t("admin_dashboard.license.renewal_sent_title"),description:t("admin_dashboard.license.renewal_sent_desc")})}catch(Z){lt({title:t("common.error_title"),description:t("admin_dashboard.license.renewal_error_desc")+Z.message,variant:"destructive"})}finally{u(!1)}}};if(o)return s.jsx("div",{className:"p-4 mb-6 rounded-lg bg-background/50 flex justify-center items-center",children:s.jsx(Zt,{className:"animate-spin"})});if(!r)return null;const g=new Date(r.activation_date),p=new Date(r.expiration_date),{days:S,hours:b,minutes:N,seconds:C,expired:A,totalSeconds:T}=i,F=new Date,L=new Date(r.expiration_date),B=Math.ceil((L-F)/(1e3*60*60*24));let M="",W="";A?(M="bg-red-500/20 text-red-800 dark:bg-red-900/50 dark:text-red-300",W=t("admin_dashboard.license.status_expired")):S>30?(M="bg-green-500/20 text-green-800 dark:bg-green-900/50 dark:text-green-300",W=t("admin_dashboard.license.status_active")):S>7?(M="bg-yellow-500/20 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",W=t("Licence")):(M="bg-orange-500/20 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",W=t("admin_dashboard.license.status_critical"));const z=(Z,K)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-2xl font-bold",children:Z.toString().padStart(2,"0")}),s.jsx("span",{className:"text-xs",children:K})]});return s.jsxs("div",{className:`p-4 mb-6 rounded-lg border ${M} transition-colors duration-300`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jh,{className:"w-6 h-6 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg",children:[t("admin_dashboard.license.status_title"),":",s.jsxs("span",{className:`ml-2 px-2 py-1 rounded-md ${B>30?"bg-green-500 text-white":B>7?"bg-yellow-500 text-white":B>0?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:[r.license.name," - ",W]})]}),s.jsxs("div",{className:"text-xs mt-2 space-y-1 text-gray-300",children:[s.jsxs("p",{children:[t("admin_dashboard.license.activated_on"),":"," ",g.toLocaleDateString("fr-FR")]}),s.jsxs("p",{children:[t("admin_dashboard.license.expires_on"),":"," ",p.toLocaleDateString("fr-FR")]}),r.license.commission_rate&&s.jsxs("p",{children:["Taux de commission:"," ",s.jsxs("strong",{children:[r.license.commission_rate,"%"]})]})]})]})]}),s.jsx("div",{className:"text-center",children:A?s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg text-red-600",children:t("admin_dashboard.license.expired_since",{count:Math.floor(Math.abs(T)/(3600*24))})}),s.jsx("p",{className:"text-xs mt-2",children:"Licence expire"})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[z(S,"Jours"),s.jsx("span",{className:"text-xl font-bold",children:":"}),z(b,"Heures"),s.jsx("span",{className:"text-xl font-bold",children:":"}),z(N,"Minutes"),s.jsx("span",{className:"text-xl font-bold",children:":"}),z(C,"Secondes")]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t("admin_dashboard.license.days_remaining")})]})}),s.jsxs(nl,{children:[s.jsx(wR,{asChild:!0,children:s.jsxs(ze,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",disabled:c,children:[c?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Fu,{className:"mr-2 h-4 w-4"}),t("admin_dashboard.license.renew_button")]})}),s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:t("admin_dashboard.license.confirm_renewal_title")}),s.jsx(Ko,{children:t("admin_dashboard.license.confirm_renewal_desc")})]}),s.jsxs(al,{children:[s.jsx(sl,{children:t("common.cancel")}),s.jsx(il,{onClick:h,disabled:c,children:c?s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}):t("common.confirm")})]})]})]})]}),!A&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Temps restant"}),s.jsxs("span",{children:[S," jours"]})]}),s.jsx("div",{className:"h-2 bg-white/30 dark:bg-black/30 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-1000 ${S>30?"bg-green-500":S>7?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${Math.min(100,T/(90*24*3600)*100)}%`}})})]})]})},N1t=({status:e})=>{const{t}=za();if(e==="active")return null;let r,n;switch(e){case"pending_verification":case"pending":r=t("admin_dashboard.banner.pending"),n="bg-yellow-500/20 text-yellow-300 border-yellow-500/30";break;case"suspended":r=t("admin_dashboard.banner.suspended"),n="bg-orange-500/20 text-orange-300 border-orange-500/30";break;case"expired":r=t("admin_dashboard.banner.expired"),n="bg-red-500/20 text-red-300 border-red-500/30";break;default:return null}return s.jsxs("div",{className:`p-4 mb-6 rounded-lg border flex items-center gap-3 ${n}`,children:[s.jsx(Ll,{className:"w-6 h-6 flex-shrink-0"}),s.jsx("p",{className:"font-semibold",children:r})]})},S1t=()=>{const{t:e}=za(),{user:t}=bn(),{userProfile:r,loadingProfile:n,getPromotions:i,getEvents:a}=Ja(),[o,l]=j.useState([]),[c,u]=j.useState([]),[f,h]=j.useState([]),[g,p]=j.useState([]),[S,b]=j.useState([]),[N,C]=j.useState([]),[A,T]=j.useState(!0),[F,L]=j.useState("analytics"),[B,M]=j.useState("inactive"),[W,z]=j.useState(null),Z=(r==null?void 0:r.user_type)==="super_admin",K=(r==null?void 0:r.user_type)==="admin",q=(r==null?void 0:r.user_type)==="secretary"&&(r==null?void 0:r.appointed_by_super_admin),ie=Z||B==="active";j.useEffect(()=>{(async()=>{const{data:{session:ce},error:ge}=await Ze.auth.getSession();(ge||!ce)&&(console.warn("Invalid session on dashboard load. Redirecting."),await Ze.auth.signOut(),window.location.href="/auth")})()},[]),j.useEffect(()=>{(async()=>{const{data:{user:ce}}=await Ze.auth.getUser();if(ce&&ce.id!==(t==null?void 0:t.id)){const{data:ge}=await Ze.from("profiles").select("*").eq("id",ce.id).single();z(ge)}else z(null)})()},[t]);const ae=async()=>{T(!0);const{error:he}=await Ze.auth.revert();he?(lt({title:"Erreur",description:he.message,variant:"destructive"}),T(!1)):(lt({title:"Retour  la normale",description:"Vous tes revenu  votre compte."}),window.location.reload())};j.useEffect(()=>{K&&t&&(async()=>{const{data:ce,error:ge}=await Ze.from("partners").select("status, expiration_date").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(1).single();if(ge&&ge.code!=="PGRST116")console.error("Error fetching partner status:",ge);else if(ce){const we=new Date;new Date(ce.expiration_date)<we?M("expired"):M(ce.status)}})()},[K,t]),j.useEffect(()=>{Z?L("analytics"):K||q&&L("credits")},[Z,K,q]);const X=j.useCallback(async()=>{if(!(!r||!t)){T(!0);try{const he=K?r.country:null,ce=()=>{let pe=Ze.from("profiles").select("*");return he&&!Z&&(pe=pe.eq("country",he),r.city&&(pe=pe.eq("city",r.city))),pe};let ge;Z&&(ge=Ze.from("transactions").select(`
                    id, amount_pi, amount_fcfa, description, created_at, transaction_type,
                    user:user_id (full_name, email)
                `).order("created_at",{ascending:!1}));const[we,Ce,Q,le,ne,ee]=await Promise.all([ce(),Ze.from("announcements").select("*").order("created_at",{ascending:!1}),a(he?{country:he}:{}),i(he?{country:he}:{}),Ze.from("welcome_popups").select("*").order("created_at",{ascending:!1}),ge||Promise.resolve({data:[],error:null})]);if(we.error)throw we.error;if(Ce.error)throw Ce.error;if(ne.error)throw ne.error;if(ee.error)throw ee.error;l(we.data||[]),u(Ce.data||[]),h(Q||[]),p(le||[]),ee.data&&C(ee.data.map(pe=>{var xe,Ne;return{id:pe.id,user_full_name:(xe=pe.user)==null?void 0:xe.full_name,user_email:(Ne=pe.user)==null?void 0:Ne.email,description:pe.description,amount:pe.amount_pi,amount_fcfa:pe.amount_fcfa,created_at:pe.created_at,status:"completed",type:pe.transaction_type}}))}catch(he){console.error("Error fetching admin data:",he),lt({title:e("admin_dashboard.loading_error_title"),description:he.message,variant:"destructive"})}finally{T(!1)}}},[r,K,Z,t,i,a,e]);if(j.useEffect(()=>{r&&X()},[r,X]),n||A)return s.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 flex items-center justify-center",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})});if(!t||!Z&&!K&&!q)return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsx("h1",{className:"text-2xl text-red-500",children:e("admin_dashboard.unauthorized_title")}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.unauthorized_desc")})]});const se=Z?e("admin_dashboard.super_admin_title"):K?e("admin_dashboard.admin_title",{country:r.country}):e("admin_dashboard.secretary_title");return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 relative",children:[W&&s.jsx(bR,{user:W,onRevert:ae}),s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:se}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.welcome",{name:r.full_name||t.email})}),K&&(r==null?void 0:r.country)&&s.jsx("div",{className:"mt-2",children:s.jsxs(Vr,{variant:"outline",className:"text-sm",children:[s.jsx(to,{className:"w-3 h-3 mr-1"}),"Zone: ",r.country,r.city&&`, ${r.city}`]})})]}),K&&ie&&(r==null?void 0:r.country)&&s.jsx(w1t,{userProfile:r}),K&&ie&&s.jsx(_1t,{user:r}),K&&s.jsx(N1t,{status:B}),s.jsxs(O0,{value:F,onValueChange:L,className:"w-full",children:[s.jsxs(Th,{className:"flex flex-wrap h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[Z&&s.jsxs(s.Fragment,{children:[s.jsxs(Hn,{value:"analytics",children:[s.jsx(i2e,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.analytics")]}),s.jsxs(Hn,{value:"credit_stats",children:[s.jsx(t2e,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credit_stats")]}),s.jsxs(Hn,{value:"activity_log",children:[s.jsx(_p,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.activity_log")]}),s.jsxs(Hn,{value:"transactions",children:[s.jsx(s2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.transactions")]}),s.jsxs(Hn,{value:"payments",children:[s.jsx(dh,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.payments")]}),s.jsxs(Hn,{value:"users",children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.users")]}),s.jsxs(Hn,{value:"secretaries",children:[s.jsx(R2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.secretaries")]}),s.jsxs(Hn,{value:"credits",children:[s.jsx(fm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits")]}),s.jsxs(Hn,{value:"reversed_credits",children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),s.jsxs(Hn,{value:"withdrawals",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),s.jsxs(Hn,{value:"salary_withdrawals",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.salary_withdrawals")]}),s.jsxs(Hn,{value:"withdrawal_history",children:[s.jsx(s2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_history")]}),s.jsxs(Hn,{value:"events",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.events")]}),s.jsxs(Hn,{value:"locations",children:[s.jsx(to,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.locations")]}),s.jsxs(Hn,{value:"promotions",children:[s.jsx(Kg,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.promotions")]}),s.jsxs(Hn,{value:"partners",children:[s.jsx(o2e,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.partners")]}),s.jsxs(Hn,{value:"badges",children:[s.jsx(D2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.badges")]}),s.jsxs(Hn,{value:"announcements",children:[s.jsx(ZZ,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.announcements")]}),s.jsxs(Hn,{value:"popups",children:[s.jsx(yj,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.popups")]}),s.jsxs(Hn,{value:"videos",children:[s.jsx(cQ,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.videos")]}),s.jsxs(Hn,{value:"config",children:[s.jsx(Oy,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.config")]}),s.jsxs(Hn,{value:"zone_reset",children:[s.jsx(xj,{className:"w-4 h-4 mr-2"}),"Rinitialisation Zones"]})]}),K&&ie&&s.jsxs(s.Fragment,{children:[s.jsxs(Hn,{value:"salary",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.salary")||"Salaire"]}),s.jsxs(Hn,{value:"events",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.events")]}),s.jsxs(Hn,{value:"locations",children:[s.jsx(to,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.locations")]}),s.jsxs(Hn,{value:"promotions",children:[s.jsx(Kg,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.promotions")]}),s.jsxs(Hn,{value:"credits_history",children:[s.jsx(fm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits_history")||"Historique Crdits"]}),s.jsxs(Hn,{value:"reversed_credits",children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),s.jsxs(Hn,{value:"withdrawals",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),s.jsxs(Hn,{value:"users",children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.users")]}),s.jsxs(Hn,{value:"secretaries",children:[s.jsx(R2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.secretaries")]}),s.jsxs(Hn,{value:"activity_log",children:[s.jsx(_p,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.activity_log")]})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs(Hn,{value:"credits",children:[s.jsx(fm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits")]}),s.jsxs(Hn,{value:"reversed_credits",children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),s.jsxs(Hn,{value:"withdrawals",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),s.jsxs(Hn,{value:"withdrawal_history",children:[s.jsx(s2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_history")]})]})]}),Z&&s.jsxs(s.Fragment,{children:[s.jsx(qn,{value:"analytics",children:s.jsx(rot,{})}),s.jsx(qn,{value:"credit_stats",children:s.jsx(qpt,{})}),s.jsx(qn,{value:"activity_log",children:s.jsx(aY,{})}),s.jsx(qn,{value:"transactions",children:s.jsx(dmt,{transactions:N})}),s.jsx(qn,{value:"payments",children:s.jsx(Wpt,{})}),s.jsx(qn,{value:"users",children:s.jsx(YV,{users:o,onRefresh:X})}),s.jsx(qn,{value:"secretaries",children:s.jsx(ZK,{users:o,onRefresh:X})}),s.jsx(qn,{value:"credits",children:s.jsx(OF,{onRefresh:X})}),s.jsx(qn,{value:"reversed_credits",children:s.jsx(mS,{isSuperAdmin:!0})}),s.jsx(qn,{value:"withdrawals",children:s.jsx(dS,{})}),s.jsx(qn,{value:"salary_withdrawals",children:s.jsx(y1t,{})}),s.jsx(qn,{value:"withdrawal_history",children:s.jsx(sY,{})}),s.jsx(qn,{value:"events",children:s.jsx(XK,{events:f,onRefresh:X})}),s.jsx(qn,{value:"locations",children:s.jsx(iY,{})}),s.jsx(qn,{value:"promotions",children:s.jsx(JK,{promotions:g,onRefresh:X})}),s.jsx(qn,{value:"partners",children:s.jsx(uot,{})}),s.jsx(qn,{value:"badges",children:s.jsx(lmt,{})}),s.jsx(qn,{value:"announcements",children:s.jsx(tmt,{announcements:c,onRefresh:X})}),s.jsx(qn,{value:"popups",children:s.jsx(imt,{popups:S,onRefresh:X})}),s.jsx(qn,{value:"videos",children:s.jsx(lot,{})}),s.jsx(qn,{value:"config",children:s.jsx(MFe,{})}),s.jsx(qn,{value:"zone_reset",children:s.jsx(Hpt,{})})]}),K&&ie&&s.jsxs(s.Fragment,{children:[s.jsx(qn,{value:"salary",children:s.jsx(v1t,{userProfile:r})}),s.jsx(qn,{value:"events",children:s.jsx(XK,{events:f,userProfile:r,onRefresh:X})}),s.jsx(qn,{value:"locations",children:s.jsx(iY,{userProfile:r})}),s.jsx(qn,{value:"promotions",children:s.jsx(JK,{promotions:g,userProfile:r,onRefresh:X})}),s.jsx(qn,{value:"credits_history",children:s.jsx(smt,{userProfile:r})}),s.jsx(qn,{value:"reversed_credits",children:s.jsx(mS,{isSuperAdmin:!1,country:r.country,userProfile:r})}),s.jsx(qn,{value:"withdrawals",children:s.jsx(dS,{userProfile:r})}),s.jsx(qn,{value:"users",children:s.jsx(YV,{users:o,userProfile:r,onRefresh:X})}),s.jsx(qn,{value:"secretaries",children:s.jsx(ZK,{users:o,userProfile:r,onRefresh:X})}),s.jsx(qn,{value:"activity_log",children:s.jsx(aY,{userProfile:r})})]}),q&&s.jsxs(s.Fragment,{children:[s.jsx(qn,{value:"credits",children:s.jsx(OF,{onRefresh:X,userProfile:r})}),s.jsx(qn,{value:"reversed_credits",children:s.jsx(mS,{isSuperAdmin:!1,actorId:r.id,userProfile:r})}),s.jsx(qn,{value:"withdrawals",children:s.jsx(dS,{userProfile:r})}),s.jsx(qn,{value:"withdrawal_history",children:s.jsx(sY,{actorId:r.id,userProfile:r})})]})]})]})},C1t=({users:e,onRefresh:t})=>{const{userProfile:r}=Ja(),{user:n}=bn(),[i,a]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState(!1),[f,h]=j.useState(""),[g,p]=j.useState(""),[S,b]=j.useState(""),[N,C]=j.useState({page:0,size:20}),A=j.useMemo(()=>e?e.filter(z=>{var Z,K,q,ie;return z.country===(r==null?void 0:r.country)&&(((Z=z.full_name)==null?void 0:Z.toLowerCase().includes(S.toLowerCase()))||((K=z.email)==null?void 0:K.toLowerCase().includes(S.toLowerCase()))||((q=z.user_type)==null?void 0:q.toLowerCase().includes(S.toLowerCase()))||((ie=z.affiliate_code)==null?void 0:ie.toLowerCase().includes(S.toLowerCase())))}):[],[e,S,r==null?void 0:r.country]),T=j.useMemo(()=>{const z=N.page*N.size,Z=z+N.size;return A.slice(z,Z)},[A,N]),F=Math.ceil(A.length/N.size),L=async z=>{const Z=!z.is_active;a(!0);try{const{error:K}=await Ze.from("profiles").update({is_active:Z}).eq("id",z.id);if(K)throw K;lt({title:Z?"Utilisateur ractiv":"Utilisateur dsactiv",description:`Le compte de ${z.full_name||z.email} est maintenant ${Z?"actif":"inactif"}.`,variant:Z?"default":"destructive"}),t&&t()}catch(K){console.error("Status toggle error:",K),lt({title:"Erreur",description:K.message,variant:"destructive"})}finally{a(!1)}},B=z=>{l(z),h(""),p(""),u(!0)},M=async()=>{if(!o||!f||i)return;const z=parseInt(f,10);if(isNaN(z)||z<=0){lt({title:"Erreur",description:"Veuillez entrer un montant valide.",variant:"destructive"});return}a(!0);try{const{data:Z,error:K}=await Ze.rpc("credit_user_coins",{p_user_id:o.id,p_amount:z,p_reason:g,p_creditor_id:n.id});if(K)throw K;if(!Z.success)throw new Error(Z.message||"chec du crdit utilisateur.");lt({title:"Succs",description:Z.message||`Utilisateur ${o.full_name} crdit de ${z} pices.`}),t&&t(),u(!1)}catch(Z){lt({title:"Erreur",description:Z.message,variant:"destructive"})}finally{a(!1)}},W=z=>{z&&(navigator.clipboard.writeText(z),lt({title:"Copi",description:"Code copi"}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Gestion des Utilisateurs (",r==null?void 0:r.country,")"]}),s.jsxs("div",{className:"relative w-full md:w-auto",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:"Rechercher (nom, email, code)...",value:S,onChange:z=>b(z.target.value),className:"pl-10 max-w-sm"})]})]}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(Bd,{children:[s.jsx($d,{children:s.jsxs(di,{children:[s.jsx(Cn,{children:"Utilisateur"}),s.jsx(Cn,{children:"Statut"}),s.jsx(Cn,{children:"Rle"}),s.jsx(Cn,{children:"Solde"}),s.jsx(Cn,{children:"Code Parrainage"}),s.jsx(Cn,{className:"text-right",children:"Actions"})]})}),s.jsx(Ud,{children:i&&T.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:6,className:"h-24 text-center",children:s.jsx(Zt,{className:"mx-auto h-6 w-6 animate-spin"})})}):T.length===0?s.jsx(di,{children:s.jsx(an,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"Aucun utilisateur trouv."})}):T.map(z=>s.jsxs(di,{children:[s.jsx(an,{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"font-medium",children:[s.jsx("div",{children:z.full_name||"Sans nom"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:z.email})]})})}),s.jsx(an,{children:s.jsx(Vr,{variant:z.is_active?"success":"destructive",className:"text-[10px]",children:z.is_active?"Actif":"Inactif"})}),s.jsx(an,{children:s.jsx(Vr,{variant:"outline",children:z.user_type})}),s.jsx(an,{children:s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsxs("span",{className:"font-semibold",children:[z.coin_balance||0,"  (Payant)"]}),s.jsxs("span",{className:"text-muted-foreground",children:[z.free_coin_balance||0,"  (Gratuit)"]})]})}),s.jsx(an,{children:z.affiliate_code?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs font-mono",children:z.affiliate_code}),s.jsx(ze,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>W(z.affiliate_code),children:s.jsx(F2,{className:"h-3 w-3"})})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Non gnr"})}),s.jsx(an,{className:"text-right",children:s.jsxs(Y4,{children:[s.jsx(X4,{asChild:!0,children:s.jsx(ze,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(eQ,{className:"h-4 w-4"})})}),s.jsxs(By,{align:"end",children:[s.jsx(J4,{children:"Actions"}),s.jsx(s1,{}),s.jsxs(Qu,{onClick:()=>B(z),children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 text-primary"})," Crditer"]}),s.jsx(Qu,{onClick:()=>L(z),disabled:i,children:z.is_active?s.jsxs(s.Fragment,{children:[s.jsx(qZ,{className:"mr-2 h-4 w-4 text-orange-500"}),s.jsx("span",{className:"text-orange-500",children:"Dsactiver"})]}):s.jsxs(s.Fragment,{children:[s.jsx(vl,{className:"mr-2 h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-green-500",children:"Ractiver"})]})})]})]})})]},z.id))})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>C(z=>({...z,page:Math.max(0,z.page-1)})),disabled:N.page===0,children:"Prcdent"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",N.page+1," sur ",F||1]}),s.jsx(ze,{variant:"outline",size:"sm",onClick:()=>C(z=>({...z,page:Math.min(F-1,z.page+1)})),disabled:N.page>=F-1,children:"Suivant"})]}),s.jsx(No,{open:c,onOpenChange:u,children:s.jsxs(fo,{children:[s.jsxs(So,{children:[s.jsxs(Co,{children:["Crditer l'utilisateur: ",o==null?void 0:o.full_name]}),s.jsx(tl,{children:"Ajouter des pices au solde de l'utilisateur."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(kt,{htmlFor:"amount",className:"text-right",children:"Montant ()"}),s.jsx(rr,{id:"amount",type:"number",value:f,onChange:z=>h(z.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(kt,{htmlFor:"reason",className:"text-right",children:"Raison"}),s.jsx(uc,{id:"reason",value:g,onChange:z=>p(z.target.value),className:"col-span-3"})]})]}),s.jsxs(ru,{children:[s.jsx(ze,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),s.jsx(ze,{onClick:M,disabled:i,children:i?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):"Crditer"})]})]})})]})};var zfe="Toggle",Vfe=j.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:i,...a}=e,[o,l]=cc({prop:r,onChange:i,defaultProp:n??!1,caller:zfe});return s.jsx(In.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Lr(e.onClick,()=>{e.disabled||l(!o)})})});Vfe.displayName=zfe;var P1="ToggleGroup",[Wfe,a2t]=dc(P1,[Ly]),Hfe=Ly(),TL=Ie.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const i=n;return s.jsx(A1t,{...i,ref:t})}if(r==="multiple"){const i=n;return s.jsx(j1t,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${P1}\``)});TL.displayName=P1;var[qfe,Gfe]=Wfe(P1),A1t=Ie.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=e,[o,l]=cc({prop:r,defaultProp:n??"",onChange:i,caller:P1});return s.jsx(qfe,{scope:e.__scopeToggleGroup,type:"single",value:Ie.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:Ie.useCallback(()=>l(""),[l]),children:s.jsx(Kfe,{...a,ref:t})})}),j1t=Ie.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=e,[o,l]=cc({prop:r,defaultProp:n??[],onChange:i,caller:P1}),c=Ie.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=Ie.useCallback(f=>l((h=[])=>h.filter(g=>g!==f)),[l]);return s.jsx(qfe,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(Kfe,{...a,ref:t})})});TL.displayName=P1;var[E1t,T1t]=Wfe(P1),Kfe=Ie.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:l=!0,...c}=e,u=Hfe(r),f=bx(o),h={role:"group",dir:f,...c};return s.jsx(E1t,{scope:r,rovingFocus:i,disabled:n,children:i?s.jsx(k7,{asChild:!0,...u,orientation:a,dir:f,loop:l,children:s.jsx(In.div,{...h,ref:t})}):s.jsx(In.div,{...h,ref:t})})}),MA="ToggleGroupItem",Yfe=Ie.forwardRef((e,t)=>{const r=Gfe(MA,e.__scopeToggleGroup),n=T1t(MA,e.__scopeToggleGroup),i=Hfe(e.__scopeToggleGroup),a=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:a,disabled:o},c=Ie.useRef(null);return n.rovingFocus?s.jsx(P7,{asChild:!0,...i,focusable:!o,active:a,ref:c,children:s.jsx(lY,{...l,ref:t})}):s.jsx(lY,{...l,ref:t})});Yfe.displayName=MA;var lY=Ie.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...i}=e,a=Gfe(MA,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return s.jsx(Vfe,{...l,...i,ref:t,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),Xfe=TL,Jfe=Yfe;const Zfe=Ie.createContext({size:"default",variant:"default"}),DF=Ie.forwardRef(({className:e,variant:t,size:r,children:n,...i},a)=>s.jsx(Xfe,{ref:a,className:Ir("flex items-center justify-center gap-1",e),...i,children:s.jsx(Zfe.Provider,{value:{variant:t,size:r},children:n})}));DF.displayName=Xfe.displayName;const k1t=vx("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Cv=Ie.forwardRef(({className:e,children:t,variant:r,size:n,...i},a)=>{const o=Ie.useContext(Zfe);return s.jsx(Jfe,{ref:a,className:Ir(k1t({variant:r||o.variant,size:n||o.size}),e),...i,children:t})});Cv.displayName=Jfe.displayName;const P1t=()=>{const{t:e}=za(),{userProfile:t}=Ja(),{user:r}=bn(),[n,i]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState(!0),[u,f]=j.useState("events"),[h,g]=j.useState(""),[p,S]=j.useState("all"),b=j.useCallback(async(F,L,B={})=>{await Ze.from("admin_logs").insert({actor_id:r.id,action_type:F,target_id:L,details:B})},[r.id]),N=j.useCallback(async()=>{if(t!=null&&t.country){c(!0);try{const[F,L]=await Promise.all([Ze.from("events").select("*, organizer:organizer_id(full_name)").eq("country",t.country),Ze.from("locations").select("*, user:user_id(full_name)").eq("country",t.country)]);if(F.error)throw F.error;if(L.error)throw L.error;i(F.data||[]),o(L.data||[])}catch{lt({title:e("common.error_title"),description:"Impossible de charger les donnes.",variant:"destructive"})}finally{c(!1)}}},[t==null?void 0:t.country,e]);j.useEffect(()=>{N()},[N]);const C=j.useMemo(()=>{let L=(u==="events"?n:a).filter(B=>{var M,W;return((M=B.name)==null?void 0:M.toLowerCase().includes(h.toLowerCase()))||((W=B.title)==null?void 0:W.toLowerCase().includes(h.toLowerCase()))});if(p!=="all"){const B=p==="active";L=L.filter(M=>M.is_active===B||M.status==="active"&&B||M.status!=="active"&&!B)}return L},[u,n,a,h,p]),A=async(F,L)=>{try{const{error:B}=await Ze.rpc(L==="event"?"delete_event_completely":"delete_location",{[L==="event"?"p_event_id":"p_location_id"]:F});if(B)throw B;lt({title:e("common.success_title"),description:`${L==="event"?"vnement":"Lieu"} supprim.`}),await b(`${L}_deleted`,F),N()}catch{lt({title:e("common.error_title"),description:"Impossible de supprimer.",variant:"destructive"})}},T=async(F,L)=>{const B=L==="event"?"events":"locations",M=F.status||F.is_active,W=M==="active"||M===!0?L==="event"?"inactive":!1:L==="event"?"active":!0;try{const{error:z}=await Ze.from(B).update({[L==="event"?"status":"is_active"]:W}).eq("id",F.id);if(z)throw z;lt({title:e("common.success_title"),description:"Statut mis  jour."}),await b(`${L}_status_toggled`,F.id,{new_status:W}),N()}catch{lt({title:e("common.error_title"),description:"Mise  jour impossible.",variant:"destructive"})}};return s.jsxs(Yt,{className:"glass-effect border-purple-500/20",children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:e("secretary_dashboard.tabs.event_moderation")}),s.jsx(Oa,{children:e("secretary_dashboard.event_moderation.zone_country",{country:t==null?void 0:t.country})})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[s.jsxs(DF,{type:"single",value:u,onValueChange:F=>F&&f(F),size:"sm",children:[s.jsxs(Cv,{value:"events",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),"vnements"]}),s.jsxs(Cv,{value:"locations",children:[s.jsx(to,{className:"w-4 h-4 mr-2"}),"Lieux"]})]}),s.jsxs("div",{className:"relative flex-grow",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(rr,{placeholder:`Rechercher des ${u==="events"?"vnements":"lieux"}...`,value:h,onChange:F=>g(F.target.value),className:"pl-10"})]}),s.jsxs(DF,{type:"single",value:p,onValueChange:F=>F&&S(F),size:"sm",children:[s.jsx(Cv,{value:"all",children:e("secretary_dashboard.event_moderation.filter_all")}),s.jsx(Cv,{value:"active",children:e("secretary_dashboard.event_moderation.filter_active")}),s.jsx(Cv,{value:"inactive",children:e("secretary_dashboard.event_moderation.filter_inactive")})]})]}),l?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Zt,{className:"animate-spin text-primary"})}):s.jsx("div",{className:"space-y-4",children:C.map(F=>{var L,B;return s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-grow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:u==="events"?s.jsx(jo,{className:"w-6 h-6 text-primary"}):s.jsx(to,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:F.title||F.name}),s.jsx("p",{className:"text-sm text-gray-400",children:u==="events"?`Par ${((L=F.organizer)==null?void 0:L.full_name)||"N/A"}`:`Ajout par ${((B=F.user)==null?void 0:B.full_name)||"N/A"}`})]})]}),s.jsx(Vr,{variant:F.status==="active"||F.is_active?"success":"destructive",className:"text-xs",children:F.status==="active"||F.is_active?"Actif":"Inactif"}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(ze,{size:"icon",variant:"ghost",onClick:()=>T(F,u==="events"?"event":"location"),className:"hover:text-yellow-400",children:F.status==="active"||F.is_active?s.jsx(r7,{className:"w-4 h-4"}):s.jsx(n7,{className:"w-4 h-4"})}),s.jsxs(nl,{children:[s.jsx(wR,{asChild:!0,children:s.jsx(ze,{size:"icon",variant:"ghost",className:"hover:text-red-400",children:s.jsx(Vo,{className:"w-4 h-4"})})}),s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsx(Go,{children:e("secretary_dashboard.event_moderation.confirm_delete_title")}),s.jsx(Ko,{children:"Cette action est irrversible."})]}),s.jsxs(al,{children:[s.jsx(sl,{children:e("common.cancel")}),s.jsx(il,{onClick:()=>A(F.id,u==="events"?"event":"location"),children:e("common.delete")})]})]})]})]})]},F.id)})})]})]})},O1t=()=>{const{t:e}=za(),{user:t}=bn(),{userProfile:r,loadingProfile:n}=Ja(),[i,a]=j.useState([]),[o,l]=j.useState(!0),c=j.useCallback(async()=>{if(r!=null&&r.country){l(!0);try{const{data:u,error:f}=await Ze.from("profiles").select("*").eq("country",r.country);if(f)throw f;a(u||[])}catch{lt({title:e("common.error_title"),description:"Impossible de charger les donnes.",variant:"destructive"})}finally{l(!1)}}},[r==null?void 0:r.country,e]);return j.useEffect(()=>{r&&c()},[r,c]),n||o?s.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 flex items-center justify-center",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})}):!t||(r==null?void 0:r.user_type)!=="secretary"?s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsx("h1",{className:"text-2xl text-red-500",children:e("admin_dashboard.unauthorized_title")}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.unauthorized_desc")})]}):s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:e("secretary_dashboard.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("secretary_dashboard.welcome",{name:r.full_name||t.email})}),s.jsx("p",{className:"text-sm text-primary",children:e("secretary_dashboard.competence_zone",{country:r.country})})]}),s.jsxs(O0,{defaultValue:"moderation",className:"w-full",children:[s.jsxs(Th,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[s.jsxs(Hn,{value:"moderation",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.event_moderation")]}),s.jsxs(Hn,{value:"users",children:[s.jsx(Iy,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.user_management")]}),s.jsxs(Hn,{value:"credits",children:[s.jsx(fm,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.credit_management")]}),s.jsxs(Hn,{value:"reversed_credits",children:[s.jsx(Vp,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.reversed_credits")]}),s.jsxs(Hn,{value:"withdrawals",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.withdrawal_management")]})]}),s.jsx(qn,{value:"moderation",className:"mt-4",children:s.jsx(P1t,{})}),s.jsx(qn,{value:"users",className:"mt-4",children:s.jsx(C1t,{users:i,onRefresh:c})}),s.jsx(qn,{value:"credits",className:"mt-4",children:s.jsx(OF,{users:i,onRefresh:c,userProfile:r})}),s.jsx(qn,{value:"reversed_credits",className:"mt-4",children:s.jsx(mS,{isSuperAdmin:!1,country:r.country,actorId:t.id})}),s.jsx(qn,{value:"withdrawals",className:"mt-4",children:s.jsx(dS,{})})]})]})},I1t=()=>{const{user:e}=bn(),{userProfile:t,loadingProfile:r,adminConfig:n,forceRefreshUserProfile:i}=Ja(),a=Sa(),{t:o}=za(),[l,c]=j.useState(!1),u=async()=>{c(!0),await i(),setTimeout(()=>c(!1),1e3)};if(r)return s.jsx("div",{className:"flex justify-center items-center h-screen bg-background",children:s.jsx(Zt,{className:"w-16 h-16 animate-spin text-primary"})});if(!e||!t)return s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("p",{children:o("profile_page.unauthorized_desc")}),s.jsx(ze,{onClick:()=>a("/auth"),children:o("auth.login.button")})]});const{free_coin_balance:f,coin_balance:h,available_earnings:g}=t,p=(f||0)+(h||0),S=(g||0)*((n==null?void 0:n.coin_to_fcfa_rate)||10),b=({icon:N,title:C,value:A,color:T,description:F,isCurrency:L=!1})=>s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs(Yt,{className:`overflow-hidden bg-gradient-to-br ${T} text-white`,children:[s.jsxs(Wr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(qr,{className:"text-sm font-medium",children:C}),N]}),s.jsxs(Qt,{children:[s.jsx("div",{className:"text-4xl font-bold",children:L?A.toLocaleString():A}),F&&s.jsx("p",{className:"text-xs text-white/80",children:F})]})]})});return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:o("wallet_page.title")}),s.jsx(ze,{onClick:u,variant:"ghost",size:"icon",disabled:l,children:s.jsx(Fu,{className:`h-5 w-5 ${l?"animate-spin":""}`})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[s.jsx(b,{icon:s.jsx($o,{className:"h-6 w-6 text-white/80"}),title:o("wallet_page.total_balance"),value:p.toLocaleString(),color:"from-blue-500 to-indigo-600",description:`(${(f==null?void 0:f.toLocaleString())||0} ${o("wallet_page.free_coins")} + ${(h==null?void 0:h.toLocaleString())||0} ${o("wallet_page.paid_coins")})`}),s.jsx(b,{icon:s.jsx(dh,{className:"h-6 w-6 text-white/80"}),title:o("wallet_page.available_earnings"),value:(g==null?void 0:g.toLocaleString())||0,color:"from-green-500 to-teal-600",description:o("wallet_page.earnings_in_fcfa",{amount:S.toLocaleString()})}),s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs(Yt,{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:[s.jsx(Wr,{children:s.jsx(qr,{children:o("wallet_page.buy_coins_title")})}),s.jsxs(Qt,{className:"flex flex-col items-center",children:[s.jsx("p",{className:"text-center mb-4",children:o("wallet_page.buy_coins_desc")}),s.jsxs(ze,{onClick:()=>a("/packs"),className:"bg-white text-orange-500 hover:bg-white/90",children:[s.jsx(im,{className:"mr-2 h-4 w-4"})," ",o("wallet_page.buy_coins_button")]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs(Yt,{className:"bg-card/80 backdrop-blur-sm",children:[s.jsx(Wr,{children:s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"text-primary"})," ",o("wallet_page.balance_details_title")]})}),s.jsxs(Qt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[s.jsx("span",{className:"font-medium",children:o("wallet_page.free_coins")}),s.jsxs("span",{className:"font-bold text-lg text-green-400",children:[(f==null?void 0:f.toLocaleString())||0," "]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[s.jsx("span",{className:"font-medium",children:o("wallet_page.paid_coins")}),s.jsxs("span",{className:"font-bold text-lg text-blue-400",children:[(h==null?void 0:h.toLocaleString())||0," "]})]}),s.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:o("wallet_page.free_coins_desc")})]})]}),s.jsxs(Yt,{className:"bg-card/80 backdrop-blur-sm",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(XZ,{className:"text-primary"})," ",o("wallet_page.withdrawal_title")]}),s.jsx(Oa,{children:o("wallet_page.withdrawal_desc")})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"p-4 rounded-lg bg-background text-center mb-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:o("wallet_page.available_earnings")}),s.jsxs("p",{className:"text-3xl font-bold text-green-400",children:[(g==null?void 0:g.toLocaleString())||0," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o("wallet_page.earnings_in_fcfa",{amount:S.toLocaleString()})})]}),s.jsx(ze,{className:"w-full",disabled:(g||0)<((n==null?void 0:n.min_withdrawal_pi)||5e3),children:o("wallet_page.request_withdrawal_button")}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:o("wallet_page.withdrawal_minimum",{amount:(n==null?void 0:n.min_withdrawal_pi)||5e3})})]})]})]}),s.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsxs(Yt,{className:"mt-8 bg-card/80 backdrop-blur-sm",children:[s.jsx(Wr,{children:s.jsx(qr,{children:"Historique des Transactions"})}),s.jsx(Qt,{children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"L'historique des transactions sera bientt disponible ici."})})})]})})]})},F1t=()=>{var W,z,Z,K,q,ie;const{user:e,setForceRefresh:t}=bn(),{toast:r}=js(),[n,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(0),[u,f]=j.useState(((W=e==null?void 0:e.user_metadata)==null?void 0:W.full_name)||""),[h,g]=j.useState(((z=e==null?void 0:e.user_metadata)==null?void 0:z.phone)||""),[p,S]=j.useState(((Z=e==null?void 0:e.user_metadata)==null?void 0:Z.country)||""),[b,N]=j.useState(((K=e==null?void 0:e.user_metadata)==null?void 0:K.city)||""),[C,A]=j.useState(((q=e==null?void 0:e.user_metadata)==null?void 0:q.bio)||""),[T,F]=j.useState([]);j.useEffect(()=>{p&&F(H2[p]||[])},[p]),j.useEffect(()=>{let ae;return l>0&&(ae=setInterval(()=>{c(X=>X-1)},1e3)),()=>clearInterval(ae)},[l]);const L=async ae=>{ae.preventDefault(),i(!0);try{const X={full_name:u,phone:h,country:p,city:b,bio:C,updated_at:new Date},{error:se}=await Ze.auth.updateUser({data:X});if(se)throw se;const{error:he}=await Ze.from("profiles").update(X).eq("id",e.id);if(he)throw he;r({title:"Profil mis  jour",description:"Vos informations ont t enregistres avec succs."}),t(ce=>!ce)}catch(X){r({title:"Erreur",description:X.message,variant:"destructive"})}finally{i(!1)}},B=async()=>{if(!(l>0)){o(!0);try{const{error:ae}=await Ze.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:window.location.origin+"/profile"}});if(ae)throw ae;r({title:"Email envoy",description:"Veuillez vrifier votre bote de rception.",className:"bg-green-600 text-white"}),c(60),console.log(`Email verification resent to ${e.email} at ${new Date().toISOString()}`)}catch(ae){console.error("Resend error:",ae),r({title:"Erreur d'envoi",description:ae.message||"Impossible d'envoyer l'email. Veuillez ressayer plus tard.",variant:"destructive"})}finally{o(!1)}}},M=(e==null?void 0:e.email_confirmed_at)||((ie=e==null?void 0:e.user_metadata)==null?void 0:ie.email_verified);return s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs(Yt,{className:`border-l-4 ${M?"border-l-green-500":"border-l-yellow-500"}`,children:[s.jsx(Wr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs(qr,{className:"text-lg flex items-center gap-2",children:[s.jsx(hm,{className:"w-5 h-5"}),"Statut de l'email"]}),s.jsx(Oa,{children:e==null?void 0:e.email})]}),M?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-100 px-3 py-1 rounded-full text-sm font-bold",children:[s.jsx(WZ,{className:"w-4 h-4"}),"Vrifi"]}):s.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 bg-yellow-100 px-3 py-1 rounded-full text-sm font-bold",children:[s.jsx(Ll,{className:"w-4 h-4"}),"Non vrifi"]})]})}),!M&&s.jsxs(Qt,{children:[s.jsxs(Fl,{className:"bg-yellow-50 border-yellow-200 mb-4",children:[s.jsx(jd,{className:"text-yellow-800",children:"Action requise"}),s.jsx(rc,{className:"text-yellow-700",children:"Veuillez confirmer votre adresse email pour scuriser votre compte et accder  toutes les fonctionnalits."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[s.jsxs(ze,{variant:"outline",onClick:B,disabled:a||l>0,className:"w-full sm:w-auto",children:[a?s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tQ,{className:"w-4 h-4 mr-2"}),l>0?`Ressayer dans ${l}s`:"Renvoyer l'email de confirmation"]}),l>0&&s.jsx("span",{className:"text-xs text-muted-foreground animate-pulse",children:"Email envoy ! Vrifiez vos spams."})]})]})]}),s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Informations personnelles"}),s.jsx(Oa,{children:"Mettez  jour vos informations publiques."})]}),s.jsx(Qt,{children:s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{htmlFor:"fullName",className:"flex items-center gap-2",children:[s.jsx(Iy,{className:"w-4 h-4"})," Nom complet"]}),s.jsx(rr,{id:"fullName",value:u,onChange:ae=>f(ae.target.value),placeholder:"Votre nom"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(Py,{className:"w-4 h-4"})," Tlphone"]}),s.jsx(rr,{id:"phone",value:h,onChange:ae=>g(ae.target.value),placeholder:"+225..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{htmlFor:"country",className:"flex items-center gap-2",children:[s.jsx(to,{className:"w-4 h-4"})," Pays"]}),s.jsxs(_i,{value:p,onValueChange:S,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Slectionnez un pays"})}),s.jsx(xi,{children:l5.map(ae=>s.jsx(on,{value:ae.name,children:ae.name},ae.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{htmlFor:"city",className:"flex items-center gap-2",children:[s.jsx(to,{className:"w-4 h-4"})," Ville"]}),s.jsxs(_i,{value:b,onValueChange:N,disabled:!p,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:T.length?"Slectionnez une ville":"Slectionnez d'abord un pays"})}),s.jsx(xi,{children:T.map(ae=>s.jsx(on,{value:ae,children:ae},ae))})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(kt,{htmlFor:"bio",children:"Bio"}),s.jsx(rr,{id:"bio",value:C,onChange:ae=>A(ae.target.value),placeholder:"Une courte description de vous..."})]})]}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx(ze,{type:"submit",disabled:n,className:"w-full md:w-auto",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrement..."]}):"Enregistrer les modifications"})})]})})]})]})},D1t=()=>{const{toast:e}=js(),[t,r]=j.useState(""),[n,i]=j.useState(""),[a,o]=j.useState(!1),[l,c]=j.useState(!1),u=async()=>{if(t!==n){e({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}if(t.length<6){e({title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractres.",variant:"destructive"});return}o(!0);try{const{error:h}=await Ze.auth.updateUser({password:t});if(h)throw h;e({title:"Succs",description:"Votre mot de passe a t modifi."}),c(!1),r(""),i("")}catch(h){e({title:"Erreur",description:h.message,variant:"destructive"})}finally{o(!1)}},f=()=>{e({title:" Cette fonctionnalit n'est pas encore implmente.",description:"Ne vous inquitez pas ! Vous pouvez la demander dans votre prochaine requte ! "})};return s.jsxs(Yt,{className:"glass-effect border-primary/20",children:[s.jsxs(Wr,{children:[s.jsx(qr,{className:"text-foreground",children:"Scurit et Connexion"}),s.jsx(Oa,{className:"text-muted-foreground",children:"Grez vos options de scurit."})]}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Changer le mot de passe"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Il est recommand d'utiliser un mot de passe fort."})]}),s.jsxs(No,{open:l,onOpenChange:c,children:[s.jsx(o5,{asChild:!0,children:s.jsx(ze,{variant:"outline",children:"Changer"})}),s.jsxs(fo,{children:[s.jsxs(So,{children:[s.jsx(Co,{children:"Changer de mot de passe"}),s.jsx(tl,{children:"Entrez votre nouveau mot de passe ci-dessous."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"new-password",children:"Nouveau mot de passe"}),s.jsx(rr,{id:"new-password",type:"password",value:t,onChange:h=>r(h.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"confirm-password",children:"Confirmer le mot de passe"}),s.jsx(rr,{id:"confirm-password",type:"password",value:n,onChange:h=>i(h.target.value)})]})]}),s.jsxs(ru,{children:[s.jsx(ze,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),s.jsxs(ze,{onClick:u,disabled:a,children:[a?s.jsx(Zt,{className:"w-4 h-4 animate-spin"}):s.jsx(N0,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Authentification  deux facteurs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de scurit supplmentaire."})]}),s.jsx(ze,{variant:"outline",onClick:f,children:"Activer"})]})]})]})},Mk={push_notifications_enabled:!0,new_events_notification:!0,promoted_events_notification:!0,nearby_events_notification:!0},R1t=()=>{const{user:e}=bn(),[t,r]=j.useState(Mk),[n,i]=j.useState(!0),a=j.useCallback(async()=>{if(e){i(!0);try{const{data:c,error:u}=await Ze.from("profiles").select("notification_settings").eq("id",e.id).single();if(u&&u.code!=="PGRST116")throw u;c&&c.notification_settings?r({...Mk,...c.notification_settings}):r(Mk)}catch{lt({title:"Erreur",description:"Impossible de charger les paramtres de notification.",variant:"destructive"})}finally{i(!1)}}},[e,lt]);j.useEffect(()=>{a()},[a]);const o=async()=>{if(e){i(!0);try{const{error:c}=await Ze.from("profiles").update({notification_settings:t}).eq("id",e.id);if(c)throw c;lt({title:"Succs",description:"Paramtres de notification enregistrs."})}catch{lt({title:"Erreur",description:"Impossible d'enregistrer les paramtres.",variant:"destructive"})}finally{i(!1)}}},l=c=>{r(u=>({...u,[c]:!u[c]}))};return n?s.jsxs(Yt,{className:"glass-effect border-primary/20",children:[s.jsx(Wr,{children:s.jsx(qr,{className:"text-foreground",children:"Paramtres de notification"})}),s.jsx(Qt,{className:"flex items-center justify-center h-48",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})})]}):s.jsxs(Yt,{className:"glass-effect border-primary/20",children:[s.jsx(Wr,{children:s.jsx(qr,{className:"text-foreground",children:"Paramtres de notification"})}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"push_notifications_enabled",className:"font-medium text-foreground",children:"Activer les notifications Push"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications sur votre appareil."})]}),s.jsx(Td,{id:"push_notifications_enabled",checked:t.push_notifications_enabled,onCheckedChange:()=>l("push_notifications_enabled")})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"new_events_notification",className:"font-medium text-foreground",children:"Nouveaux vnements"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les nouveaux vnements."})]}),s.jsx(Td,{id:"new_events_notification",checked:t.new_events_notification,onCheckedChange:()=>l("new_events_notification")})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"promoted_events_notification",className:"font-medium text-foreground",children:"vnements promus"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les vnements mis en avant."})]}),s.jsx(Td,{id:"promoted_events_notification",checked:t.promoted_events_notification,onCheckedChange:()=>l("promoted_events_notification")})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"nearby_events_notification",className:"font-medium text-foreground",children:"vnements  proximit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les vnements prs de chez vous."})]}),s.jsx(Td,{id:"nearby_events_notification",checked:t.nearby_events_notification,onCheckedChange:()=>l("nearby_events_notification")})]})]}),s.jsxs(ze,{onClick:o,disabled:n,className:"gradient-red text-white",children:[n?s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(bj,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})};var Qfe=["PageUp","PageDown"],ehe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],the={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ob="Slider",[RF,M1t,L1t]=Ty(ob),[rhe,i2t]=dc(ob,[L1t]),[B1t,P6]=rhe(ob),nhe=j.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:p=!1,form:S,...b}=e,N=j.useRef(new Set),C=j.useRef(0),T=o==="horizontal"?$1t:U1t,[F=[],L]=cc({prop:f,defaultProp:u,onChange:K=>{var ie;(ie=[...N.current][C.current])==null||ie.focus(),h(K)}}),B=j.useRef(F);function M(K){const q=q1t(F,K);Z(K,q)}function W(K){Z(K,C.current)}function z(){const K=B.current[C.current];F[C.current]!==K&&g(F)}function Z(K,q,{commit:ie}={commit:!1}){const ae=X1t(a),X=J1t(Math.round((K-n)/a)*a+n,ae),se=fC(X,[n,i]);L((he=[])=>{const ce=W1t(he,se,q);if(Y1t(ce,c*a)){C.current=ce.indexOf(se);const ge=String(ce)!==String(he);return ge&&ie&&g(ce),ge?ce:he}else return he})}return s.jsx(B1t,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:C,thumbs:N.current,values:F,orientation:o,form:S,children:s.jsx(RF.Provider,{scope:e.__scopeSlider,children:s.jsx(RF.Slot,{scope:e.__scopeSlider,children:s.jsx(T,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:t,onPointerDown:Lr(b.onPointerDown,()=>{l||(B.current=F)}),min:n,max:i,inverted:p,onSlideStart:l?void 0:M,onSlideMove:l?void 0:W,onSlideEnd:l?void 0:z,onHomeKeyDown:()=>!l&&Z(n,0,{commit:!0}),onEndKeyDown:()=>!l&&Z(i,F.length-1,{commit:!0}),onStepKeyDown:({event:K,direction:q})=>{if(!l){const X=Qfe.includes(K.key)||K.shiftKey&&ehe.includes(K.key)?10:1,se=C.current,he=F[se],ce=a*X*q;Z(he+ce,se,{commit:!0})}}})})})})});nhe.displayName=ob;var[ahe,ihe]=rhe(ob,{startEdge:"left",endEdge:"right",size:"width",direction:1}),$1t=j.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,g]=j.useState(null),p=ka(t,T=>g(T)),S=j.useRef(void 0),b=bx(i),N=b==="ltr",C=N&&!a||!N&&a;function A(T){const F=S.current||h.getBoundingClientRect(),L=[0,F.width],M=kL(L,C?[r,n]:[n,r]);return S.current=F,M(T-F.left)}return s.jsx(ahe,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:s.jsx(she,{dir:b,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const F=A(T.clientX);o==null||o(F)},onSlideMove:T=>{const F=A(T.clientX);l==null||l(F)},onSlideEnd:()=>{S.current=void 0,c==null||c()},onStepKeyDown:T=>{const L=the[C?"from-left":"from-right"].includes(T.key);u==null||u({event:T,direction:L?-1:1})}})})}),U1t=j.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=j.useRef(null),h=ka(t,f),g=j.useRef(void 0),p=!i;function S(b){const N=g.current||f.current.getBoundingClientRect(),C=[0,N.height],T=kL(C,p?[n,r]:[r,n]);return g.current=N,T(b-N.top)}return s.jsx(ahe,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(she,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const N=S(b.clientY);a==null||a(N)},onSlideMove:b=>{const N=S(b.clientY);o==null||o(N)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const C=the[p?"from-bottom":"from-top"].includes(b.key);c==null||c({event:b,direction:C?-1:1})}})})}),she=j.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=P6(ob,r);return s.jsx(In.span,{...u,ref:t,onKeyDown:Lr(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Qfe.concat(ehe).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Lr(e.onPointerDown,h=>{const g=h.target;g.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(g)?g.focus():n(h)}),onPointerMove:Lr(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Lr(e.onPointerUp,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&(g.releasePointerCapture(h.pointerId),a(h))})})}),ohe="SliderTrack",lhe=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=P6(ohe,r);return s.jsx(In.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});lhe.displayName=ohe;var MF="SliderRange",che=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=P6(MF,r),a=ihe(MF,r),o=j.useRef(null),l=ka(t,o),c=i.values.length,u=i.values.map(g=>fhe(g,i.min,i.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(In.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:h+"%"}})});che.displayName=MF;var LF="SliderThumb",uhe=j.forwardRef((e,t)=>{const r=M1t(e.__scopeSlider),[n,i]=j.useState(null),a=ka(t,l=>i(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(z1t,{...e,ref:a,index:o})}),z1t=j.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=P6(LF,r),l=ihe(LF,r),[c,u]=j.useState(null),f=ka(t,A=>u(A)),h=c?o.form||!!c.closest("form"):!0,g=Fj(c),p=o.values[n],S=p===void 0?0:fhe(p,o.min,o.max),b=H1t(n,o.values.length),N=g==null?void 0:g[l.size],C=N?G1t(N,S,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${C}px)`},children:[s.jsx(RF.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(In.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:Lr(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&s.jsx(dhe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});uhe.displayName=LF;var V1t="RadioBubbleInput",dhe=j.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=j.useRef(null),a=ka(i,n),o=iE(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(In.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});dhe.displayName=V1t;function W1t(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function fhe(e,t,r){const a=100/(r-t)*(e-t);return fC(a,[0,100])}function H1t(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function q1t(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function G1t(e,t,r){const n=e/2,a=kL([0,50],[0,n]);return(n-a(t)*r)*r}function K1t(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Y1t(e,t){if(t>0){const r=K1t(e);return Math.min(...r)>=t}return!0}function kL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function X1t(e){return(String(e).split(".")[1]||"").length}function J1t(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var hhe=nhe,Z1t=lhe,Q1t=che,egt=uhe;const mhe=Ie.forwardRef(({className:e,...t},r)=>s.jsxs(hhe,{ref:r,className:Ir("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(Z1t,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(Q1t,{className:"absolute h-full bg-primary"})}),s.jsx(egt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));mhe.displayName=hhe.displayName;const tgt=()=>{const{user:e}=bn(),{userProfile:t,updateUserProfile:r}=Ja(),[n,i]=j.useState(!1),[a,o]=j.useState(20);j.useEffect(()=>{t&&t.notification_radius&&o(t.notification_radius)},[t]);const l=async()=>{i(!0);try{await r(e.id,{notification_radius:a}),lt({title:"Prfrences mises  jour",description:"Vos prfrences ont t sauvegardes avec succs."})}catch{lt({title:"Erreur",description:"Une erreur est survenue lors de la sauvegarde.",variant:"destructive"})}finally{i(!1)}};return s.jsxs(Yt,{className:"glass-effect border-[#C9A227]/20",children:[s.jsx(Wr,{children:s.jsx(qr,{className:"text-white",children:"Prfrences de dcouverte"})}),s.jsxs(Qt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(kt,{className:"text-white mb-4 block",children:["Rayon de dcouverte: ",a," km"]}),s.jsx(mhe,{value:[a],onValueChange:c=>o(c[0]),max:100,min:5,step:5,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[s.jsx("span",{children:"5 km"}),s.jsx("span",{children:"50 km"}),s.jsx("span",{children:"100 km"})]})]}),s.jsxs(ze,{onClick:l,disabled:n,className:"gradient-gold text-[#0B0B0D] hover:opacity-90",children:[n?s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(bj,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})},rgt=()=>{const{t:e}=za();return s.jsxs(s.Fragment,{children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("settings.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("settings.description")})]}),s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:e("settings.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("settings.subtitle")})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[s.jsx(F1t,{}),s.jsx(tgt,{}),s.jsx(R1t,{}),s.jsx(D1t,{})]})]})]})},ngt=({promotion:e,isUnlocked:t,onClick:r,adminConfig:n})=>{const[i,a]=j.useState("");return j.useEffect(()=>{const o=()=>{if(!e.pack_expires_at){a("");return}const c=new Date(e.pack_expires_at),u=new Date,f=c.getTime()-u.getTime();if(f<=0){a("Termin");return}const h=Math.floor(f/(1e3*60*60*24));if(h>0)a(`${h}j`);else{const g=Math.floor(f/36e5);a(`${g}h`)}};o();const l=setInterval(o,36e5);return()=>clearInterval(l)},[e.pack_expires_at]),s.jsx(er.div,{onClick:r,className:"cursor-pointer h-full",whileHover:{y:-5},children:s.jsxs(Yt,{className:"h-full flex flex-col bg-card border-border overflow-hidden hover:border-primary transition-all shadow-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{className:"w-full h-48 object-cover",alt:`Aperu pour ${e.title}`,src:e.cover_image||"https://images.unsplash.com/photo-1509930854872-0f61005b282e?auto=format&fit=crop&w=400&h=300&q=75"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i&&s.jsxs(Vr,{variant:"secondary",className:"absolute top-3 left-3 bg-black/50 text-white backdrop-blur-sm",children:[s.jsx(jh,{className:"w-3 h-3 mr-1"}),i]}),s.jsx(Vr,{variant:"secondary",className:"absolute top-3 right-3 bg-primary text-primary-foreground",children:e.pack_name||"Promo"}),!t&&s.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center backdrop-blur-sm",children:[s.jsx(N0,{className:"w-8 h-8 text-accent mb-2"}),s.jsx("p",{className:"text-white font-bold",children:"Dtails verrouills"}),s.jsxs("div",{className:"flex items-center text-xs text-amber-300 mt-1",children:[s.jsx(Ua,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:[(n==null?void 0:n.interaction_cost_pi)||2," pour voir"]})]})]})]}),s.jsx(Qt,{className:"p-4 flex-grow flex flex-col justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2 font-heading",children:e.title}),t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[s.jsx(i7,{className:"w-4 h-4 mr-2 text-primary"}),e.category]}),s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[s.jsx(to,{className:"w-4 h-4 mr-2 text-primary"}),e.city]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connectez-vous pour voir tous les dtails."})]})})]})})},agt=()=>{const e=Sa(),{getPromotions:t,userProfile:r,adminConfig:n,forceRefreshUserProfile:i}=Ja(),{user:a}=bn(),[o,l]=j.useState([]),[c,u]=j.useState(!0),[f,h]=j.useState(""),[g,p]=j.useState(new Set),[S,b]=j.useState(!1),[N,C]=j.useState(!1),[A,T]=j.useState({amountFcfa:0,packId:null,action:""});j.useEffect(()=>{(async()=>{u(!0);const W=await t({status:"active"});l(W),u(!1)})()},[t]),j.useEffect(()=>{(async()=>{if(a){const{data:W,error:z}=await Ze.from("user_interactions").select("event_id").eq("user_id",a.id).eq("interaction_type","view");if(z)console.error("Error fetching unlocked promotions:",z);else{const Z=new Set(W.map(K=>K.event_id));p(Z)}}})()},[a]);const F=async M=>{if(!a){lt({title:"Connexion requise",description:"Veuillez vous connecter pour voir les dtails.",variant:"destructive"}),e("/auth");return}if(g.has(M.event_id)||M.organizer_id===a.id){e(`/event/${M.event_id}`);return}const z=(n==null?void 0:n.interaction_cost_pi)||2,Z=async()=>{try{await bl.debitCoins(a.id,z,`Dblocage promotion: ${M.title}`,M.event_id,"event");const{error:q}=await Ze.from("user_interactions").insert({event_id:M.event_id,user_id:a.id,interaction_type:"view",cost_paid:z});if(q)throw q;p(ie=>new Set(ie).add(M.event_id)),i(),lt({title:"Promotion dbloque!",description:`Vous pouvez maintenant voir les dtails de "${M.title}".`}),e(`/event/${M.event_id}`)}catch(q){lt({title:"Erreur",description:q.message,variant:"destructive"})}},K=()=>{C(!0)};await bl.handleAction({userId:a.id,requiredCoins:z,onSuccess:Z,onInsufficientBalance:K})},L=j.useMemo(()=>(f?o.filter(W=>W.title.toLowerCase().includes(f.toLowerCase())||W.description&&W.description.toLowerCase().includes(f.toLowerCase())||W.category.toLowerCase().includes(f.toLowerCase())):o).sort((W,z)=>{const Z=g.has(W.event_id)||a&&W.organizer_id===a.id,K=g.has(z.event_id)||a&&z.organizer_id===a.id;return Z&&!K?1:!Z&&K?-1:new Date(z.created_at)-new Date(W.created_at)}),[o,f,g,a]),B=r&&["organizer","admin","super_admin"].includes(r.user_type);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:"Promotions - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Dcouvrez les meilleures promotions et offres spciales."})]}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Promotions"}),B&&s.jsxs(ze,{onClick:()=>e("/create-event"),className:"bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"})," Crer un vnement"]})]}),s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative mb-6",children:[s.jsx($l,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(rr,{placeholder:"Rechercher une promotion, une catgorie...",value:f,onChange:M=>h(M.target.value),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary"})]}),s.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c?s.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"Chargement des promotions..."}):L.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(M=>s.jsx(ngt,{promotion:M,isUnlocked:g.has(M.event_id)||a&&M.organizer_id===a.id,onClick:()=>F(M),adminConfig:n},M.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucune promotion trouve"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Essayez de modifier votre recherche ou revenez plus tard."})]})})]}),s.jsx(P0,{isOpen:N,onClose:()=>C(!1),onProceed:()=>{C(!1),T({amountFcfa:0,packId:null,action:"buy_coins"}),b(!0)}}),s.jsx(vE,{isOpen:S,onClose:()=>b(!1),amountFcfa:A.amountFcfa,packId:A.packId,action:A.action})]})},igt=()=>{const e=Sa(),{user:t}=bn(),{userProfile:r,adminConfig:n,forceRefreshUserProfile:i,getEvents:a}=Ja(),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[f,h]=j.useState([]),[g,p]=j.useState({event_id:"",promotion_pack_id:""});j.useEffect(()=>{t||(lt({title:"Accs refus",description:"Veuillez vous connecter pour crer une promotion.",variant:"destructive"}),e("/auth",{state:{from:"/create-promotion"}}))},[t,e]),j.useEffect(()=>{(async()=>{if(t){const T=await a({organizer_id:t.id});h(T)}})()},[t,a]);const S=(n==null?void 0:n.promotion_packs)||[],b=async A=>{if(A.preventDefault(),!t){lt({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"}),e("/auth");return}l(!0);try{if(!g.event_id||!g.promotion_pack_id)throw new Error("Veuillez slectionner un vnement et un pack de promotion.");const T=S.find(B=>B.id===g.promotion_pack_id);if(!T)throw new Error("Pack de promotion invalide.");const F=async()=>{try{await bl.debitCoins(t.id,T.cost_pi,`Promotion pour l'vnement ID: ${g.event_id}`);const{data:B,error:M}=await Ze.from("event_promotions").insert({event_id:g.event_id,organizer_id:t.id,promotion_pack_id:g.promotion_pack_id,start_date:new Date().toISOString(),end_date:new Date(Date.now()+T.duration_days*24*60*60*1e3).toISOString(),cost_pi:T.cost_pi,status:"active",payment_status:"paid"}).select().single();if(M)throw M;i(),lt({title:"Promotion cre !",description:"Votre vnement est maintenant promu."}),e(`/event/${g.event_id}`)}catch(B){console.error("Payment success, but DB update failed:",B),lt({title:"Erreur de base de donnes",description:"Votre paiement a russi, mais la mise  jour de la promotion a chou. Veuillez contacter le support.",variant:"destructive"})}},L=()=>{l(!1),u(!0)};await bl.handleAction({userId:t.id,requiredCoins:T.cost_pi,onSuccess:F,onInsufficientBalance:L,amountFcfa:bl.convertCoinsToFcfa(T.cost_pi),action:"create_promotion",packId:T.id,email:t.email,phone:r==null?void 0:r.phone})}catch(T){lt({title:"Erreur",description:T.message,variant:"destructive"}),l(!1)}},N=(A,T)=>{p(F=>({...F,[A]:T}))},C=()=>{u(!1);const A=S.find(T=>T.id===g.promotion_pack_id);A&&bl.generateMoneyFusionLink({userId:t.id,amountFcfa:bl.convertCoinsToFcfa(A.cost_pi),action:"create_promotion",packId:A.id,eventId:g.event_id,email:t.email,phone:r==null?void 0:r.phone})};return t?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:"Promouvoir un vnement - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Promouvez votre vnement sur BonPlaninfos."})]}),s.jsxs("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs(ze,{variant:"ghost",onClick:()=>e(-1),className:"text-muted-foreground hover:text-primary mb-4",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Promouvoir un vnement"}),s.jsx("p",{className:"text-muted-foreground",children:"Augmentez la visibilit de votre vnement pour toucher plus de monde."})]}),s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs("form",{onSubmit:b,className:"space-y-8",children:[s.jsxs(Yt,{className:"glass-effect border-primary/20",children:[s.jsx(Wr,{children:s.jsxs(qr,{className:"flex items-center",children:[s.jsx(Md,{className:"w-5 h-5 mr-2 text-primary"}),"Slectionnez votre vnement"]})}),s.jsx(Qt,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"event_id",children:"vnement  promouvoir *"}),s.jsxs(_i,{value:g.event_id,onValueChange:A=>N("event_id",A),children:[s.jsx(gi,{id:"event_id",children:s.jsx(Ni,{placeholder:"Choisir un de vos vnements"})}),s.jsx(xi,{children:f.length>0?f.map(A=>s.jsx(on,{value:A.id,children:A.title},A.id)):s.jsx(on,{value:"none",disabled:!0,children:"Vous n'avez aucun vnement actif."})})]})]})})]}),s.jsxs(Yt,{className:"glass-effect border-primary/20",children:[s.jsx(Wr,{children:s.jsxs(qr,{className:"flex items-center",children:[s.jsx(Lv,{className:"w-5 h-5 mr-2 text-primary"}),"Choix du Pack de Promotion *"]})}),s.jsx(Qt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Slectionnez un pack pour votre promotion"}),s.jsxs(_i,{value:g.promotion_pack_id,onValueChange:A=>N("promotion_pack_id",A),children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Choisir un pack"})}),s.jsx(xi,{children:S.map(A=>s.jsx(on,{value:A.id,children:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsxs("span",{children:[A.name," - ",A.duration_days," jours"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ua,{className:"w-3 h-3"}),A.cost_pi]})]})},A.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Le cot en pices sera dduit de votre portefeuille lors de la publication. Si votre solde est insuffisant, vous serez redirig pour payer."})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[s.jsx(ze,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Annuler"}),s.jsxs(ze,{type:"submit",disabled:o||!g.event_id||!g.promotion_pack_id,className:"gradient-gold text-background hover:opacity-90 flex-1",children:[o?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"})," Publication..."]}):"Publier la promotion",s.jsx(id,{className:"w-4 h-4 ml-2"})]})]})]})})]}),s.jsx(P0,{isOpen:c,onClose:()=>u(!1),onProceed:C})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})})},cY=({type:e})=>{const r={new_event:s.jsx(jo,{className:"w-5 h-5 text-blue-400"}),promotion:s.jsx(i7,{className:"w-5 h-5 text-purple-400"}),system:s.jsx(Oy,{className:"w-5 h-5 text-gray-400"}),earning:s.jsx(Ua,{className:"w-5 h-5 text-yellow-400"}),success:s.jsx(vl,{className:"w-5 h-5 text-green-400"}),error:s.jsx(Iu,{className:"w-5 h-5 text-red-400"}),info:s.jsx(Md,{className:"w-5 h-5 text-cyan-400"})}[e]||s.jsx(p0,{className:"w-5 h-5 text-gray-400"}),i={new_event:"bg-blue-500/20",promotion:"bg-purple-500/20",system:"bg-gray-500/20",earning:"bg-yellow-500/20",success:"bg-green-500/20",error:"bg-red-500/20",info:"bg-cyan-500/20"}[e]||"bg-gray-500/20";return s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-4 ${i}`,children:r})},sgt=()=>{const{t:e}=za(),t=Sa(),{user:r}=bn(),[n,i]=j.useState([]),[a,o]=j.useState(!0);j.useEffect(()=>{r?(async()=>{o(!0);const{data:g,error:p}=await Ze.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});p?lt({title:e("notifications_page.update_error"),description:"Impossible de charger les notifications.",variant:"destructive"}):i(g),o(!1)})():t("/auth")},[r,t,e]);const l=async()=>{try{const{error:h}=await Ze.from("notifications").update({is_read:!0}).eq("user_id",r.id).eq("is_read",!1);if(h)throw h;i(n.map(g=>({...g,is_read:!0}))),lt({title:e("notifications_page.update_success"),description:e("notifications_page.update_success_desc"),duration:5e3})}catch{lt({title:e("notifications_page.update_error"),description:"Impossible de marquer les notifications comme lues.",variant:"destructive",duration:5e3})}},c=async h=>{var g,p;if(!h.is_read){const{error:S}=await Ze.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",h.id);S||i(b=>b.map(N=>N.id===h.id?{...N,is_read:!0}:N))}(g=h.data)!=null&&g.event_id?t(`/event/${h.data.event_id}`):(p=h.data)!=null&&p.link&&t(h.data.link)};if(!r)return null;const u=n.filter(h=>!h.is_read),f=u.length;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("notifications_page.title")," - BonPlaninfos"]}),s.jsx("meta",{name:"description",content:"Consultez vos dernires notifications et restez inform."})]}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[s.jsx(p0,{className:"w-8 h-8 mr-3 text-primary"}),e("notifications_page.title")]}),s.jsx(ze,{variant:"outline",onClick:l,disabled:f===0,children:e("notifications_page.mark_all_read")})]}),s.jsxs(O0,{defaultValue:"all",className:"w-full",children:[s.jsxs(Th,{className:"grid w-full grid-cols-2 bg-muted",children:[s.jsx(Hn,{value:"all",children:e("notifications_page.tabs.all")}),s.jsxs(Hn,{value:"unread",className:"relative",children:[e("notifications_page.tabs.unread"),f>0&&s.jsx(Vr,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 gradient-red text-white text-xs",children:f})]})]}),s.jsxs(qn,{value:"all",className:"mt-6 space-y-4",children:[n.map(h=>s.jsxs("div",{className:`p-4 flex items-start rounded-lg transition-all cursor-pointer hover:bg-muted/80 ${h.is_read?"bg-muted/50":"bg-primary/5 border-l-4 border-primary"}`,onClick:()=>c(h),children:[s.jsx(cY,{type:h.type}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(h.created_at).toLocaleString("fr-FR")})]})]},h.id)),n.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(p0,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e("notifications_page.no_notifications")})]})]}),s.jsxs(qn,{value:"unread",className:"mt-6 space-y-4",children:[u.map(h=>s.jsxs("div",{className:"p-4 flex items-start rounded-lg bg-primary/5 border-l-4 border-primary cursor-pointer hover:bg-muted/80",onClick:()=>c(h),children:[s.jsx(cY,{type:h.type}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(h.created_at).toLocaleString("fr-FR")})]})]},h.id)),f===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(p0,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e("notifications_page.no_unread_notifications")})]})]})]})]})})]})},uY=()=>{const e=Sa(),[t,r]=j.useState("fr"),n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},o={fr:{title:"Conditions Gnrales d'Utilisation",subtitle:"BonPlanInfos - Votre plateforme de mise en relation",lastUpdate:"Date de dernire mise  jour : 01/10/2025",effectiveDate:"Entre en vigueur : 05/10/2025",back:"Retour",navigation:"Navigation",contact:"Nous Contacter",questions:"Vous avez des questions ?",contactText:"Notre quipe est disponible pour vous accompagner et rpondre  toutes vos interrogations concernant nos conditions d'utilisation.",articles:[{icon:nc,title:"Article 1 : Objet et Acceptation",content:`
            Les prsentes Conditions Gnrales d'Utilisation (CGU) rgissent l'utilisation de la plateforme BonPlanInfos (bonplaninfos.net), application de mise en relation entre crateurs de contenu, organisateurs d'vnements, annonceurs et utilisateurs en Afrique.
            
            **Acceptation :** L'utilisation de la plateforme implique l'acceptation sans rserve des prsentes CGU.

            ### Section 1 - Accs et Responsabilits
            L'Administrateur Pays s'engage  :
            - Maintenir la confidentialit de ses identifiants
            - Ne pas partager son accs admin avec des tiers
            - Respecter les guidelines de contenu BonPlanInfos
            - Modrer activement les annonces de son territoire
            - Signaler tout comportement suspect au Super Admin

            **Interdictions formelles :**
            - Tenter d'accder aux donnes d'autres pays
            - Modifier la structure technique de la plateforme
            - Installer des extensions non autorises
            - Utiliser la plateforme  des fins personnelles

            ### Section 2 - Standards de Contenu
            Chaque Administrateur Pays doit garantir :
            - L'authenticit des annonces publies
            - Le respect des lois locales sur le commerce
            - La modration des contenus inappropris sous 24h
            - La vrification des coordonnes des annonceurs

            ### Option A - Pour les Investisseurs-Fondateurs
            Le partenaire investit **100.000f  500.000f** pour obtenir la licence d'exploitation pour son pays.

            **Revenue Sharing :** 60% pour le partenaire local / 40% pour la maison mre
            - Les 60% couvrent : marketing local, quipe, frais oprationnels
            - Les 40% couvrent : maintenance technique, dveloppement, support global

            ### Option B - Pour les Gestionnaires Salaris
            **Systme de Paiement Centralis :**

            **Processus de Rpartition :**
            1. Tous les paiements arrivent sur le compte central BonPlanInfos
            2. Le systme tracke automatiquement les revenus par pays
            3. Les rapports financiers sont gnrs le 01 de chaque mois
            4. Les virements aux partenaires sont effectus le 05 du mois
            5. Reu et justificatifs fournis pour chaque transaction
          `},{icon:Nu,title:"Article 2 : Dfinitions",content:`
            - **Plateforme :** Application et site web BonPlanInfos
            - **Utilisateur :** Toute personne utilisant la plateforme
            - **Crateur ou Organisateur :** Utilisateur publiant du contenu (vnements, promotions)
            - **Organisateur :** Crateur organisant des vnements payants ou gratuits
            - **Annonceur ou Utilisateur :** Utilisateur publiant des promotions commerciales
            - **Pices :** Monnaie virtuelle de la plateforme (50 pice = 500 FCFA)
            - **Contenu :** vnements, promotions, publications, commentaires, notification a temps rel.
          `},{icon:Zs,title:"Article 3 : Inscription et Compte",content:`
            ### 3.1 L'inscription ncessite :
            - Une adresse email valide
            - Un numro de tlphone vrifi
            - Votre Pays et ville de rsidence
            - L'acceptation des CGU et de la politique de confidentialit

            ### 3.2 Les utilisateurs s'engagent  :
            - Fournir des informations exactes et compltes
            - Maintenir la confidentialit de leurs identifiants
            - Informer immdiatement de toute utilisation non autorise

            ### 3.3 Types de comptes :
            - Utilisateur standard (accs gratuit aux fonctionnalits de base)
            - Organisateur: (publication d'vnements, vrification requise)
            - Annonceur Utilisateur: (publication de promotions, vrification requise)
            - Admin (gestion de plateforme)

            ### 3.4 Contenus et responsabilits
            Vous vous engagez  ne pas publier de contenus offensants, illgaux, ou portant atteinte aux droits de tiers.

            BonPlaninfos se rserve le droit de supprimer tout contenu qui ne respecte pas nos standards.
          `},{icon:dh,title:"Article 4 : Systme de Pices et Montisation",content:`
            ### 4.1 Acquisition de pices :
            - Achat via packs (50  1.000.000 pices)
            - Parrainage (20 pices par filleul actif)
            - Rcompenses pour contenu populaire
            - Participation aux programmes de fidlit

            ### 4.2 Utilisation des pices :
            - Publication d'vnements (cot variable)
            - Publication de promotions (cot variable)
            - Boost de visibilit du contenu
            - Accs  du contenu exclusif

            ### 4.3 Conversion et retraits :
            - Taux de conversion : 50 pices = 500 FCFA
            - Seuil minimal de retrait : 50 pices
            - Modalits de retrait : Orange Money, Moov Money, Wave, PayPal
            - Dlai de traitement : 24-72 heures

            ### 4.4 Politique de remboursement :
            - Aucun remboursement des pices achetes
            - Annulation d'vnement : remboursement des pices utilises
            - Content supprim : pas de remboursement des pices dpenses
          `},{icon:_p,title:"Article 5 : Contenu et Publications",content:`
            ### 5.1 Responsabilits des crateurs :
            - Exactitude des informations publies
            - Respect des droits d'auteur et proprit intellectuelle
            - Conformit avec la lgislation locale
            - Obtenir les autorisations ncessaires pour les vnements

            ### 5.2 Contenu interdit :
            - Contenu illgal ou frauduleux
            - Contenu discriminatoire ou haineux
            - Contenu pornographique ou explicite
            - Informations commerciales trompeuses
            - Spam et contenus rptitifs

            ### 5.3 Modration :
            - Droit de modration a posteriori par BonPlanInfos
            - Possibilit de suppression sans pravis des contenus non conformes
            - Systme de signalement par les utilisateurs
          `},{icon:nc,title:"Article 6 : Proprit Intellectuelle",content:`
            ### 6.1 Contenu utilisateur :
            - Les utilisateurs conservent leurs droits sur leur contenu
            - Licence d'utilisation accorde  BonPlanInfos pour l'exploitation de la plateforme

            ### 6.2 Plateforme BonPlanInfos :
            - Marque, logo et lments graphiques protgs
            - Code source et architecture technique protgs
            - Interdiction de reproduction sans autorisation

            Le Partenaire reconnat que la plateforme, son code source, sa base de donnes et la marque BonPlanInfos sont et restent la proprit exclusive du Fondateur Principal.
          `},{icon:Nu,title:"Article 7 : Donnes Personnelles",content:`
            ### 7.1 Collecte et utilisation :
            - Donnes collectes : identit, coordonnes, localisation, contenus, interactions
            - Finalits : fourniture du service, personnalisation, analytics, marketing

            ### 7.2 Cookies et traceurs :
            - Utilisation de cookies techniques et analytiques
            - Consentement requis pour les cookies marketing
            - Possibilit de dsactivation dans les paramtres

            ### 7.3 Droits des utilisateurs :
            - Droit d'accs, rectification, opposition, suppression
            - Contact : bonplaninfos@gmail.com
            - Dlai de rponse : 30 jours maximum
          `},{icon:Zs,title:"Article 8 : Responsabilits",content:`
            ### 8.1 Responsabilit de BonPlanInfos :
            - Fourniture du service avec diligence raisonnable
            - Non responsable des contenus publis par les utilisateurs
            - Obligation de moyens, non de rsultat

            ### 8.2 Responsabilit des utilisateurs :
            - Exactitude des informations publies
            - Respect des engagements envers les autres utilisateurs
            - Utilisation conforme aux lois en vigueur

            ### 8.3 Force majeure :
            - Interruptions de service pour maintenance technique
            - Cas de force majeure (panne infrastructure, etc.)
          `},{icon:dh,title:"Article 9 : Transactions et Paiements",content:`
            ### 9.1 vnements payants :
            - traitement des paiements via partenaires certifis
            - Retrait ; Commission de 2% est applique sur les transactions
            - Paiement aux organisateurs sous 5 jours ouvrs

            ### 9.2 Promotions payantes :
            - Tarification selon visibilit et dure
            - Aucun remboursement aprs publication

            ### 9.3 Paiements et commissions
            Les commissions et gains sont verss selon les conditions tablies sur la plateforme.

            BonPlaninfos ne peut tre tenu responsable des retards ou erreurs de paiement causs par des informations incorrectes fournies par l'utilisateur

            ### 9.3 Litiges :
            - Mdiation prioritaire en cas de litige entre utilisateurs
            - Recours possibles auprs des autorits comptentes
          `},{icon:_p,title:"Article 10 : Suspension et Rsiliation",content:`
            ### 10.1 Par l'utilisateur :
            - Rsiliation  tout temps via paramtres du compte
            - Suppression des donnes conformment  la politique de conservation

            ### 10.2 Par BonPlanInfos :
            - Suspension immdiate en cas de violation des CGU
            - Rsiliation aprs avertissement sans rgularisation
            - Conservation des donnes en cas d'obligation lgale
          `},{icon:nc,title:"Article 11 : volutions et Modifications",content:`
            ### 11.1 Service :
            - BonPlanInfos se rserve le droit de faire voluer les fonctionnalits
            - Information des utilisateurs des modifications substantielles

            ### 11.2 CGU :
            - Modification possible  tout temps
            - Information par email et notification dans l'application
            - Acceptation implicite si poursuite d'utilisation
          `},{icon:Nu,title:"Article 12 : Loi Applicable et Litiges",content:`
            ### 12.1 Loi applicable :
            - Droit applicable : selon pays d'incorporation
            - Langue d'interprtation : franais

            ### 12.2 Rglement des litiges :
            - Tentative de mdiation obligatoire
            - Recours aux tribunaux comptents en cas d'chec
          `},{icon:Zs,title:"Article 13 : Dispositions Diverses",content:`
            **13.1 Indpendance des parties :** Aucune relation de socit ou de mandat
            **13.2 Divisibilit :** Nullit partielle n'affectant pas le reste des dispositions
            **13.3 Non-renonciation :** Absence de poursuite ne valant pas renonciation
          `},{icon:hm,title:"Article 14 : Contact",content:`
            Pour toute question concernant les CGU :

            - Email : lgal bonplaninfos@gmail.com
            - Adresse postale : [bonplaninfos@gmail.com]
            - Dlai de rponse : 15 jours ouvrs
          `}]},en:{title:"Terms and Conditions",subtitle:"BonPlanInfos - Your connection platform",lastUpdate:"Last update date: 10/01/2025",effectiveDate:"Effective date: 10/05/2025",back:"Back",navigation:"Navigation",contact:"Contact Us",questions:"Do you have questions?",contactText:"Our team is available to assist you and answer all your questions regarding our terms of use.",articles:[{icon:nc,title:"Article 1: Purpose and Acceptance",content:`
            These General Terms of Use (GTU) govern the use of the BonPlanInfos platform (bonplaninfos.net), a connection application between content creators, event organizers, advertisers and users in Africa.
            
            **Acceptance:** Use of the platform implies unreserved acceptance of these GTU.

            ### Section 1 - Access and Responsibilities
            The Country Administrator undertakes to:
            - Maintain the confidentiality of their credentials
            - Not share their admin access with third parties
            - Respect BonPlanInfos content guidelines
            - Actively moderate ads in their territory
            - Report any suspicious behavior to the Super Admin

            **Strict prohibitions:**
            - Attempt to access data from other countries
            - Modify the technical structure of the platform
            - Install unauthorized extensions
            - Use the platform for personal purposes

            ### Section 2 - Content Standards
            Each Country Administrator must guarantee:
            - The authenticity of published ads
            - Compliance with local commercial laws
            - Moderation of inappropriate content within 24 hours
            - Verification of advertiser contact details

            ### Option A - For Investor-Founders
            The partner invests **2,550,000F** to obtain the operating license for their country.

            **Revenue Sharing:** 60% for local partner / 40% for headquarters
            - The 60% covers: local marketing, team, operational expenses
            - The 40% covers: technical maintenance, development, global support

            ### Option B - For Salaried Managers
            **Centralized Payment System:**

            **Distribution Process:**
            1. All payments go to the central BonPlanInfos account
            2. The system automatically tracks revenue by country
            3. Financial reports are generated on the 5th of each month
            4. Transfers to partners are made on the 15th of the month
            5. Receipt and supporting documents provided for each transaction
          `},{icon:Nu,title:"Article 2: Definitions",content:`
            - **Platform:** BonPlanInfos application and website
            - **User:** Any person using the platform
            - **Creator or Organizer:** User publishing content (events, promotions)
            - **Organizer:** Creator organizing paid or free events
            - **Advertiser or User:** User publishing commercial promotions
            - **Coins:** Virtual platform currency (50 coins = 500 FCFA)
            - **Content:** Events, promotions, publications, comments, real-time notifications
          `},{icon:Zs,title:"Article 3: Registration and Account",content:`
            ### 3.1 Registration requires:
            - A valid email address
            - A verified phone number
            - Your country and city of residence
            - Acceptance of the GTU and privacy policy

            ### 3.2 Users undertake to:
            - Provide accurate and complete information
            - Maintain the confidentiality of their credentials
            - Immediately report any unauthorized use

            ### 3.3 Account types:
            - Standard user (free access to basic features)
            - Organizer: (event publication, verification required)
            - Advertiser User: (promotion publication, verification required)
            - Admin (platform management)

            ### 3.4 Content and responsibilities
            You agree not to publish offensive, illegal content, or content that infringes on third-party rights.

            BonPlaninfos reserves the right to remove any content that does not meet our standards.
          `},{icon:dh,title:"Article 4: Coin System and Monetization",content:`
            ### 4.1 Coin acquisition:
            - Purchase via packs (50 to 1300 coins)
            - Referral (20 coins per active referral)
            - Rewards for popular content
            - Participation in loyalty programs

            ### 4.2 Coin usage:
            - Event publication (variable cost)
            - Promotion publication (variable cost)
            - Content visibility boost
            - Access to exclusive content

            ### 4.3 Conversion and withdrawals:
            - Conversion rate: 50 coins = 500 FCFA
            - Minimum withdrawal threshold: 50 coins
            - Withdrawal methods: Orange Money, Moov Money, Wave, Visa, PayPal
            - Processing time: 24-72 hours

            ### 4.4 Refund policy:
            - No refund for purchased coins
            - Event cancellation: refund of coins used
            - Deleted content: no refund of spent coins
          `},{icon:_p,title:"Article 5: Content and Publications",content:`
            ### 5.1 Creator responsibilities:
            - Accuracy of published information
            - Respect for copyright and intellectual property
            - Compliance with local legislation
            - Obtain necessary authorizations for events

            ### 5.2 Prohibited content:
            - Illegal or fraudulent content
            - Discriminatory or hateful content
            - Pornographic or explicit content
            - Misleading commercial information
            - Spam and repetitive content

            ### 5.3 Moderation:
            - Right of a posteriori moderation by BonPlanInfos
            - Possibility of removal without notice for non-compliant content
            - User reporting system
          `},{icon:nc,title:"Article 6: Intellectual Property",content:`
            ### 6.1 User content:
            - Users retain their rights to their content
            - Usage license granted to BonPlanInfos for platform operation

            ### 6.2 BonPlanInfos Platform:
            - Protected brand, logo and graphic elements
            - Protected source code and technical architecture
            - Reproduction prohibited without authorization

            The Partner acknowledges that the platform, its source code, database and BonPlanInfos brand are and remain the exclusive property of the Principal Founder.
          `},{icon:Nu,title:"Article 7: Personal Data",content:`
            ### 7.1 Collection and use:
            - Data collected: identity, contact details, location, content, interactions
            - Purposes: service provision, personalization, analytics, marketing

            ### 7.2 Cookies and trackers:
            - Use of technical and analytical cookies
            - Consent required for marketing cookies
            - Possibility of deactivation in settings

            ### 7.3 User rights:
            - Right of access, rectification, opposition, deletion
            - Contact: bonplaninfos@gmail.com
            - Response time: maximum 30 days
          `},{icon:Zs,title:"Article 8: Responsibilities",content:`
            ### 8.1 BonPlanInfos responsibility:
            - Provision of service with reasonable diligence
            - Not responsible for content published by users
            - Obligation of means, not of result

            ### 8.2 User responsibility:
            - Accuracy of published information
            - Respect for commitments to other users
            - Use in compliance with applicable laws

            ### 8.3 Force majeure:
            - Service interruptions for technical maintenance
            - Cases of force majeure (infrastructure failure, etc.)
          `},{icon:dh,title:"Article 9: Transactions and Payments",content:`
            ### 9.1 Paid events:
            - Payment processing via certified partners
            - Withdrawal; 2% commission applied to transactions
            - Payment to Partenariats within 5 working days

            ### 9.2 Paid promotions:
            - Pricing based on visibility and duration
            - No refund after publication

            ### 9.3 Payments and commissions
            Commissions and earnings are paid according to the conditions established on the platform.

            BonPlaninfos cannot be held responsible for payment delays or errors caused by incorrect information provided by the user.

            ### 9.3 Disputes:
            - Priority mediation in case of disputes between users
            - Possible recourse to competent authorities
          `},{icon:_p,title:"Article 10: Suspension and Termination",content:`
            ### 10.1 By the user:
            - Termination at any time via account settings
            - Data deletion according to retention policy

            ### 10.2 By BonPlanInfos:
            - Immediate suspension in case of GTU violation
            - Termination after warning without regularization
            - Data retention in case of legal obligation
          `},{icon:nc,title:"Article 11: Evolution and Modifications",content:`
            ### 11.1 Service:
            - BonPlanInfos reserves the right to evolve features
            - User information of substantial modifications

            ### 11.2 GTU:
            - Modification possible at any time
            - Information by email and in-app notification
            - Implicit acceptance if continued use
          `},{icon:Nu,title:"Article 12: Applicable Law and Disputes",content:`
            ### 12.1 Applicable law:
            - Applicable law: according to country of incorporation
            - Interpretation language: French

            ### 12.2 Dispute resolution:
            - Mandatory mediation attempt
            - Recourse to competent courts in case of failure
          `},{icon:Zs,title:"Article 13: Miscellaneous Provisions",content:`
            **13.1 Independence of parties:** No partnership or agency relationship
            **13.2 Severability:** Partial nullity not affecting the rest of the provisions
            **13.3 Non-waiver:** Lack of pursuit not constituting waiver
          `},{icon:hm,title:"Article 14: Contact",content:`
            For any questions regarding the GTU:

            - Email: legal bonplaninfos@gmail.com
            - Postal address: [bonplaninfos@gmail.com]
            - Response time: 15 working days
          `}]}}[t],l=c=>c.split(`

`).map((f,h)=>{if(f.startsWith("### "))return s.jsx("h3",{className:"text-lg font-semibold text-white mt-4 mb-2",children:f.replace("### ","")},h);if(f.startsWith("**")&&f.endsWith("**"))return s.jsx("div",{className:"bg-white/5 rounded-xl p-4 border-l-4 border-[#C9A227] my-3",children:s.jsx("p",{className:"font-semibold text-white",children:f.replace(/\*\*/g,"")})},h);if(f.includes(":")){const g=f.split(`
`).filter(p=>p.trim());return s.jsx("div",{className:"my-4",children:g.map((p,S)=>s.jsxs("div",{className:"flex items-start mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#C9A227] rounded-full mt-2 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:p})]},S))},h)}else if(f.includes("1.")){const g=f.split(`
`).filter(p=>p.trim());return s.jsx("ol",{className:"list-decimal list-inside ml-4 space-y-2 my-3",children:g.map((p,S)=>s.jsx("li",{className:"text-gray-300",children:p.replace(/^\d+\.\s*/,"")},S))},h)}else return s.jsx("p",{className:"text-gray-300 mb-3",children:f},h)});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0B0B0D] to-[#1a1a2e] text-white",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[o.title," - BonPlaninfos"]}),s.jsx("meta",{name:"description",content:o.title})]}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12 text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs(ze,{variant:"ghost",onClick:()=>e(-1),className:"text-gray-300 hover:text-[#C9A227] border border-gray-700 hover:border-[#C9A227] transition-all duration-300",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),o.back]}),s.jsxs(ze,{variant:"outline",onClick:()=>r(t==="fr"?"en":"fr"),className:"text-gray-300 hover:text-[#C9A227] border border-gray-700 hover:border-[#C9A227] transition-all duration-300",children:[s.jsx(a0,{className:"w-4 h-4 mr-2"}),t==="fr"?"EN":"FR"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-[#C9A227] to-[#e5c158] rounded-2xl blur-lg opacity-20"}),s.jsxs("div",{className:"relative bg-[#0f0f15] border border-gray-800 rounded-2xl p-8",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#C9A227] to-[#e5c158] bg-clip-text text-transparent mb-4",children:o.title}),s.jsx("p",{className:"text-gray-400 text-lg mb-2",children:o.subtitle}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{children:o.lastUpdate}),s.jsx("span",{className:"hidden sm:block",children:""}),s.jsx("span",{children:o.effectiveDate})]})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx(er.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:s.jsxs("div",{className:"glass-effect rounded-2xl p-6 sticky top-8",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(_p,{className:"w-5 h-5 mr-2 text-[#C9A227]"}),o.navigation]}),s.jsx("nav",{className:"space-y-2",children:o.articles.map((c,u)=>{const f=c.icon;return s.jsxs("button",{onClick:()=>{const h=document.getElementById(`article-${u+1}`);h==null||h.scrollIntoView({behavior:"smooth"})},className:"w-full text-left px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/5 transition-all duration-200 flex items-center group",children:[s.jsx(f,{className:"w-4 h-4 mr-3 text-[#C9A227] group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-sm",children:c.title.split(" : ")[0]})]},u)})})]})}),s.jsxs(er.div,{variants:n,initial:"hidden",animate:"visible",className:"lg:col-span-3 space-y-8",children:[o.articles.map((c,u)=>s.jsxs(er.section,{variants:i,id:`article-${u+1}`,className:"glass-effect rounded-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#C9A227] rounded-full -translate-y-16 translate-x-16 opacity-10"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(c.icon,{className:"w-8 h-8 text-[#C9A227] mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:c.title})]}),s.jsx("div",{className:"space-y-4 text-gray-300",children:l(c.content)})]})]},u)),s.jsx(er.section,{variants:i,className:"text-center py-12",children:s.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-[#C9A227]/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:o.questions}),s.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:o.contactText}),s.jsxs(ze,{className:"bg-gradient-to-r from-[#C9A227] to-[#e5c158] text-black font-semibold hover:opacity-90 transition-opacity",children:[s.jsx(hm,{className:"w-4 h-4 mr-2"}),o.contact]})]})})]})]})]}),s.jsx("style",{jsx:!0,children:`
        .glass-effect {
          background: rgba(15, 15, 21, 0.8);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }
      `})]})},ogt=()=>{const{t:e}=za(),[t,r]=j.useState([]),[n,i]=j.useState(!0);j.useEffect(()=>{(async()=>{i(!0);try{const{data:c,error:u}=await Ze.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(u)throw u;r(c||[])}catch(c){console.error("Error fetching announcements:",c),lt({title:e("news.error.title"),description:c.message,variant:"destructive"})}finally{i(!1)}})()},[e]);const a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:e("news.meta.title")}),s.jsx("meta",{name:"description",content:e("news.meta.description")})]}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-16",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black font-heading uppercase tracking-wider text-primary",children:e("news.title")}),s.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:e("news.subtitle")})]}),n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):t.length>0?s.jsx(er.div,{className:"space-y-6 max-w-4xl mx-auto",variants:a,initial:"hidden",animate:"visible",children:t.map(l=>s.jsx(er.div,{variants:o,children:s.jsxs(Yt,{className:"glass-effect overflow-hidden hover:border-primary/50 transition-all duration-300",children:[s.jsxs(Wr,{children:[s.jsx(qr,{className:"text-xl md:text-2xl text-white",children:l.title}),s.jsx(Oa,{className:"text-xs text-muted-foreground pt-1",children:e("news.publishedOn",{date:new Date(l.created_at).toLocaleDateString()})})]}),s.jsx(Qt,{children:s.jsx("p",{className:"text-foreground/90 whitespace-pre-wrap",children:l.content})})]})},l.id))}):s.jsxs(er.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center flex flex-col items-center justify-center h-64",children:[s.jsx(P2e,{className:"w-24 h-24 text-muted-foreground mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:e("news.noNews.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:e("news.noNews.description")})]})]})]})},lgt=()=>{var K;const e=Sa(),t=Lu(),{user:r}=bn(),{adminConfig:n,forceRefreshUserProfile:i}=Ja(),[a,o]=j.useState(!1),[l,c]=j.useState([]),[u,f]=j.useState(""),[h,g]=j.useState(""),[p,S]=j.useState(!1),[b,N]=j.useState(!0),[C,A]=j.useState([]),[T,F]=j.useState(!1);j.useEffect(()=>{(async()=>{F(!0);try{const{data:ie,error:ae}=await Ze.from("promotion_packs").select("*").eq("is_active",!0).order("duration_days",{ascending:!0});if(ae)throw ae;const X=[],se=new Map;ie.forEach(ce=>{const ge=se.get(ce.duration_days);(!ge||ce.cost_pi<ge.cost_pi)&&se.set(ce.duration_days,ce)});const he=Array.from(se.values()).sort((ce,ge)=>ce.duration_days-ge.duration_days);A(he),he.length===1&&g(he[0].id)}catch(ie){console.error("Error fetching promotion packs:",ie),lt({title:"Erreur",description:"Impossible de charger les packs de promotion.",variant:"destructive"})}finally{F(!1)}})()},[]),j.useEffect(()=>{if(!r){e("/auth");return}(async()=>{var ie;N(!0);try{const{data:ae,error:X}=await Ze.from("events").select("id, title, event_type, is_promoted, promoted_until, status, cover_image").eq("organizer_id",r.id).eq("status","active").order("created_at",{ascending:!1});if(X)throw X;const se=new Date,ce=ae.filter(ge=>!!(!ge.is_promoted||ge.promoted_until&&new Date(ge.promoted_until)<se)).map(ge=>({value:ge.id,label:`${ge.title} (${ge.event_type})`,event:ge,isPromoted:ge.is_promoted&&ge.promoted_until>se}));if(c(ce),(ie=t.state)!=null&&ie.eventId){const ge=ce.find(we=>we.value===t.state.eventId);ge&&f(ge.value)}ce.length===1&&!u&&f(ce[0].value)}catch(ae){console.error("Error fetching user content:",ae),lt({title:"Erreur",description:"Impossible de charger vos vnements.",variant:"destructive"})}finally{N(!1)}})()},[r,e,t.state,u]);const L=(K=l.find(q=>q.value===u))==null?void 0:K.event,B=C.find(q=>q.id===h),M=()=>{S(!1),e("/wallet")},W=q=>{if(!q)return[];try{return Array.isArray(q)?q:typeof q=="string"&&q.startsWith("[")?JSON.parse(q):typeof q=="string"?q.split(",").map(ie=>ie.trim()):[]}catch(ie){return console.error("Error parsing features:",ie),[]}},z=q=>q*((n==null?void 0:n.coin_to_fcfa_rate)||10),Z=async()=>{if(!u||!B){lt({title:"Erreur",description:"Veuillez slectionner un vnement et un pack de promotion.",variant:"destructive"});return}o(!0);const q=async()=>{try{const ie=await bl.debitCoins(r.id,B.cost_pi,`Boost: ${B.name} - ${L==null?void 0:L.title}`,u,"event"),ae=new Date().toISOString(),X=new Date(Date.now()+B.duration_days*24*60*60*1e3).toISOString(),se={event_id:u,organizer_id:r.id,promotion_pack_id:B.id,start_date:ae,end_date:X,cost_pi:B.cost_pi,status:"active",payment_status:"paid"};ie&&typeof ie=="object"&&(ie.freeCoinsUsed!==void 0&&(se.free_coins_used=ie.freeCoinsUsed),ie.paidCoinsUsed!==void 0&&(se.paid_coins_used=ie.paidCoinsUsed));const{error:he}=await Ze.from("event_promotions").insert(se);if(he){console.error("Promotion insert error:",he);const we={...se};delete we.free_coins_used,delete we.paid_coins_used;const{error:Ce}=await Ze.from("event_promotions").insert(we);if(Ce)throw Ce}const ce={is_promoted:!0,promoted_until:X},{error:ge}=await Ze.from("events").update(ce).eq("id",u);if(ge){console.error("Event update error:",ge);const we={is_promoted:!0},{error:Ce}=await Ze.from("events").update(we).eq("id",u);if(Ce)throw Ce}lt({title:" Promotion active !",description:`Votre vnement est maintenant mis en avant pour ${B.duration_days} jours.`,className:"bg-green-500 text-white"}),await(i==null?void 0:i()),e(`/event/${u}`)}catch(ie){console.error("Boost error details:",ie),ie.message.includes("schema cache")||ie.message.includes("column")?lt({title:"Erreur de base de donnes",description:"Une mise  jour de la structure de la base de donnes est ncessaire. Contactez l'administrateur.",variant:"destructive"}):lt({title:"Erreur lors du boost",description:ie.message||"Une erreur est survenue lors de la promotion de l'vnement.",variant:"destructive"})}finally{o(!1)}};await bl.handleAction({userId:r.id,requiredCoins:B.cost_pi,onSuccess:q,onInsufficientBalance:()=>{S(!0),o(!1)}})};return!b&&l.length===0?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-background flex items-center justify-center p-4",children:s.jsxs(Yt,{className:"max-w-md w-full glass-effect border-primary/30",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Iu,{className:"w-6 h-6"}),"Aucun vnement disponible"]}),s.jsx(Oa,{children:"Crez un nouvel vnement ou vrifiez vos vnements existants."})]}),s.jsxs(Qt,{className:"space-y-4",children:[s.jsx("div",{className:"text-center p-4",children:s.jsx("p",{className:"text-muted-foreground mb-6",children:"Tous vos vnements sont dj en promotion active ou vous n'avez pas encore cr d'vnements."})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(ze,{variant:"outline",onClick:()=>e("/my-events"),className:"flex-1",children:"Mes vnements"}),s.jsx(ze,{onClick:()=>e("/create-event"),className:"flex-1",variant:"premium",children:"Crer un vnement"})]})]})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-background",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:"Booster la Visibilit - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Mettez en avant vos vnements et promotions pour atteindre une plus large audience."})]}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs(ze,{variant:"ghost",onClick:()=>e(-1),className:"text-muted-foreground hover:text-primary mb-6",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full",children:s.jsx(Xc,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500 mb-2",children:"Booster la Visibilit"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:"Augmentez la visibilit de vos vnements et atteignez plus de participants avec nos packs de promotion."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Yt,{className:"glass-effect border-primary/30 shadow-lg",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"text-xl flex items-center gap-2",children:[s.jsx("span",{className:"bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"1"}),"vnement  booster"]}),s.jsx(Oa,{children:"Slectionnez un vnement actif"})]}),s.jsx(Qt,{children:s.jsx("div",{className:"space-y-4",children:b?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Zt,{className:"w-6 h-6 animate-spin text-primary mr-2"}),s.jsx("span",{className:"text-muted-foreground",children:"Chargement..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs(_i,{onValueChange:f,value:u,children:[s.jsx(gi,{className:"h-12 text-left",children:s.jsx(Ni,{placeholder:"Slectionnez un vnement"})}),s.jsx(xi,{children:l.map(q=>s.jsx(on,{value:q.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium truncate max-w-[200px]",children:q.label}),q.isPromoted&&s.jsx(Vr,{variant:"outline",className:"text-xs mt-1",children:"Promotion expire"})]})]})},q.value))})]}),L&&s.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[L.cover_image&&s.jsx("img",{src:L.cover_image,alt:L.title,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-lg mb-1",children:L.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",L.event_type]}),L.is_promoted&&s.jsxs(Vr,{variant:"secondary",className:"mt-2",children:[s.jsx(Tu,{className:"w-3 h-3 mr-1"}),"Dj promu"]})]})]})})]})})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Yt,{className:"glass-effect border-primary/30 shadow-lg",children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"text-xl flex items-center gap-2",children:[s.jsx("span",{className:"bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"2"}),"Pack de promotion"]}),s.jsx(Oa,{children:"Choisissez la dure et les avantages"})]}),s.jsxs(Qt,{children:[T?s.jsxs("div",{className:"flex items-center justify-center p-12",children:[s.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary mr-3"}),s.jsx("span",{className:"text-muted-foreground",children:"Chargement des packs..."})]}):C.length===0?s.jsxs("div",{className:"text-center p-12",children:[s.jsx(Iu,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucun pack de promotion disponible."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(q=>{const ie=W(q.features),ae=h===q.id;return s.jsx(er.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("div",{onClick:()=>g(q.id),className:`h-full p-5 flex flex-col rounded-xl border-2 cursor-pointer transition-all duration-300 ${ae?"border-primary bg-gradient-to-br from-primary/20 to-primary/5 ring-2 ring-primary/30 shadow-lg":"border-border hover:border-primary/40 hover:bg-card/70"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-1",children:q.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[q.duration_days," jours"]})]}),ae&&s.jsx(vl,{className:"w-5 h-5 text-primary flex-shrink-0"})]}),s.jsxs("div",{className:"mb-4 flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:q.description||`Boost de ${q.duration_days} jours`}),ie.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-primary",children:"Avantages inclus :"}),s.jsx("ul",{className:"space-y-1",children:ie.map((X,se)=>s.jsxs("li",{className:"flex items-start text-xs text-muted-foreground",children:[s.jsx(Xc,{className:"w-3 h-3 text-amber-500 mr-2 mt-0.5 flex-shrink-0"}),X]},se))})]})]}),s.jsx("div",{className:"pt-4 border-t border-border/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ua,{className:"w-5 h-5 text-amber-500 mr-2"}),s.jsxs("span",{className:"text-xl font-bold",children:[q.cost_pi," "]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[" ",z(q.cost_pi).toLocaleString("fr-FR")," FCFA"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.round(q.cost_pi/q.duration_days*10)/10," / jour"]})]})]})})]})},q.id)})}),B&&s.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-primary/5 to-primary/10 rounded-xl border border-primary/20",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Pack slectionn : ",B.name]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xc,{className:"w-4 h-4 text-primary mr-2"}),s.jsxs("span",{children:["Dure : ",s.jsxs("strong",{children:[B.duration_days," jours"]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ua,{className:"w-4 h-4 text-amber-500 mr-2"}),s.jsxs("span",{children:["Cot : ",s.jsxs("strong",{children:[B.cost_pi," "]})," (",z(B.cost_pi).toLocaleString("fr-FR")," FCFA)"]})]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Promotion active jusqu'au ",new Date(Date.now()+B.duration_days*24*60*60*1e3).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})})]})})]})]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx(ze,{onClick:Z,disabled:a||!u||!h||b||T,className:"px-12 py-7 text-lg rounded-full shadow-xl hover:shadow-2xl transition-shadow",variant:"premium",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Zt,{className:"mr-3 h-5 w-5 animate-spin"}),"Activation en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xc,{className:"mr-3 h-5 w-5"}),"Activer la promotion",B&&s.jsxs("span",{className:"ml-3 bg-white/20 px-3 py-1 rounded-full text-sm",children:[B.cost_pi," "]})]})}),L&&B&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-4 max-w-2xl mx-auto",children:["En cliquant, vous confirmez la promotion de ",s.jsxs("strong",{children:['"',L.title,'"']}),"avec le pack ",s.jsx("strong",{children:B.name})," pendant ",B.duration_days," jours pour un cot de ",B.cost_pi,"  (",z(B.cost_pi).toLocaleString("fr-FR")," FCFA)."]})]})})]}),s.jsx(P0,{isOpen:p,onClose:()=>S(!1),onProceed:M})]})},cgt=({onCtaClick:e})=>{const{t}=za(),[r,n]=j.useState("concert"),[i,a]=j.useState(5e3),[o,l]=j.useState(200),[c,u]=j.useState(0),[f,h]=j.useState({potentialRevenue:0,platformFee:0,netEarning:0}),g={concert:{name:"Concert",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},stands:{name:"Vente de stands",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},election:{name:"lection vote",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},lottery:{name:"Tirage au sort (Lotterie)",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},protected:{name:"vnement Protg Montis",description:"1 pice  chaque interaction soit 10 FCFA pour l'organisateur. Minimum pour retrait: 50 pices",hasTickets:!1,hasInteractions:!0}};j.useEffect(()=>{let b=0,N=0,C=0;const A=g[r];A.hasTickets?(b=i*o,N=b*.05,C=b-N):A.hasInteractions&&(b=c*10,N=0,C=b),h({potentialRevenue:Math.round(b),platformFee:Math.round(N),netEarning:Math.round(C)})},[r,i,o,c]);const p=b=>new Intl.NumberFormat("fr-FR").format(b),S=g[r];return s.jsx("section",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.simulation.title")}),s.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t("marketing.simulation.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(Yt,{className:"glass-effect shadow-lg",children:[s.jsx(Wr,{children:s.jsx(qr,{className:"text-center text-2xl",children:t("marketing.simulation.title")})}),s.jsxs(Qt,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.event_type")}),s.jsxs("select",{className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:r,onChange:b=>n(b.target.value),children:[s.jsx("option",{value:"concert",children:"Concert"}),s.jsx("option",{value:"stands",children:"Vente de stands"}),s.jsx("option",{value:"election",children:"lection vote"}),s.jsx("option",{value:"lottery",children:"Tirage au sort (Lotterie)"}),s.jsx("option",{value:"protected",children:"vnement Protg Montis"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:S.description})]}),S.hasTickets&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.ticket_price")}),s.jsxs("div",{className:"flex items-center border border-border rounded-lg bg-background px-3",children:[s.jsx("input",{type:"number",className:"w-full p-3 bg-transparent text-foreground text-sm md:text-base border-none outline-none",value:i,onChange:b=>a(Number(b.target.value)),min:"0",step:"100"}),s.jsx("span",{className:"text-muted-foreground whitespace-nowrap text-sm",children:"FCFA"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.number_of_tickets")}),s.jsx("input",{type:"number",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:o,onChange:b=>l(Number(b.target.value)),min:"0"})]})]}),S.hasInteractions&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nombre d'interactions estimes"}),s.jsx("input",{type:"number",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:c,onChange:b=>u(Number(b.target.value)),min:"0",placeholder:"50 interactions minimum pour retrait"}),c<50&&s.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Minimum 50 interactions requis pour le retrait (500 FCFA)"})]})]}),s.jsxs("div",{className:"space-y-4 bg-muted/30 rounded-lg p-4 md:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3",children:[s.jsx("span",{className:"text-foreground font-medium text-sm md:text-base",children:S.hasInteractions?"Revenu des interactions":t("marketing.simulation.potential_revenue")}),s.jsxs("span",{className:"font-semibold text-green-600 text-sm md:text-base",children:[p(f.potentialRevenue)," FCFA"]})]}),S.hasTickets&&s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3",children:[s.jsx("span",{className:"text-foreground font-medium text-sm md:text-base",children:t("marketing.simulation.platform_fee")}),s.jsxs("span",{className:"font-semibold text-red-500 text-sm md:text-base",children:["- ",p(f.platformFee)," FCFA"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"text-foreground font-bold text-sm md:text-base",children:t("marketing.simulation.your_net_earning")}),s.jsxs("span",{className:"font-bold text-green-600 text-lg md:text-xl",children:[p(f.netEarning)," FCFA"]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[" ",s.jsx("strong",{children:"Simulation en temps rel"})," - Modifiez les valeurs pour voir l'impact sur vos revenus"]})})]})]}),s.jsxs("div",{className:"mt-6 md:mt-8 text-center",children:[s.jsx(ze,{size:"lg",className:"gradient-red text-primary-foreground shadow-lg w-full md:w-auto text-sm md:text-base hover:scale-105 transition-transform",onClick:e,children:t("marketing.simulation.cta")}),s.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-3 md:mt-4",children:t("marketing.simulation.note")})]})]})]})})]})})},ugt=()=>{const{t:e}=za(),t=new Date().getFullYear(),[r,n]=j.useState([]),[i,a]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const{data:h,error:g}=await Ze.from("sponsors").select("*").eq("is_active",!0).eq("show_in_footer",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});if(g){console.error("Error fetching sponsors:",g);return}n(h||[])}catch(h){console.error("Error in fetchSponsors:",h)}finally{a(!1)}})()},[]);const o={platform:[{to:"/",text:e("footer.home")},{to:"/how-it-works",text:e("footer.how_it_works")},{to:"/aide",text:e("footer.help")},{to:"/faq",text:e("footer.faq")}],company:[{to:"/about",text:e("footer.about")},{to:"/partner-signup",text:e("footer.partnership")},{to:"/sponsors",text:e("footer.sponsors")},{href:"mailto:support@bonplaninfos.net",text:"support@bonplaninfos.net"},{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",text:e("footer.whatsapp_community")},{href:"tel:+2250712275374",text:"Tel: 002250712275374"}],legal:[{to:"/politique-confidentialite",text:e("footer.privacy")},{to:"/conditions-utilisation",text:e("footer.terms")},{to:"/protection-donnees",text:e("footer.data_protection")},{to:"/legal-mentions",text:e("footer.legal_mentions")}]},l=f=>{switch(f){case"gold":return"text-yellow-500 border-yellow-500 bg-yellow-50";case"silver":return"text-gray-600 border-gray-400 bg-gray-50";case"bronze":return"text-orange-700 border-orange-600 bg-orange-50";default:return"text-primary border-primary bg-muted"}},c=f=>{switch(f){case"gold":return"Or";case"silver":return"Argent";case"bronze":return"Bronze";default:return null}},u=r.length>0?[...r,...r,...r]:[];return s.jsxs("footer",{className:"bg-card border-t border-border/50",children:[s.jsxs("div",{className:"container py-12",children:[r.length>0&&s.jsxs("div",{className:"mb-12 pb-8 border-b border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx(Zp,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"text-lg font-bold font-heading text-center text-foreground",children:e("sponsors.title")}),s.jsx(Zp,{className:"w-5 h-5 text-primary"})]}),i?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"flex animate-scroll whitespace-nowrap",children:u.map((f,h)=>s.jsxs("a",{href:f.website_url||"#",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center mx-4 group flex-shrink-0",children:[s.jsx("div",{className:`relative p-3 bg-background rounded-lg border-2 ${l(f.level)} transition-all duration-300 group-hover:scale-105 group-hover:shadow-md`,children:f.logo_url?s.jsx("img",{src:f.logo_url,alt:f.name,className:"h-10 w-auto max-w-28 object-contain"}):s.jsx("div",{className:`h-10 w-28 flex items-center justify-center text-xs font-medium text-center ${l(f.level)}`,children:f.name})}),f.level&&s.jsx("span",{className:`mt-1 px-2 py-0.5 text-xs font-medium rounded-full border ${l(f.level)} capitalize`,children:c(f.level)})]},`${f.id}-${h}`))}),s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-card to-transparent z-10"}),s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-card to-transparent z-10"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("h3",{className:"font-bold font-heading text-lg mb-2 text-foreground",children:"BonPlanInfos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("footer.tagline")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.platform")}),s.jsx("ul",{className:"space-y-2 text-sm",children:o.platform.map(f=>s.jsx("li",{children:s.jsx(Bo,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text})},f.to))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.company")}),s.jsx("ul",{className:"space-y-2 text-sm",children:o.company.map(f=>s.jsx("li",{children:f.to?s.jsx(Bo,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text}):s.jsx("a",{href:f.href,className:"text-muted-foreground hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:f.text})},f.to||f.href))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.legal")}),s.jsx("ul",{className:"space-y-2 text-sm",children:o.legal.map(f=>s.jsx("li",{children:s.jsx(Bo,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text})},f.to))})]})]}),s.jsxs("div",{className:"mt-12 border-t border-border/50 pt-8 text-center text-xs text-muted-foreground",children:[s.jsxs("p",{children:[" ",t," BonPlanInfos  ",e("footer.all_rights_reserved")," | ",s.jsx(Bo,{to:"/politique-confidentialite",className:"hover:text-primary",children:e("footer.privacy")})," | ",s.jsx(Bo,{to:"/conditions-utilisation",className:"hover:text-primary",children:e("footer.terms")})]}),s.jsxs("p",{className:"mt-2",children:["support@bonplaninfos.net | WhatsApp : ",s.jsx("a",{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",className:"hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:e("footer.whatsapp_community")})," | Tel : +225 07 12 27 53 74"]}),s.jsxs("p",{className:"mt-2 text-muted-foreground",children:[e("footer.version")," 1.0.0"]})]})]}),s.jsx("style",{jsx:!0,children:`
                @keyframes scroll {
                    0% { transform: translateX(0); }
                    100% { transform: translateX(-33.333%); }
                }
                .animate-scroll { animation: scroll 30s linear infinite; }
                .animate-scroll:hover { animation-play-state: paused; }
            `})]})},dgt=()=>{const e=Sa(),{t}=za(),r=[{icon:Kg,title:t("marketing.why.feature1"),description:t("marketing.why.feature1_desc")},{icon:Xc,title:t("marketing.why.feature2"),description:t("marketing.why.feature2_desc")},{icon:cd,title:t("marketing.why.feature3"),description:t("marketing.why.feature3_desc")},{icon:GD,title:t("marketing.why.feature4"),description:t("marketing.why.feature4_desc")},{icon:nc,title:t("marketing.why.feature5"),description:t("marketing.why.feature5_desc")},{icon:C2e,title:t("marketing.why.feature6"),description:t("marketing.why.feature6_desc")}],n=[{name:t("marketing.testimonials.bintou_diallo_name"),role:t("marketing.testimonials.bintou_diallo_role"),quote:t("marketing.testimonials.dj_kerozen_quote")},{name:t("marketing.testimonials.kwesi_mensah_name"),role:t("marketing.testimonials.kwesi_mensah_role"),quote:t("marketing.testimonials.fatou_sylla_quote")},{name:t("marketing.testimonials.aisha_traore_name"),role:t("marketing.testimonials.aisha_traore_role"),quote:t("marketing.testimonials.eric_b_quote")},{name:t("marketing.testimonials.amadou_ba_name"),role:t("marketing.testimonials.amadou_ba_role"),quote:t("marketing.testimonials.amadou_ba_quote")},{name:t("marketing.testimonials.chimamanda_ngozi_name"),role:t("marketing.testimonials.chimamanda_ngozi_role"),quote:t("marketing.testimonials.chimamanda_ngozi_quote")},{name:t("marketing.testimonials.didier_kouame_name"),role:t("marketing.testimonials.didier_kouame_role"),quote:t("marketing.testimonials.didier_kouame_quote")},{name:t("marketing.testimonials.mariam_kone_name"),role:t("marketing.testimonials.mariam_kone_role"),quote:t("marketing.testimonials.mariam_kone_quote")},{name:t("marketing.testimonials.femi_adebayo_name"),role:t("marketing.testimonials.femi_adebayo_role"),quote:t("marketing.testimonials.femi_adebayo_quote")},{name:t("marketing.testimonials.abena_asante_name"),role:t("marketing.testimonials.abena_asante_role"),quote:t("marketing.testimonials.abena_asante_quote")},{name:t("marketing.testimonials.yannick_zongo_name"),role:t("marketing.testimonials.yannick_zongo_role"),quote:t("marketing.testimonials.yannick_zongo_quote")}],i=({testimonials:a})=>{const o=j.useRef(null),[l,c]=j.useState(0),[u,f]=j.useState(!1),h=xR(0);uEe();const g=j.useRef(null);j.useEffect(()=>{const b=()=>{if(o.current){const N=o.current.scrollWidth,C=o.current.offsetWidth;c(N-C)}};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[a]),j.useEffect(()=>{if(u||l===0)return;const b=()=>{let C=h.get()-1;C<-l&&(C=0),h.set(C),g.current=requestAnimationFrame(b)};return g.current=requestAnimationFrame(b),()=>{g.current&&cancelAnimationFrame(g.current)}},[u,l,h]);const p=(b,N)=>{const A=h.get()+N.delta.x*1.5;h.set(A)},S=[...a,...a];return s.jsxs(er.div,{ref:o,className:"cursor-grab overflow-hidden touch-pan-x relative",onMouseDown:()=>f(!0),onMouseUp:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[s.jsx(er.div,{drag:"x",dragConstraints:{right:0,left:-l},dragElastic:.3,dragTransition:{bounceStiffness:600,bounceDamping:20},style:{x:h},onDrag:p,className:"flex gap-4 md:gap-6 lg:gap-8 px-4 md:px-0",whileTap:{cursor:"grabbing",scale:.98},children:S.map((b,N)=>s.jsx(er.div,{className:"min-w-[85vw] sm:min-w-[60vw] md:min-w-[45vw] lg:min-w-[35vw] flex-shrink-0",whileHover:{scale:u?1:1.03,y:-5,transition:{duration:.2}},children:s.jsxs(Yt,{className:"h-full glass-effect flex flex-col shadow-lg border hover:shadow-xl transition-all duration-300",children:[s.jsx(Qt,{className:"p-4 md:p-6 flex-grow",children:s.jsxs("p",{className:"text-foreground/80 italic text-sm md:text-base leading-relaxed",children:['"',b.quote,'"']})}),s.jsx(Wr,{className:"pt-0 px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-tr from-primary to-secondary flex items-center justify-center text-white font-bold text-lg md:text-xl flex-shrink-0 shadow-md",children:b.name.charAt(0)}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm md:text-base truncate",children:b.name}),s.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:b.role})]})]})})]})},N))}),s.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:a.slice(0,5).map((b,N)=>s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30 transition-all duration-300"},N))})]})};return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsx(yE,{pageData:{title:t("marketing.meta_title"),description:t("marketing.meta_description")}}),s.jsxs("section",{className:"relative pt-20 pb-20 md:pt-32 md:pb-24 text-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-secondary/10"}),s.jsx("div",{className:"container mx-auto px-4 relative",children:s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx(Vr,{variant:"secondary",className:"mb-4 text-sm font-semibold py-1 px-3",children:t("marketing.badge")}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-extrabold tracking-tight mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-red-500 to-secondary",children:t("marketing.title")}),s.jsx("p",{className:"max-w-3xl mx-auto text-base sm:text-lg md:text-xl text-muted-foreground mb-6 sm:mb-8 px-4 sm:px-0",children:t("marketing.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[s.jsx(ze,{size:"lg",className:"gradient-red text-primary-foreground shadow-lg hover:scale-105 transition-transform",onClick:()=>e("/create-event"),children:t("marketing.createEventCta")}),s.jsx(ze,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10 hover:scale-105 transition-transform",onClick:()=>e("/partner-signup"),children:t("marketing.becomePartnerCta")})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:t("marketing.trust")})]})})]}),s.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.why.title")}),s.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t("marketing.why.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((a,o)=>s.jsx(er.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},whileHover:{y:-5,transition:{duration:.2}},children:s.jsxs(Yt,{className:"h-full text-center sm:text-left glass-effect hover:border-primary/50 transition-all duration-300 hover:shadow-lg",children:[s.jsxs(Wr,{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full flex-shrink-0",children:s.jsx(a.icon,{className:"w-6 h-6 text-primary"})}),s.jsx(qr,{className:"text-xl text-foreground",children:a.title})]}),s.jsx(Qt,{children:s.jsx("p",{className:"text-muted-foreground",children:a.description})})]})},o))})]})}),s.jsx(cgt,{onCtaClick:()=>e("/create-event")}),s.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.testimonials.title")}),s.jsx("p",{className:"mt-2 text-muted-foreground text-sm md:text-base",children:"Dfilement automatique - Glissez pour acclrer le dfilement"})]}),s.jsx(i,{testimonials:n})]})}),s.jsx(er.div,{className:"my-8 md:my-12 container px-4",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6},children:s.jsxs(Yt,{className:"overflow-hidden shadow-xl border-amber-500/30 hover:shadow-2xl transition-all duration-300",children:[s.jsx(Wr,{className:"pb-4",children:s.jsx(qr,{className:"text-center text-xl md:text-2xl",children:"Paiements Flexibles et Scuriss"})}),s.jsx(Qt,{className:"p-0",children:s.jsx("img",{src:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/b4e1bcde8a95f1bcad910ed8862c6c37.jpg",alt:"Mthodes de paiement varies",className:"w-full h-auto object-contain max-h-32 md:max-h-48"})})]})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"relative bg-gradient-to-r from-primary to-red-500 rounded-lg p-8 md:p-12 text-center text-primary-foreground overflow-hidden",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-32 h-32 bg-white/10 rounded-full opacity-50"}),s.jsx("div",{className:"absolute -bottom-8 -right-8 w-48 h-48 bg-white/10 rounded-lg transform rotate-45 opacity-50"}),s.jsxs("div",{className:"relative",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:t("marketing.cta.title")}),s.jsx("p",{className:"max-w-2xl mx-auto text-lg mb-8 text-primary-foreground/90",children:t("marketing.cta.subtitle")}),s.jsx(ze,{size:"lg",variant:"secondary",className:"bg-white text-primary hover:bg-gray-100 shadow-lg transform hover:scale-105 transition-transform",onClick:()=>e("/partner-signup"),children:t("marketing.cta.cta")})]})]})})}),s.jsx(ugt,{})]})};let PN;const fgt=new Uint8Array(16);function hgt(){if(!PN&&(PN=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!PN))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return PN(fgt)}const Nc=[];for(let e=0;e<256;++e)Nc.push((e+256).toString(16).slice(1));function mgt(e,t=0){return Nc[e[t+0]]+Nc[e[t+1]]+Nc[e[t+2]]+Nc[e[t+3]]+"-"+Nc[e[t+4]]+Nc[e[t+5]]+"-"+Nc[e[t+6]]+Nc[e[t+7]]+"-"+Nc[e[t+8]]+Nc[e[t+9]]+"-"+Nc[e[t+10]]+Nc[e[t+11]]+Nc[e[t+12]]+Nc[e[t+13]]+Nc[e[t+14]]+Nc[e[t+15]]}const pgt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dY={randomUUID:pgt};function Pu(e,t,r){if(dY.randomUUID&&!t&&!e)return dY.randomUUID();e=e||{};const n=e.random||(e.rng||hgt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return mgt(n)}class Kp{static async getCoinPacks(){const{data:t,error:r}=await Ze.from("coin_packs").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;return t.map(n=>({...n,total_coins:(n.coin_amount||0)+(n.bonus_coins||0),price_per_coin:(n.coin_amount||0)+(n.bonus_coins||0)>0?Number((n.fcfa_price/((n.coin_amount||0)+(n.bonus_coins||0))).toFixed(2)):0,type:"coin_pack"}))}static async getCoinPackBySlug(t){const{data:r,error:n}=await Ze.from("coin_packs").select("*").eq("slug",t).maybeSingle();if(n&&n.code!=="PGRST116")throw console.error("Error fetching pack by slug:",n),n;return r}static async getLicensePacks(){const{data:t,error:r}=await Ze.from("partner_license_packs").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;return t.map(n=>({...n,type:"partner_license",duration_months:Math.floor(n.duration_days/30)}))}static async initiatePurchase(t,r){const{type:n}=r;if(n==="coin_pack")return await this.initiateCoinPack(t,r);if(n==="custom_coins")return await this.initiateCustomCoins(t,r);if(n==="partner_license")return await this.initiatePartnerLicense(t,r);throw new Error("Type d'achat non support")}static async initiateCoinPack(t,{pack_id:r}){const{data:n,error:i}=await Ze.from("coin_packs").select("*").eq("id",r).eq("is_active",!0).eq("is_custom",!1).single();if(i||!n)throw new Error("Ce pack de pices n'est pas disponible pour le moment.");const a=`BPI-COIN-${r}-${Pu().substring(0,8)}`,o=n.coin_amount+n.bonus_coins,{error:l}=await Ze.from("user_coin_transactions").insert({user_id:t,transaction_id:a,amount_fcfa:n.fcfa_price,coin_amount:n.coin_amount,bonus_coins:n.bonus_coins,total_coins:o,pack_id:r,transaction_type:"coin_pack"});if(l)throw new Error("Erreur lors de la cration de la transaction: "+l.message);return{success:!0,transaction_id:a,redirect_url:this.generateRedirectUrl(a,n.fcfa_price,"coin_pack",n.id)}}static async initiateCustomCoins(t,{amount_fcfa:r}){if(r<500)throw new Error("Le montant minimum pour un achat personnalis est de 500 FCFA.");if(r>4e5)throw new Error("Le montant maximum pour un achat personnalis est de 400,000 FCFA.");const n=Math.floor(r/10),i=this.calculateCustomBonus(r),a=n+i,o=`BPI-CUSTOM-${Pu().substring(0,8)}`,{error:l}=await Ze.from("user_coin_transactions").insert({user_id:t,transaction_id:o,amount_fcfa:r,coin_amount:n,bonus_coins:i,total_coins:a,transaction_type:"custom_coins"});if(l)throw new Error("Erreur lors de la cration de la transaction personnalise: "+l.message);return{success:!0,transaction_id:o,redirect_url:this.generateRedirectUrl(o,r,"custom_coins")}}static async initiatePartnerLicense(t,{license_pack_id:r}){const{data:n,error:i}=await Ze.from("partner_license_packs").select("*").eq("id",r).eq("is_active",!0).single();if(i||!n)throw new Error("Cette licence de partenariat n'est pas disponible.");const a=`BPI-LIC-${r}-${Pu().substring(0,8)}`,{error:o}=await Ze.from("user_coin_transactions").insert({user_id:t,transaction_id:a,amount_fcfa:n.fcfa_price,license_pack_id:r,transaction_type:"partner_license"});if(o)throw new Error("Erreur lors de la cration de la transaction de licence: "+o.message);return{success:!0,transaction_id:a,redirect_url:this.generateRedirectUrl(a,n.fcfa_price,"partner_license",r)}}static calculateCustomBonus(t){return t>=2e5?Math.floor(t/10*.08):t>=1e5?Math.floor(t/10*.06):t>=5e4?Math.floor(t/10*.05):t>=2e4?Math.floor(t/10*.03):t>=1e4?Math.floor(t/10*.02):t>=5e3?Math.floor(t/10*.01):0}static generateRedirectUrl(t,r,n,i=null){const a=new URLSearchParams({transaction_id:t,amount:r,type:n});return i&&a.append("pack_id",i),`/payment/checkout?${a.toString()}`}static async verifyAndCreditPayment(t,r,n){try{const{data:i,error:a}=await Ze.from("user_coin_transactions").select("*").eq("transaction_id",t).eq("status","pending").single();if(a||!i)return{success:!1,message:"Transaction non trouve ou dj traite."};const{error:o}=await Ze.from("user_coin_transactions").update({status:"completed",user_email:r,moneyfusion_reference:n,payment_date:new Date().toISOString(),verified_at:new Date().toISOString()}).eq("transaction_id",t);if(o)throw o;if(i.transaction_type==="coin_pack"||i.transaction_type==="custom_coins"){const{error:l}=await Ze.rpc("increment_user_coins",{p_user_id:i.user_id,p_coin_increment:i.total_coins,p_fcfa_increment:parseFloat(i.amount_fcfa)});if(l)throw l;return{success:!0,message:`${i.total_coins} pices ont t crdites sur votre compte.`,type:"coins",amount:i.total_coins}}else if(i.transaction_type==="partner_license"){const{data:l}=await Ze.from("partner_license_packs").select("*").eq("id",i.license_pack_id).single();if(!l)throw new Error("Pack de licence non trouv pour la transaction.");const c=new Date;c.setDate(c.getDate()+l.duration_days);const{error:u}=await Ze.from("user_partner_licenses").insert({user_id:i.user_id,license_pack_id:i.license_pack_id,transaction_id:t,purchase_date:new Date().toISOString(),expiry_date:c.toISOString(),revenue_share_percent:l.revenue_share_percent,status:"active"});if(u)throw u;return{success:!0,message:`Votre Licence ${l.name} est maintenant active pour ${l.duration_days} jours.`,type:"license",license_name:l.name,expiry_date:c}}}catch(i){return console.error("Erreur de vrification/crditation:",i),{success:!1,message:"Une erreur technique est survenue: "+i.message}}return{success:!1,message:"Type de transaction inconnu."}}static async getUserLicenses(t){if(!t)return[];const{data:r,error:n}=await Ze.from("user_partner_licenses").select("*, partner_license_packs (*)").eq("user_id",t).eq("status","active").order("purchase_date",{ascending:!1});if(n)throw console.error("Erreur lors de la rcupration des licences utilisateur",n),n;return r}}const ggt=({user:e,userLicenses:t,onLicenseUpdate:r})=>{const[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState(null),{toast:u}=js(),f=Sa(),{t:h}=za(),g=j.useCallback(async()=>{o(!0);try{const C=await Kp.getLicensePacks();i(C)}catch(C){console.error("Erreur chargement licences:",C),S(h("partner_signup.error_loading_licenses"))}finally{o(!1)}},[h]);j.useEffect(()=>{g()},[g]);const p=async C=>{if(!e){S(h("partner_signup.error_toast.login_required"));return}c(C.id);try{f(`/payment/checkout?amount=${C.fcfa_price}&packId=${C.id}&type=partner_license&from=/partner-signup`)}catch(A){S(A.message)}finally{c(null)}},S=C=>{u({title:h("partner_signup.error_toast.title"),description:C,variant:"destructive"})},b=C=>C?new Date(C).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A",N=C=>new Date(C)>new Date;return a?s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:h("partner_signup.loading_licenses")})]}):s.jsxs("div",{className:"license-purchase",children:[s.jsx(Du,{children:t&&t.length>0&&s.jsxs(er.section,{className:"active-licenses",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsxs("h2",{children:[s.jsx("span",{role:"img","aria-label":"ticket",children:""})," ",h("partner_signup.your_licenses_title")]}),s.jsx("div",{className:"licenses-grid",children:t.map(C=>{var A;return s.jsxs("div",{className:`license-card ${N(C.expiry_date)?"active":"expired"}`,children:[s.jsxs("div",{className:"license-header",children:[s.jsx("h3",{children:((A=C.partner_license_packs)==null?void 0:A.name)||"Licence"}),s.jsx("span",{className:"license-status",children:N(C.expiry_date)?` ${h("partner_signup.license_card.active")}`:` ${h("partner_signup.license_card.expired")}`})]}),s.jsxs("div",{className:"license-details",children:[s.jsx("p",{children:s.jsx("strong",{children:h("partner_signup.license_card.revenue_share",{percent:C.revenue_share_percent})})}),s.jsxs("p",{children:[s.jsx("strong",{children:h("partner_signup.license_card.purchased_on")})," ",b(C.purchase_date)]}),s.jsxs("p",{children:[s.jsx("strong",{children:h("partner_signup.license_card.expires_on")})," ",b(C.expiry_date)]}),s.jsx("p",{children:s.jsx("strong",{children:h("partner_signup.license_card.days_remaining",{count:Math.max(0,Math.ceil((new Date(C.expiry_date)-new Date)/(1e3*60*60*24)))})})})]})]},C.id)})})]})}),s.jsxs("section",{className:"available-licenses",children:[s.jsxs("h2",{children:[s.jsx("span",{role:"img","aria-label":"rocket",children:""})," ",h("partner_signup.available_licenses_title")]}),s.jsx("p",{className:"license-subtitle",children:h("partner_signup.available_licenses_subtitle")}),s.jsx("div",{className:"licenses-grid",children:n.map((C,A)=>s.jsxs(er.div,{className:"license-pack-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},children:[C.badge&&s.jsx("div",{className:"license-badge",children:C.badge}),s.jsxs("div",{className:"license-pack-header",children:[s.jsx("h3",{children:C.name}),s.jsxs("div",{className:"license-price",children:[C.fcfa_price.toLocaleString()," FCFA ",s.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:h("partner_signup.per_month")})]})]}),s.jsxs("div",{className:"revenue-share",children:[s.jsxs("div",{className:"revenue-percent",children:[C.revenue_share_percent,"%"]}),s.jsx("div",{className:"revenue-label",children:h("partner_signup.revenue_label")})]}),s.jsxs("div",{className:"license-duration",children:[s.jsx("span",{role:"img","aria-label":"timer",children:""})," ",h("partner_signup.duration_label",{months:C.duration_months,days:C.duration_days})]}),s.jsx("div",{className:"license-features",children:s.jsx("ul",{children:C.features.map((T,F)=>s.jsxs("li",{children:[s.jsx("span",{role:"img","aria-label":"check",children:""})," ",T]},F))})}),s.jsx("div",{className:"license-description",children:C.description}),s.jsx(ze,{onClick:()=>p(C),className:"buy-license-button",disabled:l===C.id,children:l===C.id?s.jsx(Zt,{className:"animate-spin"}):h("partner_signup.purchase_cta")})]},C.id))})]})]})},xgt=()=>{const{user:e}=bn(),{userProfile:t,loadingProfile:r}=Ja(),n=Sa(),{toast:i}=js(),{t:a}=za(),[o,l]=j.useState([]),[c,u]=j.useState(!0),f=j.useCallback(async()=>{if(!e){u(!1);return}try{u(!0);const h=await Kp.getUserLicenses(e.id);l(h)}catch{i({title:a("partner_signup.error_toast.title"),description:a("partner_signup.error_loading_licenses"),variant:"destructive"})}finally{u(!1)}},[e,i,a]);return j.useEffect(()=>{f()},[f]),e?r||c?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx(yE,{pageData:{title:a("partner_signup.meta_title"),description:a("partner_signup.meta_description")}}),s.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-12 md:py-20",children:s.jsx(ggt,{user:t,userLicenses:o,onLicenseUpdate:f})})]}):s.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center text-center p-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:a("partner_signup.unauthorized_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:a("partner_signup.unauthorized_desc")}),s.jsx(ze,{onClick:()=>n("/auth"),children:a("partner_signup.unauthorized_cta")})]})})};const vgt=()=>{const{user:e}=bn(),{toast:t}=js(),[r,n]=j.useState(!1),[i,a]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState(0),[f,h]=j.useState(""),[g,p]=j.useState(!1),S=j.useRef(null);j.useCallback(async()=>{if(e)try{const{data:T,error:F}=await Ze.rpc("get_todays_mandatory_video",{user_uuid:e.id});if(F){console.error("Error fetching mandatory video status:",F);return}}catch(T){console.error("Error in checkMandatoryVideo:",T)}},[e]),j.useEffect(()=>{},[e]);const b=async()=>{l(!0)},N=async()=>{if(c!==0){p(!0);try{const T=S.current?Math.floor(S.current.currentTime):i.video_duration,{data:F,error:L}=await Ze.rpc("complete_mandatory_video",{user_uuid:e.id,video_uuid:i.id,watch_duration:T,device_data:{userAgent:navigator.userAgent}});if(L)throw L;if(F.success)t({title:" Rcompense reue !",description:F.message,className:"bg-green-500 text-white"}),l(!1),n(!1);else throw new Error(F.message)}catch(T){console.error("Error submitting rating:",T),t({title:"Erreur",description:T.message||"Une erreur est survenue lors de la soumission de votre avis.",variant:"destructive"})}finally{p(!1)}}},C=T=>{u(T),T>=4&&(h(""),setTimeout(()=>N(),500))},A=()=>[1,2,3,4,5].map(T=>s.jsx("button",{type:"button",className:`star ${T<=c?"filled":""}`,onClick:()=>C(T),disabled:g,children:""},T));return!r||!i?null:s.jsx(Du,{children:r&&s.jsx(er.div,{className:"mandatory-video-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx(er.div,{className:"mandatory-video-popup",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:o?s.jsxs("div",{className:"rating-container",children:[s.jsxs("div",{className:"rating-header",children:[s.jsx("h2",{children:"Que pensez-vous de cette vido ?"}),s.jsx("p",{children:"Votre avis nous aide  amliorer la plateforme"})]}),s.jsx("div",{className:"stars-container",children:A()}),c>0&&c<=3&&s.jsx("div",{className:"feedback-container",children:s.jsx(uc,{value:f,onChange:T=>h(T.target.value),placeholder:"Merci de nous expliquer ce qui n'a pas fonctionn pour vous...",rows:"3",disabled:g,className:"bg-slate-100"})}),s.jsx("div",{className:"rating-actions",children:s.jsx(ze,{onClick:N,disabled:c===0||g||c<=3&&!f.trim(),className:"submit-rating-btn",children:g?s.jsx(Zt,{className:"animate-spin"}):"Soumettre mon avis"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"video-header",children:[s.jsx("h2",{children:i.title}),s.jsx("p",{children:i.description})]}),s.jsx("div",{className:"video-container",children:s.jsx("video",{ref:S,controls:!0,autoPlay:!0,onEnded:b,src:i.video_url,className:"mandatory-video"})}),s.jsx("div",{className:"video-footer",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Attention:"})," Vous devez regarder cette vido jusqu' la fin pour recevoir votre rcompense et accder  toutes les fonctionnalits."]})})]})})})})};const ygt=()=>{const{t:e}=za(),t=Sa(),r=[{icon:s.jsx(a0,{className:"text-blue-400"}),title:e("about.vision.global.title"),description:e("about.vision.global.description")},{icon:s.jsx(Kg,{className:"text-green-400"}),title:e("about.vision.empowerment.title"),description:e("about.vision.empowerment.description")},{icon:s.jsx(id,{className:"text-purple-400"}),title:e("about.vision.innovation.title"),description:e("about.vision.innovation.description")}],n=[{icon:s.jsx(jo,{className:"text-orange-400"}),metric:e("about.highlights.events.metric"),label:e("about.highlights.events.label")},{icon:s.jsx(Zs,{className:"text-blue-400"}),metric:e("about.highlights.community.metric"),label:e("about.highlights.community.label")},{icon:s.jsx(VP,{className:"text-yellow-400"}),metric:e("about.highlights.success.metric"),label:e("about.highlights.success.label")},{icon:s.jsx(cd,{className:"text-green-400"}),metric:e("about.highlights.growth.metric"),label:e("about.highlights.growth.label")}],i=[{icon:s.jsx(vj,{className:"text-red-400"}),title:e("about.values.passion.title"),description:e("about.values.passion.description")},{icon:s.jsx(nc,{className:"text-blue-400"}),title:e("about.values.trust.title"),description:e("about.values.trust.description")},{icon:s.jsx(Xc,{className:"text-yellow-400"}),title:e("about.values.agility.title"),description:e("about.values.agility.description")},{icon:s.jsx(GS,{className:"text-purple-400"}),title:e("about.values.impact.title"),description:e("about.values.impact.description")}],a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},o={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},l=()=>{window.open("https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH","_blank")},c=()=>{const f="2250712275374",h=encodeURIComponent("Bonjour BonPlanInfos, je souhaite en savoir plus sur vos services.");window.open(`https://wa.me/${f}?text=${h}`,"_blank")},u=()=>{window.open("tel:+2250712275374","_self")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:e("about.meta_title")}),s.jsx("meta",{name:"description",content:e("about.meta_description")})]}),s.jsxs("section",{className:"relative py-20 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-gray-800 [mask-image:linear-gradient(0deg,rgba(0,0,0,0.1),rgba(0,0,0,0.5))]"}),s.jsx("div",{className:"container relative",children:s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent mb-6",children:e("about.hero.title")}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:e("about.hero.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(ze,{size:"lg",className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:()=>t("/auth"),children:e("about.hero.cta_primary")}),s.jsx(ze,{size:"lg",variant:"outline",className:"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-gray-900 px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:()=>t("/discover"),children:e("about.hero.cta_secondary")})]})]})})]}),s.jsx("section",{className:"py-20 bg-gray-900",children:s.jsxs("div",{className:"container",children:[s.jsxs(er.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e("about.vision.title")}),s.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:e("about.vision.description")})]}),s.jsx(er.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-3 gap-8",children:r.map((f,h)=>s.jsxs(er.div,{variants:o,className:"text-center p-8 rounded-2xl bg-gray-800 hover:shadow-gray-700/20 transition-all duration-300 border border-gray-700",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-700 rounded-2xl flex items-center justify-center shadow-gray-900",children:f.icon}),s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:f.title}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:f.description})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-700 to-blue-900 text-white",children:s.jsxs("div",{className:"container",children:[s.jsxs(er.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:e("about.highlights.title")}),s.jsx("p",{className:"text-xl opacity-90",children:e("about.highlights.subtitle")})]}),s.jsx(er.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:n.map((f,h)=>s.jsxs(er.div,{variants:o,className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-black/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:f.icon}),s.jsx("div",{className:"text-3xl font-bold mb-2",children:f.metric}),s.jsx("div",{className:"text-blue-200 font-medium",children:f.label})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gray-900",children:s.jsxs("div",{className:"container",children:[s.jsxs(er.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e("about.values.title")}),s.jsx("p",{className:"text-lg text-gray-300",children:e("about.values.description")})]}),s.jsx(er.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((f,h)=>s.jsxs(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:h*.1},className:"bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-gray-700/20 transition-all duration-300 border border-gray-700",children:[s.jsx("div",{className:"value-icon w-16 h-16 mx-auto mb-6 bg-blue-900/30 rounded-2xl flex items-center justify-center",children:f.icon}),s.jsx("h4",{className:"font-bold text-xl text-white mt-4 text-center",children:f.title}),s.jsx("p",{className:"text-gray-300 text-sm mt-4 text-center leading-relaxed",children:f.description})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gray-900",children:s.jsx("div",{className:"container",children:s.jsxs(er.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:e("about.cta.title")}),s.jsx("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed",children:e("about.cta.description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[s.jsx(ze,{size:"lg",className:"bg-gradient-to-r from-blue-700 to-blue-900 hover:from-blue-600 hover:to-blue-800 text-white px-8 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:()=>t("/auth?tab=register"),children:e("about.cta.button_primary")}),s.jsxs(ze,{size:"lg",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800 px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:u,children:[s.jsx(Py,{className:"w-5 h-5 mr-2"}),e("about.cta.call")]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-8 mt-8",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:e("about.cta.contact_direct")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-4",children:[s.jsxs(ze,{size:"lg",className:"bg-green-700 hover:bg-green-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:l,children:[s.jsx(Zs,{className:"w-5 h-5 mr-2"}),e("about.cta.whatsapp_group")]}),s.jsxs(ze,{size:"lg",className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:c,children:[s.jsx(WS,{className:"w-5 h-5 mr-2"}),e("about.cta.whatsapp_direct")]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-4",children:e("about.cta.available_hours")})]})]})})})]})};const fY=()=>{const{t:e}=za(),t=[{key:"introduction",icon:s.jsx(D2,{})},{key:"data_collected",icon:s.jsx(Iy,{})},{key:"data_usage",icon:s.jsx(Oy,{})},{key:"cookies",icon:s.jsx(YD,{})},{key:"data_sharing",icon:s.jsx(Qp,{})},{key:"security",icon:s.jsx(N0,{})},{key:"your_rights",icon:s.jsx(Nu,{})},{key:"contact",icon:s.jsx(hm,{})}];return s.jsxs("div",{className:"legal-mentions-page",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("privacy.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("privacy.meta_description")})]}),s.jsxs("main",{children:[s.jsx("section",{className:"legal-hero",children:s.jsxs("div",{className:"container",children:[s.jsxs("h1",{children:[s.jsx(D2,{className:"inline-block w-12 h-12 mb-4"})," ",e("privacy.title")]}),s.jsx("p",{children:e("privacy.meta_description")}),s.jsx("div",{className:"last-update",children:e("privacy.last_updated")})]})}),s.jsx("section",{className:"legal-content",children:s.jsx("div",{className:"container",children:t.map(({key:r,icon:n})=>{const i=e(`privacy.${r}`,{returnObjects:!0});return s.jsxs("div",{className:"legal-section",children:[s.jsxs("h2",{children:[n," ",i.title]}),s.jsx("p",{children:i.p1}),r==="data_collected"||r==="data_usage"||r==="your_rights"?s.jsx("ul",{children:Object.keys(i).filter(a=>a.startsWith("item")).map(a=>s.jsx("li",{dangerouslySetInnerHTML:{__html:i[a]}},a))}):null,r==="your_rights"&&i.p2&&s.jsx("p",{children:i.p2}),r==="contact"&&s.jsx("p",{children:s.jsx("a",{href:`mailto:${i.email}`,className:"text-primary hover:underline",children:i.email})})]},r)})})})]})]})};var O6="Collapsible",[bgt,phe]=dc(O6),[wgt,PL]=bgt(O6),ghe=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,u]=cc({prop:n,defaultProp:i??!1,onChange:o,caller:O6});return s.jsx(wgt,{scope:r,disabled:a,contentId:sd(),open:c,onOpenToggle:j.useCallback(()=>u(f=>!f),[u]),children:s.jsx(In.div,{"data-state":IL(c),"data-disabled":a?"":void 0,...l,ref:t})})});ghe.displayName=O6;var xhe="CollapsibleTrigger",vhe=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=PL(xhe,r);return s.jsx(In.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":IL(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Lr(e.onClick,i.onOpenToggle)})});vhe.displayName=xhe;var OL="CollapsibleContent",yhe=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=PL(OL,e.__scopeCollapsible);return s.jsx(Bu,{present:r||i.open,children:({present:a})=>s.jsx(_gt,{...n,ref:t,present:a})})});yhe.displayName=OL;var _gt=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=e,o=PL(OL,r),[l,c]=j.useState(n),u=j.useRef(null),f=ka(t,u),h=j.useRef(0),g=h.current,p=j.useRef(0),S=p.current,b=o.open||l,N=j.useRef(b),C=j.useRef(void 0);return j.useEffect(()=>{const A=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(A)},[]),rl(()=>{const A=u.current;if(A){C.current=C.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const T=A.getBoundingClientRect();h.current=T.height,p.current=T.width,N.current||(A.style.transitionDuration=C.current.transitionDuration,A.style.animationName=C.current.animationName),c(n)}},[o.open,n]),s.jsx(In.div,{"data-state":IL(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...a,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:b&&i})});function IL(e){return e?"open":"closed"}var Ngt=ghe,Sgt=vhe,Cgt=yhe,Ih="Accordion",Agt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[FL,jgt,Egt]=Ty(Ih),[I6,s2t]=dc(Ih,[Egt,phe]),DL=phe(),bhe=Ie.forwardRef((e,t)=>{const{type:r,...n}=e,i=n,a=n;return s.jsx(FL.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(Ogt,{...a,ref:t}):s.jsx(Pgt,{...i,ref:t})})});bhe.displayName=Ih;var[whe,Tgt]=I6(Ih),[_he,kgt]=I6(Ih,{collapsible:!1}),Pgt=Ie.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...o}=e,[l,c]=cc({prop:r,defaultProp:n??"",onChange:i,caller:Ih});return s.jsx(whe,{scope:e.__scopeAccordion,value:Ie.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ie.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(_he,{scope:e.__scopeAccordion,collapsible:a,children:s.jsx(Nhe,{...o,ref:t})})})}),Ogt=Ie.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=e,[o,l]=cc({prop:r,defaultProp:n??[],onChange:i,caller:Ih}),c=Ie.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=Ie.useCallback(f=>l((h=[])=>h.filter(g=>g!==f)),[l]);return s.jsx(whe,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(_he,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(Nhe,{...a,ref:t})})})}),[Igt,F6]=I6(Ih),Nhe=Ie.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...o}=e,l=Ie.useRef(null),c=ka(l,t),u=jgt(r),h=bx(i)==="ltr",g=Lr(e.onKeyDown,p=>{var W;if(!Agt.includes(p.key))return;const S=p.target,b=u().filter(z=>{var Z;return!((Z=z.ref.current)!=null&&Z.disabled)}),N=b.findIndex(z=>z.ref.current===S),C=b.length;if(N===-1)return;p.preventDefault();let A=N;const T=0,F=C-1,L=()=>{A=N+1,A>F&&(A=T)},B=()=>{A=N-1,A<T&&(A=F)};switch(p.key){case"Home":A=T;break;case"End":A=F;break;case"ArrowRight":a==="horizontal"&&(h?L():B());break;case"ArrowDown":a==="vertical"&&L();break;case"ArrowLeft":a==="horizontal"&&(h?B():L());break;case"ArrowUp":a==="vertical"&&B();break}const M=A%C;(W=b[M].ref.current)==null||W.focus()});return s.jsx(Igt,{scope:r,disabled:n,direction:i,orientation:a,children:s.jsx(FL.Slot,{scope:r,children:s.jsx(In.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:g})})})}),LA="AccordionItem",[Fgt,RL]=I6(LA),She=Ie.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...i}=e,a=F6(LA,r),o=Tgt(LA,r),l=DL(r),c=sd(),u=n&&o.value.includes(n)||!1,f=a.disabled||e.disabled;return s.jsx(Fgt,{scope:r,open:u,disabled:f,triggerId:c,children:s.jsx(Ngt,{"data-orientation":a.orientation,"data-state":khe(u),...l,...i,ref:t,disabled:f,open:u,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});She.displayName=LA;var Che="AccordionHeader",Ahe=Ie.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=F6(Ih,r),a=RL(Che,r);return s.jsx(In.h3,{"data-orientation":i.orientation,"data-state":khe(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Ahe.displayName=Che;var BF="AccordionTrigger",jhe=Ie.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=F6(Ih,r),a=RL(BF,r),o=kgt(BF,r),l=DL(r);return s.jsx(FL.ItemSlot,{scope:r,children:s.jsx(Sgt,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...n,ref:t})})});jhe.displayName=BF;var Ehe="AccordionContent",The=Ie.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=F6(Ih,r),a=RL(Ehe,r),o=DL(r);return s.jsx(Cgt,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});The.displayName=Ehe;function khe(e){return e?"open":"closed"}var Dgt=bhe,Rgt=She,Mgt=Ahe,Phe=jhe,Ohe=The;const Ihe=Dgt,ML=j.forwardRef(({className:e,...t},r)=>s.jsx(Rgt,{ref:r,className:Ir("border-b",e),...t}));ML.displayName="AccordionItem";const LL=j.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Mgt,{className:"flex",children:s.jsxs(Phe,{ref:n,className:Ir("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(pj,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));LL.displayName=Phe.displayName;const BL=j.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Ohe,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:Ir("pb-4 pt-0",e),children:t})}));BL.displayName=Ohe.displayName;const hY=()=>{const{t:e}=za(),[t,r]=j.useState(""),n=j.useMemo(()=>e("help_center.faq_sections",{returnObjects:!0})||{},[e]),i=j.useMemo(()=>{if(!t)return n;const c=t.toLowerCase(),u={};for(const f in n){const h=n[f],g={};let p=!1;if(h.title&&h.title.toLowerCase().includes(c)){p=!0;for(const S in h)S.startsWith("q")&&(g[S]=h[S],g[S.replace("q","a")]=h[S.replace("q","a")])}else for(const S in h)if(S.startsWith("q")){const b=h[S],N=h[S.replace("q","a")];b&&N&&(b.toLowerCase().includes(c)||N.toLowerCase().includes(c))&&(g[S]=b,g[S.replace("q","a")]=N,p=!0)}p&&(u[f]={title:h.title,...g})}return u},[t,n]),a=n&&typeof n=="object"&&Object.keys(n).length>0,o=[{icon:s.jsx(hm,{}),title:e("help_center.email"),desc:e("help_center.emailDesc"),buttonText:e("help_center.writeUs"),href:"mailto:support@bonplaninfos.net"},{icon:s.jsx(S_,{}),title:e("help_center.chat"),desc:e("help_center.chatDesc"),buttonText:e("help_center.startChat"),href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH"},{icon:s.jsx(Py,{}),title:e("help_center.phone"),desc:e("help_center.phoneDesc"),buttonText:e("help_center.call"),href:"tel:+2250712275374"}],l=c=>c?s.jsx("div",{className:"prose dark:prose-invert max-w-none text-muted-foreground",dangerouslySetInnerHTML:{__html:c.replace(/\n/g,"<br />")}}):null;return s.jsxs("div",{className:"help-center-page bg-background",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:e("help_center.meta_title")}),s.jsx("meta",{name:"description",content:e("help_center.meta_description")})]}),s.jsxs("main",{className:"overflow-x-hidden",children:[s.jsx("section",{className:"help-hero",children:s.jsxs("div",{className:"container text-center",children:[s.jsxs(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx(w2e,{className:"inline-block w-12 h-12 mb-4 text-primary"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold",children:e("help_center.title")})]}),s.jsx(er.p,{className:"mt-4 text-lg text-muted-foreground",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e("help_center.subtitle")})]})}),s.jsx("section",{className:"search-section",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"search-container",children:[s.jsx($l,{className:"search-icon"}),s.jsx(rr,{type:"text",placeholder:e("help_center.searchPlaceholder"),className:"search-box",value:t,onChange:c=>r(c.target.value)})]})})}),s.jsx("section",{className:"faq-section",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:e("help_center.faq")}),s.jsx("div",{className:"max-w-4xl mx-auto",children:a?Object.keys(i).length>0?Object.entries(i).map(([c,u])=>u.title&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:u.title}),s.jsx(Ihe,{type:"single",collapsible:!0,className:"w-full space-y-2",children:Object.keys(u).filter(f=>f.startsWith("q")).sort().map((f,h)=>u[f]&&s.jsxs(ML,{value:`${c}-item-${h}`,className:"bg-card border rounded-lg",children:[s.jsx(LL,{className:"p-4 text-base text-left font-semibold text-foreground hover:no-underline",children:u[f]}),s.jsx(BL,{className:"p-4 pt-0",children:l(u[f.replace("q","a")])})]},`${c}-${h}`))})]},c)):s.jsx("div",{className:"text-center py-8",children:s.jsxs("p",{className:"text-muted-foreground",children:['Aucun rsultat trouv pour "',t,'".']})}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Le contenu du centre d'aide est en cours de chargement..."})})]})}),s.jsx("section",{className:"contact-section",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:e("help_center.contact")}),s.jsx("div",{className:"contact-grid",children:o.map((c,u)=>s.jsx(er.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},children:s.jsxs(Yt,{className:"contact-card h-full",children:[s.jsxs(Wr,{children:[s.jsx("div",{className:"contact-icon",children:c.icon}),s.jsx(qr,{children:c.title})]}),s.jsxs(Qt,{className:"flex flex-col flex-grow",children:[s.jsx("p",{className:"contact-description flex-grow",children:c.desc}),s.jsx(ze,{asChild:!0,className:"mt-4 w-full",children:s.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:c.buttonText})})]})]})},u))})]})})]})]})},Lgt=()=>{const{t:e}=za(),t=e("legal_mentions.sections",{returnObjects:!0}),r=[{key:"editor",icon:s.jsx(Jp,{})},{key:"director",icon:s.jsx($2e,{})},{key:"hosting",icon:s.jsx(rQ,{})},{key:"data",icon:s.jsx(xj,{})},{key:"cookies",icon:s.jsx(YD,{})},{key:"ip",icon:s.jsx(f2e,{})},{key:"liability",icon:s.jsx(Ll,{})},{key:"links",icon:s.jsx(A2e,{})},{key:"applicableLaw",icon:s.jsx(G$,{})}],n=(i,a)=>{if(!a)return null;switch(i){case"editor":return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:a.content}),s.jsxs("div",{className:"legal-details",children:[s.jsx("p",{children:s.jsx("strong",{children:a.company})}),s.jsx("p",{children:a.capital}),s.jsx("p",{children:a.address}),s.jsx("p",{children:a.phone}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:`mailto:${a.email}`,children:a.email})]})]})]});case"hosting":return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:a.content}),s.jsxs("div",{className:"legal-details",children:[s.jsx("p",{children:s.jsx("strong",{children:a.company})}),s.jsx("p",{children:a.address}),s.jsx("p",{children:s.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",children:a.website})})]})]});case"cookies":return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:a.content1}),s.jsxs("ul",{children:[s.jsx("li",{children:a.item1}),s.jsx("li",{children:a.item2}),s.jsx("li",{children:a.item3})]}),s.jsx("p",{children:a.content2})]});case"data":return s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[a.content1,s.jsx("a",{href:"mailto:privacy@bonplaninfos.net",className:"text-primary hover:underline",children:"privacy@bonplaninfos.net"}),"."]}),s.jsx("p",{children:s.jsxs(y7,{i18nKey:"legal_mentions.sections.data.content2",children:["Pour plus d'informations, veuillez consulter notre ",s.jsx(Bo,{to:"/privacy-policy",className:"text-primary hover:underline",children:"Politique de Confidentialit"}),"."]})})]});default:return s.jsx("p",{dangerouslySetInnerHTML:{__html:a.content||a.content1}})}};return s.jsxs("div",{className:"legal-mentions-page",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("legal_mentions.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("legal_mentions.meta_description")})]}),s.jsxs("main",{children:[s.jsx("section",{className:"legal-hero",children:s.jsxs("div",{className:"container",children:[s.jsxs("h1",{children:[s.jsx(G$,{className:"inline-block w-12 h-12 mb-4"})," ",e("legal_mentions.title")]}),s.jsx("p",{children:e("legal_mentions.subtitle")}),s.jsx("div",{className:"last-update",children:e("legal_mentions.lastUpdate")})]})}),s.jsx("section",{className:"legal-content",children:s.jsx("div",{className:"container",children:r.map(({key:i,icon:a})=>{const o=t[i];return o?s.jsxs("div",{className:"legal-section",children:[s.jsxs("h2",{children:[a," ",o.title]}),n(i,o)]},i):null})})})]})]})},Bgt=()=>{const e=Sa(),t=[{icon:s.jsx(Zs,{className:"w-8 h-8"}),title:"1. Crez votre compte",description:"L'inscription est rapide, gratuite et ne prend que 30 secondes. Remplissez quelques informations de base et vous tes prt  commencer."},{icon:s.jsx(Yg,{className:"w-8 h-8"}),title:"2. Publiez un vnement",description:"Vous tes organisateur ? Publiez les dtails de votre vnement (concert, soire, confrence...) pour le rendre visible  des milliers d'utilisateurs."},{icon:s.jsx(Qp,{className:"w-8 h-8"}),title:"3. Partagez des Contenus",description:"Trouvez un vnement ou une promotion qui vous plat et partagez-le avec vos amis et votre communaut sur les rseaux sociaux."},{icon:s.jsx(Ua,{className:"w-8 h-8"}),title:"4. Gagnez des Pices",description:"Pour chaque interaction (partage, tlchargement, vue) sur le contenu que vous avez publi ou partag, vous accumulez des pices dans votre portefeuille."},{icon:s.jsx(Xc,{className:"w-8 h-8"}),title:"5. Boostez votre visibilit",description:"Utilisez vos pices pour 'booster' vos publications et atteindre une audience encore plus large sur la plateforme."},{icon:s.jsx(XZ,{className:"w-8 h-8"}),title:"6. Encaissez vos Gains",description:"Convertissez vos pices en argent rel et retirez vos gains directement sur votre compte mobile money (Orange, Moov, Wave)."}];return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:"Comment a marche - BonPlanInfos"}),s.jsx("meta",{name:"description",content:"Dcouvrez comment gagner de l'argent en partageant des vnements sur BonPlanInfos. Le guide complet de notre plateforme."})]}),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4",children:"Comment a Marche ?"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Transformez votre passion pour les vnements en une source de revenus, tape par tape."})]}),s.jsx(er.div,{className:"my-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:s.jsx(Yt,{className:"overflow-hidden shadow-lg border-primary/20",children:s.jsx(Qt,{className:"p-0",children:s.jsx("img",{src:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/150a140f02368866d8206eba11ea3767.jpg",alt:"Faites vivre vos vnements",className:"w-full h-auto object-contain"})})})}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-4 bottom-4 w-1 bg-border/40 rounded-full hidden md:block"}),t.map((r,n)=>s.jsxs(er.div,{initial:{opacity:0,x:n%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},className:`flex items-center w-full mb-12 flex-col md:flex-row ${n%2===0?"":"md:flex-row-reverse"}`,children:[s.jsx("div",{className:`md:w-5/12 ${n%2===0?"":"md:text-right"}`,children:s.jsxs(Yt,{className:"glass-effect border-primary/30",children:[s.jsx(Wr,{children:s.jsx(qr,{children:r.title})}),s.jsx(Qt,{children:s.jsx("p",{className:"text-muted-foreground",children:r.description})})]})}),s.jsx("div",{className:"hidden md:flex w-2/12 items-center justify-center",children:s.jsx("div",{className:"z-10 w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg",children:r.icon})}),s.jsx("div",{className:"md:hidden mt-4 w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg",children:r.icon})]},n))]})}),s.jsxs(er.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.6},className:"text-center mt-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  vous lancer ?"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Rejoignez des milliers d'autres personnes qui montisent dj leur passion."}),s.jsx(ze,{size:"lg",className:"gradient-gold text-background",onClick:()=>e("/auth",{state:{isRegistering:!0}}),children:"Crer mon compte gratuitement"})]})]})]})},$gt=()=>{var a;const e=Sa(),{adminConfig:t}=Ja(),{t:r}=za(),n=((a=t==null?void 0:t.event_packs)==null?void 0:a.map(o=>({...o,price:o.coins*((t==null?void 0:t.coin_to_cfa_rate)||20)})))||[],i=[{icon:s.jsx(GS,{className:"w-8 h-8 mb-4 text-primary"}),title:r("pricing.business.boost.title"),price:r("pricing.business.boost.price"),description:r("pricing.business.boost.description"),features:[r("pricing.business.boost.feature1"),r("pricing.business.boost.feature2"),r("pricing.business.boost.feature3")],actionText:r("pricing.business.boost.actionText"),action:()=>e("/boost")},{icon:s.jsx(Tu,{className:"w-8 h-8 mb-4 text-yellow-400"}),title:r("pricing.business.promo.title"),price:r("pricing.business.promo.price"),description:r("pricing.business.promo.description"),features:[r("pricing.business.promo.feature1"),r("pricing.business.promo.feature2"),r("pricing.business.promo.feature3")],actionText:r("pricing.business.promo.actionText"),action:()=>e("/create-promotion")},{icon:s.jsx(ZD,{className:"w-8 h-8 mb-4 text-purple-400"}),title:r("pricing.business.partner.title"),price:r("pricing.business.partner.price"),description:r("pricing.business.partner.description"),features:[r("pricing.business.partner.feature1"),r("pricing.business.partner.feature2"),r("pricing.business.partner.feature3")],actionText:r("pricing.business.partner.actionText"),action:()=>e("/marketing")}];return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:r("pricing.meta.title")}),s.jsx("meta",{name:"description",content:r("pricing.meta.description")})]}),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4",children:r("pricing.hero.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:r("pricing.hero.subtitle")})]}),s.jsxs("section",{className:"mb-20",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:r("pricing.user_packs.title")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((o,l)=>{var c,u;return s.jsx(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:s.jsxs(Yt,{className:`flex flex-col h-full glass-effect hover:border-primary transition-all ${o.id==="vip"?"border-primary":"border-border"}`,children:[s.jsxs(Wr,{className:"text-center",children:[o.id==="vip"&&s.jsx(Vr,{className:"absolute top-4 right-4 bg-primary",children:r("pricing.popular")}),s.jsx(qr,{className:"text-2xl",children:o.name}),s.jsxs("div",{className:"my-4",children:[s.jsx("span",{className:"text-5xl font-bold",children:o.coins+(((u=(c=o.bonus)==null?void 0:c.match(/\d+/g))==null?void 0:u.map(Number)[0])||0)}),s.jsxs("span",{className:"text-muted-foreground",children:[" ",r("pricing.coins")]})]}),o.bonus&&s.jsx(Oa,{className:"text-green-400 font-semibold",children:o.bonus})]}),s.jsx(Qt,{className:"flex-grow"}),s.jsxs(Zg,{className:"flex-col gap-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[o.price.toLocaleString()," FCFA"]}),s.jsx(ze,{className:"w-full gradient-gold text-background",onClick:()=>e("/wallet"),children:r("pricing.buy_pack")})]})]})},o.id)})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:r("pricing.business.title")}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:i.map((o,l)=>s.jsx(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:s.jsxs(Yt,{className:"flex flex-col h-full glass-effect hover:border-primary transition-all",children:[s.jsxs(Wr,{className:"text-center",children:[o.icon,s.jsx(qr,{className:"text-2xl",children:o.title}),s.jsx("p",{className:"text-primary font-bold text-lg",children:o.price}),s.jsx(Oa,{children:o.description})]}),s.jsx(Qt,{className:"flex-grow",children:s.jsx("ul",{className:"space-y-3 mt-4",children:o.features.map((c,u)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(yx,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-1"}),s.jsx("span",{className:"text-muted-foreground",children:c})]},u))})}),s.jsx(Zg,{children:s.jsx(ze,{className:"w-full",onClick:o.action,children:o.actionText})})]})},l))})]})]})]})},Fhe=()=>{var S,b;const{user:e,signOut:t,permissions:r}=bn(),{userProfile:n}=Ja(),i=Sa(),a=Lu(),[o,l]=j.useState(!1),c=async()=>{await t(),i("/"),l(!1)},u=[{path:"/",icon:QD,label:"Accueil"},{path:"/events",icon:jo,label:"vnements"},{path:"/promotions",icon:aQ,label:"Promos"},...e&&((r==null?void 0:r.role)==="organizer"||(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin")?[{path:"/create-event",icon:Bl,label:"Crer"}]:[]],f=[{path:"/wallet",icon:$o,label:"Portefeuille"},{path:"/profile",icon:Iy,label:"Profil"}],h=[...(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"?[{path:"/admin",icon:nc,label:"Admin"}]:[],...(r==null?void 0:r.role)==="secretary"?[{path:"/secretary",icon:R2,label:"Secrtaire"}]:[]],g=N=>a.pathname===N,p=3;return s.jsxs("nav",{className:"sticky top-0 z-50 glass-effect border-b border-[#C9A227]/20",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs(Bo,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 gradient-gold rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-[#0B0B0D] font-bold text-sm",children:"BP"})}),s.jsx("span",{className:"text-xl font-bold text-[#C9A227]",children:"BonPlaninfos"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[u.map(N=>s.jsxs(Bo,{to:N.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${g(N.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[s.jsx(N.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:N.label})]},N.path)),h.map(N=>s.jsxs(Bo,{to:N.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${g(N.path)?"bg-[#E53935] text-white":"text-gray-300 hover:text-white hover:bg-[#E53935]"}`,children:[s.jsx(N.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:N.label})]},N.path))]}),s.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e&&n?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(ze,{variant:"ghost",size:"sm",onClick:()=>i("/notifications"),className:"relative text-gray-300 hover:text-[#C9A227]",children:[s.jsx(p0,{className:"w-5 h-5"}),s.jsx(Vr,{className:"absolute -top-1 -right-1 h-4 w-4 justify-center p-0 gradient-red text-white text-xs border-2 border-[#111]",children:p})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-[#C9A227]/10 px-3 py-1 rounded-full cursor-pointer",onClick:()=>i("/wallet"),children:[s.jsx($o,{className:"w-4 h-4 text-[#C9A227]"}),s.jsxs("span",{className:"text-sm font-medium text-[#C9A227]",children:[n.total_coins||0," pices"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>i("/profile"),children:[s.jsxs(t1,{className:"w-8 h-8",children:[s.jsx(r1,{src:n.avatar_url}),s.jsx(n1,{className:"bg-[#C9A227] text-[#0B0B0D]",children:(b=(S=n.name)==null?void 0:S.charAt(0))==null?void 0:b.toUpperCase()})]}),s.jsx("span",{className:"text-sm text-gray-300",children:n.name})]}),s.jsx(ze,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-300 hover:text-[#E53935]",children:s.jsx(Gg,{className:"w-5 h-5"})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ze,{variant:"ghost",onClick:()=>i("/auth"),className:"text-gray-300 hover:text-[#C9A227]",children:"Connexion"}),s.jsx(ze,{onClick:()=>i("/auth"),className:"gradient-gold text-[#0B0B0D] hover:opacity-90",children:"Inscription"})]})}),s.jsx(ze,{variant:"ghost",size:"sm",className:"md:hidden text-gray-300",onClick:()=>l(!o),children:o?s.jsx(wl,{className:"w-5 h-5"}):s.jsx(QZ,{className:"w-5 h-5"})})]})}),o&&s.jsx(er.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden glass-effect border-t border-[#C9A227]/20",children:s.jsxs("div",{className:"px-4 py-4 space-y-2",children:[u.map(N=>s.jsxs(Bo,{to:N.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${g(N.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[s.jsx(N.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:N.label})]},N.path)),e&&s.jsx("div",{className:"border-t border-[#C9A227]/20 pt-4 space-y-2",children:f.map(N=>s.jsxs(Bo,{to:N.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${g(N.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[s.jsx(N.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:N.label})]},N.path))}),h.map(N=>s.jsxs(Bo,{to:N.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${g(N.path)?"bg-[#E53935] text-white":"text-gray-300 hover:text-white hover:bg-[#E53935]"}`,children:[s.jsx(N.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:N.label})]},N.path)),e?s.jsxs("div",{className:"pt-4 border-t border-[#C9A227]/20 space-y-2",children:[s.jsxs(Bo,{to:"/settings",onClick:()=>l(!1),className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]",children:[s.jsx(Oy,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Paramtres"})]}),s.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-[#E53935]",children:[s.jsx(Gg,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Dconnexion"})]})]}):s.jsxs("div",{className:"pt-4 border-t border-[#C9A227]/20 space-y-2",children:[s.jsx(ze,{onClick:()=>{i("/auth"),l(!1)},className:"w-full justify-start text-gray-300 hover:text-[#C9A227]",children:"Connexion"}),s.jsx(ze,{onClick:()=>{i("/auth"),l(!1)},className:"w-full gradient-gold text-[#0B0B0D] hover:opacity-90",children:"Inscription"})]})]})})]})},Ugt=()=>{const{t:e}=za(),{toast:t}=js(),[r]=B4(),{forceRefreshUserProfile:n,triggerVisualEffect:i}=Ja(),{user:a}=bn(),[o,l]=j.useState(!0),[c,u]=j.useState("processing"),[f,h]=j.useState(e("paymentSuccess.processing")),g=j.useCallback(async()=>{const C=r.get("transaction_id"),A=r.get("reference"),T=a==null?void 0:a.email;if(!C){u("error"),h(e("paymentError.missingParams")),l(!1);return}try{const F=await Kp.verifyAndCreditPayment(C,T,A);F.success?(u("success"),h(F.message),t({title:e("paymentSuccess.title"),description:F.message,variant:"success"}),n(),i("bubbles")):(u("error"),h(F.message||"Erreur lors du traitement du paiement."),t({title:e("paymentError.title"),description:F.message,variant:"destructive"}))}catch(F){console.error("Payment processing error:",F),u("error"),h(e("paymentError.message")),t({title:e("paymentError.title"),description:F.message,variant:"destructive"})}finally{l(!1)}},[r,e,t,n,i,a]);j.useEffect(()=>{a&&g()},[a,g]);const p=()=>{switch(c){case"success":return{icon:s.jsx(vl,{className:"mx-auto h-24 w-24 text-green-500"}),header:e("paymentSuccess.header"),message:f};case"error":return{icon:s.jsx(Ll,{className:"mx-auto h-24 w-24 text-destructive"}),header:e("paymentError.title"),message:f};default:return{icon:s.jsx(Zt,{className:"mx-auto h-24 w-24 text-primary animate-spin"}),header:e("paymentSuccess.processingHeader"),message:f}}},{icon:S,header:b,message:N}=p();return s.jsxs(s.Fragment,{children:[s.jsx(Fhe,{}),s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[S,s.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:b}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:N}),s.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[s.jsx(Bo,{to:"/wallet",className:"rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:e("paymentSuccess.walletButton")}),s.jsxs(Bo,{to:"/",className:"text-sm font-semibold leading-6 text-foreground",children:[e("paymentSuccess.homeButton")," ",s.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})]})},zgt=()=>{const{t:e}=za();return s.jsxs(s.Fragment,{children:[s.jsx(Fhe,{}),s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(_j,{className:"mx-auto h-24 w-24 text-destructive"}),s.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:e("paymentCancel.header")}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:e("paymentCancel.message")}),s.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[s.jsx(Bo,{to:"/wallet",className:"rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:e("paymentCancel.retryButton")}),s.jsxs(Bo,{to:"/",className:"text-sm font-semibold leading-6 text-foreground",children:[e("paymentCancel.homeButton")," ",s.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})]})},Vgt=({contest:e,onClick:t})=>{e.primary_media_url&&e.primary_media_url;const r=()=>{const a=new Date(e.end_date)-new Date;if(a<=0)return"Termin";const o=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a/(1e3*60*60)%24);return`${o}j ${l}h restantes`};return s.jsx(er.div,{onClick:t,className:"cursor-pointer h-full",whileHover:{y:-5},children:s.jsxs(Yt,{className:"h-full flex flex-col bg-card border-border overflow-hidden hover:border-primary transition-all shadow-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{class:"w-full h-40 object-cover",alt:`Aperu pour ${e.title}`,src:"https://images.unsplash.com/photo-1535281047371-e7d8b0e96d7f"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs(Vr,{variant:"secondary",className:"absolute top-3 right-3 bg-primary text-primary-foreground",children:[s.jsx(jh,{className:"w-3 h-3 mr-1"})," ",r()]})]}),s.jsxs(Qt,{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2 font-heading",children:e.title}),s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm mt-2",children:[s.jsx(wh,{className:"w-4 h-4 mr-2 text-primary"}),e.category||"Concours"]})]})]})})},Wgt=()=>{const e=Sa(),[t,r]=j.useState([]),[n,i]=j.useState(!0);return j.useEffect(()=>{(async()=>{i(!0);const{data:o,error:l}=await Ze.from("contests").select("*").eq("is_active",!0).order("end_date",{ascending:!0});l?console.error("Error fetching contests:",l):r(o),i(!1)})()},[]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:"Concours - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Participez aux concours et votez pour vos favoris."})]}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[s.jsx(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>e(-1),children:s.jsx(eu,{className:"h-5 w-5"})}),s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[s.jsx(wh,{className:"w-8 h-8 mr-3 text-primary"}),"Concours"]})]})}),s.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(a=>s.jsx(Vgt,{contest:a,onClick:()=>e(`/contest/${a.id}`)},a.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(wh,{className:"w-24 h-24 text-muted-foreground/20 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucun concours pour le moment"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Revenez bientt pour dcouvrir de nouveaux concours passionnants."})]})})]})]})},Hgt=({candidate:e,onVote:t,totalVotes:r})=>{var i;const n=r>0?(e.vote_count/r*100).toFixed(2):0;return s.jsxs(er.div,{className:"bg-gray-800/50 rounded-lg p-4 flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs(t1,{className:"w-16 h-16 border-2 border-primary",children:[s.jsx(r1,{src:e.photo_url,alt:e.name}),s.jsx(n1,{children:(i=e.name)==null?void 0:i.charAt(0)})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"font-bold text-lg text-white",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:s.jsx(er.div,{className:"bg-gradient-to-r from-amber-400 to-primary h-2.5 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5,ease:"easeOut"}})}),s.jsxs("span",{className:"text-amber-400 font-bold text-sm min-w-[50px] text-right",children:[n,"%"]})]})]})]}),s.jsx(ze,{onClick:t,size:"sm",className:"ml-4 gradient-gold text-background font-bold",children:"Voter"})]})},qgt=()=>{var W;const{id:e}=BD(),t=Sa(),{user:r}=bn(),{userProfile:n,forceRefreshUserProfile:i}=Ja(),[a,o]=j.useState(null),[l,c]=j.useState([]),[u,f]=j.useState(!0),[h,g]=j.useState(!1),[p,S]=j.useState(!1),[b,N]=j.useState({isOpen:!1,candidate:null,quantity:1}),[C,A]=j.useState(!1),T=j.useCallback(async()=>{const{data:z,error:Z}=await Ze.from("contests").select("*").eq("id",e).single();if(Z||!z){lt({title:"Erreur",description:"Concours non trouv.",variant:"destructive"}),t("/contests");return}o(z);const{data:K,error:q}=await Ze.from("candidates").select("*").eq("contest_id",e).order("vote_count",{ascending:!1});q?lt({title:"Erreur",description:"Impossible de charger les candidats.",variant:"destructive"}):c(K)},[e,t]);j.useEffect(()=>{f(!0),T().finally(()=>f(!1))},[T]),j.useEffect(()=>{const z=Ze.channel(`contest-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"candidates",filter:`contest_id=eq.${e}`},()=>{T()}).subscribe();return()=>{Ze.removeChannel(z)}},[e,T]);const F=async()=>{if(!r){lt({title:"Connexion requise",variant:"destructive"}),t("/auth");return}const{candidate:z,quantity:Z}=b,K=a.vote_cost_coins*Z;A(!0),N(ae=>({...ae,isOpen:!1}));const q=async()=>{try{await bl.debitCoins(r.id,K,`Vote: ${a.title}`);const{error:ae}=await Ze.rpc("increment_vote_count",{candidate_id_to_inc:z.id,inc_amount:Z});if(ae)throw ae;await i(),lt({title:"Vote russi!",description:`Vous avez donn ${Z} voix  ${z.name}.`})}catch(ae){lt({title:"Erreur de vote",description:ae.message,variant:"destructive"})}finally{A(!1)}},ie=()=>{S(!0),A(!1)};await bl.handleAction({userId:r.id,requiredCoins:K,onSuccess:q,onInsufficientBalance:ie})},L=z=>{N({isOpen:!0,candidate:z,quantity:1})},B=z=>{N(Z=>({...Z,quantity:Math.max(1,Z.quantity+z)}))},M=j.useMemo(()=>l.reduce((z,Z)=>z+Z.vote_count,0),[l]);return u&&!a?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):a?s.jsxs("div",{className:"min-h-screen bg-black text-white",style:{background:"linear-gradient(180deg, #1a1a1a 0%, #000000 100%)"},children:[s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs(ze,{variant:"ghost",onClick:()=>t("/contests"),className:"text-gray-400 hover:text-white",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsx(Yt,{className:"bg-transparent border-0 shadow-none text-center mb-8",children:s.jsxs(Qt,{className:"p-0",children:[s.jsx("h1",{className:"text-4xl font-extrabold text-amber-400 tracking-tight uppercase",children:a.title}),s.jsx("p",{className:"text-gray-300 mt-2 max-w-2xl mx-auto",children:a.description}),s.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 justify-center mt-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wh,{className:"w-4 h-4 mr-2 text-amber-400"})," Cot: ",s.jsxs("strong",{className:"ml-1.5 flex items-center text-white",children:[a.vote_cost_coins," ",s.jsx(Ua,{className:"w-3 h-3 ml-1 text-amber-400"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(jh,{className:"w-4 h-4 mr-2 text-amber-400"})," Fin: ",s.jsx("strong",{className:"ml-1.5 text-white",children:new Date(a.end_date).toLocaleDateString("fr-FR")})]})]})]})}),s.jsx("div",{className:"space-y-4",children:u&&l.length===0?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):l.map(z=>s.jsx(Hgt,{candidate:z,onVote:()=>L(z),totalVotes:M},z.id))})]}),s.jsx(vE,{isOpen:h,onClose:()=>g(!1)}),s.jsx(P0,{isOpen:p,onClose:()=>S(!1),onProceed:()=>{S(!1),g(!0)}}),s.jsx(nl,{open:b.isOpen,onOpenChange:()=>N({isOpen:!1,candidate:null,quantity:1}),children:s.jsxs(Ho,{children:[s.jsxs(qo,{children:[s.jsxs(Go,{children:["Voter pour ",(W=b.candidate)==null?void 0:W.name]}),s.jsxs(Ko,{children:["Chaque vote cote ",a.vote_cost_coins," pices. Combien de voix souhaitez-vous donner ?"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 my-4",children:[s.jsx(ze,{variant:"outline",size:"icon",onClick:()=>B(-1),children:s.jsx(HS,{className:"w-4 h-4"})}),s.jsx(rr,{type:"number",value:b.quantity,readOnly:!0,className:"w-20 text-center text-lg font-bold"}),s.jsx(ze,{variant:"outline",size:"icon",onClick:()=>B(1),children:s.jsx(Bl,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-center font-semibold",children:["Cot total : ",a.vote_cost_coins*b.quantity," pices"]}),s.jsxs(al,{children:[s.jsx(sl,{children:"Annuler"}),s.jsx(il,{onClick:F,disabled:C,children:C?s.jsx(Zt,{className:"animate-spin"}):`Confirmer ${b.quantity} voix`})]})]})})]}):null},Ggt=()=>{const{t:e}=za(),t=Sa(),{user:r}=bn(),[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState("");j.useEffect(()=>{(async()=>{o(!0);try{console.log(" Dbut du chargement des lieux...");let N=Ze.from("locations").select("*").eq("is_active",!0).order("created_at",{ascending:!1});l&&(N=N.or(`name.ilike.%${l}%,city.ilike.%${l}%,country.ilike.%${l}%`));const{data:C,error:A}=await N;A?(console.error(" Erreur Supabase:",A),lt({title:e("common.error_title"),description:"Impossible de charger les lieux.",variant:"destructive"})):(console.log(" Lieux chargs:",C),i(C||[]))}catch(N){console.error(" Erreur fetch:",N),lt({title:e("common.error_title"),description:"Erreur lors du chargement.",variant:"destructive"})}o(!1)})()},[e,l]);const u=async b=>{try{const{data:N,error:C}=await Ze.from("locations").select("views_count").eq("id",b).single();if(C){console.error(" Erreur rcupration vues:",C);return}const A=(N.views_count||0)+1,{error:T}=await Ze.from("locations").update({views_count:A,updated_at:new Date().toISOString()}).eq("id",b);T?console.error(" Erreur mise  jour vues:",T):(console.log(" Compteur de vues incrment pour:",b),i(F=>F.map(L=>L.id===b?{...L,views_count:A}:L)))}catch(N){console.error(" Erreur incrmentation vues:",N)}},f=b=>b.images&&Array.isArray(b.images)&&b.images.length>0?b.images[0]:null,h=b=>{const N=new Date,C=new Date(b.created_at),A=Math.floor((N-C)/(1e3*60*60*24));return A<=7?{type:"new",label:"Nouveau",icon:id,color:"bg-green-500 text-white",iconColor:"text-white"}:b.views_count>100?{type:"popular",label:"Populaire",icon:cd,color:"bg-orange-500 text-white",iconColor:"text-white"}:A<=30&&b.views_count<50?{type:"discover",label:" dcouvrir",icon:Tu,color:"bg-blue-500 text-white",iconColor:"text-white"}:null},g=b=>{var A;const N={"789b35de-0aed-48a2-99cb-dd6ead850f0b":{name:"Visite",icon:KD,color:"bg-pink-100 text-pink-800 border-pink-200"},"e26854f8-e52e-43b4-bea7-1d1f74cdb42c":{name:"Htel",icon:K$,color:"bg-purple-100 text-purple-800 border-purple-200"}};if(b.type_id&&N[b.type_id])return N[b.type_id];const C=((A=b.name)==null?void 0:A.toLowerCase())||"";return C.includes("htel")||C.includes("hotel")?{name:"Htel",icon:K$,color:"bg-purple-100 text-purple-800 border-purple-200"}:C.includes("restaurant")?{name:"Restaurant",icon:z2e,color:"bg-amber-100 text-amber-800 border-amber-200"}:C.includes("caf")||C.includes("cafe")||C.includes("bar")?{name:"Caf/Bar",icon:d2e,color:"bg-orange-100 text-orange-800 border-orange-200"}:C.includes("boutique")||C.includes("magasin")||C.includes("shop")?{name:"Shopping",icon:aQ,color:"bg-cyan-100 text-cyan-800 border-cyan-200"}:{name:"Lieu",icon:Jp,color:"bg-gray-100 text-gray-800 border-gray-200"}},p=()=>{r?t("/add-location"):(t("/auth"),lt({title:"Connexion requise",description:"Vous devez tre connect pour ajouter un lieu."}))},S=async(b,N)=>{N.stopPropagation(),await u(b.id),b.google_maps_link?window.open(b.google_maps_link,"_blank","noopener,noreferrer"):lt({title:"Lien non disponible",description:"Aucun lien Google Maps fourni pour ce lieu.",variant:"destructive"})};return j.useEffect(()=>{n.length>0&&(console.log(" Donnes charges:",n),console.log(" Nombre de lieux:",n.length),console.log(" Premier lieu:",n[0]))},[n]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("discover_page.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("discover_page.subtitle")})]}),s.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[s.jsxs("header",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:e("discover_page.title")}),s.jsx("p",{className:"text-lg text-muted-foreground",children:e("discover_page.subtitle")})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 justify-center",children:[s.jsxs("div",{className:"relative flex-grow max-w-lg",children:[s.jsx($l,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(rr,{placeholder:e("common.search"),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary",value:l,onChange:b=>c(b.target.value)})]}),s.jsxs(ze,{onClick:p,className:"h-12 rounded-full bg-primary hover:bg-primary/90",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"}),e("discover_page.add_place")]})]}),a?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement des lieux..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(to,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Aucun lieu trouv"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:l?"Aucun lieu ne correspond  votre recherche.":"Aucun lieu disponible pour le moment."}),s.jsxs(ze,{onClick:p,className:"mt-4 bg-primary hover:bg-primary/90",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Ajouter le premier lieu"]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(b=>{const N=f(b),C=h(b),A=g(b),T=A.icon;return s.jsxs("div",{className:"bg-card rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 border border-border hover:border-primary/20 group relative",children:[C&&s.jsxs("div",{className:`absolute top-3 left-3 z-10 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${C.color} backdrop-blur-sm`,children:[s.jsx(C.icon,{className:`w-3 h-3 ${C.iconColor}`}),C.label]}),A&&s.jsxs("div",{className:`absolute top-3 right-3 z-10 px-2 py-1 rounded-full text-xs font-semibold ${A.color} border backdrop-blur-sm flex items-center gap-1`,children:[s.jsx(T,{className:"w-3 h-3"}),A.name]}),s.jsxs("div",{className:"w-full h-48 bg-gradient-to-br from-muted/50 to-muted relative overflow-hidden",children:[N?s.jsx("img",{src:N,alt:b.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:F=>{console.error(" Erreur chargement image:",N),F.target.style.display="none"}}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(Jp,{className:"w-12 h-12 mb-2 opacity-50"}),s.jsx("span",{className:"text-sm",children:"Aucune image"})]}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),s.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/60 text-white px-2 py-1 rounded-full text-xs backdrop-blur-sm",children:[" ",b.views_count||0," vues"]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:b.name}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[s.jsx(to,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:b.address}),s.jsxs("p",{className:"text-xs text-muted-foreground/80",children:[b.city,", ",b.country]})]})]}),b.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:b.description}),s.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jh,{className:"w-3 h-3"}),s.jsxs("span",{children:[Math.floor((new Date-new Date(b.created_at))/(1e3*60*60*24)),"j"]})]}),b.rating>0&&s.jsxs("div",{className:"flex items-center gap-1 bg-primary/10 px-2 py-1 rounded-full",children:[s.jsx(Tu,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-semibold",children:b.rating.toFixed(1)})]})]}),s.jsxs(ze,{onClick:F=>S(b,F),className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!b.google_maps_link,children:[s.jsx(XD,{className:"w-4 h-4 mr-2"}),"Y Aller"]}),!b.google_maps_link&&s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Lien Google Maps non disponible"})]})]},b.id)})})]})]})},Kgt={"Pack Dbutant":s.jsx(Xc,{className:"w-8 h-8 text-yellow-400"}),"Pack Intermediaire":s.jsx(id,{className:"w-8 h-8 text-blue-400"}),"Pack Standard":s.jsx(Tu,{className:"w-8 h-8 text-orange-400"}),"Pack Premium":s.jsx(ZD,{className:"w-8 h-8 text-purple-400"}),"Pack VIP":s.jsx(Zp,{className:"w-8 h-8 text-red-400"}),"Pack King":s.jsx("img",{src:"/king-icon.png",alt:"King",className:"w-10 h-10"})},Ygt=()=>{const{user:e}=bn(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(1e3),[l,c]=j.useState(100),{toast:u}=js(),f=Sa();j.useEffect(()=>{(async()=>{try{const S=await Kp.getCoinPacks();r(S)}catch{u({title:"Erreur",description:"Impossible de charger les packs de pices.",variant:"destructive"})}finally{i(!1)}})()},[u]),j.useEffect(()=>{const p=Math.floor(a/10)+Kp.calculateCustomBonus(a);c(p)},[a]);const h=p=>{if(!e){u({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des pices.",variant:"destructive"}),f("/auth");return}f(`/payment/checkout?amount=${p.fcfa_price}&packId=${p.id}&type=coin_pack`)},g=()=>{if(!e){u({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des pices.",variant:"destructive"}),f("/auth");return}if(a<500){u({title:"Montant invalide",description:"Le montant minimum est de 500 FCFA.",variant:"destructive"});return}f(`/payment/checkout?amount=${a}&type=custom_coins`)};return n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/50 text-foreground",children:[s.jsx(yE,{pageData:{title:"Acheter des Pices - BonPlanInfos",description:"Rechargez votre compte en pices pour interagir avec les vnements, voter, et plus encore. Packs avantageux et bonus disponibles."}}),s.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-20",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-primary via-red-500 to-secondary",children:"Boutique de Pices"}),s.jsx("p",{className:"max-w-2xl mx-auto mt-4 text-lg text-muted-foreground",children:"Rechargez votre portefeuille et dbloquez tout le potentiel de BonPlanInfos."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.filter(p=>!p.is_custom).map((p,S)=>s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},children:s.jsxs(Yt,{className:`h-full flex flex-col glass-effect hover:border-primary/50 transition-all duration-300 relative overflow-hidden ${p.badge?"border-primary":""}`,children:[p.badge&&s.jsx("div",{className:"absolute top-3 right-3 bg-primary text-primary-foreground text-xs font-bold px-2 py-1 rounded-full",children:p.badge}),s.jsxs(Wr,{className:"items-center text-center",children:[Kgt[p.name]||s.jsx(Xc,{className:"w-8 h-8 text-gray-400"}),s.jsx(qr,{className:"text-2xl",children:p.name}),s.jsx(Oa,{children:p.description})]}),s.jsxs(Qt,{className:"flex-grow flex flex-col text-center",children:[s.jsxs("div",{className:"my-4",children:[s.jsx("span",{className:"text-5xl font-bold",children:p.total_coins.toLocaleString()}),s.jsx("span",{className:"text-xl text-muted-foreground",children:" pices"})]}),p.bonus_coins>0&&s.jsxs("p",{className:"text-green-500 font-semibold mb-4",children:["+",p.bonus_coins," pices bonus incluses !"]}),s.jsxs("div",{className:"text-2xl font-semibold text-primary mb-6",children:[p.fcfa_price.toLocaleString()," FCFA"]}),s.jsxs(ze,{onClick:()=>h(p),size:"lg",className:"w-full mt-auto gradient-red text-primary-foreground",children:["Acheter ce pack ",s.jsx(WP,{className:"w-4 h-4 ml-2"})]})]})]})},p.id)),s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t.length*.1},className:"md:col-span-2 lg:col-span-1",children:s.jsxs(Yt,{className:"h-full flex flex-col glass-effect border-dashed border-2 hover:border-primary transition-all",children:[s.jsxs(Wr,{className:"items-center text-center",children:[s.jsx(id,{className:"w-8 h-8 text-green-400"}),s.jsx(qr,{className:"text-2xl",children:"Montant Personnalis"}),s.jsx(Oa,{children:"Choisissez exactement combien vous voulez dpenser."})]}),s.jsx(Qt,{className:"flex-grow flex flex-col text-center justify-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"custom-amount",className:"text-muted-foreground",children:"Montant en FCFA"}),s.jsx(rr,{id:"custom-amount",type:"number",value:a,onChange:p=>o(parseInt(p.target.value)||0),className:"text-center text-2xl font-bold h-14",min:"500"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Vous recevrez"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:[l.toLocaleString()," pices"]})]}),s.jsxs(ze,{onClick:g,size:"lg",className:"w-full gradient-green text-primary-foreground",children:["Procder au paiement ",s.jsx(WP,{className:"w-4 h-4 ml-2"})]})]})})]})})]})]})]})},Xgt=()=>{const{packSlug:e}=BD(),{user:t}=bn(),r=Sa(),n=Lu(),{toast:i}=js(),[a,o]=j.useState(!0),[l,c]=j.useState(null),[u,f]=j.useState(!1),[h,g]=j.useState(0);j.useEffect(()=>{const b=new URLSearchParams(n.search).get("amount");e==="custom"&&b?(f(!0),g(parseInt(b,10))):e==="custom"&&!b&&(c("Le montant pour un achat personnalis est manquant."),o(!1))},[n.search,e]);const p=j.useCallback(async()=>{if(!t){i({title:"Connexion requise",description:"Veuillez vous connecter pour effectuer un achat.",variant:"destructive"}),r("/auth");return}o(!0);try{let S;if(u)S=await Kp.initiateCustomCoins(t.id,{amount_fcfa:h});else{const b=await Kp.getCoinPackBySlug(e);if(!b)throw new Error("Le pack que vous essayez d'acheter n'a pas t trouv.");S=await Kp.initiateCoinPack(t.id,{pack_id:b.id})}if(S&&S.redirect_url)r(S.redirect_url);else throw new Error("Impossible de gnrer le lien de paiement.")}catch(S){c(S.message),i({title:"Erreur de transaction",description:S.message,variant:"destructive"}),o(!1)}},[t,e,r,i,u,h]);return j.useEffect(()=>{l||t&&(u||e&&e!=="custom")&&p()},[t,u,e,l,p]),a?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[s.jsx(Zt,{className:"w-16 h-16 animate-spin text-primary mb-4"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Prparation de votre transaction..."}),s.jsx("p",{className:"text-muted-foreground",children:"Veuillez patienter un instant."})]}):l?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Une erreur est survenue"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:l}),s.jsx(ze,{onClick:()=>r("/packs"),children:"Retour  la boutique"})]}):null},Jgt=()=>{const{user:e}=bn(),{adminConfig:t,userProfile:r}=Ja(),n=Sa(),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState([]),[f,h]=j.useState(1),g={XOF:1,EUR:655.957,USD:600,PI:(t==null?void 0:t.pi_conversion_rate)||10},[p,S]=j.useState({title:"",description:"",categoryId:"",drawDate:"",coverImage:null,coverImageUrl:"",country:(r==null?void 0:r.country)||"Cte d'Ivoire",city:(r==null?void 0:r.city)||"",address:"",isOnline:!1,ticketPrice:500,ticketCurrency:"XOF",totalTickets:100,maxTicketsPerUser:10,minTicketsRequired:50,showRemainingTickets:!0,prizes:[{id:Pu(),rank:1,description:"",value_fcfa:0}],autoDraw:!0,notifyParticipants:!0,showParticipants:!0,termsAccepted:!1}),b=j.useMemo(()=>{const se=p.ticketPrice*(g[p.ticketCurrency]||1);return Math.ceil(se/g.PI)},[p.ticketPrice,p.ticketCurrency,g]),N=j.useMemo(()=>b*p.totalTickets,[b,p.totalTickets]),C=j.useMemo(()=>p.prizes.reduce((se,he)=>se+(he.value_fcfa||0),0),[p.prizes]);j.useEffect(()=>{(async()=>{const{data:he,error:ce}=await Ze.from("event_categories").select("*").eq("is_active",!0).order("name");ce?console.error("Error fetching categories:",ce):u(he)})()},[]),j.useEffect(()=>()=>{p.coverImageUrl&&URL.revokeObjectURL(p.coverImageUrl)},[]);const A=(se,he)=>{S(ce=>({...ce,[se]:he}))},T=(se,he,ce)=>{S(ge=>({...ge,prizes:ge.prizes.map(we=>we.id===se?{...we,[he]:he==="value_fcfa"?Number(ce):ce}:we)}))},F=()=>{S(se=>({...se,prizes:[...se.prizes,{id:Pu(),rank:se.prizes.length+1,description:"",value_fcfa:0}]}))},L=se=>{S(he=>({...he,prizes:he.prizes.filter(ce=>ce.id!==se).map((ce,ge)=>({...ce,rank:ge+1}))}))},B=async se=>{if(!se)return null;l(!0);try{if(se.size>2*1024*1024)return lt({title:"Fichier trop volumineux",description:"L'image ne doit pas dpasser 2MB.",variant:"destructive"}),null;if(!se.type.startsWith("image/"))return lt({title:"Type de fichier invalide",description:"Veuillez slectionner une image",variant:"destructive"}),null;const he=se.name.replace(/[^a-zA-Z0-9-_\.]/g,"_"),ce=`events/${e.id}/${Pu()}-${he}`,{error:ge}=await Ze.storage.from("media").upload(ce,se);if(ge)throw ge;const{data:we}=Ze.storage.from("media").getPublicUrl(ce);return{publicUrl:we.publicUrl,filePath:ce}}catch(he){return console.error("Erreur upload image:",he),lt({title:"Erreur d'upload",description:"Impossible de tlcharger l'image",variant:"destructive"}),null}finally{l(!1)}},M=async se=>{const he=se.target.files[0];if(!he)return;const ce=URL.createObjectURL(he);S(ge=>({...ge,coverImage:he,coverImageUrl:ce}))},W=()=>{p.coverImageUrl&&URL.revokeObjectURL(p.coverImageUrl),S(se=>({...se,coverImage:null,coverImageUrl:""}))},z=async se=>{if(se.preventDefault(),!e){lt({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}if(!p.termsAccepted){lt({title:"Erreur",description:"Vous devez accepter les conditions.",variant:"destructive"});return}a(!0);try{let he="",ce="";if(p.coverImage){const Ne=await B(p.coverImage);Ne&&(he=Ne.publicUrl,ce=Ne.filePath)}const ge=p.ticketPrice*(g[p.ticketCurrency]||1),{data:we,error:Ce}=await Ze.from("events").insert({title:p.title,description:p.description,event_date:p.drawDate,city:p.city,country:p.country,address:p.isOnline?"En ligne":p.address,organizer_id:e.id,event_type:"raffle",category_id:p.categoryId,status:"active",is_online:p.isOnline,cover_image:he}).select().single();if(Ce)throw console.error("Erreur cration event:",Ce),Ce;const Q=we.id,{data:le,error:ne}=await Ze.from("raffle_events").insert({event_id:Q,draw_date:p.drawDate,base_price:p.ticketPrice,base_currency:p.ticketCurrency,calculated_price_pi:b,total_tickets:p.totalTickets,max_tickets_per_user:p.maxTicketsPerUser,min_tickets_required:p.minTicketsRequired,auto_draw:p.autoDraw}).select().single();if(ne)throw console.error("Erreur cration raffle:",ne),ne;const{error:ee}=await Ze.from("event_settings").insert({event_id:Q,raffle_enabled:!0,show_remaining_tickets:p.showRemainingTickets,show_participants:p.showParticipants,notify_participants:p.notifyParticipants});if(ee)throw console.error("Erreur settings:",ee),ee;const pe=p.prizes.map(Ne=>({event_id:Q,raffle_event_id:le.id,rank:Ne.rank,description:Ne.description,value_fcfa:Ne.value_fcfa})),{error:xe}=await Ze.from("raffle_prizes").insert(pe);if(xe)throw console.error("Erreur prizes:",xe),xe;lt({title:" Tombola cre !",description:"Votre tombola a t cre avec succs."}),n(`/event/${Q}`)}catch(he){console.error("Error creating raffle event:",he),lt({title:"Erreur de cration",description:he.message||"Une erreur est survenue lors de la cration",variant:"destructive"})}finally{a(!1)}},X=[()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"title",children:"Titre de la tombola *"}),s.jsx(rr,{id:"title",value:p.title,onChange:se=>A("title",se.target.value),placeholder:"Ex: Grande Tombola de Nol",required:!0,className:"text-lg font-bold p-4 bg-transparent border-0 border-b-2 border-input focus:ring-0 focus:border-primary transition-all duration-300 ease-in-out placeholder-muted-foreground/50 bg-gradient-to-r from-primary/5 to-accent/5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"description",children:"Description"}),s.jsx(uc,{id:"description",value:p.description,onChange:se=>A("description",se.target.value),placeholder:"Dcrivez votre tombola, son objectif, les rgles particulires...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Image de couverture"}),p.coverImageUrl?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"border-2 border-primary/20 rounded-lg overflow-hidden",children:s.jsx("img",{src:p.coverImageUrl,alt:"Aperu de l'affiche",className:"w-full h-64 object-cover"})}),s.jsx(ze,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 bg-red-500/90 hover:bg-red-600",onClick:W,children:s.jsx(wl,{className:"w-4 h-4"})}),o&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx(Zt,{className:"w-8 h-8 text-white animate-spin"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-input rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[s.jsx("input",{type:"file",id:"coverImage",accept:"image/*",onChange:M,className:"hidden"}),s.jsx("label",{htmlFor:"coverImage",className:"cursor-pointer",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[s.jsx(Yg,{className:"w-8 h-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Ajouter une affiche"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cliquez pour slectionner une image"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PNG, JPG - Max 2MB"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"category",children:"Catgorie *"}),s.jsxs(_i,{onValueChange:se=>A("categoryId",se),value:p.categoryId,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Choisir une catgorie..."})}),s.jsx(xi,{children:c.map(se=>s.jsx(on,{value:se.id,children:se.name},se.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"drawDate",children:"Date du tirage *"}),s.jsx(rr,{id:"drawDate",type:"datetime-local",value:p.drawDate,onChange:se=>A("drawDate",se.target.value),required:!0})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx(ze,{onClick:()=>h(2),className:"bg-primary hover:bg-primary/90",children:"Suivant"})})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{htmlFor:"isOnline",className:"font-semibold",children:"vnement en ligne"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cochez si votre tombola est 100% digitale"})]}),s.jsx(Td,{checked:p.isOnline,onCheckedChange:se=>A("isOnline",se)})]}),!p.isOnline&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"address",children:"Lieu (Adresse) *"}),s.jsx(rr,{id:"address",value:p.address,onChange:se=>A("address",se.target.value),placeholder:"Nom du lieu, rue, numro...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"city",children:"Ville *"}),s.jsx(rr,{id:"city",value:p.city,onChange:se=>A("city",se.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"country",children:"Pays *"}),s.jsx(rr,{id:"country",value:p.country,onChange:se=>A("country",se.target.value),required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(ze,{variant:"outline",onClick:()=>h(1),children:"Prcdent"}),s.jsx(ze,{onClick:()=>h(3),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"ticketPrice",children:"Prix du ticket"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(rr,{id:"ticketPrice",type:"number",value:p.ticketPrice,onChange:se=>A("ticketPrice",se.target.value),required:!0}),s.jsxs(_i,{value:p.ticketCurrency,onValueChange:se=>A("ticketCurrency",se),children:[s.jsx(gi,{className:"w-24",children:s.jsx(Ni,{})}),s.jsxs(xi,{children:[s.jsx(on,{value:"XOF",children:"XOF"}),s.jsx(on,{value:"EUR",children:"EUR"}),s.jsx(on,{value:"USD",children:"USD"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"totalTickets",children:"Nombre total de tickets *"}),s.jsx(rr,{id:"totalTickets",type:"number",value:p.totalTickets,onChange:se=>A("totalTickets",se.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"maxTicketsPerUser",children:"Max tickets par personne"}),s.jsx(rr,{id:"maxTicketsPerUser",type:"number",value:p.maxTicketsPerUser,onChange:se=>A("maxTicketsPerUser",se.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"minTicketsRequired",children:"Objectif minimum *"}),s.jsx(rr,{id:"minTicketsRequired",type:"number",value:p.minTicketsRequired,onChange:se=>A("minTicketsRequired",se.target.value),min:"1",max:p.totalTickets,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le tirage ncessite cet objectif minimum de tickets vendus"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsx(kt,{children:"Prix en  (Pi)"}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary flex items-center justify-center gap-2",children:[b," ",s.jsx(Ua,{className:"w-6 h-6"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.ticketPrice," ",p.ticketCurrency," = ",b,""]})]})]}),s.jsx(Yt,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:s.jsxs(Qt,{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-lg mb-3 text-center",children:"Rsum Financier"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:"Revenu total estim"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[N,""]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:"Valeur en FCFA"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(N*g.PI).toLocaleString()," FCFA"]})]})]}),s.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-orange-700 text-center",children:[s.jsx(Kg,{className:"w-4 h-4 inline mr-1"}),s.jsxs("strong",{children:["Objectif minimum : ",p.minTicketsRequired," tickets"]})]})})]})}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"font-semibold",children:"Afficher les tickets restants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer le nombre de tickets disponibles"})]}),s.jsx(Td,{checked:p.showRemainingTickets,onCheckedChange:se=>A("showRemainingTickets",se)})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(ze,{variant:"outline",onClick:()=>h(2),children:"Prcdent"}),s.jsx(ze,{onClick:()=>h(4),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[p.prizes.map(se=>s.jsx(Yt,{className:"border-2",children:s.jsxs(Qt,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(Vr,{className:"text-lg px-3 py-1 bg-primary text-white",children:se.rank===1?" GRAND LOT":se.rank===2?" SECOND LOT":se.rank===3?" TROISIME LOT":`Lot N${se.rank}`})}),p.prizes.length>1&&s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>L(se.id),children:s.jsx(wj,{className:"w-4 h-4 text-destructive"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(kt,{children:"Description du lot *"}),s.jsx(uc,{value:se.description,onChange:he=>T(se.id,"description",he.target.value),placeholder:"Dcrivez le lot en dtail...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(kt,{children:"Valeur estime (FCFA)"}),s.jsx(rr,{type:"number",value:se.value_fcfa,onChange:he=>T(se.id,"value_fcfa",he.target.value),placeholder:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"p-2 bg-muted rounded-lg text-sm w-full",children:[s.jsx("p",{className:"font-semibold",children:"Valeur en "}),s.jsxs("p",{className:"text-primary font-bold",children:[Math.ceil(se.value_fcfa/g.PI),""]})]})})]})]})]})},se.id)),s.jsxs(ze,{variant:"outline",onClick:F,className:"w-full py-6 border-2 border-dashed",children:[s.jsx(Bl,{className:"w-5 h-5 mr-2"})," Ajouter un lot"]})]}),C>0&&s.jsx(Yt,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:s.jsxs(Qt,{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-lg mb-2 text-center",children:"Valeur Totale des Lots"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[C.toLocaleString()," FCFA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valeur totale"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.ceil(C/g.PI),""]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"En pices"})]})]})]})}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(ze,{variant:"outline",onClick:()=>h(3),children:"Prcdent"}),s.jsx(ze,{onClick:()=>h(5),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"font-semibold",children:"Tirage automatique"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Le gagnant est tir automatiquement  la date prvue"})]}),s.jsx(Td,{checked:p.autoDraw,onCheckedChange:se=>A("autoDraw",se)})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"font-semibold",children:"Notifier les participants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Envoyer des notifications aux participants"})]}),s.jsx(Td,{checked:p.notifyParticipants,onCheckedChange:se=>A("notifyParticipants",se)})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"font-semibold",children:"Afficher les participants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer la liste des participants"})]}),s.jsx(Td,{checked:p.showParticipants,onCheckedChange:se=>A("showParticipants",se)})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[s.jsx(rr,{type:"checkbox",checked:p.termsAccepted,onChange:se=>A("termsAccepted",se.target.checked),className:"w-5 h-5 mt-1"}),s.jsxs("div",{children:[s.jsx(kt,{className:"font-semibold",children:"J'accepte les conditions d'utilisation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Je certifie tre le propritaire lgitime de cette tombola et m'engage  respecter les rgles de BonPlanInfos. Je comprends que les transactions se font en  (Pi) et que les taux de conversion sont fixs par la plateforme."})]})]})]}),s.jsx(Yt,{className:"border-2 border-primary/20",children:s.jsxs(Qt,{className:"p-6",children:[s.jsx("h4",{className:"font-bold text-xl mb-4 text-center",children:"Rcapitulatif"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Titre:"}),s.jsx("span",{className:"font-bold",children:p.title||"Non dfini"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Prix du ticket:"}),s.jsxs("span",{className:"font-bold",children:[b," (",p.ticketPrice," ",p.ticketCurrency,")"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total tickets:"}),s.jsx("span",{className:"font-bold",children:p.totalTickets})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Objectif minimum:"}),s.jsxs("span",{className:"font-bold text-orange-600",children:[p.minTicketsRequired," tickets"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Revenu total estim:"}),s.jsxs("span",{className:"font-bold text-primary",children:[N,""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Nombre de lots:"}),s.jsx("span",{className:"font-bold",children:p.prizes.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Date du tirage:"}),s.jsx("span",{className:"font-bold",children:p.drawDate?new Date(p.drawDate).toLocaleDateString("fr-FR"):"Non dfinie"})]}),p.coverImage&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Image de couverture:"}),s.jsx("span",{className:"font-bold text-green-600",children:" Ajoute"})]})]})]})}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(ze,{variant:"outline",onClick:()=>h(4),children:"Prcdent"}),s.jsxs(ze,{onClick:z,disabled:i||!p.termsAccepted,className:"bg-primary hover:bg-primary/90",children:[i?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(qg,{className:"w-4 h-4 mr-2"}),i?"Cration...":"Crer la tombola"]})]})]})];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Crer une Tombola - BonPlanInfos"})}),s.jsx("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs(ze,{variant:"ghost",onClick:()=>n(-1),className:"mb-4",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"})," Retour"]}),s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(el,{className:"w-6 h-6 text-primary"}),"Crer une Tombola"]}),s.jsx(Oa,{children:"Crez votre tombola en quelques tapes simples et commencez  vendre des tickets !"})]}),s.jsxs(Qt,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 relative",children:[s.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-muted -translate-y-1/2 -z-10"}),[1,2,3,4,5].map(se=>s.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all duration-300 ${f===se?"bg-primary text-primary-foreground scale-110":f>se?"bg-green-500 text-white":"bg-muted text-muted-foreground"}`,children:f>se?"":se}),s.jsx("span",{className:`text-xs mt-2 font-medium ${f===se?"text-primary":"text-muted-foreground"}`,children:["Infos","Lieu","Tickets","Lots","Final"][se-1]})]},se))]}),s.jsx("form",{className:"space-y-6",children:X[f-1]()})]})]})]})})]})},Zgt=()=>{const{user:e}=bn(),t=Sa(),[r,n]=j.useState(!1),[i,a]=j.useState(1),[o,l]=j.useState(!1),[c,u]=j.useState(""),[f,h]=j.useState(""),[g,p]=j.useState(100),[S,b]=j.useState(""),[N,C]=j.useState(null),[A,T]=j.useState(["Gnral"]),[F,L]=j.useState(""),[B,M]=j.useState([{id:Pu(),name:"",photo_url:"",description:"",category:"Gnral"}]),W=X=>new Promise((se,he)=>{const ce=new FileReader;ce.onload=ge=>{const we=new Image;we.onload=()=>{const Ce=document.createElement("canvas");Ce.width=we.width,Ce.height=we.height;const Q=Ce.getContext("2d");Q.fillStyle="#FFFFFF",Q.fillRect(0,0,Ce.width,Ce.height),Q.drawImage(we,0,0),Ce.toBlob(le=>{if(le){const ne=new File([le],X.name.replace(/\.[^/.]+$/,"")+".jpg",{type:"image/jpeg"});se(ne)}else he(new Error("Conversion failed"))},"image/jpeg",.9)},we.onerror=Ce=>he(Ce),we.src=ge.target.result},ce.readAsDataURL(X)}),z=async(X,se=null)=>{if(X){l(!0);try{const he=await W(X),ce=`${Date.now()}-${Pu()}.jpg`,ge=se?"candidates":"events",we=`voting/${e.id}/${ge}/${ce}`,{error:Ce}=await Ze.storage.from("media").upload(we,he);if(Ce)throw Ce;const{data:{publicUrl:Q}}=Ze.storage.from("media").getPublicUrl(we);se?M(le=>le.map(ne=>ne.id===se?{...ne,photo_url:Q}:ne)):C(Q),lt({title:"Image tlcharge",description:"Format converti et sauvegard."})}catch(he){console.error("Upload error:",he),lt({title:"Erreur upload",description:he.message,variant:"destructive"})}finally{l(!1)}}},Z=()=>{F.trim()&&!A.includes(F.trim())&&(T([...A,F.trim()]),L(""))},K=X=>{X!=="Gnral"&&(T(A.filter(se=>se!==X)),M(se=>se.map(he=>he.category===X?{...he,category:"Gnral"}:he)))},q=async()=>{if(e){if(!c||!N||B.some(X=>!X.name)){lt({title:"Champs manquants",description:"Veuillez remplir tous les champs obligatoires (*)",variant:"destructive"});return}n(!0);try{const{data:X,error:se}=await Ze.from("events").insert({title:c,description:f,organizer_id:e.id,event_type:"voting",status:"active",cover_image:N,cover_image_url:N,event_date:new Date().toISOString(),city:"Online",country:"Global",tags:A}).select().single();if(se)throw se;const he=Math.ceil(g/10),{error:ce}=await Ze.from("event_settings").insert({event_id:X.id,vote_price_fcfa:g,vote_price_pi:he,voting_enabled:!0,end_date:S||new Date(Date.now()+30*24*60*60*1e3).toISOString(),organizer_rate:95,commission_rate:5});if(ce)throw ce;const ge=B.map(Ce=>({event_id:X.id,name:Ce.name,description:Ce.description,photo_url:Ce.photo_url||null,vote_count:0,category:Ce.category||"Gnral"})),{error:we}=await Ze.from("candidates").insert(ge);if(we)throw we;lt({title:"Concours cr avec succs !",className:"bg-green-600 text-white"}),t(`/event/${X.id}`)}catch(X){console.error(X),lt({title:"Erreur",description:X.message,variant:"destructive"})}finally{n(!1)}}},ie=[{id:1,title:"Dtails",icon:Nu},{id:2,title:"Catgories",icon:Y$},{id:3,title:"Candidats",icon:Zs}],ae=i/ie.length*100;return s.jsxs("div",{className:"min-h-screen bg-black text-white py-8 px-4 sm:px-6 lg:px-8",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Crer un vote - BonPlanInfos"})}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Crer un Concours"}),s.jsx("p",{className:"text-gray-400",children:"Configurez votre vnement, dfinissez des catgories et ajoutez vos candidats."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between mb-4",children:ie.map(X=>s.jsxs("div",{className:`flex flex-col items-center ${i>=X.id?"text-emerald-500":"text-gray-600"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 mb-2 transition-colors ${i>=X.id?"border-emerald-500 bg-emerald-950":"border-gray-700 bg-gray-900"}`,children:s.jsx(X.icon,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:X.title})]},X.id))}),s.jsx(V_,{value:ae,className:"h-1 bg-gray-800",indicatorClassName:"bg-emerald-500"})]}),s.jsxs(Yt,{className:"border-0 bg-gray-900 shadow-xl ring-1 ring-white/10",children:[s.jsxs(Qt,{className:"p-6 sm:p-8",children:[i===1&&s.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{htmlFor:"title",className:"text-gray-300",children:["Titre de l'vnement ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"title",value:c,onChange:X=>u(X.target.value),placeholder:"Ex: Awards de la Musique 2024",className:"pl-10 bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500 focus:border-emerald-500 h-12"}),s.jsx(e1,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"desc",className:"text-gray-300",children:"Description"}),s.jsx(uc,{id:"desc",value:f,onChange:X=>h(X.target.value),placeholder:"Dcrivez le but du concours...",className:"min-h-[120px] bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500 focus:border-emerald-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"price",className:"text-gray-300",children:"Prix du vote (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"price",type:"number",value:g,onChange:X=>p(Number(X.target.value)),min:"0",className:"pl-10 bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500"}),s.jsx(dh,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"})]}),s.jsxs("p",{className:"text-xs text-emerald-400 font-mono",children:[" ",Math.ceil(g/10)," "]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"date",className:"text-gray-300",children:"Fin des votes"}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"date",type:"datetime-local",value:S,onChange:X=>b(X.target.value),className:"pl-10 bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500 [&::-webkit-calendar-picker-indicator]:invert"}),s.jsx(jo,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(kt,{className:"text-gray-300",children:["Image de couverture ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:`border-2 border-dashed rounded-xl h-64 md:h-full flex flex-col items-center justify-center p-4 transition-all ${N?"border-emerald-500/50 bg-emerald-950/10":"border-gray-800 hover:border-gray-600 bg-gray-950"}`,children:N?s.jsxs("div",{className:"relative w-full h-full group",children:[s.jsx("img",{src:N,alt:"Cover",className:"w-full h-full object-cover rounded-lg shadow-sm"}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-lg",children:s.jsx(ze,{variant:"secondary",size:"sm",className:"pointer-events-none",children:"Changer l'image"})}),s.jsx(rr,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:X=>X.target.files[0]&&z(X.target.files[0]),disabled:o})]}):s.jsxs("div",{className:"text-center relative w-full h-full flex flex-col items-center justify-center",children:[o?s.jsx(Zt,{className:"w-10 h-10 text-emerald-500 animate-spin mb-2"}):s.jsx(yj,{className:"w-10 h-10 text-gray-600 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cliquez pour ajouter une image"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"JPG, PNG (Max 5MB)"}),s.jsx(rr,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:X=>X.target.files[0]&&z(X.target.files[0]),disabled:o})]})})]})]})}),i===2&&s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Dfinir les Catgories"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Crez des catgories pour classer vos candidats (ex: Meilleur Acteur, Rvlation, etc.)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(rr,{value:F,onChange:X=>L(X.target.value),placeholder:"Nom de la catgorie...",onKeyDown:X=>X.key==="Enter"&&Z(),className:"bg-gray-950 border-gray-800 text-white focus:ring-emerald-500"}),s.jsxs(ze,{onClick:Z,disabled:!F.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"})," Ajouter"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4",children:A.map((X,se)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-950 border border-gray-800 rounded-lg shadow-sm group hover:border-gray-700 transition-colors",children:[s.jsx("span",{className:"font-medium text-gray-200",children:X}),X!=="Gnral"&&s.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-400 hover:bg-red-950/20",onClick:()=>K(X),children:s.jsx(wl,{className:"w-4 h-4"})})]},se))}),A.length===1&&s.jsxs("div",{className:"bg-blue-950/30 border border-blue-900/50 p-4 rounded-lg text-blue-300 text-sm flex items-center gap-2",children:[s.jsx(Y$,{className:"w-4 h-4"}),`Si vous n'ajoutez pas de catgories, tous les candidats seront dans "Gnral".`]})]}),i===3&&s.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.map((X,se)=>s.jsxs(Yt,{className:"overflow-hidden border-l-4 border-l-emerald-500 bg-gray-950 border-y-gray-800 border-r-gray-800 relative group hover:bg-gray-900 transition-colors",children:[s.jsx(Qt,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsxs("div",{className:"w-24 h-24 bg-gray-900 rounded-lg flex-shrink-0 relative overflow-hidden border border-gray-800 group-hover:border-gray-700",children:[X.photo_url?s.jsx("img",{src:X.photo_url,alt:X.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:s.jsx(Yg,{className:"w-8 h-8"})}),s.jsx(rr,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:he=>he.target.files[0]&&z(he.target.files[0],X.id),disabled:o}),o&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-white animate-spin"})})]}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx(rr,{placeholder:"Nom du candidat *",value:X.name,onChange:he=>M(ce=>ce.map(ge=>ge.id===X.id?{...ge,name:he.target.value}:ge)),className:"font-semibold bg-black/20 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500"}),s.jsxs(_i,{value:X.category,onValueChange:he=>M(ce=>ce.map(ge=>ge.id===X.id?{...ge,category:he}:ge)),children:[s.jsx(gi,{className:"h-8 text-sm bg-black/20 border-gray-800 text-gray-300",children:s.jsx(Ni,{placeholder:"Catgorie"})}),s.jsx(xi,{className:"bg-gray-900 border-gray-800 text-white",children:A.map(he=>s.jsx(on,{value:he,className:"focus:bg-gray-800 focus:text-emerald-400",children:he},he))})]}),s.jsx(uc,{placeholder:"Courte bio...",value:X.description,onChange:he=>M(ce=>ce.map(ge=>ge.id===X.id?{...ge,description:he.target.value}:ge)),className:"h-16 text-xs resize-none bg-black/20 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500"})]})]})}),B.length>1&&s.jsx(ze,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-gray-600 hover:text-red-400 hover:bg-red-950/20",onClick:()=>M(he=>he.filter(ce=>ce.id!==X.id)),children:s.jsx(wj,{className:"w-4 h-4"})})]},X.id)),s.jsxs(ze,{variant:"outline",className:"h-full min-h-[200px] border-dashed border-2 border-gray-800 bg-transparent text-gray-500 flex flex-col gap-2 hover:border-emerald-500/50 hover:text-emerald-500 hover:bg-emerald-950/10 transition-all",onClick:()=>M(X=>[...X,{id:Pu(),name:"",photo_url:"",category:A[0]||"Gnral"}]),children:[s.jsx(Bl,{className:"w-8 h-8"}),s.jsx("span",{children:"Ajouter un candidat"})]})]})})]}),s.jsxs(Zg,{className:"flex justify-between border-t border-gray-800 bg-gray-950 p-6 rounded-b-xl",children:[s.jsxs(ze,{variant:"outline",onClick:()=>a(Math.max(1,i-1)),disabled:i===1||r,className:"border-gray-700 bg-transparent text-gray-300 hover:bg-gray-800 hover:text-white",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"})," Retour"]}),i<3?s.jsxs(ze,{onClick:()=>a(Math.min(3,i+1)),className:"bg-gray-100 text-black hover:bg-white",children:["Suivant ",s.jsx(Cm,{className:"w-4 h-4 ml-2"})]}):s.jsxs(ze,{className:"bg-emerald-600 hover:bg-emerald-700 text-white min-w-[150px] shadow-lg shadow-emerald-900/20",onClick:q,disabled:r||o,children:[r?s.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(e1,{className:"w-4 h-4 mr-2"}),"Publier le Concours"]})]})]})]})]})},Dhe=({onImageUploaded:e,existingImage:t})=>{const[r,n]=j.useState(!1),[i,a]=j.useState(t||null),o=j.useRef(null),l=async u=>{const f=u.target.files[0];if(!f)return;if(!f.type.startsWith("image/")){lt({title:"Format invalide",description:"Veuillez slectionner une image.",variant:"destructive"});return}if(f.size>5*1024*1024){lt({title:"Image trop lourde",description:"La taille maximum est de 5MB.",variant:"destructive"});return}n(!0);const h=URL.createObjectURL(f);a(h);try{const g=f.name.split(".").pop(),p=`event-covers/${Date.now()}-${Math.random().toString(36).substring(2)}.${g}`,{error:S}=await Ze.storage.from("media").upload(p,f,{cacheControl:"3600",upsert:!1});if(S)throw S;const{data:{publicUrl:b}}=Ze.storage.from("media").getPublicUrl(p);console.log("Image uploaded:",b),e(b),lt({title:"Image tlcharge",description:"L'image de couverture a t ajoute avec succs."})}catch(g){console.error("Error uploading image:",g),lt({title:"Erreur",description:"Impossible de tlcharger l'image.",variant:"destructive"}),a(null)}finally{n(!1)}},c=()=>{a(null),e(null),o.current&&(o.current.value="")};return s.jsx("div",{className:"w-full space-y-4",children:s.jsxs("div",{className:`
          relative w-full h-64 border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition-all
          ${i?"border-primary/50 bg-background":"border-muted-foreground/20 bg-muted/5 hover:bg-muted/10 cursor-pointer"}
        `,onClick:()=>{var u;return!i&&((u=o.current)==null?void 0:u.click())},children:[i?s.jsxs("div",{className:"relative w-full h-full group overflow-hidden rounded-xl",children:[s.jsx("img",{src:i,alt:"Cover preview",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs(ze,{variant:"destructive",size:"sm",onClick:u=>{u.stopPropagation(),c()},children:[s.jsx(wl,{className:"w-4 h-4 mr-2"})," Supprimer"]})})]}):s.jsxs("div",{className:"text-center space-y-2 p-6",children:[s.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r?s.jsx(Zt,{className:"w-6 h-6 text-primary animate-spin"}):s.jsx(yj,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"text-sm font-medium",children:[s.jsx("span",{className:"text-primary",children:"Cliquez pour ajouter"})," ou glissez une image ici"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP (max 5MB)"})]}),s.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/*",onChange:l,disabled:r})]})})},pS=(e,t)=>{let r=10;t==="XOF"||t==="XAF"?r=10:t==="EUR"?r=655/10:t==="USD"&&(r=600/10);const n=parseFloat(e)||0;return Math.ceil(n/r)},Qgt=(e,t)=>{const r=parseFloat(e)||0;return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t==="XOF"?"XOF":t,minimumFractionDigits:0,maximumFractionDigits:0}).format(r)},ext=j.memo(({st:e,index:t,onChange:r,onRemove:n,canRemove:i})=>s.jsx(Yt,{className:"relative border-2 border-muted hover:border-primary/30 transition-all group mb-4",children:s.jsxs(Qt,{className:"p-6",children:[s.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[s.jsxs(Vr,{variant:"outline",className:"bg-background",children:["Type #",t+1]}),i&&s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>n(e.id),className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:s.jsx(wj,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Nom du stand *"}),s.jsx(rr,{value:e.name,onChange:a=>r(e.id,"name",a.target.value),placeholder:"Ex: Stand Premium",className:"font-semibold"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Dimensions"}),s.jsx(rr,{value:e.size,onChange:a=>r(e.id,"size",a.target.value),placeholder:"Ex: 9m"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Quantit *"}),s.jsx(rr,{type:"number",min:"1",value:e.quantity_available,onChange:a=>r(e.id,"quantity_available",a.target.value)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Prix unitaire *"}),s.jsx(rr,{type:"number",min:"0",value:e.base_price,onChange:a=>r(e.id,"base_price",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Devise"}),s.jsxs(_i,{value:e.base_currency,onValueChange:a=>r(e.id,"base_currency",a),children:[s.jsx(gi,{children:s.jsx(Ni,{})}),s.jsxs(xi,{children:[s.jsx(on,{value:"XOF",children:"FCFA (XOF)"}),s.jsx(on,{value:"USD",children:"Dollar (USD)"}),s.jsx(on,{value:"EUR",children:"Euro (EUR)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{className:"text-primary font-bold",children:"Prix en Pices (Auto)"}),s.jsxs("div",{className:"h-10 flex items-center px-3 rounded-md bg-primary/10 text-primary font-bold border border-primary/20",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),pS(e.base_price,e.base_currency)," "]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Inclus / Description"}),s.jsx(uc,{value:e.description,onChange:a=>r(e.id,"description",a.target.value),placeholder:"lectricit, Wifi, Mobilier...",rows:2,className:"bg-muted/20"})]})]})})),txt=()=>{const{user:e}=bn(),t=Sa(),[r,n]=j.useState(!1),[i,a]=j.useState([]),[o,l]=j.useState(1),[c,u]=j.useState(""),[f,h]=j.useState(""),[g,p]=j.useState(null),[S,b]=j.useState(""),[N,C]=j.useState(""),[A,T]=j.useState(""),[F,L]=j.useState(""),[B,M]=j.useState(""),[W,z]=j.useState(""),[Z,K]=j.useState(500),[q,ie]=j.useState(!0),[ae,X]=j.useState([{id:Pu(),name:"Stand Standard",base_price:5e4,base_currency:"XOF",quantity_available:10,description:"Espace 3x3m avec table et chaises",size:"3x3m"}]);j.useEffect(()=>{(async()=>{const{data:Ne,error:Se}=await Ze.from("event_categories").select("*").eq("is_active",!0).order("name");Se?console.error("Error fetching categories:",Se):a(Ne||[])})()},[]);const se=j.useCallback((xe,Ne,Se)=>{X(je=>je.map(Ge=>Ge.id===xe?{...Ge,[Ne]:Se}:Ge))},[]),he=()=>{X(xe=>[...xe,{id:Pu(),name:"",base_price:0,base_currency:"XOF",quantity_available:5,description:"",size:"3x3m"}])},ce=j.useCallback(xe=>{X(Ne=>Ne.length>1?Ne.filter(Se=>Se.id!==xe):(lt({title:"Action impossible",description:"Vous devez proposer au moins un type de stand.",variant:"destructive"}),Ne))},[]),ge=()=>{const xe={title:c,categoryId:W,eventDate:S,city:A,country:F};if(Object.keys(xe).filter(je=>!xe[je]).length>0)return lt({title:"Champs manquants",description:"Veuillez remplir tous les champs obligatoires (*)",variant:"destructive"}),!1;const Se=new Date(S);return Se<new Date?(lt({title:"Date invalide",description:"La date de dbut doit tre dans le futur",variant:"destructive"}),!1):N&&new Date(N)<=Se?(lt({title:"Date invalide",description:"La date de fin doit tre aprs la date de dbut",variant:"destructive"}),!1):(g||lt({title:"Image manquante",description:"Une image de couverture est recommande pour attirer les exposants.",variant:"default"}),!0)},we=()=>{for(const xe of ae)if(!xe.name.trim()||xe.base_price<=0||xe.quantity_available<1)return lt({title:"Configuration invalide",description:"Vrifiez que tous les stands ont un nom, un prix valide et une quantit positive.",variant:"destructive"}),!1;return!0},Ce=()=>{o===1&&ge()?l(2):o===2&&we()&&l(3)},Q=()=>l(xe=>Math.max(xe-1,1)),le=async xe=>{if(xe.preventDefault(),!e){lt({title:"Erreur",description:"Session expire. Veuillez vous reconnecter.",variant:"destructive"}),t("/auth");return}if(!(!ge()||!we())){n(!0);try{const{data:Ne,error:Se}=await Ze.from("events").insert({title:c,description:f,event_date:S,end_date:N||null,city:A,country:F,address:B,organizer_id:e.id,event_type:"stand_rental",category_id:W,status:"active",max_participants:Z,is_public:q,cover_image:g,created_at:new Date().toISOString()}).select().single();if(Se)throw Se;const je=Ne.id,{data:Ge,error:De}=await Ze.from("stand_events").insert({event_id:je,base_currency:ae[0].base_currency||"XOF"}).select().single();if(De)throw De;const at=Ge.id,ot=ae.map(Ue=>({stand_event_id:at,event_id:je,name:Ue.name,description:Ue.description,size:Ue.size,base_price:parseFloat(Ue.base_price),base_currency:Ue.base_currency,calculated_price_pi:pS(Ue.base_price,Ue.base_currency),quantity_available:parseInt(Ue.quantity_available),quantity_rented:0,is_active:!0})),{error:ht}=await Ze.from("stand_types").insert(ot);if(ht)throw ht;await Ze.from("event_settings").insert({event_id:je,stands_enabled:!0,total_stands:ae.reduce((Ue,Ct)=>Ue+parseInt(Ct.quantity_available),0),stands_rented:0,created_at:new Date().toISOString()}),lt({title:"Flicitations !",description:"Votre espace de location de stands a t cr avec succs.",className:"bg-green-600 text-white border-none"}),t(`/event/${je}`)}catch(Ne){console.error("Error creating stand event:",Ne),lt({title:"Erreur technique",description:Ne.message||"Impossible de crer l'vnement.",variant:"destructive"})}finally{n(!1)}}},ne=()=>s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(kt,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(yj,{className:"w-5 h-5 text-primary"})," Image de couverture"]}),s.jsxs("div",{className:"bg-muted/30 p-6 rounded-xl border border-dashed border-2 hover:border-primary/50 transition-colors",children:[s.jsx(Dhe,{onImageUploaded:p,existingImage:g,className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Recommand: 1200x630px. Max 5MB."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"title",className:"font-semibold",children:"Titre du salon/foire *"}),s.jsx(rr,{id:"title",value:c,onChange:xe=>u(xe.target.value),placeholder:"Ex: Salon de l'Habitat 2025",required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"category",className:"font-semibold",children:"Catgorie *"}),s.jsxs(_i,{onValueChange:z,value:W,children:[s.jsx(gi,{className:"h-11",children:s.jsx(Ni,{placeholder:"Choisir une catgorie"})}),s.jsx(xi,{children:i.map(xe=>s.jsx(on,{value:xe.id,children:xe.name},xe.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"description",className:"font-semibold",children:"Description complte"}),s.jsx(uc,{id:"description",value:f,onChange:xe=>h(xe.target.value),placeholder:"Dcrivez votre vnement, les opportunits pour les exposants, le public attendu...",className:"min-h-[120px]"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"eventDate",className:"font-semibold",children:"Date de dbut *"}),s.jsx(rr,{id:"eventDate",type:"datetime-local",value:S,onChange:xe=>b(xe.target.value),required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"endDate",className:"font-semibold",children:"Date de fin"}),s.jsx(rr,{id:"endDate",type:"datetime-local",value:N,onChange:xe=>C(xe.target.value),className:"h-11"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"country",className:"font-semibold",children:"Pays *"}),s.jsx(rr,{id:"country",value:F,onChange:xe=>L(xe.target.value),placeholder:"Pays",required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"city",className:"font-semibold",children:"Ville *"}),s.jsx(rr,{id:"city",value:A,onChange:xe=>T(xe.target.value),placeholder:"Ville",required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"address",className:"font-semibold",children:"Lieu / Adresse"}),s.jsx(rr,{id:"address",value:B,onChange:xe=>M(xe.target.value),placeholder:"Palais des Congrs...",className:"h-11"})]})]})]}),ee=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-xl border border-blue-200 dark:border-blue-800 mb-6 flex gap-3",children:[s.jsx(S0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-300",children:"Gagnez 95% des revenus"}),s.jsx("p",{className:"text-sm text-blue-600/80 dark:text-blue-400/80",children:"Configurez vos types de stands (Standard, Premium, Corner...). La plateforme prlve 5% de commission."})]})]}),s.jsx("div",{className:"space-y-4",children:ae.map((xe,Ne)=>s.jsx(ext,{st:xe,index:Ne,onChange:se,onRemove:ce,canRemove:ae.length>1},xe.id))}),s.jsxs(ze,{onClick:he,variant:"outline",className:"w-full py-8 border-dashed border-2 hover:border-primary hover:bg-primary/5 hover:text-primary transition-all",children:[s.jsx(Bl,{className:"w-5 h-5 mr-2"})," Ajouter un autre type de stand"]})]}),pe=()=>{const xe=ae.reduce((Se,je)=>Se+(parseInt(je.quantity_available)||0),0),Ne=ae.reduce((Se,je)=>Se+pS(je.base_price,je.base_currency)*(parseInt(je.quantity_available)||0),0);return s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm flex flex-col md:flex-row gap-6",children:[g&&s.jsx("div",{className:"w-full md:w-1/3 aspect-video rounded-lg overflow-hidden border",children:s.jsx("img",{src:g,alt:"Cover",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:c}),s.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[s.jsx(to,{className:"w-4 h-4"})," ",A,", ",F]}),s.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(jo,{className:"w-4 h-4"})," ",new Date(S).toLocaleDateString()]})]}),s.jsx("div",{className:"p-4 bg-muted rounded-lg text-sm",children:f||s.jsx("span",{className:"italic text-muted-foreground",children:"Aucune description"})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(S0,{className:"w-5 h-5 text-primary"}),"Configuration des Stands"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:ae.map((Se,je)=>s.jsxs("div",{className:"flex justify-between items-center p-4 bg-background border rounded-lg hover:border-primary/30 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:Se.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Se.quantity_available," units  ",Se.size]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-primary text-lg",children:[pS(Se.base_price,Se.base_currency)," "]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Qgt(Se.base_price,Se.base_currency)})]})]},je))}),s.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800 rounded-xl flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"Revenu Potentiel Max (brut)"}),s.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Si les ",xe," stands sont lous"]})]}),s.jsxs("p",{className:"text-3xl font-extrabold text-green-600 dark:text-green-400",children:[Ne," "]})]})]})]})};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Crer un Espace Stands - BonPlanInfos"})}),s.jsx("main",{className:"container mx-auto max-w-4xl px-4 py-8",children:s.jsxs(Yt,{className:"shadow-xl border-primary/10",children:[s.jsxs(Wr,{className:"text-center pb-6 bg-muted/20 border-b",children:[s.jsx(qr,{className:"text-3xl font-bold font-heading",children:"Crer un Espace Stands"}),s.jsx(Oa,{className:"text-base mt-2",children:"Organisez votre salon professionnel en 3 tapes simples"})]}),s.jsxs(Qt,{className:"pt-8 px-6 md:px-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-10 w-full max-w-2xl mx-auto",children:[1,2,3].map(xe=>s.jsxs(Ie.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`
                      w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 font-bold
                      ${o>=xe?"bg-primary text-white border-primary shadow-lg scale-110":"bg-background text-muted-foreground border-muted"}
                    `,children:xe}),s.jsx("span",{className:`text-xs mt-2 font-medium ${o>=xe?"text-primary":"text-muted-foreground"}`,children:xe===1?"Dtails":xe===2?"Stands":"Confirmer"})]}),xe<3&&s.jsx("div",{className:`flex-1 h-1 mx-4 w-12 transition-all duration-500 rounded-full ${o>xe?"bg-primary":"bg-muted"}`})]},xe))}),s.jsxs("div",{className:"mt-8",children:[o===1&&s.jsx(ne,{}),o===2&&s.jsx(ee,{}),o===3&&s.jsx(pe,{})]})]}),s.jsxs(Zg,{className:"flex justify-between border-t bg-muted/20 p-6 md:px-10",children:[o>1?s.jsxs(ze,{onClick:Q,variant:"outline",size:"lg",className:"gap-2",children:[s.jsx(eu,{className:"w-4 h-4"})," Prcdent"]}):s.jsx("div",{}),o<3?s.jsxs(ze,{onClick:Ce,size:"lg",className:"gap-2 shadow-md",children:["Suivant ",s.jsx(Cm,{className:"w-4 h-4"})]}):s.jsxs(ze,{onClick:le,disabled:r,size:"lg",className:"bg-green-600 hover:bg-green-700 text-white gap-2 shadow-lg min-w-[200px]",children:[r?s.jsx(Zt,{className:"w-5 h-5 animate-spin"}):s.jsx(jp,{className:"w-5 h-5"}),"Publier l'vnement"]})]})]})})]})},ON=[{name:"Bleu (Standard)",value:"blue",hex:"bg-blue-500"},{name:"Bronze",value:"bronze",hex:"bg-amber-600"},{name:"Argent",value:"silver",hex:"bg-slate-400"},{name:"Or",value:"gold",hex:"bg-yellow-500"},{name:"Violet (VIP)",value:"purple",hex:"bg-purple-600"},{name:"Rouge",value:"red",hex:"bg-red-500"},{name:"Vert",value:"green",hex:"bg-green-500"},{name:"Noir",value:"black",hex:"bg-slate-900"}],rxt=()=>{const{user:e}=bn(),{adminConfig:t}=Ja(),r=Sa(),[n,i]=j.useState(!1),[a,o]=j.useState([]),[l,c]=j.useState(1),u=(t==null?void 0:t.coin_to_fcfa_rate)||10,[f,h]=j.useState(""),[g,p]=j.useState(""),[S,b]=j.useState(""),[N,C]=j.useState(""),[A,T]=j.useState(""),[F,L]=j.useState(""),[B,M]=j.useState(""),[W,z]=j.useState(""),[Z,K]=j.useState(1e3),[q,ie]=j.useState(!0),[ae,X]=j.useState(!1),[se,he]=j.useState(""),[ce,ge]=j.useState([{id:Pu(),name:"Standard",price:5e3,presale_price:3e3,quantity_available:100,sales_start_date:"",sales_end_date:"",description:"Accs standard  l'vnement",color:"blue"}]);j.useEffect(()=>{(async()=>{const{data:pe,error:xe}=await Ze.from("event_categories").select("*").eq("is_active",!0);xe?console.error("Error fetching categories:",xe):o(pe||[])})()},[]);const we=(ee,pe,xe)=>{ge(ce.map(Ne=>Ne.id===ee?{...Ne,[pe]:xe}:Ne))},Ce=()=>{ge([...ce,{id:Pu(),name:"Nouveau Billet",price:0,presale_price:0,quantity_available:50,sales_start_date:"",sales_end_date:"",description:"",color:"blue"}])},Q=ee=>{if(ce.length<=1){lt({title:"Impossible",description:"Il faut au moins un type de billet.",variant:"destructive"});return}ge(ce.filter(pe=>pe.id!==ee))},le=ee=>Math.ceil(parseInt(ee||0,10)/u),ne=async ee=>{if(ee.preventDefault(),!e){lt({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}if(!f||!S||!A||!W){lt({title:"Erreur",description:"Veuillez remplir les champs obligatoires (Titre, Date, Ville, Catgorie).",variant:"destructive"});return}i(!0);try{console.log("Creating event with image:",f);const{data:pe,error:xe}=await Ze.from("events").insert({title:f,description:g,event_date:S||null,end_date:N||null,city:A,country:F,address:B,cover_image:se,organizer_id:e.id,event_type:"ticketing",category_id:W,status:"active",max_attendees:parseInt(Z,10)||null,is_public:q,requires_approval:ae}).select().single();if(xe)throw xe;const Ne=pe.id,Se=ce.reduce((at,ot)=>at+parseInt(ot.quantity_available||0,10),0),{error:je}=await Ze.from("ticketing_events").insert({event_id:Ne,total_tickets:Se,tickets_sold:0});if(je)throw je;const Ge=ce.map(at=>({event_id:Ne,name:at.name,description:at.description,quantity_available:parseInt(at.quantity_available,10),price:parseInt(at.price,10),price_coins:le(at.price),price_pi:le(at.price),presale_price_fcfa:parseInt(at.presale_price,10),presale_price_pi:le(at.presale_price),sales_start:at.sales_start_date||new Date().toISOString(),sales_end:at.sales_end_date||S,is_active:!0,color:at.color||"blue"})),{error:De}=await Ze.from("ticket_types").insert(Ge);if(De)throw De;lt({title:"Succs",description:"vnement billetterie cr avec succs!"}),setTimeout(()=>{r(`/event/${Ne}`)},1e3)}catch(pe){console.error("Error creating event:",pe),lt({title:"Erreur",description:pe.message,variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 pb-20",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Crer Billetterie - BonPlanInfos"})}),s.jsxs(Yt,{className:"max-w-4xl mx-auto glass-effect shadow-xl border-none",children:[s.jsx(Wr,{className:"border-b border-border/50 pb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(el,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(qr,{className:"text-2xl font-bold",children:"Crer une Billetterie"}),s.jsx(Oa,{children:"Configurez votre vnement, vos billets et vos tarifs."})]})]})}),s.jsx(Qt,{className:"pt-6",children:s.jsxs(O0,{value:String(l),onValueChange:ee=>c(parseInt(ee)),children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-muted rounded-full"}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-primary rounded-full transition-all duration-300 ease-in-out",style:{width:l===1?"33%":l===2?"66%":"100%"}}),s.jsxs(Th,{className:"grid w-full grid-cols-3 bg-transparent p-0",children:[s.jsx(Hn,{value:"1",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary text-base md:text-lg font-medium border-b-2 border-transparent rounded-none pb-2",children:"1. Informations"}),s.jsx(Hn,{value:"2",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary text-base md:text-lg font-medium border-b-2 border-transparent rounded-none pb-2",children:"2. Billets"}),s.jsx(Hn,{value:"3",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary text-base md:text-lg font-medium border-b-2 border-transparent rounded-none pb-2",children:"3. Confirmation"})]})]}),s.jsxs(qn,{value:"1",className:"space-y-6 animate-in fade-in slide-in-from-left-4 duration-300",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{className:"text-base",children:"Image de couverture"}),s.jsx(Dhe,{onImageUploaded:he,existingImage:se})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Titre de l'vnement *"}),s.jsx(rr,{value:f,onChange:ee=>h(ee.target.value),placeholder:"Ex: Concert Gant...",className:"bg-background/50"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Pays"}),s.jsx(rr,{value:F,onChange:ee=>L(ee.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Ville *"}),s.jsx(rr,{value:A,onChange:ee=>T(ee.target.value),className:"bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Adresse prcise"}),s.jsx(rr,{value:B,onChange:ee=>M(ee.target.value),placeholder:"Lieu, Salle, Rue...",className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Catgorie *"}),s.jsxs(_i,{onValueChange:z,value:W,children:[s.jsx(gi,{className:"bg-background/50",children:s.jsx(Ni,{placeholder:"Slectionner une catgorie"})}),s.jsx(xi,{children:a.map(ee=>s.jsx(on,{value:ee.id,children:ee.name},ee.id))})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Description"}),s.jsx(uc,{value:g,onChange:ee=>p(ee.target.value),placeholder:"Dtaillez votre vnement...",className:"min-h-[150px] bg-background/50"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Dbut *"}),s.jsx(rr,{type:"datetime-local",value:S,onChange:ee=>b(ee.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Fin"}),s.jsx(rr,{type:"datetime-local",value:N,onChange:ee=>C(ee.target.value),className:"bg-background/50"})]})]}),s.jsx("div",{className:"flex justify-end mt-8",children:s.jsxs(ze,{onClick:()=>c(2),className:"px-8",children:["Suivant ",s.jsx(Cm,{className:"ml-2 w-4 h-4"})]})})]}),s.jsxs(qn,{value:"2",className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 text-sm flex gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-full h-fit",children:s.jsx(Ua,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-base text-blue-800 dark:text-blue-300",children:"Conversion Automatique"}),s.jsx("p",{className:"text-muted-foreground",children:"Le systme calcule automatiquement le prix en Pices (10 FCFA = 1 ). Les revenus sont partags  95% pour vous."})]})]}),s.jsx("div",{className:"space-y-4",children:ce.map((ee,pe)=>{var xe,Ne,Se;return s.jsx(er.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:pe*.1},children:s.jsx(Yt,{className:"border-l-4 overflow-hidden hover:shadow-md transition-all",style:{borderLeftColor:((xe=ON.find(je=>je.value===ee.color))==null?void 0:xe.hex.replace("bg-",""))||"gray"},children:s.jsxs(Qt,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Vr,{variant:"outline",className:"text-sm px-3 py-1",children:["Billet #",pe+1]}),s.jsx(rr,{value:ee.name,onChange:je=>we(ee.id,"name",je.target.value),className:"font-bold text-lg border-none shadow-none focus-visible:ring-0 px-0 w-auto min-w-[200px]",placeholder:"Nom du billet (ex: VIP)"})]}),ce.length>1&&s.jsx(ze,{variant:"ghost",size:"icon",onClick:()=>Q(ee.id),className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:s.jsx(wj,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Quantit disponible"}),s.jsx(rr,{type:"number",value:ee.quantity_available,onChange:je=>we(ee.id,"quantity_available",je.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Couleur du billet"}),s.jsxs(_i,{value:ee.color,onValueChange:je=>we(ee.id,"color",je),children:[s.jsx(gi,{className:"bg-background/50",children:s.jsx(Ni,{placeholder:"Choisir une couleur",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${(Ne=ON.find(je=>je.value===ee.color))==null?void 0:Ne.hex}`}),s.jsx("span",{children:(Se=ON.find(je=>je.value===ee.color))==null?void 0:Se.name})]})})}),s.jsx(xi,{children:ON.map(je=>s.jsx(on,{value:je.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${je.hex}`}),s.jsx("span",{children:je.name})]})},je.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Description courte"}),s.jsx(rr,{value:ee.description,onChange:je=>we(ee.id,"description",je.target.value),placeholder:"Avantages inclus...",className:"bg-background/50"})]})]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl space-y-4 border border-border/50",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(kt,{className:"text-orange-600 font-bold flex items-center gap-2",children:[s.jsx("span",{children:"Prix Prvente (J-1)"}),s.jsx(Vr,{variant:"secondary",className:"text-[10px] h-5",children:"Promo"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(rr,{type:"number",value:ee.presale_price,onChange:je=>we(ee.id,"presale_price",je.target.value),className:"pr-12 bg-background"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:"FCFA"})]}),s.jsxs(Vr,{variant:"outline",className:"h-10 px-3 text-base font-medium min-w-[80px] justify-center",children:[le(ee.presale_price)," "]})]})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-dashed border-border",children:[s.jsx(kt,{className:"text-green-600 font-bold",children:"Prix Jour J (J-0)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(rr,{type:"number",value:ee.price,onChange:je=>we(ee.id,"price",je.target.value),className:"pr-12 bg-background"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:"FCFA"})]}),s.jsxs(Vr,{variant:"outline",className:"h-10 px-3 text-base font-medium min-w-[80px] justify-center",children:[le(ee.price)," "]})]})]})]})]})]})})},ee.id)})}),s.jsx(ze,{variant:"outline",onClick:Ce,className:"w-full py-8 border-dashed border-2 hover:border-primary hover:text-primary transition-all group",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Bl,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),s.jsx("span",{children:"Ajouter un autre type de billet"})]})}),s.jsxs("div",{className:"flex justify-between pt-8 border-t border-border",children:[s.jsxs(ze,{variant:"outline",onClick:()=>c(1),className:"px-6",children:[s.jsx(eu,{className:"mr-2 w-4 h-4"})," Retour"]}),s.jsxs(ze,{onClick:()=>c(3),className:"px-8",children:["Suivant ",s.jsx(Cm,{className:"ml-2 w-4 h-4"})]})]})]}),s.jsxs(qn,{value:"3",className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsx(Yt,{className:"border-dashed border-2",children:s.jsxs(Qt,{className:"p-8 text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(vl,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold",children:"Prt  publier ?"}),s.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto",children:["Votre vnement ",s.jsx("strong",{children:f})," est prt.",s.jsx("br",{}),s.jsxs("span",{className:"flex items-center justify-center gap-2 font-medium text-green-600 mt-2",children:[s.jsx(S_,{className:"w-4 h-4"}),"Livraison automatique via WhatsApp"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto text-left bg-muted/30 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"Date"}),s.jsx("span",{className:"font-medium",children:new Date(S).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"Lieu"}),s.jsx("span",{className:"font-medium",children:A})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"Billets"}),s.jsxs("span",{className:"font-medium",children:[ce.reduce((ee,pe)=>ee+parseInt(pe.quantity_available),0)," total"]})]})]})]})}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(ze,{variant:"outline",onClick:()=>c(2),className:"px-6",children:[s.jsx(eu,{className:"mr-2 w-4 h-4"})," Retour"]}),s.jsxs(ze,{onClick:ne,disabled:n,size:"lg",className:"px-8 bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",children:[n?s.jsx(Zt,{className:"animate-spin mr-2"}):s.jsx(bj,{className:"mr-2 w-4 h-4"}),"Confirmer et Publier"]})]})]})]})})]})]})},nxt=()=>{const[e]=B4(),{toast:t}=js(),r=Sa();bn();const n=e.get("amount");e.get("packId"),e.get("type");const i=e.get("from")||"/packs",a="https://www.pay.moneyfusion.net/acheter-votre-pack-ici_1760809319837/",o="https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/596514675056f152f9b271c249be25a8.jpg",l=c=>{navigator.clipboard.writeText(c),t({title:"Copi !",description:"Le lien de paiement a t copi dans le presse-papiers."})};return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/50 to-background flex items-center justify-center p-4",children:s.jsxs(Yt,{className:"w-full max-w-md shadow-2xl glass-effect",children:[s.jsxs(Wr,{className:"text-center relative",children:[s.jsx(ze,{variant:"ghost",size:"icon",className:"absolute top-4 left-4",onClick:()=>r(i),children:s.jsx(eu,{className:"h-5 w-5"})}),s.jsx(qr,{className:"text-2xl font-bold pt-8",children:"Finalisez votre paiement"}),s.jsx(Oa,{children:"Scannez le QR code ou utilisez le lien ci-dessous."})]}),s.jsxs(Qt,{className:"flex flex-col items-center gap-6",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-inner",children:s.jsx("img",{src:o,alt:"Scannez pour payer avec MoneyFusion",className:"w-64 h-64"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold",children:"Montant  payer"}),s.jsxs("p",{className:"text-3xl font-bold text-primary",children:[Number(n).toLocaleString()," FCFA"]})]}),s.jsxs("div",{className:"instructions text-left w-full mt-2",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2 text-center",children:" Remplissez le formulaire sur MoneyFusion avec:"}),s.jsxs("ul",{className:"list-none space-y-2 text-muted-foreground bg-secondary/30 p-4 rounded-md",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Montant:"})," ",Number(n).toLocaleString()," FCFA"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Nom & Prnoms:"})," Votre nom complet"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Numro Mobile Money:"})," Votre numro de paiement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Email:"})," L'email de votre compte Bonplaninfos"]})]})]}),s.jsxs("div",{className:"w-full flex flex-col gap-3",children:[s.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:s.jsxs(ze,{className:"w-full gradient-green text-primary-foreground shadow-lg",children:[" Aller sur MoneyFusion pour payer ",s.jsx(XD,{className:"w-4 h-4 ml-2"})]})}),s.jsxs(ze,{variant:"outline",onClick:()=>l(a),children:["Copier le lien de paiement ",s.jsx(F2,{className:"w-4 h-4 ml-2"})]})]}),s.jsxs("div",{className:"important-notice text-xs text-center bg-destructive/10 text-destructive-foreground p-3 rounded-md border border-destructive/20 w-full",children:[s.jsx("strong",{children:" Important:"})," Utilisez l'email de votre compte Bonplaninfos pour que vos pices soient crdites automatiquement ou votre licence soit active."]}),s.jsx(Bo,{to:i,children:s.jsx(ze,{variant:"link",className:"mt-4 text-muted-foreground",children:"Retour  la boutique"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Informations de paiement manquantes"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Impossible de gnrer la page de paiement."}),s.jsx(ze,{onClick:()=>r(i),children:"Retour"})]})},axt=()=>{const[e,t]=j.useState({title:"",description:"",category_id:null,event_date:"",location:"",city:"",country:"",price_fcfa:0,is_protected:!1,cover_image_file:null}),[r,n]=j.useState(!1),[i,a]=j.useState([]),[o,l]=j.useState(""),c=Sa(),{user:u}=bn(),{userProfile:f}=Ja();j.useEffect(()=>{f&&t(C=>({...C,country:f.country||"",city:f.city||""})),(async()=>{n(!0);const{data:C,error:A}=await Ze.from("event_categories").select("id, name").eq("is_active",!0).order("name");A?lt({title:"Erreur",description:"Impossible de charger les catgories.",variant:"destructive"}):a(C),n(!1)})()},[f]);const h=(N,C)=>{t(A=>({...A,[N]:C}))},g=N=>{const C=N.target.files[0];if(C){if(C.size>2*1024*1024){lt({title:"Fichier trop volumineux",description:"L'image ne doit pas dpasser 2MB.",variant:"destructive"});return}h("cover_image_file",C),l(URL.createObjectURL(C))}},p=bl.convertFcfaToCoins(e.price_fcfa),S=e.title&&e.event_date&&e.location&&e.city&&e.country&&e.category_id,b=async N=>{if(N.preventDefault(),!S){lt({title:"Champs requis",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}n(!0);try{let C=null;if(e.cover_image_file){const L=e.cover_image_file.name.replace(/[^a-zA-Z0-9-_\.]/g,"_"),B=`events/${u.id}/${Pu()}-${L}`,{data:M,error:W}=await Ze.storage.from("media").upload(B,e.cover_image_file);if(W)throw W;const{data:z}=Ze.storage.from("media").getPublicUrl(M.path);C=z.publicUrl}const A={title:e.title,description:e.description,category_id:e.category_id,event_type:e.is_protected?"protected":"standard",event_date:e.event_date,location:e.location,address:e.location,city:e.city,country:e.country,price_fcfa:e.is_protected?0:e.price_fcfa,price_pi:e.is_protected?2:p,organizer_id:u.id,status:"active",cover_image:C},{data:T,error:F}=await Ze.from("events").insert(A).select().single();if(F)throw F;lt({title:"vnement cr!",description:"Votre vnement a t publi avec succs."}),c(`/event/${T.id}`)}catch(C){lt({title:"Erreur",description:C.message,variant:"destructive"})}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Crer un vnement Standard"})}),s.jsx("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsxs(ze,{variant:"ghost",onClick:()=>c(-1),className:"mb-4",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"})," Retour"]}),s.jsxs(Yt,{children:[s.jsxs(Wr,{children:[s.jsx(qr,{children:"Crer un vnement Standard"}),s.jsx(Oa,{children:"Remplissez les informations de base de votre vnement."})]}),s.jsx(Qt,{children:s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"title",children:"Titre de l'vnement *"}),s.jsx(rr,{id:"title",value:e.title,onChange:N=>h("title",N.target.value),required:!0,className:"text-lg font-bold p-4 bg-transparent border-0 border-b-2 border-input focus:ring-0 focus:border-primary transition-all duration-300 ease-in-out placeholder-muted-foreground/50 bg-gradient-to-r from-primary/5 to-accent/5",placeholder:"Un titre qui claque !"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"description",children:"Description"}),s.jsx(uc,{id:"description",value:e.description,onChange:N=>h("description",N.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{children:"Image de couverture"}),o&&s.jsx("img",{className:"w-full h-auto rounded-lg max-h-60 object-cover",alt:"Aperu de l'vnement",src:o}),s.jsx(rr,{type:"file",accept:"image/*",onChange:g})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"category",children:"Catgorie *"}),s.jsxs(_i,{value:e.category_id||"",onValueChange:N=>h("category_id",N),children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Choisir une catgorie..."})}),s.jsx(xi,{children:i.map(N=>s.jsx(on,{value:N.id,children:N.name},N.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"event_date",children:"Date et Heure *"}),s.jsx(rr,{id:"event_date",type:"datetime-local",value:e.event_date,onChange:N=>h("event_date",N.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"location",children:"Lieu (Adresse) *"}),s.jsx(rr,{id:"location",value:e.location,onChange:N=>h("location",N.target.value),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"city",children:"Ville *"}),s.jsx(rr,{id:"city",value:e.city,onChange:N=>h("city",N.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"country",children:"Pays *"}),s.jsx(rr,{id:"country",value:e.country,onChange:N=>h("country",N.target.value),disabled:!0})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(kt,{htmlFor:"is_protected",className:"flex items-center gap-2",children:[s.jsx(nc,{className:"w-5 h-5 text-primary"}),` Rendre l'vnement "protg"`]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Les utilisateurs paieront 2 pour chaque interaction. Vous gagnez 1 par interaction payante."})]}),s.jsx(Td,{id:"is_protected",checked:e.is_protected,onCheckedChange:N=>h("is_protected",N)})]}),!e.is_protected&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"price_fcfa",children:"Prix d'entre (FCFA)"}),s.jsx(rr,{id:"price_fcfa",type:"number",value:e.price_fcfa,onChange:N=>h("price_fcfa",parseInt(N.target.value)||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Ua,{className:"w-3 h-3"})," ",p," Pices"]})]})]}),s.jsx(ze,{type:"submit",disabled:r||!S,className:"w-full",children:r?s.jsx(Zt,{className:"animate-spin mr-2"}):"Crer l'vnement"})]})})]})]})})]})},ixt=()=>{const[e,t]=j.useState({name:"",description:"",type_id:"",address:"",city:"",country:"Cte d'Ivoire",google_maps_link:"",website:"",phone_number:"",images_files:[]}),[r,n]=j.useState([]),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),f=Sa(),{user:h}=bn();j.useEffect(()=>{(async()=>{const{data:W,error:z}=await Ze.from("location_types").select("id, name").eq("is_active",!0).order("name");z?lt({title:"Erreur",description:"Impossible de charger les types de lieux."}):n(W)})()},[]);const g=(M,W)=>{t(z=>({...z,[M]:W}))},p=M=>{t(W=>({...W,country:M,city:""}))},S=M=>{if(M.target.files.length>5){lt({title:"Trop d'images",description:"Vous ne pouvez tlverser que 5 images maximum.",variant:"destructive"});return}t(W=>({...W,images_files:[...M.target.files]}))},b=M=>{t(W=>({...W,images_files:W.images_files.filter((z,Z)=>Z!==M)}))},N=async M=>{if(M.preventDefault(),!h){lt({title:"Authentification requise",description:"Veuillez vous connecter pour ajouter un lieu.",variant:"destructive"}),f("/auth");return}a(!0);try{let W=[];if(e.images_files.length>0)for(const K of e.images_files){const q=`locations/${h.id}/${Pu()}-${K.name}`,{data:ie,error:ae}=await Ze.storage.from("media").upload(q,K);if(ae)throw ae;const{data:X}=Ze.storage.from("media").getPublicUrl(ie.path);W.push(X.publicUrl)}const z={name:e.name,description:e.description,type_id:e.type_id,address:e.address,city:e.city,country:e.country,google_maps_link:e.google_maps_link,website:e.website,phone_number:e.phone_number,images:W,user_id:h.id},{error:Z}=await Ze.from("locations").insert(z);if(Z)throw Z;lt({title:"Lieu ajout!",description:"Merci pour votre contribution!"}),f("/discover")}catch(W){lt({title:"Erreur",description:W.message,variant:"destructive"})}finally{a(!1)}},C=async()=>{if(!h){lt({title:"Authentification requise",description:"Veuillez vous connecter.",variant:"destructive"});return}l(!0);try{t({name:"",description:"",type_id:"",address:"",city:"",country:"Cte d'Ivoire",google_maps_link:"",website:"",phone_number:"",images_files:[]}),lt({title:"Formulaire vid",description:"Tous les champs ont t rinitialiss."})}catch{lt({title:"Erreur",description:"Impossible de vider le formulaire.",variant:"destructive"})}finally{l(!1),u(!1)}},A=()=>{u(!0)},T=()=>{u(!1)},F=j.useCallback(()=>e.country?H2[e.country]||[]:[],[e.country]),L=e.name&&e.type_id&&e.address&&e.city&&e.country,B=e.name||e.description||e.type_id||e.address||e.city||e.google_maps_link||e.website||e.phone_number||e.images_files.length>0;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Ajouter un lieu"})}),s.jsxs("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:[s.jsxs(ze,{variant:"ghost",onClick:()=>f(-1),className:"mb-4",children:[s.jsx(eu,{className:"w-4 h-4 mr-2"})," Retour"]}),s.jsxs(Yt,{children:[s.jsx(Wr,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(qr,{children:"Ajouter un nouveau lieu"}),s.jsx(Oa,{children:"Partagez vos bons plans avec la communaut."})]}),B&&s.jsxs(ze,{type:"button",variant:"destructive",size:"sm",onClick:A,disabled:o,children:[s.jsx(Vo,{className:"w-4 h-4 mr-2"}),o?"Suppression...":"Tout supprimer"]})]})}),s.jsxs(Qt,{children:[c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(Yt,{className:"w-full max-w-md mx-4",children:[s.jsxs(Wr,{children:[s.jsx(qr,{className:"text-destructive",children:"Confirmer la suppression"}),s.jsx(Oa,{children:"tes-vous sr de vouloir supprimer toutes les donnes du formulaire ? Cette action est irrversible."})]}),s.jsx(Qt,{children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(ze,{variant:"outline",onClick:T,disabled:o,children:"Annuler"}),s.jsxs(ze,{variant:"destructive",onClick:C,disabled:o,children:[o?s.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Supprimer tout"]})]})})]})}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(kt,{htmlFor:"name",children:"Nom du lieu *"}),s.jsx(rr,{id:"name",value:e.name,onChange:M=>g("name",M.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"type_id",children:"Type de lieu *"}),s.jsxs(_i,{value:e.type_id,onValueChange:M=>g("type_id",M),children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Choisir un type..."})}),s.jsx(xi,{children:r.map(M=>s.jsx(on,{value:M.id,children:M.name},M.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"address",children:"Adresse *"}),s.jsx(rr,{id:"address",value:e.address,onChange:M=>g("address",M.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"country",children:"Pays *"}),s.jsxs(_i,{value:e.country,onValueChange:p,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Choisir un pays..."})}),s.jsx(xi,{children:l5.map(M=>s.jsx(on,{value:M.name,children:M.name},M.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"city",children:"Ville *"}),s.jsxs(_i,{value:e.city,onValueChange:M=>g("city",M),disabled:!e.country||F().length===0,children:[s.jsx(gi,{children:s.jsx(Ni,{placeholder:"Choisir une ville..."})}),s.jsx(xi,{children:F().map(M=>s.jsx(on,{value:M,children:M},M))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"description",children:"Description"}),s.jsx(uc,{id:"description",value:e.description,onChange:M=>g("description",M.target.value)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(kt,{htmlFor:"images",children:"Images (5 max)"}),s.jsx(rr,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:S}),e.images_files.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:Array.from(e.images_files).map((M,W)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(M),alt:`Preview ${W+1}`,className:"w-full h-24 object-cover rounded-lg border"}),s.jsx(ze,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(W),children:s.jsx(wl,{className:"w-3 h-3"})}),s.jsx("div",{className:"text-xs text-center mt-1 truncate",children:M.name})]},W))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"google_maps_link",children:"Lien Google Maps"}),s.jsx(rr,{id:"google_maps_link",value:e.google_maps_link,onChange:M=>g("google_maps_link",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"website",children:"Site Web"}),s.jsx(rr,{id:"website",value:e.website,onChange:M=>g("website",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kt,{htmlFor:"phone_number",children:"Tlphone"}),s.jsx(rr,{id:"phone_number",value:e.phone_number,onChange:M=>g("phone_number",M.target.value)})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(ze,{type:"button",variant:"outline",onClick:()=>f(-1),className:"flex-1",children:"Annuler"}),s.jsx(ze,{type:"submit",disabled:i||!L,className:"flex-1",children:i?s.jsx(Zt,{className:"animate-spin mr-2"}):"Ajouter le lieu"})]})]})]})]})]})]})};var Sn;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Sn||(Sn={}));var mY=new Map([[Sn.QR_CODE,"QR_CODE"],[Sn.AZTEC,"AZTEC"],[Sn.CODABAR,"CODABAR"],[Sn.CODE_39,"CODE_39"],[Sn.CODE_93,"CODE_93"],[Sn.CODE_128,"CODE_128"],[Sn.DATA_MATRIX,"DATA_MATRIX"],[Sn.MAXICODE,"MAXICODE"],[Sn.ITF,"ITF"],[Sn.EAN_13,"EAN_13"],[Sn.EAN_8,"EAN_8"],[Sn.PDF_417,"PDF_417"],[Sn.RSS_14,"RSS_14"],[Sn.RSS_EXPANDED,"RSS_EXPANDED"],[Sn.UPC_A,"UPC_A"],[Sn.UPC_E,"UPC_E"],[Sn.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),pY;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(pY||(pY={}));function sxt(e){return Object.values(Sn).includes(e)}var BA;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(BA||(BA={}));var oxt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[BA.SCAN_TYPE_CAMERA,BA.SCAN_TYPE_FILE],e}(),Rhe=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!mY.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,mY.get(t))},e}(),gY=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),$F;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})($F||($F={}));var lxt=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:$F.UNKWOWN_ERROR}},e}(),cxt=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Z0(e){return typeof e>"u"||e===null}var Qv=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Mhe=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),l=0,c=o;l<c.length;l++){var u=c[l];if(a.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),UF={exports:{}};(function(e,t){(function(r,n){n(t)})(Rs,function(r){function n(ke){return ke==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,m){ke.__proto__=m}||function(ke,m){for(var y in m)m.hasOwnProperty(y)&&(ke[y]=m[y])};function a(ke,m){i(ke,m);function y(){this.constructor=ke}ke.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}function o(ke,m){var y=Object.setPrototypeOf;y?y(ke,m):ke.__proto__=m}function l(ke,m){m===void 0&&(m=ke.constructor);var y=Error.captureStackTrace;y&&y(ke,m)}var c=function(ke){a(m,ke);function m(y){var w=this.constructor,E=ke.call(this,y)||this;return Object.defineProperty(E,"name",{value:w.name,enumerable:!1}),o(E,w.prototype),l(E),E}return m}(Error);class u extends c{constructor(m=void 0){super(m),this.message=m}getKind(){return this.constructor.kind}}u.kind="Exception";class f extends u{}f.kind="ArgumentException";class h extends u{}h.kind="IllegalArgumentException";class g{constructor(m){if(this.binarizer=m,m===null)throw new h("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(m,y){return this.binarizer.getBlackRow(m,y)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(m,y,w,E){const P=this.binarizer.getLuminanceSource().crop(m,y,w,E);return new g(this.binarizer.createBinarizer(P))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const m=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new g(this.binarizer.createBinarizer(m))}rotateCounterClockwise45(){const m=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new g(this.binarizer.createBinarizer(m))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class p extends u{static getChecksumInstance(){return new p}}p.kind="ChecksumException";class S{constructor(m){this.source=m}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(m,y,w,E,P){for(;P--;)w[E++]=m[y++]}static currentTimeMillis(){return Date.now()}}class N extends u{}N.kind="IndexOutOfBoundsException";class C extends N{constructor(m=void 0,y=void 0){super(y),this.index=m,this.message=y}}C.kind="ArrayIndexOutOfBoundsException";class A{static fill(m,y){for(let w=0,E=m.length;w<E;w++)m[w]=y}static fillWithin(m,y,w,E){A.rangeCheck(m.length,y,w);for(let P=y;P<w;P++)m[P]=E}static rangeCheck(m,y,w){if(y>w)throw new h("fromIndex("+y+") > toIndex("+w+")");if(y<0)throw new C(y);if(w>m)throw new C(w)}static asList(...m){return m}static create(m,y,w){return Array.from({length:m}).map(P=>Array.from({length:y}).fill(w))}static createInt32Array(m,y,w){return Array.from({length:m}).map(P=>Int32Array.from({length:y}).fill(w))}static equals(m,y){if(!m||!y||!m.length||!y.length||m.length!==y.length)return!1;for(let w=0,E=m.length;w<E;w++)if(m[w]!==y[w])return!1;return!0}static hashCode(m){if(m===null)return 0;let y=1;for(const w of m)y=31*y+w;return y}static fillUint8Array(m,y){for(let w=0;w!==m.length;w++)m[w]=y}static copyOf(m,y){return m.slice(0,y)}static copyOfUint8Array(m,y){if(m.length<=y){const w=new Uint8Array(y);return w.set(m),w}return m.slice(0,y)}static copyOfRange(m,y,w){const E=w-y,P=new Int32Array(E);return b.arraycopy(m,y,P,0,E),P}static binarySearch(m,y,w){w===void 0&&(w=A.numberComparator);let E=0,P=m.length-1;for(;E<=P;){const D=P+E>>1,V=w(y,m[D]);if(V>0)E=D+1;else if(V<0)P=D-1;else return D}return-E-1}static numberComparator(m,y){return m-y}}class T{static numberOfTrailingZeros(m){let y;if(m===0)return 32;let w=31;return y=m<<16,y!==0&&(w-=16,m=y),y=m<<8,y!==0&&(w-=8,m=y),y=m<<4,y!==0&&(w-=4,m=y),y=m<<2,y!==0&&(w-=2,m=y),w-(m<<1>>>31)}static numberOfLeadingZeros(m){if(m===0)return 32;let y=1;return m>>>16||(y+=16,m<<=16),m>>>24||(y+=8,m<<=8),m>>>28||(y+=4,m<<=4),m>>>30||(y+=2,m<<=2),y-=m>>>31,y}static toHexString(m){return m.toString(16)}static toBinaryString(m){return String(parseInt(String(m),2))}static bitCount(m){return m=m-(m>>>1&1431655765),m=(m&858993459)+(m>>>2&858993459),m=m+(m>>>4)&252645135,m=m+(m>>>8),m=m+(m>>>16),m&63}static truncDivision(m,y){return Math.trunc(m/y)}static parseInt(m,y=void 0){return parseInt(m,y)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(m,y){m===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=m,y==null?this.bits=F.makeArray(m):this.bits=y)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(m){if(m>this.bits.length*32){const y=F.makeArray(m);b.arraycopy(this.bits,0,y,0,this.bits.length),this.bits=y}}get(m){return(this.bits[Math.floor(m/32)]&1<<(m&31))!==0}set(m){this.bits[Math.floor(m/32)]|=1<<(m&31)}flip(m){this.bits[Math.floor(m/32)]^=1<<(m&31)}getNextSet(m){const y=this.size;if(m>=y)return y;const w=this.bits;let E=Math.floor(m/32),P=w[E];P&=~((1<<(m&31))-1);const D=w.length;for(;P===0;){if(++E===D)return y;P=w[E]}const V=E*32+T.numberOfTrailingZeros(P);return V>y?y:V}getNextUnset(m){const y=this.size;if(m>=y)return y;const w=this.bits;let E=Math.floor(m/32),P=~w[E];P&=~((1<<(m&31))-1);const D=w.length;for(;P===0;){if(++E===D)return y;P=~w[E]}const V=E*32+T.numberOfTrailingZeros(P);return V>y?y:V}setBulk(m,y){this.bits[Math.floor(m/32)]=y}setRange(m,y){if(y<m||m<0||y>this.size)throw new h;if(y===m)return;y--;const w=Math.floor(m/32),E=Math.floor(y/32),P=this.bits;for(let D=w;D<=E;D++){const V=D>w?0:m&31,oe=(2<<(D<E?31:y&31))-(1<<V);P[D]|=oe}}clear(){const m=this.bits.length,y=this.bits;for(let w=0;w<m;w++)y[w]=0}isRange(m,y,w){if(y<m||m<0||y>this.size)throw new h;if(y===m)return!0;y--;const E=Math.floor(m/32),P=Math.floor(y/32),D=this.bits;for(let V=E;V<=P;V++){const J=V>E?0:m&31,be=(2<<(V<P?31:y&31))-(1<<J)&4294967295;if((D[V]&be)!==(w?be:0))return!1}return!0}appendBit(m){this.ensureCapacity(this.size+1),m&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(m,y){if(y<0||y>32)throw new h("Num bits must be between 0 and 32");this.ensureCapacity(this.size+y);for(let w=y;w>0;w--)this.appendBit((m>>w-1&1)===1)}appendBitArray(m){const y=m.size;this.ensureCapacity(this.size+y);for(let w=0;w<y;w++)this.appendBit(m.get(w))}xor(m){if(this.size!==m.size)throw new h("Sizes don't match");const y=this.bits;for(let w=0,E=y.length;w<E;w++)y[w]^=m.bits[w]}toBytes(m,y,w,E){for(let P=0;P<E;P++){let D=0;for(let V=0;V<8;V++)this.get(m)&&(D|=1<<7-V),m++;y[w+P]=D}}getBitArray(){return this.bits}reverse(){const m=new Int32Array(this.bits.length),y=Math.floor((this.size-1)/32),w=y+1,E=this.bits;for(let P=0;P<w;P++){let D=E[P];D=D>>1&1431655765|(D&1431655765)<<1,D=D>>2&858993459|(D&858993459)<<2,D=D>>4&252645135|(D&252645135)<<4,D=D>>8&16711935|(D&16711935)<<8,D=D>>16&65535|(D&65535)<<16,m[y-P]=D}if(this.size!==w*32){const P=w*32-this.size;let D=m[0]>>>P;for(let V=1;V<w;V++){const J=m[V];D|=J<<32-P,m[V-1]=D,D=J>>>P}m[w-1]=D}this.bits=m}static makeArray(m){return new Int32Array(Math.floor((m+31)/32))}equals(m){if(!(m instanceof F))return!1;const y=m;return this.size===y.size&&A.equals(this.bits,y.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let m="";for(let y=0,w=this.size;y<w;y++)y&7||(m+=" "),m+=this.get(y)?"X":".";return m}clone(){return new F(this.size,this.bits.slice())}}var L;(function(ke){ke[ke.OTHER=0]="OTHER",ke[ke.PURE_BARCODE=1]="PURE_BARCODE",ke[ke.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ke[ke.TRY_HARDER=3]="TRY_HARDER",ke[ke.CHARACTER_SET=4]="CHARACTER_SET",ke[ke.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ke[ke.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ke[ke.ASSUME_GS1=7]="ASSUME_GS1",ke[ke.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ke[ke.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ke[ke.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(L||(L={}));var B=L;class M extends u{static getFormatInstance(){return new M}}M.kind="FormatException";var W;(function(ke){ke[ke.Cp437=0]="Cp437",ke[ke.ISO8859_1=1]="ISO8859_1",ke[ke.ISO8859_2=2]="ISO8859_2",ke[ke.ISO8859_3=3]="ISO8859_3",ke[ke.ISO8859_4=4]="ISO8859_4",ke[ke.ISO8859_5=5]="ISO8859_5",ke[ke.ISO8859_6=6]="ISO8859_6",ke[ke.ISO8859_7=7]="ISO8859_7",ke[ke.ISO8859_8=8]="ISO8859_8",ke[ke.ISO8859_9=9]="ISO8859_9",ke[ke.ISO8859_10=10]="ISO8859_10",ke[ke.ISO8859_11=11]="ISO8859_11",ke[ke.ISO8859_13=12]="ISO8859_13",ke[ke.ISO8859_14=13]="ISO8859_14",ke[ke.ISO8859_15=14]="ISO8859_15",ke[ke.ISO8859_16=15]="ISO8859_16",ke[ke.SJIS=16]="SJIS",ke[ke.Cp1250=17]="Cp1250",ke[ke.Cp1251=18]="Cp1251",ke[ke.Cp1252=19]="Cp1252",ke[ke.Cp1256=20]="Cp1256",ke[ke.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ke[ke.UTF8=22]="UTF8",ke[ke.ASCII=23]="ASCII",ke[ke.Big5=24]="Big5",ke[ke.GB18030=25]="GB18030",ke[ke.EUC_KR=26]="EUC_KR"})(W||(W={}));class z{constructor(m,y,w,...E){this.valueIdentifier=m,this.name=w,typeof y=="number"?this.values=Int32Array.from([y]):this.values=y,this.otherEncodingNames=E,z.VALUE_IDENTIFIER_TO_ECI.set(m,this),z.NAME_TO_ECI.set(w,this);const P=this.values;for(let D=0,V=P.length;D!==V;D++){const J=P[D];z.VALUES_TO_ECI.set(J,this)}for(const D of E)z.NAME_TO_ECI.set(D,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(m){if(m<0||m>=900)throw new M("incorect value");const y=z.VALUES_TO_ECI.get(m);if(y===void 0)throw new M("incorect value");return y}static getCharacterSetECIByName(m){const y=z.NAME_TO_ECI.get(m);if(y===void 0)throw new M("incorect value");return y}equals(m){if(!(m instanceof z))return!1;const y=m;return this.getName()===y.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(W.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(W.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(W.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(W.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(W.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(W.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(W.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(W.Big5,28,"Big5"),z.GB18030=new z(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(W.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends u{}Z.kind="UnsupportedOperationException";class K{static decode(m,y){const w=this.encodingName(y);return this.customDecoder?this.customDecoder(m,w):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(w)?this.decodeFallback(m,w):new TextDecoder(w).decode(m)}static shouldDecodeOnFallback(m){return!K.isBrowser()&&m==="ISO-8859-1"}static encode(m,y){const w=this.encodingName(y);return this.customEncoder?this.customEncoder(m,w):typeof TextEncoder>"u"?this.encodeFallback(m):new TextEncoder().encode(m)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(m){return typeof m=="string"?m:m.getName()}static encodingCharacterSet(m){return m instanceof z?m:z.getCharacterSetECIByName(m)}static decodeFallback(m,y){const w=this.encodingCharacterSet(y);if(K.isDecodeFallbackSupported(w)){let E="";for(let P=0,D=m.length;P<D;P++){let V=m[P].toString(16);V.length<2&&(V="0"+V),E+="%"+V}return decodeURIComponent(E)}if(w.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(m.buffer));throw new Z(`Encoding ${this.encodingName(y)} not supported by fallback.`)}static isDecodeFallbackSupported(m){return m.equals(z.UTF8)||m.equals(z.ISO8859_1)||m.equals(z.ASCII)}static encodeFallback(m){const w=btoa(unescape(encodeURIComponent(m))).split(""),E=[];for(let P=0;P<w.length;P++)E.push(w[P].charCodeAt(0));return new Uint8Array(E)}}class q{static castAsNonUtf8Char(m,y=null){const w=y?y.getName():this.ISO88591;return K.decode(new Uint8Array([m]),w)}static guessEncoding(m,y){if(y!=null&&y.get(B.CHARACTER_SET)!==void 0)return y.get(B.CHARACTER_SET).toString();const w=m.length;let E=!0,P=!0,D=!0,V=0,J=0,oe=0,be=0,Te=0,Le=0,tt=0,ut=0,pt=0,Nt=0,Vt=0;const ir=m.length>3&&m[0]===239&&m[1]===187&&m[2]===191;for(let vr=0;vr<w&&(E||P||D);vr++){const pr=m[vr]&255;D&&(V>0?pr&128?V--:D=!1:pr&128&&(pr&64?(V++,pr&32?(V++,pr&16?(V++,pr&8?D=!1:be++):oe++):J++):D=!1)),E&&(pr>127&&pr<160?E=!1:pr>159&&(pr<192||pr===215||pr===247)&&Vt++),P&&(Te>0?pr<64||pr===127||pr>252?P=!1:Te--:pr===128||pr===160||pr>239?P=!1:pr>160&&pr<224?(Le++,ut=0,tt++,tt>pt&&(pt=tt)):pr>127?(Te++,tt=0,ut++,ut>Nt&&(Nt=ut)):(tt=0,ut=0))}return D&&V>0&&(D=!1),P&&Te>0&&(P=!1),D&&(ir||J+oe+be>0)?q.UTF8:P&&(q.ASSUME_SHIFT_JIS||pt>=3||Nt>=3)?q.SHIFT_JIS:E&&P?pt===2&&Le===2||Vt*10>=w?q.SHIFT_JIS:q.ISO88591:E?q.ISO88591:P?q.SHIFT_JIS:D?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(m,...y){let w=-1;function E(D,V,J,oe,be,Te){if(D==="%%")return"%";if(y[++w]===void 0)return;D=oe?parseInt(oe.substr(1)):void 0;let Le=be?parseInt(be.substr(1)):void 0,tt;switch(Te){case"s":tt=y[w];break;case"c":tt=y[w][0];break;case"f":tt=parseFloat(y[w]).toFixed(D);break;case"p":tt=parseFloat(y[w]).toPrecision(D);break;case"e":tt=parseFloat(y[w]).toExponential(D);break;case"x":tt=parseInt(y[w]).toString(Le||16);break;case"d":tt=parseFloat(parseInt(y[w],Le||10).toPrecision(D)).toFixed(0);break}tt=typeof tt=="object"?JSON.stringify(tt):(+tt).toString(Le);let ut=parseInt(J),pt=J&&J[0]+""=="0"?"0":" ";for(;tt.length<ut;)tt=V!==void 0?tt+pt:pt+tt;return tt}let P=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return m.replace(P,E)}static getBytes(m,y){return K.encode(m,y)}static getCharCode(m,y=0){return m.charCodeAt(y)}static getCharAt(m){return String.fromCharCode(m)}}q.SHIFT_JIS=z.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=z.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=z.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class ie{constructor(m=""){this.value=m}enableDecoding(m){return this.encoding=m,this}append(m){return typeof m=="string"?this.value+=m.toString():this.encoding?this.value+=q.castAsNonUtf8Char(m,this.encoding):this.value+=String.fromCharCode(m),this}appendChars(m,y,w){for(let E=y;y<y+w;E++)this.append(m[E]);return this}length(){return this.value.length}charAt(m){return this.value.charAt(m)}deleteCharAt(m){this.value=this.value.substr(0,m)+this.value.substring(m+1)}setCharAt(m,y){this.value=this.value.substr(0,m)+y+this.value.substr(m+1)}substring(m,y){return this.value.substring(m,y)}setLengthToZero(){this.value=""}toString(){return this.value}insert(m,y){this.value=this.value.substr(0,m)+y+this.value.substr(m+y.length)}}class ae{constructor(m,y,w,E){if(this.width=m,this.height=y,this.rowSize=w,this.bits=E,y==null&&(y=m),this.height=y,m<1||y<1)throw new h("Both dimensions must be greater than 0");w==null&&(w=Math.floor((m+31)/32)),this.rowSize=w,E==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(m){const y=m.length,w=m[0].length,E=new ae(w,y);for(let P=0;P<y;P++){const D=m[P];for(let V=0;V<w;V++)D[V]&&E.set(V,P)}return E}static parseFromString(m,y,w){if(m===null)throw new h("stringRepresentation cannot be null");const E=new Array(m.length);let P=0,D=0,V=-1,J=0,oe=0;for(;oe<m.length;)if(m.charAt(oe)===`
`||m.charAt(oe)==="\r"){if(P>D){if(V===-1)V=P-D;else if(P-D!==V)throw new h("row lengths do not match");D=P,J++}oe++}else if(m.substring(oe,oe+y.length)===y)oe+=y.length,E[P]=!0,P++;else if(m.substring(oe,oe+w.length)===w)oe+=w.length,E[P]=!1,P++;else throw new h("illegal character encountered: "+m.substring(oe));if(P>D){if(V===-1)V=P-D;else if(P-D!==V)throw new h("row lengths do not match");J++}const be=new ae(V,J);for(let Te=0;Te<P;Te++)E[Te]&&be.set(Math.floor(Te%V),Math.floor(Te/V));return be}get(m,y){const w=y*this.rowSize+Math.floor(m/32);return(this.bits[w]>>>(m&31)&1)!==0}set(m,y){const w=y*this.rowSize+Math.floor(m/32);this.bits[w]|=1<<(m&31)&4294967295}unset(m,y){const w=y*this.rowSize+Math.floor(m/32);this.bits[w]&=~(1<<(m&31)&4294967295)}flip(m,y){const w=y*this.rowSize+Math.floor(m/32);this.bits[w]^=1<<(m&31)&4294967295}xor(m){if(this.width!==m.getWidth()||this.height!==m.getHeight()||this.rowSize!==m.getRowSize())throw new h("input matrix dimensions do not match");const y=new F(Math.floor(this.width/32)+1),w=this.rowSize,E=this.bits;for(let P=0,D=this.height;P<D;P++){const V=P*w,J=m.getRow(P,y).getBitArray();for(let oe=0;oe<w;oe++)E[V+oe]^=J[oe]}}clear(){const m=this.bits,y=m.length;for(let w=0;w<y;w++)m[w]=0}setRegion(m,y,w,E){if(y<0||m<0)throw new h("Left and top must be nonnegative");if(E<1||w<1)throw new h("Height and width must be at least 1");const P=m+w,D=y+E;if(D>this.height||P>this.width)throw new h("The region must fit inside the matrix");const V=this.rowSize,J=this.bits;for(let oe=y;oe<D;oe++){const be=oe*V;for(let Te=m;Te<P;Te++)J[be+Math.floor(Te/32)]|=1<<(Te&31)&4294967295}}getRow(m,y){y==null||y.getSize()<this.width?y=new F(this.width):y.clear();const w=this.rowSize,E=this.bits,P=m*w;for(let D=0;D<w;D++)y.setBulk(D*32,E[P+D]);return y}setRow(m,y){b.arraycopy(y.getBitArray(),0,this.bits,m*this.rowSize,this.rowSize)}rotate180(){const m=this.getWidth(),y=this.getHeight();let w=new F(m),E=new F(m);for(let P=0,D=Math.floor((y+1)/2);P<D;P++)w=this.getRow(P,w),E=this.getRow(y-1-P,E),w.reverse(),E.reverse(),this.setRow(P,E),this.setRow(y-1-P,w)}getEnclosingRectangle(){const m=this.width,y=this.height,w=this.rowSize,E=this.bits;let P=m,D=y,V=-1,J=-1;for(let oe=0;oe<y;oe++)for(let be=0;be<w;be++){const Te=E[oe*w+be];if(Te!==0){if(oe<D&&(D=oe),oe>J&&(J=oe),be*32<P){let Le=0;for(;!(Te<<31-Le&4294967295);)Le++;be*32+Le<P&&(P=be*32+Le)}if(be*32+31>V){let Le=31;for(;!(Te>>>Le);)Le--;be*32+Le>V&&(V=be*32+Le)}}}return V<P||J<D?null:Int32Array.from([P,D,V-P+1,J-D+1])}getTopLeftOnBit(){const m=this.rowSize,y=this.bits;let w=0;for(;w<y.length&&y[w]===0;)w++;if(w===y.length)return null;const E=w/m;let P=w%m*32;const D=y[w];let V=0;for(;!(D<<31-V&4294967295);)V++;return P+=V,Int32Array.from([P,E])}getBottomRightOnBit(){const m=this.rowSize,y=this.bits;let w=y.length-1;for(;w>=0&&y[w]===0;)w--;if(w<0)return null;const E=Math.floor(w/m);let P=Math.floor(w%m)*32;const D=y[w];let V=31;for(;!(D>>>V);)V--;return P+=V,Int32Array.from([P,E])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(m){if(!(m instanceof ae))return!1;const y=m;return this.width===y.width&&this.height===y.height&&this.rowSize===y.rowSize&&A.equals(this.bits,y.bits)}hashCode(){let m=this.width;return m=31*m+this.width,m=31*m+this.height,m=31*m+this.rowSize,m=31*m+A.hashCode(this.bits),m}toString(m="X ",y="  ",w=`
`){return this.buildToString(m,y,w)}buildToString(m,y,w){let E=new ie;for(let P=0,D=this.height;P<D;P++){for(let V=0,J=this.width;V<J;V++)E.append(this.get(V,P)?m:y);E.append(w)}return E.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends u{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class se extends S{constructor(m){super(m),this.luminances=se.EMPTY,this.buckets=new Int32Array(se.LUMINANCE_BUCKETS)}getBlackRow(m,y){const w=this.getLuminanceSource(),E=w.getWidth();y==null||y.getSize()<E?y=new F(E):y.clear(),this.initArrays(E);const P=w.getRow(m,this.luminances),D=this.buckets;for(let J=0;J<E;J++)D[(P[J]&255)>>se.LUMINANCE_SHIFT]++;const V=se.estimateBlackPoint(D);if(E<3)for(let J=0;J<E;J++)(P[J]&255)<V&&y.set(J);else{let J=P[0]&255,oe=P[1]&255;for(let be=1;be<E-1;be++){const Te=P[be+1]&255;(oe*4-J-Te)/2<V&&y.set(be),J=oe,oe=Te}}return y}getBlackMatrix(){const m=this.getLuminanceSource(),y=m.getWidth(),w=m.getHeight(),E=new ae(y,w);this.initArrays(y);const P=this.buckets;for(let J=1;J<5;J++){const oe=Math.floor(w*J/5),be=m.getRow(oe,this.luminances),Te=Math.floor(y*4/5);for(let Le=Math.floor(y/5);Le<Te;Le++){const tt=be[Le]&255;P[tt>>se.LUMINANCE_SHIFT]++}}const D=se.estimateBlackPoint(P),V=m.getMatrix();for(let J=0;J<w;J++){const oe=J*y;for(let be=0;be<y;be++)(V[oe+be]&255)<D&&E.set(be,J)}return E}createBinarizer(m){return new se(m)}initArrays(m){this.luminances.length<m&&(this.luminances=new Uint8ClampedArray(m));const y=this.buckets;for(let w=0;w<se.LUMINANCE_BUCKETS;w++)y[w]=0}static estimateBlackPoint(m){const y=m.length;let w=0,E=0,P=0;for(let be=0;be<y;be++)m[be]>P&&(E=be,P=m[be]),m[be]>w&&(w=m[be]);let D=0,V=0;for(let be=0;be<y;be++){const Te=be-E,Le=m[be]*Te*Te;Le>V&&(D=be,V=Le)}if(E>D){const be=E;E=D,D=be}if(D-E<=y/16)throw new X;let J=D-1,oe=-1;for(let be=D-1;be>E;be--){const Te=be-E,Le=Te*Te*(D-be)*(w-m[be]);Le>oe&&(J=be,oe=Le)}return J<<se.LUMINANCE_SHIFT}}se.LUMINANCE_BITS=5,se.LUMINANCE_SHIFT=8-se.LUMINANCE_BITS,se.LUMINANCE_BUCKETS=1<<se.LUMINANCE_BITS,se.EMPTY=Uint8ClampedArray.from([0]);class he extends se{constructor(m){super(m),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const m=this.getLuminanceSource(),y=m.getWidth(),w=m.getHeight();if(y>=he.MINIMUM_DIMENSION&&w>=he.MINIMUM_DIMENSION){const E=m.getMatrix();let P=y>>he.BLOCK_SIZE_POWER;y&he.BLOCK_SIZE_MASK&&P++;let D=w>>he.BLOCK_SIZE_POWER;w&he.BLOCK_SIZE_MASK&&D++;const V=he.calculateBlackPoints(E,P,D,y,w),J=new ae(y,w);he.calculateThresholdForBlock(E,P,D,y,w,V,J),this.matrix=J}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(m){return new he(m)}static calculateThresholdForBlock(m,y,w,E,P,D,V){const J=P-he.BLOCK_SIZE,oe=E-he.BLOCK_SIZE;for(let be=0;be<w;be++){let Te=be<<he.BLOCK_SIZE_POWER;Te>J&&(Te=J);const Le=he.cap(be,2,w-3);for(let tt=0;tt<y;tt++){let ut=tt<<he.BLOCK_SIZE_POWER;ut>oe&&(ut=oe);const pt=he.cap(tt,2,y-3);let Nt=0;for(let ir=-2;ir<=2;ir++){const vr=D[Le+ir];Nt+=vr[pt-2]+vr[pt-1]+vr[pt]+vr[pt+1]+vr[pt+2]}const Vt=Nt/25;he.thresholdBlock(m,ut,Te,Vt,E,V)}}}static cap(m,y,w){return m<y?y:m>w?w:m}static thresholdBlock(m,y,w,E,P,D){for(let V=0,J=w*P+y;V<he.BLOCK_SIZE;V++,J+=P)for(let oe=0;oe<he.BLOCK_SIZE;oe++)(m[J+oe]&255)<=E&&D.set(y+oe,w+V)}static calculateBlackPoints(m,y,w,E,P){const D=P-he.BLOCK_SIZE,V=E-he.BLOCK_SIZE,J=new Array(w);for(let oe=0;oe<w;oe++){J[oe]=new Int32Array(y);let be=oe<<he.BLOCK_SIZE_POWER;be>D&&(be=D);for(let Te=0;Te<y;Te++){let Le=Te<<he.BLOCK_SIZE_POWER;Le>V&&(Le=V);let tt=0,ut=255,pt=0;for(let Vt=0,ir=be*E+Le;Vt<he.BLOCK_SIZE;Vt++,ir+=E){for(let vr=0;vr<he.BLOCK_SIZE;vr++){const pr=m[ir+vr]&255;tt+=pr,pr<ut&&(ut=pr),pr>pt&&(pt=pr)}if(pt-ut>he.MIN_DYNAMIC_RANGE)for(Vt++,ir+=E;Vt<he.BLOCK_SIZE;Vt++,ir+=E)for(let vr=0;vr<he.BLOCK_SIZE;vr++)tt+=m[ir+vr]&255}let Nt=tt>>he.BLOCK_SIZE_POWER*2;if(pt-ut<=he.MIN_DYNAMIC_RANGE&&(Nt=ut/2,oe>0&&Te>0)){const Vt=(J[oe-1][Te]+2*J[oe][Te-1]+J[oe-1][Te-1])/4;ut<Vt&&(Nt=Vt)}J[oe][Te]=Nt}}return J}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class ce{constructor(m,y){this.width=m,this.height=y}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(m,y,w,E){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const m=new Uint8ClampedArray(this.width);let y=new ie;for(let w=0;w<this.height;w++){const E=this.getRow(w,m);for(let P=0;P<this.width;P++){const D=E[P]&255;let V;D<64?V="#":D<128?V="+":D<192?V=".":V=" ",y.append(V)}y.append(`
`)}return y.toString()}}class ge extends ce{constructor(m){super(m.getWidth(),m.getHeight()),this.delegate=m}getRow(m,y){const w=this.delegate.getRow(m,y),E=this.getWidth();for(let P=0;P<E;P++)w[P]=255-(w[P]&255);return w}getMatrix(){const m=this.delegate.getMatrix(),y=this.getWidth()*this.getHeight(),w=new Uint8ClampedArray(y);for(let E=0;E<y;E++)w[E]=255-(m[E]&255);return w}isCropSupported(){return this.delegate.isCropSupported()}crop(m,y,w,E){return new ge(this.delegate.crop(m,y,w,E))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class we extends ce{constructor(m){super(m.width,m.height),this.canvas=m,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(m)}static makeBufferFromCanvasImageData(m){const y=m.getContext("2d").getImageData(0,0,m.width,m.height);return we.toGrayscaleBuffer(y.data,m.width,m.height)}static toGrayscaleBuffer(m,y,w){const E=new Uint8ClampedArray(y*w);for(let P=0,D=0,V=m.length;P<V;P+=4,D++){let J;if(m[P+3]===0)J=255;else{const be=m[P],Te=m[P+1],Le=m[P+2];J=306*be+601*Te+117*Le+512>>10}E[D]=J}return E}getRow(m,y){if(m<0||m>=this.getHeight())throw new h("Requested row is outside the image: "+m);const w=this.getWidth(),E=m*w;return y===null?y=this.buffer.slice(E,E+w):(y.length<w&&(y=new Uint8ClampedArray(w)),y.set(this.buffer.slice(E,E+w))),y}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(m,y,w,E){return super.crop(m,y,w,E),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const m=this.canvas.ownerDocument.createElement("canvas");m.width=this.canvas.width,m.height=this.canvas.height,this.tempCanvasElement=m}return this.tempCanvasElement}rotate(m){const y=this.getTempCanvasElement(),w=y.getContext("2d"),E=m*we.DEGREE_TO_RADIANS,P=this.canvas.width,D=this.canvas.height,V=Math.ceil(Math.abs(Math.cos(E))*P+Math.abs(Math.sin(E))*D),J=Math.ceil(Math.abs(Math.sin(E))*P+Math.abs(Math.cos(E))*D);return y.width=V,y.height=J,w.translate(V/2,J/2),w.rotate(E),w.drawImage(this.canvas,P/-2,D/-2),this.buffer=we.makeBufferFromCanvasImageData(y),this}invert(){return new ge(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class Ce{constructor(m,y,w){this.deviceId=m,this.label=y,this.kind="videoinput",this.groupId=w||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||Rs||self||window||void 0)&&(globalThis||Rs||self||window||void 0).__awaiter||function(ke,m,y,w){function E(P){return P instanceof y?P:new y(function(D){D(P)})}return new(y||(y=Promise))(function(P,D){function V(be){try{oe(w.next(be))}catch(Te){D(Te)}}function J(be){try{oe(w.throw(be))}catch(Te){D(Te)}}function oe(be){be.done?P(be.value):E(be.value).then(V,J)}oe((w=w.apply(ke,m||[])).next())})};class le{constructor(m,y=500,w){this.reader=m,this.timeBetweenScansMillis=y,this._hints=w,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(m){this._timeBetweenDecodingAttempts=m<0?0:m}set hints(m){this._hints=m||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const m=yield navigator.mediaDevices.enumerateDevices(),y=[];for(const w of m){const E=w.kind==="video"?"videoinput":w.kind;if(E!=="videoinput")continue;const P=w.deviceId||w.id,D=w.label||`Video device ${y.length+1}`,V=w.groupId,J={deviceId:P,label:D,kind:E,groupId:V};y.push(J)}return y})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(y=>new Ce(y.deviceId,y.label))})}findDeviceById(m){return Q(this,void 0,void 0,function*(){const y=yield this.listVideoInputDevices();return y?y.find(w=>w.deviceId===m):null})}decodeFromInputVideoDevice(m,y){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(m,y)})}decodeOnceFromVideoDevice(m,y){return Q(this,void 0,void 0,function*(){this.reset();let w;m?w={deviceId:{exact:m}}:w={facingMode:"environment"};const E={video:w};return yield this.decodeOnceFromConstraints(E,y)})}decodeOnceFromConstraints(m,y){return Q(this,void 0,void 0,function*(){const w=yield navigator.mediaDevices.getUserMedia(m);return yield this.decodeOnceFromStream(w,y)})}decodeOnceFromStream(m,y){return Q(this,void 0,void 0,function*(){this.reset();const w=yield this.attachStreamToVideo(m,y);return yield this.decodeOnce(w)})}decodeFromInputVideoDeviceContinuously(m,y,w){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(m,y,w)})}decodeFromVideoDevice(m,y,w){return Q(this,void 0,void 0,function*(){let E;m?E={deviceId:{exact:m}}:E={facingMode:"environment"};const P={video:E};return yield this.decodeFromConstraints(P,y,w)})}decodeFromConstraints(m,y,w){return Q(this,void 0,void 0,function*(){const E=yield navigator.mediaDevices.getUserMedia(m);return yield this.decodeFromStream(E,y,w)})}decodeFromStream(m,y,w){return Q(this,void 0,void 0,function*(){this.reset();const E=yield this.attachStreamToVideo(m,y);return yield this.decodeContinuously(E,w)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(m,y){return Q(this,void 0,void 0,function*(){const w=this.prepareVideoElement(y);return this.addVideoSource(w,m),this.videoElement=w,this.stream=m,yield this.playVideoOnLoadAsync(w),w})}playVideoOnLoadAsync(m){return new Promise((y,w)=>this.playVideoOnLoad(m,()=>y()))}playVideoOnLoad(m,y){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(m),m.addEventListener("ended",this.videoEndedListener),m.addEventListener("canplay",this.videoCanPlayListener),m.addEventListener("playing",y),this.tryPlayVideo(m)}isVideoPlaying(m){return m.currentTime>0&&!m.paused&&!m.ended&&m.readyState>2}tryPlayVideo(m){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(m)){console.warn("Trying to play video that is already playing.");return}try{yield m.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(m,y){const w=document.getElementById(m);if(!w)throw new f(`element with id '${m}' not found`);if(w.nodeName.toLowerCase()!==y.toLowerCase())throw new f(`element with id '${m}' must be an ${y} element`);return w}decodeFromImage(m,y){if(!m&&!y)throw new f("either imageElement with a src set or an url must be provided");return y&&!m?this.decodeFromImageUrl(y):this.decodeFromImageElement(m)}decodeFromVideo(m,y){if(!m&&!y)throw new f("Either an element with a src set or an URL must be provided");return y&&!m?this.decodeFromVideoUrl(y):this.decodeFromVideoElement(m)}decodeFromVideoContinuously(m,y,w){if(m===void 0&&y===void 0)throw new f("Either an element with a src set or an URL must be provided");return y&&!m?this.decodeFromVideoUrlContinuously(y,w):this.decodeFromVideoElementContinuously(m,w)}decodeFromImageElement(m){if(!m)throw new f("An image element must be provided.");this.reset();const y=this.prepareImageElement(m);this.imageElement=y;let w;return this.isImageLoaded(y)?w=this.decodeOnce(y,!1,!0):w=this._decodeOnLoadImage(y),w}decodeFromVideoElement(m){const y=this._decodeFromVideoElementSetup(m);return this._decodeOnLoadVideo(y)}decodeFromVideoElementContinuously(m,y){const w=this._decodeFromVideoElementSetup(m);return this._decodeOnLoadVideoContinuously(w,y)}_decodeFromVideoElementSetup(m){if(!m)throw new f("A video element must be provided.");this.reset();const y=this.prepareVideoElement(m);return this.videoElement=y,y}decodeFromImageUrl(m){if(!m)throw new f("An URL must be provided.");this.reset();const y=this.prepareImageElement();this.imageElement=y;const w=this._decodeOnLoadImage(y);return y.src=m,w}decodeFromVideoUrl(m){if(!m)throw new f("An URL must be provided.");this.reset();const y=this.prepareVideoElement(),w=this.decodeFromVideoElement(y);return y.src=m,w}decodeFromVideoUrlContinuously(m,y){if(!m)throw new f("An URL must be provided.");this.reset();const w=this.prepareVideoElement(),E=this.decodeFromVideoElementContinuously(w,y);return w.src=m,E}_decodeOnLoadImage(m){return new Promise((y,w)=>{this.imageLoadedListener=()=>this.decodeOnce(m,!1,!0).then(y,w),m.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(m){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(m),yield this.decodeOnce(m)})}_decodeOnLoadVideoContinuously(m,y){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(m),this.decodeContinuously(m,y)})}isImageLoaded(m){return!(!m.complete||m.naturalWidth===0)}prepareImageElement(m){let y;return typeof m>"u"&&(y=document.createElement("img"),y.width=200,y.height=200),typeof m=="string"&&(y=this.getMediaElement(m,"img")),m instanceof HTMLImageElement&&(y=m),y}prepareVideoElement(m){let y;return!m&&typeof document<"u"&&(y=document.createElement("video"),y.width=200,y.height=200),typeof m=="string"&&(y=this.getMediaElement(m,"video")),m instanceof HTMLVideoElement&&(y=m),y.setAttribute("autoplay","true"),y.setAttribute("muted","true"),y.setAttribute("playsinline","true"),y}decodeOnce(m,y=!0,w=!0){this._stopAsyncDecode=!1;const E=(P,D)=>{if(this._stopAsyncDecode){D(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const V=this.decode(m);P(V)}catch(V){const J=y&&V instanceof X,be=(V instanceof p||V instanceof M)&&w;if(J||be)return setTimeout(E,this._timeBetweenDecodingAttempts,P,D);D(V)}};return new Promise((P,D)=>E(P,D))}decodeContinuously(m,y){this._stopContinuousDecode=!1;const w=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const E=this.decode(m);y(E,null),setTimeout(w,this.timeBetweenScansMillis)}catch(E){y(null,E);const P=E instanceof p||E instanceof M,D=E instanceof X;(P||D)&&setTimeout(w,this._timeBetweenDecodingAttempts)}};w()}decode(m){const y=this.createBinaryBitmap(m);return this.decodeBitmap(y)}_isHTMLVideoElement(m){return m.videoWidth!==0}drawFrameOnCanvas(m,y,w){y||(y={sx:0,sy:0,sWidth:m.videoWidth,sHeight:m.videoHeight,dx:0,dy:0,dWidth:m.videoWidth,dHeight:m.videoHeight}),w||(w=this.captureCanvasContext),w.drawImage(m,y.sx,y.sy,y.sWidth,y.sHeight,y.dx,y.dy,y.dWidth,y.dHeight)}drawImageOnCanvas(m,y,w=this.captureCanvasContext){y||(y={sx:0,sy:0,sWidth:m.naturalWidth,sHeight:m.naturalHeight,dx:0,dy:0,dWidth:m.naturalWidth,dHeight:m.naturalHeight}),w||(w=this.captureCanvasContext),w.drawImage(m,y.sx,y.sy,y.sWidth,y.sHeight,y.dx,y.dy,y.dWidth,y.dHeight)}createBinaryBitmap(m){this.getCaptureCanvasContext(m),this._isHTMLVideoElement(m)?this.drawFrameOnCanvas(m):this.drawImageOnCanvas(m);const y=this.getCaptureCanvas(m),w=new we(y),E=new he(w);return new g(E)}getCaptureCanvasContext(m){if(!this.captureCanvasContext){const w=this.getCaptureCanvas(m).getContext("2d");this.captureCanvasContext=w}return this.captureCanvasContext}getCaptureCanvas(m){if(!this.captureCanvas){const y=this.createCaptureCanvas(m);this.captureCanvas=y}return this.captureCanvas}decodeBitmap(m){return this.reader.decode(m,this._hints)}createCaptureCanvas(m){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const y=document.createElement("canvas");let w,E;return typeof m<"u"&&(m instanceof HTMLVideoElement?(w=m.videoWidth,E=m.videoHeight):m instanceof HTMLImageElement&&(w=m.naturalWidth||m.width,E=m.naturalHeight||m.height)),y.style.width=w+"px",y.style.height=E+"px",y.width=w,y.height=E,y}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(m=>m.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(m,y){try{m.srcObject=y}catch{m.src=URL.createObjectURL(y)}}cleanVideoSource(m){try{m.srcObject=null}catch{m.src=""}this.videoElement.removeAttribute("src")}}class ne{constructor(m,y,w=y==null?0:8*y.length,E,P,D=b.currentTimeMillis()){this.text=m,this.rawBytes=y,this.numBits=w,this.resultPoints=E,this.format=P,this.timestamp=D,this.text=m,this.rawBytes=y,w==null?this.numBits=y==null?0:8*y.length:this.numBits=w,this.resultPoints=E,this.format=P,this.resultMetadata=null,D==null?this.timestamp=b.currentTimeMillis():this.timestamp=D}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(m,y){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(m,y)}putAllMetadata(m){m!==null&&(this.resultMetadata===null?this.resultMetadata=m:this.resultMetadata=new Map(m))}addResultPoints(m){const y=this.resultPoints;if(y===null)this.resultPoints=m;else if(m!==null&&m.length>0){const w=new Array(y.length+m.length);b.arraycopy(y,0,w,0,y.length),b.arraycopy(m,0,w,y.length,m.length),this.resultPoints=w}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ee;(function(ke){ke[ke.AZTEC=0]="AZTEC",ke[ke.CODABAR=1]="CODABAR",ke[ke.CODE_39=2]="CODE_39",ke[ke.CODE_93=3]="CODE_93",ke[ke.CODE_128=4]="CODE_128",ke[ke.DATA_MATRIX=5]="DATA_MATRIX",ke[ke.EAN_8=6]="EAN_8",ke[ke.EAN_13=7]="EAN_13",ke[ke.ITF=8]="ITF",ke[ke.MAXICODE=9]="MAXICODE",ke[ke.PDF_417=10]="PDF_417",ke[ke.QR_CODE=11]="QR_CODE",ke[ke.RSS_14=12]="RSS_14",ke[ke.RSS_EXPANDED=13]="RSS_EXPANDED",ke[ke.UPC_A=14]="UPC_A",ke[ke.UPC_E=15]="UPC_E",ke[ke.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ee||(ee={}));var pe=ee,xe;(function(ke){ke[ke.OTHER=0]="OTHER",ke[ke.ORIENTATION=1]="ORIENTATION",ke[ke.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ke[ke.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ke[ke.ISSUE_NUMBER=4]="ISSUE_NUMBER",ke[ke.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ke[ke.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ke[ke.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ke[ke.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ke[ke.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ke[ke.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(xe||(xe={}));var Ne=xe;class Se{constructor(m,y,w,E,P=-1,D=-1){this.rawBytes=m,this.text=y,this.byteSegments=w,this.ecLevel=E,this.structuredAppendSequenceNumber=P,this.structuredAppendParity=D,this.numBits=m==null?0:8*m.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(m){this.numBits=m}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(m){this.errorsCorrected=m}getErasures(){return this.erasures}setErasures(m){this.erasures=m}getOther(){return this.other}setOther(m){this.other=m}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class je{exp(m){return this.expTable[m]}log(m){if(m===0)throw new h;return this.logTable[m]}static addOrSubtract(m,y){return m^y}}class Ge{constructor(m,y){if(y.length===0)throw new h;this.field=m;const w=y.length;if(w>1&&y[0]===0){let E=1;for(;E<w&&y[E]===0;)E++;E===w?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(w-E),b.arraycopy(y,E,this.coefficients,0,this.coefficients.length))}else this.coefficients=y}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(m){return this.coefficients[this.coefficients.length-1-m]}evaluateAt(m){if(m===0)return this.getCoefficient(0);const y=this.coefficients;let w;if(m===1){w=0;for(let D=0,V=y.length;D!==V;D++){const J=y[D];w=je.addOrSubtract(w,J)}return w}w=y[0];const E=y.length,P=this.field;for(let D=1;D<E;D++)w=je.addOrSubtract(P.multiply(m,w),y[D]);return w}addOrSubtract(m){if(!this.field.equals(m.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero())return m;if(m.isZero())return this;let y=this.coefficients,w=m.coefficients;if(y.length>w.length){const D=y;y=w,w=D}let E=new Int32Array(w.length);const P=w.length-y.length;b.arraycopy(w,0,E,0,P);for(let D=P;D<w.length;D++)E[D]=je.addOrSubtract(y[D-P],w[D]);return new Ge(this.field,E)}multiply(m){if(!this.field.equals(m.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero()||m.isZero())return this.field.getZero();const y=this.coefficients,w=y.length,E=m.coefficients,P=E.length,D=new Int32Array(w+P-1),V=this.field;for(let J=0;J<w;J++){const oe=y[J];for(let be=0;be<P;be++)D[J+be]=je.addOrSubtract(D[J+be],V.multiply(oe,E[be]))}return new Ge(V,D)}multiplyScalar(m){if(m===0)return this.field.getZero();if(m===1)return this;const y=this.coefficients.length,w=this.field,E=new Int32Array(y),P=this.coefficients;for(let D=0;D<y;D++)E[D]=w.multiply(P[D],m);return new Ge(w,E)}multiplyByMonomial(m,y){if(m<0)throw new h;if(y===0)return this.field.getZero();const w=this.coefficients,E=w.length,P=new Int32Array(E+m),D=this.field;for(let V=0;V<E;V++)P[V]=D.multiply(w[V],y);return new Ge(D,P)}divide(m){if(!this.field.equals(m.field))throw new h("GenericGFPolys do not have same GenericGF field");if(m.isZero())throw new h("Divide by 0");const y=this.field;let w=y.getZero(),E=this;const P=m.getCoefficient(m.getDegree()),D=y.inverse(P);for(;E.getDegree()>=m.getDegree()&&!E.isZero();){const V=E.getDegree()-m.getDegree(),J=y.multiply(E.getCoefficient(E.getDegree()),D),oe=m.multiplyByMonomial(V,J),be=y.buildMonomial(V,J);w=w.addOrSubtract(be),E=E.addOrSubtract(oe)}return[w,E]}toString(){let m="";for(let y=this.getDegree();y>=0;y--){let w=this.getCoefficient(y);if(w!==0){if(w<0?(m+=" - ",w=-w):m.length>0&&(m+=" + "),y===0||w!==1){const E=this.field.log(w);E===0?m+="1":E===1?m+="a":(m+="a^",m+=E)}y!==0&&(y===1?m+="x":(m+="x^",m+=y))}}return m}}class De extends u{}De.kind="ArithmeticException";class at extends je{constructor(m,y,w){super(),this.primitive=m,this.size=y,this.generatorBase=w;const E=new Int32Array(y);let P=1;for(let V=0;V<y;V++)E[V]=P,P*=2,P>=y&&(P^=m,P&=y-1);this.expTable=E;const D=new Int32Array(y);for(let V=0;V<y-1;V++)D[E[V]]=V;this.logTable=D,this.zero=new Ge(this,Int32Array.from([0])),this.one=new Ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(m,y){if(m<0)throw new h;if(y===0)return this.zero;const w=new Int32Array(m+1);return w[0]=y,new Ge(this,w)}inverse(m){if(m===0)throw new De;return this.expTable[this.size-this.logTable[m]-1]}multiply(m,y){return m===0||y===0?0:this.expTable[(this.logTable[m]+this.logTable[y])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(m){return m===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class ot extends u{}ot.kind="ReedSolomonException";class ht extends u{}ht.kind="IllegalStateException";class Ue{constructor(m){this.field=m}decode(m,y){const w=this.field,E=new Ge(w,m),P=new Int32Array(y);let D=!0;for(let tt=0;tt<y;tt++){const ut=E.evaluateAt(w.exp(tt+w.getGeneratorBase()));P[P.length-1-tt]=ut,ut!==0&&(D=!1)}if(D)return;const V=new Ge(w,P),J=this.runEuclideanAlgorithm(w.buildMonomial(y,1),V,y),oe=J[0],be=J[1],Te=this.findErrorLocations(oe),Le=this.findErrorMagnitudes(be,Te);for(let tt=0;tt<Te.length;tt++){const ut=m.length-1-w.log(Te[tt]);if(ut<0)throw new ot("Bad error location");m[ut]=at.addOrSubtract(m[ut],Le[tt])}}runEuclideanAlgorithm(m,y,w){if(m.getDegree()<y.getDegree()){const tt=m;m=y,y=tt}const E=this.field;let P=m,D=y,V=E.getZero(),J=E.getOne();for(;D.getDegree()>=(w/2|0);){let tt=P,ut=V;if(P=D,V=J,P.isZero())throw new ot("r_{i-1} was zero");D=tt;let pt=E.getZero();const Nt=P.getCoefficient(P.getDegree()),Vt=E.inverse(Nt);for(;D.getDegree()>=P.getDegree()&&!D.isZero();){const ir=D.getDegree()-P.getDegree(),vr=E.multiply(D.getCoefficient(D.getDegree()),Vt);pt=pt.addOrSubtract(E.buildMonomial(ir,vr)),D=D.addOrSubtract(P.multiplyByMonomial(ir,vr))}if(J=pt.multiply(V).addOrSubtract(ut),D.getDegree()>=P.getDegree())throw new ht("Division algorithm failed to reduce polynomial?")}const oe=J.getCoefficient(0);if(oe===0)throw new ot("sigmaTilde(0) was zero");const be=E.inverse(oe),Te=J.multiplyScalar(be),Le=D.multiplyScalar(be);return[Te,Le]}findErrorLocations(m){const y=m.getDegree();if(y===1)return Int32Array.from([m.getCoefficient(1)]);const w=new Int32Array(y);let E=0;const P=this.field;for(let D=1;D<P.getSize()&&E<y;D++)m.evaluateAt(D)===0&&(w[E]=P.inverse(D),E++);if(E!==y)throw new ot("Error locator degree does not match number of roots");return w}findErrorMagnitudes(m,y){const w=y.length,E=new Int32Array(w),P=this.field;for(let D=0;D<w;D++){const V=P.inverse(y[D]);let J=1;for(let oe=0;oe<w;oe++)if(D!==oe){const be=P.multiply(y[oe],V),Te=be&1?be&-2:be|1;J=P.multiply(J,Te)}E[D]=P.multiply(m.evaluateAt(V),P.inverse(J)),P.getGeneratorBase()!==0&&(E[D]=P.multiply(E[D],V))}return E}}var Ct;(function(ke){ke[ke.UPPER=0]="UPPER",ke[ke.LOWER=1]="LOWER",ke[ke.MIXED=2]="MIXED",ke[ke.DIGIT=3]="DIGIT",ke[ke.PUNCT=4]="PUNCT",ke[ke.BINARY=5]="BINARY"})(Ct||(Ct={}));class tr{decode(m){this.ddata=m;let y=m.getBits(),w=this.extractBits(y),E=this.correctBits(w),P=tr.convertBoolArrayToByteArray(E),D=tr.getEncodedData(E),V=new Se(P,D,null,null);return V.setNumBits(E.length),V}static highLevelDecode(m){return this.getEncodedData(m)}static getEncodedData(m){let y=m.length,w=Ct.UPPER,E=Ct.UPPER,P="",D=0;for(;D<y;)if(E===Ct.BINARY){if(y-D<5)break;let V=tr.readCode(m,D,5);if(D+=5,V===0){if(y-D<11)break;V=tr.readCode(m,D,11)+31,D+=11}for(let J=0;J<V;J++){if(y-D<8){D=y;break}const oe=tr.readCode(m,D,8);P+=q.castAsNonUtf8Char(oe),D+=8}E=w}else{let V=E===Ct.DIGIT?4:5;if(y-D<V)break;let J=tr.readCode(m,D,V);D+=V;let oe=tr.getCharacter(E,J);oe.startsWith("CTRL_")?(w=E,E=tr.getTable(oe.charAt(5)),oe.charAt(6)==="L"&&(w=E)):(P+=oe,E=w)}return P}static getTable(m){switch(m){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(m,y){switch(m){case Ct.UPPER:return tr.UPPER_TABLE[y];case Ct.LOWER:return tr.LOWER_TABLE[y];case Ct.MIXED:return tr.MIXED_TABLE[y];case Ct.PUNCT:return tr.PUNCT_TABLE[y];case Ct.DIGIT:return tr.DIGIT_TABLE[y];default:throw new ht("Bad table")}}correctBits(m){let y,w;this.ddata.getNbLayers()<=2?(w=6,y=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(w=8,y=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(w=10,y=at.AZTEC_DATA_10):(w=12,y=at.AZTEC_DATA_12);let E=this.ddata.getNbDatablocks(),P=m.length/w;if(P<E)throw new M;let D=m.length%w,V=new Int32Array(P);for(let Le=0;Le<P;Le++,D+=w)V[Le]=tr.readCode(m,D,w);try{new Ue(y).decode(V,P-E)}catch(Le){throw new M(Le)}let J=(1<<w)-1,oe=0;for(let Le=0;Le<E;Le++){let tt=V[Le];if(tt===0||tt===J)throw new M;(tt===1||tt===J-1)&&oe++}let be=new Array(E*w-oe),Te=0;for(let Le=0;Le<E;Le++){let tt=V[Le];if(tt===1||tt===J-1)be.fill(tt>1,Te,Te+w-1),Te+=w-1;else for(let ut=w-1;ut>=0;--ut)be[Te++]=(tt&1<<ut)!==0}return be}extractBits(m){let y=this.ddata.isCompact(),w=this.ddata.getNbLayers(),E=(y?11:14)+w*4,P=new Int32Array(E),D=new Array(this.totalBitsInLayer(w,y));if(y)for(let V=0;V<P.length;V++)P[V]=V;else{let V=E+1+2*T.truncDivision(T.truncDivision(E,2)-1,15),J=E/2,oe=T.truncDivision(V,2);for(let be=0;be<J;be++){let Te=be+T.truncDivision(be,15);P[J-be-1]=oe-Te-1,P[J+be]=oe+Te+1}}for(let V=0,J=0;V<w;V++){let oe=(w-V)*4+(y?9:12),be=V*2,Te=E-1-be;for(let Le=0;Le<oe;Le++){let tt=Le*2;for(let ut=0;ut<2;ut++)D[J+tt+ut]=m.get(P[be+ut],P[be+Le]),D[J+2*oe+tt+ut]=m.get(P[be+Le],P[Te-ut]),D[J+4*oe+tt+ut]=m.get(P[Te-ut],P[Te-Le]),D[J+6*oe+tt+ut]=m.get(P[Te-Le],P[be+ut])}J+=oe*8}return D}static readCode(m,y,w){let E=0;for(let P=y;P<y+w;P++)E<<=1,m[P]&&(E|=1);return E}static readByte(m,y){let w=m.length-y;return w>=8?tr.readCode(m,y,8):tr.readCode(m,y,w)<<8-w}static convertBoolArrayToByteArray(m){let y=new Uint8Array((m.length+7)/8);for(let w=0;w<y.length;w++)y[w]=tr.readByte(m,8*w);return y}totalBitsInLayer(m,y){return((y?88:112)+16*m)*m}}tr.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],tr.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],tr.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],tr.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],tr.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ot{constructor(){}static round(m){return m===NaN?0:m<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:m>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:m+(m<0?-.5:.5)|0}static distance(m,y,w,E){const P=m-w,D=y-E;return Math.sqrt(P*P+D*D)}static sum(m){let y=0;for(let w=0,E=m.length;w!==E;w++){const P=m[w];y+=P}return y}}class xr{static floatToIntBits(m){return m}}xr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class st{constructor(m,y){this.x=m,this.y=y}getX(){return this.x}getY(){return this.y}equals(m){if(m instanceof st){const y=m;return this.x===y.x&&this.y===y.y}return!1}hashCode(){return 31*xr.floatToIntBits(this.x)+xr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(m){const y=this.distance(m[0],m[1]),w=this.distance(m[1],m[2]),E=this.distance(m[0],m[2]);let P,D,V;if(w>=y&&w>=E?(D=m[0],P=m[1],V=m[2]):E>=w&&E>=y?(D=m[1],P=m[0],V=m[2]):(D=m[2],P=m[0],V=m[1]),this.crossProductZ(P,D,V)<0){const J=P;P=V,V=J}m[0]=P,m[1]=D,m[2]=V}static distance(m,y){return Ot.distance(m.x,m.y,y.x,y.y)}static crossProductZ(m,y,w){const E=y.x,P=y.y;return(w.x-E)*(m.y-P)-(w.y-P)*(m.x-E)}}class lr{constructor(m,y){this.bits=m,this.points=y}getBits(){return this.bits}getPoints(){return this.points}}class _r extends lr{constructor(m,y,w,E,P){super(m,y),this.compact=w,this.nbDatablocks=E,this.nbLayers=P}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class kr{constructor(m,y,w,E){this.image=m,this.height=m.getHeight(),this.width=m.getWidth(),y==null&&(y=kr.INIT_SIZE),w==null&&(w=m.getWidth()/2|0),E==null&&(E=m.getHeight()/2|0);const P=y/2|0;if(this.leftInit=w-P,this.rightInit=w+P,this.upInit=E-P,this.downInit=E+P,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let m=this.leftInit,y=this.rightInit,w=this.upInit,E=this.downInit,P=!1,D=!0,V=!1,J=!1,oe=!1,be=!1,Te=!1;const Le=this.width,tt=this.height;for(;D;){D=!1;let ut=!0;for(;(ut||!J)&&y<Le;)ut=this.containsBlackPoint(w,E,y,!1),ut?(y++,D=!0,J=!0):J||y++;if(y>=Le){P=!0;break}let pt=!0;for(;(pt||!oe)&&E<tt;)pt=this.containsBlackPoint(m,y,E,!0),pt?(E++,D=!0,oe=!0):oe||E++;if(E>=tt){P=!0;break}let Nt=!0;for(;(Nt||!be)&&m>=0;)Nt=this.containsBlackPoint(w,E,m,!1),Nt?(m--,D=!0,be=!0):be||m--;if(m<0){P=!0;break}let Vt=!0;for(;(Vt||!Te)&&w>=0;)Vt=this.containsBlackPoint(m,y,w,!0),Vt?(w--,D=!0,Te=!0):Te||w--;if(w<0){P=!0;break}D&&(V=!0)}if(!P&&V){const ut=y-m;let pt=null;for(let vr=1;pt===null&&vr<ut;vr++)pt=this.getBlackPointOnSegment(m,E-vr,m+vr,E);if(pt==null)throw new X;let Nt=null;for(let vr=1;Nt===null&&vr<ut;vr++)Nt=this.getBlackPointOnSegment(m,w+vr,m+vr,w);if(Nt==null)throw new X;let Vt=null;for(let vr=1;Vt===null&&vr<ut;vr++)Vt=this.getBlackPointOnSegment(y,w+vr,y-vr,w);if(Vt==null)throw new X;let ir=null;for(let vr=1;ir===null&&vr<ut;vr++)ir=this.getBlackPointOnSegment(y,E-vr,y-vr,E);if(ir==null)throw new X;return this.centerEdges(ir,pt,Vt,Nt)}else throw new X}getBlackPointOnSegment(m,y,w,E){const P=Ot.round(Ot.distance(m,y,w,E)),D=(w-m)/P,V=(E-y)/P,J=this.image;for(let oe=0;oe<P;oe++){const be=Ot.round(m+oe*D),Te=Ot.round(y+oe*V);if(J.get(be,Te))return new st(be,Te)}return null}centerEdges(m,y,w,E){const P=m.getX(),D=m.getY(),V=y.getX(),J=y.getY(),oe=w.getX(),be=w.getY(),Te=E.getX(),Le=E.getY(),tt=kr.CORR;return P<this.width/2?[new st(Te-tt,Le+tt),new st(V+tt,J+tt),new st(oe-tt,be-tt),new st(P+tt,D-tt)]:[new st(Te+tt,Le+tt),new st(V+tt,J-tt),new st(oe-tt,be+tt),new st(P-tt,D-tt)]}containsBlackPoint(m,y,w,E){const P=this.image;if(E){for(let D=m;D<=y;D++)if(P.get(D,w))return!0}else for(let D=m;D<=y;D++)if(P.get(w,D))return!0;return!1}}kr.INIT_SIZE=10,kr.CORR=1;class Gn{static checkAndNudgePoints(m,y){const w=m.getWidth(),E=m.getHeight();let P=!0;for(let D=0;D<y.length&&P;D+=2){const V=Math.floor(y[D]),J=Math.floor(y[D+1]);if(V<-1||V>w||J<-1||J>E)throw new X;P=!1,V===-1?(y[D]=0,P=!0):V===w&&(y[D]=w-1,P=!0),J===-1?(y[D+1]=0,P=!0):J===E&&(y[D+1]=E-1,P=!0)}P=!0;for(let D=y.length-2;D>=0&&P;D-=2){const V=Math.floor(y[D]),J=Math.floor(y[D+1]);if(V<-1||V>w||J<-1||J>E)throw new X;P=!1,V===-1?(y[D]=0,P=!0):V===w&&(y[D]=w-1,P=!0),J===-1?(y[D+1]=0,P=!0):J===E&&(y[D+1]=E-1,P=!0)}}}class sn{constructor(m,y,w,E,P,D,V,J,oe){this.a11=m,this.a21=y,this.a31=w,this.a12=E,this.a22=P,this.a32=D,this.a13=V,this.a23=J,this.a33=oe}static quadrilateralToQuadrilateral(m,y,w,E,P,D,V,J,oe,be,Te,Le,tt,ut,pt,Nt){const Vt=sn.quadrilateralToSquare(m,y,w,E,P,D,V,J);return sn.squareToQuadrilateral(oe,be,Te,Le,tt,ut,pt,Nt).times(Vt)}transformPoints(m){const y=m.length,w=this.a11,E=this.a12,P=this.a13,D=this.a21,V=this.a22,J=this.a23,oe=this.a31,be=this.a32,Te=this.a33;for(let Le=0;Le<y;Le+=2){const tt=m[Le],ut=m[Le+1],pt=P*tt+J*ut+Te;m[Le]=(w*tt+D*ut+oe)/pt,m[Le+1]=(E*tt+V*ut+be)/pt}}transformPointsWithValues(m,y){const w=this.a11,E=this.a12,P=this.a13,D=this.a21,V=this.a22,J=this.a23,oe=this.a31,be=this.a32,Te=this.a33,Le=m.length;for(let tt=0;tt<Le;tt++){const ut=m[tt],pt=y[tt],Nt=P*ut+J*pt+Te;m[tt]=(w*ut+D*pt+oe)/Nt,y[tt]=(E*ut+V*pt+be)/Nt}}static squareToQuadrilateral(m,y,w,E,P,D,V,J){const oe=m-w+P-V,be=y-E+D-J;if(oe===0&&be===0)return new sn(w-m,P-w,m,E-y,D-E,y,0,0,1);{const Te=w-P,Le=V-P,tt=E-D,ut=J-D,pt=Te*ut-Le*tt,Nt=(oe*ut-Le*be)/pt,Vt=(Te*be-oe*tt)/pt;return new sn(w-m+Nt*w,V-m+Vt*V,m,E-y+Nt*E,J-y+Vt*J,y,Nt,Vt,1)}}static quadrilateralToSquare(m,y,w,E,P,D,V,J){return sn.squareToQuadrilateral(m,y,w,E,P,D,V,J).buildAdjoint()}buildAdjoint(){return new sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(m){return new sn(this.a11*m.a11+this.a21*m.a12+this.a31*m.a13,this.a11*m.a21+this.a21*m.a22+this.a31*m.a23,this.a11*m.a31+this.a21*m.a32+this.a31*m.a33,this.a12*m.a11+this.a22*m.a12+this.a32*m.a13,this.a12*m.a21+this.a22*m.a22+this.a32*m.a23,this.a12*m.a31+this.a22*m.a32+this.a32*m.a33,this.a13*m.a11+this.a23*m.a12+this.a33*m.a13,this.a13*m.a21+this.a23*m.a22+this.a33*m.a23,this.a13*m.a31+this.a23*m.a32+this.a33*m.a33)}}class Jn extends Gn{sampleGrid(m,y,w,E,P,D,V,J,oe,be,Te,Le,tt,ut,pt,Nt,Vt,ir,vr){const pr=sn.quadrilateralToQuadrilateral(E,P,D,V,J,oe,be,Te,Le,tt,ut,pt,Nt,Vt,ir,vr);return this.sampleGridWithTransform(m,y,w,pr)}sampleGridWithTransform(m,y,w,E){if(y<=0||w<=0)throw new X;const P=new ae(y,w),D=new Float32Array(2*y);for(let V=0;V<w;V++){const J=D.length,oe=V+.5;for(let be=0;be<J;be+=2)D[be]=be/2+.5,D[be+1]=oe;E.transformPoints(D),Gn.checkAndNudgePoints(m,D);try{for(let be=0;be<J;be+=2)m.get(Math.floor(D[be]),Math.floor(D[be+1]))&&P.set(be/2,V)}catch{throw new X}}return P}}class ea{static setGridSampler(m){ea.gridSampler=m}static getInstance(){return ea.gridSampler}}ea.gridSampler=new Jn;class yn{constructor(m,y){this.x=m,this.y=y}toResultPoint(){return new st(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class na{constructor(m){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=m}detect(){return this.detectMirror(!1)}detectMirror(m){let y=this.getMatrixCenter(),w=this.getBullsEyeCorners(y);if(m){let D=w[0];w[0]=w[2],w[2]=D}this.extractParameters(w);let E=this.sampleGrid(this.image,w[this.shift%4],w[(this.shift+1)%4],w[(this.shift+2)%4],w[(this.shift+3)%4]),P=this.getMatrixCornerPoints(w);return new _r(E,P,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(m){if(!this.isValidPoint(m[0])||!this.isValidPoint(m[1])||!this.isValidPoint(m[2])||!this.isValidPoint(m[3]))throw new X;let y=2*this.nbCenterLayers,w=new Int32Array([this.sampleLine(m[0],m[1],y),this.sampleLine(m[1],m[2],y),this.sampleLine(m[2],m[3],y),this.sampleLine(m[3],m[0],y)]);this.shift=this.getRotation(w,y);let E=0;for(let D=0;D<4;D++){let V=w[(this.shift+D)%4];this.compact?(E<<=7,E+=V>>1&127):(E<<=10,E+=(V>>2&992)+(V>>1&31))}let P=this.getCorrectedParameterData(E,this.compact);this.compact?(this.nbLayers=(P>>6)+1,this.nbDataBlocks=(P&63)+1):(this.nbLayers=(P>>11)+1,this.nbDataBlocks=(P&2047)+1)}getRotation(m,y){let w=0;m.forEach((E,P,D)=>{let V=(E>>y-2<<1)+(E&1);w=(w<<3)+V}),w=((w&1)<<11)+(w>>1);for(let E=0;E<4;E++)if(T.bitCount(w^this.EXPECTED_CORNER_BITS[E])<=2)return E;throw new X}getCorrectedParameterData(m,y){let w,E;y?(w=7,E=2):(w=10,E=4);let P=w-E,D=new Int32Array(w);for(let J=w-1;J>=0;--J)D[J]=m&15,m>>=4;try{new Ue(at.AZTEC_PARAM).decode(D,P)}catch{throw new X}let V=0;for(let J=0;J<E;J++)V=(V<<4)+D[J];return V}getBullsEyeCorners(m){let y=m,w=m,E=m,P=m,D=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Te=this.getFirstDifferent(y,D,1,-1),Le=this.getFirstDifferent(w,D,1,1),tt=this.getFirstDifferent(E,D,-1,1),ut=this.getFirstDifferent(P,D,-1,-1);if(this.nbCenterLayers>2){let pt=this.distancePoint(ut,Te)*this.nbCenterLayers/(this.distancePoint(P,y)*(this.nbCenterLayers+2));if(pt<.75||pt>1.25||!this.isWhiteOrBlackRectangle(Te,Le,tt,ut))break}y=Te,w=Le,E=tt,P=ut,D=!D}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let V=new st(y.getX()+.5,y.getY()-.5),J=new st(w.getX()+.5,w.getY()+.5),oe=new st(E.getX()-.5,E.getY()+.5),be=new st(P.getX()-.5,P.getY()-.5);return this.expandSquare([V,J,oe,be],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let m,y,w,E;try{let V=new kr(this.image).detect();m=V[0],y=V[1],w=V[2],E=V[3]}catch{let J=this.image.getWidth()/2,oe=this.image.getHeight()/2;m=this.getFirstDifferent(new yn(J+7,oe-7),!1,1,-1).toResultPoint(),y=this.getFirstDifferent(new yn(J+7,oe+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new yn(J-7,oe+7),!1,-1,1).toResultPoint(),E=this.getFirstDifferent(new yn(J-7,oe-7),!1,-1,-1).toResultPoint()}let P=Ot.round((m.getX()+E.getX()+y.getX()+w.getX())/4),D=Ot.round((m.getY()+E.getY()+y.getY()+w.getY())/4);try{let V=new kr(this.image,15,P,D).detect();m=V[0],y=V[1],w=V[2],E=V[3]}catch{m=this.getFirstDifferent(new yn(P+7,D-7),!1,1,-1).toResultPoint(),y=this.getFirstDifferent(new yn(P+7,D+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new yn(P-7,D+7),!1,-1,1).toResultPoint(),E=this.getFirstDifferent(new yn(P-7,D-7),!1,-1,-1).toResultPoint()}return P=Ot.round((m.getX()+E.getX()+y.getX()+w.getX())/4),D=Ot.round((m.getY()+E.getY()+y.getY()+w.getY())/4),new yn(P,D)}getMatrixCornerPoints(m){return this.expandSquare(m,2*this.nbCenterLayers,this.getDimension())}sampleGrid(m,y,w,E,P){let D=ea.getInstance(),V=this.getDimension(),J=V/2-this.nbCenterLayers,oe=V/2+this.nbCenterLayers;return D.sampleGrid(m,V,V,J,J,oe,J,oe,oe,J,oe,y.getX(),y.getY(),w.getX(),w.getY(),E.getX(),E.getY(),P.getX(),P.getY())}sampleLine(m,y,w){let E=0,P=this.distanceResultPoint(m,y),D=P/w,V=m.getX(),J=m.getY(),oe=D*(y.getX()-m.getX())/P,be=D*(y.getY()-m.getY())/P;for(let Te=0;Te<w;Te++)this.image.get(Ot.round(V+Te*oe),Ot.round(J+Te*be))&&(E|=1<<w-Te-1);return E}isWhiteOrBlackRectangle(m,y,w,E){let P=3;m=new yn(m.getX()-P,m.getY()+P),y=new yn(y.getX()-P,y.getY()-P),w=new yn(w.getX()+P,w.getY()-P),E=new yn(E.getX()+P,E.getY()+P);let D=this.getColor(E,m);if(D===0)return!1;let V=this.getColor(m,y);return V!==D||(V=this.getColor(y,w),V!==D)?!1:(V=this.getColor(w,E),V===D)}getColor(m,y){let w=this.distancePoint(m,y),E=(y.getX()-m.getX())/w,P=(y.getY()-m.getY())/w,D=0,V=m.getX(),J=m.getY(),oe=this.image.get(m.getX(),m.getY()),be=Math.ceil(w);for(let Le=0;Le<be;Le++)V+=E,J+=P,this.image.get(Ot.round(V),Ot.round(J))!==oe&&D++;let Te=D/w;return Te>.1&&Te<.9?0:Te<=.1===oe?1:-1}getFirstDifferent(m,y,w,E){let P=m.getX()+w,D=m.getY()+E;for(;this.isValid(P,D)&&this.image.get(P,D)===y;)P+=w,D+=E;for(P-=w,D-=E;this.isValid(P,D)&&this.image.get(P,D)===y;)P+=w;for(P-=w;this.isValid(P,D)&&this.image.get(P,D)===y;)D+=E;return D-=E,new yn(P,D)}expandSquare(m,y,w){let E=w/(2*y),P=m[0].getX()-m[2].getX(),D=m[0].getY()-m[2].getY(),V=(m[0].getX()+m[2].getX())/2,J=(m[0].getY()+m[2].getY())/2,oe=new st(V+E*P,J+E*D),be=new st(V-E*P,J-E*D);P=m[1].getX()-m[3].getX(),D=m[1].getY()-m[3].getY(),V=(m[1].getX()+m[3].getX())/2,J=(m[1].getY()+m[3].getY())/2;let Te=new st(V+E*P,J+E*D),Le=new st(V-E*P,J-E*D);return[oe,Te,be,Le]}isValid(m,y){return m>=0&&m<this.image.getWidth()&&y>0&&y<this.image.getHeight()}isValidPoint(m){let y=Ot.round(m.getX()),w=Ot.round(m.getY());return this.isValid(y,w)}distancePoint(m,y){return Ot.distance(m.getX(),m.getY(),y.getX(),y.getY())}distanceResultPoint(m,y){return Ot.distance(m.getX(),m.getY(),y.getX(),y.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Yr{decode(m,y=null){let w=null,E=new na(m.getBlackMatrix()),P=null,D=null;try{let be=E.detectMirror(!1);P=be.getPoints(),this.reportFoundResultPoints(y,P),D=new tr().decode(be)}catch(be){w=be}if(D==null)try{let be=E.detectMirror(!0);P=be.getPoints(),this.reportFoundResultPoints(y,P),D=new tr().decode(be)}catch(be){throw w??be}let V=new ne(D.getText(),D.getRawBytes(),D.getNumBits(),P,pe.AZTEC,b.currentTimeMillis()),J=D.getByteSegments();J!=null&&V.putMetadata(Ne.BYTE_SEGMENTS,J);let oe=D.getECLevel();return oe!=null&&V.putMetadata(Ne.ERROR_CORRECTION_LEVEL,oe),V}reportFoundResultPoints(m,y){if(m!=null){let w=m.get(B.NEED_RESULT_POINT_CALLBACK);w!=null&&y.forEach((E,P,D)=>{w.foundPossibleResultPoint(E)})}}reset(){}}class ws extends le{constructor(m=500){super(new Yr,m)}}class Mn{decode(m,y){try{return this.doDecode(m,y)}catch{if(y&&y.get(B.TRY_HARDER)===!0&&m.isRotateSupported()){const P=m.rotateCounterClockwise(),D=this.doDecode(P,y),V=D.getResultMetadata();let J=270;V!==null&&V.get(Ne.ORIENTATION)===!0&&(J=J+V.get(Ne.ORIENTATION)%360),D.putMetadata(Ne.ORIENTATION,J);const oe=D.getResultPoints();if(oe!==null){const be=P.getHeight();for(let Te=0;Te<oe.length;Te++)oe[Te]=new st(be-oe[Te].getY()-1,oe[Te].getX())}return D}else throw new X}}reset(){}doDecode(m,y){const w=m.getWidth(),E=m.getHeight();let P=new F(w);const D=y&&y.get(B.TRY_HARDER)===!0,V=Math.max(1,E>>(D?8:5));let J;D?J=E:J=15;const oe=Math.trunc(E/2);for(let be=0;be<J;be++){const Te=Math.trunc((be+1)/2),Le=(be&1)===0,tt=oe+V*(Le?Te:-Te);if(tt<0||tt>=E)break;try{P=m.getBlackRow(tt,P)}catch{continue}for(let ut=0;ut<2;ut++){if(ut===1&&(P.reverse(),y&&y.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const pt=new Map;y.forEach((Nt,Vt)=>pt.set(Vt,Nt)),pt.delete(B.NEED_RESULT_POINT_CALLBACK),y=pt}try{const pt=this.decodeRow(tt,P,y);if(ut===1){pt.putMetadata(Ne.ORIENTATION,180);const Nt=pt.getResultPoints();Nt!==null&&(Nt[0]=new st(w-Nt[0].getX()-1,Nt[0].getY()),Nt[1]=new st(w-Nt[1].getX()-1,Nt[1].getY()))}return pt}catch{}}}throw new X}static recordPattern(m,y,w){const E=w.length;for(let oe=0;oe<E;oe++)w[oe]=0;const P=m.getSize();if(y>=P)throw new X;let D=!m.get(y),V=0,J=y;for(;J<P;){if(m.get(J)!==D)w[V]++;else{if(++V===E)break;w[V]=1,D=!D}J++}if(!(V===E||V===E-1&&J===P))throw new X}static recordPatternInReverse(m,y,w){let E=w.length,P=m.get(y);for(;y>0&&E>=0;)m.get(--y)!==P&&(E--,P=!P);if(E>=0)throw new X;Mn.recordPattern(m,y+1,w)}static patternMatchVariance(m,y,w){const E=m.length;let P=0,D=0;for(let oe=0;oe<E;oe++)P+=m[oe],D+=y[oe];if(P<D)return Number.POSITIVE_INFINITY;const V=P/D;w*=V;let J=0;for(let oe=0;oe<E;oe++){const be=m[oe],Te=y[oe]*V,Le=be>Te?be-Te:Te-be;if(Le>w)return Number.POSITIVE_INFINITY;J+=Le}return J/P}}class Nr extends Mn{static findStartPattern(m){const y=m.getSize(),w=m.getNextSet(0);let E=0,P=Int32Array.from([0,0,0,0,0,0]),D=w,V=!1;const J=6;for(let oe=w;oe<y;oe++)if(m.get(oe)!==V)P[E]++;else{if(E===J-1){let be=Nr.MAX_AVG_VARIANCE,Te=-1;for(let Le=Nr.CODE_START_A;Le<=Nr.CODE_START_C;Le++){const tt=Mn.patternMatchVariance(P,Nr.CODE_PATTERNS[Le],Nr.MAX_INDIVIDUAL_VARIANCE);tt<be&&(be=tt,Te=Le)}if(Te>=0&&m.isRange(Math.max(0,D-(oe-D)/2),D,!1))return Int32Array.from([D,oe,Te]);D+=P[0]+P[1],P=P.slice(2,P.length-1),P[E-1]=0,P[E]=0,E--}else E++;P[E]=1,V=!V}throw new X}static decodeCode(m,y,w){Mn.recordPattern(m,w,y);let E=Nr.MAX_AVG_VARIANCE,P=-1;for(let D=0;D<Nr.CODE_PATTERNS.length;D++){const V=Nr.CODE_PATTERNS[D],J=this.patternMatchVariance(y,V,Nr.MAX_INDIVIDUAL_VARIANCE);J<E&&(E=J,P=D)}if(P>=0)return P;throw new X}decodeRow(m,y,w){const E=w&&w.get(B.ASSUME_GS1)===!0,P=Nr.findStartPattern(y),D=P[2];let V=0;const J=new Uint8Array(20);J[V++]=D;let oe;switch(D){case Nr.CODE_START_A:oe=Nr.CODE_CODE_A;break;case Nr.CODE_START_B:oe=Nr.CODE_CODE_B;break;case Nr.CODE_START_C:oe=Nr.CODE_CODE_C;break;default:throw new M}let be=!1,Te=!1,Le="",tt=P[0],ut=P[1];const pt=Int32Array.from([0,0,0,0,0,0]);let Nt=0,Vt=0,ir=D,vr=0,pr=!0,La=!1,ca=!1;for(;!be;){const Vu=Te;switch(Te=!1,Nt=Vt,Vt=Nr.decodeCode(y,pt,ut),J[V++]=Vt,Vt!==Nr.CODE_STOP&&(pr=!0),Vt!==Nr.CODE_STOP&&(vr++,ir+=vr*Vt),tt=ut,ut+=pt.reduce((ul,ao)=>ul+ao,0),Vt){case Nr.CODE_START_A:case Nr.CODE_START_B:case Nr.CODE_START_C:throw new M}switch(oe){case Nr.CODE_CODE_A:if(Vt<64)ca===La?Le+=String.fromCharCode(" ".charCodeAt(0)+Vt):Le+=String.fromCharCode(" ".charCodeAt(0)+Vt+128),ca=!1;else if(Vt<96)ca===La?Le+=String.fromCharCode(Vt-64):Le+=String.fromCharCode(Vt+64),ca=!1;else switch(Vt!==Nr.CODE_STOP&&(pr=!1),Vt){case Nr.CODE_FNC_1:E&&(Le.length===0?Le+="]C1":Le+=String.fromCharCode(29));break;case Nr.CODE_FNC_2:case Nr.CODE_FNC_3:break;case Nr.CODE_FNC_4_A:!La&&ca?(La=!0,ca=!1):La&&ca?(La=!1,ca=!1):ca=!0;break;case Nr.CODE_SHIFT:Te=!0,oe=Nr.CODE_CODE_B;break;case Nr.CODE_CODE_B:oe=Nr.CODE_CODE_B;break;case Nr.CODE_CODE_C:oe=Nr.CODE_CODE_C;break;case Nr.CODE_STOP:be=!0;break}break;case Nr.CODE_CODE_B:if(Vt<96)ca===La?Le+=String.fromCharCode(" ".charCodeAt(0)+Vt):Le+=String.fromCharCode(" ".charCodeAt(0)+Vt+128),ca=!1;else switch(Vt!==Nr.CODE_STOP&&(pr=!1),Vt){case Nr.CODE_FNC_1:E&&(Le.length===0?Le+="]C1":Le+=String.fromCharCode(29));break;case Nr.CODE_FNC_2:case Nr.CODE_FNC_3:break;case Nr.CODE_FNC_4_B:!La&&ca?(La=!0,ca=!1):La&&ca?(La=!1,ca=!1):ca=!0;break;case Nr.CODE_SHIFT:Te=!0,oe=Nr.CODE_CODE_A;break;case Nr.CODE_CODE_A:oe=Nr.CODE_CODE_A;break;case Nr.CODE_CODE_C:oe=Nr.CODE_CODE_C;break;case Nr.CODE_STOP:be=!0;break}break;case Nr.CODE_CODE_C:if(Vt<100)Vt<10&&(Le+="0"),Le+=Vt;else switch(Vt!==Nr.CODE_STOP&&(pr=!1),Vt){case Nr.CODE_FNC_1:E&&(Le.length===0?Le+="]C1":Le+=String.fromCharCode(29));break;case Nr.CODE_CODE_A:oe=Nr.CODE_CODE_A;break;case Nr.CODE_CODE_B:oe=Nr.CODE_CODE_B;break;case Nr.CODE_STOP:be=!0;break}break}Vu&&(oe=oe===Nr.CODE_CODE_A?Nr.CODE_CODE_B:Nr.CODE_CODE_A)}const hi=ut-tt;if(ut=y.getNextUnset(ut),!y.isRange(ut,Math.min(y.getSize(),ut+(ut-tt)/2),!1))throw new X;if(ir-=vr*Nt,ir%103!==Nt)throw new p;const Po=Le.length;if(Po===0)throw new X;Po>0&&pr&&(oe===Nr.CODE_CODE_C?Le=Le.substring(0,Po-2):Le=Le.substring(0,Po-1));const Ps=(P[1]+P[0])/2,mi=tt+hi/2,vs=J.length,Ws=new Uint8Array(vs);for(let Vu=0;Vu<vs;Vu++)Ws[Vu]=J[Vu];const Yl=[new st(Ps,m),new st(mi,m)];return new ne(Le,Ws,0,Yl,pe.CODE_128,new Date().getTime())}}Nr.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Nr.MAX_AVG_VARIANCE=.25,Nr.MAX_INDIVIDUAL_VARIANCE=.7,Nr.CODE_SHIFT=98,Nr.CODE_CODE_C=99,Nr.CODE_CODE_B=100,Nr.CODE_CODE_A=101,Nr.CODE_FNC_1=102,Nr.CODE_FNC_2=97,Nr.CODE_FNC_3=96,Nr.CODE_FNC_4_A=101,Nr.CODE_FNC_4_B=100,Nr.CODE_START_A=103,Nr.CODE_START_B=104,Nr.CODE_START_C=105,Nr.CODE_STOP=106;class An extends Mn{constructor(m=!1,y=!1){super(),this.usingCheckDigit=m,this.extendedMode=y,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(m,y,w){let E=this.counters;E.fill(0),this.decodeRowResult="";let P=An.findAsteriskPattern(y,E),D=y.getNextSet(P[1]),V=y.getSize(),J,oe;do{An.recordPattern(y,D,E);let pt=An.toNarrowWidePattern(E);if(pt<0)throw new X;J=An.patternToChar(pt),this.decodeRowResult+=J,oe=D;for(let Nt of E)D+=Nt;D=y.getNextSet(D)}while(J!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let be=0;for(let pt of E)be+=pt;let Te=D-oe-be;if(D!==V&&Te*2<be)throw new X;if(this.usingCheckDigit){let pt=this.decodeRowResult.length-1,Nt=0;for(let Vt=0;Vt<pt;Vt++)Nt+=An.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Vt));if(this.decodeRowResult.charAt(pt)!==An.ALPHABET_STRING.charAt(Nt%43))throw new p;this.decodeRowResult=this.decodeRowResult.substring(0,pt)}if(this.decodeRowResult.length===0)throw new X;let Le;this.extendedMode?Le=An.decodeExtended(this.decodeRowResult):Le=this.decodeRowResult;let tt=(P[1]+P[0])/2,ut=oe+be/2;return new ne(Le,null,0,[new st(tt,m),new st(ut,m)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(m,y){let w=m.getSize(),E=m.getNextSet(0),P=0,D=E,V=!1,J=y.length;for(let oe=E;oe<w;oe++)if(m.get(oe)!==V)y[P]++;else{if(P===J-1){if(this.toNarrowWidePattern(y)===An.ASTERISK_ENCODING&&m.isRange(Math.max(0,D-Math.floor((oe-D)/2)),D,!1))return[D,oe];D+=y[0]+y[1],y.copyWithin(0,2,2+P-1),y[P-1]=0,y[P]=0,P--}else P++;y[P]=1,V=!V}throw new X}static toNarrowWidePattern(m){let y=m.length,w=0,E;do{let P=2147483647;for(let J of m)J<P&&J>w&&(P=J);w=P,E=0;let D=0,V=0;for(let J=0;J<y;J++){let oe=m[J];oe>w&&(V|=1<<y-1-J,E++,D+=oe)}if(E===3){for(let J=0;J<y&&E>0;J++){let oe=m[J];if(oe>w&&(E--,oe*2>=D))return-1}return V}}while(E>3);return-1}static patternToChar(m){for(let y=0;y<An.CHARACTER_ENCODINGS.length;y++)if(An.CHARACTER_ENCODINGS[y]===m)return An.ALPHABET_STRING.charAt(y);if(m===An.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(m){let y=m.length,w="";for(let E=0;E<y;E++){let P=m.charAt(E);if(P==="+"||P==="$"||P==="%"||P==="/"){let D=m.charAt(E+1),V="\0";switch(P){case"+":if(D>="A"&&D<="Z")V=String.fromCharCode(D.charCodeAt(0)+32);else throw new M;break;case"$":if(D>="A"&&D<="Z")V=String.fromCharCode(D.charCodeAt(0)-64);else throw new M;break;case"%":if(D>="A"&&D<="E")V=String.fromCharCode(D.charCodeAt(0)-38);else if(D>="F"&&D<="J")V=String.fromCharCode(D.charCodeAt(0)-11);else if(D>="K"&&D<="O")V=String.fromCharCode(D.charCodeAt(0)+16);else if(D>="P"&&D<="T")V=String.fromCharCode(D.charCodeAt(0)+43);else if(D==="U")V="\0";else if(D==="V")V="@";else if(D==="W")V="`";else if(D==="X"||D==="Y"||D==="Z")V="";else throw new M;break;case"/":if(D>="A"&&D<="O")V=String.fromCharCode(D.charCodeAt(0)-32);else if(D==="Z")V=":";else throw new M;break}w+=V,E++}else w+=P}return w}}An.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",An.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],An.ASTERISK_ENCODING=148;class pn extends Mn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(m,y,w){let E=this.decodeStart(y),P=this.decodeEnd(y),D=new ie;pn.decodeMiddle(y,E[1],P[0],D);let V=D.toString(),J=null;w!=null&&(J=w.get(B.ALLOWED_LENGTHS)),J==null&&(J=pn.DEFAULT_ALLOWED_LENGTHS);let oe=V.length,be=!1,Te=0;for(let ut of J){if(oe===ut){be=!0;break}ut>Te&&(Te=ut)}if(!be&&oe>Te&&(be=!0),!be)throw new M;const Le=[new st(E[1],m),new st(P[0],m)];return new ne(V,null,0,Le,pe.ITF,new Date().getTime())}static decodeMiddle(m,y,w,E){let P=new Int32Array(10),D=new Int32Array(5),V=new Int32Array(5);for(P.fill(0),D.fill(0),V.fill(0);y<w;){Mn.recordPattern(m,y,P);for(let oe=0;oe<5;oe++){let be=2*oe;D[oe]=P[be],V[oe]=P[be+1]}let J=pn.decodeDigit(D);E.append(J.toString()),J=this.decodeDigit(V),E.append(J.toString()),P.forEach(function(oe){y+=oe})}}decodeStart(m){let y=pn.skipWhiteSpace(m),w=pn.findGuardPattern(m,y,pn.START_PATTERN);return this.narrowLineWidth=(w[1]-w[0])/4,this.validateQuietZone(m,w[0]),w}validateQuietZone(m,y){let w=this.narrowLineWidth*10;w=w<y?w:y;for(let E=y-1;w>0&&E>=0&&!m.get(E);E--)w--;if(w!==0)throw new X}static skipWhiteSpace(m){const y=m.getSize(),w=m.getNextSet(0);if(w===y)throw new X;return w}decodeEnd(m){m.reverse();try{let y=pn.skipWhiteSpace(m),w;try{w=pn.findGuardPattern(m,y,pn.END_PATTERN_REVERSED[0])}catch(P){P instanceof X&&(w=pn.findGuardPattern(m,y,pn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(m,w[0]);let E=w[0];return w[0]=m.getSize()-w[1],w[1]=m.getSize()-E,w}finally{m.reverse()}}static findGuardPattern(m,y,w){let E=w.length,P=new Int32Array(E),D=m.getSize(),V=!1,J=0,oe=y;P.fill(0);for(let be=y;be<D;be++)if(m.get(be)!==V)P[J]++;else{if(J===E-1){if(Mn.patternMatchVariance(P,w,pn.MAX_INDIVIDUAL_VARIANCE)<pn.MAX_AVG_VARIANCE)return[oe,be];oe+=P[0]+P[1],b.arraycopy(P,2,P,0,J-1),P[J-1]=0,P[J]=0,J--}else J++;P[J]=1,V=!V}throw new X}static decodeDigit(m){let y=pn.MAX_AVG_VARIANCE,w=-1,E=pn.PATTERNS.length;for(let P=0;P<E;P++){let D=pn.PATTERNS[P],V=Mn.patternMatchVariance(m,D,pn.MAX_INDIVIDUAL_VARIANCE);V<y?(y=V,w=P):V===y&&(w=-1)}if(w>=0)return w%10;throw new X}}pn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],pn.MAX_AVG_VARIANCE=.38,pn.MAX_INDIVIDUAL_VARIANCE=.5,pn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],pn.START_PATTERN=Int32Array.from([1,1,1,1]),pn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Va extends Mn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(m){let y=!1,w,E=0,P=Int32Array.from([0,0,0]);for(;!y;){P=Int32Array.from([0,0,0]),w=Va.findGuardPattern(m,E,!1,this.START_END_PATTERN,P);let D=w[0];E=w[1];let V=D-(E-D);V>=0&&(y=m.isRange(V,D,!1))}return w}static checkChecksum(m){return Va.checkStandardUPCEANChecksum(m)}static checkStandardUPCEANChecksum(m){let y=m.length;if(y===0)return!1;let w=parseInt(m.charAt(y-1),10);return Va.getStandardUPCEANChecksum(m.substring(0,y-1))===w}static getStandardUPCEANChecksum(m){let y=m.length,w=0;for(let E=y-1;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new M;w+=P}w*=3;for(let E=y-2;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new M;w+=P}return(1e3-w)%10}static decodeEnd(m,y){return Va.findGuardPattern(m,y,!1,Va.START_END_PATTERN,new Int32Array(Va.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(m,y,w,E){return this.findGuardPattern(m,y,w,E,new Int32Array(E.length))}static findGuardPattern(m,y,w,E,P){let D=m.getSize();y=w?m.getNextUnset(y):m.getNextSet(y);let V=0,J=y,oe=E.length,be=w;for(let Te=y;Te<D;Te++)if(m.get(Te)!==be)P[V]++;else{if(V===oe-1){if(Mn.patternMatchVariance(P,E,Va.MAX_INDIVIDUAL_VARIANCE)<Va.MAX_AVG_VARIANCE)return Int32Array.from([J,Te]);J+=P[0]+P[1];let Le=P.slice(2,P.length-1);for(let tt=0;tt<V-1;tt++)P[tt]=Le[tt];P[V-1]=0,P[V]=0,V--}else V++;P[V]=1,be=!be}throw new X}static decodeDigit(m,y,w,E){this.recordPattern(m,w,y);let P=this.MAX_AVG_VARIANCE,D=-1,V=E.length;for(let J=0;J<V;J++){let oe=E[J],be=Mn.patternMatchVariance(y,oe,Va.MAX_INDIVIDUAL_VARIANCE);be<P&&(P=be,D=J)}if(D>=0)return D;throw new X}}Va.MAX_AVG_VARIANCE=.48,Va.MAX_INDIVIDUAL_VARIANCE=.7,Va.START_END_PATTERN=Int32Array.from([1,1,1]),Va.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Va.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Va.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ya{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(m,y,w){let E=this.decodeRowStringBuffer,P=this.decodeMiddle(y,w,E),D=E.toString(),V=ya.parseExtensionString(D),J=[new st((w[0]+w[1])/2,m),new st(P,m)],oe=new ne(D,null,0,J,pe.UPC_EAN_EXTENSION,new Date().getTime());return V!=null&&oe.putAllMetadata(V),oe}decodeMiddle(m,y,w){let E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1],V=0;for(let oe=0;oe<5&&D<P;oe++){let be=Va.decodeDigit(m,E,D,Va.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be%10);for(let Te of E)D+=Te;be>=10&&(V|=1<<4-oe),oe!==4&&(D=m.getNextSet(D),D=m.getNextUnset(D))}if(w.length!==5)throw new X;let J=this.determineCheckDigit(V);if(ya.extensionChecksum(w.toString())!==J)throw new X;return D}static extensionChecksum(m){let y=m.length,w=0;for(let E=y-2;E>=0;E-=2)w+=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);w*=3;for(let E=y-1;E>=0;E-=2)w+=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);return w*=3,w%10}determineCheckDigit(m){for(let y=0;y<10;y++)if(m===this.CHECK_DIGIT_ENCODINGS[y])return y;throw new X}static parseExtensionString(m){if(m.length!==5)return null;let y=ya.parseExtension5String(m);return y==null?null:new Map([[Ne.SUGGESTED_PRICE,y]])}static parseExtension5String(m){let y;switch(m.charAt(0)){case"0":y="";break;case"5":y="$";break;case"9":switch(m){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}y="";break;default:y="";break}let w=parseInt(m.substring(1)),E=(w/100).toString(),P=w%100,D=P<10?"0"+P:P.toString();return y+E+"."+D}}class ol{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(m,y,w){let E=this.decodeRowStringBuffer,P=this.decodeMiddle(y,w,E),D=E.toString(),V=ol.parseExtensionString(D),J=[new st((w[0]+w[1])/2,m),new st(P,m)],oe=new ne(D,null,0,J,pe.UPC_EAN_EXTENSION,new Date().getTime());return V!=null&&oe.putAllMetadata(V),oe}decodeMiddle(m,y,w){let E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1],V=0;for(let J=0;J<2&&D<P;J++){let oe=Va.decodeDigit(m,E,D,Va.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+oe%10);for(let be of E)D+=be;oe>=10&&(V|=1<<1-J),J!==1&&(D=m.getNextSet(D),D=m.getNextUnset(D))}if(w.length!==2)throw new X;if(parseInt(w.toString())%4!==V)throw new X;return D}static parseExtensionString(m){return m.length!==2?null:new Map([[Ne.ISSUE_NUMBER,parseInt(m)]])}}class Di{static decodeRow(m,y,w){let E=Va.findGuardPattern(y,w,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ya().decodeRow(m,y,E)}catch{return new ol().decodeRow(m,y,E)}}}Di.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class fa extends Va{constructor(){super(),this.decodeRowStringBuffer="",fa.L_AND_G_PATTERNS=fa.L_PATTERNS.map(m=>Int32Array.from(m));for(let m=10;m<20;m++){let y=fa.L_PATTERNS[m-10],w=new Int32Array(y.length);for(let E=0;E<y.length;E++)w[E]=y[y.length-E-1];fa.L_AND_G_PATTERNS[m]=w}}decodeRow(m,y,w){let E=fa.findStartGuardPattern(y),P=w==null?null:w.get(B.NEED_RESULT_POINT_CALLBACK);if(P!=null){const pr=new st((E[0]+E[1])/2,m);P.foundPossibleResultPoint(pr)}let D=this.decodeMiddle(y,E,this.decodeRowStringBuffer),V=D.rowOffset,J=D.resultString;if(P!=null){const pr=new st(V,m);P.foundPossibleResultPoint(pr)}let oe=this.decodeEnd(y,V);if(P!=null){const pr=new st((oe[0]+oe[1])/2,m);P.foundPossibleResultPoint(pr)}let be=oe[1],Te=be+(be-oe[0]);if(Te>=y.getSize()||!y.isRange(be,Te,!1))throw new X;let Le=J.toString();if(Le.length<8)throw new M;if(!fa.checkChecksum(Le))throw new p;let tt=(E[1]+E[0])/2,ut=(oe[1]+oe[0])/2,pt=this.getBarcodeFormat(),Nt=[new st(tt,m),new st(ut,m)],Vt=new ne(Le,null,0,Nt,pt,new Date().getTime()),ir=0;try{let pr=Di.decodeRow(m,y,oe[1]);Vt.putMetadata(Ne.UPC_EAN_EXTENSION,pr.getText()),Vt.putAllMetadata(pr.getResultMetadata()),Vt.addResultPoints(pr.getResultPoints()),ir=pr.getText().length}catch{}let vr=w==null?null:w.get(B.ALLOWED_EAN_EXTENSIONS);if(vr!=null){let pr=!1;for(let La in vr)if(ir.toString()===La){pr=!0;break}if(!pr)throw new X}return Vt}decodeEnd(m,y){return fa.findGuardPattern(m,y,!1,fa.START_END_PATTERN,new Int32Array(fa.START_END_PATTERN.length).fill(0))}static checkChecksum(m){return fa.checkStandardUPCEANChecksum(m)}static checkStandardUPCEANChecksum(m){let y=m.length;if(y===0)return!1;let w=parseInt(m.charAt(y-1),10);return fa.getStandardUPCEANChecksum(m.substring(0,y-1))===w}static getStandardUPCEANChecksum(m){let y=m.length,w=0;for(let E=y-1;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new M;w+=P}w*=3;for(let E=y-2;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new M;w+=P}return(1e3-w)%10}}class Wi extends fa{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(m,y,w){let E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1],V=0;for(let oe=0;oe<6&&D<P;oe++){let be=fa.decodeDigit(m,E,D,fa.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be%10);for(let Te of E)D+=Te;be>=10&&(V|=1<<5-oe)}w=Wi.determineFirstDigit(w,V),D=fa.findGuardPattern(m,D,!0,fa.MIDDLE_PATTERN,new Int32Array(fa.MIDDLE_PATTERN.length).fill(0))[1];for(let oe=0;oe<6&&D<P;oe++){let be=fa.decodeDigit(m,E,D,fa.L_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be);for(let Te of E)D+=Te}return{rowOffset:D,resultString:w}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(m,y){for(let w=0;w<10;w++)if(y===this.FIRST_DIGIT_ENCODINGS[w])return m=String.fromCharCode("0".charCodeAt(0)+w)+m,m;throw new X}}Wi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Za extends fa{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(m,y,w){const E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1];for(let J=0;J<4&&D<P;J++){let oe=fa.decodeDigit(m,E,D,fa.L_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+oe);for(let be of E)D+=be}D=fa.findGuardPattern(m,D,!0,fa.MIDDLE_PATTERN,new Int32Array(fa.MIDDLE_PATTERN.length).fill(0))[1];for(let J=0;J<4&&D<P;J++){let oe=fa.decodeDigit(m,E,D,fa.L_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+oe);for(let be of E)D+=be}return{rowOffset:D,resultString:w}}getBarcodeFormat(){return pe.EAN_8}}class yr extends fa{constructor(){super(...arguments),this.ean13Reader=new Wi}getBarcodeFormat(){return pe.UPC_A}decode(m,y){return this.maybeReturnResult(this.ean13Reader.decode(m))}decodeRow(m,y,w){return this.maybeReturnResult(this.ean13Reader.decodeRow(m,y,w))}decodeMiddle(m,y,w){return this.ean13Reader.decodeMiddle(m,y,w)}maybeReturnResult(m){let y=m.getText();if(y.charAt(0)==="0"){let w=new ne(y.substring(1),null,null,m.getResultPoints(),pe.UPC_A);return m.getResultMetadata()!=null&&w.putAllMetadata(m.getResultMetadata()),w}else throw new X}reset(){this.ean13Reader.reset()}}class zr extends fa{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(m,y,w){const E=this.decodeMiddleCounters.map(oe=>oe);E[0]=0,E[1]=0,E[2]=0,E[3]=0;const P=m.getSize();let D=y[1],V=0;for(let oe=0;oe<6&&D<P;oe++){const be=zr.decodeDigit(m,E,D,zr.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be%10);for(let Te of E)D+=Te;be>=10&&(V|=1<<5-oe)}let J=zr.determineNumSysAndCheckDigit(w,V);return{rowOffset:D,resultString:J}}decodeEnd(m,y){return zr.findGuardPatternWithoutCounters(m,y,!0,zr.MIDDLE_END_PATTERN)}checkChecksum(m){return fa.checkChecksum(zr.convertUPCEtoUPCA(m))}static determineNumSysAndCheckDigit(m,y){for(let w=0;w<=1;w++)for(let E=0;E<10;E++)if(y===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[w][E]){let P=String.fromCharCode("0".charCodeAt(0)+w),D=String.fromCharCode("0".charCodeAt(0)+E);return P+m+D}throw X.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(m){const y=m.slice(1,7).split("").map(P=>P.charCodeAt(0)),w=new ie;w.append(m.charAt(0));let E=y[5];switch(E){case 0:case 1:case 2:w.appendChars(y,0,2),w.append(E),w.append("0000"),w.appendChars(y,2,3);break;case 3:w.appendChars(y,0,3),w.append("00000"),w.appendChars(y,3,2);break;case 4:w.appendChars(y,0,4),w.append("00000"),w.append(y[4]);break;default:w.appendChars(y,0,5),w.append("0000"),w.append(E);break}return m.length>=8&&w.append(m.charAt(7)),w.toString()}}zr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ba extends Mn{constructor(m){super();let y=m==null?null:m.get(B.POSSIBLE_FORMATS),w=[];n(y)?(w.push(new Wi),w.push(new yr),w.push(new Za),w.push(new zr)):(y.indexOf(pe.EAN_13)>-1&&w.push(new Wi),y.indexOf(pe.UPC_A)>-1&&w.push(new yr),y.indexOf(pe.EAN_8)>-1&&w.push(new Za),y.indexOf(pe.UPC_E)>-1&&w.push(new zr)),this.readers=w}decodeRow(m,y,w){for(let E of this.readers)try{const P=E.decodeRow(m,y,w),D=P.getBarcodeFormat()===pe.EAN_13&&P.getText().charAt(0)==="0",V=w==null?null:w.get(B.POSSIBLE_FORMATS),J=V==null||V.includes(pe.UPC_A);if(D&&J){const oe=P.getRawBytes(),be=new ne(P.getText().substring(1),oe,oe?oe.length:null,P.getResultPoints(),pe.UPC_A);return be.putAllMetadata(P.getResultMetadata()),be}return P}catch{}throw new X}reset(){for(let m of this.readers)m.reset()}}class Xr extends Mn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(m,y){for(let w=0;w<y.length;w++)if(Mn.patternMatchVariance(m,y[w],Xr.MAX_INDIVIDUAL_VARIANCE)<Xr.MAX_AVG_VARIANCE)return w;throw new X}static count(m){return Ot.sum(new Int32Array(m))}static increment(m,y){let w=0,E=y[0];for(let P=1;P<m.length;P++)y[P]>E&&(E=y[P],w=P);m[w]++}static decrement(m,y){let w=0,E=y[0];for(let P=1;P<m.length;P++)y[P]<E&&(E=y[P],w=P);m[w]--}static isFinderPattern(m){let y=m[0]+m[1],w=y+m[2]+m[3],E=y/w;if(E>=Xr.MIN_FINDER_PATTERN_RATIO&&E<=Xr.MAX_FINDER_PATTERN_RATIO){let P=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;for(let V of m)V>D&&(D=V),V<P&&(P=V);return D<10*P}return!1}}Xr.MAX_AVG_VARIANCE=.2,Xr.MAX_INDIVIDUAL_VARIANCE=.45,Xr.MIN_FINDER_PATTERN_RATIO=9.5/12,Xr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(m,y){this.value=m,this.checksumPortion=y}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(m){if(!(m instanceof Ei))return!1;const y=m;return this.value===y.value&&this.checksumPortion===y.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ti{constructor(m,y,w,E,P){this.value=m,this.startEnd=y,this.value=m,this.startEnd=y,this.resultPoints=new Array,this.resultPoints.push(new st(w,P)),this.resultPoints.push(new st(E,P))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(m){if(!(m instanceof Ti))return!1;const y=m;return this.value===y.value}hashCode(){return this.value}}class ln{constructor(){}static getRSSvalue(m,y,w){let E=0;for(let J of m)E+=J;let P=0,D=0,V=m.length;for(let J=0;J<V-1;J++){let oe;for(oe=1,D|=1<<J;oe<m[J];oe++,D&=~(1<<J)){let be=ln.combins(E-oe-1,V-J-2);if(w&&D===0&&E-oe-(V-J-1)>=V-J-1&&(be-=ln.combins(E-oe-(V-J),V-J-2)),V-J-1>1){let Te=0;for(let Le=E-oe-(V-J-2);Le>y;Le--)Te+=ln.combins(E-oe-Le-1,V-J-3);be-=Te*(V-1-J)}else E-oe>y&&be--;P+=be}E-=oe}return P}static combins(m,y){let w,E;m-y>y?(E=y,w=m-y):(E=m-y,w=y);let P=1,D=1;for(let V=m;V>w;V--)P*=V,D<=E&&(P/=D,D++);for(;D<=E;)P/=D,D++;return P}}class ms{static buildBitArray(m){let y=m.length*2-1;m[m.length-1].getRightChar()==null&&(y-=1);let w=12*y,E=new F(w),P=0,V=m[0].getRightChar().getValue();for(let J=11;J>=0;--J)V&1<<J&&E.set(P),P++;for(let J=1;J<m.length;++J){let oe=m[J],be=oe.getLeftChar().getValue();for(let Te=11;Te>=0;--Te)be&1<<Te&&E.set(P),P++;if(oe.getRightChar()!=null){let Te=oe.getRightChar().getValue();for(let Le=11;Le>=0;--Le)Te&1<<Le&&E.set(P),P++}}return E}}class sa{constructor(m,y){y?this.decodedInformation=null:(this.finished=m,this.decodedInformation=y)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ki{constructor(m){this.newPosition=m}getNewPosition(){return this.newPosition}}class si extends ki{constructor(m,y){super(m),this.value=y}getValue(){return this.value}isFNC1(){return this.value===si.FNC1}}si.FNC1="$";class Ri extends ki{constructor(m,y,w){super(m),w?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=y}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Fe extends ki{constructor(m,y,w){if(super(m),y<0||y>10||w<0||w>10)throw new M;this.firstDigit=y,this.secondDigit=w}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Fe.FNC1}isSecondDigitFNC1(){return this.secondDigit===Fe.FNC1}isAnyFNC1(){return this.firstDigit===Fe.FNC1||this.secondDigit===Fe.FNC1}}Fe.FNC1=10;class We{constructor(){}static parseFieldsInGeneralPurpose(m){if(!m)return null;if(m.length<2)throw new X;let y=m.substring(0,2);for(let P of We.TWO_DIGIT_DATA_LENGTH)if(P[0]===y)return P[1]===We.VARIABLE_LENGTH?We.processVariableAI(2,P[2],m):We.processFixedAI(2,P[1],m);if(m.length<3)throw new X;let w=m.substring(0,3);for(let P of We.THREE_DIGIT_DATA_LENGTH)if(P[0]===w)return P[1]===We.VARIABLE_LENGTH?We.processVariableAI(3,P[2],m):We.processFixedAI(3,P[1],m);for(let P of We.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(P[0]===w)return P[1]===We.VARIABLE_LENGTH?We.processVariableAI(4,P[2],m):We.processFixedAI(4,P[1],m);if(m.length<4)throw new X;let E=m.substring(0,4);for(let P of We.FOUR_DIGIT_DATA_LENGTH)if(P[0]===E)return P[1]===We.VARIABLE_LENGTH?We.processVariableAI(4,P[2],m):We.processFixedAI(4,P[1],m);throw new X}static processFixedAI(m,y,w){if(w.length<m)throw new X;let E=w.substring(0,m);if(w.length<m+y)throw new X;let P=w.substring(m,m+y),D=w.substring(m+y),V="("+E+")"+P,J=We.parseFieldsInGeneralPurpose(D);return J==null?V:V+J}static processVariableAI(m,y,w){let E=w.substring(0,m),P;w.length<m+y?P=w.length:P=m+y;let D=w.substring(m,P),V=w.substring(P),J="("+E+")"+D,oe=We.parseFieldsInGeneralPurpose(V);return oe==null?J:J+oe}}We.VARIABLE_LENGTH=[],We.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",We.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",We.VARIABLE_LENGTH,20],["22",We.VARIABLE_LENGTH,29],["30",We.VARIABLE_LENGTH,8],["37",We.VARIABLE_LENGTH,8],["90",We.VARIABLE_LENGTH,30],["91",We.VARIABLE_LENGTH,30],["92",We.VARIABLE_LENGTH,30],["93",We.VARIABLE_LENGTH,30],["94",We.VARIABLE_LENGTH,30],["95",We.VARIABLE_LENGTH,30],["96",We.VARIABLE_LENGTH,30],["97",We.VARIABLE_LENGTH,3],["98",We.VARIABLE_LENGTH,30],["99",We.VARIABLE_LENGTH,30]],We.THREE_DIGIT_DATA_LENGTH=[["240",We.VARIABLE_LENGTH,30],["241",We.VARIABLE_LENGTH,30],["242",We.VARIABLE_LENGTH,6],["250",We.VARIABLE_LENGTH,30],["251",We.VARIABLE_LENGTH,30],["253",We.VARIABLE_LENGTH,17],["254",We.VARIABLE_LENGTH,20],["400",We.VARIABLE_LENGTH,30],["401",We.VARIABLE_LENGTH,30],["402",17],["403",We.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",We.VARIABLE_LENGTH,20],["421",We.VARIABLE_LENGTH,15],["422",3],["423",We.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],We.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",We.VARIABLE_LENGTH,15],["391",We.VARIABLE_LENGTH,18],["392",We.VARIABLE_LENGTH,15],["393",We.VARIABLE_LENGTH,18],["703",We.VARIABLE_LENGTH,30]],We.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",We.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",We.VARIABLE_LENGTH,20],["8003",We.VARIABLE_LENGTH,30],["8004",We.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",We.VARIABLE_LENGTH,30],["8008",We.VARIABLE_LENGTH,12],["8018",18],["8020",We.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",We.VARIABLE_LENGTH,70],["8200",We.VARIABLE_LENGTH,70]];class Xe{constructor(m){this.buffer=new ie,this.information=m}decodeAllCodes(m,y){let w=y,E=null;do{let P=this.decodeGeneralPurposeField(w,E),D=We.parseFieldsInGeneralPurpose(P.getNewString());if(D!=null&&m.append(D),P.isRemaining()?E=""+P.getRemainingValue():E=null,w===P.getNewPosition())break;w=P.getNewPosition()}while(!0);return m.toString()}isStillNumeric(m){if(m+7>this.information.getSize())return m+4<=this.information.getSize();for(let y=m;y<m+3;++y)if(this.information.get(y))return!0;return this.information.get(m+3)}decodeNumeric(m){if(m+7>this.information.getSize()){let P=this.extractNumericValueFromBitArray(m,4);return P===0?new Fe(this.information.getSize(),Fe.FNC1,Fe.FNC1):new Fe(this.information.getSize(),P-1,Fe.FNC1)}let y=this.extractNumericValueFromBitArray(m,7),w=(y-8)/11,E=(y-8)%11;return new Fe(m+7,w,E)}extractNumericValueFromBitArray(m,y){return Xe.extractNumericValueFromBitArray(this.information,m,y)}static extractNumericValueFromBitArray(m,y,w){let E=0;for(let P=0;P<w;++P)m.get(y+P)&&(E|=1<<w-P-1);return E}decodeGeneralPurposeField(m,y){this.buffer.setLengthToZero(),y!=null&&this.buffer.append(y),this.current.setPosition(m);let w=this.parseBlocks();return w!=null&&w.isRemaining()?new Ri(this.current.getPosition(),this.buffer.toString(),w.getRemainingValue()):new Ri(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let m,y;do{let w=this.current.getPosition();if(this.current.isAlpha()?(y=this.parseAlphaBlock(),m=y.isFinished()):this.current.isIsoIec646()?(y=this.parseIsoIec646Block(),m=y.isFinished()):(y=this.parseNumericBlock(),m=y.isFinished()),!(w!==this.current.getPosition())&&!m)break}while(!m);return y.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let m=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(m.getNewPosition()),m.isFirstDigitFNC1()){let y;return m.isSecondDigitFNC1()?y=new Ri(this.current.getPosition(),this.buffer.toString()):y=new Ri(this.current.getPosition(),this.buffer.toString(),m.getSecondDigit()),new sa(!0,y)}if(this.buffer.append(m.getFirstDigit()),m.isSecondDigitFNC1()){let y=new Ri(this.current.getPosition(),this.buffer.toString());return new sa(!0,y)}this.buffer.append(m.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new sa(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let m=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(m.getNewPosition()),m.isFNC1()){let y=new Ri(this.current.getPosition(),this.buffer.toString());return new sa(!0,y)}this.buffer.append(m.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new sa(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let m=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(m.getNewPosition()),m.isFNC1()){let y=new Ri(this.current.getPosition(),this.buffer.toString());return new sa(!0,y)}this.buffer.append(m.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new sa(!1)}isStillIsoIec646(m){if(m+5>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(m,5);if(y>=5&&y<16)return!0;if(m+7>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(m,7);if(w>=64&&w<116)return!0;if(m+8>this.information.getSize())return!1;let E=this.extractNumericValueFromBitArray(m,8);return E>=232&&E<253}decodeIsoIec646(m){let y=this.extractNumericValueFromBitArray(m,5);if(y===15)return new si(m+5,si.FNC1);if(y>=5&&y<15)return new si(m+5,"0"+(y-5));let w=this.extractNumericValueFromBitArray(m,7);if(w>=64&&w<90)return new si(m+7,""+(w+1));if(w>=90&&w<116)return new si(m+7,""+(w+7));let E=this.extractNumericValueFromBitArray(m,8),P;switch(E){case 232:P="!";break;case 233:P='"';break;case 234:P="%";break;case 235:P="&";break;case 236:P="'";break;case 237:P="(";break;case 238:P=")";break;case 239:P="*";break;case 240:P="+";break;case 241:P=",";break;case 242:P="-";break;case 243:P=".";break;case 244:P="/";break;case 245:P=":";break;case 246:P=";";break;case 247:P="<";break;case 248:P="=";break;case 249:P=">";break;case 250:P="?";break;case 251:P="_";break;case 252:P=" ";break;default:throw new M}return new si(m+8,P)}isStillAlpha(m){if(m+5>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(m,5);if(y>=5&&y<16)return!0;if(m+6>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(m,6);return w>=16&&w<63}decodeAlphanumeric(m){let y=this.extractNumericValueFromBitArray(m,5);if(y===15)return new si(m+5,si.FNC1);if(y>=5&&y<15)return new si(m+5,"0"+(y-5));let w=this.extractNumericValueFromBitArray(m,6);if(w>=32&&w<58)return new si(m+6,""+(w+33));let E;switch(w){case 58:E="*";break;case 59:E=",";break;case 60:E="-";break;case 61:E=".";break;case 62:E="/";break;default:throw new ht("Decoding invalid alphanumeric value: "+w)}return new si(m+6,E)}isAlphaTo646ToAlphaLatch(m){if(m+1>this.information.getSize())return!1;for(let y=0;y<5&&y+m<this.information.getSize();++y)if(y===2){if(!this.information.get(m+2))return!1}else if(this.information.get(m+y))return!1;return!0}isAlphaOr646ToNumericLatch(m){if(m+3>this.information.getSize())return!1;for(let y=m;y<m+3;++y)if(this.information.get(y))return!1;return!0}isNumericToAlphaNumericLatch(m){if(m+1>this.information.getSize())return!1;for(let y=0;y<4&&y+m<this.information.getSize();++y)if(this.information.get(m+y))return!1;return!0}}class Qe{constructor(m){this.information=m,this.generalDecoder=new Xe(m)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Je extends Qe{constructor(m){super(m)}encodeCompressedGtin(m,y){m.append("(01)");let w=m.length();m.append("9"),this.encodeCompressedGtinWithoutAI(m,y,w)}encodeCompressedGtinWithoutAI(m,y,w){for(let E=0;E<4;++E){let P=this.getGeneralDecoder().extractNumericValueFromBitArray(y+10*E,10);P/100===0&&m.append("0"),P/10===0&&m.append("0"),m.append(P)}Je.appendCheckDigit(m,w)}static appendCheckDigit(m,y){let w=0;for(let E=0;E<13;E++){let P=m.charAt(E+y).charCodeAt(0)-"0".charCodeAt(0);w+=E&1?P:3*P}w=10-w%10,w===10&&(w=0),m.append(w)}}Je.GTIN_SIZE=40;class it extends Je{constructor(m){super(m)}parseInformation(){let m=new ie;m.append("(01)");let y=m.length(),w=this.getGeneralDecoder().extractNumericValueFromBitArray(it.HEADER_SIZE,4);return m.append(w),this.encodeCompressedGtinWithoutAI(m,it.HEADER_SIZE+4,y),this.getGeneralDecoder().decodeAllCodes(m,it.HEADER_SIZE+44)}}it.HEADER_SIZE=1+1+2;class wt extends Qe{constructor(m){super(m)}parseInformation(){let m=new ie;return this.getGeneralDecoder().decodeAllCodes(m,wt.HEADER_SIZE)}}wt.HEADER_SIZE=2+1+2;class Pt extends Je{constructor(m){super(m)}encodeCompressedWeight(m,y,w){let E=this.getGeneralDecoder().extractNumericValueFromBitArray(y,w);this.addWeightCode(m,E);let P=this.checkWeight(E),D=1e5;for(let V=0;V<5;++V)P/D===0&&m.append("0"),D/=10;m.append(P)}}class St extends Pt{constructor(m){super(m)}parseInformation(){if(this.getInformation().getSize()!=St.HEADER_SIZE+Pt.GTIN_SIZE+St.WEIGHT_SIZE)throw new X;let m=new ie;return this.encodeCompressedGtin(m,St.HEADER_SIZE),this.encodeCompressedWeight(m,St.HEADER_SIZE+Pt.GTIN_SIZE,St.WEIGHT_SIZE),m.toString()}}St.HEADER_SIZE=4+1,St.WEIGHT_SIZE=15;class Rt extends St{constructor(m){super(m)}addWeightCode(m,y){m.append("(3103)")}checkWeight(m){return m}}class Mt extends St{constructor(m){super(m)}addWeightCode(m,y){y<1e4?m.append("(3202)"):m.append("(3203)")}checkWeight(m){return m<1e4?m:m-1e4}}class mr extends Je{constructor(m){super(m)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Je.GTIN_SIZE)throw new X;let m=new ie;this.encodeCompressedGtin(m,mr.HEADER_SIZE);let y=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Je.GTIN_SIZE,mr.LAST_DIGIT_SIZE);m.append("(392"),m.append(y),m.append(")");let w=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Je.GTIN_SIZE+mr.LAST_DIGIT_SIZE,null);return m.append(w.getNewString()),m.toString()}}mr.HEADER_SIZE=5+1+2,mr.LAST_DIGIT_SIZE=2;class Cr extends Je{constructor(m){super(m)}parseInformation(){if(this.getInformation().getSize()<Cr.HEADER_SIZE+Je.GTIN_SIZE)throw new X;let m=new ie;this.encodeCompressedGtin(m,Cr.HEADER_SIZE);let y=this.getGeneralDecoder().extractNumericValueFromBitArray(Cr.HEADER_SIZE+Je.GTIN_SIZE,Cr.LAST_DIGIT_SIZE);m.append("(393"),m.append(y),m.append(")");let w=this.getGeneralDecoder().extractNumericValueFromBitArray(Cr.HEADER_SIZE+Je.GTIN_SIZE+Cr.LAST_DIGIT_SIZE,Cr.FIRST_THREE_DIGITS_SIZE);w/100==0&&m.append("0"),w/10==0&&m.append("0"),m.append(w);let E=this.getGeneralDecoder().decodeGeneralPurposeField(Cr.HEADER_SIZE+Je.GTIN_SIZE+Cr.LAST_DIGIT_SIZE+Cr.FIRST_THREE_DIGITS_SIZE,null);return m.append(E.getNewString()),m.toString()}}Cr.HEADER_SIZE=5+1+2,Cr.LAST_DIGIT_SIZE=2,Cr.FIRST_THREE_DIGITS_SIZE=10;class Ar extends Pt{constructor(m,y,w){super(m),this.dateCode=w,this.firstAIdigits=y}parseInformation(){if(this.getInformation().getSize()!=Ar.HEADER_SIZE+Ar.GTIN_SIZE+Ar.WEIGHT_SIZE+Ar.DATE_SIZE)throw new X;let m=new ie;return this.encodeCompressedGtin(m,Ar.HEADER_SIZE),this.encodeCompressedWeight(m,Ar.HEADER_SIZE+Ar.GTIN_SIZE,Ar.WEIGHT_SIZE),this.encodeCompressedDate(m,Ar.HEADER_SIZE+Ar.GTIN_SIZE+Ar.WEIGHT_SIZE),m.toString()}encodeCompressedDate(m,y){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(y,Ar.DATE_SIZE);if(w==38400)return;m.append("("),m.append(this.dateCode),m.append(")");let E=w%32;w/=32;let P=w%12+1;w/=12;let D=w;D/10==0&&m.append("0"),m.append(D),P/10==0&&m.append("0"),m.append(P),E/10==0&&m.append("0"),m.append(E)}addWeightCode(m,y){m.append("("),m.append(this.firstAIdigits),m.append(y/1e5),m.append(")")}checkWeight(m){return m%1e5}}Ar.HEADER_SIZE=7+1,Ar.WEIGHT_SIZE=20,Ar.DATE_SIZE=16;function Tr(ke){try{if(ke.get(1))return new it(ke);if(!ke.get(2))return new wt(ke);switch(Xe.extractNumericValueFromBitArray(ke,1,4)){case 4:return new Rt(ke);case 5:return new Mt(ke)}switch(Xe.extractNumericValueFromBitArray(ke,1,5)){case 12:return new mr(ke);case 13:return new Cr(ke)}switch(Xe.extractNumericValueFromBitArray(ke,1,7)){case 56:return new Ar(ke,"310","11");case 57:return new Ar(ke,"320","11");case 58:return new Ar(ke,"310","13");case 59:return new Ar(ke,"320","13");case 60:return new Ar(ke,"310","15");case 61:return new Ar(ke,"320","15");case 62:return new Ar(ke,"310","17");case 63:return new Ar(ke,"320","17")}}catch(m){throw console.log(m),new ht("unknown decoder: "+ke)}}class Pr{constructor(m,y,w,E){this.leftchar=m,this.rightchar=y,this.finderpattern=w,this.maybeLast=E}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(m,y){return m instanceof Pr?Pr.equalsOrNull(m.leftchar,y.leftchar)&&Pr.equalsOrNull(m.rightchar,y.rightchar)&&Pr.equalsOrNull(m.finderpattern,y.finderpattern):!1}static equalsOrNull(m,y){return m===null?y===null:Pr.equals(m,y)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class aa{constructor(m,y,w){this.pairs=m,this.rowNumber=y,this.wasReversed=w}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(m){return this.checkEqualitity(this,m)}toString(){return"{ "+this.pairs+" }"}equals(m,y){return m instanceof aa?this.checkEqualitity(m,y)&&m.wasReversed===y.wasReversed:!1}checkEqualitity(m,y){if(!m||!y)return;let w;return m.forEach((E,P)=>{y.forEach(D=>{E.getLeftChar().getValue()===D.getLeftChar().getValue()&&E.getRightChar().getValue()===D.getRightChar().getValue()&&E.getFinderPatter().getValue()===D.getFinderPatter().getValue()&&(w=!0)})}),w}}class Bt extends Xr{constructor(m){super(...arguments),this.pairs=new Array(Bt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=m===!0}decodeRow(m,y,w){this.pairs.length=0,this.startFromEven=!1;try{return Bt.constructResult(this.decodeRow2pairs(m,y))}catch(E){this.verbose&&console.log(E)}return this.pairs.length=0,this.startFromEven=!0,Bt.constructResult(this.decodeRow2pairs(m,y))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(m,y){let w=!1;for(;!w;)try{this.pairs.push(this.retrieveNextPair(y,this.pairs,m))}catch(P){if(P instanceof X){if(!this.pairs.length)throw new X;w=!0}}if(this.checkChecksum())return this.pairs;let E;if(this.rows.length?E=!0:E=!1,this.storeRow(m,!1),E){let P=this.checkRowsBoolean(!1);if(P!=null||(P=this.checkRowsBoolean(!0),P!=null))return P}throw new X}checkRowsBoolean(m){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,m&&(this.rows=this.rows.reverse());let y=null;try{y=this.checkRows(new Array,0)}catch(w){this.verbose&&console.log(w)}return m&&(this.rows=this.rows.reverse()),y}checkRows(m,y){for(let w=y;w<this.rows.length;w++){let E=this.rows[w];this.pairs.length=0;for(let D of m)this.pairs.push(D.getPairs());if(this.pairs.push(E.getPairs()),!Bt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let P=new Array(m);P.push(E);try{return this.checkRows(P,w+1)}catch(D){this.verbose&&console.log(D)}}throw new X}static isValidSequence(m){for(let y of Bt.FINDER_PATTERN_SEQUENCES){if(m.length>y.length)continue;let w=!0;for(let E=0;E<m.length;E++)if(m[E].getFinderPattern().getValue()!=y[E]){w=!1;break}if(w)return!0}return!1}storeRow(m,y){let w=0,E=!1,P=!1;for(;w<this.rows.length;){let D=this.rows[w];if(D.getRowNumber()>m){P=D.isEquivalent(this.pairs);break}E=D.isEquivalent(this.pairs),w++}P||E||Bt.isPartialRow(this.pairs,this.rows)||(this.rows.push(w,new aa(this.pairs,m,y)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(m,y){for(let w of y)if(w.getPairs().length!==m.length){for(let E of w.getPairs())for(let P of m)if(Pr.equals(E,P))break}}static isPartialRow(m,y){for(let w of y){let E=!0;for(let P of m){let D=!1;for(let V of w.getPairs())if(P.equals(V)){D=!0;break}if(!D){E=!1;break}}if(E)return!0}return!1}getRows(){return this.rows}static constructResult(m){let y=ms.buildBitArray(m),E=Tr(y).parseInformation(),P=m[0].getFinderPattern().getResultPoints(),D=m[m.length-1].getFinderPattern().getResultPoints(),V=[P[0],P[1],D[0],D[1]];return new ne(E,null,null,V,pe.RSS_EXPANDED,null)}checkChecksum(){let m=this.pairs.get(0),y=m.getLeftChar(),w=m.getRightChar();if(w==null)return!1;let E=w.getChecksumPortion(),P=2;for(let V=1;V<this.pairs.size();++V){let J=this.pairs.get(V);E+=J.getLeftChar().getChecksumPortion(),P++;let oe=J.getRightChar();oe!=null&&(E+=oe.getChecksumPortion(),P++)}return E%=211,211*(P-4)+E==y.getValue()}static getNextSecondBar(m,y){let w;return m.get(y)?(w=m.getNextUnset(y),w=m.getNextSet(w)):(w=m.getNextSet(y),w=m.getNextUnset(w)),w}retrieveNextPair(m,y,w){let E=y.length%2==0;this.startFromEven&&(E=!E);let P,D=!0,V=-1;do this.findNextPair(m,y,V),P=this.parseFoundFinderPattern(m,w,E),P==null?V=Bt.getNextSecondBar(m,this.startEnd[0]):D=!1;while(D);let J=this.decodeDataCharacter(m,P,E,!0);if(!this.isEmptyPair(y)&&y[y.length-1].mustBeLast())throw new X;let oe;try{oe=this.decodeDataCharacter(m,P,E,!1)}catch(be){oe=null,this.verbose&&console.log(be)}return new Pr(J,oe,P,!0)}isEmptyPair(m){return m.length===0}findNextPair(m,y,w){let E=this.getDecodeFinderCounters();E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D;w>=0?D=w:this.isEmptyPair(y)?D=0:D=y[y.length-1].getFinderPattern().getStartEnd()[1];let V=y.length%2!=0;this.startFromEven&&(V=!V);let J=!1;for(;D<P&&(J=!m.get(D),!!J);)D++;let oe=0,be=D;for(let Te=D;Te<P;Te++)if(m.get(Te)!=J)E[oe]++;else{if(oe==3){if(V&&Bt.reverseCounters(E),Bt.isFinderPattern(E)){this.startEnd[0]=be,this.startEnd[1]=Te;return}V&&Bt.reverseCounters(E),be+=E[0]+E[1],E[0]=E[2],E[1]=E[3],E[2]=0,E[3]=0,oe--}else oe++;E[oe]=1,J=!J}throw new X}static reverseCounters(m){let y=m.length;for(let w=0;w<y/2;++w){let E=m[w];m[w]=m[y-w-1],m[y-w-1]=E}}parseFoundFinderPattern(m,y,w){let E,P,D;if(w){let oe=this.startEnd[0]-1;for(;oe>=0&&!m.get(oe);)oe--;oe++,E=this.startEnd[0]-oe,P=oe,D=this.startEnd[1]}else P=this.startEnd[0],D=m.getNextUnset(this.startEnd[1]+1),E=D-this.startEnd[1];let V=this.getDecodeFinderCounters();b.arraycopy(V,0,V,1,V.length-1),V[0]=E;let J;try{J=this.parseFinderValue(V,Bt.FINDER_PATTERNS)}catch{return null}return new Ti(J,[P,D],P,D,y)}decodeDataCharacter(m,y,w,E){let P=this.getDataCharacterCounters();for(let mi=0;mi<P.length;mi++)P[mi]=0;if(E)Bt.recordPatternInReverse(m,y.getStartEnd()[0],P);else{Bt.recordPattern(m,y.getStartEnd()[1],P);for(let mi=0,vs=P.length-1;mi<vs;mi++,vs--){let Ws=P[mi];P[mi]=P[vs],P[vs]=Ws}}let D=17,V=Ot.sum(new Int32Array(P))/D,J=(y.getStartEnd()[1]-y.getStartEnd()[0])/15;if(Math.abs(V-J)/J>.3)throw new X;let oe=this.getOddCounts(),be=this.getEvenCounts(),Te=this.getOddRoundingErrors(),Le=this.getEvenRoundingErrors();for(let mi=0;mi<P.length;mi++){let vs=1*P[mi]/V,Ws=vs+.5;if(Ws<1){if(vs<.3)throw new X;Ws=1}else if(Ws>8){if(vs>8.7)throw new X;Ws=8}let Yl=mi/2;mi&1?(be[Yl]=Ws,Le[Yl]=vs-Ws):(oe[Yl]=Ws,Te[Yl]=vs-Ws)}this.adjustOddEvenCounts(D);let tt=4*y.getValue()+(w?0:2)+(E?0:1)-1,ut=0,pt=0;for(let mi=oe.length-1;mi>=0;mi--){if(Bt.isNotA1left(y,w,E)){let vs=Bt.WEIGHTS[tt][2*mi];pt+=oe[mi]*vs}ut+=oe[mi]}let Nt=0;for(let mi=be.length-1;mi>=0;mi--)if(Bt.isNotA1left(y,w,E)){let vs=Bt.WEIGHTS[tt][2*mi+1];Nt+=be[mi]*vs}let Vt=pt+Nt;if(ut&1||ut>13||ut<4)throw new X;let ir=(13-ut)/2,vr=Bt.SYMBOL_WIDEST[ir],pr=9-vr,La=ln.getRSSvalue(oe,vr,!0),ca=ln.getRSSvalue(be,pr,!1),hi=Bt.EVEN_TOTAL_SUBSET[ir],Po=Bt.GSUM[ir],Ps=La*hi+ca+Po;return new Ei(Ps,Vt)}static isNotA1left(m,y,w){return!(m.getValue()==0&&y&&w)}adjustOddEvenCounts(m){let y=Ot.sum(new Int32Array(this.getOddCounts())),w=Ot.sum(new Int32Array(this.getEvenCounts())),E=!1,P=!1;y>13?P=!0:y<4&&(E=!0);let D=!1,V=!1;w>13?V=!0:w<4&&(D=!0);let J=y+w-m,oe=(y&1)==1,be=(w&1)==0;if(J==1)if(oe){if(be)throw new X;P=!0}else{if(!be)throw new X;V=!0}else if(J==-1)if(oe){if(be)throw new X;E=!0}else{if(!be)throw new X;D=!0}else if(J==0){if(oe){if(!be)throw new X;y<w?(E=!0,V=!0):(P=!0,D=!0)}else if(be)throw new X}else throw new X;if(E){if(P)throw new X;Bt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(P&&Bt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if(V)throw new X;Bt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}V&&Bt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.SYMBOL_WIDEST=[7,5,4,3,1],Bt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Bt.GSUM=[0,348,1388,2948,3988],Bt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Bt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Bt.FINDER_PAT_A=0,Bt.FINDER_PAT_B=1,Bt.FINDER_PAT_C=2,Bt.FINDER_PAT_D=3,Bt.FINDER_PAT_E=4,Bt.FINDER_PAT_F=5,Bt.FINDER_PATTERN_SEQUENCES=[[Bt.FINDER_PAT_A,Bt.FINDER_PAT_A],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_B,Bt.FINDER_PAT_B],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_C,Bt.FINDER_PAT_B,Bt.FINDER_PAT_D],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_E,Bt.FINDER_PAT_B,Bt.FINDER_PAT_D,Bt.FINDER_PAT_C],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_E,Bt.FINDER_PAT_B,Bt.FINDER_PAT_D,Bt.FINDER_PAT_D,Bt.FINDER_PAT_F],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_E,Bt.FINDER_PAT_B,Bt.FINDER_PAT_D,Bt.FINDER_PAT_E,Bt.FINDER_PAT_F,Bt.FINDER_PAT_F],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_A,Bt.FINDER_PAT_B,Bt.FINDER_PAT_B,Bt.FINDER_PAT_C,Bt.FINDER_PAT_C,Bt.FINDER_PAT_D,Bt.FINDER_PAT_D],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_A,Bt.FINDER_PAT_B,Bt.FINDER_PAT_B,Bt.FINDER_PAT_C,Bt.FINDER_PAT_C,Bt.FINDER_PAT_D,Bt.FINDER_PAT_E,Bt.FINDER_PAT_E],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_A,Bt.FINDER_PAT_B,Bt.FINDER_PAT_B,Bt.FINDER_PAT_C,Bt.FINDER_PAT_C,Bt.FINDER_PAT_D,Bt.FINDER_PAT_E,Bt.FINDER_PAT_F,Bt.FINDER_PAT_F],[Bt.FINDER_PAT_A,Bt.FINDER_PAT_A,Bt.FINDER_PAT_B,Bt.FINDER_PAT_B,Bt.FINDER_PAT_C,Bt.FINDER_PAT_D,Bt.FINDER_PAT_D,Bt.FINDER_PAT_E,Bt.FINDER_PAT_E,Bt.FINDER_PAT_F,Bt.FINDER_PAT_F]],Bt.MAX_PAIRS=11;class Ra extends Ei{constructor(m,y,w){super(m,y),this.count=0,this.finderPattern=w}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pa extends Xr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(m,y,w){const E=this.decodePair(y,!1,m,w);Pa.addOrTally(this.possibleLeftPairs,E),y.reverse();let P=this.decodePair(y,!0,m,w);Pa.addOrTally(this.possibleRightPairs,P),y.reverse();for(let D of this.possibleLeftPairs)if(D.getCount()>1){for(let V of this.possibleRightPairs)if(V.getCount()>1&&Pa.checkChecksum(D,V))return Pa.constructResult(D,V)}throw new X}static addOrTally(m,y){if(y==null)return;let w=!1;for(let E of m)if(E.getValue()===y.getValue()){E.incrementCount(),w=!0;break}w||m.push(y)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(m,y){let w=4537077*m.getValue()+y.getValue(),E=new String(w).toString(),P=new ie;for(let oe=13-E.length;oe>0;oe--)P.append("0");P.append(E);let D=0;for(let oe=0;oe<13;oe++){let be=P.charAt(oe).charCodeAt(0)-"0".charCodeAt(0);D+=oe&1?be:3*be}D=10-D%10,D===10&&(D=0),P.append(D.toString());let V=m.getFinderPattern().getResultPoints(),J=y.getFinderPattern().getResultPoints();return new ne(P.toString(),null,0,[V[0],V[1],J[0],J[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(m,y){let w=(m.getChecksumPortion()+16*y.getChecksumPortion())%79,E=9*m.getFinderPattern().getValue()+y.getFinderPattern().getValue();return E>72&&E--,E>8&&E--,w===E}decodePair(m,y,w,E){try{let P=this.findFinderPattern(m,y),D=this.parseFoundFinderPattern(m,w,y,P),V=E==null?null:E.get(B.NEED_RESULT_POINT_CALLBACK);if(V!=null){let be=(P[0]+P[1])/2;y&&(be=m.getSize()-1-be),V.foundPossibleResultPoint(new st(be,w))}let J=this.decodeDataCharacter(m,D,!0),oe=this.decodeDataCharacter(m,D,!1);return new Ra(1597*J.getValue()+oe.getValue(),J.getChecksumPortion()+4*oe.getChecksumPortion(),D)}catch{return null}}decodeDataCharacter(m,y,w){let E=this.getDataCharacterCounters();for(let Nt=0;Nt<E.length;Nt++)E[Nt]=0;if(w)Mn.recordPatternInReverse(m,y.getStartEnd()[0],E);else{Mn.recordPattern(m,y.getStartEnd()[1]+1,E);for(let Nt=0,Vt=E.length-1;Nt<Vt;Nt++,Vt--){let ir=E[Nt];E[Nt]=E[Vt],E[Vt]=ir}}let P=w?16:15,D=Ot.sum(new Int32Array(E))/P,V=this.getOddCounts(),J=this.getEvenCounts(),oe=this.getOddRoundingErrors(),be=this.getEvenRoundingErrors();for(let Nt=0;Nt<E.length;Nt++){let Vt=E[Nt]/D,ir=Math.floor(Vt+.5);ir<1?ir=1:ir>8&&(ir=8);let vr=Math.floor(Nt/2);Nt&1?(J[vr]=ir,be[vr]=Vt-ir):(V[vr]=ir,oe[vr]=Vt-ir)}this.adjustOddEvenCounts(w,P);let Te=0,Le=0;for(let Nt=V.length-1;Nt>=0;Nt--)Le*=9,Le+=V[Nt],Te+=V[Nt];let tt=0,ut=0;for(let Nt=J.length-1;Nt>=0;Nt--)tt*=9,tt+=J[Nt],ut+=J[Nt];let pt=Le+3*tt;if(w){if(Te&1||Te>12||Te<4)throw new X;let Nt=(12-Te)/2,Vt=Pa.OUTSIDE_ODD_WIDEST[Nt],ir=9-Vt,vr=ln.getRSSvalue(V,Vt,!1),pr=ln.getRSSvalue(J,ir,!0),La=Pa.OUTSIDE_EVEN_TOTAL_SUBSET[Nt],ca=Pa.OUTSIDE_GSUM[Nt];return new Ei(vr*La+pr+ca,pt)}else{if(ut&1||ut>10||ut<4)throw new X;let Nt=(10-ut)/2,Vt=Pa.INSIDE_ODD_WIDEST[Nt],ir=9-Vt,vr=ln.getRSSvalue(V,Vt,!0),pr=ln.getRSSvalue(J,ir,!1),La=Pa.INSIDE_ODD_TOTAL_SUBSET[Nt],ca=Pa.INSIDE_GSUM[Nt];return new Ei(pr*La+vr+ca,pt)}}findFinderPattern(m,y){let w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;let E=m.getSize(),P=!1,D=0;for(;D<E&&(P=!m.get(D),y!==P);)D++;let V=0,J=D;for(let oe=D;oe<E;oe++)if(m.get(oe)!==P)w[V]++;else{if(V===3){if(Xr.isFinderPattern(w))return[J,oe];J+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,V--}else V++;w[V]=1,P=!P}throw new X}parseFoundFinderPattern(m,y,w,E){let P=m.get(E[0]),D=E[0]-1;for(;D>=0&&P!==m.get(D);)D--;D++;const V=E[0]-D,J=this.getDecodeFinderCounters(),oe=new Int32Array(J.length);b.arraycopy(J,0,oe,1,J.length-1),oe[0]=V;const be=this.parseFinderValue(oe,Pa.FINDER_PATTERNS);let Te=D,Le=E[1];return w&&(Te=m.getSize()-1-Te,Le=m.getSize()-1-Le),new Ti(be,[D,E[1]],Te,Le,y)}adjustOddEvenCounts(m,y){let w=Ot.sum(new Int32Array(this.getOddCounts())),E=Ot.sum(new Int32Array(this.getEvenCounts())),P=!1,D=!1,V=!1,J=!1;m?(w>12?D=!0:w<4&&(P=!0),E>12?J=!0:E<4&&(V=!0)):(w>11?D=!0:w<5&&(P=!0),E>10?J=!0:E<4&&(V=!0));let oe=w+E-y,be=(w&1)===(m?1:0),Te=(E&1)===1;if(oe===1)if(be){if(Te)throw new X;D=!0}else{if(!Te)throw new X;J=!0}else if(oe===-1)if(be){if(Te)throw new X;P=!0}else{if(!Te)throw new X;V=!0}else if(oe===0){if(be){if(!Te)throw new X;w<E?(P=!0,J=!0):(D=!0,V=!0)}else if(Te)throw new X}else throw new X;if(P){if(D)throw new X;Xr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(D&&Xr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),V){if(J)throw new X;Xr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}J&&Xr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pa.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pa.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pa.OUTSIDE_GSUM=[0,161,961,2015,2715],Pa.INSIDE_GSUM=[0,336,1036,1516],Pa.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pa.INSIDE_ODD_WIDEST=[2,4,6,8],Pa.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Kn extends Mn{constructor(m,y){super(),this.readers=[],this.verbose=y===!0;const w=m?m.get(B.POSSIBLE_FORMATS):null,E=m&&m.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;w?((w.includes(pe.EAN_13)||w.includes(pe.UPC_A)||w.includes(pe.EAN_8)||w.includes(pe.UPC_E))&&this.readers.push(new ba(m)),w.includes(pe.CODE_39)&&this.readers.push(new An(E)),w.includes(pe.CODE_128)&&this.readers.push(new Nr),w.includes(pe.ITF)&&this.readers.push(new pn),w.includes(pe.RSS_14)&&this.readers.push(new Pa),w.includes(pe.RSS_EXPANDED)&&this.readers.push(new Bt(this.verbose))):(this.readers.push(new ba(m)),this.readers.push(new An),this.readers.push(new ba(m)),this.readers.push(new Nr),this.readers.push(new pn),this.readers.push(new Pa),this.readers.push(new Bt(this.verbose)))}decodeRow(m,y,w){for(let E=0;E<this.readers.length;E++)try{return this.readers[E].decodeRow(m,y,w)}catch{}throw new X}reset(){this.readers.forEach(m=>m.reset())}}class au extends le{constructor(m=500,y){super(new Kn(y),m,y)}}class Ma{constructor(m,y,w){this.ecCodewords=m,this.ecBlocks=[y],w&&this.ecBlocks.push(w)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ma{constructor(m,y){this.count=m,this.dataCodewords=y}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wn{constructor(m,y,w,E,P,D){this.versionNumber=m,this.symbolSizeRows=y,this.symbolSizeColumns=w,this.dataRegionSizeRows=E,this.dataRegionSizeColumns=P,this.ecBlocks=D;let V=0;const J=D.getECCodewords(),oe=D.getECBlocks();for(let be of oe)V+=be.getCount()*(be.getDataCodewords()+J);this.totalCodewords=V}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(m,y){if(m&1||y&1)throw new M;for(let w of wn.VERSIONS)if(w.symbolSizeRows===m&&w.symbolSizeColumns===y)return w;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new wn(1,10,10,8,8,new Ma(5,new ma(1,3))),new wn(2,12,12,10,10,new Ma(7,new ma(1,5))),new wn(3,14,14,12,12,new Ma(10,new ma(1,8))),new wn(4,16,16,14,14,new Ma(12,new ma(1,12))),new wn(5,18,18,16,16,new Ma(14,new ma(1,18))),new wn(6,20,20,18,18,new Ma(18,new ma(1,22))),new wn(7,22,22,20,20,new Ma(20,new ma(1,30))),new wn(8,24,24,22,22,new Ma(24,new ma(1,36))),new wn(9,26,26,24,24,new Ma(28,new ma(1,44))),new wn(10,32,32,14,14,new Ma(36,new ma(1,62))),new wn(11,36,36,16,16,new Ma(42,new ma(1,86))),new wn(12,40,40,18,18,new Ma(48,new ma(1,114))),new wn(13,44,44,20,20,new Ma(56,new ma(1,144))),new wn(14,48,48,22,22,new Ma(68,new ma(1,174))),new wn(15,52,52,24,24,new Ma(42,new ma(2,102))),new wn(16,64,64,14,14,new Ma(56,new ma(2,140))),new wn(17,72,72,16,16,new Ma(36,new ma(4,92))),new wn(18,80,80,18,18,new Ma(48,new ma(4,114))),new wn(19,88,88,20,20,new Ma(56,new ma(4,144))),new wn(20,96,96,22,22,new Ma(68,new ma(4,174))),new wn(21,104,104,24,24,new Ma(56,new ma(6,136))),new wn(22,120,120,18,18,new Ma(68,new ma(6,175))),new wn(23,132,132,20,20,new Ma(62,new ma(8,163))),new wn(24,144,144,22,22,new Ma(62,new ma(8,156),new ma(2,155))),new wn(25,8,18,6,16,new Ma(7,new ma(1,5))),new wn(26,8,32,6,14,new Ma(11,new ma(1,10))),new wn(27,12,26,10,24,new Ma(14,new ma(1,16))),new wn(28,12,36,10,16,new Ma(18,new ma(1,22))),new wn(29,16,36,14,16,new Ma(24,new ma(1,32))),new wn(30,16,48,14,22,new Ma(28,new ma(1,49)))]}}wn.VERSIONS=wn.buildVersions();class Cl{constructor(m){const y=m.getHeight();if(y<8||y>144||y&1)throw new M;this.version=Cl.readVersion(m),this.mappingBitMatrix=this.extractDataRegion(m),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(m){const y=m.getHeight(),w=m.getWidth();return wn.getVersionForDimensions(y,w)}readCodewords(){const m=new Int8Array(this.version.getTotalCodewords());let y=0,w=4,E=0;const P=this.mappingBitMatrix.getHeight(),D=this.mappingBitMatrix.getWidth();let V=!1,J=!1,oe=!1,be=!1;do if(w===P&&E===0&&!V)m[y++]=this.readCorner1(P,D)&255,w-=2,E+=2,V=!0;else if(w===P-2&&E===0&&D&3&&!J)m[y++]=this.readCorner2(P,D)&255,w-=2,E+=2,J=!0;else if(w===P+4&&E===2&&!(D&7)&&!oe)m[y++]=this.readCorner3(P,D)&255,w-=2,E+=2,oe=!0;else if(w===P-2&&E===0&&(D&7)===4&&!be)m[y++]=this.readCorner4(P,D)&255,w-=2,E+=2,be=!0;else{do w<P&&E>=0&&!this.readMappingMatrix.get(E,w)&&(m[y++]=this.readUtah(w,E,P,D)&255),w-=2,E+=2;while(w>=0&&E<D);w+=1,E+=3;do w>=0&&E<D&&!this.readMappingMatrix.get(E,w)&&(m[y++]=this.readUtah(w,E,P,D)&255),w+=2,E-=2;while(w<P&&E>=0);w+=3,E+=1}while(w<P||E<D);if(y!==this.version.getTotalCodewords())throw new M;return m}readModule(m,y,w,E){return m<0&&(m+=w,y+=4-(w+4&7)),y<0&&(y+=E,m+=4-(E+4&7)),this.readMappingMatrix.set(y,m),this.mappingBitMatrix.get(y,m)}readUtah(m,y,w,E){let P=0;return this.readModule(m-2,y-2,w,E)&&(P|=1),P<<=1,this.readModule(m-2,y-1,w,E)&&(P|=1),P<<=1,this.readModule(m-1,y-2,w,E)&&(P|=1),P<<=1,this.readModule(m-1,y-1,w,E)&&(P|=1),P<<=1,this.readModule(m-1,y,w,E)&&(P|=1),P<<=1,this.readModule(m,y-2,w,E)&&(P|=1),P<<=1,this.readModule(m,y-1,w,E)&&(P|=1),P<<=1,this.readModule(m,y,w,E)&&(P|=1),P}readCorner1(m,y){let w=0;return this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,1,m,y)&&(w|=1),w<<=1,this.readModule(m-1,2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w<<=1,this.readModule(2,y-1,m,y)&&(w|=1),w<<=1,this.readModule(3,y-1,m,y)&&(w|=1),w}readCorner2(m,y){let w=0;return this.readModule(m-3,0,m,y)&&(w|=1),w<<=1,this.readModule(m-2,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(0,y-4,m,y)&&(w|=1),w<<=1,this.readModule(0,y-3,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w}readCorner3(m,y){let w=0;return this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,y-1,m,y)&&(w|=1),w<<=1,this.readModule(0,y-3,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-3,m,y)&&(w|=1),w<<=1,this.readModule(1,y-2,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w}readCorner4(m,y){let w=0;return this.readModule(m-3,0,m,y)&&(w|=1),w<<=1,this.readModule(m-2,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w<<=1,this.readModule(2,y-1,m,y)&&(w|=1),w<<=1,this.readModule(3,y-1,m,y)&&(w|=1),w}extractDataRegion(m){const y=this.version.getSymbolSizeRows(),w=this.version.getSymbolSizeColumns();if(m.getHeight()!==y)throw new h("Dimension of bitMatrix must match the version size");const E=this.version.getDataRegionSizeRows(),P=this.version.getDataRegionSizeColumns(),D=y/E|0,V=w/P|0,J=D*E,oe=V*P,be=new ae(oe,J);for(let Te=0;Te<D;++Te){const Le=Te*E;for(let tt=0;tt<V;++tt){const ut=tt*P;for(let pt=0;pt<E;++pt){const Nt=Te*(E+2)+1+pt,Vt=Le+pt;for(let ir=0;ir<P;++ir){const vr=tt*(P+2)+1+ir;if(m.get(vr,Nt)){const pr=ut+ir;be.set(pr,Vt)}}}}}return be}}class Ya{constructor(m,y){this.numDataCodewords=m,this.codewords=y}static getDataBlocks(m,y){const w=y.getECBlocks();let E=0;const P=w.getECBlocks();for(let pt of P)E+=pt.getCount();const D=new Array(E);let V=0;for(let pt of P)for(let Nt=0;Nt<pt.getCount();Nt++){const Vt=pt.getDataCodewords(),ir=w.getECCodewords()+Vt;D[V++]=new Ya(Vt,new Uint8Array(ir))}const oe=D[0].codewords.length-w.getECCodewords(),be=oe-1;let Te=0;for(let pt=0;pt<be;pt++)for(let Nt=0;Nt<V;Nt++)D[Nt].codewords[pt]=m[Te++];const Le=y.getVersionNumber()===24,tt=Le?8:V;for(let pt=0;pt<tt;pt++)D[pt].codewords[oe-1]=m[Te++];const ut=D[0].codewords.length;for(let pt=oe;pt<ut;pt++)for(let Nt=0;Nt<V;Nt++){const Vt=Le?(Nt+8)%V:Nt,ir=Le&&Vt>7?pt-1:pt;D[Vt].codewords[ir]=m[Te++]}if(Te!==m.length)throw new h;return D}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Fh{constructor(m){this.bytes=m,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(m){if(m<1||m>32||m>this.available())throw new h(""+m);let y=0,w=this.bitOffset,E=this.byteOffset;const P=this.bytes;if(w>0){const D=8-w,V=m<D?m:D,J=D-V,oe=255>>8-V<<J;y=(P[E]&oe)>>J,m-=V,w+=V,w===8&&(w=0,E++)}if(m>0){for(;m>=8;)y=y<<8|P[E]&255,E++,m-=8;if(m>0){const D=8-m,V=255>>D<<D;y=y<<m|(P[E]&V)>>D,w+=m}}return this.bitOffset=w,this.byteOffset=E,y}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Es;(function(ke){ke[ke.PAD_ENCODE=0]="PAD_ENCODE",ke[ke.ASCII_ENCODE=1]="ASCII_ENCODE",ke[ke.C40_ENCODE=2]="C40_ENCODE",ke[ke.TEXT_ENCODE=3]="TEXT_ENCODE",ke[ke.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ke[ke.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ke[ke.BASE256_ENCODE=6]="BASE256_ENCODE"})(Es||(Es={}));class Un{static decode(m){const y=new Fh(m),w=new ie,E=new ie,P=new Array;let D=Es.ASCII_ENCODE;do if(D===Es.ASCII_ENCODE)D=this.decodeAsciiSegment(y,w,E);else{switch(D){case Es.C40_ENCODE:this.decodeC40Segment(y,w);break;case Es.TEXT_ENCODE:this.decodeTextSegment(y,w);break;case Es.ANSIX12_ENCODE:this.decodeAnsiX12Segment(y,w);break;case Es.EDIFACT_ENCODE:this.decodeEdifactSegment(y,w);break;case Es.BASE256_ENCODE:this.decodeBase256Segment(y,w,P);break;default:throw new M}D=Es.ASCII_ENCODE}while(D!==Es.PAD_ENCODE&&y.available()>0);return E.length()>0&&w.append(E.toString()),new Se(m,w.toString(),P.length===0?null:P,null)}static decodeAsciiSegment(m,y,w){let E=!1;do{let P=m.readBits(8);if(P===0)throw new M;if(P<=128)return E&&(P+=128),y.append(String.fromCharCode(P-1)),Es.ASCII_ENCODE;if(P===129)return Es.PAD_ENCODE;if(P<=229){const D=P-130;D<10&&y.append("0"),y.append(""+D)}else switch(P){case 230:return Es.C40_ENCODE;case 231:return Es.BASE256_ENCODE;case 232:y.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:E=!0;break;case 236:y.append("[)>05"),w.insert(0,"");break;case 237:y.append("[)>06"),w.insert(0,"");break;case 238:return Es.ANSIX12_ENCODE;case 239:return Es.TEXT_ENCODE;case 240:return Es.EDIFACT_ENCODE;case 241:break;default:if(P!==254||m.available()!==0)throw new M;break}}while(m.available()>0);return Es.ASCII_ENCODE}static decodeC40Segment(m,y){let w=!1;const E=[];let P=0;do{if(m.available()===8)return;const D=m.readBits(8);if(D===254)return;this.parseTwoBytes(D,m.readBits(8),E);for(let V=0;V<3;V++){const J=E[V];switch(P){case 0:if(J<3)P=J+1;else if(J<this.C40_BASIC_SET_CHARS.length){const oe=this.C40_BASIC_SET_CHARS[J];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else throw new M;break;case 1:w?(y.append(String.fromCharCode(J+128)),w=!1):y.append(String.fromCharCode(J)),P=0;break;case 2:if(J<this.C40_SHIFT2_SET_CHARS.length){const oe=this.C40_SHIFT2_SET_CHARS[J];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else switch(J){case 27:y.append(String.fromCharCode(29));break;case 30:w=!0;break;default:throw new M}P=0;break;case 3:w?(y.append(String.fromCharCode(J+224)),w=!1):y.append(String.fromCharCode(J+96)),P=0;break;default:throw new M}}}while(m.available()>0)}static decodeTextSegment(m,y){let w=!1,E=[],P=0;do{if(m.available()===8)return;const D=m.readBits(8);if(D===254)return;this.parseTwoBytes(D,m.readBits(8),E);for(let V=0;V<3;V++){const J=E[V];switch(P){case 0:if(J<3)P=J+1;else if(J<this.TEXT_BASIC_SET_CHARS.length){const oe=this.TEXT_BASIC_SET_CHARS[J];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else throw new M;break;case 1:w?(y.append(String.fromCharCode(J+128)),w=!1):y.append(String.fromCharCode(J)),P=0;break;case 2:if(J<this.TEXT_SHIFT2_SET_CHARS.length){const oe=this.TEXT_SHIFT2_SET_CHARS[J];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else switch(J){case 27:y.append(String.fromCharCode(29));break;case 30:w=!0;break;default:throw new M}P=0;break;case 3:if(J<this.TEXT_SHIFT3_SET_CHARS.length){const oe=this.TEXT_SHIFT3_SET_CHARS[J];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe),P=0}else throw new M;break;default:throw new M}}}while(m.available()>0)}static decodeAnsiX12Segment(m,y){const w=[];do{if(m.available()===8)return;const E=m.readBits(8);if(E===254)return;this.parseTwoBytes(E,m.readBits(8),w);for(let P=0;P<3;P++){const D=w[P];switch(D){case 0:y.append("\r");break;case 1:y.append("*");break;case 2:y.append(">");break;case 3:y.append(" ");break;default:if(D<14)y.append(String.fromCharCode(D+44));else if(D<40)y.append(String.fromCharCode(D+51));else throw new M;break}}}while(m.available()>0)}static parseTwoBytes(m,y,w){let E=(m<<8)+y-1,P=Math.floor(E/1600);w[0]=P,E-=P*1600,P=Math.floor(E/40),w[1]=P,w[2]=E-P*40}static decodeEdifactSegment(m,y){do{if(m.available()<=16)return;for(let w=0;w<4;w++){let E=m.readBits(6);if(E===31){const P=8-m.getBitOffset();P!==8&&m.readBits(P);return}E&32||(E|=64),y.append(String.fromCharCode(E))}}while(m.available()>0)}static decodeBase256Segment(m,y,w){let E=1+m.getByteOffset();const P=this.unrandomize255State(m.readBits(8),E++);let D;if(P===0?D=m.available()/8|0:P<250?D=P:D=250*(P-249)+this.unrandomize255State(m.readBits(8),E++),D<0)throw new M;const V=new Uint8Array(D);for(let J=0;J<D;J++){if(m.available()<8)throw new M;V[J]=this.unrandomize255State(m.readBits(8),E++)}w.push(V);try{y.append(K.decode(V,q.ISO88591))}catch(J){throw new ht("Platform does not support required encoding: "+J.message)}}static unrandomize255State(m,y){const w=149*y%255+1,E=m-w;return E>=0?E:E+256}}Un.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Un.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Un.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Un.TEXT_SHIFT2_SET_CHARS=Un.C40_SHIFT2_SET_CHARS,Un.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class zl{constructor(){this.rsDecoder=new Ue(at.DATA_MATRIX_FIELD_256)}decode(m){const y=new Cl(m),w=y.getVersion(),E=y.readCodewords(),P=Ya.getDataBlocks(E,w);let D=0;for(let oe of P)D+=oe.getNumDataCodewords();const V=new Uint8Array(D),J=P.length;for(let oe=0;oe<J;oe++){const be=P[oe],Te=be.getCodewords(),Le=be.getNumDataCodewords();this.correctErrors(Te,Le);for(let tt=0;tt<Le;tt++)V[tt*J+oe]=Te[tt]}return Un.decode(V)}correctErrors(m,y){const w=new Int32Array(m);try{this.rsDecoder.decode(w,m.length-y)}catch{throw new p}for(let E=0;E<y;E++)m[E]=w[E]}}class ps{constructor(m){this.image=m,this.rectangleDetector=new kr(this.image)}detect(){const m=this.rectangleDetector.detect();let y=this.detectSolid1(m);if(y=this.detectSolid2(y),y[3]=this.correctTopRight(y),!y[3])throw new X;y=this.shiftToModuleCenter(y);const w=y[0],E=y[1],P=y[2],D=y[3];let V=this.transitionsBetween(w,D)+1,J=this.transitionsBetween(P,D)+1;(V&1)===1&&(V+=1),(J&1)===1&&(J+=1),4*V<7*J&&4*J<7*V&&(V=J=Math.max(V,J));let oe=ps.sampleGrid(this.image,w,E,P,D,V,J);return new lr(oe,[w,E,P,D])}static shiftPoint(m,y,w){let E=(y.getX()-m.getX())/(w+1),P=(y.getY()-m.getY())/(w+1);return new st(m.getX()+E,m.getY()+P)}static moveAway(m,y,w){let E=m.getX(),P=m.getY();return E<y?E-=1:E+=1,P<w?P-=1:P+=1,new st(E,P)}detectSolid1(m){let y=m[0],w=m[1],E=m[3],P=m[2],D=this.transitionsBetween(y,w),V=this.transitionsBetween(w,E),J=this.transitionsBetween(E,P),oe=this.transitionsBetween(P,y),be=D,Te=[P,y,w,E];return be>V&&(be=V,Te[0]=y,Te[1]=w,Te[2]=E,Te[3]=P),be>J&&(be=J,Te[0]=w,Te[1]=E,Te[2]=P,Te[3]=y),be>oe&&(Te[0]=E,Te[1]=P,Te[2]=y,Te[3]=w),Te}detectSolid2(m){let y=m[0],w=m[1],E=m[2],P=m[3],D=this.transitionsBetween(y,P),V=ps.shiftPoint(w,E,(D+1)*4),J=ps.shiftPoint(E,w,(D+1)*4),oe=this.transitionsBetween(V,y),be=this.transitionsBetween(J,P);return oe<be?(m[0]=y,m[1]=w,m[2]=E,m[3]=P):(m[0]=w,m[1]=E,m[2]=P,m[3]=y),m}correctTopRight(m){let y=m[0],w=m[1],E=m[2],P=m[3],D=this.transitionsBetween(y,P),V=this.transitionsBetween(w,P),J=ps.shiftPoint(y,w,(V+1)*4),oe=ps.shiftPoint(E,w,(D+1)*4);D=this.transitionsBetween(J,P),V=this.transitionsBetween(oe,P);let be=new st(P.getX()+(E.getX()-w.getX())/(D+1),P.getY()+(E.getY()-w.getY())/(D+1)),Te=new st(P.getX()+(y.getX()-w.getX())/(V+1),P.getY()+(y.getY()-w.getY())/(V+1));if(!this.isValid(be))return this.isValid(Te)?Te:null;if(!this.isValid(Te))return be;let Le=this.transitionsBetween(J,be)+this.transitionsBetween(oe,be),tt=this.transitionsBetween(J,Te)+this.transitionsBetween(oe,Te);return Le>tt?be:Te}shiftToModuleCenter(m){let y=m[0],w=m[1],E=m[2],P=m[3],D=this.transitionsBetween(y,P)+1,V=this.transitionsBetween(E,P)+1,J=ps.shiftPoint(y,w,V*4),oe=ps.shiftPoint(E,w,D*4);D=this.transitionsBetween(J,P)+1,V=this.transitionsBetween(oe,P)+1,(D&1)===1&&(D+=1),(V&1)===1&&(V+=1);let be=(y.getX()+w.getX()+E.getX()+P.getX())/4,Te=(y.getY()+w.getY()+E.getY()+P.getY())/4;y=ps.moveAway(y,be,Te),w=ps.moveAway(w,be,Te),E=ps.moveAway(E,be,Te),P=ps.moveAway(P,be,Te);let Le,tt;return J=ps.shiftPoint(y,w,V*4),J=ps.shiftPoint(J,P,D*4),Le=ps.shiftPoint(w,y,V*4),Le=ps.shiftPoint(Le,E,D*4),oe=ps.shiftPoint(E,P,V*4),oe=ps.shiftPoint(oe,w,D*4),tt=ps.shiftPoint(P,E,V*4),tt=ps.shiftPoint(tt,y,D*4),[J,Le,oe,tt]}isValid(m){return m.getX()>=0&&m.getX()<this.image.getWidth()&&m.getY()>0&&m.getY()<this.image.getHeight()}static sampleGrid(m,y,w,E,P,D,V){return ea.getInstance().sampleGrid(m,D,V,.5,.5,D-.5,.5,D-.5,V-.5,.5,V-.5,y.getX(),y.getY(),P.getX(),P.getY(),E.getX(),E.getY(),w.getX(),w.getY())}transitionsBetween(m,y){let w=Math.trunc(m.getX()),E=Math.trunc(m.getY()),P=Math.trunc(y.getX()),D=Math.trunc(y.getY()),V=Math.abs(D-E)>Math.abs(P-w);if(V){let pt=w;w=E,E=pt,pt=P,P=D,D=pt}let J=Math.abs(P-w),oe=Math.abs(D-E),be=-J/2,Te=E<D?1:-1,Le=w<P?1:-1,tt=0,ut=this.image.get(V?E:w,V?w:E);for(let pt=w,Nt=E;pt!==P;pt+=Le){let Vt=this.image.get(V?Nt:pt,V?pt:Nt);if(Vt!==ut&&(tt++,ut=Vt),be+=oe,be>0){if(Nt===D)break;Nt+=Te,be-=J}}return tt}}class ho{constructor(){this.decoder=new zl}decode(m,y=null){let w,E;if(y!=null&&y.has(B.PURE_BARCODE)){const oe=ho.extractPureBits(m.getBlackMatrix());w=this.decoder.decode(oe),E=ho.NO_POINTS}else{const oe=new ps(m.getBlackMatrix()).detect();w=this.decoder.decode(oe.getBits()),E=oe.getPoints()}const P=w.getRawBytes(),D=new ne(w.getText(),P,8*P.length,E,pe.DATA_MATRIX,b.currentTimeMillis()),V=w.getByteSegments();V!=null&&D.putMetadata(Ne.BYTE_SEGMENTS,V);const J=w.getECLevel();return J!=null&&D.putMetadata(Ne.ERROR_CORRECTION_LEVEL,J),D}reset(){}static extractPureBits(m){const y=m.getTopLeftOnBit(),w=m.getBottomRightOnBit();if(y==null||w==null)throw new X;const E=this.moduleSize(y,m);let P=y[1];const D=w[1];let V=y[0];const oe=(w[0]-V+1)/E,be=(D-P+1)/E;if(oe<=0||be<=0)throw new X;const Te=E/2;P+=Te,V+=Te;const Le=new ae(oe,be);for(let tt=0;tt<be;tt++){const ut=P+tt*E;for(let pt=0;pt<oe;pt++)m.get(V+pt*E,ut)&&Le.set(pt,tt)}return Le}static moduleSize(m,y){const w=y.getWidth();let E=m[0];const P=m[1];for(;E<w&&y.get(E,P);)E++;if(E===w)throw new X;const D=E-m[0];if(D===0)throw new X;return D}}ho.NO_POINTS=[];class Ff extends le{constructor(m=500){super(new ho,m)}}var $s;(function(ke){ke[ke.L=0]="L",ke[ke.M=1]="M",ke[ke.Q=2]="Q",ke[ke.H=3]="H"})($s||($s={}));class Tn{constructor(m,y,w){this.value=m,this.stringValue=y,this.bits=w,Tn.FOR_BITS.set(w,this),Tn.FOR_VALUE.set(m,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(m){switch(m){case"L":return Tn.L;case"M":return Tn.M;case"Q":return Tn.Q;case"H":return Tn.H;default:throw new f(m+"not available")}}toString(){return this.stringValue}equals(m){if(!(m instanceof Tn))return!1;const y=m;return this.value===y.value}static forBits(m){if(m<0||m>=Tn.FOR_BITS.size)throw new h;return Tn.FOR_BITS.get(m)}}Tn.FOR_BITS=new Map,Tn.FOR_VALUE=new Map,Tn.L=new Tn($s.L,"L",1),Tn.M=new Tn($s.M,"M",0),Tn.Q=new Tn($s.Q,"Q",3),Tn.H=new Tn($s.H,"H",2);class Us{constructor(m){this.errorCorrectionLevel=Tn.forBits(m>>3&3),this.dataMask=m&7}static numBitsDiffering(m,y){return T.bitCount(m^y)}static decodeFormatInformation(m,y){const w=Us.doDecodeFormatInformation(m,y);return w!==null?w:Us.doDecodeFormatInformation(m^Us.FORMAT_INFO_MASK_QR,y^Us.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(m,y){let w=Number.MAX_SAFE_INTEGER,E=0;for(const P of Us.FORMAT_INFO_DECODE_LOOKUP){const D=P[0];if(D===m||D===y)return new Us(P[1]);let V=Us.numBitsDiffering(m,D);V<w&&(E=P[1],w=V),m!==y&&(V=Us.numBitsDiffering(y,D),V<w&&(E=P[1],w=V))}return w<=3?new Us(E):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(m){if(!(m instanceof Us))return!1;const y=m;return this.errorCorrectionLevel===y.errorCorrectionLevel&&this.dataMask===y.dataMask}}Us.FORMAT_INFO_MASK_QR=21522,Us.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Tt{constructor(m,...y){this.ecCodewordsPerBlock=m,this.ecBlocks=y}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let m=0;const y=this.ecBlocks;for(const w of y)m+=w.getCount();return m}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Ye{constructor(m,y){this.count=m,this.dataCodewords=y}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ln{constructor(m,y,...w){this.versionNumber=m,this.alignmentPatternCenters=y,this.ecBlocks=w;let E=0;const P=w[0].getECCodewordsPerBlock(),D=w[0].getECBlocks();for(const V of D)E+=V.getCount()*(V.getDataCodewords()+P);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(m){return this.ecBlocks[m.getValue()]}static getProvisionalVersionForDimension(m){if(m%4!==1)throw new M;try{return this.getVersionForNumber((m-17)/4)}catch{throw new M}}static getVersionForNumber(m){if(m<1||m>40)throw new h;return Ln.VERSIONS[m-1]}static decodeVersionInformation(m){let y=Number.MAX_SAFE_INTEGER,w=0;for(let E=0;E<Ln.VERSION_DECODE_INFO.length;E++){const P=Ln.VERSION_DECODE_INFO[E];if(P===m)return Ln.getVersionForNumber(E+7);const D=Us.numBitsDiffering(m,P);D<y&&(w=E+7,y=D)}return y<=3?Ln.getVersionForNumber(w):null}buildFunctionPattern(){const m=this.getDimensionForVersion(),y=new ae(m);y.setRegion(0,0,9,9),y.setRegion(m-8,0,8,9),y.setRegion(0,m-8,9,8);const w=this.alignmentPatternCenters.length;for(let E=0;E<w;E++){const P=this.alignmentPatternCenters[E]-2;for(let D=0;D<w;D++)E===0&&(D===0||D===w-1)||E===w-1&&D===0||y.setRegion(this.alignmentPatternCenters[D]-2,P,5,5)}return y.setRegion(6,9,1,m-17),y.setRegion(9,6,m-17,1),this.versionNumber>6&&(y.setRegion(m-11,0,3,6),y.setRegion(0,m-11,6,3)),y}toString(){return""+this.versionNumber}}Ln.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ln.VERSIONS=[new Ln(1,new Int32Array(0),new Tt(7,new Ye(1,19)),new Tt(10,new Ye(1,16)),new Tt(13,new Ye(1,13)),new Tt(17,new Ye(1,9))),new Ln(2,Int32Array.from([6,18]),new Tt(10,new Ye(1,34)),new Tt(16,new Ye(1,28)),new Tt(22,new Ye(1,22)),new Tt(28,new Ye(1,16))),new Ln(3,Int32Array.from([6,22]),new Tt(15,new Ye(1,55)),new Tt(26,new Ye(1,44)),new Tt(18,new Ye(2,17)),new Tt(22,new Ye(2,13))),new Ln(4,Int32Array.from([6,26]),new Tt(20,new Ye(1,80)),new Tt(18,new Ye(2,32)),new Tt(26,new Ye(2,24)),new Tt(16,new Ye(4,9))),new Ln(5,Int32Array.from([6,30]),new Tt(26,new Ye(1,108)),new Tt(24,new Ye(2,43)),new Tt(18,new Ye(2,15),new Ye(2,16)),new Tt(22,new Ye(2,11),new Ye(2,12))),new Ln(6,Int32Array.from([6,34]),new Tt(18,new Ye(2,68)),new Tt(16,new Ye(4,27)),new Tt(24,new Ye(4,19)),new Tt(28,new Ye(4,15))),new Ln(7,Int32Array.from([6,22,38]),new Tt(20,new Ye(2,78)),new Tt(18,new Ye(4,31)),new Tt(18,new Ye(2,14),new Ye(4,15)),new Tt(26,new Ye(4,13),new Ye(1,14))),new Ln(8,Int32Array.from([6,24,42]),new Tt(24,new Ye(2,97)),new Tt(22,new Ye(2,38),new Ye(2,39)),new Tt(22,new Ye(4,18),new Ye(2,19)),new Tt(26,new Ye(4,14),new Ye(2,15))),new Ln(9,Int32Array.from([6,26,46]),new Tt(30,new Ye(2,116)),new Tt(22,new Ye(3,36),new Ye(2,37)),new Tt(20,new Ye(4,16),new Ye(4,17)),new Tt(24,new Ye(4,12),new Ye(4,13))),new Ln(10,Int32Array.from([6,28,50]),new Tt(18,new Ye(2,68),new Ye(2,69)),new Tt(26,new Ye(4,43),new Ye(1,44)),new Tt(24,new Ye(6,19),new Ye(2,20)),new Tt(28,new Ye(6,15),new Ye(2,16))),new Ln(11,Int32Array.from([6,30,54]),new Tt(20,new Ye(4,81)),new Tt(30,new Ye(1,50),new Ye(4,51)),new Tt(28,new Ye(4,22),new Ye(4,23)),new Tt(24,new Ye(3,12),new Ye(8,13))),new Ln(12,Int32Array.from([6,32,58]),new Tt(24,new Ye(2,92),new Ye(2,93)),new Tt(22,new Ye(6,36),new Ye(2,37)),new Tt(26,new Ye(4,20),new Ye(6,21)),new Tt(28,new Ye(7,14),new Ye(4,15))),new Ln(13,Int32Array.from([6,34,62]),new Tt(26,new Ye(4,107)),new Tt(22,new Ye(8,37),new Ye(1,38)),new Tt(24,new Ye(8,20),new Ye(4,21)),new Tt(22,new Ye(12,11),new Ye(4,12))),new Ln(14,Int32Array.from([6,26,46,66]),new Tt(30,new Ye(3,115),new Ye(1,116)),new Tt(24,new Ye(4,40),new Ye(5,41)),new Tt(20,new Ye(11,16),new Ye(5,17)),new Tt(24,new Ye(11,12),new Ye(5,13))),new Ln(15,Int32Array.from([6,26,48,70]),new Tt(22,new Ye(5,87),new Ye(1,88)),new Tt(24,new Ye(5,41),new Ye(5,42)),new Tt(30,new Ye(5,24),new Ye(7,25)),new Tt(24,new Ye(11,12),new Ye(7,13))),new Ln(16,Int32Array.from([6,26,50,74]),new Tt(24,new Ye(5,98),new Ye(1,99)),new Tt(28,new Ye(7,45),new Ye(3,46)),new Tt(24,new Ye(15,19),new Ye(2,20)),new Tt(30,new Ye(3,15),new Ye(13,16))),new Ln(17,Int32Array.from([6,30,54,78]),new Tt(28,new Ye(1,107),new Ye(5,108)),new Tt(28,new Ye(10,46),new Ye(1,47)),new Tt(28,new Ye(1,22),new Ye(15,23)),new Tt(28,new Ye(2,14),new Ye(17,15))),new Ln(18,Int32Array.from([6,30,56,82]),new Tt(30,new Ye(5,120),new Ye(1,121)),new Tt(26,new Ye(9,43),new Ye(4,44)),new Tt(28,new Ye(17,22),new Ye(1,23)),new Tt(28,new Ye(2,14),new Ye(19,15))),new Ln(19,Int32Array.from([6,30,58,86]),new Tt(28,new Ye(3,113),new Ye(4,114)),new Tt(26,new Ye(3,44),new Ye(11,45)),new Tt(26,new Ye(17,21),new Ye(4,22)),new Tt(26,new Ye(9,13),new Ye(16,14))),new Ln(20,Int32Array.from([6,34,62,90]),new Tt(28,new Ye(3,107),new Ye(5,108)),new Tt(26,new Ye(3,41),new Ye(13,42)),new Tt(30,new Ye(15,24),new Ye(5,25)),new Tt(28,new Ye(15,15),new Ye(10,16))),new Ln(21,Int32Array.from([6,28,50,72,94]),new Tt(28,new Ye(4,116),new Ye(4,117)),new Tt(26,new Ye(17,42)),new Tt(28,new Ye(17,22),new Ye(6,23)),new Tt(30,new Ye(19,16),new Ye(6,17))),new Ln(22,Int32Array.from([6,26,50,74,98]),new Tt(28,new Ye(2,111),new Ye(7,112)),new Tt(28,new Ye(17,46)),new Tt(30,new Ye(7,24),new Ye(16,25)),new Tt(24,new Ye(34,13))),new Ln(23,Int32Array.from([6,30,54,78,102]),new Tt(30,new Ye(4,121),new Ye(5,122)),new Tt(28,new Ye(4,47),new Ye(14,48)),new Tt(30,new Ye(11,24),new Ye(14,25)),new Tt(30,new Ye(16,15),new Ye(14,16))),new Ln(24,Int32Array.from([6,28,54,80,106]),new Tt(30,new Ye(6,117),new Ye(4,118)),new Tt(28,new Ye(6,45),new Ye(14,46)),new Tt(30,new Ye(11,24),new Ye(16,25)),new Tt(30,new Ye(30,16),new Ye(2,17))),new Ln(25,Int32Array.from([6,32,58,84,110]),new Tt(26,new Ye(8,106),new Ye(4,107)),new Tt(28,new Ye(8,47),new Ye(13,48)),new Tt(30,new Ye(7,24),new Ye(22,25)),new Tt(30,new Ye(22,15),new Ye(13,16))),new Ln(26,Int32Array.from([6,30,58,86,114]),new Tt(28,new Ye(10,114),new Ye(2,115)),new Tt(28,new Ye(19,46),new Ye(4,47)),new Tt(28,new Ye(28,22),new Ye(6,23)),new Tt(30,new Ye(33,16),new Ye(4,17))),new Ln(27,Int32Array.from([6,34,62,90,118]),new Tt(30,new Ye(8,122),new Ye(4,123)),new Tt(28,new Ye(22,45),new Ye(3,46)),new Tt(30,new Ye(8,23),new Ye(26,24)),new Tt(30,new Ye(12,15),new Ye(28,16))),new Ln(28,Int32Array.from([6,26,50,74,98,122]),new Tt(30,new Ye(3,117),new Ye(10,118)),new Tt(28,new Ye(3,45),new Ye(23,46)),new Tt(30,new Ye(4,24),new Ye(31,25)),new Tt(30,new Ye(11,15),new Ye(31,16))),new Ln(29,Int32Array.from([6,30,54,78,102,126]),new Tt(30,new Ye(7,116),new Ye(7,117)),new Tt(28,new Ye(21,45),new Ye(7,46)),new Tt(30,new Ye(1,23),new Ye(37,24)),new Tt(30,new Ye(19,15),new Ye(26,16))),new Ln(30,Int32Array.from([6,26,52,78,104,130]),new Tt(30,new Ye(5,115),new Ye(10,116)),new Tt(28,new Ye(19,47),new Ye(10,48)),new Tt(30,new Ye(15,24),new Ye(25,25)),new Tt(30,new Ye(23,15),new Ye(25,16))),new Ln(31,Int32Array.from([6,30,56,82,108,134]),new Tt(30,new Ye(13,115),new Ye(3,116)),new Tt(28,new Ye(2,46),new Ye(29,47)),new Tt(30,new Ye(42,24),new Ye(1,25)),new Tt(30,new Ye(23,15),new Ye(28,16))),new Ln(32,Int32Array.from([6,34,60,86,112,138]),new Tt(30,new Ye(17,115)),new Tt(28,new Ye(10,46),new Ye(23,47)),new Tt(30,new Ye(10,24),new Ye(35,25)),new Tt(30,new Ye(19,15),new Ye(35,16))),new Ln(33,Int32Array.from([6,30,58,86,114,142]),new Tt(30,new Ye(17,115),new Ye(1,116)),new Tt(28,new Ye(14,46),new Ye(21,47)),new Tt(30,new Ye(29,24),new Ye(19,25)),new Tt(30,new Ye(11,15),new Ye(46,16))),new Ln(34,Int32Array.from([6,34,62,90,118,146]),new Tt(30,new Ye(13,115),new Ye(6,116)),new Tt(28,new Ye(14,46),new Ye(23,47)),new Tt(30,new Ye(44,24),new Ye(7,25)),new Tt(30,new Ye(59,16),new Ye(1,17))),new Ln(35,Int32Array.from([6,30,54,78,102,126,150]),new Tt(30,new Ye(12,121),new Ye(7,122)),new Tt(28,new Ye(12,47),new Ye(26,48)),new Tt(30,new Ye(39,24),new Ye(14,25)),new Tt(30,new Ye(22,15),new Ye(41,16))),new Ln(36,Int32Array.from([6,24,50,76,102,128,154]),new Tt(30,new Ye(6,121),new Ye(14,122)),new Tt(28,new Ye(6,47),new Ye(34,48)),new Tt(30,new Ye(46,24),new Ye(10,25)),new Tt(30,new Ye(2,15),new Ye(64,16))),new Ln(37,Int32Array.from([6,28,54,80,106,132,158]),new Tt(30,new Ye(17,122),new Ye(4,123)),new Tt(28,new Ye(29,46),new Ye(14,47)),new Tt(30,new Ye(49,24),new Ye(10,25)),new Tt(30,new Ye(24,15),new Ye(46,16))),new Ln(38,Int32Array.from([6,32,58,84,110,136,162]),new Tt(30,new Ye(4,122),new Ye(18,123)),new Tt(28,new Ye(13,46),new Ye(32,47)),new Tt(30,new Ye(48,24),new Ye(14,25)),new Tt(30,new Ye(42,15),new Ye(32,16))),new Ln(39,Int32Array.from([6,26,54,82,110,138,166]),new Tt(30,new Ye(20,117),new Ye(4,118)),new Tt(28,new Ye(40,47),new Ye(7,48)),new Tt(30,new Ye(43,24),new Ye(22,25)),new Tt(30,new Ye(10,15),new Ye(67,16))),new Ln(40,Int32Array.from([6,30,58,86,114,142,170]),new Tt(30,new Ye(19,118),new Ye(6,119)),new Tt(28,new Ye(18,47),new Ye(31,48)),new Tt(30,new Ye(34,24),new Ye(34,25)),new Tt(30,new Ye(20,15),new Ye(61,16)))];var Ts;(function(ke){ke[ke.DATA_MASK_000=0]="DATA_MASK_000",ke[ke.DATA_MASK_001=1]="DATA_MASK_001",ke[ke.DATA_MASK_010=2]="DATA_MASK_010",ke[ke.DATA_MASK_011=3]="DATA_MASK_011",ke[ke.DATA_MASK_100=4]="DATA_MASK_100",ke[ke.DATA_MASK_101=5]="DATA_MASK_101",ke[ke.DATA_MASK_110=6]="DATA_MASK_110",ke[ke.DATA_MASK_111=7]="DATA_MASK_111"})(Ts||(Ts={}));class ll{constructor(m,y){this.value=m,this.isMasked=y}unmaskBitMatrix(m,y){for(let w=0;w<y;w++)for(let E=0;E<y;E++)this.isMasked(w,E)&&m.flip(E,w)}}ll.values=new Map([[Ts.DATA_MASK_000,new ll(Ts.DATA_MASK_000,(ke,m)=>(ke+m&1)===0)],[Ts.DATA_MASK_001,new ll(Ts.DATA_MASK_001,(ke,m)=>(ke&1)===0)],[Ts.DATA_MASK_010,new ll(Ts.DATA_MASK_010,(ke,m)=>m%3===0)],[Ts.DATA_MASK_011,new ll(Ts.DATA_MASK_011,(ke,m)=>(ke+m)%3===0)],[Ts.DATA_MASK_100,new ll(Ts.DATA_MASK_100,(ke,m)=>(Math.floor(ke/2)+Math.floor(m/3)&1)===0)],[Ts.DATA_MASK_101,new ll(Ts.DATA_MASK_101,(ke,m)=>ke*m%6===0)],[Ts.DATA_MASK_110,new ll(Ts.DATA_MASK_110,(ke,m)=>ke*m%6<3)],[Ts.DATA_MASK_111,new ll(Ts.DATA_MASK_111,(ke,m)=>(ke+m+ke*m%3&1)===0)]]);class Dh{constructor(m){const y=m.getHeight();if(y<21||(y&3)!==1)throw new M;this.bitMatrix=m}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let m=0;for(let P=0;P<6;P++)m=this.copyBit(P,8,m);m=this.copyBit(7,8,m),m=this.copyBit(8,8,m),m=this.copyBit(8,7,m);for(let P=5;P>=0;P--)m=this.copyBit(8,P,m);const y=this.bitMatrix.getHeight();let w=0;const E=y-7;for(let P=y-1;P>=E;P--)w=this.copyBit(8,P,w);for(let P=y-8;P<y;P++)w=this.copyBit(P,8,w);if(this.parsedFormatInfo=Us.decodeFormatInformation(m,w),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const m=this.bitMatrix.getHeight(),y=Math.floor((m-17)/4);if(y<=6)return Ln.getVersionForNumber(y);let w=0;const E=m-11;for(let D=5;D>=0;D--)for(let V=m-9;V>=E;V--)w=this.copyBit(V,D,w);let P=Ln.decodeVersionInformation(w);if(P!==null&&P.getDimensionForVersion()===m)return this.parsedVersion=P,P;w=0;for(let D=5;D>=0;D--)for(let V=m-9;V>=E;V--)w=this.copyBit(D,V,w);if(P=Ln.decodeVersionInformation(w),P!==null&&P.getDimensionForVersion()===m)return this.parsedVersion=P,P;throw new M}copyBit(m,y,w){return(this.isMirror?this.bitMatrix.get(y,m):this.bitMatrix.get(m,y))?w<<1|1:w<<1}readCodewords(){const m=this.readFormatInformation(),y=this.readVersion(),w=ll.values.get(m.getDataMask()),E=this.bitMatrix.getHeight();w.unmaskBitMatrix(this.bitMatrix,E);const P=y.buildFunctionPattern();let D=!0;const V=new Uint8Array(y.getTotalCodewords());let J=0,oe=0,be=0;for(let Te=E-1;Te>0;Te-=2){Te===6&&Te--;for(let Le=0;Le<E;Le++){const tt=D?E-1-Le:Le;for(let ut=0;ut<2;ut++)P.get(Te-ut,tt)||(be++,oe<<=1,this.bitMatrix.get(Te-ut,tt)&&(oe|=1),be===8&&(V[J++]=oe,be=0,oe=0))}D=!D}if(J!==y.getTotalCodewords())throw new M;return V}remask(){if(this.parsedFormatInfo===null)return;const m=ll.values[this.parsedFormatInfo.getDataMask()],y=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,y)}setMirror(m){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=m}mirror(){const m=this.bitMatrix;for(let y=0,w=m.getWidth();y<w;y++)for(let E=y+1,P=m.getHeight();E<P;E++)m.get(y,E)!==m.get(E,y)&&(m.flip(E,y),m.flip(y,E))}}class Rh{constructor(m,y){this.numDataCodewords=m,this.codewords=y}static getDataBlocks(m,y,w){if(m.length!==y.getTotalCodewords())throw new h;const E=y.getECBlocksForLevel(w);let P=0;const D=E.getECBlocks();for(const ut of D)P+=ut.getCount();const V=new Array(P);let J=0;for(const ut of D)for(let pt=0;pt<ut.getCount();pt++){const Nt=ut.getDataCodewords(),Vt=E.getECCodewordsPerBlock()+Nt;V[J++]=new Rh(Nt,new Uint8Array(Vt))}const oe=V[0].codewords.length;let be=V.length-1;for(;be>=0&&V[be].codewords.length!==oe;)be--;be++;const Te=oe-E.getECCodewordsPerBlock();let Le=0;for(let ut=0;ut<Te;ut++)for(let pt=0;pt<J;pt++)V[pt].codewords[ut]=m[Le++];for(let ut=be;ut<J;ut++)V[ut].codewords[Te]=m[Le++];const tt=V[0].codewords.length;for(let ut=Te;ut<tt;ut++)for(let pt=0;pt<J;pt++){const Nt=pt<be?ut:ut+1;V[pt].codewords[Nt]=m[Le++]}return V}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Vl;(function(ke){ke[ke.TERMINATOR=0]="TERMINATOR",ke[ke.NUMERIC=1]="NUMERIC",ke[ke.ALPHANUMERIC=2]="ALPHANUMERIC",ke[ke.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ke[ke.BYTE=4]="BYTE",ke[ke.ECI=5]="ECI",ke[ke.KANJI=6]="KANJI",ke[ke.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ke[ke.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ke[ke.HANZI=9]="HANZI"})(Vl||(Vl={}));class Qr{constructor(m,y,w,E){this.value=m,this.stringValue=y,this.characterCountBitsForVersions=w,this.bits=E,Qr.FOR_BITS.set(E,this),Qr.FOR_VALUE.set(m,this)}static forBits(m){const y=Qr.FOR_BITS.get(m);if(y===void 0)throw new h;return y}getCharacterCountBits(m){const y=m.getVersionNumber();let w;return y<=9?w=0:y<=26?w=1:w=2,this.characterCountBitsForVersions[w]}getValue(){return this.value}getBits(){return this.bits}equals(m){if(!(m instanceof Qr))return!1;const y=m;return this.value===y.value}toString(){return this.stringValue}}Qr.FOR_BITS=new Map,Qr.FOR_VALUE=new Map,Qr.TERMINATOR=new Qr(Vl.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qr.NUMERIC=new Qr(Vl.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qr.ALPHANUMERIC=new Qr(Vl.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qr.STRUCTURED_APPEND=new Qr(Vl.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qr.BYTE=new Qr(Vl.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qr.ECI=new Qr(Vl.ECI,"ECI",Int32Array.from([0,0,0]),7),Qr.KANJI=new Qr(Vl.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qr.FNC1_FIRST_POSITION=new Qr(Vl.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qr.FNC1_SECOND_POSITION=new Qr(Vl.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qr.HANZI=new Qr(Vl.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class fi{static decode(m,y,w,E){const P=new Fh(m);let D=new ie;const V=new Array;let J=-1,oe=-1;try{let be=null,Te=!1,Le;do{if(P.available()<4)Le=Qr.TERMINATOR;else{const tt=P.readBits(4);Le=Qr.forBits(tt)}switch(Le){case Qr.TERMINATOR:break;case Qr.FNC1_FIRST_POSITION:case Qr.FNC1_SECOND_POSITION:Te=!0;break;case Qr.STRUCTURED_APPEND:if(P.available()<16)throw new M;J=P.readBits(8),oe=P.readBits(8);break;case Qr.ECI:const tt=fi.parseECIValue(P);if(be=z.getCharacterSetECIByValue(tt),be===null)throw new M;break;case Qr.HANZI:const ut=P.readBits(4),pt=P.readBits(Le.getCharacterCountBits(y));ut===fi.GB2312_SUBSET&&fi.decodeHanziSegment(P,D,pt);break;default:const Nt=P.readBits(Le.getCharacterCountBits(y));switch(Le){case Qr.NUMERIC:fi.decodeNumericSegment(P,D,Nt);break;case Qr.ALPHANUMERIC:fi.decodeAlphanumericSegment(P,D,Nt,Te);break;case Qr.BYTE:fi.decodeByteSegment(P,D,Nt,be,V,E);break;case Qr.KANJI:fi.decodeKanjiSegment(P,D,Nt);break;default:throw new M}break}}while(Le!==Qr.TERMINATOR)}catch{throw new M}return new Se(m,D.toString(),V.length===0?null:V,w===null?null:w.toString(),J,oe)}static decodeHanziSegment(m,y,w){if(w*13>m.available())throw new M;const E=new Uint8Array(2*w);let P=0;for(;w>0;){const D=m.readBits(13);let V=D/96<<8&4294967295|D%96;V<959?V+=41377:V+=42657,E[P]=V>>8&255,E[P+1]=V&255,P+=2,w--}try{y.append(K.decode(E,q.GB2312))}catch(D){throw new M(D)}}static decodeKanjiSegment(m,y,w){if(w*13>m.available())throw new M;const E=new Uint8Array(2*w);let P=0;for(;w>0;){const D=m.readBits(13);let V=D/192<<8&4294967295|D%192;V<7936?V+=33088:V+=49472,E[P]=V>>8,E[P+1]=V,P+=2,w--}try{y.append(K.decode(E,q.SHIFT_JIS))}catch(D){throw new M(D)}}static decodeByteSegment(m,y,w,E,P,D){if(8*w>m.available())throw new M;const V=new Uint8Array(w);for(let oe=0;oe<w;oe++)V[oe]=m.readBits(8);let J;E===null?J=q.guessEncoding(V,D):J=E.getName();try{y.append(K.decode(V,J))}catch(oe){throw new M(oe)}P.push(V)}static toAlphaNumericChar(m){if(m>=fi.ALPHANUMERIC_CHARS.length)throw new M;return fi.ALPHANUMERIC_CHARS[m]}static decodeAlphanumericSegment(m,y,w,E){const P=y.length();for(;w>1;){if(m.available()<11)throw new M;const D=m.readBits(11);y.append(fi.toAlphaNumericChar(Math.floor(D/45))),y.append(fi.toAlphaNumericChar(D%45)),w-=2}if(w===1){if(m.available()<6)throw new M;y.append(fi.toAlphaNumericChar(m.readBits(6)))}if(E)for(let D=P;D<y.length();D++)y.charAt(D)==="%"&&(D<y.length()-1&&y.charAt(D+1)==="%"?y.deleteCharAt(D+1):y.setCharAt(D,String.fromCharCode(29)))}static decodeNumericSegment(m,y,w){for(;w>=3;){if(m.available()<10)throw new M;const E=m.readBits(10);if(E>=1e3)throw new M;y.append(fi.toAlphaNumericChar(Math.floor(E/100))),y.append(fi.toAlphaNumericChar(Math.floor(E/10)%10)),y.append(fi.toAlphaNumericChar(E%10)),w-=3}if(w===2){if(m.available()<7)throw new M;const E=m.readBits(7);if(E>=100)throw new M;y.append(fi.toAlphaNumericChar(Math.floor(E/10))),y.append(fi.toAlphaNumericChar(E%10))}else if(w===1){if(m.available()<4)throw new M;const E=m.readBits(4);if(E>=10)throw new M;y.append(fi.toAlphaNumericChar(E))}}static parseECIValue(m){const y=m.readBits(8);if(!(y&128))return y&127;if((y&192)===128){const w=m.readBits(8);return(y&63)<<8&4294967295|w}if((y&224)===192){const w=m.readBits(16);return(y&31)<<16&4294967295|w}throw new M}}fi.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",fi.GB2312_SUBSET=1;class qd{constructor(m){this.mirrored=m}isMirrored(){return this.mirrored}applyMirroredCorrection(m){if(!this.mirrored||m===null||m.length<3)return;const y=m[0];m[0]=m[2],m[2]=y}}class Df{constructor(){this.rsDecoder=new Ue(at.QR_CODE_FIELD_256)}decodeBooleanArray(m,y){return this.decodeBitMatrix(ae.parseFromBooleanArray(m),y)}decodeBitMatrix(m,y){const w=new Dh(m);let E=null;try{return this.decodeBitMatrixParser(w,y)}catch(P){E=P}try{w.remask(),w.setMirror(!0),w.readVersion(),w.readFormatInformation(),w.mirror();const P=this.decodeBitMatrixParser(w,y);return P.setOther(new qd(!0)),P}catch(P){throw E!==null?E:P}}decodeBitMatrixParser(m,y){const w=m.readVersion(),E=m.readFormatInformation().getErrorCorrectionLevel(),P=m.readCodewords(),D=Rh.getDataBlocks(P,w,E);let V=0;for(const be of D)V+=be.getNumDataCodewords();const J=new Uint8Array(V);let oe=0;for(const be of D){const Te=be.getCodewords(),Le=be.getNumDataCodewords();this.correctErrors(Te,Le);for(let tt=0;tt<Le;tt++)J[oe++]=Te[tt]}return fi.decode(J,w,E,y)}correctErrors(m,y){const w=new Int32Array(m);try{this.rsDecoder.decode(w,m.length-y)}catch{throw new p}for(let E=0;E<y;E++)m[E]=w[E]}}class Gd extends st{constructor(m,y,w){super(m,y),this.estimatedModuleSize=w}aboutEquals(m,y,w){if(Math.abs(y-this.getY())<=m&&Math.abs(w-this.getX())<=m){const E=Math.abs(m-this.estimatedModuleSize);return E<=1||E<=this.estimatedModuleSize}return!1}combineEstimate(m,y,w){const E=(this.getX()+y)/2,P=(this.getY()+m)/2,D=(this.estimatedModuleSize+w)/2;return new Gd(E,P,D)}}class ks{constructor(m,y,w,E,P,D,V){this.image=m,this.startX=y,this.startY=w,this.width=E,this.height=P,this.moduleSize=D,this.resultPointCallback=V,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const m=this.startX,y=this.height,w=this.width,E=m+w,P=this.startY+y/2,D=new Int32Array(3),V=this.image;for(let J=0;J<y;J++){const oe=P+(J&1?-Math.floor((J+1)/2):Math.floor((J+1)/2));D[0]=0,D[1]=0,D[2]=0;let be=m;for(;be<E&&!V.get(be,oe);)be++;let Te=0;for(;be<E;){if(V.get(be,oe))if(Te===1)D[1]++;else if(Te===2){if(this.foundPatternCross(D)){const Le=this.handlePossibleCenter(D,oe,be);if(Le!==null)return Le}D[0]=D[2],D[1]=1,D[2]=0,Te=1}else D[++Te]++;else Te===1&&Te++,D[Te]++;be++}if(this.foundPatternCross(D)){const Le=this.handlePossibleCenter(D,oe,E);if(Le!==null)return Le}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(m,y){return y-m[2]-m[1]/2}foundPatternCross(m){const y=this.moduleSize,w=y/2;for(let E=0;E<3;E++)if(Math.abs(y-m[E])>=w)return!1;return!0}crossCheckVertical(m,y,w,E){const P=this.image,D=P.getHeight(),V=this.crossCheckStateCount;V[0]=0,V[1]=0,V[2]=0;let J=m;for(;J>=0&&P.get(y,J)&&V[1]<=w;)V[1]++,J--;if(J<0||V[1]>w)return NaN;for(;J>=0&&!P.get(y,J)&&V[0]<=w;)V[0]++,J--;if(V[0]>w)return NaN;for(J=m+1;J<D&&P.get(y,J)&&V[1]<=w;)V[1]++,J++;if(J===D||V[1]>w)return NaN;for(;J<D&&!P.get(y,J)&&V[2]<=w;)V[2]++,J++;if(V[2]>w)return NaN;const oe=V[0]+V[1]+V[2];return 5*Math.abs(oe-E)>=2*E?NaN:this.foundPatternCross(V)?ks.centerFromEnd(V,J):NaN}handlePossibleCenter(m,y,w){const E=m[0]+m[1]+m[2],P=ks.centerFromEnd(m,w),D=this.crossCheckVertical(y,P,2*m[1],E);if(!isNaN(D)){const V=(m[0]+m[1]+m[2])/3;for(const oe of this.possibleCenters)if(oe.aboutEquals(V,D,P))return oe.combineEstimate(D,P,V);const J=new Gd(P,D,V);this.possibleCenters.push(J),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(J)}return null}}class Kd extends st{constructor(m,y,w,E){super(m,y),this.estimatedModuleSize=w,this.count=E,E===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(m,y,w){if(Math.abs(y-this.getY())<=m&&Math.abs(w-this.getX())<=m){const E=Math.abs(m-this.estimatedModuleSize);return E<=1||E<=this.estimatedModuleSize}return!1}combineEstimate(m,y,w){const E=this.count+1,P=(this.count*this.getX()+y)/E,D=(this.count*this.getY()+m)/E,V=(this.count*this.estimatedModuleSize+w)/E;return new Kd(P,D,V,E)}}class Ci{constructor(m){this.bottomLeft=m[0],this.topLeft=m[1],this.topRight=m[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class dn{constructor(m,y){this.image=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=y}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(m){const y=m!=null&&m.get(B.TRY_HARDER)!==void 0,w=m!=null&&m.get(B.PURE_BARCODE)!==void 0,E=this.image,P=E.getHeight(),D=E.getWidth();let V=Math.floor(3*P/(4*dn.MAX_MODULES));(V<dn.MIN_SKIP||y)&&(V=dn.MIN_SKIP);let J=!1;const oe=new Int32Array(5);for(let Te=V-1;Te<P&&!J;Te+=V){oe[0]=0,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=0;let Le=0;for(let tt=0;tt<D;tt++)if(E.get(tt,Te))(Le&1)===1&&Le++,oe[Le]++;else if(Le&1)oe[Le]++;else if(Le===4)if(dn.foundPatternCross(oe)){if(this.handlePossibleCenter(oe,Te,tt,w)===!0)if(V=2,this.hasSkipped===!0)J=this.haveMultiplyConfirmedCenters();else{const pt=this.findRowSkip();pt>oe[2]&&(Te+=pt-oe[2]-V,tt=D-1)}else{oe[0]=oe[2],oe[1]=oe[3],oe[2]=oe[4],oe[3]=1,oe[4]=0,Le=3;continue}Le=0,oe[0]=0,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=0}else oe[0]=oe[2],oe[1]=oe[3],oe[2]=oe[4],oe[3]=1,oe[4]=0,Le=3;else oe[++Le]++;dn.foundPatternCross(oe)&&this.handlePossibleCenter(oe,Te,D,w)===!0&&(V=oe[0],this.hasSkipped&&(J=this.haveMultiplyConfirmedCenters()))}const be=this.selectBestPatterns();return st.orderBestPatterns(be),new Ci(be)}static centerFromEnd(m,y){return y-m[4]-m[3]-m[2]/2}static foundPatternCross(m){let y=0;for(let P=0;P<5;P++){const D=m[P];if(D===0)return!1;y+=D}if(y<7)return!1;const w=y/7,E=w/2;return Math.abs(w-m[0])<E&&Math.abs(w-m[1])<E&&Math.abs(3*w-m[2])<3*E&&Math.abs(w-m[3])<E&&Math.abs(w-m[4])<E}getCrossCheckStateCount(){const m=this.crossCheckStateCount;return m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m}crossCheckDiagonal(m,y,w,E){const P=this.getCrossCheckStateCount();let D=0;const V=this.image;for(;m>=D&&y>=D&&V.get(y-D,m-D);)P[2]++,D++;if(m<D||y<D)return!1;for(;m>=D&&y>=D&&!V.get(y-D,m-D)&&P[1]<=w;)P[1]++,D++;if(m<D||y<D||P[1]>w)return!1;for(;m>=D&&y>=D&&V.get(y-D,m-D)&&P[0]<=w;)P[0]++,D++;if(P[0]>w)return!1;const J=V.getHeight(),oe=V.getWidth();for(D=1;m+D<J&&y+D<oe&&V.get(y+D,m+D);)P[2]++,D++;if(m+D>=J||y+D>=oe)return!1;for(;m+D<J&&y+D<oe&&!V.get(y+D,m+D)&&P[3]<w;)P[3]++,D++;if(m+D>=J||y+D>=oe||P[3]>=w)return!1;for(;m+D<J&&y+D<oe&&V.get(y+D,m+D)&&P[4]<w;)P[4]++,D++;if(P[4]>=w)return!1;const be=P[0]+P[1]+P[2]+P[3]+P[4];return Math.abs(be-E)<2*E&&dn.foundPatternCross(P)}crossCheckVertical(m,y,w,E){const P=this.image,D=P.getHeight(),V=this.getCrossCheckStateCount();let J=m;for(;J>=0&&P.get(y,J);)V[2]++,J--;if(J<0)return NaN;for(;J>=0&&!P.get(y,J)&&V[1]<=w;)V[1]++,J--;if(J<0||V[1]>w)return NaN;for(;J>=0&&P.get(y,J)&&V[0]<=w;)V[0]++,J--;if(V[0]>w)return NaN;for(J=m+1;J<D&&P.get(y,J);)V[2]++,J++;if(J===D)return NaN;for(;J<D&&!P.get(y,J)&&V[3]<w;)V[3]++,J++;if(J===D||V[3]>=w)return NaN;for(;J<D&&P.get(y,J)&&V[4]<w;)V[4]++,J++;if(V[4]>=w)return NaN;const oe=V[0]+V[1]+V[2]+V[3]+V[4];return 5*Math.abs(oe-E)>=2*E?NaN:dn.foundPatternCross(V)?dn.centerFromEnd(V,J):NaN}crossCheckHorizontal(m,y,w,E){const P=this.image,D=P.getWidth(),V=this.getCrossCheckStateCount();let J=m;for(;J>=0&&P.get(J,y);)V[2]++,J--;if(J<0)return NaN;for(;J>=0&&!P.get(J,y)&&V[1]<=w;)V[1]++,J--;if(J<0||V[1]>w)return NaN;for(;J>=0&&P.get(J,y)&&V[0]<=w;)V[0]++,J--;if(V[0]>w)return NaN;for(J=m+1;J<D&&P.get(J,y);)V[2]++,J++;if(J===D)return NaN;for(;J<D&&!P.get(J,y)&&V[3]<w;)V[3]++,J++;if(J===D||V[3]>=w)return NaN;for(;J<D&&P.get(J,y)&&V[4]<w;)V[4]++,J++;if(V[4]>=w)return NaN;const oe=V[0]+V[1]+V[2]+V[3]+V[4];return 5*Math.abs(oe-E)>=E?NaN:dn.foundPatternCross(V)?dn.centerFromEnd(V,J):NaN}handlePossibleCenter(m,y,w,E){const P=m[0]+m[1]+m[2]+m[3]+m[4];let D=dn.centerFromEnd(m,w),V=this.crossCheckVertical(y,Math.floor(D),m[2],P);if(!isNaN(V)&&(D=this.crossCheckHorizontal(Math.floor(D),Math.floor(V),m[2],P),!isNaN(D)&&(!E||this.crossCheckDiagonal(Math.floor(V),Math.floor(D),m[2],P)))){const J=P/7;let oe=!1;const be=this.possibleCenters;for(let Te=0,Le=be.length;Te<Le;Te++){const tt=be[Te];if(tt.aboutEquals(J,V,D)){be[Te]=tt.combineEstimate(V,D,J),oe=!0;break}}if(!oe){const Te=new Kd(D,V,J);be.push(Te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let y=null;for(const w of this.possibleCenters)if(w.getCount()>=dn.CENTER_QUORUM)if(y==null)y=w;else return this.hasSkipped=!0,Math.floor((Math.abs(y.getX()-w.getX())-Math.abs(y.getY()-w.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let m=0,y=0;const w=this.possibleCenters.length;for(const D of this.possibleCenters)D.getCount()>=dn.CENTER_QUORUM&&(m++,y+=D.getEstimatedModuleSize());if(m<3)return!1;const E=y/w;let P=0;for(const D of this.possibleCenters)P+=Math.abs(D.getEstimatedModuleSize()-E);return P<=.05*y}selectBestPatterns(){const m=this.possibleCenters.length;if(m<3)throw new X;const y=this.possibleCenters;let w;if(m>3){let E=0,P=0;for(const J of this.possibleCenters){const oe=J.getEstimatedModuleSize();E+=oe,P+=oe*oe}w=E/m;let D=Math.sqrt(P/m-w*w);y.sort((J,oe)=>{const be=Math.abs(oe.getEstimatedModuleSize()-w),Te=Math.abs(J.getEstimatedModuleSize()-w);return be<Te?-1:be>Te?1:0});const V=Math.max(.2*w,D);for(let J=0;J<y.length&&y.length>3;J++){const oe=y[J];Math.abs(oe.getEstimatedModuleSize()-w)>V&&(y.splice(J,1),J--)}}if(y.length>3){let E=0;for(const P of y)E+=P.getEstimatedModuleSize();w=E/y.length,y.sort((P,D)=>{if(D.getCount()===P.getCount()){const V=Math.abs(D.getEstimatedModuleSize()-w),J=Math.abs(P.getEstimatedModuleSize()-w);return V<J?1:V>J?-1:0}else return D.getCount()-P.getCount()}),y.splice(3)}return[y[0],y[1],y[2]]}}dn.CENTER_QUORUM=2,dn.MIN_SKIP=3,dn.MAX_MODULES=57;class iu{constructor(m){this.image=m}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(m){this.resultPointCallback=m==null?null:m.get(B.NEED_RESULT_POINT_CALLBACK);const w=new dn(this.image,this.resultPointCallback).find(m);return this.processFinderPatternInfo(w)}processFinderPatternInfo(m){const y=m.getTopLeft(),w=m.getTopRight(),E=m.getBottomLeft(),P=this.calculateModuleSize(y,w,E);if(P<1)throw new X("No pattern found in proccess finder.");const D=iu.computeDimension(y,w,E,P),V=Ln.getProvisionalVersionForDimension(D),J=V.getDimensionForVersion()-7;let oe=null;if(V.getAlignmentPatternCenters().length>0){const tt=w.getX()-y.getX()+E.getX(),ut=w.getY()-y.getY()+E.getY(),pt=1-3/J,Nt=Math.floor(y.getX()+pt*(tt-y.getX())),Vt=Math.floor(y.getY()+pt*(ut-y.getY()));for(let ir=4;ir<=16;ir<<=1)try{oe=this.findAlignmentInRegion(P,Nt,Vt,ir);break}catch(vr){if(!(vr instanceof X))throw vr}}const be=iu.createTransform(y,w,E,oe,D),Te=iu.sampleGrid(this.image,be,D);let Le;return oe===null?Le=[E,y,w]:Le=[E,y,w,oe],new lr(Te,Le)}static createTransform(m,y,w,E,P){const D=P-3.5;let V,J,oe,be;return E!==null?(V=E.getX(),J=E.getY(),oe=D-3,be=oe):(V=y.getX()-m.getX()+w.getX(),J=y.getY()-m.getY()+w.getY(),oe=D,be=D),sn.quadrilateralToQuadrilateral(3.5,3.5,D,3.5,oe,be,3.5,D,m.getX(),m.getY(),y.getX(),y.getY(),V,J,w.getX(),w.getY())}static sampleGrid(m,y,w){return ea.getInstance().sampleGridWithTransform(m,w,w,y)}static computeDimension(m,y,w,E){const P=Ot.round(st.distance(m,y)/E),D=Ot.round(st.distance(m,w)/E);let V=Math.floor((P+D)/2)+7;switch(V&3){case 0:V++;break;case 2:V--;break;case 3:throw new X("Dimensions could be not found.")}return V}calculateModuleSize(m,y,w){return(this.calculateModuleSizeOneWay(m,y)+this.calculateModuleSizeOneWay(m,w))/2}calculateModuleSizeOneWay(m,y){const w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(m.getX()),Math.floor(m.getY()),Math.floor(y.getX()),Math.floor(y.getY())),E=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(y.getX()),Math.floor(y.getY()),Math.floor(m.getX()),Math.floor(m.getY()));return isNaN(w)?E/7:isNaN(E)?w/7:(w+E)/14}sizeOfBlackWhiteBlackRunBothWays(m,y,w,E){let P=this.sizeOfBlackWhiteBlackRun(m,y,w,E),D=1,V=m-(w-m);V<0?(D=m/(m-V),V=0):V>=this.image.getWidth()&&(D=(this.image.getWidth()-1-m)/(V-m),V=this.image.getWidth()-1);let J=Math.floor(y-(E-y)*D);return D=1,J<0?(D=y/(y-J),J=0):J>=this.image.getHeight()&&(D=(this.image.getHeight()-1-y)/(J-y),J=this.image.getHeight()-1),V=Math.floor(m+(V-m)*D),P+=this.sizeOfBlackWhiteBlackRun(m,y,V,J),P-1}sizeOfBlackWhiteBlackRun(m,y,w,E){const P=Math.abs(E-y)>Math.abs(w-m);if(P){let tt=m;m=y,y=tt,tt=w,w=E,E=tt}const D=Math.abs(w-m),V=Math.abs(E-y);let J=-D/2;const oe=m<w?1:-1,be=y<E?1:-1;let Te=0;const Le=w+oe;for(let tt=m,ut=y;tt!==Le;tt+=oe){const pt=P?ut:tt,Nt=P?tt:ut;if(Te===1===this.image.get(pt,Nt)){if(Te===2)return Ot.distance(tt,ut,m,y);Te++}if(J+=V,J>0){if(ut===E)break;ut+=be,J-=D}}return Te===2?Ot.distance(w+oe,E,m,y):NaN}findAlignmentInRegion(m,y,w,E){const P=Math.floor(E*m),D=Math.max(0,y-P),V=Math.min(this.image.getWidth()-1,y+P);if(V-D<m*3)throw new X("Alignment top exceeds estimated module size.");const J=Math.max(0,w-P),oe=Math.min(this.image.getHeight()-1,w+P);if(oe-J<m*3)throw new X("Alignment bottom exceeds estimated module size.");return new ks(this.image,D,J,V-D,oe-J,m,this.resultPointCallback).find()}}class su{constructor(){this.decoder=new Df}getDecoder(){return this.decoder}decode(m,y){let w,E;if(y!=null&&y.get(B.PURE_BARCODE)!==void 0){const J=su.extractPureBits(m.getBlackMatrix());w=this.decoder.decodeBitMatrix(J,y),E=su.NO_POINTS}else{const J=new iu(m.getBlackMatrix()).detect(y);w=this.decoder.decodeBitMatrix(J.getBits(),y),E=J.getPoints()}w.getOther()instanceof qd&&w.getOther().applyMirroredCorrection(E);const P=new ne(w.getText(),w.getRawBytes(),void 0,E,pe.QR_CODE,void 0),D=w.getByteSegments();D!==null&&P.putMetadata(Ne.BYTE_SEGMENTS,D);const V=w.getECLevel();return V!==null&&P.putMetadata(Ne.ERROR_CORRECTION_LEVEL,V),w.hasStructuredAppend()&&(P.putMetadata(Ne.STRUCTURED_APPEND_SEQUENCE,w.getStructuredAppendSequenceNumber()),P.putMetadata(Ne.STRUCTURED_APPEND_PARITY,w.getStructuredAppendParity())),P}reset(){}static extractPureBits(m){const y=m.getTopLeftOnBit(),w=m.getBottomRightOnBit();if(y===null||w===null)throw new X;const E=this.moduleSize(y,m);let P=y[1],D=w[1],V=y[0],J=w[0];if(V>=J||P>=D)throw new X;if(D-P!==J-V&&(J=V+(D-P),J>=m.getWidth()))throw new X;const oe=Math.round((J-V+1)/E),be=Math.round((D-P+1)/E);if(oe<=0||be<=0)throw new X;if(be!==oe)throw new X;const Te=Math.floor(E/2);P+=Te,V+=Te;const Le=V+Math.floor((oe-1)*E)-J;if(Le>0){if(Le>Te)throw new X;V-=Le}const tt=P+Math.floor((be-1)*E)-D;if(tt>0){if(tt>Te)throw new X;P-=tt}const ut=new ae(oe,be);for(let pt=0;pt<be;pt++){const Nt=P+Math.floor(pt*E);for(let Vt=0;Vt<oe;Vt++)m.get(V+Math.floor(Vt*E),Nt)&&ut.set(Vt,pt)}return ut}static moduleSize(m,y){const w=y.getHeight(),E=y.getWidth();let P=m[0],D=m[1],V=!0,J=0;for(;P<E&&D<w;){if(V!==y.get(P,D)){if(++J===5)break;V=!V}P++,D++}if(P===E||D===w)throw new X;return(P-m[0])/7}}su.NO_POINTS=new Array;class zn{PDF417Common(){}static getBitCountSum(m){return Ot.sum(m)}static toIntArray(m){if(m==null||!m.length)return zn.EMPTY_INT_ARRAY;const y=new Int32Array(m.length);let w=0;for(const E of m)y[w++]=E;return y}static getCodeword(m){const y=A.binarySearch(zn.SYMBOL_TABLE,m&262143);return y<0?-1:(zn.CODEWORD_TABLE[y]-1)%zn.NUMBER_OF_CODEWORDS}}zn.NUMBER_OF_CODEWORDS=929,zn.MAX_CODEWORDS_IN_BARCODE=zn.NUMBER_OF_CODEWORDS-1,zn.MIN_ROWS_IN_BARCODE=3,zn.MAX_ROWS_IN_BARCODE=90,zn.MODULES_IN_CODEWORD=17,zn.MODULES_IN_STOP_PATTERN=18,zn.BARS_IN_MODULE=8,zn.EMPTY_INT_ARRAY=new Int32Array([]),zn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),zn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zm{constructor(m,y){this.bits=m,this.points=y}getBits(){return this.bits}getPoints(){return this.points}}class Ca{static detectMultiple(m,y,w){let E=m.getBlackMatrix(),P=Ca.detect(w,E);return P.length||(E=E.clone(),E.rotate180(),P=Ca.detect(w,E)),new zm(E,P)}static detect(m,y){const w=new Array;let E=0,P=0,D=!1;for(;E<y.getHeight();){const V=Ca.findVertices(y,E,P);if(V[0]==null&&V[3]==null){if(!D)break;D=!1,P=0;for(const J of w)J[1]!=null&&(E=Math.trunc(Math.max(E,J[1].getY()))),J[3]!=null&&(E=Math.max(E,Math.trunc(J[3].getY())));E+=Ca.ROW_STEP;continue}if(D=!0,w.push(V),!m)break;V[2]!=null?(P=Math.trunc(V[2].getX()),E=Math.trunc(V[2].getY())):(P=Math.trunc(V[4].getX()),E=Math.trunc(V[4].getY()))}return w}static findVertices(m,y,w){const E=m.getHeight(),P=m.getWidth(),D=new Array(8);return Ca.copyToResult(D,Ca.findRowsWithPattern(m,E,P,y,w,Ca.START_PATTERN),Ca.INDEXES_START_PATTERN),D[4]!=null&&(w=Math.trunc(D[4].getX()),y=Math.trunc(D[4].getY())),Ca.copyToResult(D,Ca.findRowsWithPattern(m,E,P,y,w,Ca.STOP_PATTERN),Ca.INDEXES_STOP_PATTERN),D}static copyToResult(m,y,w){for(let E=0;E<w.length;E++)m[w[E]]=y[E]}static findRowsWithPattern(m,y,w,E,P,D){const V=new Array(4);let J=!1;const oe=new Int32Array(D.length);for(;E<y;E+=Ca.ROW_STEP){let Te=Ca.findGuardPattern(m,P,E,w,!1,D,oe);if(Te!=null){for(;E>0;){const Le=Ca.findGuardPattern(m,P,--E,w,!1,D,oe);if(Le!=null)Te=Le;else{E++;break}}V[0]=new st(Te[0],E),V[1]=new st(Te[1],E),J=!0;break}}let be=E+1;if(J){let Te=0,Le=Int32Array.from([Math.trunc(V[0].getX()),Math.trunc(V[1].getX())]);for(;be<y;be++){const tt=Ca.findGuardPattern(m,Le[0],be,w,!1,D,oe);if(tt!=null&&Math.abs(Le[0]-tt[0])<Ca.MAX_PATTERN_DRIFT&&Math.abs(Le[1]-tt[1])<Ca.MAX_PATTERN_DRIFT)Le=tt,Te=0;else{if(Te>Ca.SKIPPED_ROW_COUNT_MAX)break;Te++}}be-=Te+1,V[2]=new st(Le[0],be),V[3]=new st(Le[1],be)}return be-E<Ca.BARCODE_MIN_HEIGHT&&A.fill(V,null),V}static findGuardPattern(m,y,w,E,P,D,V){A.fillWithin(V,0,V.length,0);let J=y,oe=0;for(;m.get(J,w)&&J>0&&oe++<Ca.MAX_PIXEL_DRIFT;)J--;let be=J,Te=0,Le=D.length;for(let tt=P;be<E;be++)if(m.get(be,w)!==tt)V[Te]++;else{if(Te===Le-1){if(Ca.patternMatchVariance(V,D,Ca.MAX_INDIVIDUAL_VARIANCE)<Ca.MAX_AVG_VARIANCE)return new Int32Array([J,be]);J+=V[0]+V[1],b.arraycopy(V,2,V,0,Te-1),V[Te-1]=0,V[Te]=0,Te--}else Te++;V[Te]=1,tt=!tt}return Te===Le-1&&Ca.patternMatchVariance(V,D,Ca.MAX_INDIVIDUAL_VARIANCE)<Ca.MAX_AVG_VARIANCE?new Int32Array([J,be-1]):null}static patternMatchVariance(m,y,w){let E=m.length,P=0,D=0;for(let oe=0;oe<E;oe++)P+=m[oe],D+=y[oe];if(P<D)return 1/0;let V=P/D;w*=V;let J=0;for(let oe=0;oe<E;oe++){let be=m[oe],Te=y[oe]*V,Le=be>Te?be-Te:Te-be;if(Le>w)return 1/0;J+=Le}return J/P}}Ca.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ca.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ca.MAX_AVG_VARIANCE=.42,Ca.MAX_INDIVIDUAL_VARIANCE=.8,Ca.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ca.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ca.MAX_PIXEL_DRIFT=3,Ca.MAX_PATTERN_DRIFT=5,Ca.SKIPPED_ROW_COUNT_MAX=25,Ca.ROW_STEP=5,Ca.BARCODE_MIN_HEIGHT=10;class _s{constructor(m,y){if(y.length===0)throw new h;this.field=m;let w=y.length;if(w>1&&y[0]===0){let E=1;for(;E<w&&y[E]===0;)E++;E===w?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(w-E),b.arraycopy(y,E,this.coefficients,0,this.coefficients.length))}else this.coefficients=y}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(m){return this.coefficients[this.coefficients.length-1-m]}evaluateAt(m){if(m===0)return this.getCoefficient(0);if(m===1){let E=0;for(let P of this.coefficients)E=this.field.add(E,P);return E}let y=this.coefficients[0],w=this.coefficients.length;for(let E=1;E<w;E++)y=this.field.add(this.field.multiply(m,y),this.coefficients[E]);return y}add(m){if(!this.field.equals(m.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero())return m;if(m.isZero())return this;let y=this.coefficients,w=m.coefficients;if(y.length>w.length){let D=y;y=w,w=D}let E=new Int32Array(w.length),P=w.length-y.length;b.arraycopy(w,0,E,0,P);for(let D=P;D<w.length;D++)E[D]=this.field.add(y[D-P],w[D]);return new _s(this.field,E)}subtract(m){if(!this.field.equals(m.field))throw new h("ModulusPolys do not have same ModulusGF field");return m.isZero()?this:this.add(m.negative())}multiply(m){return m instanceof _s?this.multiplyOther(m):this.multiplyScalar(m)}multiplyOther(m){if(!this.field.equals(m.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero()||m.isZero())return new _s(this.field,new Int32Array([0]));let y=this.coefficients,w=y.length,E=m.coefficients,P=E.length,D=new Int32Array(w+P-1);for(let V=0;V<w;V++){let J=y[V];for(let oe=0;oe<P;oe++)D[V+oe]=this.field.add(D[V+oe],this.field.multiply(J,E[oe]))}return new _s(this.field,D)}negative(){let m=this.coefficients.length,y=new Int32Array(m);for(let w=0;w<m;w++)y[w]=this.field.subtract(0,this.coefficients[w]);return new _s(this.field,y)}multiplyScalar(m){if(m===0)return new _s(this.field,new Int32Array([0]));if(m===1)return this;let y=this.coefficients.length,w=new Int32Array(y);for(let E=0;E<y;E++)w[E]=this.field.multiply(this.coefficients[E],m);return new _s(this.field,w)}multiplyByMonomial(m,y){if(m<0)throw new h;if(y===0)return new _s(this.field,new Int32Array([0]));let w=this.coefficients.length,E=new Int32Array(w+m);for(let P=0;P<w;P++)E[P]=this.field.multiply(this.coefficients[P],y);return new _s(this.field,E)}toString(){let m=new ie;for(let y=this.getDegree();y>=0;y--){let w=this.getCoefficient(y);w!==0&&(w<0?(m.append(" - "),w=-w):m.length()>0&&m.append(" + "),(y===0||w!==1)&&m.append(w),y!==0&&(y===1?m.append("x"):(m.append("x^"),m.append(y))))}return m.toString()}}class Mh{add(m,y){return(m+y)%this.modulus}subtract(m,y){return(this.modulus+m-y)%this.modulus}exp(m){return this.expTable[m]}log(m){if(m===0)throw new h;return this.logTable[m]}inverse(m){if(m===0)throw new De;return this.expTable[this.modulus-this.logTable[m]-1]}multiply(m,y){return m===0||y===0?0:this.expTable[(this.logTable[m]+this.logTable[y])%(this.modulus-1)]}getSize(){return this.modulus}equals(m){return m===this}}class zs extends Mh{constructor(m,y){super(),this.modulus=m,this.expTable=new Int32Array(m),this.logTable=new Int32Array(m);let w=1;for(let E=0;E<m;E++)this.expTable[E]=w,w=w*y%m;for(let E=0;E<m-1;E++)this.logTable[this.expTable[E]]=E;this.zero=new _s(this,new Int32Array([0])),this.one=new _s(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(m,y){if(m<0)throw new h;if(y===0)return this.zero;let w=new Int32Array(m+1);return w[0]=y,new _s(this,w)}}zs.PDF417_GF=new zs(zn.NUMBER_OF_CODEWORDS,3);class Yd{constructor(){this.field=zs.PDF417_GF}decode(m,y,w){let E=new _s(this.field,m),P=new Int32Array(y),D=!1;for(let ut=y;ut>0;ut--){let pt=E.evaluateAt(this.field.exp(ut));P[y-ut]=pt,pt!==0&&(D=!0)}if(!D)return 0;let V=this.field.getOne();if(w!=null)for(const ut of w){let pt=this.field.exp(m.length-1-ut),Nt=new _s(this.field,new Int32Array([this.field.subtract(0,pt),1]));V=V.multiply(Nt)}let J=new _s(this.field,P),oe=this.runEuclideanAlgorithm(this.field.buildMonomial(y,1),J,y),be=oe[0],Te=oe[1],Le=this.findErrorLocations(be),tt=this.findErrorMagnitudes(Te,be,Le);for(let ut=0;ut<Le.length;ut++){let pt=m.length-1-this.field.log(Le[ut]);if(pt<0)throw p.getChecksumInstance();m[pt]=this.field.subtract(m[pt],tt[ut])}return Le.length}runEuclideanAlgorithm(m,y,w){if(m.getDegree()<y.getDegree()){let Le=m;m=y,y=Le}let E=m,P=y,D=this.field.getZero(),V=this.field.getOne();for(;P.getDegree()>=Math.round(w/2);){let Le=E,tt=D;if(E=P,D=V,E.isZero())throw p.getChecksumInstance();P=Le;let ut=this.field.getZero(),pt=E.getCoefficient(E.getDegree()),Nt=this.field.inverse(pt);for(;P.getDegree()>=E.getDegree()&&!P.isZero();){let Vt=P.getDegree()-E.getDegree(),ir=this.field.multiply(P.getCoefficient(P.getDegree()),Nt);ut=ut.add(this.field.buildMonomial(Vt,ir)),P=P.subtract(E.multiplyByMonomial(Vt,ir))}V=ut.multiply(D).subtract(tt).negative()}let J=V.getCoefficient(0);if(J===0)throw p.getChecksumInstance();let oe=this.field.inverse(J),be=V.multiply(oe),Te=P.multiply(oe);return[be,Te]}findErrorLocations(m){let y=m.getDegree(),w=new Int32Array(y),E=0;for(let P=1;P<this.field.getSize()&&E<y;P++)m.evaluateAt(P)===0&&(w[E]=this.field.inverse(P),E++);if(E!==y)throw p.getChecksumInstance();return w}findErrorMagnitudes(m,y,w){let E=y.getDegree(),P=new Int32Array(E);for(let oe=1;oe<=E;oe++)P[E-oe]=this.field.multiply(oe,y.getCoefficient(oe));let D=new _s(this.field,P),V=w.length,J=new Int32Array(V);for(let oe=0;oe<V;oe++){let be=this.field.inverse(w[oe]),Te=this.field.subtract(0,m.evaluateAt(be)),Le=this.field.inverse(D.evaluateAt(be));J[oe]=this.field.multiply(Te,Le)}return J}}class Or{constructor(m,y,w,E,P){m instanceof Or?this.constructor_2(m):this.constructor_1(m,y,w,E,P)}constructor_1(m,y,w,E,P){const D=y==null||w==null,V=E==null||P==null;if(D&&V)throw new X;D?(y=new st(0,E.getY()),w=new st(0,P.getY())):V&&(E=new st(m.getWidth()-1,y.getY()),P=new st(m.getWidth()-1,w.getY())),this.image=m,this.topLeft=y,this.bottomLeft=w,this.topRight=E,this.bottomRight=P,this.minX=Math.trunc(Math.min(y.getX(),w.getX())),this.maxX=Math.trunc(Math.max(E.getX(),P.getX())),this.minY=Math.trunc(Math.min(y.getY(),E.getY())),this.maxY=Math.trunc(Math.max(w.getY(),P.getY()))}constructor_2(m){this.image=m.image,this.topLeft=m.getTopLeft(),this.bottomLeft=m.getBottomLeft(),this.topRight=m.getTopRight(),this.bottomRight=m.getBottomRight(),this.minX=m.getMinX(),this.maxX=m.getMaxX(),this.minY=m.getMinY(),this.maxY=m.getMaxY()}static merge(m,y){return m==null?y:y==null?m:new Or(m.image,m.topLeft,m.bottomLeft,y.topRight,y.bottomRight)}addMissingRows(m,y,w){let E=this.topLeft,P=this.bottomLeft,D=this.topRight,V=this.bottomRight;if(m>0){let J=w?this.topLeft:this.topRight,oe=Math.trunc(J.getY()-m);oe<0&&(oe=0);let be=new st(J.getX(),oe);w?E=be:D=be}if(y>0){let J=w?this.bottomLeft:this.bottomRight,oe=Math.trunc(J.getY()+y);oe>=this.image.getHeight()&&(oe=this.image.getHeight()-1);let be=new st(J.getX(),oe);w?P=be:V=be}return new Or(this.image,E,P,D,V)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Rf{constructor(m,y,w,E){this.columnCount=m,this.errorCorrectionLevel=E,this.rowCountUpperPart=y,this.rowCountLowerPart=w,this.rowCount=y+w}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class hc{constructor(){this.buffer=""}static form(m,y){let w=-1;function E(D,V,J,oe,be,Te){if(D==="%%")return"%";if(y[++w]===void 0)return;D=oe?parseInt(oe.substr(1)):void 0;let Le=be?parseInt(be.substr(1)):void 0,tt;switch(Te){case"s":tt=y[w];break;case"c":tt=y[w][0];break;case"f":tt=parseFloat(y[w]).toFixed(D);break;case"p":tt=parseFloat(y[w]).toPrecision(D);break;case"e":tt=parseFloat(y[w]).toExponential(D);break;case"x":tt=parseInt(y[w]).toString(Le||16);break;case"d":tt=parseFloat(parseInt(y[w],Le||10).toPrecision(D)).toFixed(0);break}tt=typeof tt=="object"?JSON.stringify(tt):(+tt).toString(Le);let ut=parseInt(J),pt=J&&J[0]+""=="0"?"0":" ";for(;tt.length<ut;)tt=V!==void 0?tt+pt:pt+tt;return tt}let P=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return m.replace(P,E)}format(m,...y){this.buffer+=hc.form(m,y)}toString(){return this.buffer}}class cl{constructor(m){this.boundingBox=new Or(m),this.codewords=new Array(m.getMaxY()-m.getMinY()+1)}getCodewordNearby(m){let y=this.getCodeword(m);if(y!=null)return y;for(let w=1;w<cl.MAX_NEARBY_DISTANCE;w++){let E=this.imageRowToCodewordIndex(m)-w;if(E>=0&&(y=this.codewords[E],y!=null)||(E=this.imageRowToCodewordIndex(m)+w,E<this.codewords.length&&(y=this.codewords[E],y!=null)))return y}return null}imageRowToCodewordIndex(m){return m-this.boundingBox.getMinY()}setCodeword(m,y){this.codewords[this.imageRowToCodewordIndex(m)]=y}getCodeword(m){return this.codewords[this.imageRowToCodewordIndex(m)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const m=new hc;let y=0;for(const w of this.codewords){if(w==null){m.format("%3d:    |   %n",y++);continue}m.format("%3d: %3d|%3d%n",y++,w.getRowNumber(),w.getValue())}return m.toString()}}cl.MAX_NEARBY_DISTANCE=5;class as{constructor(){this.values=new Map}setValue(m){m=Math.trunc(m);let y=this.values.get(m);y==null&&(y=0),y++,this.values.set(m,y)}getValue(){let m=-1,y=new Array;for(const[w,E]of this.values.entries()){const P={getKey:()=>w,getValue:()=>E};P.getValue()>m?(m=P.getValue(),y=[],y.push(P.getKey())):P.getValue()===m&&y.push(P.getKey())}return zn.toIntArray(y)}getConfidence(m){return this.values.get(m)}}class Wl extends cl{constructor(m,y){super(m),this._isLeft=y}setRowNumbers(){for(let m of this.getCodewords())m!=null&&m.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(m){let y=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(y,m);let w=this.getBoundingBox(),E=this._isLeft?w.getTopLeft():w.getTopRight(),P=this._isLeft?w.getBottomLeft():w.getBottomRight(),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),V=this.imageRowToCodewordIndex(Math.trunc(P.getY())),J=-1,oe=1,be=0;for(let Te=D;Te<V;Te++){if(y[Te]==null)continue;let Le=y[Te],tt=Le.getRowNumber()-J;if(tt===0)be++;else if(tt===1)oe=Math.max(oe,be),be=1,J=Le.getRowNumber();else if(tt<0||Le.getRowNumber()>=m.getRowCount()||tt>Te)y[Te]=null;else{let ut;oe>2?ut=(oe-2)*tt:ut=tt;let pt=ut>=Te;for(let Nt=1;Nt<=ut&&!pt;Nt++)pt=y[Te-Nt]!=null;pt?y[Te]=null:(J=Le.getRowNumber(),be=1)}}}getRowHeights(){let m=this.getBarcodeMetadata();if(m==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(m);let y=new Int32Array(m.getRowCount());for(let w of this.getCodewords())if(w!=null){let E=w.getRowNumber();if(E>=y.length)continue;y[E]++}return y}adjustIncompleteIndicatorColumnRowNumbers(m){let y=this.getBoundingBox(),w=this._isLeft?y.getTopLeft():y.getTopRight(),E=this._isLeft?y.getBottomLeft():y.getBottomRight(),P=this.imageRowToCodewordIndex(Math.trunc(w.getY())),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),V=this.getCodewords(),J=-1;for(let oe=P;oe<D;oe++){if(V[oe]==null)continue;let be=V[oe];be.setRowNumberAsRowIndicatorColumn();let Te=be.getRowNumber()-J;Te===0||(Te===1?J=be.getRowNumber():be.getRowNumber()>=m.getRowCount()?V[oe]=null:J=be.getRowNumber())}}getBarcodeMetadata(){let m=this.getCodewords(),y=new as,w=new as,E=new as,P=new as;for(let V of m){if(V==null)continue;V.setRowNumberAsRowIndicatorColumn();let J=V.getValue()%30,oe=V.getRowNumber();switch(this._isLeft||(oe+=2),oe%3){case 0:w.setValue(J*3+1);break;case 1:P.setValue(J/3),E.setValue(J%3);break;case 2:y.setValue(J+1);break}}if(y.getValue().length===0||w.getValue().length===0||E.getValue().length===0||P.getValue().length===0||y.getValue()[0]<1||w.getValue()[0]+E.getValue()[0]<zn.MIN_ROWS_IN_BARCODE||w.getValue()[0]+E.getValue()[0]>zn.MAX_ROWS_IN_BARCODE)return null;let D=new Rf(y.getValue()[0],w.getValue()[0],E.getValue()[0],P.getValue()[0]);return this.removeIncorrectCodewords(m,D),D}removeIncorrectCodewords(m,y){for(let w=0;w<m.length;w++){let E=m[w];if(m[w]==null)continue;let P=E.getValue()%30,D=E.getRowNumber();if(D>y.getRowCount()){m[w]=null;continue}switch(this._isLeft||(D+=2),D%3){case 0:P*3+1!==y.getRowCountUpperPart()&&(m[w]=null);break;case 1:(Math.trunc(P/3)!==y.getErrorCorrectionLevel()||P%3!==y.getRowCountLowerPart())&&(m[w]=null);break;case 2:P+1!==y.getColumnCount()&&(m[w]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Vs{constructor(m,y){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=m,this.barcodeColumnCount=m.getColumnCount(),this.boundingBox=y,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let m=zn.MAX_CODEWORDS_IN_BARCODE,y;do y=m,m=this.adjustRowNumbersAndGetCount();while(m>0&&m<y);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(m){m!=null&&m.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let m=this.adjustRowNumbersByRow();if(m===0)return 0;for(let y=1;y<this.barcodeColumnCount+1;y++){let w=this.detectionResultColumns[y].getCodewords();for(let E=0;E<w.length;E++)w[E]!=null&&(w[E].hasValidRowNumber()||this.adjustRowNumbers(y,E,w))}return m}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let m=this.detectionResultColumns[0].getCodewords(),y=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<m.length;w++)if(m[w]!=null&&y[w]!=null&&m[w].getRowNumber()===y[w].getRowNumber())for(let E=1;E<=this.barcodeColumnCount;E++){let P=this.detectionResultColumns[E].getCodewords()[w];P!=null&&(P.setRowNumber(m[w].getRowNumber()),P.hasValidRowNumber()||(this.detectionResultColumns[E].getCodewords()[w]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let m=0,y=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<y.length;w++){if(y[w]==null)continue;let E=y[w].getRowNumber(),P=0;for(let D=this.barcodeColumnCount+1;D>0&&P<this.ADJUST_ROW_NUMBER_SKIP;D--){let V=this.detectionResultColumns[D].getCodewords()[w];V!=null&&(P=Vs.adjustRowNumberIfValid(E,P,V),V.hasValidRowNumber()||m++)}}return m}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let m=0,y=this.detectionResultColumns[0].getCodewords();for(let w=0;w<y.length;w++){if(y[w]==null)continue;let E=y[w].getRowNumber(),P=0;for(let D=1;D<this.barcodeColumnCount+1&&P<this.ADJUST_ROW_NUMBER_SKIP;D++){let V=this.detectionResultColumns[D].getCodewords()[w];V!=null&&(P=Vs.adjustRowNumberIfValid(E,P,V),V.hasValidRowNumber()||m++)}}return m}static adjustRowNumberIfValid(m,y,w){return w==null||w.hasValidRowNumber()||(w.isValidRowNumber(m)?(w.setRowNumber(m),y=0):++y),y}adjustRowNumbers(m,y,w){if(!this.detectionResultColumns[m-1])return;let E=w[y],P=this.detectionResultColumns[m-1].getCodewords(),D=P;this.detectionResultColumns[m+1]!=null&&(D=this.detectionResultColumns[m+1].getCodewords());let V=new Array(14);V[2]=P[y],V[3]=D[y],y>0&&(V[0]=w[y-1],V[4]=P[y-1],V[5]=D[y-1]),y>1&&(V[8]=w[y-2],V[10]=P[y-2],V[11]=D[y-2]),y<w.length-1&&(V[1]=w[y+1],V[6]=P[y+1],V[7]=D[y+1]),y<w.length-2&&(V[9]=w[y+2],V[12]=P[y+2],V[13]=D[y+2]);for(let J of V)if(Vs.adjustRowNumber(E,J))return}static adjustRowNumber(m,y){return y==null?!1:y.hasValidRowNumber()&&y.getBucket()===m.getBucket()?(m.setRowNumber(y.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(m){this.boundingBox=m}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(m,y){this.detectionResultColumns[m]=y}getDetectionResultColumn(m){return this.detectionResultColumns[m]}toString(){let m=this.detectionResultColumns[0];m==null&&(m=this.detectionResultColumns[this.barcodeColumnCount+1]);let y=new hc;for(let w=0;w<m.getCodewords().length;w++){y.format("CW %3d:",w);for(let E=0;E<this.barcodeColumnCount+2;E++){if(this.detectionResultColumns[E]==null){y.format("    |   ");continue}let P=this.detectionResultColumns[E].getCodewords()[w];if(P==null){y.format("    |   ");continue}y.format(" %3d|%3d",P.getRowNumber(),P.getValue())}y.format("%n")}return y.toString()}}class ou{constructor(m,y,w,E){this.rowNumber=ou.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(m),this.endX=Math.trunc(y),this.bucket=Math.trunc(w),this.value=Math.trunc(E)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(m){return m!==ou.BARCODE_ROW_UNKNOWN&&this.bucket===m%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(m){this.rowNumber=m}toString(){return this.rowNumber+"|"+this.value}}ou.BARCODE_ROW_UNKNOWN=-1;class Eo{static initialize(){for(let m=0;m<zn.SYMBOL_TABLE.length;m++){let y=zn.SYMBOL_TABLE[m],w=y&1;for(let E=0;E<zn.BARS_IN_MODULE;E++){let P=0;for(;(y&1)===w;)P+=1,y>>=1;w=y&1,Eo.RATIOS_TABLE[m]||(Eo.RATIOS_TABLE[m]=new Array(zn.BARS_IN_MODULE)),Eo.RATIOS_TABLE[m][zn.BARS_IN_MODULE-E-1]=Math.fround(P/zn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(m){let y=Eo.getDecodedCodewordValue(Eo.sampleBitCounts(m));return y!==-1?y:Eo.getClosestDecodedValue(m)}static sampleBitCounts(m){let y=Ot.sum(m),w=new Int32Array(zn.BARS_IN_MODULE),E=0,P=0;for(let D=0;D<zn.MODULES_IN_CODEWORD;D++){let V=y/(2*zn.MODULES_IN_CODEWORD)+D*y/zn.MODULES_IN_CODEWORD;P+m[E]<=V&&(P+=m[E],E++),w[E]++}return w}static getDecodedCodewordValue(m){let y=Eo.getBitValue(m);return zn.getCodeword(y)===-1?-1:y}static getBitValue(m){let y=0;for(let w=0;w<m.length;w++)for(let E=0;E<m[w];E++)y=y<<1|(w%2===0?1:0);return Math.trunc(y)}static getClosestDecodedValue(m){let y=Ot.sum(m),w=new Array(zn.BARS_IN_MODULE);if(y>1)for(let D=0;D<w.length;D++)w[D]=Math.fround(m[D]/y);let E=xr.MAX_VALUE,P=-1;this.bSymbolTableReady||Eo.initialize();for(let D=0;D<Eo.RATIOS_TABLE.length;D++){let V=0,J=Eo.RATIOS_TABLE[D];for(let oe=0;oe<zn.BARS_IN_MODULE;oe++){let be=Math.fround(J[oe]-w[oe]);if(V+=Math.fround(be*be),V>=E)break}V<E&&(E=V,P=zn.SYMBOL_TABLE[D])}return P}}Eo.bSymbolTableReady=!1,Eo.RATIOS_TABLE=new Array(zn.SYMBOL_TABLE.length).map(ke=>new Array(zn.BARS_IN_MODULE));class Lh{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(m){this.segmentIndex=m}getFileId(){return this.fileId}setFileId(m){this.fileId=m}getOptionalData(){return this.optionalData}setOptionalData(m){this.optionalData=m}isLastSegment(){return this.lastSegment}setLastSegment(m){this.lastSegment=m}getSegmentCount(){return this.segmentCount}setSegmentCount(m){this.segmentCount=m}getSender(){return this.sender||null}setSender(m){this.sender=m}getAddressee(){return this.addressee||null}setAddressee(m){this.addressee=m}getFileName(){return this.fileName}setFileName(m){this.fileName=m}getFileSize(){return this.fileSize}setFileSize(m){this.fileSize=m}getChecksum(){return this.checksum}setChecksum(m){this.checksum=m}getTimestamp(){return this.timestamp}setTimestamp(m){this.timestamp=m}}class Bh{static parseLong(m,y=void 0){return parseInt(m,y)}}class $h extends u{}$h.kind="NullPointerException";class lu{writeBytes(m){this.writeBytesOffset(m,0,m.length)}writeBytesOffset(m,y,w){if(m==null)throw new $h;if(y<0||y>m.length||w<0||y+w>m.length||y+w<0)throw new N;if(w===0)return;for(let E=0;E<w;E++)this.write(m[y+E])}flush(){}close(){}}class Uu extends u{}class Vm extends lu{constructor(m=32){if(super(),this.count=0,m<0)throw new h("Negative initial size: "+m);this.buf=new Uint8Array(m)}ensureCapacity(m){m-this.buf.length>0&&this.grow(m)}grow(m){let w=this.buf.length<<1;if(w-m<0&&(w=m),w<0){if(m<0)throw new Uu;w=T.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,w)}write(m){this.ensureCapacity(this.count+1),this.buf[this.count]=m,this.count+=1}writeBytesOffset(m,y,w){if(y<0||y>m.length||w<0||y+w-m.length>0)throw new N;this.ensureCapacity(this.count+w),b.arraycopy(m,y,this.buf,this.count,w),this.count+=w}writeTo(m){m.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(m){return m?typeof m=="string"?this.toString_string(m):this.toString_number(m):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(m){return new String(this.buf).toString()}toString_number(m){return new String(this.buf).toString()}close(){}}var ei;(function(ke){ke[ke.ALPHA=0]="ALPHA",ke[ke.LOWER=1]="LOWER",ke[ke.MIXED=2]="MIXED",ke[ke.PUNCT=3]="PUNCT",ke[ke.ALPHA_SHIFT=4]="ALPHA_SHIFT",ke[ke.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ei||(ei={}));function mc(){if(typeof window<"u")return window.BigInt||null;if(typeof Rs<"u")return Rs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let pd;function Yo(ke){if(typeof pd>"u"&&(pd=mc()),pd===null)throw new Error("BigInt is not supported!");return pd(ke)}function Wm(){let ke=[];ke[0]=Yo(1);let m=Yo(900);ke[1]=m;for(let y=2;y<16;y++)ke[y]=ke[y-1]*m;return ke}class $t{static decode(m,y){let w=new ie(""),E=z.ISO8859_1;w.enableDecoding(E);let P=1,D=m[P++],V=new Lh;for(;P<m[0];){switch(D){case $t.TEXT_COMPACTION_MODE_LATCH:P=$t.textCompaction(m,P,w);break;case $t.BYTE_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:P=$t.byteCompaction(D,m,E,P,w);break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(m[P++]);break;case $t.NUMERIC_COMPACTION_MODE_LATCH:P=$t.numericCompaction(m,P,w);break;case $t.ECI_CHARSET:z.getCharacterSetECIByValue(m[P++]);break;case $t.ECI_GENERAL_PURPOSE:P+=2;break;case $t.ECI_USER_DEFINED:P++;break;case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:P=$t.decodeMacroBlock(m,P,V);break;case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:throw new M;default:P--,P=$t.textCompaction(m,P,w);break}if(P<m.length)D=m[P++];else throw M.getFormatInstance()}if(w.length()===0)throw M.getFormatInstance();let J=new Se(null,w.toString(),null,y);return J.setOther(V),J}static decodeMacroBlock(m,y,w){if(y+$t.NUMBER_OF_SEQUENCE_CODEWORDS>m[0])throw M.getFormatInstance();let E=new Int32Array($t.NUMBER_OF_SEQUENCE_CODEWORDS);for(let V=0;V<$t.NUMBER_OF_SEQUENCE_CODEWORDS;V++,y++)E[V]=m[y];w.setSegmentIndex(T.parseInt($t.decodeBase900toBase10(E,$t.NUMBER_OF_SEQUENCE_CODEWORDS)));let P=new ie;y=$t.textCompaction(m,y,P),w.setFileId(P.toString());let D=-1;for(m[y]===$t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(D=y+1);y<m[0];)switch(m[y]){case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(y++,m[y]){case $t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let V=new ie;y=$t.textCompaction(m,y+1,V),w.setFileName(V.toString());break;case $t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let J=new ie;y=$t.textCompaction(m,y+1,J),w.setSender(J.toString());break;case $t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let oe=new ie;y=$t.textCompaction(m,y+1,oe),w.setAddressee(oe.toString());break;case $t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let be=new ie;y=$t.numericCompaction(m,y+1,be),w.setSegmentCount(T.parseInt(be.toString()));break;case $t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Te=new ie;y=$t.numericCompaction(m,y+1,Te),w.setTimestamp(Bh.parseLong(Te.toString()));break;case $t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Le=new ie;y=$t.numericCompaction(m,y+1,Le),w.setChecksum(T.parseInt(Le.toString()));break;case $t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let tt=new ie;y=$t.numericCompaction(m,y+1,tt),w.setFileSize(Bh.parseLong(tt.toString()));break;default:throw M.getFormatInstance()}break;case $t.MACRO_PDF417_TERMINATOR:y++,w.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(D!==-1){let V=y-D;w.isLastSegment()&&V--,w.setOptionalData(A.copyOfRange(m,D,D+V))}return y}static textCompaction(m,y,w){let E=new Int32Array((m[0]-y)*2),P=new Int32Array((m[0]-y)*2),D=0,V=!1;for(;y<m[0]&&!V;){let J=m[y++];if(J<$t.TEXT_COMPACTION_MODE_LATCH)E[D]=J/30,E[D+1]=J%30,D+=2;else switch(J){case $t.TEXT_COMPACTION_MODE_LATCH:E[D++]=$t.TEXT_COMPACTION_MODE_LATCH;break;case $t.BYTE_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.NUMERIC_COMPACTION_MODE_LATCH:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:y--,V=!0;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E[D]=$t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,J=m[y++],P[D]=J,D++;break}}return $t.decodeTextCompaction(E,P,D,w),y}static decodeTextCompaction(m,y,w,E){let P=ei.ALPHA,D=ei.ALPHA,V=0;for(;V<w;){let J=m[V],oe="";switch(P){case ei.ALPHA:if(J<26)oe=String.fromCharCode(65+J);else switch(J){case 26:oe=" ";break;case $t.LL:P=ei.LOWER;break;case $t.ML:P=ei.MIXED;break;case $t.PS:D=P,P=ei.PUNCT_SHIFT;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=ei.ALPHA;break}break;case ei.LOWER:if(J<26)oe=String.fromCharCode(97+J);else switch(J){case 26:oe=" ";break;case $t.AS:D=P,P=ei.ALPHA_SHIFT;break;case $t.ML:P=ei.MIXED;break;case $t.PS:D=P,P=ei.PUNCT_SHIFT;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=ei.ALPHA;break}break;case ei.MIXED:if(J<$t.PL)oe=$t.MIXED_CHARS[J];else switch(J){case $t.PL:P=ei.PUNCT;break;case 26:oe=" ";break;case $t.LL:P=ei.LOWER;break;case $t.AL:P=ei.ALPHA;break;case $t.PS:D=P,P=ei.PUNCT_SHIFT;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=ei.ALPHA;break}break;case ei.PUNCT:if(J<$t.PAL)oe=$t.PUNCT_CHARS[J];else switch(J){case $t.PAL:P=ei.ALPHA;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=ei.ALPHA;break}break;case ei.ALPHA_SHIFT:if(P=D,J<26)oe=String.fromCharCode(65+J);else switch(J){case 26:oe=" ";break;case $t.TEXT_COMPACTION_MODE_LATCH:P=ei.ALPHA;break}break;case ei.PUNCT_SHIFT:if(P=D,J<$t.PAL)oe=$t.PUNCT_CHARS[J];else switch(J){case $t.PAL:P=ei.ALPHA;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=ei.ALPHA;break}break}oe!==""&&E.append(oe),V++}}static byteCompaction(m,y,w,E,P){let D=new Vm,V=0,J=0,oe=!1;switch(m){case $t.BYTE_COMPACTION_MODE_LATCH:let be=new Int32Array(6),Te=y[E++];for(;E<y[0]&&!oe;)switch(be[V++]=Te,J=900*J+Te,Te=y[E++],Te){case $t.TEXT_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH:case $t.NUMERIC_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:E--,oe=!0;break;default:if(V%5===0&&V>0){for(let Le=0;Le<6;++Le)D.write(Number(Yo(J)>>Yo(8*(5-Le))));J=0,V=0}break}E===y[0]&&Te<$t.TEXT_COMPACTION_MODE_LATCH&&(be[V++]=Te);for(let Le=0;Le<V;Le++)D.write(be[Le]);break;case $t.BYTE_COMPACTION_MODE_LATCH_6:for(;E<y[0]&&!oe;){let Le=y[E++];if(Le<$t.TEXT_COMPACTION_MODE_LATCH)V++,J=900*J+Le;else switch(Le){case $t.TEXT_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH:case $t.NUMERIC_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:E--,oe=!0;break}if(V%5===0&&V>0){for(let tt=0;tt<6;++tt)D.write(Number(Yo(J)>>Yo(8*(5-tt))));J=0,V=0}}break}return P.append(K.decode(D.toByteArray(),w)),E}static numericCompaction(m,y,w){let E=0,P=!1,D=new Int32Array($t.MAX_NUMERIC_CODEWORDS);for(;y<m[0]&&!P;){let V=m[y++];if(y===m[0]&&(P=!0),V<$t.TEXT_COMPACTION_MODE_LATCH)D[E]=V,E++;else switch(V){case $t.TEXT_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:y--,P=!0;break}(E%$t.MAX_NUMERIC_CODEWORDS===0||V===$t.NUMERIC_COMPACTION_MODE_LATCH||P)&&E>0&&(w.append($t.decodeBase900toBase10(D,E)),E=0)}return y}static decodeBase900toBase10(m,y){let w=Yo(0);for(let P=0;P<y;P++)w+=$t.EXP900[y-P-1]*Yo(m[P]);let E=w.toString();if(E.charAt(0)!=="1")throw new M;return E.substring(1)}}$t.TEXT_COMPACTION_MODE_LATCH=900,$t.BYTE_COMPACTION_MODE_LATCH=901,$t.NUMERIC_COMPACTION_MODE_LATCH=902,$t.BYTE_COMPACTION_MODE_LATCH_6=924,$t.ECI_USER_DEFINED=925,$t.ECI_GENERAL_PURPOSE=926,$t.ECI_CHARSET=927,$t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$t.MACRO_PDF417_TERMINATOR=922,$t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$t.MAX_NUMERIC_CODEWORDS=15,$t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$t.PL=25,$t.LL=27,$t.AS=27,$t.ML=28,$t.AL=28,$t.PS=29,$t.PAL=29,$t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$t.EXP900=mc()?Wm():[],$t.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Aa{constructor(){}static decode(m,y,w,E,P,D,V){let J=new Or(m,y,w,E,P),oe=null,be=null,Te;for(let ut=!0;;ut=!1){if(y!=null&&(oe=Aa.getRowIndicatorColumn(m,J,y,!0,D,V)),E!=null&&(be=Aa.getRowIndicatorColumn(m,J,E,!1,D,V)),Te=Aa.merge(oe,be),Te==null)throw X.getNotFoundInstance();let pt=Te.getBoundingBox();if(ut&&pt!=null&&(pt.getMinY()<J.getMinY()||pt.getMaxY()>J.getMaxY()))J=pt;else break}Te.setBoundingBox(J);let Le=Te.getBarcodeColumnCount()+1;Te.setDetectionResultColumn(0,oe),Te.setDetectionResultColumn(Le,be);let tt=oe!=null;for(let ut=1;ut<=Le;ut++){let pt=tt?ut:Le-ut;if(Te.getDetectionResultColumn(pt)!==void 0)continue;let Nt;pt===0||pt===Le?Nt=new Wl(J,pt===0):Nt=new cl(J),Te.setDetectionResultColumn(pt,Nt);let Vt=-1,ir=Vt;for(let vr=J.getMinY();vr<=J.getMaxY();vr++){if(Vt=Aa.getStartColumn(Te,pt,vr,tt),Vt<0||Vt>J.getMaxX()){if(ir===-1)continue;Vt=ir}let pr=Aa.detectCodeword(m,J.getMinX(),J.getMaxX(),tt,Vt,vr,D,V);pr!=null&&(Nt.setCodeword(vr,pr),ir=Vt,D=Math.min(D,pr.getWidth()),V=Math.max(V,pr.getWidth()))}}return Aa.createDecoderResult(Te)}static merge(m,y){if(m==null&&y==null)return null;let w=Aa.getBarcodeMetadata(m,y);if(w==null)return null;let E=Or.merge(Aa.adjustBoundingBox(m),Aa.adjustBoundingBox(y));return new Vs(w,E)}static adjustBoundingBox(m){if(m==null)return null;let y=m.getRowHeights();if(y==null)return null;let w=Aa.getMax(y),E=0;for(let V of y)if(E+=w-V,V>0)break;let P=m.getCodewords();for(let V=0;E>0&&P[V]==null;V++)E--;let D=0;for(let V=y.length-1;V>=0&&(D+=w-y[V],!(y[V]>0));V--);for(let V=P.length-1;D>0&&P[V]==null;V--)D--;return m.getBoundingBox().addMissingRows(E,D,m.isLeft())}static getMax(m){let y=-1;for(let w of m)y=Math.max(y,w);return y}static getBarcodeMetadata(m,y){let w;if(m==null||(w=m.getBarcodeMetadata())==null)return y==null?null:y.getBarcodeMetadata();let E;return y==null||(E=y.getBarcodeMetadata())==null?w:w.getColumnCount()!==E.getColumnCount()&&w.getErrorCorrectionLevel()!==E.getErrorCorrectionLevel()&&w.getRowCount()!==E.getRowCount()?null:w}static getRowIndicatorColumn(m,y,w,E,P,D){let V=new Wl(y,E);for(let J=0;J<2;J++){let oe=J===0?1:-1,be=Math.trunc(Math.trunc(w.getX()));for(let Te=Math.trunc(Math.trunc(w.getY()));Te<=y.getMaxY()&&Te>=y.getMinY();Te+=oe){let Le=Aa.detectCodeword(m,0,m.getWidth(),E,be,Te,P,D);Le!=null&&(V.setCodeword(Te,Le),E?be=Le.getStartX():be=Le.getEndX())}}return V}static adjustCodewordCount(m,y){let w=y[0][1],E=w.getValue(),P=m.getBarcodeColumnCount()*m.getBarcodeRowCount()-Aa.getNumberOfECCodeWords(m.getBarcodeECLevel());if(E.length===0){if(P<1||P>zn.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();w.setValue(P)}else E[0]!==P&&w.setValue(P)}static createDecoderResult(m){let y=Aa.createBarcodeMatrix(m);Aa.adjustCodewordCount(m,y);let w=new Array,E=new Int32Array(m.getBarcodeRowCount()*m.getBarcodeColumnCount()),P=[],D=new Array;for(let J=0;J<m.getBarcodeRowCount();J++)for(let oe=0;oe<m.getBarcodeColumnCount();oe++){let be=y[J][oe+1].getValue(),Te=J*m.getBarcodeColumnCount()+oe;be.length===0?w.push(Te):be.length===1?E[Te]=be[0]:(D.push(Te),P.push(be))}let V=new Array(P.length);for(let J=0;J<V.length;J++)V[J]=P[J];return Aa.createDecoderResultFromAmbiguousValues(m.getBarcodeECLevel(),E,zn.toIntArray(w),zn.toIntArray(D),V)}static createDecoderResultFromAmbiguousValues(m,y,w,E,P){let D=new Int32Array(E.length),V=100;for(;V-- >0;){for(let J=0;J<D.length;J++)y[E[J]]=P[J][D[J]];try{return Aa.decodeCodewords(y,m,w)}catch(J){if(!(J instanceof p))throw J}if(D.length===0)throw p.getChecksumInstance();for(let J=0;J<D.length;J++)if(D[J]<P[J].length-1){D[J]++;break}else if(D[J]=0,J===D.length-1)throw p.getChecksumInstance()}throw p.getChecksumInstance()}static createBarcodeMatrix(m){let y=Array.from({length:m.getBarcodeRowCount()},()=>new Array(m.getBarcodeColumnCount()+2));for(let E=0;E<y.length;E++)for(let P=0;P<y[E].length;P++)y[E][P]=new as;let w=0;for(let E of m.getDetectionResultColumns()){if(E!=null){for(let P of E.getCodewords())if(P!=null){let D=P.getRowNumber();if(D>=0){if(D>=y.length)continue;y[D][w].setValue(P.getValue())}}}w++}return y}static isValidBarcodeColumn(m,y){return y>=0&&y<=m.getBarcodeColumnCount()+1}static getStartColumn(m,y,w,E){let P=E?1:-1,D=null;if(Aa.isValidBarcodeColumn(m,y-P)&&(D=m.getDetectionResultColumn(y-P).getCodeword(w)),D!=null)return E?D.getEndX():D.getStartX();if(D=m.getDetectionResultColumn(y).getCodewordNearby(w),D!=null)return E?D.getStartX():D.getEndX();if(Aa.isValidBarcodeColumn(m,y-P)&&(D=m.getDetectionResultColumn(y-P).getCodewordNearby(w)),D!=null)return E?D.getEndX():D.getStartX();let V=0;for(;Aa.isValidBarcodeColumn(m,y-P);){y-=P;for(let J of m.getDetectionResultColumn(y).getCodewords())if(J!=null)return(E?J.getEndX():J.getStartX())+P*V*(J.getEndX()-J.getStartX());V++}return E?m.getBoundingBox().getMinX():m.getBoundingBox().getMaxX()}static detectCodeword(m,y,w,E,P,D,V,J){P=Aa.adjustCodewordStartColumn(m,y,w,E,P,D);let oe=Aa.getModuleBitCount(m,y,w,E,P,D);if(oe==null)return null;let be,Te=Ot.sum(oe);if(E)be=P+Te;else{for(let ut=0;ut<oe.length/2;ut++){let pt=oe[ut];oe[ut]=oe[oe.length-1-ut],oe[oe.length-1-ut]=pt}be=P,P=be-Te}if(!Aa.checkCodewordSkew(Te,V,J))return null;let Le=Eo.getDecodedValue(oe),tt=zn.getCodeword(Le);return tt===-1?null:new ou(P,be,Aa.getCodewordBucketNumber(Le),tt)}static getModuleBitCount(m,y,w,E,P,D){let V=P,J=new Int32Array(8),oe=0,be=E?1:-1,Te=E;for(;(E?V<w:V>=y)&&oe<J.length;)m.get(V,D)===Te?(J[oe]++,V+=be):(oe++,Te=!Te);return oe===J.length||V===(E?w:y)&&oe===J.length-1?J:null}static getNumberOfECCodeWords(m){return 2<<m}static adjustCodewordStartColumn(m,y,w,E,P,D){let V=P,J=E?-1:1;for(let oe=0;oe<2;oe++){for(;(E?V>=y:V<w)&&E===m.get(V,D);){if(Math.abs(P-V)>Aa.CODEWORD_SKEW_SIZE)return P;V+=J}J=-J,E=!E}return V}static checkCodewordSkew(m,y,w){return y-Aa.CODEWORD_SKEW_SIZE<=m&&m<=w+Aa.CODEWORD_SKEW_SIZE}static decodeCodewords(m,y,w){if(m.length===0)throw M.getFormatInstance();let E=1<<y+1,P=Aa.correctErrors(m,w,E);Aa.verifyCodewordCount(m,E);let D=$t.decode(m,""+y);return D.setErrorsCorrected(P),D.setErasures(w.length),D}static correctErrors(m,y,w){if(y!=null&&y.length>w/2+Aa.MAX_ERRORS||w<0||w>Aa.MAX_EC_CODEWORDS)throw p.getChecksumInstance();return Aa.errorCorrection.decode(m,w,y)}static verifyCodewordCount(m,y){if(m.length<4)throw M.getFormatInstance();let w=m[0];if(w>m.length)throw M.getFormatInstance();if(w===0)if(y<m.length)m[0]=m.length-y;else throw M.getFormatInstance()}static getBitCountForCodeword(m){let y=new Int32Array(8),w=0,E=y.length-1;for(;!((m&1)!==w&&(w=m&1,E--,E<0));)y[E]++,m>>=1;return y}static getCodewordBucketNumber(m){return m instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(m):this.getCodewordBucketNumber_number(m)}static getCodewordBucketNumber_number(m){return Aa.getCodewordBucketNumber(Aa.getBitCountForCodeword(m))}static getCodewordBucketNumber_Int32Array(m){return(m[0]-m[2]+m[4]-m[6]+9)%9}static toString(m){let y=new hc;for(let w=0;w<m.length;w++){y.format("Row %2d: ",w);for(let E=0;E<m[w].length;E++){let P=m[w][E];P.getValue().length===0?y.format("        ",null):y.format("%4d(%2d)",P.getValue()[0],P.getConfidence(P.getValue()[0]))}y.format("%n")}return y.toString()}}Aa.CODEWORD_SKEW_SIZE=2,Aa.MAX_ERRORS=3,Aa.MAX_EC_CODEWORDS=512,Aa.errorCorrection=new Yd;class Ns{decode(m,y=null){let w=Ns.decode(m,y,!1);if(w==null||w.length===0||w[0]==null)throw X.getNotFoundInstance();return w[0]}decodeMultiple(m,y=null){try{return Ns.decode(m,y,!0)}catch(w){throw w instanceof M||w instanceof p?X.getNotFoundInstance():w}}static decode(m,y,w){const E=new Array,P=Ca.detectMultiple(m,y,w);for(const D of P.getPoints()){const V=Aa.decode(P.getBits(),D[4],D[5],D[6],D[7],Ns.getMinCodewordWidth(D),Ns.getMaxCodewordWidth(D)),J=new ne(V.getText(),V.getRawBytes(),void 0,D,pe.PDF_417);J.putMetadata(Ne.ERROR_CORRECTION_LEVEL,V.getECLevel());const oe=V.getOther();oe!=null&&J.putMetadata(Ne.PDF417_EXTRA_METADATA,oe),E.push(J)}return E.map(D=>D)}static getMaxWidth(m,y){return m==null||y==null?0:Math.trunc(Math.abs(m.getX()-y.getX()))}static getMinWidth(m,y){return m==null||y==null?T.MAX_VALUE:Math.trunc(Math.abs(m.getX()-y.getX()))}static getMaxCodewordWidth(m){return Math.floor(Math.max(Math.max(Ns.getMaxWidth(m[0],m[4]),Ns.getMaxWidth(m[6],m[2])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN),Math.max(Ns.getMaxWidth(m[1],m[5]),Ns.getMaxWidth(m[7],m[3])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(m){return Math.floor(Math.min(Math.min(Ns.getMinWidth(m[0],m[4]),Ns.getMinWidth(m[6],m[2])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN),Math.min(Ns.getMinWidth(m[1],m[5]),Ns.getMinWidth(m[7],m[3])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN)))}reset(){}}class zu extends u{}zu.kind="ReaderException";class Mf{constructor(m,y){this.verbose=m===!0,y&&this.setHints(y)}decode(m,y){return y&&this.setHints(y),this.decodeInternal(m)}decodeWithState(m){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(m)}setHints(m){this.hints=m;const y=!n(m)&&m.get(B.TRY_HARDER)===!0,w=n(m)?null:m.get(B.POSSIBLE_FORMATS),E=new Array;if(!n(w)){const P=w.some(D=>D===pe.UPC_A||D===pe.UPC_E||D===pe.EAN_13||D===pe.EAN_8||D===pe.CODABAR||D===pe.CODE_39||D===pe.CODE_93||D===pe.CODE_128||D===pe.ITF||D===pe.RSS_14||D===pe.RSS_EXPANDED);P&&!y&&E.push(new Kn(m,this.verbose)),w.includes(pe.QR_CODE)&&E.push(new su),w.includes(pe.DATA_MATRIX)&&E.push(new ho),w.includes(pe.AZTEC)&&E.push(new Yr),w.includes(pe.PDF_417)&&E.push(new Ns),P&&y&&E.push(new Kn(m,this.verbose))}E.length===0&&(y||E.push(new Kn(m,this.verbose)),E.push(new su),E.push(new ho),E.push(new Yr),E.push(new Ns),y&&E.push(new Kn(m,this.verbose))),this.readers=E}reset(){if(this.readers!==null)for(const m of this.readers)m.reset()}decodeInternal(m){if(this.readers===null)throw new zu("No readers where selected, nothing can be read.");for(const y of this.readers)try{return y.decode(m,this.hints)}catch(w){if(w instanceof zu)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Xd extends le{constructor(m=null,y=500){const w=new Mf;w.setHints(m),super(w,y)}decodeBitmap(m){return this.reader.decodeWithState(m)}}class Jd extends le{constructor(m=500){super(new Ns,m)}}class Lf extends le{constructor(m=500){super(new su,m)}}var cu;(function(ke){ke[ke.ERROR_CORRECTION=0]="ERROR_CORRECTION",ke[ke.CHARACTER_SET=1]="CHARACTER_SET",ke[ke.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ke[ke.MIN_SIZE=3]="MIN_SIZE",ke[ke.MAX_SIZE=4]="MAX_SIZE",ke[ke.MARGIN=5]="MARGIN",ke[ke.PDF417_COMPACT=6]="PDF417_COMPACT",ke[ke.PDF417_COMPACTION=7]="PDF417_COMPACTION",ke[ke.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ke[ke.AZTEC_LAYERS=9]="AZTEC_LAYERS",ke[ke.QR_VERSION=10]="QR_VERSION"})(cu||(cu={}));var Mi=cu;class Zd{constructor(m){this.field=m,this.cachedGenerators=[],this.cachedGenerators.push(new Ge(m,Int32Array.from([1])))}buildGenerator(m){const y=this.cachedGenerators;if(m>=y.length){let w=y[y.length-1];const E=this.field;for(let P=y.length;P<=m;P++){const D=w.multiply(new Ge(E,Int32Array.from([1,E.exp(P-1+E.getGeneratorBase())])));y.push(D),w=D}}return y[m]}encode(m,y){if(y===0)throw new h("No error correction bytes");const w=m.length-y;if(w<=0)throw new h("No data bytes provided");const E=this.buildGenerator(y),P=new Int32Array(w);b.arraycopy(m,0,P,0,w);let D=new Ge(this.field,P);D=D.multiplyByMonomial(y,1);const J=D.divide(E)[1].getCoefficients(),oe=y-J.length;for(let be=0;be<oe;be++)m[w+be]=0;b.arraycopy(J,0,m,w+oe,J.length)}}class pa{constructor(){}static applyMaskPenaltyRule1(m){return pa.applyMaskPenaltyRule1Internal(m,!0)+pa.applyMaskPenaltyRule1Internal(m,!1)}static applyMaskPenaltyRule2(m){let y=0;const w=m.getArray(),E=m.getWidth(),P=m.getHeight();for(let D=0;D<P-1;D++){const V=w[D];for(let J=0;J<E-1;J++){const oe=V[J];oe===V[J+1]&&oe===w[D+1][J]&&oe===w[D+1][J+1]&&y++}}return pa.N2*y}static applyMaskPenaltyRule3(m){let y=0;const w=m.getArray(),E=m.getWidth(),P=m.getHeight();for(let D=0;D<P;D++)for(let V=0;V<E;V++){const J=w[D];V+6<E&&J[V]===1&&J[V+1]===0&&J[V+2]===1&&J[V+3]===1&&J[V+4]===1&&J[V+5]===0&&J[V+6]===1&&(pa.isWhiteHorizontal(J,V-4,V)||pa.isWhiteHorizontal(J,V+7,V+11))&&y++,D+6<P&&w[D][V]===1&&w[D+1][V]===0&&w[D+2][V]===1&&w[D+3][V]===1&&w[D+4][V]===1&&w[D+5][V]===0&&w[D+6][V]===1&&(pa.isWhiteVertical(w,V,D-4,D)||pa.isWhiteVertical(w,V,D+7,D+11))&&y++}return y*pa.N3}static isWhiteHorizontal(m,y,w){y=Math.max(y,0),w=Math.min(w,m.length);for(let E=y;E<w;E++)if(m[E]===1)return!1;return!0}static isWhiteVertical(m,y,w,E){w=Math.max(w,0),E=Math.min(E,m.length);for(let P=w;P<E;P++)if(m[P][y]===1)return!1;return!0}static applyMaskPenaltyRule4(m){let y=0;const w=m.getArray(),E=m.getWidth(),P=m.getHeight();for(let J=0;J<P;J++){const oe=w[J];for(let be=0;be<E;be++)oe[be]===1&&y++}const D=m.getHeight()*m.getWidth();return Math.floor(Math.abs(y*2-D)*10/D)*pa.N4}static getDataMaskBit(m,y,w){let E,P;switch(m){case 0:E=w+y&1;break;case 1:E=w&1;break;case 2:E=y%3;break;case 3:E=(w+y)%3;break;case 4:E=Math.floor(w/2)+Math.floor(y/3)&1;break;case 5:P=w*y,E=(P&1)+P%3;break;case 6:P=w*y,E=(P&1)+P%3&1;break;case 7:P=w*y,E=P%3+(w+y&1)&1;break;default:throw new h("Invalid mask pattern: "+m)}return E===0}static applyMaskPenaltyRule1Internal(m,y){let w=0;const E=y?m.getHeight():m.getWidth(),P=y?m.getWidth():m.getHeight(),D=m.getArray();for(let V=0;V<E;V++){let J=0,oe=-1;for(let be=0;be<P;be++){const Te=y?D[V][be]:D[be][V];Te===oe?J++:(J>=5&&(w+=pa.N1+(J-5)),J=1,oe=Te)}J>=5&&(w+=pa.N1+(J-5))}return w}}pa.N1=3,pa.N2=3,pa.N3=40,pa.N4=10;class Hl{constructor(m,y){this.width=m,this.height=y;const w=new Array(y);for(let E=0;E!==y;E++)w[E]=new Uint8Array(m);this.bytes=w}getHeight(){return this.height}getWidth(){return this.width}get(m,y){return this.bytes[y][m]}getArray(){return this.bytes}setNumber(m,y,w){this.bytes[y][m]=w}setBoolean(m,y,w){this.bytes[y][m]=w?1:0}clear(m){for(const y of this.bytes)A.fill(y,m)}equals(m){if(!(m instanceof Hl))return!1;const y=m;if(this.width!==y.width||this.height!==y.height)return!1;for(let w=0,E=this.height;w<E;++w){const P=this.bytes[w],D=y.bytes[w];for(let V=0,J=this.width;V<J;++V)if(P[V]!==D[V])return!1}return!0}toString(){const m=new ie;for(let y=0,w=this.height;y<w;++y){const E=this.bytes[y];for(let P=0,D=this.width;P<D;++P)switch(E[P]){case 0:m.append(" 0");break;case 1:m.append(" 1");break;default:m.append("  ");break}m.append(`
`)}return m.toString()}}class ql{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const m=new ie;return m.append(`<<
`),m.append(" mode: "),m.append(this.mode?this.mode.toString():"null"),m.append(`
 ecLevel: `),m.append(this.ecLevel?this.ecLevel.toString():"null"),m.append(`
 version: `),m.append(this.version?this.version.toString():"null"),m.append(`
 maskPattern: `),m.append(this.maskPattern.toString()),this.matrix?(m.append(`
 matrix:
`),m.append(this.matrix.toString())):m.append(`
 matrix: null
`),m.append(`>>
`),m.toString()}setMode(m){this.mode=m}setECLevel(m){this.ecLevel=m}setVersion(m){this.version=m}setMaskPattern(m){this.maskPattern=m}setMatrix(m){this.matrix=m}static isValidMaskPattern(m){return m>=0&&m<ql.NUM_MASK_PATTERNS}}ql.NUM_MASK_PATTERNS=8;class ri extends u{}ri.kind="WriterException";class re{constructor(){}static clearMatrix(m){m.clear(255)}static buildMatrix(m,y,w,E,P){re.clearMatrix(P),re.embedBasicPatterns(w,P),re.embedTypeInfo(y,E,P),re.maybeEmbedVersionInfo(w,P),re.embedDataBits(m,E,P)}static embedBasicPatterns(m,y){re.embedPositionDetectionPatternsAndSeparators(y),re.embedDarkDotAtLeftBottomCorner(y),re.maybeEmbedPositionAdjustmentPatterns(m,y),re.embedTimingPatterns(y)}static embedTypeInfo(m,y,w){const E=new F;re.makeTypeInfoBits(m,y,E);for(let P=0,D=E.getSize();P<D;++P){const V=E.get(E.getSize()-1-P),J=re.TYPE_INFO_COORDINATES[P],oe=J[0],be=J[1];if(w.setBoolean(oe,be,V),P<8){const Te=w.getWidth()-P-1,Le=8;w.setBoolean(Te,Le,V)}else{const Le=w.getHeight()-7+(P-8);w.setBoolean(8,Le,V)}}}static maybeEmbedVersionInfo(m,y){if(m.getVersionNumber()<7)return;const w=new F;re.makeVersionInfoBits(m,w);let E=6*3-1;for(let P=0;P<6;++P)for(let D=0;D<3;++D){const V=w.get(E);E--,y.setBoolean(P,y.getHeight()-11+D,V),y.setBoolean(y.getHeight()-11+D,P,V)}}static embedDataBits(m,y,w){let E=0,P=-1,D=w.getWidth()-1,V=w.getHeight()-1;for(;D>0;){for(D===6&&(D-=1);V>=0&&V<w.getHeight();){for(let J=0;J<2;++J){const oe=D-J;if(!re.isEmpty(w.get(oe,V)))continue;let be;E<m.getSize()?(be=m.get(E),++E):be=!1,y!==255&&pa.getDataMaskBit(y,oe,V)&&(be=!be),w.setBoolean(oe,V,be)}V+=P}P=-P,V+=P,D-=2}if(E!==m.getSize())throw new ri("Not all bits consumed: "+E+"/"+m.getSize())}static findMSBSet(m){return 32-T.numberOfLeadingZeros(m)}static calculateBCHCode(m,y){if(y===0)throw new h("0 polynomial");const w=re.findMSBSet(y);for(m<<=w-1;re.findMSBSet(m)>=w;)m^=y<<re.findMSBSet(m)-w;return m}static makeTypeInfoBits(m,y,w){if(!ql.isValidMaskPattern(y))throw new ri("Invalid mask pattern");const E=m.getBits()<<3|y;w.appendBits(E,5);const P=re.calculateBCHCode(E,re.TYPE_INFO_POLY);w.appendBits(P,10);const D=new F;if(D.appendBits(re.TYPE_INFO_MASK_PATTERN,15),w.xor(D),w.getSize()!==15)throw new ri("should not happen but we got: "+w.getSize())}static makeVersionInfoBits(m,y){y.appendBits(m.getVersionNumber(),6);const w=re.calculateBCHCode(m.getVersionNumber(),re.VERSION_INFO_POLY);if(y.appendBits(w,12),y.getSize()!==18)throw new ri("should not happen but we got: "+y.getSize())}static isEmpty(m){return m===255}static embedTimingPatterns(m){for(let y=8;y<m.getWidth()-8;++y){const w=(y+1)%2;re.isEmpty(m.get(y,6))&&m.setNumber(y,6,w),re.isEmpty(m.get(6,y))&&m.setNumber(6,y,w)}}static embedDarkDotAtLeftBottomCorner(m){if(m.get(8,m.getHeight()-8)===0)throw new ri;m.setNumber(8,m.getHeight()-8,1)}static embedHorizontalSeparationPattern(m,y,w){for(let E=0;E<8;++E){if(!re.isEmpty(w.get(m+E,y)))throw new ri;w.setNumber(m+E,y,0)}}static embedVerticalSeparationPattern(m,y,w){for(let E=0;E<7;++E){if(!re.isEmpty(w.get(m,y+E)))throw new ri;w.setNumber(m,y+E,0)}}static embedPositionAdjustmentPattern(m,y,w){for(let E=0;E<5;++E){const P=re.POSITION_ADJUSTMENT_PATTERN[E];for(let D=0;D<5;++D)w.setNumber(m+D,y+E,P[D])}}static embedPositionDetectionPattern(m,y,w){for(let E=0;E<7;++E){const P=re.POSITION_DETECTION_PATTERN[E];for(let D=0;D<7;++D)w.setNumber(m+D,y+E,P[D])}}static embedPositionDetectionPatternsAndSeparators(m){const y=re.POSITION_DETECTION_PATTERN[0].length;re.embedPositionDetectionPattern(0,0,m),re.embedPositionDetectionPattern(m.getWidth()-y,0,m),re.embedPositionDetectionPattern(0,m.getWidth()-y,m);const w=8;re.embedHorizontalSeparationPattern(0,w-1,m),re.embedHorizontalSeparationPattern(m.getWidth()-w,w-1,m),re.embedHorizontalSeparationPattern(0,m.getWidth()-w,m);const E=7;re.embedVerticalSeparationPattern(E,0,m),re.embedVerticalSeparationPattern(m.getHeight()-E-1,0,m),re.embedVerticalSeparationPattern(E,m.getHeight()-E,m)}static maybeEmbedPositionAdjustmentPatterns(m,y){if(m.getVersionNumber()<2)return;const w=m.getVersionNumber()-1,E=re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[w];for(let P=0,D=E.length;P!==D;P++){const V=E[P];if(V>=0)for(let J=0;J!==D;J++){const oe=E[J];oe>=0&&re.isEmpty(y.get(oe,V))&&re.embedPositionAdjustmentPattern(oe-2,V-2,y)}}}}re.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),re.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),re.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),re.VERSION_INFO_POLY=7973,re.TYPE_INFO_POLY=1335,re.TYPE_INFO_MASK_PATTERN=21522;class Oe{constructor(m,y){this.dataBytes=m,this.errorCorrectionBytes=y}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class et{constructor(){}static calculateMaskPenalty(m){return pa.applyMaskPenaltyRule1(m)+pa.applyMaskPenaltyRule2(m)+pa.applyMaskPenaltyRule3(m)+pa.applyMaskPenaltyRule4(m)}static encode(m,y,w=null){let E=et.DEFAULT_BYTE_MODE_ENCODING;const P=w!==null&&w.get(Mi.CHARACTER_SET)!==void 0;P&&(E=w.get(Mi.CHARACTER_SET).toString());const D=this.chooseMode(m,E),V=new F;if(D===Qr.BYTE&&(P||et.DEFAULT_BYTE_MODE_ENCODING!==E)){const vr=z.getCharacterSetECIByName(E);vr!==void 0&&this.appendECI(vr,V)}this.appendModeInfo(D,V);const J=new F;this.appendBytes(m,D,J,E);let oe;if(w!==null&&w.get(Mi.QR_VERSION)!==void 0){const vr=Number.parseInt(w.get(Mi.QR_VERSION).toString(),10);oe=Ln.getVersionForNumber(vr);const pr=this.calculateBitsNeeded(D,V,J,oe);if(!this.willFit(pr,oe,y))throw new ri("Data too big for requested version")}else oe=this.recommendVersion(y,D,V,J);const be=new F;be.appendBitArray(V);const Te=D===Qr.BYTE?J.getSizeInBytes():m.length;this.appendLengthInfo(Te,oe,D,be),be.appendBitArray(J);const Le=oe.getECBlocksForLevel(y),tt=oe.getTotalCodewords()-Le.getTotalECCodewords();this.terminateBits(tt,be);const ut=this.interleaveWithECBytes(be,oe.getTotalCodewords(),tt,Le.getNumBlocks()),pt=new ql;pt.setECLevel(y),pt.setMode(D),pt.setVersion(oe);const Nt=oe.getDimensionForVersion(),Vt=new Hl(Nt,Nt),ir=this.chooseMaskPattern(ut,y,oe,Vt);return pt.setMaskPattern(ir),re.buildMatrix(ut,y,oe,ir,Vt),pt.setMatrix(Vt),pt}static recommendVersion(m,y,w,E){const P=this.calculateBitsNeeded(y,w,E,Ln.getVersionForNumber(1)),D=this.chooseVersion(P,m),V=this.calculateBitsNeeded(y,w,E,D);return this.chooseVersion(V,m)}static calculateBitsNeeded(m,y,w,E){return y.getSize()+m.getCharacterCountBits(E)+w.getSize()}static getAlphanumericCode(m){return m<et.ALPHANUMERIC_TABLE.length?et.ALPHANUMERIC_TABLE[m]:-1}static chooseMode(m,y=null){if(z.SJIS.getName()===y&&this.isOnlyDoubleByteKanji(m))return Qr.KANJI;let w=!1,E=!1;for(let P=0,D=m.length;P<D;++P){const V=m.charAt(P);if(et.isDigit(V))w=!0;else if(this.getAlphanumericCode(V.charCodeAt(0))!==-1)E=!0;else return Qr.BYTE}return E?Qr.ALPHANUMERIC:w?Qr.NUMERIC:Qr.BYTE}static isOnlyDoubleByteKanji(m){let y;try{y=K.encode(m,z.SJIS)}catch{return!1}const w=y.length;if(w%2!==0)return!1;for(let E=0;E<w;E+=2){const P=y[E]&255;if((P<129||P>159)&&(P<224||P>235))return!1}return!0}static chooseMaskPattern(m,y,w,E){let P=Number.MAX_SAFE_INTEGER,D=-1;for(let V=0;V<ql.NUM_MASK_PATTERNS;V++){re.buildMatrix(m,y,w,V,E);let J=this.calculateMaskPenalty(E);J<P&&(P=J,D=V)}return D}static chooseVersion(m,y){for(let w=1;w<=40;w++){const E=Ln.getVersionForNumber(w);if(et.willFit(m,E,y))return E}throw new ri("Data too big")}static willFit(m,y,w){const E=y.getTotalCodewords(),D=y.getECBlocksForLevel(w).getTotalECCodewords(),V=E-D,J=(m+7)/8;return V>=J}static terminateBits(m,y){const w=m*8;if(y.getSize()>w)throw new ri("data bits cannot fit in the QR Code"+y.getSize()+" > "+w);for(let D=0;D<4&&y.getSize()<w;++D)y.appendBit(!1);const E=y.getSize()&7;if(E>0)for(let D=E;D<8;D++)y.appendBit(!1);const P=m-y.getSizeInBytes();for(let D=0;D<P;++D)y.appendBits(D&1?17:236,8);if(y.getSize()!==w)throw new ri("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(m,y,w,E,P,D){if(E>=w)throw new ri("Block ID too large");const V=m%w,J=w-V,oe=Math.floor(m/w),be=oe+1,Te=Math.floor(y/w),Le=Te+1,tt=oe-Te,ut=be-Le;if(tt!==ut)throw new ri("EC bytes mismatch");if(w!==J+V)throw new ri("RS blocks mismatch");if(m!==(Te+tt)*J+(Le+ut)*V)throw new ri("Total bytes mismatch");E<J?(P[0]=Te,D[0]=tt):(P[0]=Le,D[0]=ut)}static interleaveWithECBytes(m,y,w,E){if(m.getSizeInBytes()!==w)throw new ri("Number of bits and data bytes does not match");let P=0,D=0,V=0;const J=new Array;for(let be=0;be<E;++be){const Te=new Int32Array(1),Le=new Int32Array(1);et.getNumDataBytesAndNumECBytesForBlockID(y,w,E,be,Te,Le);const tt=Te[0],ut=new Uint8Array(tt);m.toBytes(8*P,ut,0,tt);const pt=et.generateECBytes(ut,Le[0]);J.push(new Oe(ut,pt)),D=Math.max(D,tt),V=Math.max(V,pt.length),P+=Te[0]}if(w!==P)throw new ri("Data bytes does not match offset");const oe=new F;for(let be=0;be<D;++be)for(const Te of J){const Le=Te.getDataBytes();be<Le.length&&oe.appendBits(Le[be],8)}for(let be=0;be<V;++be)for(const Te of J){const Le=Te.getErrorCorrectionBytes();be<Le.length&&oe.appendBits(Le[be],8)}if(y!==oe.getSizeInBytes())throw new ri("Interleaving error: "+y+" and "+oe.getSizeInBytes()+" differ.");return oe}static generateECBytes(m,y){const w=m.length,E=new Int32Array(w+y);for(let D=0;D<w;D++)E[D]=m[D]&255;new Zd(at.QR_CODE_FIELD_256).encode(E,y);const P=new Uint8Array(y);for(let D=0;D<y;D++)P[D]=E[w+D];return P}static appendModeInfo(m,y){y.appendBits(m.getBits(),4)}static appendLengthInfo(m,y,w,E){const P=w.getCharacterCountBits(y);if(m>=1<<P)throw new ri(m+" is bigger than "+((1<<P)-1));E.appendBits(m,P)}static appendBytes(m,y,w,E){switch(y){case Qr.NUMERIC:et.appendNumericBytes(m,w);break;case Qr.ALPHANUMERIC:et.appendAlphanumericBytes(m,w);break;case Qr.BYTE:et.append8BitBytes(m,w,E);break;case Qr.KANJI:et.appendKanjiBytes(m,w);break;default:throw new ri("Invalid mode: "+y)}}static getDigit(m){return m.charCodeAt(0)-48}static isDigit(m){const y=et.getDigit(m);return y>=0&&y<=9}static appendNumericBytes(m,y){const w=m.length;let E=0;for(;E<w;){const P=et.getDigit(m.charAt(E));if(E+2<w){const D=et.getDigit(m.charAt(E+1)),V=et.getDigit(m.charAt(E+2));y.appendBits(P*100+D*10+V,10),E+=3}else if(E+1<w){const D=et.getDigit(m.charAt(E+1));y.appendBits(P*10+D,7),E+=2}else y.appendBits(P,4),E++}}static appendAlphanumericBytes(m,y){const w=m.length;let E=0;for(;E<w;){const P=et.getAlphanumericCode(m.charCodeAt(E));if(P===-1)throw new ri;if(E+1<w){const D=et.getAlphanumericCode(m.charCodeAt(E+1));if(D===-1)throw new ri;y.appendBits(P*45+D,11),E+=2}else y.appendBits(P,6),E++}}static append8BitBytes(m,y,w){let E;try{E=K.encode(m,w)}catch(P){throw new ri(P)}for(let P=0,D=E.length;P!==D;P++){const V=E[P];y.appendBits(V,8)}}static appendKanjiBytes(m,y){let w;try{w=K.encode(m,z.SJIS)}catch(P){throw new ri(P)}const E=w.length;for(let P=0;P<E;P+=2){const D=w[P]&255,V=w[P+1]&255,J=D<<8&4294967295|V;let oe=-1;if(J>=33088&&J<=40956?oe=J-33088:J>=57408&&J<=60351&&(oe=J-49472),oe===-1)throw new ri("Invalid byte sequence");const be=(oe>>8)*192+(oe&255);y.appendBits(be,13)}}static appendECI(m,y){y.appendBits(Qr.ECI.getBits(),4),y.appendBits(m.getValue(),8)}}et.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),et.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class mt{write(m,y,w,E=null){if(m.length===0)throw new h("Found empty contents");if(y<0||w<0)throw new h("Requested dimensions are too small: "+y+"x"+w);let P=Tn.L,D=mt.QUIET_ZONE_SIZE;E!==null&&(E.get(Mi.ERROR_CORRECTION)!==void 0&&(P=Tn.fromString(E.get(Mi.ERROR_CORRECTION).toString())),E.get(Mi.MARGIN)!==void 0&&(D=Number.parseInt(E.get(Mi.MARGIN).toString(),10)));const V=et.encode(m,P,E);return this.renderResult(V,y,w,D)}writeToDom(m,y,w,E,P=null){typeof m=="string"&&(m=document.querySelector(m));const D=this.write(y,w,E,P);m&&m.appendChild(D)}renderResult(m,y,w,E){const P=m.getMatrix();if(P===null)throw new ht;const D=P.getWidth(),V=P.getHeight(),J=D+E*2,oe=V+E*2,be=Math.max(y,J),Te=Math.max(w,oe),Le=Math.min(Math.floor(be/J),Math.floor(Te/oe)),tt=Math.floor((be-D*Le)/2),ut=Math.floor((Te-V*Le)/2),pt=this.createSVGElement(be,Te);for(let Nt=0,Vt=ut;Nt<V;Nt++,Vt+=Le)for(let ir=0,vr=tt;ir<D;ir++,vr+=Le)if(P.get(ir,Nt)===1){const pr=this.createSvgRectElement(vr,Vt,Le,Le);pt.appendChild(pr)}return pt}createSVGElement(m,y){const w=document.createElementNS(mt.SVG_NS,"svg");return w.setAttributeNS(null,"height",m.toString()),w.setAttributeNS(null,"width",y.toString()),w}createSvgRectElement(m,y,w,E){const P=document.createElementNS(mt.SVG_NS,"rect");return P.setAttributeNS(null,"x",m.toString()),P.setAttributeNS(null,"y",y.toString()),P.setAttributeNS(null,"height",w.toString()),P.setAttributeNS(null,"width",E.toString()),P.setAttributeNS(null,"fill","#000000"),P}}mt.QUIET_ZONE_SIZE=4,mt.SVG_NS="http://www.w3.org/2000/svg";class jt{encode(m,y,w,E,P){if(m.length===0)throw new h("Found empty contents");if(y!==pe.QR_CODE)throw new h("Can only encode QR_CODE, but got "+y);if(w<0||E<0)throw new h(`Requested dimensions are too small: ${w}x${E}`);let D=Tn.L,V=jt.QUIET_ZONE_SIZE;P!==null&&(P.get(Mi.ERROR_CORRECTION)!==void 0&&(D=Tn.fromString(P.get(Mi.ERROR_CORRECTION).toString())),P.get(Mi.MARGIN)!==void 0&&(V=Number.parseInt(P.get(Mi.MARGIN).toString(),10)));const J=et.encode(m,D,P);return jt.renderResult(J,w,E,V)}static renderResult(m,y,w,E){const P=m.getMatrix();if(P===null)throw new ht;const D=P.getWidth(),V=P.getHeight(),J=D+E*2,oe=V+E*2,be=Math.max(y,J),Te=Math.max(w,oe),Le=Math.min(Math.floor(be/J),Math.floor(Te/oe)),tt=Math.floor((be-D*Le)/2),ut=Math.floor((Te-V*Le)/2),pt=new ae(be,Te);for(let Nt=0,Vt=ut;Nt<V;Nt++,Vt+=Le)for(let ir=0,vr=tt;ir<D;ir++,vr+=Le)P.get(ir,Nt)===1&&pt.setRegion(vr,Vt,Le,Le);return pt}}jt.QUIET_ZONE_SIZE=4;class qt{encode(m,y,w,E,P){let D;switch(y){case pe.QR_CODE:D=new jt;break;default:throw new h("No encoder available for format "+y)}return D.encode(m,y,w,E,P)}}class nr extends ce{constructor(m,y,w,E,P,D,V,J){if(super(D,V),this.yuvData=m,this.dataWidth=y,this.dataHeight=w,this.left=E,this.top=P,E+D>y||P+V>w)throw new h("Crop rectangle does not fit within image data.");J&&this.reverseHorizontal(D,V)}getRow(m,y){if(m<0||m>=this.getHeight())throw new h("Requested row is outside the image: "+m);const w=this.getWidth();(y==null||y.length<w)&&(y=new Uint8ClampedArray(w));const E=(m+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,E,y,0,w),y}getMatrix(){const m=this.getWidth(),y=this.getHeight();if(m===this.dataWidth&&y===this.dataHeight)return this.yuvData;const w=m*y,E=new Uint8ClampedArray(w);let P=this.top*this.dataWidth+this.left;if(m===this.dataWidth)return b.arraycopy(this.yuvData,P,E,0,w),E;for(let D=0;D<y;D++){const V=D*m;b.arraycopy(this.yuvData,P,E,V,m),P+=this.dataWidth}return E}isCropSupported(){return!0}crop(m,y,w,E){return new nr(this.yuvData,this.dataWidth,this.dataHeight,this.left+m,this.top+y,w,E,!1)}renderThumbnail(){const m=this.getWidth()/nr.THUMBNAIL_SCALE_FACTOR,y=this.getHeight()/nr.THUMBNAIL_SCALE_FACTOR,w=new Int32Array(m*y),E=this.yuvData;let P=this.top*this.dataWidth+this.left;for(let D=0;D<y;D++){const V=D*m;for(let J=0;J<m;J++){const oe=E[P+J*nr.THUMBNAIL_SCALE_FACTOR]&255;w[V+J]=4278190080|oe*65793}P+=this.dataWidth*nr.THUMBNAIL_SCALE_FACTOR}return w}getThumbnailWidth(){return this.getWidth()/nr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/nr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(m,y){const w=this.yuvData;for(let E=0,P=this.top*this.dataWidth+this.left;E<y;E++,P+=this.dataWidth){const D=P+m/2;for(let V=P,J=P+m-1;V<D;V++,J--){const oe=w[V];w[V]=w[J],w[J]=oe}}}invert(){return new ge(this)}}nr.THUMBNAIL_SCALE_FACTOR=2;class vt extends ce{constructor(m,y,w,E,P,D,V){if(super(y,w),this.dataWidth=E,this.dataHeight=P,this.left=D,this.top=V,m.BYTES_PER_ELEMENT===4){const J=y*w,oe=new Uint8ClampedArray(J);for(let be=0;be<J;be++){const Te=m[be],Le=Te>>16&255,tt=Te>>7&510,ut=Te&255;oe[be]=(Le+tt+ut)/4&255}this.luminances=oe}else this.luminances=m;if(E===void 0&&(this.dataWidth=y),P===void 0&&(this.dataHeight=w),D===void 0&&(this.left=0),V===void 0&&(this.top=0),this.left+y>this.dataWidth||this.top+w>this.dataHeight)throw new h("Crop rectangle does not fit within image data.")}getRow(m,y){if(m<0||m>=this.getHeight())throw new h("Requested row is outside the image: "+m);const w=this.getWidth();(y==null||y.length<w)&&(y=new Uint8ClampedArray(w));const E=(m+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,E,y,0,w),y}getMatrix(){const m=this.getWidth(),y=this.getHeight();if(m===this.dataWidth&&y===this.dataHeight)return this.luminances;const w=m*y,E=new Uint8ClampedArray(w);let P=this.top*this.dataWidth+this.left;if(m===this.dataWidth)return b.arraycopy(this.luminances,P,E,0,w),E;for(let D=0;D<y;D++){const V=D*m;b.arraycopy(this.luminances,P,E,V,m),P+=this.dataWidth}return E}isCropSupported(){return!0}crop(m,y,w,E){return new vt(this.luminances,w,E,this.dataWidth,this.dataHeight,this.left+m,this.top+y)}invert(){return new ge(this)}}class _n extends z{static forName(m){return this.getCharacterSetECIByName(m)}}class Vn{}Vn.ISO_8859_1=z.ISO8859_1;class zt{isCompact(){return this.compact}setCompact(m){this.compact=m}getSize(){return this.size}setSize(m){this.size=m}getLayers(){return this.layers}setLayers(m){this.layers=m}getCodeWords(){return this.codeWords}setCodeWords(m){this.codeWords=m}getMatrix(){return this.matrix}setMatrix(m){this.matrix=m}}class Wa{static singletonList(m){return[m]}static min(m,y){return m.sort(y)[0]}}class gs{constructor(m){this.previous=m}getPrevious(){return this.previous}}class Ai extends gs{constructor(m,y,w){super(m),this.value=y,this.bitCount=w}appendTo(m,y){m.appendBits(this.value,this.bitCount)}add(m,y){return new Ai(this,m,y)}addBinaryShift(m,y){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ai(this,m,y)}toString(){let m=this.value&(1<<this.bitCount)-1;return m|=1<<this.bitCount,"<"+T.toBinaryString(m|1<<this.bitCount).substring(1)+">"}}class xs extends Ai{constructor(m,y,w){super(m,0,0),this.binaryShiftStart=y,this.binaryShiftByteCount=w}appendTo(m,y){for(let w=0;w<this.binaryShiftByteCount;w++)(w===0||w===31&&this.binaryShiftByteCount<=62)&&(m.appendBits(31,5),this.binaryShiftByteCount>62?m.appendBits(this.binaryShiftByteCount-31,16):w===0?m.appendBits(Math.min(this.binaryShiftByteCount,31),5):m.appendBits(this.binaryShiftByteCount-31,5)),m.appendBits(y[this.binaryShiftStart+w],8)}addBinaryShift(m,y){return new xs(this,m,y)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function To(ke,m,y){return new xs(ke,m,y)}function ja(ke,m,y){return new Ai(ke,m,y)}const pc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],wa=0,ni=1,kn=2,no=3,Yn=4,Ia=new Ai(null,0,0),Bf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Gl(ke){for(let m of ke)A.fill(m,-1);return ke[wa][Yn]=0,ke[ni][Yn]=0,ke[ni][wa]=28,ke[no][Yn]=0,ke[kn][Yn]=0,ke[kn][wa]=15,ke}const Kl=Gl(A.createInt32Array(6,6));class Ji{constructor(m,y,w,E){this.token=m,this.mode=y,this.binaryShiftByteCount=w,this.bitCount=E}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(m,y){let w=this.bitCount,E=this.token;if(m!==this.mode){let D=Bf[this.mode][m];E=ja(E,D&65535,D>>16),w+=D>>16}let P=m===kn?4:5;return E=ja(E,y,P),new Ji(E,m,0,w+P)}shiftAndAppend(m,y){let w=this.token,E=this.mode===kn?4:5;return w=ja(w,Kl[this.mode][m],E),w=ja(w,y,5),new Ji(w,this.mode,0,this.bitCount+E+5)}addBinaryShiftChar(m){let y=this.token,w=this.mode,E=this.bitCount;if(this.mode===Yn||this.mode===kn){let V=Bf[w][wa];y=ja(y,V&65535,V>>16),E+=V>>16,w=wa}let P=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,D=new Ji(y,w,this.binaryShiftByteCount+1,E+P);return D.binaryShiftByteCount===2047+31&&(D=D.endBinaryShift(m+1)),D}endBinaryShift(m){if(this.binaryShiftByteCount===0)return this;let y=this.token;return y=To(y,m-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ji(y,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(m){let y=this.bitCount+(Bf[this.mode][m.mode]>>16);return this.binaryShiftByteCount<m.binaryShiftByteCount?y+=Ji.calculateBinaryShiftCost(m)-Ji.calculateBinaryShiftCost(this):this.binaryShiftByteCount>m.binaryShiftByteCount&&m.binaryShiftByteCount>0&&(y+=10),y<=m.bitCount}toBitArray(m){let y=[];for(let E=this.endBinaryShift(m.length).token;E!==null;E=E.getPrevious())y.unshift(E);let w=new F;for(const E of y)E.appendTo(w,m);return w}toString(){return q.format("%s bits=%d bytes=%d",pc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(m){return m.binaryShiftByteCount>62?21:m.binaryShiftByteCount>31?20:m.binaryShiftByteCount>0?10:0}}Ji.INITIAL_STATE=new Ji(Ia,wa,0,0);function uu(ke){const m=q.getCharCode(" "),y=q.getCharCode("."),w=q.getCharCode(",");ke[wa][m]=1;const E=q.getCharCode("Z"),P=q.getCharCode("A");for(let Le=P;Le<=E;Le++)ke[wa][Le]=Le-P+2;ke[ni][m]=1;const D=q.getCharCode("z"),V=q.getCharCode("a");for(let Le=V;Le<=D;Le++)ke[ni][Le]=Le-V+2;ke[kn][m]=1;const J=q.getCharCode("9"),oe=q.getCharCode("0");for(let Le=oe;Le<=J;Le++)ke[kn][Le]=Le-oe+2;ke[kn][w]=12,ke[kn][y]=13;const be=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Le=0;Le<be.length;Le++)ke[no][q.getCharCode(be[Le])]=Le;const Te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Le=0;Le<Te.length;Le++)q.getCharCode(Te[Le])>0&&(ke[Yn][q.getCharCode(Te[Le])]=Le);return ke}const ko=uu(A.createInt32Array(5,256));class is{constructor(m){this.text=m}encode(){const m=q.getCharCode(" "),y=q.getCharCode(`
`);let w=Wa.singletonList(Ji.INITIAL_STATE);for(let P=0;P<this.text.length;P++){let D,V=P+1<this.text.length?this.text[P+1]:0;switch(this.text[P]){case q.getCharCode("\r"):D=V===y?2:0;break;case q.getCharCode("."):D=V===m?3:0;break;case q.getCharCode(","):D=V===m?4:0;break;case q.getCharCode(":"):D=V===m?5:0;break;default:D=0}D>0?(w=is.updateStateListForPair(w,P,D),P++):w=this.updateStateListForChar(w,P)}return Wa.min(w,(P,D)=>P.getBitCount()-D.getBitCount()).toBitArray(this.text)}updateStateListForChar(m,y){const w=[];for(let E of m)this.updateStateForChar(E,y,w);return is.simplifyStates(w)}updateStateForChar(m,y,w){let E=this.text[y]&255,P=ko[m.getMode()][E]>0,D=null;for(let V=0;V<=Yn;V++){let J=ko[V][E];if(J>0){if(D==null&&(D=m.endBinaryShift(y)),!P||V===m.getMode()||V===kn){const oe=D.latchAndAppend(V,J);w.push(oe)}if(!P&&Kl[m.getMode()][V]>=0){const oe=D.shiftAndAppend(V,J);w.push(oe)}}}if(m.getBinaryShiftByteCount()>0||ko[m.getMode()][E]===0){let V=m.addBinaryShiftChar(y);w.push(V)}}static updateStateListForPair(m,y,w){const E=[];for(let P of m)this.updateStateForPair(P,y,w,E);return this.simplifyStates(E)}static updateStateForPair(m,y,w,E){let P=m.endBinaryShift(y);if(E.push(P.latchAndAppend(Yn,w)),m.getMode()!==Yn&&E.push(P.shiftAndAppend(Yn,w)),w===3||w===4){let D=P.latchAndAppend(kn,16-w).latchAndAppend(kn,1);E.push(D)}if(m.getBinaryShiftByteCount()>0){let D=m.addBinaryShiftChar(y).addBinaryShiftChar(y+1);E.push(D)}}static simplifyStates(m){let y=[];for(const w of m){let E=!0;for(const P of y){if(P.isBetterThanOrEqualTo(w)){E=!1;break}w.isBetterThanOrEqualTo(P)&&(y=y.filter(D=>D!==P))}E&&y.push(w)}return y}}class Zn{constructor(){}static encodeBytes(m){return Zn.encode(m,Zn.DEFAULT_EC_PERCENT,Zn.DEFAULT_AZTEC_LAYERS)}static encode(m,y,w){let E=new is(m).encode(),P=T.truncDivision(E.getSize()*y,100)+11,D=E.getSize()+P,V,J,oe,be,Te;if(w!==Zn.DEFAULT_AZTEC_LAYERS){if(V=w<0,J=Math.abs(w),J>(V?Zn.MAX_NB_BITS_COMPACT:Zn.MAX_NB_BITS))throw new h(q.format("Illegal value %s for layers",w));oe=Zn.totalBitsInLayer(J,V),be=Zn.WORD_SIZE[J];let pr=oe-oe%be;if(Te=Zn.stuffBits(E,be),Te.getSize()+P>pr)throw new h("Data to large for user specified layer");if(V&&Te.getSize()>be*64)throw new h("Data to large for user specified layer")}else{be=0,Te=null;for(let pr=0;;pr++){if(pr>Zn.MAX_NB_BITS)throw new h("Data too large for an Aztec code");if(V=pr<=3,J=V?pr+1:pr,oe=Zn.totalBitsInLayer(J,V),D>oe)continue;(Te==null||be!==Zn.WORD_SIZE[J])&&(be=Zn.WORD_SIZE[J],Te=Zn.stuffBits(E,be));let La=oe-oe%be;if(!(V&&Te.getSize()>be*64)&&Te.getSize()+P<=La)break}}let Le=Zn.generateCheckWords(Te,oe,be),tt=Te.getSize()/be,ut=Zn.generateModeMessage(V,J,tt),pt=(V?11:14)+J*4,Nt=new Int32Array(pt),Vt;if(V){Vt=pt;for(let pr=0;pr<Nt.length;pr++)Nt[pr]=pr}else{Vt=pt+1+2*T.truncDivision(T.truncDivision(pt,2)-1,15);let pr=T.truncDivision(pt,2),La=T.truncDivision(Vt,2);for(let ca=0;ca<pr;ca++){let hi=ca+T.truncDivision(ca,15);Nt[pr-ca-1]=La-hi-1,Nt[pr+ca]=La+hi+1}}let ir=new ae(Vt);for(let pr=0,La=0;pr<J;pr++){let ca=(J-pr)*4+(V?9:12);for(let hi=0;hi<ca;hi++){let Po=hi*2;for(let Ps=0;Ps<2;Ps++)Le.get(La+Po+Ps)&&ir.set(Nt[pr*2+Ps],Nt[pr*2+hi]),Le.get(La+ca*2+Po+Ps)&&ir.set(Nt[pr*2+hi],Nt[pt-1-pr*2-Ps]),Le.get(La+ca*4+Po+Ps)&&ir.set(Nt[pt-1-pr*2-Ps],Nt[pt-1-pr*2-hi]),Le.get(La+ca*6+Po+Ps)&&ir.set(Nt[pt-1-pr*2-hi],Nt[pr*2+Ps])}La+=ca*8}if(Zn.drawModeMessage(ir,V,Vt,ut),V)Zn.drawBullsEye(ir,T.truncDivision(Vt,2),5);else{Zn.drawBullsEye(ir,T.truncDivision(Vt,2),7);for(let pr=0,La=0;pr<T.truncDivision(pt,2)-1;pr+=15,La+=16)for(let ca=T.truncDivision(Vt,2)&1;ca<Vt;ca+=2)ir.set(T.truncDivision(Vt,2)-La,ca),ir.set(T.truncDivision(Vt,2)+La,ca),ir.set(ca,T.truncDivision(Vt,2)-La),ir.set(ca,T.truncDivision(Vt,2)+La)}let vr=new zt;return vr.setCompact(V),vr.setSize(Vt),vr.setLayers(J),vr.setCodeWords(tt),vr.setMatrix(ir),vr}static drawBullsEye(m,y,w){for(let E=0;E<w;E+=2)for(let P=y-E;P<=y+E;P++)m.set(P,y-E),m.set(P,y+E),m.set(y-E,P),m.set(y+E,P);m.set(y-w,y-w),m.set(y-w+1,y-w),m.set(y-w,y-w+1),m.set(y+w,y-w),m.set(y+w,y-w+1),m.set(y+w,y+w-1)}static generateModeMessage(m,y,w){let E=new F;return m?(E.appendBits(y-1,2),E.appendBits(w-1,6),E=Zn.generateCheckWords(E,28,4)):(E.appendBits(y-1,5),E.appendBits(w-1,11),E=Zn.generateCheckWords(E,40,4)),E}static drawModeMessage(m,y,w,E){let P=T.truncDivision(w,2);if(y)for(let D=0;D<7;D++){let V=P-3+D;E.get(D)&&m.set(V,P-5),E.get(D+7)&&m.set(P+5,V),E.get(20-D)&&m.set(V,P+5),E.get(27-D)&&m.set(P-5,V)}else for(let D=0;D<10;D++){let V=P-5+D+T.truncDivision(D,5);E.get(D)&&m.set(V,P-7),E.get(D+10)&&m.set(P+7,V),E.get(29-D)&&m.set(V,P+7),E.get(39-D)&&m.set(P-7,V)}}static generateCheckWords(m,y,w){let E=m.getSize()/w,P=new Zd(Zn.getGF(w)),D=T.truncDivision(y,w),V=Zn.bitsToWords(m,w,D);P.encode(V,D-E);let J=y%w,oe=new F;oe.appendBits(0,J);for(const be of Array.from(V))oe.appendBits(be,w);return oe}static bitsToWords(m,y,w){let E=new Int32Array(w),P,D;for(P=0,D=m.getSize()/y;P<D;P++){let V=0;for(let J=0;J<y;J++)V|=m.get(P*y+J)?1<<y-J-1:0;E[P]=V}return E}static getGF(m){switch(m){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new h("Unsupported word size "+m)}}static stuffBits(m,y){let w=new F,E=m.getSize(),P=(1<<y)-2;for(let D=0;D<E;D+=y){let V=0;for(let J=0;J<y;J++)(D+J>=E||m.get(D+J))&&(V|=1<<y-1-J);(V&P)===P?(w.appendBits(V&P,y),D--):V&P?w.appendBits(V,y):(w.appendBits(V|1,y),D--)}return w}static totalBitsInLayer(m,y){return((y?88:112)+16*m)*m}}Zn.DEFAULT_EC_PERCENT=33,Zn.DEFAULT_AZTEC_LAYERS=0,Zn.MAX_NB_BITS=32,Zn.MAX_NB_BITS_COMPACT=4,Zn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mo{encode(m,y,w,E){return this.encodeWithHints(m,y,w,E,null)}encodeWithHints(m,y,w,E,P){let D=Vn.ISO_8859_1,V=Zn.DEFAULT_EC_PERCENT,J=Zn.DEFAULT_AZTEC_LAYERS;return P!=null&&(P.has(Mi.CHARACTER_SET)&&(D=_n.forName(P.get(Mi.CHARACTER_SET).toString())),P.has(Mi.ERROR_CORRECTION)&&(V=T.parseInt(P.get(Mi.ERROR_CORRECTION).toString())),P.has(Mi.AZTEC_LAYERS)&&(J=T.parseInt(P.get(Mi.AZTEC_LAYERS).toString()))),mo.encodeLayers(m,y,w,E,D,V,J)}static encodeLayers(m,y,w,E,P,D,V){if(y!==pe.AZTEC)throw new h("Can only encode AZTEC, but got "+y);let J=Zn.encode(q.getBytes(m,P),D,V);return mo.renderResult(J,w,E)}static renderResult(m,y,w){let E=m.getMatrix();if(E==null)throw new ht;let P=E.getWidth(),D=E.getHeight(),V=Math.max(y,P),J=Math.max(w,D),oe=Math.min(V/P,J/D),be=(V-P*oe)/2,Te=(J-D*oe)/2,Le=new ae(V,J);for(let tt=0,ut=Te;tt<D;tt++,ut+=oe)for(let pt=0,Nt=be;pt<P;pt++,Nt+=oe)E.get(pt,tt)&&Le.setRegion(Nt,ut,oe,oe);return Le}}r.AbstractExpandedDecoder=Qe,r.ArgumentException=f,r.ArithmeticException=De,r.AztecCode=zt,r.AztecCodeReader=Yr,r.AztecCodeWriter=mo,r.AztecDecoder=tr,r.AztecDetector=na,r.AztecDetectorResult=_r,r.AztecEncoder=Zn,r.AztecHighLevelEncoder=is,r.AztecPoint=yn,r.BarcodeFormat=pe,r.Binarizer=S,r.BinaryBitmap=g,r.BitArray=F,r.BitMatrix=ae,r.BitSource=Fh,r.BrowserAztecCodeReader=ws,r.BrowserBarcodeReader=au,r.BrowserCodeReader=le,r.BrowserDatamatrixCodeReader=Ff,r.BrowserMultiFormatReader=Xd,r.BrowserPDF417Reader=Jd,r.BrowserQRCodeReader=Lf,r.BrowserQRCodeSvgWriter=mt,r.CharacterSetECI=z,r.ChecksumException=p,r.Code128Reader=Nr,r.Code39Reader=An,r.DataMatrixDecodedBitStreamParser=Un,r.DataMatrixReader=ho,r.DecodeHintType=B,r.DecoderResult=Se,r.DefaultGridSampler=Jn,r.DetectorResult=lr,r.EAN13Reader=Wi,r.EncodeHintType=Mi,r.Exception=u,r.FormatException=M,r.GenericGF=at,r.GenericGFPoly=Ge,r.GlobalHistogramBinarizer=se,r.GridSampler=Gn,r.GridSamplerInstance=ea,r.HTMLCanvasElementLuminanceSource=we,r.HybridBinarizer=he,r.ITFReader=pn,r.IllegalArgumentException=h,r.IllegalStateException=ht,r.InvertedLuminanceSource=ge,r.LuminanceSource=ce,r.MathUtils=Ot,r.MultiFormatOneDReader=Kn,r.MultiFormatReader=Mf,r.MultiFormatWriter=qt,r.NotFoundException=X,r.OneDReader=Mn,r.PDF417DecodedBitStreamParser=$t,r.PDF417DecoderErrorCorrection=Yd,r.PDF417Reader=Ns,r.PDF417ResultMetadata=Lh,r.PerspectiveTransform=sn,r.PlanarYUVLuminanceSource=nr,r.QRCodeByteMatrix=Hl,r.QRCodeDataMask=ll,r.QRCodeDecodedBitStreamParser=fi,r.QRCodeDecoderErrorCorrectionLevel=Tn,r.QRCodeDecoderFormatInformation=Us,r.QRCodeEncoder=et,r.QRCodeEncoderQRCode=ql,r.QRCodeMaskUtil=pa,r.QRCodeMatrixUtil=re,r.QRCodeMode=Qr,r.QRCodeReader=su,r.QRCodeVersion=Ln,r.QRCodeWriter=jt,r.RGBLuminanceSource=vt,r.RSS14Reader=Pa,r.RSSExpandedReader=Bt,r.ReaderException=zu,r.ReedSolomonDecoder=Ue,r.ReedSolomonEncoder=Zd,r.ReedSolomonException=ot,r.Result=ne,r.ResultMetadataType=Ne,r.ResultPoint=st,r.StringUtils=q,r.UnsupportedOperationException=Z,r.VideoInputDevice=Ce,r.WhiteRectangleDetector=kr,r.WriterException=ri,r.ZXingArrays=A,r.ZXingCharset=_n,r.ZXingInteger=T,r.ZXingStandardCharsets=Vn,r.ZXingStringBuilder=ie,r.ZXingStringEncoding=K,r.ZXingSystem=b,r.createAbstractExpandedDecoder=Tr,Object.defineProperty(r,"__esModule",{value:!0})})})(UF,UF.exports);var Ys=UF.exports;const uxt=Si(Ys),dxt=VF({__proto__:null,default:uxt},[Ys]);var xY=function(){function e(t,r,n){if(this.formatMap=new Map([[Sn.QR_CODE,Ys.BarcodeFormat.QR_CODE],[Sn.AZTEC,Ys.BarcodeFormat.AZTEC],[Sn.CODABAR,Ys.BarcodeFormat.CODABAR],[Sn.CODE_39,Ys.BarcodeFormat.CODE_39],[Sn.CODE_93,Ys.BarcodeFormat.CODE_93],[Sn.CODE_128,Ys.BarcodeFormat.CODE_128],[Sn.DATA_MATRIX,Ys.BarcodeFormat.DATA_MATRIX],[Sn.MAXICODE,Ys.BarcodeFormat.MAXICODE],[Sn.ITF,Ys.BarcodeFormat.ITF],[Sn.EAN_13,Ys.BarcodeFormat.EAN_13],[Sn.EAN_8,Ys.BarcodeFormat.EAN_8],[Sn.PDF_417,Ys.BarcodeFormat.PDF_417],[Sn.RSS_14,Ys.BarcodeFormat.RSS_14],[Sn.RSS_EXPANDED,Ys.BarcodeFormat.RSS_EXPANDED],[Sn.UPC_A,Ys.BarcodeFormat.UPC_A],[Sn.UPC_E,Ys.BarcodeFormat.UPC_E],[Sn.UPC_EAN_EXTENSION,Ys.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dxt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Ys.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Ys.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Ys.MultiFormatReader(this.verbose,this.hints),n=new Ys.HTMLCanvasElementLuminanceSource(t),i=new Ys.BinaryBitmap(new Ys.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:Rhe.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),fxt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},hxt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vY=function(){function e(t,r,n){if(this.formatMap=new Map([[Sn.QR_CODE,"qr_code"],[Sn.AZTEC,"aztec"],[Sn.CODABAR,"codabar"],[Sn.CODE_39,"code_39"],[Sn.CODE_93,"code_93"],[Sn.CODE_128,"code_128"],[Sn.DATA_MATRIX,"data_matrix"],[Sn.ITF,"itf"],[Sn.EAN_13,"ean_13"],[Sn.EAN_8,"ean_8"],[Sn.PDF_417,"pdf417"],[Sn.UPC_A,"upc_a"],[Sn.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return fxt(this,void 0,void 0,function(){var r,n;return hxt(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:Rhe.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var o=a[i],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),yY=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},bY=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mxt=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&vY.isSupported()?(this.primaryDecoder=new vY(t,n,i),this.secondaryDecoder=new xY(t,n,i)):this.primaryDecoder=new xY(t,n,i)}return e.prototype.decodeAsync=function(t){return yY(this,void 0,void 0,function(){var r;return bY(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return yY(this,void 0,void 0,function(){var r,n;return bY(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$L=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$A=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},UA=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Lhe=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),pxt=function(e){$L(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Lhe),gxt=function(e){$L(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(pxt),xxt=function(e){$L(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Lhe),vxt=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new gxt(this.track)},e.prototype.torchFeature=function(){return new xxt(this.track)},e}(),yxt=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return $A(this,void 0,void 0,function(){var a,o;return UA(this,function(l){switch(l.label){case 0:return a=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return $A(this,void 0,void 0,function(){return UA(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new vxt(this.getFirstTrackOrFail())},e}(),bxt=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return $A(this,void 0,void 0,function(){return UA(this,function(i){return[2,yxt.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return $A(this,void 0,void 0,function(){var r,n;return UA(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),wY=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},_Y=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},wxt=function(){function e(){}return e.failIfNotSupported=function(){return wY(this,void 0,void 0,function(){return _Y(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return wY(this,void 0,void 0,function(){return _Y(this,function(r){return[2,bxt.create(t)]})})},e}(),_xt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Nxt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Sxt=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Qv.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Qv.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return _xt(this,void 0,void 0,function(){var t,r,n,i,a,o,l;return Nxt(this,function(c){switch(c.label){case 0:return t=function(u){for(var f=u.getVideoTracks(),h=0,g=f;h<g.length;h++){var p=g[h];p.enabled=!1,p.stop(),u.removeTrack(p)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],a=0,o=n;a<o.length;a++)l=o[a],l.kind==="videoinput"&&i.push({id:l.deviceId,label:l.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var o=[],l=0,c=a;l<c.length;l++){var u=c[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},i=MediaStreamTrack;i.getSources(n)})},e}(),Do;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Do||(Do={}));var Cxt=function(){function e(){this.state=Do.NOT_STARTED,this.onGoingTransactionNewState=Do.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Do.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Do.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Do.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Do.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Do.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Do.UNKNOWN:throw"Transition from unknown is not allowed";case Do.NOT_STARTED:this.failIfNewStateIs(t,[Do.PAUSED]);break;case Do.SCANNING:break;case Do.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Axt=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Do.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Do.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Do.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Do.PAUSED},e}(),jxt=function(){function e(){}return e.create=function(){return new Axt(new Cxt)},e}(),Ext=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gd=function(e){Ext(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(oxt),Txt=function(){function e(t,r){this.logger=r,this.fps=gd.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gd.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Mhe.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Z0(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),NY=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new cxt(this.verbose),this.qrcode=new mxt(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jxt.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var l=Txt.create(r,this.logger);this.clearElement();var c=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:gd.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var h=this,g=this.stateManagerProxy.startTransition(Do.SCANNING);return new Promise(function(p,S){var b=u?l.videoConstraints:h.createVideoConstraints(t);if(!b){g.cancel(),S("videoConstraints should be defined");return}var N={};(!u||l.aspectRatio)&&(N.aspectRatio=l.aspectRatio);var C={onRenderSurfaceReady:function(A,T){h.setupUi(A,T,l),h.isScanning=!0,h.foreverScan(l,n,o)}};wxt.failIfNotSupported().then(function(A){A.create(b).then(function(T){return T.render(a.element,N,C).then(function(F){h.renderedCamera=F,g.execute(),p(null)}).catch(function(F){g.cancel(),S(F)})}).catch(function(T){g.cancel(),S(Qv.errorGettingUserMedia(T))})}).catch(function(A){g.cancel(),S(Qv.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Do.PAUSED),this.showPausedState(),(Z0(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Do.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Do.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(gd.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Z0(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,c=o.height,u=document.getElementById(n.elementId),f=u.clientWidth?u.clientWidth:gd.DEFAULT_WIDTH,h=Math.max(u.clientHeight?u.clientHeight:c,gd.FILE_SCAN_MIN_HEIGHT),g=n.computeCanvasDrawConfig(l,c,f,h);if(r){var p=n.createCanvasElement(f,h,"qr-canvas-visible");p.style.display="inline-block",u.appendChild(p);var S=p.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=f,S.canvas.height=h,S.drawImage(o,0,0,l,c,g.x,g.y,g.width,g.height)}var b=gd.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(o.width,g.width),C=Math.max(o.height,g.height),A=N+2*b,T=C+2*b,F=n.createCanvasElement(A,T);u.appendChild(F);var L=F.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=A,L.canvas.height=T,L.drawImage(o,0,0,l,c,b,b,N,C);try{n.qrcode.decodeRobustlyAsync(F).then(function(B){i(gY.createFromQrcodeResult(B))}).catch(a)}catch(B){a("QR code parse error, error = ".concat(B))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Sxt.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Mhe.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Sn.QR_CODE,Sn.AZTEC,Sn.CODABAR,Sn.CODE_39,Sn.CODE_93,Sn.CODE_128,Sn.DATA_MATRIX,Sn.MAXICODE,Sn.ITF,Sn.EAN_13,Sn.EAN_8,Sn.PDF_417,Sn.RSS_14,Sn.RSS_EXPANDED,Sn.UPC_A,Sn.UPC_E,Sn.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];sxt(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Z0(t))return!0;if(!Z0(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Z0(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Z0(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,r,a),l=function(u){if(u<gd.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gd.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=c(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Z0(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,l={x:0,y:0,width:t,height:r},c=o?this.getShadedRegionBounds(t,r,a):l,u=this.createCanvasElement(c.width,c.height),f={willReadFrequently:!0},h=u.getContext("2d",f);h.canvas.width=c.width,h.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=h,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Qv.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,gY.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Qv.codeParseError(i);return r(a,lxt.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,l=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*l,f=this.qrRegion.x*o,h=this.qrRegion.y*l;this.context.drawImage(a,f,h,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var g=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(p){!p&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){g()})):g()}).catch(function(p){i.logger.logError("Error happend while scanning context",p),g()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(S){if(S in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var c=Object.keys(t)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(o(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var f=typeof u;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var h=t.deviceId;if(typeof h=="string")return{deviceId:h};if(typeof h=="object"){if(a in h)return{deviceId:{exact:h["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var g=typeof h;throw"Invalid type of 'deviceId' = ".concat(g)}}}var p=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(p)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,o=(i-r)/2;return{x:a,y:o,width:t,height:r}}else{var l=t,c=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(c)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?gd.BORDER_SHADER_MATCH_COLOR:gd.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Z0(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-i.width)/2,l=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(gd.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(a,u,c,-c,null,0,!0),this.insertShaderBorders(a,u,c,-c,null,0,!1),this.insertShaderBorders(a,u,c,null,-c,0,!0),this.insertShaderBorders(a,u,c,null,-c,0,!1),this.insertShaderBorders(a,c,u+c,-c,null,-c,!0),this.insertShaderBorders(a,c,u+c,null,-c,-c,!0),this.insertShaderBorders(a,c,u+c,-c,null,-c,!1),this.insertShaderBorders(a,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,o,l){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=gd.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),a!==null&&(c.style.bottom="".concat(a,"px")),l?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var SY;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(SY||(SY={}));const kxt=({onScan:e,onError:t,isScanning:r})=>{const[n,i]=j.useState(null),[a,o]=j.useState(null),[l,c]=j.useState({fps:0,ms:0});j.useRef(null);const u=j.useRef(null),f=j.useRef(0),h=j.useRef(0),g=j.useRef(Date.now());j.useEffect(()=>{if(!r)return;const b=setInterval(()=>{const N=Date.now(),C=N-g.current;C>=1e3&&(c({fps:Math.round(h.current*1e3/C),ms:C/Math.max(1,h.current)}),h.current=0,g.current=N)},1e3);return()=>clearInterval(b)},[r]);const p=j.useCallback((b,N)=>{const C=Date.now();C-f.current<500||(f.current=C,navigator.vibrate&&navigator.vibrate([50,50,50]),e&&e(b))},[e]),S=async()=>{try{const b=await NY.getCameras();if(!b||b.length===0){i("Aucune camra dtecte sur cet appareil."),o(!1),t&&t("No camera found");return}if(o(!0),i(null),u.current)try{await u.current.stop(),u.current.clear()}catch(A){console.warn("Cleanup error",A)}const N=new NY("reader",{verbose:!1,formatsToSupport:[Sn.QR_CODE]});u.current=N;const C={fps:30,qrbox:{width:200,height:200},aspectRatio:1,disableFlip:!1,videoConstraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},focusMode:"continuous"}};await N.start({facingMode:"environment"},C,(A,T)=>{h.current++,p(A,T)},A=>{h.current++});try{const A=N.getRunningTrackCameraCapabilities();A&&A.torch}catch{}}catch(b){console.error("Failed to start scanner:",b),i("Impossible d'accder  la camra. Vrifiez vos permissions."),o(!1),t&&t(b)}};return j.useEffect(()=>{if(!r){u.current&&u.current.stop().then(()=>{u.current.clear(),u.current=null}).catch(console.error);return}const b=setTimeout(()=>{S()},300);return()=>clearTimeout(b)},[r,p]),s.jsx("div",{className:"w-full max-w-sm mx-auto relative rounded-xl overflow-hidden bg-black aspect-square shadow-2xl border-2 border-primary/20 group",children:n?s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center bg-gray-900",children:[s.jsx(Iu,{className:"w-12 h-12 text-destructive mb-4"}),s.jsx("p",{className:"text-white mb-4",children:n}),s.jsx(ze,{variant:"outline",onClick:()=>window.location.reload(),children:"Ressayer"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{id:"reader",className:"w-full h-full"}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none border-[40px] border-black/60 transition-all duration-300 group-hover:border-black/50",children:[s.jsx("div",{className:"absolute inset-0 border-2 border-primary/80 opacity-80 animate-pulse shadow-[0_0_15px_rgba(59,130,246,0.5)]"}),s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 h-full w-[1px] bg-primary/30"}),s.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 w-full h-[1px] bg-primary/30"})]}),s.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary -mt-1 -ml-1"}),s.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary -mt-1 -mr-1"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary -mb-1 -ml-1"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary -mb-1 -mr-1"})]}),s.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center pointer-events-none gap-2 px-4",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-full flex items-center gap-2 border border-white/10",children:[s.jsx(KD,{className:"w-3 h-3 text-primary animate-pulse"}),s.jsx("span",{className:"text-white text-[10px] font-medium uppercase tracking-wider",children:"Scan Rapide Actif"})]}),l.fps>0&&s.jsxs("div",{className:"bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-full flex items-center gap-2 border border-white/10",children:[s.jsx(zZ,{className:"w-3 h-3 text-green-400"}),s.jsxs("span",{className:"text-white text-[10px] font-mono",children:[l.fps," FPS"]})]})]}),s.jsx("div",{id:"scan-flash",className:"absolute inset-0 bg-white opacity-0 pointer-events-none transition-opacity duration-200"})]})})},Pxt=()=>{const{user:e}=bn(),{toast:t,dismiss:r}=js(),[n]=B4(),[i,a]=j.useState(""),[o,l]=j.useState(null),[c,u]=j.useState(!1),[f,h]=j.useState("scan"),[g,p]=j.useState(!1),S=j.useRef({code:"",time:0}),b=j.useRef(!1),N=j.useRef(null);j.useEffect(()=>{const W=n.get("ticket");W&&(a(W),C(W,"manual"))},[n]);const C=async(W,z="manual")=>{const Z=W==null?void 0:W.trim().toUpperCase();if(!Z)return;const K=Date.now();if(!b.current&&!(z==="qr_code"&&Z===S.current.code&&K-S.current.time<3e3)){b.current=!0,S.current={code:Z,time:K},u(!0),N.current&&clearTimeout(N.current),r();try{const{data:q,error:ie}=await Ze.rpc("verify_ticket_v3",{p_ticket_identifier:Z,p_verification_method:z,p_exit_mode:g});if(ie)throw ie;console.log("Verification Result:",q),l(q),A(q.status_code),T(q),q.success&&(N.current=setTimeout(()=>{F()},4e3))}catch(q){console.error("Scan error:",q),A("error"),l({success:!1,message:q.message||"Erreur de communication serveur",status_code:"error"})}finally{u(!1),setTimeout(()=>{b.current=!1},1e3)}}},A=W=>{const z={checkin:"/sounds/success.mp3",reentry:"/sounds/success.mp3",exit_registered:"/sounds/exit.mp3",error:"/sounds/error.mp3",already_inside:"/sounds/warning.mp3",reentry_expired:"/sounds/error.mp3",not_inside:"/sounds/warning.mp3",wrong_date:"/sounds/warning.mp3"};try{new Audio(z[W]||z.error).play().catch(()=>{})}catch{}},T=W=>{const z=W.success?"default":"destructive",Z=W.success?W.status_code==="exit_registered"?"bg-blue-600 text-white":"bg-green-600 text-white":"";t({title:L(W.status_code),description:W.message,variant:z,className:Z})},F=()=>{l(null),a("")},L=W=>{switch(W){case"checkin":return"ENTRE VALIDE";case"reentry":return"R-ENTRE AUTORISE";case"exit_registered":return"SORTIE ENREGISTRE";case"already_inside":return"DJ  L'INTRIEUR";case"reentry_expired":return"DLAI EXPIR";case"not_inside":return"PAS  L'INTRIEUR";case"wrong_date":return"MAUVAIS JOUR";default:return"ERREUR"}},B=W=>{switch(W){case"checkin":case"reentry":return"text-green-500";case"exit_registered":return"text-blue-500";case"already_inside":return"text-yellow-500";case"not_inside":return"text-orange-500";default:return"text-red-500"}},M=W=>{switch(W){case"checkin":case"reentry":return s.jsx(vl,{className:"w-24 h-24 text-green-500 mb-4 animate-in zoom-in"});case"exit_registered":return s.jsx(Gg,{className:"w-24 h-24 text-blue-500 mb-4 animate-in zoom-in"});case"already_inside":return s.jsx(q$,{className:"w-24 h-24 text-yellow-500 mb-4 animate-in shake"});case"not_inside":return s.jsx(nQ,{className:"w-24 h-24 text-orange-500 mb-4"});default:return s.jsx(_j,{className:"w-24 h-24 text-red-500 mb-4"})}};return e?s.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col pt-4 pb-20 px-4",children:[s.jsx(Fi,{children:s.jsx("title",{children:"Scanner | BonPlanInfos"})}),s.jsxs("div",{className:"max-w-md mx-auto w-full space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-2 rounded-xl border border-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-3 px-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${g?"bg-blue-500 animate-pulse":"bg-green-500 animate-pulse"}`}),s.jsxs("span",{className:"font-bold text-sm tracking-wide",children:["MODE ",g?"SORTIE":"ENTRE"]})]}),s.jsxs(ze,{size:"sm",variant:g?"secondary":"outline",onClick:()=>p(!g),className:`text-xs h-8 border-gray-700 ${g?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-800 hover:bg-gray-700"}`,children:[g?s.jsx(h2e,{className:"w-4 h-4 mr-2"}):s.jsx(q$,{className:"w-4 h-4 mr-2"}),g?"Passer en Entre":"Passer en Sortie"]})]}),s.jsxs(Yt,{className:"bg-black border-gray-800 shadow-2xl overflow-hidden aspect-[3/4] relative",children:[s.jsxs(O0,{value:f,onValueChange:h,className:"h-full flex flex-col",children:[s.jsx("div",{className:"absolute top-4 left-0 right-0 z-10 flex justify-center",children:s.jsxs(Th,{className:"bg-gray-900/80 backdrop-blur border border-white/10",children:[s.jsxs(Hn,{value:"scan",className:"data-[state=active]:bg-primary",children:[s.jsx(KD,{className:"w-4 h-4 mr-2"})," Scan"]}),s.jsxs(Hn,{value:"manual",className:"data-[state=active]:bg-primary",children:[s.jsx(S2e,{className:"w-4 h-4 mr-2"})," Code"]})]})}),s.jsxs(qn,{value:"scan",className:"h-full mt-0 relative",children:[s.jsx(kxt,{onScan:W=>C(W,"qr_code"),isScanning:f==="scan"}),s.jsx("div",{className:"absolute inset-0 pointer-events-none border-[40px] border-black/60",children:s.jsx("div",{className:`absolute inset-0 border-2 opacity-50 ${g?"border-blue-500":"border-green-500"}`})})]}),s.jsx(qn,{value:"manual",className:"h-full mt-0 flex flex-col items-center justify-center p-8 bg-gray-900",children:s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx(rr,{value:i,onChange:W=>a(W.target.value.toUpperCase()),placeholder:"CODE (ex: NPEQ8K)",className:"text-center text-3xl font-mono uppercase tracking-widest h-16 bg-gray-800 border-gray-700 text-white placeholder:text-gray-600",maxLength:12}),s.jsx(ze,{onClick:()=>C(i,"manual"),className:`w-full h-14 text-lg font-bold ${g?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"}`,disabled:!i||c,children:c?s.jsx(Zt,{className:"animate-spin"}):g?"VALIDER SORTIE":"VALIDER ENTRE"})]})})]}),s.jsx(Du,{children:o&&s.jsxs(er.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"absolute inset-0 z-50 bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("button",{onClick:F,className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white",children:s.jsx(wl,{className:"w-6 h-6"})}),M(o.status_code),s.jsx("h2",{className:`text-2xl font-black uppercase mb-2 ${B(o.status_code)}`,children:L(o.status_code)}),s.jsx("p",{className:"text-gray-300 font-medium text-lg mb-6 leading-relaxed",children:o.message}),(o.attendee_name||o.ticket_type)&&s.jsxs("div",{className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 text-left space-y-3 relative overflow-hidden",children:[s.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${o.success?"bg-green-500":"bg-red-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold",children:"Participant"}),s.jsx("p",{className:"text-xl font-bold text-white truncate",children:o.attendee_name||"Inconnu"})]}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold",children:"Billet"}),s.jsx(Vr,{variant:"outline",className:"mt-1 border-white/20 text-white",style:{borderColor:o.ticket_color==="blue"?"#3b82f6":o.ticket_color,color:o.ticket_color==="blue"?"#60a5fa":o.ticket_color},children:o.ticket_type||"Standard"})]}),o.verification_count&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold",children:"Scans"}),s.jsx("p",{className:"text-lg font-mono text-white",children:o.verification_count})]})]}),o.status_code==="exit_registered"&&o.reentry_deadline&&s.jsxs("div",{className:"pt-2 mt-2 border-t border-white/10",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-blue-400 font-bold",children:"Retour Avant"}),s.jsx("p",{className:"text-lg font-mono text-blue-300",children:new Date(o.reentry_deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),s.jsx(ze,{onClick:F,className:"mt-8 w-full bg-white text-black hover:bg-gray-200 font-bold h-12 rounded-xl",children:"SCAN SUIVANT"})]})})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 text-center",children:[s.jsx(D2,{className:"w-16 h-16 text-primary mb-6"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Scanner"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Veuillez vous connecter pour accder au scanner."}),s.jsx(ze,{asChild:!0,children:s.jsx(Bo,{to:"/auth",children:"Connexion"})})]})},Oxt=()=>{const{t:e}=za(),t=[{icon:s.jsx(nc,{className:"w-8 h-8 text-primary"}),title:e("data_protection.commitment.title"),content:e("data_protection.commitment.content")},{icon:s.jsx(R2,{className:"w-8 h-8 text-primary"}),title:e("data_protection.dpo.title"),content:e("data_protection.dpo.content"),contact:"support@bonplaninfos.net"},{icon:s.jsx(xj,{className:"w-8 h-8 text-primary"}),title:e("data_protection.data_collected.title"),content:e("data_protection.data_collected.content"),list:e("data_protection.data_collected.list",{returnObjects:!0})},{icon:s.jsx(Dm,{className:"w-8 h-8 text-primary"}),title:e("data_protection.usage.title"),content:e("data_protection.usage.content"),list:e("data_protection.usage.list",{returnObjects:!0})},{icon:s.jsx(Zs,{className:"w-8 h-8 text-primary"}),title:e("data_protection.sharing.title"),content:e("data_protection.sharing.content"),list:e("data_protection.sharing.list",{returnObjects:!0})},{icon:s.jsx(N0,{className:"w-8 h-8 text-primary"}),title:e("data_protection.security.title"),content:e("data_protection.security.content"),list:e("data_protection.security.list",{returnObjects:!0})},{icon:s.jsx(jh,{className:"w-8 h-8 text-primary"}),title:e("data_protection.retention.title"),content:e("data_protection.retention.content"),list:e("data_protection.retention.list",{returnObjects:!0})},{icon:s.jsx(rQ,{className:"w-8 h-8 text-primary"}),title:e("data_protection.hosting.title"),content:e("data_protection.hosting.content")},{icon:s.jsx(Vo,{className:"w-8 h-8 text-primary"}),title:e("data_protection.deletion.title"),content:e("data_protection.deletion.content")}];return s.jsxs(s.Fragment,{children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("data_protection.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("data_protection.meta_description")})]}),s.jsx("div",{className:"py-16 sm:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-heading",children:e("data_protection.title")}),s.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground",children:e("data_protection.subtitle")}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg max-w-2xl mx-auto",children:s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:e("data_protection.africa_compliance")})})]}),s.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:t.map((r,n)=>s.jsx("div",{className:"p-8 bg-card rounded-2xl shadow-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:r.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:r.title}),s.jsxs("div",{className:"prose prose-invert max-w-none text-muted-foreground",children:[s.jsx("p",{className:"mb-4",children:r.content}),r.list&&Array.isArray(r.list)&&s.jsx("ul",{className:"space-y-2",children:r.list.map((i,a)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-primary mr-2",children:""}),s.jsx("span",{dangerouslySetInnerHTML:{__html:i}})]},a))}),r.contact&&s.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"font-semibold mb-2",children:e("data_protection.contact_title")}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(hm,{className:"w-5 h-5"}),s.jsx("a",{href:`mailto:${r.contact}`,className:"text-primary hover:underline",children:r.contact})]})]})]})]})]})},n))}),s.jsx("div",{className:"max-w-4xl mx-auto mt-12 p-6 bg-muted rounded-2xl text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:e("data_protection.last_updated")})})]})})]})},Ixt=()=>{const e=Sa(),{t}=za(),r=j.useRef(null),n=j.useRef(null),{scrollYProgress:i}=sEe({target:r,offset:["start start","end end"]}),a=Fje(i,[0,1],[.8,1]);Dje(a,{damping:30,stiffness:200});const[o,l]=j.useState(0),[c,u]=j.useState(!0),f=[{icon:s.jsx(el,{className:"w-12 h-12 text-blue-600"}),title:t("user_guide_page.features.ticketing.title"),description:t("user_guide_page.features.ticketing.description"),stats:t("user_guide_page.features.ticketing.stats")},{icon:s.jsx(Zs,{className:"w-12 h-12 text-purple-600"}),title:t("user_guide_page.features.voting.title"),description:t("user_guide_page.features.voting.description"),stats:t("user_guide_page.features.voting.stats")},{icon:s.jsx(Tu,{className:"w-12 h-12 text-amber-600"}),title:t("user_guide_page.features.raffle.title"),description:t("user_guide_page.features.raffle.description"),stats:t("user_guide_page.features.raffle.stats")},{icon:s.jsx(cd,{className:"w-12 h-12 text-green-600"}),title:t("user_guide_page.features.stand_rental.title"),description:t("user_guide_page.features.stand_rental.description"),stats:t("user_guide_page.features.stand_rental.stats")},{icon:s.jsx(nc,{className:"w-12 h-12 text-red-600"}),title:t("user_guide_page.features.protected_events.title"),description:t("user_guide_page.features.protected_events.description"),stats:t("user_guide_page.features.protected_events.stats")},{icon:s.jsx(Xc,{className:"w-12 h-12 text-yellow-600"}),title:t("user_guide_page.features.boost.title"),description:t("user_guide_page.features.boost.description"),stats:t("user_guide_page.features.boost.stats")}],h=[{number:"95%",label:t("user_guide_page.stats.revenue")},{number:"10F",label:t("user_guide_page.stats.coin_cost")},{number:"1",label:t("user_guide_page.stats.coin_earned")},{number:"0F",label:t("user_guide_page.stats.no_fees")}],g={views:1e3,likes:250,comments:80,shares:50,coinValue:10,totalEarnings:0};g.totalEarnings=(g.views+g.likes+g.comments+g.shares)*g.coinValue;const p=[{name:"Marie K.",role:t("user_guide_page.testimonials.testimonial1.role"),content:t("user_guide_page.testimonials.testimonial1.content"),rating:5},{name:"Jean A.",role:t("user_guide_page.testimonials.testimonial2.role"),content:t("user_guide_page.testimonials.testimonial2.content"),rating:5},{name:"Sophie T.",role:t("user_guide_page.testimonials.testimonial3.role"),content:t("user_guide_page.testimonials.testimonial3.content"),rating:5},{name:"Paul D.",role:t("user_guide_page.testimonials.testimonial4.role"),content:t("user_guide_page.testimonials.testimonial4.content"),rating:5},{name:"Fatou M.",role:t("user_guide_page.testimonials.testimonial5.role"),content:t("user_guide_page.testimonials.testimonial5.content"),rating:5},{name:"Kevin L.",role:t("user_guide_page.testimonials.testimonial6.role"),content:t("user_guide_page.testimonials.testimonial6.content"),rating:5},{name:"Acha B.",role:t("user_guide_page.testimonials.testimonial7.role"),content:t("user_guide_page.testimonials.testimonial7.content"),rating:5},{name:"Marc T.",role:t("user_guide_page.testimonials.testimonial8.role"),content:t("user_guide_page.testimonials.testimonial8.content"),rating:5},{name:"Julie N.",role:t("user_guide_page.testimonials.testimonial9.role"),content:t("user_guide_page.testimonials.testimonial9.content"),rating:5},{name:"David K.",role:t("user_guide_page.testimonials.testimonial10.role"),content:t("user_guide_page.testimonials.testimonial10.content"),rating:5},{name:"Sarah J.",role:t("user_guide_page.testimonials.testimonial11.role"),content:t("user_guide_page.testimonials.testimonial11.content"),rating:5},{name:"Mohamed C.",role:t("user_guide_page.testimonials.testimonial12.role"),content:t("user_guide_page.testimonials.testimonial12.content"),rating:5},{name:"Laura P.",role:t("user_guide_page.testimonials.testimonial13.role"),content:t("user_guide_page.testimonials.testimonial13.content"),rating:5},{name:"Pierre G.",role:t("user_guide_page.testimonials.testimonial14.role"),content:t("user_guide_page.testimonials.testimonial14.content"),rating:5},{name:"Nadia S.",role:t("user_guide_page.testimonials.testimonial15.role"),content:t("user_guide_page.testimonials.testimonial15.content"),rating:5}],S=()=>{l(C=>(C+1)%p.length)},b=()=>{l(C=>(C-1+p.length)%p.length)},N=C=>{l(C)};return j.useEffect(()=>{if(!c)return;const C=setInterval(()=>{S()},5e3);return()=>clearInterval(C)},[c]),s.jsxs("div",{ref:r,className:"min-h-screen bg-background overflow-hidden",children:[s.jsxs(Fi,{children:[s.jsx("title",{children:t("user_guide_page.meta.title")}),s.jsx("meta",{name:"description",content:t("user_guide_page.meta.description")})]}),s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/90 to-blue-700 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsxs(er.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},className:"relative z-10 text-center text-white px-4 max-w-6xl mx-auto",children:[s.jsxs(er.h1,{className:"text-5xl md:text-7xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},children:[t("user_guide_page.hero.title"),s.jsx("span",{className:"block bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:t("user_guide_page.hero.subtitle")})]}),s.jsxs(er.p,{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t("user_guide_page.hero.description")}}),s.jsx("span",{className:"block font-semibold text-yellow-300",children:t("user_guide_page.hero.coin_info")})]}),s.jsxs(er.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:[s.jsxs(ze,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg px-8 py-6 font-semibold",onClick:()=>e("/create-event"),children:[t("user_guide_page.hero.create_event"),s.jsx(Cm,{className:"ml-2 w-5 h-5"})]}),s.jsx(ze,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/20 text-lg px-8 py-6 font-semibold",onClick:()=>e("/partner-signup"),children:t("user_guide_page.hero.become_partner")})]}),s.jsxs(er.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-8 text-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vl,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{children:t("user_guide_page.hero.features.revenue")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vl,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{children:t("user_guide_page.hero.features.coin")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vl,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{children:t("user_guide_page.hero.features.support")})]})]})]}),s.jsx(er.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:s.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:s.jsx(er.div,{className:"w-1 h-3 bg-white rounded-full mt-2",animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0}})})})]}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.features.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.features.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:f.map((C,A)=>s.jsx(er.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:A*.1,duration:.6},viewport:{once:!0},children:s.jsx(Yt,{className:"h-full border-2 shadow-lg hover:shadow-xl transition-all duration-300 bg-card",children:s.jsxs(Qt,{className:"p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"p-4 rounded-2xl bg-primary/10",children:C.icon})}),s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:C.title}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:C.description}),s.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white px-4 py-2 rounded-full text-sm font-semibold inline-block",children:C.stats})]})})},A))})]})}),s.jsx("section",{className:"py-20 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.simulation.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.simulation.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(Yt,{className:"border-2 shadow-xl bg-gradient-to-br from-primary/5 to-blue-50",children:s.jsxs(Qt,{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ua,{className:"w-16 h-16 text-yellow-500"})}),s.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:t("user_guide_page.simulation.main_title")}),s.jsx("p",{className:"text-lg text-muted-foreground font-semibold",children:t("user_guide_page.simulation.description")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg text-white",children:[s.jsx(Dm,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"1000"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.views")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"10000F"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-red-500 to-red-600 rounded-lg shadow-lg text-white",children:[s.jsx(vj,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"250"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.likes")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"2500F"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg text-white",children:[s.jsx(WS,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"80"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.comments")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"800F"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg text-white",children:[s.jsx(Qp,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"50"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.shares")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"500F"})]})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg text-white shadow-lg",children:[s.jsx("div",{className:"text-3xl font-bold mb-2",children:t("user_guide_page.simulation.total",{amount:g.totalEarnings.toLocaleString()})}),s.jsx("p",{className:"text-lg font-medium",children:t("user_guide_page.simulation.revenue_description",{count:g.views+g.likes+g.comments+g.shares})})]})]})})})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-blue-700 text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:h.map((C,A)=>s.jsxs(er.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{delay:A*.2,duration:.6},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"text-5xl md:text-6xl font-bold mb-4 text-yellow-300",children:C.number}),s.jsx("p",{className:"text-xl text-blue-100",children:C.label})]},A))})})}),s.jsx("section",{className:"py-20 bg-muted/50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.partner_program.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.partner_program.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(Yt,{className:"border-2 shadow-xl bg-card",children:s.jsx(Qt,{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:t("user_guide_page.partner_program.advantages")}),s.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(vl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.revenue")})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(vl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.training")})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(vl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.support")})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(vl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.network")})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white p-6 rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold mb-2",children:t("user_guide_page.partner_program.become_partner")}),s.jsx("p",{className:"mb-4",children:t("user_guide_page.partner_program.partner_description")}),s.jsx(ze,{className:"bg-white text-primary hover:bg-gray-100",onClick:()=>e("/partner-signup"),children:t("user_guide_page.partner_program.apply_now")})]})})]})})})})]})}),s.jsx("section",{className:"py-20 bg-background",ref:n,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.testimonials.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.testimonials.subtitle")})]}),s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[s.jsx(ze,{variant:"outline",size:"icon",onClick:b,className:"rounded-full",title:t("user_guide_page.testimonials.previous"),children:s.jsx(gj,{className:"w-5 h-5"})}),s.jsx(ze,{variant:"outline",size:"icon",onClick:()=>u(!c),className:"rounded-full",title:t(c?"user_guide_page.testimonials.pause":"user_guide_page.testimonials.play"),children:c?s.jsx(e7,{className:"w-5 h-5"}):s.jsx(t7,{className:"w-5 h-5"})}),s.jsx(ze,{variant:"outline",size:"icon",onClick:S,className:"rounded-full",title:t("user_guide_page.testimonials.next"),children:s.jsx(Hg,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"relative h-96 overflow-hidden rounded-xl",children:p.map((C,A)=>s.jsx(er.div,{initial:{opacity:0,x:100},animate:{opacity:A===o?1:0,x:A===o?0:A<o?-100:100,scale:A===o?1:.9},transition:{duration:.5},className:`absolute inset-0 ${A===o?"pointer-events-auto":"pointer-events-none"}`,children:s.jsx(Yt,{className:"h-full border-2 shadow-2xl bg-card",children:s.jsxs(Qt,{className:"p-12 h-full flex flex-col justify-center items-center text-center",children:[s.jsx("div",{className:"flex items-center mb-6",children:[...Array(C.rating)].map((T,F)=>s.jsx(Tu,{className:"w-8 h-8 fill-yellow-400 text-yellow-400 mx-1"},F))}),s.jsxs("p",{className:"text-2xl text-muted-foreground mb-8 italic leading-relaxed max-w-4xl",children:['"',C.content,'"']}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-foreground text-xl mb-2",children:C.name}),s.jsx("div",{className:"text-muted-foreground text-lg",children:C.role})]})]})})},A))}),s.jsx("div",{className:"flex justify-center items-center gap-2 mt-8",children:p.map((C,A)=>s.jsx("button",{onClick:()=>N(A),className:`w-3 h-3 rounded-full transition-all duration-300 ${A===o?"bg-primary scale-125":"bg-gray-300 hover:bg-gray-400"}`},A))}),s.jsx("div",{className:"text-center mt-4 text-muted-foreground",children:t("user_guide_page.testimonials.counter",{current:o+1,total:p.length})})]})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-blue-700 text-white",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(er.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:t("user_guide_page.cta.title")}),s.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-blue-100",children:t("user_guide_page.cta.description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(ze,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg px-8 py-6 font-semibold",onClick:()=>e("/create-event"),children:[t("user_guide_page.cta.create_event"),s.jsx(Cm,{className:"ml-2 w-5 h-5"})]}),s.jsx(ze,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/20 text-lg px-8 py-6 font-semibold",onClick:()=>e("/partner-signup"),children:t("user_guide_page.cta.become_partner")})]})]})})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"BonPlanInfos"}),s.jsx("p",{className:"text-gray-400 mb-4",children:t("user_guide_page.footer.description")}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("a",{href:"https://www.youtube.com/@bonplaninfos",target:"_blank",rel:"noopener noreferrer",children:s.jsx(V2e,{className:"w-6 h-6 text-gray-400 hover:text-red-500 cursor-pointer"})}),s.jsx("a",{href:"https://www.tiktok.com/@bonplaninfos",target:"_blank",rel:"noopener noreferrer",children:s.jsx("div",{className:"w-6 h-6 bg-gray-400 hover:bg-black rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-white",children:"TK"})})}),s.jsx("a",{href:"https://www.facebook.com/share/1D3rt89vaP/",target:"_blank",rel:"noopener noreferrer",children:s.jsx(g2e,{className:"w-6 h-6 text-gray-400 hover:text-blue-500 cursor-pointer"})}),s.jsx("a",{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",target:"_blank",rel:"noopener noreferrer",children:s.jsx(WS,{className:"w-6 h-6 text-gray-400 hover:text-green-500 cursor-pointer"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.navigation")}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.home")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/events"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.events")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/create-event"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.create_event")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/partner-signup"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.become_partner")})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.contact")}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Py,{className:"w-4 h-4"}),s.jsx("span",{children:"+225 07 12 27 53 74"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(hm,{className:"w-4 h-4"}),s.jsx("a",{href:"mailto:support@bonplaninfos.net",className:"hover:underline",children:"support@bonplaninfos.net"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(to,{className:"w-4 h-4"}),s.jsx("span",{children:"Cte d'Ivoire, Abidjan"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(to,{className:"w-4 h-4"}),s.jsx("a",{href:"https://share.google/vsn9fS33X9trfB43i",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Burkina Faso, Ouagadougou"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.information")}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:" 95% des revenus vous sont reverss"}),s.jsx("li",{children:" 1 pice = 10F CFA"}),s.jsx("li",{children:" 1 interaction = 1 pice"}),s.jsx("li",{children:" Support 24/7"})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:s.jsx("p",{children:t("user_guide_page.footer.copyright")})})]})})]})},Fxt=()=>{const{t:e}=za(),t=e("faq.questions",{returnObjects:!0})||{};return s.jsxs(s.Fragment,{children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("faq.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("faq.meta_description")})]}),s.jsx("div",{className:"bg-background text-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-20",children:[s.jsxs(er.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight text-primary font-heading",children:e("faq.title")}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:e("faq.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:Object.keys(t).map((r,n)=>s.jsxs(er.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:n*.2},className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-secondary-foreground",children:t[r].title}),s.jsx(Ihe,{type:"single",collapsible:!0,className:"w-full",children:Object.keys(t[r]).filter(i=>i.startsWith("q")).map(i=>s.jsxs(ML,{value:`${r}-${i}`,children:[s.jsx(LL,{className:"text-left font-semibold",children:t[r][i]}),s.jsx(BL,{className:"text-muted-foreground",children:s.jsx(y7,{i18nKey:`faq.questions.${r}.${i.replace("q","a")}`,components:{b:s.jsx("strong",{})}})})]},`${r}-${i}`))})]},r))})]})})]})},Dxt=["orange","mtn","moov","wave"],Rxt=()=>{const{t:e}=za(),[t,r]=j.useState([]),[n,i]=j.useState(!0);return j.useEffect(()=>{(()=>{const o=Dxt.map(l=>({id:l,name:e(`sponsors.list.${l}.name`),logo_url:`https://res.cloudinary.com/dprp6vxv6/image/upload/v1722428610/bpi/logo-${l}_${l==="orange"?"g6h5g1":"z5z5z5"}.png`,description:e(`sponsors.list.${l}.description`)}));r(o),i(!1)})()},[e]),s.jsxs(s.Fragment,{children:[s.jsxs(Fi,{children:[s.jsxs("title",{children:[e("sponsors.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("sponsors.meta_description")})]}),s.jsx("div",{className:"py-16 sm:py-24 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx(Jp,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-heading",children:e("sponsors.title")}),s.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground max-w-3xl mx-auto",children:e("sponsors.subtitle")})]}),n?s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(Zt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(a=>s.jsxs(Yt,{className:"bg-card overflow-hidden shadow-lg hover:shadow-primary/20 transition-shadow duration-300",children:[s.jsx(Wr,{className:"p-0",children:s.jsx("div",{className:"h-40 flex items-center justify-center bg-white p-4",children:s.jsx("img",{src:a.logo_url,alt:a.name,className:"max-h-full max-w-full object-contain"})})}),s.jsxs(Qt,{className:"p-6",children:[s.jsx(qr,{className:"text-xl mb-2",children:a.name}),s.jsx("p",{className:"text-muted-foreground text-sm",children:a.description})]})]},a.id))})]})})]})},Mxt="BAHwYo5VME1pPaNkvlLG4R8lMoQyZ-gblT2vpRHxWmBTna0Fw8Qrv8pRaz1ZSkL1zZcer7F39DDB9mC4AZYROWE";function Lxt(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}function D6(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async function Bxt(){if(!D6())throw new Error("Notifications non supportes");return await Notification.requestPermission()}async function $xt(){if(!D6())return null;try{const e=await navigator.serviceWorker.ready;let t=await e.pushManager.getSubscription();return t||(t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Lxt(Mxt)})),t}catch(e){throw console.error("Push subscription failed:",e),e}}async function CY(e){if(!(!e||!D6()))try{const r=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(r){const n=r.getKey("p256dh")?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("p256dh")))):null,i=r.getKey("auth")?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("auth")))):null;return await Ze.from("push_tokens").upsert({user_id:e.id,token:r.endpoint,auth_key:i,p256dh_key:n,device_type:"web_browser",is_active:!0,last_used_at:new Date().toISOString()},{onConflict:"token"}),!0}return!1}catch(t){return console.error("Sync subscription error:",t),!1}}const Uxt=()=>{const{user:e}=bn(),{toast:t}=js(),[r,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState("default");j.useEffect(()=>{if(D6()){if(l(Notification.permission),Notification.permission==="granted"&&e)CY(e);else if(Notification.permission==="default"&&e){const f=setTimeout(()=>n(!0),3e3);return()=>clearTimeout(f)}}},[e]);const c=async()=>{a(!0);try{const f=await Bxt();l(f),f==="granted"?(await $xt()&&e&&(await CY(e),t({title:"Notifications actives !",description:"Vous serez inform des nouveaux vnements.",variant:"success"})),n(!1)):(t({title:"Notifications bloques",description:"Vous devez autoriser les notifications dans votre navigateur pour recevoir les alertes.",variant:"warning"}),n(!1))}catch(f){console.error("Error enabling notifications:",f),t({title:"Erreur",description:"Impossible d'activer les notifications.",variant:"destructive"})}finally{a(!1)}},u=()=>{n(!1),sessionStorage.setItem("push_prompt_dismissed","true")};return sessionStorage.getItem("push_prompt_dismissed")==="true"&&!i?null:s.jsx(Du,{children:r&&s.jsx(er.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-4 right-4 z-[60] w-full max-w-sm",children:s.jsxs("div",{className:"bg-background/95 backdrop-blur-md border border-primary/20 p-4 rounded-xl shadow-2xl flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:s.jsx(s2e,{className:"w-6 h-6 text-primary animate-pulse"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Ne ratez aucun vnement !"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Activez les notifications pour recevoir les alertes des nouveaux vnements et promos en temps rel."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ze,{size:"sm",onClick:c,disabled:i,className:"h-8 text-xs",children:i?"Activation...":"Activer"}),s.jsx(ze,{size:"sm",variant:"ghost",onClick:u,className:"h-8 text-xs",children:"Plus tard"})]})]}),s.jsx("button",{onClick:u,className:"text-muted-foreground hover:text-foreground",children:s.jsx(wl,{className:"w-4 h-4"})})]})})})},zxt=()=>{const e=Sa(),{userProfile:t}=Ja();return t&&["organizer","admin","super_admin"].includes(t.user_type)?s.jsx(er.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.5},whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-24 right-4 z-50 md:hidden",children:s.jsx(ze,{size:"icon",className:"rounded-full w-14 h-14 shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground flex items-center justify-center",onClick:()=>e("/create-event"),"aria-label":"Crer un vnement",children:s.jsx(Bl,{className:"w-8 h-8"})})}):null},Vxt=()=>{const{setForceRefresh:e}=bn(),{forceRefreshUserProfile:t}=Ja();return j.useEffect(()=>{e(()=>t)},[e,t]),null};function Wxt(){return s.jsx(_xe,{children:s.jsx(pwe,{children:s.jsx(fwe,{children:s.jsxs(hwe,{children:[s.jsx(Vxt,{}),s.jsx(j.Suspense,{fallback:s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),children:s.jsxs(KEe,{children:[s.jsxs(hxe,{children:[s.jsx(Ta,{path:"/",element:s.jsx(rke,{})}),s.jsx(Ta,{path:"/discover",element:s.jsx(Ggt,{})}),s.jsx(Ta,{path:"/add-location",element:s.jsx(ixt,{})}),s.jsx(Ta,{path:"/auth",element:s.jsx(Kke,{})}),s.jsx(Ta,{path:"/profile",element:s.jsx(OIe,{})}),s.jsx(Ta,{path:"/events",element:s.jsx(IIe,{})}),s.jsx(Ta,{path:"/create-event",element:s.jsx(FIe,{})}),s.jsx(Ta,{path:"/create-simple-event",element:s.jsx(axt,{})}),s.jsx(Ta,{path:"/create-raffle-event",element:s.jsx(Jgt,{})}),s.jsx(Ta,{path:"/create-voting-event",element:s.jsx(Zgt,{})}),s.jsx(Ta,{path:"/create-stand-event",element:s.jsx(txt,{})}),s.jsx(Ta,{path:"/create-ticketing-event",element:s.jsx(rxt,{})}),s.jsx(Ta,{path:"/event/:id",element:s.jsx(FFe,{})}),s.jsx(Ta,{path:"/contests",element:s.jsx(Wgt,{})}),s.jsx(Ta,{path:"/contest/:id",element:s.jsx(qgt,{})}),s.jsx(Ta,{path:"/admin",element:s.jsx(S1t,{})}),s.jsx(Ta,{path:"/secretary",element:s.jsx(O1t,{})}),s.jsx(Ta,{path:"/wallet",element:s.jsx(I1t,{})}),s.jsx(Ta,{path:"/settings",element:s.jsx(rgt,{})}),s.jsx(Ta,{path:"/promotions",element:s.jsx(agt,{})}),s.jsx(Ta,{path:"/create-promotion",element:s.jsx(igt,{})}),s.jsx(Ta,{path:"/news",element:s.jsx(ogt,{})}),s.jsx(Ta,{path:"/notifications",element:s.jsx(sgt,{})}),s.jsx(Ta,{path:"/terms",element:s.jsx(uY,{})}),s.jsx(Ta,{path:"/conditions-utilisation",element:s.jsx(uY,{})}),s.jsx(Ta,{path:"/boost",element:s.jsx(lgt,{})}),s.jsx(Ta,{path:"/marketing",element:s.jsx(dgt,{})}),s.jsx(Ta,{path:"/partner-signup",element:s.jsx(xgt,{})}),s.jsx(Ta,{path:"/about",element:s.jsx(ygt,{})}),s.jsx(Ta,{path:"/privacy-policy",element:s.jsx(fY,{})}),s.jsx(Ta,{path:"/politique-confidentialite",element:s.jsx(fY,{})}),s.jsx(Ta,{path:"/protection-donnees",element:s.jsx(Oxt,{})}),s.jsx(Ta,{path:"/help-center",element:s.jsx(hY,{})}),s.jsx(Ta,{path:"/aide",element:s.jsx(hY,{})}),s.jsx(Ta,{path:"/guide-utilisation",element:s.jsx(Ixt,{})}),s.jsx(Ta,{path:"/faq",element:s.jsx(Fxt,{})}),s.jsx(Ta,{path:"/sponsors",element:s.jsx(Rxt,{})}),s.jsx(Ta,{path:"/how-it-works",element:s.jsx(Bgt,{})}),s.jsx(Ta,{path:"/pricing",element:s.jsx($gt,{})}),s.jsx(Ta,{path:"/packs",element:s.jsx(Ygt,{})}),s.jsx(Ta,{path:"/buy/:packSlug",element:s.jsx(Xgt,{})}),s.jsx(Ta,{path:"/payment/checkout",element:s.jsx(nxt,{})}),s.jsx(Ta,{path:"/paiement/success",element:s.jsx(Ugt,{})}),s.jsx(Ta,{path:"/paiement/cancel",element:s.jsx(zgt,{})}),s.jsx(Ta,{path:"/verify-ticket",element:s.jsx(Pxt,{})}),s.jsx(Ta,{path:"/legal-mentions",element:s.jsx(Lgt,{})})]}),s.jsx(J2e,{}),s.jsx(vgt,{}),s.jsx(Uxt,{}),s.jsx(fae,{}),s.jsx(zxt,{})]})})]})})})})}const Da=e=>typeof e=="string",hw=()=>{let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r},AY=e=>e==null?"":""+e,Hxt=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},qxt=/###/g,jY=e=>e&&e.indexOf("###")>-1?e.replace(qxt,"."):e,EY=e=>!e||Da(e),a_=(e,t,r)=>{const n=Da(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(EY(e))return{};const a=jY(n[i]);!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return EY(e)?{}:{obj:e,k:jY(n[i])}},TY=(e,t,r)=>{const{obj:n,k:i}=a_(e,t,Object);if(n!==void 0||t.length===1){n[i]=r;return}let a=t[t.length-1],o=t.slice(0,t.length-1),l=a_(e,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=a_(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},Gxt=(e,t,r,n)=>{const{obj:i,k:a}=a_(e,t,Object);i[a]=i[a]||[],i[a].push(r)},zA=(e,t)=>{const{obj:r,k:n}=a_(e,t);if(r)return r[n]},Kxt=(e,t,r)=>{const n=zA(e,r);return n!==void 0?n:zA(t,r)},Bhe=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Da(e[n])||e[n]instanceof String||Da(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):Bhe(e[n],t[n],r):e[n]=t[n]);return e},bv=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Yxt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xxt=e=>Da(e)?e.replace(/[&<>"'\/]/g,t=>Yxt[t]):e;class Jxt{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Zxt=[" ",",","?","!",";"],Qxt=new Jxt(20),evt=(e,t,r)=>{t=t||"",r=r||"";const n=Zxt.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Qxt.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(e);if(!a){const o=e.indexOf(r);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a},zF=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let i=e;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;a+=c-a+1;break}i=o}return i},VA=e=>e&&e.replace("_","-"),tvt={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class WA{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||tvt,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,i){return i&&!this.debug?null:(Da(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new WA(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new WA(this.logger,t)}}var f0=new WA;class R6{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l.apply(l,[t,...n])})}}class kY extends R6{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Da(n)&&a?l.push(...n.split(a)):l.push(n)));const c=zA(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Da(n)?c:zF(this.data&&this.data[t]&&this.data[t][r],n,a)}addResource(t,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),i=r,r=l[1]),this.addNamespaces(r),TY(this.data,l,i),a.silent||this.emit("added",t,r,n,i)}addResources(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(Da(n[a])||Array.isArray(n[a]))&&this.addResource(t,r,a,n[a],{silent:!0});i.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=zA(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Bhe(c,n,a):c={...c,...n},TY(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var $he={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(a=>{this.processors[a]&&(t=this.processors[a].process(t,r,n,i))}),t}};const PY={};class HA extends R6{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Hxt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=f0.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!evt(t,n,i);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Da(a)?[a]:a};const u=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),t=u.join(i)}return{key:t,namespaces:Da(a)?[a]:a}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],u=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const F=r.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${F}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${F}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const h=this.resolve(t,r);let g=h&&h.res;const p=h&&h.usedKey||o,S=h&&h.exactUsedKey||o,b=Object.prototype.toString.apply(g),N=["[object Number]","[object Function]","[object RegExp]"],C=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!Da(g)&&typeof g!="boolean"&&typeof g!="number";if(A&&g&&T&&N.indexOf(b)<0&&!(Da(C)&&Array.isArray(g))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,g,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=F,h.usedParams=this.getUsedParamsDetails(r),h):F}if(a){const F=Array.isArray(g),L=F?[]:{},B=F?S:p;for(const M in g)if(Object.prototype.hasOwnProperty.call(g,M)){const W=`${B}${a}${M}`;L[M]=this.translate(W,{...r,joinArrays:!1,ns:l}),L[M]===W&&(L[M]=g[M])}g=L}}else if(A&&Da(C)&&Array.isArray(g))g=g.join(C),g&&(g=this.extendTranslation(g,t,r,n));else{let F=!1,L=!1;const B=r.count!==void 0&&!Da(r.count),M=HA.hasDefaultValue(r),W=B?this.pluralResolver.getSuffix(u,r.count,r):"",z=r.ordinal&&B?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",Z=B&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),K=Z&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${W}`]||r[`defaultValue${z}`]||r.defaultValue;!this.isValidLookup(g)&&M&&(F=!0,g=K),this.isValidLookup(g)||(L=!0,g=o);const ie=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:g,ae=M&&K!==g&&this.options.updateMissing;if(L||F||ae){if(this.logger.log(ae?"updateKey":"missingKey",u,c,o,ae?K:g),a){const ce=this.resolve(o,{...r,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let ce=0;ce<se.length;ce++)X.push(se[ce]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(r.lng||this.language):X.push(r.lng||this.language);const he=(ce,ge,we)=>{const Ce=M&&we!==g?we:ie;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,c,ge,Ce,ae,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ce,c,ge,Ce,ae,r),this.emit("missingKey",ce,c,ge,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?X.forEach(ce=>{const ge=this.pluralResolver.getSuffixes(ce,r);Z&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ge.indexOf(`${this.options.pluralSeparator}zero`)<0&&ge.push(`${this.options.pluralSeparator}zero`),ge.forEach(we=>{he([ce],o+we,r[`defaultValue${we}`]||K)})}):he(X,o,K))}g=this.extendTranslation(g,t,r,h,n),L&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}:${o}`),(L||F)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,F?g:void 0):g=this.options.parseMissingKeyHandler(g))}return i?(h.res=g,h.usedParams=this.getUsedParamsDetails(r),h):g}extendTranslation(t,r,n,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Da(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const g=t.match(this.interpolator.nestingRegexp);f=g&&g.length}let h=n.replace&&!Da(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||i.usedLng,n),u){const g=t.match(this.interpolator.nestingRegexp),p=g&&g.length;f<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var g=arguments.length,p=new Array(g),S=0;S<g;S++)p[S]=arguments[S];return a&&a[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=Da(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=$he.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,o,l;return Da(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),f=u.key;i=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=r.count!==void 0&&!Da(r.count),p=g&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),S=r.context!==void 0&&(Da(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(N=>{this.isValidLookup(n)||(l=N,!PY[`${b[0]}-${N}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(PY[`${b[0]}-${N}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(C=>{if(this.isValidLookup(n))return;o=C;const A=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(A,f,C,N,r);else{let F;g&&(F=this.pluralResolver.getSuffix(C,r.count,r));const L=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(A.push(f+F),r.ordinal&&F.indexOf(B)===0&&A.push(f+F.replace(B,this.options.pluralSeparator)),p&&A.push(f+L)),S){const M=`${f}${this.options.contextSeparator}${r.context}`;A.push(M),g&&(A.push(M+F),r.ordinal&&F.indexOf(B)===0&&A.push(M+F.replace(B,this.options.pluralSeparator)),p&&A.push(M+L))}}let T;for(;T=A.pop();)this.isValidLookup(n)||(a=T,n=this.getResource(C,N,T,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,i):this.resourceStore.getResource(t,r,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Da(t.replace);let i=n?t.replace:t;if(n&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const Lk=e=>e.charAt(0).toUpperCase()+e.slice(1);class OY{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=f0.create("languageUtils")}getScriptPartFromCode(t){if(t=VA(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=VA(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Da(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Lk(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Lk(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Lk(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Da(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Da(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):Da(t)&&a(this.formatLanguageCode(t)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let rvt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],nvt={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const avt=["v1","v2","v3"],ivt=["v4"],IY={zero:0,one:1,two:2,few:3,many:4,other:5},svt=()=>{const e={};return rvt.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:nvt[t.fc]}})}),e};class ovt{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=f0.create("pluralResolver"),(!this.options.compatibilityJSON||ivt.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=svt(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=VA(t==="dev"?"en":t),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[a]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(i=>`${r}${i}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>IY[i]-IY[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(t,i,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let i=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!avt.includes(this.options.compatibilityJSON)}}const FY=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Kxt(e,t,r);return!a&&i&&Da(r)&&(a=zF(e,r,n),a===void 0&&(a=zF(t,r,n))),a},Bk=e=>e.replace(/\$/g,"$$$$");class lvt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=f0.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:p,nestingSuffix:S,nestingSuffixEscaped:b,nestingOptionsSeparator:N,maxReplaces:C,alwaysFormat:A}=t.interpolation;this.escape=r!==void 0?r:Xxt,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?bv(a):o||"{{",this.suffix=l?bv(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?bv(g):p||bv("$t("),this.nestingSuffix=S?bv(S):b||bv(")"),this.nestingOptionsSeparator=N||",",this.maxReplaces=C||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,i){let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const C=FY(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,n,{...i,...r,interpolationkey:p}):C}const S=p.split(this.formatSeparator),b=S.shift().trim(),N=S.join(this.formatSeparator).trim();return this.format(FY(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),N,n,{...i,...r,interpolationkey:b})};this.resetRegExp();const f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Bk(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Bk(this.escape(p)):Bk(p)}].forEach(p=>{for(l=0;a=p.regex.exec(t);){const S=a[1].trim();if(o=u(S),o===void 0)if(typeof f=="function"){const N=f(t,a,i);o=Da(N)?N:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${t}`),o="";else!Da(o)&&!this.useRawValueToEscape&&(o=AY(o));const b=p.safeValue(o);if(t=t.replace(a[0],b),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;const l=(c,u)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const h=c.split(new RegExp(`${f}[ ]*{`));let g=`{${h[1]}`;c=h[0],g=this.interpolate(g,o);const p=g.match(/'/g),S=g.match(/"/g);(p&&p.length%2===0&&!S||S.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${f}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Da(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=f.shift(),c=f,u=!0}if(a=r(l.call(this,i[1].trim(),o),o),a&&i[0]===t&&!Da(a))return a;Da(a)||(a=AY(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),u&&(a=c.reduce((f,h)=>this.format(f,h,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const cvt=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();r[f]||(r[f]=u),u==="false"&&(r[f]=!1),u==="true"&&(r[f]=!0),isNaN(u)||(r[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},wv=e=>{const t={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let l=t[o];return l||(l=e(VA(n),i),t[o]=l),l(r)}};class uvt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=f0.create("formatter"),this.options=t,this.formats={number:wv((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return a=>i.format(a)}),currency:wv((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return a=>i.format(a)}),datetime:wv((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return a=>i.format(a)}),relativetime:wv((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return a=>i.format(a,n.range||"day")}),list:wv((r,n)=>{const i=new Intl.ListFormat(r,{...n});return a=>i.format(a)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=wv(r)}format(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:u,formatOptions:f}=cvt(c);if(this.formats[u]){let h=l;try{const g=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=g.locale||g.lng||i.locale||i.lng||n;h=this.formats[u](l,p,{...f,...i,...g})}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const dvt=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class fvt extends R6{constructor(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=f0.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(t,r,n,i){const a={},o={},l={},c={};return t.forEach(u=>{let f=!0;r.forEach(h=>{const g=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),a[g]===void 0&&(a[g]=!0),c[h]===void 0&&(c[h]=!0)))}),f||(l[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const i=t.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Gxt(c.loaded,[a],o),dvt(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,i+1,a*2,o)},a);return}o(u,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Da(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Da(r)&&(r=[r]);const a=this.queueLoad(t,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,r,n,i,c):f=u(t,r,n,i),f&&typeof f.then=="function"?f.then(h=>l(null,h)).catch(l):l(null,f)}catch(f){l(f)}else u(t,r,n,i,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,i)}}}const DY=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Da(e[1])&&(t.defaultValue=e[1]),Da(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),RY=e=>(Da(e.ns)&&(e.ns=[e.ns]),Da(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Da(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),IN=()=>{},hvt=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class O4 extends R6{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=RY(t),this.services={},this.logger=f0,this.modules={external:[]},hvt(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(Da(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=DY();this.options={...i,...this.options,...RY(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?f0.init(a(this.modules.logger),this.options):f0.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=uvt);const h=new OY(this.options);this.store=new kY(this.options.resources,this.options);const g=this.services;g.logger=f0,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new ovt(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=a(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new lvt(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new fvt(a(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(p){for(var S=arguments.length,b=new Array(S>1?S-1:0),N=1;N<S;N++)b[N-1]=arguments[N];t.emit(p,...b)}),this.modules.languageDetector&&(g.languageDetector=a(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=a(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new HA(this.services,this.options),this.translator.on("*",function(p){for(var S=arguments.length,b=new Array(S>1?S-1:0),N=1;N<S;N++)b[N-1]=arguments[N];t.emit(p,...b)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=IN),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return t.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return t.store[f](...arguments),t}});const c=hw(),u=()=>{const f=(h,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(h,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IN;const i=Da(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const i=hw();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=IN),this.services.backendConnector.reload(t,r,a=>{i.resolve(),n(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$he.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const i=hw();this.emit("languageChanging",t);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=Da(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,r,n){var i=this;const a=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];c=i.options.overloadTranslationOptionHandler([o,l].concat(f))}else c={...l};c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const g=i.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(o)?p=o.map(S=>`${c.keyPrefix}${g}${S}`):p=c.keyPrefix?`${c.keyPrefix}${g}${o}`:o,i.t(p,c)};return Da(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}loadNamespaces(t,r){const n=hw();return this.options.ns?(Da(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=hw();Da(t)&&(t=[t]);const i=this.options.preload||[],a=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new OY(DY());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new O4(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IN;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new O4(i);return(t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new kY(this.store.data,i),a.services.resourceStore=a.store),a.translator=new HA(a.services,i),a.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];a.emit(l,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nu=O4.createInstance();nu.createInstance=O4.createInstance;nu.createInstance;nu.dir;nu.init;nu.loadResources;nu.reloadResources;nu.use;nu.changeLanguage;nu.getFixedT;nu.t;nu.exists;nu.setDefaultNamespace;nu.hasLoadedNamespace;nu.loadNamespaces;nu.loadLanguages;function mvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pvt(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gvt(e){var t=pvt(e,"string");return Yi(t)=="symbol"?t:t+""}function MY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gvt(n.key),n)}}function xvt(e,t,r){return t&&MY(e.prototype,t),r&&MY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Uhe=[],vvt=Uhe.forEach,yvt=Uhe.slice;function bvt(e){return vvt.call(yvt.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var LY=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,wvt=function(t,r,n){var i=n||{};i.path=i.path||"/";var a=encodeURIComponent(r),o="".concat(t,"=").concat(a);if(i.maxAge>0){var l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(i.domain){if(!LY.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!LY.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var c=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},BY={create:function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),i&&(a.domain=i),document.cookie=wvt(t,encodeURIComponent(r),a)},read:function(t){for(var r="".concat(t,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(r)===0)return a.substring(r.length,a.length)}return null},remove:function(t){this.create(t,"",-1)}},_vt={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=BY.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&BY.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},Nvt={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),a=i.split("&"),o=0;o<a.length;o++){var l=a[o].indexOf("=");if(l>0){var c=a[o].substring(0,l);c===t.lookupQuerystring&&(r=a[o].substring(l+1))}}}return r}},mw=null,$Y=function(){if(mw!==null)return mw;try{mw=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{mw=!1}return mw},Svt={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&$Y()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&$Y()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},pw=null,UY=function(){if(pw!==null)return pw;try{pw=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{pw=!1}return pw},Cvt={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&UY()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&UY()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},Avt={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},jvt={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},Evt={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},Tvt={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},zhe=!1;try{document.cookie,zhe=!0}catch{}var Vhe=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zhe||Vhe.splice(1,1);function kvt(){return{order:Vhe,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var Whe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mvt(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return xvt(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=bvt(n,this.options||{},kvt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(_vt),this.addDetector(Nvt),this.addDetector(Svt),this.addDetector(Cvt),this.addDetector(Avt),this.addDetector(jvt),this.addDetector(Evt),this.addDetector(Tvt)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var i=[];return r.forEach(function(a){if(n.detectors[a]){var o=n.detectors[a].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(function(a){return n.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(a){i.detectors[a]&&i.detectors[a].cacheUserLanguage(r,i.options)}))}}])}();Whe.type="languageDetector";const Pvt={fr:{translation:{nav:{home:"Accueil",discover:"Dcouvrir",events:"vnements",partnership:"Partenariat",profile:"Profil",wallet:"Portefeuille",create_event:"Crer un vnement",logout:"Dconnexion",notifications:"Notifications"},en:{translation:{nav:{home:"Home",discover:"Discover",events:"Events",partnership:"Partnership",profile:"Profile",wallet:"Wallet",create_event:"Create Event",logout:"Logout",notifications:"Notifications"}}},Theme:"Theme",Language:"Language",auth:{fetch_error:{title:"Erreur de Connexion",description:"Impossible de rcuprer les donnes. Veuillez vrifier votre connexion internet et rafrachir la page."},login:{meta_title:"Connexion",meta_description:"Connectez-vous  votre compte BonPlanInfos.",title:"Connexion",subtitle:"Connectez-vous pour continuer.",button:"Se connecter",switch_text:"Pas encore de compte ?",switch_button:"Se connecter ici",error_invalid_credentials:"Email ou mot de passe incorrect."},register:{meta_title:"Inscription",meta_description:"Crez un compte sur BonPlanInfos et commencez  dcouvrir les meilleurs plans.",title:"Connectez-vous ici",subtitle:"Crez votre compte.",button:"S'inscrire",country_city_required:"Veuillez slectionner un pays et une ville.",switch_text:"Dj un compte ?",switch_button:"S'inscrire ici",confirmation_email_title:"Vrifiez vos emails !",confirmation_email_description:"Nous vous avons envoy un email de confirmation. Veuillez consulter votre bote de rception et cliquer sur le lien pour activer votre compte.",terms_agreement:"J'accepte les <1>Conditions Gnrales d'Utilisation</1>",terms_required:"Vous devez accepter les conditions d'utilisation."},full_name:"Nom complet",country:"Pays",select_country_placeholder:"Slectionnez votre pays",city:"Ville",select_city_placeholder:"Slectionnez votre ville",choose_role:"Choisir un rle",choose_role_placeholder:"Choisissez votre rle",role_user:"Utilisateur( ne peut pas publier d'vnements )",role_organizer:"Organisateur( peut publier des vnements )",email:"Email",password:"Mot de passe",referral_code_optional:"Code de parrainage (Optionnel)"},home:"Accueil",events:"vnements",contests:"Concours",discover:"Dcouvrir",login:"Connexion",logout:"Dconnexion",profile:"Profil",wallet:"Portefeuille",settings:"Paramtres",home_page:{sponsored_events:"vnements Sponsoriss",boost_event:"Booster un vnement",explore_by_type:{title:"Explorer par Type d'vnement",subtitle:"Trouvez l'exprience qui vous convient."},event_types:{standard:"Standard",ticketing:"Billetterie",raffles:"Tombolas",voting:"Votes",stands:"Stands"},no_sponsored_events:{title:"Aucun vnement Sponsoris Actuellement",description:"Soyez le premier  promouvoir un vnement et  toucher un public plus large.",button:"Booster un vnement"},view_all_events:"Voir tous les vnements",loading_error:{title:"Erreur de Chargement des Donnes",description:"Nous n'avons pas pu charger les donnes ncessaires. Veuillez vrifier votre connexion et ressayer.",retry:"Ressayer"}},events_page:{title:"Explorer les vnements",subtitle:"Dcouvrez ce qui se passe prs de chez vous et au-del.",search_placeholder:"Rechercher par nom, ville, catgorie...",filters:"Filtres",quick_filters:{trending:"Tendances",popular_by_category:"Populaires par catgorie",free_weekend:"Gratuits ce week-end",ending_soon:"Bientt termins"},event_types:"Types d'vnement",categories:"Catgories",countries:"Pays",cities:"Villes",reset:"Rinitialiser",no_events_found:{title:"Aucun vnement trouv",description:"Essayez d'ajuster vos filtres de recherche ou d'largir votre zone de recherche.",reset_button:"Rinitialiser les filtres"},unlock_modal:{title:"Dbloquer cet vnement",description:'Pour voir les dtails de "{{title}}", un cot de {{cost}} (environ {{costFcfa}} FCFA) sera dduit de votre solde.',info:"Cette action est unique. Une fois dbloqu, vous aurez un accs permanent  cet vnement.",cancel:"Annuler",confirm:"Confirmer et Dbloquer",success_title:"Accs dbloqu!",success_desc:'Vous pouvez maintenant voir les dtails de "{{title}}".'},common:{whatsapp_community:"Rejoindre la communaut WhatsApp"}},profile_page:{helmet_title:"Profil de {{name}}",helmet_desc:"Grez votre profil, vos vnements et vos transactions sur BonPlanInfos.",unauthorized_title:"Accs Refus",unauthorized_desc:"Vous devez tre connect pour voir votre profil.",go_to_login:"Aller  la page de connexion",connection_failed_title:"chec de la Connexion",connection_failed_desc:"Nous n'avons pas pu charger votre profil. Veuillez ressayer de vous connecter.",loading_error_title:"Erreur de Chargement des Donnes",loading_error_desc:"Nous n'avons pas pu charger toutes les donnes de votre profil. Certaines informations peuvent tre manquantes."},wallet_page:{title:"Mon Portefeuille",total_balance:"Solde Total de Pices",free_coins:"Pices Gratuites",paid_coins:"Pices Achetes",available_earnings:"Gains Disponibles (Pices)",earnings_in_fcfa:" {{amount}} FCFA",buy_coins_title:"Acheter des pices",buy_coins_desc:"Rechargez votre solde pour ne rien manquer !",buy_coins_button:"Voir les packs",balance_details_title:"Dtails du Solde de Pices",free_coins_desc:"Les pices gratuites sont utilises en priorit pour les interactions. Les pices achetes sont utilises ensuite et une partie est reverse aux organisateurs.",withdrawal_title:"Retrait des Gains",withdrawal_desc:"Convertissez vos gains en argent rel.",request_withdrawal_button:"Demander un retrait",withdrawal_minimum:"Minimum pour un retrait : {{amount}} pices."},admin_dashboard:"Tableau de bord Admin",secretary_dashboard:"Tableau de bord Secrtaire",admin_dashboard:{unauthorized_title:"Accs non autoris",unauthorized_desc:"Vous n'avez pas les permissions ncessaires pour accder  cette page.",loading_error_title:"Erreur de chargement",super_admin_title:"Tableau de bord Super Administrateur",admin_title:"Tableau de bord Admin - {{country}}",secretary_title:"Tableau de bord Secrtaire",welcome:"Bienvenue, {{name}}",tabs:{analytics:"Analyses",users:"Utilisateurs",secretaries:"Secrtaires",config:"Configuration",videos:"Vidos",partners:"Partenaires",withdrawals:"Retraits",salary_withdrawals:"Retraits Salaires",withdrawal_history:"Historique Retraits",announcements:"Annonces",events:"vnements",promotions:"Promotions",popups:"Popups",credits:"Crdits",credit_management:"Gestion Crdits",reversed_credits:"Crdits Annuls",transactions:"Transactions",activity_log:"Activits",payments:"Paiements",locations:"Lieux",badges:"Badges",credit_stats:"Stats Crdits",salary:"Mon Salaire",credits_history:"Historique Crdits"},stats:{error_title:"Erreur de statistiques",revenue_title:"Chiffres affaires (Zone)"},license:{partner_error_title:"Erreur de chargement du partenaire",status_title:"Statut de la licence",status_active:"Active",status_expired:"Expire",activated_on:"Active le",expires_on:"Expire le",expired_since:"Expire depuis {{count}} jours",days_remaining:"jours restants",renew_button:"Demander le renouvellement",confirm_renewal_title:"Confirmer la demande de renouvellement ?",confirm_renewal_desc:"Une notification sera envoye au super administrateur pour examiner votre demande de renouvellement de licence.",renewal_sent_title:"Demande envoye",renewal_sent_desc:"Votre demande de renouvellement a t envoye avec succs.",renewal_error_desc:"Erreur lors de l'envoi de la demande de renouvellement : "},banner:{pending:"Votre compte admin est en attente de vrification. Certaines fonctionnalits peuvent tre limites.",suspended:"Votre compte admin a t suspendu. Veuillez contacter le support.",expired:"Votre licence a expir. Veuillez la renouveler pour restaurer l'accs complet."},salary_dashboard:{title:"Tableau de Bord de Salaire",current_month_revenue:"Revenu de la zone (Mois en cours)",personal_score:"Score Personnel",projected_salary:"Salaire Projet (Mois en cours)",request_withdrawal:"Demander un Retrait",history_title:"Historique des Salaires",month:"Mois",revenue:"Revenu Zone",license_rate:"Taux Licence",score:"Score",salary:"Salaire Final",status:"Statut",paid:"Pay",unpaid:"Non Pay"},withdrawal_form:{title:"Demande de Retrait de Salaire",description:"Soumettez une demande pour retirer votre salaire disponible.",available_salary:"Salaire disponible pour le retrait",amount_to_withdraw:"Montant",withdrawal_method:"Mthode",select_method:"Slectionner une mthode",bank_name:"Nom de la banque",account_holder:"Titulaire du compte",account_number:"Numro de compte",mobile_money_operator:"Oprateur",phone_number:"Numro de tlphone",reason:"Raison (Optionnel)",submit:"Soumettre la demande"}},secretary_dashboard:{title:"Tableau de bord Secrtaire",welcome:"Bienvenue, {{name}}",competence_zone:"Zone de comptence : {{country}}",tabs:{user_management:"Gestion Utilisateurs",event_management:"Gestion vnements",location_management:"Gestion Lieux",credit_management:"Gestion Crdits",reversed_credits:"Crdits Annuls",withdrawal_management:"Gestion Retraits",withdrawal_history:"Historique Retraits",event_moderation:"Modration vnements & Lieux"},credit_form:{title:"Crditer un utilisateur",search_user_label:"Rechercher un utilisateur",search_user_placeholder:"Nom ou email...",user_label:"Utilisateur",select_user_placeholder:"Slectionner un utilisateur",amount_label:"Montant (pices)",amount_placeholder:"ex: 100",reason_label:"Raison (optionnel)",reason_placeholder:"ex: Rcompense",submit_button:"Crditer l'utilisateur"},event_moderation:{title:"Modration des vnements",zone_country:"Zone: {{country}}",filter_all:"Tous",filter_active:"Actifs",filter_inactive:"Inactifs",credit_participants_button:"Crditer Participants",confirm_delete_title:"tes-vous sr ?",confirm_delete_desc:"Cette action est irrversible. L'vnement et toutes ses donnes associes (tickets, votes, etc.) seront dfinitivement supprims.",event_deleted_success:"vnement supprim avec succs.",event_deleted_error:"Impossible de supprimer l'vnement.",status_updated_success:"Statut de l'vnement mis  jour.",status_updated_error:"Impossible de mettre  jour le statut.",credit_user_for_event_title:"Crditer pour l'vnement : {{eventName}}",credit_user_for_event_desc:"Slectionnez un utilisateur de votre zone pour lui attribuer des pices pour sa participation.",user_search_placeholder:"Rechercher par nom ou email...",credit_amount_label:"Montant (pices)",credit_reason_label:"Raison du crdit",credit_reason_placeholder:"Participation  l'vnement : {{eventName}}",no_users_found:"Aucun utilisateur trouv dans votre zone.",credit_success_message:"{{userName}} a t crdit de {{amount}} pices.",credit_error_generic:"Une erreur est survenue lors du crdit."}},confirm_logout:"Voulez-vous vraiment vous dconnecter ?",cancel:"Annuler",confirm:"Confirmer",back_home:"Retour  l'accueil",not_found_title:"Page non trouve",not_found_message:"Dsol, la page que vous recherchez n'existe pas.",email_label:"Adresse e-mail",password_label:"Mot de passe",full_name_label:"Nom complet",phone_label:"Numro de tlphone",username_label:"Nom d'utilisateur",country_label:"Pays",city_label:"Ville",referral_code_label:"Code de parrainage (facultatif)",login_tab:"Se connecter",register_tab:"S'inscrire",login_magic_link_tab:"Lien magique",send_magic_link:"Envoyer le lien magique",or_continue_with:"Ou continuer avec",forgot_password:"Mot de passe oubli ?",landing:{title:"Votre Portail pour les Meilleurs Plans",subtitle:"Dcouvrez, participez et organisez des vnements, concours, et plus encore. Le tout, en un seul endroit.",search_placeholder:"Recherchez un vnement, un lieu...",search_button:"Rechercher",create_event_button:"Crer un vnement",discover_events_button:"Dcouvrir les vnements",featured_title:"vnements  ne pas manquer",featured_subtitle:"Participez aux vnements les plus populaires et vivez des moments inoubliables.",categories_title:"Explorez par Catgories",categories_subtitle:"Trouvez des vnements qui correspondent  vos centres d'intrt.",how_it_works_title:"Comment a marche ?",how_it_works_step1_title:"Dcouvrez",how_it_works_step1_desc:"Explorez une multitude d'vnements, de concours et de lieux.",how_it_works_step2_title:"Participez",how_it_works_step2_desc:"Achetez des billets, votez pour vos candidats favoris, et bien plus.",how_it_works_step3_title:"Gagnez & Profitez",how_it_works_step3_desc:"Gagnez des rcompenses, remportez des concours et vivez des expriences uniques.",how_it_works_step4_title:"Organisez",how_it_works_step4_desc:"Crez et grez vos propres vnements en toute simplicit.",cta_title:"Prt  commencer l'aventure ?",cta_subtitle:"Rejoignez notre communaut ds aujourd'hui et ne manquez plus aucun bon plan.",cta_button:"Inscrivez-vous Gratuitement"},footer:{home:"Accueil",about:" propos",partnership:"Partenariat",sponsors:"Sponsors",privacy:"Politique de confidentialit",terms:"Conditions d'utilisation",contact:"Contact",tagline:"Votre guide ultime pour les meilleurs vnements et divertissements.",platform:"Plateforme",company:"Entreprise",legal:"Lgal",how_it_works:"Comment a marche ?",help:"Centre d'aide",faq:"FAQ",data_protection:"Protection des donnes",legal_mentions:"Mentions lgales",message:"Nous utilisons des cookies pour amliorer votre exprience. En continuant  visiter ce site, vous acceptez notre utilisation des cookies. ",learn_more:"Politique de Confidentialit",reject:"Rejeter",accept:"Accepter"},data_protection:{meta_title:"Protection des Donnes Personnelles",meta_description:"Politique de protection des donnes personnelles de BonPlanInfos. Conforme aux rglementations africaines sur la protection des donnes.",title:"Protection des Donnes Personnelles",subtitle:"Notre engagement pour la protection de vos donnes en Afrique",africa_compliance:"Nos pratiques de protection des donnes respectent les rglementations nationales dans tous les pays d'opration en Afrique de l'Ouest (Cte d'Ivoire, Burkina Faso, Sngal, Mali, Bnin, Ghana, Nigeria), Afrique Centrale (Cameroun, Gabon), Afrique du Nord (Tunisie, Maroc) et Afrique Australe (Afrique du Sud), en suivant  la fois les lois locales et les standards de l'Union Africaine.",contact_title:"Contact Dlgu  la Protection des Donnes",commitment:{title:"Notre Engagement",content:"BonPlanInfos s'engage  protger vos donnes personnelles conformment aux lois africaines sur la protection des donnes. Nous mettons en uvre des mesures techniques et organisationnelles robustes pour assurer la scurit et la confidentialit de vos informations."},dpo:{title:"Dlgu  la Protection des Donnes",content:"Notre Dlgu  la Protection des Donnes (DPD) veille au respect des obligations lgales et rglementaires concernant la protection des donnes personnelles dans tous les pays africains o nous oprons."},data_collected:{title:"Donnes Collectes",content:"Nous collectons uniquement les donnes ncessaires au bon fonctionnement de nos services vnementiels :",list:["Informations de profil : nom, prnom, email, tlphone","Donnes de transaction : historiques d'achats de billets","Donnes d'utilisation : prfrences vnementielles, interactions avec la plateforme","Donnes techniques : adresse IP, type d'appareil, cookies essentiels","Donnes de localisation : pays et ville pour personnaliser les vnements"]},usage:{title:"Utilisation des Donnes",content:"Vos donnes sont utilises dans le strict respect des finalits suivantes :",list:["Gestion des inscriptions et participations aux vnements","Traitement scuris des paiements de billets","Envoi de confirmations et informations vnementielles","Amlioration de l'exprience utilisateur sur notre plateforme","Conformit avec les obligations lgales africaines","Personnalisation des recommandations d'vnements par pays"]},sharing:{title:"Partage des Donnes",content:"Nous ne partageons vos donnes qu'avec :",list:["Prestataires de paiement certifis (MoneyFusion, PayPal, Mobile Money, Orange Money, MTN Mobile Money, Moov Money, Wave, etc.)","Organisateurs d'vnements (uniquement les donnes ncessaires  la gestion de leur vnement)","Autorits lgales (sur demande formelle conforme aux lois locales)","Partenaires techniques sous contrat de confidentialit strict"]},security:{title:"Scurit des Donnes",content:"Nous mettons en uvre des mesures de scurit avances conformes aux standards africains :",list:["Chiffrement SSL/TLS pour toutes les transmissions de donnes","Stockage scuris avec prfrence pour les serveurs localiss en Afrique","Contrles d'accs stricts et authentification multi-facteurs","Audits rguliers de scurit conformes aux lois locales","Sauvegardes cryptes et plans de reprise d'activit"]},retention:{title:"Conservation des Donnes",content:"Vos donnes sont conserves pour des dures limites conformment aux lois de chaque pays :",list:["Donnes de compte : 3 ans aprs dernire activit","Donnes transactionnelles : 5  10 ans selon les obligations lgales locales","Donnes de navigation : 13 mois maximum","Donnes des vnements : 2 ans aprs la fin de l'vnement","Donnes marketing : 3 ans aprs dernier contact"]},hosting:{title:"Hbergement des Donnes",content:"Vos donnes sont principalement hberges sur des serveurs scuriss. Nous privilgions les solutions d'hbergement en Afrique lorsque cela est possible, tout en garantissant la mme qualit de service et de scurit. Nos infrastructures respectent les exigences de souverainet numrique des pays o nous oprons."},deletion:{title:"Droit  l'Effacement",content:"Conformment aux lois africaines sur la protection des donnes, vous avez le droit de demander la suppression de vos donnes personnelles. Contactez notre DPD  support@bonplaninfos.net pour toute demande d'effacement. Nous nous engageons  rpondre dans les dlais lgaux de chaque pays."},last_updated:"Dernire mise  jour : Novembre 2024"},marketing:{meta_title:"Montisez Vos vnements - Gnrez des Revenus  Chaque Interaction",meta_description:"Crez des vnements et gagnez de l'argent avec chaque vue, like et partage. Rejoignez les milliers d'organisateurs qui gnrent dj des revenus sur notre plateforme.",badge:"NOUVEAU",title:"Transformez Vos vnements en Sources de Revenus",subtitle:"Chaque interaction sur vos vnements gnre des revenus. Crez, partagez et gagnez de l'argent avec notre plateforme de montisation innovante.",createEventCta:"Crer Mon vnement",becomePartnerCta:"Devenir Partenaire",trust:"Fiable pour des milliers d'organisateurs  travers l'Afrique",why:{title:"Pourquoi Choisir Notre Plateforme ?",subtitle:"Dcouvrez les avantages uniques qui font de nous le choix prfr des organisateurs d'vnements",feature1:"Revenus Maximaux",feature1_desc:"Gardez 95% de vos revenus avec seulement 5% de frais de plateforme",feature2:"Montisation Instantane",feature2_desc:"Commencez  gagner ds la premire vue, like et partage sur vos vnements",feature3:"Outils de Croissance",feature3_desc:"Des outils avancs de boost et de promotion pour maximiser votre audience",feature4:"Analyses en Temps Rel",feature4_desc:"Suivez vos revenus et l'engagement de votre audience en temps rel",feature5:"Paiements Scuriss",feature5_desc:"Scurit bancaire pour toutes vos transactions et revenus",feature6:"Support 24/7",feature6_desc:"quipe de support ddie pour vous aider  russir"},simulation:{title:"Calculez Votre Revenu Potentiel",subtitle:"Simulez combien vous pouvez gagner avec vos vnements",event_type:"Type d'vnement",ticket_price:"Prix du Billet",number_of_tickets:"Nombre de Billets",potential_revenue:"Revenu Potentiel",platform_fee:"Frais Plateforme (5%)",your_net_earning:"Votre Gain Net",cta:"Commencez  Gagner Maintenant",note:"Simulation base sur les taux actuels. Les rsultats rels peuvent varier.",number_of_interactions:"Nombre d'Interactions",interaction_revenue:"Revenu des Interactions",minimum_withdrawal:"Minimum 50 interactions requis pour le retrait (500 FCFA)"},testimonials:{title:"Tmoignages de Russite",bintou_diallo_name:"Bintou Diallo",bintou_diallo_role:"Organisatrice d'vnements, Mali",dj_kerozen_quote:"En seulement 3 mois, j'ai gagn plus de 500 000 FCFA avec mes vnements. La plateforme transforme vraiment les passions en revenus !",kwesi_mensah_name:"Kwesi Mensah",kwesi_mensah_role:"Entrepreneur Culturel, Ghana",fatou_sylla_quote:"La simulation de revenus m'a aid  comprendre mon potentiel. Je gagne maintenant un revenu mensuel stable grce  mes vnements culturels.",aisha_traore_name:"Aisha Traor",aisha_traore_role:"Organisatrice de Festival Musical, Cte d'Ivoire",eric_b_quote:"95% de rtention de revenus est incroyable ! Mon dernier festival a gnr 2,5 millions de FCFA en gains nets.",amadou_ba_name:"Amadou Ba",amadou_ba_role:"Fondateur de Startup, Sngal",amadou_ba_quote:"En tant que partenaire, j'ai construit une entreprise durable reprsentant la plateforme dans ma rgion. Une opportunit qui change la vie !",chimamanda_ngozi_name:"Chimamanda Ngozi",chimamanda_ngozi_role:"Commissaire d'Exposition d'Art, Nigeria",chimamanda_ngozi_quote:"La montisation base sur l'engagement est rvolutionnaire. Mme les petits vnements gnrent des revenus significatifs.",didier_kouame_name:"Didier Kouam",didier_kouame_role:"Gestionnaire d'vnements Sportifs, Cameroun",didier_kouame_quote:"Des tournois locaux aux comptitions majeures, la plateforme s'adapte  vos ambitions. Hautement recommand !",mariam_kone_name:"Mariam Kon",mariam_kone_role:"Community Manager, Burkina Faso",mariam_kone_quote:"Les analyses m'ont aid  comprendre quel contenu fonctionne le mieux. Mes revenus ont augment de 300% en 6 mois.",femi_adebayo_name:"Femi Adebayo",femi_adebayo_role:"Promoteur de Spectacles, Nigeria",femi_adebayo_quote:"Multiples sources de revenus : ventes de billets, interactions et partenariats. Cette plateforme a tout !",abena_asante_name:"Abena Asante",abena_asante_role:"Hte d'Ateliers ducatifs, Ghana",abena_asante_quote:"Mes ateliers atteignent maintenant des audiences dans toute l'Afrique de l'Ouest. La porte de la plateforme est phnomnale.",yannick_zongo_name:"Yannick Zongo",yannick_zongo_role:"Consultant en Affaires, RDC",yannick_zongo_quote:"Le programme partenaire m'a permis de construire un empire rgional. La meilleure dcision commerciale que j'ai jamais prise."},cta:{title:"Prt  Transformer Vos vnements en Revenus ?",subtitle:"Rejoignez les milliers d'organisateurs qui russissent et commencez  montiser votre passion ds aujourd'hui",cta:"Devenir Partenaire Maintenant"}},wallet_info_modal:{title:" quoi servent les pices () ?",intro:"Les pices sont la monnaie virtuelle de BonPlanInfos. Elles vous permettent d'accder  des contenus exclusifs et d'interagir avec les vnements.",free_coins_title:"Pices Gratuites ()",free_coins_desc:"Vous les gagnez en regardant des vidos publicitaires ou lors de promotions. Elles vous permettent de raliser des actions de base.",paid_coins_title:"Pices Achetes ()",paid_coins_desc:"Achetes avec de l'argent rel, elles dbloquent toutes les fonctionnalits et soutiennent directement les organisateurs.",usage_title:"Comment les utiliser ?",usage_item1:"Accder  des vnements protgs.",usage_item2:"Liker, commenter, tlcharger du contenu exclusif.",usage_item3:"Participer  des votes, tombolas et bien plus.",cta_button:"Acheter des pices",usage_priority:"Les pices gratuites sont toujours utilises en premier pour vos actions !"},events_title:"vnements  la Une",all_events_button:"Tous les vnements",promoted_events:"vnements Sponsoriss",popular_contests:"Concours Populaires",see_all_contests:"Voir tous les concours",event_card:{days_remaining:"{{count}} jour restant",days_remaining_plural:"{{count}} jours restants",event_ended:"Termin",event_starting_today:"Commence aujourd'hui",starting_from:" partir de"},filters:{all:"Tout",promoted:"Boosts",live:"En direct",today:"Aujourd'hui",this_week:"Cette semaine",free:"Gratuits"},event_detail:{by_organizer:"Par",share:"Partager",location:"Lieu",date_time:"Date et Heure",get_directions:"Obtenir l'itinraire",about_event:" propos de l'vnement",tags:"Tags",unlock_event_to_see_content:"Dbloquez cet vnement pour voir le contenu exclusif !",unlock_button:"Dbloquer pour {{price}}",unlocking:"Dblocage...",free_access:"Accs gratuit",owner_access:"Accs propritaire",comments:"Commentaires",leave_comment:"Laissez un commentaire...",submit_comment:"Envoyer",comment_cost:"Commenter pour {{price}}",ticketing:"Billetterie",voting:"Vote",raffle:"Tombola",stands:"Stands"},social_interactions:{like:"J'aime",comment:"Commenter",share:"Partager",download:"Tlcharger",cost:"{{price}}",comment_placeholder:"Ajouter un commentaire...",post_comment:"Publier"},toasts:{copied_to_clipboard:"Copi dans le presse-papiers !",feature_not_implemented:" Cette fonctionnalit n'est pas encore implmentemais ne vous inquitez pas ! Vous pouvez la demander dans votre prochain prompt ! "},partner_signup:{meta_title:"Devenir Partenaire - BonPlanInfos",meta_description:"Devenez partenaire officiel BonPlanInfos et gnrez des revenus mensuels stables. Programme de partenariat avec licences avantageuses.",unauthorized_title:"Accs non autoris",unauthorized_desc:"Vous devez tre connect pour accder  la page partenaire.",unauthorized_cta:"Se connecter",loading_licenses:"Chargement des licences...",error_loading_licenses:"Erreur lors du chargement des licences",your_licenses_title:"Vos Licences Actives",available_licenses_title:"Licences Disponibles",available_licenses_subtitle:"Choisissez la licence qui correspond  vos ambitions et commencez  gnrer des revenus",license_card:{active:"Active",expired:"Expire",revenue_share:"Part de revenus : {{percent}}%",purchased_on:"Achete le",expires_on:"Expire le",days_remaining:"{{count}} jour(s) restant(s)"},per_month:"/mois",revenue_label:"Part des revenus",duration_label:"{{months}} mois ({{days}} jours)",purchase_cta:"Acheter maintenant",error_toast:{title:"Erreur",login_required:"Vous devez tre connect pour acheter une licence",purchase_failed:"Erreur lors de l'achat de la licence"}},license_features:{feature1:"Zone maximale",feature2:"Dashboard avanc",feature3:"Support 24/7",feature4:"Formation avance",feature5:"Accs early",feature6:"Gestion de zone",feature7:"Rapports mensuels",feature8:"Support basic",feature9:"Zone tendue",feature10:"Analyses dtailles",feature11:"Support prioritaire",feature12:"Formation",revenue_description_40:"40% de gain sur chiffre d'affaires de sa zone",revenue_description_20:"20% de gain sur chiffre d'affaires de sa zone"},create_event_page:{meta:{title:"Crer un vnement - Choisir le Type",description:"Choisissez le type d'vnement que vous souhaitez crer sur BonPlanInfos"},title:"Crer un vnement",subtitle:"Choisissez le type d'vnement que vous souhaitez crer",types:{simple:{title:"vnement Simple",desc:"vnement basique avec informations gnrales"},ticketing:{title:"Billetterie",desc:"Vendez des billets pour votre vnement"},voting:{title:"Vote & Concours",desc:"Crez un concours avec systme de vote"},raffle:{title:"Tirage au Sort",desc:"Organisez un tirage au sort avec lots"},stand:{title:"Location de Stands",desc:"Louez des stands pour un salon ou foire"}},help:{title:"Besoin d'aide ?",description:"Consultez notre guide pour apprendre  crer et grer vos vnements efficacement",button:"Voir le Guide d'Utilisation"}},user_guide_page:{meta:{title:"BonPlanInfos - Plateforme vnementielle 100% Africaine",description:"Crez, grez et montisez vos vnements avec BonPlanInfos. La plateforme africaine qui vous reverse 95% de vos revenus."},hero:{title:"BonPlanInfos",subtitle:"Votre Succs vnementiel",description:"La plateforme africaine qui vous reverse <strong>95% de vos revenus</strong>",coin_info:"1 pice = 10F  1 interaction = 1 pice",create_event:"Crer un vnement",become_partner:"Devenir Partenaire",features:{revenue:"95% des revenus reverss",coin:"1 pice = 10F CFA",support:"Support 24/7"}},features:{title:"Nos Solutions vnementielles",subtitle:"Des outils puissants pour maximiser vos revenus et votre visibilit",ticketing:{title:"Billetterie Intelligente",description:"Vendez des billets pour vos concerts et vnements. Fixez vos prix et recevez 95% des revenus directement",stats:"95% de revenus reverss"},voting:{title:"Concours & Votes",description:"Organisez des concours interactifs avec systme de vote. Montisez chaque participation",stats:"95% sur chaque participation"},raffle:{title:"Tirage au Sort",description:"Crez des tirages au sort avec lots attractifs. Participation payante ou gratuite selon votre choix",stats:"Gestion automatique avec 95% sur chaque participation"},stand_rental:{title:"Location de Stands",description:"Louez des stands pour salons et foires. Grez les rservations et paiements en ligne",stats:"95% du prix de location vous tes reverss"},protected_events:{title:"vnements Protgs",description:"Contenu exclusif montis. Gagnez 1 pice par interaction (vue, like, commentaire, partage)",stats:"+1 pice par interaction"},boost:{title:"Boost Instantan",description:"Augmentez la visibilit de vos vnements. Atteignez plus de participants en temps rel en boostant vos vnements sur bonplaninfos.",stats:"Porte multiplie"}},simulation:{title:"Simulation vnement Protg",subtitle:"Dcouvrez comment montiser chaque interaction sur vos vnements",main_title:" 1 Interaction = 1 Pice = 10F CFA",description:"Chaque vue, like, commentaire ou partage vous rapporte de l'argent",views:"Vues",likes:"Likes",comments:"Commentaires",shares:"Partages",total:"Total: {{amount}} F CFA",revenue_description:"Revenus gnrs par un vnement avec {{count}} interactions"},stats:{revenue:"Revenus reverss aux organisateurs",coin_cost:"Cot d'1 pice",coin_earned:"Pice gagne par interaction",no_fees:"Frais d'inscription"},partner_program:{title:"Programme Partenaire",subtitle:"Reprsentez BonPlanInfos dans votre rgion et gnrez des revenus mensuels",advantages:"Avantages Partenaire",benefits:{revenue:"Revenus mensuels garantis",training:"Formation complte offerte",support:"Support prioritaire 24/7",network:"Rseau de partenaires exclusif"},become_partner:"Devenez Partenaire",partner_description:"Reprsentez BonPlanInfos dans votre ville",apply_now:"Postuler Maintenant"},testimonials:{title:"Ils nous font confiance",subtitle:"Dcouvrez les retours d'exprience de nos utilisateurs satisfaits",play:"Lecture",pause:"Pause",previous:"Prcdent",next:"Suivant",counter:"{{current}} / {{total}}",testimonial1:{name:"Marie K.",role:"Organisatrice de concerts",content:"Avec BonPlanInfos, mes vnements protgs gnrent un revenu passif impressionnant. 1000 vues = 10,000F !"},testimonial2:{name:"Jean A.",role:"Manager d'artistes",content:"La billetterie est rvolutionnaire. 95% des revenus me reviennent directement, sans intermdiaire."},testimonial3:{name:"Sophie T.",role:"Partenaire officielle",content:"Devenir partenaire m'a permis de gnrer un revenu mensuel stable tout en dveloppant mon rseau."},testimonial4:{name:"Paul D.",role:"Promoteur vnementiel",content:"Le systme de concours a boost l'engagement de ma communaut. Les revenus ont augment de 300% !"},testimonial5:{name:"Fatou M.",role:"Artiste musicienne",content:"En tant qu'artiste, BonPlanInfos m'a donn une autonomie financire grce aux vnements protgs."},testimonial6:{name:"Kevin L.",role:"Organisateur de festivals",content:"La location de stands via la plateforme a simplifi toute la logistique de mon festival."},testimonial7:{name:"Acha B.",role:"Influenceuse lifestyle",content:"Mes tirages au sort gnrent un engagement incroyable. Ma communaut adore participer !"},testimonial8:{name:"Marc T.",role:"Entrepreneur vnementiel",content:"Le programme partenaire m'a ouvert des opportunits que je n'aurais jamais imagines."},testimonial9:{name:"Julie N.",role:"Photographe vnements",content:"Je montise maintenant mes reportages photos grce aux vnements protgs. Gnial !"},testimonial10:{name:"David K.",role:"DJ & Producteur",content:"Mes lives protgs me rapportent plus que mes anciennes plateformes. Je recommande  100% !"},testimonial11:{name:"Sarah J.",role:"Organisatrice mariages",content:"BonPlanInfos a rvolutionn ma faon de travailler. Les clients adorent le systme de billetterie."},testimonial12:{name:"Mohamed C.",role:"Community Manager",content:"Je gre plusieurs artistes sur la plateforme. L'interface est intuitive et les revenus transparents."},testimonial13:{name:"Laura P.",role:"Cratrice de contenu",content:"Mes ateliers en ligne sont maintenant protgs et gnrent des revenus stables chaque mois."},testimonial14:{name:"Pierre G.",role:"Organisateur sportif",content:"Pour nos tournois, le systme de votes et concours a multipli par 5 notre audience."},testimonial15:{name:"Nadia S.",role:"Agence vnementielle",content:"Nous utilisons BonPlanInfos pour tous nos clients. La satisfaction est toujours au rendez-vous !"}},cta:{title:"Prt  rvolutionner vos vnements ?",description:"Rejoignez la communaut BonPlanInfos et commencez  gnrer des revenus ds aujourd'hui",create_event:"Crer mon premier vnement",become_partner:"Devenir Partenaire"},footer:{description:"La plateforme vnementielle africaine qui vous reverse 95% de vos revenus.",navigation:"Navigation",home:"Accueil",events:"vnements",create_event:"Crer un vnement",become_partner:"Devenir partenaire",contact:"Contact",information:"Informations",copyright:"2025 BonPlanInfos. Tous droits rservs."}},admin:{tabs:{analytics:"Analyses",users:"Utilisateurs",partners:"Partenaires",events:"vnements",locations:"Lieux",promotions:"Promotions",credits:"Crdits",config:"Configuration",withdrawals:"Retraits",videos:"Vidos",announcements:"Annonces",welcome_popup:"Popup Accueil"}},discover_places:"Dcouvrir des lieux",discover_more_places:"Dcouvrir plus de lieux",discover_page:{title:"Dcouvrir des Lieux",subtitle:"Trouvez de nouveaux lieux recommands par la communaut.",search_placeholder:"Rechercher un lieu, une catgorie, une ville...",filter_by_type:"Filtrer par type",no_locations_found:"Aucun lieu trouv.",no_locations_description:"Essayez d'largir votre recherche ou de slectionner moins de filtres.",add_new_location:"Ajouter un nouveau lieu",add_place:"Ajouter un Lieu"},add_location:{title:"Ajouter un nouveau lieu",subtitle:"Partagez un super endroit avec la communaut.",location_name:"Nom du lieu",location_description:"Description",location_type:"Type de lieu",address:"Adresse",city:"Ville",country:"Pays",website:"Site web (facultatif)",phone:"Tlphone (facultatif)",submit:"Soumettre le lieu",success_title:"Lieu soumis !",success_message:"Merci ! Votre lieu a t soumis et sera examin par notre quipe."},verify_ticket:{title:"Vrification de Billet",scan_instruction:"Scannez le code QR du billet ou entrez le code du scanner.",scanner_code_label:"Code du Scanner",start_session:"Dmarrer la session",stop_session:"Arrter la session",scan_ticket:"Scanner un Billet",camera_permission_denied:"Permission de la camra refuse.",camera_error:"Erreur de camra :",scan_result:"Rsultat du scan",scan_again:"Scanner  nouveau",valid_ticket:"Billet Valide",invalid_ticket:"Billet Invalide",ticket_number:"Numro de billet:",ticket_type:"Type de billet:",attendee_name:"Nom du participant:",event_title:"Titre de l'vnement:",scan_time:"Heure de scan:",error:"Erreur",session_active:"Session de vrification active",session_stopped:"Session de vrification arrte",verifying_ticket:"Vrification du billet...",enter_scanner_code:"Veuillez entrer un code de scanner valide."},create_event:{title:"Crer un vnement",subtitle:"Choisissez le type d'vnement que vous souhaitez organiser.",simple:"Simple",simple_desc:"Publiez rapidement un vnement informatif (gratuit ou payant  l'entre).",ticketing:"Billetterie",ticketing_desc:"Vendez des billets avec diffrents tarifs et options.",voting:"Concours de Vote",voting_desc:"Organisez un concours o les participants votent pour des candidats.",raffle:"Tombola",raffle_desc:"Crez une tombola avec des tickets et des prix  gagner.",stands:"Location de Stands",stands_desc:"Grez la location de stands pour un salon ou un march."},create_ticketing_event:{title:"Crer un vnement avec Billetterie",event_details:"Dtails de l'vnement",event_title:"Titre de l'vnement",event_description:"Description",event_cover_image:"Image de couverture",upload_image:"Tlcharger une image",event_date:"Date de l'vnement",category:"Catgorie",select_category:"Slectionner une catgorie",location:"Lieu",address:"Adresse",city:"Ville",country:"Pays",ticket_types:"Types de Billets",add_ticket_type:"Ajouter un type de billet",ticket_name:"Nom du billet (ex: Standard, VIP)",ticket_price_fcfa:"Prix (FCFA)",ticket_quantity:"Quantit disponible",ticket_benefits:"Avantages (spars par des virgules)",remove:"Supprimer",verification_options:"Options de Vrification",enable_verification:"Activer la vrification des billets par QR code",submit:"Crer l'vnement",event_created_success:"vnement cr avec succs !",editing_event:"Modification de l'vnement"},ticketing_interface:{select_ticket_type:"Slectionnez vos billets",total_cost:"Cot Total :",buy_tickets:"Acheter des Billets",sold_out:"puis",sales_ended:"Ventes termines",available:"disponibles",benefits:"Avantages :"},select_country:"Slectionner un pays",select_city:"Slectionner une ville",choose_file:"Choisir un fichier",no_file_chosen:"Aucun fichier choisi",common:{error_title:"Erreur",confirm:"Confirmer",cancel:"Annuler",delete:"Supprimer",close:"Fermer",save:"Sauvegarder",edit:"Modifier",loading:"Chargement...",success_title:"Succs",search:"Rechercher...",activate:"Activer",deactivate:"Dsactiver",credit:"Crditer",retry:"Ressayer"},privacy:{meta_title:"Politique de Confidentialit",meta_description:"Consultez notre politique de confidentialit pour comprendre comment nous collectons, utilisons et protgeons vos donnes personnelles.",title:"Politique de Confidentialit",last_updated:"Dernire mise  jour : 02 Novembre 2025",introduction:{title:"1. Introduction",p1:"Cette politique de confidentialit explique comment BonPlanInfos collecte, utilise et protge vos informations personnelles lorsque vous utilisez notre plateforme."},data_collected:{title:"2. Donnes que nous collectons",p1:"Nous collectons diverses informations pour fournir et amliorer nos services :",item1:"<b>Informations de compte :</b> Nom, adresse e-mail, pays, ville, type de compte.",item2:"<b>Donnes d'utilisation :</b> Pages visites, interactions avec les vnements, recherches effectues.",item3:"<b>Contenu gnr par l'utilisateur :</b> vnements crs, commentaires, photos.",item4:"<b>Donnes de transaction :</b> Historique des achats de pices et des retraits de gains."},data_usage:{title:"3. Comment nous utilisons vos donnes",p1:"Vos donnes sont utilises pour :",item1:"Fournir, maintenir et amliorer la plateforme.",item2:"Personnaliser votre exprience en vous recommandant des vnements pertinents.",item3:"Traiter les transactions et les paiements.",item4:"Communiquer avec vous concernant votre compte ou nos services."},cookies:{title:"4. Cookies",p1:"Nous utilisons des cookies pour assurer le bon fonctionnement du site, analyser notre trafic et personnaliser le contenu. Vous pouvez grer vos prfrences de cookies  tout moment."},data_sharing:{title:"5. Partage des donnes",p1:"Nous ne partageons pas vos informations personnelles avec des tiers, sauf si cela est ncessaire pour fournir le service (par exemple, avec les processeurs de paiement) ou si la loi l'exige."},security:{title:"6. Scurit",p1:"Nous mettons en uvre des mesures de scurit techniques et organisationnelles pour protger vos donnes contre l'accs non autoris, la perte ou la destruction."},your_rights:{title:"7. Vos droits",p1:"Conformment  la rglementation, vous disposez des droits suivants :",item1:"<b>Droit d'accs :</b> Vous pouvez demander une copie des donnes que nous dtenons sur vous.",item2:"<b>Droit de rectification :</b> Vous pouvez corriger toute information inexacte.",item3:"<b>Droit  l'effacement :</b> Vous pouvez demander la suppression de votre compte et de vos donnes.",p2:"Pour exercer ces droits, veuillez nous contacter  l'adresse ci-dessous."},contact:{title:"8. Contact",p1:"Pour toute question relative  cette politique de confidentialit, veuillez nous contacter  :",email:"privacy@bonplaninfos.net"}},legal_mentions:{meta_title:"Mentions Lgales",meta_description:"Consultez les mentions lgales de BonPlanInfos pour obtenir des informations sur l'diteur du site, l'hbergement et nos obligations lgales.",title:"Mentions Lgales",subtitle:"Informations lgales concernant la plateforme BonPlanInfos.",lastUpdate:"Dernire mise  jour : 02 Novembre 2025",sections:{editor:{title:"diteur du Site",content:"Le site BonPlanInfos est dit par :",company:"BON PLAN INFOS (BPI)",capital:"Socit par actions simplifie (SAS) au capital de 1.000.000 a 5.000.000 FCFA",address:"Sige social : Abidjan, Cte d'Ivoire, Ouagadougou, Burkina Faso",phone:"Tlphone : (+225) 07 12 27 53 74",email:"contact@bonplaninfos.net"},director:{title:"Directeur de la Publication",content:"Le directeur de la publication est Monsieur S.Rayane KIBORA, en sa qualit de Prsident de BON PLAN INFOS (BPI)."},hosting:{title:"Hbergement",content:"La plateforme est hberge par :",company:"Hostinger International Ltd.",address:"61 Lordou Vironos Street, 6023 Larnaca, Chypre",website:"www.hostinger.fr"},data:{title:"Protection des Donnes Personnelles",content1:"Conformment  la lgislation en vigueur sur la protection des donnes, vous disposez d'un droit d'accs, de rectification, de suppression et d'opposition de vos donnes personnelles. Pour exercer ce droit, veuillez contacter notre Dlgu  la Protection des Donnes (DPO)  l'adresse : ",content2:"Pour plus d'informations, veuillez consulter notre <1>Politique de Confidentialit</1>."},cookies:{title:"Cookies",content1:"Le site utilise des cookies pour amliorer l'exprience utilisateur. Ces cookies sont utiliss pour :",item1:"Assurer le bon fonctionnement du site (cookies de session).",item2:"Analyser l'audience et la performance (cookies analytiques).",item3:"Proposer des publicits personnalises (cookies marketing).",content2:"Vous pouvez configurer vos prfrences en matire de cookies via notre bannire de consentement."},ip:{title:"Proprit Intellectuelle",content:"L'ensemble des contenus de ce site (textes, images, vidos, logos, code source) est la proprit exclusive de BON PLAN INFOS (BPI) ou de ses partenaires. Toute reproduction, mme partielle, est strictement interdite sans autorisation pralable."},liability:{title:"Limitation de Responsabilit",content:"BonPlanInfos s'efforce de fournir des informations exactes et  jour, mais ne peut garantir l'exactitude de toutes les informations. L'utilisation des informations et contenus disponibles sur l'ensemble du site, ne sauraient en aucun cas engager la responsabilit de l'diteur,  quelque titre que ce soit."},links:{title:"Liens Hypertextes",content:"La plateforme peut contenir des liens hypertextes vers d'autres sites. BonPlanInfos n'est pas responsable du contenu de ces sites tiers et ne saurait tre tenu responsable des dommages rsultant de leur consultation."},applicableLaw:{title:"Droit Applicable",content:"Les prsentes mentions lgales sont soumises au droit ivoirien. En cas de litige, les tribunaux d'Abidjan seront seuls comptents."}}}}},en:{translation:{nav:{home:"Home",discover:"Discover",events:"Events",partnership:"Partnership",profile:"Profile",wallet:"Wallet",create_event:"Create Event",logout:"Logout",notifications:"Notifications"},auth:{fetch_error:{title:"Connection Error",description:"Could not fetch data. Please check your internet connection and refresh the page."},login:{meta_title:"Login",meta_description:"Log in to your BonPlanInfos account.",title:"Login",subtitle:"Log in to continue.",button:"Login",switch_text:"Don't have an account yet?",switch_button:"Sign Up",error_invalid_credentials:"Incorrect email or password."},register:{meta_title:"Register",meta_description:"Create an account on BonPlanInfos and start discovering the best plans.",title:"Register",subtitle:"Create your account.",button:"Register",country_city_required:"Please select a country and a city.",switch_text:"Already have an account?",switch_button:"Login",confirmation_email_title:"Check your email!",confirmation_email_description:"We have sent you a confirmation email. Please check your inbox and click on the link to activate your account.",terms_agreement:"I agree to the <1>Terms of Service</1>",terms_required:"You must accept the terms of service."},full_name:"Full Name",country:"Country",select_country_placeholder:"Select your country",city:"City",select_city_placeholder:"Select your city",choose_role:"You are?",choose_role_placeholder:"Choose your role",role_user:"User",role_organizer:"Organizer",email:"Email",password:"Password",referral_code_optional:"Referral Code (Optional)"},home:"Home",events:"Events",contests:"Contests",discover:"Discover",login:"Login",logout:"Logout",profile:"Profile",wallet:"Wallet",settings:"Settings",home_page:{sponsored_events:"Sponsored Events",boost_event:"Boost an Event",explore_by_type:{title:"Explore by Event Type",subtitle:"Find the experience that's right for you."},event_types:{standard:"Standard",ticketing:"Ticketing",raffles:"Raffles",voting:"Voting",stands:"Stands"},no_sponsored_events:{title:"No Sponsored Events Currently",description:"Be the first to promote an event and reach a wider audience.",button:"Boost an Event"},view_all_events:"View All Events",loading_error:{title:"Error Loading Data",description:"We couldn't load the necessary data. Please check your connection and try again.",retry:"Retry"}},events_page:{title:"Explore Events",subtitle:"Discover what's happening near you and beyond.",search_placeholder:"Search by name, city, category...",filters:"Filters",quick_filters:{trending:"Trending",popular_by_category:"Popular by Category",free_weekend:"Free This Weekend",ending_soon:"Ending Soon"},event_types:"Event Types",categories:"Categories",countries:"Countries",cities:"Cities",reset:"Reset",no_events_found:{title:"No Events Found",description:"Try adjusting your search filters or expanding your search area.",reset_button:"Reset Filters"},unlock_modal:{title:"Unlock This Event",description:'To see the details for "{{title}}", a cost of {{cost}} (about {{costFcfa}} FCFA) will be deducted from your balance.',info:"This is a one-time action. Once unlocked, you will have permanent access to this event.",cancel:"Cancel",confirm:"Confirm and Unlock",success_title:"Access Unlocked!",success_desc:'You can now see the details for "{{title}}".'}},profile_page:{helmet_title:"{{name}}'s Profile",helmet_desc:"Manage your profile, events, and transactions on BonPlanInfos.",unauthorized_title:"Access Denied",unauthorized_desc:"You must be logged in to view your profile.",go_to_login:"Go to Login Page",connection_failed_title:"Connection Failed",connection_failed_desc:"We were unable to load your profile. Please try logging in again.",loading_error_title:"Error Loading Data",loading_error_desc:"We couldn't load all your profile data. Some information may be missing."},data_protection:{meta_title:"Personal Data Protection",meta_description:"BonPlanInfos personal data protection policy. Compliant with African data protection regulations.",title:"Personal Data Protection",subtitle:"Our commitment to protecting your data in Africa",africa_compliance:"Our data protection practices comply with national regulations in all operating countries across West Africa (Cte d'Ivoire, Burkina Faso, Senegal, Mali, Benin, Ghana, Nigeria), Central Africa (Cameroon, Gabon), North Africa (Tunisia, Morocco), and Southern Africa (South Africa), following both local laws and African Union standards.",contact_title:"Contact Data Protection Officer",commitment:{title:"Our Commitment",content:"BonPlanInfos is committed to protecting your personal data in accordance with African data protection laws. We implement robust technical and organizational measures to ensure the security and confidentiality of your information."},dpo:{title:"Data Protection Officer",content:"Our Data Protection Officer (DPO) ensures compliance with legal and regulatory obligations regarding personal data protection in all African countries where we operate."},data_collected:{title:"Collected Data",content:"We only collect data necessary for the proper functioning of our event services:",list:["Profile information: name, surname, email, phone number","Transaction data: ticket purchase history","Usage data: event preferences, platform interactions","Technical data: IP address, device type, essential cookies","Location data: country and city to personalize events"]},usage:{title:"Data Usage",content:"Your data is used strictly for the following purposes:",list:["Management of event registrations and participations","Secure processing of ticket payments","Sending event confirmations and information","Improving user experience on our platform","Compliance with African legal obligations","Personalization of event recommendations by country"]},sharing:{title:"Data Sharing",content:"We only share your data with:",list:["Certified payment providers (MoneyFusion, PayPal, Mobile Money, Orange Money, MTN Mobile Money, Moov Money, Wave, etc.)","Event organizers (only data necessary for their event management)","Legal authorities (upon formal request compliant with local laws)","Technical partners under strict confidentiality agreements"]},security:{title:"Data Security",content:"We implement advanced security measures compliant with African standards:",list:["SSL/TLS encryption for all data transmissions","Secure storage with preference for servers located in Africa","Strict access controls and multi-factor authentication","Regular security audits compliant with local laws","Encrypted backups and business continuity plans"]},retention:{title:"Data Retention",content:"Your data is retained for limited periods according to each country's laws:",list:["Account data: 3 years after last activity","Transaction data: 5 to 10 years depending on local legal obligations","Browsing data: maximum 13 months","Event data: 2 years after event end","Marketing data: 3 years after last contact"]},hosting:{title:"Data Hosting",content:"Your data is primarily hosted on secure servers. We prioritize hosting solutions in Africa when possible, while guaranteeing the same quality of service and security. Our infrastructures respect the digital sovereignty requirements of the countries where we operate."},deletion:{title:"Right to Erasure",content:"In accordance with African data protection laws, you have the right to request the deletion of your personal data. Contact our DPO at support@bonplaninfos.net for any erasure request. We commit to responding within the legal deadlines of each country."},last_updated:"Last updated: December 2024"},wallet_page:{title:"My Wallet",total_balance:"Total Coin Balance",free_coins:"Free Coins",paid_coins:"Paid Coins",available_earnings:"Available Earnings (Coins)",earnings_in_fcfa:" {{amount}} FCFA",buy_coins_title:"Buy Coins",buy_coins_desc:"Top up your balance and never miss out!",buy_coins_button:"View Packs",balance_details_title:"Coin Balance Details",free_coins_desc:"Free coins are used first for interactions. Paid coins are used next, and a portion goes to organizers.",withdrawal_title:"Withdraw Earnings",withdrawal_desc:"Convert your earnings into real money.",request_withdrawal_button:"Request Withdrawal",withdrawal_minimum:"Minimum for withdrawal: {{amount}} coins."},create_event_page:{meta:{title:"Create Event - Choose Type",description:"Choose the type of event you want to create on BonPlanInfos"},title:"Create Event",subtitle:"Choose the type of event you want to create",types:{simple:{title:"Simple Event",desc:"Basic event with general information"},ticketing:{title:"Ticketing",desc:"Sell tickets for your event"},voting:{title:"Voting & Contest",desc:"Create a contest with voting system"},raffle:{title:"Raffle",desc:"Organize a raffle with prizes"},stand:{title:"Stand Rental",desc:"Rent stands for a fair or exhibition"}},help:{title:"Need help?",description:"Check our guide to learn how to create and manage your events effectively",button:"View User Guide"}},testimonials:{title:"They Trust Us",subtitle:"Discover feedback from our satisfied users",play:"Play",pause:"Pause",previous:"Previous",next:"Next",counter:"{{current}} / {{total}}",testimonial1:{name:"Marie K.",role:"Concert Organizer",content:"With BonPlanInfos, my protected events generate impressive passive income. 1000 views = 10,000F!"},testimonial2:{name:"Jean A.",role:"Artist Manager",content:"The ticketing system is revolutionary. 95% of revenue comes directly to me, without intermediaries."},testimonial3:{name:"Sophie T.",role:"Official Partner",content:"Becoming a partner allowed me to generate stable monthly income while developing my network."},testimonial4:{name:"Paul D.",role:"Event Promoter",content:"The contest system boosted my community engagement. Revenues increased by 300%!"},testimonial5:{name:"Fatou M.",role:"Musician Artist",content:"As an artist, BonPlanInfos gave me financial autonomy through protected events."},testimonial6:{name:"Kevin L.",role:"Festival Organizer",content:"Stand rental through the platform simplified all my festival logistics."},testimonial7:{name:"Acha B.",role:"Lifestyle Influencer",content:"My raffles generate incredible engagement. My community loves to participate!"},testimonial8:{name:"Marc T.",role:"Event Entrepreneur",content:"The partner program opened opportunities I never would have imagined."},testimonial9:{name:"Julie N.",role:"Event Photographer",content:"I now monetize my photo reports through protected events. Amazing!"},testimonial10:{name:"David K.",role:"DJ & Producer",content:"My protected live streams earn me more than my previous platforms. I recommend 100%!"},testimonial11:{name:"Sarah J.",role:"Wedding Planner",content:"BonPlanInfos revolutionized my way of working. Clients love the ticketing system."},testimonial12:{name:"Mohamed C.",role:"Community Manager",content:"I manage several artists on the platform. The interface is intuitive and revenues transparent."},testimonial13:{name:"Laura P.",role:"Content Creator",content:"My online workshops are now protected and generate stable income every month."},testimonial14:{name:"Pierre G.",role:"Sports Organizer",content:"For our tournaments, the voting and contest system multiplied our audience by 5."},testimonial15:{name:"Nadia S.",role:"Event Agency",content:"We use BonPlanInfos for all our clients. Satisfaction is always guaranteed!"}},user_guide_page:{meta:{title:"BonPlanInfos - 100% African Event Platform",description:"Create, manage and monetize your events with BonPlanInfos. The Ivorian platform that gives you back 95% of your revenue."},hero:{title:"BonPlanInfos",subtitle:"Your Event Success",description:"The Ivorian platform that gives you back <strong>95% of your revenue</strong>",coin_info:"1 coin = 10F  1 interaction = 1 coin",create_event:"Create an Event",become_partner:"Become a Partner",features:{revenue:"95% revenue shared",coin:"1 coin = 10F CFA",support:"24/7 Support"}},features:{title:"Our Event Solutions",subtitle:"Powerful tools to maximize your revenue and visibility",ticketing:{title:"Smart Ticketing",description:"Sell tickets for your concerts and events. Set your prices and receive 95% of revenue directly",stats:"95% revenue shared"},voting:{title:"Contests & Voting",description:"Organize interactive contests with voting system. Monetize every participation",stats:"95% on each participation"},raffle:{title:"Raffle & Draws",description:"Create raffles with attractive prizes. Paid or free participation according to your choice",stats:"Automatic management with 95% on each participation"},stand_rental:{title:"Stand Rental",description:"Rent stands for trade shows and fairs. Manage reservations and payments online",stats:"95% of rental price goes to you"},protected_events:{title:"Protected Events",description:"Monetized exclusive content. Earn 1 coin per interaction (view, like, comment, share)",stats:"+1 coin per interaction"},boost:{title:"Instant Boost",description:"Increase your events visibility. Reach more participants in real time by boosting your events on bonplaninfos.",stats:"Reach multiplied"}},simulation:{title:"Protected Event Simulation",subtitle:"Discover how to monetize every interaction on your events",main_title:" 1 Interaction = 1 Coin = 10F CFA",description:"Every view, like, comment or share earns you money",views:"Views",likes:"Likes",comments:"Comments",shares:"Shares",total:"Total: {{amount}} F CFA",revenue_description:"Revenue generated by an event with {{count}} interactions"},stats:{revenue:"Revenue shared to organizers",coin_cost:"Cost of 1 coin",coin_earned:"Coin earned per interaction",no_fees:"Registration fees"},partner_program:{title:"Partner Program",subtitle:"Represent BonPlanInfos in your region and generate monthly income",advantages:"Partner Advantages",benefits:{revenue:"Guaranteed monthly income",training:"Complete training offered",support:"Priority 24/7 support",network:"Exclusive partner network"},become_partner:"Become a Partner",partner_description:"Represent BonPlanInfos in your city",apply_now:"Apply Now"},testimonials:{title:"They Trust Us",subtitle:"Discover feedback from our satisfied users",play:"Play",pause:"Pause",previous:"Previous",next:"Next",counter:"{{current}} / {{total}}"},cta:{title:"Ready to revolutionize your events?",description:"Join the BonPlanInfos community and start generating revenue today",create_event:"Create my first event",become_partner:"Become a Partner"},footer:{description:"The Ivorian event platform that gives you back 95% of your revenue.",navigation:"Navigation",home:"Home",events:"Events",create_event:"Create an event",become_partner:"Become a partner",contact:"Contact",information:"Information",copyright:" 2025 BonPlanInfos. All rights reserved."}},partner_signup:{meta_title:"Become a Partner - BonPlanInfos",meta_description:"Become an official BonPlanInfos partner and generate stable monthly income. Partnership program with advantageous licenses.",unauthorized_title:"Unauthorized Access",unauthorized_desc:"You must be logged in to access the partner page.",unauthorized_cta:"Login",loading_licenses:"Loading licenses...",error_loading_licenses:"Error loading licenses",your_licenses_title:"Your Active Licenses",available_licenses_title:"Available Licenses",available_licenses_subtitle:"Choose the license that matches your ambitions and start generating income",license_features:{premium:{feature1:"Maximum zone",feature2:"Advanced dashboard",feature3:"24/7 support",feature4:"Advanced training",feature5:"Early access"},standard:{feature1:"Extended zone",feature2:"Detailed analytics",feature3:"Priority support",feature4:"Training"},basic:{feature1:"Zone management",feature2:"Monthly reports",feature3:"Basic support",message:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies. ",learn_more:"Privacy Policy",reject:"Reject",accept:"Accept"},revenue_description_40:"40% revenue share from your zone's turnover",revenue_description_30:"30% revenue share from your zone's turnover",revenue_description_20:"20% revenue share from your zone's turnover"},license_card:{active:"Active",expired:"Expired",revenue_share:"Revenue share: {{percent}}%",purchased_on:"Purchased on",expires_on:"Expires on",days_remaining:"{{count}} day(s) remaining"},per_month:"/month",revenue_label:"Revenue share",duration_label:"{{months}} months ({{days}} days)",purchase_cta:"Buy Now",error_toast:{title:"Error",login_required:"You must be logged in to purchase a license",purchase_failed:"Error purchasing license"}},admin_dashboard:"Admin Dashboard",secretary_dashboard:"Secretary Dashboard",admin_dashboard:{unauthorized_title:"Unauthorized Access",unauthorized_desc:"You do not have the required permissions to access this page.",loading_error_title:"Loading Error",super_admin_title:"Super Admin Dashboard",admin_title:"Admin Dashboard - {{country}}",secretary_title:"Secretary Dashboard",welcome:"Welcome, {{name}}",tabs:{analytics:"Analytics",users:"Users",secretaries:"Secretaries",config:"Configuration",videos:"Videos",partners:"Partners",withdrawals:"Withdrawals",salary_withdrawals:"Salary Withdrawals",withdrawal_history:"Withdrawal History",announcements:"Announcements",events:"Events",promotions:"Promotions",popups:"Popups",credits:"Credits",credit_management:"Credit Management",reversed_credits:"Reversed Credits",transactions:"Transactions",activity_log:"Activity Log",payments:"Payments",locations:"Locations",badges:"Badges",credit_stats:"Credit Stats",salary:"My Salary",credits_history:"Credits History"},stats:{error_title:"Statistics Error",revenue_title:"Chiffres affaires zone)"},license:{partner_error_title:"Error loading partner",status_title:"License Status",status_active:"Active",status_expired:"Expired",activated_on:"Activated on",expires_on:"Expires on",expired_since:"Expired for {{count}} days",days_remaining:"days remaining",renew_button:"Request Renewal",confirm_renewal_title:"Confirm Renewal Request?",confirm_renewal_desc:"A notification will be sent to the super administrator to review your license renewal request.",renewal_sent_title:"Request Sent",renewal_sent_desc:"Your renewal request has been sent successfully.",renewal_error_desc:"Error sending renewal request: "},banner:{pending:"Your admin account is pending verification. Some features may be limited.",suspended:"Your admin account has been suspended. Please contact support.",expired:"Your license has expired. Please renew it to restore full access."},salary_dashboard:{title:"Salary Dashboard",current_month_revenue:"Zone Revenue (Current Month)",personal_score:"Personal Score",projected_salary:"Projected Salary (Current Month)",request_withdrawal:"Request Withdrawal",history_title:"Salary History",month:"Month",revenue:"Zone Revenue",license_rate:"License Rate",score:"Score",salary:"Final Salary",status:"Status",paid:"Paid",unpaid:"Unpaid"},withdrawal_form:{title:"Salary Withdrawal Request",description:"Submit a request to withdraw your available salary.",available_salary:"Salary available for withdrawal",amount_to_withdraw:"Amount",withdrawal_method:"Method",select_method:"Select a method",bank_name:"Bank Name",account_holder:"Account Holder",account_number:"Account Number",mobile_money_operator:"Operator",phone_number:"Phone Number",reason:"Reason (Optional)",submit:"Submit Request"}},secretary_dashboard:{title:"Secretary Dashboard",welcome:"Welcome, {{name}}",competence_zone:"Area of competence: {{city}}, {{country}}",tabs:{user_management:"User Management",event_management:"Event Management",location_management:"Location Management",credit_management:"Credit Management",reversed_credits:"Reversed Credits",withdrawal_management:"Withdrawal Management",withdrawal_history:"Withdrawal History",event_moderation:"Event & Location Moderation"},credit_form:{title:"Credit a User",search_user_label:"Search for a user",search_user_placeholder:"Name or email...",user_label:"User",select_user_placeholder:"Select a user",amount_label:"Amount (coins)",amount_placeholder:"e.g., 100",reason_label:"Reason (optional)",reason_placeholder:"e.g., Reward",submit_button:"Credit User"},event_moderation:{title:"Event Moderation",zone_country:"Zone: {{country}}",filter_all:"All",filter_active:"Active",filter_inactive:"Inactive",credit_participants_button:"Credit Participants",confirm_delete_title:"Are you sure?",confirm_delete_desc:"This action is irreversible. The event and all its associated data (tickets, votes, etc.) will be permanently deleted.",event_deleted_success:"Event deleted successfully.",event_deleted_error:"Could not delete event.",status_updated_success:"Event status updated.",status_updated_error:"Could not update status.",credit_user_for_event_title:"Credit for event: {{eventName}}",credit_user_for_event_desc:"Select a user from your zone to award coins for their participation.",user_search_placeholder:"Search by name or email...",credit_amount_label:"Amount (coins)",credit_reason_label:"Reason for credit",credit_reason_placeholder:"Participation in event: {{eventName}}",no_users_found:"No users found in your zone.",credit_success_message:"{{userName}} has been credited with {{amount}} coins.",credit_error_generic:"An error occurred while crediting."}},confirm_logout:"Are you sure you want to log out?",cancel:"Cancel",confirm:"Confirm",back_home:"Back to Home",not_found_title:"Page Not Found",not_found_message:"Sorry, the page you are looking for does not exist.",email_label:"Email address",password_label:"Password",full_name_label:"Full name",phone_label:"Phone number",username_label:"Username",country_label:"Country",city_label:"City",referral_code_label:"Referral code (optional)",login_tab:"Login",register_tab:"Register",login_magic_link_tab:"Magic Link",send_magic_link:"Send Magic Link",or_continue_with:"Or continue with",forgot_password:"Forgot password?",landing:{title:"Your Gateway to the Best Deals",subtitle:"Discover, participate, and organize events, contests, and more. All in one place.",search_placeholder:"Search for an event, a place...",search_button:"Search",create_event_button:"Create Event",discover_events_button:"Discover Events",featured_title:"Events Not to Miss",featured_subtitle:"Participate in the most popular events and live unforgettable moments.",categories_title:"Explore by Categories",categories_subtitle:"Find events that match your interests.",how_it_works_title:"How It Works",how_it_works_step1_title:"Discover",how_it_works_step1_desc:"Explore a multitude of events, contests, and places.",how_it_works_step2_title:"Participate",how_it_works_step2_desc:"Buy tickets, vote for your favorite candidates, and much more.",how_it_works_step3_title:"Win & Enjoy",how_it_works_step3_desc:"Earn rewards, win contests, and live unique experiences.",how_it_works_step4_title:"Organize",how_it_works_step4_desc:"Create and manage your own events with ease.",cta_title:"Ready to start the adventure?",cta_subtitle:"Join our community today and never miss a good deal again.",cta_button:"Sign Up for Free"},footer:{home:"Home",about:"About",partnership:"Partnership",sponsors:"Sponsors",privacy:"Privacy Policy",terms:"Terms of Use",contact:"Contact",tagline:"Your ultimate guide to the best events and entertainment.",platform:"Platform",company:"Company",legal:"Legal",how_it_works:"How it works",help:"Help Center",faq:"FAQ",data_protection:"Data Protection",legal_mentions:"Legal Mentions"},marketing:{simulation:{title:"Revenue Simulator",subtitle:"Calculate your potential earnings with our platform",event_type:"Event Type",ticket_price:"Price per unit",number_of_tickets:"Number of participants",potential_revenue:"Potential Revenue",platform_fee:"Platform fee (5%)",your_net_earning:"Your net earnings",cta:"Start Earning Now",note:"Simulation based on standard 5% platform fee. Actual results may vary.",number_of_interactions:"Number of Interactions",interaction_revenue:"Interaction Revenue",minimum_withdrawal:"Minimum 50 interactions required for withdrawal (500 FCFA)"},badge:"For Organizers & Creators",title:"Take Your Events to the Next Level",subtitle:"Reach a wider audience, engage with your community, and monetize your content like never before. BonPlanInfos is the all-in-one platform for successful events.",createEventCta:"Create My Event Now",becomePartnerCta:"Become a Partner",trust:"Trusted by hundreds of organizers in Africa.",why:{title:"Why choose BonPlanInfos?",subtitle:"We give you the tools to make every event a resounding success.",feature1:"Maximum Visibility",feature1_desc:"Leverage our large audience to promote your events and reach thousands of potential attendees.",feature2:"Easy Monetization",feature2_desc:"Ticket sales, paid voting, raffles, stands... Diversify your income streams in just a few clicks.",feature3:"Interaction & Engagement",feature3_desc:"Create a strong bond with your community through our interaction tools: comments, shares, and reactions.",feature4:"Real-Time Statistics",feature4_desc:"Track the performance of your events with precise data to optimize your strategies.",feature5:"Security & Reliability",feature5_desc:"A robust and secure platform to manage your transactions and your attendees' data.",feature6:"Dedicated Support",feature6_desc:"Our team is here to support you at every stage of your organization."},revenue_simulation:{title:"Imagine Your Potential Monthly Income...",subtitle:"Every interaction on your content generates coins, convertible into real money. Here is a simple simulation based on popular events.",summary_title:"Monthly Summary (Simulation)",total_interactions:"Total Interactions",revenue_coins:"Revenue in Coins",revenue_fcfa:"Revenue in FCFA",miss_ci:"Miss Cte d'Ivoire Contest",music_festival:"Urban Music Festival",football_tournament:"Inter-neighborhood Football Tournament",entrepreneur_conf:"Entrepreneurship Conference",shares:"Shares",downloads:"Downloads",views:"Views",comments:"Comments",reactions:"Reactions",total_revenue:"Total Revenue",interactions:"Interactions",how_it_works_title:"How it Works",organizer:"Organizer",user:"User",easy_withdrawal:"Easy Withdrawal",from_50_pi:"From 50",ready_cta_title:"Ready to turn your ideas into success?",ready_cta_subtitle:"Join thousands of organizers who trust us.",cta_button:"Launch my first event"},testimonials:{title:"They trust us",dj_kerozen_quote:"With BonPlanInfos, I sold out my concert in record time. The platform's virality is just incredible!",fatou_sylla_quote:"I organize all my clients' events through the app. It simplifies my life and my clients love it.",eric_b_quote:"We funded our entire integration weekend by monetizing our party. A must-have!",bintou_diallo_name:"Bintou Diallo",bintou_diallo_role:"Show Promoter",kwesi_mensah_name:"Kwesi Mensah",kwesi_mensah_role:"Wedding Planner",aisha_traore_name:"Asha Traor",aisha_traore_role:"Student & BDE President",amadou_ba_name:"Amadou Ba",amadou_ba_role:"Personal Development Coach",amadou_ba_quote:"Managing registrations for my seminars has become child's play. I save so much time!",chimamanda_ngozi_name:"Chimamanda Ngozi",chimamanda_ngozi_role:"Literary Festival Organizer",chimamanda_ngozi_quote:"The live voting feature added an exciting interactive dimension to our literary prize.",didier_kouame_name:"Didier Kouam",didier_kouame_role:"Sports Club Manager",didier_kouame_quote:"The online raffle generated unexpected revenue for our club. It's simple and incredibly effective.",mariam_kone_name:"Mariam Kon",mariam_kone_role:"Fashion Designer",mariam_kone_quote:"My fashion show got national reach thanks to the promotion on BonPlanInfos. The impact was immediate.",femi_adebayo_name:"Femi Adebayo",femi_adebayo_role:"Food Truck Owner",femi_adebayo_quote:"Renting a stand at the biggest events in town has never been easier. My business has exploded!",abena_asante_name:"Abena Asante",abena_asante_role:"Painter",abena_asante_quote:"I sold more canvases during my online exhibition than I could have ever imagined. The visibility is top-notch.",yannick_zongo_name:"Yannick Zongo",yannick_zongo_role:"E-sport Tournament Organizer",yannick_zongo_quote:"The integrated ticketing and QR code check-in system are perfect for managing a large number of participants."},cta:{title:"Ready to take your events to the next level?",subtitle:"Don't let complexity hold you back. With BonPlanInfos, event organizing becomes simple, profitable, and fun.",cta:"Become an Official Partner"},meta_title:"Partnership & Marketing - BonPlanInfos",meta_description:"Join BonPlanInfos as a partner or organizer. Maximize your event's visibility, engage your community, and increase your revenue."},wallet_info_modal:{title:"What are coins () for?",intro:"Coins are the virtual currency of BonPlanInfos. They allow you to access exclusive content and interact with events.",free_coins_title:"Free Coins ()",free_coins_desc:"You earn them by watching video ads or during promotions. They allow you to perform basic actions.",paid_coins_title:"Purchased Coins ()",paid_coins_desc:"Purchased with real money, they unlock all features and directly support the organizers.",usage_title:"How to use them?",usage_item1:"Access protected events.",usage_item2:"Like, comment, download exclusive content.",usage_item3:"Participate in votes, raffles, and much more.",cta_button:"Buy Coins",usage_priority:"Free coins are always used first for your actions!"},events_title:"Featured Events",all_events_button:"All Events",promoted_events:"Sponsored Events",popular_contests:"Popular Contests",see_all_contests:"See all contests",event_card:{days_remaining:"{{count}} day remaining",days_remaining_plural:"{{count}} days remaining",event_ended:"Ended",event_starting_today:"Starts today",starting_from:"From"},filters:{all:"All",promoted:"Boosted",live:"Live",today:"Today",this_week:"This week",free:"Free"},event_detail:{by_organizer:"By",share:"Share",location:"Location",date_time:"Date and Time",get_directions:"Get Directions",about_event:"About the Event",tags:"Tags",unlock_event_to_see_content:"Unlock this event to see exclusive content!",unlock_button:"Unlock for {{price}}",unlocking:"Unlocking...",free_access:"Free Access",owner_access:"Owner Access",comments:"Comments",leave_comment:"Leave a comment...",submit_comment:"Submit",comment_cost:"Comment for {{price}}",ticketing:"Ticketing",voting:"Voting",raffle:"Raffle",stands:"Stands"},social_interactions:{like:"Like",comment:"Comment",share:"Share",download:"Download",cost:"{{price}}",comment_placeholder:"Add a comment...",post_comment:"Post"},toasts:{copied_to_clipboard:"Copied to clipboard!",feature_not_implemented:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "},admin:{tabs:{analytics:"Analytics",users:"Users",partners:"Partners",events:"Events",locations:"Locations",promotions:"Promotions",credits:"Credits",config:"Configuration",withdrawals:"Withdrawals",videos:"Videos",announcements:"Announcements",welcome_popup:"Welcome Popup"}},discover_places:"Discover Places",discover_more_places:"Discover more places",discover_page:{title:"Discover Places",subtitle:"Find new places recommended by the community.",search_placeholder:"Search for a place, category, city...",filter_by_type:"Filter by type",no_locations_found:"No locations found.",no_locations_description:"Try broadening your search or selecting fewer filters.",add_new_location:"Add a new place",add_place:"Add a Place"},add_location:{title:"Add a New Place",subtitle:"Share a great spot with the community.",location_name:"Place Name",location_description:"Description",location_type:"Place Type",address:"Address",city:"City",country:"Country",website:"Website (optional)",phone:"Phone (optional)",submit:"Submit Place",success_title:"Place Submitted!",success_message:"Thanks! Your place has been submitted and will be reviewed by our team."},verify_ticket:{title:"Ticket Verification",scan_instruction:"Scan the ticket's QR code or enter the scanner code.",scanner_code_label:"Scanner Code",start_session:"Start Session",stop_session:"Stop Session",scan_ticket:"Scan a Ticket",camera_permission_denied:"Camera permission denied.",camera_error:"Camera error:",scan_result:"Scan Result",scan_again:"Scan Again",valid_ticket:"Valid Ticket",invalid_ticket:"Invalid Ticket",ticket_number:"Ticket Number:",ticket_type:"Ticket Type:",attendee_name:"Attendee Name:",event_title:"Event Title:",scan_time:"Scan Time:",error:"Error",session_active:"Verification session active",session_stopped:"Verification session stopped",verifying_ticket:"Verifying ticket...",enter_scanner_code:"Please enter a valid scanner code."},create_event:{title:"Create an Event",subtitle:"Choose the type of event you want to organize.",simple:"Simple",simple_desc:"Quickly post an informational event (free or paid at the door).",ticketing:"Ticketing",ticketing_desc:"Sell tickets with different prices and options.",voting:"Voting Contest",voting_desc:"Organize a contest where participants vote for candidates.",raffle:"Raffle",raffle_desc:"Create a raffle with tickets and prizes to be won.",stands:"Stand Rental",stands_desc:"Manage the rental of stands for a trade show or market."},create_ticketing_event:{title:"Create an Event with Ticketing",event_details:"Event Details",event_title:"Event Title",event_description:"Description",event_cover_image:"Cover Image",upload_image:"Upload Image",event_date:"Event Date",category:"Category",select_category:"Select a category",location:"Location",address:"Address",city:"City",country:"Country",ticket_types:"Ticket Types",add_ticket_type:"Add Ticket Type",ticket_name:"Ticket Name (e.g., Standard, VIP)",ticket_price_fcfa:"Price (FCFA)",ticket_quantity:"Quantity Available",ticket_benefits:"Benefits (comma-separated)",remove:"Remove",verification_options:"Verification Options",enable_verification:"Enable QR code ticket verification",submit:"Create Event",event_created_success:"Event created successfully!",editing_event:"Editing Event"},ticketing_interface:{select_ticket_type:"Select your tickets",total_cost:"Total Cost:",buy_tickets:"Buy Tickets",sold_out:"Sold Out",sales_ended:"Sales Ended",available:"available",benefits:"Benefits:"},select_country:"Select a country",select_city:"Select a city",choose_file:"Choose file",no_file_chosen:"No file chosen",common:{error_title:"Error",confirm:"Confirm",cancel:"Cancel",delete:"Delete",close:"Close",save:"Save",edit:"Edit",loading:"Loading...",success_title:"Success",search:"Search...",activate:"Activate",deactivate:"Deactivate",credit:"Credit",retry:"Retry"},privacy:{meta_title:"Privacy Policy",meta_description:"Read our privacy policy to understand how we collect, use, and protect your personal data.",title:"Privacy Policy",last_updated:"Last updated: November 02, 2025",introduction:{title:"1. Introduction",p1:"This privacy policy explains how BonPlanInfos collects, uses, and protects your personal information when you use our platform."},data_collected:{title:"2. Data We Collect",p1:"We collect various information to provide and improve our services:",item1:"<b>Account Information:</b> Name, email address, country, city, account type.",item2:"<b>Usage Data:</b> Pages visited, interactions with events, searches performed.",item3:"<b>User-Generated Content:</b> Events created, comments, photos.",item4:"<b>Transaction Data:</b> History of coin purchases and earning withdrawals."},data_usage:{title:"3. How We Use Your Data",p1:"Your data is used to:",item1:"Provide, maintain, and improve the platform.",item2:"Personalize your experience by recommending relevant events.",item3:"Process transactions and payments.",item4:"Communicate with you regarding your account or our services."},cookies:{title:"4. Cookies",p1:"We use cookies to ensure the proper functioning of the site, analyze our traffic, and personalize content. You can manage your cookie preferences at any time."},data_sharing:{title:"5. Data Sharing",p1:"We do not share your personal information with third parties, unless it is necessary to provide the service (e.g., with payment processors) or required by law."},security:{title:"6. Security",p1:"We implement technical and organizational security measures to protect your data against unauthorized access, loss, or destruction."},your_rights:{title:"7. Your Rights",p1:"In accordance with regulations, you have the following rights:",item1:"<b>Right of Access:</b> You can request a copy of the data we hold about you.",item2:"<b>Right to Rectification:</b> You can correct any inaccurate information.",item3:"<b>Right to Erasure:</b> You can request the deletion of your account and data.",p2:"To exercise these rights, please contact us at the address below."},contact:{title:"8. Contact",p1:"For any questions regarding this privacy policy, please contact us at:",email:"privacy@bonplaninfos.net"}},legal_mentions:{meta_title:"Legal Mentions",meta_description:"Consult the legal mentions of BonPlanInfos for information on the site editor, hosting, and our legal obligations.",title:"Legal Mentions",subtitle:"Legal information concerning the BonPlanInfos platform.",lastUpdate:"Last updated: November 02, 2025",sections:{editor:{title:"Site Editor",content:"The BonPlanInfos site is edited by:",company:"BON PLAN INFOS (BPI)",capital:"Simplified joint-stock company (SAS) with a capital of 1,000,000 FCFA",address:"Head office: Abidjan, Cte d'Ivoire",phone:"Phone: (+225) 07 12 27 53 74",email:"contact@bonplaninfos.net"},director:{title:"Publication Director",content:"The publication director is Mr. S.Rayane KIBORA, in his capacity as President of BON PLAN INFOS (BPI)."},hosting:{title:"Hosting",content:"The platform is hosted by:",company:"Hostinger International Ltd.",address:"61 Lordou Vironos Street, 6023 Larnaca, Cyprus",website:"www.hostinger.com"},data:{title:"Personal Data Protection",content1:"In accordance with current data protection legislation, you have the right to access, rectify, delete, and object to your personal data. To exercise this right, please contact our Data Protection Officer (DPO) at: ",content2:"For more information, please consult our <1>Privacy Policy</1>."},cookies:{title:"Cookies",content1:"The site uses cookies to improve the user experience. These cookies are used to:",item1:"Ensure the proper functioning of the site (session cookies).",item2:"Analyze audience and performance (analytics cookies).",item3:"Offer personalized advertising (marketing cookies).",content2:"You can configure your cookie preferences via our consent banner."},ip:{title:"Intellectual Property",content:"All content on this site (texts, images, videos, logos, source code) is the exclusive property of BON PLAN INFOS (BPI) or its partners. Any reproduction, even partial, is strictly prohibited without prior authorization."},liability:{title:"Limitation of Liability",content:"BonPlanInfos strives to provide accurate and up-to-date information but cannot guarantee the accuracy of all information. The use of information and content available on the entire site shall in no case engage the liability of the publisher, for any reason whatsoever."},links:{title:"Hyperlinks",content:"The platform may contain hyperlinks to other sites. BonPlanInfos is not responsible for the content of these third-party sites and cannot be held liable for any damages resulting from their consultation."},applicableLaw:{title:"Applicable Law",content:"These legal mentions are subject to Ivorian law. In case of a dispute, the courts of Abidjan will have sole jurisdiction."}}}}}};nu.use(Whe).use(Dwe).init({debug:!0,fallbackLng:"fr",interpolation:{escapeValue:!1},resources:Pvt,detection:{order:["queryString","cookie","localStorage","navigator","htmlTag","path","subdomain"],caches:["cookie"]}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});$k.createRoot(document.getElementById("root")).render(s.jsx(Wxt,{}));export{Rs as c,Si as g,gvt as t};
