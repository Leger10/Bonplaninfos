var ufe=Object.defineProperty;var dfe=(e,t,r)=>t in e?ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Va=(e,t,r)=>(dfe(e,typeof t!="symbol"?t+"":t,r),r);function iG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ga(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oG(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var lG={exports:{}},JS={},cG={exports:{}},la={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=Symbol.for("react.element"),ffe=Symbol.for("react.portal"),hfe=Symbol.for("react.fragment"),mfe=Symbol.for("react.strict_mode"),pfe=Symbol.for("react.profiler"),gfe=Symbol.for("react.provider"),vfe=Symbol.for("react.context"),xfe=Symbol.for("react.forward_ref"),yfe=Symbol.for("react.suspense"),bfe=Symbol.for("react.memo"),wfe=Symbol.for("react.lazy"),BL=Symbol.iterator;function _fe(e){return e===null||typeof e!="object"?null:(e=BL&&e[BL]||e["@@iterator"],typeof e=="function"?e:null)}var uG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dG=Object.assign,fG={};function Gx(e,t,r){this.props=e,this.context=t,this.refs=fG,this.updater=r||uG}Gx.prototype.isReactComponent={};Gx.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gx.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hG(){}hG.prototype=Gx.prototype;function RO(e,t,r){this.props=e,this.context=t,this.refs=fG,this.updater=r||uG}var MO=RO.prototype=new hG;MO.constructor=RO;dG(MO,Gx.prototype);MO.isPureReactComponent=!0;var zL=Array.isArray,mG=Object.prototype.hasOwnProperty,IO={current:null},pG={key:!0,ref:!0,__self:!0,__source:!0};function gG(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)mG.call(t,n)&&!pG.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:c_,type:e,key:a,ref:o,props:s,_owner:IO.current}}function jfe(e,t){return{$$typeof:c_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function LO(e){return typeof e=="object"&&e!==null&&e.$$typeof===c_}function Nfe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var UL=/\/+/g;function mk(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nfe(""+e.key):t.toString(36)}function e4(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case c_:case ffe:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+mk(o,0):n,zL(s)?(r="",e!=null&&(r=e.replace(UL,"$&/")+"/"),e4(s,t,r,"",function(d){return d})):s!=null&&(LO(s)&&(s=jfe(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(UL,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",zL(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+mk(a,l);o+=e4(a,t,r,c,s)}else if(c=_fe(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+mk(a,l++),o+=e4(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function V5(e,t,r){if(e==null)return e;var n=[],s=0;return e4(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Sfe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tc={current:null},t4={transition:null},Cfe={ReactCurrentDispatcher:tc,ReactCurrentBatchConfig:t4,ReactCurrentOwner:IO};function vG(){throw Error("act(...) is not supported in production builds of React.")}la.Children={map:V5,forEach:function(e,t,r){V5(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return V5(e,function(){t++}),t},toArray:function(e){return V5(e,function(t){return t})||[]},only:function(e){if(!LO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};la.Component=Gx;la.Fragment=hfe;la.Profiler=pfe;la.PureComponent=RO;la.StrictMode=mfe;la.Suspense=yfe;la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cfe;la.act=vG;la.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dG({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=IO.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mG.call(t,c)&&!pG.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:c_,type:e.type,key:s,ref:a,props:n,_owner:o}};la.createContext=function(e){return e={$$typeof:vfe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gfe,_context:e},e.Consumer=e};la.createElement=gG;la.createFactory=function(e){var t=gG.bind(null,e);return t.type=e,t};la.createRef=function(){return{current:null}};la.forwardRef=function(e){return{$$typeof:xfe,render:e}};la.isValidElement=LO;la.lazy=function(e){return{$$typeof:wfe,_payload:{_status:-1,_result:e},_init:Sfe}};la.memo=function(e,t){return{$$typeof:bfe,type:e,compare:t===void 0?null:t}};la.startTransition=function(e){var t=t4.transition;t4.transition={};try{e()}finally{t4.transition=t}};la.unstable_act=vG;la.useCallback=function(e,t){return tc.current.useCallback(e,t)};la.useContext=function(e){return tc.current.useContext(e)};la.useDebugValue=function(){};la.useDeferredValue=function(e){return tc.current.useDeferredValue(e)};la.useEffect=function(e,t){return tc.current.useEffect(e,t)};la.useId=function(){return tc.current.useId()};la.useImperativeHandle=function(e,t,r){return tc.current.useImperativeHandle(e,t,r)};la.useInsertionEffect=function(e,t){return tc.current.useInsertionEffect(e,t)};la.useLayoutEffect=function(e,t){return tc.current.useLayoutEffect(e,t)};la.useMemo=function(e,t){return tc.current.useMemo(e,t)};la.useReducer=function(e,t,r){return tc.current.useReducer(e,t,r)};la.useRef=function(e){return tc.current.useRef(e)};la.useState=function(e){return tc.current.useState(e)};la.useSyncExternalStore=function(e,t,r){return tc.current.useSyncExternalStore(e,t,r)};la.useTransition=function(){return tc.current.useTransition()};la.version="18.3.1";cG.exports=la;var b=cG.exports;const Se=ga(b),ZS=iG({__proto__:null,default:Se},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Afe=b,kfe=Symbol.for("react.element"),Efe=Symbol.for("react.fragment"),Tfe=Object.prototype.hasOwnProperty,Pfe=Afe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ofe={key:!0,ref:!0,__self:!0,__source:!0};function xG(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Tfe.call(t,n)&&!Ofe.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:kfe,type:e,key:a,ref:o,props:s,_owner:Pfe.current}}JS.Fragment=Efe;JS.jsx=xG;JS.jsxs=xG;lG.exports=JS;var i=lG.exports,I6={},yG={exports:{}},ou={},bG={exports:{}},wG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ce){var xe=te.length;te.push(ce);e:for(;0<xe;){var de=xe-1>>>1,ee=te[de];if(0<s(ee,ce))te[de]=ce,te[xe]=ee,xe=de;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ce=te[0],xe=te.pop();if(xe!==ce){te[0]=xe;e:for(var de=0,ee=te.length,fe=ee>>>1;de<fe;){var ne=2*(de+1)-1,Y=te[ne],ue=ne+1,le=te[ue];if(0>s(Y,xe))ue<ee&&0>s(le,Y)?(te[de]=le,te[ue]=xe,de=ue):(te[de]=Y,te[ne]=xe,de=ne);else if(ue<ee&&0>s(le,xe))te[de]=le,te[ue]=xe,de=ue;else break e}}return ce}function s(te,ce){var xe=te.sortIndex-ce.sortIndex;return xe!==0?xe:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,v=3,g=!1,_=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(te){for(var ce=r(d);ce!==null;){if(ce.callback===null)n(d);else if(ce.startTime<=te)n(d),ce.sortIndex=ce.expirationTime,t(c,ce);else break;ce=r(d)}}function T(te){if(y=!1,k(te),!_)if(r(c)!==null)_=!0,Q(P);else{var ce=r(d);ce!==null&&se(T,ce.startTime-te)}}function P(te,ce){_=!1,y&&(y=!1,w(I),I=-1),g=!0;var xe=v;try{for(k(ce),h=r(c);h!==null&&(!(h.expirationTime>ce)||te&&!U());){var de=h.callback;if(typeof de=="function"){h.callback=null,v=h.priorityLevel;var ee=de(h.expirationTime<=ce);ce=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),k(ce)}else n(c);h=r(c)}if(h!==null)var fe=!0;else{var ne=r(d);ne!==null&&se(T,ne.startTime-ce),fe=!1}return fe}finally{h=null,v=xe,g=!1}}var D=!1,M=null,I=-1,B=5,V=-1;function U(){return!(e.unstable_now()-V<B)}function q(){if(M!==null){var te=e.unstable_now();V=te;var ce=!0;try{ce=M(!0,te)}finally{ce?re():(D=!1,M=null)}}else D=!1}var re;if(typeof C=="function")re=function(){C(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=q,re=function(){X.postMessage(null)}}else re=function(){j(q,0)};function Q(te){M=te,D||(D=!0,re())}function se(te,ce){I=j(function(){te(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,Q(P))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(te){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var xe=v;v=ce;try{return te()}finally{v=xe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var xe=v;v=te;try{return ce()}finally{v=xe}},e.unstable_scheduleCallback=function(te,ce,xe){var de=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?de+xe:de):xe=de,te){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=xe+ee,te={id:f++,callback:ce,priorityLevel:te,startTime:xe,expirationTime:ee,sortIndex:-1},xe>de?(te.sortIndex=xe,t(d,te),r(c)===null&&te===r(d)&&(y?(w(I),I=-1):y=!0,se(T,xe-de))):(te.sortIndex=ee,t(c,te),_||g||(_=!0,Q(P))),te},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(te){var ce=v;return function(){var xe=v;v=ce;try{return te.apply(this,arguments)}finally{v=xe}}}})(wG);bG.exports=wG;var Ffe=bG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dfe=b,tu=Ffe;function Jt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _G=new Set,F2={};function Wg(e,t){Y1(e,t),Y1(e+"Capture",t)}function Y1(e,t){for(F2[e]=t,e=0;e<t.length;e++)_G.add(t[e])}var zh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L6=Object.prototype.hasOwnProperty,Rfe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VL={},qL={};function Mfe(e){return L6.call(qL,e)?!0:L6.call(VL,e)?!1:Rfe.test(e)?qL[e]=!0:(VL[e]=!0,!1)}function Ife(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lfe(e,t,r,n){if(t===null||typeof t>"u"||Ife(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rc(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ul={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ul[e]=new rc(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ul[t]=new rc(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ul[e]=new rc(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ul[e]=new rc(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ul[e]=new rc(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ul[e]=new rc(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ul[e]=new rc(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ul[e]=new rc(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ul[e]=new rc(e,5,!1,e.toLowerCase(),null,!1,!1)});var $O=/[\-:]([a-z])/g;function BO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($O,BO);ul[t]=new rc(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($O,BO);ul[t]=new rc(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($O,BO);ul[t]=new rc(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ul[e]=new rc(e,1,!1,e.toLowerCase(),null,!1,!1)});ul.xlinkHref=new rc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ul[e]=new rc(e,1,!1,e.toLowerCase(),null,!0,!0)});function zO(e,t,r,n){var s=ul.hasOwnProperty(t)?ul[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lfe(t,r,s,n)&&(r=null),n||s===null?Mfe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qh=Dfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q5=Symbol.for("react.element"),r1=Symbol.for("react.portal"),n1=Symbol.for("react.fragment"),UO=Symbol.for("react.strict_mode"),$6=Symbol.for("react.profiler"),jG=Symbol.for("react.provider"),NG=Symbol.for("react.context"),VO=Symbol.for("react.forward_ref"),B6=Symbol.for("react.suspense"),z6=Symbol.for("react.suspense_list"),qO=Symbol.for("react.memo"),qm=Symbol.for("react.lazy"),SG=Symbol.for("react.offscreen"),WL=Symbol.iterator;function cb(e){return e===null||typeof e!="object"?null:(e=WL&&e[WL]||e["@@iterator"],typeof e=="function"?e:null)}var ti=Object.assign,pk;function Vb(e){if(pk===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pk=t&&t[1]||""}return`
`+pk+e}var gk=!1;function vk(e,t){if(!e||gk)return"";gk=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{gk=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vb(e):""}function $fe(e){switch(e.tag){case 5:return Vb(e.type);case 16:return Vb("Lazy");case 13:return Vb("Suspense");case 19:return Vb("SuspenseList");case 0:case 2:case 15:return e=vk(e.type,!1),e;case 11:return e=vk(e.type.render,!1),e;case 1:return e=vk(e.type,!0),e;default:return""}}function U6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case n1:return"Fragment";case r1:return"Portal";case $6:return"Profiler";case UO:return"StrictMode";case B6:return"Suspense";case z6:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NG:return(e.displayName||"Context")+".Consumer";case jG:return(e._context.displayName||"Context")+".Provider";case VO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qO:return t=e.displayName||null,t!==null?t:U6(e.type)||"Memo";case qm:t=e._payload,e=e._init;try{return U6(e(t))}catch{}}return null}function Bfe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U6(t);case 8:return t===UO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zfe(e){var t=CG(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function W5(e){e._valueTracker||(e._valueTracker=zfe(e))}function AG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CG(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function I4(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function V6(e,t){var r=t.checked;return ti({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function HL(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Cp(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kG(e,t){t=t.checked,t!=null&&zO(e,"checked",t,!1)}function q6(e,t){kG(e,t);var r=Cp(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W6(e,t.type,r):t.hasOwnProperty("defaultValue")&&W6(e,t.type,Cp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GL(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function W6(e,t,r){(t!=="number"||I4(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qb=Array.isArray;function k1(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Cp(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function H6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Jt(91));return ti({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KL(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Jt(92));if(qb(r)){if(1<r.length)throw Error(Jt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Cp(r)}}function EG(e,t){var r=Cp(t.value),n=Cp(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function YL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var H5,PG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(H5=H5||document.createElement("div"),H5.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=H5.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function D2(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var e2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ufe=["Webkit","ms","Moz","O"];Object.keys(e2).forEach(function(e){Ufe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),e2[t]=e2[e]})});function OG(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||e2.hasOwnProperty(e)&&e2[e]?(""+t).trim():t+"px"}function FG(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=OG(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Vfe=ti({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K6(e,t){if(t){if(Vfe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Jt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Jt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Jt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Jt(62))}}function Y6(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X6=null;function WO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var J6=null,E1=null,T1=null;function XL(e){if(e=f_(e)){if(typeof J6!="function")throw Error(Jt(280));var t=e.stateNode;t&&(t=n3(t),J6(e.stateNode,e.type,t))}}function DG(e){E1?T1?T1.push(e):T1=[e]:E1=e}function RG(){if(E1){var e=E1,t=T1;if(T1=E1=null,XL(e),t)for(e=0;e<t.length;e++)XL(t[e])}}function MG(e,t){return e(t)}function IG(){}var xk=!1;function LG(e,t,r){if(xk)return e(t,r);xk=!0;try{return MG(e,t,r)}finally{xk=!1,(E1!==null||T1!==null)&&(IG(),RG())}}function R2(e,t){var r=e.stateNode;if(r===null)return null;var n=n3(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Jt(231,t,typeof r));return r}var Z6=!1;if(zh)try{var ub={};Object.defineProperty(ub,"passive",{get:function(){Z6=!0}}),window.addEventListener("test",ub,ub),window.removeEventListener("test",ub,ub)}catch{Z6=!1}function qfe(e,t,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var t2=!1,L4=null,$4=!1,Q6=null,Wfe={onError:function(e){t2=!0,L4=e}};function Hfe(e,t,r,n,s,a,o,l,c){t2=!1,L4=null,qfe.apply(Wfe,arguments)}function Gfe(e,t,r,n,s,a,o,l,c){if(Hfe.apply(this,arguments),t2){if(t2){var d=L4;t2=!1,L4=null}else throw Error(Jt(198));$4||($4=!0,Q6=d)}}function Hg(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $G(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JL(e){if(Hg(e)!==e)throw Error(Jt(188))}function Kfe(e){var t=e.alternate;if(!t){if(t=Hg(e),t===null)throw Error(Jt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return JL(s),e;if(a===n)return JL(s),t;a=a.sibling}throw Error(Jt(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Jt(189))}}if(r.alternate!==n)throw Error(Jt(190))}if(r.tag!==3)throw Error(Jt(188));return r.stateNode.current===r?e:t}function BG(e){return e=Kfe(e),e!==null?zG(e):null}function zG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zG(e);if(t!==null)return t;e=e.sibling}return null}var UG=tu.unstable_scheduleCallback,ZL=tu.unstable_cancelCallback,Yfe=tu.unstable_shouldYield,Xfe=tu.unstable_requestPaint,ji=tu.unstable_now,Jfe=tu.unstable_getCurrentPriorityLevel,HO=tu.unstable_ImmediatePriority,VG=tu.unstable_UserBlockingPriority,B4=tu.unstable_NormalPriority,Zfe=tu.unstable_LowPriority,qG=tu.unstable_IdlePriority,QS=null,Of=null;function Qfe(e){if(Of&&typeof Of.onCommitFiberRoot=="function")try{Of.onCommitFiberRoot(QS,e,void 0,(e.current.flags&128)===128)}catch{}}var Od=Math.clz32?Math.clz32:rhe,ehe=Math.log,the=Math.LN2;function rhe(e){return e>>>=0,e===0?32:31-(ehe(e)/the|0)|0}var G5=64,K5=4194304;function Wb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function z4(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Wb(l):(a&=o,a!==0&&(n=Wb(a)))}else o=r&~s,o!==0?n=Wb(o):a!==0&&(n=Wb(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Od(t),s=1<<r,n|=e[r],t&=~s;return n}function nhe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ahe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Od(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=nhe(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function eT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WG(){var e=G5;return G5<<=1,!(G5&4194240)&&(G5=64),e}function yk(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function u_(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Od(t),e[t]=r}function she(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Od(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function GO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Od(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Za=0;function HG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GG,KO,KG,YG,XG,tT=!1,Y5=[],ip=null,op=null,lp=null,M2=new Map,I2=new Map,Km=[],ihe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QL(e,t){switch(e){case"focusin":case"focusout":ip=null;break;case"dragenter":case"dragleave":op=null;break;case"mouseover":case"mouseout":lp=null;break;case"pointerover":case"pointerout":M2.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":I2.delete(t.pointerId)}}function db(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=f_(t),t!==null&&KO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ohe(e,t,r,n,s){switch(t){case"focusin":return ip=db(ip,e,t,r,n,s),!0;case"dragenter":return op=db(op,e,t,r,n,s),!0;case"mouseover":return lp=db(lp,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return M2.set(a,db(M2.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,I2.set(a,db(I2.get(a)||null,e,t,r,n,s)),!0}return!1}function JG(e){var t=eg(e.target);if(t!==null){var r=Hg(t);if(r!==null){if(t=r.tag,t===13){if(t=$G(r),t!==null){e.blockedOn=t,XG(e.priority,function(){KG(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function r4(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);X6=n,r.target.dispatchEvent(n),X6=null}else return t=f_(r),t!==null&&KO(t),e.blockedOn=r,!1;t.shift()}return!0}function e7(e,t,r){r4(e)&&r.delete(t)}function lhe(){tT=!1,ip!==null&&r4(ip)&&(ip=null),op!==null&&r4(op)&&(op=null),lp!==null&&r4(lp)&&(lp=null),M2.forEach(e7),I2.forEach(e7)}function fb(e,t){e.blockedOn===t&&(e.blockedOn=null,tT||(tT=!0,tu.unstable_scheduleCallback(tu.unstable_NormalPriority,lhe)))}function L2(e){function t(s){return fb(s,e)}if(0<Y5.length){fb(Y5[0],e);for(var r=1;r<Y5.length;r++){var n=Y5[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ip!==null&&fb(ip,e),op!==null&&fb(op,e),lp!==null&&fb(lp,e),M2.forEach(t),I2.forEach(t),r=0;r<Km.length;r++)n=Km[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Km.length&&(r=Km[0],r.blockedOn===null);)JG(r),r.blockedOn===null&&Km.shift()}var P1=Qh.ReactCurrentBatchConfig,U4=!0;function che(e,t,r,n){var s=Za,a=P1.transition;P1.transition=null;try{Za=1,YO(e,t,r,n)}finally{Za=s,P1.transition=a}}function uhe(e,t,r,n){var s=Za,a=P1.transition;P1.transition=null;try{Za=4,YO(e,t,r,n)}finally{Za=s,P1.transition=a}}function YO(e,t,r,n){if(U4){var s=rT(e,t,r,n);if(s===null)Ek(e,t,n,V4,r),QL(e,n);else if(ohe(s,e,t,r,n))n.stopPropagation();else if(QL(e,n),t&4&&-1<ihe.indexOf(e)){for(;s!==null;){var a=f_(s);if(a!==null&&GG(a),a=rT(e,t,r,n),a===null&&Ek(e,t,n,V4,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Ek(e,t,n,null,r)}}var V4=null;function rT(e,t,r,n){if(V4=null,e=WO(n),e=eg(e),e!==null)if(t=Hg(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$G(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return V4=e,null}function ZG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jfe()){case HO:return 1;case VG:return 4;case B4:case Zfe:return 16;case qG:return 536870912;default:return 16}default:return 16}}var Qm=null,XO=null,n4=null;function QG(){if(n4)return n4;var e,t=XO,r=t.length,n,s="value"in Qm?Qm.value:Qm.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return n4=s.slice(e,1<n?1-n:void 0)}function a4(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function X5(){return!0}function t7(){return!1}function lu(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?X5:t7,this.isPropagationStopped=t7,this}return ti(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=X5)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=X5)},persist:function(){},isPersistent:X5}),t}var Kx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JO=lu(Kx),d_=ti({},Kx,{view:0,detail:0}),dhe=lu(d_),bk,wk,hb,e3=ti({},d_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hb&&(hb&&e.type==="mousemove"?(bk=e.screenX-hb.screenX,wk=e.screenY-hb.screenY):wk=bk=0,hb=e),bk)},movementY:function(e){return"movementY"in e?e.movementY:wk}}),r7=lu(e3),fhe=ti({},e3,{dataTransfer:0}),hhe=lu(fhe),mhe=ti({},d_,{relatedTarget:0}),_k=lu(mhe),phe=ti({},Kx,{animationName:0,elapsedTime:0,pseudoElement:0}),ghe=lu(phe),vhe=ti({},Kx,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xhe=lu(vhe),yhe=ti({},Kx,{data:0}),n7=lu(yhe),bhe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},whe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_he={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jhe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_he[e])?!!t[e]:!1}function ZO(){return jhe}var Nhe=ti({},d_,{key:function(e){if(e.key){var t=bhe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a4(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?whe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZO,charCode:function(e){return e.type==="keypress"?a4(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a4(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),She=lu(Nhe),Che=ti({},e3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a7=lu(Che),Ahe=ti({},d_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZO}),khe=lu(Ahe),Ehe=ti({},Kx,{propertyName:0,elapsedTime:0,pseudoElement:0}),The=lu(Ehe),Phe=ti({},e3,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ohe=lu(Phe),Fhe=[9,13,27,32],QO=zh&&"CompositionEvent"in window,r2=null;zh&&"documentMode"in document&&(r2=document.documentMode);var Dhe=zh&&"TextEvent"in window&&!r2,eK=zh&&(!QO||r2&&8<r2&&11>=r2),s7=String.fromCharCode(32),i7=!1;function tK(e,t){switch(e){case"keyup":return Fhe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rK(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var a1=!1;function Rhe(e,t){switch(e){case"compositionend":return rK(t);case"keypress":return t.which!==32?null:(i7=!0,s7);case"textInput":return e=t.data,e===s7&&i7?null:e;default:return null}}function Mhe(e,t){if(a1)return e==="compositionend"||!QO&&tK(e,t)?(e=QG(),n4=XO=Qm=null,a1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eK&&t.locale!=="ko"?null:t.data;default:return null}}var Ihe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o7(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ihe[e.type]:t==="textarea"}function nK(e,t,r,n){DG(n),t=q4(t,"onChange"),0<t.length&&(r=new JO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var n2=null,$2=null;function Lhe(e){mK(e,0)}function t3(e){var t=o1(e);if(AG(t))return e}function $he(e,t){if(e==="change")return t}var aK=!1;if(zh){var jk;if(zh){var Nk="oninput"in document;if(!Nk){var l7=document.createElement("div");l7.setAttribute("oninput","return;"),Nk=typeof l7.oninput=="function"}jk=Nk}else jk=!1;aK=jk&&(!document.documentMode||9<document.documentMode)}function c7(){n2&&(n2.detachEvent("onpropertychange",sK),$2=n2=null)}function sK(e){if(e.propertyName==="value"&&t3($2)){var t=[];nK(t,$2,e,WO(e)),LG(Lhe,t)}}function Bhe(e,t,r){e==="focusin"?(c7(),n2=t,$2=r,n2.attachEvent("onpropertychange",sK)):e==="focusout"&&c7()}function zhe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return t3($2)}function Uhe(e,t){if(e==="click")return t3(t)}function Vhe(e,t){if(e==="input"||e==="change")return t3(t)}function qhe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rd=typeof Object.is=="function"?Object.is:qhe;function B2(e,t){if(Rd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!L6.call(t,s)||!Rd(e[s],t[s]))return!1}return!0}function u7(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d7(e,t){var r=u7(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u7(r)}}function iK(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iK(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oK(){for(var e=window,t=I4();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=I4(e.document)}return t}function eF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Whe(e){var t=oK(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iK(r.ownerDocument.documentElement,r)){if(n!==null&&eF(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=d7(r,a);var o=d7(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hhe=zh&&"documentMode"in document&&11>=document.documentMode,s1=null,nT=null,a2=null,aT=!1;function f7(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aT||s1==null||s1!==I4(n)||(n=s1,"selectionStart"in n&&eF(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),a2&&B2(a2,n)||(a2=n,n=q4(nT,"onSelect"),0<n.length&&(t=new JO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=s1)))}function J5(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var i1={animationend:J5("Animation","AnimationEnd"),animationiteration:J5("Animation","AnimationIteration"),animationstart:J5("Animation","AnimationStart"),transitionend:J5("Transition","TransitionEnd")},Sk={},lK={};zh&&(lK=document.createElement("div").style,"AnimationEvent"in window||(delete i1.animationend.animation,delete i1.animationiteration.animation,delete i1.animationstart.animation),"TransitionEvent"in window||delete i1.transitionend.transition);function r3(e){if(Sk[e])return Sk[e];if(!i1[e])return e;var t=i1[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lK)return Sk[e]=t[r];return e}var cK=r3("animationend"),uK=r3("animationiteration"),dK=r3("animationstart"),fK=r3("transitionend"),hK=new Map,h7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mp(e,t){hK.set(e,t),Wg(t,[e])}for(var Ck=0;Ck<h7.length;Ck++){var Ak=h7[Ck],Ghe=Ak.toLowerCase(),Khe=Ak[0].toUpperCase()+Ak.slice(1);Mp(Ghe,"on"+Khe)}Mp(cK,"onAnimationEnd");Mp(uK,"onAnimationIteration");Mp(dK,"onAnimationStart");Mp("dblclick","onDoubleClick");Mp("focusin","onFocus");Mp("focusout","onBlur");Mp(fK,"onTransitionEnd");Y1("onMouseEnter",["mouseout","mouseover"]);Y1("onMouseLeave",["mouseout","mouseover"]);Y1("onPointerEnter",["pointerout","pointerover"]);Y1("onPointerLeave",["pointerout","pointerover"]);Wg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yhe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hb));function m7(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gfe(n,t,void 0,e),e.currentTarget=null}function mK(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;m7(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;m7(s,l,d),a=c}}}if($4)throw e=Q6,$4=!1,Q6=null,e}function Ps(e,t){var r=t[cT];r===void 0&&(r=t[cT]=new Set);var n=e+"__bubble";r.has(n)||(pK(t,e,2,!1),r.add(n))}function kk(e,t,r){var n=0;t&&(n|=4),pK(r,e,n,t)}var Z5="_reactListening"+Math.random().toString(36).slice(2);function z2(e){if(!e[Z5]){e[Z5]=!0,_G.forEach(function(r){r!=="selectionchange"&&(Yhe.has(r)||kk(r,!1,e),kk(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Z5]||(t[Z5]=!0,kk("selectionchange",!1,t))}}function pK(e,t,r,n){switch(ZG(t)){case 1:var s=che;break;case 4:s=uhe;break;default:s=YO}r=s.bind(null,t,r,e),s=void 0,!Z6||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ek(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=eg(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}LG(function(){var d=a,f=WO(r),h=[];e:{var v=hK.get(e);if(v!==void 0){var g=JO,_=e;switch(e){case"keypress":if(a4(r)===0)break e;case"keydown":case"keyup":g=She;break;case"focusin":_="focus",g=_k;break;case"focusout":_="blur",g=_k;break;case"beforeblur":case"afterblur":g=_k;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=r7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hhe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=khe;break;case cK:case uK:case dK:g=ghe;break;case fK:g=The;break;case"scroll":g=dhe;break;case"wheel":g=Ohe;break;case"copy":case"cut":case"paste":g=xhe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=a7}var y=(t&4)!==0,j=!y&&e==="scroll",w=y?v!==null?v+"Capture":null:v;y=[];for(var C=d,k;C!==null;){k=C;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,w!==null&&(T=R2(C,w),T!=null&&y.push(U2(C,T,k)))),j)break;C=C.return}0<y.length&&(v=new g(v,_,null,r,f),h.push({event:v,listeners:y}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",v&&r!==X6&&(_=r.relatedTarget||r.fromElement)&&(eg(_)||_[Uh]))break e;if((g||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,g?(_=r.relatedTarget||r.toElement,g=d,_=_?eg(_):null,_!==null&&(j=Hg(_),_!==j||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=d),g!==_)){if(y=r7,T="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(y=a7,T="onPointerLeave",w="onPointerEnter",C="pointer"),j=g==null?v:o1(g),k=_==null?v:o1(_),v=new y(T,C+"leave",g,r,f),v.target=j,v.relatedTarget=k,T=null,eg(f)===d&&(y=new y(w,C+"enter",_,r,f),y.target=k,y.relatedTarget=j,T=y),j=T,g&&_)t:{for(y=g,w=_,C=0,k=y;k;k=Iv(k))C++;for(k=0,T=w;T;T=Iv(T))k++;for(;0<C-k;)y=Iv(y),C--;for(;0<k-C;)w=Iv(w),k--;for(;C--;){if(y===w||w!==null&&y===w.alternate)break t;y=Iv(y),w=Iv(w)}y=null}else y=null;g!==null&&p7(h,v,g,y,!1),_!==null&&j!==null&&p7(h,j,_,y,!0)}}e:{if(v=d?o1(d):window,g=v.nodeName&&v.nodeName.toLowerCase(),g==="select"||g==="input"&&v.type==="file")var P=$he;else if(o7(v))if(aK)P=Vhe;else{P=zhe;var D=Bhe}else(g=v.nodeName)&&g.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=Uhe);if(P&&(P=P(e,d))){nK(h,P,r,f);break e}D&&D(e,v,d),e==="focusout"&&(D=v._wrapperState)&&D.controlled&&v.type==="number"&&W6(v,"number",v.value)}switch(D=d?o1(d):window,e){case"focusin":(o7(D)||D.contentEditable==="true")&&(s1=D,nT=d,a2=null);break;case"focusout":a2=nT=s1=null;break;case"mousedown":aT=!0;break;case"contextmenu":case"mouseup":case"dragend":aT=!1,f7(h,r,f);break;case"selectionchange":if(Hhe)break;case"keydown":case"keyup":f7(h,r,f)}var M;if(QO)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else a1?tK(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(eK&&r.locale!=="ko"&&(a1||I!=="onCompositionStart"?I==="onCompositionEnd"&&a1&&(M=QG()):(Qm=f,XO="value"in Qm?Qm.value:Qm.textContent,a1=!0)),D=q4(d,I),0<D.length&&(I=new n7(I,e,null,r,f),h.push({event:I,listeners:D}),M?I.data=M:(M=rK(r),M!==null&&(I.data=M)))),(M=Dhe?Rhe(e,r):Mhe(e,r))&&(d=q4(d,"onBeforeInput"),0<d.length&&(f=new n7("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:d}),f.data=M))}mK(h,t)})}function U2(e,t,r){return{instance:e,listener:t,currentTarget:r}}function q4(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=R2(e,r),a!=null&&n.unshift(U2(e,a,s)),a=R2(e,t),a!=null&&n.push(U2(e,a,s))),e=e.return}return n}function Iv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p7(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=R2(r,a),c!=null&&o.unshift(U2(r,c,l))):s||(c=R2(r,a),c!=null&&o.push(U2(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Xhe=/\r\n?/g,Jhe=/\u0000|\uFFFD/g;function g7(e){return(typeof e=="string"?e:""+e).replace(Xhe,`
`).replace(Jhe,"")}function Q5(e,t,r){if(t=g7(t),g7(e)!==t&&r)throw Error(Jt(425))}function W4(){}var sT=null,iT=null;function oT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lT=typeof setTimeout=="function"?setTimeout:void 0,Zhe=typeof clearTimeout=="function"?clearTimeout:void 0,v7=typeof Promise=="function"?Promise:void 0,Qhe=typeof queueMicrotask=="function"?queueMicrotask:typeof v7<"u"?function(e){return v7.resolve(null).then(e).catch(eme)}:lT;function eme(e){setTimeout(function(){throw e})}function Tk(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),L2(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);L2(t)}function cp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function x7(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yx=Math.random().toString(36).slice(2),_f="__reactFiber$"+Yx,V2="__reactProps$"+Yx,Uh="__reactContainer$"+Yx,cT="__reactEvents$"+Yx,tme="__reactListeners$"+Yx,rme="__reactHandles$"+Yx;function eg(e){var t=e[_f];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Uh]||r[_f]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=x7(e);e!==null;){if(r=e[_f])return r;e=x7(e)}return t}e=r,r=e.parentNode}return null}function f_(e){return e=e[_f]||e[Uh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function o1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Jt(33))}function n3(e){return e[V2]||null}var uT=[],l1=-1;function Ip(e){return{current:e}}function Rs(e){0>l1||(e.current=uT[l1],uT[l1]=null,l1--)}function bs(e,t){l1++,uT[l1]=e.current,e.current=t}var Ap={},Al=Ip(Ap),jc=Ip(!1),_g=Ap;function X1(e,t){var r=e.type.contextTypes;if(!r)return Ap;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nc(e){return e=e.childContextTypes,e!=null}function H4(){Rs(jc),Rs(Al)}function y7(e,t,r){if(Al.current!==Ap)throw Error(Jt(168));bs(Al,t),bs(jc,r)}function gK(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Jt(108,Bfe(e)||"Unknown",s));return ti({},r,n)}function G4(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ap,_g=Al.current,bs(Al,e),bs(jc,jc.current),!0}function b7(e,t,r){var n=e.stateNode;if(!n)throw Error(Jt(169));r?(e=gK(e,t,_g),n.__reactInternalMemoizedMergedChildContext=e,Rs(jc),Rs(Al),bs(Al,e)):Rs(jc),bs(jc,r)}var Ah=null,a3=!1,Pk=!1;function vK(e){Ah===null?Ah=[e]:Ah.push(e)}function nme(e){a3=!0,vK(e)}function Lp(){if(!Pk&&Ah!==null){Pk=!0;var e=0,t=Za;try{var r=Ah;for(Za=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ah=null,a3=!1}catch(s){throw Ah!==null&&(Ah=Ah.slice(e+1)),UG(HO,Lp),s}finally{Za=t,Pk=!1}}return null}var c1=[],u1=0,K4=null,Y4=0,Ru=[],Mu=0,jg=null,Th=1,Ph="";function L0(e,t){c1[u1++]=Y4,c1[u1++]=K4,K4=e,Y4=t}function xK(e,t,r){Ru[Mu++]=Th,Ru[Mu++]=Ph,Ru[Mu++]=jg,jg=e;var n=Th;e=Ph;var s=32-Od(n)-1;n&=~(1<<s),r+=1;var a=32-Od(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Th=1<<32-Od(t)+s|r<<s|n,Ph=a+e}else Th=1<<a|r<<s|n,Ph=e}function tF(e){e.return!==null&&(L0(e,1),xK(e,1,0))}function rF(e){for(;e===K4;)K4=c1[--u1],c1[u1]=null,Y4=c1[--u1],c1[u1]=null;for(;e===jg;)jg=Ru[--Mu],Ru[Mu]=null,Ph=Ru[--Mu],Ru[Mu]=null,Th=Ru[--Mu],Ru[Mu]=null}var Zc=null,Yc=null,zs=!1,Ad=null;function yK(e,t){var r=zu(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function w7(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zc=e,Yc=cp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zc=e,Yc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jg!==null?{id:Th,overflow:Ph}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zu(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zc=e,Yc=null,!0):!1;default:return!1}}function dT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fT(e){if(zs){var t=Yc;if(t){var r=t;if(!w7(e,t)){if(dT(e))throw Error(Jt(418));t=cp(r.nextSibling);var n=Zc;t&&w7(e,t)?yK(n,r):(e.flags=e.flags&-4097|2,zs=!1,Zc=e)}}else{if(dT(e))throw Error(Jt(418));e.flags=e.flags&-4097|2,zs=!1,Zc=e}}}function _7(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zc=e}function ej(e){if(e!==Zc)return!1;if(!zs)return _7(e),zs=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oT(e.type,e.memoizedProps)),t&&(t=Yc)){if(dT(e))throw bK(),Error(Jt(418));for(;t;)yK(e,t),t=cp(t.nextSibling)}if(_7(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Jt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yc=cp(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yc=null}}else Yc=Zc?cp(e.stateNode.nextSibling):null;return!0}function bK(){for(var e=Yc;e;)e=cp(e.nextSibling)}function J1(){Yc=Zc=null,zs=!1}function nF(e){Ad===null?Ad=[e]:Ad.push(e)}var ame=Qh.ReactCurrentBatchConfig;function mb(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Jt(309));var n=r.stateNode}if(!n)throw Error(Jt(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Jt(284));if(!r._owner)throw Error(Jt(290,e))}return e}function tj(e,t){throw e=Object.prototype.toString.call(t),Error(Jt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j7(e){var t=e._init;return t(e._payload)}function wK(e){function t(w,C){if(e){var k=w.deletions;k===null?(w.deletions=[C],w.flags|=16):k.push(C)}}function r(w,C){if(!e)return null;for(;C!==null;)t(w,C),C=C.sibling;return null}function n(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function s(w,C){return w=hp(w,C),w.index=0,w.sibling=null,w}function a(w,C,k){return w.index=k,e?(k=w.alternate,k!==null?(k=k.index,k<C?(w.flags|=2,C):k):(w.flags|=2,C)):(w.flags|=1048576,C)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,C,k,T){return C===null||C.tag!==6?(C=Lk(k,w.mode,T),C.return=w,C):(C=s(C,k),C.return=w,C)}function c(w,C,k,T){var P=k.type;return P===n1?f(w,C,k.props.children,T,k.key):C!==null&&(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qm&&j7(P)===C.type)?(T=s(C,k.props),T.ref=mb(w,C,k),T.return=w,T):(T=d4(k.type,k.key,k.props,null,w.mode,T),T.ref=mb(w,C,k),T.return=w,T)}function d(w,C,k,T){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=$k(k,w.mode,T),C.return=w,C):(C=s(C,k.children||[]),C.return=w,C)}function f(w,C,k,T,P){return C===null||C.tag!==7?(C=mg(k,w.mode,T,P),C.return=w,C):(C=s(C,k),C.return=w,C)}function h(w,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Lk(""+C,w.mode,k),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case q5:return k=d4(C.type,C.key,C.props,null,w.mode,k),k.ref=mb(w,null,C),k.return=w,k;case r1:return C=$k(C,w.mode,k),C.return=w,C;case qm:var T=C._init;return h(w,T(C._payload),k)}if(qb(C)||cb(C))return C=mg(C,w.mode,k,null),C.return=w,C;tj(w,C)}return null}function v(w,C,k,T){var P=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return P!==null?null:l(w,C,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q5:return k.key===P?c(w,C,k,T):null;case r1:return k.key===P?d(w,C,k,T):null;case qm:return P=k._init,v(w,C,P(k._payload),T)}if(qb(k)||cb(k))return P!==null?null:f(w,C,k,T,null);tj(w,k)}return null}function g(w,C,k,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(k)||null,l(C,w,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case q5:return w=w.get(T.key===null?k:T.key)||null,c(C,w,T,P);case r1:return w=w.get(T.key===null?k:T.key)||null,d(C,w,T,P);case qm:var D=T._init;return g(w,C,k,D(T._payload),P)}if(qb(T)||cb(T))return w=w.get(k)||null,f(C,w,T,P,null);tj(C,T)}return null}function _(w,C,k,T){for(var P=null,D=null,M=C,I=C=0,B=null;M!==null&&I<k.length;I++){M.index>I?(B=M,M=null):B=M.sibling;var V=v(w,M,k[I],T);if(V===null){M===null&&(M=B);break}e&&M&&V.alternate===null&&t(w,M),C=a(V,C,I),D===null?P=V:D.sibling=V,D=V,M=B}if(I===k.length)return r(w,M),zs&&L0(w,I),P;if(M===null){for(;I<k.length;I++)M=h(w,k[I],T),M!==null&&(C=a(M,C,I),D===null?P=M:D.sibling=M,D=M);return zs&&L0(w,I),P}for(M=n(w,M);I<k.length;I++)B=g(M,w,I,k[I],T),B!==null&&(e&&B.alternate!==null&&M.delete(B.key===null?I:B.key),C=a(B,C,I),D===null?P=B:D.sibling=B,D=B);return e&&M.forEach(function(U){return t(w,U)}),zs&&L0(w,I),P}function y(w,C,k,T){var P=cb(k);if(typeof P!="function")throw Error(Jt(150));if(k=P.call(k),k==null)throw Error(Jt(151));for(var D=P=null,M=C,I=C=0,B=null,V=k.next();M!==null&&!V.done;I++,V=k.next()){M.index>I?(B=M,M=null):B=M.sibling;var U=v(w,M,V.value,T);if(U===null){M===null&&(M=B);break}e&&M&&U.alternate===null&&t(w,M),C=a(U,C,I),D===null?P=U:D.sibling=U,D=U,M=B}if(V.done)return r(w,M),zs&&L0(w,I),P;if(M===null){for(;!V.done;I++,V=k.next())V=h(w,V.value,T),V!==null&&(C=a(V,C,I),D===null?P=V:D.sibling=V,D=V);return zs&&L0(w,I),P}for(M=n(w,M);!V.done;I++,V=k.next())V=g(M,w,I,V.value,T),V!==null&&(e&&V.alternate!==null&&M.delete(V.key===null?I:V.key),C=a(V,C,I),D===null?P=V:D.sibling=V,D=V);return e&&M.forEach(function(q){return t(w,q)}),zs&&L0(w,I),P}function j(w,C,k,T){if(typeof k=="object"&&k!==null&&k.type===n1&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case q5:e:{for(var P=k.key,D=C;D!==null;){if(D.key===P){if(P=k.type,P===n1){if(D.tag===7){r(w,D.sibling),C=s(D,k.props.children),C.return=w,w=C;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qm&&j7(P)===D.type){r(w,D.sibling),C=s(D,k.props),C.ref=mb(w,D,k),C.return=w,w=C;break e}r(w,D);break}else t(w,D);D=D.sibling}k.type===n1?(C=mg(k.props.children,w.mode,T,k.key),C.return=w,w=C):(T=d4(k.type,k.key,k.props,null,w.mode,T),T.ref=mb(w,C,k),T.return=w,w=T)}return o(w);case r1:e:{for(D=k.key;C!==null;){if(C.key===D)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){r(w,C.sibling),C=s(C,k.children||[]),C.return=w,w=C;break e}else{r(w,C);break}else t(w,C);C=C.sibling}C=$k(k,w.mode,T),C.return=w,w=C}return o(w);case qm:return D=k._init,j(w,C,D(k._payload),T)}if(qb(k))return _(w,C,k,T);if(cb(k))return y(w,C,k,T);tj(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(r(w,C.sibling),C=s(C,k),C.return=w,w=C):(r(w,C),C=Lk(k,w.mode,T),C.return=w,w=C),o(w)):r(w,C)}return j}var Z1=wK(!0),_K=wK(!1),X4=Ip(null),J4=null,d1=null,aF=null;function sF(){aF=d1=J4=null}function iF(e){var t=X4.current;Rs(X4),e._currentValue=t}function hT(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function O1(e,t){J4=e,aF=d1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vc=!0),e.firstContext=null)}function Ku(e){var t=e._currentValue;if(aF!==e)if(e={context:e,memoizedValue:t,next:null},d1===null){if(J4===null)throw Error(Jt(308));d1=e,J4.dependencies={lanes:0,firstContext:e}}else d1=d1.next=e;return t}var tg=null;function oF(e){tg===null?tg=[e]:tg.push(e)}function jK(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,oF(t)):(r.next=s.next,s.next=r),t.interleaved=r,Vh(e,n)}function Vh(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wm=!1;function lF(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function up(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ta&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Vh(e,r)}return s=n.interleaved,s===null?(t.next=t,oF(n)):(t.next=s.next,s.next=t),n.interleaved=t,Vh(e,r)}function s4(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GO(e,r)}}function N7(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Z4(e,t,r,n){var s=e.updateQueue;Wm=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,f=d=c=null,l=a;do{var v=l.lane,g=l.eventTime;if((n&v)===v){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,y=l;switch(v=t,g=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){h=_.call(g,h,v);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,v=typeof _=="function"?_.call(g,h,v):_,v==null)break e;h=ti({},h,v);break e;case 2:Wm=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else g={eventTime:g,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=g,c=h):f=f.next=g,o|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(1);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Sg|=o,e.lanes=o,e.memoizedState=h}}function S7(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Jt(191,s));s.call(n)}}}var h_={},Ff=Ip(h_),q2=Ip(h_),W2=Ip(h_);function rg(e){if(e===h_)throw Error(Jt(174));return e}function cF(e,t){switch(bs(W2,t),bs(q2,e),bs(Ff,h_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G6(t,e)}Rs(Ff),bs(Ff,t)}function Q1(){Rs(Ff),Rs(q2),Rs(W2)}function SK(e){rg(W2.current);var t=rg(Ff.current),r=G6(t,e.type);t!==r&&(bs(q2,e),bs(Ff,r))}function uF(e){q2.current===e&&(Rs(Ff),Rs(q2))}var Zs=Ip(0);function Q4(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ok=[];function dF(){for(var e=0;e<Ok.length;e++)Ok[e]._workInProgressVersionPrimary=null;Ok.length=0}var i4=Qh.ReactCurrentDispatcher,Fk=Qh.ReactCurrentBatchConfig,Ng=0,ei=null,go=null,Uo=null,eN=!1,s2=!1,H2=0,sme=0;function gl(){throw Error(Jt(321))}function fF(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rd(e[r],t[r]))return!1;return!0}function hF(e,t,r,n,s,a){if(Ng=a,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,i4.current=e===null||e.memoizedState===null?cme:ume,e=r(n,s),s2){a=0;do{if(s2=!1,H2=0,25<=a)throw Error(Jt(301));a+=1,Uo=go=null,t.updateQueue=null,i4.current=dme,e=r(n,s)}while(s2)}if(i4.current=tN,t=go!==null&&go.next!==null,Ng=0,Uo=go=ei=null,eN=!1,t)throw Error(Jt(300));return e}function mF(){var e=H2!==0;return H2=0,e}function wf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Uo===null?ei.memoizedState=Uo=e:Uo=Uo.next=e,Uo}function Yu(){if(go===null){var e=ei.alternate;e=e!==null?e.memoizedState:null}else e=go.next;var t=Uo===null?ei.memoizedState:Uo.next;if(t!==null)Uo=t,go=e;else{if(e===null)throw Error(Jt(310));go=e,e={memoizedState:go.memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},Uo===null?ei.memoizedState=Uo=e:Uo=Uo.next=e}return Uo}function G2(e,t){return typeof t=="function"?t(e):t}function Dk(e){var t=Yu(),r=t.queue;if(r===null)throw Error(Jt(311));r.lastRenderedReducer=e;var n=go,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((Ng&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ei.lanes|=f,Sg|=f}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Rd(n,t.memoizedState)||(vc=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ei.lanes|=a,Sg|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rk(e){var t=Yu(),r=t.queue;if(r===null)throw Error(Jt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Rd(a,t.memoizedState)||(vc=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function CK(){}function AK(e,t){var r=ei,n=Yu(),s=t(),a=!Rd(n.memoizedState,s);if(a&&(n.memoizedState=s,vc=!0),n=n.queue,pF(TK.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Uo!==null&&Uo.memoizedState.tag&1){if(r.flags|=2048,K2(9,EK.bind(null,r,n,s,t),void 0,null),Ho===null)throw Error(Jt(349));Ng&30||kK(r,t,s)}return s}function kK(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ei.updateQueue,t===null?(t={lastEffect:null,stores:null},ei.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function EK(e,t,r,n){t.value=r,t.getSnapshot=n,PK(t)&&OK(e)}function TK(e,t,r){return r(function(){PK(t)&&OK(e)})}function PK(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rd(e,r)}catch{return!0}}function OK(e){var t=Vh(e,1);t!==null&&Fd(t,e,1,-1)}function C7(e){var t=wf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:G2,lastRenderedState:e},t.queue=e,e=e.dispatch=lme.bind(null,ei,e),[t.memoizedState,e]}function K2(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ei.updateQueue,t===null?(t={lastEffect:null,stores:null},ei.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function FK(){return Yu().memoizedState}function o4(e,t,r,n){var s=wf();ei.flags|=e,s.memoizedState=K2(1|t,r,void 0,n===void 0?null:n)}function s3(e,t,r,n){var s=Yu();n=n===void 0?null:n;var a=void 0;if(go!==null){var o=go.memoizedState;if(a=o.destroy,n!==null&&fF(n,o.deps)){s.memoizedState=K2(t,r,a,n);return}}ei.flags|=e,s.memoizedState=K2(1|t,r,a,n)}function A7(e,t){return o4(8390656,8,e,t)}function pF(e,t){return s3(2048,8,e,t)}function DK(e,t){return s3(4,2,e,t)}function RK(e,t){return s3(4,4,e,t)}function MK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IK(e,t,r){return r=r!=null?r.concat([e]):null,s3(4,4,MK.bind(null,t,e),r)}function gF(){}function LK(e,t){var r=Yu();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fF(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $K(e,t){var r=Yu();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fF(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function BK(e,t,r){return Ng&21?(Rd(r,t)||(r=WG(),ei.lanes|=r,Sg|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vc=!0),e.memoizedState=r)}function ime(e,t){var r=Za;Za=r!==0&&4>r?r:4,e(!0);var n=Fk.transition;Fk.transition={};try{e(!1),t()}finally{Za=r,Fk.transition=n}}function zK(){return Yu().memoizedState}function ome(e,t,r){var n=fp(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},UK(e))VK(t,r);else if(r=jK(e,t,r,n),r!==null){var s=Zl();Fd(r,e,n,s),qK(r,t,n)}}function lme(e,t,r){var n=fp(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(UK(e))VK(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Rd(l,o)){var c=t.interleaved;c===null?(s.next=s,oF(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=jK(e,t,s,n),r!==null&&(s=Zl(),Fd(r,e,n,s),qK(r,t,n))}}function UK(e){var t=e.alternate;return e===ei||t!==null&&t===ei}function VK(e,t){s2=eN=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qK(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GO(e,r)}}var tN={readContext:Ku,useCallback:gl,useContext:gl,useEffect:gl,useImperativeHandle:gl,useInsertionEffect:gl,useLayoutEffect:gl,useMemo:gl,useReducer:gl,useRef:gl,useState:gl,useDebugValue:gl,useDeferredValue:gl,useTransition:gl,useMutableSource:gl,useSyncExternalStore:gl,useId:gl,unstable_isNewReconciler:!1},cme={readContext:Ku,useCallback:function(e,t){return wf().memoizedState=[e,t===void 0?null:t],e},useContext:Ku,useEffect:A7,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,o4(4194308,4,MK.bind(null,t,e),r)},useLayoutEffect:function(e,t){return o4(4194308,4,e,t)},useInsertionEffect:function(e,t){return o4(4,2,e,t)},useMemo:function(e,t){var r=wf();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wf();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ome.bind(null,ei,e),[n.memoizedState,e]},useRef:function(e){var t=wf();return e={current:e},t.memoizedState=e},useState:C7,useDebugValue:gF,useDeferredValue:function(e){return wf().memoizedState=e},useTransition:function(){var e=C7(!1),t=e[0];return e=ime.bind(null,e[1]),wf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ei,s=wf();if(zs){if(r===void 0)throw Error(Jt(407));r=r()}else{if(r=t(),Ho===null)throw Error(Jt(349));Ng&30||kK(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,A7(TK.bind(null,n,a,e),[e]),n.flags|=2048,K2(9,EK.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=wf(),t=Ho.identifierPrefix;if(zs){var r=Ph,n=Th;r=(n&~(1<<32-Od(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=H2++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sme++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ume={readContext:Ku,useCallback:LK,useContext:Ku,useEffect:pF,useImperativeHandle:IK,useInsertionEffect:DK,useLayoutEffect:RK,useMemo:$K,useReducer:Dk,useRef:FK,useState:function(){return Dk(G2)},useDebugValue:gF,useDeferredValue:function(e){var t=Yu();return BK(t,go.memoizedState,e)},useTransition:function(){var e=Dk(G2)[0],t=Yu().memoizedState;return[e,t]},useMutableSource:CK,useSyncExternalStore:AK,useId:zK,unstable_isNewReconciler:!1},dme={readContext:Ku,useCallback:LK,useContext:Ku,useEffect:pF,useImperativeHandle:IK,useInsertionEffect:DK,useLayoutEffect:RK,useMemo:$K,useReducer:Rk,useRef:FK,useState:function(){return Rk(G2)},useDebugValue:gF,useDeferredValue:function(e){var t=Yu();return go===null?t.memoizedState=e:BK(t,go.memoizedState,e)},useTransition:function(){var e=Rk(G2)[0],t=Yu().memoizedState;return[e,t]},useMutableSource:CK,useSyncExternalStore:AK,useId:zK,unstable_isNewReconciler:!1};function jd(e,t){if(e&&e.defaultProps){t=ti({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mT(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ti({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var i3={isMounted:function(e){return(e=e._reactInternals)?Hg(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zl(),s=fp(e),a=Mh(n,s);a.payload=t,r!=null&&(a.callback=r),t=up(e,a,s),t!==null&&(Fd(t,e,s,n),s4(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zl(),s=fp(e),a=Mh(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=up(e,a,s),t!==null&&(Fd(t,e,s,n),s4(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zl(),n=fp(e),s=Mh(r,n);s.tag=2,t!=null&&(s.callback=t),t=up(e,s,n),t!==null&&(Fd(t,e,n,r),s4(t,e,n))}};function k7(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!B2(r,n)||!B2(s,a):!0}function WK(e,t,r){var n=!1,s=Ap,a=t.contextType;return typeof a=="object"&&a!==null?a=Ku(a):(s=Nc(t)?_g:Al.current,n=t.contextTypes,a=(n=n!=null)?X1(e,s):Ap),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=i3,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function E7(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&i3.enqueueReplaceState(t,t.state,null)}function pT(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},lF(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ku(a):(a=Nc(t)?_g:Al.current,s.context=X1(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(mT(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&i3.enqueueReplaceState(s,s.state,null),Z4(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ex(e,t){try{var r="",n=t;do r+=$fe(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Mk(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fme=typeof WeakMap=="function"?WeakMap:Map;function HK(e,t,r){r=Mh(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nN||(nN=!0,CT=n),gT(e,t)},r}function GK(e,t,r){r=Mh(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){gT(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){gT(e,t),typeof n!="function"&&(dp===null?dp=new Set([this]):dp.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function T7(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fme;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Cme.bind(null,e,t,r),t.then(e,e))}function P7(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function O7(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mh(-1,1),t.tag=2,up(r,t,1))),r.lanes|=1),e)}var hme=Qh.ReactCurrentOwner,vc=!1;function Wl(e,t,r,n){t.child=e===null?_K(t,null,r,n):Z1(t,e.child,r,n)}function F7(e,t,r,n,s){r=r.render;var a=t.ref;return O1(t,s),n=hF(e,t,r,n,a,s),r=mF(),e!==null&&!vc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qh(e,t,s)):(zs&&r&&tF(t),t.flags|=1,Wl(e,t,n,s),t.child)}function D7(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!NF(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,KK(e,t,a,n,s)):(e=d4(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:B2,r(o,n)&&e.ref===t.ref)return qh(e,t,s)}return t.flags|=1,e=hp(a,n),e.ref=t.ref,e.return=t,t.child=e}function KK(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(B2(a,n)&&e.ref===t.ref)if(vc=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(vc=!0);else return t.lanes=e.lanes,qh(e,t,s)}return vT(e,t,r,n,s)}function YK(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bs(h1,Uc),Uc|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bs(h1,Uc),Uc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,bs(h1,Uc),Uc|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,bs(h1,Uc),Uc|=n;return Wl(e,t,s,r),t.child}function XK(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vT(e,t,r,n,s){var a=Nc(r)?_g:Al.current;return a=X1(t,a),O1(t,s),r=hF(e,t,r,n,a,s),n=mF(),e!==null&&!vc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qh(e,t,s)):(zs&&n&&tF(t),t.flags|=1,Wl(e,t,r,s),t.child)}function R7(e,t,r,n,s){if(Nc(r)){var a=!0;G4(t)}else a=!1;if(O1(t,s),t.stateNode===null)l4(e,t),WK(t,r,n),pT(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ku(d):(d=Nc(r)?_g:Al.current,d=X1(t,d));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&E7(t,o,n,d),Wm=!1;var v=t.memoizedState;o.state=v,Z4(t,n,o,s),c=t.memoizedState,l!==n||v!==c||jc.current||Wm?(typeof f=="function"&&(mT(t,r,f,n),c=t.memoizedState),(l=Wm||k7(t,r,l,n,v,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,NK(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:jd(t.type,l),o.props=d,h=t.pendingProps,v=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ku(c):(c=Nc(r)?_g:Al.current,c=X1(t,c));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||v!==c)&&E7(t,o,n,c),Wm=!1,v=t.memoizedState,o.state=v,Z4(t,n,o,s);var _=t.memoizedState;l!==h||v!==_||jc.current||Wm?(typeof g=="function"&&(mT(t,r,g,n),_=t.memoizedState),(d=Wm||k7(t,r,d,n,v,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return xT(e,t,r,n,a,s)}function xT(e,t,r,n,s,a){XK(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&b7(t,r,!1),qh(e,t,a);n=t.stateNode,hme.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Z1(t,e.child,null,a),t.child=Z1(t,null,l,a)):Wl(e,t,l,a),t.memoizedState=n.state,s&&b7(t,r,!0),t.child}function JK(e){var t=e.stateNode;t.pendingContext?y7(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y7(e,t.context,!1),cF(e,t.containerInfo)}function M7(e,t,r,n,s){return J1(),nF(s),t.flags|=256,Wl(e,t,r,n),t.child}var yT={dehydrated:null,treeContext:null,retryLane:0};function bT(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZK(e,t,r){var n=t.pendingProps,s=Zs.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),bs(Zs,s&1),e===null)return fT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=c3(o,n,0,null),e=mg(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bT(r),t.memoizedState=yT,e):vF(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mme(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hp(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=hp(l,a):(a=mg(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?bT(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=yT,n}return a=e.child,e=a.sibling,n=hp(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vF(e,t){return t=c3({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rj(e,t,r,n){return n!==null&&nF(n),Z1(t,e.child,null,r),e=vF(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mme(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Mk(Error(Jt(422))),rj(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=c3({mode:"visible",children:n.children},s,0,null),a=mg(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Z1(t,e.child,null,o),t.child.memoizedState=bT(o),t.memoizedState=yT,a);if(!(t.mode&1))return rj(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Jt(419)),n=Mk(a,n,void 0),rj(e,t,o,n)}if(l=(o&e.childLanes)!==0,vc||l){if(n=Ho,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Vh(e,s),Fd(n,e,s,-1))}return jF(),n=Mk(Error(Jt(421))),rj(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ame.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Yc=cp(s.nextSibling),Zc=t,zs=!0,Ad=null,e!==null&&(Ru[Mu++]=Th,Ru[Mu++]=Ph,Ru[Mu++]=jg,Th=e.id,Ph=e.overflow,jg=t),t=vF(t,n.children),t.flags|=4096,t)}function I7(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hT(e.return,t,r)}function Ik(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function QK(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Wl(e,t,n.children,r),n=Zs.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I7(e,r,t);else if(e.tag===19)I7(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bs(Zs,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Q4(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ik(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Q4(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ik(t,!0,r,null,a);break;case"together":Ik(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l4(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qh(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sg|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Jt(153));if(t.child!==null){for(e=t.child,r=hp(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hp(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pme(e,t,r){switch(t.tag){case 3:JK(t),J1();break;case 5:SK(t);break;case 1:Nc(t.type)&&G4(t);break;case 4:cF(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;bs(X4,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(bs(Zs,Zs.current&1),t.flags|=128,null):r&t.child.childLanes?ZK(e,t,r):(bs(Zs,Zs.current&1),e=qh(e,t,r),e!==null?e.sibling:null);bs(Zs,Zs.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return QK(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bs(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,YK(e,t,r)}return qh(e,t,r)}var eY,wT,tY,rY;eY=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wT=function(){};tY=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,rg(Ff.current);var a=null;switch(r){case"input":s=V6(e,s),n=V6(e,n),a=[];break;case"select":s=ti({},s,{value:void 0}),n=ti({},n,{value:void 0}),a=[];break;case"textarea":s=H6(e,s),n=H6(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=W4)}K6(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(F2.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(F2.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ps("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};rY=function(e,t,r,n){r!==n&&(t.flags|=4)};function pb(e,t){if(!zs)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function vl(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gme(e,t,r){var n=t.pendingProps;switch(rF(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vl(t),null;case 1:return Nc(t.type)&&H4(),vl(t),null;case 3:return n=t.stateNode,Q1(),Rs(jc),Rs(Al),dF(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ej(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ad!==null&&(ET(Ad),Ad=null))),wT(e,t),vl(t),null;case 5:uF(t);var s=rg(W2.current);if(r=t.type,e!==null&&t.stateNode!=null)tY(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Jt(166));return vl(t),null}if(e=rg(Ff.current),ej(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[_f]=t,n[V2]=a,e=(t.mode&1)!==0,r){case"dialog":Ps("cancel",n),Ps("close",n);break;case"iframe":case"object":case"embed":Ps("load",n);break;case"video":case"audio":for(s=0;s<Hb.length;s++)Ps(Hb[s],n);break;case"source":Ps("error",n);break;case"img":case"image":case"link":Ps("error",n),Ps("load",n);break;case"details":Ps("toggle",n);break;case"input":HL(n,a),Ps("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ps("invalid",n);break;case"textarea":KL(n,a),Ps("invalid",n)}K6(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Q5(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Q5(n.textContent,l,e),s=["children",""+l]):F2.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ps("scroll",n)}switch(r){case"input":W5(n),GL(n,a,!0);break;case"textarea":W5(n),YL(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=W4)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TG(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[_f]=t,e[V2]=n,eY(e,t,!1,!1),t.stateNode=e;e:{switch(o=Y6(r,n),r){case"dialog":Ps("cancel",e),Ps("close",e),s=n;break;case"iframe":case"object":case"embed":Ps("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hb.length;s++)Ps(Hb[s],e);s=n;break;case"source":Ps("error",e),s=n;break;case"img":case"image":case"link":Ps("error",e),Ps("load",e),s=n;break;case"details":Ps("toggle",e),s=n;break;case"input":HL(e,n),s=V6(e,n),Ps("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ti({},n,{value:void 0}),Ps("invalid",e);break;case"textarea":KL(e,n),s=H6(e,n),Ps("invalid",e);break;default:s=n}K6(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?FG(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PG(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&D2(e,c):typeof c=="number"&&D2(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(F2.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ps("scroll",e):c!=null&&zO(e,a,c,o))}switch(r){case"input":W5(e),GL(e,n,!1);break;case"textarea":W5(e),YL(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Cp(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?k1(e,!!n.multiple,a,!1):n.defaultValue!=null&&k1(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=W4)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vl(t),null;case 6:if(e&&t.stateNode!=null)rY(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Jt(166));if(r=rg(W2.current),rg(Ff.current),ej(t)){if(n=t.stateNode,r=t.memoizedProps,n[_f]=t,(a=n.nodeValue!==r)&&(e=Zc,e!==null))switch(e.tag){case 3:Q5(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Q5(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_f]=t,t.stateNode=n}return vl(t),null;case 13:if(Rs(Zs),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zs&&Yc!==null&&t.mode&1&&!(t.flags&128))bK(),J1(),t.flags|=98560,a=!1;else if(a=ej(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Jt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Jt(317));a[_f]=t}else J1(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vl(t),a=!1}else Ad!==null&&(ET(Ad),Ad=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Zs.current&1?yo===0&&(yo=3):jF())),t.updateQueue!==null&&(t.flags|=4),vl(t),null);case 4:return Q1(),wT(e,t),e===null&&z2(t.stateNode.containerInfo),vl(t),null;case 10:return iF(t.type._context),vl(t),null;case 17:return Nc(t.type)&&H4(),vl(t),null;case 19:if(Rs(Zs),a=t.memoizedState,a===null)return vl(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)pb(a,!1);else{if(yo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Q4(e),o!==null){for(t.flags|=128,pb(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return bs(Zs,Zs.current&1|2),t.child}e=e.sibling}a.tail!==null&&ji()>tx&&(t.flags|=128,n=!0,pb(a,!1),t.lanes=4194304)}else{if(!n)if(e=Q4(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pb(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!zs)return vl(t),null}else 2*ji()-a.renderingStartTime>tx&&r!==1073741824&&(t.flags|=128,n=!0,pb(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ji(),t.sibling=null,r=Zs.current,bs(Zs,n?r&1|2:r&1),t):(vl(t),null);case 22:case 23:return _F(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Uc&1073741824&&(vl(t),t.subtreeFlags&6&&(t.flags|=8192)):vl(t),null;case 24:return null;case 25:return null}throw Error(Jt(156,t.tag))}function vme(e,t){switch(rF(t),t.tag){case 1:return Nc(t.type)&&H4(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Q1(),Rs(jc),Rs(Al),dF(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uF(t),null;case 13:if(Rs(Zs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Jt(340));J1()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rs(Zs),null;case 4:return Q1(),null;case 10:return iF(t.type._context),null;case 22:case 23:return _F(),null;case 24:return null;default:return null}}var nj=!1,Nl=!1,xme=typeof WeakSet=="function"?WeakSet:Set,Er=null;function f1(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fi(e,t,n)}else r.current=null}function _T(e,t,r){try{r()}catch(n){fi(e,t,n)}}var L7=!1;function yme(e,t){if(sT=U4,e=oK(),eF(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,f=0,h=e,v=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)v=h,h=g;for(;;){if(h===e)break t;if(v===r&&++d===s&&(l=o),v===a&&++f===n&&(c=o),(g=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iT={focusedElem:e,selectionRange:r},U4=!1,Er=t;Er!==null;)if(t=Er,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Er=e;else for(;Er!==null;){t=Er;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,j=_.memoizedState,w=t.stateNode,C=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:jd(t.type,y),j);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Jt(163))}}catch(T){fi(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Er=e;break}Er=t.return}return _=L7,L7=!1,_}function i2(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&_T(t,r,a)}s=s.next}while(s!==n)}}function o3(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jT(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function nY(e){var t=e.alternate;t!==null&&(e.alternate=null,nY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_f],delete t[V2],delete t[cT],delete t[tme],delete t[rme])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aY(e){return e.tag===5||e.tag===3||e.tag===4}function $7(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function NT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=W4));else if(n!==4&&(e=e.child,e!==null))for(NT(e,t,r),e=e.sibling;e!==null;)NT(e,t,r),e=e.sibling}function ST(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ST(e,t,r),e=e.sibling;e!==null;)ST(e,t,r),e=e.sibling}var il=null,Sd=!1;function Dm(e,t,r){for(r=r.child;r!==null;)sY(e,t,r),r=r.sibling}function sY(e,t,r){if(Of&&typeof Of.onCommitFiberUnmount=="function")try{Of.onCommitFiberUnmount(QS,r)}catch{}switch(r.tag){case 5:Nl||f1(r,t);case 6:var n=il,s=Sd;il=null,Dm(e,t,r),il=n,Sd=s,il!==null&&(Sd?(e=il,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):il.removeChild(r.stateNode));break;case 18:il!==null&&(Sd?(e=il,r=r.stateNode,e.nodeType===8?Tk(e.parentNode,r):e.nodeType===1&&Tk(e,r),L2(e)):Tk(il,r.stateNode));break;case 4:n=il,s=Sd,il=r.stateNode.containerInfo,Sd=!0,Dm(e,t,r),il=n,Sd=s;break;case 0:case 11:case 14:case 15:if(!Nl&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_T(r,t,o),s=s.next}while(s!==n)}Dm(e,t,r);break;case 1:if(!Nl&&(f1(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fi(r,t,l)}Dm(e,t,r);break;case 21:Dm(e,t,r);break;case 22:r.mode&1?(Nl=(n=Nl)||r.memoizedState!==null,Dm(e,t,r),Nl=n):Dm(e,t,r);break;default:Dm(e,t,r)}}function B7(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xme),t.forEach(function(n){var s=kme.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xd(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:il=l.stateNode,Sd=!1;break e;case 3:il=l.stateNode.containerInfo,Sd=!0;break e;case 4:il=l.stateNode.containerInfo,Sd=!0;break e}l=l.return}if(il===null)throw Error(Jt(160));sY(a,o,s),il=null,Sd=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){fi(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iY(t,e),t=t.sibling}function iY(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xd(t,e),xf(e),n&4){try{i2(3,e,e.return),o3(3,e)}catch(y){fi(e,e.return,y)}try{i2(5,e,e.return)}catch(y){fi(e,e.return,y)}}break;case 1:xd(t,e),xf(e),n&512&&r!==null&&f1(r,r.return);break;case 5:if(xd(t,e),xf(e),n&512&&r!==null&&f1(r,r.return),e.flags&32){var s=e.stateNode;try{D2(s,"")}catch(y){fi(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&kG(s,a),Y6(l,o);var d=Y6(l,a);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?FG(s,h):f==="dangerouslySetInnerHTML"?PG(s,h):f==="children"?D2(s,h):zO(s,f,h,d)}switch(l){case"input":q6(s,a);break;case"textarea":EG(s,a);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?k1(s,!!a.multiple,g,!1):v!==!!a.multiple&&(a.defaultValue!=null?k1(s,!!a.multiple,a.defaultValue,!0):k1(s,!!a.multiple,a.multiple?[]:"",!1))}s[V2]=a}catch(y){fi(e,e.return,y)}}break;case 6:if(xd(t,e),xf(e),n&4){if(e.stateNode===null)throw Error(Jt(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){fi(e,e.return,y)}}break;case 3:if(xd(t,e),xf(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{L2(t.containerInfo)}catch(y){fi(e,e.return,y)}break;case 4:xd(t,e),xf(e);break;case 13:xd(t,e),xf(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(bF=ji())),n&4&&B7(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Nl=(d=Nl)||f,xd(t,e),Nl=d):xd(t,e),xf(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Er=e,f=e.child;f!==null;){for(h=Er=f;Er!==null;){switch(v=Er,g=v.child,v.tag){case 0:case 11:case 14:case 15:i2(4,v,v.return);break;case 1:f1(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){fi(n,r,y)}}break;case 5:f1(v,v.return);break;case 22:if(v.memoizedState!==null){U7(h);continue}}g!==null?(g.return=v,Er=g):U7(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=OG("display",o))}catch(y){fi(e,e.return,y)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){fi(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xd(t,e),xf(e),n&4&&B7(e);break;case 21:break;default:xd(t,e),xf(e)}}function xf(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(aY(r)){var n=r;break e}r=r.return}throw Error(Jt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(D2(s,""),n.flags&=-33);var a=$7(e);ST(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=$7(e);NT(e,l,o);break;default:throw Error(Jt(161))}}catch(c){fi(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bme(e,t,r){Er=e,oY(e)}function oY(e,t,r){for(var n=(e.mode&1)!==0;Er!==null;){var s=Er,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||nj;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nl;l=nj;var d=Nl;if(nj=o,(Nl=c)&&!d)for(Er=s;Er!==null;)o=Er,c=o.child,o.tag===22&&o.memoizedState!==null?V7(s):c!==null?(c.return=o,Er=c):V7(s);for(;a!==null;)Er=a,oY(a),a=a.sibling;Er=s,nj=l,Nl=d}z7(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Er=a):z7(e)}}function z7(e){for(;Er!==null;){var t=Er;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nl||o3(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nl)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jd(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&S7(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}S7(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&L2(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Jt(163))}Nl||t.flags&512&&jT(t)}catch(v){fi(t,t.return,v)}}if(t===e){Er=null;break}if(r=t.sibling,r!==null){r.return=t.return,Er=r;break}Er=t.return}}function U7(e){for(;Er!==null;){var t=Er;if(t===e){Er=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Er=r;break}Er=t.return}}function V7(e){for(;Er!==null;){var t=Er;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{o3(4,t)}catch(c){fi(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){fi(t,s,c)}}var a=t.return;try{jT(t)}catch(c){fi(t,a,c)}break;case 5:var o=t.return;try{jT(t)}catch(c){fi(t,o,c)}}}catch(c){fi(t,t.return,c)}if(t===e){Er=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Er=l;break}Er=t.return}}var wme=Math.ceil,rN=Qh.ReactCurrentDispatcher,xF=Qh.ReactCurrentOwner,Vu=Qh.ReactCurrentBatchConfig,Ta=0,Ho=null,qi=null,cl=0,Uc=0,h1=Ip(0),yo=0,Y2=null,Sg=0,l3=0,yF=0,o2=null,mc=null,bF=0,tx=1/0,Nh=null,nN=!1,CT=null,dp=null,aj=!1,ep=null,aN=0,l2=0,AT=null,c4=-1,u4=0;function Zl(){return Ta&6?ji():c4!==-1?c4:c4=ji()}function fp(e){return e.mode&1?Ta&2&&cl!==0?cl&-cl:ame.transition!==null?(u4===0&&(u4=WG()),u4):(e=Za,e!==0||(e=window.event,e=e===void 0?16:ZG(e.type)),e):1}function Fd(e,t,r,n){if(50<l2)throw l2=0,AT=null,Error(Jt(185));u_(e,r,n),(!(Ta&2)||e!==Ho)&&(e===Ho&&(!(Ta&2)&&(l3|=r),yo===4&&Ym(e,cl)),Sc(e,n),r===1&&Ta===0&&!(t.mode&1)&&(tx=ji()+500,a3&&Lp()))}function Sc(e,t){var r=e.callbackNode;ahe(e,t);var n=z4(e,e===Ho?cl:0);if(n===0)r!==null&&ZL(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZL(r),t===1)e.tag===0?nme(q7.bind(null,e)):vK(q7.bind(null,e)),Qhe(function(){!(Ta&6)&&Lp()}),r=null;else{switch(HG(n)){case 1:r=HO;break;case 4:r=VG;break;case 16:r=B4;break;case 536870912:r=qG;break;default:r=B4}r=pY(r,lY.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lY(e,t){if(c4=-1,u4=0,Ta&6)throw Error(Jt(327));var r=e.callbackNode;if(F1()&&e.callbackNode!==r)return null;var n=z4(e,e===Ho?cl:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sN(e,n);else{t=n;var s=Ta;Ta|=2;var a=uY();(Ho!==e||cl!==t)&&(Nh=null,tx=ji()+500,hg(e,t));do try{Nme();break}catch(l){cY(e,l)}while(1);sF(),rN.current=a,Ta=s,qi!==null?t=0:(Ho=null,cl=0,t=yo)}if(t!==0){if(t===2&&(s=eT(e),s!==0&&(n=s,t=kT(e,s))),t===1)throw r=Y2,hg(e,0),Ym(e,n),Sc(e,ji()),r;if(t===6)Ym(e,n);else{if(s=e.current.alternate,!(n&30)&&!_me(s)&&(t=sN(e,n),t===2&&(a=eT(e),a!==0&&(n=a,t=kT(e,a))),t===1))throw r=Y2,hg(e,0),Ym(e,n),Sc(e,ji()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Jt(345));case 2:$0(e,mc,Nh);break;case 3:if(Ym(e,n),(n&130023424)===n&&(t=bF+500-ji(),10<t)){if(z4(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Zl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lT($0.bind(null,e,mc,Nh),t);break}$0(e,mc,Nh);break;case 4:if(Ym(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Od(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=ji()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wme(n/1960))-n,10<n){e.timeoutHandle=lT($0.bind(null,e,mc,Nh),n);break}$0(e,mc,Nh);break;case 5:$0(e,mc,Nh);break;default:throw Error(Jt(329))}}}return Sc(e,ji()),e.callbackNode===r?lY.bind(null,e):null}function kT(e,t){var r=o2;return e.current.memoizedState.isDehydrated&&(hg(e,t).flags|=256),e=sN(e,t),e!==2&&(t=mc,mc=r,t!==null&&ET(t)),e}function ET(e){mc===null?mc=e:mc.push.apply(mc,e)}function _me(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Rd(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ym(e,t){for(t&=~yF,t&=~l3,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Od(t),n=1<<r;e[r]=-1,t&=~n}}function q7(e){if(Ta&6)throw Error(Jt(327));F1();var t=z4(e,0);if(!(t&1))return Sc(e,ji()),null;var r=sN(e,t);if(e.tag!==0&&r===2){var n=eT(e);n!==0&&(t=n,r=kT(e,n))}if(r===1)throw r=Y2,hg(e,0),Ym(e,t),Sc(e,ji()),r;if(r===6)throw Error(Jt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$0(e,mc,Nh),Sc(e,ji()),null}function wF(e,t){var r=Ta;Ta|=1;try{return e(t)}finally{Ta=r,Ta===0&&(tx=ji()+500,a3&&Lp())}}function Cg(e){ep!==null&&ep.tag===0&&!(Ta&6)&&F1();var t=Ta;Ta|=1;var r=Vu.transition,n=Za;try{if(Vu.transition=null,Za=1,e)return e()}finally{Za=n,Vu.transition=r,Ta=t,!(Ta&6)&&Lp()}}function _F(){Uc=h1.current,Rs(h1)}function hg(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zhe(r)),qi!==null)for(r=qi.return;r!==null;){var n=r;switch(rF(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&H4();break;case 3:Q1(),Rs(jc),Rs(Al),dF();break;case 5:uF(n);break;case 4:Q1();break;case 13:Rs(Zs);break;case 19:Rs(Zs);break;case 10:iF(n.type._context);break;case 22:case 23:_F()}r=r.return}if(Ho=e,qi=e=hp(e.current,null),cl=Uc=t,yo=0,Y2=null,yF=l3=Sg=0,mc=o2=null,tg!==null){for(t=0;t<tg.length;t++)if(r=tg[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}tg=null}return e}function cY(e,t){do{var r=qi;try{if(sF(),i4.current=tN,eN){for(var n=ei.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}eN=!1}if(Ng=0,Uo=go=ei=null,s2=!1,H2=0,xF.current=null,r===null||r.return===null){yo=1,Y2=t,qi=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=cl,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=P7(o);if(g!==null){g.flags&=-257,O7(g,o,l,a,t),g.mode&1&&T7(a,d,t),t=g,c=d;var _=t.updateQueue;if(_===null){var y=new Set;y.add(c),t.updateQueue=y}else _.add(c);break e}else{if(!(t&1)){T7(a,d,t),jF();break e}c=Error(Jt(426))}}else if(zs&&l.mode&1){var j=P7(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),O7(j,o,l,a,t),nF(ex(c,l));break e}}a=c=ex(c,l),yo!==4&&(yo=2),o2===null?o2=[a]:o2.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=HK(a,c,t);N7(a,w);break e;case 1:l=c;var C=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(dp===null||!dp.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=GK(a,l,t);N7(a,T);break e}}a=a.return}while(a!==null)}fY(r)}catch(P){t=P,qi===r&&r!==null&&(qi=r=r.return);continue}break}while(1)}function uY(){var e=rN.current;return rN.current=tN,e===null?tN:e}function jF(){(yo===0||yo===3||yo===2)&&(yo=4),Ho===null||!(Sg&268435455)&&!(l3&268435455)||Ym(Ho,cl)}function sN(e,t){var r=Ta;Ta|=2;var n=uY();(Ho!==e||cl!==t)&&(Nh=null,hg(e,t));do try{jme();break}catch(s){cY(e,s)}while(1);if(sF(),Ta=r,rN.current=n,qi!==null)throw Error(Jt(261));return Ho=null,cl=0,yo}function jme(){for(;qi!==null;)dY(qi)}function Nme(){for(;qi!==null&&!Yfe();)dY(qi)}function dY(e){var t=mY(e.alternate,e,Uc);e.memoizedProps=e.pendingProps,t===null?fY(e):qi=t,xF.current=null}function fY(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vme(r,t),r!==null){r.flags&=32767,qi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yo=6,qi=null;return}}else if(r=gme(r,t,Uc),r!==null){qi=r;return}if(t=t.sibling,t!==null){qi=t;return}qi=t=e}while(t!==null);yo===0&&(yo=5)}function $0(e,t,r){var n=Za,s=Vu.transition;try{Vu.transition=null,Za=1,Sme(e,t,r,n)}finally{Vu.transition=s,Za=n}return null}function Sme(e,t,r,n){do F1();while(ep!==null);if(Ta&6)throw Error(Jt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Jt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(she(e,a),e===Ho&&(qi=Ho=null,cl=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||aj||(aj=!0,pY(B4,function(){return F1(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Vu.transition,Vu.transition=null;var o=Za;Za=1;var l=Ta;Ta|=4,xF.current=null,yme(e,r),iY(r,e),Whe(iT),U4=!!sT,iT=sT=null,e.current=r,bme(r),Xfe(),Ta=l,Za=o,Vu.transition=a}else e.current=r;if(aj&&(aj=!1,ep=e,aN=s),a=e.pendingLanes,a===0&&(dp=null),Qfe(r.stateNode),Sc(e,ji()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(nN)throw nN=!1,e=CT,CT=null,e;return aN&1&&e.tag!==0&&F1(),a=e.pendingLanes,a&1?e===AT?l2++:(l2=0,AT=e):l2=0,Lp(),null}function F1(){if(ep!==null){var e=HG(aN),t=Vu.transition,r=Za;try{if(Vu.transition=null,Za=16>e?16:e,ep===null)var n=!1;else{if(e=ep,ep=null,aN=0,Ta&6)throw Error(Jt(331));var s=Ta;for(Ta|=4,Er=e.current;Er!==null;){var a=Er,o=a.child;if(Er.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Er=d;Er!==null;){var f=Er;switch(f.tag){case 0:case 11:case 15:i2(8,f,a)}var h=f.child;if(h!==null)h.return=f,Er=h;else for(;Er!==null;){f=Er;var v=f.sibling,g=f.return;if(nY(f),f===d){Er=null;break}if(v!==null){v.return=g,Er=v;break}Er=g}}}var _=a.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}Er=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Er=o;else e:for(;Er!==null;){if(a=Er,a.flags&2048)switch(a.tag){case 0:case 11:case 15:i2(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Er=w;break e}Er=a.return}}var C=e.current;for(Er=C;Er!==null;){o=Er;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Er=k;else e:for(o=C;Er!==null;){if(l=Er,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:o3(9,l)}}catch(P){fi(l,l.return,P)}if(l===o){Er=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Er=T;break e}Er=l.return}}if(Ta=s,Lp(),Of&&typeof Of.onPostCommitFiberRoot=="function")try{Of.onPostCommitFiberRoot(QS,e)}catch{}n=!0}return n}finally{Za=r,Vu.transition=t}}return!1}function W7(e,t,r){t=ex(r,t),t=HK(e,t,1),e=up(e,t,1),t=Zl(),e!==null&&(u_(e,1,t),Sc(e,t))}function fi(e,t,r){if(e.tag===3)W7(e,e,r);else for(;t!==null;){if(t.tag===3){W7(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dp===null||!dp.has(n))){e=ex(r,e),e=GK(t,e,1),t=up(t,e,1),e=Zl(),t!==null&&(u_(t,1,e),Sc(t,e));break}}t=t.return}}function Cme(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&r,Ho===e&&(cl&r)===r&&(yo===4||yo===3&&(cl&130023424)===cl&&500>ji()-bF?hg(e,0):yF|=r),Sc(e,t)}function hY(e,t){t===0&&(e.mode&1?(t=K5,K5<<=1,!(K5&130023424)&&(K5=4194304)):t=1);var r=Zl();e=Vh(e,t),e!==null&&(u_(e,t,r),Sc(e,r))}function Ame(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hY(e,r)}function kme(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Jt(314))}n!==null&&n.delete(t),hY(e,r)}var mY;mY=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jc.current)vc=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vc=!1,pme(e,t,r);vc=!!(e.flags&131072)}else vc=!1,zs&&t.flags&1048576&&xK(t,Y4,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;l4(e,t),e=t.pendingProps;var s=X1(t,Al.current);O1(t,r),s=hF(null,t,n,e,s,r);var a=mF();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nc(n)?(a=!0,G4(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lF(t),s.updater=i3,t.stateNode=s,s._reactInternals=t,pT(t,n,e,r),t=xT(null,t,n,!0,a,r)):(t.tag=0,zs&&a&&tF(t),Wl(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(l4(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Tme(n),e=jd(n,e),s){case 0:t=vT(null,t,n,e,r);break e;case 1:t=R7(null,t,n,e,r);break e;case 11:t=F7(null,t,n,e,r);break e;case 14:t=D7(null,t,n,jd(n.type,e),r);break e}throw Error(Jt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jd(n,s),vT(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jd(n,s),R7(e,t,n,s,r);case 3:e:{if(JK(t),e===null)throw Error(Jt(387));n=t.pendingProps,a=t.memoizedState,s=a.element,NK(e,t),Z4(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ex(Error(Jt(423)),t),t=M7(e,t,n,r,s);break e}else if(n!==s){s=ex(Error(Jt(424)),t),t=M7(e,t,n,r,s);break e}else for(Yc=cp(t.stateNode.containerInfo.firstChild),Zc=t,zs=!0,Ad=null,r=_K(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(J1(),n===s){t=qh(e,t,r);break e}Wl(e,t,n,r)}t=t.child}return t;case 5:return SK(t),e===null&&fT(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,oT(n,s)?o=null:a!==null&&oT(n,a)&&(t.flags|=32),XK(e,t),Wl(e,t,o,r),t.child;case 6:return e===null&&fT(t),null;case 13:return ZK(e,t,r);case 4:return cF(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Z1(t,null,n,r):Wl(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jd(n,s),F7(e,t,n,s,r);case 7:return Wl(e,t,t.pendingProps,r),t.child;case 8:return Wl(e,t,t.pendingProps.children,r),t.child;case 12:return Wl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,bs(X4,n._currentValue),n._currentValue=o,a!==null)if(Rd(a.value,o)){if(a.children===s.children&&!jc.current){t=qh(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Mh(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),hT(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Jt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),hT(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Wl(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,O1(t,r),s=Ku(s),n=n(s),t.flags|=1,Wl(e,t,n,r),t.child;case 14:return n=t.type,s=jd(n,t.pendingProps),s=jd(n.type,s),D7(e,t,n,s,r);case 15:return KK(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jd(n,s),l4(e,t),t.tag=1,Nc(n)?(e=!0,G4(t)):e=!1,O1(t,r),WK(t,n,s),pT(t,n,s,r),xT(null,t,n,!0,e,r);case 19:return QK(e,t,r);case 22:return YK(e,t,r)}throw Error(Jt(156,t.tag))};function pY(e,t){return UG(e,t)}function Eme(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,r,n){return new Eme(e,t,r,n)}function NF(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tme(e){if(typeof e=="function")return NF(e)?1:0;if(e!=null){if(e=e.$$typeof,e===VO)return 11;if(e===qO)return 14}return 2}function hp(e,t){var r=e.alternate;return r===null?(r=zu(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function d4(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")NF(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case n1:return mg(r.children,s,a,t);case UO:o=8,s|=8;break;case $6:return e=zu(12,r,t,s|2),e.elementType=$6,e.lanes=a,e;case B6:return e=zu(13,r,t,s),e.elementType=B6,e.lanes=a,e;case z6:return e=zu(19,r,t,s),e.elementType=z6,e.lanes=a,e;case SG:return c3(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jG:o=10;break e;case NG:o=9;break e;case VO:o=11;break e;case qO:o=14;break e;case qm:o=16,n=null;break e}throw Error(Jt(130,e==null?e:typeof e,""))}return t=zu(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function mg(e,t,r,n){return e=zu(7,e,n,t),e.lanes=r,e}function c3(e,t,r,n){return e=zu(22,e,n,t),e.elementType=SG,e.lanes=r,e.stateNode={isHidden:!1},e}function Lk(e,t,r){return e=zu(6,e,null,t),e.lanes=r,e}function $k(e,t,r){return t=zu(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pme(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yk(0),this.expirationTimes=yk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yk(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function SF(e,t,r,n,s,a,o,l,c){return e=new Pme(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=zu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lF(a),e}function Ome(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r1,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gY(e){if(!e)return Ap;e=e._reactInternals;e:{if(Hg(e)!==e||e.tag!==1)throw Error(Jt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Jt(171))}if(e.tag===1){var r=e.type;if(Nc(r))return gK(e,r,t)}return t}function vY(e,t,r,n,s,a,o,l,c){return e=SF(r,n,!0,e,s,a,o,l,c),e.context=gY(null),r=e.current,n=Zl(),s=fp(r),a=Mh(n,s),a.callback=t??null,up(r,a,s),e.current.lanes=s,u_(e,s,n),Sc(e,n),e}function u3(e,t,r,n){var s=t.current,a=Zl(),o=fp(s);return r=gY(r),t.context===null?t.context=r:t.pendingContext=r,t=Mh(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=up(s,t,o),e!==null&&(Fd(e,s,o,a),s4(e,s,o)),o}function iN(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H7(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function CF(e,t){H7(e,t),(e=e.alternate)&&H7(e,t)}function Fme(){return null}var xY=typeof reportError=="function"?reportError:function(e){console.error(e)};function AF(e){this._internalRoot=e}d3.prototype.render=AF.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Jt(409));u3(e,t,null,null)};d3.prototype.unmount=AF.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cg(function(){u3(null,e,null,null)}),t[Uh]=null}};function d3(e){this._internalRoot=e}d3.prototype.unstable_scheduleHydration=function(e){if(e){var t=YG();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Km.length&&t!==0&&t<Km[r].priority;r++);Km.splice(r,0,e),r===0&&JG(e)}};function kF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G7(){}function Dme(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=iN(o);a.call(d)}}var o=vY(t,n,e,0,null,!1,!1,"",G7);return e._reactRootContainer=o,e[Uh]=o.current,z2(e.nodeType===8?e.parentNode:e),Cg(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=iN(c);l.call(d)}}var c=SF(e,0,!1,null,null,!1,!1,"",G7);return e._reactRootContainer=c,e[Uh]=c.current,z2(e.nodeType===8?e.parentNode:e),Cg(function(){u3(t,c,r,n)}),c}function h3(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=iN(o);l.call(c)}}u3(t,o,e,s)}else o=Dme(r,t,e,s,n);return iN(o)}GG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wb(t.pendingLanes);r!==0&&(GO(t,r|1),Sc(t,ji()),!(Ta&6)&&(tx=ji()+500,Lp()))}break;case 13:Cg(function(){var n=Vh(e,1);if(n!==null){var s=Zl();Fd(n,e,1,s)}}),CF(e,1)}};KO=function(e){if(e.tag===13){var t=Vh(e,134217728);if(t!==null){var r=Zl();Fd(t,e,134217728,r)}CF(e,134217728)}};KG=function(e){if(e.tag===13){var t=fp(e),r=Vh(e,t);if(r!==null){var n=Zl();Fd(r,e,t,n)}CF(e,t)}};YG=function(){return Za};XG=function(e,t){var r=Za;try{return Za=e,t()}finally{Za=r}};J6=function(e,t,r){switch(t){case"input":if(q6(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=n3(n);if(!s)throw Error(Jt(90));AG(n),q6(n,s)}}}break;case"textarea":EG(e,r);break;case"select":t=r.value,t!=null&&k1(e,!!r.multiple,t,!1)}};MG=wF;IG=Cg;var Rme={usingClientEntryPoint:!1,Events:[f_,o1,n3,DG,RG,wF]},gb={findFiberByHostInstance:eg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mme={bundleType:gb.bundleType,version:gb.version,rendererPackageName:gb.rendererPackageName,rendererConfig:gb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BG(e),e===null?null:e.stateNode},findFiberByHostInstance:gb.findFiberByHostInstance||Fme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sj.isDisabled&&sj.supportsFiber)try{QS=sj.inject(Mme),Of=sj}catch{}}ou.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rme;ou.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kF(t))throw Error(Jt(200));return Ome(e,t,null,r)};ou.createRoot=function(e,t){if(!kF(e))throw Error(Jt(299));var r=!1,n="",s=xY;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=SF(e,1,!1,null,null,r,!1,n,s),e[Uh]=t.current,z2(e.nodeType===8?e.parentNode:e),new AF(t)};ou.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Jt(188)):(e=Object.keys(e).join(","),Error(Jt(268,e)));return e=BG(t),e=e===null?null:e.stateNode,e};ou.flushSync=function(e){return Cg(e)};ou.hydrate=function(e,t,r){if(!f3(t))throw Error(Jt(200));return h3(null,e,t,!0,r)};ou.hydrateRoot=function(e,t,r){if(!kF(e))throw Error(Jt(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=xY;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=vY(t,null,e,1,r??null,s,!1,a,o),e[Uh]=t.current,z2(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new d3(t)};ou.render=function(e,t,r){if(!f3(t))throw Error(Jt(200));return h3(null,e,t,!1,r)};ou.unmountComponentAtNode=function(e){if(!f3(e))throw Error(Jt(40));return e._reactRootContainer?(Cg(function(){h3(null,null,e,!1,function(){e._reactRootContainer=null,e[Uh]=null})}),!0):!1};ou.unstable_batchedUpdates=wF;ou.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!f3(r))throw Error(Jt(200));if(e==null||e._reactInternals===void 0)throw Error(Jt(38));return h3(e,t,r,!1,n)};ou.version="18.3.1-next-f1338f8080-20240426";function yY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yY)}catch(e){console.error(e)}}yY(),yG.exports=ou;var Gg=yG.exports;const Ime=ga(Gg);var K7=Gg;I6.createRoot=K7.createRoot,I6.hydrateRoot=K7.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X2.apply(this,arguments)}var tp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tp||(tp={}));const Y7="popstate";function Lme(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return TT("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:oN(s)}return Bme(t,r,null,e)}function vi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $me(){return Math.random().toString(36).substr(2,8)}function X7(e,t){return{usr:e.state,key:e.key,idx:t}}function TT(e,t,r,n){return r===void 0&&(r=null),X2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xx(t):t,{state:r,key:t&&t.key||n||$me()})}function oN(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xx(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Bme(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=tp.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(X2({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=tp.Pop;let j=f(),w=j==null?null:j-d;d=j,c&&c({action:l,location:y.location,delta:w})}function v(j,w){l=tp.Push;let C=TT(y.location,j,w);r&&r(C,j),d=f()+1;let k=X7(C,d),T=y.createHref(C);try{o.pushState(k,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(T)}a&&c&&c({action:l,location:y.location,delta:1})}function g(j,w){l=tp.Replace;let C=TT(y.location,j,w);r&&r(C,j),d=f();let k=X7(C,d),T=y.createHref(C);o.replaceState(k,"",T),a&&c&&c({action:l,location:y.location,delta:0})}function _(j){let w=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof j=="string"?j:oN(j);return C=C.replace(/ $/,"%20"),vi(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Y7,h),c=j,()=>{s.removeEventListener(Y7,h),c=null}},createHref(j){return t(s,j)},createURL:_,encodeLocation(j){let w=_(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:g,go(j){return o.go(j)}};return y}var J7;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(J7||(J7={}));function zme(e,t,r){return r===void 0&&(r="/"),Ume(e,t,r,!1)}function Ume(e,t,r,n){let s=typeof t=="string"?Xx(t):t,a=rx(s.pathname||"/",r);if(a==null)return null;let o=bY(e);Vme(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=epe(a);l=Zme(o[c],d,n)}return l}function bY(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(vi(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=mp([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(vi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),bY(a.children,t,f,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Xme(d,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of wY(a.path))s(a,o,c)}),t}function wY(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=wY(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vme(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jme(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const qme=/^:[\w-]+$/,Wme=3,Hme=2,Gme=1,Kme=10,Yme=-2,Z7=e=>e==="*";function Xme(e,t){let r=e.split("/"),n=r.length;return r.some(Z7)&&(n+=Yme),t&&(n+=Hme),r.filter(s=>!Z7(s)).reduce((s,a)=>s+(qme.test(a)?Wme:a===""?Gme:Kme),n)}function Jme(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Zme(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=lN({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=lN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:mp([a,h.pathname]),pathnameBase:spe(mp([a,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(a=mp([a,h.pathnameBase]))}return o}function lN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Qme(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,h)=>{let{paramName:v,isOptional:g}=f;if(v==="*"){let y=l[h]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const _=l[h];return g&&!_?d[v]=void 0:d[v]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function Qme(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),EF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function epe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return EF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const tpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rpe=e=>tpe.test(e);function npe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xx(e):e,a;if(r)if(rpe(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),EF(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=Q7(r.substring(1),"/"):a=Q7(r,t)}else a=t;return{pathname:a,search:ipe(n),hash:ope(s)}}function Q7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bk(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ape(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _Y(e,t){let r=ape(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jY(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xx(e):(s=X2({},e),vi(!s.pathname||!s.pathname.includes("?"),Bk("?","pathname","search",s)),vi(!s.pathname||!s.pathname.includes("#"),Bk("#","pathname","hash",s)),vi(!s.search||!s.search.includes("#"),Bk("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),h-=1;s.pathname=v.join("/")}l=h>=0?t[h]:"/"}let c=npe(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const mp=e=>e.join("/").replace(/\/\/+/g,"/"),spe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ipe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ope=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lpe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NY=["post","put","patch","delete"];new Set(NY);const cpe=["get",...NY];new Set(cpe);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(this,arguments)}const m3=b.createContext(null),SY=b.createContext(null),$p=b.createContext(null),p3=b.createContext(null),Bp=b.createContext({outlet:null,matches:[],isDataRoute:!1}),CY=b.createContext(null);function upe(e,t){let{relative:r}=t===void 0?{}:t;m_()||vi(!1);let{basename:n,navigator:s}=b.useContext($p),{hash:a,pathname:o,search:l}=g3(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:mp([n,o])),s.createHref({pathname:c,search:l,hash:a})}function m_(){return b.useContext(p3)!=null}function Tl(){return m_()||vi(!1),b.useContext(p3).location}function AY(e){b.useContext($p).static||b.useLayoutEffect(e)}function on(){let{isDataRoute:e}=b.useContext(Bp);return e?jpe():dpe()}function dpe(){m_()||vi(!1);let e=b.useContext(m3),{basename:t,future:r,navigator:n}=b.useContext($p),{matches:s}=b.useContext(Bp),{pathname:a}=Tl(),o=JSON.stringify(_Y(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return AY(()=>{l.current=!0}),b.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=jY(d,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mp([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,o,a,e])}function TF(){let{matches:e}=b.useContext(Bp),t=e[e.length-1];return t?t.params:{}}function g3(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext($p),{matches:s}=b.useContext(Bp),{pathname:a}=Tl(),o=JSON.stringify(_Y(s,n.v7_relativeSplatPath));return b.useMemo(()=>jY(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function fpe(e,t){return hpe(e,t)}function hpe(e,t,r,n){m_()||vi(!1);let{navigator:s}=b.useContext($p),{matches:a}=b.useContext(Bp),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Tl(),f;if(t){var h;let j=typeof t=="string"?Xx(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||vi(!1),f=j}else f=d;let v=f.pathname||"/",g=v;if(c!=="/"){let j=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=zme(e,{pathname:g}),y=xpe(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:mp([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:mp([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return t&&y?b.createElement(p3.Provider,{value:{location:J2({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:tp.Pop}},y):y}function mpe(){let e=_pe(),t=lpe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}const ppe=b.createElement(mpe,null);class gpe extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Bp.Provider,{value:this.props.routeContext},b.createElement(CY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vpe(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(m3);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Bp.Provider,{value:t},n)}function xpe(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||vi(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:v,errors:g}=r,_=h.route.loader&&v[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,v)=>{let g,_=!1,y=null,j=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||ppe,c&&(d<0&&v===0?(Npe("route-fallback",!1),_=!0,j=null):d===v&&(_=!0,j=h.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,v+1)),C=()=>{let k;return g?k=y:_?k=j:h.route.Component?k=b.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,b.createElement(vpe,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?b.createElement(gpe,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var kY=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kY||{}),cN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cN||{});function ype(e){let t=b.useContext(m3);return t||vi(!1),t}function bpe(e){let t=b.useContext(SY);return t||vi(!1),t}function wpe(e){let t=b.useContext(Bp);return t||vi(!1),t}function EY(e){let t=wpe(),r=t.matches[t.matches.length-1];return r.route.id||vi(!1),r.route.id}function _pe(){var e;let t=b.useContext(CY),r=bpe(cN.UseRouteError),n=EY(cN.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jpe(){let{router:e}=ype(kY.UseNavigateStable),t=EY(cN.UseNavigateStable),r=b.useRef(!1);return AY(()=>{r.current=!0}),b.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,J2({fromRouteId:t},a)))},[e,t])}const e9={};function Npe(e,t,r){!t&&!e9[e]&&(e9[e]=!0)}function Spe(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _n(e){vi(!1)}function Cpe(e){let{basename:t="/",children:r=null,location:n,navigationType:s=tp.Pop,navigator:a,static:o=!1,future:l}=e;m_()&&vi(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:a,static:o,future:J2({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Xx(n));let{pathname:f="/",search:h="",hash:v="",state:g=null,key:_="default"}=n,y=b.useMemo(()=>{let j=rx(f,c);return j==null?null:{location:{pathname:j,search:h,hash:v,state:g,key:_},navigationType:s}},[c,f,h,v,g,_,s]);return y==null?null:b.createElement($p.Provider,{value:d},b.createElement(p3.Provider,{children:r,value:y}))}function Ape(e){let{children:t,location:r}=e;return fpe(PT(t),r)}new Promise(()=>{});function PT(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let a=[...t,s];if(n.type===b.Fragment){r.push.apply(r,PT(n.props.children,a));return}n.type!==_n&&vi(!1),!n.props.index||!n.props.children||vi(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=PT(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(this,arguments)}function TY(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kpe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Epe(e,t){return e.button===0&&(!t||t==="_self")&&!kpe(e)}function OT(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Tpe(e,t){let r=OT(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Ppe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ope=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Fpe="6";try{window.__reactRouterVersion=Fpe}catch{}const Dpe=b.createContext({isTransitioning:!1}),Rpe="startTransition",t9=ZS[Rpe];function Mpe(e){let{basename:t,children:r,future:n,window:s}=e,a=b.useRef();a.current==null&&(a.current=Lme({window:s,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=b.useCallback(h=>{d&&t9?t9(()=>c(h)):c(h)},[c,d]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>Spe(n),[n]),b.createElement(Cpe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ipe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mi=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:h}=t,v=TY(t,Ppe),{basename:g}=b.useContext($p),_,y=!1;if(typeof d=="string"&&Lpe.test(d)&&(_=d,Ipe))try{let k=new URL(window.location.href),T=d.startsWith("//")?new URL(k.protocol+d):new URL(d),P=rx(T.pathname,g);T.origin===k.origin&&P!=null?d=P+T.search+T.hash:y=!0}catch{}let j=upe(d,{relative:s}),w=Bpe(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function C(k){n&&n(k),k.defaultPrevented||w(k)}return b.createElement("a",uN({},v,{href:_||j,onClick:y||a?n:C,ref:r,target:c}))}),PF=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:f}=t,h=TY(t,Ope),v=g3(c,{relative:h.relative}),g=Tl(),_=b.useContext(SY),{navigator:y,basename:j}=b.useContext($p),w=_!=null&&zpe(v)&&d===!0,C=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,k=g.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(k=k.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&j&&(T=rx(T,j)||T);const P=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=k===C||!o&&k.startsWith(C)&&k.charAt(P)==="/",M=T!=null&&(T===C||!o&&T.startsWith(C)&&T.charAt(C.length)==="/"),I={isActive:D,isPending:M,isTransitioning:w},B=D?n:void 0,V;typeof a=="function"?V=a(I):V=[a,D?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(I):l;return b.createElement(mi,uN({},h,{"aria-current":B,className:V,ref:r,style:U,to:c,viewTransition:d}),typeof f=="function"?f(I):f)});var FT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(FT||(FT={}));var r9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r9||(r9={}));function $pe(e){let t=b.useContext(m3);return t||vi(!1),t}function Bpe(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=on(),d=Tl(),f=g3(e,{relative:o});return b.useCallback(h=>{if(Epe(h,r)){h.preventDefault();let v=n!==void 0?n:oN(d)===oN(f);c(e,{replace:v,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,f,n,s,r,e,a,o,l])}function v3(e){let t=b.useRef(OT(e)),r=b.useRef(!1),n=Tl(),s=b.useMemo(()=>Tpe(n.search,r.current?null:t.current),[n.search]),a=on(),o=b.useCallback((l,c)=>{const d=OT(typeof l=="function"?l(s):l);r.current=!0,a("?"+d,c)},[a,s]);return[s,o]}function zpe(e,t){t===void 0&&(t={});let r=b.useContext(Dpe);r==null&&vi(!1);let{basename:n}=$pe(FT.useViewTransitionState),s=g3(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=rx(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=rx(r.nextLocation.pathname,n)||r.nextLocation.pathname;return lN(s.pathname,o)!=null||lN(s.pathname,a)!=null}function PY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=PY(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $n(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=PY(e))&&(n&&(n+=" "),n+=t);return n}function Upe(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=OY(t))&&(n&&(n+=" "),n+=r);return n}function OY(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=OY(e[n]))&&(r&&(r+=" "),r+=t);return r}var OF="-";function Vpe(e){var t=Wpe(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function a(l){var c=l.split(OF);return c[0]===""&&c.length!==1&&c.shift(),FY(c,t)||qpe(l)}function o(l,c){var d=r[l]||[];return c&&s[l]?[].concat(d,s[l]):d}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function FY(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?FY(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(OF);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var n9=/^\[(.+)\]$/;function qpe(e){if(n9.test(e)){var t=n9.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function Wpe(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=Gpe(Object.entries(e.classGroups),r);return s.forEach(function(a){var o=a[0],l=a[1];DT(l,n,o,t)}),n}function DT(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:a9(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Hpe(s)){DT(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];DT(c,a9(t,l),r,n)})})}function a9(e,t){var r=e;return t.split(OF).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function Hpe(e){return e.isThemeGetter}function Gpe(e,t){return t?e.map(function(r){var n=r[0],s=r[1],a=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):o});return[n,a]}):e}function Kpe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(a,o){r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(o){var l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set:function(o,l){r.has(o)?r.set(o,l):s(o,l)}}}var DY="!";function Ype(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(o){for(var l=[],c=0,d=0,f,h=0;h<o.length;h++){var v=o[h];if(c===0){if(v===n&&(r||o.slice(h,h+s)===t)){l.push(o.slice(d,h)),d=h+s;continue}if(v==="/"){f=h;continue}}v==="["?c++:v==="]"&&c--}var g=l.length===0?o:o.substring(d),_=g.startsWith(DY),y=_?g.substring(1):g,j=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:y,maybePostfixModifierPosition:j}}}function Xpe(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function Jpe(e){return{cache:Kpe(e.cacheSize),splitModifiers:Ype(e),...Vpe(e)}}var Zpe=/\s+/;function Qpe(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Zpe).map(function(o){var l=r(o),c=l.modifiers,d=l.hasImportantModifier,f=l.baseClassName,h=l.maybePostfixModifierPosition,v=n(h?f.substring(0,h):f),g=!!h;if(!v){if(!h)return{isTailwindClass:!1,originalClassName:o};if(v=n(f),!v)return{isTailwindClass:!1,originalClassName:o};g=!1}var _=Xpe(c).join(":"),y=d?_+DY:_;return{isTailwindClass:!0,modifierId:y,classGroupId:v,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,f=l+c;return a.has(f)?!1:(a.add(f),s(c,d).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function e0e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,a,o=l;function l(d){var f=t[0],h=t.slice(1),v=h.reduce(function(g,_){return _(g)},f());return n=Jpe(v),s=n.cache.get,a=n.cache.set,o=c,c(d)}function c(d){var f=s(d);if(f)return f;var h=Qpe(d,n);return a(d,h),h}return function(){return o(Upe.apply(null,arguments))}}function Ts(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var RY=/^\[(?:([a-z-]+):)?(.+)\]$/i,t0e=/^\d+\/\d+$/,r0e=new Set(["px","full","screen"]),n0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s0e=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function yd(e){return ng(e)||r0e.has(e)||t0e.test(e)||RT(e)}function RT(e){return Kg(e,"length",d0e)}function i0e(e){return Kg(e,"size",MY)}function o0e(e){return Kg(e,"position",MY)}function l0e(e){return Kg(e,"url",f0e)}function ij(e){return Kg(e,"number",ng)}function ng(e){return!Number.isNaN(Number(e))}function c0e(e){return e.endsWith("%")&&ng(e.slice(0,-1))}function vb(e){return s9(e)||Kg(e,"number",s9)}function fa(e){return RY.test(e)}function xb(){return!0}function Rm(e){return n0e.test(e)}function u0e(e){return Kg(e,"",h0e)}function Kg(e,t,r){var n=RY.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function d0e(e){return a0e.test(e)}function MY(){return!1}function f0e(e){return e.startsWith("url(")}function s9(e){return Number.isInteger(Number(e))}function h0e(e){return s0e.test(e)}function m0e(){var e=Ts("colors"),t=Ts("spacing"),r=Ts("blur"),n=Ts("brightness"),s=Ts("borderColor"),a=Ts("borderRadius"),o=Ts("borderSpacing"),l=Ts("borderWidth"),c=Ts("contrast"),d=Ts("grayscale"),f=Ts("hueRotate"),h=Ts("invert"),v=Ts("gap"),g=Ts("gradientColorStops"),_=Ts("gradientColorStopPositions"),y=Ts("inset"),j=Ts("margin"),w=Ts("opacity"),C=Ts("padding"),k=Ts("saturate"),T=Ts("scale"),P=Ts("sepia"),D=Ts("skew"),M=Ts("space"),I=Ts("translate"),B=function(){return["auto","contain","none"]},V=function(){return["auto","hidden","clip","visible","scroll"]},U=function(){return["auto",fa,t]},q=function(){return[fa,t]},re=function(){return["",yd]},H=function(){return["auto",ng,fa]},X=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Q=function(){return["solid","dashed","dotted","double","none"]},se=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},te=function(){return["start","end","center","between","around","evenly","stretch"]},ce=function(){return["","0",fa]},xe=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},de=function(){return[ng,ij]},ee=function(){return[ng,fa]};return{cacheSize:500,theme:{colors:[xb],spacing:[yd],blur:["none","",Rm,fa],brightness:de(),borderColor:[e],borderRadius:["none","","full",Rm,fa],borderSpacing:q(),borderWidth:re(),contrast:de(),grayscale:ce(),hueRotate:ee(),invert:ce(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[c0e,RT],inset:U(),margin:U(),opacity:de(),padding:q(),saturate:de(),scale:de(),sepia:ce(),skew:ee(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",fa]}],container:["container"],columns:[{columns:[Rm]}],"break-after":[{"break-after":xe()}],"break-before":[{"break-before":xe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(X(),[fa])}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vb]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fa]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",vb]}],"grid-cols":[{"grid-cols":[xb]}],"col-start-end":[{col:["auto",{span:["full",vb]},fa]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[xb]}],"row-start-end":[{row:["auto",{span:[vb]},fa]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fa]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fa]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal"].concat(te())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(te(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(te(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",fa,t]}],"min-w":[{"min-w":["min","max","fit",fa,yd]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Rm]},Rm,fa]}],h:[{h:[fa,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",fa,yd]}],"max-h":[{"max-h":[fa,t,"min","max","fit"]}],"font-size":[{text:["base",Rm,RT]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ij]}],"font-family":[{font:[xb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fa]}],"line-clamp":[{"line-clamp":["none",ng,ij]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fa,yd]}],"list-image":[{"list-image":["none",fa]}],"list-style-type":[{list:["none","disc","decimal",fa]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Q(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",yd]}],"underline-offset":[{"underline-offset":["auto",fa,yd]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fa]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fa]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(X(),[o0e])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l0e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(Q(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Q())}],"outline-offset":[{"outline-offset":[fa,yd]}],"outline-w":[{outline:[yd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[yd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rm,u0e]}],"shadow-color":[{shadow:[xb]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":se()}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rm,fa]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fa]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",fa]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",fa]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[vb,fa]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fa]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fa]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fa]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yd,ij]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var p0e=e0e(m0e);function Ht(...e){return p0e($n(e))}function Wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function i9(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gf(...e){return t=>{let r=!1;const n=e.map(s=>{const a=i9(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():i9(e[s],null)}}}}function mn(...e){return b.useCallback(Gf(...e),e)}function g0e(e,t){const r=b.createContext(t),n=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function eo(e,t=[]){let r=[];function n(a,o){const l=b.createContext(o),c=r.length;r=[...r,o];const d=h=>{var w;const{scope:v,children:g,..._}=h,y=((w=v==null?void 0:v[e])==null?void 0:w[c])||l,j=b.useMemo(()=>_,Object.values(_));return i.jsx(y.Provider,{value:j,children:g})};d.displayName=a+"Provider";function f(h,v){var y;const g=((y=v==null?void 0:v[e])==null?void 0:y[c])||l,_=b.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,v0e(s,...t)]}function v0e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function o9(e){const t=x0e(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(b0e);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function x0e(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=_0e(s),l=w0e(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y0e=Symbol("radix.slottable");function b0e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y0e}function w0e(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function _0e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Jx(e){const t=e+"CollectionProvider",[r,n]=eo(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:j,children:w}=y,C=Se.useRef(null),k=Se.useRef(new Map).current;return i.jsx(s,{scope:j,itemMap:k,collectionRef:C,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=o9(l),d=Se.forwardRef((y,j)=>{const{scope:w,children:C}=y,k=a(l,w),T=mn(j,k.collectionRef);return i.jsx(c,{ref:T,children:C})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",v=o9(f),g=Se.forwardRef((y,j)=>{const{scope:w,children:C,...k}=y,T=Se.useRef(null),P=mn(j,T),D=a(f,w);return Se.useEffect(()=>(D.itemMap.set(T,{ref:T,...k}),()=>void D.itemMap.delete(T))),i.jsx(v,{[h]:"",ref:P,children:C})});g.displayName=f;function _(y){const j=a(e+"CollectionConsumer",y);return Se.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((D,M)=>k.indexOf(D.ref.current)-k.indexOf(M.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},_,n]}function j0e(e){const t=N0e(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(C0e);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function N0e(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=k0e(s),l=A0e(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S0e=Symbol("radix.slottable");function C0e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S0e}function A0e(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function k0e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var E0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=E0e.reduce((e,t)=>{const r=j0e(`Primitive.${t}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function FF(e,t){e&&Gg.flushSync(()=>e.dispatchEvent(t))}function ec(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function T0e(e,t=globalThis==null?void 0:globalThis.document){const r=ec(e);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var P0e="DismissableLayer",MT="dismissableLayer.update",O0e="dismissableLayer.pointerDownOutside",F0e="dismissableLayer.focusOutside",l9,IY=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yg=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=b.useContext(IY),[f,h]=b.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),_=mn(t,M=>h(M)),y=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(j),C=f?y.indexOf(f):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,T=C>=w,P=R0e(M=>{const I=M.target,B=[...d.branches].some(V=>V.contains(I));!T||B||(s==null||s(M),o==null||o(M),M.defaultPrevented||l==null||l())},v),D=M0e(M=>{const I=M.target;[...d.branches].some(V=>V.contains(I))||(a==null||a(M),o==null||o(M),M.defaultPrevented||l==null||l())},v);return T0e(M=>{C===d.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},v),b.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(l9=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),c9(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=l9)}},[f,v,r,d]),b.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),c9())},[f,d]),b.useEffect(()=>{const M=()=>g({});return document.addEventListener(MT,M),()=>document.removeEventListener(MT,M)},[]),i.jsx(_r.div,{...c,ref:_,style:{pointerEvents:k?T?"auto":"none":void 0,...e.style},onFocusCapture:Wt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Wt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Wt(e.onPointerDownCapture,P.onPointerDownCapture)})});Yg.displayName=P0e;var D0e="DismissableLayerBranch",LY=b.forwardRef((e,t)=>{const r=b.useContext(IY),n=b.useRef(null),s=mn(t,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(_r.div,{...e,ref:s})});LY.displayName=D0e;function R0e(e,t=globalThis==null?void 0:globalThis.document){const r=ec(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){$Y(O0e,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function M0e(e,t=globalThis==null?void 0:globalThis.document){const r=ec(e),n=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!n.current&&$Y(F0e,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function c9(){const e=new CustomEvent(MT);document.dispatchEvent(e)}function $Y(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?FF(s,a):s.dispatchEvent(a)}var I0e=Yg,L0e=LY,Ei=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},$0e="Portal",Zx=b.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=b.useState(!1);Ei(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Ime.createPortal(i.jsx(_r.div,{...n,ref:t}),o):null});Zx.displayName=$0e;function B0e(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Pl=e=>{const{present:t,children:r}=e,n=z0e(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=mn(n.ref,U0e(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:a}):null};Pl.displayName="Presence";function z0e(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=B0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=oj(n.current);a.current=l==="mounted"?d:"none"},[l]),Ei(()=>{const d=n.current,f=s.current;if(f!==e){const v=a.current,g=oj(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ei(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,h=g=>{const y=oj(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&y&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},v=g=>{g.target===t&&(a.current=oj(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function oj(e){return(e==null?void 0:e.animationName)||"none"}function U0e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var V0e=ZS[" useInsertionEffect ".trim().toString()]||Ei;function _o({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=q0e({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const f=b.useRef(e!==void 0);b.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=b.useCallback(f=>{var h;if(l){const v=W0e(f)?f(e):f;v!==e&&((h=o.current)==null||h.call(o,v))}else a(f)},[l,e,a,o]);return[c,d]}function q0e({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),s=b.useRef(r),a=b.useRef(t);return V0e(()=>{a.current=t},[t]),b.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function W0e(e){return typeof e=="function"}var BY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H0e="VisuallyHidden",x3=b.forwardRef((e,t)=>i.jsx(_r.span,{...e,ref:t,style:{...BY,...e.style}}));x3.displayName=H0e;var G0e=x3,DF="ToastProvider",[RF,K0e,Y0e]=Jx("Toast"),[zY,Tut]=eo("Toast",[Y0e]),[X0e,y3]=zY(DF),UY=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[d,f]=b.useState(0),h=b.useRef(!1),v=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${DF}\`. Expected non-empty \`string\`.`),i.jsx(RF.Provider,{scope:t,children:i.jsx(X0e,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>f(g=>g+1),[]),onToastRemove:b.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:v,children:o})})};UY.displayName=DF;var VY="ToastViewport",J0e=["F8"],IT="toast.viewportPause",LT="toast.viewportResume",qY=b.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=J0e,label:s="Notifications ({hotkey})",...a}=e,o=y3(VY,r),l=K0e(r),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=b.useRef(null),v=mn(t,h,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;b.useEffect(()=>{const j=w=>{var k;n.length!==0&&n.every(T=>w[T]||w.code===T)&&((k=h.current)==null||k.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),b.useEffect(()=>{const j=c.current,w=h.current;if(_&&j&&w){const C=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(IT);w.dispatchEvent(D),o.isClosePausedRef.current=!0}},k=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(LT);w.dispatchEvent(D),o.isClosePausedRef.current=!1}},T=D=>{!j.contains(D.relatedTarget)&&k()},P=()=>{j.contains(document.activeElement)||k()};return j.addEventListener("focusin",C),j.addEventListener("focusout",T),j.addEventListener("pointermove",C),j.addEventListener("pointerleave",P),window.addEventListener("blur",C),window.addEventListener("focus",k),()=>{j.removeEventListener("focusin",C),j.removeEventListener("focusout",T),j.removeEventListener("pointermove",C),j.removeEventListener("pointerleave",P),window.removeEventListener("blur",C),window.removeEventListener("focus",k)}}},[_,o.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:j})=>{const C=l().map(k=>{const T=k.ref.current,P=[T,...uge(T)];return j==="forwards"?P:P.reverse()});return(j==="forwards"?C.reverse():C).flat()},[l]);return b.useEffect(()=>{const j=h.current;if(j){const w=C=>{var P,D,M;const k=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!k){const I=document.activeElement,B=C.shiftKey;if(C.target===j&&B){(P=d.current)==null||P.focus();return}const q=y({tabbingDirection:B?"backwards":"forwards"}),re=q.findIndex(H=>H===I);zk(q.slice(re+1))?C.preventDefault():B?(D=d.current)==null||D.focus():(M=f.current)==null||M.focus()}};return j.addEventListener("keydown",w),()=>j.removeEventListener("keydown",w)}},[l,y]),i.jsxs(L0e,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&i.jsx($T,{ref:d,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"forwards"});zk(j)}}),i.jsx(RF.Slot,{scope:r,children:i.jsx(_r.ol,{tabIndex:-1,...a,ref:v})}),_&&i.jsx($T,{ref:f,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"backwards"});zk(j)}})]})});qY.displayName=VY;var WY="ToastFocusProxy",$T=b.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=y3(WY,r);return i.jsx(x3,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});$T.displayName=WY;var p_="Toast",Z0e="toast.swipeStart",Q0e="toast.swipeMove",ege="toast.swipeCancel",tge="toast.swipeEnd",HY=b.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=_o({prop:n,defaultProp:s??!0,onChange:a,caller:p_});return i.jsx(Pl,{present:r||l,children:i.jsx(age,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ec(e.onPause),onResume:ec(e.onResume),onSwipeStart:Wt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Wt(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Wt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Wt(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});HY.displayName=p_;var[rge,nge]=zY(p_,{onClose(){}}),age=b.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:v,onSwipeEnd:g,..._}=e,y=y3(p_,r),[j,w]=b.useState(null),C=mn(t,H=>w(H)),k=b.useRef(null),T=b.useRef(null),P=s||y.duration,D=b.useRef(0),M=b.useRef(P),I=b.useRef(0),{onToastAdd:B,onToastRemove:V}=y,U=ec(()=>{var X;(j==null?void 0:j.contains(document.activeElement))&&((X=y.viewport)==null||X.focus()),o()}),q=b.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),D.current=new Date().getTime(),I.current=window.setTimeout(U,H))},[U]);b.useEffect(()=>{const H=y.viewport;if(H){const X=()=>{q(M.current),d==null||d()},Q=()=>{const se=new Date().getTime()-D.current;M.current=M.current-se,window.clearTimeout(I.current),c==null||c()};return H.addEventListener(IT,Q),H.addEventListener(LT,X),()=>{H.removeEventListener(IT,Q),H.removeEventListener(LT,X)}}},[y.viewport,P,c,d,q]),b.useEffect(()=>{a&&!y.isClosePausedRef.current&&q(P)},[a,P,y.isClosePausedRef,q]),b.useEffect(()=>(B(),()=>V()),[B,V]);const re=b.useMemo(()=>j?QY(j):null,[j]);return y.viewport?i.jsxs(i.Fragment,{children:[re&&i.jsx(sge,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:re}),i.jsx(rge,{scope:r,onClose:U,children:Gg.createPortal(i.jsx(RF.ItemSlot,{scope:r,children:i.jsx(I0e,{asChild:!0,onEscapeKeyDown:Wt(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||U(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(_r.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Wt(e.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Wt(e.onPointerDown,H=>{H.button===0&&(k.current={x:H.clientX,y:H.clientY})}),onPointerMove:Wt(e.onPointerMove,H=>{if(!k.current)return;const X=H.clientX-k.current.x,Q=H.clientY-k.current.y,se=!!T.current,te=["left","right"].includes(y.swipeDirection),ce=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,xe=te?ce(0,X):0,de=te?0:ce(0,Q),ee=H.pointerType==="touch"?10:2,fe={x:xe,y:de},ne={originalEvent:H,delta:fe};se?(T.current=fe,lj(Q0e,h,ne,{discrete:!1})):u9(fe,y.swipeDirection,ee)?(T.current=fe,lj(Z0e,f,ne,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(X)>ee||Math.abs(Q)>ee)&&(k.current=null)}),onPointerUp:Wt(e.onPointerUp,H=>{const X=T.current,Q=H.target;if(Q.hasPointerCapture(H.pointerId)&&Q.releasePointerCapture(H.pointerId),T.current=null,k.current=null,X){const se=H.currentTarget,te={originalEvent:H,delta:X};u9(X,y.swipeDirection,y.swipeThreshold)?lj(tge,g,te,{discrete:!0}):lj(ege,v,te,{discrete:!0}),se.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),sge=e=>{const{__scopeToast:t,children:r,...n}=e,s=y3(p_,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return lge(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(Zx,{asChild:!0,children:i.jsx(x3,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},ige="ToastTitle",GY=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(_r.div,{...n,ref:t})});GY.displayName=ige;var oge="ToastDescription",KY=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(_r.div,{...n,ref:t})});KY.displayName=oge;var YY="ToastAction",XY=b.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(ZY,{altText:r,asChild:!0,children:i.jsx(MF,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${YY}\`. Expected non-empty \`string\`.`),null)});XY.displayName=YY;var JY="ToastClose",MF=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=nge(JY,r);return i.jsx(ZY,{asChild:!0,children:i.jsx(_r.button,{type:"button",...n,ref:t,onClick:Wt(e.onClick,s.onClose)})})});MF.displayName=JY;var ZY=b.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(_r.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function QY(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cge(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...QY(n))}}),t}function lj(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?FF(s,a):s.dispatchEvent(a)}var u9=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function lge(e=()=>{}){const t=ec(e);Ei(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cge(e){return e.nodeType===e.ELEMENT_NODE}function uge(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zk(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var dge=UY,eX=qY,tX=HY,rX=GY,nX=KY,aX=XY,sX=MF;const d9=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,f9=$n,Xg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return f9(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],h=a==null?void 0:a[d];if(f===null)return null;const v=d9(f)||d9(h);return s[d][v]}),l=r&&Object.entries(r).reduce((d,f)=>{let[h,v]=f;return v===void 0||(d[h]=v),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:h,className:v,...g}=f;return Object.entries(g).every(_=>{let[y,j]=_;return Array.isArray(j)?j.includes({...a,...l}[y]):{...a,...l}[y]===j})?[...d,h,v]:d},[]);return f9(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};var fge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ft=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},d)=>b.createElement("svg",{ref:d,...fge,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:`lucide lucide-${hge(e)}`,...c},[...t.map(([f,h])=>b.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},mge=ft("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ru=ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ql=ft("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pge=ft("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),gge=ft("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Hd=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),vge=ft("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),dN=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),xge=ft("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),yge=ft("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),fN=ft("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),bge=ft("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),iX=ft("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]),oX=ft("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Uk=ft("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),wge=ft("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),IF=ft("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),_ge=ft("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),pp=ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Xm=ft("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),jge=ft("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),kp=ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Nge=ft("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Sge=ft("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),Cge=ft("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),qs=ft("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Age=ft("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),kge=ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),lX=ft("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Vi=ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Qx=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),LF=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),b3=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ag=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ege=ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),BT=ft("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),cX=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),nu=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Tge=ft("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),dn=ft("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),uX=ft("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),$F=ft("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),Z2=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Pge=ft("Copyright",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M14.83 14.83a4 4 0 1 1 0-5.66",key:"1i56pz"}]]),xc=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ko=ft("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Q2=ft("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),yc=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ey=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Oge=ft("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),BF=ft("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),dX=ft("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),qu=ft("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Fge=ft("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Iu=ft("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Dge=ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Rge=ft("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),h9=ft("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),zF=ft("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),Ep=ft("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Lu=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Mge=ft("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),g_=ft("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ige=ft("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),f4=ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),UF=ft("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),m9=ft("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]),Lge=ft("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),$ge=ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),cu=ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Bge=ft("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),fX=ft("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),zge=ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Uge=ft("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Vge=ft("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Dt=ft("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Wh=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),qge=ft("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),nx=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Wge=ft("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),gp=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),wo=ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),c2=ft("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),hX=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ax=ft("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),zT=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),VF=ft("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Hge=ft("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Gge=ft("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Kge=ft("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),mX=ft("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Yge=ft("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),qF=ft("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),sx=ft("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),w3=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),v_=ft("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),ew=ft("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Gi=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_3=ft("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),j3=ft("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Xge=ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),p9=ft("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),tw=ft("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),Hh=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Jge=ft("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),hN=ft("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),u2=ft("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),N3=ft("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Co=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Zge=ft("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Qge=ft("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]),pX=ft("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Kf=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ty=ft("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),eve=ft("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ix=ft("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tve=ft("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]),Sl=ft("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),gX=ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),rw=ft("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),rve=ft("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),nve=ft("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),pi=ft("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Cc=ft("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Vf=ft("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),WF=ft("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Md=ft("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ave=ft("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),ki=ft("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),vX=ft("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),xX=ft("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),kl=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),kg=ft("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),sve=ft("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Go=ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Df=ft("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),yX=ft("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),nw=ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ive=ft("User2",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 1 0-16 0",key:"199sx2"}]]),aw=ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),bX=ft("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),S3=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Jg=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ga=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ove=ft("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),wX=ft("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Gh=ft("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]),Us=ft("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),HF=ft("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),au=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lve=ft("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Wi=ft("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cve=dge,_X=Se.forwardRef(({className:e,...t},r)=>i.jsx(eX,{ref:r,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_X.displayName=eX.displayName;const uve=Xg("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-transparent bg-gradient-to-br from-orange-500 to-pink-600 text-white",success:"group success border-green-500 bg-green-500/10 text-foreground",info:"group info border-blue-500 bg-blue-500/10 text-foreground"}},defaultVariants:{variant:"default"}}),jX=Se.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(tX,{ref:n,className:Ht(uve({variant:t}),e),...r}));jX.displayName=tX.displayName;const dve=Se.forwardRef(({className:e,...t},r)=>i.jsx(aX,{ref:r,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dve.displayName=aX.displayName;const NX=Se.forwardRef(({className:e,...t},r)=>i.jsx(sX,{ref:r,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-white/80 group-[.destructive]:hover:text-white group-[.destructive]:focus:ring-white group-[.destructive]:focus:ring-offset-pink-600",e),"toast-close":"",...t,children:i.jsx(au,{className:"h-4 w-4"})}));NX.displayName=sX.displayName;const SX=Se.forwardRef(({className:e,...t},r)=>i.jsx(rX,{ref:r,className:Ht("text-sm font-semibold",e),...t}));SX.displayName=rX.displayName;const CX=Se.forwardRef(({className:e,...t},r)=>i.jsx(nX,{ref:r,className:Ht("text-sm opacity-90",e),...t}));CX.displayName=nX.displayName;const fve=10,hve=1e6,mve=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,fve)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?g9(r):e.toasts.forEach(n=>{g9(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};default:return e}},h4=[];let m4={toasts:[]};function d2(e){m4=mve(m4,e),h4.forEach(t=>{t(m4)})}const ze=e=>{const t=Math.random().toString(36).substr(2,9),r=s=>d2({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>d2({type:"DISMISS_TOAST",toastId:t});return d2({type:"ADD_TOAST",toast:{...e,id:t,open:!0,duration:e.duration||5e3,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}};function Ti(){const[e,t]=b.useState(m4);return b.useEffect(()=>(h4.push(t),()=>{const r=h4.indexOf(t);r>-1&&h4.splice(r,1)}),[e]),{...e,toast:ze,dismiss:r=>d2({type:"DISMISS_TOAST",toastId:r})}}let cj=[];const g9=e=>{cj.includes(e)||(cj.push(e),setTimeout(()=>{const t=cj.indexOf(e);t>-1&&(cj.splice(t,1),d2({type:"REMOVE_TOAST",toastId:e}))},hve))},pve=({variant:e})=>{switch(e){case"success":return i.jsx(Vi,{className:"text-green-500"});case"destructive":return i.jsx(Ql,{className:"text-white"});case"info":return i.jsx(cu,{className:"text-blue-500"});default:return i.jsx(ru,{className:"text-foreground"})}};function gve(){const{toasts:e}=Ti();return i.jsxs(cve,{swipeDirection:"right",children:[e.map(function({id:t,title:r,description:n,action:s,variant:a,...o}){return i.jsxs(jX,{variant:a,duration:5e3,...o,children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"pt-0.5",children:i.jsx(pve,{variant:a})}),i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(SX,{children:r}),n&&i.jsx(CX,{children:n})]})]}),s,i.jsx(NX,{})]},t)}),i.jsx(_X,{})]})}var jf=function(){return jf=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},jf.apply(this,arguments)};function AX(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Kr(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(h){o(h)}}function c(f){try{d(n.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function vve(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const xve=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class GF extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yve extends GF{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class v9 extends GF{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class x9 extends GF{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var UT;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(UT||(UT={}));class bve{constructor(t,{headers:r={},customFetch:n,region:s=UT.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=xve(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Kr(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:d,signal:f,timeout:h}=n;let v={},{region:g}=n;g||(g=this.region);const _=new URL(`${this.url}/${r}`);g&&g!=="any"&&(v["x-region"]=g,_.searchParams.set("forceFunctionRegion",g));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(v["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(v["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;let j=f;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),f?(j=o.signal,f.addEventListener("abort",()=>o.abort())):j=o.signal);const w=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:y,signal:j}).catch(P=>{throw new yve(P)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new v9(w);if(!w.ok)throw new x9(w);let k=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return k==="application/json"?T=yield w.json():k==="application/octet-stream"||k==="application/pdf"?T=yield w.blob():k==="text/event-stream"?T=w:k==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof x9||l instanceof v9?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var pc={},KF={},C3={},x_={},A3={},k3={},wve=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ox=wve();const _ve=ox.fetch,jve=ox.fetch.bind(ox),Nve=ox.Headers,Sve=ox.Request,Cve=ox.Response,Ave=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nve,Request:Sve,Response:Cve,default:jve,fetch:_ve},Symbol.toStringTag,{value:"Module"})),kve=oG(Ave);var E3={};Object.defineProperty(E3,"__esModule",{value:!0});let Eve=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};E3.default=Eve;var kX=Ai&&Ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k3,"__esModule",{value:!0});const Tve=kX(kve),Pve=kX(E3);let Ove=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Tve.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,d;let f=null,h=null,v=null,g=a.status,_=a.statusText;if(a.ok){if(this.method!=="HEAD"){const C=await a.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&w&&w.length>1&&(v=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,v=null,g=406,_="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await a.text();try{f=JSON.parse(j),Array.isArray(f)&&a.status===404&&(h=[],f=null,g=200,_="OK")}catch{a.status===404&&j===""?(g=204,_="No Content"):f={message:j}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,g=200,_="OK"),f&&this.shouldThrowOnError)throw new Pve.default(f)}return{error:f,data:h,count:v,status:g,statusText:_}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};k3.default=Ove;var Fve=Ai&&Ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(A3,"__esModule",{value:!0});const Dve=Fve(k3);let Rve=class extends Dve.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};A3.default=Rve;var Mve=Ai&&Ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(x_,"__esModule",{value:!0});const Ive=Mve(A3);let Lve=class extends Ive.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};x_.default=Lve;var $ve=Ai&&Ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(C3,"__esModule",{value:!0});const yb=$ve(x_);let Bve=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new yb.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new yb.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new yb.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new yb.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new yb.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};C3.default=Bve;var EX=Ai&&Ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KF,"__esModule",{value:!0});const zve=EX(C3),Uve=EX(x_);let Vve=class TX{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new zve.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new TX(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{c.searchParams.append(h,v)})):(l="POST",d=r);const f=new Headers(this.headers);return a&&f.set("Prefer",`count=${a}`),new Uve.default({method:l,url:c,headers:f,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};KF.default=Vve;var ry=Ai&&Ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pc,"__esModule",{value:!0});pc.PostgrestError=pc.PostgrestBuilder=pc.PostgrestTransformBuilder=pc.PostgrestFilterBuilder=pc.PostgrestQueryBuilder=pc.PostgrestClient=void 0;const PX=ry(KF);pc.PostgrestClient=PX.default;const OX=ry(C3);pc.PostgrestQueryBuilder=OX.default;const FX=ry(x_);pc.PostgrestFilterBuilder=FX.default;const DX=ry(A3);pc.PostgrestTransformBuilder=DX.default;const RX=ry(k3);pc.PostgrestBuilder=RX.default;const MX=ry(E3);pc.PostgrestError=MX.default;var qve=pc.default={PostgrestClient:PX.default,PostgrestQueryBuilder:OX.default,PostgrestFilterBuilder:FX.default,PostgrestTransformBuilder:DX.default,PostgrestBuilder:RX.default,PostgrestError:MX.default};const{PostgrestClient:Wve,PostgrestQueryBuilder:Mut,PostgrestFilterBuilder:Iut,PostgrestTransformBuilder:Lut,PostgrestBuilder:$ut,PostgrestError:But}=qve;class Hve{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Gve="2.81.1",Kve=`realtime-js/${Gve}`,IX="1.0.0",Yve="2.0.0",y9=IX,VT=1e4,Xve=1e3,Jve=100;var K0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(K0||(K0={}));var mo;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mo||(mo={}));var Du;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Du||(Du={}));var qT;(function(e){e.websocket="websocket"})(qT||(qT={}));var Y0;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Y0||(Y0={}));class Zve{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:s,topic:a,payload:o}=t,l=this.META_LENGTH+r.length+n.length+a.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let d=new DataView(c),f=0;d.setUint8(f++,this.KINDS.push),d.setUint8(f++,r.length),d.setUint8(f++,n.length),d.setUint8(f++,a.length),d.setUint8(f++,s.length),Array.from(r,v=>d.setUint8(f++,v.charCodeAt(0))),Array.from(n,v=>d.setUint8(f++,v.charCodeAt(0))),Array.from(a,v=>d.setUint8(f++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(f++,v.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:s,ref:a,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+o.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let h=new DataView(f),v=0;h.setUint8(v++,this.KINDS.userBroadcastPush),h.setUint8(v++,s.length),h.setUint8(v++,a.length),h.setUint8(v++,o.length),h.setUint8(v++,l.length),h.setUint8(v++,this.BINARY_ENCODING),Array.from(s,_=>h.setUint8(v++,_.charCodeAt(0))),Array.from(a,_=>h.setUint8(v++,_.charCodeAt(0))),Array.from(o,_=>h.setUint8(v++,_.charCodeAt(0))),Array.from(l,_=>h.setUint8(v++,_.charCodeAt(0)));var g=new Uint8Array(f.byteLength+c.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(c),f.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:s,ref:a,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+o.length+l.length,v=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(v),_=0;g.setUint8(_++,this.KINDS.userBroadcastPush),g.setUint8(_++,s.length),g.setUint8(_++,a.length),g.setUint8(_++,o.length),g.setUint8(_++,l.length),g.setUint8(_++,this.JSON_ENCODING),Array.from(s,j=>g.setUint8(_++,j.charCodeAt(0))),Array.from(a,j=>g.setUint8(_++,j.charCodeAt(0))),Array.from(o,j=>g.setUint8(_++,j.charCodeAt(0))),Array.from(l,j=>g.setUint8(_++,j.charCodeAt(0)));var y=new Uint8Array(v.byteLength+f.byteLength);return y.set(new Uint8Array(v),0),y.set(new Uint8Array(f),v.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:d,event:f,payload:h}}_decodeReply(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const v=n.decode(t.slice(c,c+l));c=c+l;const g=JSON.parse(n.decode(t.slice(c,t.byteLength))),_={status:v,response:g};return{join_ref:d,ref:f,topic:h,event:Du.reply,payload:_}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:d}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const v=t.slice(c,t.byteLength),g=l===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,_={type:this.BROADCAST,event:f,payload:g};return o>0&&(_.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class LX{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gs;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gs||(gs={}));const b9=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Qve(o,e,t,s),a),{}):{}},Qve=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?$X(a,o):WT(o)},$X=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return n1e(t,r)}switch(e){case gs.bool:return e1e(t);case gs.float4:case gs.float8:case gs.int2:case gs.int4:case gs.int8:case gs.numeric:case gs.oid:return t1e(t);case gs.json:case gs.jsonb:return r1e(t);case gs.timestamp:return a1e(t);case gs.abstime:case gs.date:case gs.daterange:case gs.int4range:case gs.int8range:case gs.money:case gs.reltime:case gs.text:case gs.time:case gs.timestamptz:case gs.timetz:case gs.tsrange:case gs.tstzrange:return WT(t);default:return WT(t)}},WT=e=>e,e1e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t1e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r1e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},n1e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>$X(t,l))}return e},a1e=e=>typeof e=="string"?e.replace(" ","T"):e,BX=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vk{constructor(t,r,n={},s=VT){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var w9;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(w9||(w9={}));class f2{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=f2.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=f2.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=f2.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const h=a[d];if(h){const v=f.map(j=>j.presence_ref),g=h.map(j=>j.presence_ref),_=f.filter(j=>g.indexOf(j.presence_ref)<0),y=h.filter(j=>v.indexOf(j.presence_ref)<0);_.length>0&&(l[d]=_),y.length>0&&(c[d]=y)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(g=>g.presence_ref),v=f.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...v)}n(l,f,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const f=c.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _9;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_9||(_9={}));var h2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(h2||(h2={}));var Sh;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sh||(Sh={}));class YF{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=mo.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vk(this,Du.join,this.params,this.timeout),this.rejoinTimer=new LX(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mo.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mo.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=mo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=mo.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Du.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new f2(this),this.broadcastEndpointURL=BX(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==mo.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[h2.PRESENCE]&&this.bindings[h2.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},v={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Sh.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Sh.CLOSED)),this.updateJoinPayload(Object.assign({config:v},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){t==null||t(Sh.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,j=(_=y==null?void 0:y.length)!==null&&_!==void 0?_:0,w=[];for(let C=0;C<j;C++){const k=y[C],{filter:{event:T,schema:P,table:D,filter:M}}=k,I=g&&g[C];if(I&&I.event===T&&I.schema===P&&I.table===D&&I.filter===M)w.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),this.state=mo.errored,t==null||t(Sh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Sh.SUBSCRIBED);return}}).receive("error",g=>{this.state=mo.errored,t==null||t(Sh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===mo.joined&&t===h2.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mo.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Du.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Vk(this,Du.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mo.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vk(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Jve){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=Du;if(n&&[l,c,d,f].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var _,y,j;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(y=g.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(g=>g.callback(v,n)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var _,y,j,w,C,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,P=(_=g.filter)===null||_===void 0?void 0:_.event;return T&&((y=r.ids)===null||y===void 0?void 0:y.includes(T))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const T=(C=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return T==="*"||T===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:y,table:j,commit_timestamp:w,type:C,errors:k}=_;v=Object.assign(Object.assign({},{schema:y,table:j,commit_timestamp:w,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(_))}g.callback(v,n)})}_isClosed(){return this.state===mo.closed}_isJoined(){return this.state===mo.joined}_isJoining(){return this.state===mo.joining}_isLeaving(){return this.state===mo.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&YF.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Du.close,{},t)}_onError(t){this._on(Du.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mo.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=b9(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=b9(t.columns,t.old_record)),r}}const qk=()=>{},uj={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},s1e=[1e3,2e3,5e3,1e4],i1e=1e4,o1e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l1e{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=VT,this.transport=null,this.heartbeatIntervalMs=uj.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qk,this.ref=0,this.reconnectTimer=null,this.vsn=y9,this.logger=qk,this.conn=null,this.sendBuffer=[],this.serializer=new Zve,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${qT.websocket}`,this.httpEndpoint=BX(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hve.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case K0.connecting:return Y0.Connecting;case K0.open:return Y0.Open;case K0.closing:return Y0.Closing;default:return Y0.Closed}}isConnected(){return this.connectionState()===Y0.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new YF(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Xve,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uj.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===K0.open||this.conn.readyState===K0.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Du.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([o1e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Kve};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Du.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new LX(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uj.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,d,f,h,v,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:VT,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:uj.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:qk,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:y9,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:_=>s1e[_-1]||i1e,this.vsn){case IX:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(_,y)=>y(JSON.stringify(_)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(_,y)=>y(JSON.parse(_));break;case Yve:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class XF extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Js(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class c1e extends XF{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class HT extends XF{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const JF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),u1e=()=>Response,GT=e=>{if(Array.isArray(e))return e.map(r=>GT(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=GT(n)}),t},d1e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wk=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},f1e=(e,t,r)=>Kr(void 0,void 0,void 0,function*(){const n=yield u1e();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new c1e(Wk(s),a,o))}).catch(s=>{t(new HT(Wk(s),s))}):t(new HT(Wk(e),e))}),h1e=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(d1e(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function y_(e,t,r,n,s,a){return Kr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,h1e(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>f1e(c,l,n))})})}function sw(e,t,r,n){return Kr(this,void 0,void 0,function*(){return y_(e,"GET",t,r,n)})}function Nd(e,t,r,n,s){return Kr(this,void 0,void 0,function*(){return y_(e,"POST",t,n,s,r)})}function KT(e,t,r,n,s){return Kr(this,void 0,void 0,function*(){return y_(e,"PUT",t,n,s,r)})}function m1e(e,t,r,n){return Kr(this,void 0,void 0,function*(){return y_(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ZF(e,t,r,n,s){return Kr(this,void 0,void 0,function*(){return y_(e,"DELETE",t,n,s,r)})}class p1e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Kr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Js(t))return{data:null,error:t};throw t}})}}var zX;class g1e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[zX]="BlobDownloadBuilder",this.promise=null}asStream(){return new p1e(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Kr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Js(t))return{data:null,error:t};throw t}})}}zX=Symbol.toStringTag;const v1e=g1e,x1e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j9={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y1e{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=JF(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Kr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},j9),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),h=yield(t=="PUT"?KT:Nd)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Js(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Kr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:j9.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield KT(this.fetch,l.toString(),c,{headers:f});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Js(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Nd(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new XF("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Js(n))return{data:null,error:n};throw n}})}update(t,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Js(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:{path:(yield Nd(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Js(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Kr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Nd(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Js(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Kr(this,void 0,void 0,function*(){try{const s=yield Nd(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Js(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>sw(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new v1e(c,this.shouldThrowOnError)}info(t){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield sw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:GT(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Js(n))return{data:null,error:n};throw n}})}exists(t){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield m1e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Js(n)&&n instanceof HT){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield ZF(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}list(t,r,n){return Kr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},x1e),r),{prefix:t||""});return{data:yield Nd(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Js(s))return{data:null,error:s};throw s}})}listV2(t,r){return Kr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Nd(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Js(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const UX="2.81.1",VX={"X-Client-Info":`storage-js/${UX}`};class b1e{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VX),r),this.fetch=JF(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Kr(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield sw(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}getBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield sw(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}createBucket(t){return Kr(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Nd(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Js(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Kr(this,void 0,void 0,function*(){try{return{data:yield KT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Js(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield ZF(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class w1e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VX),r),this.fetch=JF(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}listBuckets(t){return Kr(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield sw(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield ZF(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Js(r))return{data:null,error:r};throw r}})}}const QF={"X-Client-Info":`storage-js/${UX}`,"Content-Type":"application/json"};class qX extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hc(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Hk extends qX{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _1e extends qX{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var N9;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(N9||(N9={}));const eD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j1e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S9=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N1e=(e,t,r)=>Kr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Hk(S9(o),s,l))}).catch(()=>{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new Hk(l,s,o))});else{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new Hk(l,s,o))}}else t(new _1e(S9(e),e))}),S1e=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(j1e(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function C1e(e,t,r,n,s,a){return Kr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,S1e(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>N1e(c,l,n))})})}function Gc(e,t,r,n,s){return Kr(this,void 0,void 0,function*(){return C1e(e,"POST",t,n,s,r)})}class A1e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QF),r),this.fetch=eD(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Kr(this,void 0,void 0,function*(){try{return{data:(yield Gc(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Kr(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hc(n))return{data:null,error:n};throw n}})}listIndexes(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Kr(this,void 0,void 0,function*(){try{return{data:(yield Gc(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hc(n))return{data:null,error:n};throw n}})}}class k1e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QF),r),this.fetch=eD(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Kr(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gc(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}getVectors(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}listVectors(t){return Kr(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Gc(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}queryVectors(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Kr(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gc(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}}class E1e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QF),r),this.fetch=eD(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:(yield Gc(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}getBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}listBuckets(){return Kr(this,arguments,void 0,function*(t={}){try{return{data:yield Gc(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:(yield Gc(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hc(r))return{data:null,error:r};throw r}})}}class T1e extends E1e{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new P1e(this.url,this.headers,t,this.fetch)}}class P1e extends A1e{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Kr(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Kr(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Kr(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Kr(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new O1e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class O1e extends k1e{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Kr(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Kr(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Kr(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Kr(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Kr(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class F1e extends b1e{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new y1e(this.url,this.headers,t,this.fetch)}get vectors(){return new T1e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new w1e(this.url+"/iceberg",this.headers,this.fetch)}}const D1e="2.30.0",R1e={"X-Client-Info":`supabase-js/${D1e}`};var YT={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ai<"u"&&Ai,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(o){var l=typeof a<"u"&&a||typeof self<"u"&&self||typeof Ai<"u"&&Ai||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(X){return X&&DataView.prototype.isPrototypeOf(X)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(X){return X&&f.indexOf(Object.prototype.toString.call(X))>-1};function v(X){if(typeof X!="string"&&(X=String(X)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(X)||X==="")throw new TypeError('Invalid character in header field name: "'+X+'"');return X.toLowerCase()}function g(X){return typeof X!="string"&&(X=String(X)),X}function _(X){var Q={next:function(){var se=X.shift();return{done:se===void 0,value:se}}};return c.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function y(X){this.map={},X instanceof y?X.forEach(function(Q,se){this.append(se,Q)},this):Array.isArray(X)?X.forEach(function(Q){if(Q.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Q.length);this.append(Q[0],Q[1])},this):X&&Object.getOwnPropertyNames(X).forEach(function(Q){this.append(Q,X[Q])},this)}y.prototype.append=function(X,Q){X=v(X),Q=g(Q);var se=this.map[X];this.map[X]=se?se+", "+Q:Q},y.prototype.delete=function(X){delete this.map[v(X)]},y.prototype.get=function(X){return X=v(X),this.has(X)?this.map[X]:null},y.prototype.has=function(X){return this.map.hasOwnProperty(v(X))},y.prototype.set=function(X,Q){this.map[v(X)]=g(Q)},y.prototype.forEach=function(X,Q){for(var se in this.map)this.map.hasOwnProperty(se)&&X.call(Q,this.map[se],se,this)},y.prototype.keys=function(){var X=[];return this.forEach(function(Q,se){X.push(se)}),_(X)},y.prototype.values=function(){var X=[];return this.forEach(function(Q){X.push(Q)}),_(X)},y.prototype.entries=function(){var X=[];return this.forEach(function(Q,se){X.push([se,Q])}),_(X)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function j(X){if(!X._noBody){if(X.bodyUsed)return Promise.reject(new TypeError("Already read"));X.bodyUsed=!0}}function w(X){return new Promise(function(Q,se){X.onload=function(){Q(X.result)},X.onerror=function(){se(X.error)}})}function C(X){var Q=new FileReader,se=w(Q);return Q.readAsArrayBuffer(X),se}function k(X){var Q=new FileReader,se=w(Q),te=/charset=([A-Za-z0-9_-]+)/.exec(X.type),ce=te?te[1]:"utf-8";return Q.readAsText(X,ce),se}function T(X){for(var Q=new Uint8Array(X),se=new Array(Q.length),te=0;te<Q.length;te++)se[te]=String.fromCharCode(Q[te]);return se.join("")}function P(X){if(X.slice)return X.slice(0);var Q=new Uint8Array(X.byteLength);return Q.set(new Uint8Array(X)),Q.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(X){this.bodyUsed=this.bodyUsed,this._bodyInit=X,X?typeof X=="string"?this._bodyText=X:c.blob&&Blob.prototype.isPrototypeOf(X)?this._bodyBlob=X:c.formData&&FormData.prototype.isPrototypeOf(X)?this._bodyFormData=X:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(X)?this._bodyText=X.toString():c.arrayBuffer&&c.blob&&d(X)?(this._bodyArrayBuffer=P(X.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(X)||h(X))?this._bodyArrayBuffer=P(X):this._bodyText=X=Object.prototype.toString.call(X):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof X=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(X)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var X=j(this);if(X)return X;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var X=j(this);return X||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var X=j(this);if(X)return X;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function I(X){var Q=X.toUpperCase();return M.indexOf(Q)>-1?Q:X}function B(X,Q){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q=Q||{};var se=Q.body;if(X instanceof B){if(X.bodyUsed)throw new TypeError("Already read");this.url=X.url,this.credentials=X.credentials,Q.headers||(this.headers=new y(X.headers)),this.method=X.method,this.mode=X.mode,this.signal=X.signal,!se&&X._bodyInit!=null&&(se=X._bodyInit,X.bodyUsed=!0)}else this.url=String(X);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new y(Q.headers)),this.method=I(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal||function(){if("AbortController"in l){var xe=new AbortController;return xe.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(se),(this.method==="GET"||this.method==="HEAD")&&(Q.cache==="no-store"||Q.cache==="no-cache")){var te=/([?&])_=[^&]*/;if(te.test(this.url))this.url=this.url.replace(te,"$1_="+new Date().getTime());else{var ce=/\?/;this.url+=(ce.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function V(X){var Q=new FormData;return X.trim().split("&").forEach(function(se){if(se){var te=se.split("="),ce=te.shift().replace(/\+/g," "),xe=te.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(ce),decodeURIComponent(xe))}}),Q}function U(X){var Q=new y,se=X.replace(/\r?\n[\t ]+/g," ");return se.split("\r").map(function(te){return te.indexOf(`
`)===0?te.substr(1,te.length):te}).forEach(function(te){var ce=te.split(":"),xe=ce.shift().trim();if(xe){var de=ce.join(":").trim();try{Q.append(xe,de)}catch(ee){console.warn("Response "+ee.message)}}}),Q}D.call(B.prototype);function q(X,Q){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new y(Q.headers),this.url=Q.url||"",this._initBody(X)}D.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},q.error=function(){var X=new q(null,{status:200,statusText:""});return X.ok=!1,X.status=0,X.type="error",X};var re=[301,302,303,307,308];q.redirect=function(X,Q){if(re.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new q(null,{status:Q,headers:{location:X}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(Q,se){this.message=Q,this.name=se;var te=Error(Q);this.stack=te.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(X,Q){return new Promise(function(se,te){var ce=new B(X,Q);if(ce.signal&&ce.signal.aborted)return te(new o.DOMException("Aborted","AbortError"));var xe=new XMLHttpRequest;function de(){xe.abort()}xe.onload=function(){var ne={statusText:xe.statusText,headers:U(xe.getAllResponseHeaders()||"")};ce.url.indexOf("file://")===0&&(xe.status<200||xe.status>599)?ne.status=200:ne.status=xe.status,ne.url="responseURL"in xe?xe.responseURL:ne.headers.get("X-Request-URL");var Y="response"in xe?xe.response:xe.responseText;setTimeout(function(){se(new q(Y,ne))},0)},xe.onerror=function(){setTimeout(function(){te(new TypeError("Network request failed"))},0)},xe.ontimeout=function(){setTimeout(function(){te(new TypeError("Network request timed out"))},0)},xe.onabort=function(){setTimeout(function(){te(new o.DOMException("Aborted","AbortError"))},0)};function ee(ne){try{return ne===""&&l.location.href?l.location.href:ne}catch{return ne}}if(xe.open(ce.method,ee(ce.url),!0),ce.credentials==="include"?xe.withCredentials=!0:ce.credentials==="omit"&&(xe.withCredentials=!1),"responseType"in xe&&(c.blob?xe.responseType="blob":c.arrayBuffer&&(xe.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof y||l.Headers&&Q.headers instanceof l.Headers)){var fe=[];Object.getOwnPropertyNames(Q.headers).forEach(function(ne){fe.push(v(ne)),xe.setRequestHeader(ne,g(Q.headers[ne]))}),ce.headers.forEach(function(ne,Y){fe.indexOf(Y)===-1&&xe.setRequestHeader(Y,ne)})}else ce.headers.forEach(function(ne,Y){xe.setRequestHeader(Y,ne)});ce.signal&&(ce.signal.addEventListener("abort",de),xe.onreadystatechange=function(){xe.readyState===4&&ce.signal.removeEventListener("abort",de)}),xe.send(typeof ce._bodyInit>"u"?null:ce._bodyInit)})}return H.polyfill=!0,l.fetch||(l.fetch=H,l.Headers=y,l.Request=B,l.Response=q),o.Headers=y,o.Request=B,o.Response=q,o.fetch=H,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(YT,YT.exports);var tD=YT.exports;const WX=ga(tD),M1e=iG({__proto__:null,default:WX},[tD]);var I1e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(h){o(h)}}function c(f){try{d(n.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const L1e=e=>{let t;return e?t=e:typeof fetch>"u"?t=WX:t=fetch,(...r)=>t(...r)},$1e=()=>typeof Headers>"u"?tD.Headers:Headers,B1e=(e,t,r)=>{const n=L1e(r),s=$1e();return(a,o)=>I1e(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:d}))})};function z1e(e){return e.replace(/\/$/,"")}function U1e(e,t){const{db:r,auth:n,realtime:s,global:a}=e,{db:o,auth:l,realtime:c,global:d}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},d),a)}}const V1e="modulepreload",q1e=function(e){return"/"+e},C9={},m2=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=q1e(a),a in C9)return;C9[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let f=s.length-1;f>=0;f--){const h=s[f];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":V1e,o||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),o)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};function W1e(e){return Math.round(Date.now()/1e3)+e}function H1e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const jh=()=>typeof document<"u",F0={tested:!1,writable:!1},p4=()=>{if(!jh())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(F0.tested)return F0.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),F0.tested=!0,F0.writable=!0}catch{F0.tested=!0,F0.writable=!1}return F0.writable};function fc(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),s=n.exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const HX=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await m2(()=>Promise.resolve().then(()=>M1e),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},G1e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},dj=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gk=async(e,t)=>{await e.removeItem(t)};function K1e(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,a,o,l,c,d,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)o=t.indexOf(e.charAt(f++)),l=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),d=t.indexOf(e.charAt(f++)),n=o<<2|l>>4,s=(l&15)<<4|c>>2,a=(c&3)<<6|d,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),d!=64&&a!=0&&(r=r+String.fromCharCode(a));return r}class T3{constructor(){this.promise=new T3.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}T3.promiseConstructor=Promise;function A9(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(K1e(n))}function Y1e(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function X1e(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function J1e(e){return("0"+e.toString(16)).substr(-2)}function fj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,J1e).join("")}async function Z1e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function Q1e(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hj(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await Z1e(e);return Q1e(t)}const exe="__stack_guard__",txe="__",rxe=/__stack_guard__([a-zA-Z0-9_-]+)__/;let k9=!1,rD;function XT(e){var t,r;rD();let n;try{throw new Error}catch(a){n=a}const s=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let a=0;a<s.length;a+=1){const l=s[a].match(rxe);if(l&&l[1]===e)return!0}return!1}async function JT(e,t){await rD();const r=`${exe}${e}${txe}`;return await{[r]:async()=>await t()}[r]()}rD=async()=>{k9||(k9=!0,await JT("ENV_CHECK",async()=>{const e=XT("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class nD extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function Ea(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nxe extends nD{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function axe(e){return Ea(e)&&e.name==="AuthApiError"}class GX extends nD{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ny extends nD{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lv extends ny{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Kk extends ny{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class mj extends ny{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class vh extends ny{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yk extends ny{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZT extends ny{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function E9(e){return Ea(e)&&e.name==="AuthRetryableFetchError"}var sxe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Gb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ixe=[502,503,504];async function T9(e){if(!G1e(e))throw new ZT(Gb(e),0);if(ixe.includes(e.status))throw new ZT(Gb(e),e.status);let t;try{t=await e.json()}catch(r){throw new GX(Gb(r),r)}throw new nxe(Gb(t),e.status||500)}const oxe=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Wa(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await lxe(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function lxe(e,t,r,n,s,a){const o=oxe(t,n,s,a);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new ZT(Gb(c),0)}if(l.ok||await T9(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await T9(c)}}function Mm(e){var t;let r=null;fxe(e)&&(r=Object.assign({},e),r.expires_at=W1e(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function X0(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cxe(e){return{data:e,error:null}}function uxe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=sxe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function dxe(e){return e}function fxe(e){return e.access_token&&e.refresh_token&&e.expires_in}var hxe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class mxe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HX(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Wa(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ea(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Wa(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:X0})}catch(n){if(Ea(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hxe(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Wa(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uxe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ea(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Wa(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:X0})}catch(r){if(Ea(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Wa(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:dxe});if(f.error)throw f.error;const h=await f.json(),v=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);d[`${j}Page`]=y}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ea(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Wa(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:X0})}catch(r){if(Ea(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Wa(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:X0})}catch(n){if(Ea(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Wa(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:X0})}catch(n){if(Ea(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Wa(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ea(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Wa(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ea(r))return{data:null,error:r};throw r}}}const pxe="2.43.1",gxe="http://localhost:9999",vxe="supabase.auth.token",xxe={"X-Client-Info":`gotrue-js/${pxe}`},P9=10,O9={getItem:e=>p4()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{p4()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{p4()&&globalThis.localStorage.removeItem(e)}};function yxe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}yxe();const bxe={url:gxe,storageKey:vxe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xxe,flowType:"implicit",debug:!1},pj=30*1e3,F9=3;class iw{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=iw.nextInstanceID,iw.nextInstanceID+=1,this.instanceID>0&&jh()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},bxe),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||O9,this.admin=new mxe({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=HX(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===O9&&!p4()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),jh()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=JT("_initialize",async()=>{try{const t=jh()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:s,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ea(t)?{error:t}:{error:new GX("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,s;try{await this._removeSession();let a;if("email"in t){const{email:f,password:h,options:v}=t;let g=null,_=null;if(this.flowType==="pkce"){const y=fj();await bb(this.storage,`${this.storageKey}-code-verifier`,y),g=await hj(y),_=y===g?"plain":"s256"}a=await Wa(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:_},xform:Mm})}else if("phone"in t){const{phone:f,password:h,options:v}=t;a=await Wa(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Mm})}else throw new mj("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ea(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Wa(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mm})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Wa(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mm})}else throw new mj("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Kk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:s})}catch(r){if(Ea(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await dj(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:s}=await Wa(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Mm});return await Gk(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Kk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Wa(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mm}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kk}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ea(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let d=null,f=null;if(this.flowType==="pkce"){const v=fj();await bb(this.storage,`${this.storageKey}-code-verifier`,v),d=await hj(v),f=v===d?"plain":"s256"}const{error:h}=await Wa(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:f}=await Wa(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new mj("You must provide either an email or phone number.")}catch(l){if(Ea(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:s,error:a}=await Wa(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:Mm});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(Ea(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{return await this._removeSession(),await Wa(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:cxe})}catch(a){if(Ea(a))return{data:null,error:a};throw a}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lv;const{error:s}=await Wa(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ea(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Wa(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Wa(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new mj("You must provide either an email or phone number and a type")}catch(r){if(Ea(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await JT("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!XT("_useSession"))throw new Error("Please use #_useSession()");XT("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const a=await dj(this.storage,this.storageKey);this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,s;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0}return await Wa(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:X0})})}catch(r){if(Ea(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Lv;const o=s.session,{data:l,error:c}=await Wa(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:X0});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ea(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return A9(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lv;const r=Date.now()/1e3;let n=r,s=!0,a=null;const o=A9(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ea(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lv;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ea(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!jh())throw new vh("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new vh("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Yk("Not a valid PKCE flow url.");if(t){const j=fc("code");if(!j)throw new Yk("No code detected.");const{data:w,error:C}=await this.exchangeCodeForSession(j);if(C)throw C;if(!w.session)throw new Yk("No session detected.");let k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const r=fc("error_description");if(r){const j=fc("error_code");if(!j)throw new vh("No error_code detected.");const w=fc("error");throw w?new vh(r,{error:w,code:j}):new vh("No error detected.")}const n=fc("provider_token"),s=fc("provider_refresh_token"),a=fc("access_token");if(!a)throw new vh("No access_token detected.");const o=fc("expires_in");if(!o)throw new vh("No expires_in detected.");const l=fc("refresh_token");if(!l)throw new vh("No refresh_token detected.");const c=fc("token_type");if(!c)throw new vh("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:v}=await this.getUser(a);if(v)throw v;const g=h.user,_={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:parseInt(o),expires_at:f,refresh_token:l,token_type:c,user:g},y=fc("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:_,redirectType:y},error:null}}catch(r){if(Ea(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return jh()&&(!!fc("access_token")||!!fc("error_description"))}async _isPKCEFlow(){const t=await dj(this.storage,`${this.storageKey}-code-verifier`);return!!fc("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(axe(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gk(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=H1e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;if(this.flowType==="pkce"){const a=fj();await bb(this.storage,`${this.storageKey}-code-verifier`,a),n=await hj(a),s=a===n?"plain":"s256"}try{return await Wa(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ea(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await X1e(async s=>(await Y1e(s*200),this._debug(r,"refreshing attempt",s),await Wa(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mm})),(s,a,o)=>o&&o.error&&E9(o.error)&&Date.now()+(s+1)*200-n<pj)}catch(n){if(this._debug(r,"error",n),Ea(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jh()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await dj(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+P9;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${P9}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),E9(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lv;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new T3;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Lv;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ea(a)){const o={session:null,error:a};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),bb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Gk(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jh()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pj);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/pj);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pj}ms, refresh threshold is ${F9} ticks`),s<=F9&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jh()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const s=fj();await bb(this.storage,`${this.storageKey}-code-verifier`,s);const a=await hj(s),o=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);n.push(s.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Wa(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ea(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await Wa(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ea(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Wa(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ea(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Wa(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ea(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:n,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}})}}iw.nextInstanceID=0;class wxe extends iw{constructor(t){super(t)}}var _xe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(h){o(h)}}function c(f){try{d(n.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const jxe={headers:R1e},Nxe={schema:"public"},Sxe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cxe={};class Axe{constructor(t,r,n){var s,a,o,l,c,d,f,h;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const v=z1e(t);this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,this.functionsUrl=`${v}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,_={db:Nxe,realtime:Cxe,auth:Object.assign(Object.assign({},Sxe),{storageKey:g}),global:jxe},y=U1e(n??{},_);this.storageKey=(a=(s=y.auth)===null||s===void 0?void 0:s.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=(o=y.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,(d=y.global)===null||d===void 0?void 0:d.fetch),this.fetch=B1e(r,this._getAccessToken.bind(this),(f=y.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},y.realtime)),this.rest=new Wve(`${v}/rest/v1`,{headers:this.headers,schema:(h=y.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new bve(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new F1e(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _xe(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wxe({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,debug:l,fetch:d})}_initRealtimeClient(t){return new l1e(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kxe=(e,t,r)=>new Axe(e,t,r),Exe="https://jdeuwvaauerzjdtpwjjz.supabase.co",Txe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkZXV3dmFhdWVyempkdHB3amp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMTkxNTksImV4cCI6MjA3NDg5NTE1OX0.ktxs6yjuy3hRXCjsDzK1x6lJg0e5yEEnzl554nx28Kc",Oe=kxe(Exe,Txe,{auth:{persistSession:!0,storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-application-name":"bonplaninfos"}}}),KX=b.createContext(),Un=()=>b.useContext(KX),Pxe=({children:e})=>{const{user:t,loading:r,session:n,hasFetchError:s}=Pr(),{toast:a}=Ti(),[o,l]=b.useState(null),[c,d]=b.useState(null),[f,h]=b.useState(!0),[v,g]=b.useState(!0),[_,y]=b.useState([]),[j,w]=b.useState(null),[C,k]=b.useState(!1),[T,P]=b.useState(0),D=s||C,M=b.useCallback(ne=>{const Y=Date.now();y(ue=>[...ue,{id:Y,type:ne}])},[]),I=b.useCallback(ne=>{y(Y=>Y.filter(ue=>!ue.id.toString().startsWith(ne.toString().split("-")[0])))},[]),B=b.useCallback(ne=>{w(ne)},[]),V=b.useCallback(()=>{w(null)},[]),U=b.useCallback(async()=>{if(!t){P(0);return}try{const{count:ne,error:Y}=await Oe.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("is_read",!1);if(Y)throw Y;P(ne||0)}catch(ne){console.error("Error fetching notification count:",ne),P(0)}},[t]),q=b.useCallback(async ne=>{if(!ne||!ne.id){l(null),h(!1);return}h(!0);try{const{data:Y,error:ue}=await Oe.from("profiles").select("*").eq("id",ne.id).maybeSingle();if(ue&&ue.code!=="PGRST116")throw ue;l(Y),k(!1)}catch(Y){console.error("Error fetching user profile:",Y),Y instanceof TypeError&&Y.message.includes("Failed to fetch")&&(k(!0),a({title:"Problme de connexion",description:"Profil inaccessible. Une extension (ex: antivirus) pourrait bloquer les requtes.",variant:"destructive",duration:1/0})),l(null)}finally{h(!1)}},[a]),re=b.useCallback(async()=>{const{data:{user:ne}}=await Oe.auth.getUser();return ne?q(ne):Promise.resolve()},[q]),H=b.useCallback(async()=>{g(!0);try{const{data:ne,error:Y}=await Oe.from("app_settings").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(Y&&Y.code!=="PGRST116")throw Y;const{data:ue,error:le}=await Oe.from("coin_packs").select("*").eq("is_active",!0).order("display_order");if(le)throw le;const{data:ke,error:_e}=await Oe.from("promotion_packs").select("*").eq("is_active",!0).order("display_order");if(_e)throw _e;d({...ne,coin_packs:ue||[],promotion_packs:ke||[]}),k(!1)}catch(ne){console.error("Error fetching admin config:",ne),ne instanceof TypeError&&ne.message.includes("Failed to fetch")&&(k(!0),a({title:"Problme de connexion",description:"Configuration inaccessible. Une extension (ex: antivirus) pourrait bloquer les requtes.",variant:"destructive",duration:1/0})),d(null)}finally{g(!1)}},[a]);b.useEffect(()=>{if(t){U();const ne=Oe.channel("realtime-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},Y=>{U();const ue=Y.new;ue.sound_enabled&&(ue.type==="earning"?(B("coin"),M("bubbles")):B(ue.sound_effect||"default"))}).subscribe();return()=>{Oe.removeChannel(ne)}}},[t,B,M,U]),b.useEffect(()=>{r||q(t),D||H()},[t,r,D,q,H]);const X=async(ne,Y)=>{try{const{data:ue,error:le}=await Oe.from("profiles").update(Y).eq("id",ne).select().single();if(le)throw le;return l(ue),ue}catch(ue){throw console.error("Error updating user profile:",ue),ue}},Q=b.useCallback(async(ne={})=>{let Y=Oe.from("events").select("*, organizer:organizer_id(full_name)");ne.organizer_id&&(Y=Y.eq("organizer_id",ne.organizer_id)),ne.status&&(Y=Y.eq("status",ne.status)),ne.country&&(Y=Y.eq("country",ne.country));const{data:ue,error:le}=await Y.order("created_at",{ascending:!1});if(le&&(console.error("Error fetching events:",le),le instanceof TypeError&&le.message.includes("Failed to fetch")))throw le;return ue||[]},[]),se=b.useCallback(async(ne={})=>{let Y=Oe.from("event_promotions").select("*, event:event_id(*, organizer:organizer_id(full_name)), pack:promotion_pack_id(*)");ne.status&&(Y=Y.eq("status",ne.status)),ne.country&&(Y=Y.eq("event.country",ne.country));const{data:ue,error:le}=await Y.order("created_at",{ascending:!1});if(le){if(console.error("Error fetching promotions:",le),le instanceof TypeError&&le.message.includes("Failed to fetch"))throw le;return[]}return ue?ue.map(ke=>{const _e=ke.event||{},Fe=ke.pack||{};return{id:ke.id,event_id:_e.id,title:_e.title,description:_e.description,cover_image:_e.cover_image,category:_e.category_id,city:_e.city,organizer_id:_e.organizer_id,organizer:_e.organizer,pack_name:Fe.name,pack_expires_at:ke.end_date,cost_pi:ke.cost_pi,created_at:ke.created_at,status:ke.status}}).filter(ke=>ke.event_id):[]},[]),te=b.useCallback(async ne=>{const{data:Y,error:ue}=await Oe.from("transactions").select("*").eq("user_id",ne).order("created_at",{ascending:!1});if(ue&&(console.error("Error fetching transactions:",ue),ue instanceof TypeError&&ue.message.includes("Failed to fetch")))throw ue;return Y||[]},[]),ce=b.useCallback(async()=>{if(t)try{const{data:ne,error:Y}=await Oe.from("profiles").select("*").eq("id",t.id).single();if(Y)throw Y;return l(ne),ne}catch(ne){throw console.error("Erreur rafrachissement profil:",ne),ne}},[t]),xe=b.useCallback(async ne=>{try{const{data:Y,error:ue}=await Oe.from("profiles").select("coin_balance").eq("id",ne).single();if(ue)throw ue;Y&&l(le=>({...le,coin_balance:Y.coin_balance}))}catch(Y){console.error("Erreur rafrachissement solde coin_balance:",Y)}},[]),de=b.useCallback(async ne=>{const ue=(Ue=>{const gt=new Date;return Ue==="7d"?gt.setDate(gt.getDate()-7):Ue==="30d"?gt.setDate(gt.getDate()-30):Ue==="90d"?gt.setDate(gt.getDate()-90):Ue==="1y"&&gt.setFullYear(gt.getFullYear()-1),gt.toISOString()})(ne),[{data:le,error:ke},{data:_e,error:Fe},{data:Be,error:Re},{data:Te,error:$e},{data:pe,error:Ge},{data:pt,error:Pt}]=await Promise.all([Oe.from("profiles").select("id, country, city, created_at, user_type, is_active").gte("created_at",ue),Oe.from("transactions").select("user_id, transaction_type, amount_fcfa, created_at").gte("created_at",ue),Oe.from("events").select("organizer_id, created_at").gte("created_at",ue),Oe.from("coin_spending").select("amount"),Oe.from("user_coin_transactions").select("total_coins").eq("status","completed"),Oe.from("admin_logs").select("details, target_user:target_id(country)").eq("action_type","user_credited").neq("details->>reversed","true").gte("created_at",ue)]);if(ke||Fe||Re||$e||Ge||Pt)throw console.error("Analytics fetch error:",{usersError:ke,transactionsError:Fe,eventsError:Re,totalSpentError:$e,totalPurchasedError:Ge,adminCreditsError:Pt}),new Error("Failed to fetch analytics data");const nt=Te.reduce((Ue,gt)=>Ue+gt.amount,0),Ye=pe.reduce((Ue,gt)=>Ue+gt.total_coins,0);return{users:le,transactions:_e,events:Be,totalSpent:nt,totalPurchased:Ye,adminCredits:pt}},[]),ee=b.useCallback(()=>H(),[H]),fe={userProfile:o,loadingProfile:f,adminConfig:c,loadingConfig:v,hasFetchError:D,forceRefreshUserProfile:re,forceRefreshAdminConfig:ee,updateUserProfile:X,getEvents:Q,getPromotions:se,getUserTransactions:te,refreshUserProfile:ce,refreshCoinBalance:xe,getAnalyticsData:de,visualEffects:_,triggerVisualEffect:M,removeVisualEffect:I,soundEffect:j,triggerSoundEffect:B,clearSoundEffect:V,notificationCount:T,fetchNotificationCount:U};return i.jsx(KX.Provider,{value:fe,children:e})},YX=b.createContext(void 0),Oxe=({children:e})=>{const{toast:t}=Ti(),[r,n]=b.useState(null),[s,a]=b.useState(null),[o,l]=b.useState(!0),[c,d]=b.useState(!1),[f,h]=b.useState(()=>()=>{}),v=b.useCallback(async w=>{var T,P;const C=(P=(T=w==null?void 0:w.error)==null?void 0:T.message)==null?void 0:P.includes("Invalid Refresh Token"),k=(w==null?void 0:w.error)instanceof TypeError&&w.error.message.includes("Failed to fetch");w===null||C||k?(n(null),a(null),C?(d(!0),t({variant:"destructive",title:"Session invalide",description:"Votre session a expir. Veuillez vous reconnecter."}),await Oe.auth.signOut()):k&&(d(!0),t({title:"Problme de connexion",description:"Authentification impossible. Vrifiez votre connexion ou une extension bloquante.",variant:"destructive",duration:1/0}))):(a(w),n(w.user??null),d(!1),w.user&&f()),l(!1)},[t,f]);b.useEffect(()=>{l(!0),Oe.auth.getSession().then(({data:{session:C},error:k})=>{v(C||{error:k})});const{data:{subscription:w}}=Oe.auth.onAuthStateChange((C,k)=>{C==="SIGNED_OUT"?v(null):k&&v(k)});return()=>{w.unsubscribe()}},[v]);const g=b.useCallback(async(w,C,k)=>{const{data:T,error:P}=await Oe.auth.signUp({email:w,password:C,options:{data:k}});return P&&t({variant:"destructive",title:"Sign up Failed",description:P.message||"Something went wrong"}),{data:T,error:P}},[t]),_=b.useCallback(async(w,C)=>{const{data:k,error:T}=await Oe.auth.signInWithPassword({email:w,password:C});return T&&t({variant:"destructive",title:"Sign in Failed",description:T.message||"Something went wrong"}),{data:k,error:T}},[t]),y=b.useCallback(async()=>{const{error:w}=await Oe.auth.signOut();return w&&t({variant:"destructive",title:"Sign out Failed",description:w.message||"Something went wrong"}),{error:w}},[t]),j=b.useMemo(()=>({user:r,session:s,loading:o,hasFetchError:c,signUp:g,signIn:_,signOut:y,setForceRefresh:h}),[r,s,o,c,g,_,y]);return i.jsx(YX.Provider,{value:j,children:e})},Pr=()=>{const e=b.useContext(YX);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},XX=b.createContext(),Fxe=()=>b.useContext(XX),Dxe=({children:e})=>{const[t,r]=b.useState(()=>{const s=localStorage.getItem("bonplaninfos_theme");return s==="dark-elegant"||s==="deep-night"?s:"dark-elegant"});b.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("dark-elegant","deep-night","light","dark","blue"),s.classList.add(t),localStorage.setItem("bonplaninfos_theme",t)},[t]);const n={theme:t,setTheme:r};return i.jsx(XX.Provider,{value:n,children:e})};var Rxe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Mxe=ga(Rxe);var Ixe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function D9(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(Mxe[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var s=new RegExp(Ixe),a=null;(a=s.exec(e))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],s.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Lxe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,$xe=/^\s*$/,Bxe=Object.create(null);function JX(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var s in r)n.push(s+'="'+r[s]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(JX,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var zxe={parse:function(e,t){t||(t={}),t.components||(t.components=Bxe);var r,n=[],s=[],a=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");n.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(Lxe,function(c,d){if(o){if(c!=="</"+r.name+">")return;o=!1}var f,h=c.charAt(1)!=="/",v=c.startsWith("<!--"),g=d+c.length,_=e.charAt(g);if(v){var y=D9(c);return a<0?(n.push(y),n):((f=s[a]).children.push(y),n)}if(h&&(a++,(r=D9(c)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!_||_==="<"||r.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),a===0&&n.push(r),(f=s[a-1])&&f.children.push(r),s[a]=r),(!h||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:s[a]),!o&&_!=="<"&&_)){f=a===-1?n:s[a].children;var j=e.indexOf("<",g),w=e.slice(g,j===-1?void 0:j);$xe.test(w)&&(w=" "),(j>-1&&a+f.length>=0||w!==" ")&&f.push({type:"text",content:w})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+JX("",r)},"")}};function g4(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Wu(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const R9={};function mN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Wu(t[0])&&R9[t[0]]||(Wu(t[0])&&(R9[t[0]]=new Date),g4(...t))}const ZX=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},M9=(e,t,r)=>{e.loadNamespaces(t,ZX(e,r))},I9=(e,t,r,n)=>{Wu(r)&&(r=[r]),r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,ZX(e,n))},Uxe=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],s=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=t.services.backendConnector.state[`${l}|${c}`];return d===-1||d===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(n,e)&&(!s||o(a,e)))},Vxe=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(mN("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(s,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,e))return!1}}):Uxe(e,t,r)},Wu=e=>typeof e=="string",m1=e=>typeof e=="object"&&e!==null,qxe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Wxe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Hxe=e=>Wxe[e],Gxe=e=>e.replace(qxe,Hxe);let QT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gxe};const Kxe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};QT={...QT,...e}},QX=()=>QT;let eJ;const Yxe=e=>{eJ=e},aD=()=>eJ,Xk=(e,t)=>{if(!e)return!1;const r=e.props?e.props.children:e.children;return t?r.length>0:!!r},Jk=e=>{if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?p1(t):t},Xxe=e=>Array.isArray(e)&&e.every(b.isValidElement),p1=e=>Array.isArray(e)?e:[e],Jxe=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},tJ=(e,t)=>{if(!e)return"";let r="";const n=p1(e),s=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((a,o)=>{if(Wu(a))r+=`${a}`;else if(b.isValidElement(a)){const{props:l,type:c}=a,d=Object.keys(l).length,f=s.indexOf(c)>-1,h=l.children;if(!h&&f&&!d)r+=`<${c}/>`;else if(!h&&(!f||d)||l.i18nIsDynamicList)r+=`<${o}></${o}>`;else if(f&&d===1&&Wu(h))r+=`<${c}>${h}</${c}>`;else{const v=tJ(h,t);r+=`<${o}>${v}</${o}>`}}else if(a===null)g4("Trans: the passed in value is invalid - seems you passed in a null child.");else if(m1(a)){const{format:l,...c}=a,d=Object.keys(c);if(d.length===1){const f=l?`${d[0]}, ${l}`:d[0];r+=`{{${f}}}`}else g4("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else g4("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r},Zxe=(e,t,r,n,s,a)=>{if(t==="")return[];const o=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(o.map(j=>`<${j}`).join("|")).test(t);if(!e&&!l&&!a)return[t];const c={},d=j=>{p1(j).forEach(C=>{Wu(C)||(Xk(C)?d(Jk(C)):m1(C)&&!b.isValidElement(C)&&Object.assign(c,C))})};d(e);const f=zxe.parse(`<0>${t}</0>`),h={...c,...s},v=(j,w,C)=>{const k=Jk(j),T=_(k,w.children,C);return Xxe(k)&&T.length===0||j.props&&j.props.i18nIsDynamicList?k:T},g=(j,w,C,k,T)=>{j.dummy?(j.children=w,C.push(b.cloneElement(j,{key:k},T?void 0:w))):C.push(...b.Children.map([j],P=>{const D={...P.props};return delete D.i18nIsDynamicList,b.createElement(P.type,{...D,key:k,ref:P.ref},T?null:w)}))},_=(j,w,C)=>{const k=p1(j);return p1(w).reduce((P,D,M)=>{const I=D.children&&D.children[0]&&D.children[0].content&&r.services.interpolator.interpolate(D.children[0].content,h,r.language);if(D.type==="tag"){let B=k[parseInt(D.name,10)];C.length===1&&!B&&(B=C[0][D.name]),B||(B={});const V=Object.keys(D.attrs).length!==0?Jxe({props:D.attrs},B):B,U=b.isValidElement(V),q=U&&Xk(D,!0)&&!D.voidElement,re=l&&m1(V)&&V.dummy&&!U,H=m1(e)&&Object.hasOwnProperty.call(e,D.name);if(Wu(V)){const X=r.services.interpolator.interpolate(V,h,r.language);P.push(X)}else if(Xk(V)||q){const X=v(V,D,C);g(V,X,P,M)}else if(re){const X=_(k,D.children,C);g(V,X,P,M)}else if(Number.isNaN(parseFloat(D.name)))if(H){const X=v(V,D,C);g(V,X,P,M,D.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(D.name)>-1)if(D.voidElement)P.push(b.createElement(D.name,{key:`${D.name}-${M}`}));else{const X=_(k,D.children,C);P.push(b.createElement(D.name,{key:`${D.name}-${M}`},X))}else if(D.voidElement)P.push(`<${D.name} />`);else{const X=_(k,D.children,C);P.push(`<${D.name}>${X}</${D.name}>`)}else if(m1(V)&&!U){const X=D.children[0]?I:null;X&&P.push(X)}else g(V,I,P,M,D.children.length!==1||!I)}else if(D.type==="text"){const B=n.transWrapTextNodes,V=a?n.unescape(r.services.interpolator.interpolate(D.content,h,r.language)):r.services.interpolator.interpolate(D.content,h,r.language);B?P.push(b.createElement(B,{key:`${D.name}-${M}`},V)):P.push(V)}return P},[])},y=_([{dummy:!0,children:e||[]}],f,p1(e||[]));return Jk(y[0])};function Qxe(e){let{children:t,count:r,parent:n,i18nKey:s,context:a,tOptions:o={},values:l,defaults:c,components:d,ns:f,i18n:h,t:v,shouldUnescape:g,..._}=e;const y=h||aD();if(!y)return mN("You will need to pass in an i18next instance by using i18nextReactModule"),t;const j=v||y.t.bind(y)||(q=>q),w={...QX(),...y.options&&y.options.react};let C=f||j.ns||y.options&&y.options.defaultNS;C=Wu(C)?[C]:C||["translation"];const k=tJ(t,w),T=c||k||w.transEmptyNodeValue||s,{hashTransKey:P}=w,D=s||(P?P(k||T):k||T);y.options&&y.options.interpolation&&y.options.interpolation.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...y.options.interpolation.defaultVariables}:{...y.options.interpolation.defaultVariables});const M=l||r!==void 0||!t?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},I={...o,context:a||o.context,count:r,...l,...M,defaultValue:T,ns:C},B=D?j(D,I):T;d&&Object.keys(d).forEach(q=>{const re=d[q];if(typeof re.type=="function"||!re.props||!re.props.children||B.indexOf(`${q}/>`)<0&&B.indexOf(`${q} />`)<0)return;function H(){return b.createElement(b.Fragment,null,re)}d[q]=b.createElement(H)});const V=Zxe(d||t,B,y,w,I,g),U=n!==void 0?n:w.defaultTransParent;return U?b.createElement(U,_,V):V}const eye={type:"3rdParty",init(e){Kxe(e.options.react),Yxe(e)}},rJ=b.createContext();class tye{constructor(){Va(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}function sD(e){let{children:t,count:r,parent:n,i18nKey:s,context:a,tOptions:o={},values:l,defaults:c,components:d,ns:f,i18n:h,t:v,shouldUnescape:g,..._}=e;const{i18n:y,defaultNS:j}=b.useContext(rJ)||{},w=h||y||aD(),C=v||w&&w.t.bind(w);return Qxe({children:t,count:r,parent:n,i18nKey:s,context:a,tOptions:o,values:l,defaults:c,components:d,ns:f||C&&C.ns||j||w&&w.options&&w.options.defaultNS,i18n:w,t:v,shouldUnescape:g,..._})}const rye=(e,t)=>{const r=b.useRef();return b.useEffect(()=>{r.current=t?r.current:e},[e,t]),r.current},nJ=(e,t,r,n)=>e.getFixedT(t,r,n),nye=(e,t,r,n)=>b.useCallback(nJ(e,t,r,n),[e,t,r,n]),Dn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:s}=b.useContext(rJ)||{},a=r||n||aD();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new tye),!a){mN("You will need to pass in an i18next instance by using initReactI18next");const T=(D,M)=>Wu(M)?M:m1(M)&&Wu(M.defaultValue)?M.defaultValue:Array.isArray(D)?D[D.length-1]:D,P=[T,{},!1];return P.t=T,P.i18n={},P.ready=!1,P}a.options.react&&a.options.react.wait!==void 0&&mN("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...QX(),...a.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let d=e||s||a.options&&a.options.defaultNS;d=Wu(d)?[d]:d||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(d);const f=(a.isInitialized||a.initializedStoreOnce)&&d.every(T=>Vxe(T,a,o)),h=nye(a,t.lng||null,o.nsMode==="fallback"?d:d[0],c),v=()=>h,g=()=>nJ(a,t.lng||null,o.nsMode==="fallback"?d:d[0],c),[_,y]=b.useState(v);let j=d.join();t.lng&&(j=`${t.lng}${j}`);const w=rye(j),C=b.useRef(!0);b.useEffect(()=>{const{bindI18n:T,bindI18nStore:P}=o;C.current=!0,!f&&!l&&(t.lng?I9(a,t.lng,d,()=>{C.current&&y(g)}):M9(a,d,()=>{C.current&&y(g)})),f&&w&&w!==j&&C.current&&y(g);const D=()=>{C.current&&y(g)};return T&&a&&a.on(T,D),P&&a&&a.store.on(P,D),()=>{C.current=!1,T&&a&&T.split(" ").forEach(M=>a.off(M,D)),P&&a&&P.split(" ").forEach(M=>a.store.off(M,D))}},[a,j]),b.useEffect(()=>{C.current&&f&&y(v)},[a,c,f]);const k=[_,a,f];if(k.t=_,k.i18n=a,k.ready=f,f||!f&&!l)return k;throw new Promise(T=>{t.lng?I9(a,t.lng,d,()=>T()):M9(a,d,()=>T())})};var aye=Symbol.for("react.lazy"),pN=ZS[" use ".trim().toString()];function sye(e){return typeof e=="object"&&e!==null&&"then"in e}function aJ(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===aye&&"_payload"in e&&sye(e._payload)}function P3(e){const t=oye(e),r=b.forwardRef((n,s)=>{let{children:a,...o}=n;aJ(a)&&typeof pN=="function"&&(a=pN(a._payload));const l=b.Children.toArray(a),c=l.find(cye);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var iye=P3("Slot");function oye(e){const t=b.forwardRef((r,n)=>{let{children:s,...a}=r;if(aJ(s)&&typeof pN=="function"&&(s=pN(s._payload)),b.isValidElement(s)){const o=dye(s),l=uye(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lye=Symbol("radix.slottable");function cye(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lye}function uye(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function dye(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const eP=Xg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out","outline-premium":"bg-transparent border-2 border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black transition-colors duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=Se.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?iye:"button";return i.jsx(o,{className:Ht(eP({variant:t,size:r,className:e})),ref:a,...s})});Ee.displayName="Button";function fye(e,t=[]){let r=[];function n(a,o){const l=b.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=h=>{var w;const{scope:v,children:g,..._}=h,y=((w=v==null?void 0:v[e])==null?void 0:w[c])||l,j=b.useMemo(()=>_,Object.values(_));return i.jsx(y.Provider,{value:j,children:g})};d.displayName=a+"Provider";function f(h,v){var y;const g=((y=v==null?void 0:v[e])==null?void 0:y[c])||l,_=b.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,hye(s,...t)]}function hye(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var mye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iD=mye.reduce((e,t)=>{const r=P3(`Primitive.${t}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),sJ={exports:{}},iJ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=b;function pye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gye=typeof Object.is=="function"?Object.is:pye,vye=lx.useState,xye=lx.useEffect,yye=lx.useLayoutEffect,bye=lx.useDebugValue;function wye(e,t){var r=t(),n=vye({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return yye(function(){s.value=r,s.getSnapshot=t,Zk(s)&&a({inst:s})},[e,r,t]),xye(function(){return Zk(s)&&a({inst:s}),e(function(){Zk(s)&&a({inst:s})})},[e]),bye(r),r}function Zk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gye(e,r)}catch{return!0}}function _ye(e,t){return t()}var jye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_ye:wye;iJ.useSyncExternalStore=lx.useSyncExternalStore!==void 0?lx.useSyncExternalStore:jye;sJ.exports=iJ;var Nye=sJ.exports;function Sye(){return Nye.useSyncExternalStore(Cye,()=>!0,()=>!1)}function Cye(){return()=>{}}var oD="Avatar",[Aye,zut]=fye(oD),[kye,oJ]=Aye(oD),lJ=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=b.useState("idle");return i.jsx(kye,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(iD.span,{...n,ref:t})})});lJ.displayName=oD;var cJ="AvatarImage",uJ=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=oJ(cJ,r),l=Eye(n,a),c=ec(d=>{s(d),o.onImageLoadingStatusChange(d)});return Ei(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(iD.img,{...a,ref:t,src:n}):null});uJ.displayName=cJ;var dJ="AvatarFallback",fJ=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=oJ(dJ,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(iD.span,{...s,ref:t}):null});fJ.displayName=dJ;function L9(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Eye(e,{referrerPolicy:t,crossOrigin:r}){const n=Sye(),s=b.useRef(null),a=(()=>n?(s.current||(s.current=new window.Image),s.current):null)(),[o,l]=b.useState(()=>L9(a,e));return Ei(()=>{l(L9(a,e))},[a,e]),Ei(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),f=c("error");return a.addEventListener("load",d),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",f)}},[a,r,t]),o}var hJ=lJ,mJ=uJ,pJ=fJ;const Xu=Se.forwardRef(({className:e,...t},r)=>i.jsx(hJ,{ref:r,className:Ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-xl",e),...t}));Xu.displayName=hJ.displayName;const Ju=Se.forwardRef(({className:e,...t},r)=>i.jsx(mJ,{ref:r,className:Ht("aspect-square h-full w-full",e),...t}));Ju.displayName=mJ.displayName;const Zu=Se.forwardRef(({className:e,...t},r)=>i.jsx(pJ,{ref:r,className:Ht("flex h-full w-full items-center justify-center rounded-xl bg-muted",e),...t}));Zu.displayName=pJ.displayName;var Tye=b.createContext(void 0);function zp(e){const t=b.useContext(Tye);return e||t||"ltr"}var Qk=0;function O3(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$9()),document.body.insertAdjacentElement("beforeend",e[1]??$9()),Qk++,()=>{Qk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qk--}},[])}function $9(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eE="focusScope.autoFocusOnMount",tE="focusScope.autoFocusOnUnmount",B9={bubbles:!1,cancelable:!0},Pye="FocusScope",b_=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=b.useState(null),d=ec(s),f=ec(a),h=b.useRef(null),v=mn(t,y=>c(y)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let y=function(k){if(g.paused||!l)return;const T=k.target;l.contains(T)?h.current=T:Bm(h.current,{select:!0})},j=function(k){if(g.paused||!l)return;const T=k.relatedTarget;T!==null&&(l.contains(T)||Bm(h.current,{select:!0}))},w=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&Bm(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const C=new MutationObserver(w);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),C.disconnect()}}},[n,l,g.paused]),b.useEffect(()=>{if(l){U9.add(g);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(eE,B9);l.addEventListener(eE,d),l.dispatchEvent(w),w.defaultPrevented||(Oye(Iye(gJ(l)),{select:!0}),document.activeElement===y&&Bm(l))}return()=>{l.removeEventListener(eE,d),setTimeout(()=>{const w=new CustomEvent(tE,B9);l.addEventListener(tE,f),l.dispatchEvent(w),w.defaultPrevented||Bm(y??document.body,{select:!0}),l.removeEventListener(tE,f),U9.remove(g)},0)}}},[l,d,f,g]);const _=b.useCallback(y=>{if(!r&&!n||g.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(j&&w){const C=y.currentTarget,[k,T]=Fye(C);k&&T?!y.shiftKey&&w===T?(y.preventDefault(),r&&Bm(k,{select:!0})):y.shiftKey&&w===k&&(y.preventDefault(),r&&Bm(T,{select:!0})):w===C&&y.preventDefault()}},[r,n,g.paused]);return i.jsx(_r.div,{tabIndex:-1,...o,ref:v,onKeyDown:_})});b_.displayName=Pye;function Oye(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bm(n,{select:t}),document.activeElement!==r)return}function Fye(e){const t=gJ(e),r=z9(t,e),n=z9(t.reverse(),e);return[r,n]}function gJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function z9(e,t){for(const r of e)if(!Dye(r,{upTo:t}))return r}function Dye(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rye(e){return e instanceof HTMLInputElement&&"select"in e}function Bm(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Rye(e)&&t&&e.select()}}var U9=Mye();function Mye(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=V9(e,t),e.unshift(t)},remove(t){var r;e=V9(e,t),(r=e[0])==null||r.resume()}}}function V9(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Iye(e){return e.filter(t=>t.tagName!=="A")}var Lye=ZS[" useId ".trim().toString()]||(()=>{}),$ye=0;function Ac(e){const[t,r]=b.useState(Lye());return Ei(()=>{e||r(n=>n??String($ye++))},[e]),e||(t?`radix-${t}`:"")}const Bye=["top","right","bottom","left"],Tp=Math.min,Wc=Math.max,gN=Math.round,gj=Math.floor,Rf=e=>({x:e,y:e}),zye={left:"right",right:"left",bottom:"top",top:"bottom"},Uye={start:"end",end:"start"};function tP(e,t,r){return Wc(e,Tp(t,r))}function Kh(e,t){return typeof e=="function"?e(t):e}function Yh(e){return e.split("-")[0]}function ay(e){return e.split("-")[1]}function lD(e){return e==="x"?"y":"x"}function cD(e){return e==="y"?"height":"width"}const Vye=new Set(["top","bottom"]);function Af(e){return Vye.has(Yh(e))?"y":"x"}function uD(e){return lD(Af(e))}function qye(e,t,r){r===void 0&&(r=!1);const n=ay(e),s=uD(e),a=cD(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=vN(o)),[o,vN(o)]}function Wye(e){const t=vN(e);return[rP(e),t,rP(t)]}function rP(e){return e.replace(/start|end/g,t=>Uye[t])}const q9=["left","right"],W9=["right","left"],Hye=["top","bottom"],Gye=["bottom","top"];function Kye(e,t,r){switch(e){case"top":case"bottom":return r?t?W9:q9:t?q9:W9;case"left":case"right":return t?Hye:Gye;default:return[]}}function Yye(e,t,r,n){const s=ay(e);let a=Kye(Yh(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(rP)))),a}function vN(e){return e.replace(/left|right|bottom|top/g,t=>zye[t])}function Xye(e){return{top:0,right:0,bottom:0,left:0,...e}}function vJ(e){return typeof e!="number"?Xye(e):{top:e,right:e,bottom:e,left:e}}function xN(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function H9(e,t,r){let{reference:n,floating:s}=e;const a=Af(t),o=uD(t),l=cD(o),c=Yh(t),d=a==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,v=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(ay(t)){case"start":g[o]-=v*(r&&d?-1:1);break;case"end":g[o]+=v*(r&&d?-1:1);break}return g}const Jye=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=H9(d,n,c),v=n,g={},_=0;for(let y=0;y<l.length;y++){const{name:j,fn:w}=l[y],{x:C,y:k,data:T,reset:P}=await w({x:f,y:h,initialPlacement:n,placement:v,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});f=C??f,h=k??h,g={...g,[j]:{...g[j],...T}},P&&_<=50&&(_++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:f,y:h}=H9(d,v,c)),y=-1)}return{x:f,y:h,placement:v,strategy:s,middlewareData:g}};async function ow(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:v=!1,padding:g=0}=Kh(t,e),_=vJ(g),j=l[v?h==="floating"?"reference":"floating":h],w=xN(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(j)))==null||r?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),C=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),T=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},P=xN(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:k,strategy:c}):C);return{top:(w.top-P.top+_.top)/T.y,bottom:(P.bottom-w.bottom+_.bottom)/T.y,left:(w.left-P.left+_.left)/T.x,right:(P.right-w.right+_.right)/T.x}}const Zye=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=Kh(e,t)||{};if(d==null)return{};const h=vJ(f),v={x:r,y:n},g=uD(s),_=cD(g),y=await o.getDimensions(d),j=g==="y",w=j?"top":"left",C=j?"bottom":"right",k=j?"clientHeight":"clientWidth",T=a.reference[_]+a.reference[g]-v[g]-a.floating[_],P=v[g]-a.reference[g],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=D?D[k]:0;(!M||!await(o.isElement==null?void 0:o.isElement(D)))&&(M=l.floating[k]||a.floating[_]);const I=T/2-P/2,B=M/2-y[_]/2-1,V=Tp(h[w],B),U=Tp(h[C],B),q=V,re=M-y[_]-U,H=M/2-y[_]/2+I,X=tP(q,H,re),Q=!c.arrow&&ay(s)!=null&&H!==X&&a.reference[_]/2-(H<q?V:U)-y[_]/2<0,se=Q?H<q?H-q:H-re:0;return{[g]:v[g]+se,data:{[g]:X,centerOffset:H-X-se,...Q&&{alignmentOffset:se}},reset:Q}}}),Qye=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...j}=Kh(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=Yh(s),C=Af(l),k=Yh(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=v||(k||!y?[vN(l)]:Wye(l)),D=_!=="none";!v&&D&&P.push(...Yye(l,y,_,T));const M=[l,...P],I=await ow(t,j),B=[];let V=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&B.push(I[w]),h){const H=qye(s,o,T);B.push(I[H[0]],I[H[1]])}if(V=[...V,{placement:s,overflows:B}],!B.every(H=>H<=0)){var U,q;const H=(((U=a.flip)==null?void 0:U.index)||0)+1,X=M[H];if(X&&(!(h==="alignment"?C!==Af(X):!1)||V.every(te=>Af(te.placement)===C?te.overflows[0]>0:!0)))return{data:{index:H,overflows:V},reset:{placement:X}};let Q=(q=V.filter(se=>se.overflows[0]<=0).sort((se,te)=>se.overflows[1]-te.overflows[1])[0])==null?void 0:q.placement;if(!Q)switch(g){case"bestFit":{var re;const se=(re=V.filter(te=>{if(D){const ce=Af(te.placement);return ce===C||ce==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ce=>ce>0).reduce((ce,xe)=>ce+xe,0)]).sort((te,ce)=>te[1]-ce[1])[0])==null?void 0:re[0];se&&(Q=se);break}case"initialPlacement":Q=l;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function G9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function K9(e){return Bye.some(t=>e[t]>=0)}const ebe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Kh(e,t);switch(n){case"referenceHidden":{const a=await ow(t,{...s,elementContext:"reference"}),o=G9(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K9(o)}}}case"escaped":{const a=await ow(t,{...s,altBoundary:!0}),o=G9(a,r.floating);return{data:{escapedOffsets:o,escaped:K9(o)}}}default:return{}}}}},xJ=new Set(["left","top"]);async function tbe(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Yh(r),l=ay(r),c=Af(r)==="y",d=xJ.has(o)?-1:1,f=a&&c?-1:1,h=Kh(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(g=l==="end"?_*-1:_),c?{x:g*f,y:v*d}:{x:v*d,y:g*f}}const rbe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await tbe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},nbe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:w,y:C}=j;return{x:w,y:C}}},...c}=Kh(e,t),d={x:r,y:n},f=await ow(t,c),h=Af(Yh(s)),v=lD(h);let g=d[v],_=d[h];if(a){const j=v==="y"?"top":"left",w=v==="y"?"bottom":"right",C=g+f[j],k=g-f[w];g=tP(C,g,k)}if(o){const j=h==="y"?"top":"left",w=h==="y"?"bottom":"right",C=_+f[j],k=_-f[w];_=tP(C,_,k)}const y=l.fn({...t,[v]:g,[h]:_});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[v]:a,[h]:o}}}}}},abe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Kh(e,t),f={x:r,y:n},h=Af(s),v=lD(h);let g=f[v],_=f[h];const y=Kh(l,t),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const k=v==="y"?"height":"width",T=a.reference[v]-a.floating[k]+j.mainAxis,P=a.reference[v]+a.reference[k]-j.mainAxis;g<T?g=T:g>P&&(g=P)}if(d){var w,C;const k=v==="y"?"width":"height",T=xJ.has(Yh(s)),P=a.reference[h]-a.floating[k]+(T&&((w=o.offset)==null?void 0:w[h])||0)+(T?0:j.crossAxis),D=a.reference[h]+a.reference[k]+(T?0:((C=o.offset)==null?void 0:C[h])||0)-(T?j.crossAxis:0);_<P?_=P:_>D&&(_=D)}return{[v]:g,[h]:_}}}},sbe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Kh(e,t),f=await ow(t,d),h=Yh(s),v=ay(s),g=Af(s)==="y",{width:_,height:y}=a.floating;let j,w;h==="top"||h==="bottom"?(j=h,w=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,j=v==="end"?"top":"bottom");const C=y-f.top-f.bottom,k=_-f.left-f.right,T=Tp(y-f[j],C),P=Tp(_-f[w],k),D=!t.middlewareData.shift;let M=T,I=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=C),D&&!v){const V=Wc(f.left,0),U=Wc(f.right,0),q=Wc(f.top,0),re=Wc(f.bottom,0);g?I=_-2*(V!==0||U!==0?V+U:Wc(f.left,f.right)):M=y-2*(q!==0||re!==0?q+re:Wc(f.top,f.bottom))}await c({...t,availableWidth:I,availableHeight:M});const B=await o.getDimensions(l.floating);return _!==B.width||y!==B.height?{reset:{rects:!0}}:{}}}};function F3(){return typeof window<"u"}function sy(e){return yJ(e)?(e.nodeName||"").toLowerCase():"#document"}function Qc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yf(e){var t;return(t=(yJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yJ(e){return F3()?e instanceof Node||e instanceof Qc(e).Node:!1}function Id(e){return F3()?e instanceof Element||e instanceof Qc(e).Element:!1}function qf(e){return F3()?e instanceof HTMLElement||e instanceof Qc(e).HTMLElement:!1}function Y9(e){return!F3()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qc(e).ShadowRoot}const ibe=new Set(["inline","contents"]);function w_(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ld(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ibe.has(s)}const obe=new Set(["table","td","th"]);function lbe(e){return obe.has(sy(e))}const cbe=[":popover-open",":modal"];function D3(e){return cbe.some(t=>{try{return e.matches(t)}catch{return!1}})}const ube=["transform","translate","scale","rotate","perspective"],dbe=["transform","translate","scale","rotate","perspective","filter"],fbe=["paint","layout","strict","content"];function dD(e){const t=fD(),r=Id(e)?Ld(e):e;return ube.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||dbe.some(n=>(r.willChange||"").includes(n))||fbe.some(n=>(r.contain||"").includes(n))}function hbe(e){let t=Pp(e);for(;qf(t)&&!cx(t);){if(dD(t))return t;if(D3(t))return null;t=Pp(t)}return null}function fD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mbe=new Set(["html","body","#document"]);function cx(e){return mbe.has(sy(e))}function Ld(e){return Qc(e).getComputedStyle(e)}function R3(e){return Id(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pp(e){if(sy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y9(e)&&e.host||Yf(e);return Y9(t)?t.host:t}function bJ(e){const t=Pp(e);return cx(t)?e.ownerDocument?e.ownerDocument.body:e.body:qf(t)&&w_(t)?t:bJ(t)}function lw(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=bJ(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Qc(s);if(a){const l=nP(o);return t.concat(o,o.visualViewport||[],w_(s)?s:[],l&&r?lw(l):[])}return t.concat(s,lw(s,[],r))}function nP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wJ(e){const t=Ld(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=qf(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=gN(r)!==a||gN(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function hD(e){return Id(e)?e:e.contextElement}function D1(e){const t=hD(e);if(!qf(t))return Rf(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=wJ(t);let o=(a?gN(r.width):r.width)/n,l=(a?gN(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pbe=Rf(0);function _J(e){const t=Qc(e);return!fD()||!t.visualViewport?pbe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gbe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qc(e)?!1:t}function Eg(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=hD(e);let o=Rf(1);t&&(n?Id(n)&&(o=D1(n)):o=D1(e));const l=gbe(a,r,n)?_J(a):Rf(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(a){const v=Qc(a),g=n&&Id(n)?Qc(n):n;let _=v,y=nP(_);for(;y&&n&&g!==_;){const j=D1(y),w=y.getBoundingClientRect(),C=Ld(y),k=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*j.x,T=w.top+(y.clientTop+parseFloat(C.paddingTop))*j.y;c*=j.x,d*=j.y,f*=j.x,h*=j.y,c+=k,d+=T,_=Qc(y),y=nP(_)}}return xN({width:f,height:h,x:c,y:d})}function M3(e,t){const r=R3(e).scrollLeft;return t?t.left+r:Eg(Yf(e)).left+r}function jJ(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-M3(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function vbe(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Yf(n),l=t?D3(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Rf(1);const f=Rf(0),h=qf(n);if((h||!h&&!a)&&((sy(n)!=="body"||w_(o))&&(c=R3(n)),qf(n))){const g=Eg(n);d=D1(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const v=o&&!h&&!a?jJ(o,c):Rf(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+v.x,y:r.y*d.y-c.scrollTop*d.y+f.y+v.y}}function xbe(e){return Array.from(e.getClientRects())}function ybe(e){const t=Yf(e),r=R3(e),n=e.ownerDocument.body,s=Wc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Wc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+M3(e);const l=-r.scrollTop;return Ld(n).direction==="rtl"&&(o+=Wc(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const X9=25;function bbe(e,t){const r=Qc(e),n=Yf(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const f=fD();(!f||f&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=M3(n);if(d<=0){const f=n.ownerDocument,h=f.body,v=getComputedStyle(h),g=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(n.clientWidth-h.clientWidth-g);_<=X9&&(a-=_)}else d<=X9&&(a+=d);return{width:a,height:o,x:l,y:c}}const wbe=new Set(["absolute","fixed"]);function _be(e,t){const r=Eg(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=qf(e)?D1(e):Rf(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function J9(e,t,r){let n;if(t==="viewport")n=bbe(e,r);else if(t==="document")n=ybe(Yf(e));else if(Id(t))n=_be(t,r);else{const s=_J(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xN(n)}function NJ(e,t){const r=Pp(e);return r===t||!Id(r)||cx(r)?!1:Ld(r).position==="fixed"||NJ(r,t)}function jbe(e,t){const r=t.get(e);if(r)return r;let n=lw(e,[],!1).filter(l=>Id(l)&&sy(l)!=="body"),s=null;const a=Ld(e).position==="fixed";let o=a?Pp(e):e;for(;Id(o)&&!cx(o);){const l=Ld(o),c=dD(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&wbe.has(s.position)||w_(o)&&!c&&NJ(e,o))?n=n.filter(f=>f!==o):s=l,o=Pp(o)}return t.set(e,n),n}function Nbe(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?D3(t)?[]:jbe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const h=J9(t,f,s);return d.top=Wc(h.top,d.top),d.right=Tp(h.right,d.right),d.bottom=Tp(h.bottom,d.bottom),d.left=Wc(h.left,d.left),d},J9(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Sbe(e){const{width:t,height:r}=wJ(e);return{width:t,height:r}}function Cbe(e,t,r){const n=qf(t),s=Yf(t),a=r==="fixed",o=Eg(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Rf(0);function d(){c.x=M3(s)}if(n||!n&&!a)if((sy(t)!=="body"||w_(s))&&(l=R3(t)),n){const g=Eg(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&d();a&&!n&&s&&d();const f=s&&!n&&!a?jJ(s,l):Rf(0),h=o.left+l.scrollLeft-c.x-f.x,v=o.top+l.scrollTop-c.y-f.y;return{x:h,y:v,width:o.width,height:o.height}}function rE(e){return Ld(e).position==="static"}function Z9(e,t){if(!qf(e)||Ld(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yf(e)===r&&(r=r.ownerDocument.body),r}function SJ(e,t){const r=Qc(e);if(D3(e))return r;if(!qf(e)){let s=Pp(e);for(;s&&!cx(s);){if(Id(s)&&!rE(s))return s;s=Pp(s)}return r}let n=Z9(e,t);for(;n&&lbe(n)&&rE(n);)n=Z9(n,t);return n&&cx(n)&&rE(n)&&!dD(n)?r:n||hbe(e)||r}const Abe=async function(e){const t=this.getOffsetParent||SJ,r=this.getDimensions,n=await r(e.floating);return{reference:Cbe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kbe(e){return Ld(e).direction==="rtl"}const Ebe={convertOffsetParentRelativeRectToViewportRelativeRect:vbe,getDocumentElement:Yf,getClippingRect:Nbe,getOffsetParent:SJ,getElementRects:Abe,getClientRects:xbe,getDimensions:Sbe,getScale:D1,isElement:Id,isRTL:kbe};function CJ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Tbe(e,t){let r=null,n;const s=Yf(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:f,top:h,width:v,height:g}=d;if(l||t(),!v||!g)return;const _=gj(h),y=gj(s.clientWidth-(f+v)),j=gj(s.clientHeight-(h+g)),w=gj(f),k={rootMargin:-_+"px "+-y+"px "+-j+"px "+-w+"px",threshold:Wc(0,Tp(1,c))||1};let T=!0;function P(D){const M=D[0].intersectionRatio;if(M!==c){if(!T)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!CJ(d,e.getBoundingClientRect())&&o(),T=!1}try{r=new IntersectionObserver(P,{...k,root:s.ownerDocument})}catch{r=new IntersectionObserver(P,k)}r.observe(e)}return o(!0),a}function Pbe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=hD(e),f=s||a?[...d?lw(d):[],...lw(t)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const h=d&&l?Tbe(d,r):null;let v=-1,g=null;o&&(g=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(t)})),r()}),d&&!c&&g.observe(d),g.observe(t));let _,y=c?Eg(e):null;c&&j();function j(){const w=Eg(e);y&&!CJ(y,w)&&r(),y=w,_=requestAnimationFrame(j)}return r(),()=>{var w;f.forEach(C=>{s&&C.removeEventListener("scroll",r),a&&C.removeEventListener("resize",r)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(_)}}const Obe=rbe,Fbe=nbe,Dbe=Qye,Rbe=sbe,Mbe=ebe,Q9=Zye,Ibe=abe,Lbe=(e,t,r)=>{const n=new Map,s={platform:Ebe,...r},a={...s.platform,_c:n};return Jye(e,t,{...s,platform:a})};var $be=typeof document<"u",Bbe=function(){},v4=$be?b.useLayoutEffect:Bbe;function yN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yN(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!yN(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function AJ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function e$(e,t){const r=AJ(e);return Math.round(t*r)/r}function nE(e){const t=b.useRef(e);return v4(()=>{t.current=e}),t}function zbe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,h]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=b.useState(n);yN(v,n)||g(n);const[_,y]=b.useState(null),[j,w]=b.useState(null),C=b.useCallback(te=>{te!==D.current&&(D.current=te,y(te))},[]),k=b.useCallback(te=>{te!==M.current&&(M.current=te,w(te))},[]),T=a||_,P=o||j,D=b.useRef(null),M=b.useRef(null),I=b.useRef(f),B=c!=null,V=nE(c),U=nE(s),q=nE(d),re=b.useCallback(()=>{if(!D.current||!M.current)return;const te={placement:t,strategy:r,middleware:v};U.current&&(te.platform=U.current),Lbe(D.current,M.current,te).then(ce=>{const xe={...ce,isPositioned:q.current!==!1};H.current&&!yN(I.current,xe)&&(I.current=xe,Gg.flushSync(()=>{h(xe)}))})},[v,t,r,U,q]);v4(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(te=>({...te,isPositioned:!1})))},[d]);const H=b.useRef(!1);v4(()=>(H.current=!0,()=>{H.current=!1}),[]),v4(()=>{if(T&&(D.current=T),P&&(M.current=P),T&&P){if(V.current)return V.current(T,P,re);re()}},[T,P,re,V,B]);const X=b.useMemo(()=>({reference:D,floating:M,setReference:C,setFloating:k}),[C,k]),Q=b.useMemo(()=>({reference:T,floating:P}),[T,P]),se=b.useMemo(()=>{const te={position:r,left:0,top:0};if(!Q.floating)return te;const ce=e$(Q.floating,f.x),xe=e$(Q.floating,f.y);return l?{...te,transform:"translate("+ce+"px, "+xe+"px)",...AJ(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:xe}},[r,l,Q.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:re,refs:X,elements:Q,floatingStyles:se}),[f,re,X,Q,se])}const Ube=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Q9({element:n.current,padding:s}).fn(r):{}:n?Q9({element:n,padding:s}).fn(r):{}}}},Vbe=(e,t)=>({...Obe(e),options:[e,t]}),qbe=(e,t)=>({...Fbe(e),options:[e,t]}),Wbe=(e,t)=>({...Ibe(e),options:[e,t]}),Hbe=(e,t)=>({...Dbe(e),options:[e,t]}),Gbe=(e,t)=>({...Rbe(e),options:[e,t]}),Kbe=(e,t)=>({...Mbe(e),options:[e,t]}),Ybe=(e,t)=>({...Ube(e),options:[e,t]});var Xbe="Arrow",kJ=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(_r.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});kJ.displayName=Xbe;var Jbe=kJ;function __(e){const[t,r]=b.useState(void 0);return Ei(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mD="Popper",[EJ,Up]=eo(mD),[Zbe,TJ]=EJ(mD),PJ=e=>{const{__scopePopper:t,children:r}=e,[n,s]=b.useState(null);return i.jsx(Zbe,{scope:t,anchor:n,onAnchorChange:s,children:r})};PJ.displayName=mD;var OJ="PopperAnchor",FJ=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=TJ(OJ,r),o=b.useRef(null),l=mn(t,o),c=b.useRef(null);return b.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(_r.div,{...s,ref:l})});FJ.displayName=OJ;var pD="PopperContent",[Qbe,e2e]=EJ(pD),DJ=b.forwardRef((e,t)=>{var le,ke,_e,Fe,Be,Re;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:v=!1,updatePositionStrategy:g="optimized",onPlaced:_,...y}=e,j=TJ(pD,r),[w,C]=b.useState(null),k=mn(t,Te=>C(Te)),[T,P]=b.useState(null),D=__(T),M=(D==null?void 0:D.width)??0,I=(D==null?void 0:D.height)??0,B=n+(a!=="center"?"-"+a:""),V=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},U=Array.isArray(d)?d:[d],q=U.length>0,re={padding:V,boundary:U.filter(r2e),altBoundary:q},{refs:H,floatingStyles:X,placement:Q,isPositioned:se,middlewareData:te}=zbe({strategy:"fixed",placement:B,whileElementsMounted:(...Te)=>Pbe(...Te,{animationFrame:g==="always"}),elements:{reference:j.anchor},middleware:[Vbe({mainAxis:s+I,alignmentAxis:o}),c&&qbe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Wbe():void 0,...re}),c&&Hbe({...re}),Gbe({...re,apply:({elements:Te,rects:$e,availableWidth:pe,availableHeight:Ge})=>{const{width:pt,height:Pt}=$e.reference,nt=Te.floating.style;nt.setProperty("--radix-popper-available-width",`${pe}px`),nt.setProperty("--radix-popper-available-height",`${Ge}px`),nt.setProperty("--radix-popper-anchor-width",`${pt}px`),nt.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),T&&Ybe({element:T,padding:l}),n2e({arrowWidth:M,arrowHeight:I}),v&&Kbe({strategy:"referenceHidden",...re})]}),[ce,xe]=IJ(Q),de=ec(_);Ei(()=>{se&&(de==null||de())},[se,de]);const ee=(le=te.arrow)==null?void 0:le.x,fe=(ke=te.arrow)==null?void 0:ke.y,ne=((_e=te.arrow)==null?void 0:_e.centerOffset)!==0,[Y,ue]=b.useState();return Ei(()=>{w&&ue(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:se?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(Fe=te.transformOrigin)==null?void 0:Fe.x,(Be=te.transformOrigin)==null?void 0:Be.y].join(" "),...((Re=te.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Qbe,{scope:r,placedSide:ce,onArrowChange:P,arrowX:ee,arrowY:fe,shouldHideArrow:ne,children:i.jsx(_r.div,{"data-side":ce,"data-align":xe,...y,ref:k,style:{...y.style,animation:se?void 0:"none"}})})})});DJ.displayName=pD;var RJ="PopperArrow",t2e={top:"bottom",right:"left",bottom:"top",left:"right"},MJ=b.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=e2e(RJ,n),o=t2e[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Jbe,{...s,ref:r,style:{...s.style,display:"block"}})})});MJ.displayName=RJ;function r2e(e){return e!==null}var n2e=e=>({name:"transformOrigin",options:e,fn(t){var j,w,C;const{placement:r,rects:n,middlewareData:s}=t,o=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=IJ(r),h={start:"0%",center:"50%",end:"100%"}[f],v=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((C=s.arrow)==null?void 0:C.y)??0)+c/2;let _="",y="";return d==="bottom"?(_=o?h:`${v}px`,y=`${-c}px`):d==="top"?(_=o?h:`${v}px`,y=`${n.floating.height+c}px`):d==="right"?(_=`${-c}px`,y=o?h:`${g}px`):d==="left"&&(_=`${n.floating.width+c}px`,y=o?h:`${g}px`),{data:{x:_,y}}}});function IJ(e){const[t,r="center"]=e.split("-");return[t,r]}var I3=PJ,j_=FJ,L3=DJ,$3=MJ,aE="rovingFocusGroup.onEntryFocus",a2e={bubbles:!1,cancelable:!0},N_="RovingFocusGroup",[aP,LJ,s2e]=Jx(N_),[i2e,Vp]=eo(N_,[s2e]),[o2e,l2e]=i2e(N_),$J=b.forwardRef((e,t)=>i.jsx(aP.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(aP.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(c2e,{...e,ref:t})})}));$J.displayName=N_;var c2e=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,v=b.useRef(null),g=mn(t,v),_=zp(a),[y,j]=_o({prop:o,defaultProp:l??null,onChange:c,caller:N_}),[w,C]=b.useState(!1),k=ec(d),T=LJ(r),P=b.useRef(!1),[D,M]=b.useState(0);return b.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(aE,k),()=>I.removeEventListener(aE,k)},[k]),i.jsx(o2e,{scope:r,orientation:n,dir:_,loop:s,currentTabStopId:y,onItemFocus:b.useCallback(I=>j(I),[j]),onItemShiftTab:b.useCallback(()=>C(!0),[]),onFocusableItemAdd:b.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>M(I=>I-1),[]),children:i.jsx(_r.div,{tabIndex:w||D===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:Wt(e.onMouseDown,()=>{P.current=!0}),onFocus:Wt(e.onFocus,I=>{const B=!P.current;if(I.target===I.currentTarget&&B&&!w){const V=new CustomEvent(aE,a2e);if(I.currentTarget.dispatchEvent(V),!V.defaultPrevented){const U=T().filter(Q=>Q.focusable),q=U.find(Q=>Q.active),re=U.find(Q=>Q.id===y),X=[q,re,...U].filter(Boolean).map(Q=>Q.ref.current);UJ(X,f)}}P.current=!1}),onBlur:Wt(e.onBlur,()=>C(!1))})})}),BJ="RovingFocusGroupItem",zJ=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=Ac(),d=a||c,f=l2e(BJ,r),h=f.currentTabStopId===d,v=LJ(r),{onFocusableItemAdd:g,onFocusableItemRemove:_,currentTabStopId:y}=f;return b.useEffect(()=>{if(n)return g(),()=>_()},[n,g,_]),i.jsx(aP.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:i.jsx(_r.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Wt(e.onMouseDown,j=>{n?f.onItemFocus(d):j.preventDefault()}),onFocus:Wt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Wt(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const w=f2e(j,f.orientation,f.dir);if(w!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=v().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")k.reverse();else if(w==="prev"||w==="next"){w==="prev"&&k.reverse();const T=k.indexOf(j.currentTarget);k=f.loop?h2e(k,T+1):k.slice(T+1)}setTimeout(()=>UJ(k))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});zJ.displayName=BJ;var u2e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d2e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function f2e(e,t,r){const n=d2e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return u2e[n]}function UJ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function h2e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var B3=$J,z3=zJ;function m2e(e){const t=p2e(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(v2e);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function p2e(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=y2e(s),l=x2e(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var g2e=Symbol("radix.slottable");function v2e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===g2e}function x2e(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function y2e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var b2e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$v=new WeakMap,vj=new WeakMap,xj={},sE=0,VJ=function(e){return e&&(e.host||VJ(e.parentNode))},w2e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=VJ(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},_2e=function(e,t,r,n){var s=w2e(t,Array.isArray(e)?e:[e]);xj[r]||(xj[r]=new WeakMap);var a=xj[r],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(v){if(l.has(v))f(v);else try{var g=v.getAttribute(n),_=g!==null&&g!=="false",y=($v.get(v)||0)+1,j=(a.get(v)||0)+1;$v.set(v,y),a.set(v,j),o.push(v),y===1&&_&&vj.set(v,!0),j===1&&v.setAttribute(r,"true"),_||v.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",v,w)}})};return f(t),l.clear(),sE++,function(){o.forEach(function(h){var v=$v.get(h)-1,g=a.get(h)-1;$v.set(h,v),a.set(h,g),v||(vj.has(h)||h.removeAttribute(n),vj.delete(h)),g||h.removeAttribute(r)}),sE--,sE||($v=new WeakMap,$v=new WeakMap,vj=new WeakMap,xj={})}},U3=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||b2e(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),_2e(n,s,r,"aria-hidden")):function(){return null}},x4="right-scroll-bar-position",y4="width-before-scroll-bar",j2e="with-scroll-bars-hidden",N2e="--removed-body-scroll-bar-size";function iE(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function S2e(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var C2e=typeof window<"u"?b.useLayoutEffect:b.useEffect,t$=new WeakMap;function A2e(e,t){var r=S2e(t||null,function(n){return e.forEach(function(s){return iE(s,n)})});return C2e(function(){var n=t$.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||iE(l,null)}),a.forEach(function(l){s.has(l)||iE(l,o)})}t$.set(r,e)},[e]),r}function k2e(e){return e}function E2e(e,t){t===void 0&&(t=k2e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return s}function T2e(e){e===void 0&&(e={});var t=E2e(null);return t.options=jf({async:!0,ssr:!1},e),t}var qJ=function(e){var t=e.sideCar,r=AX(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,jf({},r))};qJ.isSideCarExport=!0;function P2e(e,t){return e.useMedium(t),qJ}var WJ=T2e(),oE=function(){},V3=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:oE,onWheelCapture:oE,onTouchMoveCapture:oE}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,v=e.sideCar,g=e.noRelative,_=e.noIsolation,y=e.inert,j=e.allowPinchZoom,w=e.as,C=w===void 0?"div":w,k=e.gapMode,T=AX(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,D=A2e([r,t]),M=jf(jf({},T),s);return b.createElement(b.Fragment,null,f&&b.createElement(P,{sideCar:WJ,removeScrollBar:d,shards:h,noRelative:g,noIsolation:_,inert:y,setCallbacks:a,allowPinchZoom:!!j,lockRef:r,gapMode:k}),o?b.cloneElement(b.Children.only(l),jf(jf({},M),{ref:D})):b.createElement(C,jf({},M,{className:c,ref:D}),l))});V3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V3.classNames={fullWidth:y4,zeroRight:x4};var r$,O2e=function(){if(r$)return r$;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F2e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=O2e();return t&&e.setAttribute("nonce",t),e}function D2e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R2e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var M2e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=F2e())&&(D2e(t,r),R2e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},I2e=function(){var e=M2e();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},HJ=function(){var e=I2e(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},L2e={left:0,top:0,right:0,gap:0},lE=function(e){return parseInt(e||"",10)||0},$2e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[lE(r),lE(n),lE(s)]},B2e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L2e;var t=$2e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},z2e=HJ(),R1="data-scroll-locked",U2e=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(j2e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(R1,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(x4,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(y4,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(x4," .").concat(x4,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(y4," .").concat(y4,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(R1,`] {
    `).concat(N2e,": ").concat(l,`px;
  }
`)},n$=function(){var e=parseInt(document.body.getAttribute(R1)||"0",10);return isFinite(e)?e:0},V2e=function(){b.useEffect(function(){return document.body.setAttribute(R1,(n$()+1).toString()),function(){var e=n$()-1;e<=0?document.body.removeAttribute(R1):document.body.setAttribute(R1,e.toString())}},[])},q2e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;V2e();var a=b.useMemo(function(){return B2e(s)},[s]);return b.createElement(z2e,{styles:U2e(a,!t,s,r?"":"!important")})},sP=!1;if(typeof window<"u")try{var yj=Object.defineProperty({},"passive",{get:function(){return sP=!0,!0}});window.addEventListener("test",yj,yj),window.removeEventListener("test",yj,yj)}catch{sP=!1}var Bv=sP?{passive:!1}:!1,W2e=function(e){return e.tagName==="TEXTAREA"},GJ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!W2e(e)&&r[t]==="visible")},H2e=function(e){return GJ(e,"overflowY")},G2e=function(e){return GJ(e,"overflowX")},a$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=KJ(e,n);if(s){var a=YJ(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},K2e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Y2e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},KJ=function(e,t){return e==="v"?H2e(t):G2e(t)},YJ=function(e,t){return e==="v"?K2e(t):Y2e(t)},X2e=function(e,t){return e==="h"&&t==="rtl"?-1:1},J2e=function(e,t,r,n,s){var a=X2e(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,f=o>0,h=0,v=0;do{if(!l)break;var g=YJ(e,l),_=g[0],y=g[1],j=g[2],w=y-j-a*_;(_||w)&&KJ(e,l)&&(h+=w,v+=_);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(s&&Math.abs(h)<1||!s&&o>h)||!f&&(s&&Math.abs(v)<1||!s&&-o>v))&&(d=!0),d},bj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s$=function(e){return[e.deltaX,e.deltaY]},i$=function(e){return e&&"current"in e?e.current:e},Z2e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Q2e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ewe=0,zv=[];function twe(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(ewe++)[0],a=b.useState(HJ)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=vve([e.lockRef.current],(e.shards||[]).map(i$),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=bj(y),C=r.current,k="deltaX"in y?y.deltaX:C[0]-w[0],T="deltaY"in y?y.deltaY:C[1]-w[1],P,D=y.target,M=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in y&&M==="h"&&D.type==="range")return!1;var I=a$(M,D);if(!I)return!0;if(I?P=M:(P=M==="v"?"h":"v",I=a$(M,D)),!I)return!1;if(!n.current&&"changedTouches"in y&&(k||T)&&(n.current=P),!P)return!0;var B=n.current||P;return J2e(B,j,y,B==="h"?k:T,!0)},[]),c=b.useCallback(function(y){var j=y;if(!(!zv.length||zv[zv.length-1]!==a)){var w="deltaY"in j?s$(j):bj(j),C=t.current.filter(function(P){return P.name===j.type&&(P.target===j.target||j.target===P.shadowParent)&&Z2e(P.delta,w)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var k=(o.current.shards||[]).map(i$).filter(Boolean).filter(function(P){return P.contains(j.target)}),T=k.length>0?l(j,k[0]):!o.current.noIsolation;T&&j.cancelable&&j.preventDefault()}}},[]),d=b.useCallback(function(y,j,w,C){var k={name:y,delta:j,target:w,should:C,shadowParent:rwe(w)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(T){return T!==k})},1)},[]),f=b.useCallback(function(y){r.current=bj(y),n.current=void 0},[]),h=b.useCallback(function(y){d(y.type,s$(y),y.target,l(y,e.lockRef.current))},[]),v=b.useCallback(function(y){d(y.type,bj(y),y.target,l(y,e.lockRef.current))},[]);b.useEffect(function(){return zv.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Bv),document.addEventListener("touchmove",c,Bv),document.addEventListener("touchstart",f,Bv),function(){zv=zv.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Bv),document.removeEventListener("touchmove",c,Bv),document.removeEventListener("touchstart",f,Bv)}},[]);var g=e.removeScrollBar,_=e.inert;return b.createElement(b.Fragment,null,_?b.createElement(a,{styles:Q2e(s)}):null,g?b.createElement(q2e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nwe=P2e(WJ,twe);var XJ=b.forwardRef(function(e,t){return b.createElement(V3,jf({},e,{ref:t,sideCar:nwe}))});XJ.classNames=V3.classNames;const q3=XJ;var iP=["Enter"," "],awe=["ArrowDown","PageUp","Home"],JJ=["ArrowUp","PageDown","End"],swe=[...awe,...JJ],iwe={ltr:[...iP,"ArrowRight"],rtl:[...iP,"ArrowLeft"]},owe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},S_="Menu",[cw,lwe,cwe]=Jx(S_),[Zg,ZJ]=eo(S_,[cwe,Up,Vp]),W3=Up(),QJ=Vp(),[uwe,Qg]=Zg(S_),[dwe,C_]=Zg(S_),eZ=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=W3(t),[c,d]=b.useState(null),f=b.useRef(!1),h=ec(a),v=zp(s);return b.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),i.jsx(I3,{...l,children:i.jsx(uwe,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:i.jsx(dwe,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:v,modal:o,children:n})})})};eZ.displayName=S_;var fwe="MenuAnchor",gD=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=W3(r);return i.jsx(j_,{...s,...n,ref:t})});gD.displayName=fwe;var vD="MenuPortal",[hwe,tZ]=Zg(vD,{forceMount:void 0}),rZ=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Qg(vD,t);return i.jsx(hwe,{scope:t,forceMount:r,children:i.jsx(Pl,{present:r||a.open,children:i.jsx(Zx,{asChild:!0,container:s,children:n})})})};rZ.displayName=vD;var Hu="MenuContent",[mwe,xD]=Zg(Hu),nZ=b.forwardRef((e,t)=>{const r=tZ(Hu,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Qg(Hu,e.__scopeMenu),o=C_(Hu,e.__scopeMenu);return i.jsx(cw.Provider,{scope:e.__scopeMenu,children:i.jsx(Pl,{present:n||a.open,children:i.jsx(cw.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(pwe,{...s,ref:t}):i.jsx(gwe,{...s,ref:t})})})})}),pwe=b.forwardRef((e,t)=>{const r=Qg(Hu,e.__scopeMenu),n=b.useRef(null),s=mn(t,n);return b.useEffect(()=>{const a=n.current;if(a)return U3(a)},[]),i.jsx(yD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Wt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),gwe=b.forwardRef((e,t)=>{const r=Qg(Hu,e.__scopeMenu);return i.jsx(yD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),vwe=m2e("MenuContent.ScrollLock"),yD=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,onDismiss:g,disableOutsideScroll:_,...y}=e,j=Qg(Hu,r),w=C_(Hu,r),C=W3(r),k=QJ(r),T=lwe(r),[P,D]=b.useState(null),M=b.useRef(null),I=mn(t,M,j.onContentChange),B=b.useRef(0),V=b.useRef(""),U=b.useRef(0),q=b.useRef(null),re=b.useRef("right"),H=b.useRef(0),X=_?q3:b.Fragment,Q=_?{as:vwe,allowPinchZoom:!0}:void 0,se=ce=>{var le,ke;const xe=V.current+ce,de=T().filter(_e=>!_e.disabled),ee=document.activeElement,fe=(le=de.find(_e=>_e.ref.current===ee))==null?void 0:le.textValue,ne=de.map(_e=>_e.textValue),Y=Ewe(ne,xe,fe),ue=(ke=de.find(_e=>_e.textValue===Y))==null?void 0:ke.ref.current;(function _e(Fe){V.current=Fe,window.clearTimeout(B.current),Fe!==""&&(B.current=window.setTimeout(()=>_e(""),1e3))})(xe),ue&&setTimeout(()=>ue.focus())};b.useEffect(()=>()=>window.clearTimeout(B.current),[]),O3();const te=b.useCallback(ce=>{var de,ee;return re.current===((de=q.current)==null?void 0:de.side)&&Pwe(ce,(ee=q.current)==null?void 0:ee.area)},[]);return i.jsx(mwe,{scope:r,searchRef:V,onItemEnter:b.useCallback(ce=>{te(ce)&&ce.preventDefault()},[te]),onItemLeave:b.useCallback(ce=>{var xe;te(ce)||((xe=M.current)==null||xe.focus(),D(null))},[te]),onTriggerLeave:b.useCallback(ce=>{te(ce)&&ce.preventDefault()},[te]),pointerGraceTimerRef:U,onPointerGraceIntentChange:b.useCallback(ce=>{q.current=ce},[]),children:i.jsx(X,{...Q,children:i.jsx(b_,{asChild:!0,trapped:s,onMountAutoFocus:Wt(a,ce=>{var xe;ce.preventDefault(),(xe=M.current)==null||xe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Yg,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,onDismiss:g,children:i.jsx(B3,{asChild:!0,...k,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:D,onEntryFocus:Wt(c,ce=>{w.isUsingKeyboardRef.current||ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(L3,{role:"menu","aria-orientation":"vertical","data-state":yZ(j.open),"data-radix-menu-content":"",dir:w.dir,...C,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:Wt(y.onKeyDown,ce=>{const de=ce.target.closest("[data-radix-menu-content]")===ce.currentTarget,ee=ce.ctrlKey||ce.altKey||ce.metaKey,fe=ce.key.length===1;de&&(ce.key==="Tab"&&ce.preventDefault(),!ee&&fe&&se(ce.key));const ne=M.current;if(ce.target!==ne||!swe.includes(ce.key))return;ce.preventDefault();const ue=T().filter(le=>!le.disabled).map(le=>le.ref.current);JJ.includes(ce.key)&&ue.reverse(),Awe(ue)}),onBlur:Wt(e.onBlur,ce=>{ce.currentTarget.contains(ce.target)||(window.clearTimeout(B.current),V.current="")}),onPointerMove:Wt(e.onPointerMove,uw(ce=>{const xe=ce.target,de=H.current!==ce.clientX;if(ce.currentTarget.contains(xe)&&de){const ee=ce.clientX>H.current?"right":"left";re.current=ee,H.current=ce.clientX}}))})})})})})})});nZ.displayName=Hu;var xwe="MenuGroup",bD=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(_r.div,{role:"group",...n,ref:t})});bD.displayName=xwe;var ywe="MenuLabel",aZ=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(_r.div,{...n,ref:t})});aZ.displayName=ywe;var bN="MenuItem",o$="menu.itemSelect",H3=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=b.useRef(null),o=C_(bN,e.__scopeMenu),l=xD(bN,e.__scopeMenu),c=mn(t,a),d=b.useRef(!1),f=()=>{const h=a.current;if(!r&&h){const v=new CustomEvent(o$,{bubbles:!0,cancelable:!0});h.addEventListener(o$,g=>n==null?void 0:n(g),{once:!0}),FF(h,v),v.defaultPrevented?d.current=!1:o.onClose()}};return i.jsx(sZ,{...s,ref:c,disabled:r,onClick:Wt(e.onClick,f),onPointerDown:h=>{var v;(v=e.onPointerDown)==null||v.call(e,h),d.current=!0},onPointerUp:Wt(e.onPointerUp,h=>{var v;d.current||(v=h.currentTarget)==null||v.click()}),onKeyDown:Wt(e.onKeyDown,h=>{const v=l.searchRef.current!=="";r||v&&h.key===" "||iP.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});H3.displayName=bN;var sZ=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=xD(bN,r),l=QJ(r),c=b.useRef(null),d=mn(t,c),[f,h]=b.useState(!1),[v,g]=b.useState("");return b.useEffect(()=>{const _=c.current;_&&g((_.textContent??"").trim())},[a.children]),i.jsx(cw.ItemSlot,{scope:r,disabled:n,textValue:s??v,children:i.jsx(z3,{asChild:!0,...l,focusable:!n,children:i.jsx(_r.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Wt(e.onPointerMove,uw(_=>{n?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Wt(e.onPointerLeave,uw(_=>o.onItemLeave(_))),onFocus:Wt(e.onFocus,()=>h(!0)),onBlur:Wt(e.onBlur,()=>h(!1))})})})}),bwe="MenuCheckboxItem",iZ=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(dZ,{scope:e.__scopeMenu,checked:r,children:i.jsx(H3,{role:"menuitemcheckbox","aria-checked":wN(r)?"mixed":r,...s,ref:t,"data-state":_D(r),onSelect:Wt(s.onSelect,()=>n==null?void 0:n(wN(r)?!0:!r),{checkForDefaultPrevented:!1})})})});iZ.displayName=bwe;var oZ="MenuRadioGroup",[wwe,_we]=Zg(oZ,{value:void 0,onValueChange:()=>{}}),lZ=b.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=ec(n);return i.jsx(wwe,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(bD,{...s,ref:t})})});lZ.displayName=oZ;var cZ="MenuRadioItem",uZ=b.forwardRef((e,t)=>{const{value:r,...n}=e,s=_we(cZ,e.__scopeMenu),a=r===s.value;return i.jsx(dZ,{scope:e.__scopeMenu,checked:a,children:i.jsx(H3,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":_D(a),onSelect:Wt(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});uZ.displayName=cZ;var wD="MenuItemIndicator",[dZ,jwe]=Zg(wD,{checked:!1}),fZ=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=jwe(wD,r);return i.jsx(Pl,{present:n||wN(a.checked)||a.checked===!0,children:i.jsx(_r.span,{...s,ref:t,"data-state":_D(a.checked)})})});fZ.displayName=wD;var Nwe="MenuSeparator",hZ=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(_r.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});hZ.displayName=Nwe;var Swe="MenuArrow",mZ=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=W3(r);return i.jsx($3,{...s,...n,ref:t})});mZ.displayName=Swe;var Cwe="MenuSub",[Uut,pZ]=Zg(Cwe),Kb="MenuSubTrigger",gZ=b.forwardRef((e,t)=>{const r=Qg(Kb,e.__scopeMenu),n=C_(Kb,e.__scopeMenu),s=pZ(Kb,e.__scopeMenu),a=xD(Kb,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},f=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>f,[f]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(gD,{asChild:!0,...d,children:i.jsx(sZ,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":yZ(r.open),...e,ref:Gf(t,s.onTriggerChange),onClick:h=>{var v;(v=e.onClick)==null||v.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Wt(e.onPointerMove,uw(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Wt(e.onPointerLeave,uw(h=>{var g,_;f();const v=(g=r.content)==null?void 0:g.getBoundingClientRect();if(v){const y=(_=r.content)==null?void 0:_.dataset.side,j=y==="right",w=j?-5:5,C=v[j?"left":"right"],k=v[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:C,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:C,y:v.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Wt(e.onKeyDown,h=>{var g;const v=a.searchRef.current!=="";e.disabled||v&&h.key===" "||iwe[n.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});gZ.displayName=Kb;var vZ="MenuSubContent",xZ=b.forwardRef((e,t)=>{const r=tZ(Hu,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Qg(Hu,e.__scopeMenu),o=C_(Hu,e.__scopeMenu),l=pZ(vZ,e.__scopeMenu),c=b.useRef(null),d=mn(t,c);return i.jsx(cw.Provider,{scope:e.__scopeMenu,children:i.jsx(Pl,{present:n||a.open,children:i.jsx(cw.Slot,{scope:e.__scopeMenu,children:i.jsx(yD,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Wt(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Wt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Wt(e.onKeyDown,f=>{var g;const h=f.currentTarget.contains(f.target),v=owe[o.dir].includes(f.key);h&&v&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),f.preventDefault())})})})})})});xZ.displayName=vZ;function yZ(e){return e?"open":"closed"}function wN(e){return e==="indeterminate"}function _D(e){return wN(e)?"indeterminate":e?"checked":"unchecked"}function Awe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function kwe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ewe(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=kwe(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Twe(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,f=l.y,h=c.x,v=c.y;f>n!=v>n&&r<(h-d)*(n-f)/(v-f)+d&&(s=!s)}return s}function Pwe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Twe(r,t)}function uw(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Owe=eZ,Fwe=gD,Dwe=rZ,Rwe=nZ,Mwe=bD,Iwe=aZ,Lwe=H3,$we=iZ,Bwe=lZ,zwe=uZ,Uwe=fZ,Vwe=hZ,qwe=mZ,Wwe=gZ,Hwe=xZ,G3="DropdownMenu",[Gwe,Vut]=eo(G3,[ZJ]),nc=ZJ(),[Kwe,bZ]=Gwe(G3),wZ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=nc(t),d=b.useRef(null),[f,h]=_o({prop:s,defaultProp:a??!1,onChange:o,caller:G3});return i.jsx(Kwe,{scope:t,triggerId:Ac(),triggerRef:d,contentId:Ac(),open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(v=>!v),[h]),modal:l,children:i.jsx(Owe,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};wZ.displayName=G3;var _Z="DropdownMenuTrigger",jZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=bZ(_Z,r),o=nc(r);return i.jsx(Fwe,{asChild:!0,...o,children:i.jsx(_r.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Gf(t,a.triggerRef),onPointerDown:Wt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Wt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jZ.displayName=_Z;var Ywe="DropdownMenuPortal",NZ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=nc(t);return i.jsx(Dwe,{...n,...r})};NZ.displayName=Ywe;var SZ="DropdownMenuContent",CZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=bZ(SZ,r),a=nc(r),o=b.useRef(!1);return i.jsx(Rwe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Wt(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Wt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CZ.displayName=SZ;var Xwe="DropdownMenuGroup",Jwe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Mwe,{...s,...n,ref:t})});Jwe.displayName=Xwe;var Zwe="DropdownMenuLabel",AZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Iwe,{...s,...n,ref:t})});AZ.displayName=Zwe;var Qwe="DropdownMenuItem",kZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Lwe,{...s,...n,ref:t})});kZ.displayName=Qwe;var e_e="DropdownMenuCheckboxItem",EZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx($we,{...s,...n,ref:t})});EZ.displayName=e_e;var t_e="DropdownMenuRadioGroup",r_e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Bwe,{...s,...n,ref:t})});r_e.displayName=t_e;var n_e="DropdownMenuRadioItem",TZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(zwe,{...s,...n,ref:t})});TZ.displayName=n_e;var a_e="DropdownMenuItemIndicator",PZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Uwe,{...s,...n,ref:t})});PZ.displayName=a_e;var s_e="DropdownMenuSeparator",OZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Vwe,{...s,...n,ref:t})});OZ.displayName=s_e;var i_e="DropdownMenuArrow",o_e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(qwe,{...s,...n,ref:t})});o_e.displayName=i_e;var l_e="DropdownMenuSubTrigger",FZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Wwe,{...s,...n,ref:t})});FZ.displayName=l_e;var c_e="DropdownMenuSubContent",DZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=nc(r);return i.jsx(Hwe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DZ.displayName=c_e;var u_e=wZ,d_e=jZ,f_e=NZ,RZ=CZ,MZ=AZ,IZ=kZ,LZ=EZ,$Z=TZ,BZ=PZ,zZ=OZ,UZ=FZ,VZ=DZ;const jD=u_e,ND=d_e,h_e=Se.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(UZ,{ref:s,className:Ht("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Ag,{className:"ml-auto h-4 w-4"})]}));h_e.displayName=UZ.displayName;const m_e=Se.forwardRef(({className:e,...t},r)=>i.jsx(VZ,{ref:r,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));m_e.displayName=VZ.displayName;const K3=Se.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(f_e,{children:i.jsx(RZ,{ref:n,sideOffset:t,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));K3.displayName=RZ.displayName;const vp=Se.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(IZ,{ref:n,className:Ht("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));vp.displayName=IZ.displayName;const p_e=Se.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(LZ,{ref:s,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(BZ,{children:i.jsx(Qx,{className:"h-4 w-4"})})}),t]}));p_e.displayName=LZ.displayName;const g_e=Se.forwardRef(({className:e,children:t,...r},n)=>i.jsxs($Z,{ref:n,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(BZ,{children:i.jsx(cX,{className:"h-2 w-2 fill-current"})})}),t]}));g_e.displayName=$Z.displayName;const qZ=Se.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(MZ,{ref:n,className:Ht("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));qZ.displayName=MZ.displayName;const oP=Se.forwardRef(({className:e,...t},r)=>i.jsx(zZ,{ref:r,className:Ht("-mx-1 my-1 h-px bg-muted",e),...t}));oP.displayName=zZ.displayName;function v_e(e){const t=x_e(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(b_e);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function x_e(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=__e(s),l=w_e(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y_e=Symbol("radix.slottable");function b_e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y_e}function w_e(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function __e(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Y3="Dialog",[WZ,HZ]=eo(Y3),[j_e,Gd]=WZ(Y3),GZ=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[d,f]=_o({prop:n,defaultProp:s??!1,onChange:a,caller:Y3});return i.jsx(j_e,{scope:t,triggerRef:l,contentRef:c,contentId:Ac(),titleId:Ac(),descriptionId:Ac(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};GZ.displayName=Y3;var KZ="DialogTrigger",YZ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Gd(KZ,r),a=mn(t,s.triggerRef);return i.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":AD(s.open),...n,ref:a,onClick:Wt(e.onClick,s.onOpenToggle)})});YZ.displayName=KZ;var SD="DialogPortal",[N_e,XZ]=WZ(SD,{forceMount:void 0}),JZ=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Gd(SD,t);return i.jsx(N_e,{scope:t,forceMount:r,children:b.Children.map(n,o=>i.jsx(Pl,{present:r||a.open,children:i.jsx(Zx,{asChild:!0,container:s,children:o})}))})};JZ.displayName=SD;var _N="DialogOverlay",ZZ=b.forwardRef((e,t)=>{const r=XZ(_N,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Gd(_N,e.__scopeDialog);return a.modal?i.jsx(Pl,{present:n||a.open,children:i.jsx(C_e,{...s,ref:t})}):null});ZZ.displayName=_N;var S_e=v_e("DialogOverlay.RemoveScroll"),C_e=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Gd(_N,r);return i.jsx(q3,{as:S_e,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(_r.div,{"data-state":AD(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Tg="DialogContent",QZ=b.forwardRef((e,t)=>{const r=XZ(Tg,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Gd(Tg,e.__scopeDialog);return i.jsx(Pl,{present:n||a.open,children:a.modal?i.jsx(A_e,{...s,ref:t}):i.jsx(k_e,{...s,ref:t})})});QZ.displayName=Tg;var A_e=b.forwardRef((e,t)=>{const r=Gd(Tg,e.__scopeDialog),n=b.useRef(null),s=mn(t,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return U3(a)},[]),i.jsx(eQ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wt(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Wt(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Wt(e.onFocusOutside,a=>a.preventDefault())})}),k_e=b.forwardRef((e,t)=>{const r=Gd(Tg,e.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return i.jsx(eQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),eQ=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Gd(Tg,r),c=b.useRef(null),d=mn(t,c);return O3(),i.jsxs(i.Fragment,{children:[i.jsx(b_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Yg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":AD(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(T_e,{titleId:l.titleId}),i.jsx(O_e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),CD="DialogTitle",tQ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Gd(CD,r);return i.jsx(_r.h2,{id:s.titleId,...n,ref:t})});tQ.displayName=CD;var rQ="DialogDescription",nQ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Gd(rQ,r);return i.jsx(_r.p,{id:s.descriptionId,...n,ref:t})});nQ.displayName=rQ;var aQ="DialogClose",sQ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Gd(aQ,r);return i.jsx(_r.button,{type:"button",...n,ref:t,onClick:Wt(e.onClick,()=>s.onOpenChange(!1))})});sQ.displayName=aQ;function AD(e){return e?"open":"closed"}var iQ="DialogTitleWarning",[E_e,oQ]=g0e(iQ,{contentName:Tg,titleName:CD,docsSlug:"dialog"}),T_e=({titleId:e})=>{const t=oQ(iQ),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},P_e="DialogDescriptionWarning",O_e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oQ(P_e).contentName}}.`;return b.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kD=GZ,ED=YZ,TD=JZ,A_=ZZ,k_=QZ,E_=tQ,T_=nQ,X3=sQ;const lQ=kD,cQ=ED,F_e=TD,uQ=Se.forwardRef(({className:e,...t},r)=>i.jsx(A_,{className:Ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));uQ.displayName=A_.displayName;const D_e=Xg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),PD=Se.forwardRef(({side:e="right",className:t,children:r,...n},s)=>i.jsxs(F_e,{children:[i.jsx(uQ,{}),i.jsxs(k_,{ref:s,className:Ht(D_e({side:e}),t),...n,children:[r,i.jsxs(X3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(au,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));PD.displayName=k_.displayName;const OD=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col space-y-2 text-center sm:text-left",e),...t});OD.displayName="SheetHeader";const FD=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});FD.displayName="SheetFooter";const DD=Se.forwardRef(({className:e,...t},r)=>i.jsx(E_,{ref:r,className:Ht("text-lg font-semibold text-foreground",e),...t}));DD.displayName=E_.displayName;const R_e=Se.forwardRef(({className:e,...t},r)=>i.jsx(T_,{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));R_e.displayName=T_.displayName;const cE=[{code:"fr",name:"Franais",flag:""},{code:"en",name:"English",flag:""}],dQ=()=>{const{i18n:e}=Dn(),t=s=>{e&&e.changeLanguage&&e.changeLanguage(s)},r=e&&e.language?e.language.split("-")[0]:"fr",n=cE.find(s=>s.code===r)||cE[0];return i.jsxs(jD,{children:[i.jsx(ND,{asChild:!0,children:i.jsxs(Ee,{variant:"ghost",className:"flex items-center gap-2",children:[i.jsx(Lu,{className:"h-5 w-5"}),i.jsx("span",{className:"hidden sm:inline",children:n.name}),i.jsx("span",{className:"sm:hidden",children:n.flag})]})}),i.jsx(K3,{align:"end",children:cE.map(s=>i.jsxs(vp,{onClick:()=>t(s.code),disabled:n.code===s.code,children:[i.jsx("span",{className:"mr-2",children:s.flag}),s.name]},s.code))})]})},fQ=()=>{const{theme:e,setTheme:t}=Fxe(),r=()=>{t(e==="dark-elegant"?"deep-night":"dark-elegant")},n=e==="dark-elegant"?i.jsx(Hge,{className:"h-5 w-5"}):i.jsx(Yge,{className:"h-5 w-5"}),s=e==="dark-elegant"?"Passer au thme Deep Night":"Passer au thme Dark Elegant";return i.jsxs(Ee,{variant:"ghost",size:"icon",onClick:r,"aria-label":s,children:[n,i.jsx("span",{className:"sr-only",children:s})]})},J3=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Z3=b.createContext({}),Q3=b.createContext(null),eC=typeof document<"u",ev=eC?b.useLayoutEffect:b.useEffect,hQ=b.createContext({strict:!1}),RD=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),M_e="framerAppearId",mQ="data-"+RD(M_e);function I_e(e,t,r,n){const{visualElement:s}=b.useContext(Z3),a=b.useContext(hQ),o=b.useContext(Q3),l=b.useContext(J3).reducedMotion,c=b.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;b.useInsertionEffect(()=>{d&&d.update(r,o)});const f=b.useRef(!!(r[mQ]&&!window.HandoffComplete));return ev(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function g1(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L_e(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):g1(r)&&(r.current=n))},[t])}function dw(e){return typeof e=="string"||Array.isArray(e)}function tC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const MD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ID=["initial",...MD];function rC(e){return tC(e.animate)||ID.some(t=>dw(e[t]))}function pQ(e){return!!(rC(e)||e.variants)}function $_e(e,t){if(rC(e)){const{initial:r,animate:n}=e;return{initial:r===!1||dw(r)?r:void 0,animate:dw(n)?n:void 0}}return e.inherit!==!1?t:{}}function B_e(e){const{initial:t,animate:r}=$_e(e,b.useContext(Z3));return b.useMemo(()=>({initial:t,animate:r}),[l$(t),l$(r)])}function l$(e){return Array.isArray(e)?e.join(" "):e}const c$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fw={};for(const e in c$)fw[e]={isEnabled:t=>c$[e].some(r=>!!t[r])};function z_e(e){for(const t in e)fw[t]={...fw[t],...e[t]}}const LD=b.createContext({}),gQ=b.createContext({}),U_e=Symbol.for("motionComponentSymbol");function V_e({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&z_e(e);function a(l,c){let d;const f={...b.useContext(J3),...l,layoutId:q_e(l)},{isStatic:h}=f,v=B_e(l),g=n(l,h);if(!h&&eC){v.visualElement=I_e(s,g,f,t);const _=b.useContext(gQ),y=b.useContext(hQ).strict;v.visualElement&&(d=v.visualElement.loadFeatures(f,y,e,_))}return b.createElement(Z3.Provider,{value:v},d&&v.visualElement?b.createElement(d,{visualElement:v.visualElement,...f}):null,r(s,l,L_e(g,v.visualElement,c),g,h,v.visualElement))}const o=b.forwardRef(a);return o[U_e]=s,o}function q_e({layoutId:e}){const t=b.useContext(LD).id;return t&&e!==void 0?t+"-"+e:e}function W_e(e){function t(n,s={}){return V_e(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const H_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $D(e){return typeof e!="string"||e.includes("-")?!1:!!(H_e.indexOf(e)>-1||/[A-Z]/.test(e))}const jN={};function G_e(e){Object.assign(jN,e)}const P_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tv=new Set(P_);function vQ(e,{layout:t,layoutId:r}){return tv.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!jN[e]||e==="opacity")}const El=e=>!!(e&&e.getVelocity),K_e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y_e=P_.length;function X_e(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let a="";for(let o=0;o<Y_e;o++){const l=P_[o];if(e[l]!==void 0){const c=K_e[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(e,n?"":a):r&&n&&(a="none"),a}const xQ=e=>t=>typeof t=="string"&&t.startsWith(e),yQ=xQ("--"),lP=xQ("var(--"),J_e=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Z_e=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Op=(e,t,r)=>Math.min(Math.max(r,e),t),rv={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},p2={...rv,transform:e=>Op(0,1,e)},wj={...rv,default:1},g2=e=>Math.round(e*1e5)/1e5,nC=/(-)?([\d]*\.?[\d])+/g,bQ=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Q_e=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function O_(e){return typeof e=="string"}const F_=e=>({test:t=>O_(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zm=F_("deg"),Mf=F_("%"),pn=F_("px"),e5e=F_("vh"),t5e=F_("vw"),u$={...Mf,parse:e=>Mf.parse(e)/100,transform:e=>Mf.transform(e*100)},d$={...rv,transform:Math.round},wQ={borderWidth:pn,borderTopWidth:pn,borderRightWidth:pn,borderBottomWidth:pn,borderLeftWidth:pn,borderRadius:pn,radius:pn,borderTopLeftRadius:pn,borderTopRightRadius:pn,borderBottomRightRadius:pn,borderBottomLeftRadius:pn,width:pn,maxWidth:pn,height:pn,maxHeight:pn,size:pn,top:pn,right:pn,bottom:pn,left:pn,padding:pn,paddingTop:pn,paddingRight:pn,paddingBottom:pn,paddingLeft:pn,margin:pn,marginTop:pn,marginRight:pn,marginBottom:pn,marginLeft:pn,rotate:zm,rotateX:zm,rotateY:zm,rotateZ:zm,scale:wj,scaleX:wj,scaleY:wj,scaleZ:wj,skew:zm,skewX:zm,skewY:zm,distance:pn,translateX:pn,translateY:pn,translateZ:pn,x:pn,y:pn,z:pn,perspective:pn,transformPerspective:pn,opacity:p2,originX:u$,originY:u$,originZ:pn,zIndex:d$,fillOpacity:p2,strokeOpacity:p2,numOctaves:d$};function BD(e,t,r,n){const{style:s,vars:a,transform:o,transformOrigin:l}=e;let c=!1,d=!1,f=!0;for(const h in t){const v=t[h];if(yQ(h)){a[h]=v;continue}const g=wQ[h],_=Z_e(v,g);if(tv.has(h)){if(c=!0,o[h]=_,!f)continue;v!==(g.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,l[h]=_):s[h]=_}if(t.transform||(c||n?s.transform=X_e(e.transform,r,f,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:v="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${v} ${g}`}}const zD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _Q(e,t,r){for(const n in t)!El(t[n])&&!vQ(n,r)&&(e[n]=t[n])}function r5e({transformTemplate:e},t,r){return b.useMemo(()=>{const n=zD();return BD(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function n5e(e,t,r){const n=e.style||{},s={};return _Q(s,n,e),Object.assign(s,r5e(e,t,r)),e.transformValues?e.transformValues(s):s}function a5e(e,t,r){const n={},s=n5e(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const s5e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function NN(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s5e.has(e)}let jQ=e=>!NN(e);function i5e(e){e&&(jQ=t=>t.startsWith("on")?!NN(t):e(t))}try{i5e(require("@emotion/is-prop-valid").default)}catch{}function o5e(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(jQ(s)||r===!0&&NN(s)||!t&&!NN(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function f$(e,t,r){return typeof e=="string"?e:pn.transform(t+r*e)}function l5e(e,t,r){const n=f$(t,e.x,e.width),s=f$(r,e.y,e.height);return`${n} ${s}`}const c5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},u5e={offset:"strokeDashoffset",array:"strokeDasharray"};function d5e(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?c5e:u5e;e[a.offset]=pn.transform(-n);const o=pn.transform(t),l=pn.transform(r);e[a.array]=`${o} ${l}`}function UD(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,h,v){if(BD(e,d,f,v),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:_,dimensions:y}=e;g.transform&&(y&&(_.transform=g.transform),delete g.transform),y&&(s!==void 0||a!==void 0||_.transform)&&(_.transformOrigin=l5e(y,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&d5e(g,o,l,c,!1)}const NQ=()=>({...zD(),attrs:{}}),VD=e=>typeof e=="string"&&e.toLowerCase()==="svg";function f5e(e,t,r,n){const s=b.useMemo(()=>{const a=NQ();return UD(a,t,{enableHardwareAcceleration:!1},VD(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_Q(a,e.style,e),s.style={...a,...s.style}}return s}function h5e(e=!1){return(r,n,s,{latestValues:a},o)=>{const c=($D(r)?f5e:a5e)(n,a,o,r),f={...o5e(n,typeof r=="string",e),...c,ref:s},{children:h}=n,v=b.useMemo(()=>El(h)?h.get():h,[h]);return b.createElement(r,{...f,children:v})}}function SQ(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const CQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AQ(e,t,r,n){SQ(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(CQ.has(s)?s:RD(s),t.attrs[s])}function qD(e,t){const{style:r}=e,n={};for(const s in r)(El(r[s])||t.style&&El(t.style[s])||vQ(s,e))&&(n[s]=r[s]);return n}function kQ(e,t){const r=qD(e,t);for(const n in e)if(El(e[n])||El(t[n])){const s=P_.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function WD(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function iy(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const SN=e=>Array.isArray(e),m5e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),p5e=e=>SN(e)?e[e.length-1]||0:e;function b4(e){const t=El(e)?e.get():e;return m5e(t)?t.toValue():t}function g5e({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,a){const o={latestValues:v5e(n,s,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const EQ=e=>(t,r)=>{const n=b.useContext(Z3),s=b.useContext(Q3),a=()=>g5e(e,t,n,s);return r?a():iy(a)};function v5e(e,t,r,n){const s={},a=n(e,{});for(const v in a)s[v]=b4(a[v]);let{initial:o,animate:l}=e;const c=rC(e),d=pQ(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const h=f?l:o;return h&&typeof h!="boolean"&&!tC(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const _=WD(e,g);if(!_)return;const{transitionEnd:y,transition:j,...w}=_;for(const C in w){let k=w[C];if(Array.isArray(k)){const T=f?k.length-1:0;k=k[T]}k!==null&&(s[C]=k)}for(const C in y)s[C]=y[C]}),s}const gi=e=>e;class h${constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function x5e(e){let t=new h$,r=new h$,n=0,s=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,f=!1)=>{const h=f&&s,v=h?t:r;return d&&o.add(c),v.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){a=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const f=t.order[d];f(c),o.has(f)&&(l.schedule(f),e())}s=!1,a&&(a=!1,l.process(c))}};return l}const _j=["prepare","read","update","preRender","render","postRender"],y5e=40;function b5e(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=_j.reduce((h,v)=>(h[v]=x5e(()=>r=!0),h),{}),o=h=>a[h].process(s),l=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,y5e),1),s.timestamp=h,s.isProcessing=!0,_j.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:_j.reduce((h,v)=>{const g=a[v];return h[v]=(_,y=!1,j=!1)=>(r||c(),g.schedule(_,y,j)),h},{}),cancel:h=>_j.forEach(v=>a[v].cancel(h)),state:s,steps:a}}const{schedule:Ha,cancel:$d,state:po,steps:uE}=b5e(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0),w5e={useVisualState:EQ({scrapeMotionValuesFromProps:kQ,createRenderState:NQ,onMount:(e,t,{renderState:r,latestValues:n})=>{Ha.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Ha.render(()=>{UD(r,n,{enableHardwareAcceleration:!1},VD(t.tagName),e.transformTemplate),AQ(t,r)})}})},_5e={useVisualState:EQ({scrapeMotionValuesFromProps:qD,createRenderState:zD})};function j5e(e,{forwardMotionProps:t=!1},r,n){return{...$D(e)?w5e:_5e,preloadedFeatures:r,useRender:h5e(t),createVisualElement:n,Component:e}}function Oh(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const TQ=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function aC(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const N5e=e=>t=>TQ(t)&&e(t,aC(t));function Ih(e,t,r,n){return Oh(e,t,N5e(r),n)}const S5e=(e,t)=>r=>t(e(r)),xp=(...e)=>e.reduce(S5e);function PQ(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const m$=PQ("dragHorizontal"),p$=PQ("dragVertical");function OQ(e){let t=!1;if(e==="y")t=p$();else if(e==="x")t=m$();else{const r=m$(),n=p$();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function FQ(){const e=OQ(!0);return e?(e(),!1):!0}class qp{constructor(t){this.isMounted=!1,this.node=t}update(){}}function g$(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(a,o)=>{if(a.pointerType==="touch"||FQ())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&Ha.update(()=>l[n](a,o))};return Ih(e.current,r,s,{passive:!e.getProps()[n]})}class C5e extends qp{mount(){this.unmount=xp(g$(this.node,!0),g$(this.node,!1))}unmount(){}}class A5e extends qp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xp(Oh(this.node.current,"focus",()=>this.onFocus()),Oh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const DQ=(e,t)=>t?e===t?!0:DQ(e,t.parentElement):!1;function dE(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,aC(r))}class k5e extends qp{constructor(){super(...arguments),this.removeStartListeners=gi,this.removeEndListeners=gi,this.removeAccessibleListeners=gi,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Ih(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();Ha.update(()=>{!h&&!DQ(this.node.current,l.target)?f&&f(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ih(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=xp(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||dE("up",(c,d)=>{const{onTap:f}=this.node.getProps();f&&Ha.update(()=>f(c,d))})};this.removeEndListeners(),this.removeEndListeners=Oh(this.node.current,"keyup",o),dE("down",(l,c)=>{this.startPress(l,c)})},r=Oh(this.node.current,"keydown",t),n=()=>{this.isPressing&&dE("cancel",(a,o)=>this.cancelPress(a,o))},s=Oh(this.node.current,"blur",n);this.removeAccessibleListeners=xp(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ha.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FQ()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ha.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Ih(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Oh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xp(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cP=new WeakMap,fE=new WeakMap,E5e=e=>{const t=cP.get(e.target);t&&t(e)},T5e=e=>{e.forEach(E5e)};function P5e({root:e,...t}){const r=e||document;fE.has(r)||fE.set(r,{});const n=fE.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(T5e,{root:e,...t})),n[s]}function O5e(e,t,r){const n=P5e(t);return cP.set(e,r),n.observe(e),()=>{cP.delete(e),n.unobserve(e)}}const F5e={some:0,all:1};class D5e extends qp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:F5e[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),v=d?f:h;v&&v(c)};return O5e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(R5e(t,r))&&this.startObserver()}unmount(){}}function R5e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const M5e={inView:{Feature:D5e},tap:{Feature:k5e},focus:{Feature:A5e},hover:{Feature:C5e}};function RQ(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function I5e(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function L5e(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function sC(e,t,r){const n=e.getProps();return WD(n,t,r!==void 0?r:n.custom,I5e(e),L5e(e))}let MQ=gi,iC=gi;const yp=e=>e*1e3,If=e=>e/1e3,$5e={current:!1},IQ=e=>Array.isArray(e)&&typeof e[0]=="number";function LQ(e){return!!(!e||typeof e=="string"&&$Q[e]||IQ(e)||Array.isArray(e)&&e.every(LQ))}const Yb=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,$Q={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yb([0,.65,.55,1]),circOut:Yb([.55,0,1,.45]),backIn:Yb([.31,.01,.66,-.59]),backOut:Yb([.33,1.53,.69,.99])};function BQ(e){if(e)return IQ(e)?Yb(e):Array.isArray(e)?e.map(BQ):$Q[e]}function B5e(e,t,r,{delay:n=0,duration:s,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:r};c&&(d.offset=c);const f=BQ(l);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function z5e(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const zQ=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,U5e=1e-7,V5e=12;function q5e(e,t,r,n,s){let a,o,l=0;do o=t+(r-t)/2,a=zQ(o,n,s)-e,a>0?r=o:t=o;while(Math.abs(a)>U5e&&++l<V5e);return o}function D_(e,t,r,n){if(e===t&&r===n)return gi;const s=a=>q5e(a,0,1,e,r);return a=>a===0||a===1?a:zQ(s(a),t,n)}const W5e=D_(.42,0,1,1),H5e=D_(0,0,.58,1),UQ=D_(.42,0,.58,1),G5e=e=>Array.isArray(e)&&typeof e[0]!="number",VQ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qQ=e=>t=>1-e(1-t),HD=e=>1-Math.sin(Math.acos(e)),WQ=qQ(HD),K5e=VQ(HD),HQ=D_(.33,1.53,.69,.99),GD=qQ(HQ),Y5e=VQ(GD),X5e=e=>(e*=2)<1?.5*GD(e):.5*(2-Math.pow(2,-10*(e-1))),J5e={linear:gi,easeIn:W5e,easeInOut:UQ,easeOut:H5e,circIn:HD,circInOut:K5e,circOut:WQ,backIn:GD,backInOut:Y5e,backOut:HQ,anticipate:X5e},v$=e=>{if(Array.isArray(e)){iC(e.length===4);const[t,r,n,s]=e;return D_(t,r,n,s)}else if(typeof e=="string")return J5e[e];return e},KD=(e,t)=>r=>!!(O_(r)&&Q_e.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),GQ=(e,t,r)=>n=>{if(!O_(n))return n;const[s,a,o,l]=n.match(nC);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Z5e=e=>Op(0,255,e),hE={...rv,transform:e=>Math.round(Z5e(e))},ag={test:KD("rgb","red"),parse:GQ("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+hE.transform(e)+", "+hE.transform(t)+", "+hE.transform(r)+", "+g2(p2.transform(n))+")"};function Q5e(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const uP={test:KD("#"),parse:Q5e,transform:ag.transform},v1={test:KD("hsl","hue"),parse:GQ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Mf.transform(g2(t))+", "+Mf.transform(g2(r))+", "+g2(p2.transform(n))+")"},ql={test:e=>ag.test(e)||uP.test(e)||v1.test(e),parse:e=>ag.test(e)?ag.parse(e):v1.test(e)?v1.parse(e):uP.parse(e),transform:e=>O_(e)?e:e.hasOwnProperty("red")?ag.transform(e):v1.transform(e)},Qs=(e,t,r)=>-r*e+r*t+e;function mE(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function eje({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,o=0;if(!t)s=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=mE(c,l,e+1/3),a=mE(c,l,e),o=mE(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const pE=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},tje=[uP,ag,v1],rje=e=>tje.find(t=>t.test(e));function x$(e){const t=rje(e);let r=t.parse(e);return t===v1&&(r=eje(r)),r}const KQ=(e,t)=>{const r=x$(e),n=x$(t),s={...r};return a=>(s.red=pE(r.red,n.red,a),s.green=pE(r.green,n.green,a),s.blue=pE(r.blue,n.blue,a),s.alpha=Qs(r.alpha,n.alpha,a),ag.transform(s))};function nje(e){var t,r;return isNaN(e)&&O_(e)&&(((t=e.match(nC))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(bQ))===null||r===void 0?void 0:r.length)||0)>0}const YQ={regex:J_e,countKey:"Vars",token:"${v}",parse:gi},XQ={regex:bQ,countKey:"Colors",token:"${c}",parse:ql.parse},JQ={regex:nC,countKey:"Numbers",token:"${n}",parse:rv.parse};function gE(e,{regex:t,countKey:r,token:n,parse:s}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(s)))}function CN(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&gE(r,YQ),gE(r,XQ),gE(r,JQ),r}function ZQ(e){return CN(e).values}function QQ(e){const{values:t,numColors:r,numVars:n,tokenised:s}=CN(e),a=t.length;return o=>{let l=s;for(let c=0;c<a;c++)c<n?l=l.replace(YQ.token,o[c]):c<n+r?l=l.replace(XQ.token,ql.transform(o[c])):l=l.replace(JQ.token,g2(o[c]));return l}}const aje=e=>typeof e=="number"?0:e;function sje(e){const t=ZQ(e);return QQ(e)(t.map(aje))}const Fp={test:nje,parse:ZQ,createTransformer:QQ,getAnimatableNone:sje},eee=(e,t)=>r=>`${r>0?t:e}`;function tee(e,t){return typeof e=="number"?r=>Qs(e,t,r):ql.test(e)?KQ(e,t):e.startsWith("var(")?eee(e,t):nee(e,t)}const ree=(e,t)=>{const r=[...e],n=r.length,s=e.map((a,o)=>tee(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}},ije=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=tee(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}},nee=(e,t)=>{const r=Fp.createTransformer(t),n=CN(e),s=CN(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?xp(ree(n.values,s.values),r):eee(e,t)},ux=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},y$=(e,t)=>r=>Qs(e,t,r);function oje(e){return typeof e=="number"?y$:typeof e=="string"?ql.test(e)?KQ:nee:Array.isArray(e)?ree:typeof e=="object"?ije:y$}function lje(e,t,r){const n=[],s=r||oje(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||gi:t;l=xp(c,l)}n.push(l)}return n}function oC(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(iC(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=lje(t,n,s),l=o.length,c=d=>{let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=ux(e[f],e[f+1],d);return o[f](h)};return r?d=>c(Op(e[0],e[a-1],d)):c}function cje(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ux(0,t,n);e.push(Qs(r,1,s))}}function aee(e){const t=[0];return cje(t,e.length-1),t}function uje(e,t){return e.map(r=>r*t)}function dje(e,t){return e.map(()=>t||UQ).splice(0,e.length-1)}function AN({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=G5e(n)?n.map(v$):v$(n),a={done:!1,value:t[0]},o=uje(r&&r.length===t.length?r:aee(t),e),l=oC(o,t,{ease:Array.isArray(s)?s:dje(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function YD(e,t){return t?e*(1e3/t):0}const fje=5;function see(e,t,r){const n=Math.max(t-fje,0);return YD(r-e(n),t-n)}const vE=.001,hje=.01,b$=10,mje=.05,pje=1;function gje({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,a;MQ(e<=yp(b$));let o=1-t;o=Op(mje,pje,o),e=Op(hje,b$,If(e)),o<1?(s=d=>{const f=d*o,h=f*e,v=f-r,g=dP(d,o),_=Math.exp(-h);return vE-v/g*_},a=d=>{const h=d*o*e,v=h*r+r,g=Math.pow(o,2)*Math.pow(d,2)*e,_=Math.exp(-h),y=dP(Math.pow(d,2),o);return(-s(d)+vE>0?-1:1)*((v-g)*_)/y}):(s=d=>{const f=Math.exp(-d*e),h=(d-r)*e+1;return-vE+f*h},a=d=>{const f=Math.exp(-d*e),h=(r-d)*(e*e);return f*h});const l=5/e,c=xje(s,a,l);if(e=yp(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const vje=12;function xje(e,t,r){let n=r;for(let s=1;s<vje;s++)n=n-e(n)/t(n);return n}function dP(e,t){return e*Math.sqrt(1-t*t)}const yje=["duration","bounce"],bje=["stiffness","damping","mass"];function w$(e,t){return t.some(r=>e[r]!==void 0)}function wje(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!w$(e,bje)&&w$(e,yje)){const r=gje(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function iee({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],a=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:v}=wje({...n,velocity:-If(n.velocity||0)}),g=h||0,_=c/(2*Math.sqrt(l*d)),y=a-s,j=If(Math.sqrt(l/d)),w=Math.abs(y)<5;r||(r=w?.01:2),t||(t=w?.005:.5);let C;if(_<1){const k=dP(j,_);C=T=>{const P=Math.exp(-_*j*T);return a-P*((g+_*j*y)/k*Math.sin(k*T)+y*Math.cos(k*T))}}else if(_===1)C=k=>a-Math.exp(-j*k)*(y+(g+j*y)*k);else{const k=j*Math.sqrt(_*_-1);C=T=>{const P=Math.exp(-_*j*T),D=Math.min(k*T,300);return a-P*((g+_*j*y)*Math.sinh(D)+k*y*Math.cosh(D))/k}}return{calculatedDuration:v&&f||null,next:k=>{const T=C(k);if(v)o.done=k>=f;else{let P=g;k!==0&&(_<1?P=see(C,k,T):P=0);const D=Math.abs(P)<=r,M=Math.abs(a-T)<=t;o.done=D&&M}return o.value=o.done?a:T,o}}}function _$({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:f}){const h=e[0],v={done:!1,value:h},g=I=>l!==void 0&&I<l||c!==void 0&&I>c,_=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=r*t;const j=h+y,w=o===void 0?j:o(j);w!==j&&(y=w-h);const C=I=>-y*Math.exp(-I/n),k=I=>w+C(I),T=I=>{const B=C(I),V=k(I);v.done=Math.abs(B)<=d,v.value=v.done?w:V};let P,D;const M=I=>{g(v.value)&&(P=I,D=iee({keyframes:[v.value,_(v.value)],velocity:see(k,I,v.value),damping:s,stiffness:a,restDelta:d,restSpeed:f}))};return M(0),{calculatedDuration:null,next:I=>{let B=!1;return!D&&P===void 0&&(B=!0,T(I),M(I)),P!==void 0&&I>P?D.next(I-P):(!B&&T(I),v)}}}const _je=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ha.update(t,!0),stop:()=>$d(t),now:()=>po.isProcessing?po.timestamp:performance.now()}},j$=2e4;function N$(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<j$;)t+=r,n=e.next(t);return t>=j$?1/0:t}const jje={decay:_$,inertia:_$,tween:AN,keyframes:AN,spring:iee};function hw({autoplay:e=!0,delay:t=0,driver:r=_je,keyframes:n,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:f,onUpdate:h,...v}){let g=1,_=!1,y,j;const w=()=>{j=new Promise(de=>{y=de})};w();let C;const k=jje[s]||AN;let T;k!==AN&&typeof n[0]!="number"&&(T=oC([0,100],n,{clamp:!1}),n=[0,100]);const P=k({...v,keyframes:n});let D;l==="mirror"&&(D=k({...v,keyframes:[...n].reverse(),velocity:-(v.velocity||0)}));let M="idle",I=null,B=null,V=null;P.calculatedDuration===null&&a&&(P.calculatedDuration=N$(P));const{calculatedDuration:U}=P;let q=1/0,re=1/0;U!==null&&(q=U+o,re=q*(a+1)-o);let H=0;const X=de=>{if(B===null)return;g>0&&(B=Math.min(B,de)),g<0&&(B=Math.min(de-re/g,B)),I!==null?H=I:H=Math.round(de-B)*g;const ee=H-t*(g>=0?1:-1),fe=g>=0?ee<0:ee>re;H=Math.max(ee,0),M==="finished"&&I===null&&(H=re);let ne=H,Y=P;if(a){const _e=Math.min(H,re)/q;let Fe=Math.floor(_e),Be=_e%1;!Be&&_e>=1&&(Be=1),Be===1&&Fe--,Fe=Math.min(Fe,a+1),!!(Fe%2)&&(l==="reverse"?(Be=1-Be,o&&(Be-=o/q)):l==="mirror"&&(Y=D)),ne=Op(0,1,Be)*q}const ue=fe?{done:!1,value:n[0]}:Y.next(ne);T&&(ue.value=T(ue.value));let{done:le}=ue;!fe&&U!==null&&(le=g>=0?H>=re:H<=0);const ke=I===null&&(M==="finished"||M==="running"&&le);return h&&h(ue.value),ke&&te(),ue},Q=()=>{C&&C.stop(),C=void 0},se=()=>{M="idle",Q(),y(),w(),B=V=null},te=()=>{M="finished",f&&f(),Q(),y()},ce=()=>{if(_)return;C||(C=r(X));const de=C.now();c&&c(),I!==null?B=de-I:(!B||M==="finished")&&(B=de),M==="finished"&&w(),V=B,I=null,M="running",C.start()};e&&ce();const xe={then(de,ee){return j.then(de,ee)},get time(){return If(H)},set time(de){de=yp(de),H=de,I!==null||!C||g===0?I=de:B=C.now()-de/g},get duration(){const de=P.calculatedDuration===null?N$(P):P.calculatedDuration;return If(de)},get speed(){return g},set speed(de){de===g||!C||(g=de,xe.time=If(H))},get state(){return M},play:ce,pause:()=>{M="paused",I=H},stop:()=>{_=!0,M!=="idle"&&(M="idle",d&&d(),se())},cancel:()=>{V!==null&&X(V),se()},complete:()=>{M="finished"},sample:de=>(B=0,X(de))};return xe}function Nje(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sje=Nje(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cje=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jj=10,Aje=2e4,kje=(e,t)=>t.type==="spring"||e==="backgroundColor"||!LQ(t.ease);function Eje(e,t,{onUpdate:r,onComplete:n,...s}){if(!(Sje()&&Cje.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const f=()=>{c=new Promise(k=>{l=k})};f();let{keyframes:h,duration:v=300,ease:g,times:_}=s;if(kje(t,s)){const k=hw({...s,repeat:0,delay:0});let T={done:!1,value:h[0]};const P=[];let D=0;for(;!T.done&&D<Aje;)T=k.sample(D),P.push(T.value),D+=jj;_=void 0,h=P,v=D-jj,g="linear"}const y=B5e(e.owner.current,t,h,{...s,duration:v,ease:g,times:_}),j=()=>{d=!1,y.cancel()},w=()=>{d=!0,Ha.update(j),l(),f()};return y.onfinish=()=>{d||(e.set(z5e(h,s)),n&&n(),w())},{then(k,T){return c.then(k,T)},attachTimeline(k){return y.timeline=k,y.onfinish=null,gi},get time(){return If(y.currentTime||0)},set time(k){y.currentTime=yp(k)},get speed(){return y.playbackRate},set speed(k){y.playbackRate=k},get duration(){return If(v)},play:()=>{o||(y.play(),$d(j))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:k}=y;if(k){const T=hw({...s,autoplay:!1});e.setWithVelocity(T.sample(k-jj).value,T.sample(k).value,jj)}w()},complete:()=>{d||y.finish()},cancel:w}}function Tje({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:gi,pause:gi,stop:gi,then:a=>(a(),Promise.resolve()),cancel:gi,complete:gi});return t?hw({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const Pje={type:"spring",stiffness:500,damping:25,restSpeed:10},Oje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Fje={type:"keyframes",duration:.8},Dje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rje=(e,{keyframes:t})=>t.length>2?Fje:tv.has(e)?e.startsWith("scale")?Oje(t[1]):Pje:Dje,fP=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fp.test(t)||t==="0")&&!t.startsWith("url(")),Mje=new Set(["brightness","contrast","saturate","opacity"]);function Ije(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(nC)||[];if(!n)return e;const s=r.replace(n,"");let a=Mje.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const Lje=/([a-z-]*)\(.*?\)/g,hP={...Fp,getAnimatableNone:e=>{const t=e.match(Lje);return t?t.map(Ije).join(" "):e}},$je={...wQ,color:ql,backgroundColor:ql,outlineColor:ql,fill:ql,stroke:ql,borderColor:ql,borderTopColor:ql,borderRightColor:ql,borderBottomColor:ql,borderLeftColor:ql,filter:hP,WebkitFilter:hP},XD=e=>$je[e];function oee(e,t){let r=XD(e);return r!==hP&&(r=Fp),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const lee=e=>/^0[^.\s]+$/.test(e);function Bje(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||lee(e)}function zje(e,t,r,n){const s=fP(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),Bje(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(s&&c.length&&l)for(let d=0;d<c.length;d++){const f=c[d];a[f]=oee(t,l)}return a}function Uje({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}function JD(e,t){return e[t]||e.default||e}const Vje={skipAnimations:!1},ZD=(e,t,r,n={})=>s=>{const a=JD(n,e)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-yp(o);const c=zje(t,e,r,a),d=c[0],f=c[c.length-1],h=fP(e,d),v=fP(e,f);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:_=>{t.set(_),a.onUpdate&&a.onUpdate(_)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(Uje(a)||(g={...g,...Rje(e,g)}),g.duration&&(g.duration=yp(g.duration)),g.repeatDelay&&(g.repeatDelay=yp(g.repeatDelay)),!h||!v||$5e.current||a.type===!1||Vje.skipAnimations)return Tje(g);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const _=Eje(t,e,g);if(_)return _}return hw(g)};function kN(e){return!!(El(e)&&e.add)}const cee=e=>/^\-?\d*\.?\d+$/.test(e);function QD(e,t){e.indexOf(t)===-1&&e.push(t)}function eR(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class tR{constructor(){this.subscriptions=[]}add(t){return QD(this.subscriptions,t),()=>eR(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qje=e=>!isNaN(parseFloat(e)),v2={current:void 0};class Wje{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=po;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Ha.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ha.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=qje(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new tR);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ha.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return v2.current&&v2.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?YD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ed(e,t){return new Wje(e,t)}const uee=e=>t=>t.test(e),Hje={test:e=>e==="auto",parse:e=>e},dee=[rv,pn,Mf,zm,t5e,e5e,Hje],wb=e=>dee.find(uee(e)),Gje=[...dee,ql,Fp],Kje=e=>Gje.find(uee(e));function Yje(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ed(r))}function rR(e,t){const r=sC(e,t);let{transitionEnd:n={},transition:s={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const l=p5e(a[o]);Yje(e,o,l)}}function mP(e,t){[...t].reverse().forEach(n=>{const s=e.getVariant(n);s&&rR(e,s),e.variantChildren&&e.variantChildren.forEach(a=>{mP(a,t)})})}function Xje(e,t){if(Array.isArray(t))return mP(e,t);if(typeof t=="string")return mP(e,[t]);rR(e,t)}function Jje(e,t,r){var n,s;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=t[c];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),f!=null&&(typeof f=="string"&&(cee(f)||lee(f))?f=parseFloat(f):!Kje(f)&&Fp.test(d)&&(f=oee(c,d)),e.addValue(c,Ed(f,{owner:e})),r[c]===void 0&&(r[c]=f),f!==null&&e.setBaseTarget(c,f))}}function Zje(e,t){return t?(t[e]||t.default||t).from:void 0}function Qje(e,t,r){const n={};for(const s in e){const a=Zje(s,t);if(a!==void 0)n[s]=a;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function e4e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function t4e(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function fee(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const d=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const v=e.getValue(h),g=l[h];if(!v||g===void 0||f&&e4e(f,h))continue;const _={delay:r,elapsed:0,...JD(a||{},h)};if(window.HandoffAppearAnimations){const w=e.getProps()[mQ];if(w){const C=window.HandoffAppearAnimations(w,h,v,Ha);C!==null&&(_.elapsed=C,_.isHandoff=!0)}}let y=!_.isHandoff&&!t4e(v,g);if(_.type==="spring"&&(v.getVelocity()||_.velocity)&&(y=!1),v.animation&&(y=!1),y)continue;v.start(ZD(h,v,g,e.shouldReduceMotion&&tv.has(h)?{type:!1}:_));const j=v.animation;kN(c)&&(c.add(h),j.then(()=>c.remove(h))),d.push(j)}return o&&Promise.all(d).then(()=>{o&&rR(e,o)}),d}function pP(e,t,r={}){const n=sC(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(fee(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return r4e(e,t,d+c,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function r4e(e,t,r=0,n=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(n4e).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(pP(d,t,{...a,delay:r+c(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function n4e(e,t){return e.sortNodePosition(t)}function hee(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>pP(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=pP(e,t,r);else{const s=typeof t=="function"?sC(e,t,r.custom):t;n=Promise.all(fee(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const a4e=[...MD].reverse(),s4e=MD.length;function i4e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>hee(e,r,n)))}function o4e(e){let t=i4e(e);const r=c4e();let n=!0;const s=(c,d)=>{const f=sC(e,d);if(f){const{transition:h,transitionEnd:v,...g}=f;c={...c,...g,...v}}return c};function a(c){t=c(e)}function o(c,d){const f=e.getProps(),h=e.getVariantContext(!0)||{},v=[],g=new Set;let _={},y=1/0;for(let w=0;w<s4e;w++){const C=a4e[w],k=r[C],T=f[C]!==void 0?f[C]:h[C],P=dw(T),D=C===d?k.isActive:null;D===!1&&(y=w);let M=T===h[C]&&T!==f[C]&&P;if(M&&n&&e.manuallyAnimateOnMount&&(M=!1),k.protectedKeys={..._},!k.isActive&&D===null||!T&&!k.prevProp||tC(T)||typeof T=="boolean")continue;let B=l4e(k.prevProp,T)||C===d&&k.isActive&&!M&&P||w>y&&P,V=!1;const U=Array.isArray(T)?T:[T];let q=U.reduce(s,{});D===!1&&(q={});const{prevResolvedValues:re={}}=k,H={...re,...q},X=Q=>{B=!0,g.has(Q)&&(V=!0,g.delete(Q)),k.needsAnimating[Q]=!0};for(const Q in H){const se=q[Q],te=re[Q];if(_.hasOwnProperty(Q))continue;let ce=!1;SN(se)&&SN(te)?ce=!RQ(se,te):ce=se!==te,ce?se!==void 0?X(Q):g.add(Q):se!==void 0&&g.has(Q)?X(Q):k.protectedKeys[Q]=!0}k.prevProp=T,k.prevResolvedValues=q,k.isActive&&(_={..._,...q}),n&&e.blockInitialAnimation&&(B=!1),B&&(!M||V)&&v.push(...U.map(Q=>({animation:Q,options:{type:C,...c}})))}if(g.size){const w={};g.forEach(C=>{const k=e.getBaseTarget(C);k!==void 0&&(w[C]=k)}),v.push({animation:w})}let j=!!v.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(v):Promise.resolve()}function l(c,d,f){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var _;return(_=g.animationState)===null||_===void 0?void 0:_.setActive(c,d)}),r[c].isActive=d;const v=o(f,c);for(const g in r)r[g].protectedKeys={};return v}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function l4e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RQ(t,e):!1}function D0(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function c4e(){return{animate:D0(!0),whileInView:D0(),whileHover:D0(),whileTap:D0(),whileDrag:D0(),whileFocus:D0(),exit:D0()}}class u4e extends qp{constructor(t){super(t),t.animationState||(t.animationState=o4e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),tC(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let d4e=0;class f4e extends qp{constructor(){super(...arguments),this.id=d4e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const h4e={animation:{Feature:u4e},exit:{Feature:f4e}},S$=(e,t)=>Math.abs(e-t);function m4e(e,t){const r=S$(e.x,t.x),n=S$(e.y,t.y);return Math.sqrt(r**2+n**2)}class mee{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=yE(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,g=m4e(h.offset,{x:0,y:0})>=3;if(!v&&!g)return;const{point:_}=h,{timestamp:y}=po;this.history.push({..._,timestamp:y});const{onStart:j,onMove:w}=this.handlers;v||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,v)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xE(v,this.transformPagePoint),Ha.update(this.updatePoint,!0)},this.handlePointerUp=(h,v)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=yE(h.type==="pointercancel"?this.lastMoveEventInfo:xE(v,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,j),_&&_(h,j)},!TQ(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=aC(t),l=xE(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=po;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,yE(l,this.history)),this.removeListeners=xp(Ih(this.contextWindow,"pointermove",this.handlePointerMove),Ih(this.contextWindow,"pointerup",this.handlePointerUp),Ih(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$d(this.updatePoint)}}function xE(e,t){return t?{point:t(e.point)}:e}function C$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yE({point:e},t){return{point:e,delta:C$(e,pee(t)),offset:C$(e,p4e(t)),velocity:g4e(t,.1)}}function p4e(e){return e[0]}function pee(e){return e[e.length-1]}function g4e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=pee(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>yp(t)));)r--;if(!n)return{x:0,y:0};const a=If(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function su(e){return e.max-e.min}function gP(e,t=0,r=.01){return Math.abs(e-t)<=r}function A$(e,t,r,n=.5){e.origin=n,e.originPoint=Qs(t.min,t.max,e.origin),e.scale=su(r)/su(t),(gP(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Qs(r.min,r.max,e.origin)-e.originPoint,(gP(e.translate)||isNaN(e.translate))&&(e.translate=0)}function x2(e,t,r,n){A$(e.x,t.x,r.x,n?n.originX:void 0),A$(e.y,t.y,r.y,n?n.originY:void 0)}function k$(e,t,r){e.min=r.min+t.min,e.max=e.min+su(t)}function v4e(e,t,r){k$(e.x,t.x,r.x),k$(e.y,t.y,r.y)}function E$(e,t,r){e.min=t.min-r.min,e.max=e.min+su(t)}function y2(e,t,r){E$(e.x,t.x,r.x),E$(e.y,t.y,r.y)}function x4e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Qs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Qs(r,e,n.max):Math.min(e,r)),e}function T$(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function y4e(e,{top:t,left:r,bottom:n,right:s}){return{x:T$(e.x,r,s),y:T$(e.y,t,n)}}function P$(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function b4e(e,t){return{x:P$(e.x,t.x),y:P$(e.y,t.y)}}function w4e(e,t){let r=.5;const n=su(e),s=su(t);return s>n?r=ux(t.min,t.max-n,e.min):n>s&&(r=ux(e.min,e.max-s,t.min)),Op(0,1,r)}function _4e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const vP=.35;function j4e(e=vP){return e===!1?e=0:e===!0&&(e=vP),{x:O$(e,"left","right"),y:O$(e,"top","bottom")}}function O$(e,t,r){return{min:F$(e,t),max:F$(e,r)}}function F$(e,t){return typeof e=="number"?e:e[t]||0}const D$=()=>({translate:0,scale:1,origin:0,originPoint:0}),x1=()=>({x:D$(),y:D$()}),R$=()=>({min:0,max:0}),zi=()=>({x:R$(),y:R$()});function Fu(e){return[e("x"),e("y")]}function gee({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function N4e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function S4e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function bE(e){return e===void 0||e===1}function xP({scale:e,scaleX:t,scaleY:r}){return!bE(e)||!bE(t)||!bE(r)}function B0(e){return xP(e)||vee(e)||e.z||e.rotate||e.rotateX||e.rotateY}function vee(e){return M$(e.x)||M$(e.y)}function M$(e){return e&&e!=="0%"}function EN(e,t,r){const n=e-r,s=t*n;return r+s}function I$(e,t,r,n,s){return s!==void 0&&(e=EN(e,s,n)),EN(e,r,n)+t}function yP(e,t=0,r=1,n,s){e.min=I$(e.min,t,r,n,s),e.max=I$(e.max,t,r,n,s)}function xee(e,{x:t,y:r}){yP(e.x,t.translate,t.scale,t.originPoint),yP(e.y,r.translate,r.scale,r.originPoint)}function C4e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&y1(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xee(e,o)),n&&B0(a.latestValues)&&y1(e,a.latestValues))}t.x=L$(t.x),t.y=L$(t.y)}function L$(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Hm(e,t){e.min=e.min+t,e.max=e.max+t}function $$(e,t,[r,n,s]){const a=t[s]!==void 0?t[s]:.5,o=Qs(e.min,e.max,a);yP(e,t[r],t[n],o,t.scale)}const A4e=["x","scaleX","originX"],k4e=["y","scaleY","originY"];function y1(e,t){$$(e.x,t,A4e),$$(e.y,t,k4e)}function yee(e,t){return gee(S4e(e.getBoundingClientRect(),t))}function E4e(e,t,r){const n=yee(e,r),{scroll:s}=t;return s&&(Hm(n.x,s.offset.x),Hm(n.y,s.offset.y)),n}const bee=({current:e})=>e?e.ownerDocument.defaultView:null,T4e=new WeakMap;class P4e{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zi(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(aC(f,"page").point)},a=(f,h)=>{const{drag:v,dragPropagation:g,onDragStart:_}=this.getProps();if(v&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OQ(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fu(j=>{let w=this.getAxisMotionValue(j).get()||0;if(Mf.test(w)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[j];k&&(w=su(k)*(parseFloat(w)/100))}}this.originPoint[j]=w}),_&&Ha.update(()=>_(f,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:v,dragDirectionLock:g,onDirectionLock:_,onDrag:y}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:j}=h;if(g&&this.currentDirection===null){this.currentDirection=O4e(j),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>this.stop(f,h),c=()=>Fu(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new mee(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:bee(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ha.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Nj(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=x4e(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&g1(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=y4e(s.layoutBox,r):this.constraints=!1,this.elastic=j4e(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fu(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=_4e(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!g1(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=E4e(n,s.root,this.visualElement.getTransformPagePoint());let o=b4e(s.layout.layoutBox,a);if(r){const l=r(N4e(o));this.hasMutatedConstraints=!!l,l&&(o=gee(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Fu(f=>{if(!Nj(f,r,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const v=s?200:1e6,g=s?40:1e7,_={type:"inertia",velocity:n?t[f]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,_)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(ZD(t,n,0,r))}stopAnimation(){Fu(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fu(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fu(r=>{const{drag:n}=this.getProps();if(!Nj(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(t[r]-Qs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!g1(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fu(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=w4e({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fu(o=>{if(!Nj(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Qs(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;T4e.set(this.visualElement,this);const t=this.visualElement.current,r=Ih(t,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();g1(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Oh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Fu(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=vP,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Nj(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function O4e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class F4e extends qp{constructor(t){super(t),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new P4e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const B$=e=>(t,r)=>{e&&Ha.update(()=>e(t,r))};class D4e extends qp{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(t){this.session=new mee(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bee(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:B$(t),onStart:B$(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&Ha.update(()=>s(a,o))}}}mount(){this.removePointerDownListener=Ih(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function R4e(){const e=b.useContext(Q3);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=b.useId();return b.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const w4={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _b={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pn.test(e))e=parseFloat(e);else return e;const r=z$(e,t.target.x),n=z$(e,t.target.y);return`${r}% ${n}%`}},M4e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Fp.parse(e);if(s.length>5)return n;const a=Fp.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const d=Qs(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};class I4e extends Se.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;G_e(L4e),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),w4.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ha.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wee(e){const[t,r]=R4e(),n=b.useContext(LD);return Se.createElement(I4e,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(gQ),isPresent:t,safeToRemove:r})}const L4e={borderRadius:{..._b,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_b,borderTopRightRadius:_b,borderBottomLeftRadius:_b,borderBottomRightRadius:_b,boxShadow:M4e},_ee=["TopLeft","TopRight","BottomLeft","BottomRight"],$4e=_ee.length,U$=e=>typeof e=="string"?parseFloat(e):e,V$=e=>typeof e=="number"||pn.test(e);function B4e(e,t,r,n,s,a){s?(e.opacity=Qs(0,r.opacity!==void 0?r.opacity:1,z4e(n)),e.opacityExit=Qs(t.opacity!==void 0?t.opacity:1,0,U4e(n))):a&&(e.opacity=Qs(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<$4e;o++){const l=`border${_ee[o]}Radius`;let c=q$(t,l),d=q$(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||V$(c)===V$(d)?(e[l]=Math.max(Qs(U$(c),U$(d),n),0),(Mf.test(d)||Mf.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Qs(t.rotate||0,r.rotate||0,n))}function q$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z4e=jee(0,.5,WQ),U4e=jee(.5,.95,gi);function jee(e,t,r){return n=>n<e?0:n>t?1:r(ux(e,t,n))}function W$(e,t){e.min=t.min,e.max=t.max}function Eu(e,t){W$(e.x,t.x),W$(e.y,t.y)}function H$(e,t,r,n,s){return e-=t,e=EN(e,1/r,n),s!==void 0&&(e=EN(e,1/s,n)),e}function V4e(e,t=0,r=1,n=.5,s,a=e,o=e){if(Mf.test(t)&&(t=parseFloat(t),t=Qs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Qs(a.min,a.max,n);e===a&&(l-=t),e.min=H$(e.min,t,r,l,s),e.max=H$(e.max,t,r,l,s)}function G$(e,t,[r,n,s],a,o){V4e(e,t[r],t[n],t[s],t.scale,a,o)}const q4e=["x","scaleX","originX"],W4e=["y","scaleY","originY"];function K$(e,t,r,n){G$(e.x,t,q4e,r?r.x:void 0,n?n.x:void 0),G$(e.y,t,W4e,r?r.y:void 0,n?n.y:void 0)}function Y$(e){return e.translate===0&&e.scale===1}function Nee(e){return Y$(e.x)&&Y$(e.y)}function H4e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function See(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function X$(e){return su(e.x)/su(e.y)}class G4e{constructor(){this.members=[]}add(t){QD(this.members,t),t.scheduleRender()}remove(t){if(eR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J$(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(n=`translate3d(${s}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:f}=r;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const K4e=(e,t)=>e.depth-t.depth;class Y4e{constructor(){this.children=[],this.isDirty=!1}add(t){QD(this.children,t),this.isDirty=!0}remove(t){eR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(K4e),this.isDirty=!1,this.children.forEach(t)}}function X4e(e,t){const r=performance.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&($d(n),e(a-t))};return Ha.read(n,!0),()=>$d(n)}function J4e(e){window.MotionDebug&&window.MotionDebug.record(e)}function Z4e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Q4e(e,t,r){const n=El(e)?e:Ed(e);return n.start(ZD("",n,t,r)),n.animation}const Z$=["","X","Y","Z"],eNe={visibility:"hidden"},Q$=1e3;let tNe=0;const z0={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Cee({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=tNe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,z0.totalNodes=z0.resolvedTargetDeltas=z0.recalculatedProjection=0,this.nodes.forEach(aNe),this.nodes.forEach(cNe),this.nodes.forEach(uNe),this.nodes.forEach(sNe),J4e(z0)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y4e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tR),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Z4e(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const v=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=X4e(v,250),w4.hasAnimatedSinceResize&&(w4.hasAnimatedSinceResize=!1,this.nodes.forEach(tB))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:v,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||pNe,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=f.getProps(),C=!this.targetLayout||!See(this.targetLayout,_)||g,k=!v&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,k);const T={...JD(y,"layout"),onPlay:j,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else v||tB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$d(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dNe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eB);return}this.isUpdating||this.nodes.forEach(oNe),this.isUpdating=!1,this.nodes.forEach(lNe),this.nodes.forEach(rNe),this.nodes.forEach(nNe),this.clearAllSnapshots();const l=performance.now();po.delta=Op(0,1e3/60,l-po.timestamp),po.timestamp=l,po.isProcessing=!0,uE.update.process(po),uE.preRender.process(po),uE.render.process(po),po.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(iNe),this.sharedNodes.forEach(fNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ha.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ha.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Nee(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(l||B0(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),gNe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return zi();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Hm(l.x,c.offset.x),Hm(l.y,c.offset.y)),l}removeElementScroll(o){const l=zi();Eu(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){Eu(l,o);const{scroll:v}=this.root;v&&(Hm(l.x,-v.offset.x),Hm(l.y,-v.offset.y))}Hm(l.x,f.offset.x),Hm(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const c=zi();Eu(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&y1(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),B0(f.latestValues)&&y1(c,f.latestValues)}return B0(this.latestValues)&&y1(c,this.latestValues),c}removeTransform(o){const l=zi();Eu(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!B0(d.latestValues))continue;xP(d.latestValues)&&d.updateSnapshot();const f=zi(),h=d.measurePageBox();Eu(f,h),K$(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return B0(this.latestValues)&&K$(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==po.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:v}=this.options;if(!(!this.layout||!(h||v))){if(this.resolvedRelativeTargetAt=po.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),y2(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Eu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zi(),this.targetWithTransforms=zi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Eu(this.target,this.layout.layoutBox),xee(this.target,this.targetDelta)):Eu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),y2(this.relativeTargetOrigin,this.target,g.target),Eu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}z0.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xP(this.parent.latestValues)||vee(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===po.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Eu(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,g=this.treeScale.y;C4e(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:_}=l;if(!_){this.projectionTransform&&(this.projectionDelta=x1(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=x1(),this.projectionDeltaWithTransform=x1());const y=this.projectionTransform;x2(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=J$(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==v||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),z0.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},h=x1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=zi(),g=c?c.source:void 0,_=this.layout?this.layout.source:void 0,y=g!==_,j=this.getStack(),w=!j||j.members.length<=1,C=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(mNe));this.animationProgress=0;let k;this.mixTargetDelta=T=>{const P=T/1e3;rB(h.x,o.x,P),rB(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(y2(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hNe(this.relativeTarget,this.relativeTargetOrigin,v,P),k&&H4e(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=zi()),Eu(k,this.relativeTarget)),y&&(this.animationValues=f,B4e(f,d,this.latestValues,P,C,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($d(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ha.update(()=>{w4.hasAnimatedSinceResize=!0,this.currentAnimation=Q4e(0,Q$,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Q$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Aee(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||zi();const h=su(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const v=su(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+v}Eu(l,c),y1(l,f),x2(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new G4e),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let f=0;f<Z$.length;f++){const h="rotate"+Z$[f];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const f in d)o.setStaticValue(f,d[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eNe;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=b4(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=b4(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!B0(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const v=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=J$(this.projectionDeltaWithTransform,this.treeScale,v),f&&(d.transform=f(v,d.transform));const{x:g,y:_}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=h===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const y in jN){if(v[y]===void 0)continue;const{correct:j,applyTo:w}=jN[y],C=d.transform==="none"?v[y]:j(v[y],h);if(w){const k=w.length;for(let T=0;T<k;T++)d[w[T]]=C}else d[y]=C}return this.options.layoutId&&(d.pointerEvents=h===this?b4(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(eB),this.root.sharedNodes.clear()}}}function rNe(e){e.updateLayout()}function nNe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?Fu(h=>{const v=o?r.measuredBox[h]:r.layoutBox[h],g=su(v);v.min=n[h].min,v.max=v.min+g}):Aee(a,r.layoutBox,n)&&Fu(h=>{const v=o?r.measuredBox[h]:r.layoutBox[h],g=su(n[h]);v.max=v.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=x1();x2(l,n,r.layoutBox);const c=x1();o?x2(c,e.applyTransform(s,!0),r.measuredBox):x2(c,n,r.layoutBox);const d=!Nee(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:v,layout:g}=h;if(v&&g){const _=zi();y2(_,r.layoutBox,v.layoutBox);const y=zi();y2(y,n,g.layoutBox),See(_,y)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=_,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function aNe(e){z0.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iNe(e){e.clearSnapshot()}function eB(e){e.clearMeasurements()}function oNe(e){e.isLayoutDirty=!1}function lNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tB(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cNe(e){e.resolveTargetDelta()}function uNe(e){e.calcProjection()}function dNe(e){e.resetRotation()}function fNe(e){e.removeLeadSnapshot()}function rB(e,t,r){e.translate=Qs(t.translate,0,r),e.scale=Qs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function nB(e,t,r,n){e.min=Qs(t.min,r.min,n),e.max=Qs(t.max,r.max,n)}function hNe(e,t,r,n){nB(e.x,t.x,r.x,n),nB(e.y,t.y,r.y,n)}function mNe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pNe={duration:.45,ease:[.4,0,.1,1]},aB=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),sB=aB("applewebkit/")&&!aB("chrome/")?Math.round:gi;function iB(e){e.min=sB(e.min),e.max=sB(e.max)}function gNe(e){iB(e.x),iB(e.y)}function Aee(e,t,r){return e==="position"||e==="preserve-aspect"&&!gP(X$(t),X$(r),.2)}const vNe=Cee({attachResizeListener:(e,t)=>Oh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wE={current:void 0},kee=Cee({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wE.current){const e=new vNe({});e.mount(window),e.setOptions({layoutScroll:!0}),wE.current=e}return wE.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xNe={pan:{Feature:D4e},drag:{Feature:F4e,ProjectionNode:kee,MeasureLayout:wee}},yNe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bNe(e){const t=yNe.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function bP(e,t,r=1){const[n,s]=bNe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return cee(o)?parseFloat(o):o}else return lP(s)?bP(s,t,r+1):s}function wNe(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const a=s.get();if(!lP(a))return;const o=bP(a,n);o&&s.set(o)});for(const s in t){const a=t[s];if(!lP(a))continue;const o=bP(a,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=a))}return{target:t,transitionEnd:r}}const _Ne=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Eee=e=>_Ne.has(e),jNe=e=>Object.keys(e).some(Eee),oB=e=>e===rv||e===pn,lB=(e,t)=>parseFloat(e.split(", ")[t]),cB=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return lB(s[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?lB(a[1],e):0}},NNe=new Set(["x","y","z"]),SNe=P_.filter(e=>!NNe.has(e));function CNe(e){const t=[];return SNe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const dx={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cB(4,13),y:cB(5,14)};dx.translateX=dx.x;dx.translateY=dx.y;const ANe=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{l[d]=dx[d](n,a)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const f=t.getValue(d);f&&f.jump(l[d]),e[d]=dx[d](c,a)}),e},kNe=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Eee);let a=[],o=!1;const l=[];if(s.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let f=r[c],h=wb(f);const v=t[c];let g;if(SN(v)){const _=v.length,y=v[0]===null?1:0;f=v[y],h=wb(f);for(let j=y;j<_&&v[j]!==null;j++)g?iC(wb(v[j])===g):g=wb(v[j])}else g=wb(v);if(h!==g)if(oB(h)&&oB(g)){const _=d.get();typeof _=="string"&&d.set(parseFloat(_)),typeof v=="string"?t[c]=parseFloat(v):Array.isArray(v)&&g===pn&&(t[c]=v.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(f===0||v===0)?f===0?d.set(g.transform(f)):t[c]=h.transform(v):(o||(a=CNe(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(v))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=ANe(t,e,l);return a.length&&a.forEach(([f,h])=>{e.getValue(f).set(h)}),e.render(),eC&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function ENe(e,t,r,n){return jNe(t)?kNe(e,t,r,n):{target:t,transitionEnd:n}}const TNe=(e,t,r,n)=>{const s=wNe(e,t,n);return t=s.target,n=s.transitionEnd,ENe(e,t,r,n)},wP={current:null},Tee={current:!1};function PNe(){if(Tee.current=!0,!!eC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wP.current=e.matches;e.addListener(t),t()}else wP.current=!1}function ONe(e,t,r){const{willChange:n}=t;for(const s in t){const a=t[s],o=r[s];if(El(a))e.addValue(s,a),kN(n)&&n.add(s);else if(El(o))e.addValue(s,Ed(a,{owner:e})),kN(n)&&n.remove(s);else if(o!==a)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(s);e.addValue(s,Ed(l!==void 0?l:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const uB=new WeakMap,Pee=Object.keys(fw),FNe=Pee.length,dB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],DNe=ID.length;class RNe{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ha.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=rC(r),this.isVariantNode=pQ(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{});for(const h in f){const v=f[h];l[h]!==void 0&&El(v)&&(v.set(l[h],!1),kN(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,uB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Tee.current||PNe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uB.delete(this.current),this.projection&&this.projection.unmount(),$d(this.notifyUpdate),$d(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=tv.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ha.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,a){let o,l;for(let c=0;c<FNe;c++){const d=Pee[c],{isEnabled:f,Feature:h,ProjectionNode:v,MeasureLayout:g}=fw[d];v&&(o=v),f(r)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:f,dragConstraints:h,layoutScroll:v,layoutRoot:g}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!f||h&&g1(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:v,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<dB.length;n++){const s=dB[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=t["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=ONe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<DNe;n++){const s=ID[n],a=this.props[s];(dw(a)||a===!1)&&(r[s]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ed(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=WD(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!El(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new tR),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Oee extends RNe{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},a){let o=Qje(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),a){Jje(this,n,o);const l=TNe(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function MNe(e){return window.getComputedStyle(e)}class INe extends Oee{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(tv.has(r)){const n=XD(r);return n&&n.default||0}else{const n=MNe(t),s=(yQ(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return yee(t,r)}build(t,r,n,s){BD(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return qD(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;El(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){SQ(t,r,n,s)}}class LNe extends Oee{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(tv.has(r)){const n=XD(r);return n&&n.default||0}return r=CQ.has(r)?r:RD(r),t.getAttribute(r)}measureInstanceViewportBox(){return zi()}scrapeMotionValuesFromProps(t,r){return kQ(t,r)}build(t,r,n,s){UD(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){AQ(t,r,n,s)}mount(t){this.isSVGTag=VD(t.tagName),super.mount(t)}}const $Ne=(e,t)=>$D(e)?new LNe(t,{enableHardwareAcceleration:!1}):new INe(t,{enableHardwareAcceleration:!0}),BNe={layout:{ProjectionNode:kee,MeasureLayout:wee}},zNe={...h4e,...M5e,...xNe,...BNe},wt=W_e((e,t)=>j5e(e,t,zNe,$Ne));function Fee(){const e=b.useRef(!1);return ev(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function UNe(){const e=Fee(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>Ha.postRender(n),[n]),t]}class VNe extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qNe({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),b.createElement(VNe,{isPresent:t,childRef:n,sizeRef:s},b.cloneElement(e,{ref:n}))}const _E=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=iy(WNe),c=b.useId(),d=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},register:f=>(l.set(f,!1),()=>l.delete(f))}),a?void 0:[r]);return b.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=b.createElement(qNe,{isPresent:r},e)),b.createElement(Q3.Provider,{value:d},e)};function WNe(){return new Map}function HNe(e){return b.useEffect(()=>()=>e(),[])}const U0=e=>e.key||"";function GNe(e,t){e.forEach(r=>{const n=U0(r);t.set(n,r)})}function KNe(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const iu=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=b.useContext(LD).forceRender||UNe()[0],c=Fee(),d=KNe(e);let f=d;const h=b.useRef(new Map).current,v=b.useRef(f),g=b.useRef(new Map).current,_=b.useRef(!0);if(ev(()=>{_.current=!1,GNe(d,g),v.current=f}),HNe(()=>{_.current=!0,g.clear(),h.clear()}),_.current)return b.createElement(b.Fragment,null,f.map(C=>b.createElement(_E,{key:U0(C),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},C)));f=[...f];const y=v.current.map(U0),j=d.map(U0),w=y.length;for(let C=0;C<w;C++){const k=y[C];j.indexOf(k)===-1&&!h.has(k)&&h.set(k,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((C,k)=>{if(j.indexOf(k)!==-1)return;const T=g.get(k);if(!T)return;const P=y.indexOf(k);let D=C;if(!D){const M=()=>{h.delete(k);const I=Array.from(g.keys()).filter(B=>!j.includes(B));if(I.forEach(B=>g.delete(B)),v.current=d.filter(B=>{const V=U0(B);return V===k||I.includes(V)}),!h.size){if(c.current===!1)return;l(),n&&n()}};D=b.createElement(_E,{key:U0(T),isPresent:!1,onExitComplete:M,custom:t,presenceAffectsLayout:a,mode:o},T),h.set(k,D)}f.splice(P,0,D)}),f=f.map(C=>{const k=C.key;return h.has(k)?C:b.createElement(_E,{key:U0(C),isPresent:!0,presenceAffectsLayout:a,mode:o},C)}),b.createElement(b.Fragment,null,h.size?f:f.map(C=>b.cloneElement(C)))};function nR(e){const t=iy(()=>Ed(e)),{isStatic:r}=b.useContext(J3);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}const YNe=e=>e&&typeof e=="object"&&e.mix,XNe=e=>YNe(e)?e.mix:void 0;function JNe(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],a=e[2+r],o=e[3+r],l=oC(s,a,{mixer:XNe(a[0]),...o});return t?l(n):l}function Dee(e,t){const r=nR(t()),n=()=>r.set(t());return n(),ev(()=>{const s=()=>Ha.update(n,!1,!0),a=e.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),$d(n)}}),r}function ZNe(e){v2.current=[],e();const t=Dee(v2.current,e);return v2.current=void 0,t}function QNe(e,t,r,n){if(typeof e=="function")return ZNe(e);const s=typeof t=="function"?t:JNe(t,r,n);return Array.isArray(e)?fB(e,s):fB([e],([a])=>s(a))}function fB(e,t){const r=iy(()=>[]);return Dee(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function eSe(e,t={}){const{isStatic:r}=b.useContext(J3),n=b.useRef(null),s=nR(El(e)?e.get():e),a=()=>{n.current&&n.current.stop()};return b.useInsertionEffect(()=>s.attach((o,l)=>{if(r)return l(o);if(a(),n.current=hw({keyframes:[s.get(),o],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:l}),!po.isProcessing){const c=performance.now()-po.timestamp;c<30&&(n.current.time=If(c))}return s.get()},a),[JSON.stringify(t)]),ev(()=>{if(El(e))return e.on("change",o=>s.set(parseFloat(o)))},[s]),s}function tSe(e,t,r){var n;if(typeof e=="string"){let s=document;t&&(iC(!!t.current),s=t.current),r?((n=r[e])!==null&&n!==void 0||(r[e]=s.querySelectorAll(e)),e=r[e]):e=s.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const _4=new WeakMap;let Um;function rSe(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function nSe({target:e,contentRect:t,borderBoxSize:r}){var n;(n=_4.get(e))===null||n===void 0||n.forEach(s=>{s({target:e,contentSize:t,get size(){return rSe(e,r)}})})}function aSe(e){e.forEach(nSe)}function sSe(){typeof ResizeObserver>"u"||(Um=new ResizeObserver(aSe))}function iSe(e,t){Um||sSe();const r=tSe(e);return r.forEach(n=>{let s=_4.get(n);s||(s=new Set,_4.set(n,s)),s.add(t),Um==null||Um.observe(n)}),()=>{r.forEach(n=>{const s=_4.get(n);s==null||s.delete(t),s!=null&&s.size||Um==null||Um.unobserve(n)})}}const j4=new Set;let b2;function oSe(){b2=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};j4.forEach(r=>r(t))},window.addEventListener("resize",b2)}function lSe(e){return j4.add(e),b2||oSe(),()=>{j4.delete(e),!j4.size&&b2&&(b2=void 0)}}function cSe(e,t){return typeof e=="function"?lSe(e):iSe(e,t)}const uSe=50,hB=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),dSe=()=>({time:0,x:hB(),y:hB()}),fSe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function mB(e,t,r,n){const s=r[t],{length:a,position:o}=fSe[t],l=s.current,c=r.time;s.current=e["scroll"+o],s.scrollLength=e["scroll"+a]-e["client"+a],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ux(0,s.scrollLength,s.current);const d=n-c;s.velocity=d>uSe?0:YD(s.current-l,d)}function hSe(e,t,r){mB(e,"x",t,r),mB(e,"y",t,r),t.time=r}function mSe(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const s=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();r.x+=s.left-a.left,r.y+=s.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:s,y:a}=n.getBBox();r.x+=s,r.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const pSe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},_P={start:0,center:.5,end:1};function pB(e,t,r=0){let n=0;if(_P[e]!==void 0&&(e=_P[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?n=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?n=s/100*document.documentElement.clientWidth:e.endsWith("vh")?n=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(n=t*e),r+n}const gSe=[0,0];function vSe(e,t,r,n){let s=Array.isArray(e)?e:gSe,a=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,_P[e]?e:"0"]),a=pB(s[0],r,n),o=pB(s[1],t),a-o}const xSe={x:0,y:0};function ySe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function bSe(e,t,r){let{offset:n=pSe.All}=r;const{target:s=e,axis:a="y"}=r,o=a==="y"?"height":"width",l=s!==e?mSe(s,e):xSe,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:ySe(s),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let f=!t[a].interpolate;const h=n.length;for(let v=0;v<h;v++){const g=vSe(n[v],d[o],c[o],l[a]);!f&&g!==t[a].interpolatorOffsets[v]&&(f=!0),t[a].offset[v]=g}f&&(t[a].interpolate=oC(t[a].offset,aee(n)),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=t[a].interpolate(t[a].current)}function wSe(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function _Se(e,t,r,n={}){return{measure:()=>wSe(e,n.target,r),update:s=>{hSe(e,r,s),(n.offset||n.target)&&bSe(e,r,n)},notify:()=>t(r)}}const jb=new WeakMap,gB=new WeakMap,jE=new WeakMap,vB=e=>e===document.documentElement?window:e;function jSe(e,{container:t=document.documentElement,...r}={}){let n=jE.get(t);n||(n=new Set,jE.set(t,n));const s=dSe(),a=_Se(t,e,s,r);if(n.add(a),!jb.has(t)){const l=()=>{for(const v of n)v.measure()},c=()=>{for(const v of n)v.update(po.timestamp)},d=()=>{for(const v of n)v.notify()},f=()=>{Ha.read(l,!1,!0),Ha.read(c,!1,!0),Ha.update(d,!1,!0)};jb.set(t,f);const h=vB(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&gB.set(t,cSe(t,f)),h.addEventListener("scroll",f,{passive:!0})}const o=jb.get(t);return Ha.read(o,!1,!0),()=>{var l;$d(o);const c=jE.get(t);if(!c||(c.delete(a),c.size))return;const d=jb.get(t);jb.delete(t),d&&(vB(t).removeEventListener("scroll",d),(l=gB.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function xB(e,t){MQ(!!(!t||t.current))}const NSe=()=>({scrollX:Ed(0),scrollY:Ed(0),scrollXProgress:Ed(0),scrollYProgress:Ed(0)});function SSe({container:e,target:t,layoutEffect:r=!0,...n}={}){const s=iy(NSe);return(r?ev:b.useEffect)(()=>(xB("target",t),xB("container",e),jSe(({x:o,y:l})=>{s.scrollX.set(o.current),s.scrollXProgress.set(o.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),s}function CSe(e){e.values.forEach(t=>t.stop())}function ASe(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const s=[];return e.forEach(a=>{s.push(hee(a,r,{transitionOverride:n}))}),Promise.all(s)},set(r){return e.forEach(n=>{Xje(n,r)})},stop(){e.forEach(r=>{CSe(r)})},mount(){return()=>{t.stop()}}};return t}function kSe(){const e=iy(ASe);return ev(e.mount,[]),e}const ESe=kSe;function TSe(e){const t=PSe(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(FSe);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function PSe(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=RSe(s),l=DSe(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OSe=Symbol("radix.slottable");function FSe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OSe}function DSe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function RSe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lC="Popover",[Ree,Wut]=eo(lC,[Up]),R_=Up(),[MSe,Wp]=Ree(lC),Mee=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=R_(t),c=b.useRef(null),[d,f]=b.useState(!1),[h,v]=_o({prop:n,defaultProp:s??!1,onChange:a,caller:lC});return i.jsx(I3,{...l,children:i.jsx(MSe,{scope:t,contentId:Ac(),triggerRef:c,open:h,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(g=>!g),[v]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>f(!0),[]),onCustomAnchorRemove:b.useCallback(()=>f(!1),[]),modal:o,children:r})})};Mee.displayName=lC;var Iee="PopoverAnchor",ISe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wp(Iee,r),a=R_(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return b.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(j_,{...a,...n,ref:t})});ISe.displayName=Iee;var Lee="PopoverTrigger",$ee=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wp(Lee,r),a=R_(r),o=mn(t,s.triggerRef),l=i.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qee(s.open),...n,ref:o,onClick:Wt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(j_,{asChild:!0,...a,children:l})});$ee.displayName=Lee;var aR="PopoverPortal",[LSe,$Se]=Ree(aR,{forceMount:void 0}),Bee=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Wp(aR,t);return i.jsx(LSe,{scope:t,forceMount:r,children:i.jsx(Pl,{present:r||a.open,children:i.jsx(Zx,{asChild:!0,container:s,children:n})})})};Bee.displayName=aR;var fx="PopoverContent",zee=b.forwardRef((e,t)=>{const r=$Se(fx,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Wp(fx,e.__scopePopover);return i.jsx(Pl,{present:n||a.open,children:a.modal?i.jsx(zSe,{...s,ref:t}):i.jsx(USe,{...s,ref:t})})});zee.displayName=fx;var BSe=TSe("PopoverContent.RemoveScroll"),zSe=b.forwardRef((e,t)=>{const r=Wp(fx,e.__scopePopover),n=b.useRef(null),s=mn(t,n),a=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return U3(o)},[]),i.jsx(q3,{as:BSe,allowPinchZoom:!0,children:i.jsx(Uee,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Wt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Wt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),USe=b.forwardRef((e,t)=>{const r=Wp(fx,e.__scopePopover),n=b.useRef(!1),s=b.useRef(!1);return i.jsx(Uee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Uee=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...h}=e,v=Wp(fx,r),g=R_(r);return O3(),i.jsx(b_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Yg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:i.jsx(L3,{"data-state":qee(v.open),role:"dialog",id:v.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Vee="PopoverClose",VSe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wp(Vee,r);return i.jsx(_r.button,{type:"button",...n,ref:t,onClick:Wt(e.onClick,()=>s.onOpenChange(!1))})});VSe.displayName=Vee;var qSe="PopoverArrow",WSe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=R_(r);return i.jsx($3,{...s,...n,ref:t})});WSe.displayName=qSe;function qee(e){return e?"open":"closed"}var HSe=Mee,GSe=$ee,KSe=Bee,Wee=zee;const Hee=HSe,Gee=GSe,sR=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(KSe,{children:i.jsx(Wee,{ref:s,align:t,sideOffset:r,className:Ht("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sR.displayName=Wee.displayName;const YSe=Xg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-500 text-white",warning:"border-transparent bg-yellow-400 text-black"}},defaultVariants:{variant:"default"}});function nr({className:e,variant:t,...r}){return i.jsx("div",{className:Ht(YSe({variant:t}),e),...r})}const XSe=({type:e})=>{const t={new_event:i.jsx(qs,{className:"w-4 h-4 text-blue-500"}),promotion:i.jsx(WF,{className:"w-4 h-4 text-purple-500"}),system:i.jsx(Kf,{className:"w-4 h-4 text-gray-500"}),earning:i.jsx(dn,{className:"w-4 h-4 text-yellow-500"}),success:i.jsx(Vi,{className:"w-4 h-4 text-green-500"}),error:i.jsx(ru,{className:"w-4 h-4 text-red-500"}),info:i.jsx(cu,{className:"w-4 h-4 text-cyan-500"}),default:i.jsx(pp,{className:"w-4 h-4 text-gray-500"})};return t[e]||t.default},JSe=({notification:e,onNavigate:t,onDelete:r})=>i.jsxs(wt.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:Ht("flex items-start gap-3 p-3 rounded-lg transition-colors cursor-pointer",e.is_read?"hover:bg-muted/50":"bg-primary/10 hover:bg-primary/20"),onClick:()=>t(e),children:[i.jsx("div",{className:"mt-1",children:i.jsx(XSe,{type:e.type})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-sm",children:e.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.message}),i.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:new Date(e.created_at).toLocaleString("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]}),i.jsx(Ee,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:n=>{n.stopPropagation(),r(e.id)},children:i.jsx(au,{className:"h-4 w-4"})})]}),ZSe=()=>{const{user:e}=Pr(),{notificationCount:t,fetchNotificationCount:r}=Un(),[n,s]=b.useState([]),[a,o]=b.useState(!1),[l,c]=b.useState(!1),d=on(),f=b.useCallback(async()=>{if(e){o(!0);try{const{data:_,error:y}=await Oe.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);if(y)throw y;s(_||[])}catch{ze({title:"Erreur",description:"Impossible de charger les notifications.",variant:"destructive"})}finally{o(!1)}}},[e]);b.useEffect(()=>{l&&f()},[l,f]);const h=async _=>{var y,j;if(!_.is_read)try{await Oe.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",_.id),r(),s(w=>w.map(C=>C.id===_.id?{...C,is_read:!0}:C))}catch(w){console.error("Failed to mark notification as read:",w)}(y=_.data)!=null&&y.event_id?d(`/event/${_.data.event_id}`):(j=_.data)!=null&&j.link&&d(_.data.link),c(!1)},v=async _=>{try{const{error:y}=await Oe.from("notifications").delete().eq("id",_);if(y)throw y;s(j=>j.filter(w=>w.id!==_)),r(),ze({title:"Notification supprime",variant:"success"})}catch{ze({title:"Erreur",description:"Impossible de supprimer la notification.",variant:"destructive"})}},g=async()=>{try{const{error:_}=await Oe.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e.id).eq("is_read",!1);if(_)throw _;s(y=>y.map(j=>({...j,is_read:!0}))),r(),ze({title:"Toutes les notifications ont t marques comme lues",variant:"success"})}catch{ze({title:"Erreur",description:"Impossible de marquer les notifications comme lues.",variant:"destructive"})}};return i.jsxs(Hee,{open:l,onOpenChange:c,children:[i.jsx(Gee,{asChild:!0,children:i.jsx(wt.div,{animate:t>0?{rotate:[0,-15,10,-10,5,-5,0],transition:{duration:.8,repeat:1/0,repeatDelay:2,ease:"easeInOut"}}:{rotate:0},className:"relative",children:i.jsxs(Ee,{variant:"ghost",size:"icon",children:[i.jsx(pp,{className:"h-6 w-6"}),t>0&&i.jsx(nr,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 bg-red-500 text-white text-xs border-2 border-background",children:t}),i.jsx("span",{className:"sr-only",children:"Notifications"})]})})}),i.jsxs(sR,{className:"w-80 p-2",align:"end",children:[i.jsxs("div",{className:"flex items-center justify-between p-2",children:[i.jsx("h3",{className:"font-semibold",children:"Notifications"}),i.jsx(Ee,{variant:"link",size:"sm",className:"text-xs h-auto p-0",onClick:g,disabled:t===0,children:"Marquer tout comme lu"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1 pr-1",children:a?i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."})}):n.length>0?i.jsx(iu,{children:n.map(_=>i.jsx(JSe,{notification:_,onNavigate:h,onDelete:v},_.id))}):i.jsxs("div",{className:"text-center py-8 px-4",children:[i.jsx(pp,{className:"mx-auto h-10 w-10 text-muted-foreground/50"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Vous n'avez aucune notification."})]})}),i.jsx("div",{className:"text-center border-t pt-2 mt-1",children:i.jsx(Ee,{variant:"link",size:"sm",className:"text-xs h-auto p-0",onClick:()=>{d("/notifications"),c(!1)},children:"Voir toutes les notifications"})})]})]})},yB="/assets/logo-dfb4c5ad.png",Kee=()=>(console.log("Logo path:",yB),i.jsxs(PF,{to:"/",className:"flex items-center gap-2",children:[i.jsx("img",{src:yB,alt:"BonPlanInfos Logo",className:"h-8 w-auto"}),i.jsx("span",{className:"hidden sm:inline-block font-bold text-lg",children:"BonPlanInfos"})]})),QSe=({user:e,userProfile:t,handleLogout:r})=>{var a;const{t:n}=Dn(),s=on();return i.jsxs(jD,{children:[i.jsx(ND,{asChild:!0,children:i.jsx(Ee,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:i.jsxs(Xu,{className:"h-10 w-10",children:[i.jsx(Ju,{src:t==null?void 0:t.avatar_url,alt:t==null?void 0:t.full_name}),i.jsx(Zu,{children:((a=t==null?void 0:t.full_name)==null?void 0:a.charAt(0))||"U"})]})})}),i.jsxs(K3,{className:"w-56",align:"end",forceMount:!0,children:[i.jsx(qZ,{className:"font-normal",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:t==null?void 0:t.full_name}),i.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),i.jsx(oP,{}),i.jsxs(vp,{onClick:()=>s("/profile"),children:[i.jsx(Jg,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:n("nav.profile")})]}),i.jsxs(vp,{onClick:()=>s("/wallet"),children:[i.jsx(Us,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:n("nav.wallet")})]}),i.jsx(oP,{}),i.jsxs(vp,{onClick:r,children:[i.jsx(nx,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:n("nav.logout")})]})]})]})},e3e=({navLinks:e,user:t,userProfile:r,handleLogout:n,isMenuOpen:s,setMenuOpen:a})=>{const{t:o}=Dn(),l=on(),c=f=>{l(f),a(!1)},d=f=>f&&["organizer","admin","super_admin"].includes(f.user_type);return i.jsxs(lQ,{open:s,onOpenChange:a,children:[i.jsx(cQ,{asChild:!0,children:i.jsxs(Ee,{variant:"ghost",size:"icon",className:"md:hidden",children:[i.jsx(hX,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Open menu"})]})}),i.jsxs(PD,{side:"left",className:"w-[300px] sm:w-[350px] p-0 flex flex-col z-50",children:[i.jsx(OD,{className:"p-6 pb-4",children:i.jsx(DD,{children:i.jsx(Kee,{})})}),i.jsx("div",{className:"flex-grow overflow-y-auto px-4 pb-4",children:i.jsxs("nav",{className:"flex flex-col space-y-2",children:[e.map(f=>i.jsxs(Ee,{variant:"ghost",className:"justify-start text-base h-11",onClick:()=>c(f.path),children:[i.jsx(f.icon,{className:"mr-3 h-5 w-5"}),o(f.name)]},f.name)),t&&d(r)&&i.jsxs(Ee,{variant:"ghost",className:"justify-start text-base h-11",onClick:()=>c("/create-event"),children:[i.jsx(ew,{className:"mr-3 h-5 w-5"}),o("nav.create_event")]})]})}),i.jsxs(FD,{className:"p-4 border-t flex-col sm:flex-col sm:space-x-0 gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:o("Theme")}),i.jsx(fQ,{})]}),i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:o("Language")}),i.jsx(dQ,{})]})]})]})]})},t3e=()=>{const{t:e}=Dn(),{user:t,signOut:r}=Pr(),{userProfile:n}=Un(),s=on(),[a,o]=Se.useState(!1),l=[{name:"nav.home",path:"/",icon:UF},{name:"nav.discover",path:"/discover",icon:uX},{name:"nav.events",path:"/events",icon:qs},{name:"nav.partnership",path:"/marketing",icon:Mge}],c=d=>d&&["organizer","admin","super_admin"].includes(d.user_type);return i.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"md:hidden",children:i.jsx(e3e,{navLinks:l,user:t,userProfile:n,handleLogout:r,isMenuOpen:a,setMenuOpen:o})}),i.jsx("div",{className:"hidden md:flex",children:i.jsx(Kee,{})}),i.jsx("nav",{className:"hidden md:flex items-center gap-4 text-sm",children:l.map(d=>i.jsx(PF,{to:d.path,className:({isActive:f})=>Ht("transition-colors hover:text-foreground/80",f?"text-foreground font-semibold":"text-foreground/60"),children:e(d.name)},d.name))})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[i.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[c(n)&&i.jsxs(Ee,{variant:"premium",size:"sm",onClick:()=>s("/create-event"),children:[i.jsx(ew,{className:"mr-2 h-4 w-4"}),e("nav.create_event")]}),i.jsx(dQ,{}),i.jsx(fQ,{})]}),t?i.jsxs(i.Fragment,{children:[i.jsx(ZSe,{}),i.jsx(QSe,{user:t,userProfile:n,handleLogout:r})]}):i.jsx(Ee,{onClick:()=>s("/auth"),className:"h-11",children:e("auth.login.button")})]})]})})},r3e=({isMenuOpen:e})=>{const{t}=Dn(),{user:r}=Pr(),n=Tl(),s=[{path:"/",icon:UF,label:t("nav.home")},{path:"/discover",icon:uX,label:t("nav.discover")},{path:"/events",icon:qs,label:t("nav.events")},{path:"/wallet",icon:Us,label:t("nav.wallet"),requiresAuth:!0},{path:"/profile",icon:Jg,label:t("nav.profile"),requiresAuth:!0}];return!!["/auth","/admin","/secretary"].some(o=>n.pathname.startsWith(o))||e?null:i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 z-30 w-full h-16 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t",children:i.jsx("nav",{className:"grid h-full grid-cols-5",children:s.map(o=>o.requiresAuth&&!r?null:i.jsxs(PF,{to:o.path,className:({isActive:l})=>Ht("flex flex-col items-center justify-center gap-1 text-muted-foreground transition-colors",l?"text-primary":"hover:text-foreground"),children:[i.jsx(o.icon,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.path))})})};const n3e=()=>{const{t:e}=Dn(),[t,r]=b.useState(!1);b.useEffect(()=>{if(!localStorage.getItem("cookiesConsent")){const o=setTimeout(()=>{r(!0)},1500);return()=>clearTimeout(o)}},[]);const n=a=>{localStorage.setItem("cookiesConsent",a),r(!1),a==="accepted"&&console.log("Cookies accepted - Analytics initialized")},s=()=>{console.log("Open cookie preferences")};return i.jsx(iu,{children:t&&i.jsx(wt.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},transition:{type:"spring",stiffness:400,damping:30,duration:.3},className:"cookie-banner",children:i.jsxs("div",{className:"cookie-content",children:[i.jsxs("div",{className:"cookie-header",children:[i.jsx("div",{className:"cookie-icon",children:i.jsx($F,{size:20})}),i.jsxs("div",{className:"cookie-text-content",children:[i.jsx("h3",{className:"cookie-title",children:e("cookie_banner.title")}),i.jsxs("p",{className:"cookie-text",children:[e("cookie_banner.message"),i.jsx(mi,{to:"/privacy-policy",className:"cookie-link",children:e("cookie_banner.learn_more")})]})]})]}),i.jsxs("div",{className:"cookie-buttons",children:[i.jsxs(Ee,{onClick:s,variant:"outline",className:"cookie-button cookie-button--secondary",size:"sm",children:[i.jsx(Kf,{size:16}),e("cookie_banner.customize")]}),i.jsx(Ee,{onClick:()=>n("rejected"),variant:"outline",className:"cookie-button cookie-button--secondary",size:"sm",children:e("cookie_banner.reject")}),i.jsxs(Ee,{onClick:()=>n("accepted"),className:"cookie-button cookie-button--primary",size:"sm",children:[i.jsx(Sl,{size:16}),e("cookie_banner.accept")]})]})]})})})},bB={gift:"/sounds/gift.mp3",coin:"/sounds/coin.mp3",celebration:"/sounds/celebration.mp3",default:"/sounds/notification.mp3",system:"/sounds/system.mp3",event:"/sounds/event_alert.mp3"},a3e=e=>{const t=bB[e]||bB.default;try{new Audio(t).play().catch(n=>console.warn("Audio play failed, likely due to browser policy:",n))}catch(r){console.error("Could not create or play sound",r)}},s3e=({onComplete:e,id:t})=>{const r=Math.random()*2+3,n=Math.random()*1,s=Math.random()*40+20,a=Math.random()*100,o=Math.random()*100;return i.jsx(wt.div,{className:"absolute bottom-0",style:{left:`${a}%`,width:s,height:s},initial:{y:0,opacity:.7},animate:{y:"-100vh",x:`${o-a}vw`,opacity:0},transition:{duration:r,delay:n,ease:"linear"},onAnimationComplete:()=>e(t),children:i.jsx("div",{className:"w-full h-full rounded-full bg-primary/30 border-2 border-primary/50 flex items-center justify-center",children:i.jsx(dn,{className:"w-1/2 h-1/2 text-primary/80"})})},t)},i3e=()=>{const{visualEffects:e,removeVisualEffect:t,soundEffect:r,clearSoundEffect:n}=Un();return b.useEffect(()=>{r&&(a3e(r),n())},[r,n]),i.jsx("div",{className:"fixed inset-0 pointer-events-none z-[200] overflow-hidden",children:i.jsx(iu,{children:e.map(s=>s.type==="bubbles"?Array.from({length:15}).map((a,o)=>i.jsx(s3e,{id:`${s.id}-${o}`,onComplete:()=>o===0&&t(s.id)},`${s.id}-${o}`)):null)})})},Yee=()=>{const{impersonatingUser:e,stopImpersonation:t}=Pr();if(!e)return null;const r=JSON.parse(localStorage.getItem("impersonating")||"{}");return i.jsxs("div",{className:"fixed top-0 left-0 w-full bg-yellow-500 text-black p-2 text-center text-sm z-50 flex items-center justify-center gap-4",children:[i.jsx(bX,{className:"w-5 h-5"}),i.jsxs("span",{children:["Vous tes en mode vue en tant que ",i.jsx("strong",{children:e.name}),"."]}),i.jsxs(Ee,{size:"sm",variant:"secondary",className:"bg-black text-white hover:bg-gray-800",onClick:t,children:[i.jsx(nx,{className:"w-4 h-4 mr-2"}),"Retourner  mon compte (",r.originalUserName,")"]})]})},o3e=Xg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oy=b.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Ht(o3e({variant:t}),e),...r}));oy.displayName="Alert";const ly=b.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Ht("mb-1 font-medium leading-none tracking-tight",e),...t}));ly.displayName="AlertTitle";const cy=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("text-sm [&_p]:leading-relaxed",e),...t}));cy.displayName="AlertDescription";const l3e=()=>{const{t:e}=Dn();return i.jsx("div",{className:"screenshot-overlay","data-text":e("security.screenshot_warning_watermark"," BonPlanInfos - Capture d'cran non autorise")})},c3e={"/":[{icon:i.jsx(hN,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Crez & Gagnez !",description:"5 000 vues = 50 000 F CFA. Vos vnements vous rapportent de l'argent !",button:"Commencer",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:i.jsx(Go,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Viralisez = Argent !",description:"1 partage = 10 F CFA. Multipliez vos revenus automatiquement !",button:"Booster",color:"from-green-500 to-blue-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:i.jsx(dn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Tout est montis !",description:"Vues, likes, partages = Argent. 10K interactions = 100K FCFA !",button:"Gagner",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:i.jsx(Nge,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Gains garantis !",description:"500 vues + 200 likes = 7 500 F CFA. Plus c'est populaire, plus vous gagnez !",button:"Calculer",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","admin","super_admin"]},{icon:i.jsx(IF,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Audience = Revenus",description:"1 000 followers = 10K-50K F CFA/vnement. Dveloppez votre communaut !",button:"Dvelopper",color:"from-teal-500 to-green-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:i.jsx(Cc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez une star !",description:"Vos vnements vus par toute la ville. Montrez votre talent !",button:"Briller",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:i.jsx(Ga,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Communaut = Pouvoir",description:"Rassemblez vos fans et crez des vnements inoubliables !",button:"Rassembler",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:i.jsx(Lu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire officiel",description:"Reprsentez BonPlanInfos. Revenus mensuels garantis !",button:"Devenir partenaire",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/discover":[{icon:i.jsx(wo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Dcouvrez l'inattendu",description:"vnements uniques prs de chez vous. Soyez surpris !",button:"Explorer",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(g_,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Votre passion vous attend",description:"Des vnements qui correspondent  vos passions. Trouvez-les !",button:"Dcouvrir",color:"from-pink-500 to-rose-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]}],"/events":[{icon:i.jsx(qs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Ne manquez rien !",description:"Des centaines d'vnements vous attendent. Inscrivez-vous !",button:"Voir tout",color:"from-teal-500 to-green-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(Df,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Les plus populaires",description:"Dcouvrez les vnements les plus apprcis. Inspirez-vous !",button:"Voir les tops",color:"from-amber-500 to-orange-500",action:()=>window.location.href="/events?filter=popular",targetUserTypes:["user","organizer","admin","super_admin"]}],"/create-event":[{icon:i.jsx(Wi,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Boostez votre vnement !",description:"Donnez un coup de projecteur ds le dpart. 10x plus de visibilit !",button:"Booster",color:"from-yellow-500 to-red-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:i.jsx(Ko,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez un pro",description:"Nos outils vous aident  crer des vnements mmorables !",button:"Apprendre",color:"from-purple-500 to-indigo-500",action:()=>window.location.href="/how-it-works",targetUserTypes:["organizer","admin","super_admin"]}],"/boost":[{icon:i.jsx(Go,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 5x plus de participants !",description:"Les vnements boosts attirent 5x plus de monde. Statistiques relles !",button:"Voir stats",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:i.jsx(dn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 3x retour sur investissement",description:"Chaque pice investie rapporte 3x en visibilit. Calculer votre ROI !",button:"Calculer ROI",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:i.jsx(Lu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Boostez votre carrire !",description:"Devenez partenaire. Revenus illimits avec notre licence !",button:"Devenir partenaire",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/wallet":[{icon:i.jsx(Ep,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Pices gratuites !",description:"Gagnez des pices en regardant des vidos. Actions simples !",button:"Gagner",color:"from-red-500 to-pink-500",action:()=>window.location.href="/wallet",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(Cc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez premium",description:"Avantages exclusifs. Boostez gratuitement vos vnements !",button:"Dcouvrir",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/pricing",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(Uk,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 200K FCFA/mois moyen",description:"Nos partenaires gagnent bien. Rejoignez le programme licence !",button:"Devenir partenaire",color:"from-green-500 to-teal-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/profile":[{icon:i.jsx(hN,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Optimisez votre profil",description:"Profil complet = Plus de participants. Attirez votre audience !",button:"Optimiser",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/profile",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:i.jsx(Ga,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Dveloppez votre rseau",description:"Connectez-vous avec d'autres passionns. Crez ensemble !",button:"Rseauter",color:"from-green-500 to-teal-500",action:()=>window.location.href="/discover",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:i.jsx(Lu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire certifi",description:"Votre profil a du potentiel ! Reprsentez BonPlanInfos.",button:"Postuler",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/marketing":[{icon:i.jsx(Lu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire officiel",description:"Licence exclusive. Reprsentez-nous dans votre rgion !",button:"Postuler",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(Rge,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Monopole territorial",description:"Soyez le seul reprsentant officiel. Zone exclusive !",button:"Voir zones",color:"from-red-500 to-orange-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(Uk,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Revenus passifs",description:"Commissions sur vnements + packs + boosting. Multiple revenus !",button:"Voir gains",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(kp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Votre entreprise",description:"Construisez votre business sous marque reconnue. Formation incluse !",button:"Dmarrer",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(fN,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 30% commissions",description:"Niveau Diamond = 30% de commissions. Plus vous dveloppez, plus vous gagnez !",button:"Voir niveaux",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(Md,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" March africain",description:"1,3 milliard de personnes. vnementiel digital en explosion !",button:"Cibler",color:"from-orange-500 to-red-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(bge,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Certifi officiel",description:"Statut partenaire certifi. Crdibilit et notorit !",button:"Certifier",color:"from-green-500 to-teal-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/partner-signup":[{icon:i.jsx(Lu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Licence internationale",description:"Ambassadeur officiel. Droits territoriaux protgs !",button:"Demander licence",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(Uk,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 1M FCFA/mois possible",description:"Preuves de revenus disponibles. Modle conomique prouv !",button:"Voir preuves",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(fN,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Top partenaires >500K/mois",description:"Rejoignez le classement. Devenez la prochaine success story !",button:"Voir classement",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:i.jsx(kp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Franchise accessible",description:"Agence vnementielle sous licence. Investissement raisonnable !",button:"Dcouvrir",color:"from-purple-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/guide-utilisation":[{icon:i.jsx(Xm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez expert",description:"Matrisez toutes les fonctionnalits. Optimisez vos rsultats !",button:"Apprendre",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/guide-utilisation",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(Cc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Astuces de pro",description:"Secrets pour vnements  succs. Augmentez vos chances !",button:"Dcouvrir",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/guide-utilisation",targetUserTypes:["organizer","admin","super_admin"]}],"/packs":[{icon:i.jsx(rw,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" -30% offre limite !",description:"conomisez 30% sur les packs. Dernire chance !",button:"Profiter",color:"from-green-500 to-teal-500",action:()=>window.location.href="/packs",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(Ep,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Pices bonus offertes",description:"Achetez maintenant = Pices bonus gratuites !",button:"Voir offres",color:"from-red-500 to-pink-500",action:()=>window.location.href="/packs",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:i.jsx(dn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Investissez = Succs",description:"Plus de pices = Plus de visibilit. Multipliez votre audience !",button:"Acheter",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/packs",targetUserTypes:["organizer","admin","super_admin"]}],"/create-simple-event":[{icon:i.jsx(Wi,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Simple & efficace",description:"Crez en 2 min. Formulaire simplifi pour dbutants !",button:"Crer",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-simple-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-raffle-event":[{icon:i.jsx(ki,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Tombola = Excitant !",description:"Gnrez un engouement fou. Lots attractifs !",button:"Lancer",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/create-raffle-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-voting-event":[{icon:i.jsx(Gh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Faites participer",description:"Interaction forte avec communaut. Engagement garanti !",button:"Crer vote",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/create-voting-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-stand-event":[{icon:i.jsx(Vf,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Stands = Revenus",description:"95% pour vous, 5% pour nous. Gnrez des revenus en ligne !",button:"Louer",color:"from-orange-500 to-amber-500",action:()=>window.location.href="/create-stand-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-ticketing-event":[{icon:i.jsx(ki,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Billetterie = Ventes",description:"95% pour vous. Vendez en ligne facilement. Scuris !",button:"Vendre",color:"from-teal-500 to-green-500",action:()=>window.location.href="/create-ticketing-event",targetUserTypes:["organizer","admin","super_admin"]}]},Xee=["/","/discover","/events","/create-event","/boost","/wallet","/profile","/marketing","/guide-utilisation","/packs","/create-simple-event","/create-raffle-event","/create-voting-event","/create-stand-event","/create-ticketing-event","/partner-signup"],Jee=({userProfile:e,onClose:t})=>{const r=Tl(),[n,s]=b.useState(0),[a,o]=b.useState(!0),[l,c]=b.useState(!1),[d,f]=b.useState(!1),h=b.useRef(null),g=(c3e[r.pathname]||[]).filter(C=>C.targetUserTypes.includes((e==null?void 0:e.user_type)||"user"));b.useEffect(()=>(!d&&a&&!l&&(h.current=setTimeout(()=>{c(!0)},3e3)),()=>clearTimeout(h.current)),[a,l,d]),b.useEffect(()=>{if(g.length===0||d){o(!1);return}const C=setInterval(()=>{s(k=>(k+1)%g.length),c(!1),setTimeout(()=>c(!0),3e3)},15e3);return()=>clearInterval(C)},[g.length,r.pathname,d]);const _=()=>{f(!0),o(!1),localStorage.setItem("bannerDismissed","true"),setTimeout(()=>t==null?void 0:t(),300)},y=()=>{const C=g[n];C&&C.action&&C.action()},j=()=>{c(!l)};if(b.useEffect(()=>{localStorage.getItem("bannerDismissed")==="true"&&(f(!0),o(!1))},[]),!a||g.length===0||d)return null;const w=g[n];return i.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40 w-[95vw] max-w-md",children:i.jsx(iu,{mode:"wait",children:i.jsx(wt.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,y:-20,scale:.95,transition:{duration:.2}},className:Ht(`bg-gradient-to-r ${w.color}`,"rounded-xl shadow-lg border border-white/10 backdrop-blur-md overflow-hidden",l?"shadow-sm":"shadow-lg"),children:i.jsx(iu,{children:l?i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:j,className:"cursor-pointer hover:bg-white/5 transition-colors",children:i.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-white bg-white/20 p-1 rounded-full",children:i.jsx(pi,{className:"w-3 h-3"})}),i.jsx("span",{className:"text-white text-xs font-medium truncate max-w-[120px]",children:w.title})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ee,{size:"icon",onClick:y,className:"bg-white/20 hover:bg-white/30 text-white h-6 w-6",children:i.jsx(Ag,{className:"w-3 h-3"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),_()},className:"text-white/50 hover:text-white hover:bg-white/10 h-6 w-6",children:i.jsx(au,{className:"w-3 h-3"})})]})]})}):i.jsxs(wt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[i.jsx("div",{className:"p-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"text-white bg-white/20 p-1.5 rounded-full",children:Se.cloneElement(w.icon,{className:"w-4 h-4"})}),i.jsx("h3",{className:"text-white font-bold text-sm leading-tight",children:w.title})]}),i.jsx("p",{className:"text-white/90 text-xs leading-relaxed mb-3",children:w.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ee,{onClick:y,size:"sm",className:"bg-white text-gray-900 hover:bg-white/90 font-semibold text-xs px-3 h-7",children:[w.button," ",i.jsx(Ag,{className:"ml-1 w-3 h-3"})]}),i.jsx(Ee,{variant:"ghost",size:"sm",onClick:_,className:"text-white/70 hover:text-white hover:bg-white/10 text-xs h-7",children:"Plus tard"})]})]}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:_,className:"text-white hover:bg-white/20 flex-shrink-0 w-6 h-6 mt-0.5",children:i.jsx(au,{className:"w-3 h-3"})})]})}),i.jsx(wt.div,{className:"h-0.5 bg-white/20 relative overflow-hidden",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:15,ease:"linear"},children:i.jsx("div",{className:"h-full bg-white/70 absolute top-0 left-0 w-full"})})]})})},n)})})},u3e=({children:e})=>{const{user:t,hasFetchError:r}=Pr(),{userProfile:n}=Un(),s=Tl(),{t:a}=Dn(),[o,l]=Se.useState(!1),[c,d]=b.useState(!1),h=t&&!["/auth"].some(_=>s.pathname.startsWith(_));b.useEffect(()=>{const _=()=>{if(!Xee.includes(s.pathname)||s.pathname.startsWith("/admin")||s.pathname.startsWith("/secretary"))return!1;const w=localStorage.getItem(`promoBannerLastClosed_${s.pathname}`);if(w&&Date.now()-parseInt(w)<27e5)return!1;const k={"/":.6,"/discover":.4,"/events":.5,"/create-event":.7,"/boost":.8,"/wallet":.4,"/profile":.3,"/marketing":.6,"/guide-utilisation":.5,"/packs":.7,"/create-simple-event":.4,"/create-raffle-event":.5,"/create-voting-event":.5,"/create-stand-event":.5,"/create-ticketing-event":.6}[s.pathname]||.4;return Math.random()<k},y=setTimeout(()=>{_()&&d(!0)},3e3);return()=>clearTimeout(y)},[s.pathname]);const v=()=>{d(!1),localStorage.setItem(`promoBannerLastClosed_${s.pathname}`,Date.now().toString())},g=()=>window.location.reload();return i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsx(l3e,{}),i.jsx(i3e,{}),i.jsx(Yee,{}),c&&i.jsx(Jee,{userProfile:n,onClose:v}),i.jsx(t3e,{isMenuOpen:o,setMenuOpen:l}),r&&i.jsxs(oy,{variant:"destructive",className:"fixed top-[70px] left-1/2 -translate-x-1/2 w-[90%] max-w-2xl z-40 animate-in fade-in-0 slide-in-from-top-4",children:[i.jsx(ave,{className:"h-4 w-4"}),i.jsx(ly,{children:a("auth.fetch_error.title")}),i.jsxs(cy,{children:[a("auth.fetch_error.description"),i.jsx(Ee,{onClick:g,variant:"secondary",size:"sm",className:"ml-4",children:a("common.retry")})]})]}),i.jsx("main",{className:Ht("flex-grow",h?"pb-20 md:pb-0":"",c?"mt-16":"mt-4"),children:e}),h&&i.jsx(r3e,{isMenuOpen:o}),i.jsx(n3e,{})]})};var Zee={exports:{}},d3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f3e=d3e,h3e=f3e;function Qee(){}function ete(){}ete.resetWarningCache=Qee;var m3e=function(){function e(n,s,a,o,l,c){if(c!==h3e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ete,resetWarningCache:Qee};return r.PropTypes=r,r};Zee.exports=m3e();var p3e=Zee.exports;const rn=ga(p3e);function g3e(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var tte=b,v3e=g3e(tte);function wB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y3e=!!(typeof window<"u"&&window.document&&window.document.createElement);function b3e(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(s){return s.displayName||s.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(f){return f.props})),d.canUseDOM?t(l):r&&(l=r(l))}var d=function(f){x3e(h,f);function h(){return f.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var _=l;return l=void 0,o=[],_};var v=h.prototype;return v.UNSAFE_componentWillMount=function(){o.push(this),c()},v.componentDidUpdate=function(){c()},v.componentWillUnmount=function(){var _=o.indexOf(this);o.splice(_,1),c()},v.render=function(){return v3e.createElement(a,this.props)},h}(tte.PureComponent);return wB(d,"displayName","SideEffect("+n(a)+")"),wB(d,"canUseDOM",y3e),d}}var w3e=b3e;const _3e=ga(w3e);var j3e=typeof Element<"u",N3e=typeof Map=="function",S3e=typeof Set=="function",C3e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function N4(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!N4(e[n],t[n]))return!1;return!0}var a;if(N3e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!N4(n.value[1],t.get(n.value[0])))return!1;return!0}if(S3e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(C3e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if(j3e&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!N4(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var A3e=function(t,r){try{return N4(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const k3e=ga(A3e);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var _B=Object.getOwnPropertySymbols,E3e=Object.prototype.hasOwnProperty,T3e=Object.prototype.propertyIsEnumerable;function P3e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function O3e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var F3e=O3e()?Object.assign:function(e,t){for(var r,n=P3e(e),s,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)E3e.call(r,o)&&(n[o]=r[o]);if(_B){s=_B(r);for(var l=0;l<s.length;l++)T3e.call(r,s[l])&&(n[s[l]]=r[s[l]])}}return n};const D3e=ga(F3e);var pg={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ln={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ln).map(function(e){return Ln[e]});var Bs={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},TN={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mw={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},R3e=Object.keys(TN).reduce(function(e,t){return e[TN[t]]=t,e},{}),M3e=[Ln.NOSCRIPT,Ln.SCRIPT,Ln.STYLE],Td="data-react-helmet",I3e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L3e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$3e=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B3e=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},jB=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},z3e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},jP=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},U3e=function(t){var r=M1(t,Ln.TITLE),n=M1(t,mw.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var s=M1(t,mw.DEFAULT_TITLE);return r||s||void 0},V3e=function(t){return M1(t,mw.ON_CHANGE_CLIENT_STATE)||function(){}},NE=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,s){return hc({},n,s)},{})},q3e=function(t,r){return r.filter(function(n){return typeof n[Ln.BASE]<"u"}).map(function(n){return n[Ln.BASE]}).reverse().reduce(function(n,s){if(!n.length)for(var a=Object.keys(s),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&s[c])return n.concat(s)}return n},[])},Nb=function(t,r,n){var s={};return n.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&K3e("Helmet: "+t+' should be of type "Array". Instead found type "'+I3e(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(v){for(var g=void 0,_=Object.keys(v),y=0;y<_.length;y++){var j=_[y],w=j.toLowerCase();r.indexOf(w)!==-1&&!(g===Bs.REL&&v[g].toLowerCase()==="canonical")&&!(w===Bs.REL&&v[w].toLowerCase()==="stylesheet")&&(g=w),r.indexOf(j)!==-1&&(j===Bs.INNER_HTML||j===Bs.CSS_TEXT||j===Bs.ITEM_PROP)&&(g=j)}if(!g||!v[g])return!1;var C=v[g].toLowerCase();return s[g]||(s[g]={}),l[g]||(l[g]={}),s[g][C]?!1:(l[g][C]=!0,!0)}).reverse().forEach(function(v){return a.push(v)});for(var c=Object.keys(l),d=0;d<c.length;d++){var f=c[d],h=D3e({},s[f],l[f]);s[f]=h}return a},[]).reverse()},M1=function(t,r){for(var n=t.length-1;n>=0;n--){var s=t[n];if(s.hasOwnProperty(r))return s[r]}return null},W3e=function(t){return{baseTag:q3e([Bs.HREF,Bs.TARGET],t),bodyAttributes:NE(pg.BODY,t),defer:M1(t,mw.DEFER),encode:M1(t,mw.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:NE(pg.HTML,t),linkTags:Nb(Ln.LINK,[Bs.REL,Bs.HREF],t),metaTags:Nb(Ln.META,[Bs.NAME,Bs.CHARSET,Bs.HTTPEQUIV,Bs.PROPERTY,Bs.ITEM_PROP],t),noscriptTags:Nb(Ln.NOSCRIPT,[Bs.INNER_HTML],t),onChangeClientState:V3e(t),scriptTags:Nb(Ln.SCRIPT,[Bs.SRC,Bs.INNER_HTML],t),styleTags:Nb(Ln.STYLE,[Bs.CSS_TEXT],t),title:U3e(t),titleAttributes:NE(pg.TITLE,t)}},NP=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){NP(t)},0)}}(),NB=function(t){return clearTimeout(t)},H3e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||NP:global.requestAnimationFrame||NP,G3e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||NB:global.cancelAnimationFrame||NB,K3e=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Sb=null,Y3e=function(t){Sb&&G3e(Sb),t.defer?Sb=H3e(function(){SB(t,function(){Sb=null})}):(SB(t),Sb=null)},SB=function(t,r){var n=t.baseTag,s=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,f=t.scriptTags,h=t.styleTags,v=t.title,g=t.titleAttributes;SP(Ln.BODY,s),SP(Ln.HTML,a),X3e(v,g);var _={baseTag:Uv(Ln.BASE,n),linkTags:Uv(Ln.LINK,o),metaTags:Uv(Ln.META,l),noscriptTags:Uv(Ln.NOSCRIPT,c),scriptTags:Uv(Ln.SCRIPT,f),styleTags:Uv(Ln.STYLE,h)},y={},j={};Object.keys(_).forEach(function(w){var C=_[w],k=C.newTags,T=C.oldTags;k.length&&(y[w]=k),T.length&&(j[w]=_[w].oldTags)}),r&&r(),d(t,y,j)},rte=function(t){return Array.isArray(t)?t.join(""):t},X3e=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=rte(t)),SP(Ln.TITLE,r)},SP=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var s=n.getAttribute(Td),a=s?s.split(","):[],o=[].concat(a),l=Object.keys(r),c=0;c<l.length;c++){var d=l[c],f=r[d]||"";n.getAttribute(d)!==f&&n.setAttribute(d,f),a.indexOf(d)===-1&&a.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var v=o.length-1;v>=0;v--)n.removeAttribute(o[v]);a.length===o.length?n.removeAttribute(Td):n.getAttribute(Td)!==l.join(",")&&n.setAttribute(Td,l.join(","))}},Uv=function(t,r){var n=document.head||document.querySelector(Ln.HEAD),s=n.querySelectorAll(t+"["+Td+"]"),a=Array.prototype.slice.call(s),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var d=document.createElement(t);for(var f in c)if(c.hasOwnProperty(f))if(f===Bs.INNER_HTML)d.innerHTML=c.innerHTML;else if(f===Bs.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[f]>"u"?"":c[f];d.setAttribute(f,h)}d.setAttribute(Td,"true"),a.some(function(v,g){return l=g,d.isEqualNode(v)})?a.splice(l,1):o.push(d)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:o}},nte=function(t){return Object.keys(t).reduce(function(r,n){var s=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+s:s},"")},J3e=function(t,r,n,s){var a=nte(n),o=rte(r);return a?"<"+t+" "+Td+'="true" '+a+">"+jP(o,s)+"</"+t+">":"<"+t+" "+Td+'="true">'+jP(o,s)+"</"+t+">"},Z3e=function(t,r,n){return r.reduce(function(s,a){var o=Object.keys(a).filter(function(d){return!(d===Bs.INNER_HTML||d===Bs.CSS_TEXT)}).reduce(function(d,f){var h=typeof a[f]>"u"?f:f+'="'+jP(a[f],n)+'"';return d?d+" "+h:h},""),l=a.innerHTML||a.cssText||"",c=M3e.indexOf(t)===-1;return s+"<"+t+" "+Td+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},ate=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[TN[s]||s]=t[s],n},r)},Q3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[R3e[s]||s]=t[s],n},r)},eCe=function(t,r,n){var s,a=(s={key:r},s[Td]=!0,s),o=ate(n,a);return[Se.createElement(Ln.TITLE,o,r)]},tCe=function(t,r){return r.map(function(n,s){var a,o=(a={key:s},a[Td]=!0,a);return Object.keys(n).forEach(function(l){var c=TN[l]||l;if(c===Bs.INNER_HTML||c===Bs.CSS_TEXT){var d=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=n[l]}),Se.createElement(t,o)})},xh=function(t,r,n){switch(t){case Ln.TITLE:return{toComponent:function(){return eCe(t,r.title,r.titleAttributes)},toString:function(){return J3e(t,r.title,r.titleAttributes,n)}};case pg.BODY:case pg.HTML:return{toComponent:function(){return ate(r)},toString:function(){return nte(r)}};default:return{toComponent:function(){return tCe(t,r)},toString:function(){return Z3e(t,r,n)}}}},ste=function(t){var r=t.baseTag,n=t.bodyAttributes,s=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,f=t.styleTags,h=t.title,v=h===void 0?"":h,g=t.titleAttributes;return{base:xh(Ln.BASE,r,s),bodyAttributes:xh(pg.BODY,n,s),htmlAttributes:xh(pg.HTML,a,s),link:xh(Ln.LINK,o,s),meta:xh(Ln.META,l,s),noscript:xh(Ln.NOSCRIPT,c,s),script:xh(Ln.SCRIPT,d,s),style:xh(Ln.STYLE,f,s),title:xh(Ln.TITLE,{title:v,titleAttributes:g},s)}},rCe=function(t){var r,n;return n=r=function(s){B3e(a,s);function a(){return L3e(this,a),z3e(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!k3e(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ln.SCRIPT:case Ln.NOSCRIPT:return{innerHTML:c};case Ln.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,f=l.arrayTypeChildren,h=l.newChildProps,v=l.nestedChildren;return hc({},f,(c={},c[d.type]=[].concat(f[d.type]||[],[hc({},h,this.mapNestedChildrenToProps(d,v))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,d,f=l.child,h=l.newProps,v=l.newChildProps,g=l.nestedChildren;switch(f.type){case Ln.TITLE:return hc({},h,(c={},c[f.type]=g,c.titleAttributes=hc({},v),c));case Ln.BODY:return hc({},h,{bodyAttributes:hc({},v)});case Ln.HTML:return hc({},h,{htmlAttributes:hc({},v)})}return hc({},h,(d={},d[f.type]=hc({},v),d))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=hc({},c);return Object.keys(l).forEach(function(f){var h;d=hc({},d,(h={},h[f]=l[f],h))}),d},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var d=this,f={};return Se.Children.forEach(l,function(h){if(!(!h||!h.props)){var v=h.props,g=v.children,_=jB(v,["children"]),y=Q3e(_);switch(d.warnOnInvalidChildren(h,g),h.type){case Ln.LINK:case Ln.META:case Ln.NOSCRIPT:case Ln.SCRIPT:case Ln.STYLE:f=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:y,nestedChildren:g});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},a.prototype.render=function(){var l=this.props,c=l.children,d=jB(l,["children"]),f=hc({},d);return c&&(f=this.mapChildrenToProps(c,f)),Se.createElement(t,f)},$3e(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(Se.Component),r.propTypes={base:rn.object,bodyAttributes:rn.object,children:rn.oneOfType([rn.arrayOf(rn.node),rn.node]),defaultTitle:rn.string,defer:rn.bool,encodeSpecialCharacters:rn.bool,htmlAttributes:rn.object,link:rn.arrayOf(rn.object),meta:rn.arrayOf(rn.object),noscript:rn.arrayOf(rn.object),onChangeClientState:rn.func,script:rn.arrayOf(rn.object),style:rn.arrayOf(rn.object),title:rn.string,titleAttributes:rn.object,titleTemplate:rn.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var s=t.rewind();return s||(s=ste({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},n},nCe=function(){return null},aCe=_3e(W3e,Y3e,ste)(nCe),_a=rCe(aCe);_a.renderStatic=_a.rewind;var sCe=Symbol("radix.slottable");function iCe(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=sCe,t}var ite="AlertDialog",[oCe,Hut]=eo(ite,[HZ]),em=HZ(),ote=e=>{const{__scopeAlertDialog:t,...r}=e,n=em(t);return i.jsx(kD,{...n,...r,modal:!0})};ote.displayName=ite;var lCe="AlertDialogTrigger",lte=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=em(r);return i.jsx(ED,{...s,...n,ref:t})});lte.displayName=lCe;var cCe="AlertDialogPortal",cte=e=>{const{__scopeAlertDialog:t,...r}=e,n=em(t);return i.jsx(TD,{...n,...r})};cte.displayName=cCe;var uCe="AlertDialogOverlay",ute=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=em(r);return i.jsx(A_,{...s,...n,ref:t})});ute.displayName=uCe;var I1="AlertDialogContent",[dCe,fCe]=oCe(I1),hCe=iCe("AlertDialogContent"),dte=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=em(r),o=b.useRef(null),l=mn(t,o),c=b.useRef(null);return i.jsx(E_e,{contentName:I1,titleName:fte,docsSlug:"alert-dialog",children:i.jsx(dCe,{scope:r,cancelRef:c,children:i.jsxs(k_,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Wt(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[i.jsx(hCe,{children:n}),i.jsx(pCe,{contentRef:o})]})})})});dte.displayName=I1;var fte="AlertDialogTitle",hte=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=em(r);return i.jsx(E_,{...s,...n,ref:t})});hte.displayName=fte;var mte="AlertDialogDescription",pte=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=em(r);return i.jsx(T_,{...s,...n,ref:t})});pte.displayName=mte;var mCe="AlertDialogAction",gte=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=em(r);return i.jsx(X3,{...s,...n,ref:t})});gte.displayName=mCe;var vte="AlertDialogCancel",xte=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=fCe(vte,r),a=em(r),o=mn(t,s);return i.jsx(X3,{...a,...n,ref:o})});xte.displayName=vte;var pCe=({contentRef:e})=>{const t=`\`${I1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${I1}\` by passing a \`${mte}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${I1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},gCe=ote,vCe=lte,xCe=cte,yte=ute,bte=dte,wte=gte,_te=xte,jte=hte,Nte=pte;const jo=gCe,cC=vCe,yCe=xCe,Ste=Se.forwardRef(({className:e,...t},r)=>i.jsx(yte,{ref:r,className:Ht("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ste.displayName=yte.displayName;const Ki=Se.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(yCe,{children:[i.jsx(Ste,{}),i.jsx(bte,{ref:n,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));Ki.displayName=bte.displayName;const Yi=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col space-y-2 text-center sm:text-left",e),...t});Yi.displayName="AlertDialogHeader";const No=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});No.displayName="AlertDialogFooter";const Xi=Se.forwardRef(({className:e,...t},r)=>i.jsx(jte,{ref:r,className:Ht("text-lg font-semibold",e),...t}));Xi.displayName=jte.displayName;const Ji=Se.forwardRef(({className:e,...t},r)=>i.jsx(Nte,{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Ji.displayName=Nte.displayName;const Zi=Se.forwardRef(({className:e,...t},r)=>i.jsx(wte,{ref:r,className:Ht("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Zi.displayName=wte.displayName;const Qi=Se.forwardRef(({className:e,...t},r)=>i.jsx(_te,{ref:r,className:Ht("inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));Qi.displayName=_te.displayName;const Ao=kD,M_=ED,bCe=TD,Cte=b.forwardRef(({className:e,...t},r)=>i.jsx(A_,{ref:r,className:Ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Cte.displayName=A_.displayName;const to=b.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(bCe,{children:[i.jsx(Cte,{}),i.jsxs(k_,{ref:n,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(X3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(au,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));to.displayName=k_.displayName;const ko=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ko.displayName="DialogHeader";const Tc=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tc.displayName="DialogFooter";const Eo=b.forwardRef(({className:e,...t},r)=>i.jsx(E_,{ref:r,className:Ht("text-lg font-semibold leading-none tracking-tight",e),...t}));Eo.displayName=E_.displayName;const Ol=b.forwardRef(({className:e,...t},r)=>i.jsx(T_,{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Ol.displayName=T_.displayName;const Kd=({isOpen:e,onClose:t,onProceed:r})=>{const n=on(),s=()=>{t(),r?r():n("/packs")};return i.jsx(Ao,{open:e,onOpenChange:t,children:i.jsxs(to,{className:"sm:max-w-md glass-effect text-foreground",children:[i.jsxs(ko,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(Ql,{className:"w-12 h-12 text-yellow-400"})}),i.jsx(Eo,{className:"text-center text-xl font-bold",children:"Solde de Pices Insuffisant"}),i.jsx(Ol,{className:"text-center text-muted-foreground pt-2",children:"Oups ! Il semble que vous n'ayez pas assez de pices pour effectuer cette action."})]}),i.jsx("div",{className:"py-4 text-center",children:i.jsx("p",{children:"Veuillez recharger votre compte pour continuer. C'est simple et rapide !"})}),i.jsxs(Tc,{className:"flex-col sm:flex-col sm:space-y-2",children:[i.jsxs(Ee,{onClick:s,className:"w-full gradient-gold text-background",children:["Recharger mon compte ",i.jsx(BT,{className:"w-4 h-4 ml-2"})]}),i.jsx(Ee,{variant:"outline",onClick:t,className:"w-full",children:"Annuler"})]})]})})};class ws{static async initializeRate(){const{data:t}=await Oe.from("app_settings").select("coin_to_fcfa_rate").order("created_at",{ascending:!1}).limit(1).maybeSingle();t&&t.coin_to_fcfa_rate&&(this.COIN_RATE=t.coin_to_fcfa_rate)}static convertFcfaToCoins(t){return Math.max(1,Math.ceil(t/this.COIN_RATE))}static convertCoinsToFcfa(t){return t*this.COIN_RATE}static async getUserBalance(t){const{data:r,error:n}=await Oe.from("profiles").select("coin_balance, free_coin_balance").eq("id",t).maybeSingle();return n&&n.code!=="PGRST116"?(console.error("Erreur rcupration solde",n),0):((r==null?void 0:r.coin_balance)||0)+((r==null?void 0:r.free_coin_balance)||0)}static async debitCoins(t,r,n,s=null,a=null){const{data:o,error:l}=await Oe.from("profiles").select("coin_balance, free_coin_balance").eq("id",t).single();if(l||!o)throw new Error("Profil utilisateur non trouv.");if(o.coin_balance+o.free_coin_balance<r)throw new Error("Solde insuffisant");let c=0,d=0;o.free_coin_balance>0?(c=Math.min(o.free_coin_balance,r),d=r-c):d=r;const f=o.free_coin_balance-c,h=o.coin_balance-d,{error:v}=await Oe.from("profiles").update({coin_balance:h,free_coin_balance:f}).eq("id",t);if(v)throw new Error("Erreur lors du dbit: "+v.message);const{error:g}=await Oe.from("coin_spending").insert({user_id:t,amount:r,spent_from_free:c>0,free_coins_used:c,paid_coins_used:d,purpose:n,target_id:s,target_type:a});return g&&console.error("Erreur lors de l'enregistrement de la dpense:",g),{freeCoinsUsed:c,paidCoinsUsed:d}}static async creditCoins(t,r,n,s=null,a=null){const{data:o,error:l}=await Oe.from("profiles").select("coin_balance").eq("id",t).single();if(l||!o)throw new Error("Profil utilisateur non trouv.");const c=(o.coin_balance||0)+r;return await Oe.from("profiles").update({coin_balance:c}).eq("id",t),await Oe.from("user_coin_transactions").insert({user_id:t,transaction_id:`manual-credit-${Date.now()}`,amount_fcfa:0,total_coins:r,transaction_type:"manual_credit",status:"completed"}),c}static async hasSufficientBalance(t,r){return await this.getUserBalance(t)>=r}static generateMoneyFusionLink(t){const r=`${window.location.origin}/paiement/success?action=${t.action}&userId=${t.userId}&amount=${t.amountFcfa}&packId=${t.packId||""}`,n=`${window.location.origin}/paiement/cancel`;return`https://www.pay.moneyfusion.net/bonplaninfos/bed9acd64772611a/pay/?${new URLSearchParams({amount:t.amountFcfa.toString(),userId:t.userId,packId:t.packId||"",action:t.action,email:t.email||"",phone:t.phone||"",return_url:r,cancel_url:n}).toString()}`}static async handleAction({userId:t,requiredCoins:r,onSuccess:n,onInsufficientBalance:s,...a}){if(await this.hasSufficientBalance(t,r))await n();else if(s)s();else{const l=this.generateMoneyFusionLink({userId:t,...a});window.location.href=l}}}Va(ws,"COIN_RATE",10);ws.initializeRate();const Ate=()=>{const{user:e}=Pr(),[t,r]=b.useState([]),[n,s]=b.useState(!1),[a,o]=b.useState(0),[l,c]=b.useState(!0),[d,f]=b.useState(0);b.useEffect(()=>{(async()=>{const{data:C,error:k}=await Oe.from("welcome_popups").select("image_url, alt_text").eq("is_active",!0).order("created_at",{ascending:!0});if(k)console.error("Error fetching welcome popups:",k);else if(C&&C.length>0){r(C);const T=e?`hasSeenWelcomePopup_${e.id}`:"hasSeenWelcomePopup";sessionStorage.getItem(T)||(s(!0),sessionStorage.setItem(T,"true"))}})()},[e]),b.useEffect(()=>{if(!n||t.length<=1||!l)return;const w=setInterval(()=>{f(1),o(C=>(C+1)%t.length)},2500);return()=>clearInterval(w)},[n,t.length,l]);const h=b.useCallback(()=>{f(1),o(w=>(w+1)%t.length),c(!1)},[t.length]),v=b.useCallback(()=>{f(-1),o(w=>(w-1+t.length)%t.length),c(!1)},[t.length]),g=w=>{const C=w>a?1:-1;f(C),o(w),c(!1)},_=()=>{c(!l)},y=()=>{s(!1),c(!1)},j={enter:w=>({x:w>0?300:-300,opacity:0,scale:.9}),center:{x:0,opacity:1,scale:1,zIndex:1},exit:w=>({x:w<0?300:-300,opacity:0,scale:.9,zIndex:0})};return!n||t.length===0?null:i.jsx(Ao,{open:n,onOpenChange:y,children:i.jsxs(to,{className:"p-0 border-0 max-w-lg bg-transparent shadow-none overflow-visible",children:[i.jsx("div",{className:"relative w-full aspect-[4/5] sm:aspect-video flex items-center justify-center",children:i.jsx(iu,{initial:!1,custom:d,children:i.jsx(wt.img,{src:t[a].image_url,alt:t[a].alt_text||"Welcome",custom:d,variants:j,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute w-full h-full object-contain rounded-lg shadow-2xl"},a)})}),i.jsx("button",{onClick:y,className:"absolute -top-3 -right-3 bg-white text-gray-800 p-2 rounded-full z-20 hover:bg-gray-100 transition-all shadow-lg border border-gray-200",children:i.jsx(au,{className:"h-5 w-5"})}),t.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:v,className:"absolute top-1/2 left-0 sm:-left-4 -translate-y-1/2 bg-white/80 text-gray-800 p-2 sm:p-3 rounded-full z-20 hover:bg-white transition-all shadow-lg border border-gray-200 backdrop-blur-sm",children:i.jsx(b3,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),i.jsx("button",{onClick:h,className:"absolute top-1/2 right-0 sm:-right-4 -translate-y-1/2 bg-white/80 text-gray-800 p-2 sm:p-3 rounded-full z-20 hover:bg-white transition-all shadow-lg border border-gray-200 backdrop-blur-sm",children:i.jsx(Ag,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),i.jsxs("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-3 py-2 shadow-lg border border-gray-200",children:[i.jsx("button",{onClick:_,className:"p-1 text-gray-700 hover:text-gray-900 transition-colors",title:l?"Pause":"Play",children:l?i.jsx(qF,{className:"h-4 w-4"}):i.jsx(v_,{className:"h-4 w-4"})}),i.jsx("div",{className:"flex gap-1.5",children:t.map((w,C)=>i.jsx("button",{onClick:()=>g(C),className:`w-2.5 h-2.5 rounded-full transition-all ${a===C?"bg-blue-600 scale-125":"bg-gray-400 hover:bg-gray-600"}`,"aria-label":`Go to slide ${C+1}`},C))})]})]})]})})},kte=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,a]=b.useState(!0),o=b.useCallback(async()=>{a(!0);try{const{data:c,error:d}=await Oe.from("partner_badges").select("*").order("display_order",{ascending:!0});if(d)throw d;t(c||[]),n(c.filter(f=>f.is_active)||[])}catch(c){console.error("Error fetching partner badges:",c),ze({title:"Erreur",description:"Impossible de charger les badges partenaires.",variant:"destructive"})}finally{a(!1)}},[]);return b.useEffect(()=>{o()},[o]),{badges:e,activeBadges:r,loading:s,toggleBadgeStatus:async(c,d)=>{try{const{error:f}=await Oe.from("partner_badges").update({is_active:d,updated_at:new Date().toISOString()}).eq("id",c);if(f)throw f;return ze({title:`Badge ${d?"activ":"dsactiv"} avec succs`}),await o(),!0}catch(f){return console.error("Error toggling badge status:",f),ze({title:"Erreur",description:"Impossible de mettre  jour le statut du badge.",variant:"destructive"}),!1}},refreshBadges:o}},wCe=e=>{const t={starter:{circleBg:"bg-gradient-to-br from-gray-500 to-gray-700",borderColor:"border-gray-400",textColor:"text-gray-700",icon:"",title:"Ambassadeur Ville"},business:{circleBg:"bg-gradient-to-br from-green-500 to-green-700",borderColor:"border-green-400",textColor:"text-green-700",icon:"",title:"Ambassadeur Rgional"},premium:{circleBg:"bg-gradient-to-br from-amber-500 to-amber-700",borderColor:"border-amber-400",textColor:"text-amber-700",icon:"",title:"Ambassadeur National"}};return t[e]||t.starter},_Ce=()=>{const{activeBadges:e,loading:t}=kte(),[r,n]=b.useState(0),[s,a]=b.useState(!1),[o,l]=b.useState(4);if(b.useEffect(()=>{const d=()=>{window.innerWidth<640?l(2):window.innerWidth<1024?l(3):l(4)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),b.useEffect(()=>{if(e.length<=o||s)return;const d=setInterval(()=>{n(f=>{const h=f+1;return h>=e.length-o+1?0:h})},3e3);return()=>clearInterval(d)},[e.length,o,s]),t)return i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-4 text-center border-b",children:i.jsx(Dt,{className:"w-5 h-5 animate-spin inline-block text-muted-foreground"})});if(e.length===0)return null;const c=e.slice(r,r+o);return i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-4 border-b shadow-sm",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1",children:"Nos Partenaires Certifis"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Dcouvrez notre rseau d'ambassadeurs"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-6 lg:gap-8",children:[e.length>o&&i.jsx("button",{onClick:()=>n(d=>d>0?d-1:e.length-o),className:"p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow z-10","aria-label":"Partenaire prcdent",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("div",{className:"flex items-center justify-center gap-4 md:gap-6 lg:gap-8 flex-1",children:i.jsx(iu,{mode:"popLayout",children:c.map((d,f)=>{const h=wCe(d.license_type),v=r+f;return i.jsxs(wt.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},transition:{duration:.3,delay:f*.1},className:"flex flex-col items-center text-center group",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:`
                          w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 
                          rounded-full border-2 ${h.borderColor}
                          ${h.circleBg}
                          flex items-center justify-center
                          shadow-lg group-hover:shadow-xl
                          transition-all duration-300
                          group-hover:scale-110
                        `,children:[i.jsx("span",{className:"text-xl md:text-2xl lg:text-3xl",children:h.icon}),i.jsx("div",{className:"absolute -top-1 -right-1",children:i.jsx("div",{className:"bg-red-500 rounded-full w-5 h-5 md:w-6 md:h-6 border-2 border-white flex items-center justify-center",children:i.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-white",children:d.country?d.country.slice(0,2).toUpperCase():"PA"})})})]}),i.jsx("div",{className:"absolute -bottom-1 -left-1",children:i.jsx("div",{className:"bg-green-500 rounded-full w-4 h-4 border-2 border-white flex items-center justify-center",children:i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]}),i.jsxs("div",{className:"mt-3 max-w-[80px] md:max-w-[100px] lg:max-w-[120px]",children:[i.jsx("p",{className:"text-xs md:text-sm font-semibold text-gray-800 truncate",children:d.partner_name}),i.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 mt-1",children:h.title})]})]},`${d.id}-${v}`)})})}),e.length>o&&i.jsx("button",{onClick:()=>n(d=>d<e.length-o?d+1:0),className:"p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow z-10","aria-label":"Partenaire suivant",children:i.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.length>o&&i.jsxs("div",{className:"flex items-center justify-center mt-4 gap-2",children:[i.jsx("div",{className:"flex items-center space-x-1.5",children:Array.from({length:Math.ceil(e.length/o)}).map((d,f)=>i.jsx("button",{onClick:()=>n(f*o),className:`w-2 h-2 rounded-full transition-all ${Math.floor(r/o)===f?"bg-blue-600 scale-125":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to group ${f+1}`},f))}),i.jsx("button",{onClick:()=>a(!s),className:"ml-2 p-1.5 bg-white rounded-full shadow hover:shadow-md transition-all","aria-label":s?"Play":"Pause",children:s?i.jsx(v_,{className:"w-3 h-3 text-gray-600"}):i.jsx(qF,{className:"w-3 h-3 text-gray-600"})})]})]}),i.jsx("div",{className:"text-center mt-3",children:i.jsxs("p",{className:"text-xs text-gray-500",children:[e.length," partenaire",e.length>1?"s":""," actif",e.length>1?"s":""]})})]})})},at=Se.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("rounded-lg border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md hover:-translate-y-1",e),...t}));at.displayName="Card";const Et=Se.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("flex flex-col space-y-1.5 p-6",e),...t}));Et.displayName="CardHeader";const Tt=Se.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Ht("text-2xl font-bold font-heading leading-none tracking-tight",e),...t}));Tt.displayName="CardTitle";const nn=Se.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));nn.displayName="CardDescription";const st=Se.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("p-6 pt-0",e),...t}));st.displayName="CardContent";const PN=Se.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("flex items-center p-6 pt-0",e),...t}));PN.displayName="CardFooter";const jCe=()=>{const e=on(),{t}=Dn(),r=[{name:t("home_page.event_types.standard"),type:"standard",icon:Wi,color:"from-blue-500 to-indigo-600"},{name:t("home_page.event_types.ticketing"),type:"ticketing",icon:ki,color:"from-purple-500 to-pink-600"},{name:t("home_page.event_types.raffles"),type:"raffle",icon:Ep,color:"from-green-400 to-teal-500"},{name:t("home_page.event_types.voting"),type:"voting",icon:Gh,color:"from-yellow-500 to-orange-600"},{name:t("home_page.event_types.stands"),type:"stand_rental",icon:Vf,color:"from-red-500 to-rose-600"}],n=({name:a,icon:o,color:l,onClick:c})=>i.jsx(wt.div,{whileHover:{y:-5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:c,children:i.jsxs(at,{className:`relative overflow-hidden cursor-pointer group bg-gradient-to-br ${l} text-white shadow-lg`,children:[i.jsxs("div",{className:"p-6 flex flex-col items-center justify-center h-32 text-center",children:[i.jsx(o,{className:"w-10 h-10 mb-3"}),i.jsx("h3",{className:"font-bold text-md",children:a})]}),i.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-10 transition-opacity"})]})}),s=a=>{e("/events",{state:{preselectedEventTypes:[a]}})};return i.jsxs("section",{className:"py-12",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("home_page.explore_by_type.title")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:t("home_page.explore_by_type.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6",children:r.map(a=>i.jsx(n,{...a,onClick:()=>s(a.type)},a.type))})]})},NCe=({eventDate:e,eventStartTime:t,eventEndTime:r,eventStatus:n="upcoming",size:s="medium",variant:a="default",showIcon:o=!0,showTime:l=!1,showProgress:c=!1,className:d="",onCountdownEnd:f,onCountdownUpdate:h})=>{const v=()=>{if(!e)return{days:null};const I=new Date,B=new Date(e);if(t){const[q,re]=t.split(":");B.setHours(parseInt(q),parseInt(re),0,0)}const V=B.getTime()-I.getTime();let U={};return V>0?U={days:Math.floor(V/864e5),hours:Math.floor(V/36e5%24),minutes:Math.floor(V/6e4%60),seconds:Math.floor(V/1e3%60),totalMs:V}:U={days:-1,totalMs:V},U},[g,_]=b.useState(v());b.useEffect(()=>{const I=setInterval(()=>{const B=v();_(B),h&&h(B),B.days===-1&&g.days!==-1&&f&&f()},1e3);return()=>clearInterval(I)},[e,t,r]);const y=()=>g.days===null?"scheduled":g.days<0?"finished":g.days===0&&g.hours<=1?"starting":g.days===0?"today":g.days<=1?"tomorrow":g.days<=3?"soon":"upcoming",j=()=>{switch(y()){case"scheduled":return"Programm";case"finished":return"Termin";case"starting":return`Commence dans ${g.minutes}min`;case"today":return l&&g.hours>0?`Aujourd'hui  ${g.hours}h`:"Aujourd'hui";case"tomorrow":return"Demain";case"soon":return`J-${g.days}`;case"upcoming":return g.days<=7?`J-${g.days}`:`Dans ${g.days}j`;default:return"Date  venir"}},w=()=>{switch(y()){case"starting":return i.jsx(v_,{className:"w-3 h-3"});case"today":return i.jsx(Wi,{className:"w-3 h-3"});case"soon":return i.jsx(Ql,{className:"w-3 h-3"});case"finished":return i.jsx(Vi,{className:"w-3 h-3"});default:return i.jsx(nu,{className:"w-3 h-3"})}},C=()=>{var V;const I=y(),B={default:{starting:"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg animate-pulse",today:"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md",soon:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",upcoming:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white",finished:"bg-gradient-to-r from-gray-600 to-gray-700 text-gray-200",scheduled:"bg-gradient-to-r from-purple-500 to-pink-600 text-white"},minimal:{starting:"bg-green-100 text-green-800 border border-green-300",today:"bg-red-100 text-red-800 border border-red-300",soon:"bg-amber-100 text-amber-800 border border-amber-300",upcoming:"bg-blue-100 text-blue-800 border border-blue-300",finished:"bg-gray-100 text-gray-600 border border-gray-300",scheduled:"bg-purple-100 text-purple-800 border border-purple-300"},outline:{starting:"border-2 border-green-500 text-green-600 bg-white/90",today:"border-2 border-red-500 text-red-600 bg-white/90",soon:"border-2 border-amber-500 text-amber-600 bg-white/90",upcoming:"border-2 border-blue-500 text-blue-600 bg-white/90",finished:"border-2 border-gray-500 text-gray-600 bg-white/90",scheduled:"border-2 border-purple-500 text-purple-600 bg-white/90"}};return((V=B[a])==null?void 0:V[I])||B.default.upcoming},k=()=>{const I={small:"px-2 py-1 text-xs gap-1",medium:"px-3 py-1.5 text-sm gap-1.5",large:"px-4 py-2 text-base gap-2"};return I[s]||I.medium},P=(()=>{if(!t||!r||g.days>=0)return 0;const I=new Date(`${e}T${t}`),B=new Date(`${e}T${r}`),V=new Date,U=B.getTime()-I.getTime(),q=V.getTime()-I.getTime();return Math.min(Math.max(q/U*100,0),100)})(),M=y()==="starting"||g.days<0&&P>0&&P<100;return g.days===null?null:i.jsxs("div",{className:`relative ${d}`,children:[i.jsxs("div",{className:`
        inline-flex items-center rounded-full font-semibold transition-all duration-300 
        backdrop-blur-sm shadow-sm hover:shadow-md
        ${C()} 
        ${k()}
        ${M?"animate-pulse":""}
      `,children:[o&&i.jsx("div",{className:"flex-shrink-0",children:w()}),i.jsx("span",{className:"whitespace-nowrap",children:j()}),M&&i.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-ping"}),i.jsx("span",{className:"text-xs font-bold",children:"LIVE"})]})]}),c&&M&&P>0&&i.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500 transition-all duration-1000",style:{width:`${P}%`}})}),i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg whitespace-nowrap transition-opacity duration-200 pointer-events-none z-10",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qs,{className:"w-3 h-3"}),i.jsx("span",{children:new Date(e).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(nu,{className:"w-3 h-3"}),i.jsxs("span",{children:[t,r&&` - ${r}`]})]}),g.days>=0&&i.jsxs("div",{className:"mt-1 text-gray-300",children:[g.days>0&&`${g.days} jour${g.days>1?"s":""} `,g.hours>0&&`${g.hours} heure${g.hours>1?"s":""} `,g.days===0&&g.minutes>0&&`${g.minutes} minute${g.minutes>1?"s":""}`]})]})]})},SCe=e=>i.jsx("div",{className:"group relative inline-block",children:i.jsx(NCe,{...e})});function Nn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ec(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Hl(e,t){const r=Nn(e);return isNaN(t)?Ec(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Bd(e,t){const r=Nn(e);if(isNaN(t))return Ec(e,NaN);if(!t)return r;const n=r.getDate(),s=Ec(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const iR=6048e5,CCe=864e5,CB=6e4,ACe=36e5,AB=525600,kB=43200,EB=1440;let kCe={};function uy(){return kCe}function Wf(e,t){var l,c,d,f;const r=uy(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Nn(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pg(e){return Wf(e,{weekStartsOn:1})}function Ete(e){const t=Nn(e),r=t.getFullYear(),n=Ec(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Pg(n),a=Ec(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Pg(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function hx(e){const t=Nn(e);return t.setHours(0,0,0,0),t}function mx(e){const t=Nn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Pd(e,t){const r=hx(e),n=hx(t),s=+r-mx(r),a=+n-mx(n);return Math.round((s-a)/CCe)}function ECe(e){const t=Ete(e),r=Ec(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pg(r)}function CP(e,t){const r=t*7;return Hl(e,r)}function TCe(e,t){return Bd(e,t*12)}function PCe(e){let t;return e.forEach(function(r){const n=Nn(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function OCe(e){let t;return e.forEach(r=>{const n=Nn(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function FCe(e,t){const r=Nn(e),n=Nn(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function DCe(e){return Ec(e,Date.now())}function bc(e,t){const r=hx(e),n=hx(t);return+r==+n}function oR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function RCe(e){if(!oR(e)&&typeof e!="number")return!1;const t=Nn(e);return!isNaN(Number(t))}function pw(e,t){const r=Nn(e),n=Nn(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function MCe(e,t,r){const n=Wf(e,r),s=Wf(t,r),a=+n-mx(n),o=+s-mx(s);return Math.round((a-o)/iR)}function ICe(e,t){const r=Nn(e),n=Nn(t),s=TB(r,n),a=Math.abs(Pd(r,n));r.setDate(r.getDate()-s*a);const o=+(TB(r,n)===-s),l=s*(a-o);return l===0?0:l}function TB(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Tte(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function LCe(e,t){return+Nn(e)-+Nn(t)}function $Ce(e,t,r){const n=LCe(e,t)/ACe;return Tte(r==null?void 0:r.roundingMethod)(n)}function lR(e){const t=Nn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function BCe(e,t){const r=Nn(e.start),n=Nn(e.end);let s=+r>+n;const a=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0);let l=(t==null?void 0:t.step)??1;if(!l)return[];l<0&&(l=-l,s=!s);const c=[];for(;+o<=a;)c.push(Nn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}function kc(e){const t=Nn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pte(e){const t=Nn(e),r=Ec(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cR(e,t){var l,c,d,f;const r=uy(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Nn(e),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function Ote(e){return cR(e,{weekStartsOn:1})}const zCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UCe=(e,t,r)=>{let n;const s=zCe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function L1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const VCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HCe={date:L1({formats:VCe,defaultWidth:"full"}),time:L1({formats:qCe,defaultWidth:"full"}),dateTime:L1({formats:WCe,defaultWidth:"full"})},GCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KCe=(e,t,r,n)=>GCe[e];function Nf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const YCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tAe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rAe={ordinalNumber:tAe,era:Nf({values:YCe,defaultWidth:"wide"}),quarter:Nf({values:XCe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nf({values:JCe,defaultWidth:"wide"}),day:Nf({values:ZCe,defaultWidth:"wide"}),dayPeriod:Nf({values:QCe,defaultWidth:"wide",formattingValues:eAe,defaultFormattingWidth:"wide"})};function Sf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?aAe(l,h=>h.test(o)):nAe(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function nAe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function aAe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Fte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const sAe=/^(\d+)(th|st|nd|rd)?/i,iAe=/\d+/i,oAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lAe={any:[/^b/i,/^(a|c)/i]},cAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uAe={any:[/1/i,/2/i,/3/i,/4/i]},dAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vAe={ordinalNumber:Fte({matchPattern:sAe,parsePattern:iAe,valueCallback:e=>parseInt(e,10)}),era:Sf({matchPatterns:oAe,defaultMatchWidth:"wide",parsePatterns:lAe,defaultParseWidth:"any"}),quarter:Sf({matchPatterns:cAe,defaultMatchWidth:"wide",parsePatterns:uAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sf({matchPatterns:dAe,defaultMatchWidth:"wide",parsePatterns:fAe,defaultParseWidth:"any"}),day:Sf({matchPatterns:hAe,defaultMatchWidth:"wide",parsePatterns:mAe,defaultParseWidth:"any"}),dayPeriod:Sf({matchPatterns:pAe,defaultMatchWidth:"any",parsePatterns:gAe,defaultParseWidth:"any"})},uR={code:"en-US",formatDistance:UCe,formatLong:HCe,formatRelative:KCe,localize:rAe,match:vAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xAe(e){const t=Nn(e);return Pd(t,Pte(t))+1}function Dte(e){const t=Nn(e),r=+Pg(t)-+ECe(t);return Math.round(r/iR)+1}function Rte(e,t){var f,h,v,g;const r=Nn(e),n=r.getFullYear(),s=uy(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(v=s.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ec(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Wf(o,t),c=Ec(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Wf(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function yAe(e,t){var l,c,d,f;const r=uy(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=Rte(e,t),a=Ec(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Wf(a,t)}function Mte(e,t){const r=Nn(e),n=+Wf(r,t)-+yAe(r,t);return Math.round(n/iR)+1}function Xa(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Im={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Xa(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Xa(r+1,2)},d(e,t){return Xa(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Xa(e.getHours()%12||12,t.length)},H(e,t){return Xa(e.getHours(),t.length)},m(e,t){return Xa(e.getMinutes(),t.length)},s(e,t){return Xa(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Xa(s,t.length)}},Vv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PB={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Im.y(e,t)},Y:function(e,t,r,n){const s=Rte(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Xa(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Xa(a,t.length)},R:function(e,t){const r=Ete(e);return Xa(r,t.length)},u:function(e,t){const r=e.getFullYear();return Xa(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Xa(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Xa(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Im.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Xa(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Mte(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Xa(s,t.length)},I:function(e,t,r){const n=Dte(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Xa(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Im.d(e,t)},D:function(e,t,r){const n=xAe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xa(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Xa(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Xa(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Xa(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Vv.noon:n===0?s=Vv.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Vv.evening:n>=12?s=Vv.afternoon:n>=4?s=Vv.morning:s=Vv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Im.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Im.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xa(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xa(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Im.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Im.s(e,t)},S:function(e,t){return Im.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return FB(n);case"XXXX":case"XX":return V0(n);case"XXXXX":case"XXX":default:return V0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return FB(n);case"xxxx":case"xx":return V0(n);case"xxxxx":case"xxx":default:return V0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+OB(n,":");case"OOOO":default:return"GMT"+V0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+OB(n,":");case"zzzz":default:return"GMT"+V0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Xa(n,t.length)},T:function(e,t,r){const n=e.getTime();return Xa(n,t.length)}};function OB(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Xa(a,2)}function FB(e,t){return e%60===0?(e>0?"-":"+")+Xa(Math.abs(e)/60,2):V0(e,t)}function V0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Xa(Math.trunc(n/60),2),a=Xa(n%60,2);return r+s+t+a}const DB=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ite=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return DB(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",DB(n,t)).replace("{{time}}",Ite(s,t))},wAe={p:Ite,P:bAe},_Ae=/^D+$/,jAe=/^Y+$/,NAe=["D","DD","YY","YYYY"];function SAe(e){return _Ae.test(e)}function CAe(e){return jAe.test(e)}function AAe(e,t,r){const n=kAe(e,t,r);if(console.warn(n),NAe.includes(e))throw new RangeError(n)}function kAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PAe=/^'([^]*?)'?$/,OAe=/''/g,FAe=/[a-zA-Z]/;function Gn(e,t,r){var f,h,v,g,_,y,j,w;const n=uy(),s=(r==null?void 0:r.locale)??n.locale??uR,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(v=n.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((y=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((w=(j=n.locale)==null?void 0:j.options)==null?void 0:w.weekStartsOn)??0,l=Nn(e);if(!RCe(l))throw new RangeError("Invalid time value");let c=t.match(TAe).map(C=>{const k=C[0];if(k==="p"||k==="P"){const T=wAe[k];return T(C,s.formatLong)}return C}).join("").match(EAe).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const k=C[0];if(k==="'")return{isToken:!1,value:DAe(C)};if(PB[k])return{isToken:!0,value:C};if(k.match(FAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:C}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(C=>{if(!C.isToken)return C.value;const k=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&CAe(k)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&SAe(k))&&AAe(k,t,String(e));const T=PB[k[0]];return T(l,k,s.localize,d)}).join("")}function DAe(e){const t=e.match(PAe);return t?t[1].replace(OAe,"'"):e}function RAe(e,t,r){const n=uy(),s=(r==null?void 0:r.locale)??n.locale??uR,a=FCe(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=Nn(t),c=Nn(e)):(l=Nn(e),c=Nn(t));const d=Tte((r==null?void 0:r.roundingMethod)??"round"),f=c.getTime()-l.getTime(),h=f/CB,v=mx(c)-mx(l),g=(f-v)/CB,_=r==null?void 0:r.unit;let y;if(_?y=_:h<1?y="second":h<60?y="minute":h<EB?y="hour":g<kB?y="day":g<AB?y="month":y="year",y==="second"){const j=d(f/1e3);return s.formatDistance("xSeconds",j,o)}else if(y==="minute"){const j=d(h);return s.formatDistance("xMinutes",j,o)}else if(y==="hour"){const j=d(h/60);return s.formatDistance("xHours",j,o)}else if(y==="day"){const j=d(g/EB);return s.formatDistance("xDays",j,o)}else if(y==="month"){const j=d(g/kB);return j===12&&_!=="month"?s.formatDistance("xYears",1,o):s.formatDistance("xMonths",j,o)}else{const j=d(g/AB);return s.formatDistance("xYears",j,o)}}function MAe(e,t){return RAe(e,DCe(e),t)}function IAe(e){const t=Nn(e),r=t.getFullYear(),n=t.getMonth(),s=Ec(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function LAe(e){return Math.trunc(+Nn(e)/1e3)}function $Ae(e){const t=Nn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function BAe(e,t){return MCe($Ae(e),kc(e),t)+1}function AP(e,t){const r=Nn(e),n=Nn(t);return r.getTime()>n.getTime()}function Lte(e,t){const r=Nn(e),n=Nn(t);return+r<+n}function dR(e,t){const r=Nn(e),n=Nn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function zAe(e,t){const r=Nn(e),n=Nn(t);return r.getFullYear()===n.getFullYear()}function w2(e,t){return Hl(e,-t)}function SE(e,t){const r=Nn(e),n=r.getFullYear(),s=r.getDate(),a=Ec(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=IAe(a);return r.setMonth(t,Math.min(s,o)),r}function UAe(e,t){const r=Nn(e);return r.setDate(t),r}function RB(e,t){const r=Nn(e);return isNaN(+r)?Ec(e,NaN):(r.setFullYear(t),r)}const VAe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},qAe=(e,t,r)=>{let n;const s=VAe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},WAe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},HAe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},GAe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KAe={date:L1({formats:WAe,defaultWidth:"full"}),time:L1({formats:HAe,defaultWidth:"full"}),dateTime:L1({formats:GAe,defaultWidth:"full"})},YAe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},XAe=(e,t,r,n)=>YAe[e],JAe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},ZAe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},QAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},eke={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},tke={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},rke=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const s=["year","week","hour","minute","second"];let a;return r===1?a=n&&s.includes(n)?"re":"er":a="me",r+a},nke=["MMM","MMMM"],ake={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&nke.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:rke,era:Nf({values:JAe,defaultWidth:"wide"}),quarter:Nf({values:ZAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nf({values:QAe,defaultWidth:"wide"}),day:Nf({values:eke,defaultWidth:"wide"}),dayPeriod:Nf({values:tke,defaultWidth:"wide"})},ske=/^(\d+)(ime|re|me|er|e)?/i,ike=/\d+/i,oke={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},lke={any:[/^av/i,/^ap/i]},cke={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},uke={any:[/1/i,/2/i,/3/i,/4/i]},dke={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},fke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},hke={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},mke={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},pke={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},gke={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},vke={ordinalNumber:Fte({matchPattern:ske,parsePattern:ike,valueCallback:e=>parseInt(e)}),era:Sf({matchPatterns:oke,defaultMatchWidth:"wide",parsePatterns:lke,defaultParseWidth:"any"}),quarter:Sf({matchPatterns:cke,defaultMatchWidth:"wide",parsePatterns:uke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sf({matchPatterns:dke,defaultMatchWidth:"wide",parsePatterns:fke,defaultParseWidth:"any"}),day:Sf({matchPatterns:hke,defaultMatchWidth:"wide",parsePatterns:mke,defaultParseWidth:"any"}),dayPeriod:Sf({matchPatterns:pke,defaultMatchWidth:"any",parsePatterns:gke,defaultParseWidth:"any"})},Wo={code:"fr",formatDistance:qAe,formatLong:KAe,formatRelative:XAe,localize:ake,match:vke,options:{weekStartsOn:1,firstWeekContainsDate:4}},uC=({event:e,onClick:t,isUnlocked:r})=>{const n=on(),{user:s}=Pr(),a=s&&e.organizer_id===s.id,o=new Date;o.setDate(o.getDate()-1);const l=new Date(e.created_at)>o,c=g=>g?new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date non spcifie",d=g=>{g.stopPropagation(),n("/boost",{state:{preselectedContent:`event_${e.id}`}})},h=(g=>{if(!g)return null;const _=new Date,y=new Date(g);if(_>y)return"Termin";const j=ICe(y,_),w=$Ce(y,_);return j>0?`J-${j}`:w>0?`${w}h restantes`:MAe(y,{locale:Wo,addSuffix:!0})})(e.promotion_end),v=e.event_type==="protected"&&!r;return i.jsxs(wt.div,{whileHover:{y:-4},transition:{duration:.2},className:"cursor-pointer h-full group flex flex-col",onClick:t,children:[i.jsxs(at,{className:"h-full card-hover glass-effect border-border/20 overflow-hidden flex flex-col flex-grow",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-full h-48 bg-muted-foreground/20",children:i.jsx("img",{className:`w-full h-48 object-cover transition-all duration-300 ${v?"blur-sm group-hover:blur-none":""}`,alt:`Image de l'vnement ${e.title}`,src:e.cover_image||"https://images.unsplash.com/photo-1703269074563-938cdd3a40e5"})}),i.jsx(SCe,{eventDate:e.event_date}),i.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 items-end",children:[e.is_promoted&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(nr,{className:"gradient-gold text-background border-0",children:"Sponsoris"}),h&&i.jsxs(nr,{variant:"secondary",className:"bg-orange-500/20 text-orange-300 border-orange-400/30",children:[i.jsx(nu,{className:"w-3 h-3 mr-1"}),h]})]}),l&&!e.is_promoted&&i.jsxs(nr,{variant:"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-400/30",children:[i.jsx(pi,{className:"w-3 h-3 mr-1"}),"Nouveau"]})]}),v&&i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-center p-4 backdrop-blur-sm group-hover:backdrop-blur-none transition-all duration-300",children:[i.jsx(Wh,{className:"w-10 h-10 text-primary mb-2"}),i.jsx("h3",{className:"font-bold text-lg text-white",children:"vnement Protg"}),i.jsxs("p",{className:"text-sm text-yellow-300 flex items-center gap-1",children:[i.jsx(dn,{className:"w-4 h-4"})," 2 pour dbloquer"]})]})]}),i.jsxs(st,{className:"p-4 flex-grow flex flex-col justify-between",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{children:i.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2",children:e.title})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[i.jsx(qs,{className:"w-4 h-4 mr-2 text-primary"}),c(e.event_date)]}),i.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[i.jsx(wo,{className:"w-4 h-4 mr-2 text-primary"}),v?`${e.city}, ${e.country}`:e.location||`${e.city}, ${e.country}`]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/20 mt-3",children:[i.jsx(nr,{variant:"outline",className:"border-primary/50 text-primary",children:e.category_name||e.event_type}),i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(Ga,{className:"w-3 h-3 mr-1"}),e.interactions_count||0," intresss"]})]})]})]}),a&&!e.is_promoted&&i.jsxs(Ee,{onClick:d,variant:"premium",size:"sm",className:"mt-2 w-full",children:[i.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Promouvoir"]})]})};class xke{async detectUserLocation(){return new Promise(t=>{if(!navigator.geolocation){console.warn("La golocalisation n'est pas supporte par ce navigateur."),t({city:"Abidjan",country:"Cte d'Ivoire"});return}navigator.geolocation.getCurrentPosition(async r=>{try{const{latitude:n,longitude:s}=r.coords,o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${s}`)).json();if(o.address){const l=o.address.city||o.address.town||o.address.village,c=o.address.country;t({city:l,country:c})}else t({city:"Abidjan",country:"Cte d'Ivoire"})}catch(n){console.error("Erreur lors de la rcupration de l'adresse:",n),t({city:"Abidjan",country:"Cte d'Ivoire"})}},r=>{console.warn("Erreur de golocalisation:",r.message),t({city:"Abidjan",country:"Cte d'Ivoire"})})})}async getLocalEvents(t,r){if(!t||!r)return[];try{const{data:n,error:s}=await Oe.from("events").select("*, organizer:organizer_id(full_name)").eq("city",t).eq("country",r).eq("status","active").order("created_at",{ascending:!1});if(s)throw s;return n||[]}catch(n){return console.error("Erreur lors de la rcupration des vnements locaux:",n.message),[]}}}const yke=new xke,bke=()=>{var B,V;const[e,t]=b.useState([]),[r,n]=b.useState(new Set),[s,a]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(null),{user:f}=Pr(),{userProfile:h,forceRefreshUserProfile:v,adminConfig:g}=Un(),{toast:_}=Ti(),y=on(),[j,w]=b.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),[C,k]=b.useState(!1),T=b.useCallback(async(U,q)=>{a(!0),l(null);try{const{data:re,error:H}=await Oe.rpc("search_events_for_card",{p_cities:[U]}).limit(4);if(H)throw H;t(re)}catch(re){console.error("Erreur lors de la rcupration des vnements locaux:",re),l("Impossible de charger les vnements locaux pour le moment."),t([])}finally{a(!1)}},[]),P=b.useCallback(async()=>{if(f)try{const{data:U,error:q}=await Oe.from("protected_event_access").select("event_id").eq("user_id",f.id).eq("status","active");if(q)throw q;n(new Set(U.map(re=>re.event_id)))}catch(U){console.error("Error fetching unlocked events:",U)}},[f]);b.useEffect(()=>{(async()=>{let q;h&&h.city&&h.country?q={city:h.city,country:h.country}:q=await yke.detectUserLocation(),q.city&&q.country?(d(q),T(q.city,q.country)):(a(!1),l("Impossible de dterminer votre position.")),P()})()},[h,T,P]);const D=async U=>{await ws.handleAction({userId:f.id,requiredCoins:2,onSuccess:async()=>{try{const{data:re,error:H}=await Oe.rpc("access_protected_event",{p_event_id:U.id,p_user_id:f.id});if(H)throw H;if(!re.success)throw new Error(re.message);_({title:"Contenu dbloqu!",description:"Vous avez dpens 2 pices."}),v(),n(X=>new Set(X).add(U.id)),y(`/event/${U.id}`)}catch(re){_({title:"Erreur",description:re.message,variant:"destructive"})}},onInsufficientBalance:()=>k(!0)})},M=U=>{const q=U.id||U.event_id;if(!f){_({title:"Connexion requise",description:"Vous devez tre connect pour voir les dtails.",variant:"destructive"}),y("/auth");return}const re=h&&["super_admin","admin","secretary"].includes(h.user_type),H=r.has(q)||U.organizer_id===(f==null?void 0:f.id)||re;if(U.event_type==="protected"&&!H){const Q=2*((g==null?void 0:g.coin_to_fcfa_rate)||10);w({isOpen:!0,event:{...U,id:q},cost:2,costFcfa:Q,onConfirm:()=>D({...U,id:q})})}else y(`/event/${q}`)},I=b.useMemo(()=>e,[e]);return s?i.jsxs("section",{className:"mb-12",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading",children:[i.jsx(wo,{className:"mr-2 text-primary"}),"vnements  proximit"]})}),i.jsx("div",{className:"flex justify-center items-center h-48 bg-card rounded-lg border border-border",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})})]}):o?i.jsxs("section",{className:"mb-12",children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading mb-4",children:[i.jsx(wo,{className:"mr-2 text-primary"}),"vnements  ",(c==null?void 0:c.city)||"proximit"]}),i.jsxs("div",{className:"text-center py-16 bg-card rounded-lg border-dashed border-destructive/50",children:[i.jsx(Qge,{className:"w-16 h-16 text-destructive/50 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-destructive mb-2",children:"Oops! Une erreur est survenue."}),i.jsx("p",{className:"text-muted-foreground",children:o})]})]}):e.length===0?null:i.jsxs(wt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-12",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading",children:[i.jsx(wo,{className:"mr-2 text-primary"})," la une  ",c==null?void 0:c.city]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:I.map(U=>{const q=h&&["super_admin","admin","secretary"].includes(h.user_type),re=U.id||U.event_id,H=r.has(re)||f&&U.organizer_id===f.id||q;return i.jsx(uC,{event:{...U,id:re},onClick:()=>M(U),isUnlocked:H},re)})}),i.jsx(Kd,{isOpen:C,onClose:()=>k(!1),onProceed:()=>{k(!1),y("/wallet")}}),i.jsx(jo,{open:j.isOpen,onOpenChange:U=>!U&&w({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Dbloquer cet vnement ?"}),i.jsx(Ji,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[i.jsx(dn,{className:"w-12 h-12 text-primary mb-4"}),i.jsxs("p",{className:"text-lg",children:['Voir les dtails de "',(B=j.event)==null?void 0:B.title,'" vous cotera ',i.jsxs("strong",{className:"text-foreground",children:[j.cost,""]})," (",(V=j.costFcfa)==null?void 0:V.toLocaleString("fr-FR")," FCFA)."]}),i.jsxs("div",{className:"mt-4 text-xs text-muted-foreground p-2 bg-muted rounded flex items-start gap-2",children:[i.jsx(cu,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Votre action permet aux organisateurs de crer plus de contenu. Vous pouvez aussi devenir organisateur en postant des contenus pour bnficier de la rmunration sur BonPlanInfos."})]})]})})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:j.onConfirm,children:"Confirmer et Payer"})]})]})})]})},wke=()=>{var U,q;const e=on(),t=Tl(),{t:r}=Dn(),{userProfile:n,adminConfig:s,forceRefreshUserProfile:a,hasFetchError:o}=Un(),{user:l}=Pr(),[c,d]=b.useState([]),[f,h]=b.useState(!0),[v,g]=b.useState(new Set),[_,y]=b.useState(!1),[j,w]=b.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),[C,k]=b.useState(!1),T=b.useCallback(async()=>{if(o){h(!1);return}h(!0);try{const{data:re,error:H}=await Oe.from("event_promotions").select(`
                    *,
                    event:event_id (
                        *,
                        organizer:organizer_id(full_name),
                        category:category_id(name, slug)
                    ),
                    promotion_pack:promotion_pack_id(name)
                `).eq("status","active").gt("end_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(8);if(H)throw H;const X=re.filter(Q=>Q.event).map(Q=>{var se,te,ce,xe;return{...Q.event,promotion_id:Q.id,is_promoted:!0,promotion_end:Q.end_date,pack_name:((se=Q.promotion_pack)==null?void 0:se.name)||"Pack Promotion",category_name:(te=Q.event.category)==null?void 0:te.name,category_slug:(ce=Q.event.category)==null?void 0:ce.slug,organizer_name:(xe=Q.event.organizer)==null?void 0:xe.full_name}});if(d(X||[]),l){const{data:Q,error:se}=await Oe.from("protected_event_access").select("event_id").eq("user_id",l.id).eq("status","active");se?console.error("Error fetching unlocked events:",se):g(new Set(Q.map(te=>te.event_id)))}}catch(re){console.error("Error fetching promoted events:",re),ze({title:r("common.error_title"),description:r("home_page.loading_error.description"),variant:"destructive"})}finally{h(!1)}},[o,l,r]);b.useEffect(()=>{const re=()=>{if(!Xee.includes(t.pathname))return!1;const Q=localStorage.getItem(`promoBannerLastClosed_${t.pathname}`);if(Q&&Date.now()-parseInt(Q)<27e5)return!1;const se=t.pathname==="/"?.6:.4;return Math.random()<se},H=setTimeout(()=>{re()&&k(!0)},3e3);return()=>clearTimeout(H)},[t.pathname]);const P=()=>{k(!1),localStorage.setItem(`promoBannerLastClosed_${t.pathname}`,Date.now().toString())};b.useEffect(()=>{T()},[T]);const D=async re=>{if(!l){e("/auth");return}const H=2;await ws.handleAction({userId:l.id,requiredCoins:H,onSuccess:async()=>{try{const{data:X,error:Q}=await Oe.rpc("access_protected_event",{p_event_id:re.id,p_user_id:l.id},{method:"POST"});if(Q)throw Q;if(!X.success)throw new Error(X.message);g(se=>new Set(se).add(re.id)),await(a==null?void 0:a()),ze({title:r("events_page.unlock_modal.success_title"),description:r("events_page.unlock_modal.success_desc",{title:re.title})}),e(`/event/${re.id}`)}catch(X){ze({title:r("common.error_title"),description:X.message,variant:"destructive"})}},onInsufficientBalance:()=>y(!0)})},M=async re=>{if(!l){e("/auth");return}const H=n&&["super_admin","admin","secretary"].includes(n.user_type),X=v.has(re.id)||re.organizer_id===l.id||H;if(re.event_type==="protected"&&!X){const se=2*((s==null?void 0:s.coin_to_fcfa_rate)||10);w({isOpen:!0,event:re,cost:2,costFcfa:se,onConfirm:()=>D(re)})}else e(`/event/${re.id}`)},I=()=>{y(!1),e("/wallet")},B=()=>{window.location.reload()},V=n&&["organizer","admin","super_admin"].includes(n.user_type);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[r("nav.home")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:r("footer.tagline")})]}),C&&i.jsx(Jee,{userProfile:n,onClose:P}),!o&&i.jsx(Ate,{}),!o&&i.jsx(_Ce,{}),i.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[i.jsx(jCe,{}),i.jsx(bke,{}),i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"my-12",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-4",children:[i.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[i.jsx(Wi,{className:"text-primary"}),r("home_page.sponsored_events")]}),V&&i.jsxs(Ee,{onClick:()=>e("/boost"),variant:"premium",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"}),r("home_page.boost_event")]})]}),o?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Ql,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-destructive mb-2",children:r("home_page.loading_error.title")}),i.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:r("home_page.loading_error.description")}),i.jsxs(Ee,{onClick:B,children:[i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),r("common.retry")]})]}):f?i.jsxs("div",{className:"text-center text-muted-foreground mt-8 flex items-center justify-center",children:[i.jsx(Dt,{className:"w-6 h-6 animate-spin mr-2"}),r("common.loading")]}):c.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(re=>i.jsx(uC,{event:re,isUnlocked:v.has(re.id)||l&&re.organizer_id===l.id||n&&["super_admin","admin","secretary"].includes(n.user_type),onClick:()=>M(re)},re.id))}):i.jsxs("div",{className:"text-center py-16 bg-card/50 rounded-lg border border-dashed border-border",children:[i.jsx(Wi,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:r("home_page.no_sponsored_events.title")}),i.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:r("home_page.no_sponsored_events.description")}),V&&i.jsxs(Ee,{onClick:()=>e("/boost"),variant:"premium",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"}),r("home_page.no_sponsored_events.button")]})]})]}),i.jsx("div",{className:"mt-12 text-center",children:i.jsxs(Ee,{variant:"outline",onClick:()=>e("/events"),children:[r("home_page.view_all_events"),i.jsx(dN,{className:"w-4 h-4 ml-2"})]})})]}),i.jsx(Kd,{isOpen:_,onClose:()=>y(!1),onProceed:I}),i.jsx(jo,{open:j.isOpen,onOpenChange:re=>!re&&w({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:r("events_page.unlock_modal.title")}),i.jsx(Ji,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[i.jsx(dn,{className:"w-12 h-12 text-primary mb-4"}),i.jsx("p",{className:"text-lg",children:r("events_page.unlock_modal.description",{title:(U=j.event)==null?void 0:U.title,cost:j.cost,costFcfa:(q=j.costFcfa)==null?void 0:q.toLocaleString("fr-FR")})}),i.jsxs("div",{className:"mt-4 text-xs text-muted-foreground p-2 bg-muted rounded flex items-start gap-2",children:[i.jsx(cu,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:r("events_page.unlock_modal.info")})]})]})})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:r("common.cancel")}),i.jsx(Zi,{onClick:j.onConfirm,children:r("common.confirm")})]})]})})]})},vt=Se.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Ht("flex h-11 w-full rounded-md border border-input bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));vt.displayName="Input";var _ke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jke=_ke.reduce((e,t)=>{const r=P3(`Primitive.${t}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Nke="Label",$te=b.forwardRef((e,t)=>i.jsx(jke.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$te.displayName=Nke;var Bte=$te;const Ske=Xg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=Se.forwardRef(({className:e,...t},r)=>i.jsx(Bte,{ref:r,className:Ht(Ske(),e),...t}));Qe.displayName=Bte.displayName;const I_=[{code:"DZ",name:"Algrie"},{code:"AO",name:"Angola"},{code:"BJ",name:"Bnin"},{code:"BW",name:"Botswana"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"CM",name:"Cameroun"},{code:"CV",name:"Cap-Vert"},{code:"CF",name:"Rpublique centrafricaine"},{code:"TD",name:"Tchad"},{code:"KM",name:"Comores"},{code:"CG",name:"Rpublique du Congo"},{code:"CD",name:"Rpublique dmocratique du Congo"},{code:"CI",name:"Cte d'Ivoire"},{code:"DJ",name:"Djibouti"},{code:"EG",name:"gypte"},{code:"GQ",name:"Guine quatoriale"},{code:"ER",name:"rythre"},{code:"SZ",name:"Eswatini"},{code:"ET",name:"thiopie"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambie"},{code:"GH",name:"Ghana"},{code:"GN",name:"Guine"},{code:"GW",name:"Guine-Bissau"},{code:"KE",name:"Kenya"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Libria"},{code:"LY",name:"Libye"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"ML",name:"Mali"},{code:"MR",name:"Mauritanie"},{code:"MU",name:"Maurice"},{code:"MA",name:"Maroc"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibie"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigria"},{code:"RW",name:"Rwanda"},{code:"ST",name:"Sao Tom-et-Principe"},{code:"SN",name:"Sngal"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SO",name:"Somalie"},{code:"ZA",name:"Afrique du Sud"},{code:"SS",name:"Soudan du Sud"},{code:"SD",name:"Soudan"},{code:"TZ",name:"Tanzanie"},{code:"TG",name:"Togo"},{code:"TN",name:"Tunisie"},{code:"UG",name:"Ouganda"},{code:"ZM",name:"Zambie"},{code:"ZW",name:"Zimbabwe"}],px={Algrie:["Alger","Oran","Constantine","Annaba","Blida","Batna","Djelfa","Stif","Sidi Bel Abbs","Biskra","Tbessa","Tiaret","Ouargla","Mostaganem","Tlemcen","Bjaa","Skikda","El Eulma","Mda","Chlef","Ghardaa","Tamanrasset","Adrar","Laghouat","Oum El Bouaghi"],Angola:["Luanda","Huambo","Lobito","Benguela","Lubango","Malanje","Namibe","Soyo","Cabinda","Uge","Sumbe","Menongue","Dundo","Ndalatando","Mbanza Kongo","Luena","Saurimo","Kuito","Caxito","Ondjiva","Catumbela","Camacupa","Waku-Kungo","Gabela","Caconda"],Bnin:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Abomey","Natitingou","Lokossa","Ouidah","Abomey-Calavi","Savalou","Sakt","Kandi","Malanville","Pob","Com","Dogbo-Tota","Sav","Tchaourou","Tanguita","Nikki","Aplahou","Dassa-Zoum","Grand-Popo","Ktou"],Botswana:["Gaborone","Francistown","Molepolole","Maun","Serowe","Selibe Phikwe","Kanye","Mahalapye","Mochudi","Mogoditshane","Palapye","Lobatse","Ramotswa","Thamaga","Moshupa","Jwaneng","Ghanzi","Kasane","Orapa","Tlokweng","Letlhakane","Shoshong","Tonota","Tutume","Gumare"],"Burkina Faso":["Ouagadougou","Bobo-Dioulasso","Ddougou","Nouna","Solenzo","Toma","Tougan","Banfora","Sindou","Tenkodogo","Kaya","Kongoussi","Boulsa","Koudougou","Manga","Lo","Kombissiri","P","Diapaga","Pama","Fada N'Gourma","Gayeri","Bogand","Orodara","Hound","Ouahigouya","Titao","Gourcy","Yako","Zorgho","Bouss","Ziniar","Dori","Sebba","Gorom-Gorom","Djibo","Aribinda","Gaoua","Dano","Bati","Dibougou","Saaba","Pabr","Koubri","Komsilga","Tanghin-Dassouri","Baskuy","Boulmiougou","Sig-Nonghin","Nioko II","Garango","Bittou","Koupla","Pouytenga","Barsalogho","Pissila","Sourgoubila","R","Sapon","Loumbila","Kampti","Loropeni","Markoye"],Burundi:["Bujumbura","Gitega","Muyinga","Ngozi","Ruyigi","Kayanza","Bururi","Rutana","Makamba","Muramvya","Cibitoke","Bubanza","Karuzi","Cankuzo","Kirundo","Rumonge","Mwaro","Isale","Gatumba","Kabezi","Gisuru","Mabanda","Gihofi","Bugendana","Matana"],Cameroun:["Yaound","Douala","Garoua","Bamenda","Maroua","Bafoussam","Ngaoundr","Bertoua","Ebolowa","Kribi","Kumba","Limbe","Eda","Nkongsamba","Mbouda","Loum","Tiko","Sangmlima","Bafia","Guider","Meiganga","Yagoua","Koussri","Foumban","Dschang","Buea","Mamfe","Fontem","Wum","Banyo","Batouri","Mokolo","Ndop","Muyuka","Foumbot","Baham","Bangangt","Banyo","Bali","Foumban","Fundong","Mbouda","Tibati","Mbalmayo","Eska","Nkondjock","Nkongsamba","Loum","Nkongsamba"],"Cap-Vert":["Praia","Mindelo","Santa Maria","Assomada","Porto Novo","So Filipe","Tarrafal","Espargos","Pedra Badejo","Cidade Velha","Sal Rei","Vila do Maio","Ribeira Brava","Pombas","Calheta de So Miguel","Mosteiros","Tarrafal de So Nicolau","Ribeira Grande","Picos","So Domingos","Nova Sintra","Ribeira da Barca","Ponta do Sol","Vila Nova Sintra","Igreja"],"Rpublique centrafricaine":["Bangui","Bimbo","Berbrati","Carnot","Bambari","Bouar","Bossangoa","Bria","Bangassou","Nola","Kaga-Bandoro","Mbaki","Bozoum","Paoua","Batangafo","Alindao","Sibut","Zinga","Ippy","Mobaye","Obo","N'Dl","Birao","Damara","Bouca"],Tchad:["N'Djamena","Moundou","Sarh","Abch","Klo","Koumra","Pala","Am Timan","Bongor","Mongo","Doba","Ati","La","Oum Hadjer","Bitkine","Mao","Faya-Largeau","Bol","Moussoro","Massakory","Biltine","Adr","Goz Beda","Massaguet","Bokoro"],Comores:["Moroni","Mutsamudu","Fomboni","Domoni","Tsimbeo","Adda-Douni","Mirontsi","Ouani","Moya","Iconi","Dembni","Sima","Miringoni","Chandra","Bambao","Hajoho","Itsandra","Nioumachoua","Sada","Vouvouni","Itsinkoudi","Ouzini","Jimlimi","Panda","Mitsamiouli"],"Rpublique du Congo":["Brazzaville","Pointe-Noire","Dolisie","Nkayi","Impfondo","Ouesso","Madingou","Owando","Gamboma","Mossendjo","Kayes","Djambala","Sibiti","Loudima","Makoua","Ewo","Kinkala","Boundji","Mindouli","Loutt","Oyo","Pokola","Semb","Lkana","Komono"],"Rpublique dmocratique du Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Goma","Kolwezi","Matadi","Likasi","Boma","Tshikapa","Beni","Butembo","Mbandaka","Kikwit","Uvira","Mwene-Ditu","Isiro","Bunia","Gemena","Bandundu","Ilebo","Kalemie","Kindu"],"Cte d'Ivoire":["Abidjan","Cocody","Yopougon","Abobo","Marcory","Koumassi","Treichville","Plateau","Port-Bout","Attcoub","Adjam","Songon","Yamoussoukro","Bouak","Daloa","Korhogo","San-Pdro","Man","Gagnoa","Divo","Abengourou","Anyama","Aboisso","Soubr","Agboville","Dimbokro","Bondoukou","Ferkessdougou","Odienn","Sgula","Toumodi","Danan","Guiglo","Dukou","Bangolo","Issia","Sinfra","Tiassal","Bongouanou","Jacqueville","Grand-Bassam","Grand-Lahou","Bingerville","Adzop","Magui","Vavoua","Tabou","Lakota","Zunoula","Tingrla","Bouna","Tanda","Minignan","Boundiali","Arrah","Bouafl","Katiola","Mankono","Touba","Sassandra","Facobly","Sikensi","Tibissou","Kani","Kouibly","Azagui","Botro","Prikro","Guibroua","Zikisso","Buyo","Oum","Kouassi-Kouassikro","Akoup","Bocanda","Adiak","Assinie","Fresco","Gboguh","Taabo","Niakaramadougou","Zouan-Hounien","Sipilou","Ayam","Sangouin"],Djibouti:["Djibouti","Ali Sabieh","Tadjourah","Obock","Dikhil","Arta","Ali Adde","Balho","Goumo","Holhol","Randa","Wea","Loyada","Gagade","Godoria","Markazi","Yoboki","Dorra","Galafi","As Eyla","Khor Angar","Moulhoule","Day","Bankoual","Sagallou"],gypte:["Le Caire","Alexandrie","Gizeh","Shubra El Kheima","Port-Sad","Suez","Luxor","Mansoura","Tanta","Asyut","Ismalia","Fayoum","Zagazig","Mahalla","Sohag","Hurghada","Assouan","Damanhur","Minya","Qena","Beni Suef","Sharm El Sheikh","Marsa Matruh","Damietta","Kafr El Sheikh"],"Guine quatoriale":["Malabo","Bata","Mongomo","Ebebiyin","Evinayong","Aconibe","Mikomeseng","Nsok","Riaba","Akurenam","Bikl","Cogo","Rebola","Nsang","Anisoc","Luba","Mbini","Aisoc","Oyala","Ciudad de la Paz","Niefang","Machinda","Acurenam","Corisco","Annobn"],rythre:["Asmara","Keren","Massawa","Assab","Mendefera","Barentu","Dekemhare","Adi Keyh","Teseney","Afabet","Agordat","Senafe","Nakfa","Ghinda","Oroba","Filfil","Adi Quala","Segeneiti","Ak'ordat","Nak'fa","Edd","Beilul","Thio","Foro","Zula"],Eswatini:["Mbabane","Manzini","Lobamba","Siteki","Malkerns","Piggs Peak","Nhlangano","Simunye","Lavumisa","Hlatikulu","Mhlume","Bhunya","Nsoko","Siphofaneni","Matsapha","Big Bend","Mankayane","Kubuta","Tjaneni","Hluti","Vuvulane","Ngwenya","Lomahasha","Gege","Sidvokodvo"],thiopie:["Addis-Abeba","Dire Dawa","Mekelle","Gondar","Bahir Dar","Awasa","Adama","Jimma","Harar","Dessie","Shashamane","Hawassa","Debre Birhan","Asosa","Bale Robe","Sodo","Arba Minch","Jijiga","Nekemte","Debre Markos","Axum","Lalibela","Gambela","Semera","Wolaita Sodo"],Gabon:["Libreville","Port-Gentil","Franceville","Oyem","Moanda","Lambarn","Tchibanga","Makokou","Bitam","Ndend","Mouila","Koulamoutou","Bongoville","Mayumba","Lastoursville","Mimongo","Mitzic","Lbamba","Okondja","Gamba","Ntoum","Cocobeach","Fougamou","Ombou","Boou"],Gambie:["Banjul","Serekunda","Brikama","Bakau","Farafenni","Lamin","Basse Santa Su","Kuntaur","Bansang","Janjanbureh","Gunjur","Sami","Diabugu","Juffureh","Gambissara","Sukuta","Essau","Barra","Soma","Kerewan","Brufut","Tanji","Kartong","Wassu","Kudang"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Cape Coast","Sekondi-Takoradi","Obuasi","Tema","Sunyani","Koforidua","Ho","Wa","Bolgatanga","Techiman","Tumu","Madina","Bawku","Winneba","Suhum","Aflao","Elmina","Nkawkaw","Axim","Tarkwa"],Guine:["Conakry","Nzrkor","Kankan","Kindia","Lab","Mamou","Guckdou","Bok","Coyah","Fria","Kouroussa","Dalaba","Tougu","Pita","Krouan","Yomou","Kissidougou","Siguiri","Macenta","Dabola","Forcariah","Dubrka","Tliml","Koundara","Mandiana"],"Guine-Bissau":["Bissau","Bafat","Gab","Bissor","Buba","Cacheu","Bolama","Canchungo","Bubaque","Cati","Farim","So Domingos","Cufar","Quebo","Binar","Mansa","Fulacunda","Prabis","Nhacra","Mansab","Safim","Enxud","Bambadinca","Contuboel","Pirada"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Kitale","Malindi","Naivasha","Machakos","Garissa","Kisii","Meru","Nyeri","Embu","Kakamega","Lamu","Voi","Ruiru","Kericho","Isiolo","Wajir","Mandera","Lodwar","Marsabit"],Lesotho:["Maseru","Teyateyaneng","Mafeteng","Hlotse","Mohale's Hoek","Quthing","Butha-Buthe","Mokhotlong","Thaba-Tseka","Maputsoe","Qacha's Nek","Roma","Semonkong","Matsieng","Leribe","Peka","Pitseng","Nako","Ha Mofoka","Ha Lejone","Sani Pass","Katse","Mantsonyane","Morija","Pitseng"],Libria:["Monrovia","Gbarnga","Bensonville","Buchanan","Voinjama","Harper","Zwedru","Kakata","Sanniquellie","Greenville","Ganta","Bopolu","Pleebo","Bomi Hills","Tappita","River Cess","Fish Town","Robertsport","Barclayville","Tubmanburg","Paynesville","Careysburg","Harbel","Marshall","Edina"],Libye:["Tripoli","Benghazi","Misrata","Bayda","Zawiya","Sirte","Ajdabiya","Sabha","Al Marj","Derna","Ghat","Tobruk","Yefren","Ghadames","Murzuq","Zliten","Khoms","Nalut","Jadu","Ubari","Zuwara","Gharyan","Tarhuna","Bani Walid","Al-Jufra"],Madagascar:["Antananarivo","Toamasina","Antsirabe","Fianarantsoa","Mahajanga","Toliara","Antsiranana","Ambatondrazaka","Moramanga","Betafo","Farafangana","Sambava","Vohmar","Mananjary","Ambalavao","Amparafaravola","Morondava","Ambanja","Ambositra","Ihosy","Nosy Be","Sainte Marie","Taolagnaro","Maroantsetra","Andoany"],Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Mangochi","Kasungu","Ntcheu","Karonga","Mchinji","Salima","Dedza","Nkhotakota","Balaka","Chiradzulu","Thyolo","Mwanza","Liwonde","Rumphi","Nsanje","Chitipa","Mulanje","Nkhata Bay","Mzimba","Phalombe","Dowa"],Mali:["Bamako","Sikasso","Mopti","Koutiala","Kayes","Gao","Tombouctou","Kati","Segou","San","Douentza","Kidal","Niono","Bandiagara","Markala","Bougouni","Djenn","Kolokani","Yorosso","Bla","Kita","Nara","Banamba","Kangaba","Koulikoro"],Mauritanie:["Nouakchott","Nouadhibou","Rosso","Kiffa","Kadi","Atar","Nma","Tidjikja","Boutilimit","Zourate","Maghama","Bogu","Oualata","Kobeni","Aleg","Aioun","Timbedra","Guerou","Slibaby","Akjoujt","Chinguetti","Tichitt","F'Derick","Bir Moghrein","Bassikounou"],Maurice:["Port-Louis","Beau Bassin-Rose Hill","Vacoas-Phoenix","Curepipe","Quatre Bornes","Goodlands","Triolet","Mahebourg","Flacq","Pamplemousses","Flic en Flac","Rose Belle","Souillac","Rivire du Rempart","Mapou","Grand Baie","Bel Air","Mahbourg","Port Mathurin","Centre de Flacq","Tamarin","Chamarel","Le Morne","Poste de Flacq","Trou d'Eau Douce"],Maroc:["Rabat","Casablanca","Fs","Marrakech","Mekns","Agadir","Tangier","Oujda","Kenitra","Tetouan","Safi","El Jadida","Nador","Bni Mellal","Khouribga","Settat","Laayoune","Sal","Inezgane","Taza","Essaouira","Chefchaouen","Ifrane","Ouarzazate","Dakhla"],Mozambique:["Maputo","Matola","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Xai-Xai","Pemba","Lichinga","Inhambane","Maxixe","Mocuba","Gaza","Manica","Angoche","Cuamba","Montepuez","Dondo","Vilankulo","Ponta do Ouro","Gorongosa","Ilha de Moambique","Chokwe"],Namibie:["Windhoek","Rundu","Walvis Bay","Swakopmund","Oshakati","Katima Mulilo","Oshikango","Luderitz","Otjiwarongo","Grootfontein","Mariental","Keetmanshoop","Rehoboth","Okahandja","Karasburg","Tsumeb","Gobabis","Outjo","Ongwediva","Henties Bay","Opuwo","Oranjemund","Usakos","Arandis","Karibib"],Niger:["Niamey","Zinder","Maradi","Agadez","Tahoua","Dosso","Diffa","Birni-NKonni","Gaya","Filingu","Tra","Goure","Tchintabaraden","Arlit","Say","Magaria","Madaoua","Mayahi","Dakoro","Tessaoua","Illla","Dogondoutchi","Abalak","Keita","Tillabri"],Nigria:["Lagos","Abuja","Kano","Ibadan","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Warri","Bauchi","Kaduna","Abeokuta","Onitsha","Calabar","Akure","Sokoto","Katsina","Minna","Makurdi","Owerri"],Rwanda:["Kigali","Butare","Gisenyi","Ruhengeri","Byumba","Gitarama","Kibuye","Cyangugu","Kibungo","Rwamagana","Muhanga","Ngoma","Nyagatare","Nyanza","Rusizi","Nyamata","Huye","Musanze","Rubavu","Kayonza","Gicumbi","Karongi","Nyamasheke","Rulindo","Gasabo"],"Sao Tom-et-Principe":["So Tom","Santo Amaro","Trindade","Neves","Santa Catarina","Principe","Boca de Inferno","So Joo dos Angolares","Santa Cruz","Porto Alegre","Santa Luzia","So Jos","Praia Melo","Ribeira Afonso","Diogo Vaz","Sundi","Guadalupe","Santana","Ribeira Peixe","Ponta Figo","Santo Antnio","Infante Dom Henrique","Praia das Conchas","Praia Inhame","Praia Jal"],Sngal:["Dakar","This","Saint-Louis","Kaolack","Ziguinchor","Touba","Diourbel","Tambacounda","Louga","Mbour","Kolda","Fatick","Bakel","Kdougou","Matam","Rufisque","Guinguino","Pikine","Sdhiou","Richard Toll","Joal-Fadiouth","Cap Skirring","Podor","Vlingara","Saly Portudal"],Seychelles:["Victoria","Anse Boileau","Beau Vallon","Baie Lazare","Anse Royale","Bel Ombre","Mont Fleuri","Glacis","La Digue","Anse Etoile","Grand Anse","Roche Caiman","Cascade","Port Glaud","Takamaka","Bel Air","Praslin","Au Cap","Les Mamelles","Plaisance","La Passe","Anse Volbert","Baie Sainte Anne","Anse aux Pins","Pointe La Rue"],"Sierra Leone":["Freetown","Bo","Kenema","Makeni","Koidu","Moyamba","Kabala","Bonthe","Magburaka","Pujehun","Kambia","Mattru Jong","Masiaka","Lunsar","Baiima","Kailahun","Waterloo","Goderich","Port Loko","Wellington","Tokeh","Banana Islands","Tiwai Island","Gola Rainforest National Park","Outamba-Kilimi National Park"],Somalie:["Mogadiscio","Hargeisa","Bosaso","Kismayo","Berbera","Galkayo","Baidoa","Marka","Merca","Buur Hakaba","Jowhar","Garowe","Qardho","Afgooye","Bardera","Balcad","Jamaame","Luuq","Borama","Erigavo","Las Anod","Dhusamareb","Beledweyne","Wanlaweyn","El-Wak"],"Afrique du Sud":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","Pietermaritzburg","Nelspruit","Kimberley","Polokwane","East London","Welkom","Mthatha","Rustenburg","George","Mahikeng","Soweto","Sandton","Centurion","Randburg","Stellenbosch","Paarl","Knysna","Hermanus","Franschhoek"],"Soudan du Sud":["Juba","Malakal","Wau","Yei","Bor","Rumbek","Aweil","Bentiu","Torit","Yambio","Kuajok","Melut","Pibor","Renk","Nasir","Mayom","Maridi","Kapoeta","Gogrial","Tonj","Nimule","Kaya","Raja","Terekeka","Akobo"],Soudan:["Khartoum","Omdurman","Port Sudan","Kassala","Al-Fashir","Nyala","El Obeid","Dongola","Geneina","Kosti","Ed Damer","Shendi","Atbara","Halfa","Merowe","Al Qadarif","Wad Madani","Sennar","Ad-Damazin","Rabak","Suakin","Karima","Berber","Zalingei","El-Managil"],Tanzanie:["Dar es Salaam","Dodoma","Mwanza","Arusha","Mbeya","Morogoro","Tanga","Moshi","Zanzibar City","Iringa","Tabora","Sumbawanga","Kigoma","Singida","Shinyanga","Lindi","Musoma","Songea","Bukoba","Sumbawanga","Stone Town","Nungwi","Paje","Serengeti","Ngorongoro"],Togo:["Lom","Sokod","Kara","Atakpam","Dapaong","Bassar","Anho","Tsvi","Tchamba","Vogan","Kpalim","Badou","Mango","Pagouda","Blitta","Ktao","Niamtougou","Bafilo","Cinkass","Sotouboua","Kand","Tabligbo","Nots","Togoville","Amlam"],Tunisie:["Tunis","Sfax","Sousse","Ettadhamen","Kairouan","Bizerte","Gabs","Ariana","Gafsa","El Mourouj","La Marsa","La Goulette","Monastir","Kbili","Nabeul","Sidi Bouzid","Hammamet","Djerba","Ben Arous","Mdenine","Tozeur","Douz","Matmata","Carthage","Sidi Bou Said"],Ouganda:["Kampala","Entebbe","Gulu","Jinja","Mbale","Lira","Mbarara","Masaka","Fort Portal","Soroti","Kabale","Iganga","Hoima","Tororo","Kitgum","Bushenyi","Arua","Kasese","Mukono","Wakiso","Mityana","Luwero","Masindi","Nebbi","Paidha"],Zambie:["Lusaka","Ndola","Kitwe","Livingstone","Kabwe","Chingola","Mufulira","Chipata","Kasama","Luanshya","Choma","Kalulushi","Mazabuka","Solwezi","Mongu","Kapiri Mposhi","Mansa","Monze","Mpika","Kafue","Siavonga","Chililabombwe","Mbala","Samfya","Nakonde"],Zimbabwe:["Harare","Bulawayo","Mutare","Gweru","Kwekwe","Masvingo","Chitungwiza","Kadoma","Marondera","Chegutu","Bindura","Chinhoyi","Victoria Falls","Hwange","Zvishavane","Kariba","Beitbridge","Redcliff","Rusape","Norton","Great Zimbabwe","Nyanga","Chimanimani","Gonarezhou","Mana Pools"]};function ON(e,[t,r]){return Math.min(r,Math.max(t,e))}function Cke(e){const t=Ake(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(Eke);if(c){const d=c.props.children,f=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Ake(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=Pke(s),l=Tke(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Gf(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kke=Symbol("radix.slottable");function Eke(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kke}function Tke(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Pke(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function L_(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Oke=[" ","Enter","ArrowUp","ArrowDown"],Fke=[" ","Enter"],Og="Select",[dC,fC,Dke]=Jx(Og),[dy,Gut]=eo(Og,[Dke,Up]),hC=Up(),[Rke,Hp]=dy(Og),[Mke,Ike]=dy(Og),zte=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:v,required:g,form:_}=e,y=hC(t),[j,w]=b.useState(null),[C,k]=b.useState(null),[T,P]=b.useState(!1),D=zp(d),[M,I]=_o({prop:n,defaultProp:s??!1,onChange:a,caller:Og}),[B,V]=_o({prop:o,defaultProp:l,onChange:c,caller:Og}),U=b.useRef(null),q=j?_||!!j.closest("form"):!0,[re,H]=b.useState(new Set),X=Array.from(re).map(Q=>Q.props.value).join(";");return i.jsx(I3,{...y,children:i.jsxs(Rke,{required:g,scope:t,trigger:j,onTriggerChange:w,valueNode:C,onValueNodeChange:k,valueNodeHasChildren:T,onValueNodeHasChildrenChange:P,contentId:Ac(),value:B,onValueChange:V,open:M,onOpenChange:I,dir:D,triggerPointerDownPosRef:U,disabled:v,children:[i.jsx(dC.Provider,{scope:t,children:i.jsx(Mke,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(Q=>{H(se=>new Set(se).add(Q))},[]),onNativeOptionRemove:b.useCallback(Q=>{H(se=>{const te=new Set(se);return te.delete(Q),te})},[]),children:r})}),q?i.jsxs(dre,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:B,onChange:Q=>V(Q.target.value),disabled:v,form:_,children:[B===void 0?i.jsx("option",{value:""}):null,Array.from(re)]},X):null]})})};zte.displayName=Og;var Ute="SelectTrigger",Vte=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=hC(r),o=Hp(Ute,r),l=o.disabled||n,c=mn(t,o.onTriggerChange),d=fC(r),f=b.useRef("touch"),[h,v,g]=hre(y=>{const j=d().filter(k=>!k.disabled),w=j.find(k=>k.value===o.value),C=mre(j,y,w);C!==void 0&&o.onValueChange(C.value)}),_=y=>{l||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return i.jsx(j_,{asChild:!0,...a,children:i.jsx(_r.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fre(o.value)?"":void 0,...s,ref:c,onClick:Wt(s.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&_(y)}),onPointerDown:Wt(s.onPointerDown,y=>{f.current=y.pointerType;const j=y.target;j.hasPointerCapture(y.pointerId)&&j.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(_(y),y.preventDefault())}),onKeyDown:Wt(s.onKeyDown,y=>{const j=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&v(y.key),!(j&&y.key===" ")&&Oke.includes(y.key)&&(_(),y.preventDefault())})})})});Vte.displayName=Ute;var qte="SelectValue",Wte=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=Hp(qte,r),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,h=mn(t,c.onValueNodeChange);return Ei(()=>{d(f)},[d,f]),i.jsx(_r.span,{...l,ref:h,style:{pointerEvents:"none"},children:fre(c.value)?i.jsx(i.Fragment,{children:o}):a})});Wte.displayName=qte;var Lke="SelectIcon",Hte=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(_r.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Hte.displayName=Lke;var $ke="SelectPortal",Gte=e=>i.jsx(Zx,{asChild:!0,...e});Gte.displayName=$ke;var Fg="SelectContent",Kte=b.forwardRef((e,t)=>{const r=Hp(Fg,e.__scopeSelect),[n,s]=b.useState();if(Ei(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Gg.createPortal(i.jsx(Yte,{scope:e.__scopeSelect,children:i.jsx(dC.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(Xte,{...e,ref:t})});Kte.displayName=Fg;var _d=10,[Yte,Gp]=dy(Fg),Bke="SelectContentImpl",zke=Cke("SelectContent.RemoveScroll"),Xte=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:v,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:j,...w}=e,C=Hp(Fg,r),[k,T]=b.useState(null),[P,D]=b.useState(null),M=mn(t,le=>T(le)),[I,B]=b.useState(null),[V,U]=b.useState(null),q=fC(r),[re,H]=b.useState(!1),X=b.useRef(!1);b.useEffect(()=>{if(k)return U3(k)},[k]),O3();const Q=b.useCallback(le=>{const[ke,..._e]=q().map(Re=>Re.ref.current),[Fe]=_e.slice(-1),Be=document.activeElement;for(const Re of le)if(Re===Be||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===ke&&P&&(P.scrollTop=0),Re===Fe&&P&&(P.scrollTop=P.scrollHeight),Re==null||Re.focus(),document.activeElement!==Be))return},[q,P]),se=b.useCallback(()=>Q([I,k]),[Q,I,k]);b.useEffect(()=>{re&&se()},[re,se]);const{onOpenChange:te,triggerPointerDownPosRef:ce}=C;b.useEffect(()=>{if(k){let le={x:0,y:0};const ke=Fe=>{var Be,Re;le={x:Math.abs(Math.round(Fe.pageX)-(((Be=ce.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Re=ce.current)==null?void 0:Re.y)??0))}},_e=Fe=>{le.x<=10&&le.y<=10?Fe.preventDefault():k.contains(Fe.target)||te(!1),document.removeEventListener("pointermove",ke),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",_e,{capture:!0})}}},[k,te,ce]),b.useEffect(()=>{const le=()=>te(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[te]);const[xe,de]=hre(le=>{const ke=q().filter(Be=>!Be.disabled),_e=ke.find(Be=>Be.ref.current===document.activeElement),Fe=mre(ke,le,_e);Fe&&setTimeout(()=>Fe.ref.current.focus())}),ee=b.useCallback((le,ke,_e)=>{const Fe=!X.current&&!_e;(C.value!==void 0&&C.value===ke||Fe)&&(B(le),Fe&&(X.current=!0))},[C.value]),fe=b.useCallback(()=>k==null?void 0:k.focus(),[k]),ne=b.useCallback((le,ke,_e)=>{const Fe=!X.current&&!_e;(C.value!==void 0&&C.value===ke||Fe)&&U(le)},[C.value]),Y=n==="popper"?kP:Jte,ue=Y===kP?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:v,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:j}:{};return i.jsx(Yte,{scope:r,content:k,viewport:P,onViewportChange:D,itemRefCallback:ee,selectedItem:I,onItemLeave:fe,itemTextRefCallback:ne,focusSelectedItem:se,selectedItemText:V,position:n,isPositioned:re,searchRef:xe,children:i.jsx(q3,{as:zke,allowPinchZoom:!0,children:i.jsx(b_,{asChild:!0,trapped:C.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Wt(s,le=>{var ke;(ke=C.trigger)==null||ke.focus({preventScroll:!0}),le.preventDefault()}),children:i.jsx(Yg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:i.jsx(Y,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:le=>le.preventDefault(),...w,...ue,onPlaced:()=>H(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Wt(w.onKeyDown,le=>{const ke=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ke&&le.key.length===1&&de(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Fe=q().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Be=le.target,Re=Fe.indexOf(Be);Fe=Fe.slice(Re+1)}setTimeout(()=>Q(Fe)),le.preventDefault()}})})})})})})});Xte.displayName=Bke;var Uke="SelectItemAlignedPosition",Jte=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Hp(Fg,r),o=Gp(Fg,r),[l,c]=b.useState(null),[d,f]=b.useState(null),h=mn(t,M=>f(M)),v=fC(r),g=b.useRef(!1),_=b.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:w,focusSelectedItem:C}=o,k=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&y&&j&&w){const M=a.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),B=a.valueNode.getBoundingClientRect(),V=w.getBoundingClientRect();if(a.dir!=="rtl"){const Be=V.left-I.left,Re=B.left-Be,Te=M.left-Re,$e=M.width+Te,pe=Math.max($e,I.width),Ge=window.innerWidth-_d,pt=ON(Re,[_d,Math.max(_d,Ge-pe)]);l.style.minWidth=$e+"px",l.style.left=pt+"px"}else{const Be=I.right-V.right,Re=window.innerWidth-B.right-Be,Te=window.innerWidth-M.right-Re,$e=M.width+Te,pe=Math.max($e,I.width),Ge=window.innerWidth-_d,pt=ON(Re,[_d,Math.max(_d,Ge-pe)]);l.style.minWidth=$e+"px",l.style.right=pt+"px"}const U=v(),q=window.innerHeight-_d*2,re=y.scrollHeight,H=window.getComputedStyle(d),X=parseInt(H.borderTopWidth,10),Q=parseInt(H.paddingTop,10),se=parseInt(H.borderBottomWidth,10),te=parseInt(H.paddingBottom,10),ce=X+Q+re+te+se,xe=Math.min(j.offsetHeight*5,ce),de=window.getComputedStyle(y),ee=parseInt(de.paddingTop,10),fe=parseInt(de.paddingBottom,10),ne=M.top+M.height/2-_d,Y=q-ne,ue=j.offsetHeight/2,le=j.offsetTop+ue,ke=X+Q+le,_e=ce-ke;if(ke<=ne){const Be=U.length>0&&j===U[U.length-1].ref.current;l.style.bottom="0px";const Re=d.clientHeight-y.offsetTop-y.offsetHeight,Te=Math.max(Y,ue+(Be?fe:0)+Re+se),$e=ke+Te;l.style.height=$e+"px"}else{const Be=U.length>0&&j===U[0].ref.current;l.style.top="0px";const Te=Math.max(ne,X+y.offsetTop+(Be?ee:0)+ue)+_e;l.style.height=Te+"px",y.scrollTop=ke-ne+y.offsetTop}l.style.margin=`${_d}px 0`,l.style.minHeight=xe+"px",l.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[v,a.trigger,a.valueNode,l,d,y,j,w,a.dir,n]);Ei(()=>k(),[k]);const[T,P]=b.useState();Ei(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const D=b.useCallback(M=>{M&&_.current===!0&&(k(),C==null||C(),_.current=!1)},[k,C]);return i.jsx(qke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:i.jsx(_r.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Jte.displayName=Uke;var Vke="SelectPopperPosition",kP=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=_d,...a}=e,o=hC(r);return i.jsx(L3,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kP.displayName=Vke;var[qke,fR]=dy(Fg,{}),EP="SelectViewport",Zte=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Gp(EP,r),o=fR(EP,r),l=mn(t,a.onViewportChange),c=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(dC.Slot,{scope:r,children:i.jsx(_r.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Wt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=o;if(v!=null&&v.current&&h){const g=Math.abs(c.current-f.scrollTop);if(g>0){const _=window.innerHeight-_d*2,y=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),w=Math.max(y,j);if(w<_){const C=w+g,k=Math.min(_,C),T=C-k;h.style.height=k+"px",h.style.bottom==="0px"&&(f.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Zte.displayName=EP;var Qte="SelectGroup",[Wke,Hke]=dy(Qte),Gke=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ac();return i.jsx(Wke,{scope:r,id:s,children:i.jsx(_r.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Gke.displayName=Qte;var ere="SelectLabel",tre=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Hke(ere,r);return i.jsx(_r.div,{id:s.id,...n,ref:t})});tre.displayName=ere;var FN="SelectItem",[Kke,rre]=dy(FN),nre=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=Hp(FN,r),c=Gp(FN,r),d=l.value===n,[f,h]=b.useState(a??""),[v,g]=b.useState(!1),_=mn(t,C=>{var k;return(k=c.itemRefCallback)==null?void 0:k.call(c,C,n,s)}),y=Ac(),j=b.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Kke,{scope:r,value:n,disabled:s,textId:y,isSelected:d,onItemTextChange:b.useCallback(C=>{h(k=>k||((C==null?void 0:C.textContent)??"").trim())},[]),children:i.jsx(dC.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:i.jsx(_r.div,{role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:Wt(o.onFocus,()=>g(!0)),onBlur:Wt(o.onBlur,()=>g(!1)),onClick:Wt(o.onClick,()=>{j.current!=="mouse"&&w()}),onPointerUp:Wt(o.onPointerUp,()=>{j.current==="mouse"&&w()}),onPointerDown:Wt(o.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:Wt(o.onPointerMove,C=>{var k;j.current=C.pointerType,s?(k=c.onItemLeave)==null||k.call(c):j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(o.onPointerLeave,C=>{var k;C.currentTarget===document.activeElement&&((k=c.onItemLeave)==null||k.call(c))}),onKeyDown:Wt(o.onKeyDown,C=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&C.key===" "||(Fke.includes(C.key)&&w(),C.key===" "&&C.preventDefault())})})})})});nre.displayName=FN;var Xb="SelectItemText",are=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=Hp(Xb,r),l=Gp(Xb,r),c=rre(Xb,r),d=Ike(Xb,r),[f,h]=b.useState(null),v=mn(t,w=>h(w),c.onItemTextChange,w=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,w,c.value,c.disabled)}),g=f==null?void 0:f.textContent,_=b.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=d;return Ei(()=>(y(_),()=>j(_)),[y,j,_]),i.jsxs(i.Fragment,{children:[i.jsx(_r.span,{id:c.textId,...a,ref:v}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gg.createPortal(a.children,o.valueNode):null]})});are.displayName=Xb;var sre="SelectItemIndicator",ire=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return rre(sre,r).isSelected?i.jsx(_r.span,{"aria-hidden":!0,...n,ref:t}):null});ire.displayName=sre;var TP="SelectScrollUpButton",ore=b.forwardRef((e,t)=>{const r=Gp(TP,e.__scopeSelect),n=fR(TP,e.__scopeSelect),[s,a]=b.useState(!1),o=mn(t,n.onScrollButtonChange);return Ei(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(cre,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ore.displayName=TP;var PP="SelectScrollDownButton",lre=b.forwardRef((e,t)=>{const r=Gp(PP,e.__scopeSelect),n=fR(PP,e.__scopeSelect),[s,a]=b.useState(!1),o=mn(t,n.onScrollButtonChange);return Ei(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(cre,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lre.displayName=PP;var cre=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Gp("SelectScrollButton",r),o=b.useRef(null),l=fC(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Ei(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(_r.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Wt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Wt(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Wt(s.onPointerLeave,()=>{c()})})}),Yke="SelectSeparator",ure=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(_r.div,{"aria-hidden":!0,...n,ref:t})});ure.displayName=Yke;var OP="SelectArrow",Xke=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hC(r),a=Hp(OP,r),o=Gp(OP,r);return a.open&&o.position==="popper"?i.jsx($3,{...s,...n,ref:t}):null});Xke.displayName=OP;var Jke="SelectBubbleInput",dre=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=b.useRef(null),a=mn(n,s),o=L_(t);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[o,t]),i.jsx(_r.select,{...r,style:{...BY,...r.style},ref:a,defaultValue:t})});dre.displayName=Jke;function fre(e){return e===""||e===void 0}function hre(e){const t=ec(e),r=b.useRef(""),n=b.useRef(0),s=b.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function mre(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Zke(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Zke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Qke=zte,pre=Vte,eEe=Wte,tEe=Hte,rEe=Gte,gre=Kte,nEe=Zte,vre=tre,xre=nre,aEe=are,sEe=ire,yre=ore,bre=lre,wre=ure;const aa=Qke,sa=eEe,Jn=Se.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(pre,{ref:n,className:Ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(tEe,{asChild:!0,children:i.jsx(LF,{className:"h-4 w-4 opacity-50"})})]}));Jn.displayName=pre.displayName;const _re=Se.forwardRef(({className:e,...t},r)=>i.jsx(yre,{ref:r,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ege,{className:"h-4 w-4"})}));_re.displayName=yre.displayName;const jre=Se.forwardRef(({className:e,...t},r)=>i.jsx(bre,{ref:r,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(LF,{className:"h-4 w-4"})}));jre.displayName=bre.displayName;const Zn=Se.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(rEe,{children:i.jsxs(gre,{ref:s,className:Ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(_re,{}),i.jsx(nEe,{className:Ht("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(jre,{})]})}));Zn.displayName=gre.displayName;const iEe=Se.forwardRef(({className:e,...t},r)=>i.jsx(vre,{ref:r,className:Ht("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));iEe.displayName=vre.displayName;const ur=Se.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(xre,{ref:n,className:Ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(sEe,{children:i.jsx(Qx,{className:"h-4 w-4"})})}),i.jsx(aEe,{children:t})]}));ur.displayName=xre.displayName;const oEe=Se.forwardRef(({className:e,...t},r)=>i.jsx(wre,{ref:r,className:Ht("-mx-1 my-1 h-px bg-muted",e),...t}));oEe.displayName=wre.displayName;var mC="Checkbox",[lEe,Kut]=eo(mC),[cEe,hR]=lEe(mC);function uEe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:h}=e,[v,g]=_o({prop:r,defaultProp:s??!1,onChange:c,caller:mC}),[_,y]=b.useState(null),[j,w]=b.useState(null),C=b.useRef(!1),k=_?!!o||!!_.closest("form"):!0,T={checked:v,disabled:a,setChecked:g,control:_,setControl:y,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:C,required:d,defaultChecked:bp(s)?!1:s,isFormControl:k,bubbleInput:j,setBubbleInput:w};return i.jsx(cEe,{scope:t,...T,children:dEe(h)?h(T):n})}var Nre="CheckboxTrigger",Sre=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:v,isFormControl:g,bubbleInput:_}=hR(Nre,e),y=mn(s,f),j=b.useRef(c);return b.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const C=()=>h(j.current);return w.addEventListener("reset",C),()=>w.removeEventListener("reset",C)}},[a,h]),i.jsx(_r.button,{type:"button",role:"checkbox","aria-checked":bp(c)?"mixed":c,"aria-required":d,"data-state":Tre(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Wt(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Wt(r,w=>{h(C=>bp(C)?!0:!C),_&&g&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})})});Sre.displayName=Nre;var mR=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...h}=e;return i.jsx(uEe,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:v})=>i.jsxs(i.Fragment,{children:[i.jsx(Sre,{...h,ref:t,__scopeCheckbox:r}),v&&i.jsx(Ere,{__scopeCheckbox:r})]})})});mR.displayName=mC;var Cre="CheckboxIndicator",Are=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=hR(Cre,r);return i.jsx(Pl,{present:n||bp(a.checked)||a.checked===!0,children:i.jsx(_r.span,{"data-state":Tre(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Are.displayName=Cre;var kre="CheckboxBubbleInput",Ere=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:h,bubbleInput:v,setBubbleInput:g}=hR(kre,e),_=mn(r,g),y=L_(a),j=__(n);b.useEffect(()=>{const C=v;if(!C)return;const k=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(k,"checked").set,D=!s.current;if(y!==a&&P){const M=new Event("click",{bubbles:D});C.indeterminate=bp(a),P.call(C,bp(a)?!1:a),C.dispatchEvent(M)}},[v,y,a,s]);const w=b.useRef(bp(a)?!1:a);return i.jsx(_r.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:d,value:f,form:h,...t,tabIndex:-1,ref:_,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ere.displayName=kre;function dEe(e){return typeof e=="function"}function bp(e){return e==="indeterminate"}function Tre(e){return bp(e)?"indeterminate":e?"checked":"unchecked"}const Gl=Se.forwardRef(({className:e,...t},r)=>i.jsx(mR,{ref:r,className:Ht("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(Are,{className:Ht("flex items-center justify-center text-current"),children:i.jsx(Qx,{className:"h-4 w-4"})})}));Gl.displayName=mR.displayName;const fEe=()=>{const[e,t]=b.useState(!0),[r,n]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[f,h]=b.useState(""),[v,g]=b.useState([]),[_,y]=b.useState(""),[j,w]=b.useState("user"),[C,k]=b.useState(!1),[T,P]=b.useState(!1),[D,M]=b.useState(""),[I,B]=b.useState(!1),[V,U]=b.useState(!1),{signIn:q,signUp:re,user:H}=Pr(),X=on(),Q=Tl(),{t:se}=Dn();b.useEffect(()=>{H&&X("/profile",{replace:!0})},[H,X]),b.useEffect(()=>{const ee=new URLSearchParams(Q.search);ee.get("register")&&t(!1);const fe=ee.get("ref");fe&&(y(fe),t(!1))},[Q.search]),b.useEffect(()=>{c?(g(px[c]||[]),h("")):(g([]),h(""))},[c]);const te=async ee=>{if(ee.preventDefault(),P(!0),M(""),U(!1),e){const{error:fe}=await q(r,s);fe?M(se("auth.login.error_invalid_credentials")):X("/profile")}else{if(!C){M(se("auth.register.terms_required")),P(!1);return}if(!c||!f){M(se("auth.register.country_city_required")),P(!1);return}const fe={full_name:o,country:c,city:f,referral_code:_,user_type:j},{data:ne,error:Y}=await re(r,s,fe);Y?M(Y.message):ne.user&&ne.user.identities&&ne.user.identities.length===0?M("Un utilisateur avec cet email existe dj mais n'est pas confirm."):U(!0)}P(!1)},ce=()=>{t(!e),M(""),U(!1),n(""),a(""),l(""),d(""),h(""),y(""),w("user"),k(!1)},xe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},de={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return i.jsxs(i.Fragment,{children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[se(e?"auth.login.title":"auth.register.title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:se(e?"auth.login.meta_description":"auth.register.meta_description")})]}),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-background/70 p-4",children:i.jsx(wt.div,{className:"w-full max-w-md mx-auto bg-card p-8 rounded-2xl shadow-2xl glass-effect",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:i.jsx(iu,{mode:"wait",children:V?i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[i.jsx(Wge,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold font-heading text-primary",children:se("auth.register.confirmation_email_title")}),i.jsx("p",{className:"text-muted-foreground mt-2 mb-6",children:se("auth.register.confirmation_email_description")}),i.jsx(Ee,{onClick:()=>{U(!1),t(!0)},children:se("auth.login.title")})]},"confirmation"):i.jsxs(wt.div,{initial:{opacity:0,x:e?-30:30},animate:{opacity:1,x:0},exit:{opacity:0,x:e?30:-30},transition:{duration:.3},children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold font-heading text-primary",children:se(e?"auth.login.title":"auth.register.title")}),i.jsx("p",{className:"text-muted-foreground",children:se(e?"auth.login.subtitle":"auth.register.subtitle")})]}),D&&i.jsxs(oy,{variant:"destructive",className:"mb-4",children:[i.jsx(ly,{children:se("common.error_title")}),i.jsx(cy,{children:D})]}),i.jsxs("form",{onSubmit:te,className:"space-y-4",children:[i.jsxs(wt.div,{variants:xe,initial:"hidden",animate:"visible",children:[!e&&i.jsxs(i.Fragment,{children:[i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"fullName",children:se("auth.full_name")}),i.jsx(vt,{id:"fullName",type:"text",value:o,onChange:ee=>l(ee.target.value),required:!0})]}),i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:se("auth.country")}),i.jsxs(aa,{onValueChange:d,value:c,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:se("auth.select_country_placeholder")})}),i.jsx(Zn,{children:I_.map(ee=>i.jsx(ur,{value:ee.name,children:ee.name},ee.code))})]})]}),i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:se("auth.city")}),i.jsxs(aa,{onValueChange:h,value:f,disabled:!c,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:se("auth.select_city_placeholder")})}),i.jsx(Zn,{children:v.map(ee=>i.jsx(ur,{value:ee,children:ee},ee))})]})]}),i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"role",children:se("auth.choose_role")}),i.jsxs(aa,{onValueChange:w,value:j,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:se("auth.choose_role_placeholder")})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"user",children:se("auth.role_user")}),i.jsx(ur,{value:"organizer",children:se("auth.role_organizer")})]})]})]})]}),i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"email",children:se("auth.email")}),i.jsx(vt,{id:"email",type:"email",value:r,onChange:ee=>n(ee.target.value),required:!0})]}),i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"password",children:se("auth.password")}),i.jsxs("div",{className:"relative",children:[i.jsx(vt,{id:"password",type:I?"text":"password",value:s,onChange:ee=>a(ee.target.value),required:!0}),i.jsx("button",{type:"button",onClick:()=>B(!I),className:"absolute inset-y-0 right-0 px-3 flex items-center text-muted-foreground",children:I?i.jsx(dX,{className:"h-5 w-5"}):i.jsx(qu,{className:"h-5 w-5"})})]})]}),!e&&i.jsxs(i.Fragment,{children:[i.jsxs(wt.div,{variants:de,className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"referralCode",children:se("auth.referral_code_optional")}),i.jsx(vt,{id:"referralCode",type:"text",value:_,onChange:ee=>y(ee.target.value)})]}),i.jsxs(wt.div,{variants:de,className:"flex items-center space-x-2 pt-2",children:[i.jsx(Gl,{id:"terms",checked:C,onCheckedChange:k}),i.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:i.jsxs(sD,{i18nKey:"auth.register.terms_agreement",children:["J'accepte les ",i.jsx(mi,{to:"/terms",className:"underline text-primary",children:"Conditions Gnrales d'Utilisation"})]})})]})]})]}),i.jsx(Ee,{type:"submit",className:"w-full gradient-green",disabled:T,children:T?i.jsx(Dt,{className:"animate-spin"}):se(e?"auth.login.button":"auth.register.button")})]}),i.jsxs("p",{className:"mt-6 text-center text-sm",children:[se(e?"auth.login.switch_text":"auth.register.switch_text"),i.jsx(Ee,{variant:"link",onClick:ce,className:"font-semibold",children:se(e?"auth.register.switch_button":"auth.login.switch_button")})]})]},e?"login":"signup")})})})]})};function ys({className:e,...t}){return i.jsx("div",{className:Ht("animate-pulse rounded-md bg-muted",e),...t})}const hEe=({className:e})=>{const{t}=Dn(),r="https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH";return i.jsx(wt.a,{href:r,target:"_blank",rel:"noopener noreferrer",className:`block w-full ${e}`,whileHover:{scale:1.02,boxShadow:"0 8px 20px -4px rgba(37, 211, 102, 0.6)"},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:i.jsxs(Ee,{className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-white font-semibold",style:{backgroundColor:"#25D366",boxShadow:"0 4px 12px -2px rgba(37, 211, 102, 0.4)"},onMouseEnter:n=>n.currentTarget.style.filter="brightness(1.1)",onMouseLeave:n=>n.currentTarget.style.filter="brightness(1)",children:[i.jsx(wt.span,{initial:{rotate:0},whileHover:{rotate:[0,10,-10,10,-10,0]},transition:{duration:.8,ease:"easeInOut",repeat:0},children:i.jsx(ax,{className:"w-5 h-5"})}),i.jsx("span",{children:t("common.whatsapp_community")})]})})},mEe=()=>{var c;const e=on(),{signOut:t}=Pr(),{userProfile:r,loadingProfile:n}=Un(),s=async()=>{await t(),e("/")},a=d=>{if(!d)return"U";const f=d.split(" ");return f.length>1?`${f[0][0]}${f[f.length-1][0]}`.toUpperCase():d.substring(0,2).toUpperCase()};if(n&&!r)return i.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-background to-background/80 rounded-b-3xl shadow-lg mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ys,{className:"w-20 h-20 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(ys,{className:"h-8 w-48"}),i.jsx(ys,{className:"h-4 w-32"}),i.jsx(ys,{className:"h-4 w-24"})]})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ys,{className:"h-9 w-28"}),i.jsx(ys,{className:"h-9 w-28"})]}),i.jsx(ys,{className:"h-9 w-32"})]}),i.jsx("div",{className:"mt-6",children:i.jsx(ys,{className:"h-12 w-full"})})]});const o=(r==null?void 0:r.user_type)==="admin"||(r==null?void 0:r.user_type)==="super_admin",l=(r==null?void 0:r.user_type)==="secretary";return i.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-background to-background/80 rounded-b-3xl shadow-lg mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Xu,{className:"w-20 h-20 border-4 border-primary",children:[i.jsx(Ju,{src:r==null?void 0:r.avatar_url,alt:r==null?void 0:r.full_name}),i.jsx(Zu,{className:"text-2xl bg-secondary text-secondary-foreground",children:a(r==null?void 0:r.full_name)})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("h1",{className:"text-2xl font-bold text-white truncate",children:(r==null?void 0:r.full_name)||"Utilisateur"}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:r==null?void 0:r.email}),i.jsx("p",{className:"text-xs text-primary capitalize mt-1",children:(c=r==null?void 0:r.user_type)==null?void 0:c.replace("_"," ")})]})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:[i.jsx(Kf,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),o&&i.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/admin"),children:[i.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),l&&i.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e("/secretary"),children:[i.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Administration"]})]}),i.jsxs(Ee,{variant:"destructive",size:"sm",onClick:s,className:"flex-shrink-0",children:[i.jsx(nx,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]}),i.jsx("div",{className:"mt-6",children:i.jsx(hEe,{})})]})},pEe=({userProfile:e,eventCount:t})=>{if(!e)return null;const r=[{icon:dn,label:"Pices Achetes",value:e.coin_balance||0,color:"text-blue-400"},{icon:pi,label:"Pices Bonus",value:e.free_coin_balance||0,color:"text-green-400"},{icon:Df,label:"Gains",value:e.available_earnings||0,color:"text-yellow-400"},{icon:qs,label:"vnements",value:t,color:"text-purple-400"}];return i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:r.map((n,s)=>i.jsx(at,{className:"glass-effect border-border",children:i.jsx(st,{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(n.icon,{className:`w-8 h-8 ${n.color} mr-3`}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.value}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n.label})]})]})})},s))})};var pC="Tabs",[gEe,Yut]=eo(pC,[Vp]),Pre=Vp(),[vEe,pR]=gEe(pC),Ore=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=zp(l),[h,v]=_o({prop:n,onChange:s,defaultProp:a??"",caller:pC});return i.jsx(vEe,{scope:r,baseId:Ac(),value:h,onValueChange:v,orientation:o,dir:f,activationMode:c,children:i.jsx(_r.div,{dir:f,"data-orientation":o,...d,ref:t})})});Ore.displayName=pC;var Fre="TabsList",Dre=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=pR(Fre,r),o=Pre(r);return i.jsx(B3,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(_r.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Dre.displayName=Fre;var Rre="TabsTrigger",Mre=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=pR(Rre,r),l=Pre(r),c=$re(o.baseId,n),d=Bre(o.baseId,n),f=n===o.value;return i.jsx(z3,{asChild:!0,...l,focusable:!s,active:f,children:i.jsx(_r.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Wt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Wt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Wt(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(n)})})})});Mre.displayName=Rre;var Ire="TabsContent",Lre=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=pR(Ire,r),c=$re(l.baseId,n),d=Bre(l.baseId,n),f=n===l.value,h=b.useRef(f);return b.useEffect(()=>{const v=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(v)},[]),i.jsx(Pl,{present:s||f,children:({present:v})=>i.jsx(_r.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:v&&a})})});Lre.displayName=Ire;function $re(e,t){return`${e}-trigger-${t}`}function Bre(e,t){return`${e}-content-${t}`}var xEe=Ore,zre=Dre,Ure=Mre,Vre=Lre;const tm=xEe,Xf=Se.forwardRef(({className:e,...t},r)=>i.jsx(zre,{ref:r,className:Ht("inline-flex flex-wrap h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xf.displayName=zre.displayName;const $r=Se.forwardRef(({className:e,...t},r)=>i.jsx(Ure,{ref:r,className:Ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","flex-grow sm:flex-grow-0 m-[2px]",e),...t}));$r.displayName=Ure.displayName;const zr=Se.forwardRef(({className:e,...t},r)=>i.jsx(Vre,{ref:r,className:Ht("mt-6 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zr.displayName=Vre.displayName;const yEe=({userProfile:e,userEvents:t,loadingEvents:r})=>{const n=on(),s=e&&(e.user_type==="organizer"||e.user_type==="admin"||e.user_type==="super_admin");return r?i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{children:[s&&i.jsx("div",{className:"mb-6 text-right",children:i.jsxs(Ee,{onClick:()=>n("/create-event"),className:"gradient-gold text-background hover:opacity-90",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Crer un nouvel vnement"]})}),t&&t.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>i.jsx(uC,{event:a,onClick:()=>n(`/event/${a.id}`),isUnlocked:!0},a.id))}):i.jsx(at,{className:"glass-effect border-primary/20",children:i.jsxs(st,{className:"p-8 text-center",children:[i.jsx(qs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucun vnement cr"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:s?"Crez votre premier vnement pour le voir apparatre ici.":"Vous n'avez pas encore cr d'vnement."}),s&&i.jsxs(Ee,{onClick:()=>n("/create-event"),className:"gradient-gold text-background hover:opacity-90",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Crer un vnement"]})]})})]})};var bEe=Object.defineProperty,DN=Object.getOwnPropertySymbols,qre=Object.prototype.hasOwnProperty,Wre=Object.prototype.propertyIsEnumerable,MB=(e,t,r)=>t in e?bEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gw=(e,t)=>{for(var r in t||(t={}))qre.call(t,r)&&MB(e,r,t[r]);if(DN)for(var r of DN(t))Wre.call(t,r)&&MB(e,r,t[r]);return e},gR=(e,t)=>{var r={};for(var n in e)qre.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&DN)for(var n of DN(e))t.indexOf(n)<0&&Wre.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Dg;(e=>{const t=class{constructor(c,d,f,h){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let v=[];for(let _=0;_<this.size;_++)v.push(!1);for(let _=0;_<this.size;_++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(f);if(this.drawCodewords(g),h==-1){let _=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const j=this.getPenaltyScore();j<_&&(h=y,_=j),this.applyMask(y)}}a(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,d){const f=e.QrSegment.makeSegments(c);return t.encodeSegments(f,d)}static encodeBinary(c,d){const f=e.QrSegment.makeBytes(c);return t.encodeSegments([f],d)}static encodeSegments(c,d,f=1,h=40,v=-1,g=!0){if(!(t.MIN_VERSION<=f&&f<=h&&h<=t.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let _,y;for(_=f;;_++){const k=t.getNumDataCodewords(_,d)*8,T=l.getTotalBits(c,_);if(T<=k){y=T;break}if(_>=h)throw new RangeError("Data too long")}for(const k of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])g&&y<=t.getNumDataCodewords(_,k)*8&&(d=k);let j=[];for(const k of c){n(k.mode.modeBits,4,j),n(k.numChars,k.mode.numCharCountBits(_),j);for(const T of k.getData())j.push(T)}a(j.length==y);const w=t.getNumDataCodewords(_,d)*8;a(j.length<=w),n(0,Math.min(4,w-j.length),j),n(0,(8-j.length%8)%8,j),a(j.length%8==0);for(let k=236;j.length<w;k^=253)n(k,8,j);let C=[];for(;C.length*8<j.length;)C.push(0);return j.forEach((k,T)=>C[T>>>3]|=k<<7-(T&7)),new t(_,d,C,v)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let f=0;f<d;f++)for(let h=0;h<d;h++)f==0&&h==0||f==0&&h==d-1||f==d-1&&h==0||this.drawAlignmentPattern(c[f],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let f=d;for(let v=0;v<10;v++)f=f<<1^(f>>>9)*1335;const h=(d<<10|f)^21522;a(h>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,s(h,v));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,s(h,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,s(h,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,s(h,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;a(d>>>18==0);for(let f=0;f<18;f++){const h=s(d,f),v=this.size-11+f%3,g=Math.floor(f/3);this.setFunctionModule(v,g,h),this.setFunctionModule(g,v,h)}}drawFinderPattern(c,d){for(let f=-4;f<=4;f++)for(let h=-4;h<=4;h++){const v=Math.max(Math.abs(h),Math.abs(f)),g=c+h,_=d+f;0<=g&&g<this.size&&0<=_&&_<this.size&&this.setFunctionModule(g,_,v!=2&&v!=4)}}drawAlignmentPattern(c,d){for(let f=-2;f<=2;f++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,d+f,Math.max(Math.abs(h),Math.abs(f))!=1)}setFunctionModule(c,d,f){this.modules[d][c]=f,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,f=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],v=t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],g=Math.floor(t.getNumRawDataModules(d)/8),_=h-g%h,y=Math.floor(g/h);let j=[];const w=t.reedSolomonComputeDivisor(v);for(let k=0,T=0;k<h;k++){let P=c.slice(T,T+y-v+(k<_?0:1));T+=P.length;const D=t.reedSolomonComputeRemainder(P,w);k<_&&P.push(0),j.push(P.concat(D))}let C=[];for(let k=0;k<j[0].length;k++)j.forEach((T,P)=>{(k!=y-v||P>=_)&&C.push(T[k])});return a(C.length==g),C}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let h=0;h<this.size;h++)for(let v=0;v<2;v++){const g=f-v,y=(f+1&2)==0?this.size-1-h:h;!this.isFunction[y][g]&&d<c.length*8&&(this.modules[y][g]=s(c[d>>>3],7-(d&7)),d++)}}a(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let h;switch(c){case 0:h=(f+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=f%3==0;break;case 3:h=(f+d)%3==0;break;case 4:h=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:h=f*d%2+f*d%3==0;break;case 6:h=(f*d%2+f*d%3)%2==0;break;case 7:h=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&h&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let c=0;for(let v=0;v<this.size;v++){let g=!1,_=0,y=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[v][j]==g?(_++,_==5?c+=t.PENALTY_N1:_>5&&c++):(this.finderPenaltyAddHistory(_,y),g||(c+=this.finderPenaltyCountPatterns(y)*t.PENALTY_N3),g=this.modules[v][j],_=1);c+=this.finderPenaltyTerminateAndCount(g,_,y)*t.PENALTY_N3}for(let v=0;v<this.size;v++){let g=!1,_=0,y=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][v]==g?(_++,_==5?c+=t.PENALTY_N1:_>5&&c++):(this.finderPenaltyAddHistory(_,y),g||(c+=this.finderPenaltyCountPatterns(y)*t.PENALTY_N3),g=this.modules[j][v],_=1);c+=this.finderPenaltyTerminateAndCount(g,_,y)*t.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let g=0;g<this.size-1;g++){const _=this.modules[v][g];_==this.modules[v][g+1]&&_==this.modules[v+1][g]&&_==this.modules[v+1][g+1]&&(c+=t.PENALTY_N2)}let d=0;for(const v of this.modules)d=v.reduce((g,_)=>g+(_?1:0),d);const f=this.size*this.size,h=Math.ceil(Math.abs(d*20-f*10)/f)-1;return a(0<=h&&h<=9),c+=h*t.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let h=this.size-7;f.length<c;h-=d)f.splice(1,0,h);return f}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;d-=(25*f-10)*f-55,c>=7&&(d-=36)}return a(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<c-1;h++)d.push(0);d.push(1);let f=1;for(let h=0;h<c;h++){for(let v=0;v<d.length;v++)d[v]=t.reedSolomonMultiply(d[v],f),v+1<d.length&&(d[v]^=d[v+1]);f=t.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(c,d){let f=d.map(h=>0);for(const h of c){const v=h^f.shift();f.push(0),d.forEach((g,_)=>f[_]^=t.reedSolomonMultiply(g,v))}return f}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let h=7;h>=0;h--)f=f<<1^(f>>>7)*285,f^=(d>>>h&1)*c;return a(f>>>8==0),f}finderPenaltyCountPatterns(c){const d=c[1];a(d<=this.size*3);const f=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(f&&c[0]>=d*4&&c[6]>=d?1:0)+(f&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,f){return c&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(c,d,f){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let h=d-1;h>=0;h--)f.push(c>>>h&1)}function s(c,d){return(c>>>d&1)!=0}function a(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,d,f){if(this.mode=c,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let d=[];for(const f of c)n(f,8,d);return new o(o.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<c.length;){const h=Math.min(c.length-f,3);n(parseInt(c.substr(f,h),10),h*3+1,d),f+=h}return new o(o.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=c.length;f+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(h,11,d)}return f<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,d),new o(o.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let f=0;for(const h of c){const v=h.mode.numCharCountBits(d);if(h.numChars>=1<<v)return 1/0;f+=4+v+h.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?d.push(c.charCodeAt(f)):(d.push(parseInt(c.substr(f+1,2),16)),f+=2);return d}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(Dg||(Dg={}));(e=>{(t=>{const r=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Dg||(Dg={}));(e=>{(t=>{const r=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Dg||(Dg={}));var b1=Dg;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Hre={L:b1.QrCode.Ecc.LOW,M:b1.QrCode.Ecc.MEDIUM,Q:b1.QrCode.Ecc.QUARTILE,H:b1.QrCode.Ecc.HIGH},Gre=128,Kre="L",Yre="#FFFFFF",Xre="#000000",Jre=!1,vR=4,wEe=.1;function Zre(e,t=0){const r=[];return e.forEach(function(n,s){let a=null;n.forEach(function(o,l){if(!o&&a!==null){r.push(`M${a+t} ${s+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===n.length-1){if(!o)return;a===null?r.push(`M${l+t},${s+t} h1v1H${l+t}z`):r.push(`M${a+t},${s+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),r.join("")}function Qre(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((s,a)=>a<t.x||a>=t.x+t.w?s:!1))}function ene(e,t,r,n){if(n==null)return null;const s=r?vR:0,a=e.length+s*2,o=Math.floor(t*wEe),l=a/t,c=(n.width||o)*l,d=(n.height||o)*l,f=n.x==null?e.length/2-c/2:n.x*l,h=n.y==null?e.length/2-d/2:n.y*l;let v=null;if(n.excavate){let g=Math.floor(f),_=Math.floor(h),y=Math.ceil(c+f-g),j=Math.ceil(d+h-_);v={x:g,y:_,w:y,h:j}}return{x:f,y:h,h:d,w:c,excavation:v}}var _Ee=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function tne(e){const t=e,{value:r,size:n=Gre,level:s=Kre,bgColor:a=Yre,fgColor:o=Xre,includeMargin:l=Jre,style:c,imageSettings:d}=t,f=gR(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=d==null?void 0:d.src,v=Se.useRef(null),g=Se.useRef(null),[_,y]=Se.useState(!1);Se.useEffect(()=>{if(v.current!=null){const C=v.current,k=C.getContext("2d");if(!k)return;let T=b1.QrCode.encodeText(r,Hre[s]).getModules();const P=l?vR:0,D=T.length+P*2,M=ene(T,n,l,d),I=g.current,B=M!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;B&&M.excavation!=null&&(T=Qre(T,M.excavation));const V=window.devicePixelRatio||1;C.height=C.width=n*V;const U=n/D*V;k.scale(U,U),k.fillStyle=a,k.fillRect(0,0,D,D),k.fillStyle=o,_Ee?k.fill(new Path2D(Zre(T,P))):T.forEach(function(q,re){q.forEach(function(H,X){H&&k.fillRect(X+P,re+P,1,1)})}),B&&k.drawImage(I,M.x+P,M.y+P,M.w,M.h)}}),Se.useEffect(()=>{y(!1)},[h]);const j=gw({height:n,width:n},c);let w=null;return h!=null&&(w=Se.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{y(!0)},ref:g})),Se.createElement(Se.Fragment,null,Se.createElement("canvas",gw({style:j,height:n,width:n,ref:v},f)),w)}function jEe(e){const t=e,{value:r,size:n=Gre,level:s=Kre,bgColor:a=Yre,fgColor:o=Xre,includeMargin:l=Jre,imageSettings:c}=t,d=gR(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let f=b1.QrCode.encodeText(r,Hre[s]).getModules();const h=l?vR:0,v=f.length+h*2,g=ene(f,n,l,c);let _=null;c!=null&&g!=null&&(g.excavation!=null&&(f=Qre(f,g.excavation)),_=Se.createElement("image",{xlinkHref:c.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const y=Zre(f,h);return Se.createElement("svg",gw({height:n,width:n,viewBox:`0 0 ${v} ${v}`},d),Se.createElement("path",{fill:a,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),Se.createElement("path",{fill:o,d:y,shapeRendering:"crispEdges"}),_)}var NEe=e=>{const t=e,{renderAs:r}=t,n=gR(t,["renderAs"]);return r==="svg"?Se.createElement(jEe,gw({},n)):Se.createElement(tne,gw({},n))};const SEe=()=>{const{userProfile:e,loadingProfile:t,forceRefreshUserProfile:r}=Un(),[n,s]=b.useState(!1),a=(e==null?void 0:e.affiliate_code)||"",o=a?`${window.location.origin}/auth?ref=${a}`:"",l=` Rejoins-moi sur BonPlanInfos ! Utilise mon code ${a} pour obtenir des bonus. ${o}`,c=(e==null?void 0:e.referral_count)||0,d=c*20;b.useEffect(()=>{(async()=>{if(!t&&e&&!a&&!n){console.log("Referral code missing for user:",e.id,"- Attempting to generate..."),s(!0);try{const{data:_,error:y}=await Oe.rpc("generate_missing_referral_code",{p_user_id:e.id});if(y)throw y;console.log("Referral code generated successfully:",_),r(),ze({title:"Code gnr",description:"Votre code de parrainage a t cr."})}catch(_){console.error("Failed to generate referral code:",_)}finally{s(!1)}}})()},[e,t,a,n,r]);const f=(g,_)=>{g&&(navigator.clipboard.writeText(g),ze({title:"Copi !",description:_}))},h=async()=>{if(a)try{navigator.share?await navigator.share({title:"Rejoignez BonPlanInfos",text:l,url:o}):window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(l)}`,"_blank")}catch(g){console.error("Share error:",g)}},v=t||n;return v&&!e?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"h-8 w-8 animate-spin"})}):i.jsxs(at,{className:"glass-effect",children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Programme de parrainage"}),i.jsx(nn,{children:"Invitez vos amis et gagnez des pices bonus ensemble !"})]}),i.jsxs(st,{className:"space-y-6",children:[!a&&!v?i.jsxs(oy,{variant:"destructive",children:[i.jsx(ru,{className:"h-4 w-4"}),i.jsx(ly,{children:"Code manquant"}),i.jsx(cy,{children:"Impossible de charger votre code. Veuillez actualiser la page."}),i.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>window.location.reload(),className:"mt-2",children:"Actualiser"})]}):i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border",children:[i.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Votre code de parrainage"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative w-full",children:[i.jsx(vt,{value:a||"Gnration en cours...",readOnly:!0,className:"bg-background font-mono pr-10 font-bold text-lg tracking-wide text-center md:text-left"}),v&&!a&&i.jsx(Dt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),i.jsx(Ee,{onClick:()=>f(a,"Code copi !"),variant:"outline",size:"icon",disabled:!a,children:i.jsx(Z2,{className:"w-4 h-4"})}),i.jsx(Ee,{onClick:h,variant:"outline",size:"icon",disabled:!a,children:i.jsx(ty,{className:"w-4 h-4"})}),i.jsxs(Ao,{children:[i.jsx(M_,{asChild:!0,children:i.jsx(Ee,{variant:"outline",size:"icon",disabled:!a,children:i.jsx(Xge,{className:"w-4 h-4"})})}),i.jsxs(to,{className:"sm:max-w-md flex flex-col items-center bg-white text-black",children:[i.jsx(ko,{children:i.jsx(Eo,{className:"text-center text-black",children:"Scan pour parrainer"})}),i.jsx("div",{className:"p-4 bg-white rounded-xl shadow-inner border",children:o&&i.jsx(tne,{value:o,size:200,includeMargin:!0})}),i.jsx("p",{className:"text-sm text-center text-gray-500 mt-2",children:"Partagez ce code avec vos amis"})]})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-background rounded border text-sm text-muted-foreground break-all",children:[i.jsx("span",{className:"font-semibold block mb-1",children:"Lien direct :"}),o||"...",i.jsx(Ee,{variant:"link",size:"sm",className:"h-auto p-0 ml-2 text-primary",onClick:()=>f(o,"Lien copi !"),children:"Copier"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(Ga,{className:"w-5 h-5 text-green-600 mr-2"}),i.jsx("span",{className:"font-medium",children:"Filleuls inscrits"})]}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:c})]}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(dn,{className:"w-5 h-5 text-yellow-600 mr-2"}),i.jsx("span",{className:"font-medium",children:"Pices gagnes"})]}),i.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[d," ",i.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:""})]})]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-100 dark:border-blue-900 text-sm",children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-700 dark:text-blue-400",children:[i.jsx(cu,{className:"w-4 h-4 mr-2"})," Fonctionnement"]}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-blue-900 dark:text-blue-300",children:[i.jsx("li",{children:"Partagez votre code avec vos amis."}),i.jsxs("li",{children:["Ils gagnent ",i.jsx("strong",{children:"10 "})," bonus  l'inscription."]}),i.jsxs("li",{children:["Vous gagnez ",i.jsx("strong",{children:"20 "})," pour chaque ami valid."]})]})]})]})]})},CEe=({userTransactions:e})=>{const t=r=>{let n,s,a,o;if(r.transaction_type)switch(r.transaction_type){case"earning":s=Ep,a="text-green-400",n=r.description||"Gain de pices",o=r.amount_pi;break;case"manual_credit":s=ey,a="text-blue-400",n=r.description||"Crdit manuel",o=r.amount_pi;break;case"credit_reversal":s=nw,a="text-red-400",n=r.description||"Annulation de crdit",o=r.amount_pi;break;default:s=dn,a="text-gray-400",n=r.description||"Transaction",o=r.amount_pi}else r.purpose?(s=nw,a="text-red-400",n=`Dpense: ${r.purpose}`,o=-r.amount):(s=mX,a="text-blue-400",n=`Achat de ${r.total_coins} pices`,o=r.total_coins);return{icon:s,color:a,text:n,amount:o}};return i.jsxs(at,{className:"glass-effect",children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Historique des transactions"})}),i.jsx(st,{children:e&&e.length>0?i.jsx("div",{className:"space-y-4",children:e.slice(0,25).map(r=>{const{icon:n,color:s,text:a,amount:o}=t(r),l=o>0;let c="bg-red-500";return s==="text-green-400"&&(c="bg-green-500"),s==="text-blue-400"&&(c="bg-blue-500"),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 bg-opacity-20 ${c}`,children:i.jsx(n,{className:`w-5 h-5 ${s}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:a}),i.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(r.created_at).toLocaleString("fr-FR")})]})]}),i.jsxs("div",{className:`font-bold ${s}`,children:[l?"+":"",o," pices"]})]},r.id)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(dn,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Aucune transaction pour le moment"})]})})]})},AEe=()=>{const{user:e}=Pr(),{userProfile:t,forceRefreshUserProfile:r,adminConfig:n}=Un(),[s,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[f,h]=b.useState(!1),[v,g]=b.useState([]),[_,y]=b.useState(!0),j=(n==null?void 0:n.min_withdrawal_pi)||50,w=(n==null?void 0:n.coin_to_fcfa_rate)||10,C=(t==null?void 0:t.available_earnings)||0,k=b.useCallback(async()=>{if(y(!0),!!e)try{const{data:P,error:D}=await Oe.from("organizer_withdrawal_requests").select("*").eq("organizer_id",e.id).order("requested_at",{ascending:!1});D?(console.error("Erreur chargement historique:",D),ze({title:"Erreur",description:"Impossible de charger l'historique des retraits.",variant:"destructive"})):g(P||[])}catch(P){console.error("Exception chargement historique:",P),ze({title:"Erreur",description:"Erreur inattendue lors du chargement de l'historique.",variant:"destructive"})}finally{y(!1)}},[e]);b.useEffect(()=>{k()},[k]);const T=async P=>{if(P.preventDefault(),!e){ze({title:"Non connect",description:"Vous devez tre connect pour effectuer un retrait.",variant:"destructive"});return}const D=parseInt(s);if(isNaN(D)||D<=0){ze({title:"Montant invalide",description:"Veuillez entrer un montant valide.",variant:"destructive"});return}if(D<j){ze({title:"Montant minimum non atteint",description:`Le montant minimum pour un retrait est de ${j} (${j*w} FCFA).`,variant:"destructive"});return}if(D>C){ze({title:"Solde insuffisant",description:"Vous n'avez pas assez de gains disponibles.",variant:"destructive"});return}if(!o||!c.trim()){ze({title:"Informations manquantes",description:"Veuillez slectionner un moyen de paiement et entrer votre numro.",variant:"destructive"});return}h(!0);try{console.log(" Envoi demande de retrait:",{amount:D,paymentMethod:o,accountNumber:c,user:e.id});const{data:M,error:I}=await Oe.rpc("request_organizer_withdrawal",{p_amount_pi:D,p_payment_details:{method:o,number:c.trim()}});if(console.log(" Rponse Supabase:",{data:M,error:I}),I)throw console.error(" Erreur RPC:",I),new Error(I.message);if(M&&!M.success)throw new Error(M.message);console.log(" Succs:",M),ze({title:" Succs",description:(M==null?void 0:M.message)||"Votre demande de retrait a t envoye."}),a(""),l(""),d(""),r&&await r(),await k()}catch(M){console.error(" Erreur demande de retrait:",M),ze({title:" Erreur",description:M.message||"Une erreur est survenue lors de la demande de retrait.",variant:"destructive"})}finally{h(!1)}};return!t||!n?i.jsxs("div",{className:"flex justify-center items-center h-40",children:[i.jsx(Dt,{className:"h-8 w-8 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Chargement des donnes..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Demander un retrait"}),i.jsxs(nn,{children:["Retirez vos gains disponibles. Le solde minimum requis est de ",j," (soit ",j*w," FCFA)."]})]}),i.jsxs("form",{onSubmit:T,children:[i.jsxs(st,{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-primary/10 border-l-4 border-primary rounded-r-lg",children:[i.jsx("p",{className:"font-semibold text-lg",children:"Gains disponibles pour retrait :"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:[C.toLocaleString("fr-FR")," "]}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["~ ",(C*w).toLocaleString("fr-FR")," FCFA"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"amount",children:"Montant  retirer (en pices )"}),i.jsx(vt,{id:"amount",type:"number",value:s,onChange:P=>a(P.target.value),placeholder:`Minimum ${j}`,min:j,max:C,disabled:C<j||f}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["quivalent: ",s?(parseInt(s)*w).toLocaleString("fr-FR"):0," FCFA"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"paymentMethod",children:"Moyen de paiement"}),i.jsxs(aa,{onValueChange:l,value:o,disabled:f,children:[i.jsx(Jn,{id:"paymentMethod",children:i.jsx(sa,{placeholder:"Slectionnez un moyen de paiement"})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"Orange Money",children:"Orange Money"}),i.jsx(ur,{value:"Moov Money",children:"Moov Money"}),i.jsx(ur,{value:"Wave",children:"Wave"}),i.jsx(ur,{value:"Virement Bancaire",children:"Virement Bancaire"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"accountNumber",children:" Numro de tlphone / Compte bancaire"}),i.jsx(vt,{id:"accountNumber",type:"text",value:c,onChange:P=>d(P.target.value),placeholder:"Entrez L'indicatif suivi du numro ou l'IBAN de votre compte Bancaire",disabled:f})]})]}),i.jsx(PN,{children:i.jsxs(Ee,{type:"submit",disabled:C<j||f||!s||!o||!c.trim(),className:"w-full",children:[f?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(yc,{className:"mr-2 h-4 w-4"}),"Demander le retrait"]})})]})]}),i.jsxs(at,{children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Historique des retraits"})}),i.jsx(st,{children:_?i.jsxs("div",{className:"flex justify-center items-center h-24",children:[i.jsx(Dt,{className:"animate-spin mr-2"}),"Chargement de l'historique..."]}):v.length>0?i.jsx("ul",{className:"space-y-3",children:v.map(P=>i.jsxs("li",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold",children:[P.amount_pi,"  (~",(P.amount_pi*w).toLocaleString("fr-FR")," FCFA)"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(P.requested_at).toLocaleString("fr-FR")}),P.payment_details&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.payment_details.method," - ",P.payment_details.number]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P.status==="pending"?"bg-yellow-500/20 text-yellow-300":P.status==="approved"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:P.status==="pending"?"En attente":P.status==="approved"?"Approuv":"Rejet"})]},P.id))}):i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun retrait effectu pour le moment."})})]})]})},kEe=({stats:e,loading:t})=>{Pr();const r=on(),[n,s]=b.useState(e),[a,o]=b.useState(t);if(b.useEffect(()=>{s(e)},[e]),b.useEffect(()=>{o(t)},[t]),a)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})});if(!n)return i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Aucune donne disponible pour le tableau de bord."})});const l=[{title:"Solde Total",value:`${(n.available_balance||0).toLocaleString()} `,subValue:`${(n.total_balance_fcfa||0).toLocaleString("fr-FR")} FCFA`,icon:yc,color:"text-green-500",bgColor:"bg-green-500/10"},{title:"vnements Actifs",value:n.totalEvents,subValue:`${n.promotedEvents} promus`,icon:qs,color:"text-blue-500",bgColor:"bg-blue-500/10"},{title:"Vues Totales",value:(n.totalViews||0).toLocaleString("fr-FR"),icon:qu,color:"text-purple-500",bgColor:"bg-purple-500/10"},{title:"Interactions",value:(n.totalInteractions||0).toLocaleString("fr-FR"),icon:Ga,color:"text-orange-500",bgColor:"bg-orange-500/10"}],c=[{label:"Interactions",value:n.interaction_earnings,color:"bg-blue-500"},{label:"Billets",value:n.event_revenues,color:"bg-green-500"},{label:"Abonnements",value:n.subscription_earnings,color:"bg-purple-500"}].filter(d=>d.value>0);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Tableau de bord Organisateur"}),i.jsx("p",{className:"text-muted-foreground",children:"Vue d'ensemble de vos performances"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(Ee,{onClick:()=>r("/create-event"),variant:"default",children:[i.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Crer un vnement"]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((d,f)=>i.jsx(at,{className:"glass-effect",children:i.jsxs(st,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg ${d.bgColor}`,children:i.jsx(d.icon,{className:`w-6 h-6 ${d.color}`})}),f===0&&i.jsxs(nr,{variant:"secondary",className:"text-xs",children:[i.jsx(Go,{className:"w-3 h-3 mr-1"}),"Actif"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:d.title}),i.jsx("p",{className:"text-2xl font-bold",children:d.value}),d.subValue&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.subValue})]})]})},f))}),c.length>0&&i.jsxs(at,{className:"glass-effect",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(yc,{className:"w-5 h-5"}),"Rpartition du Solde"]})}),i.jsx(st,{children:i.jsx("div",{className:"space-y-4",children:c.map((d,f)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:d.label}),i.jsxs("span",{className:"text-sm font-bold",children:[d.value," "]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:`${d.color} h-2 rounded-full transition-all`,style:{width:`${d.value/n.totalBalance*100}%`}})})]},f))})})]}),i.jsxs(at,{className:"glass-effect",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Go,{className:"w-5 h-5"}),"Rsum Financier"]})}),i.jsx(st,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Gagn"}),i.jsxs("p",{className:"text-xl font-bold text-green-600",children:[(n.total_earnings||0).toLocaleString()," "]})]}),i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Retir"}),i.jsxs("p",{className:"text-xl font-bold text-orange-600",children:[(n.total_withdrawn||0).toLocaleString()," "]})]}),i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Disponible"}),i.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[(n.available_balance||0).toLocaleString()," "]})]})]})})]}),i.jsxs(at,{className:"glass-effect",children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Actions Rapides"})}),i.jsx(st,{children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[i.jsxs(Ee,{variant:"outline",className:"justify-start",onClick:()=>r("/create-event"),children:[i.jsx(qs,{className:"w-4 h-4 mr-2"}),"Crer un vnement"]}),i.jsxs(Ee,{variant:"outline",className:"justify-start",onClick:()=>r("/boost"),children:[i.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Promouvoir un vnement"]}),i.jsxs(Ee,{variant:"outline",className:"justify-start",onClick:()=>r("/profile?tab=withdrawals"),children:[i.jsx(xge,{className:"w-4 h-4 mr-2"}),"Demander un retrait"]})]})})]})]})},EEe=({userProfile:e,userEvents:t,userTransactions:r,loadingEvents:n,referralData:s,organizerStats:a,loadingOrganizerStats:o})=>{const l=on(),c=(e==null?void 0:e.user_type)==="organizer"||(e==null?void 0:e.user_type)==="admin"||(e==null?void 0:e.user_type)==="super_admin";return i.jsxs(tm,{defaultValue:c?"dashboard":"events",className:"w-full",children:[i.jsxs(Xf,{children:[c&&i.jsxs($r,{value:"dashboard",children:[i.jsx(zge,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),i.jsxs($r,{value:"events",children:[i.jsx(qs,{className:"w-4 h-4 mr-2"}),"vnements"]}),i.jsxs($r,{value:"referrals",children:[i.jsx(Ep,{className:"w-4 h-4 mr-2"}),"Parrainage"]}),i.jsxs($r,{value:"transactions",children:[i.jsx(Jge,{className:"w-4 h-4 mr-2"}),"Transactions"]}),c&&i.jsxs($r,{value:"withdrawals",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"}),"Retraits"]}),i.jsxs($r,{value:"settings",onClick:()=>l("/settings"),children:[i.jsx(Kf,{className:"w-4 h-4 mr-2"}),"Paramtres"]})]}),c&&i.jsx(zr,{value:"dashboard",className:"mt-4",children:i.jsx(kEe,{stats:a,loading:o})}),i.jsx(zr,{value:"events",className:"mt-4",children:i.jsx(yEe,{userProfile:e,userEvents:t,loadingEvents:n})}),i.jsx(zr,{value:"referrals",className:"mt-4",children:i.jsx(SEe,{referralData:s})}),i.jsx(zr,{value:"transactions",className:"mt-4",children:i.jsx(CEe,{userTransactions:r})}),c&&i.jsx(zr,{value:"withdrawals",className:"mt-4",children:i.jsx(AEe,{})})]})};function IB(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rne(...e){return t=>{let r=!1;const n=e.map(s=>{const a=IB(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():IB(e[s],null)}}}}function nv(...e){return b.useCallback(rne(...e),e)}var nne=b.forwardRef((e,t)=>{const{children:r,...n}=e,s=b.Children.toArray(r),a=s.find(PEe);if(a){const o=a.props.children,l=s.map(c=>c===a?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:c);return i.jsx(FP,{...n,ref:t,children:b.isValidElement(o)?b.cloneElement(o,void 0,l):null})}return i.jsx(FP,{...n,ref:t,children:r})});nne.displayName="Slot";var FP=b.forwardRef((e,t)=>{const{children:r,...n}=e;if(b.isValidElement(r)){const s=FEe(r);return b.cloneElement(r,{...OEe(n,r.props),ref:t?rne(t,s):s})}return b.Children.count(r)>1?b.Children.only(null):null});FP.displayName="SlotClone";var TEe=({children:e})=>i.jsx(i.Fragment,{children:e});function PEe(e){return b.isValidElement(e)&&e.type===TEe}function OEe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function FEe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$_=DEe.reduce((e,t)=>{const r=b.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?nne:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),DP=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function REe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var B_=e=>{const{present:t,children:r}=e,n=MEe(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=nv(n.ref,IEe(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:a}):null};B_.displayName="Presence";function MEe(e){const[t,r]=b.useState(),n=b.useRef({}),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=REe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Sj(n.current);a.current=l==="mounted"?d:"none"},[l]),DP(()=>{const d=n.current,f=s.current;if(f!==e){const v=a.current,g=Sj(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),DP(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,h=g=>{const y=Sj(n.current).includes(g.animationName);if(g.target===t&&y&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},v=g=>{g.target===t&&(a.current=Sj(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Sj(e){return(e==null?void 0:e.animationName)||"none"}function IEe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function LEe(e,t=[]){let r=[];function n(a,o){const l=b.createContext(o),c=r.length;r=[...r,o];const d=h=>{var w;const{scope:v,children:g,..._}=h,y=((w=v==null?void 0:v[e])==null?void 0:w[c])||l,j=b.useMemo(()=>_,Object.values(_));return i.jsx(y.Provider,{value:j,children:g})};d.displayName=a+"Provider";function f(h,v){var y;const g=((y=v==null?void 0:v[e])==null?void 0:y[c])||l,_=b.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,$Ee(s,...t)]}function $Ee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function J0(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var BEe=b.createContext(void 0);function zEe(e){const t=b.useContext(BEe);return e||t||"ltr"}function UEe(e,[t,r]){return Math.min(r,Math.max(t,e))}function gg(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function VEe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var xR="ScrollArea",[ane,Xut]=LEe(xR),[qEe,td]=ane(xR),sne=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=b.useState(null),[d,f]=b.useState(null),[h,v]=b.useState(null),[g,_]=b.useState(null),[y,j]=b.useState(null),[w,C]=b.useState(0),[k,T]=b.useState(0),[P,D]=b.useState(!1),[M,I]=b.useState(!1),B=nv(t,U=>c(U)),V=zEe(s);return i.jsx(qEe,{scope:r,type:n,dir:V,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:f,content:h,onContentChange:v,scrollbarX:g,onScrollbarXChange:_,scrollbarXEnabled:P,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:j,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:C,onCornerHeightChange:T,children:i.jsx($_.div,{dir:V,...o,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});sne.displayName=xR;var ine="ScrollAreaViewport",one=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=td(ine,r),l=b.useRef(null),c=nv(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx($_.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});one.displayName=ine;var Jf="ScrollAreaScrollbar",yR=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=td(Jf,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(WEe,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(HEe,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(lne,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(bR,{...n,ref:t}):null});yR.displayName=Jf;var WEe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=td(Jf,e.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(B_,{present:r||a,children:i.jsx(lne,{"data-state":a?"visible":"hidden",...n,ref:t})})}),HEe=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=td(Jf,e.__scopeScrollArea),a=e.orientation==="horizontal",o=vC(()=>c("SCROLL_END"),100),[l,c]=VEe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),b.useEffect(()=>{const d=s.viewport,f=a?"scrollLeft":"scrollTop";if(d){let h=d[f];const v=()=>{const g=d[f];h!==g&&(c("SCROLL"),o()),h=g};return d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[s.viewport,a,c,o]),i.jsx(B_,{present:r||l!=="hidden",children:i.jsx(bR,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:gg(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:gg(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),lne=b.forwardRef((e,t)=>{const r=td(Jf,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=b.useState(!1),l=e.orientation==="horizontal",c=vC(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:f)}},10);return gx(r.viewport,c),gx(r.content,c),i.jsx(B_,{present:n||a,children:i.jsx(bR,{"data-state":a?"visible":"hidden",...s,ref:t})})}),bR=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=td(Jf,e.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=hne(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function h(v,g){return ZEe(v,o.current,l,g)}return r==="horizontal"?i.jsx(GEe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const v=s.viewport.scrollLeft,g=LB(v,l,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=h(v,s.dir))}}):r==="vertical"?i.jsx(KEe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const v=s.viewport.scrollTop,g=LB(v,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=h(v))}}):null}),GEe=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=td(Jf,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=nv(t,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(une,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gC(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(a.viewport){const v=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(v),pne(v,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:MN(o.paddingLeft),paddingEnd:MN(o.paddingRight)}})}})}),KEe=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=td(Jf,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=nv(t,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(une,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gC(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(a.viewport){const v=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(v),pne(v,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:MN(o.paddingTop),paddingEnd:MN(o.paddingBottom)}})}})}),[YEe,cne]=ane(Jf),une=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:h,...v}=e,g=td(Jf,r),[_,y]=b.useState(null),j=nv(t,B=>y(B)),w=b.useRef(null),C=b.useRef(""),k=g.viewport,T=n.content-n.viewport,P=J0(f),D=J0(c),M=vC(h,10);function I(B){if(w.current){const V=B.clientX-w.current.left,U=B.clientY-w.current.top;d({x:V,y:U})}}return b.useEffect(()=>{const B=V=>{const U=V.target;(_==null?void 0:_.contains(U))&&P(V,T)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[k,_,T,P]),b.useEffect(D,[n,D]),gx(_,M),gx(g.content,M),i.jsx(YEe,{scope:r,scrollbar:_,hasThumb:s,onThumbChange:J0(a),onThumbPointerUp:J0(o),onThumbPositionChange:D,onThumbPointerDown:J0(l),children:i.jsx($_.div,{...v,ref:j,style:{position:"absolute",...v.style},onPointerDown:gg(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),w.current=_.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),I(B))}),onPointerMove:gg(e.onPointerMove,I),onPointerUp:gg(e.onPointerUp,B=>{const V=B.target;V.hasPointerCapture(B.pointerId)&&V.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=C.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),RN="ScrollAreaThumb",dne=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=cne(RN,e.__scopeScrollArea);return i.jsx(B_,{present:r||s.hasThumb,children:i.jsx(XEe,{ref:t,...n})})}),XEe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=td(RN,r),o=cne(RN,r),{onThumbPositionChange:l}=o,c=nv(t,h=>o.onThumbChange(h)),d=b.useRef(void 0),f=vC(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const h=a.viewport;if(h){const v=()=>{if(f(),!d.current){const g=QEe(h,l);d.current=g,l()}};return l(),h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[a.viewport,f,l]),i.jsx($_.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:gg(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),_=h.clientX-g.left,y=h.clientY-g.top;o.onThumbPointerDown({x:_,y})}),onPointerUp:gg(e.onPointerUp,o.onThumbPointerUp)})});dne.displayName=RN;var wR="ScrollAreaCorner",fne=b.forwardRef((e,t)=>{const r=td(wR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(JEe,{...e,ref:t}):null});fne.displayName=wR;var JEe=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=td(wR,r),[a,o]=b.useState(0),[l,c]=b.useState(0),d=!!(a&&l);return gx(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),gx(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),d?i.jsx($_.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function MN(e){return e?parseInt(e,10):0}function hne(e,t){const r=e/t;return isNaN(r)?0:r}function gC(e){const t=hne(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ZEe(e,t,r,n="ltr"){const s=gC(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return mne([c,d],h)(e)}function LB(e,t,r="ltr"){const n=gC(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],d=UEe(e,c);return mne([0,o],[0,l])(d)}function mne(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function pne(e,t){return e>0&&e<t}var QEe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function vC(e,t){const r=J0(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function gx(e,t){const r=J0(t);DP(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var gne=sne,e6e=one,t6e=fne;const xC=Se.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(gne,{ref:n,className:Ht("relative overflow-hidden",e),...r,children:[i.jsx(e6e,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(vne,{}),i.jsx(t6e,{})]}));xC.displayName=gne.displayName;const vne=Se.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(yR,{ref:n,orientation:t,className:Ht("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(dne,{className:"relative flex-1 rounded-full bg-border"})}));vne.displayName=yR.displayName;const r6e=({isOpen:e,onClose:t,category:r,transactions:n=[]})=>{const s={raffle:"Tombolas",vote:"Votes",ticket:"Billetterie",stand:"Stands"},a=o=>o==="pending"?i.jsxs(nr,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[i.jsx(nu,{className:"w-3 h-3 mr-1"})," En attente"]}):i.jsxs(nr,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i.jsx(lX,{className:"w-3 h-3 mr-1"})," Transfr"]});return i.jsx(Ao,{open:e,onOpenChange:t,children:i.jsxs(to,{className:"sm:max-w-[500px]",children:[i.jsxs(ko,{children:[i.jsxs(Eo,{className:"flex items-center gap-2",children:[i.jsx(dn,{className:"w-5 h-5 text-primary"}),"Dtails - ",s[r]||r]}),i.jsx(Ol,{children:"Historique des gains en attente pour cette catgorie."})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 p-3 bg-muted/50 rounded-lg border",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total en attente"}),i.jsxs("span",{className:"text-xl font-bold text-primary",children:[n.reduce((o,l)=>o+(l.amount||0),0)," "]})]}),i.jsx(xC,{className:"h-[300px] pr-4",children:n.length>0?i.jsx("div",{className:"space-y-3",children:n.map((o,l)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-background border rounded-lg hover:bg-accent/5 transition-colors",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"font-medium text-sm",children:o.source||"Transaction"})}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(qs,{className:"w-3 h-3"}),o.date?Gn(new Date(o.date),"dd MMM yyyy HH:mm",{locale:Wo}):"Date inconnue"]})]}),i.jsxs("div",{className:"text-right space-y-1",children:[i.jsxs("div",{className:"font-bold text-primary",children:["+",o.amount," "]}),a(o.status)]})]},l))}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune transaction en attente pour cette catgorie."})})]}),i.jsx(Tc,{children:i.jsx(Ee,{onClick:t,variant:"outline",className:"w-full",children:"Fermer"})})]})})},n6e=({isOpen:e,onClose:t,onConfirm:r,totalAmount:n,loading:s})=>i.jsx(Ao,{open:e,onOpenChange:t,children:i.jsxs(to,{className:"sm:max-w-[425px]",children:[i.jsxs(ko,{children:[i.jsx(Eo,{children:"Demande de Transfert"}),i.jsx(Ol,{children:"Transfrez vos gains en attente vers votre solde disponible."})]}),i.jsxs("div",{className:"py-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-primary/5 rounded-xl border-2 border-primary/10 border-dashed",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Montant  transfrer"}),i.jsxs("span",{className:"text-4xl font-bold text-primary",children:[n," "]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Destination du transfert"}),i.jsxs(aa,{defaultValue:"internal_wallet",disabled:!0,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir la destination"})}),i.jsx(Zn,{children:i.jsx(ur,{value:"internal_wallet",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Us,{className:"w-4 h-4"}),"Portefeuille Interne (Disponible)"]})})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:'Les fonds seront dplacs de "En attente" vers "Disponible" instantanment.'})]})]}),i.jsxs(Tc,{className:"flex-col sm:flex-row gap-2",children:[i.jsx(Ee,{variant:"outline",onClick:t,disabled:s,children:"Annuler"}),i.jsxs(Ee,{onClick:r,disabled:s||n<=0,className:"bg-green-600 hover:bg-green-700",children:[s?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(dN,{className:"w-4 h-4 mr-2"}),"Confirmer le transfert"]})]})]})}),a6e=()=>{Dn();const{user:e,loading:t}=Pr(),{userProfile:r,loadingProfile:n,getEvents:s,refreshUserProfile:a,adminConfig:o,forceRefreshUserProfile:l}=Un(),[c,d]=b.useState([]),[f,h]=b.useState([]),[v,g]=b.useState({count:0,coins:0}),[_,y]=b.useState(null),[j,w]=b.useState({raffle:[],vote:[],ticket:[],stand:[],legacy_raffle:[]}),[C,k]=b.useState(0),[T,P]=b.useState(!1),[D,M]=b.useState(!1),[I,B]=b.useState(null),[V,U]=b.useState(!0),[q,re]=b.useState(!0),[H,X]=b.useState(!1),[Q,se]=b.useState(null),[te,ce]=b.useState(!1),{toast:xe}=Ti(),[de]=v3(),ee=de.get("tab")||"events",fe=b.useRef(null),ne=b.useCallback(async()=>{var Te,$e;if(e){re(!0);try{const[pe,Ge]=await Promise.all([Oe.from("organizer_earnings").select("earnings_coins, transaction_type, created_at, status, id").eq("organizer_id",e.id).eq("status","pending"),Oe.from("raffle_events").select("id, calculated_price_pi, tickets_sold, earnings_transferred, created_at").eq("organizer_id",e.id).eq("status","completed").eq("earnings_transferred",!1)]);if(pe.error)throw pe.error;if(Ge.error)throw Ge.error;const pt={raffle:[],vote:[],ticket:[],stand:[],legacy_raffle:[]};let Pt=0;(Te=pe.data)==null||Te.forEach(nt=>{const Ye=nt.earnings_coins||0,Ue={id:nt.id,amount:Ye,date:nt.created_at,source:nt.transaction_type,status:nt.status};Pt+=Ye,nt.transaction_type==="vote"||nt.transaction_type==="vote_participation"?pt.vote.push(Ue):nt.transaction_type==="ticket_sale"||nt.transaction_type==="ticket_purchase"?pt.ticket.push(Ue):nt.transaction_type==="stand_rental"?pt.stand.push(Ue):(nt.transaction_type==="raffle_participation"||nt.transaction_type==="raffle_ticket")&&pt.raffle.push(Ue)}),($e=Ge.data)==null||$e.forEach(nt=>{const Ye=(nt.tickets_sold||0)*(nt.calculated_price_pi||0),Ue=Math.floor(Ye*.95);Ue>0&&(Pt+=Ue,pt.raffle.push({id:nt.id,amount:Ue,date:nt.created_at,source:"Tombola termine (Legacy)",status:"pending"}),pt.legacy_raffle.push(nt.id))}),w(pt),k(Pt),console.log(`Pending Tombolas: ${pt.raffle.reduce((nt,Ye)=>nt+Ye.amount,0)}`),console.log(`Pending Votes: ${pt.vote.reduce((nt,Ye)=>nt+Ye.amount,0)}`),console.log(`Pending Billetterie: ${pt.ticket.reduce((nt,Ye)=>nt+Ye.amount,0)}`),console.log(`Pending Stands: ${pt.stand.reduce((nt,Ye)=>nt+Ye.amount,0)}`),console.log(`Total pending: ${Pt}`)}catch(pe){console.error("Error fetching earnings:",pe)}finally{re(!1)}}},[e]),Y=b.useCallback(async()=>{if(e){U(!0),se(null),ce(!1),console.time("profilePageLoad"),fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{U&&(ce(!0),U(!1),console.warn("Profile load timed out"))},1e4);try{const Te=r&&["organizer","admin","super_admin"].includes(r.user_type),[$e,pe,Ge,pt]=await Promise.all([s({organizer_id:e.id}),Oe.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50),Te?Oe.from("organizer_balances").select("*").eq("organizer_id",e.id).maybeSingle():Promise.resolve({data:null}),Oe.from("referral_rewards").select("referrer_reward",{count:"exact"}).eq("referrer_id",e.id)]);if(fe.current&&clearTimeout(fe.current),d($e||[]),h(pe.data||[]),y(Ge.data),pt.data){const Pt=pt.count||pt.data.length,nt=pt.data.reduce((Ye,Ue)=>Ye+(Ue.referrer_reward||0),0);g({count:Pt,coins:nt})}}catch(Te){console.error("Profile page load error:",Te),se(Te.message||"Erreur de chargement")}finally{U(!1),console.timeEnd("profilePageLoad")}}},[e,r,s]);b.useEffect(()=>(!t&&e&&(ne(),Y()),()=>{fe.current&&clearTimeout(fe.current)}),[t,e,Y,ne]);const ue=Te=>{B(Te),P(!0)},le=()=>{M(!0)},ke=async()=>{X(!0);try{console.log("Transfer request created");const{data:Te,error:$e}=await Oe.rpc("transfer_pending_earnings",{p_organizer_id:e.id,p_event_type:"all"});if($e)throw $e;j.legacy_raffle.length>0&&await Oe.rpc("transfer_raffle_earnings"),Te.success||j.legacy_raffle.length>0?xe({title:"Transfert russi",description:"Vos gains ont t transfrs vers votre solde disponible."}):xe({title:"Info",description:"Aucun nouveau gain  transfrer."}),await a(),await ne(),M(!1)}catch(Te){xe({title:"Erreur",description:Te.message,variant:"destructive"})}finally{X(!1)}},_e=()=>{l(),Y(),ne()},Fe=Te=>Te.reduce(($e,pe)=>$e+pe.amount,0),Be=({category:Te,label:$e,icon:pe,list:Ge,colorClass:pt})=>i.jsxs(Ee,{variant:"outline",className:`h-auto py-3 px-4 flex flex-col items-start gap-1 border-l-4 ${pt} hover:bg-muted/50 transition-all w-full`,onClick:()=>ue(Te),children:[i.jsxs("div",{className:"flex justify-between w-full items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:$e})]}),i.jsx(nr,{variant:"outline",className:"text-xs font-normal bg-yellow-50 text-yellow-700 border-yellow-200",children:"En attente"})]}),i.jsxs("div",{className:"text-xl font-bold mt-1",children:[Fe(Ge)," "]})]}),Re=()=>i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((Te,$e)=>i.jsx(ys,{className:"h-24 w-full rounded-xl"},$e))});return t?i.jsx("div",{className:"h-screen flex items-center justify-center",children:i.jsx(Dt,{className:"animate-spin w-10 h-10 text-primary"})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(_a,{children:i.jsxs("title",{children:[(r==null?void 0:r.full_name)||"Profil"," - BonPlanInfos"]})}),i.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24",children:[i.jsx(mEe,{}),(Q||te)&&i.jsxs(oy,{variant:"destructive",className:"mb-6",children:[i.jsx(ru,{className:"h-4 w-4"}),i.jsx(ly,{children:"Problme de chargement"}),i.jsxs(cy,{className:"flex items-center justify-between",children:[i.jsx("span",{children:te?"Le chargement prend trop de temps. Vrifiez votre connexion.":"Une erreur est survenue lors du chargement des donnes."}),i.jsxs(Ee,{variant:"outline",size:"sm",onClick:_e,className:"bg-white/10 hover:bg-white/20 text-white border-white/20",children:[i.jsx(tw,{className:"w-4 h-4 mr-2"})," Ressayer"]})]})]}),i.jsx("div",{className:"my-8",children:n?i.jsx(Re,{}):i.jsx(pEe,{userProfile:r,eventCount:c.length})}),r&&["organizer","admin","super_admin"].includes(r.user_type)&&i.jsxs("div",{className:"mb-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(IF,{className:"text-primary"}),"Tableau de Bord Revenus"]}),i.jsx(Ee,{onClick:()=>ne(),variant:"ghost",size:"icon",disabled:q,children:i.jsx(tw,{className:`w-4 h-4 ${q?"animate-spin":""}`})})]}),q?i.jsxs("div",{className:"space-y-4",children:[i.jsx(ys,{className:"h-32 w-full rounded-xl"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[...Array(4)].map((Te,$e)=>i.jsx(ys,{className:"h-20 w-full rounded-xl"},$e))})]}):i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"border-none shadow-lg bg-gradient-to-r from-primary/90 to-primary text-primary-foreground overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-0 right-0 p-10 bg-white/5 rounded-full -mr-10 -mt-10 blur-2xl"}),i.jsx(st,{className:"p-6 sm:p-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[i.jsxs("h3",{className:"text-lg font-medium opacity-90 flex items-center justify-center md:justify-start gap-2",children:[i.jsx(nu,{className:"w-5 h-5"}),"Total en attente de transfert"]}),i.jsxs("div",{className:"text-5xl font-bold tracking-tight",children:[C," ",i.jsx("span",{className:"text-3xl opacity-80",children:""})]}),i.jsxs("p",{className:"text-sm opacity-75",children:[" ",(C*((o==null?void 0:o.coin_to_fcfa_rate)||10)).toLocaleString()," FCFA"]}),i.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-x-4 gap-y-1 text-xs opacity-80 mt-2 pt-2 border-t border-white/20",children:[i.jsxs("span",{children:["Tombolas: ",Fe(j.raffle),""]}),i.jsxs("span",{children:["Votes: ",Fe(j.vote),""]}),i.jsxs("span",{children:["Billetterie: ",Fe(j.ticket),""]}),i.jsxs("span",{children:["Stands: ",Fe(j.stand),""]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[i.jsxs(Ee,{size:"lg",variant:"secondary",className:"w-full md:w-auto font-bold shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",onClick:le,disabled:C===0,children:[i.jsx(Us,{className:"mr-2 h-5 w-5"}),"Demander le transfert"]}),i.jsx("p",{className:"text-[10px] text-center opacity-60 max-w-[200px]",children:"Transfre les gains vers votre solde disponible pour retrait."})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Be,{category:"raffle",label:"Tombolas",icon:ki,list:j.raffle,colorClass:"border-l-purple-500"}),i.jsx(Be,{category:"vote",label:"Votes",icon:Gh,list:j.vote,colorClass:"border-l-blue-500"}),i.jsx(Be,{category:"ticket",label:"Billetterie",icon:ki,list:j.ticket,colorClass:"border-l-green-500"}),i.jsx(Be,{category:"stand",label:"Stands",icon:Vf,list:j.stand,colorClass:"border-l-orange-500"})]})]})]}),V?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[...Array(4)].map((Te,$e)=>i.jsx(ys,{className:"h-10 w-32 rounded-md flex-shrink-0"},$e))}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((Te,$e)=>i.jsx(ys,{className:"h-64 w-full rounded-xl"},$e))})]}):i.jsx(EEe,{userProfile:r,userEvents:c,userTransactions:f,loadingEvents:V,referralData:v,activeTab:ee,organizerStats:_,loadingOrganizerStats:V})]}),i.jsx(r6e,{isOpen:T,onClose:()=>P(!1),category:I,transactions:I?j[I]:[]}),i.jsx(n6e,{isOpen:D,onClose:()=>M(!1),onConfirm:ke,totalAmount:C,loading:H})]})},s6e=Se.memo(a6e),yC=({isOpen:e,onClose:t,amountFcfa:r,packId:n,action:s})=>{const{user:a}=Pr(),{toast:o}=Ti(),[l,c]=b.useState(!1),[d,f]=b.useState([]),[h,v]=b.useState(null),[g,_]=b.useState("");b.useEffect(()=>{e?(async()=>{c(!0);const{data:P,error:D}=await Oe.from("coin_packs").select("*").eq("is_active",!0).order("display_order");if(D)console.error("Error fetching coin packs:",D),o({title:"Erreur",description:"Impossible de charger les packs.",variant:"destructive"}),f([]);else if(f(P),n){const M=P.find(I=>I.id===n);M&&y(M)}else if(r){const M={id:"custom",name:"Recharge Personnalise",fcfa_price:r,coin_amount:ws.convertFcfaToCoins(r),bonus_coins:0};y(M)}c(!1)})():(v(null),_(""))},[e,o,n,r]);const y=T=>{if(!a){o({variant:"destructive",title:"Erreur",description:"Veuillez vous connecter."});return}v(T);const P=ws.generateMoneyFusionLink({userId:a.id,amountFcfa:T.fcfa_price,action:s||"buy_coins",packId:T.id!=="custom"?T.id:null,email:a.email,phone:a.phone||""});_(P)},j=()=>{g?window.open(g,"_blank","noopener,noreferrer"):o({title:"Veuillez slectionner un pack",description:"Choisissez un pack de pices pour continuer.",variant:"default"})},w=()=>{navigator.clipboard.writeText(g),o({title:"Copi!",description:"Le lien de paiement a t copi."})},C=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 max-h-[60vh] overflow-y-auto",children:d.map(T=>i.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all duration-300 cursor-pointer flex flex-col justify-between ${T.name.includes("Premium")||T.name.includes("Standard")?"border-primary bg-primary/10":"border-gray-700 bg-gray-800"} hover:border-primary`,onClick:()=>y(T),children:[(T.name.includes("Premium")||T.name.includes("Standard"))&&i.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",children:[i.jsx(Cc,{size:12})," Populaire"]}),i.jsxs("div",{className:"flex flex-col items-center text-center pt-4",children:[i.jsx("h3",{className:"text-xl font-semibold mb-1 text-white",children:T.name}),i.jsxs("p",{className:"text-4xl font-bold text-primary my-2 flex items-center gap-2",children:[i.jsx(zF,{size:28}),T.coin_amount+(T.bonus_coins||0)]}),T.bonus_coins>0&&i.jsxs("p",{className:"text-sm text-primary/80 font-semibold",children:["dont ",T.bonus_coins," pices bonus !"]}),i.jsxs("p",{className:"text-lg font-medium text-white mt-3 bg-black/20 px-4 py-1 rounded-full",children:[T.fcfa_price.toLocaleString("fr-FR")," FCFA"]})]})]},T.id))}),k=()=>i.jsxs("div",{className:"p-4 space-y-6 text-center max-h-[70vh] overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["Finalisez votre paiement de ",h.fcfa_price.toLocaleString("fr-FR")," FCFA"]}),i.jsx("p",{className:"text-muted-foreground",children:"Scannez le QR code avec votre tlphone ou utilisez le lien ci-dessous."}),i.jsx("div",{className:"p-4 bg-white rounded-lg inline-block",children:i.jsx(NEe,{value:g,size:192})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs(Ee,{onClick:w,variant:"outline",className:"w-full",children:[i.jsx(Z2,{className:"w-4 h-4 mr-2"})," Copier le lien"]}),i.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:i.jsxs(Ee,{className:"w-full",children:[i.jsx(BF,{className:"w-4 h-4 mr-2"})," Ouvrir le lien"]})})]}),i.jsx(Ee,{variant:"ghost",onClick:()=>{v(null),_("")},children:"Retour au choix des packs"})]});return i.jsx(Ao,{open:e,onOpenChange:t,children:i.jsxs(to,{className:"sm:max-w-[800px] bg-gray-900 border-gray-700 text-white",children:[i.jsxs(ko,{children:[i.jsxs(Eo,{className:"text-2xl font-bold flex items-center gap-2 text-primary",children:[i.jsx(dn,{})," ",h?"Finaliser le Paiement":"Acheter des Pices"]}),i.jsx(Ol,{className:"text-gray-400",children:h?"Suivez les instructions pour recharger votre compte.":"Rechargez votre compte pour profiter de toutes les fonctionnalits."})]}),l?i.jsx("div",{className:"flex justify-center items-center h-48",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):h?k():C(),i.jsxs(Tc,{className:"flex flex-col sm:flex-row items-center justify-between w-full pt-6 border-t border-gray-200 dark:border-gray-700 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ix,{size:16,className:"text-green-500"}),i.jsx("span",{children:"Scuris par"}),i.jsx("span",{className:"font-semibold text-foreground",children:"MoneyFusion"})]}),i.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(xc,{size:14}),i.jsx(nve,{size:14}),i.jsx(kp,{size:14})]})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[i.jsx(Ee,{variant:"ghost",onClick:t,disabled:l,size:"sm",children:"Plus tard"}),i.jsx(Ee,{onClick:j,disabled:l||!h,size:"sm",className:"bg-primary hover:bg-primary/90",children:l?i.jsx(Dt,{size:16,className:"animate-spin"}):"Payer maintenant"})]})]})]})})},i6e=()=>{var ee,fe;const{t:e}=Dn(),[t,r]=b.useState([]),[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState(""),[d,f]=b.useState({selectedCategories:[],selectedCountries:[],selectedCities:[],selectedEventTypes:[],priceRange:[0,5e4],quickFilter:null}),h=Tl(),v=on(),{userProfile:g,adminConfig:_,forceRefreshUserProfile:y,hasFetchError:j}=Un(),{user:w}=Pr(),[C,k]=b.useState(!1),[T,P]=b.useState(!1),[D,M]=b.useState(new Set),[I,B]=b.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),V=b.useMemo(()=>[{label:e("events_page.quick_filters.trending"),value:"trending"},{label:e("events_page.quick_filters.popular_by_category"),value:"popular_by_category"},{label:e("events_page.quick_filters.free_weekend"),value:"free_weekend"},{label:e("events_page.quick_filters.ending_soon"),value:"ending_soon",icon:Ql}],[e]),U=b.useCallback(async()=>{if(w)try{const{data:ne,error:Y}=await Oe.from("protected_event_access").select("event_id").eq("user_id",w.id).eq("status","active");if(Y)throw Y;const ue=new Set(ne.map(le=>le.event_id));M(ue)}catch(ne){console.error("Error fetching unlocked events:",ne)}},[w]),q=b.useCallback(async()=>{if(j){o(!1);return}o(!0);try{const[ne,Y]=await Promise.all([Oe.from("events_with_categories").select("*").eq("status","active"),Oe.from("event_categories").select("*").eq("is_active",!0).order("name")]);if(ne.error)throw ne.error;if(Y.error)throw Y.error;r(ne.data||[]),s(Y.data||[])}catch{ze({title:e("common.error_title"),description:"Impossible de charger les vnements.",variant:"destructive"})}finally{o(!1)}},[j,e]);b.useEffect(()=>{q(),U()},[q,U]),b.useEffect(()=>{var ne;(ne=h.state)!=null&&ne.preselectedEventTypes&&(f(Y=>({...Y,selectedEventTypes:h.state.preselectedEventTypes})),v(h.pathname,{replace:!0,state:{}}))},[h.state,v]);const re=(ne,Y)=>f(ue=>({...ue,[ne]:ue[ne].includes(Y)?ue[ne].filter(le=>le!==Y):[...ue[ne],Y]})),H=ne=>f(Y=>({...Y,quickFilter:Y.quickFilter===ne?null:ne})),X=()=>{f({selectedCategories:[],selectedCountries:[],selectedCities:[],selectedEventTypes:[],priceRange:[0,5e4],quickFilter:null}),c("")},Q=b.useMemo(()=>{let ne=t.filter(ue=>{const le=l===""||ue.title.toLowerCase().includes(l.toLowerCase())||ue.description&&ue.description.toLowerCase().includes(l.toLowerCase()),ke=d.selectedCategories.length===0||d.selectedCategories.includes(ue.category_slug),_e=d.selectedCountries.length===0||d.selectedCountries.includes(ue.country),Fe=d.selectedCities.length===0||d.selectedCities.includes(ue.city),Be=d.selectedEventTypes.length===0||d.selectedEventTypes.includes(ue.event_type);return le&&ke&&_e&&Fe&&Be});d.quickFilter;const Y=new Date;return Y.setDate(Y.getDate()-1),ne.sort((ue,le)=>{const ke=D.has(ue.id),_e=D.has(le.id);if(ke&&!_e)return 1;if(!ke&&_e)return-1;const Fe=new Date(ue.created_at)>Y,Be=new Date(le.created_at)>Y;return Fe&&!Be?-1:!Fe&&Be?1:new Date(ue.event_date)-new Date(le.event_date)})},[t,l,d,D]),se=async ne=>{await ws.handleAction({userId:w.id,requiredCoins:2,onSuccess:async()=>{try{const{data:Y,error:ue}=await Oe.rpc("access_protected_event",{p_event_id:ne.id,p_user_id:w.id},{method:"POST"});if(ue)throw ue;if(!Y.success)throw new Error(Y.message);M(le=>new Set(le).add(ne.id)),await y(),ze({title:e("events_page.unlock_modal.success_title"),description:e("events_page.unlock_modal.success_desc",{title:ne.title})}),v(`/event/${ne.id}`)}catch(Y){ze({title:e("common.error_title"),description:Y.message,variant:"destructive"})}},onInsufficientBalance:()=>k(!0)})},te=async ne=>{if(!w){v("/auth");return}if(!D.has(ne.id)&&ne.event_type!=="protected")try{await Oe.from("user_interactions").insert({user_id:w.id,event_id:ne.id,interaction_type:"view"})}catch(ke){console.error("Failed to log view interaction:",ke)}const Y=g&&["super_admin","admin","secretary"].includes(g.user_type),ue=w&&ne.organizer_id===w.id;if(D.has(ne.id)||ue||Y||ne.event_type!=="protected")v(`/event/${ne.id}`);else{const _e=2*((_==null?void 0:_.coin_to_fcfa_rate)||10);B({isOpen:!0,event:ne,cost:2,costFcfa:_e,onConfirm:()=>se(ne)})}},ce=b.useMemo(()=>d.selectedCountries.length===0?Object.values(px).flat().slice(0,100):d.selectedCountries.reduce((ne,Y)=>ne.concat(px[Y]||[]),[]),[d.selectedCountries]),xe=[{name:e("home_page.event_types.standard"),value:"standard"},{name:e("home_page.event_types.raffles"),value:"raffle"},{name:e("home_page.event_types.voting"),value:"voting"},{name:e("home_page.event_types.stands"),value:"stand_rental"},{name:e("home_page.event_types.ticketing"),value:"ticketing"},{name:"Protg",value:"protected"}],de=d.selectedCategories.length+d.selectedCountries.length+d.selectedCities.length+d.selectedEventTypes.length+(d.quickFilter?1:0);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("events_page.title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("events_page.subtitle")})]}),i.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("events_page.title")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:e("events_page.subtitle")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(Co,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),i.jsx(vt,{placeholder:e("events_page.search_placeholder"),value:l,onChange:ne=>c(ne.target.value),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary"})]}),i.jsxs(lQ,{children:[i.jsx(cQ,{asChild:!0,children:i.jsxs(Ee,{variant:"outline",className:"h-12 rounded-full relative",children:[i.jsx(rve,{className:"w-4 h-4 mr-2"}),e("events_page.filters")," ",de>0&&i.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs",children:de})]})}),i.jsxs(PD,{side:"right",className:"w-[300px] sm:w-[400px] flex flex-col",children:[i.jsx(OD,{children:i.jsx(DD,{children:e("events_page.filters")})}),i.jsxs("div",{className:"py-4 space-y-6 flex-grow overflow-y-auto pr-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.event_types")}),i.jsx("div",{className:"space-y-2",children:xe.map(ne=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:`type-${ne.value}`,checked:d.selectedEventTypes.includes(ne.value),onCheckedChange:()=>re("selectedEventTypes",ne.value)}),i.jsx(Qe,{htmlFor:`type-${ne.value}`,className:"cursor-pointer",children:ne.name})]},ne.value))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.categories")}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.map(ne=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:`cat-${ne.id}`,checked:d.selectedCategories.includes(ne.slug),onCheckedChange:()=>re("selectedCategories",ne.slug)}),i.jsx(Qe,{htmlFor:`cat-${ne.id}`,className:"cursor-pointer",children:ne.name})]},ne.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.countries")}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:I_.map(ne=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:`country-${ne.code}`,checked:d.selectedCountries.includes(ne.name),onCheckedChange:()=>re("selectedCountries",ne.name)}),i.jsx(Qe,{htmlFor:`country-${ne.code}`,className:"cursor-pointer",children:ne.name})]},ne.code))})]}),ce.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.cities")}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ce.map(ne=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:`city-${ne}`,checked:d.selectedCities.includes(ne),onCheckedChange:()=>re("selectedCities",ne)}),i.jsx(Qe,{htmlFor:`city-${ne}`,className:"cursor-pointer",children:ne})]},ne))})]})]}),i.jsx(FD,{children:i.jsx(Ee,{variant:"outline",onClick:X,children:e("events_page.reset")})})]})]})]}),i.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:V.map(ne=>i.jsxs(Ee,{variant:d.quickFilter===ne.value?"default":"secondary",size:"sm",onClick:()=>H(ne.value),className:"rounded-full",children:[ne.icon&&i.jsx(ne.icon,{className:`w-4 h-4 mr-2 ${ne.value==="ending_soon"?"text-red-400":""}`})," ",ne.label]},ne.value))})]}),a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):j?i.jsxs("div",{className:"text-center py-16 flex flex-col items-center",children:[i.jsx(Ql,{className:"w-16 h-16 text-destructive mb-4"}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-destructive",children:e("home_page.loading_error.title")}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:e("home_page.loading_error.description")}),i.jsxs(Ee,{onClick:()=>window.location.reload(),children:[i.jsx(tw,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):Q.length>0?i.jsx(wt.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05},children:Q.map(ne=>i.jsx(uC,{event:ne,onClick:()=>te(ne),isUnlocked:D.has(ne.id)||w&&ne.organizer_id===w.id||g&&["super_admin","admin","secretary"].includes(g.user_type)},ne.id))}):i.jsxs("div",{className:"text-center py-16 flex flex-col items-center",children:[i.jsx(Ql,{className:"w-16 h-16 text-muted-foreground/50 mb-4"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("events_page.no_events_found.title")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:e("events_page.no_events_found.description")}),i.jsxs(Ee,{onClick:X,children:[i.jsx(tw,{className:"w-4 h-4 mr-2"}),e("events_page.no_events_found.reset_button")]})]})]}),i.jsx(Kd,{isOpen:C,onClose:()=>k(!1),onProceed:()=>{k(!1),P(!0)}}),i.jsx(yC,{isOpen:T,onClose:()=>P(!1)}),i.jsx(jo,{open:I.isOpen,onOpenChange:ne=>!ne&&B({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:e("events_page.unlock_modal.title")}),i.jsx(Ji,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[i.jsx(dn,{className:"w-12 h-12 text-primary mb-4"}),i.jsx("p",{className:"text-lg",children:e("events_page.unlock_modal.description",{title:(ee=I.event)==null?void 0:ee.title,cost:I.cost,costFcfa:(fe=I.costFcfa)==null?void 0:fe.toLocaleString("fr-FR")})}),i.jsxs("div",{className:"mt-4 text-xs text-muted-foreground p-2 bg-muted rounded flex items-start gap-2",children:[i.jsx(cu,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:e("events_page.unlock_modal.info")})]})]})})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:e("common.cancel")}),i.jsx(Zi,{onClick:I.onConfirm,children:e("common.confirm")})]})]})})]})},o6e=()=>{const e=on(),{t}=Dn(),r=[{type:"simple",title:t("create_event_page.types.simple.title"),description:t("create_event_page.types.simple.desc"),icon:Iu,path:"/create-simple-event",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600",textColor:"text-white",iconColor:"text-white"},{type:"ticketing",title:t("create_event_page.types.ticketing.title"),description:t("create_event_page.types.ticketing.desc"),icon:ki,path:"/create-ticketing-event",bgColor:"bg-gradient-to-br from-red-500 to-red-600",textColor:"text-white",iconColor:"text-white"},{type:"voting",title:t("create_event_page.types.voting.title"),description:t("create_event_page.types.voting.desc"),icon:Gh,path:"/create-voting-event",bgColor:"bg-gradient-to-br from-green-500 to-green-600",textColor:"text-white",iconColor:"text-white"},{type:"raffle",title:t("create_event_page.types.raffle.title"),description:t("create_event_page.types.raffle.desc"),icon:Ep,path:"/create-raffle-event",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600",textColor:"text-white",iconColor:"text-white"},{type:"stand_rental",title:t("create_event_page.types.stand.title"),description:t("create_event_page.types.stand.desc"),icon:Vf,path:"/create-stand-event",bgColor:"bg-gradient-to-br from-teal-500 to-teal-600",textColor:"text-white",iconColor:"text-white"}],n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsx("title",{children:t("create_event_page.meta.title")}),i.jsx("meta",{name:"description",content:t("create_event_page.meta.description")})]}),i.jsxs("main",{className:"container mx-auto max-w-4xl px-4 py-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"mr-2",children:i.jsx(Hd,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:t("create_event_page.title")})]}),i.jsx("p",{className:"text-base sm:text-lg text-muted-foreground mb-8",children:t("create_event_page.subtitle")}),i.jsx(wt.div,{className:"grid grid-cols-2 gap-4 sm:gap-6",variants:n,initial:"hidden",animate:"visible",children:r.map(a=>i.jsx(wt.div,{variants:s,children:i.jsx(at,{className:`cursor-pointer h-full transition-all duration-300 hover:shadow-2xl hover:scale-105 border-0 shadow-lg ${a.bgColor}`,onClick:()=>e(a.path),children:i.jsxs(st,{className:"p-4 sm:p-6 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full bg-white/20",children:i.jsx(a.icon,{className:`w-7 h-7 sm:w-8 sm:h-8 ${a.iconColor}`})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:`font-semibold text-base sm:text-lg ${a.textColor}`,children:a.title}),i.jsx("p",{className:"text-white/90 text-xs sm:text-sm mt-1",children:a.description})]})]})})},a.type))}),i.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-12 p-6 bg-muted/50 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Ga,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold",children:t("create_event_page.help.title")})]}),i.jsx("p",{className:"text-muted-foreground mb-4 max-w-xl mx-auto",children:t("create_event_page.help.description")}),i.jsxs(Ee,{variant:"outline",onClick:()=>e("/guide-utilisation"),className:"h-11",children:[i.jsx(Iu,{className:"w-4 h-4 mr-2"}),t("create_event_page.help.button")]})]})]})]})},l6e=["fr","en"],c6e=(e,t,r={})=>{var d;const n="BonPlanInfos",s={fr:"La plateforme qui rcompense vos dcouvertes d'vnements en Afrique. Trouvez des bons plans, gagnez de l'argent et vivez des expriences uniques.",en:"The platform that rewards your event discoveries in Africa. Find great deals, earn money and live unique experiences."},a={fr:"bons plans, vnements afrique, promotions, sorties, concerts, festivals, gagner de l'argent, Abidjan, Dakar, Cotonou, Lom, Ouagadougou, rcompenses, pices, tlchargement",en:"deals, africa events, promotions, outings, concerts, festivals, earn money, Abidjan, Dakar, Cotonou, Lom, Ouagadougou, rewards, coins, downloads"},o=t("language")||"fr",l=a[o]||a.fr;return{"/":{title:`${t("nav.home","Accueil")} - ${n}`,description:t("home.meta.description",s[o]),keywords:l},"/events":{title:`${t("nav.events","vnements")} - ${n}`,description:o==="fr"?"Dcouvrez tous les vnements, concerts et activits prs de chez vous en Afrique. Rservez vos places et gagnez des rcompenses.":"Discover all events, concerts and activities near you in Africa. Book your tickets and earn rewards.",keywords:`vnements, concerts, activits, ${l}`},"/discover":{title:`Dcouvrir - ${n}`,description:o==="fr"?"Explorez les meilleurs vnements et promotions dans votre ville. Ne manquez plus jamais une occasion de vous amuser.":"Explore the best events and promotions in your city. Never miss a chance to have fun again.",keywords:`dcouvrir, explorer, ${l}`},"/event":{title:`${r.title||t("nav.event","vnement")} - ${n}`,description:r.description||(o==="fr"?"Dcouvrez tous les dtails de cet vnement exclusif. Rservez maintenant et ne manquez pas cette exprience unique.":"Discover all the details of this exclusive event. Book now and don't miss this unique experience."),keywords:`${r.title||""}, ${r.category||""}, ${r.city||""}, ${l}`},"/marketing":{title:`Partenariat - ${n}`,description:o==="fr"?"Devenez partenaire BonPlanInfos et lancez un business digital rentable dans votre rgion. Rejoignez notre rseau d'ambassadeurs.":"Become a BonPlanInfos partner and launch a profitable digital business in your region. Join our ambassador network.",keywords:`partenariat, franchise, business, ${l}`},"/partner-signup":{title:`Devenir Partenaire - ${n}`,description:o==="fr"?"Rejoignez le rseau BonPlanInfos en tant que partenaire. Dveloppez votre business et gnrez des revenus dans le digital.":"Join the BonPlanInfos network as a partner. Develop your business and generate digital income.",keywords:`devenir partenaire, inscription, ${l}`},"/pricing":{title:`Tarifs & Packs - ${n}`,description:o==="fr"?"Dcouvrez nos packs de pices et nos offres pour les organisateurs et les partenaires. Choisissez la formule qui vous convient.":"Discover our coin packs and offers for organizers and partners. Choose the plan that suits you.",keywords:`tarifs, prix, packs, abonnements, ${l}`},"/about":{title:` Propos - ${n}`,description:o==="fr"?"Dcouvrez la mission, l'quipe et les valeurs de BonPlanInfos, la plateforme d'vnements qui vous rcompense en Afrique.":"Discover the mission, team and values of BonPlanInfos, the event platform that rewards you in Africa.",keywords:` propos, mission, quipe, valeurs, ${l}`},"/wallet":{title:`Portefeuille - ${n}`,description:o==="fr"?"Grez votre portefeuille BonPlanInfos. Consultez votre solde de pices, vos transactions et retirez vos gains.":"Manage your BonPlanInfos wallet. Check your coin balance, transactions and withdraw your earnings.",keywords:`portefeuille, pices, transactions, retraits, ${l}`},"/profile":{title:`Profil - ${n}`,description:o==="fr"?"Grez votre profil BonPlanInfos. Personnalisez vos prfrences et consultez votre activit.":"Manage your BonPlanInfos profile. Customize your preferences and view your activity.",keywords:`profil, compte, paramtres, ${l}`}}[e]||{title:`${n} - ${(d=s[o])==null?void 0:d.split(".")[0]}`,description:s[o],keywords:l}},bC=({pageData:e={}})=>{const{i18n:t}=Dn(),r=Tl(),n=r.pathname.split("/").filter(j=>j),s=n[0]?`/${n[0]}`:"/",a=n[0]==="event"&&n[1],l=c6e(a?"/event":s,t.t,e),c=e.title||l.title,d=e.description||l.description,f=e.keywords||l.keywords,v=(()=>e.ogImage?`https://bonplaninfos.imgix.net/${e.ogImage.split("/").pop()}?auto=format&fit=max&w=1200&h=630`:e.cover_image?`https://bonplaninfos.imgix.net/${e.cover_image.split("/").pop()}?auto=format&fit=max&w=1200&h=630`:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/08e3ecec378eb185b9bc3412f675f660.png")(),g=`https://bonplaninfos.net${r.pathname}`,_=t.language||"fr",y=()=>{const j={"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://bonplaninfos.net/#website",url:"https://bonplaninfos.net",name:"BonPlanInfos",description:l.description,inLanguage:_,potentialAction:{"@type":"SearchAction",target:"https://bonplaninfos.net/events?q={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"Organization","@id":"https://bonplaninfos.net/#organization",name:"BonPlanInfos",url:"https://bonplaninfos.net",logo:{"@type":"ImageObject",url:"https://bonplaninfos.net/logo.png",width:200,height:200},description:l.description}]};return a&&e&&j["@graph"].push({"@type":"Event",name:e.title,description:e.description,startDate:e.event_date,endDate:e.end_date,location:{"@type":"Place",name:e.venue||e.city,address:{"@type":"PostalAddress",addressLocality:e.city,addressCountry:e.country}},organizer:{"@type":"Organization",name:e.organizer_name||"BonPlanInfos"},image:v}),j};return i.jsxs(_a,{children:[i.jsx("html",{lang:_}),i.jsx("title",{children:c}),i.jsx("meta",{name:"description",content:d}),i.jsx("meta",{name:"keywords",content:f}),i.jsx("meta",{name:"robots",content:"index, follow"}),i.jsx("link",{rel:"canonical",href:g}),l6e.map(j=>i.jsx("link",{rel:"alternate",hrefLang:j,href:`https://bonplaninfos.net/${j}${r.pathname}`},j)),i.jsx("link",{rel:"alternate",hrefLang:"x-default",href:g}),i.jsx("meta",{property:"og:title",content:c}),i.jsx("meta",{property:"og:description",content:d}),i.jsx("meta",{property:"og:url",content:g}),i.jsx("meta",{property:"og:site_name",content:"BonPlanInfos"}),i.jsx("meta",{property:"og:image",content:v}),i.jsx("meta",{property:"og:image:width",content:"1200"}),i.jsx("meta",{property:"og:image:height",content:"630"}),i.jsx("meta",{property:"og:type",content:a?"event":"website"}),i.jsx("meta",{property:"og:locale",content:_==="fr"?"fr_FR":"en_US"}),i.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),i.jsx("meta",{name:"twitter:title",content:c}),i.jsx("meta",{name:"twitter:description",content:d}),i.jsx("meta",{name:"twitter:image",content:v}),i.jsx("meta",{name:"twitter:site",content:"@bonplaninfos"}),i.jsx("script",{type:"application/ld+json",children:JSON.stringify(y())}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),i.jsx("meta",{name:"theme-color",content:"#3B82F6"}),i.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),i.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"})]})},So=Se.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));So.displayName="Textarea";const u6e=({event:e,isUnlocked:t,handleShare:r})=>{const{user:n}=Pr(),{userProfile:s,forceRefreshUserProfile:a}=Un(),[o,l]=b.useState({views:e.views_count||0,likes:0,comments:0,shares:0}),[c,d]=b.useState({liked:!1}),[f,h]=b.useState([]),[v,g]=b.useState(""),[_,y]=b.useState({like:!1,comment:!1,action:null}),[j,w]=b.useState(null),C=n&&e.organizer_id===n.id,k=(s==null?void 0:s.user_type)==="super_admin",T=C||k,P=e.event_type==="protected";b.useEffect(()=>{(async()=>{if(!(e!=null&&e.id))return;const{count:V,error:U}=await Oe.from("user_interactions").select("*",{count:"exact",head:!0}).eq("event_id",e.id).eq("interaction_type","like"),{data:q,error:re}=await Oe.from("event_comments").select("*, user:profiles(full_name, avatar_url, username)").eq("event_id",e.id).order("created_at",{ascending:!1});if(U||re?console.error("Error fetching interactions:",U||re):(l(H=>({...H,likes:V||0,comments:(q==null?void 0:q.length)||0})),h(q||[])),n){const{data:H,error:X}=await Oe.from("user_interactions").select("id").eq("event_id",e.id).eq("user_id",n.id).eq("interaction_type","like").maybeSingle();X||d(Q=>({...Q,liked:!!H}))}})()},[e.id,n]);const D=async()=>{if(!n){ze({title:"Connexion requise",description:"Vous devez tre connect pour aimer.",variant:"destructive"});return}if(!t&&P){ze({title:"Contenu verrouill",description:"Dbloquez l'vnement pour interagir.",variant:"destructive"});return}y(B=>({...B,like:!0}));try{const{data:B,error:V}=await Oe.rpc("protected_event_interaction",{p_event_id:e.id,p_user_id:n.id,p_interaction_type:"like"});if(V)throw V;if(B.success){const U=B.message.includes("retire");l(q=>({...q,likes:U?Math.max(0,q.likes-1):q.likes+1})),d(q=>({...q,liked:!U})),a()}else ze({title:"Erreur",description:B.message,variant:"destructive"})}catch(B){ze({title:"Erreur",description:B.message,variant:"destructive"})}finally{y(B=>({...B,like:!1}))}},M=async B=>{if(B.preventDefault(),!!v.trim()){if(!n){ze({title:"Connexion requise",description:"Vous devez tre connect pour commenter.",variant:"destructive"});return}if(!t&&P&&!T){ze({title:"Contenu verrouill",description:"Dbloquez l'vnement pour commenter.",variant:"destructive"});return}y(V=>({...V,comment:!0}));try{const{data:V,error:U}=await Oe.from("event_comments").insert({event_id:e.id,user_id:n.id,comment_text:v.trim(),is_approved:!0,rating:5}).select("*, user:profiles(full_name, avatar_url, username)").single();if(U)throw U;V&&(h(q=>[V,...q]),l(q=>({...q,comments:q.comments+1})),ze({title:"Succs",description:"Commentaire ajout !"}),g(""),a())}catch(V){console.error(V),ze({title:"Erreur",description:"Impossible d'ajouter le commentaire.",variant:"destructive"})}finally{y(V=>({...V,comment:!1}))}}},I=async()=>{if(j){y(B=>({...B,action:j})),console.log("Action: Suppression du commentaire par l'utilisateur role:",s==null?void 0:s.user_type);try{const{error:B}=await Oe.from("event_comments").delete().eq("id",j);if(B)throw B;h(V=>V.filter(U=>U.id!==j)),l(V=>({...V,comments:Math.max(0,V.comments-1)})),ze({title:"Succs",description:"Commentaire supprim"})}catch(B){console.error("Delete error:",B),ze({title:"Erreur",description:"Impossible de supprimer le commentaire.",variant:"destructive"})}finally{y(B=>({...B,action:null})),w(null)}}};return i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsx("div",{className:"text-center",children:i.jsxs(Ee,{variant:"ghost",className:"flex items-center space-x-2 text-muted-foreground cursor-default hover:bg-transparent",children:[i.jsx(qu,{className:"w-5 h-5"}),i.jsx("span",{children:o.views})]})}),i.jsx("div",{className:"text-center",children:i.jsxs(Ee,{variant:"ghost",onClick:D,disabled:_.like,className:`flex items-center space-x-2 transition-colors ${c.liked?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-primary"}`,children:[_.like?i.jsx(Dt,{className:"w-5 h-5 animate-spin"}):i.jsx(g_,{className:`w-5 h-5 ${c.liked?"fill-current":""}`}),i.jsx("span",{children:o.likes})]})}),i.jsxs(Ao,{children:[i.jsx(M_,{asChild:!0,children:i.jsx("div",{className:"text-center",children:i.jsxs(Ee,{variant:"ghost",className:"flex items-center space-x-2 text-muted-foreground hover:text-primary",children:[i.jsx(zT,{className:"w-5 h-5"}),i.jsx("span",{children:o.comments})]})})}),i.jsxs(to,{className:"sm:max-w-lg",children:[i.jsxs(ko,{children:[i.jsxs(Eo,{children:["Commentaires ",f.length>0&&`(${f.length})`]}),i.jsx(Ol,{className:"hidden",children:"Espace de discussion"})]}),i.jsx(xC,{className:"h-[300px] pr-4 mt-2",children:f.length>0?i.jsx("div",{className:"space-y-4",children:f.map(B=>{var V,U,q,re,H,X;return i.jsx("div",{className:"p-3 rounded-lg bg-muted/50 group relative",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs shrink-0",children:((U=(V=B.user)==null?void 0:V.full_name)==null?void 0:U.charAt(0))||((re=(q=B.user)==null?void 0:q.username)==null?void 0:re.charAt(0))||"U"}),i.jsxs("div",{className:"flex-grow min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:"text-sm font-semibold truncate",children:((H=B.user)==null?void 0:H.full_name)||((X=B.user)==null?void 0:X.username)||"Anonyme"}),T&&i.jsx(Ee,{size:"icon",variant:"ghost",className:"h-6 w-6 text-muted-foreground hover:text-red-600 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2",onClick:()=>w(B.id),disabled:_.action===B.id,children:_.action===B.id?i.jsx(Dt,{className:"w-3 h-3 animate-spin"}):i.jsx(kl,{className:"w-3 h-3"})})]}),i.jsx("p",{className:"text-sm text-foreground mt-1 break-words pr-6",children:B.comment_text})]})]})},B.id)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[i.jsx(zT,{className:"w-12 h-12 mb-2 opacity-20"}),i.jsx("p",{children:"Aucun commentaire pour le moment."}),i.jsx("p",{className:"text-sm opacity-70",children:"Soyez le premier  donner votre avis !"})]})}),i.jsx(Tc,{className:"mt-4",children:i.jsxs("form",{onSubmit:M,className:"w-full flex items-center space-x-2",children:[i.jsx(So,{value:v,onChange:B=>g(B.target.value),placeholder:"Ajouter un commentaire...",className:"flex-grow min-h-[40px] max-h-[100px]",rows:1}),i.jsx(Ee,{type:"submit",disabled:_.comment,className:"shrink-0",children:_.comment?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):"Envoyer"})]})})]})]}),i.jsx(jo,{open:!!j,onOpenChange:()=>w(null),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"tes-vous sr de vouloir supprimer ce commentaire ?"}),i.jsx(Ji,{children:"Cette action est irrversible."})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:I,className:"bg-red-600 hover:bg-red-700 text-white",children:"Supprimer"})]})]})}),i.jsx("div",{className:"text-center",children:i.jsxs(Ee,{variant:"ghost",onClick:r,className:"flex items-center space-x-2 text-muted-foreground hover:text-primary",children:[i.jsx(ty,{className:"w-5 h-5"}),i.jsx("span",{children:o.shares})]})})]})};function d6e(e,t=[]){let r=[];function n(a,o){const l=b.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=h=>{var w;const{scope:v,children:g,..._}=h,y=((w=v==null?void 0:v[e])==null?void 0:w[c])||l,j=b.useMemo(()=>_,Object.values(_));return i.jsx(y.Provider,{value:j,children:g})};d.displayName=a+"Provider";function f(h,v){var y;const g=((y=v==null?void 0:v[e])==null?void 0:y[c])||l,_=b.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,f6e(s,...t)]}function f6e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var h6e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xne=h6e.reduce((e,t)=>{const r=P3(`Primitive.${t}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_R="Progress",jR=100,[m6e,Jut]=d6e(_R),[p6e,g6e]=m6e(_R),yne=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=x6e,...o}=e;(s||s===0)&&!$B(s)&&console.error(y6e(`${s}`,"Progress"));const l=$B(s)?s:jR;n!==null&&!BB(n,l)&&console.error(b6e(`${n}`,"Progress"));const c=BB(n,l)?n:null,d=IN(c)?a(c,l):void 0;return i.jsx(p6e,{scope:r,value:c,max:l,children:i.jsx(xne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":IN(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":wne(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});yne.displayName=_R;var bne="ProgressIndicator",v6e=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=g6e(bne,r);return i.jsx(xne.div,{"data-state":wne(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});v6e.displayName=bne;function x6e(e,t){return`${Math.round(e/t*100)}%`}function wne(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function IN(e){return typeof e=="number"}function $B(e){return IN(e)&&!isNaN(e)&&e>0}function BB(e,t){return IN(e)&&!isNaN(e)&&e<=t&&e>=0}function y6e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jR}\`.`}function b6e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _ne=yne;const ll=b.forwardRef(({className:e,value:t,...r},n)=>i.jsx(_ne,{ref:n,className:Ht("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(wt.div,{className:"h-full w-full flex-1 bg-gradient-to-r from-green-400 via-blue-500 to-purple-600",style:{scaleX:(t||0)/100,originX:0},initial:{scaleX:0},animate:{scaleX:(t||0)/100},transition:{duration:.8,ease:"easeInOut"}})}));ll.displayName=_ne.displayName;const w6e=({raffleData:e,eventId:t,isOrganizer:r,onDrawComplete:n})=>{var gt,Ot,br,Yr;const{user:s}=Pr(),{toast:a}=Ti(),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[f,h]=b.useState(0),[v,g]=b.useState(null),[_,y]=b.useState(null),[j,w]=b.useState([]),[C,k]=b.useState([]),[T,P]=b.useState([]),[D,M]=b.useState(!1),[I,B]=b.useState([]),[V,U]=b.useState([]),[q,re]=b.useState(!1),[H,X]=b.useState(0),[Q,se]=b.useState(null),[te,ce]=b.useState(!1),[xe,de]=b.useState("idle"),[ee,fe]=b.useState(null),ne=(e==null?void 0:e.calculated_price_pi)||1,Y=[" Le tirage commence ! Prparez-vous pour la magie..."," Les nergies positives s'accumulent autour des tickets..."," Premier tour de slection en cours..."," Le dfilement des numros commence !"," Les tickets dansent dans la lumire..."," Deuxime tour ! L'intensit monte..."," Qui sera l'heureux lu ? Suspense..."," Dernier tour ! Le destin se prcise..."," Flicitations au gagnant ! "," Bravo ! Vous avez fait le bonheur d'un participant !"];if(!e)return i.jsx(at,{className:"border-2 border-dashed border-gray-300",children:i.jsxs(st,{className:"p-6 text-center",children:[i.jsx(ru,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Donnes de la tombola non disponibles"})]})});const ue=b.useCallback(async()=>{if(e!=null&&e.id)try{const{data:yt,error:$t}=await Oe.from("raffle_tickets").select(`
                    *,
                    profiles:user_id (
                        id,
                        full_name,
                        username,
                        avatar_url
                    )
                `).eq("raffle_event_id",e.id).order("ticket_number",{ascending:!0});if($t){console.error(" Erreur chargement tickets:",$t);return}if(k(yt||[]),r){const cr={};(yt||[]).forEach(dr=>{if(dr.profiles){cr[dr.profiles.id]||(cr[dr.profiles.id]={...dr.profiles,tickets:[],totalSpent:0,ticketsCount:0}),cr[dr.profiles.id].tickets.push({number:dr.ticket_number,id:dr.id});const Kn=e.calculated_price_pi||1;cr[dr.profiles.id].totalSpent+=Kn,cr[dr.profiles.id].ticketsCount+=1}});const Bt=Object.values(cr);w(Bt);const Mr=((yt==null?void 0:yt.length)||0)*ne;X(Mr)}else w([]),X(0);if(s){const cr=(yt||[]).filter(Bt=>Bt.user_id===s.id).map(Bt=>({number:Bt.ticket_number,id:Bt.id,price:ne}));U(cr)}}catch(yt){console.error(" Erreur chargement participants:",yt)}},[e,s,r,ne]),le=b.useCallback(async()=>{if(e!=null&&e.id)try{const{data:yt,error:$t}=await Oe.from("raffle_winners").select(`
                    *,
                    profiles:user_id (
                        full_name,
                        username,
                        avatar_url
                    ),
                    raffle_prizes (
                        description,
                        value_fcfa,
                        rank
                    )
                `).eq("raffle_event_id",e.id).order("created_at",{ascending:!1});!$t&&yt&&B(yt)}catch(yt){console.error(" Erreur chargement historique:",yt)}},[e]),ke=b.useCallback(async()=>{if(e!=null&&e.id)try{console.log(" Vrification de la visibilit du gagnant...");const{data:yt,error:$t}=await Oe.from("raffle_winners").select(`
                    *,
                    profiles:user_id (
                        full_name,
                        username,
                        avatar_url
                    )
                `).eq("raffle_event_id",e.id).order("created_at",{ascending:!1}).limit(1).single();if(!$t&&yt){console.log(" Gagnant trouv pour visibilit:",yt),se(yt),M(!0);const cr={ticket_number:yt.ticket_number,profiles:yt.profiles,is_virtual:!0};y(cr),s&&yt.user_id===s.id&&re(!0)}}catch(yt){console.log(" Aucun gagnant pour la visibilit:",yt)}},[e==null?void 0:e.id,s]);b.useEffect(()=>{console.log(" Chargement initial des donnes"),(async()=>{try{if(await ue(),await le(),await ke(),e!=null&&e.id){const{data:$t}=await Oe.from("raffle_draw_sessions").select("*").eq("raffle_event_id",e.id).eq("status","live").single();$t&&(fe($t),ce(!0),de("live"))}}catch($t){console.error(" Erreur chargement initial:",$t)}})()},[e==null?void 0:e.id,ue,le,ke]),b.useEffect(()=>{if(!(e!=null&&e.id))return;console.log(" Initialisation coute en direct");const yt=Oe.channel(`raffle-winners-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"raffle_winners",filter:`raffle_event_id=eq.${e.id}`},async $t=>{console.log(" Nouveau gagnant dtect:",$t.new),await _e($t.new)}).subscribe();return()=>{Oe.removeChannel(yt)}},[e==null?void 0:e.id]);const _e=b.useCallback(async yt=>{try{const{data:$t,error:cr}=await Oe.from("raffle_winners").select(`
                    *,
                    profiles:user_id (
                        full_name,
                        username,
                        avatar_url
                    )
                `).eq("id",yt.id).single();if(cr){console.error(" Erreur chargement dtails gagnant:",cr);return}if($t){se($t),M(!0);const Bt={ticket_number:$t.ticket_number,profiles:$t.profiles,is_virtual:!0};y(Bt),s&&$t.user_id===s.id?(re(!0),a({title:" FLICITATIONS ! ",description:"Vous avez gagn le tirage !",duration:1e4})):a({title:" Tirage termin !",description:`Le gagnant est le ticket #${$t.ticket_number}`,duration:6e3}),await ue(),await le()}}catch($t){console.error(" Erreur traitement nouveau gagnant:",$t)}},[s,a,ue,le]),Fe=((e==null?void 0:e.tickets_sold)||0)>=((e==null?void 0:e.min_tickets_required)||1),Be=(e==null?void 0:e.tickets_sold)||0,Re=(e==null?void 0:e.total_tickets)||1,Te=Be/Re*100,$e=(e==null?void 0:e.min_tickets_required)||1,pe=async(yt,$t=3)=>{const cr=yt.map(Bt=>Bt.ticket_number);if(cr.length!==0){console.log(" Dbut de l'animation du tirage");for(let Bt=1;Bt<=$t;Bt++){h(Bt),P(Kn=>[...Kn,Y[Bt]]);const Mr=15,dr=300-Bt*60;for(let Kn=0;Kn<Mr;Kn++){const Qn=Math.floor(Math.random()*cr.length),Rn=cr[Qn];g(Rn);let Gr=dr;Kn>Mr*.6&&(Gr=dr+100),Kn>Mr*.8&&(Gr=dr+200),Kn>Mr*.9&&(Gr=dr+300),await new Promise(ia=>setTimeout(ia,Gr))}Bt<$t&&await new Promise(Kn=>setTimeout(Kn,1e3))}console.log(" Animation du tirage termine")}},Ge=yt=>{if(yt.length===0)return null;const $t=Math.floor(Math.random()*yt.length);return yt[$t]},pt=async()=>{if(r)try{de("starting");const yt={raffle_event_id:e.id,status:"live",started_by:s.id,created_at:new Date().toISOString()},{data:$t,error:cr}=await Oe.from("raffle_draw_sessions").insert(yt).select().single();if(cr)throw cr;fe($t),ce(!0),de("live"),a({title:" Diffusion en direct dmarre",description:"Tous les participants peuvent maintenant voir le tirage"})}catch(yt){console.error(" Erreur dmarrage diffusion:",yt),a({title:"Erreur",description:"Impossible de dmarrer la diffusion",variant:"destructive"})}},Pt=async()=>{if(!(!r||!ee))try{const{error:yt}=await Oe.from("raffle_draw_sessions").update({status:"ended",ended_at:new Date().toISOString()}).eq("id",ee.id);if(yt)throw yt;ce(!1),de("ended"),fe(null),a({title:" Diffusion termine",description:"La diffusion en direct est maintenant termine"})}catch(yt){console.error(" Erreur arrt diffusion:",yt)}},nt=async yt=>{try{if(!yt||!yt.profiles)throw new Error("Donnes du gagnant incompltes");console.log(" Sauvegarde du gagnant:",yt);const $t={raffle_event_id:e.id,user_id:yt.profiles.id,ticket_number:yt.ticket_number.toString(),prize_description:"Lot principal",created_at:new Date().toISOString()},{data:cr,error:Bt}=await Oe.from("raffle_winners").insert($t).select(`
            *,
            profiles:user_id (
              full_name,
              username,
              avatar_url
            )
          `).single();if(Bt)throw console.error(" Erreur insertion gagnant:",Bt),Bt;return console.log(" Gagnant sauvegard avec succs:",cr),cr}catch($t){throw console.error(" Erreur sauvegarde gagnant:",$t),$t}},Ye=async yt=>{try{const{data:$t}=await Oe.from("raffle_tickets").select("user_id").eq("raffle_event_id",e.id).neq("user_id",yt.user_id);if($t){const Bt=[...new Set($t.map(Mr=>Mr.user_id))].map(Mr=>{var dr,Kn;return{user_id:Mr,title:" Tirage termin !",message:`Le tirage est termin. Le gagnant est ${((dr=yt.profiles)==null?void 0:dr.full_name)||((Kn=yt.profiles)==null?void 0:Kn.username)||"un participant"} avec le ticket #${yt.ticket_number}`,type:"raffle_result",is_read:!1,created_at:new Date().toISOString()}});await Oe.from("notifications").insert(Bt)}}catch($t){console.error(" Erreur notification participants:",$t)}},Ue=async()=>{var yt;if(!r){a({title:"Action non autorise",description:"Seul l'organisateur peut lancer le tirage",variant:"destructive"});return}if(!Fe){a({title:"Objectif non atteint",description:`L'objectif minimum de ${$e} tickets n'est pas atteint`,variant:"destructive"});return}if(C.length===0){a({title:"Aucun participant",description:"Aucun ticket n'a t achet pour cette tombola",variant:"destructive"});return}l(!0),d(!0),P([Y[0]]),y(null),M(!1),re(!1),g(null),h(0),se(null);try{console.log(" DBUT DU TIRAGE - Animation des chiffres"),await pt(),await pe(C,3);const $t=Ge(C);console.log(" Gagnant slectionn:",$t),y($t),s&&((yt=$t.profiles)==null?void 0:yt.id)===s.id&&re(!0),P(Bt=>[...Bt," Le gagnant a t slectionn !"]),await new Promise(Bt=>setTimeout(Bt,2e3)),M(!0),P(Bt=>[...Bt,Y[8]]);const cr=await nt($t);await Ye(cr),await ue(),await le(),await ke(),n&&n($t),a({title:" Tirage termin !",description:"Le gagnant a t annonc  tous les participants",duration:5e3})}catch($t){console.error(" Erreur lors du tirage:",$t),a({title:"Erreur du tirage",description:$t.message||"Une erreur est survenue lors du tirage",variant:"destructive"})}finally{l(!1),d(!1),setTimeout(()=>{r&&Pt()},3e4)}};return i.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-4",children:[(te||c||Q)&&i.jsx(at,{className:"border-2 border-red-500 bg-gradient-to-r from-red-500 to-orange-500 animate-pulse",children:i.jsxs(st,{className:"p-3 sm:p-4 text-white text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[i.jsx(p9,{className:"w-4 h-4 sm:w-6 sm:h-6 animate-bounce"}),i.jsx("span",{className:"font-bold text-sm sm:text-lg",children:"DIFFUSION EN DIRECT"}),i.jsx(p9,{className:"w-4 h-4 sm:w-6 sm:h-6 animate-bounce"})]}),i.jsx("p",{className:"text-xs sm:text-sm mt-1 opacity-90",children:c?"Tirage en cours...":D?"Rsultats du tirage":"En attente du tirage..."})]})}),i.jsxs(at,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-purple-500/5",children:[i.jsxs(Et,{className:"px-3 sm:px-6",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[i.jsx(Ko,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Systme de Tirage au Sort",r&&i.jsx(nr,{variant:"secondary",className:"ml-2 text-xs",children:"Organisateur"})]}),i.jsx(nn,{className:"text-sm sm:text-base",children:Fe?" L'objectif est atteint ! Le tirage peut commencer.":` Objectif: ${Be}/${$e} tickets vendus`})]}),i.jsxs(st,{className:"px-3 sm:px-6",children:[i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-4",children:[i.jsxs("div",{className:"text-center p-2 sm:p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx(Ga,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 mx-auto mb-1 sm:mb-2"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-700",children:r?j.length:"?"}),i.jsx("p",{className:"text-xs sm:text-sm text-blue-600",children:"Participants"})]}),i.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx(ki,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 mx-auto mb-1 sm:mb-2"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-700",children:C.length}),i.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:"Tickets vendus"})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center p-2 sm:p-3 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx(Md,{className:"w-6 h-6 sm:w-8 sm:h-8 text-orange-600 mx-auto mb-1 sm:mb-2"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-700",children:$e}),i.jsx("p",{className:"text-xs sm:text-sm text-orange-600",children:"Objectif minimum"})]}),i.jsxs("div",{className:"text-center p-2 sm:p-3 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx(xc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600 mx-auto mb-1 sm:mb-2"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-700",children:H}),i.jsx("p",{className:"text-xs sm:text-sm text-purple-600",children:"Revenu total ()"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[i.jsx("span",{className:"font-medium",children:"Progression vers l'objectif"}),i.jsxs("span",{className:"text-muted-foreground",children:[Be," / ",$e," tickets"]})]}),i.jsx(ll,{value:Math.min(Te,100),className:`h-2 sm:h-3 ${Fe?"bg-green-200":"bg-orange-200"}`})]})]})]}),(te||c)&&i.jsxs(at,{className:"border-2 border-purple-500 bg-gradient-to-r from-purple-50 to-pink-50 shadow-2xl",children:[i.jsxs(Et,{className:"px-3 sm:px-6 py-4",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-lg sm:text-xl text-purple-700",children:[i.jsx(pi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"}),"Tirage en Direct - Slection du Gagnant"]}),i.jsx(nn,{className:"text-purple-600",children:c?"Les numros dfilent pour trouver le gagnant...":"Tirage termin"})]}),i.jsxs(st,{className:"px-3 sm:px-6 pb-6",children:[c&&i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"bg-purple-100 rounded-lg p-3 border border-purple-300",children:i.jsxs("p",{className:"text-purple-700 font-semibold",children:["Tour ",f,"/3 - ",Y[f]]})}),v&&i.jsxs(wt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},className:"text-center",children:[i.jsxs("div",{className:"text-5xl sm:text-8xl font-bold text-purple-600 bg-white rounded-2xl p-6 sm:p-12 border-4 border-purple-300 shadow-2xl mb-4 mx-auto max-w-md",children:["#",v]}),i.jsx("p",{className:"text-lg sm:text-xl text-purple-600 font-medium",children:"Numro en cours de slection..."})]},v),!v&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Dt,{className:"w-12 h-12 mx-auto mb-4 text-purple-600 animate-spin"}),i.jsx("p",{className:"text-purple-600",children:"Prparation du tirage..."})]})]}),i.jsx("div",{className:"mt-6 space-y-2 max-h-32 overflow-y-auto",children:T.map((yt,$t)=>i.jsx(wt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-3 bg-white rounded-lg border border-purple-200",children:i.jsx("p",{className:"text-sm text-purple-700",children:yt})},$t))})]})]}),!c&&(D||Q)&&i.jsxs(at,{className:"border-2 border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 shadow-2xl",children:[i.jsxs(Et,{className:"px-3 sm:px-6 py-4",children:[i.jsx(Tt,{className:"text-lg sm:text-xl text-green-700 text-center",children:"# RSULTATS DU TIRAGE"}),i.jsx(nn,{className:"text-green-600 text-center",children:"Le gagnant a t slectionn ! Flicitations au heureux lu."})]}),i.jsxs(st,{className:"px-3 sm:px-6 pb-6",children:[i.jsx("div",{className:"border-t border-green-300 my-4"}),i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{children:i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-800 mb-2",children:i.jsx("strong",{children:"FLICITATIONS !"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg sm:text-xl text-green-700 mb-3",children:"Ticket gagnant :"}),i.jsxs("div",{className:"text-4xl sm:text-6xl font-bold text-green-900 bg-white rounded-xl p-4 sm:p-6 mx-auto max-w-xs shadow-2xl border-4 border-green-300",children:["#",(_==null?void 0:_.ticket_number)||(Q==null?void 0:Q.ticket_number)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg sm:text-xl text-green-700 mb-2",children:"Gagnant :"}),i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-900",children:((gt=_==null?void 0:_.profiles)==null?void 0:gt.full_name)||((Ot=_==null?void 0:_.profiles)==null?void 0:Ot.username)||((br=Q==null?void 0:Q.profiles)==null?void 0:br.full_name)||((Yr=Q==null?void 0:Q.profiles)==null?void 0:Yr.username)||"Participant"})]}),i.jsxs("div",{className:"flex justify-center items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(Vi,{className:"w-4 h-4 text-white"})}),i.jsx(nr,{variant:"secondary",className:"text-base sm:text-lg py-2 sm:py-3 px-4 sm:px-6 bg-green-500 text-white border-0 shadow-lg",children:"Grand Gagnant"})]}),q&&i.jsx(wt.div,{initial:{scale:0},animate:{scale:1},className:"mt-4 p-4 bg-red-500 text-white rounded-lg font-bold text-lg shadow-lg",children:" C'EST VOUS ! FLICITATIONS ! "})]})]})]}),V.length>0&&i.jsxs(at,{className:"border-2 border-blue-300 bg-gradient-to-r from-blue-50 to-cyan-50",children:[i.jsx(Et,{className:"px-3 sm:px-6 py-3",children:i.jsxs(Tt,{className:"flex items-center gap-2 text-base sm:text-lg",children:[i.jsx(ki,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),"Mes Tickets (",V.length,")"]})}),i.jsxs(st,{className:"px-3 sm:px-6 pt-0",children:[i.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-4",children:V.map((yt,$t)=>i.jsxs("div",{className:`relative p-2 sm:p-3 rounded-lg border-2 font-bold text-base sm:text-lg min-w-[60px] sm:min-w-[80px] text-center ${D&&((_==null?void 0:_.ticket_number)===yt.number||(Q==null?void 0:Q.ticket_number)===yt.number.toString())?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-yellow-600 shadow-lg animate-pulse":"bg-white border-blue-300 text-blue-700"}`,children:["#",yt.number,D&&((_==null?void 0:_.ticket_number)===yt.number||(Q==null?void 0:Q.ticket_number)===yt.number.toString())&&i.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 bg-red-500 text-white rounded-full p-1 text-xs animate-bounce",children:" GAGNANT"})]},yt.id))}),D&&q&&i.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg text-white text-center",children:[i.jsx(Df,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2"}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:" FLICITATIONS ! "}),i.jsx("p",{className:"text-base sm:text-lg",children:"Vous avez gagn le tirage !"}),i.jsxs("p",{className:"text-sm mt-2",children:["Le ticket #",(_==null?void 0:_.ticket_number)||(Q==null?void 0:Q.ticket_number)," est le vtre !"]})]})]})]}),r&&i.jsxs(at,{className:"border-2 border-yellow-500 bg-gradient-to-r from-yellow-900/30 to-amber-900/30",children:[i.jsx(Et,{className:"px-3 sm:px-6 py-3",children:i.jsxs(Tt,{className:"flex items-center gap-2 text-base sm:text-lg text-white",children:[i.jsx(pi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"}),"Contrles du Tirage"]})}),i.jsxs(st,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:i.jsxs(Ee,{onClick:Ue,disabled:o||c||!Fe||C.length===0,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold border-2 border-emerald-400 text-sm sm:text-base",size:"lg",children:[c?i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(v_,{className:"w-4 h-4 mr-2"}),c?"Tirage en cours...":"Lancer le tirage"]})}),!Fe&&i.jsx("div",{className:"p-2 sm:p-3 bg-orange-900/50 border border-orange-600 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-orange-300",children:[i.jsx(ru,{className:"w-4 h-4"}),i.jsxs("p",{className:"text-xs sm:text-sm",children:[i.jsx("strong",{children:"Objectif non atteint:"})," Le tirage ncessite ",$e," tickets minimum."]})]})})]})]}),I.length>0&&i.jsxs(at,{children:[i.jsx(Et,{className:"px-3 sm:px-6 py-3",children:i.jsxs(Tt,{className:"flex items-center gap-2 text-base sm:text-lg",children:[i.jsx(Vi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),"Historique des Tirages"]})}),i.jsx(st,{className:"px-3 sm:px-6",children:i.jsx("div",{className:"space-y-2 sm:space-y-3",children:I.map(yt=>{var $t,cr;return i.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-100 rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-green-700 font-bold text-xs sm:text-sm",children:["#",yt.ticket_number]})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-green-800 text-sm sm:text-base",children:(($t=yt.profiles)==null?void 0:$t.full_name)||((cr=yt.profiles)==null?void 0:cr.username)||"Gagnant"}),i.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:yt.prize_description||"Lot principal"})]})]}),i.jsx(nr,{variant:"outline",className:"bg-white text-xs",children:new Date(yt.created_at).toLocaleDateString("fr-FR")})]},yt.id)})})})]})]})},_6e=({raffleData:e,eventId:t,onPurchaseSuccess:r})=>{const{user:n}=Pr(),{userProfile:s,forceRefreshUserProfile:a}=Un(),[o,l]=b.useState(1),[c,d]=b.useState(!1),[f,h]=b.useState([]),[v,g]=b.useState(!1),[_,y]=b.useState(""),[j,w]=b.useState(!1),[C,k]=b.useState(""),[T,P]=b.useState("active"),[D,M]=b.useState(!1),[I,B]=b.useState(!0),[V,U]=b.useState(null),[q,re]=b.useState(!1),[H,X]=b.useState([]),[Q,se]=b.useState(!1),te=on(),ce=b.useCallback(async()=>{if(e!=null&&e.id)try{console.log(" Chargement des donnes du gagnant pour les participants...");const{data:pe,error:Ge}=await Oe.from("raffle_winners").select(`
          *,
          profiles:user_id (
            full_name,
            username,
            avatar_url
          )
        `).eq("raffle_event_id",e.id).order("created_at",{ascending:!1}).limit(1).single();if(!Ge&&pe){if(console.log(" Gagnant charg pour les participants:",pe),U(pe),n&&pe.user_id===n.id&&(se(!0),ze({title:" FLICITATIONS ! ",description:"Vous avez gagn le tirage !",duration:1e4})),n){const{data:pt}=await Oe.from("raffle_tickets").select("ticket_number").eq("raffle_event_id",e.id).eq("user_id",n.id);X(pt||[])}}else U(null),se(!1)}catch(pe){console.log(" Aucun gagnant encore dclar:",pe),U(null),se(!1)}},[e==null?void 0:e.id,n]);b.useEffect(()=>{(async()=>{if(n&&t){console.log(" Vrification du statut d'organisateur...",{userId:n.id,eventId:t});try{const{data:Ge,error:pt}=await Oe.from("events").select("organizer_id, status").eq("id",t).single();if(pt)console.error(" Erreur vrification organisateur:",pt),M(!1);else if(Ge){const Pt=Ge.organizer_id===n.id;console.log(" Statut organisateur:",{organizerId:Ge.organizer_id,userId:n.id,isOrganizer:Pt,eventStatus:Ge.status}),M(Pt),P(Ge.status)}}catch(Ge){console.error(" Erreur lors de la vrification:",Ge),M(!1)}finally{B(!1)}}else B(!1)})()},[n,t]),b.useEffect(()=>{(async()=>{if(t){const{data:Ge,error:pt}=await Oe.from("events").select("title").eq("id",t).single();!pt&&Ge&&k(Ge.title)}})()},[t]),b.useEffect(()=>{if(ce(),!(e!=null&&e.id))return;const pe=Oe.channel(`raffle-winner-updates-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"raffle_winners",filter:`raffle_event_id=eq.${e.id}`},Ge=>{console.log(" Nouveau gagnant dtect pour les participants:",Ge.new),ce(),D||(re(!0),ze({title:" Tirage termin !",description:"Le gagnant a t annonc !",duration:6e3}))}).subscribe();return()=>{Oe.removeChannel(pe)}},[e==null?void 0:e.id,ce,D]);const xe=()=>{re(!0),ze({title:" Rsultats du tirage",description:"Voici le gagnant du tirage !",duration:3e3})},de=(e==null?void 0:e.calculated_price_pi)||1,ee=()=>{console.log(" Redirection vers la page des packs de pices"),te("/packs")},fe=async(pe,Ge)=>{try{const pt=(e==null?void 0:e.calculated_price_pi)||1,Pt=Ge*pt;if(console.log(" Dbit en cours:",{userId:pe,numberOfTickets:Ge,ticketPrice:pt,totalCost:Pt,userBalance:s==null?void 0:s.coin_balance}),!s)throw new Error("Profil utilisateur non charg");if(s.coin_balance<Pt)throw new Error(`Solde insuffisant. Ncessaire: ${Pt} , Solde: ${s.coin_balance} `);const{error:nt}=await Oe.from("profiles").update({coin_balance:s.coin_balance-Pt}).eq("id",pe);if(nt)throw console.error("Erreur dbit:",nt),new Error("Erreur lors du dbit du portefeuille");const{error:Ye}=await Oe.from("transactions").insert({user_id:pe,amount:-Pt,type:"raffle_ticket_purchase",description:`Achat de ${Ge} ticket(s) pour "${C}" - ${pt}   ${Ge} = ${Pt} `,raffle_event_id:e.id,event_id:t,created_at:new Date().toISOString()});return Ye&&(console.error("Erreur transaction:",Ye),console.warn("Dbit russi mais erreur d'enregistrement de transaction")),console.log(" Dbit russi:",Pt," dbits"),!0}catch(pt){throw console.error(" Erreur dbit tickets:",pt),pt}},ne=async()=>{if(!n){ze({title:"Non connect",description:"Veuillez vous connecter pour commenter",variant:"destructive"});return}if(!_.trim()){ze({title:"Commentaire vide",description:"Veuillez crire un commentaire",variant:"destructive"});return}w(!0);try{console.log(" Ajout de commentaire...",{event_id:t,user_id:n.id,comment_text:_.trim()});const{data:pe,error:Ge}=await Oe.from("event_comments").insert({event_id:t,user_id:n.id,comment_text:_.trim(),created_at:new Date().toISOString()}).select(`
            *,
            profiles:user_id (
                username,
                full_name,
                avatar_url
            )
          `).single();if(Ge){console.error(" Erreur ajout commentaire:",Ge);const pt={id:Date.now().toString(),event_id:t,user_id:n.id,comment_text:_.trim(),created_at:new Date().toISOString(),profiles:{username:(s==null?void 0:s.username)||"Utilisateur",full_name:s==null?void 0:s.full_name,avatar_url:s==null?void 0:s.avatar_url}};h(Pt=>[pt,...Pt]),y(""),ze({title:"Commentaire ajout (local)",description:"Votre commentaire a t ajout localement"});return}console.log(" Commentaire ajout avec succs:",pe),h(pt=>[pe,...pt]),y(""),ze({title:"Commentaire ajout",description:"Votre commentaire a t publi avec succs"})}catch(pe){console.error(" Erreur complte ajout commentaire:",pe),ze({title:"Erreur",description:"Impossible d'ajouter le commentaire: "+pe.message,variant:"destructive"})}finally{w(!1)}},Y=async()=>{if(t)try{console.log(" Chargement des commentaires...");const{data:pe,error:Ge}=await Oe.from("event_comments").select(`
        id,
        event_id,
        user_id,
        comment_text,
        created_at,
        profiles:user_id (
          id,
          username,
          full_name,
          avatar_url
        )
      `).eq("event_id",t).order("created_at",{ascending:!1});if(Ge){console.error(" Erreur chargement commentaires:",Ge),h([]);return}console.log(" Commentaires chargs:",pe),h(pe||[])}catch(pe){console.error(" Erreur chargement commentaires:",pe),h([])}};b.useEffect(()=>{v&&Y()},[v]);const ue=async()=>{if(!n){ze({title:"Non connect",description:"Veuillez vous connecter pour participer",variant:"destructive"});return}const pe=de*o,Ge=(e==null?void 0:e.tickets_sold)||0,Pt=((e==null?void 0:e.total_tickets)||1)-Ge;if(!(((s==null?void 0:s.coin_balance)||0)>=pe)){ze({title:" Solde insuffisant",description:`Il vous faut ${pe} , mais vous n'avez que ${(s==null?void 0:s.coin_balance)||0} `,variant:"destructive",action:i.jsxs(Ee,{variant:"outline",size:"sm",onClick:ee,className:"ml-2",children:[i.jsx(Wi,{className:"w-3 h-3 mr-1"}),"Recharger"]})});return}if(o===0||Pt===0){ze({title:"Impossible de participer",description:"Quantit invalide ou plus de tickets disponibles",variant:"destructive"});return}d(!0);try{console.log(" Dbut du processus d'achat..."),await fe(n.id,o);const{data:Ye,error:Ue}=await Oe.rpc("participate_in_raffle_final",{p_user_id:n.id,p_raffle_id:e.id,p_ticket_quantity:o});if(Ue)throw console.error("Erreur RPC:",Ue),new Error(Ue.message);if(Ye!=null&&Ye.success)ze({title:" Participation russie !",description:i.jsxs("div",{children:[i.jsx("p",{children:Ye.message}),i.jsxs("p",{className:"text-sm mt-1",children:[i.jsxs("strong",{children:[pe," "]})," ont t dbits de votre compte."]}),Ye.ticket_numbers&&i.jsxs("p",{className:"text-sm mt-1 font-medium",children:["Vos numros: ",Ye.ticket_numbers.join(", ")]})]}),duration:5e3}),await a(),r&&r(),l(1);else throw new Error((Ye==null?void 0:Ye.message)||"Erreur inconnue lors de la participation")}catch(Ye){console.error(" Erreur participation :",Ye),Ye.message.includes("Solde insuffisant")?ze({title:" Solde insuffisant",description:Ye.message,variant:"destructive",action:i.jsxs(Ee,{variant:"outline",size:"sm",onClick:ee,className:"ml-2",children:[i.jsx(Wi,{className:"w-3 h-3 mr-1"}),"Recharger"]})}):ze({title:"Erreur de participation",description:Ye.message,variant:"destructive"})}finally{d(!1)}},le=()=>{const pe=de*o,Ge=((s==null?void 0:s.coin_balance)||0)>=pe,pt=Math.max(0,((s==null?void 0:s.coin_balance)||0)-pe);return i.jsx(at,{className:`border-2 ${Ge?"border-blue-200 bg-gradient-to-r from-blue-600 to-blue-700":"border-red-300 bg-gradient-to-r from-red-500 to-red-600"} shadow-lg`,children:i.jsxs(st,{className:"p-4 text-white",children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsxs("div",{className:"text-2xl font-bold mb-1 flex items-center justify-center gap-2",children:[i.jsx(dn,{className:"w-6 h-6"}),(s==null?void 0:s.coin_balance)||0,""]}),i.jsx("div",{className:"text-sm opacity-90",children:"Solde disponible en pices"})]}),i.jsxs("div",{className:`mt-3 ${Ge?"bg-blue-800/50":"bg-red-600/50"} rounded-lg p-3 border ${Ge?"border-blue-400/30":"border-red-400/30"}`,children:[i.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[i.jsx("span",{children:"Cot de l'achat:"}),i.jsxs("span",{className:"font-bold",children:[pe,""]})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{children:"Solde aprs achat:"}),i.jsxs("span",{className:`font-bold ${Ge?"text-green-300":"text-red-300"}`,children:[pt,""]})]})]}),!Ge&&i.jsx("div",{className:"mt-3 p-3 bg-yellow-500/20 rounded-lg border border-yellow-400/30",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-yellow-200 text-sm mb-2",children:[" ",i.jsx("strong",{children:"Solde insuffisant"})," pour cet achat"]}),i.jsxs(Ee,{onClick:ee,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold py-2 shadow-lg transform hover:scale-105 transition-transform",size:"sm",children:[i.jsx(xc,{className:"w-4 h-4 mr-2"}),"Recharger mon portefeuille"]}),i.jsx("p",{className:"text-xs text-yellow-300 mt-1",children:"Achetez des pices pour participer"})]})}),i.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs",children:[i.jsx("span",{className:Ge?"text-green-300":"text-red-300",children:Ge?" Solde suffisant":" Solde insuffisant"}),i.jsx(nr,{variant:Ge?"default":"destructive",className:"text-xs",children:Ge?"Prt":"Recharge ncessaire"})]})]})})},ke=()=>D||!V||q?null:i.jsx(at,{className:"border-2 border-yellow-500 bg-gradient-to-r from-yellow-50 to-amber-50 mt-4",children:i.jsxs(st,{className:"p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Df,{className:"w-5 h-5 text-yellow-600"}),i.jsx("span",{className:"font-bold text-yellow-700",children:"Rsultats disponibles"})]}),i.jsx("p",{className:"text-yellow-600 text-sm mb-3",children:"Le tirage a t effectu. Dcouvrez le gagnant !"}),i.jsxs(Ee,{onClick:xe,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold",children:[i.jsx(qu,{className:"w-4 h-4 mr-2"}),"Voir le gagnant"]})]})}),_e=()=>{var Ge,pt;if(!q||!V)return null;const pe=H.find(Pt=>Pt.ticket_number.toString()===V.ticket_number.toString());return i.jsxs(at,{className:"border-2 border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 shadow-2xl mt-4",children:[i.jsxs(Et,{className:"text-center",children:[i.jsxs(Tt,{className:"flex items-center justify-center gap-2 text-green-700",children:[i.jsx(Df,{className:"w-6 h-6"})," RSULTATS DU TIRAGE "]}),i.jsx(nn,{className:"text-green-600",children:"Flicitations au gagnant de la tombola !"})]}),i.jsxs(st,{className:"text-center space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-green-300 shadow-lg",children:[i.jsxs("div",{className:"text-5xl font-bold text-green-900 mb-4",children:["Ticket #",V.ticket_number]}),i.jsx("div",{className:"text-2xl font-bold text-green-800 mb-2",children:((Ge=V.profiles)==null?void 0:Ge.full_name)||((pt=V.profiles)==null?void 0:pt.username)||"Gagnant"}),i.jsx(nr,{variant:"secondary",className:"bg-green-500 text-white text-lg py-2 px-4",children:" Grand Gagnant "})]}),(Q||pe)&&i.jsx(wt.div,{initial:{scale:0},animate:{scale:1},className:"p-4 bg-red-500 text-white rounded-lg font-bold text-xl shadow-lg",children:" FLICITATIONS ! C'EST VOUS LE GAGNANT ! "}),H.length>0&&i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("h4",{className:"font-bold text-blue-700 mb-2",children:"Vos tickets :"}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:H.map(Pt=>i.jsxs("div",{className:`p-2 rounded-lg border-2 font-bold ${Pt.ticket_number.toString()===V.ticket_number.toString()?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-yellow-600":"bg-white border-blue-300 text-blue-700"}`,children:["#",Pt.ticket_number,Pt.ticket_number.toString()===V.ticket_number.toString()&&i.jsx("div",{className:"text-xs text-white mt-1",children:"GAGNANT"})]},Pt.ticket_number))})]})]})]})};if(!e)return i.jsx(at,{className:"border-2 border-dashed border-gray-300",children:i.jsxs(st,{className:"p-6 text-center",children:[i.jsx(ru,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Donnes de la tombola non disponibles"})]})});const Fe=b.useMemo(()=>de*o,[de,o]),Be=(e==null?void 0:e.tickets_sold)||0,Te=((e==null?void 0:e.total_tickets)||1)-Be,$e=((s==null?void 0:s.coin_balance)||0)>=Fe;return e!=null&&e.min_tickets_required,I?i.jsx(at,{className:"border-2 border-dashed border-gray-300",children:i.jsxs(st,{className:"p-6 text-center",children:[i.jsx(Dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-spin"}),i.jsx("p",{className:"text-gray-500",children:"Chargement de l'interface tombola..."})]})}):(console.log(" Statut final RaffleInterface:",{isOrganizer:D,eventStatus:T,winnerData:!!V,showWinnerToParticipants:q,user:n==null?void 0:n.id,isUserWinner:Q}),i.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-4",children:[i.jsx(w6e,{raffleData:e,eventId:t,isOrganizer:D,onDrawComplete:async pe=>{console.log(" Tirage termin:",pe),await ce()}}),i.jsx(ke,{}),i.jsx(_e,{}),T==="active"&&!D&&!V&&i.jsxs(i.Fragment,{children:[i.jsx(le,{}),i.jsxs(at,{className:"border-2 border-primary/20 shadow-lg",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"w-5 h-5 text-primary"}),"Participer  la tombola",!$e&&i.jsx(nr,{variant:"destructive",className:"ml-2 animate-pulse",children:"Solde insuffisant"})]}),i.jsx(nn,{children:$e?`Achetez des tickets pour ${de} chacun`:"Rechargez votre portefeuille pour participer"})]}),i.jsxs(st,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-primary/5 to-blue-500/5 rounded-lg border-2 border-primary/20",children:[i.jsx("span",{className:"font-semibold text-primary",children:"Quantit de tickets"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>l(pe=>Math.max(1,pe-1)),disabled:o<=1||c,children:"-"}),i.jsx("span",{className:"text-lg font-bold w-8 text-center text-primary",children:o}),i.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>l(pe=>Math.min(Te,pe+1)),disabled:o>=Te||c,children:"+"})]})]}),i.jsx("div",{className:`p-3 bg-gradient-to-r ${$e?"from-blue-50 to-cyan-50 border-blue-200":"from-red-50 to-orange-50 border-red-200"} border rounded-lg`,children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`font-semibold ${$e?"text-blue-700":"text-red-700"}`,children:"Cot total :"}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-xl font-bold flex items-center gap-1 ${$e?"text-blue-600":"text-red-600"}`,children:[Fe," ",i.jsx(dn,{className:"w-4 h-4"})]}),i.jsxs("div",{className:`text-sm ${$e?"text-blue-500":"text-red-500"}`,children:[de,"  ",o," ticket",o>1?"s":""]})]})]})}),$e?i.jsx(Ee,{onClick:ue,disabled:c||o===0||Te===0,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-4 font-bold shadow-lg transform hover:scale-105 transition-transform",size:"lg",children:c?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dt,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Dbit en cours..."})]}):Te===0?"Plus de tickets disponibles":i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"w-4 h-4"}),i.jsxs("span",{children:["Participer pour ",Fe,""]}),i.jsxs(nr,{variant:"secondary",children:[o," ticket",o>1?"s":""]})]})}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-center",children:[i.jsx("p",{className:"text-red-700 text-sm font-medium",children:" Solde insuffisant pour participer"}),i.jsxs("p",{className:"text-red-600 text-xs mt-1",children:["Il vous manque"," ",Fe-((s==null?void 0:s.coin_balance)||0),""]})]}),i.jsxs(Ee,{onClick:ee,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white py-4 font-bold shadow-lg transform hover:scale-105 transition-transform",size:"lg",children:[i.jsx(xc,{className:"w-5 h-5 mr-2"}),"Recharger mon portefeuille"]}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Achetez des pices  pour participer  la tombola"})]})]})]}),!$e&&i.jsx(at,{className:"border-2 border-green-300 bg-gradient-to-r from-green-50 to-emerald-50 shadow-lg",children:i.jsxs(st,{className:"p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Wi,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"font-bold text-green-700",children:"Pack de pices disponible"})]}),i.jsx("p",{className:"text-green-600 text-sm mb-3",children:"Rechargez votre portefeuille avec nos packs de pices "}),i.jsxs(Ee,{onClick:ee,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold",children:[i.jsx(rw,{className:"w-4 h-4 mr-2"}),"Voir les packs de pices"]})]})})]}),D&&i.jsx(at,{className:"border-2 border-yellow-400/50 bg-gradient-to-r from-gray-900 to-gray-800 shadow-lg shadow-yellow-500/10",children:i.jsxs(st,{className:"p-6 text-center",children:[i.jsx(Ko,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-yellow-300 mb-2",children:"Vous tes l'organisateur de cette tombola"}),i.jsxs("p",{className:"text-gray-300 mb-4",children:["En tant qu'organisateur, vous avez accs aux contrles complets du tirage. Utilisez le ",i.jsx("strong",{className:"text-yellow-300",children:"Systme de Tirage au Sort"})," ","ci-dessus pour grer le tirage."]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"text-center p-3 bg-gray-800/70 rounded-lg border border-gray-700",children:[i.jsx(qu,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),i.jsx("p",{className:"font-bold text-yellow-300",children:"Organisateur"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Contrles actifs"})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-800/70 rounded-lg border border-gray-700",children:[i.jsx(Ga,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),i.jsx("p",{className:"font-bold text-yellow-300",children:Be}),i.jsx("p",{className:"text-sm text-gray-400",children:"Tickets vendus"})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[i.jsx("h4",{className:"font-bold text-yellow-300 mb-2",children:"Instructions :"}),i.jsxs("ul",{className:"text-sm text-gray-300 text-left space-y-1",children:[i.jsxs("li",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),'Utilisez les contrles dans "Systme de Tirage au Sort"']}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Lancez le tirage quand l'objectif est atteint"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Tous les participants voient le tirage en direct"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Le gagnant sera annonc automatiquement"]})]})]})]})}),i.jsxs(at,{className:"border-2 border-gray-200 shadow-lg",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(ax,{className:"w-5 h-5 text-gray-600"}),"Commentaires (",f.length,")",i.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{g(!v),v||Y()},className:"ml-auto",children:[v?i.jsx(dX,{className:"w-4 h-4 mr-1"}):i.jsx(qu,{className:"w-4 h-4 mr-1"}),v?"Masquer":"Afficher"]})]})}),v&&i.jsxs(st,{children:[n?i.jsx("div",{className:"mb-4 p-3 bg-gray-800 rounded-lg border border-purple-500/30",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(vt,{placeholder:"crivez votre commentaire...",value:_,onChange:pe=>y(pe.target.value),className:"flex-1 bg-gray-900 border-gray-700 text-white placeholder-gray-400",onKeyPress:pe=>{pe.key==="Enter"&&!pe.shiftKey&&(pe.preventDefault(),ne())}}),i.jsx(Ee,{onClick:ne,disabled:!_.trim()||j,size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white border-purple-500",children:j?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):"Poster"})]})}):i.jsx("div",{className:"mb-4 p-3 bg-purple-900/30 rounded-lg border border-purple-500/30",children:i.jsxs("p",{className:"text-sm text-purple-200 text-center",children:[i.jsx(Ee,{variant:"link",className:"p-0 text-purple-300 font-bold hover:text-purple-100",onClick:()=>te("/login"),children:"Connectez-vous"})," pour commenter"]})}),f.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-400",children:[i.jsx(ax,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),i.jsx("p",{className:"text-sm",children:"Aucun commentaire pour le moment"}),i.jsx("p",{className:"text-xs mt-1",children:n?"Soyez le premier  commenter !":"Connectez-vous pour commenter"})]}):i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:f.map(pe=>{var Ye,Ue,gt;console.log(" Commentaire dtaill:",pe);const Ge=((Ye=pe.profiles)==null?void 0:Ye.full_name)||((Ue=pe.profiles)==null?void 0:Ue.username)||"Utilisateur",pt=(gt=pe.profiles)==null?void 0:gt.avatar_url,Pt=pe.comment_text||pe.content||"Aucun contenu",nt=pe.created_at;return i.jsx("div",{className:"border-b border-gray-700 pb-3 last:border-0 bg-gray-800/50 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:pt?i.jsx("img",{src:pt,alt:`Avatar de ${Ge}`,className:"w-8 h-8 rounded-full border border-purple-500"}):i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-purple-800 flex items-center justify-center text-white text-sm font-bold border border-purple-400",children:Ge.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[i.jsx("span",{className:"font-bold text-sm text-purple-200 bg-purple-900/30 px-2 py-1 rounded",children:Ge}),i.jsxs("span",{className:"text-xs text-gray-400",children:[nt?new Date(nt).toLocaleDateString("fr-FR"):"Date inconnue","  ",nt?new Date(nt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"heure inconnue"]})]}),i.jsx("div",{className:"bg-gray-900/50 rounded-lg p-3 border-l-4 border-purple-500",children:i.jsx("p",{className:"text-sm text-gray-100 whitespace-pre-wrap leading-relaxed",children:Pt})})]})]})},pe.id)})})]})]})]}))},j6e=({standType:e,onSelect:t,isSelected:r})=>{const n=e.quantity_available>e.quantity_rented,s=e.quantity_available-e.quantity_rented,a=e.quantity_rented/e.quantity_available*100;return i.jsxs("div",{className:`bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-2 rounded-xl p-5 transition-all duration-300 cursor-pointer hover:shadow-lg group ${r?"border-primary shadow-lg scale-105":"border-purple-500/30"} ${!n&&"opacity-60"}`,onClick:()=>n&&t(e),children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm text-purple-500",children:i.jsx(Vf,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:e.name}),i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[i.jsx(Ga,{className:"w-3 h-3"}),s," stand(s) disponible(s)"]})]})]}),i.jsx(nr,{className:`text-xs font-bold ${n?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:n?"DISPONIBLE":"COMPLET"})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[i.jsxs("span",{className:"text-green-600",children:[s," restant(s)"]}),i.jsxs("span",{className:"text-muted-foreground",children:[e.quantity_rented,"/",e.quantity_available," lou(s)"]})]}),i.jsx(ll,{value:a,className:"h-2 bg-muted/50"})]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:e.description}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/20",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary flex items-center gap-1",children:[e.calculated_price_pi," ",i.jsx(dn,{className:"w-5 h-5"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.base_price.toLocaleString()," FCFA"]})]}),i.jsx(Ee,{variant:r?"default":"outline",size:"sm",children:r?"Slectionn":"Slectionner"})]})]})},N6e=({event:e,standEventData:t,onPurchaseSuccess:r})=>{var C;const{user:n}=Pr(),[s,a]=b.useState(null),[o,l]=b.useState({company_name:"",contact_person:"",contact_email:"",contact_phone:"",business_description:""}),[c,d]=b.useState(!1),[f,h]=b.useState(!1),v=on(),[g,_]=b.useState({isOpen:!1,cost:0,costFcfa:0,onConfirm:null}),y=k=>{a(k)},j=()=>{if(!s){ze({title:"Aucun stand slectionn",variant:"destructive"});return}if(!o.company_name||!o.contact_person||!o.contact_email||!o.contact_phone){ze({title:"Informations requises",description:"Veuillez remplir les informations sur votre entreprise.",variant:"destructive"});return}_({isOpen:!0,cost:s.calculated_price_pi,costFcfa:s.base_price,onConfirm:w})},w=async()=>{_({isOpen:!1,cost:0,costFcfa:0,onConfirm:null}),d(!0);try{const{data:k,error:T}=await Oe.rpc("rent_stand",{p_event_id:e.id,p_user_id:n.id,p_stand_type_id:s.id,...o});if(T)throw T;k.success?(ze({title:" Stand rserv !",description:`Votre stand ${k.stand_number} a t rserv avec succs.`,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white"}),r(),a(null)):(ze({title:"Erreur de rservation",description:k.message,variant:"destructive"}),k.message.includes("Solde")&&h(!0))}catch(k){ze({title:"Erreur de rservation",description:k.message,variant:"destructive"})}finally{d(!1)}};return i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect border-2 border-primary/20 shadow-xl",children:[i.jsxs(Et,{className:"text-center pb-4",children:[i.jsx("div",{className:"flex justify-center mb-3",children:i.jsxs("div",{className:"relative",children:[i.jsx(Vf,{className:"w-10 h-10 text-primary"}),i.jsx(pi,{className:"w-5 h-5 text-yellow-500 absolute -top-1 -right-1 animate-pulse"})]})}),i.jsxs(Tt,{className:"flex items-center justify-center gap-3 text-2xl",children:[i.jsx(Md,{className:"w-6 h-6 text-red-500"}),"RSERVEZ VOTRE STAND",i.jsx(Md,{className:"w-6 h-6 text-red-500"})]}),i.jsx(nn,{className:"text-lg",children:"Prsentez vos produits et services  un public captiv."})]}),i.jsxs(st,{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.stand_types.map(k=>i.jsx(j6e,{standType:k,onSelect:y,isSelected:(s==null?void 0:s.id)===k.id},k.id))}),s&&i.jsxs("div",{className:"pt-6 border-t border-primary/20 space-y-4",children:[i.jsx("h3",{className:"font-bold text-lg",children:"Informations sur votre entreprise"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Qe,{htmlFor:"company_name",children:"Nom de l'entreprise *"}),i.jsx(vt,{id:"company_name",value:o.company_name,onChange:k=>l({...o,company_name:k.target.value})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Qe,{htmlFor:"contact_person",children:"Personne de contact *"}),i.jsx(vt,{id:"contact_person",value:o.contact_person,onChange:k=>l({...o,contact_person:k.target.value})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Qe,{htmlFor:"contact_email",children:"Email de contact *"}),i.jsx(vt,{id:"contact_email",type:"email",value:o.contact_email,onChange:k=>l({...o,contact_email:k.target.value})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Qe,{htmlFor:"contact_phone",children:"Tlphone de contact *"}),i.jsx(vt,{id:"contact_phone",type:"tel",value:o.contact_phone,onChange:k=>l({...o,contact_phone:k.target.value})})]}),i.jsxs("div",{className:"md:col-span-2 space-y-1",children:[i.jsx(Qe,{htmlFor:"business_description",children:"Description de l'activit"}),i.jsx(So,{id:"business_description",value:o.business_description,onChange:k=>l({...o,business_description:k.target.value})})]})]}),i.jsx(Ee,{onClick:j,disabled:c,size:"lg",className:"w-full py-6 text-lg font-bold bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:c?i.jsx(Dt,{className:"animate-spin w-6 h-6"}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pi,{className:"w-6 h-6 animate-pulse"}),i.jsx("span",{children:"RSERVER LE STAND"}),i.jsx(pi,{className:"w-6 h-6 animate-pulse"})]})})]})]})]}),i.jsx(Kd,{isOpen:f,onClose:()=>h(!1),onProceed:()=>{h(!1),v("/packs")}}),i.jsx(jo,{open:g.isOpen,onOpenChange:k=>!k&&_({isOpen:!1,cost:0,costFcfa:0,onConfirm:null}),children:i.jsxs(Ki,{className:"border-2 border-primary/20 shadow-2xl",children:[i.jsxs(Yi,{children:[i.jsxs(Xi,{className:"flex items-center justify-center gap-2 text-xl text-center",children:[i.jsx(Ko,{className:"w-6 h-6 text-yellow-500"}),"Confirmer votre rservation ?",i.jsx(Ko,{className:"w-6 h-6 text-yellow-500"})]}),i.jsx(Ji,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4 space-y-4",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-full",children:i.jsx(Vf,{className:"w-12 h-12 text-yellow-500"})}),i.jsxs("p",{className:"text-lg font-medium",children:["Vous investissez ",i.jsxs("strong",{className:"text-2xl text-primary",children:[g.cost,""]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["quivalent  ",(C=g.costFcfa)==null?void 0:C.toLocaleString("fr-FR")," FCFA"]})]})})]}),i.jsxs(No,{className:"flex gap-3",children:[i.jsx(Qi,{className:"flex-1 border-2",children:"Retour"}),i.jsx(Zi,{onClick:g.onConfirm,disabled:c,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:c?i.jsx(Dt,{className:"animate-spin w-4 h-4"}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pi,{className:"w-4 h-4"}),"Confirmer la rservation",i.jsx(pi,{className:"w-4 h-4"})]})})]})]})})]})},S6e=({event:e,standEventData:t})=>{const{data:r,error:n,loading:s}=C6e(t.id,async d=>{const{data:f,error:h}=await Oe.from("stand_rentals").select("*, user:user_id(full_name, email), stand_type:stand_type_id(name)").eq("stand_event_id",d).order("confirmed_at",{ascending:!1});if(h)throw h;return f}),a=b.useMemo(()=>(r==null?void 0:r.reduce((d,f)=>d+(f.rental_amount_pi||0),0))||0,[r]),o=t.stand_types.reduce((d,f)=>d+(f.quantity_rented||0),0),l=t.stand_types.reduce((d,f)=>d+f.quantity_available,0),c=o/l*100;return i.jsxs(at,{className:"glass-effect border-2 border-primary/30 shadow-xl",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-3 text-2xl",children:[i.jsx(Ko,{className:"w-7 h-7 text-yellow-500"}),"Tableau de Bord des Stands",i.jsx(Ko,{className:"w-7 h-7 text-yellow-500"})]}),i.jsx(nn,{className:"text-base",children:"Supervisez la location des stands de votre vnement."})]}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl text-center border border-green-500/20",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:o}),i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Stands Lous"})]}),i.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl text-center border border-yellow-500/20",children:[i.jsxs("p",{className:"text-2xl font-bold text-yellow-600 flex items-center justify-center gap-1",children:[a," ",i.jsx(dn,{className:"w-5 h-5"})]}),i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Revenu Total"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[i.jsx("span",{className:"text-green-600",children:"Progression des locations"}),i.jsxs("span",{className:"text-primary font-bold",children:[Math.round(c),"%"]})]}),i.jsx(ll,{value:c,className:"w-full h-3"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[o,"/",l," lous"]}),i.jsxs("span",{children:[l-o," restants"]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[i.jsx(Go,{className:"w-5 h-5 text-blue-500"}),"Dernires Rservations (",(r==null?void 0:r.length)||0,")"]}),s?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 pr-2",children:(r||[]).map(d=>{var f;return i.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-500/10 hover:border-blue-500/20 transition-colors",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[d.company_name," (",(f=d.user)==null?void 0:f.full_name,")"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.confirmed_at).toLocaleString("fr-FR")})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"font-bold text-primary",children:[d.stand_number," (",d.stand_type.name,")"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.rental_amount_pi,""]})]})]},d.id)})}),n&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:i.jsx("p",{className:"text-destructive text-sm text-center",children:"Erreur de chargement des rservations"})}),!s&&(!r||r.length===0)&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Vf,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Aucune rservation pour le moment"})]})]})]})]})},C6e=(e,t)=>{const[r,n]=b.useState(null),[s,a]=b.useState(null),[o,l]=b.useState(!0);return Se.useEffect(()=>{e&&(l(!0),t(e).then(c=>n(c)).catch(c=>a(c)).finally(()=>l(!1)))},[e,t]),{data:r,error:s,loading:o}},A6e=({event:e,standEventData:t,isUnlocked:r,isOwner:n,onRefresh:s})=>!r||!t?null:i.jsx("div",{className:"mt-8 space-y-8",children:n?i.jsx(S6e,{event:e,standEventData:t}):i.jsx(N6e,{event:e,standEventData:t,onPurchaseSuccess:s})}),k6e=({ticketType:e,quantity:t,onQuantityChange:r,index:n})=>{const s=e.quantity_available>(e.tickets_sold||0),a=e.quantity_available-(e.tickets_sold||0),o=s&&t<a,l=["from-blue-500/10 to-cyan-500/10 border-blue-500/30","from-purple-500/10 to-pink-500/10 border-purple-500/30","from-emerald-500/10 to-teal-500/10 border-emerald-500/30","from-orange-500/10 to-red-500/10 border-orange-500/30"],c=["text-blue-500","text-purple-500","text-emerald-500","text-orange-500"],d=l[n%l.length],f=c[n%c.length],h=(e.tickets_sold||0)/e.quantity_available*100;return i.jsxs("div",{className:`bg-gradient-to-br ${d} border-2 rounded-xl p-5 transition-all duration-300 hover:scale-105 hover:shadow-lg group ${!s&&"opacity-60"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg bg-white/20 backdrop-blur-sm ${f}`,children:i.jsx(ki,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:e.name}),i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[i.jsx(Ga,{className:"w-3 h-3"}),a," place(s) disponible(s)"]})]})]}),i.jsx(nr,{className:`text-xs font-bold ${s?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:s?" DISPO":" COMPLET"})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[i.jsxs("span",{className:"text-green-600",children:[a," restant(s)"]}),i.jsxs("span",{className:"text-muted-foreground",children:[e.tickets_sold||0,"/",e.quantity_available," vendu(s)"]})]}),i.jsx(ll,{value:h,className:"h-2 bg-muted/50"})]}),e.features&&e.features.length>0&&i.jsx("div",{className:"mb-4 space-y-2",children:e.features.map((v,g)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(pi,{className:"w-3 h-3 text-yellow-500 flex-shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:v})]},g))}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/20",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary flex items-center gap-1",children:[e.price_coins," ",i.jsx(dn,{className:"w-5 h-5"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.price.toLocaleString()," FCFA"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ee,{size:"icon",variant:"outline",onClick:()=>r(e.id,-1),disabled:t===0,className:"rounded-full border-2",children:i.jsx(VF,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-bold text-lg w-8 text-center bg-white/20 rounded-lg py-1",children:t}),i.jsx(Ee,{size:"icon",variant:"outline",onClick:()=>r(e.id,1),disabled:!o,className:"rounded-full border-2",children:i.jsx(Gi,{className:"w-4 h-4"})})]})]}),s&&a<=5&&i.jsx("div",{className:"mt-3 p-2 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:i.jsxs("p",{className:"text-xs text-orange-700 text-center font-medium flex items-center justify-center gap-1",children:[i.jsx(Wi,{className:"w-3 h-3"}),"Plus que ",a," place(s)  ce tarif !"]})})]})},E6e=({event:e,ticketingData:t,ticketTypes:r,onPurchaseSuccess:n})=>{var M;const{user:s}=Pr(),[a,o]=b.useState({}),[l,c]=b.useState(!1),[d,f]=b.useState(!1),h=on(),[v,g]=b.useState({isOpen:!1,cost:0,costFcfa:0,onConfirm:null}),_=(I,B)=>{o(V=>{const U=V[I]||0,q=Math.max(0,U+B),re={...V,[I]:q};return Object.fromEntries(Object.entries(re).filter(([H,X])=>X>0))})},{totalPi:y,totalFcfa:j,totalTickets:w}=b.useMemo(()=>Object.entries(a).reduce((I,[B,V])=>{if(V>0){const U=r.find(q=>q.id===B);U&&(I.totalPi+=U.price_coins*V,I.totalFcfa+=U.price*V,I.totalTickets+=V)}return I},{totalPi:0,totalFcfa:0,totalTickets:0}),[a,r]),C=()=>{g({isOpen:!0,cost:y,costFcfa:j,onConfirm:k})},k=async()=>{g({isOpen:!1,cost:0,costFcfa:0,onConfirm:null}),c(!0);try{const{data:I,error:B}=await Oe.rpc("purchase_tickets",{p_user_id:s.id,p_event_id:e.id,p_cart:a});if(B)throw B;I.success?(ze({title:" Flicitations !",description:`Vous avez rserv ${w} place(s) ! Un email de confirmation vous a t envoy.`,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white"}),n(),o({})):(ze({title:"Erreur d'achat",description:I.message,variant:"destructive"}),I.message.includes("Solde")&&f(!0))}catch(I){ze({title:"Erreur d'achat",description:I.message,variant:"destructive"})}finally{c(!1)}},T=r.reduce((I,B)=>I+(B.tickets_sold||0),0),P=r.reduce((I,B)=>I+B.quantity_available,0),D=T/P*100;return i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect border-2 border-primary/20 shadow-xl",children:[i.jsxs(Et,{className:"text-center pb-4",children:[i.jsx("div",{className:"flex justify-center mb-3",children:i.jsxs("div",{className:"relative",children:[i.jsx(ki,{className:"w-10 h-10 text-primary"}),i.jsx(pi,{className:"w-5 h-5 text-yellow-500 absolute -top-1 -right-1 animate-pulse"})]})}),i.jsxs(Tt,{className:"flex items-center justify-center gap-3 text-2xl",children:[i.jsx(Md,{className:"w-6 h-6 text-red-500"}),"RSERVEZ VOS PLACES MAINTENANT !",i.jsx(Md,{className:"w-6 h-6 text-red-500"})]}),i.jsx(nn,{className:"text-lg",children:"Ne manquez pas cet vnement exceptionnel - Les places partent vite !"})]}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[i.jsxs("span",{className:"text-green-600",children:[" ",T," places dj vendues"]}),i.jsxs("span",{className:"text-primary font-bold",children:[Math.round(D),"% complet"]})]}),i.jsx(ll,{value:D,className:"w-full h-3"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[" ",P-T," places restantes"]}),i.jsx("span",{children:" Dpchez-vous !"})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map((I,B)=>i.jsx(k6e,{ticketType:I,quantity:a[I.id]||0,onQuantityChange:_,index:B},I.id))}),w>0&&i.jsxs("div",{className:"pt-6 border-t border-primary/20 space-y-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-xl border border-green-500/20",children:[i.jsxs("p",{className:"font-bold text-lg flex items-center justify-center gap-2",children:[i.jsx(rw,{className:"w-5 h-5"}),"VOTRE SLECTION",i.jsx(rw,{className:"w-5 h-5"})]}),i.jsxs("div",{className:"flex justify-between items-center mt-3 font-bold text-xl",children:[i.jsxs("span",{children:["Total ",w," place(s)"]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"flex items-center justify-end gap-2 text-primary",children:[y," ",i.jsx(dn,{className:"w-6 h-6"})]}),i.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",j.toLocaleString()," FCFA)"]})]})]})]}),i.jsx(Ee,{onClick:C,disabled:l||w===0,size:"lg",className:"w-full py-6 text-lg font-bold bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:l?i.jsx(Dt,{className:"animate-spin w-6 h-6"}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pi,{className:"w-6 h-6 animate-pulse"}),i.jsx("span",{children:"ACHETER MAINTENANT"}),i.jsx(pi,{className:"w-6 h-6 animate-pulse"})]})}),i.jsx("div",{className:"text-center p-3 bg-blue-500/10 rounded-lg border border-blue-500/20",children:i.jsxs("p",{className:"text-sm font-medium flex items-center justify-center gap-2",children:[i.jsx(Cc,{className:"w-4 h-4 text-yellow-500"}),"Vous allez vivre un moment inoubliable !",i.jsx(Cc,{className:"w-4 h-4 text-yellow-500"})]})})]})]})]}),i.jsx(Kd,{isOpen:d,onClose:()=>f(!1),onProceed:()=>{f(!1),h("/packs")}}),i.jsx(jo,{open:v.isOpen,onOpenChange:I=>!I&&g({isOpen:!1,cost:0,costFcfa:0,onConfirm:null}),children:i.jsxs(Ki,{className:"border-2 border-primary/20 shadow-2xl",children:[i.jsxs(Yi,{children:[i.jsxs(Xi,{className:"flex items-center justify-center gap-2 text-xl text-center",children:[i.jsx(Ko,{className:"w-6 h-6 text-yellow-500"}),"Confirmer votre rservation ?",i.jsx(Ko,{className:"w-6 h-6 text-yellow-500"})]}),i.jsx(Ji,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4 space-y-4",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-full",children:i.jsx(ki,{className:"w-12 h-12 text-yellow-500"})}),i.jsxs("p",{className:"text-lg font-medium",children:["Vous investissez ",i.jsxs("strong",{className:"text-2xl text-primary",children:[v.cost,""]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["quivalent  ",(M=v.costFcfa)==null?void 0:M.toLocaleString("fr-FR")," FCFA"]}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm w-full",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ep,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-green-900",children:" Exprience garantie !"}),i.jsx("p",{className:"text-green-700 mt-1",children:"Votre rservation vous garantit une place pour cet vnement unique. Vous soutenez galement les organisateurs et la communaut BonPlanInfos."})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full text-xs",children:[i.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:[i.jsx("p",{className:"font-semibold text-blue-700",children:" Places rserves"}),i.jsx("p",{className:"text-blue-600",children:w})]}),i.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded border border-purple-200",children:[i.jsx("p",{className:"font-semibold text-purple-700",children:" Soutien communaut"}),i.jsx("p",{className:"text-purple-600",children:"Actif"})]})]})]})})]}),i.jsxs(No,{className:"flex gap-3",children:[i.jsx(Qi,{className:"flex-1 border-2",children:"Retour"}),i.jsx(Zi,{onClick:v.onConfirm,disabled:l,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:l?i.jsx(Dt,{className:"animate-spin w-4 h-4"}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pi,{className:"w-4 h-4"}),"Confirmer l'achat",i.jsx(pi,{className:"w-4 h-4"})]})})]})]})})]})},T6e=(e,t)=>{const[r,n]=b.useState(null),[s,a]=b.useState(null),[o,l]=b.useState(!0);return Se.useEffect(()=>{e&&(l(!0),t(e).then(c=>n(c)).catch(c=>a(c)).finally(()=>l(!1)))},[e,t]),{data:r,error:s,loading:o}},P6e=({event:e,ticketingData:t,ticketTypes:r})=>{const{data:n,error:s,loading:a}=T6e(e.id,async f=>{const{data:h,error:v}=await Oe.from("ticket_orders").select("*, user:profiles(full_name, email)").eq("event_id",f).order("created_at",{ascending:!1});if(v)throw v;return h}),o=b.useMemo(()=>(n==null?void 0:n.reduce((f,h)=>f+(h.status==="completed"?h.total_amount_coins:0),0))||0,[n]),l=r.reduce((f,h)=>f+(h.tickets_sold||0),0),c=r.reduce((f,h)=>f+h.quantity_available,0),d=l/c*100;return i.jsxs(at,{className:"glass-effect border-2 border-primary/30 shadow-xl",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-3 text-2xl",children:[i.jsx(Ko,{className:"w-7 h-7 text-yellow-500"}),"Tableau de Bord Billetterie",i.jsx(Ko,{className:"w-7 h-7 text-yellow-500"})]}),i.jsx(nn,{className:"text-base",children:"Supervisez les ventes de votre vnement"})]}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl text-center border border-green-500/20",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:l}),i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:" Places Vendues"})]}),i.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl text-center border border-yellow-500/20",children:[i.jsxs("p",{className:"text-2xl font-bold text-yellow-600 flex items-center justify-center gap-1",children:[o," ",i.jsx(dn,{className:"w-5 h-5"})]}),i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:" Revenu Total"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[i.jsx("span",{className:"text-green-600",children:"Progression des ventes"}),i.jsxs("span",{className:"text-primary font-bold",children:[Math.round(d),"%"]})]}),i.jsx(ll,{value:d,className:"w-full h-3"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[l,"/",c," vendus"]}),i.jsxs("span",{children:[c-l," restants"]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[i.jsx(Go,{className:"w-5 h-5 text-blue-500"}),"Dernires Rservations (",(n==null?void 0:n.length)||0,")"]}),a?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 pr-2",children:(n||[]).map(f=>{var h;return i.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-500/10 hover:border-blue-500/20 transition-colors",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:((h=f.user)==null?void 0:h.full_name)||"Anonyme"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(f.created_at).toLocaleString("fr-FR")})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"font-bold text-primary",children:[f.ticket_count," place(s)"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.total_amount_coins,""]})]})]},f.id)})}),s&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:i.jsx("p",{className:"text-destructive text-sm text-center",children:"Erreur de chargement des commandes"})}),!a&&(!n||n.length===0)&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ki,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Aucune rservation pour le moment"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Les premires places attendent leurs propritaires !"})]})]})]})]})},O6e=({event:e,ticketingData:t,ticketTypes:r,isUnlocked:n,isOwner:s,onRefresh:a})=>n?!t||!r?i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary mr-3"}),i.jsx("span",{className:"text-lg",children:"Chargement des donnes de billetterie..."})]}):i.jsxs("div",{className:"mt-8 space-y-8",children:[!s&&i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent",children:" RSERVEZ VOTRE EXPRIENCE UNIQUE "}),i.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Ne laissez pas passer cette occasion exceptionnelle - Rejoignez-nous pour un moment inoubliable !"}),i.jsxs("div",{className:"flex justify-center gap-4 text-sm text-muted-foreground",children:[i.jsx("span",{className:"flex items-center gap-1",children:" Exprience premium"}),i.jsx("span",{className:"flex items-center gap-1",children:" Networking exclusif"}),i.jsx("span",{className:"flex items-center gap-1",children:" Moments magiques"})]})]}),s?i.jsx(P6e,{event:e,ticketingData:t,ticketTypes:r}):i.jsx(E6e,{event:e,ticketingData:t,ticketTypes:r,onPurchaseSuccess:a})]}):null,F6e=({imageUrl:e,altText:t,isOpen:r,onClose:n})=>r?i.jsx(iu,{children:r&&i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs(wt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:120},onClick:s=>s.stopPropagation(),className:"relative max-w-4xl max-h-[90vh] w-full",children:[i.jsx("img",{className:"w-full h-full object-contain rounded-lg shadow-2xl",src:e||"https://images.unsplash.com/photo-1573107571566-426fad25031b",alt:t}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:n,className:"absolute -top-2 -right-2 bg-background/50 hover:bg-background/80 rounded-full h-10 w-10 text-white",children:i.jsx(au,{className:"h-6 w-6"})})]})})}):null,D6e=({candidate:e,totalVotes:t,votePrice:r,votePriceFcfa:n,onVote:s,settings:a,isFinished:o,index:l})=>{const[c,d]=b.useState(1),[f,h]=b.useState(!1),[v,g]=b.useState(!1),_=on(),[y,j]=b.useState({isOpen:!1,onConfirm:null}),{user:w}=Pr(),[C,k]=b.useState(!1),T=t>0?(e.vote_count||0)/t*100:0,P=c*r,D=()=>{j({isOpen:!0,onConfirm:()=>M()})},M=async()=>{if(j({isOpen:!1,onConfirm:null}),!w){ze({title:"Connectez-vous",description:"Vous devez tre connect pour voter.",variant:"destructive"}),_("/auth");return}h(!0);try{const I=await ws.getUserBalance(w.id);if(console.log(`User balance: ${I}`),console.log(`Vote cost: ${P}`),I<P){console.log("Insufficient coins"),g(!0),h(!1);return}const{data:B,error:V}=await Oe.rpc("peut_voter",{p_user_id:w.id,p_event_id:e.event_id});if(V)throw V;if(!B)throw new Error("Vous ne pouvez pas voter (compte restreint ou vnement clos).");const{data:U,error:q}=await Oe.rpc("participate_in_vote",{p_event_id:e.event_id,p_candidate_id:e.id,p_user_id:w.id,p_vote_count:c});if(q)throw q;U.success?(console.log("Vote successful"),ze({title:" Vote enregistr !",description:`Vous avez donn ${c} voix  ${e.name}.`,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white"}),s()):(ze({title:"Erreur de vote",description:U.message||"Une erreur est survenue.",variant:"destructive"}),U.message.includes("Solde")&&g(!0))}catch(I){console.error("Vote Error:",I),ze({title:"Erreur",description:I.message,variant:"destructive"})}finally{h(!1)}};return i.jsxs(i.Fragment,{children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-card border rounded-xl p-5 transition-all duration-300 hover:shadow-md group relative",children:[l<3&&i.jsx("div",{className:"absolute -top-3 -right-2 z-10",children:i.jsxs(nr,{className:`${l===0?"bg-yellow-500":l===1?"bg-gray-400":"bg-orange-500"} text-white border-none shadow-lg`,children:["#",l+1]})}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsxs(Xu,{className:"w-16 h-16 border-2 border-primary cursor-pointer",onClick:I=>{I.stopPropagation(),k(!0)},children:[i.jsx(Ju,{src:e.photo_url,alt:e.name}),i.jsx(Zu,{className:"bg-primary/10 font-bold text-lg",children:e.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-lg truncate",children:e.name}),i.jsx(M_,{asChild:!0,children:i.jsxs(Ee,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground",children:[i.jsx(cu,{className:"w-3 h-3 mr-1"})," Dtails"]})})]})]}),a.show_live_results&&i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[i.jsxs("span",{className:"text-primary font-bold",children:[e.vote_count||0," voix"]}),i.jsxs("span",{className:"text-muted-foreground",children:[T.toFixed(1),"%"]})]}),i.jsx(ll,{value:T,className:"h-2"})]}),!o&&i.jsxs("div",{className:"space-y-3 pt-3 border-t border-border/50",children:[i.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded-lg",children:[i.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>d(I=>Math.max(1,I-1)),disabled:c===1,children:i.jsx(VF,{className:"w-3 h-3"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"font-bold text-lg",children:c}),i.jsx("span",{className:"text-[10px] block text-muted-foreground uppercase",children:"Voix"})]}),i.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>d(I=>I+1),children:i.jsx(Gi,{className:"w-3 h-3"})})]}),i.jsx(Ee,{onClick:D,disabled:f,className:"w-full font-bold",children:f?i.jsx(Dt,{className:"animate-spin w-4 h-4"}):`Voter (${P})`}),i.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["Soit ",P*10," FCFA"]})]})]}),i.jsx(Ao,{children:i.jsxs(to,{children:[i.jsx(ko,{children:i.jsx(Eo,{children:e.name})}),i.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[i.jsx("img",{src:e.photo_url||"https://via.placeholder.com/150",alt:e.name,className:"w-full max-h-64 object-cover rounded-lg"}),i.jsx("p",{className:"text-center text-muted-foreground",children:e.description||"Aucune description."})]})]})}),i.jsx(Kd,{isOpen:v,onClose:()=>g(!1),onProceed:()=>{console.log("Redirecting to shop"),g(!1),_("/packs")}}),i.jsx(jo,{open:y.isOpen,onOpenChange:I=>!I&&j({isOpen:!1,onConfirm:null}),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Confirmer le vote"}),i.jsxs(Ji,{children:["Vous allez donner ",c," voix  ",e.name," pour un total de ",P," (",P*10," FCFA)."]})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:y.onConfirm,disabled:f,children:f?i.jsx(Dt,{className:"animate-spin w-4 h-4"}):"Confirmer"})]})]})}),i.jsx(F6e,{imageUrl:e.photo_url,altText:`Photo de ${e.name}`,isOpen:C,onClose:()=>k(!1)})]})},R6e=({event:e,isUnlocked:t,isOwner:r,onRefresh:n})=>{const[s,a]=b.useState([]),[o,l]=b.useState(null),[c,d]=b.useState(!0),{user:f}=Pr(),[h,v]=b.useState(0),g=b.useCallback(async()=>{d(!0);try{const{data:w,error:C}=await Oe.from("vue_details_candidats").select("*").eq("event_id",e.id).order("ranking_position",{ascending:!0});if(C)throw C;const{data:k,error:T}=await Oe.from("event_settings").select("*").eq("event_id",e.id).single();if(T)throw T;if(a(w),l(k),f){const P=await ws.getUserBalance(f.id);v(P)}}catch(w){console.error("Fetch error:",w)}finally{d(!1)}},[e.id,f]);b.useEffect(()=>{g();const w=Oe.channel(`voting-interface-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"candidates",filter:`event_id=eq.${e.id}`},()=>{console.log("Ranking updated (realtime)"),g()}).subscribe();return()=>{Oe.removeChannel(w)}},[g,e.id]);const _=()=>{g(),n&&n()},y=b.useMemo(()=>s.reduce((w,C)=>w+(C.vote_count||0),0),[s]),j=o&&new Date>new Date(o.end_date);return c||!o?i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary mr-3"}),i.jsx("span",{className:"text-lg",children:"Chargement du systme de vote..."})]}):t?i.jsx("div",{className:"mt-8 space-y-8",children:i.jsxs(at,{className:"border-none shadow-none bg-transparent",children:[i.jsxs(Et,{className:"text-center pb-4 px-0",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-primary/10 rounded-full mb-4",children:i.jsx(Gh,{className:"w-8 h-8 text-primary"})}),i.jsx(Tt,{className:"text-3xl font-bold",children:j?"Rsultats Finaux":"Votez pour votre favori"}),i.jsx(nn,{className:"text-lg",children:j?`Le concours est termin avec ${y} votes !`:`Chaque voix compte ! Cot du vote : ${o.vote_price_pi}`}),f&&!j&&i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(nr,{variant:"outline",className:"bg-background py-1.5 px-4 border-primary/20 shadow-sm",children:[i.jsx(dn,{className:"w-4 h-4 mr-2 text-yellow-500"}),i.jsxs("span",{className:"font-semibold",children:["Votre solde: ",h," "]})]})})]}),i.jsx(st,{className:"px-0 space-y-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.jsx(iu,{children:s.map((w,C)=>i.jsx(D6e,{candidate:w,totalVotes:y,votePrice:o.vote_price_pi,votePriceFcfa:o.vote_price_fcfa||o.vote_price_pi*10,onVote:_,settings:o,isFinished:j,index:C},w.id))})})})]})}):null};var wC="Collapsible",[M6e,jne]=eo(wC),[I6e,NR]=M6e(wC),Nne=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c,d]=_o({prop:n,defaultProp:s??!1,onChange:o,caller:wC});return i.jsx(I6e,{scope:r,disabled:a,contentId:Ac(),open:c,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),children:i.jsx(_r.div,{"data-state":CR(c),"data-disabled":a?"":void 0,...l,ref:t})})});Nne.displayName=wC;var Sne="CollapsibleTrigger",Cne=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=NR(Sne,r);return i.jsx(_r.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":CR(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Wt(e.onClick,s.onOpenToggle)})});Cne.displayName=Sne;var SR="CollapsibleContent",Ane=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=NR(SR,e.__scopeCollapsible);return i.jsx(Pl,{present:r||s.open,children:({present:a})=>i.jsx(L6e,{...n,ref:t,present:a})})});Ane.displayName=SR;var L6e=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=NR(SR,r),[l,c]=b.useState(n),d=b.useRef(null),f=mn(t,d),h=b.useRef(0),v=h.current,g=b.useRef(0),_=g.current,y=o.open||l,j=b.useRef(y),w=b.useRef(void 0);return b.useEffect(()=>{const C=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(C)},[]),Ei(()=>{const C=d.current;if(C){w.current=w.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const k=C.getBoundingClientRect();h.current=k.height,g.current=k.width,j.current||(C.style.transitionDuration=w.current.transitionDuration,C.style.animationName=w.current.animationName),c(n)}},[o.open,n]),i.jsx(_r.div,{"data-state":CR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...a,ref:f,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style},children:y&&s})});function CR(e){return e?"open":"closed"}var $6e=Nne,B6e=Cne,z6e=Ane,Yd="Accordion",U6e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[AR,V6e,q6e]=Jx(Yd),[_C,Zut]=eo(Yd,[q6e,jne]),kR=jne(),kne=Se.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return i.jsx(AR.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(K6e,{...a,ref:t}):i.jsx(G6e,{...s,ref:t})})});kne.displayName=Yd;var[Ene,W6e]=_C(Yd),[Tne,H6e]=_C(Yd,{collapsible:!1}),G6e=Se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=_o({prop:r,defaultProp:n??"",onChange:s,caller:Yd});return i.jsx(Ene,{scope:e.__scopeAccordion,value:Se.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Se.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(Tne,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(Pne,{...o,ref:t})})})}),K6e=Se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o,l]=_o({prop:r,defaultProp:n??[],onChange:s,caller:Yd}),c=Se.useCallback(f=>l((h=[])=>[...h,f]),[l]),d=Se.useCallback(f=>l((h=[])=>h.filter(v=>v!==f)),[l]);return i.jsx(Ene,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:i.jsx(Tne,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(Pne,{...a,ref:t})})})}),[Y6e,jC]=_C(Yd),Pne=Se.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=e,l=Se.useRef(null),c=mn(l,t),d=V6e(r),h=zp(s)==="ltr",v=Wt(e.onKeyDown,g=>{var I;if(!U6e.includes(g.key))return;const _=g.target,y=d().filter(B=>{var V;return!((V=B.ref.current)!=null&&V.disabled)}),j=y.findIndex(B=>B.ref.current===_),w=y.length;if(j===-1)return;g.preventDefault();let C=j;const k=0,T=w-1,P=()=>{C=j+1,C>T&&(C=k)},D=()=>{C=j-1,C<k&&(C=T)};switch(g.key){case"Home":C=k;break;case"End":C=T;break;case"ArrowRight":a==="horizontal"&&(h?P():D());break;case"ArrowDown":a==="vertical"&&P();break;case"ArrowLeft":a==="horizontal"&&(h?D():P());break;case"ArrowUp":a==="vertical"&&D();break}const M=C%w;(I=y[M].ref.current)==null||I.focus()});return i.jsx(Y6e,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(AR.Slot,{scope:r,children:i.jsx(_r.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:v})})})}),LN="AccordionItem",[X6e,ER]=_C(LN),One=Se.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=jC(LN,r),o=W6e(LN,r),l=kR(r),c=Ac(),d=n&&o.value.includes(n)||!1,f=a.disabled||e.disabled;return i.jsx(X6e,{scope:r,open:d,disabled:f,triggerId:c,children:i.jsx($6e,{"data-orientation":a.orientation,"data-state":Lne(d),...l,...s,ref:t,disabled:f,open:d,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});One.displayName=LN;var Fne="AccordionHeader",Dne=Se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=jC(Yd,r),a=ER(Fne,r);return i.jsx(_r.h3,{"data-orientation":s.orientation,"data-state":Lne(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Dne.displayName=Fne;var RP="AccordionTrigger",Rne=Se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=jC(Yd,r),a=ER(RP,r),o=H6e(RP,r),l=kR(r);return i.jsx(AR.ItemSlot,{scope:r,children:i.jsx(B6e,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});Rne.displayName=RP;var Mne="AccordionContent",Ine=Se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=jC(Yd,r),a=ER(Mne,r),o=kR(r);return i.jsx(z6e,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Ine.displayName=Mne;function Lne(e){return e?"open":"closed"}var J6e=kne,Z6e=One,Q6e=Dne,$ne=Rne,Bne=Ine;const TR=J6e,NC=b.forwardRef(({className:e,...t},r)=>i.jsx(Z6e,{ref:r,className:Ht("border-b",e),...t}));NC.displayName="AccordionItem";const SC=b.forwardRef(({className:e,children:t,...r},n)=>i.jsx(Q6e,{className:"flex",children:i.jsxs($ne,{ref:n,className:Ht("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(LF,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));SC.displayName=$ne.displayName;const CC=b.forwardRef(({className:e,children:t,...r},n)=>i.jsx(Bne,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:Ht("pb-4 pt-0",e),children:t})}));CC.displayName=Bne.displayName;const eTe=()=>{var ce,xe,de,ee,fe,ne;const{id:e}=TF(),t=on(),{userProfile:r,adminConfig:n,forceRefreshUserProfile:s}=Un(),{user:a}=Pr(),[o,l]=b.useState(null),[c,d]=b.useState(null),[f,h]=b.useState(!0),[v,g]=b.useState(!1),[_,y]=b.useState(!1),[j,w]=b.useState(!1),[C,k]=b.useState({isOpen:!1,type:null,cost:0,costFcfa:0,action:null}),[T,P]=b.useState(!1),D=b.useCallback(async()=>{h(!0);try{const{data:Y,error:ue}=await Oe.from("events").select("*, organizer:organizer_id(full_name), category:category_id(name, slug)").eq("id",e).single();if(ue)throw ue;l(Y);let le=null;if(Y.event_type==="raffle"){const{data:Fe,error:Be}=await Oe.from("raffle_events").select("*").eq("event_id",e).single();if(Be&&Be.code!=="PGRST116")throw Be;const{data:Re,error:Te}=await Oe.from("raffle_prizes").select("*").eq("event_id",e);if(Te)throw Te;le=Fe?{...Fe,prizes:Re||[]}:null}else if(Y.event_type==="stand_rental"){const{data:Fe,error:Be}=await Oe.from("stand_events").select("*").eq("event_id",e).single();if(Be&&Be.code!=="PGRST116")throw Be;const{data:Re,error:Te}=await Oe.from("stand_types").select("*").eq("event_id",e);if(Te)throw Te;le=Fe?{...Fe,stand_types:Re||[]}:null}else if(Y.event_type==="ticketing"){const{data:Fe,error:Be}=await Oe.from("ticketing_events").select("*").eq("event_id",e).single();if(Be&&Be.code!=="PGRST116")throw Be;const{data:Re,error:Te}=await Oe.from("ticket_types").select("*").eq("event_id",e);if(Te)throw Te;le=Fe?{...Fe,ticket_types:Re||[]}:null}else Y.event_type==="voting"&&(le={});d(le);const ke=a&&Y.organizer_id===a.id,_e=r&&["super_admin","admin","secretary"].includes(r.user_type);if(ke||_e||Y.event_type!=="protected")g(!0);else if(a){const{data:Fe,error:Be}=await Oe.rpc("access_protected_event",{p_event_id:Y.id,p_user_id:a.id});Be?(console.warn("Could not check event access status, assuming locked.",Be),g(!1)):g((Fe==null?void 0:Fe.has_access)||!1)}else g(!1)}catch(Y){console.error("Error fetching event data:",Y),Y.code==="PGRST116"?l(null):ze({title:"Erreur",description:"Impossible de charger les dtails de l'vnement.",variant:"destructive"})}finally{h(!1)}},[e,a,r]);b.useEffect(()=>{D()},[D]);const M=(Y,ue,le)=>{if(!a){ze({title:"Connexion requise",variant:"destructive"}),t("/auth");return}k({isOpen:!0,type:Y,cost:ue,costFcfa:le,action:I})},I=async()=>{const Y=C.cost;if(!a||!o)return;P(!0);const ue=()=>{w(!0)},le=async()=>{try{const{data:ke,error:_e}=await Oe.rpc("access_protected_event",{p_event_id:o.id,p_user_id:a.id},{method:"POST"});if(_e)throw _e;if(!ke.success)throw new Error(ke.message);ze({title:"Accs accord!",description:`Vous avez dpens ${Y} pices.`}),g(!0),await s()}catch(ke){ze({title:"Erreur",description:ke.message,variant:"destructive"})}};await ws.handleAction({userId:a.id,requiredCoins:Y,onSuccess:le,onInsufficientBalance:ue}),k({isOpen:!1,type:null,cost:0,costFcfa:0,action:null}),P(!1)},B=async()=>{if(U)try{const{error:Y}=await Oe.rpc("delete_event_completely",{p_event_id:o.id});if(Y)throw Y;ze({title:"vnement supprim"}),t("/discover")}catch{ze({title:"Erreur",description:"Impossible de supprimer l'vnement.",variant:"destructive"})}},V=async()=>{if(!o)return;const Y={title:o.title,text:o.description?o.description.substring(0,100)+"...":`Dcouvrez l'vnement ${o.title} sur BonPlanInfos !`,url:window.location.href};if(navigator.share)try{await navigator.share(Y),ze({title:"Partag !",description:"L'vnement a t partag avec succs."})}catch(ue){ue.name!=="AbortError"&&ze({title:"Erreur de partage",description:"Impossible de partager l'vnement.",variant:"destructive"})}else try{await navigator.clipboard.writeText(window.location.href),ze({title:"Lien copi !",description:"Le lien de l'vnement a t copi dans votre presse-papiers."})}catch{ze({title:"Erreur",description:"Impossible de copier le lien.",variant:"destructive"})}},U=a&&((r==null?void 0:r.user_type)==="super_admin"||(r==null?void 0:r.user_type)==="admin"||(o==null?void 0:o.organizer_id)===a.id),q=Y=>({soiree:"bg-purple-600",mariage:"bg-pink-600",concert:"bg-blue-600",bar:"bg-orange-600",promo:"bg-green-600",raffle:"bg-teal-600",salon:"bg-indigo-600",ticketing:"bg-sky-600",voting:"bg-yellow-600",protected:"bg-rose-600",autre:"bg-gray-600"})[Y]||"bg-gray-600",re=Y=>({soiree:"Soire",mariage:"Mariage",concert:"Concert",bar:"Bar/Club",promo:"Promotion",raffle:"Tombola",salon:"Salon/Foire",ticketing:"Billetterie",voting:"Vote",protected:"Protg",autre:"Autre"})[Y]||"Autre",H=Y=>{const ue=new Date(Y);return{date:ue.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:ue.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}};if(f||!n)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})});if(!o)return i.jsxs("div",{className:"min-h-screen bg-background text-center p-8",children:[i.jsx("h1",{className:"text-2xl text-red-500",children:"vnement non trouv"}),i.jsx("p",{className:"text-muted-foreground",children:"Il se peut que cet vnement ait t supprim."})]});const X=o.cover_image?o.cover_image:"https://images.unsplash.com/photo-1509930854872-0f61005b282e",Q=()=>{const Y=a&&a.id===o.organizer_id,ue={isUnlocked:v,isOwner:Y,onRefresh:D};switch(o.event_type){case"raffle":return i.jsx(_6e,{raffleData:c,eventId:o.id,...ue});case"stand_rental":return i.jsx(A6e,{event:o,standEventData:c,...ue});case"ticketing":return i.jsx(O6e,{event:o,ticketingData:c,ticketTypes:c==null?void 0:c.ticket_types,...ue});case"voting":return i.jsx(R6e,{event:o,...ue});default:return o.description&&o.description.trim()!==""?i.jsx(TR,{type:"single",collapsible:!0,className:"w-full",defaultValue:"item-1",children:i.jsxs(NC,{value:"item-1",className:"border-border",children:[i.jsx(SC,{className:"text-lg font-semibold",children:"Description"}),i.jsx(CC,{children:i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-wrap",children:o.description})})})]})}):null}},se=o.event_type==="protected"?2:0,te=se*(n.coin_to_fcfa_rate||10);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(bC,{pageData:{title:o.title,description:o.description,ogImage:X}}),i.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex justify-between items-center",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>t(-1),className:"text-muted-foreground hover:text-primary",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Retour"]}),U&&i.jsxs(jo,{children:[i.jsx(cC,{asChild:!0,children:i.jsxs(Ee,{variant:"destructive",size:"sm",children:[i.jsx(kl,{className:"w-4 h-4 mr-2"}),"Supprimer"]})}),i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Supprimer cet vnement ?"}),i.jsx(Ji,{children:"Cette action est irrversible et supprimera l'vnement ainsi que toutes ses donnes associes (tickets, votes, etc.)."})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:B,className:"bg-destructive hover:bg-destructive/90",children:"Confirmer"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative rounded-lg overflow-hidden shadow-lg",children:[i.jsx("img",{className:"w-full h-64 md:h-96 object-cover",alt:`Image de l'vnement ${o.title}`,src:X}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),i.jsx(nr,{className:`absolute top-4 right-4 ${q((ce=o.category)==null?void 0:ce.slug)} text-white border-0`,children:((xe=o.category)==null?void 0:xe.name)||re(o.event_type)}),!v&&se>0&&i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center backdrop-blur-sm",children:[i.jsx(Wh,{className:"w-12 h-12 text-primary mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"Contenu verrouill"})]})]}),i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsx(at,{className:"glass-effect",children:i.jsxs(st,{className:"p-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:o.title}),v?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(qs,{className:"w-5 h-5 mr-3 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:H(o.event_date).date}),i.jsx("p",{className:"text-sm",children:H(o.event_date).time})]})]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(wo,{className:"w-5 h-5 mr-3 text-primary"}),i.jsx("div",{children:i.jsxs("p",{className:"font-medium text-foreground",children:[o.address,", ",o.city]})})]})]}),Q()]}):i.jsxs("div",{className:"text-center py-10 bg-muted/50 rounded-lg flex flex-col items-center",children:[i.jsx(Wh,{className:"w-12 h-12 text-primary mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-foreground",children:o.event_type==="protected"?"vnement Protg":"Contenu verrouill"}),i.jsxs("p",{className:"text-muted-foreground mb-4",children:["Dbloquez les dtails pour ",se,"  (",te.toLocaleString("fr-FR")," FCFA)."]}),i.jsxs(Ee,{onClick:()=>M("Dbloquer les dtails",se,te),className:"gradient-gold text-background",children:[i.jsx(dn,{className:"w-4 h-4 mr-2"}),"Dbloquer les dtails"]})]})]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:i.jsx(at,{className:"glass-effect",children:i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Interactions"}),i.jsx(u6e,{event:o,isUnlocked:v,handleShare:V})]})})}),i.jsx(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:i.jsx(at,{className:"glass-effect",children:i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Organisateur"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 gradient-red rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xl",children:((fe=(ee=(de=o.organizer)==null?void 0:de.full_name)==null?void 0:ee.charAt(0))==null?void 0:fe.toUpperCase())||"O"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:((ne=o.organizer)==null?void 0:ne.full_name)||"Organisateur Anonyme"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Membre vrifi"})]})]}),v&&o.contact_phone&&i.jsx("a",{href:`tel:${o.contact_phone}`,className:"w-full mt-4",children:i.jsxs(Ee,{variant:"outline",size:"sm",className:"w-full border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[i.jsx(w3,{className:"w-4 h-4 mr-2"}),o.contact_phone]})})]})})})]})]})]}),i.jsx(Kd,{isOpen:j,onClose:()=>w(!1),onProceed:()=>{w(!1),y(!0)}}),i.jsx(yC,{isOpen:_,onClose:()=>y(!1)}),i.jsx(jo,{open:C.isOpen,onOpenChange:Y=>!Y&&k({isOpen:!1,type:null,cost:0,costFcfa:0,action:null}),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsxs(Xi,{children:[C.type," ?"]}),i.jsxs(Ji,{children:[i.jsxs("div",{children:["Cette action vous cotera ",C.cost,"  (",C.costFcfa.toLocaleString("fr-FR")," FCFA)."]}),i.jsxs("div",{className:"mt-2 text-xs text-muted-foreground p-2 bg-muted rounded flex items-start gap-2",children:[i.jsx(cu,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsxs("span",{children:["Seule l'utilisation de pices ",i.jsx("strong",{children:"payantes"})," gnre une rcompense pour l'organisateur."]})]})]})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:C.action,disabled:T,children:T?i.jsx(Dt,{className:"animate-spin"}):"Confirmer"})]})]})})]})},zB=({users:e=[],onRefresh:t})=>{const{userProfile:r}=Un(),[n,s]=b.useState(!1),[a,o]=b.useState(null),[l,c]=b.useState(""),[d,f]=b.useState(!1),[h,v]=b.useState(""),g=b.useMemo(()=>!e||!Array.isArray(e)?[]:e.filter(D=>(D.full_name||"").toLowerCase().includes(h.toLowerCase())||(D.email||"").toLowerCase().includes(h.toLowerCase())),[e,h]),_=(r==null?void 0:r.user_type)==="super_admin",y=D=>{o(D),c(D.user_type),f(!0)},j=async()=>{if(!(!a||!l||n)){s(!0);try{const{error:D}=await Oe.rpc("update_user_role_securely",{p_user_id:a.id,p_new_role:l,p_caller_id:r.id});if(D)throw D;ze({title:"Succs",description:"Le rle a t mis  jour."}),t&&t(),f(!1)}catch(D){ze({title:"Erreur",description:D.message,variant:"destructive"})}finally{s(!1)}}},w=async(D,M)=>{s(!0);try{const{error:I}=await Oe.from("profiles").update({is_active:M}).eq("id",D.id);if(I)throw I;ze({title:"Succs",description:`L'utilisateur a t ${M?"activ":"bloqu"}.`}),t&&t()}catch(I){ze({title:"Erreur",description:I.message,variant:"destructive"})}finally{s(!1)}},C=async D=>{if(D.user_type==="super_admin"){ze({title:"Action non autorise",description:"Vous ne pouvez pas vous faire passer pour un autre super administrateur.",variant:"destructive"});return}s(!0);try{ze({title:"Info",description:"Fonctionnalit d'emprunt d'identit en cours de dveloppement."})}catch(M){console.error(M)}s(!1)},k=D=>({user:"bg-blue-500/20 text-blue-300",organizer:"bg-yellow-500/20 text-yellow-300",secretary:"bg-purple-500/20 text-purple-300",admin:"bg-orange-500/20 text-orange-300",super_admin:"bg-red-500/20 text-red-300"})[D]||"bg-gray-500/20 text-gray-300",T=D=>({user:"Utilisateur",organizer:"Organisateur",secretary:"Secrtaire",admin:"Admin",super_admin:"Super Admin"})[D]||D,P=[{value:"user",label:"Utilisateur"},{value:"organizer",label:"Organisateur"},{value:"secretary",label:"Secrtaire"},{value:"admin",label:"Admin"}];return i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Gestion des Utilisateurs"}),i.jsx(nn,{children:"Grez les rles et statuts des utilisateurs."})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par nom ou email...",value:h,onChange:D=>v(D.target.value),className:"pl-10"})]}),i.jsx("div",{className:"space-y-4",children:g.length===0?i.jsx("div",{className:"text-center p-4 text-muted-foreground",children:"Aucun utilisateur trouv."}):g.map(D=>{var M;return i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Xu,{className:"w-12 h-12",children:[i.jsx(Ju,{src:D.avatar_url}),i.jsx(Zu,{children:((M=D.full_name)==null?void 0:M.charAt(0))||"U"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:D.full_name||"Sans nom"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:D.email}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[i.jsx(nr,{className:k(D.user_type),children:T(D.user_type)}),i.jsx(nr,{variant:D.is_active?"success":"destructive",children:D.is_active?"Actif":"Bloqu"}),D.user_type==="admin"&&i.jsxs(nr,{variant:"outline",children:[i.jsx(Sl,{className:"w-3 h-3 mr-1"})," Nomm par Super Admin"]})]})]})]}),_&&i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>y(D),children:i.jsx(sx,{className:"w-4 h-4"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>w(D,!D.is_active),children:D.is_active?i.jsx(oX,{className:"w-4 h-4 text-red-500"}):i.jsx(Vi,{className:"w-4 h-4 text-green-500"})}),r.id!==D.id&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>C(D),children:i.jsx(Bge,{className:"w-4 h-4 text-orange-400"})})]})]},D.id)})})]})]}),i.jsx(Ao,{open:d,onOpenChange:f,children:i.jsxs(to,{children:[i.jsxs(ko,{children:[i.jsxs(Eo,{children:["Modifier le rle de ",a==null?void 0:a.full_name]}),i.jsx(Ol,{children:"Attention, la modification du rle d'un utilisateur impacte ses permissions."})]}),i.jsx("div",{className:"py-4",children:i.jsxs(aa,{value:l,onValueChange:c,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionner un rle"})}),i.jsx(Zn,{children:P.map(D=>i.jsx(ur,{value:D.value,children:D.label},D.value))})]})}),i.jsxs(Tc,{children:[i.jsx(Ee,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),i.jsx(Ee,{onClick:j,disabled:n,children:n?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):"Sauvegarder"})]})]})})]})},tTe=({open:e,onOpenChange:t,onSuccess:r})=>{const{user:n}=Pr(),{toast:s}=Ti(),[a,o]=b.useState(!1),[l,c]=b.useState(""),[d,f]=b.useState(0),[h,v]=b.useState("warning"),[g,_]=b.useState("all"),[y,j]=b.useState({transactions:!1,earnings:!1,tickets:!1,balances:!1,irreversible:!1}),w=U=>{j({transactions:U,earnings:U,tickets:U,balances:U,irreversible:U})},C=Object.values(y).every(Boolean),k=Object.values(y).some(Boolean)&&!C,T=y.transactions||y.earnings||y.tickets||y.balances,P=l==="SUPPRIMER",D=T&&y.irreversible&&P,M=U=>{j(q=>({...q,[U]:!q[U]}))},I=U=>{switch(_(U),U){case"all":w(!0);break;case"transactions":j(q=>({...q,transactions:!0,earnings:!1,tickets:!1,balances:!1}));break;case"earnings":j(q=>({...q,transactions:!1,earnings:!0,tickets:!1,balances:!1}));break;case"tickets":j(q=>({...q,transactions:!1,earnings:!1,tickets:!0,balances:!1}));break;case"balances":j(q=>({...q,transactions:!1,earnings:!1,tickets:!1,balances:!0}));break}},B=async()=>{if(!n)return;o(!0),v("processing"),f(10);let U;try{if(U=setInterval(()=>{f(H=>H>=90?(clearInterval(U),90):H+10)},500),y.transactions&&y.earnings&&y.tickets&&y.balances){console.log("Rinitialisation complte demande - utilisation de l'ancienne fonction");const{error:H}=await Oe.rpc("reset_transactional_data",{p_admin_id:n.id});if(H)throw H.message.includes("function")||H.code==="42703"?new Error("Aucune fonction de rinitialisation n'est disponible. Contactez l'administrateur pour configurer les fonctions RPC."):H}else{console.log("Rinitialisation slective demande");const H={p_admin_id:n.id,p_reset_transactions:y.transactions,p_reset_earnings:y.earnings,p_reset_tickets:y.tickets,p_reset_balances:y.balances};console.log("Envoi des paramtres de rinitialisation:",H);const{error:X}=await Oe.rpc("reset_transactional_data_with_options",H);if(X)throw X.message.includes("function")||X.code==="42703"?new Error("La fonction de rinitialisation slective n'est pas disponible. Contactez l'administrateur pour activer cette fonctionnalit."):X}clearInterval(U),f(100);let re="";if(y.transactions&&y.earnings&&y.tickets&&y.balances)re="Toutes les donnes transactionnelles ont t rinitialises.";else{const H=[];y.transactions&&H.push("transactions et historiques"),y.earnings&&H.push("revenus organisateurs"),y.tickets&&H.push("tickets, votes et participations"),y.balances&&H.push("soldes de pices"),re=`Les donnes suivantes ont t rinitialises: ${H.join(", ")}.`}v("success"),s({title:"Rinitialisation russie",description:re,variant:"success"}),r&&r()}catch(q){console.error("Erreur de rinitialisation:",q),U&&clearInterval(U),v("warning"),f(0);let re=q.message||"Impossible de rinitialiser les donnes.";q.message.includes("fonction de rinitialisation slective")&&(re+=" Vous pouvez essayer de rinitialiser toutes les donnes  la place."),s({title:"Erreur de rinitialisation",description:re,variant:"destructive"})}finally{o(!1)}},V=()=>{v("warning"),f(0),c(""),_("all"),j({transactions:!1,earnings:!1,tickets:!1,balances:!1,irreversible:!1}),t(!1)};return i.jsx(Ao,{open:e,onOpenChange:U=>!a&&V(),children:i.jsxs(to,{className:"sm:max-w-[600px] border-destructive/50 max-h-[90vh] overflow-y-auto",children:[i.jsxs(ko,{children:[i.jsxs(Eo,{className:"text-destructive flex items-center gap-2 text-xl",children:[i.jsx(Ql,{className:"h-6 w-6"}),"Rinitialisation Slective des Donnes"]}),i.jsx(Ol,{className:"text-base",children:"Slectionnez les catgories  rinitialiser. Cette action est destructrice mais conserve les comptes utilisateurs et les vnements crs."})]}),h==="warning"&&i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(Qe,{className:"text-muted-foreground",children:"Slection rapide :"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[i.jsxs(Ee,{type:"button",variant:g==="all"?"destructive":"outline",size:"sm",onClick:()=>I("all"),className:"flex items-center gap-2",children:[i.jsx(Q2,{className:"h-4 w-4"}),"Tout"]}),i.jsxs(Ee,{type:"button",variant:g==="transactions"?"destructive":"outline",size:"sm",onClick:()=>I("transactions"),className:"flex items-center gap-2",children:[i.jsx(Us,{className:"h-4 w-4"}),"Transactions"]}),i.jsxs(Ee,{type:"button",variant:g==="earnings"?"destructive":"outline",size:"sm",onClick:()=>I("earnings"),className:"flex items-center gap-2",children:[i.jsx(dn,{className:"h-4 w-4"}),"Revenus"]}),i.jsxs(Ee,{type:"button",variant:g==="tickets"?"destructive":"outline",size:"sm",onClick:()=>I("tickets"),className:"flex items-center gap-2",children:[i.jsx(ki,{className:"h-4 w-4"}),"Tickets"]}),i.jsxs(Ee,{type:"button",variant:g==="balances"?"destructive":"outline",size:"sm",onClick:()=>I("balances"),className:"flex items-center gap-2",children:[i.jsx(Q2,{className:"h-4 w-4"}),"Soldes"]})]})]}),i.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-destructive/5 border-destructive/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:"select-all",checked:C,onCheckedChange:U=>w(U),ref:U=>{U&&(U.indeterminate=k)}}),i.jsx(Qe,{htmlFor:"select-all",className:"cursor-pointer font-bold",children:"Slectionner tout"})]}),i.jsx(Ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(!C),className:"h-auto p-0 text-xs",children:C?"Tout dslectionner":"Tout slectionner"})]}),i.jsxs("div",{className:"space-y-3 border-t pt-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:"transactions",checked:y.transactions,onCheckedChange:()=>M("transactions")}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{htmlFor:"transactions",className:"cursor-pointer font-medium",children:"Supprimer toutes les transactions et historiques"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Efface l'historique des crdits, paiements, et activits transactionnelles."})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:"earnings",checked:y.earnings,onCheckedChange:()=>M("earnings")}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{htmlFor:"earnings",className:"cursor-pointer font-medium",children:"Remettre  zro tous les revenus organisateurs"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Rinitialise les gains, commissions et revenus des administrateurs et organisateurs."})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:"tickets",checked:y.tickets,onCheckedChange:()=>M("tickets")}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{htmlFor:"tickets",className:"cursor-pointer font-medium",children:"Supprimer tous les tickets, votes et participations"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Efface les tickets d'vnements, votes, et participations aux concours."})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:"balances",checked:y.balances,onCheckedChange:()=>M("balances")}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{htmlFor:"balances",className:"cursor-pointer font-medium",children:"Rinitialiser les soldes de pices de tous les utilisateurs"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Remet  zro les portefeuilles et soldes en pices de tous les utilisateurs."})]})]})]})]}),i.jsxs("div",{className:"border border-amber-200 rounded-lg p-3 bg-amber-50",children:[i.jsxs("p",{className:"text-sm font-medium text-amber-800 mb-1",children:[i.jsx("span",{className:"font-bold",children:"Note importante :"})," La rinitialisation slective ncessite que la fonction RPC correspondante soit configure dans la base de donnes."]}),i.jsx("p",{className:"text-sm text-amber-700",children:'Si vous obtenez une erreur, essayez de slectionner "Tout" pour utiliser la fonction de rinitialisation complte.'})]}),i.jsx("div",{className:"border border-destructive rounded-lg p-4 bg-destructive/10",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Gl,{id:"irreversible",checked:y.irreversible,onCheckedChange:()=>M("irreversible"),className:"data-[state=checked]:bg-destructive data-[state=checked]:border-destructive mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Qe,{htmlFor:"irreversible",className:"cursor-pointer font-bold text-destructive",children:"Je comprends que cette action est irrversible"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Les donnes supprimes ne pourront pas tre rcupres. Cette action impacte directement la production."})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Qe,{className:"text-muted-foreground",children:["Pour confirmer, crivez ",i.jsx("strong",{children:"SUPPRIMER"})," ci-dessous :"]}),i.jsx(vt,{value:l,onChange:U=>c(U.target.value.toUpperCase()),className:"border-destructive focus-visible:ring-destructive uppercase",placeholder:"SUPPRIMER"}),!P&&l&&i.jsx("p",{className:"text-sm text-destructive",children:'Vous devez crire exactement "SUPPRIMER"'})]}),i.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Rsum des actions slectionnes :"}),i.jsxs("ul",{className:"text-sm space-y-1",children:[y.transactions&&i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),"Suppression des transactions et historiques"]}),y.earnings&&i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),"Rinitialisation des revenus organisateurs"]}),y.tickets&&i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),"Suppression des tickets, votes et participations"]}),y.balances&&i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),"Rinitialisation des soldes de pices"]}),!T&&i.jsx("li",{className:"text-muted-foreground italic",children:"Aucune action slectionne"})]})]})]}),h==="processing"&&i.jsxs("div",{className:"py-8 flex flex-col items-center justify-center space-y-4",children:[i.jsxs("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 border-4 border-muted rounded-full"}),i.jsx("div",{className:"absolute inset-0 border-4 border-destructive rounded-full border-t-transparent animate-spin"}),i.jsxs("span",{className:"font-bold text-lg",children:[d,"%"]})]}),i.jsx("p",{className:"text-muted-foreground animate-pulse text-center",children:y.transactions&&y.earnings&&y.tickets&&y.balances?"Nettoyage complet de la base de donnes en cours...":"Rinitialisation slective en cours..."}),!y.transactions||!y.earnings||!y.tickets||!y.balances?i.jsx("p",{className:"text-xs text-amber-600 text-center",children:"Utilisation de la fonction de rinitialisation slective..."}):null]}),h==="success"&&i.jsxs("div",{className:"py-8 flex flex-col items-center justify-center space-y-4 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-2",children:i.jsx(lX,{className:"w-10 h-10 text-green-600"})}),i.jsx("h3",{className:"text-xl font-bold text-green-700",children:"Opration termine !"}),i.jsx("p",{className:"text-muted-foreground max-w-[300px]",children:y.transactions&&y.earnings&&y.tickets&&y.balances?"La base de donnes a t nettoye. Les vnements et utilisateurs sont conservs, mais toutes les donnes transactionnelles ont t effaces.":"La rinitialisation slective a t effectue avec succs. Seules les donnes slectionnes ont t affectes."})]}),i.jsx(Tc,{className:"sm:justify-between gap-2",children:h==="warning"?i.jsxs(i.Fragment,{children:[i.jsx(Ee,{variant:"outline",onClick:V,className:"border-muted-foreground/30",children:"Annuler"}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Ee,{variant:"destructive",disabled:!D,onClick:B,className:"bg-destructive hover:bg-destructive/90 w-full sm:w-auto min-w-[180px]",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Traitement..."]}):y.transactions&&y.earnings&&y.tickets&&y.balances?i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 mr-2"}),"Tout Rinitialiser"]}):i.jsxs(i.Fragment,{children:[i.jsx(kl,{className:"w-4 h-4 mr-2"}),"Rinitialiser Slection"]})})})]}):h==="success"?i.jsx(Ee,{className:"w-full bg-green-600 hover:bg-green-700",onClick:V,children:"Fermer"}):null})]})})},rTe=()=>{const{adminConfig:e,loadingConfig:t,forceRefreshAdminConfig:r}=Un(),{user:n}=Pr(),[s,a]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[f,h]=b.useState(""),[v,g]=b.useState(!1),[_,y]=b.useState(!1),[j,w]=b.useState(null);b.useEffect(()=>{e&&(a(e),h(e.logo_url||"")),C()},[e]);const C=async()=>{try{const{data:M,error:I}=await Oe.from("admin_logs").select("created_at").eq("action_type","reset_data").order("created_at",{ascending:!1}).limit(1).maybeSingle();M&&w(new Date(M.created_at))}catch(M){console.error("Failed to fetch reset log",M)}},k=async M=>{if(M){g(!0);try{const I=M.name.split(".").pop(),B=`public/logo-${Date.now()}.${I}`,{data:V,error:U}=await Oe.storage.from("media").upload(B,M,{upsert:!0});if(U)throw U;const{data:{publicUrl:q}}=Oe.storage.from("media").getPublicUrl(B);h(q),a(re=>({...re,logo_url:q})),ze({title:"Logo tlvers avec succs"})}catch(I){ze({title:"Erreur de tlversement",description:I.message,variant:"destructive"})}finally{g(!1)}}},T=async()=>{if(l(!0),!s)return;const{id:M,...I}=s,B={...I,coin_to_fcfa_rate:Number(I.coin_to_fcfa_rate)||10,min_withdrawal_pi:Number(I.min_withdrawal_pi)||50,commission_rate_starter:Number(I.commission_rate_starter)||20,commission_rate_business:Number(I.commission_rate_business)||30,commission_rate_premium:Number(I.commission_rate_premium)||40,platform_fee_percentage:Number(I.platform_fee_percentage)||5,currency_eur_rate:Number(I.currency_eur_rate)||.0015,currency_usd_rate:Number(I.currency_usd_rate)||.0016,logo_url:f};delete B.coin_packs,delete B.promotion_packs;try{const{error:V}=await Oe.from("app_settings").update(B).eq("id",M);if(V)throw V;ze({title:"Configuration mise  jour",description:"Les paramtres ont t sauvegards."}),r()}catch(V){ze({title:"Erreur lors de la mise  jour",description:V.message,variant:"destructive"})}finally{l(!1)}},P=async()=>{d(!0);try{const{data:M,error:I}=await Oe.rpc("reset_application_data",{p_admin_id:n.id});if(I)throw I;if(M&&!M.success)throw new Error(M.message);ze({title:"Application Rinitialise !",description:M.message,duration:9e3}),window.location.reload()}catch(M){ze({title:"Erreur lors de la rinitialisation",description:M.message,variant:"destructive"})}finally{d(!1)}};if(t||!s)return i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})});const D=(M,I)=>{a(B=>({...B,[M]:I}))};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs(at,{className:"shadow-lg rounded-xl",children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Configuration de la plateforme"})}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"logo",children:"Logo de la page d'accueil"}),i.jsxs("div",{className:"flex items-center gap-4",children:[f&&i.jsx("img",{src:f,alt:"Logo actuel",className:"w-16 h-16 object-contain rounded-md bg-white p-1"}),i.jsx(vt,{id:"logo",type:"file",onChange:M=>k(M.target.files[0]),className:"hidden"}),i.jsx(Ee,{asChild:!0,variant:"outline",children:i.jsxs(Qe,{htmlFor:"logo",className:"cursor-pointer",children:[v?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(nw,{className:"mr-2 h-4 w-4"}),"Changer le logo"]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"platformFee",children:"Frais de plateforme sur les transactions (%)"}),i.jsx(vt,{id:"platformFee",type:"number",value:s.platform_fee_percentage||5,onChange:M=>D("platform_fee_percentage",M.target.value)})]})]}),i.jsx("h3",{className:"text-lg font-semibold pt-4 border-t mt-6",children:"Valeurs Montaires"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Conversion Pices"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"1 Pice ="}),i.jsx(vt,{type:"number",value:s.coin_to_fcfa_rate||10,onChange:M=>D("coin_to_fcfa_rate",M.target.value),className:"w-24"}),i.jsx("span",{children:"FCFA"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"minWithdrawal",children:"Retrait minimum (pices)"}),i.jsx(vt,{id:"minWithdrawal",type:"number",value:s.min_withdrawal_pi||50,onChange:M=>D("min_withdrawal_pi",M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"eurRate",children:"Taux EUR (pour 1 FCFA)"}),i.jsx(vt,{id:"eurRate",type:"number",step:"0.0001",value:s.currency_eur_rate||.0015,onChange:M=>D("currency_eur_rate",M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"usdRate",children:"Taux USD (pour 1 FCFA)"}),i.jsx(vt,{id:"usdRate",type:"number",step:"0.0001",value:s.currency_usd_rate||.0016,onChange:M=>D("currency_usd_rate",M.target.value)})]})]}),i.jsx("h3",{className:"text-lg font-semibold pt-4 border-t mt-6",children:"Commissions Partenaires (%)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"commissionStarter",children:"Licence Starter"}),i.jsx(vt,{id:"commissionStarter",type:"number",value:s.commission_rate_starter||20,onChange:M=>D("commission_rate_starter",M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"commissionBusiness",children:"Licence Business"}),i.jsx(vt,{id:"commissionBusiness",type:"number",value:s.commission_rate_business||30,onChange:M=>D("commission_rate_business",M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"commissionPremium",children:"Licence Premium"}),i.jsx(vt,{id:"commissionPremium",type:"number",value:s.commission_rate_premium||40,onChange:M=>D("commission_rate_premium",M.target.value)})]})]}),i.jsxs(Ee,{onClick:T,disabled:o||v,children:[o?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sauvegarder la configuration"]})]})]}),i.jsxs(at,{className:"border-orange-500/50 shadow-lg rounded-xl mt-8 bg-orange-500/5",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-orange-600",children:[i.jsx(Q2,{className:"h-5 w-5"})," Nettoyage des Donnes"]}),i.jsxs(nn,{children:["Utile aprs une priode de test. Cela supprimera toutes les transactions et remettra  zro les compteurs, mais ",i.jsx("strong",{children:"gardera les utilisateurs et les vnements"}),"."]})]}),i.jsxs(st,{children:[j&&i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-4",children:[i.jsx(nu,{className:"w-3 h-3"})," Dernier nettoyage : ",j.toLocaleString("fr-FR")]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cette action est idale pour passer de la phase de test  la production sans devoir recrer tous les comptes et contenus."}),i.jsxs(Ee,{variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-500 hover:text-white",onClick:()=>y(!0),children:[i.jsx(tw,{className:"mr-2 h-4 w-4"}),"Nettoyer les Transactions & Donnes"]})]})]}),i.jsxs(at,{className:"border-destructive shadow-lg rounded-xl mt-8",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Ql,{className:"h-5 w-5"})," Zone de danger absolue"]}),i.jsx(nn,{children:"Suppression totale de l'application."})]}),i.jsxs(st,{children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Cette action supprimera ",i.jsx("strong",{children:"TOUT"})," : utilisateurs (sauf admins), vnements, configurations, historiques. L'application repartira de zro."]}),i.jsxs(jo,{children:[i.jsx(cC,{asChild:!0,children:i.jsx(Ee,{variant:"destructive",children:"Rinitialiser TOTALEMENT l'Application"})}),i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"tes-vous absolument certain ?"}),i.jsxs(Ji,{children:["Cette action est ",i.jsx("strong",{children:"IRREVERSIBLE"}),". Elle supprimera dfinitivement toutes les donnes de l'application (utilisateurs, vnements, transactions, etc.)  l'exception des comptes administrateurs."]})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsxs(Zi,{onClick:P,disabled:c,className:"bg-destructive hover:bg-destructive/90",children:[c?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Oui, TOUT supprimer"]})]})]})]})]})]}),i.jsx(tTe,{open:_,onOpenChange:y,onSuccess:()=>{C(),r()}})]})},zd=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:Ht("w-full caption-bottom text-sm",e),...t})}));zd.displayName="Table";const Ud=b.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:Ht("[&_tr]:border-b",e),...t}));Ud.displayName="TableHeader";const Vd=b.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:Ht("[&_tr:last-child]:border-0",e),...t}));Vd.displayName="TableBody";const nTe=b.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:Ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nTe.displayName="TableFooter";const Ja=b.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:Ht("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ja.displayName="TableRow";const Hr=b.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:Ht("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Hr.displayName="TableHead";const Ar=b.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:Ht("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ar.displayName="TableCell";const aTe=b.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:Ht("mt-4 text-sm text-muted-foreground",e),...t}));aTe.displayName="TableCaption";var sTe=Array.isArray,Pc=sTe,iTe=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,zne=iTe,oTe=zne,lTe=typeof self=="object"&&self&&self.Object===Object&&self,cTe=oTe||lTe||Function("return this")(),Zf=cTe,uTe=Zf,dTe=uTe.Symbol,z_=dTe,UB=z_,Une=Object.prototype,fTe=Une.hasOwnProperty,hTe=Une.toString,Cb=UB?UB.toStringTag:void 0;function mTe(e){var t=fTe.call(e,Cb),r=e[Cb];try{e[Cb]=void 0;var n=!0}catch{}var s=hTe.call(e);return n&&(t?e[Cb]=r:delete e[Cb]),s}var pTe=mTe,gTe=Object.prototype,vTe=gTe.toString;function xTe(e){return vTe.call(e)}var yTe=xTe,VB=z_,bTe=pTe,wTe=yTe,_Te="[object Null]",jTe="[object Undefined]",qB=VB?VB.toStringTag:void 0;function NTe(e){return e==null?e===void 0?jTe:_Te:qB&&qB in Object(e)?bTe(e):wTe(e)}var rm=NTe;function STe(e){return e!=null&&typeof e=="object"}var nm=STe,CTe=rm,ATe=nm,kTe="[object Symbol]";function ETe(e){return typeof e=="symbol"||ATe(e)&&CTe(e)==kTe}var fy=ETe,TTe=Pc,PTe=fy,OTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FTe=/^\w*$/;function DTe(e,t){if(TTe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||PTe(e)?!0:FTe.test(e)||!OTe.test(e)||t!=null&&e in Object(t)}var PR=DTe;function RTe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Kp=RTe;const hy=ga(Kp);var MTe=rm,ITe=Kp,LTe="[object AsyncFunction]",$Te="[object Function]",BTe="[object GeneratorFunction]",zTe="[object Proxy]";function UTe(e){if(!ITe(e))return!1;var t=MTe(e);return t==$Te||t==BTe||t==LTe||t==zTe}var OR=UTe;const gn=ga(OR);var VTe=Zf,qTe=VTe["__core-js_shared__"],WTe=qTe,CE=WTe,WB=function(){var e=/[^.]+$/.exec(CE&&CE.keys&&CE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function HTe(e){return!!WB&&WB in e}var GTe=HTe,KTe=Function.prototype,YTe=KTe.toString;function XTe(e){if(e!=null){try{return YTe.call(e)}catch{}try{return e+""}catch{}}return""}var Vne=XTe,JTe=OR,ZTe=GTe,QTe=Kp,ePe=Vne,tPe=/[\\^$.*+?()[\]{}|]/g,rPe=/^\[object .+?Constructor\]$/,nPe=Function.prototype,aPe=Object.prototype,sPe=nPe.toString,iPe=aPe.hasOwnProperty,oPe=RegExp("^"+sPe.call(iPe).replace(tPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lPe(e){if(!QTe(e)||ZTe(e))return!1;var t=JTe(e)?oPe:rPe;return t.test(ePe(e))}var cPe=lPe;function uPe(e,t){return e==null?void 0:e[t]}var dPe=uPe,fPe=cPe,hPe=dPe;function mPe(e,t){var r=hPe(e,t);return fPe(r)?r:void 0}var av=mPe,pPe=av,gPe=pPe(Object,"create"),AC=gPe,HB=AC;function vPe(){this.__data__=HB?HB(null):{},this.size=0}var xPe=vPe;function yPe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bPe=yPe,wPe=AC,_Pe="__lodash_hash_undefined__",jPe=Object.prototype,NPe=jPe.hasOwnProperty;function SPe(e){var t=this.__data__;if(wPe){var r=t[e];return r===_Pe?void 0:r}return NPe.call(t,e)?t[e]:void 0}var CPe=SPe,APe=AC,kPe=Object.prototype,EPe=kPe.hasOwnProperty;function TPe(e){var t=this.__data__;return APe?t[e]!==void 0:EPe.call(t,e)}var PPe=TPe,OPe=AC,FPe="__lodash_hash_undefined__";function DPe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=OPe&&t===void 0?FPe:t,this}var RPe=DPe,MPe=xPe,IPe=bPe,LPe=CPe,$Pe=PPe,BPe=RPe;function my(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}my.prototype.clear=MPe;my.prototype.delete=IPe;my.prototype.get=LPe;my.prototype.has=$Pe;my.prototype.set=BPe;var zPe=my;function UPe(){this.__data__=[],this.size=0}var VPe=UPe;function qPe(e,t){return e===t||e!==e&&t!==t}var FR=qPe,WPe=FR;function HPe(e,t){for(var r=e.length;r--;)if(WPe(e[r][0],t))return r;return-1}var kC=HPe,GPe=kC,KPe=Array.prototype,YPe=KPe.splice;function XPe(e){var t=this.__data__,r=GPe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():YPe.call(t,r,1),--this.size,!0}var JPe=XPe,ZPe=kC;function QPe(e){var t=this.__data__,r=ZPe(t,e);return r<0?void 0:t[r][1]}var e8e=QPe,t8e=kC;function r8e(e){return t8e(this.__data__,e)>-1}var n8e=r8e,a8e=kC;function s8e(e,t){var r=this.__data__,n=a8e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var i8e=s8e,o8e=VPe,l8e=JPe,c8e=e8e,u8e=n8e,d8e=i8e;function py(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}py.prototype.clear=o8e;py.prototype.delete=l8e;py.prototype.get=c8e;py.prototype.has=u8e;py.prototype.set=d8e;var EC=py,f8e=av,h8e=Zf,m8e=f8e(h8e,"Map"),DR=m8e,GB=zPe,p8e=EC,g8e=DR;function v8e(){this.size=0,this.__data__={hash:new GB,map:new(g8e||p8e),string:new GB}}var x8e=v8e;function y8e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var b8e=y8e,w8e=b8e;function _8e(e,t){var r=e.__data__;return w8e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var TC=_8e,j8e=TC;function N8e(e){var t=j8e(this,e).delete(e);return this.size-=t?1:0,t}var S8e=N8e,C8e=TC;function A8e(e){return C8e(this,e).get(e)}var k8e=A8e,E8e=TC;function T8e(e){return E8e(this,e).has(e)}var P8e=T8e,O8e=TC;function F8e(e,t){var r=O8e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var D8e=F8e,R8e=x8e,M8e=S8e,I8e=k8e,L8e=P8e,$8e=D8e;function gy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gy.prototype.clear=R8e;gy.prototype.delete=M8e;gy.prototype.get=I8e;gy.prototype.has=L8e;gy.prototype.set=$8e;var RR=gy,qne=RR,B8e="Expected a function";function MR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(B8e);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(MR.Cache||qne),r}MR.Cache=qne;var Wne=MR;const z8e=ga(Wne);var U8e=Wne,V8e=500;function q8e(e){var t=U8e(e,function(n){return r.size===V8e&&r.clear(),n}),r=t.cache;return t}var W8e=q8e,H8e=W8e,G8e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K8e=/\\(\\)?/g,Y8e=H8e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(G8e,function(r,n,s,a){t.push(s?a.replace(K8e,"$1"):n||r)}),t}),X8e=Y8e;function J8e(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var IR=J8e,KB=z_,Z8e=IR,Q8e=Pc,eOe=fy,tOe=1/0,YB=KB?KB.prototype:void 0,XB=YB?YB.toString:void 0;function Hne(e){if(typeof e=="string")return e;if(Q8e(e))return Z8e(e,Hne)+"";if(eOe(e))return XB?XB.call(e):"";var t=e+"";return t=="0"&&1/e==-tOe?"-0":t}var rOe=Hne,nOe=rOe;function aOe(e){return e==null?"":nOe(e)}var Gne=aOe,sOe=Pc,iOe=PR,oOe=X8e,lOe=Gne;function cOe(e,t){return sOe(e)?e:iOe(e,t)?[e]:oOe(lOe(e))}var Kne=cOe,uOe=fy,dOe=1/0;function fOe(e){if(typeof e=="string"||uOe(e))return e;var t=e+"";return t=="0"&&1/e==-dOe?"-0":t}var PC=fOe,hOe=Kne,mOe=PC;function pOe(e,t){t=hOe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[mOe(t[r++])];return r&&r==n?e:void 0}var LR=pOe,gOe=LR;function vOe(e,t,r){var n=e==null?void 0:gOe(e,t);return n===void 0?r:n}var Yne=vOe;const eu=ga(Yne);function xOe(e){return e==null}var yOe=xOe;const Bn=ga(yOe);var bOe=rm,wOe=Pc,_Oe=nm,jOe="[object String]";function NOe(e){return typeof e=="string"||!wOe(e)&&_Oe(e)&&bOe(e)==jOe}var SOe=NOe;const Rg=ga(SOe);var Xne={exports:{}},Qa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=Symbol.for("react.element"),BR=Symbol.for("react.portal"),OC=Symbol.for("react.fragment"),FC=Symbol.for("react.strict_mode"),DC=Symbol.for("react.profiler"),RC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),COe=Symbol.for("react.server_context"),IC=Symbol.for("react.forward_ref"),LC=Symbol.for("react.suspense"),$C=Symbol.for("react.suspense_list"),BC=Symbol.for("react.memo"),zC=Symbol.for("react.lazy"),AOe=Symbol.for("react.offscreen"),Jne;Jne=Symbol.for("react.module.reference");function rd(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $R:switch(e=e.type,e){case OC:case DC:case FC:case LC:case $C:return e;default:switch(e=e&&e.$$typeof,e){case COe:case MC:case IC:case zC:case BC:case RC:return e;default:return t}}case BR:return t}}}Qa.ContextConsumer=MC;Qa.ContextProvider=RC;Qa.Element=$R;Qa.ForwardRef=IC;Qa.Fragment=OC;Qa.Lazy=zC;Qa.Memo=BC;Qa.Portal=BR;Qa.Profiler=DC;Qa.StrictMode=FC;Qa.Suspense=LC;Qa.SuspenseList=$C;Qa.isAsyncMode=function(){return!1};Qa.isConcurrentMode=function(){return!1};Qa.isContextConsumer=function(e){return rd(e)===MC};Qa.isContextProvider=function(e){return rd(e)===RC};Qa.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$R};Qa.isForwardRef=function(e){return rd(e)===IC};Qa.isFragment=function(e){return rd(e)===OC};Qa.isLazy=function(e){return rd(e)===zC};Qa.isMemo=function(e){return rd(e)===BC};Qa.isPortal=function(e){return rd(e)===BR};Qa.isProfiler=function(e){return rd(e)===DC};Qa.isStrictMode=function(e){return rd(e)===FC};Qa.isSuspense=function(e){return rd(e)===LC};Qa.isSuspenseList=function(e){return rd(e)===$C};Qa.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===OC||e===DC||e===FC||e===LC||e===$C||e===AOe||typeof e=="object"&&e!==null&&(e.$$typeof===zC||e.$$typeof===BC||e.$$typeof===RC||e.$$typeof===MC||e.$$typeof===IC||e.$$typeof===Jne||e.getModuleId!==void 0)};Qa.typeOf=rd;Xne.exports=Qa;var kOe=Xne.exports,EOe=rm,TOe=nm,POe="[object Number]";function OOe(e){return typeof e=="number"||TOe(e)&&EOe(e)==POe}var Zne=OOe;const FOe=ga(Zne);var DOe=Zne;function ROe(e){return DOe(e)&&e!=+e}var MOe=ROe;const vy=ga(MOe);var Kl=function(t){return t===0?0:t>0?1:-1},sg=function(t){return Rg(t)&&t.indexOf("%")===t.length-1},Xt=function(t){return FOe(t)&&!vy(t)},IOe=function(t){return Bn(t)},bo=function(t){return Xt(t)||Rg(t)},LOe=0,xy=function(t){var r=++LOe;return"".concat(t||"").concat(r)},Yl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xt(t)&&!Rg(t))return n;var a;if(sg(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return vy(a)&&(a=n),s&&a>r&&(a=r),a},Jm=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},$Oe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},gc=function(t,r){return Xt(t)&&Xt(r)?function(n){return t+n*(r-t)}:function(){return r}};function $N(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):eu(n,t))===r})}var BOe=function(t,r){return Xt(t)&&Xt(r)?t-r:Rg(t)&&Rg(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $1(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function MP(e){"@babel/helpers - typeof";return MP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MP(e)}var zOe=["viewBox","children"],UOe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JB=["points","pathLength"],AE={svg:zOe,polygon:JB,polyline:JB},zR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],BN=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!hy(n))return null;var s={};return Object.keys(n).forEach(function(a){zR.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},VOe=function(t,r,n){return function(s){return t(r,n,s),null}},Mg=function(t,r,n){if(!hy(t)||MP(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];zR.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=VOe(o,r,n))}),s},qOe=["children"],WOe=["children"];function ZB(e,t){if(e==null)return{};var r=HOe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IP(e){"@babel/helpers - typeof";return IP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IP(e)}var QB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lh=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ez=null,kE=null,UR=function e(t){if(t===ez&&Array.isArray(kE))return kE;var r=[];return b.Children.forEach(t,function(n){Bn(n)||(kOe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kE=r,ez=t,r};function Gu(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Lh(s)}):n=[Lh(t)],UR(e).forEach(function(s){var a=eu(s,"type.displayName")||eu(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Vc(e,t){var r=Gu(e,t);return r&&r[0]}var tz=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Xt(n)||n<=0||!Xt(s)||s<=0)},GOe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KOe=function(t){return t&&t.type&&Rg(t.type)&&GOe.indexOf(t.type)>=0},YOe=function(t){return t&&IP(t)==="object"&&"clipDot"in t},XOe=function(t,r,n,s){var a,o=(a=AE==null?void 0:AE[s])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!gn(t)&&(s&&o.includes(r)||UOe.includes(r))||n&&zR.includes(r)},an=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!hy(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;XOe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},LP=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rz(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!rz(a,o))return!1}return!0},rz=function(t,r){if(Bn(t)&&Bn(r))return!0;if(!Bn(t)&&!Bn(r)){var n=t.props||{},s=n.children,a=ZB(n,qOe),o=r.props||{},l=o.children,c=ZB(o,WOe);return s&&l?$1(a,c)&&LP(s,l):!s&&!l?$1(a,c):!1}return!1},nz=function(t,r){var n=[],s={};return UR(t).forEach(function(a,o){if(KOe(a))n.push(a);else if(a){var l=Lh(a.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!s[l])){var h=d(a,l,o);n.push(h),s[l]=!0}}}),n},JOe=function(t){var r=t&&t.type;return r&&QB[r]?QB[r]:null},ZOe=function(t,r){return UR(r).indexOf(t)},QOe=["children","width","height","viewBox","className","style","title","desc"];function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function eFe(e,t){if(e==null)return{};var r=tFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BP(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=eFe(e,QOe),f=s||{width:r,height:n,x:0,y:0},h=$n("recharts-surface",a);return Se.createElement("svg",$P({},an(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Se.createElement("title",null,l),Se.createElement("desc",null,c),t)}var rFe=["children","className"];function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zP.apply(this,arguments)}function nFe(e,t){if(e==null)return{};var r=aFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wa=Se.forwardRef(function(e,t){var r=e.children,n=e.className,s=nFe(e,rFe),a=$n("recharts-layer",n);return Se.createElement("g",zP({className:a},an(s,!0),{ref:t}),r)}),Dd=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function sFe(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var iFe=sFe,oFe=iFe;function lFe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:oFe(e,t,r)}var cFe=lFe,uFe="\\ud800-\\udfff",dFe="\\u0300-\\u036f",fFe="\\ufe20-\\ufe2f",hFe="\\u20d0-\\u20ff",mFe=dFe+fFe+hFe,pFe="\\ufe0e\\ufe0f",gFe="\\u200d",vFe=RegExp("["+gFe+uFe+mFe+pFe+"]");function xFe(e){return vFe.test(e)}var Qne=xFe;function yFe(e){return e.split("")}var bFe=yFe,eae="\\ud800-\\udfff",wFe="\\u0300-\\u036f",_Fe="\\ufe20-\\ufe2f",jFe="\\u20d0-\\u20ff",NFe=wFe+_Fe+jFe,SFe="\\ufe0e\\ufe0f",CFe="["+eae+"]",UP="["+NFe+"]",VP="\\ud83c[\\udffb-\\udfff]",AFe="(?:"+UP+"|"+VP+")",tae="[^"+eae+"]",rae="(?:\\ud83c[\\udde6-\\uddff]){2}",nae="[\\ud800-\\udbff][\\udc00-\\udfff]",kFe="\\u200d",aae=AFe+"?",sae="["+SFe+"]?",EFe="(?:"+kFe+"(?:"+[tae,rae,nae].join("|")+")"+sae+aae+")*",TFe=sae+aae+EFe,PFe="(?:"+[tae+UP+"?",UP,rae,nae,CFe].join("|")+")",OFe=RegExp(VP+"(?="+VP+")|"+PFe+TFe,"g");function FFe(e){return e.match(OFe)||[]}var DFe=FFe,RFe=bFe,MFe=Qne,IFe=DFe;function LFe(e){return MFe(e)?IFe(e):RFe(e)}var $Fe=LFe,BFe=cFe,zFe=Qne,UFe=$Fe,VFe=Gne;function qFe(e){return function(t){t=VFe(t);var r=zFe(t)?UFe(t):void 0,n=r?r[0]:t.charAt(0),s=r?BFe(r,1).join(""):t.slice(1);return n[e]()+s}}var WFe=qFe,HFe=WFe,GFe=HFe("toUpperCase"),KFe=GFe;const UC=ga(KFe);function xs(e){return function(){return e}}const iae=Math.cos,zN=Math.sin,Xd=Math.sqrt,UN=Math.PI,VC=2*UN,qP=Math.PI,WP=2*qP,q0=1e-6,YFe=WP-q0;function oae(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function XFe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oae;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class JFe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oae:XFe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,f=o-t,h=l-r,v=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>q0)if(!(Math.abs(h*c-d*f)>q0)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,_=s-l,y=c*c+d*d,j=g*g+_*_,w=Math.sqrt(y),C=Math.sqrt(v),k=a*Math.tan((qP-Math.acos((y+v-j)/(2*w*C)))/2),T=k/C,P=k/w;Math.abs(T-1)>q0&&this._append`L${t+T*f},${r+T*h}`,this._append`A${a},${a},0,0,${+(h*g>f*_)},${this._x1=t+P*c},${this._y1=r+P*d}`}}arc(t,r,n,s,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,f=r+c,h=1^o,v=o?s-a:a-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>q0||Math.abs(this._y1-f)>q0)&&this._append`L${d},${f}`,n&&(v<0&&(v=v%WP+WP),v>YFe?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=f}`:v>q0&&this._append`A${n},${n},0,${+(v>=qP)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function VR(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new JFe(t)}function qR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lae(e){this._context=e}lae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qC(e){return new lae(e)}function cae(e){return e[0]}function uae(e){return e[1]}function dae(e,t){var r=xs(!0),n=null,s=qC,a=null,o=VR(l);e=typeof e=="function"?e:e===void 0?cae:xs(e),t=typeof t=="function"?t:t===void 0?uae:xs(t);function l(c){var d,f=(c=qR(c)).length,h,v=!1,g;for(n==null&&(a=s(g=o())),d=0;d<=f;++d)!(d<f&&r(h=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(h,d,c),+t(h,d,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:xs(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:xs(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xs(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Cj(e,t,r){var n=null,s=xs(!0),a=null,o=qC,l=null,c=VR(d);e=typeof e=="function"?e:e===void 0?cae:xs(+e),t=typeof t=="function"?t:xs(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?uae:xs(+r);function d(h){var v,g,_,y=(h=qR(h)).length,j,w=!1,C,k=new Array(y),T=new Array(y);for(a==null&&(l=o(C=c())),v=0;v<=y;++v){if(!(v<y&&s(j=h[v],v,h))===w)if(w=!w)g=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=g;--_)l.point(k[_],T[_]);l.lineEnd(),l.areaEnd()}w&&(k[v]=+e(j,v,h),T[v]=+t(j,v,h),l.point(n?+n(j,v,h):k[v],r?+r(j,v,h):T[v]))}if(C)return l=null,C+""||null}function f(){return dae().defined(s).curve(o).context(a)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:xs(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:xs(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:xs(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:xs(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:xs(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:xs(+h),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:xs(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),d):a},d}class fae{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ZFe(e){return new fae(e,!0)}function QFe(e){return new fae(e,!1)}const WR={draw(e,t){const r=Xd(t/UN);e.moveTo(r,0),e.arc(0,0,r,0,VC)}},eDe={draw(e,t){const r=Xd(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hae=Xd(1/3),tDe=hae*2,rDe={draw(e,t){const r=Xd(t/tDe),n=r*hae;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nDe={draw(e,t){const r=Xd(t),n=-r/2;e.rect(n,n,r,r)}},aDe=.8908130915292852,mae=zN(UN/10)/zN(7*UN/10),sDe=zN(VC/10)*mae,iDe=-iae(VC/10)*mae,oDe={draw(e,t){const r=Xd(t*aDe),n=sDe*r,s=iDe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const o=VC*a/5,l=iae(o),c=zN(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},EE=Xd(3),lDe={draw(e,t){const r=-Xd(t/(EE*3));e.moveTo(0,r*2),e.lineTo(-EE*r,-r),e.lineTo(EE*r,-r),e.closePath()}},Tu=-.5,Pu=Xd(3)/2,HP=1/Xd(12),cDe=(HP/2+1)*3,uDe={draw(e,t){const r=Xd(t/cDe),n=r/2,s=r*HP,a=n,o=r*HP+r,l=-a,c=o;e.moveTo(n,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Tu*n-Pu*s,Pu*n+Tu*s),e.lineTo(Tu*a-Pu*o,Pu*a+Tu*o),e.lineTo(Tu*l-Pu*c,Pu*l+Tu*c),e.lineTo(Tu*n+Pu*s,Tu*s-Pu*n),e.lineTo(Tu*a+Pu*o,Tu*o-Pu*a),e.lineTo(Tu*l+Pu*c,Tu*c-Pu*l),e.closePath()}};function dDe(e,t){let r=null,n=VR(s);e=typeof e=="function"?e:xs(e||WR),t=typeof t=="function"?t:xs(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:xs(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:xs(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function VN(){}function qN(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pae(e){this._context=e}pae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fDe(e){return new pae(e)}function gae(e){this._context=e}gae.prototype={areaStart:VN,areaEnd:VN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hDe(e){return new gae(e)}function vae(e){this._context=e}vae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mDe(e){return new vae(e)}function xae(e){this._context=e}xae.prototype={areaStart:VN,areaEnd:VN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pDe(e){return new xae(e)}function az(e){return e<0?-1:1}function sz(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(az(a)+az(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function iz(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function TE(e,t,r){var n=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,o-l*r,a,o)}function WN(e){this._context=e}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TE(this,this._t0,iz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TE(this,iz(this,r=sz(this,e,t)),r);break;default:TE(this,this._t0,r=sz(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function yae(e){this._context=new bae(e)}(yae.prototype=Object.create(WN.prototype)).point=function(e,t){WN.prototype.point.call(this,t,e)};function bae(e){this._context=e}bae.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function gDe(e){return new WN(e)}function vDe(e){return new yae(e)}function wae(e){this._context=e}wae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oz(e),s=oz(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oz(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function xDe(e){return new wae(e)}function WC(e,t){this._context=e,this._t=t}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function yDe(e){return new WC(e,.5)}function bDe(e){return new WC(e,0)}function wDe(e){return new WC(e,1)}function vx(e,t){if((o=e.length)>1)for(var r=1,n,s,a=e[t[0]],o,l=a.length;r<o;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function GP(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _De(e,t){return e[t]}function jDe(e){const t=[];return t.key=e,t}function NDe(){var e=xs([]),t=GP,r=vx,n=_De;function s(a){var o=Array.from(e.apply(this,arguments),jDe),l,c=o.length,d=-1,f;for(const h of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,a)]).data=h;for(l=0,f=qR(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xs(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:xs(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?GP:typeof a=="function"?a:xs(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??vx,s):r},s}function SDe(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}vx(e,t)}}function CDe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}vx(e,t)}}function ADe(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var f=e[t[l]],h=f[n][1]||0,v=f[n-1][1]||0,g=(h-v)/2,_=0;_<l;++_){var y=e[t[_]],j=y[n][1]||0,w=y[n-1][1]||0;g+=j-w}c+=h,d+=g*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,vx(e,t)}}function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}var kDe=["type","size","sizeType"];function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KP.apply(this,arguments)}function lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(r),!0).forEach(function(n){EDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EDe(e,t,r){return t=TDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TDe(e){var t=PDe(e,"string");return vw(t)=="symbol"?t:t+""}function PDe(e,t){if(vw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ODe(e,t){if(e==null)return{};var r=FDe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _ae={symbolCircle:WR,symbolCross:eDe,symbolDiamond:rDe,symbolSquare:nDe,symbolStar:oDe,symbolTriangle:lDe,symbolWye:uDe},DDe=Math.PI/180,RDe=function(t){var r="symbol".concat(UC(t));return _ae[r]||WR},MDe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*DDe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},IDe=function(t,r){_ae["symbol".concat(UC(t))]=r},HR=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=ODe(t,kDe),d=cz(cz({},c),{},{type:n,size:a,sizeType:l}),f=function(){var j=RDe(n),w=dDe().type(j).size(MDe(a,l,n));return w()},h=d.className,v=d.cx,g=d.cy,_=an(d,!0);return v===+v&&g===+g&&a===+a?Se.createElement("path",KP({},_,{className:$n("recharts-symbols",h),transform:"translate(".concat(v,", ").concat(g,")"),d:f()})):null};HR.registerSymbol=IDe;function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YP.apply(this,arguments)}function uz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uz(Object(r),!0).forEach(function(n){xw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nae(n.key),n)}}function BDe(e,t,r){return t&&dz(e.prototype,t),r&&dz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zDe(e,t,r){return t=HN(t),UDe(e,jae()?Reflect.construct(t,r||[],HN(e).constructor):t.apply(e,r))}function UDe(e,t){if(t&&(xx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(e)}function VDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jae=function(){return!!e})()}function HN(e){return HN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HN(e)}function qDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XP(e,t)}function XP(e,t){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},XP(e,t)}function xw(e,t,r){return t=Nae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nae(e){var t=WDe(e,"string");return xx(t)=="symbol"?t:t+""}function WDe(e,t){if(xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ou=32,GR=function(e){function t(){return $De(this,t),zDe(this,t,arguments)}return qDe(t,e),BDe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=Ou/2,o=Ou/6,l=Ou/3,c=n.inactive?s:n.color;if(n.type==="plainline")return Se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ou,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ou,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ou/8,"h").concat(Ou,"v").concat(Ou*3/4,"h").concat(-Ou,"z"),className:"recharts-legend-icon"});if(Se.isValidElement(n.legendIcon)){var d=LDe({},n);return delete d.legendIcon,Se.cloneElement(n.legendIcon,d)}return Se.createElement(HR,{fill:c,cx:a,cy:a,size:Ou,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,f={x:0,y:0,width:Ou,height:Ou},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,_){var y=g.formatter||c,j=$n(xw(xw({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=gn(g.value)?null:g.value;Dd(!gn(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=g.inactive?d:g.color;return Se.createElement("li",YP({className:j,style:h,key:"legend-item-".concat(_)},Mg(n.props,g,_)),Se.createElement(BP,{width:o,height:o,viewBox:f,style:v},n.renderIcon(g)),Se.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(w,g,_):w))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);xw(GR,"displayName","Legend");xw(GR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HDe=EC;function GDe(){this.__data__=new HDe,this.size=0}var KDe=GDe;function YDe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var XDe=YDe;function JDe(e){return this.__data__.get(e)}var ZDe=JDe;function QDe(e){return this.__data__.has(e)}var eRe=QDe,tRe=EC,rRe=DR,nRe=RR,aRe=200;function sRe(e,t){var r=this.__data__;if(r instanceof tRe){var n=r.__data__;if(!rRe||n.length<aRe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nRe(n)}return r.set(e,t),this.size=r.size,this}var iRe=sRe,oRe=EC,lRe=KDe,cRe=XDe,uRe=ZDe,dRe=eRe,fRe=iRe;function yy(e){var t=this.__data__=new oRe(e);this.size=t.size}yy.prototype.clear=lRe;yy.prototype.delete=cRe;yy.prototype.get=uRe;yy.prototype.has=dRe;yy.prototype.set=fRe;var Sae=yy,hRe="__lodash_hash_undefined__";function mRe(e){return this.__data__.set(e,hRe),this}var pRe=mRe;function gRe(e){return this.__data__.has(e)}var vRe=gRe,xRe=RR,yRe=pRe,bRe=vRe;function GN(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new xRe;++t<r;)this.add(e[t])}GN.prototype.add=GN.prototype.push=yRe;GN.prototype.has=bRe;var Cae=GN;function wRe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Aae=wRe;function _Re(e,t){return e.has(t)}var kae=_Re,jRe=Cae,NRe=Aae,SRe=kae,CRe=1,ARe=2;function kRe(e,t,r,n,s,a){var o=r&CRe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=-1,v=!0,g=r&ARe?new jRe:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var _=e[h],y=t[h];if(n)var j=o?n(y,_,h,t,e,a):n(_,y,h,e,t,a);if(j!==void 0){if(j)continue;v=!1;break}if(g){if(!NRe(t,function(w,C){if(!SRe(g,C)&&(_===w||s(_,w,r,n,a)))return g.push(C)})){v=!1;break}}else if(!(_===y||s(_,y,r,n,a))){v=!1;break}}return a.delete(e),a.delete(t),v}var Eae=kRe,ERe=Zf,TRe=ERe.Uint8Array,PRe=TRe;function ORe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var FRe=ORe;function DRe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var KR=DRe,fz=z_,hz=PRe,RRe=FR,MRe=Eae,IRe=FRe,LRe=KR,$Re=1,BRe=2,zRe="[object Boolean]",URe="[object Date]",VRe="[object Error]",qRe="[object Map]",WRe="[object Number]",HRe="[object RegExp]",GRe="[object Set]",KRe="[object String]",YRe="[object Symbol]",XRe="[object ArrayBuffer]",JRe="[object DataView]",mz=fz?fz.prototype:void 0,PE=mz?mz.valueOf:void 0;function ZRe(e,t,r,n,s,a,o){switch(r){case JRe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case XRe:return!(e.byteLength!=t.byteLength||!a(new hz(e),new hz(t)));case zRe:case URe:case WRe:return RRe(+e,+t);case VRe:return e.name==t.name&&e.message==t.message;case HRe:case KRe:return e==t+"";case qRe:var l=IRe;case GRe:var c=n&$Re;if(l||(l=LRe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=BRe,o.set(e,t);var f=MRe(l(e),l(t),n,s,a,o);return o.delete(e),f;case YRe:if(PE)return PE.call(e)==PE.call(t)}return!1}var QRe=ZRe;function eMe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Tae=eMe,tMe=Tae,rMe=Pc;function nMe(e,t,r){var n=t(e);return rMe(e)?n:tMe(n,r(e))}var aMe=nMe;function sMe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var iMe=sMe;function oMe(){return[]}var lMe=oMe,cMe=iMe,uMe=lMe,dMe=Object.prototype,fMe=dMe.propertyIsEnumerable,pz=Object.getOwnPropertySymbols,hMe=pz?function(e){return e==null?[]:(e=Object(e),cMe(pz(e),function(t){return fMe.call(e,t)}))}:uMe,mMe=hMe;function pMe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var gMe=pMe,vMe=rm,xMe=nm,yMe="[object Arguments]";function bMe(e){return xMe(e)&&vMe(e)==yMe}var wMe=bMe,gz=wMe,_Me=nm,Pae=Object.prototype,jMe=Pae.hasOwnProperty,NMe=Pae.propertyIsEnumerable,SMe=gz(function(){return arguments}())?gz:function(e){return _Me(e)&&jMe.call(e,"callee")&&!NMe.call(e,"callee")},YR=SMe,KN={exports:{}};function CMe(){return!1}var AMe=CMe;KN.exports;(function(e,t){var r=Zf,n=AMe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(KN,KN.exports);var Oae=KN.exports,kMe=9007199254740991,EMe=/^(?:0|[1-9]\d*)$/;function TMe(e,t){var r=typeof e;return t=t??kMe,!!t&&(r=="number"||r!="symbol"&&EMe.test(e))&&e>-1&&e%1==0&&e<t}var XR=TMe,PMe=9007199254740991;function OMe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=PMe}var JR=OMe,FMe=rm,DMe=JR,RMe=nm,MMe="[object Arguments]",IMe="[object Array]",LMe="[object Boolean]",$Me="[object Date]",BMe="[object Error]",zMe="[object Function]",UMe="[object Map]",VMe="[object Number]",qMe="[object Object]",WMe="[object RegExp]",HMe="[object Set]",GMe="[object String]",KMe="[object WeakMap]",YMe="[object ArrayBuffer]",XMe="[object DataView]",JMe="[object Float32Array]",ZMe="[object Float64Array]",QMe="[object Int8Array]",eIe="[object Int16Array]",tIe="[object Int32Array]",rIe="[object Uint8Array]",nIe="[object Uint8ClampedArray]",aIe="[object Uint16Array]",sIe="[object Uint32Array]",Os={};Os[JMe]=Os[ZMe]=Os[QMe]=Os[eIe]=Os[tIe]=Os[rIe]=Os[nIe]=Os[aIe]=Os[sIe]=!0;Os[MMe]=Os[IMe]=Os[YMe]=Os[LMe]=Os[XMe]=Os[$Me]=Os[BMe]=Os[zMe]=Os[UMe]=Os[VMe]=Os[qMe]=Os[WMe]=Os[HMe]=Os[GMe]=Os[KMe]=!1;function iIe(e){return RMe(e)&&DMe(e.length)&&!!Os[FMe(e)]}var oIe=iIe;function lIe(e){return function(t){return e(t)}}var Fae=lIe,YN={exports:{}};YN.exports;(function(e,t){var r=zne,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(YN,YN.exports);var cIe=YN.exports,uIe=oIe,dIe=Fae,vz=cIe,xz=vz&&vz.isTypedArray,fIe=xz?dIe(xz):uIe,Dae=fIe,hIe=gMe,mIe=YR,pIe=Pc,gIe=Oae,vIe=XR,xIe=Dae,yIe=Object.prototype,bIe=yIe.hasOwnProperty;function wIe(e,t){var r=pIe(e),n=!r&&mIe(e),s=!r&&!n&&gIe(e),a=!r&&!n&&!s&&xIe(e),o=r||n||s||a,l=o?hIe(e.length,String):[],c=l.length;for(var d in e)(t||bIe.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||vIe(d,c)))&&l.push(d);return l}var _Ie=wIe,jIe=Object.prototype;function NIe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jIe;return e===r}var SIe=NIe;function CIe(e,t){return function(r){return e(t(r))}}var Rae=CIe,AIe=Rae,kIe=AIe(Object.keys,Object),EIe=kIe,TIe=SIe,PIe=EIe,OIe=Object.prototype,FIe=OIe.hasOwnProperty;function DIe(e){if(!TIe(e))return PIe(e);var t=[];for(var r in Object(e))FIe.call(e,r)&&r!="constructor"&&t.push(r);return t}var RIe=DIe,MIe=OR,IIe=JR;function LIe(e){return e!=null&&IIe(e.length)&&!MIe(e)}var U_=LIe,$Ie=_Ie,BIe=RIe,zIe=U_;function UIe(e){return zIe(e)?$Ie(e):BIe(e)}var HC=UIe,VIe=aMe,qIe=mMe,WIe=HC;function HIe(e){return VIe(e,WIe,qIe)}var GIe=HIe,yz=GIe,KIe=1,YIe=Object.prototype,XIe=YIe.hasOwnProperty;function JIe(e,t,r,n,s,a){var o=r&KIe,l=yz(e),c=l.length,d=yz(t),f=d.length;if(c!=f&&!o)return!1;for(var h=c;h--;){var v=l[h];if(!(o?v in t:XIe.call(t,v)))return!1}var g=a.get(e),_=a.get(t);if(g&&_)return g==t&&_==e;var y=!0;a.set(e,t),a.set(t,e);for(var j=o;++h<c;){v=l[h];var w=e[v],C=t[v];if(n)var k=o?n(C,w,v,t,e,a):n(w,C,v,e,t,a);if(!(k===void 0?w===C||s(w,C,r,n,a):k)){y=!1;break}j||(j=v=="constructor")}if(y&&!j){var T=e.constructor,P=t.constructor;T!=P&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof P=="function"&&P instanceof P)&&(y=!1)}return a.delete(e),a.delete(t),y}var ZIe=JIe,QIe=av,eLe=Zf,tLe=QIe(eLe,"DataView"),rLe=tLe,nLe=av,aLe=Zf,sLe=nLe(aLe,"Promise"),iLe=sLe,oLe=av,lLe=Zf,cLe=oLe(lLe,"Set"),Mae=cLe,uLe=av,dLe=Zf,fLe=uLe(dLe,"WeakMap"),hLe=fLe,JP=rLe,ZP=DR,QP=iLe,e8=Mae,t8=hLe,Iae=rm,by=Vne,bz="[object Map]",mLe="[object Object]",wz="[object Promise]",_z="[object Set]",jz="[object WeakMap]",Nz="[object DataView]",pLe=by(JP),gLe=by(ZP),vLe=by(QP),xLe=by(e8),yLe=by(t8),W0=Iae;(JP&&W0(new JP(new ArrayBuffer(1)))!=Nz||ZP&&W0(new ZP)!=bz||QP&&W0(QP.resolve())!=wz||e8&&W0(new e8)!=_z||t8&&W0(new t8)!=jz)&&(W0=function(e){var t=Iae(e),r=t==mLe?e.constructor:void 0,n=r?by(r):"";if(n)switch(n){case pLe:return Nz;case gLe:return bz;case vLe:return wz;case xLe:return _z;case yLe:return jz}return t});var bLe=W0,OE=Sae,wLe=Eae,_Le=QRe,jLe=ZIe,Sz=bLe,Cz=Pc,Az=Oae,NLe=Dae,SLe=1,kz="[object Arguments]",Ez="[object Array]",Aj="[object Object]",CLe=Object.prototype,Tz=CLe.hasOwnProperty;function ALe(e,t,r,n,s,a){var o=Cz(e),l=Cz(t),c=o?Ez:Sz(e),d=l?Ez:Sz(t);c=c==kz?Aj:c,d=d==kz?Aj:d;var f=c==Aj,h=d==Aj,v=c==d;if(v&&Az(e)){if(!Az(t))return!1;o=!0,f=!1}if(v&&!f)return a||(a=new OE),o||NLe(e)?wLe(e,t,r,n,s,a):_Le(e,t,c,r,n,s,a);if(!(r&SLe)){var g=f&&Tz.call(e,"__wrapped__"),_=h&&Tz.call(t,"__wrapped__");if(g||_){var y=g?e.value():e,j=_?t.value():t;return a||(a=new OE),s(y,j,r,n,a)}}return v?(a||(a=new OE),jLe(e,t,r,n,s,a)):!1}var kLe=ALe,ELe=kLe,Pz=nm;function Lae(e,t,r,n,s){return e===t?!0:e==null||t==null||!Pz(e)&&!Pz(t)?e!==e&&t!==t:ELe(e,t,r,n,Lae,s)}var ZR=Lae,TLe=Sae,PLe=ZR,OLe=1,FLe=2;function DLe(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],d=e[c],f=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new TLe;if(n)var v=n(d,f,c,e,t,h);if(!(v===void 0?PLe(f,d,OLe|FLe,n,h):v))return!1}}return!0}var RLe=DLe,MLe=Kp;function ILe(e){return e===e&&!MLe(e)}var $ae=ILe,LLe=$ae,$Le=HC;function BLe(e){for(var t=$Le(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,LLe(s)]}return t}var zLe=BLe;function ULe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Bae=ULe,VLe=RLe,qLe=zLe,WLe=Bae;function HLe(e){var t=qLe(e);return t.length==1&&t[0][2]?WLe(t[0][0],t[0][1]):function(r){return r===e||VLe(r,e,t)}}var GLe=HLe;function KLe(e,t){return e!=null&&t in Object(e)}var YLe=KLe,XLe=Kne,JLe=YR,ZLe=Pc,QLe=XR,e7e=JR,t7e=PC;function r7e(e,t,r){t=XLe(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=t7e(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&e7e(s)&&QLe(o,s)&&(ZLe(e)||JLe(e)))}var n7e=r7e,a7e=YLe,s7e=n7e;function i7e(e,t){return e!=null&&s7e(e,t,a7e)}var o7e=i7e,l7e=ZR,c7e=Yne,u7e=o7e,d7e=PR,f7e=$ae,h7e=Bae,m7e=PC,p7e=1,g7e=2;function v7e(e,t){return d7e(e)&&f7e(t)?h7e(m7e(e),t):function(r){var n=c7e(r,e);return n===void 0&&n===t?u7e(r,e):l7e(t,n,p7e|g7e)}}var x7e=v7e;function y7e(e){return e}var wy=y7e;function b7e(e){return function(t){return t==null?void 0:t[e]}}var w7e=b7e,_7e=LR;function j7e(e){return function(t){return _7e(t,e)}}var N7e=j7e,S7e=w7e,C7e=N7e,A7e=PR,k7e=PC;function E7e(e){return A7e(e)?S7e(k7e(e)):C7e(e)}var T7e=E7e,P7e=GLe,O7e=x7e,F7e=wy,D7e=Pc,R7e=T7e;function M7e(e){return typeof e=="function"?e:e==null?F7e:typeof e=="object"?D7e(e)?O7e(e[0],e[1]):P7e(e):R7e(e)}var Qf=M7e;function I7e(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var zae=I7e;function L7e(e){return e!==e}var $7e=L7e;function B7e(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var z7e=B7e,U7e=zae,V7e=$7e,q7e=z7e;function W7e(e,t,r){return t===t?q7e(e,t,r):U7e(e,V7e,r)}var H7e=W7e,G7e=H7e;function K7e(e,t){var r=e==null?0:e.length;return!!r&&G7e(e,t,0)>-1}var Y7e=K7e;function X7e(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var J7e=X7e;function Z7e(){}var Q7e=Z7e,FE=Mae,e9e=Q7e,t9e=KR,r9e=1/0,n9e=FE&&1/t9e(new FE([,-0]))[1]==r9e?function(e){return new FE(e)}:e9e,a9e=n9e,s9e=Cae,i9e=Y7e,o9e=J7e,l9e=kae,c9e=a9e,u9e=KR,d9e=200;function f9e(e,t,r){var n=-1,s=i9e,a=e.length,o=!0,l=[],c=l;if(r)o=!1,s=o9e;else if(a>=d9e){var d=t?null:c9e(e);if(d)return u9e(d);o=!1,s=l9e,c=new s9e}else c=t?[]:l;e:for(;++n<a;){var f=e[n],h=t?t(f):f;if(f=r||f!==0?f:0,o&&h===h){for(var v=c.length;v--;)if(c[v]===h)continue e;t&&c.push(h),l.push(f)}else s(c,h,r)||(c!==l&&c.push(h),l.push(f))}return l}var h9e=f9e,m9e=Qf,p9e=h9e;function g9e(e,t){return e&&e.length?p9e(e,m9e(t)):[]}var v9e=g9e;const Oz=ga(v9e);function Uae(e,t,r){return t===!0?Oz(e,r):gn(t)?Oz(e,t):e}function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}var x9e=["ref"];function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fz(Object(r),!0).forEach(function(n){GC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qae(n.key),n)}}function b9e(e,t,r){return t&&Dz(e.prototype,t),r&&Dz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w9e(e,t,r){return t=XN(t),_9e(e,Vae()?Reflect.construct(t,r||[],XN(e).constructor):t.apply(e,r))}function _9e(e,t){if(t&&(yx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9e(e)}function j9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vae=function(){return!!e})()}function XN(e){return XN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XN(e)}function N9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r8(e,t)}function r8(e,t){return r8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},r8(e,t)}function GC(e,t,r){return t=qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=S9e(e,"string");return yx(t)=="symbol"?t:t+""}function S9e(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9e(e,t){if(e==null)return{};var r=A9e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k9e(e){return e.value}function E9e(e,t){if(Se.isValidElement(e))return Se.cloneElement(e,t);if(typeof e=="function")return Se.createElement(e,t);t.ref;var r=C9e(t,x9e);return Se.createElement(GR,r)}var Rz=1,B1=function(e){function t(){var r;y9e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=w9e(this,t,[].concat(s)),GC(r,"lastBoundingBox",{width:-1,height:-1}),r}return N9e(t,e),b9e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Rz||Math.abs(s.height-this.lastBoundingBox.height)>Rz)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,f=s.chartHeight,h,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();h={left:((d||0)-g.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();v={top:((f||0)-_.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yh(yh({},h),v)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,f=s.payload,h=yh(yh({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Se.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},E9e(a,yh(yh({},this.props),{},{payload:Uae(f,d,k9e)})))}}],[{key:"getWithHeight",value:function(n,s){var a=yh(yh({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Xt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(b.PureComponent);GC(B1,"displayName","Legend");GC(B1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Mz=z_,T9e=YR,P9e=Pc,Iz=Mz?Mz.isConcatSpreadable:void 0;function O9e(e){return P9e(e)||T9e(e)||!!(Iz&&e&&e[Iz])}var F9e=O9e,D9e=Tae,R9e=F9e;function Wae(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=R9e),s||(s=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?Wae(l,t-1,r,n,s):D9e(s,l):n||(s[s.length]=l)}return s}var Hae=Wae;function M9e(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var I9e=M9e,L9e=I9e,$9e=L9e(),B9e=$9e,z9e=B9e,U9e=HC;function V9e(e,t){return e&&z9e(e,t,U9e)}var Gae=V9e,q9e=U_;function W9e(e,t){return function(r,n){if(r==null)return r;if(!q9e(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var H9e=W9e,G9e=Gae,K9e=H9e,Y9e=K9e(G9e),QR=Y9e,X9e=QR,J9e=U_;function Z9e(e,t){var r=-1,n=J9e(e)?Array(e.length):[];return X9e(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var Kae=Z9e;function Q9e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var e$e=Q9e,Lz=fy;function t$e(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=Lz(e),o=t!==void 0,l=t===null,c=t===t,d=Lz(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!d&&e<t||d&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var r$e=t$e,n$e=r$e;function a$e(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,l=r.length;++n<o;){var c=n$e(s[n],a[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var s$e=a$e,DE=IR,i$e=LR,o$e=Qf,l$e=Kae,c$e=e$e,u$e=Fae,d$e=s$e,f$e=wy,h$e=Pc;function m$e(e,t,r){t.length?t=DE(t,function(a){return h$e(a)?function(o){return i$e(o,a.length===1?a[0]:a)}:a}):t=[f$e];var n=-1;t=DE(t,u$e(o$e));var s=l$e(e,function(a,o,l){var c=DE(t,function(d){return d(a)});return{criteria:c,index:++n,value:a}});return c$e(s,function(a,o){return d$e(a,o,r)})}var p$e=m$e;function g$e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var v$e=g$e,x$e=v$e,$z=Math.max;function y$e(e,t,r){return t=$z(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=$z(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),x$e(e,this,l)}}var b$e=y$e;function w$e(e){return function(){return e}}var _$e=w$e,j$e=av,N$e=function(){try{var e=j$e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yae=N$e,S$e=_$e,Bz=Yae,C$e=wy,A$e=Bz?function(e,t){return Bz(e,"toString",{configurable:!0,enumerable:!1,value:S$e(t),writable:!0})}:C$e,k$e=A$e,E$e=800,T$e=16,P$e=Date.now;function O$e(e){var t=0,r=0;return function(){var n=P$e(),s=T$e-(n-r);if(r=n,s>0){if(++t>=E$e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var F$e=O$e,D$e=k$e,R$e=F$e,M$e=R$e(D$e),I$e=M$e,L$e=wy,$$e=b$e,B$e=I$e;function z$e(e,t){return B$e($$e(e,t,L$e),e+"")}var U$e=z$e,V$e=FR,q$e=U_,W$e=XR,H$e=Kp;function G$e(e,t,r){if(!H$e(r))return!1;var n=typeof t;return(n=="number"?q$e(r)&&W$e(t,r.length):n=="string"&&t in r)?V$e(r[t],e):!1}var KC=G$e,K$e=Hae,Y$e=p$e,X$e=U$e,zz=KC,J$e=X$e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&zz(e,t[0],t[1])?t=[]:r>2&&zz(t[0],t[1],t[2])&&(t=[t[0]]),Y$e(e,K$e(t,1),[])}),Z$e=J$e;const eM=ga(Z$e);function yw(e){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yw(e)}function n8(){return n8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n8.apply(this,arguments)}function Q$e(e,t){return nBe(e)||rBe(e,t)||tBe(e,t)||eBe()}function eBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tBe(e,t){if(e){if(typeof e=="string")return Uz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uz(e,t)}}function Uz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nBe(e){if(Array.isArray(e))return e}function Vz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vz(Object(r),!0).forEach(function(n){aBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aBe(e,t,r){return t=sBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sBe(e){var t=iBe(e,"string");return yw(t)=="symbol"?t:t+""}function iBe(e,t){if(yw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oBe(e){return Array.isArray(e)&&bo(e[0])&&bo(e[1])?e.join(" ~ "):e}var lBe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,f=t.payload,h=t.formatter,v=t.itemSorter,g=t.wrapperClassName,_=t.labelClassName,y=t.label,j=t.labelFormatter,w=t.accessibilityLayer,C=w===void 0?!1:w,k=function(){if(f&&f.length){var q={padding:0,margin:0},re=(v?eM(f,v):f).map(function(H,X){if(H.type==="none")return null;var Q=RE({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),se=H.formatter||h||oBe,te=H.value,ce=H.name,xe=te,de=ce;if(se&&xe!=null&&de!=null){var ee=se(te,ce,H,X,f);if(Array.isArray(ee)){var fe=Q$e(ee,2);xe=fe[0],de=fe[1]}else xe=ee}return Se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Q},bo(de)?Se.createElement("span",{className:"recharts-tooltip-item-name"},de):null,bo(de)?Se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Se.createElement("span",{className:"recharts-tooltip-item-value"},xe),Se.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Se.createElement("ul",{className:"recharts-tooltip-item-list",style:q},re)}return null},T=RE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=RE({margin:0},d),D=!Bn(y),M=D?y:"",I=$n("recharts-default-tooltip",g),B=$n("recharts-tooltip-label",_);D&&j&&f!==void 0&&f!==null&&(M=j(y,f));var V=C?{role:"status","aria-live":"assertive"}:{};return Se.createElement("div",n8({className:I,style:T},V),Se.createElement("p",{className:B,style:P},Se.isValidElement(M)?M:"".concat(M)),k())};function bw(e){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(e)}function kj(e,t,r){return t=cBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cBe(e){var t=uBe(e,"string");return bw(t)=="symbol"?t:t+""}function uBe(e,t){if(bw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ab="recharts-tooltip-wrapper",dBe={visibility:"hidden"};function fBe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return $n(Ab,kj(kj(kj(kj({},"".concat(Ab,"-right"),Xt(r)&&t&&Xt(t.x)&&r>=t.x),"".concat(Ab,"-left"),Xt(r)&&t&&Xt(t.x)&&r<t.x),"".concat(Ab,"-bottom"),Xt(n)&&t&&Xt(t.y)&&n>=t.y),"".concat(Ab,"-top"),Xt(n)&&t&&Xt(t.y)&&n<t.y))}function qz(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&Xt(a[n]))return a[n];var f=r[n]-l-s,h=r[n]+s;if(t[n])return o[n]?f:h;if(o[n]){var v=f,g=c[n];return v<g?Math.max(h,c[n]):Math.max(f,c[n])}var _=h+l,y=c[n]+d;return _>y?Math.max(f,c[n]):Math.max(h,c[n])}function hBe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mBe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,f,h;return o.height>0&&o.width>0&&r?(f=qz({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=qz({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=hBe({translateX:f,translateY:h,useTranslate3d:l})):d=dBe,{cssProperties:d,cssClasses:fBe({translateX:f,translateY:h,coordinate:r})}}function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function Wz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wz(Object(r),!0).forEach(function(n){s8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jae(n.key),n)}}function gBe(e,t,r){return t&&Gz(e.prototype,t),r&&Gz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vBe(e,t,r){return t=JN(t),xBe(e,Xae()?Reflect.construct(t,r||[],JN(e).constructor):t.apply(e,r))}function xBe(e,t){if(t&&(bx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yBe(e)}function yBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xae=function(){return!!e})()}function JN(e){return JN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JN(e)}function bBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a8(e,t)}function a8(e,t){return a8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a8(e,t)}function s8(e,t,r){return t=Jae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jae(e){var t=wBe(e,"string");return bx(t)=="symbol"?t:t+""}function wBe(e,t){if(bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kz=1,_Be=function(e){function t(){var r;pBe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=vBe(this,t,[].concat(s)),s8(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),s8(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return bBe(t,e),gBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Kz||Math.abs(n.height-this.state.lastBoundingBox.height)>Kz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,f=s.coordinate,h=s.hasPayload,v=s.isAnimationActive,g=s.offset,_=s.position,y=s.reverseDirection,j=s.useTranslate3d,w=s.viewBox,C=s.wrapperStyle,k=mBe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:_,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:w}),T=k.cssClasses,P=k.cssProperties,D=Hz(Hz({transition:v&&a?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return Se.createElement("div",{tabIndex:-1,className:T,style:D,ref:function(I){n.wrapperNode=I}},d)}}])}(b.PureComponent),jBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lf={isSsr:jBe(),get:function(t){return Lf[t]},set:function(t,r){if(typeof t=="string")Lf[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){Lf[s]=t[s]})}}};function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function Yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yz(Object(r),!0).forEach(function(n){tM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qae(n.key),n)}}function SBe(e,t,r){return t&&Jz(e.prototype,t),r&&Jz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CBe(e,t,r){return t=ZN(t),ABe(e,Zae()?Reflect.construct(t,r||[],ZN(e).constructor):t.apply(e,r))}function ABe(e,t){if(t&&(wx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kBe(e)}function kBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zae=function(){return!!e})()}function ZN(e){return ZN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ZN(e)}function EBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i8(e,t)}function i8(e,t){return i8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},i8(e,t)}function tM(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=TBe(e,"string");return wx(t)=="symbol"?t:t+""}function TBe(e,t){if(wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PBe(e){return e.dataKey}function OBe(e,t){return Se.isValidElement(e)?Se.cloneElement(e,t):typeof e=="function"?Se.createElement(e,t):Se.createElement(lBe,t)}var qc=function(e){function t(){return NBe(this,t),CBe(this,t,arguments)}return EBe(t,e),SBe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,f=s.coordinate,h=s.filterNull,v=s.isAnimationActive,g=s.offset,_=s.payload,y=s.payloadUniqBy,j=s.position,w=s.reverseDirection,C=s.useTranslate3d,k=s.viewBox,T=s.wrapperStyle,P=_??[];h&&P.length&&(P=Uae(_.filter(function(M){return M.value!=null&&(M.hide!==!0||n.props.includeHidden)}),y,PBe));var D=P.length>0;return Se.createElement(_Be,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:v,active:a,coordinate:f,hasPayload:D,offset:g,position:j,reverseDirection:w,useTranslate3d:C,viewBox:k,wrapperStyle:T},OBe(d,Xz(Xz({},this.props),{},{payload:P})))}}])}(b.PureComponent);tM(qc,"displayName","Tooltip");tM(qc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var FBe=Zf,DBe=function(){return FBe.Date.now()},RBe=DBe,MBe=/\s/;function IBe(e){for(var t=e.length;t--&&MBe.test(e.charAt(t)););return t}var LBe=IBe,$Be=LBe,BBe=/^\s+/;function zBe(e){return e&&e.slice(0,$Be(e)+1).replace(BBe,"")}var UBe=zBe,VBe=UBe,Zz=Kp,qBe=fy,Qz=0/0,WBe=/^[-+]0x[0-9a-f]+$/i,HBe=/^0b[01]+$/i,GBe=/^0o[0-7]+$/i,KBe=parseInt;function YBe(e){if(typeof e=="number")return e;if(qBe(e))return Qz;if(Zz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Zz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=VBe(e);var r=HBe.test(e);return r||GBe.test(e)?KBe(e.slice(2),r?2:8):WBe.test(e)?Qz:+e}var ese=YBe,XBe=Kp,ME=RBe,eU=ese,JBe="Expected a function",ZBe=Math.max,QBe=Math.min;function eze(e,t,r){var n,s,a,o,l,c,d=0,f=!1,h=!1,v=!0;if(typeof e!="function")throw new TypeError(JBe);t=eU(t)||0,XBe(r)&&(f=!!r.leading,h="maxWait"in r,a=h?ZBe(eU(r.maxWait)||0,t):a,v="trailing"in r?!!r.trailing:v);function g(D){var M=n,I=s;return n=s=void 0,d=D,o=e.apply(I,M),o}function _(D){return d=D,l=setTimeout(w,t),f?g(D):o}function y(D){var M=D-c,I=D-d,B=t-M;return h?QBe(B,a-I):B}function j(D){var M=D-c,I=D-d;return c===void 0||M>=t||M<0||h&&I>=a}function w(){var D=ME();if(j(D))return C(D);l=setTimeout(w,y(D))}function C(D){return l=void 0,v&&n?g(D):(n=s=void 0,o)}function k(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function T(){return l===void 0?o:C(ME())}function P(){var D=ME(),M=j(D);if(n=arguments,s=this,c=D,M){if(l===void 0)return _(c);if(h)return clearTimeout(l),l=setTimeout(w,t),g(c)}return l===void 0&&(l=setTimeout(w,t)),o}return P.cancel=k,P.flush=T,P}var tze=eze,rze=tze,nze=Kp,aze="Expected a function";function sze(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(aze);return nze(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),rze(e,t,{leading:n,maxWait:t,trailing:s})}var ize=sze;const tse=ga(ize);function ww(e){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ww(e)}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){oze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oze(e,t,r){return t=lze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lze(e){var t=cze(e,"string");return ww(t)=="symbol"?t:t+""}function cze(e,t){if(ww(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ww(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uze(e,t){return mze(e)||hze(e,t)||fze(e,t)||dze()}function dze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fze(e,t){if(e){if(typeof e=="string")return rU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rU(e,t)}}function rU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mze(e){if(Array.isArray(e))return e}var Tj=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,f=d===void 0?0:d,h=e.minHeight,v=e.maxHeight,g=e.children,_=e.debounce,y=_===void 0?0:_,j=e.id,w=e.className,C=e.onResize,k=e.style,T=k===void 0?{}:k,P=b.useRef(null),D=b.useRef();D.current=C,b.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var M=b.useState({containerWidth:s.width,containerHeight:s.height}),I=uze(M,2),B=I[0],V=I[1],U=b.useCallback(function(re,H){V(function(X){var Q=Math.round(re),se=Math.round(H);return X.containerWidth===Q&&X.containerHeight===se?X:{containerWidth:Q,containerHeight:se}})},[]);b.useEffect(function(){var re=function(ce){var xe,de=ce[0].contentRect,ee=de.width,fe=de.height;U(ee,fe),(xe=D.current)===null||xe===void 0||xe.call(D,ee,fe)};y>0&&(re=tse(re,y,{trailing:!0,leading:!1}));var H=new ResizeObserver(re),X=P.current.getBoundingClientRect(),Q=X.width,se=X.height;return U(Q,se),H.observe(P.current),function(){H.disconnect()}},[U,y]);var q=b.useMemo(function(){var re=B.containerWidth,H=B.containerHeight;if(re<0||H<0)return null;Dd(sg(o)||sg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Dd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=sg(o)?re:o,Q=sg(c)?H:c;r&&r>0&&(X?Q=X/r:Q&&(X=Q*r),v&&Q>v&&(Q=v)),Dd(X>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,Q,o,c,f,h,r);var se=!Array.isArray(g)&&Lh(g.type).endsWith("Chart");return Se.Children.map(g,function(te){return Se.isValidElement(te)?b.cloneElement(te,Ej({width:X,height:Q},se?{style:Ej({height:"100%",width:"100%",maxHeight:Q,maxWidth:X},te.props.style)}:{})):te})},[r,g,c,v,h,f,B,o]);return Se.createElement("div",{id:j?"".concat(j):void 0,className:$n("recharts-responsive-container",w),style:Ej(Ej({},T),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:v}),ref:P},q)}),YC=function(t){return null};YC.displayName="Cell";function _w(e){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_w(e)}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function o8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){pze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pze(e,t,r){return t=gze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gze(e){var t=vze(e,"string");return _w(t)=="symbol"?t:t+""}function vze(e,t){if(_w(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_w(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qv={widthCache:{},cacheCount:0},xze=2e3,yze={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aU="recharts_measurement_span";function bze(e){var t=o8({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Lf.isSsr)return{width:0,height:0};var n=bze(r),s=JSON.stringify({text:t,copyStyle:n});if(qv.widthCache[s])return qv.widthCache[s];try{var a=document.getElementById(aU);a||(a=document.createElement("span"),a.setAttribute("id",aU),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=o8(o8({},yze),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return qv.widthCache[s]=c,++qv.cacheCount>xze&&(qv.cacheCount=0,qv.widthCache={}),c}catch{return{width:0,height:0}}},wze=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jw(e){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jw(e)}function QN(e,t){return Sze(e)||Nze(e,t)||jze(e,t)||_ze()}function _ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jze(e,t){if(e){if(typeof e=="string")return sU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sU(e,t)}}function sU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Sze(e){if(Array.isArray(e))return e}function Cze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kze(n.key),n)}}function Aze(e,t,r){return t&&iU(e.prototype,t),r&&iU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kze(e){var t=Eze(e,"string");return jw(t)=="symbol"?t:t+""}function Eze(e,t){if(jw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rse={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oze=Object.keys(rse),w1="NaN";function Fze(e,t){return e*rse[t]}var Pj=function(){function e(t,r){Cze(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Tze.test(r)&&(this.num=NaN,this.unit=""),Oze.includes(r)&&(this.num=Fze(t,r),this.unit="px")}return Aze(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Pze.exec(r))!==null&&n!==void 0?n:[],a=QN(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function nse(e){if(e.includes(w1))return w1;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=oU.exec(t))!==null&&r!==void 0?r:[],s=QN(n,4),a=s[1],o=s[2],l=s[3],c=Pj.parse(a??""),d=Pj.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return w1;t=t.replace(oU,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,v=(h=lU.exec(t))!==null&&h!==void 0?h:[],g=QN(v,4),_=g[1],y=g[2],j=g[3],w=Pj.parse(_??""),C=Pj.parse(j??""),k=y==="+"?w.add(C):w.subtract(C);if(k.isNaN())return w1;t=t.replace(lU,k.toString())}return t}var cU=/\(([^()]*)\)/;function Dze(e){for(var t=e;t.includes("(");){var r=cU.exec(t),n=QN(r,2),s=n[1];t=t.replace(cU,nse(s))}return t}function Rze(e){var t=e.replace(/\s+/g,"");return t=Dze(t),t=nse(t),t}function Mze(e){try{return Rze(e)}catch{return w1}}function IE(e){var t=Mze(e.slice(5,-1));return t===w1?"":t}var Ize=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lze=["dx","dy","angle","className","breakAll"];function l8(){return l8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l8.apply(this,arguments)}function uU(e,t){if(e==null)return{};var r=$ze(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dU(e,t){return Vze(e)||Uze(e,t)||zze(e,t)||Bze()}function Bze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zze(e,t){if(e){if(typeof e=="string")return fU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fU(e,t)}}function fU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Vze(e){if(Array.isArray(e))return e}var ase=/[ \f\n\r\t\v\u2028\u2029]+/,sse=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];Bn(r)||(n?a=r.toString().split(""):a=r.toString().split(ase));var o=a.map(function(c){return{word:c,width:_2(c,s).width}}),l=n?0:_2("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},qze=function(t,r,n,s,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,f=Xt(o),h=l,v=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(Q,se){var te=se.word,ce=se.width,xe=Q[Q.length-1];if(xe&&(s==null||a||xe.width+ce+n<Number(s)))xe.words.push(te),xe.width+=ce+n;else{var de={words:[te],width:ce};Q.push(de)}return Q},[])},g=v(r),_=function(X){return X.reduce(function(Q,se){return Q.width>se.width?Q:se})};if(!f)return g;for(var y="",j=function(X){var Q=h.slice(0,X),se=sse({breakAll:d,style:c,children:Q+y}).wordsWithComputedWidth,te=v(se),ce=te.length>o||_(te).width>Number(s);return[ce,te]},w=0,C=h.length-1,k=0,T;w<=C&&k<=h.length-1;){var P=Math.floor((w+C)/2),D=P-1,M=j(D),I=dU(M,2),B=I[0],V=I[1],U=j(P),q=dU(U,1),re=q[0];if(!B&&!re&&(w=P+1),B&&re&&(C=P-1),!B&&re){T=V;break}k++}return T||g},hU=function(t){var r=Bn(t)?[]:t.toString().split(ase);return[{words:r}]},Wze=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Lf.isSsr){var c,d,f=sse({breakAll:o,children:s,style:a});if(f){var h=f.wordsWithComputedWidth,v=f.spaceWidth;c=h,d=v}else return hU(s);return qze({breakAll:o,children:s,maxLines:l,style:a},c,d,r,n)}return hU(s)},mU="#808080",Ig=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,f=t.scaleToFit,h=f===void 0?!1:f,v=t.textAnchor,g=v===void 0?"start":v,_=t.verticalAnchor,y=_===void 0?"end":_,j=t.fill,w=j===void 0?mU:j,C=uU(t,Ize),k=b.useMemo(function(){return Wze({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),T=C.dx,P=C.dy,D=C.angle,M=C.className,I=C.breakAll,B=uU(C,Lze);if(!bo(n)||!bo(a))return null;var V=n+(Xt(T)?T:0),U=a+(Xt(P)?P:0),q;switch(y){case"start":q=IE("calc(".concat(d,")"));break;case"middle":q=IE("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:q=IE("calc(".concat(k.length-1," * -").concat(l,")"));break}var re=[];if(h){var H=k[0].width,X=C.width;re.push("scale(".concat((Xt(X)?X/H:1)/H,")"))}return D&&re.push("rotate(".concat(D,", ").concat(V,", ").concat(U,")")),re.length&&(B.transform=re.join(" ")),Se.createElement("text",l8({},an(B,!0),{x:V,y:U,className:$n("recharts-text",M),textAnchor:g,fill:w.includes("url")?mU:w}),k.map(function(Q,se){var te=Q.words.join(I?"":" ");return Se.createElement("tspan",{x:V,dy:se===0?q:l,key:"".concat(te,"-").concat(se)},te)}))};function wp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hze(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rM(e){let t,r,n;e.length!==2?(t=wp,r=(l,c)=>wp(e(l),c),n=(l,c)=>e(l)-c):(t=e===wp||e===Hze?e:Gze,r=e,n=e);function s(l,c,d=0,f=l.length){if(d<f){if(t(c,c)!==0)return f;do{const h=d+f>>>1;r(l[h],c)<0?d=h+1:f=h}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(t(c,c)!==0)return f;do{const h=d+f>>>1;r(l[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,c,d=0,f=l.length){const h=s(l,c,d,f-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:a}}function Gze(){return 0}function ise(e){return e===null?NaN:+e}function*Kze(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const Yze=rM(wp),Xze=Yze.right;rM(ise).center;const V_=Xze;class pU extends Map{constructor(t,r=Qze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(gU(this,t))}has(t){return super.has(gU(this,t))}set(t,r){return super.set(Jze(this,t),r)}delete(t){return super.delete(Zze(this,t))}}function gU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Jze({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zze({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qze(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eUe(e=wp){if(e===wp)return ose;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ose(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tUe=Math.sqrt(50),rUe=Math.sqrt(10),nUe=Math.sqrt(2);function eS(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=tUe?10:a>=rUe?5:a>=nUe?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?eS(e,t,r*2):[l,c,d]}function c8(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,o]=n?eS(t,e,r):eS(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function u8(e,t,r){return t=+t,e=+e,r=+r,eS(e,t,r)[2]}function d8(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?u8(t,e,r):u8(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function vU(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function xU(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function lse(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?ose:eUe(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(t-d*h/c+v)),_=Math.min(n,Math.floor(t+(c-d)*h/c+v));lse(e,t,g,_,s)}const a=e[t];let o=r,l=n;for(kb(e,r,t),s(e[n],a)>0&&kb(e,r,n);o<l;){for(kb(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?kb(e,r,l):(++l,kb(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function kb(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function aUe(e,t,r){if(e=Float64Array.from(Kze(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xU(e);if(t>=1)return vU(e);var n,s=(n-1)*t,a=Math.floor(s),o=vU(lse(e,a).subarray(0,a+1)),l=xU(e.subarray(a+1));return o+(l-o)*(s-a)}}function sUe(e,t,r=ise){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function iUe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function nd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function am(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const f8=Symbol("implicit");function nM(){var e=new pU,t=[],r=[],n=f8;function s(a){let o=e.get(a);if(o===void 0){if(n!==f8)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new pU;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return nM(t,r).unknown(n)},nd.apply(s,arguments),s}function Nw(){var e=nM().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,o,l=!1,c=0,d=0,f=.5;delete e.unknown;function h(){var v=t().length,g=s<n,_=g?s:n,y=g?n:s;a=(y-_)/Math.max(1,v-c+d*2),l&&(a=Math.floor(a)),_+=(y-_-a*(v-c))*f,o=a*(1-c),l&&(_=Math.round(_),o=Math.round(o));var j=iUe(v).map(function(w){return _+a*w});return r(g?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),h()):t()},e.range=function(v){return arguments.length?([n,s]=v,n=+n,s=+s,h()):[n,s]},e.rangeRound=function(v){return[n,s]=v,n=+n,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(v){return arguments.length?(l=!!v,h()):l},e.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),h()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),h()):c},e.paddingOuter=function(v){return arguments.length?(d=+v,h()):d},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),h()):f},e.copy=function(){return Nw(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(f)},nd.apply(h(),arguments)}function cse(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cse(t())},e}function j2(){return cse(Nw.apply(null,arguments).paddingInner(1))}function aM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function use(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function q_(){}var Sw=.7,tS=1/Sw,z1="\\s*([+-]?\\d+)\\s*",Cw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oUe=/^#([0-9a-f]{3,8})$/,lUe=new RegExp(`^rgb\\(${z1},${z1},${z1}\\)$`),cUe=new RegExp(`^rgb\\(${$f},${$f},${$f}\\)$`),uUe=new RegExp(`^rgba\\(${z1},${z1},${z1},${Cw}\\)$`),dUe=new RegExp(`^rgba\\(${$f},${$f},${$f},${Cw}\\)$`),fUe=new RegExp(`^hsl\\(${Cw},${$f},${$f}\\)$`),hUe=new RegExp(`^hsla\\(${Cw},${$f},${$f},${Cw}\\)$`),yU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aM(q_,Aw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bU,formatHex:bU,formatHex8:mUe,formatHsl:pUe,formatRgb:wU,toString:wU});function bU(){return this.rgb().formatHex()}function mUe(){return this.rgb().formatHex8()}function pUe(){return dse(this).formatHsl()}function wU(){return this.rgb().formatRgb()}function Aw(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oUe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_U(t):r===3?new wc(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Oj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Oj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lUe.exec(e))?new wc(t[1],t[2],t[3],1):(t=cUe.exec(e))?new wc(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uUe.exec(e))?Oj(t[1],t[2],t[3],t[4]):(t=dUe.exec(e))?Oj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fUe.exec(e))?SU(t[1],t[2]/100,t[3]/100,1):(t=hUe.exec(e))?SU(t[1],t[2]/100,t[3]/100,t[4]):yU.hasOwnProperty(e)?_U(yU[e]):e==="transparent"?new wc(NaN,NaN,NaN,0):null}function _U(e){return new wc(e>>16&255,e>>8&255,e&255,1)}function Oj(e,t,r,n){return n<=0&&(e=t=r=NaN),new wc(e,t,r,n)}function gUe(e){return e instanceof q_||(e=Aw(e)),e?(e=e.rgb(),new wc(e.r,e.g,e.b,e.opacity)):new wc}function h8(e,t,r,n){return arguments.length===1?gUe(e):new wc(e,t,r,n??1)}function wc(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}aM(wc,h8,use(q_,{brighter(e){return e=e==null?tS:Math.pow(tS,e),new wc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sw:Math.pow(Sw,e),new wc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wc(vg(this.r),vg(this.g),vg(this.b),rS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jU,formatHex:jU,formatHex8:vUe,formatRgb:NU,toString:NU}));function jU(){return`#${ig(this.r)}${ig(this.g)}${ig(this.b)}`}function vUe(){return`#${ig(this.r)}${ig(this.g)}${ig(this.b)}${ig((isNaN(this.opacity)?1:this.opacity)*255)}`}function NU(){const e=rS(this.opacity);return`${e===1?"rgb(":"rgba("}${vg(this.r)}, ${vg(this.g)}, ${vg(this.b)}${e===1?")":`, ${e})`}`}function rS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ig(e){return e=vg(e),(e<16?"0":"")+e.toString(16)}function SU(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kd(e,t,r,n)}function dse(e){if(e instanceof kd)return new kd(e.h,e.s,e.l,e.opacity);if(e instanceof q_||(e=Aw(e)),!e)return new kd;if(e instanceof kd)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new kd(o,l,c,e.opacity)}function xUe(e,t,r,n){return arguments.length===1?dse(e):new kd(e,t,r,n??1)}function kd(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}aM(kd,xUe,use(q_,{brighter(e){return e=e==null?tS:Math.pow(tS,e),new kd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sw:Math.pow(Sw,e),new kd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new wc(LE(e>=240?e-240:e+120,s,n),LE(e,s,n),LE(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new kd(CU(this.h),Fj(this.s),Fj(this.l),rS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rS(this.opacity);return`${e===1?"hsl(":"hsla("}${CU(this.h)}, ${Fj(this.s)*100}%, ${Fj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CU(e){return e=(e||0)%360,e<0?e+360:e}function Fj(e){return Math.max(0,Math.min(1,e||0))}function LE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sM=e=>()=>e;function yUe(e,t){return function(r){return e+r*t}}function bUe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wUe(e){return(e=+e)==1?fse:function(t,r){return r-t?bUe(t,r,e):sM(isNaN(t)?r:t)}}function fse(e,t){var r=t-e;return r?yUe(e,r):sM(isNaN(e)?t:e)}const AU=function e(t){var r=wUe(t);function n(s,a){var o=r((s=h8(s)).r,(a=h8(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),d=fse(s.opacity,a.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=d(f),s+""}}return n.gamma=e,n}(1);function _Ue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function jUe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NUe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=_y(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function SUe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function nS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function CUe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=_y(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var m8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$E=new RegExp(m8.source,"g");function AUe(e){return function(){return e}}function kUe(e){return function(t){return e(t)+""}}function EUe(e,t){var r=m8.lastIndex=$E.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=m8.exec(e))&&(s=$E.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:nS(n,s)})),r=$E.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?kUe(c[0].x):AUe(t):(t=c.length,function(d){for(var f=0,h;f<t;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}function _y(e,t){var r=typeof t,n;return t==null||r==="boolean"?sM(t):(r==="number"?nS:r==="string"?(n=Aw(t))?(t=n,AU):EUe:t instanceof Aw?AU:t instanceof Date?SUe:jUe(t)?_Ue:Array.isArray(t)?NUe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CUe:nS)(e,t)}function iM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function TUe(e,t){t===void 0&&(t=e,e=_y);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function PUe(e){return function(){return e}}function aS(e){return+e}var kU=[0,1];function Xl(e){return e}function p8(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:PUe(isNaN(t)?NaN:.5)}function OUe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function FUe(e,t,r){var n=e[0],s=e[1],a=t[0],o=t[1];return s<n?(n=p8(s,n),a=r(o,a)):(n=p8(n,s),a=r(a,o)),function(l){return a(n(l))}}function DUe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=p8(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=V_(e,l,1,n)-1;return a[c](s[c](l))}}function W_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function XC(){var e=kU,t=kU,r=_y,n,s,a,o=Xl,l,c,d;function f(){var v=Math.min(e.length,t.length);return o!==Xl&&(o=OUe(e[0],e[v-1])),l=v>2?DUe:FUe,c=d=null,h}function h(v){return v==null||isNaN(v=+v)?a:(c||(c=l(e.map(n),t,r)))(n(o(v)))}return h.invert=function(v){return o(s((d||(d=l(t,e.map(n),nS)))(v)))},h.domain=function(v){return arguments.length?(e=Array.from(v,aS),f()):e.slice()},h.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},h.rangeRound=function(v){return t=Array.from(v),r=iM,f()},h.clamp=function(v){return arguments.length?(o=v?!0:Xl,f()):o!==Xl},h.interpolate=function(v){return arguments.length?(r=v,f()):r},h.unknown=function(v){return arguments.length?(a=v,h):a},function(v,g){return n=v,s=g,f()}}function oM(){return XC()(Xl,Xl)}function RUe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _x(e){return e=sS(Math.abs(e)),e?e[1]:NaN}function MUe(e,t){return function(r,n){for(var s=r.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function IUe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var LUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kw(e){if(!(t=LUe.exec(e)))throw new Error("invalid format: "+e);var t;return new lM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kw.prototype=lM.prototype;function lM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $Ue(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var hse;function BUe(e,t){var r=sS(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(hse=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sS(e,Math.max(0,t+a-1))[0]}function EU(e,t){var r=sS(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const TU={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RUe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EU(e*100,t),r:EU,s:BUe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PU(e){return e}var OU=Array.prototype.map,FU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zUe(e){var t=e.grouping===void 0||e.thousands===void 0?PU:MUe(OU.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?PU:IUe(OU.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=kw(h);var v=h.fill,g=h.align,_=h.sign,y=h.symbol,j=h.zero,w=h.width,C=h.comma,k=h.precision,T=h.trim,P=h.type;P==="n"?(C=!0,P="g"):TU[P]||(k===void 0&&(k=12),T=!0,P="g"),(j||v==="0"&&g==="=")&&(j=!0,v="0",g="=");var D=y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",M=y==="$"?n:/[%p]/.test(P)?o:"",I=TU[P],B=/[defgprs%]/.test(P);k=k===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function V(U){var q=D,re=M,H,X,Q;if(P==="c")re=I(U)+re,U="";else{U=+U;var se=U<0||1/U<0;if(U=isNaN(U)?c:I(Math.abs(U),k),T&&(U=$Ue(U)),se&&+U==0&&_!=="+"&&(se=!1),q=(se?_==="("?_:l:_==="-"||_==="("?"":_)+q,re=(P==="s"?FU[8+hse/3]:"")+re+(se&&_==="("?")":""),B){for(H=-1,X=U.length;++H<X;)if(Q=U.charCodeAt(H),48>Q||Q>57){re=(Q===46?s+U.slice(H+1):U.slice(H))+re,U=U.slice(0,H);break}}}C&&!j&&(U=t(U,1/0));var te=q.length+U.length+re.length,ce=te<w?new Array(w-te+1).join(v):"";switch(C&&j&&(U=t(ce+U,ce.length?w-re.length:1/0),ce=""),g){case"<":U=q+U+re+ce;break;case"=":U=q+ce+U+re;break;case"^":U=ce.slice(0,te=ce.length>>1)+q+U+re+ce.slice(te);break;default:U=ce+q+U+re;break}return a(U)}return V.toString=function(){return h+""},V}function f(h,v){var g=d((h=kw(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(_x(v)/3)))*3,y=Math.pow(10,-_),j=FU[8+_/3];return function(w){return g(y*w)+j}}return{format:d,formatPrefix:f}}var Dj,cM,mse;UUe({thousands:",",grouping:[3],currency:["$",""]});function UUe(e){return Dj=zUe(e),cM=Dj.format,mse=Dj.formatPrefix,Dj}function VUe(e){return Math.max(0,-_x(Math.abs(e)))}function qUe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_x(t)/3)))*3-_x(Math.abs(e)))}function WUe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_x(t)-_x(e))+1}function pse(e,t,r,n){var s=d8(e,t,r),a;switch(n=kw(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=qUe(s,o))&&(n.precision=a),mse(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=WUe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=VUe(s))&&(n.precision=a-(n.type==="%")*2);break}}return cM(n)}function Yp(e){var t=e.domain;return e.ticks=function(r){var n=t();return c8(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return pse(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,o=n[s],l=n[a],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=s,s=a,a=d);f-- >0;){if(d=u8(o,l,r),d===c)return n[s]=o,n[a]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function iS(){var e=oM();return e.copy=function(){return W_(e,iS())},nd.apply(e,arguments),Yp(e)}function gse(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,aS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gse(e).unknown(t)},e=arguments.length?Array.from(e,aS):[0,1],Yp(r)}function vse(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),e[r]=t.floor(s),e[n]=t.ceil(a),e}function DU(e){return Math.log(e)}function RU(e){return Math.exp(e)}function HUe(e){return-Math.log(-e)}function GUe(e){return-Math.exp(-e)}function KUe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YUe(e){return e===10?KUe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XUe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MU(e){return(t,r)=>-e(-t,r)}function uM(e){const t=e(DU,RU),r=t.domain;let n=10,s,a;function o(){return s=XUe(n),a=YUe(n),r()[0]<0?(s=MU(s),a=MU(a),e(HUe,GUe)):e(DU,RU),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let v=s(d),g=s(f),_,y;const j=l==null?10:+l;let w=[];if(!(n%1)&&g-v<j){if(v=Math.floor(v),g=Math.ceil(g),d>0){for(;v<=g;++v)for(_=1;_<n;++_)if(y=v<0?_/a(-v):_*a(v),!(y<d)){if(y>f)break;w.push(y)}}else for(;v<=g;++v)for(_=n-1;_>=1;--_)if(y=v>0?_/a(-v):_*a(v),!(y<d)){if(y>f)break;w.push(y)}w.length*2<j&&(w=c8(d,f,j))}else w=c8(v,g,Math.min(g-v,j)).map(a);return h?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kw(c)).precision==null&&(c.trim=!0),c=cM(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return f=>{let h=f/a(Math.round(s(f)));return h*n<n-.5&&(h*=n),h<=d?c(f):""}},t.nice=()=>r(vse(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function xse(){const e=uM(XC()).domain([1,10]);return e.copy=()=>W_(e,xse()).base(e.base()),nd.apply(e,arguments),e}function IU(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LU(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dM(e){var t=1,r=e(IU(t),LU(t));return r.constant=function(n){return arguments.length?e(IU(t=+n),LU(t)):t},Yp(r)}function yse(){var e=dM(XC());return e.copy=function(){return W_(e,yse()).constant(e.constant())},nd.apply(e,arguments)}function $U(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JUe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZUe(e){return e<0?-e*e:e*e}function fM(e){var t=e(Xl,Xl),r=1;function n(){return r===1?e(Xl,Xl):r===.5?e(JUe,ZUe):e($U(r),$U(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Yp(t)}function hM(){var e=fM(XC());return e.copy=function(){return W_(e,hM()).exponent(e.exponent())},nd.apply(e,arguments),e}function QUe(){return hM.apply(null,arguments).exponent(.5)}function BU(e){return Math.sign(e)*e*e}function eVe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bse(){var e=oM(),t=[0,1],r=!1,n;function s(a){var o=eVe(e(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return e.invert(BU(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,aS)).map(BU)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return bse(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},nd.apply(s,arguments),Yp(s)}function wse(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=sUe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[V_(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(wp),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return wse().domain(e).range(t).unknown(n)},nd.apply(a,arguments)}function _se(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[V_(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _se().domain([e,t]).range(s).unknown(a)},nd.apply(Yp(o),arguments)}function jse(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[V_(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return jse().domain(e).range(t).unknown(r)},nd.apply(s,arguments)}const BE=new Date,zE=new Date;function To(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},s.filter=a=>To(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(s.count=(a,o)=>(BE.setTime(+a),zE.setTime(+o),e(BE),e(zE),Math.floor(r(BE,zE))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const oS=To(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?To(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):oS);oS.range;const Fh=1e3,Uu=Fh*60,Dh=Uu*60,Xh=Dh*24,mM=Xh*7,zU=Xh*30,UE=Xh*365,og=To(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fh)},(e,t)=>(t-e)/Fh,e=>e.getUTCSeconds());og.range;const pM=To(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fh)},(e,t)=>{e.setTime(+e+t*Uu)},(e,t)=>(t-e)/Uu,e=>e.getMinutes());pM.range;const gM=To(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Uu)},(e,t)=>(t-e)/Uu,e=>e.getUTCMinutes());gM.range;const vM=To(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fh-e.getMinutes()*Uu)},(e,t)=>{e.setTime(+e+t*Dh)},(e,t)=>(t-e)/Dh,e=>e.getHours());vM.range;const xM=To(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Dh)},(e,t)=>(t-e)/Dh,e=>e.getUTCHours());xM.range;const H_=To(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Uu)/Xh,e=>e.getDate()-1);H_.range;const JC=To(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xh,e=>e.getUTCDate()-1);JC.range;const Nse=To(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xh,e=>Math.floor(e/Xh));Nse.range;function sv(e){return To(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Uu)/mM)}const ZC=sv(0),lS=sv(1),tVe=sv(2),rVe=sv(3),jx=sv(4),nVe=sv(5),aVe=sv(6);ZC.range;lS.range;tVe.range;rVe.range;jx.range;nVe.range;aVe.range;function iv(e){return To(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mM)}const QC=iv(0),cS=iv(1),sVe=iv(2),iVe=iv(3),Nx=iv(4),oVe=iv(5),lVe=iv(6);QC.range;cS.range;sVe.range;iVe.range;Nx.range;oVe.range;lVe.range;const yM=To(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yM.range;const bM=To(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bM.range;const Jh=To(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:To(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Jh.range;const Zh=To(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:To(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Zh.range;function Sse(e,t,r,n,s,a){const o=[[og,1,Fh],[og,5,5*Fh],[og,15,15*Fh],[og,30,30*Fh],[a,1,Uu],[a,5,5*Uu],[a,15,15*Uu],[a,30,30*Uu],[s,1,Dh],[s,3,3*Dh],[s,6,6*Dh],[s,12,12*Dh],[n,1,Xh],[n,2,2*Xh],[r,1,mM],[t,1,zU],[t,3,3*zU],[e,1,UE]];function l(d,f,h){const v=f<d;v&&([d,f]=[f,d]);const g=h&&typeof h.range=="function"?h:c(d,f,h),_=g?g.range(d,+f+1):[];return v?_.reverse():_}function c(d,f,h){const v=Math.abs(f-d)/h,g=rM(([,,j])=>j).right(o,v);if(g===o.length)return e.every(d8(d/UE,f/UE,h));if(g===0)return oS.every(Math.max(d8(d,f,h),1));const[_,y]=o[v/o[g-1][2]<o[g][2]/v?g-1:g];return _.every(y)}return[l,c]}const[cVe,uVe]=Sse(Zh,bM,QC,Nse,xM,gM),[dVe,fVe]=Sse(Jh,yM,ZC,H_,vM,pM);function VE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eb(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hVe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Tb(s),f=Pb(s),h=Tb(a),v=Pb(a),g=Tb(o),_=Pb(o),y=Tb(l),j=Pb(l),w=Tb(c),C=Pb(c),k={a:se,A:te,b:ce,B:xe,c:null,d:GU,e:GU,f:MVe,g:HVe,G:KVe,H:FVe,I:DVe,j:RVe,L:Cse,m:IVe,M:LVe,p:de,q:ee,Q:XU,s:JU,S:$Ve,u:BVe,U:zVe,V:UVe,w:VVe,W:qVe,x:null,X:null,y:WVe,Y:GVe,Z:YVe,"%":YU},T={a:fe,A:ne,b:Y,B:ue,c:null,d:KU,e:KU,f:QVe,g:cqe,G:dqe,H:XVe,I:JVe,j:ZVe,L:kse,m:eqe,M:tqe,p:le,q:ke,Q:XU,s:JU,S:rqe,u:nqe,U:aqe,V:sqe,w:iqe,W:oqe,x:null,X:null,y:lqe,Y:uqe,Z:fqe,"%":YU},P={a:V,A:U,b:q,B:re,c:H,d:WU,e:WU,f:EVe,g:qU,G:VU,H:HU,I:HU,j:SVe,L:kVe,m:NVe,M:CVe,p:B,q:jVe,Q:PVe,s:OVe,S:AVe,u:xVe,U:yVe,V:bVe,w:vVe,W:wVe,x:X,X:Q,y:qU,Y:VU,Z:_Ve,"%":TVe};k.x=D(r,k),k.X=D(n,k),k.c=D(t,k),T.x=D(r,T),T.X=D(n,T),T.c=D(t,T);function D(_e,Fe){return function(Be){var Re=[],Te=-1,$e=0,pe=_e.length,Ge,pt,Pt;for(Be instanceof Date||(Be=new Date(+Be));++Te<pe;)_e.charCodeAt(Te)===37&&(Re.push(_e.slice($e,Te)),(pt=UU[Ge=_e.charAt(++Te)])!=null?Ge=_e.charAt(++Te):pt=Ge==="e"?" ":"0",(Pt=Fe[Ge])&&(Ge=Pt(Be,pt)),Re.push(Ge),$e=Te+1);return Re.push(_e.slice($e,Te)),Re.join("")}}function M(_e,Fe){return function(Be){var Re=Eb(1900,void 0,1),Te=I(Re,_e,Be+="",0),$e,pe;if(Te!=Be.length)return null;if("Q"in Re)return new Date(Re.Q);if("s"in Re)return new Date(Re.s*1e3+("L"in Re?Re.L:0));if(Fe&&!("Z"in Re)&&(Re.Z=0),"p"in Re&&(Re.H=Re.H%12+Re.p*12),Re.m===void 0&&(Re.m="q"in Re?Re.q:0),"V"in Re){if(Re.V<1||Re.V>53)return null;"w"in Re||(Re.w=1),"Z"in Re?($e=qE(Eb(Re.y,0,1)),pe=$e.getUTCDay(),$e=pe>4||pe===0?cS.ceil($e):cS($e),$e=JC.offset($e,(Re.V-1)*7),Re.y=$e.getUTCFullYear(),Re.m=$e.getUTCMonth(),Re.d=$e.getUTCDate()+(Re.w+6)%7):($e=VE(Eb(Re.y,0,1)),pe=$e.getDay(),$e=pe>4||pe===0?lS.ceil($e):lS($e),$e=H_.offset($e,(Re.V-1)*7),Re.y=$e.getFullYear(),Re.m=$e.getMonth(),Re.d=$e.getDate()+(Re.w+6)%7)}else("W"in Re||"U"in Re)&&("w"in Re||(Re.w="u"in Re?Re.u%7:"W"in Re?1:0),pe="Z"in Re?qE(Eb(Re.y,0,1)).getUTCDay():VE(Eb(Re.y,0,1)).getDay(),Re.m=0,Re.d="W"in Re?(Re.w+6)%7+Re.W*7-(pe+5)%7:Re.w+Re.U*7-(pe+6)%7);return"Z"in Re?(Re.H+=Re.Z/100|0,Re.M+=Re.Z%100,qE(Re)):VE(Re)}}function I(_e,Fe,Be,Re){for(var Te=0,$e=Fe.length,pe=Be.length,Ge,pt;Te<$e;){if(Re>=pe)return-1;if(Ge=Fe.charCodeAt(Te++),Ge===37){if(Ge=Fe.charAt(Te++),pt=P[Ge in UU?Fe.charAt(Te++):Ge],!pt||(Re=pt(_e,Be,Re))<0)return-1}else if(Ge!=Be.charCodeAt(Re++))return-1}return Re}function B(_e,Fe,Be){var Re=d.exec(Fe.slice(Be));return Re?(_e.p=f.get(Re[0].toLowerCase()),Be+Re[0].length):-1}function V(_e,Fe,Be){var Re=g.exec(Fe.slice(Be));return Re?(_e.w=_.get(Re[0].toLowerCase()),Be+Re[0].length):-1}function U(_e,Fe,Be){var Re=h.exec(Fe.slice(Be));return Re?(_e.w=v.get(Re[0].toLowerCase()),Be+Re[0].length):-1}function q(_e,Fe,Be){var Re=w.exec(Fe.slice(Be));return Re?(_e.m=C.get(Re[0].toLowerCase()),Be+Re[0].length):-1}function re(_e,Fe,Be){var Re=y.exec(Fe.slice(Be));return Re?(_e.m=j.get(Re[0].toLowerCase()),Be+Re[0].length):-1}function H(_e,Fe,Be){return I(_e,t,Fe,Be)}function X(_e,Fe,Be){return I(_e,r,Fe,Be)}function Q(_e,Fe,Be){return I(_e,n,Fe,Be)}function se(_e){return o[_e.getDay()]}function te(_e){return a[_e.getDay()]}function ce(_e){return c[_e.getMonth()]}function xe(_e){return l[_e.getMonth()]}function de(_e){return s[+(_e.getHours()>=12)]}function ee(_e){return 1+~~(_e.getMonth()/3)}function fe(_e){return o[_e.getUTCDay()]}function ne(_e){return a[_e.getUTCDay()]}function Y(_e){return c[_e.getUTCMonth()]}function ue(_e){return l[_e.getUTCMonth()]}function le(_e){return s[+(_e.getUTCHours()>=12)]}function ke(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Fe=D(_e+="",k);return Fe.toString=function(){return _e},Fe},parse:function(_e){var Fe=M(_e+="",!1);return Fe.toString=function(){return _e},Fe},utcFormat:function(_e){var Fe=D(_e+="",T);return Fe.toString=function(){return _e},Fe},utcParse:function(_e){var Fe=M(_e+="",!0);return Fe.toString=function(){return _e},Fe}}}var UU={"-":"",_:" ",0:"0"},Yo=/^\s*\d+/,mVe=/^%/,pVe=/[\\^$*+?|[\]().{}]/g;function La(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function gVe(e){return e.replace(pVe,"\\$&")}function Tb(e){return new RegExp("^(?:"+e.map(gVe).join("|")+")","i")}function Pb(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vVe(e,t,r){var n=Yo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xVe(e,t,r){var n=Yo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function yVe(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bVe(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wVe(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VU(e,t,r){var n=Yo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qU(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _Ve(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jVe(e,t,r){var n=Yo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function NVe(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WU(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function SVe(e,t,r){var n=Yo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HU(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function CVe(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function AVe(e,t,r){var n=Yo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kVe(e,t,r){var n=Yo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function EVe(e,t,r){var n=Yo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TVe(e,t,r){var n=mVe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PVe(e,t,r){var n=Yo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OVe(e,t,r){var n=Yo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function GU(e,t){return La(e.getDate(),t,2)}function FVe(e,t){return La(e.getHours(),t,2)}function DVe(e,t){return La(e.getHours()%12||12,t,2)}function RVe(e,t){return La(1+H_.count(Jh(e),e),t,3)}function Cse(e,t){return La(e.getMilliseconds(),t,3)}function MVe(e,t){return Cse(e,t)+"000"}function IVe(e,t){return La(e.getMonth()+1,t,2)}function LVe(e,t){return La(e.getMinutes(),t,2)}function $Ve(e,t){return La(e.getSeconds(),t,2)}function BVe(e){var t=e.getDay();return t===0?7:t}function zVe(e,t){return La(ZC.count(Jh(e)-1,e),t,2)}function Ase(e){var t=e.getDay();return t>=4||t===0?jx(e):jx.ceil(e)}function UVe(e,t){return e=Ase(e),La(jx.count(Jh(e),e)+(Jh(e).getDay()===4),t,2)}function VVe(e){return e.getDay()}function qVe(e,t){return La(lS.count(Jh(e)-1,e),t,2)}function WVe(e,t){return La(e.getFullYear()%100,t,2)}function HVe(e,t){return e=Ase(e),La(e.getFullYear()%100,t,2)}function GVe(e,t){return La(e.getFullYear()%1e4,t,4)}function KVe(e,t){var r=e.getDay();return e=r>=4||r===0?jx(e):jx.ceil(e),La(e.getFullYear()%1e4,t,4)}function YVe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+La(t/60|0,"0",2)+La(t%60,"0",2)}function KU(e,t){return La(e.getUTCDate(),t,2)}function XVe(e,t){return La(e.getUTCHours(),t,2)}function JVe(e,t){return La(e.getUTCHours()%12||12,t,2)}function ZVe(e,t){return La(1+JC.count(Zh(e),e),t,3)}function kse(e,t){return La(e.getUTCMilliseconds(),t,3)}function QVe(e,t){return kse(e,t)+"000"}function eqe(e,t){return La(e.getUTCMonth()+1,t,2)}function tqe(e,t){return La(e.getUTCMinutes(),t,2)}function rqe(e,t){return La(e.getUTCSeconds(),t,2)}function nqe(e){var t=e.getUTCDay();return t===0?7:t}function aqe(e,t){return La(QC.count(Zh(e)-1,e),t,2)}function Ese(e){var t=e.getUTCDay();return t>=4||t===0?Nx(e):Nx.ceil(e)}function sqe(e,t){return e=Ese(e),La(Nx.count(Zh(e),e)+(Zh(e).getUTCDay()===4),t,2)}function iqe(e){return e.getUTCDay()}function oqe(e,t){return La(cS.count(Zh(e)-1,e),t,2)}function lqe(e,t){return La(e.getUTCFullYear()%100,t,2)}function cqe(e,t){return e=Ese(e),La(e.getUTCFullYear()%100,t,2)}function uqe(e,t){return La(e.getUTCFullYear()%1e4,t,4)}function dqe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Nx(e):Nx.ceil(e),La(e.getUTCFullYear()%1e4,t,4)}function fqe(){return"+0000"}function YU(){return"%"}function XU(e){return+e}function JU(e){return Math.floor(+e/1e3)}var Wv,Tse,Pse;hqe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hqe(e){return Wv=hVe(e),Tse=Wv.format,Wv.parse,Pse=Wv.utcFormat,Wv.utcParse,Wv}function mqe(e){return new Date(e)}function pqe(e){return e instanceof Date?+e:+new Date(+e)}function wM(e,t,r,n,s,a,o,l,c,d){var f=oM(),h=f.invert,v=f.domain,g=d(".%L"),_=d(":%S"),y=d("%I:%M"),j=d("%I %p"),w=d("%a %d"),C=d("%b %d"),k=d("%B"),T=d("%Y");function P(D){return(c(D)<D?g:l(D)<D?_:o(D)<D?y:a(D)<D?j:n(D)<D?s(D)<D?w:C:r(D)<D?k:T)(D)}return f.invert=function(D){return new Date(h(D))},f.domain=function(D){return arguments.length?v(Array.from(D,pqe)):v().map(mqe)},f.ticks=function(D){var M=v();return e(M[0],M[M.length-1],D??10)},f.tickFormat=function(D,M){return M==null?P:d(M)},f.nice=function(D){var M=v();return(!D||typeof D.range!="function")&&(D=t(M[0],M[M.length-1],D??10)),D?v(vse(M,D)):f},f.copy=function(){return W_(f,wM(e,t,r,n,s,a,o,l,c,d))},f}function gqe(){return nd.apply(wM(dVe,fVe,Jh,yM,ZC,H_,vM,pM,og,Tse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vqe(){return nd.apply(wM(cVe,uVe,Zh,bM,QC,JC,xM,gM,og,Pse).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eA(){var e=0,t=1,r,n,s,a,o=Xl,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(a(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(v){var g,_;return arguments.length?([g,_]=v,o=h(g,_),d):[o(0),o(1)]}}return d.range=f(_y),d.rangeRound=f(iM),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,r=h(e),n=h(t),s=r===n?0:1/(n-r),d}}function Xp(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ose(){var e=Yp(eA()(Xl));return e.copy=function(){return Xp(e,Ose())},am.apply(e,arguments)}function Fse(){var e=uM(eA()).domain([1,10]);return e.copy=function(){return Xp(e,Fse()).base(e.base())},am.apply(e,arguments)}function Dse(){var e=dM(eA());return e.copy=function(){return Xp(e,Dse()).constant(e.constant())},am.apply(e,arguments)}function _M(){var e=fM(eA());return e.copy=function(){return Xp(e,_M()).exponent(e.exponent())},am.apply(e,arguments)}function xqe(){return _M.apply(null,arguments).exponent(.5)}function Rse(){var e=[],t=Xl;function r(n){if(n!=null&&!isNaN(n=+n))return t((V_(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(wp),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>aUe(e,a/n))},r.copy=function(){return Rse(t).domain(e)},am.apply(r,arguments)}function tA(){var e=0,t=.5,r=1,n=1,s,a,o,l,c,d=Xl,f,h=!1,v;function g(y){return isNaN(y=+y)?v:(y=.5+((y=+f(y))-a)*(n*y<n*a?l:c),d(h?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,r]=y,s=f(e=+e),a=f(t=+t),o=f(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,g):[e,t,r]},g.clamp=function(y){return arguments.length?(h=!!y,g):h},g.interpolator=function(y){return arguments.length?(d=y,g):d};function _(y){return function(j){var w,C,k;return arguments.length?([w,C,k]=j,d=TUe(y,[w,C,k]),g):[d(0),d(.5),d(1)]}}return g.range=_(_y),g.rangeRound=_(iM),g.unknown=function(y){return arguments.length?(v=y,g):v},function(y){return f=y,s=y(e),a=y(t),o=y(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,g}}function Mse(){var e=Yp(tA()(Xl));return e.copy=function(){return Xp(e,Mse())},am.apply(e,arguments)}function Ise(){var e=uM(tA()).domain([.1,1,10]);return e.copy=function(){return Xp(e,Ise()).base(e.base())},am.apply(e,arguments)}function Lse(){var e=dM(tA());return e.copy=function(){return Xp(e,Lse()).constant(e.constant())},am.apply(e,arguments)}function jM(){var e=fM(tA());return e.copy=function(){return Xp(e,jM()).exponent(e.exponent())},am.apply(e,arguments)}function yqe(){return jM.apply(null,arguments).exponent(.5)}const ZU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nw,scaleDiverging:Mse,scaleDivergingLog:Ise,scaleDivergingPow:jM,scaleDivergingSqrt:yqe,scaleDivergingSymlog:Lse,scaleIdentity:gse,scaleImplicit:f8,scaleLinear:iS,scaleLog:xse,scaleOrdinal:nM,scalePoint:j2,scalePow:hM,scaleQuantile:wse,scaleQuantize:_se,scaleRadial:bse,scaleSequential:Ose,scaleSequentialLog:Fse,scaleSequentialPow:_M,scaleSequentialQuantile:Rse,scaleSequentialSqrt:xqe,scaleSequentialSymlog:Dse,scaleSqrt:QUe,scaleSymlog:yse,scaleThreshold:jse,scaleTime:gqe,scaleUtc:vqe,tickFormat:pse},Symbol.toStringTag,{value:"Module"}));var bqe=fy;function wqe(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!bqe(o):r(o,l)))var l=o,c=a}return c}var rA=wqe;function _qe(e,t){return e>t}var $se=_qe,jqe=rA,Nqe=$se,Sqe=wy;function Cqe(e){return e&&e.length?jqe(e,Sqe,Nqe):void 0}var Aqe=Cqe;const rp=ga(Aqe);function kqe(e,t){return e<t}var Bse=kqe,Eqe=rA,Tqe=Bse,Pqe=wy;function Oqe(e){return e&&e.length?Eqe(e,Pqe,Tqe):void 0}var Fqe=Oqe;const nA=ga(Fqe);var Dqe=IR,Rqe=Qf,Mqe=Kae,Iqe=Pc;function Lqe(e,t){var r=Iqe(e)?Dqe:Mqe;return r(e,Rqe(t))}var $qe=Lqe,Bqe=Hae,zqe=$qe;function Uqe(e,t){return Bqe(zqe(e,t),1)}var Vqe=Uqe;const qqe=ga(Vqe);var Wqe=ZR;function Hqe(e,t){return Wqe(e,t)}var Gqe=Hqe;const Sx=ga(Gqe);var jy=1e9,Kqe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SM,Vs=!0,Qu="[DecimalError] ",xg=Qu+"Invalid argument: ",NM=Qu+"Exponent out of range: ",Ny=Math.floor,H0=Math.pow,Yqe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kc,zo=1e7,Fs=7,zse=9007199254740991,uS=Ny(zse/Fs),Tr={};Tr.absoluteValue=Tr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Tr.comparedTo=Tr.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Tr.decimalPlaces=Tr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fs;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Tr.dividedBy=Tr.div=function(e){return $h(this,new this.constructor(e))};Tr.dividedToIntegerBy=Tr.idiv=function(e){var t=this,r=t.constructor;return ls($h(t,new r(e),0,1),r.precision)};Tr.equals=Tr.eq=function(e){return!this.cmp(e)};Tr.exponent=function(){return Hi(this)};Tr.greaterThan=Tr.gt=function(e){return this.cmp(e)>0};Tr.greaterThanOrEqualTo=Tr.gte=function(e){return this.cmp(e)>=0};Tr.isInteger=Tr.isint=function(){return this.e>this.d.length-2};Tr.isNegative=Tr.isneg=function(){return this.s<0};Tr.isPositive=Tr.ispos=function(){return this.s>0};Tr.isZero=function(){return this.s===0};Tr.lessThan=Tr.lt=function(e){return this.cmp(e)<0};Tr.lessThanOrEqualTo=Tr.lte=function(e){return this.cmp(e)<1};Tr.logarithm=Tr.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Kc))throw Error(Qu+"NaN");if(r.s<1)throw Error(Qu+(r.s?"NaN":"-Infinity"));return r.eq(Kc)?new n(0):(Vs=!1,t=$h(Ew(r,a),Ew(e,a),a),Vs=!0,ls(t,s))};Tr.minus=Tr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qse(t,e):Use(t,(e.s=-e.s,e))};Tr.modulo=Tr.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Qu+"NaN");return r.s?(Vs=!1,t=$h(r,e,0,1).times(e),Vs=!0,r.minus(t)):ls(new n(r),s)};Tr.naturalExponential=Tr.exp=function(){return Vse(this)};Tr.naturalLogarithm=Tr.ln=function(){return Ew(this)};Tr.negated=Tr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Tr.plus=Tr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Use(t,e):qse(t,(e.s=-e.s,e))};Tr.precision=Tr.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xg+e);if(t=Hi(s)+1,n=s.d.length-1,r=n*Fs+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Tr.squareRoot=Tr.sqrt=function(){var e,t,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qu+"NaN")}for(e=Hi(l),Vs=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=kf(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ny((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus($h(l,a,o+2)).times(.5),kf(a.d).slice(0,o)===(t=kf(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(ls(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return Vs=!0,ls(n,r)};Tr.times=Tr.mul=function(e){var t,r,n,s,a,o,l,c,d,f=this,h=f.constructor,v=f.d,g=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,c=v.length,d=g.length,c<d&&(a=v,v=g,g=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+g[n]*v[s-n-1]+t,a[s--]=l%zo|0,t=l/zo|0;a[s]=(a[s]+t)%zo|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Vs?ls(e,h.precision):e};Tr.toDecimalPlaces=Tr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Hf(e,0,jy),t===void 0?t=n.rounding:Hf(t,0,8),ls(r,e+Hi(r)+1,t))};Tr.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Lg(n,!0):(Hf(e,0,jy),t===void 0?t=s.rounding:Hf(t,0,8),n=ls(new s(n),e+1,t),r=Lg(n,!0,e+1)),r};Tr.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?Lg(s):(Hf(e,0,jy),t===void 0?t=a.rounding:Hf(t,0,8),n=ls(new a(s),e+Hi(s)+1,t),r=Lg(n.abs(),!1,e+Hi(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Tr.toInteger=Tr.toint=function(){var e=this,t=e.constructor;return ls(new t(e),Hi(e)+1,t.rounding)};Tr.toNumber=function(){return+this};Tr.toPower=Tr.pow=function(e){var t,r,n,s,a,o,l=this,c=l.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(Kc);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qu+"Infinity");return l}if(l.eq(Kc))return l;if(n=c.precision,e.eq(Kc))return ls(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=f<0?-f:f)<=zse){for(s=new c(Kc),t=Math.ceil(n/Fs+4),Vs=!1;r%2&&(s=s.times(l),eV(s.d,t)),r=Ny(r/2),r!==0;)l=l.times(l),eV(l.d,t);return Vs=!0,e.s<0?new c(Kc).div(s):ls(s,n)}}else if(a<0)throw Error(Qu+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Vs=!1,s=e.times(Ew(l,n+d)),Vs=!0,s=Vse(s),s.s=a,s};Tr.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=Hi(s),n=Lg(s,r<=a.toExpNeg||r>=a.toExpPos)):(Hf(e,1,jy),t===void 0?t=a.rounding:Hf(t,0,8),s=ls(new a(s),e,t),r=Hi(s),n=Lg(s,e<=r||r<=a.toExpNeg,e)),n};Tr.toSignificantDigits=Tr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Hf(e,1,jy),t===void 0?t=n.rounding:Hf(t,0,8)),ls(new n(r),e,t)};Tr.toString=Tr.valueOf=Tr.val=Tr.toJSON=Tr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hi(e),r=e.constructor;return Lg(e,t<=r.toExpNeg||t>=r.toExpPos)};function Use(e,t){var r,n,s,a,o,l,c,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Vs?ls(t,h):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(h/Fs),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/zo|0,c[a]%=zo;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Vs?ls(t,h):t}function Hf(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xg+e)}function kf(e){var t,r,n,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)n=e[t]+"",r=Fs-n.length,r&&(a+=Gm(r)),a+=n;o=e[t],n=o+"",r=Fs-n.length,r&&(a+=Gm(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var $h=function(){function e(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%zo|0,o=a/zo|0;return o&&n.unshift(o),n}function t(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*zo+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,d,f,h,v,g,_,y,j,w,C,k,T,P,D,M,I,B=n.constructor,V=n.s==s.s?1:-1,U=n.d,q=s.d;if(!n.s)return new B(n);if(!s.s)throw Error(Qu+"Division by zero");for(c=n.e-s.e,M=q.length,P=U.length,g=new B(V),_=g.d=[],d=0;q[d]==(U[d]||0);)++d;if(q[d]>(U[d]||0)&&--c,a==null?C=a=B.precision:o?C=a+(Hi(n)-Hi(s))+1:C=a,C<0)return new B(0);if(C=C/Fs+2|0,d=0,M==1)for(f=0,q=q[0],C++;(d<P||f)&&C--;d++)k=f*zo+(U[d]||0),_[d]=k/q|0,f=k%q|0;else{for(f=zo/(q[0]+1)|0,f>1&&(q=e(q,f),U=e(U,f),M=q.length,P=U.length),T=M,y=U.slice(0,M),j=y.length;j<M;)y[j++]=0;I=q.slice(),I.unshift(0),D=q[0],q[1]>=zo/2&&++D;do f=0,l=t(q,y,M,j),l<0?(w=y[0],M!=j&&(w=w*zo+(y[1]||0)),f=w/D|0,f>1?(f>=zo&&(f=zo-1),h=e(q,f),v=h.length,j=y.length,l=t(h,y,v,j),l==1&&(f--,r(h,M<v?I:q,v))):(f==0&&(l=f=1),h=q.slice()),v=h.length,v<j&&h.unshift(0),r(y,h,j),l==-1&&(j=y.length,l=t(q,y,M,j),l<1&&(f++,r(y,M<j?I:q,j))),j=y.length):l===0&&(f++,y=[0]),_[d++]=f,l&&y[0]?y[j++]=U[T]||0:(y=[U[T]],j=1);while((T++<P||y[0]!==void 0)&&C--)}return _[0]||_.shift(),g.e=c,ls(g,o?a+Hi(g)+1:a)}}();function Vse(e,t){var r,n,s,a,o,l,c=0,d=0,f=e.constructor,h=f.precision;if(Hi(e)>16)throw Error(NM+Hi(e));if(!e.s)return new f(Kc);for(t==null?(Vs=!1,l=h):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(H0(2,d))/Math.LN10*2+5|0,l+=n,r=s=a=new f(Kc),f.precision=l;;){if(s=ls(s.times(e),l),r=r.times(++c),o=a.plus($h(s,r,l)),kf(o.d).slice(0,l)===kf(a.d).slice(0,l)){for(;d--;)a=ls(a.times(a),l);return f.precision=h,t==null?(Vs=!0,ls(a,h)):a}a=o}}function Hi(e){for(var t=e.e*Fs,r=e.d[0];r>=10;r/=10)t++;return t}function WE(e,t,r){if(t>e.LN10.sd())throw Vs=!0,r&&(e.precision=r),Error(Qu+"LN10 precision limit exceeded");return ls(new e(e.LN10),t)}function Gm(e){for(var t="";e--;)t+="0";return t}function Ew(e,t){var r,n,s,a,o,l,c,d,f,h=1,v=10,g=e,_=g.d,y=g.constructor,j=y.precision;if(g.s<1)throw Error(Qu+(g.s?"NaN":"-Infinity"));if(g.eq(Kc))return new y(0);if(t==null?(Vs=!1,d=j):d=t,g.eq(10))return t==null&&(Vs=!0),WE(y,d);if(d+=v,y.precision=d,r=kf(_),n=r.charAt(0),a=Hi(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=kf(g.d),n=r.charAt(0),h++;a=Hi(g),n>1?(g=new y("0."+r),a++):g=new y(n+"."+r.slice(1))}else return c=WE(y,d+2,j).times(a+""),g=Ew(new y(n+"."+r.slice(1)),d-v).plus(c),y.precision=j,t==null?(Vs=!0,ls(g,j)):g;for(l=o=g=$h(g.minus(Kc),g.plus(Kc),d),f=ls(g.times(g),d),s=3;;){if(o=ls(o.times(f),d),c=l.plus($h(o,new y(s),d)),kf(c.d).slice(0,d)===kf(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(WE(y,d+2,j).times(a+""))),l=$h(l,new y(h),d),y.precision=j,t==null?(Vs=!0,ls(l,j)):l;l=c,s+=2}}function QU(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Ny(r/Fs),e.d=[],n=(r+1)%Fs,r<0&&(n+=Fs),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Fs;n<s;)e.d.push(+t.slice(n,n+=Fs));t=t.slice(n),n=Fs-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Vs&&(e.e>uS||e.e<-uS))throw Error(NM+r)}else e.s=0,e.e=0,e.d=[0];return e}function ls(e,t,r){var n,s,a,o,l,c,d,f,h=e.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Fs,s=t,d=h[f=0];else{if(f=Math.ceil((n+1)/Fs),a=h.length,f>=a)return e;for(d=a=h[f],o=1;a>=10;a/=10)o++;n%=Fs,s=n-Fs+o}if(r!==void 0&&(a=H0(10,o-s-1),l=d/a%10|0,c=t<0||h[f+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/H0(10,o-s):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(a=Hi(e),h.length=1,t=t-a-1,h[0]=H0(10,(Fs-t%Fs)%Fs),e.e=Ny(-t/Fs)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,a=1,f--):(h.length=f+1,a=H0(10,Fs-n),h[f]=s>0?(d/H0(10,o-s)%H0(10,s)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==zo&&(h[0]=1,++e.e);break}else{if(h[f]+=a,h[f]!=zo)break;h[f--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Vs&&(e.e>uS||e.e<-uS))throw Error(NM+Hi(e));return e}function qse(e,t){var r,n,s,a,o,l,c,d,f,h,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Vs?ls(t,g):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),s=Math.max(Math.ceil(g/Fs),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){f=c[s]<h[s];break}o=0}for(f&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(a=s;a&&c[--a]===0;)c[a]=zo-1;--c[a],c[s]+=zo}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Vs?ls(t,g):t):new v(0)}function Lg(e,t,r){var n,s=Hi(e),a=kf(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Gm(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Gm(-s-1)+a,r&&(n=r-o)>0&&(a+=Gm(n))):s>=o?(a+=Gm(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+Gm(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=Gm(n))),e.s<0?"-"+a:a}function eV(e,t){if(e.length>t)return e.length=t,!0}function Wse(e){var t,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xg+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return QU(o,a.toString())}else if(typeof a!="string")throw Error(xg+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Yqe.test(a))QU(o,a);else throw Error(xg+a)}if(s.prototype=Tr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Wse,s.config=s.set=Xqe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Xqe(e){if(!e||typeof e!="object")throw Error(Qu+"Object expected");var t,r,n,s=["precision",1,jy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Ny(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(xg+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xg+r+": "+n);return this}var SM=Wse(Kqe);Kc=new SM(1);const as=SM;function Jqe(e){return tWe(e)||eWe(e)||Qqe(e)||Zqe()}function Zqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qqe(e,t){if(e){if(typeof e=="string")return g8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g8(e,t)}}function eWe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function tWe(e){if(Array.isArray(e))return g8(e)}function g8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rWe=function(t){return t},Hse={"@@functional/placeholder":!0},Gse=function(t){return t===Hse},tV=function(t){return function r(){return arguments.length===0||arguments.length===1&&Gse(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},nWe=function e(t,r){return t===1?r:tV(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==Hse}).length;return o>=t?r.apply(void 0,s):e(t-o,tV(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=s.map(function(h){return Gse(h)?c.shift():h});return r.apply(void 0,Jqe(f).concat(c))}))})},aA=function(t){return nWe(t.length,t)},v8=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},aWe=aA(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),sWe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rWe;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},x8=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Kse=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function iWe(e){var t;return e===0?t=1:t=Math.floor(new as(e).abs().log(10).toNumber())+1,t}function oWe(e,t,r){for(var n=new as(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var lWe=aA(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),cWe=aA(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),uWe=aA(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const sA={rangeStep:oWe,getDigitCount:iWe,interpolateNumber:lWe,uninterpolateNumber:cWe,uninterpolateTruncation:uWe};function y8(e){return hWe(e)||fWe(e)||Yse(e)||dWe()}function dWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fWe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hWe(e){if(Array.isArray(e))return b8(e)}function Tw(e,t){return gWe(e)||pWe(e,t)||Yse(e,t)||mWe()}function mWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(e,t){if(e){if(typeof e=="string")return b8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b8(e,t)}}function b8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pWe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function gWe(e){if(Array.isArray(e))return e}function Xse(e){var t=Tw(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function Jse(e,t,r){if(e.lte(0))return new as(0);var n=sA.getDigitCount(e.toNumber()),s=new as(10).pow(n),a=e.div(s),o=n!==1?.05:.1,l=new as(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new as(Math.ceil(c))}function vWe(e,t,r){var n=1,s=new as(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new as(10).pow(sA.getDigitCount(e)-1),s=new as(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new as(Math.floor(e)))}else e===0?s=new as(Math.floor((t-1)/2)):r||(s=new as(Math.floor(e)));var o=Math.floor((t-1)/2),l=sWe(aWe(function(c){return s.add(new as(c-o).mul(n)).toNumber()}),v8);return l(0,t)}function Zse(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new as(0),tickMin:new as(0),tickMax:new as(0)};var a=Jse(new as(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new as(0):(o=new as(e).add(t).div(2),o=o.sub(new as(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new as(t).sub(o).div(a).toNumber()),d=l+c+1;return d>r?Zse(e,t,r,n,s+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new as(l).mul(a)),tickMax:o.add(new as(c).mul(a))})}function xWe(e){var t=Tw(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Xse([r,n]),c=Tw(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(y8(v8(0,s-1).map(function(){return 1/0}))):[].concat(y8(v8(0,s-1).map(function(){return-1/0})),[f]);return r>n?x8(h):h}if(d===f)return vWe(d,s,a);var v=Zse(d,f,o,a),g=v.step,_=v.tickMin,y=v.tickMax,j=sA.rangeStep(_,y.add(new as(.1).mul(g)),g);return r>n?x8(j):j}function yWe(e,t){var r=Tw(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Xse([n,s]),l=Tw(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var f=Math.max(t,2),h=Jse(new as(d).sub(c).div(f-1),a,0),v=[].concat(y8(sA.rangeStep(new as(c),new as(d).sub(new as(.99).mul(h)),h)),[d]);return n>s?x8(v):v}var bWe=Kse(xWe),wWe=Kse(yWe),_We=!0,HE="Invariant failed";function $g(e,t){if(!e){if(_We)throw new Error(HE);var r=typeof t=="function"?t():t,n=r?"".concat(HE,": ").concat(r):HE;throw new Error(n)}}var jWe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}function NWe(e,t){return kWe(e)||AWe(e,t)||CWe(e,t)||SWe()}function SWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CWe(e,t){if(e){if(typeof e=="string")return rV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rV(e,t)}}function rV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function kWe(e){if(Array.isArray(e))return e}function EWe(e,t){if(e==null)return{};var r=TWe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tie(n.key),n)}}function OWe(e,t,r){return t&&nV(e.prototype,t),r&&nV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FWe(e,t,r){return t=fS(t),DWe(e,Qse()?Reflect.construct(t,r||[],fS(e).constructor):t.apply(e,r))}function DWe(e,t){if(t&&(Cx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RWe(e)}function RWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qse=function(){return!!e})()}function fS(e){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fS(e)}function MWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w8(e,t)}function w8(e,t){return w8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w8(e,t)}function eie(e,t,r){return t=tie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tie(e){var t=IWe(e,"string");return Cx(t)=="symbol"?t:t+""}function IWe(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iA=function(e){function t(){return PWe(this,t),FWe(this,t,arguments)}return MWe(t,e),OWe(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,v=EWe(n,jWe),g=an(v,!1);this.props.direction==="x"&&f.type!=="number"&&$g(!1);var _=c.map(function(y){var j=d(y,l),w=j.x,C=j.y,k=j.value,T=j.errorVal;if(!T)return null;var P=[],D,M;if(Array.isArray(T)){var I=NWe(T,2);D=I[0],M=I[1]}else D=M=T;if(a==="vertical"){var B=f.scale,V=C+s,U=V+o,q=V-o,re=B(k-D),H=B(k+M);P.push({x1:H,y1:U,x2:H,y2:q}),P.push({x1:re,y1:V,x2:H,y2:V}),P.push({x1:re,y1:U,x2:re,y2:q})}else if(a==="horizontal"){var X=h.scale,Q=w+s,se=Q-o,te=Q+o,ce=X(k-D),xe=X(k+M);P.push({x1:se,y1:xe,x2:te,y2:xe}),P.push({x1:Q,y1:ce,x2:Q,y2:xe}),P.push({x1:se,y1:ce,x2:te,y2:ce})}return Se.createElement(wa,dS({className:"recharts-errorBar",key:"bar-".concat(P.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},g),P.map(function(de){return Se.createElement("line",dS({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return Se.createElement(wa,{className:"recharts-errorBars"},_)}}])}(Se.Component);eie(iA,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});eie(iA,"displayName","ErrorBar");function Pw(e){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pw(e)}function aV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aV(Object(r),!0).forEach(function(n){LWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LWe(e,t,r){return t=$We(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $We(e){var t=BWe(e,"string");return Pw(t)=="symbol"?t:t+""}function BWe(e,t){if(Pw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rie=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=Vc(r,B1);if(!o)return null;var l=B1.defaultProps,c=l!==void 0?R0(R0({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(f,h){var v=h.item,g=h.props,_=g.sectors||g.data||[];return f.concat(_.map(function(y){return{type:o.props.iconType||v.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):d=(n||[]).map(function(f){var h=f.item,v=h.type.defaultProps,g=v!==void 0?R0(R0({},v),h.props):{},_=g.dataKey,y=g.name,j=g.legendType,w=g.hide;return{inactive:w,dataKey:_,type:c.iconType||j||"square",color:CM(h),value:y||_,payload:g}}),R0(R0(R0({},c),B1.getWithHeight(o,s)),{},{payload:d,item:o})};function Ow(e){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ow(e)}function sV(e){return qWe(e)||VWe(e)||UWe(e)||zWe()}function zWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UWe(e,t){if(e){if(typeof e=="string")return _8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _8(e,t)}}function VWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qWe(e){if(Array.isArray(e))return _8(e)}function _8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iV(Object(r),!0).forEach(function(n){U1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U1(e,t,r){return t=WWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WWe(e){var t=HWe(e,"string");return Ow(t)=="symbol"?t:t+""}function HWe(e,t){if(Ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(e,t,r){return Bn(e)||Bn(t)?r:bo(t)?eu(e,t,r):gn(t)?t(e):r}function N2(e,t,r,n){var s=qqe(e,function(l){return vo(l,t)});if(r==="number"){var a=s.filter(function(l){return Xt(l)||parseFloat(l)});return a.length?[nA(a),rp(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Bn(l)}):s;return o.map(function(l){return bo(l)||l instanceof Date?l:""})}var GWe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var f=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,v=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Kl(h-f)!==Kl(v-h)){var _=[];if(Kl(v-h)===Kl(c[1]-c[0])){g=v;var y=h+c[1]-c[0];_[0]=Math.min(y,(y+f)/2),_[1]=Math.max(y,(y+f)/2)}else{g=f;var j=v+c[1]-c[0];_[0]=Math.min(h,(j+h)/2),_[1]=Math.max(h,(j+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>w[0]&&t<=w[1]||t>=_[0]&&t<=_[1]){o=s[d].index;break}}else{var C=Math.min(f,v),k=Math.max(f,v);if(t>(C+h)/2&&t<=(k+h)/2){o=s[d].index;break}}}else for(var T=0;T<l;T++)if(T===0&&t<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<l-1&&t>(n[T].coordinate+n[T-1].coordinate)/2&&t<=(n[T].coordinate+n[T+1].coordinate)/2||T===l-1&&t>(n[T].coordinate+n[T-1].coordinate)/2){o=n[T].index;break}return o},CM=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?hi(hi({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},KWe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var f=a[l[c]].stackGroups,h=Object.keys(f),v=0,g=h.length;v<g;v++){var _=f[h[v]],y=_.items,j=_.cateAxisId,w=y.filter(function(M){return Lh(M.type).indexOf("Bar")>=0});if(w&&w.length){var C=w[0].type.defaultProps,k=C!==void 0?hi(hi({},C),w[0].props):w[0].props,T=k.barSize,P=k[j];o[P]||(o[P]=[]);var D=Bn(T)?r:T;o[P].push({item:w[0],stackList:w.slice(1),barSize:Bn(D)?void 0:Yl(D,n,0)})}}return o},YWe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Yl(r,s,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var v=!1,g=s/c,_=o.reduce(function(T,P){return T+P.barSize||0},0);_+=(c-1)*d,_>=s&&(_-=(c-1)*d,d=0),_>=s&&g>0&&(v=!0,g*=.9,_=c*g);var y=(s-_)/2>>0,j={offset:y-d,size:0};f=o.reduce(function(T,P){var D={item:P.item,position:{offset:j.offset+j.size+d,size:v?g:P.barSize}},M=[].concat(sV(T),[D]);return j=M[M.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){M.push({item:I,position:j})}),M},h)}else{var w=Yl(n,s,0,!0);s-2*w-(c-1)*d<=0&&(d=0);var C=(s-2*w-(c-1)*d)/c;C>1&&(C>>=0);var k=l===+l?Math.min(C,l):C;f=o.reduce(function(T,P,D){var M=[].concat(sV(T),[{item:P.item,position:{offset:w+(C+d)*D+(C-k)/2,size:k}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){M.push({item:I,position:M[M.length-1].position})}),M},h)}return f},XWe=function(t,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=rie({children:a,legendWidth:c});if(d){var f=s||{},h=f.width,v=f.height,g=d.align,_=d.verticalAlign,y=d.layout;if((y==="vertical"||y==="horizontal"&&_==="middle")&&g!=="center"&&Xt(t[g]))return hi(hi({},t),{},U1({},g,t[g]+(h||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&_!=="middle"&&Xt(t[_]))return hi(hi({},t),{},U1({},_,t[_]+(v||0)))}return t},JWe=function(t,r,n){return Bn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},nie=function(t,r,n,s,a){var o=r.props.children,l=Gu(o,iA).filter(function(d){return JWe(s,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,f){var h=vo(f,n);if(Bn(h))return d;var v=Array.isArray(h)?[nA(h),rp(h)]:[h,h],g=c.reduce(function(_,y){var j=vo(f,y,0),w=v[0]-Math.abs(Array.isArray(j)?j[0]:j),C=v[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(w,_[0]),Math.max(C,_[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},ZWe=function(t,r,n,s,a){var o=r.map(function(l){return nie(t,l,n,a,s)}).filter(function(l){return!Bn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},aie=function(t,r,n,s,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&nie(t,c,d,s)||N2(t,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,h=d.length;f<h;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},sie=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},iie=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Rh=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Kl(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var v=a?a.indexOf(h):h;return{coordinate:s(v)+d,value:h,offset:d}});return f.filter(function(h){return!vy(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,v){return{coordinate:s(h)+d,value:h,index:v,offset:d}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,v){return{coordinate:s(h)+d,value:a?a[h]:h,index:v,offset:d}})},GE=new WeakMap,Rj=function(t,r){if(typeof r!="function")return t;GE.has(t)||GE.set(t,new WeakMap);var n=GE.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},oie=function(t,r,n){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Nw(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:iS(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:j2(),realScaleType:"point"}:a==="category"?{scale:Nw(),realScaleType:"band"}:{scale:iS(),realScaleType:"linear"};if(Rg(s)){var c="scale".concat(UC(s));return{scale:(ZU[c]||j2)(),realScaleType:ZU[c]?c:"point"}}return gn(s)?{scale:s}:{scale:j2(),realScaleType:"point"}},oV=1e-4,lie=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-oV,o=Math.max(s[0],s[1])+oV,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},QWe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},eHe=function(t,r){if(!r||r.length!==2||!Xt(r[0])||!Xt(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Xt(t[0])||t[0]<n)&&(a[0]=n),(!Xt(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},tHe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=vy(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},rHe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=vy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},nHe={sign:tHe,expand:SDe,none:vx,silhouette:CDe,wiggle:ADe,positive:rHe},aHe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=nHe[n],o=NDe().keys(s).value(function(l,c){return+vo(l,c,0)}).order(GP).offset(a);return o(t)},sHe=function(t,r,n,s,a,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,v){var g,_=(g=v.type)!==null&&g!==void 0&&g.defaultProps?hi(hi({},v.type.defaultProps),v.props):v.props,y=_.stackId,j=_.hide;if(j)return h;var w=_[n],C=h[w]||{hasStack:!1,stackGroups:{}};if(bo(y)){var k=C.stackGroups[y]||{numericAxisId:n,cateAxisId:s,items:[]};k.items.push(v),C.hasStack=!0,C.stackGroups[y]=k}else C.stackGroups[xy("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[v]};return hi(hi({},h),{},U1({},w,C))},c),f={};return Object.keys(d).reduce(function(h,v){var g=d[v];if(g.hasStack){var _={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,j){var w=g.stackGroups[j];return hi(hi({},y),{},U1({},j,{numericAxisId:n,cateAxisId:s,items:w.items,stackedData:aHe(t,w.items,a)}))},_)}return hi(hi({},h),{},U1({},v,g))},f)},cie=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var f=bWe(d,a,l);return t.domain([nA(f),rp(f)]),{niceTicks:f}}if(a&&s==="number"){var h=t.domain(),v=wWe(h,a,l);return{niceTicks:v}}return null};function lV(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Bn(s[t.dataKey])){var l=$N(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=vo(s,Bn(o)?t.dataKey:o);return Bn(c)?null:t.scale(c)}var cV=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=vo(o,r.dataKey,r.domain[l]);return Bn(c)?null:r.scale(c)-a/2+s},iHe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},oHe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?hi(hi({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(bo(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lHe=function(t){return t.reduce(function(r,n){return[nA(n.concat([r[0]]).filter(Xt)),rp(n.concat([r[1]]).filter(Xt))]},[1/0,-1/0])},uie=function(t,r,n){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,f){var h=lHe(f.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},uV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j8=function(t,r,n){if(gn(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Xt(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(uV.test(t[0])){var a=+uV.exec(t[0])[1];s[0]=r[0]-a}else gn(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Xt(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(dV.test(t[1])){var o=+dV.exec(t[1])[1];s[1]=r[1]+o}else gn(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},hS=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=eM(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fV=function(t,r,n){return!t||!t.length||Sx(t,eu(n,"type.defaultProps.domain"))?r:t},die=function(t,r){var n=t.type.defaultProps?hi(hi({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,f=n.hide;return hi(hi({},an(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:CM(t),value:vo(r,s),type:c,payload:r,chartType:d,hide:f})};function Fw(e){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fw(e)}function hV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hV(Object(r),!0).forEach(function(n){fie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fie(e,t,r){return t=cHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cHe(e){var t=uHe(e,"string");return Fw(t)=="symbol"?t:t+""}function uHe(e,t){if(Fw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dHe(e,t){return pHe(e)||mHe(e,t)||hHe(e,t)||fHe()}function fHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hHe(e,t){if(e){if(typeof e=="string")return mV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mV(e,t)}}function mV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function pHe(e){if(Array.isArray(e))return e}var mS=Math.PI/180,gHe=function(t){return t*180/Math.PI},_s=function(t,r,n,s){return{x:t+Math.cos(-mS*s)*n,y:r+Math.sin(-mS*s)*n}},hie=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vHe=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,f=Yl(t.cx,o,o/2),h=Yl(t.cy,l,l/2),v=hie(o,l,n),g=Yl(t.innerRadius,v,0),_=Yl(t.outerRadius,v,v*.8),y=Object.keys(r);return y.reduce(function(j,w){var C=r[w],k=C.domain,T=C.reversed,P;if(Bn(C.range))s==="angleAxis"?P=[c,d]:s==="radiusAxis"&&(P=[g,_]),T&&(P=[P[1],P[0]]);else{P=C.range;var D=P,M=dHe(D,2);c=M[0],d=M[1]}var I=oie(C,a),B=I.realScaleType,V=I.scale;V.domain(k).range(P),lie(V);var U=cie(V,Ch(Ch({},C),{},{realScaleType:B})),q=Ch(Ch(Ch({},C),U),{},{range:P,radius:_,realScaleType:B,scale:V,cx:f,cy:h,innerRadius:g,outerRadius:_,startAngle:c,endAngle:d});return Ch(Ch({},j),{},fie({},w,q))},{})},xHe=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},yHe=function(t,r){var n=t.x,s=t.y,a=r.cx,o=r.cy,l=xHe({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:gHe(d),angleInRadian:d}},bHe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},wHe=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},pV=function(t,r){var n=t.x,s=t.y,a=yHe({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=bHe(r),h=f.startAngle,v=f.endAngle,g=l,_;if(h<=v){for(;g>v;)g-=360;for(;g<h;)g+=360;_=g>=h&&g<=v}else{for(;g>h;)g-=360;for(;g<v;)g+=360;_=g>=v&&g<=h}return _?Ch(Ch({},r),{},{radius:o,angle:wHe(g,r)}):null},mie=function(t){return!b.isValidElement(t)&&!gn(t)&&typeof t!="boolean"?t.className:""};function Dw(e){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dw(e)}var _He=["offset"];function jHe(e){return AHe(e)||CHe(e)||SHe(e)||NHe()}function NHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SHe(e,t){if(e){if(typeof e=="string")return N8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N8(e,t)}}function CHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AHe(e){if(Array.isArray(e))return N8(e)}function N8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kHe(e,t){if(e==null)return{};var r=EHe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gV(Object(r),!0).forEach(function(n){THe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function THe(e,t,r){return t=PHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PHe(e){var t=OHe(e,"string");return Dw(t)=="symbol"?t:t+""}function OHe(e,t){if(Dw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}var FHe=function(t){var r=t.value,n=t.formatter,s=Bn(t.children)?r:t.children;return gn(n)?n(s):s},DHe=function(t,r){var n=Kl(r-t),s=Math.min(Math.abs(r-t),360);return n*s},RHe=function(t,r,n){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,f=c.cy,h=c.innerRadius,v=c.outerRadius,g=c.startAngle,_=c.endAngle,y=c.clockWise,j=(h+v)/2,w=DHe(g,_),C=w>=0?1:-1,k,T;s==="insideStart"?(k=g+C*o,T=y):s==="insideEnd"?(k=_-C*o,T=!y):s==="end"&&(k=_+C*o,T=y),T=w<=0?T:!T;var P=_s(d,f,j,k),D=_s(d,f,j,k+(T?1:-1)*359),M="M".concat(P.x,",").concat(P.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(T?0:1,`,
    `).concat(D.x,",").concat(D.y),I=Bn(t.id)?xy("recharts-radial-line-"):t.id;return Se.createElement("text",Rw({},n,{dominantBaseline:"central",className:$n("recharts-radial-bar-label",l)}),Se.createElement("defs",null,Se.createElement("path",{id:I,d:M})),Se.createElement("textPath",{xlinkHref:"#".concat(I)},r))},MHe=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,f=a.startAngle,h=a.endAngle,v=(f+h)/2;if(s==="outside"){var g=_s(o,l,d+n,v),_=g.x,y=g.y;return{x:_,y,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var j=(c+d)/2,w=_s(o,l,j,v),C=w.x,k=w.y;return{x:C,y:k,textAnchor:"middle",verticalAnchor:"middle"}},IHe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,h=f>=0?1:-1,v=h*s,g=h>0?"end":"start",_=h>0?"start":"end",y=d>=0?1:-1,j=y*s,w=y>0?"end":"start",C=y>0?"start":"end";if(a==="top"){var k={x:l+d/2,y:c-h*s,textAnchor:"middle",verticalAnchor:g};return ho(ho({},k),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var T={x:l+d/2,y:c+f+v,textAnchor:"middle",verticalAnchor:_};return ho(ho({},T),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(a==="left"){var P={x:l-j,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return ho(ho({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(a==="right"){var D={x:l+d+j,y:c+f/2,textAnchor:C,verticalAnchor:"middle"};return ho(ho({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:f}:{})}var M=n?{width:d,height:f}:{};return a==="insideLeft"?ho({x:l+j,y:c+f/2,textAnchor:C,verticalAnchor:"middle"},M):a==="insideRight"?ho({x:l+d-j,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},M):a==="insideTop"?ho({x:l+d/2,y:c+v,textAnchor:"middle",verticalAnchor:_},M):a==="insideBottom"?ho({x:l+d/2,y:c+f-v,textAnchor:"middle",verticalAnchor:g},M):a==="insideTopLeft"?ho({x:l+j,y:c+v,textAnchor:C,verticalAnchor:_},M):a==="insideTopRight"?ho({x:l+d-j,y:c+v,textAnchor:w,verticalAnchor:_},M):a==="insideBottomLeft"?ho({x:l+j,y:c+f-v,textAnchor:C,verticalAnchor:g},M):a==="insideBottomRight"?ho({x:l+d-j,y:c+f-v,textAnchor:w,verticalAnchor:g},M):hy(a)&&(Xt(a.x)||sg(a.x))&&(Xt(a.y)||sg(a.y))?ho({x:l+Yl(a.x,d),y:c+Yl(a.y,f),textAnchor:"end",verticalAnchor:"end"},M):ho({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},LHe=function(t){return"cx"in t&&Xt(t.cx)};function qo(e){var t=e.offset,r=t===void 0?5:t,n=kHe(e,_He),s=ho({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,f=s.className,h=f===void 0?"":f,v=s.textBreakAll;if(!a||Bn(l)&&Bn(c)&&!b.isValidElement(d)&&!gn(d))return null;if(b.isValidElement(d))return b.cloneElement(d,s);var g;if(gn(d)){if(g=b.createElement(d,s),b.isValidElement(g))return g}else g=FHe(s);var _=LHe(a),y=an(s,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return RHe(s,g,y);var j=_?MHe(s):IHe(s);return Se.createElement(Ig,Rw({className:$n("recharts-label",h)},y,j,{breakAll:v}),g)}qo.displayName="Label";var pie=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,f=t.outerRadius,h=t.x,v=t.y,g=t.top,_=t.left,y=t.width,j=t.height,w=t.clockWise,C=t.labelViewBox;if(C)return C;if(Xt(y)&&Xt(j)){if(Xt(h)&&Xt(v))return{x:h,y:v,width:y,height:j};if(Xt(g)&&Xt(_))return{x:g,y:_,width:y,height:j}}return Xt(h)&&Xt(v)?{x:h,y:v,width:0,height:0}:Xt(r)&&Xt(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},$He=function(t,r){return t?t===!0?Se.createElement(qo,{key:"label-implicit",viewBox:r}):bo(t)?Se.createElement(qo,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===qo?b.cloneElement(t,{key:"label-implicit",viewBox:r}):Se.createElement(qo,{key:"label-implicit",content:t,viewBox:r}):gn(t)?Se.createElement(qo,{key:"label-implicit",content:t,viewBox:r}):hy(t)?Se.createElement(qo,Rw({viewBox:r},t,{key:"label-implicit"})):null:null},BHe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=pie(t),o=Gu(s,qo).map(function(c,d){return b.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=$He(t.label,r||a);return[l].concat(jHe(o))};qo.parseViewBox=pie;qo.renderCallByParent=BHe;function zHe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var UHe=zHe;const VHe=ga(UHe);function Mw(e){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(e)}var qHe=["valueAccessor"],WHe=["data","dataKey","clockWise","id","textBreakAll"];function HHe(e){return XHe(e)||YHe(e)||KHe(e)||GHe()}function GHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KHe(e,t){if(e){if(typeof e=="string")return S8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S8(e,t)}}function YHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XHe(e){if(Array.isArray(e))return S8(e)}function S8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}function vV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vV(Object(r),!0).forEach(function(n){JHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JHe(e,t,r){return t=ZHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZHe(e){var t=QHe(e,"string");return Mw(t)=="symbol"?t:t+""}function QHe(e,t){if(Mw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yV(e,t){if(e==null)return{};var r=eGe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tGe=function(t){return Array.isArray(t.value)?VHe(t.value):t.value};function Bh(e){var t=e.valueAccessor,r=t===void 0?tGe:t,n=yV(e,qHe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=yV(n,WHe);return!s||!s.length?null:Se.createElement(wa,{className:"recharts-label-list"},s.map(function(f,h){var v=Bn(a)?r(f,h):vo(f&&f.payload,a),g=Bn(l)?{}:{id:"".concat(l,"-").concat(h)};return Se.createElement(qo,pS({},an(f,!0),d,g,{parentViewBox:f.parentViewBox,value:v,textBreakAll:c,viewBox:qo.parseViewBox(Bn(o)?f:xV(xV({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Bh.displayName="LabelList";function rGe(e,t){return e?e===!0?Se.createElement(Bh,{key:"labelList-implicit",data:t}):Se.isValidElement(e)||gn(e)?Se.createElement(Bh,{key:"labelList-implicit",data:t,content:e}):hy(e)?Se.createElement(Bh,pS({data:t},e,{key:"labelList-implicit"})):null:null}function nGe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Gu(n,Bh).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=rGe(e.label,t);return[a].concat(HHe(s))}Bh.renderCallByParent=nGe;function Iw(e){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iw(e)}function C8(){return C8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C8.apply(this,arguments)}function bV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bV(Object(r),!0).forEach(function(n){aGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aGe(e,t,r){return t=sGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sGe(e){var t=iGe(e,"string");return Iw(t)=="symbol"?t:t+""}function iGe(e,t){if(Iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oGe=function(t,r){var n=Kl(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Mj=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,f=c*(l?1:-1)+s,h=Math.asin(c/f)/mS,v=d?a:a+o*h,g=_s(r,n,f,v),_=_s(r,n,s,v),y=d?a-o*h:a,j=_s(r,n,f*Math.cos(h*mS),y);return{center:g,circleTangency:_,lineTangency:j,theta:h}},gie=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=oGe(o,l),d=o+c,f=_s(r,n,a,o),h=_s(r,n,a,d),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var g=_s(r,n,s,o),_=_s(r,n,s,d);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},lGe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,f=t.endAngle,h=Kl(f-d),v=Mj({cx:r,cy:n,radius:a,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),g=v.circleTangency,_=v.lineTangency,y=v.theta,j=Mj({cx:r,cy:n,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),w=j.circleTangency,C=j.lineTangency,k=j.theta,T=c?Math.abs(d-f):Math.abs(d-f)-y-k;if(T<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):gie({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f});var P="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var D=Mj({cx:r,cy:n,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=D.circleTangency,I=D.lineTangency,B=D.theta,V=Mj({cx:r,cy:n,radius:s,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),U=V.circleTangency,q=V.lineTangency,re=V.theta,H=c?Math.abs(d-f):Math.abs(d-f)-B-re;if(H<0&&o===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},cGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vie=function(t){var r=wV(wV({},cGe),t),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,v=r.className;if(o<a||f===h)return null;var g=$n("recharts-sector",v),_=o-a,y=Yl(l,_,0,!0),j;return y>0&&Math.abs(f-h)<360?j=lGe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,_/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):j=gie({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),Se.createElement("path",C8({},an(r,!0),{className:g,d:j,role:"img"}))};function Lw(e){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lw(e)}function A8(){return A8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A8.apply(this,arguments)}function _V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_V(Object(r),!0).forEach(function(n){uGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_V(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uGe(e,t,r){return t=dGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dGe(e){var t=fGe(e,"string");return Lw(t)=="symbol"?t:t+""}function fGe(e,t){if(Lw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NV={curveBasisClosed:hDe,curveBasisOpen:mDe,curveBasis:fDe,curveBumpX:ZFe,curveBumpY:QFe,curveLinearClosed:pDe,curveLinear:qC,curveMonotoneX:gDe,curveMonotoneY:vDe,curveNatural:xDe,curveStep:yDe,curveStepAfter:wDe,curveStepBefore:bDe},Ij=function(t){return t.x===+t.x&&t.y===+t.y},Ob=function(t){return t.x},Fb=function(t){return t.y},hGe=function(t,r){if(gn(t))return t;var n="curve".concat(UC(t));return(n==="curveMonotone"||n==="curveBump")&&r?NV["".concat(n).concat(r==="vertical"?"Y":"X")]:NV[n]||qC},mGe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,f=hGe(n,l),h=d?a.filter(function(y){return Ij(y)}):a,v;if(Array.isArray(o)){var g=d?o.filter(function(y){return Ij(y)}):o,_=h.map(function(y,j){return jV(jV({},y),{},{base:g[j]})});return l==="vertical"?v=Cj().y(Fb).x1(Ob).x0(function(y){return y.base.x}):v=Cj().x(Ob).y1(Fb).y0(function(y){return y.base.y}),v.defined(Ij).curve(f),v(_)}return l==="vertical"&&Xt(o)?v=Cj().y(Fb).x1(Ob).x0(o):Xt(o)?v=Cj().x(Ob).y1(Fb).y0(o):v=dae().x(Ob).y(Fb),v.defined(Ij).curve(f),v(h)},V1=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?mGe(t):s;return b.createElement("path",A8({},an(t,!1),BN(t),{className:$n("recharts-curve",r),d:o,ref:a}))},pGe=Object.getOwnPropertyNames,gGe=Object.getOwnPropertySymbols,vGe=Object.prototype.hasOwnProperty;function SV(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function Lj(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function xGe(e){return e!=null?e[Symbol.toStringTag]:void 0}function CV(e){return pGe(e).concat(gGe(e))}var yGe=Object.hasOwn||function(e,t){return vGe.call(e,t)};function ov(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var bGe="__v",wGe="__o",_Ge="_owner",AV=Object.getOwnPropertyDescriptor,kV=Object.keys;function jGe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function NGe(e,t){return ov(e.getTime(),t.getTime())}function SGe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function CGe(e,t){return e===t}function EV(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),f=!1,h=0;(l=d.next())&&!l.done;){if(s[h]){h++;continue}var v=o.value,g=l.value;if(r.equals(v[0],g[0],c,h,e,t,r)&&r.equals(v[1],g[1],v[0],g[0],e,t,r)){f=s[h]=!0;break}h++}if(!f)return!1;c++}return!0}var AGe=ov;function kGe(e,t,r){var n=kV(e),s=n.length;if(kV(t).length!==s)return!1;for(;s-- >0;)if(!xie(e,t,r,n[s]))return!1;return!0}function Db(e,t,r){var n=CV(e),s=n.length;if(CV(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],!xie(e,t,r,a)||(o=AV(e,a),l=AV(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function EGe(e,t){return ov(e.valueOf(),t.valueOf())}function TGe(e,t){return e.source===t.source&&e.flags===t.flags}function TV(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function PGe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function OGe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xie(e,t,r,n){return(n===_Ge||n===wGe||n===bGe)&&(e.$$typeof||t.$$typeof)?!0:yGe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var FGe="[object Arguments]",DGe="[object Boolean]",RGe="[object Date]",MGe="[object Error]",IGe="[object Map]",LGe="[object Number]",$Ge="[object Object]",BGe="[object RegExp]",zGe="[object Set]",UGe="[object String]",VGe="[object URL]",qGe=Array.isArray,PV=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,OV=Object.assign,WGe=Object.prototype.toString.call.bind(Object.prototype.toString);function HGe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,v=e.areUrlsEqual,g=e.unknownTagComparators;return function(y,j,w){if(y===j)return!0;if(y==null||j==null)return!1;var C=typeof y;if(C!==typeof j)return!1;if(C!=="object")return C==="number"?o(y,j,w):C==="function"?s(y,j,w):!1;var k=y.constructor;if(k!==j.constructor)return!1;if(k===Object)return l(y,j,w);if(qGe(y))return t(y,j,w);if(PV!=null&&PV(y))return h(y,j,w);if(k===Date)return r(y,j,w);if(k===RegExp)return d(y,j,w);if(k===Map)return a(y,j,w);if(k===Set)return f(y,j,w);var T=WGe(y);if(T===RGe)return r(y,j,w);if(T===BGe)return d(y,j,w);if(T===IGe)return a(y,j,w);if(T===zGe)return f(y,j,w);if(T===$Ge)return typeof y.then!="function"&&typeof j.then!="function"&&l(y,j,w);if(T===VGe)return v(y,j,w);if(T===MGe)return n(y,j,w);if(T===FGe)return l(y,j,w);if(T===DGe||T===LGe||T===UGe)return c(y,j,w);if(g){var P=g[T];if(!P){var D=xGe(y);D&&(P=g[D])}if(P)return P(y,j,w)}return!1}}function GGe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Db:jGe,areDatesEqual:NGe,areErrorsEqual:SGe,areFunctionsEqual:CGe,areMapsEqual:n?SV(EV,Db):EV,areNumbersEqual:AGe,areObjectsEqual:n?Db:kGe,arePrimitiveWrappersEqual:EGe,areRegExpsEqual:TGe,areSetsEqual:n?SV(TV,Db):TV,areTypedArraysEqual:n?Db:PGe,areUrlsEqual:OGe,unknownTagComparators:void 0};if(r&&(s=OV({},s,r(s))),t){var a=Lj(s.areArraysEqual),o=Lj(s.areMapsEqual),l=Lj(s.areObjectsEqual),c=Lj(s.areSetsEqual);s=OV({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function KGe(e){return function(t,r,n,s,a,o,l){return e(t,r,l)}}function YGe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,d){var f=n(),h=f.cache,v=h===void 0?t?new WeakMap:void 0:h,g=f.meta;return r(c,d,{cache:v,equals:s,meta:g,strict:a})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,d){return r(c,d,o)}}var XGe=Jp();Jp({strict:!0});Jp({circular:!0});Jp({circular:!0,strict:!0});Jp({createInternalComparator:function(){return ov}});Jp({strict:!0,createInternalComparator:function(){return ov}});Jp({circular:!0,createInternalComparator:function(){return ov}});Jp({circular:!0,createInternalComparator:function(){return ov},strict:!0});function Jp(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=GGe(e),c=HGe(l),d=n?n(c):KGe(c);return YGe({circular:r,comparator:c,createState:s,equals:d,strict:o})}function JGe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function FV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):JGe(s)};requestAnimationFrame(n)}function k8(e){"@babel/helpers - typeof";return k8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k8(e)}function ZGe(e){return rKe(e)||tKe(e)||eKe(e)||QGe()}function QGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eKe(e,t){if(e){if(typeof e=="string")return DV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DV(e,t)}}function DV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rKe(e){if(Array.isArray(e))return e}function nKe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=ZGe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){FV(s.bind(null,d),c);return}s(c),FV(s.bind(null,d));return}k8(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function $w(e){"@babel/helpers - typeof";return $w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$w(e)}function RV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RV(Object(r),!0).forEach(function(n){yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yie(e,t,r){return t=aKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aKe(e){var t=sKe(e,"string");return $w(t)==="symbol"?t:String(t)}function sKe(e,t){if($w(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($w(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iKe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},oKe=function(t){return t},lKe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},S2=function(t,r){return Object.keys(r).reduce(function(n,s){return MV(MV({},n),{},yie({},s,t(s,r[s])))},{})},IV=function(t,r,n){return t.map(function(s){return"".concat(lKe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function cKe(e,t){return fKe(e)||dKe(e,t)||bie(e,t)||uKe()}function uKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function fKe(e){if(Array.isArray(e))return e}function hKe(e){return gKe(e)||pKe(e)||bie(e)||mKe()}function mKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(e,t){if(e){if(typeof e=="string")return E8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E8(e,t)}}function pKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gKe(e){if(Array.isArray(e))return E8(e)}function E8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gS=1e-4,wie=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},_ie=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},LV=function(t,r){return function(n){var s=wie(t,r);return _ie(s,n)}},vKe=function(t,r){return function(n){var s=wie(t,r),a=[].concat(hKe(s.map(function(o,l){return o*l}).slice(1)),[0]);return _ie(a,n)}},$V=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),f=cKe(d,4);s=f[0],a=f[1],o=f[2],l=f[3]}}}var h=LV(s,o),v=LV(a,l),g=vKe(s,o),_=function(w){return w>1?1:w<0?0:w},y=function(w){for(var C=w>1?1:w,k=C,T=0;T<8;++T){var P=h(k)-C,D=g(k);if(Math.abs(P-C)<gS||D<gS)return v(k);k=_(k-P/D)}return v(k)};return y.isStepper=!1,y},xKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(f,h,v){var g=-(f-h)*n,_=v*a,y=v+(g-_)*l/1e3,j=v*l/1e3+f;return Math.abs(j-h)<gS&&Math.abs(y)<gS?[h,0]:[j,y]};return c.isStepper=!0,c.dt=l,c},yKe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $V(s);case"spring":return xKe();default:if(s.split("(")[0]==="cubic-bezier")return $V(s)}return typeof s=="function"?s:null};function Bw(e){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bw(e)}function BV(e){return _Ke(e)||wKe(e)||jie(e)||bKe()}function bKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ke(e){if(Array.isArray(e))return P8(e)}function zV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(r),!0).forEach(function(n){T8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T8(e,t,r){return t=jKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jKe(e){var t=NKe(e,"string");return Bw(t)==="symbol"?t:String(t)}function NKe(e,t){if(Bw(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SKe(e,t){return kKe(e)||AKe(e,t)||jie(e,t)||CKe()}function CKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(e,t){if(e){if(typeof e=="string")return P8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P8(e,t)}}function P8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function kKe(e){if(Array.isArray(e))return e}var vS=function(t,r,n){return t+(r-t)*n},O8=function(t){var r=t.from,n=t.to;return r!==n},EKe=function e(t,r,n){var s=S2(function(a,o){if(O8(o)){var l=t(o.from,o.to,o.velocity),c=SKe(l,2),d=c[0],f=c[1];return sl(sl({},o),{},{from:d,velocity:f})}return o},r);return n<1?S2(function(a,o){return O8(o)?sl(sl({},o),{},{velocity:vS(o.velocity,s[a].velocity,n),from:vS(o.from,s[a].from,n)}):o},r):e(t,s,n-1)};const TKe=function(e,t,r,n,s){var a=iKe(e,t),o=a.reduce(function(j,w){return sl(sl({},j),{},T8({},w,[e[w],t[w]]))},{}),l=a.reduce(function(j,w){return sl(sl({},j),{},T8({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,d,f,h=function(){return null},v=function(){return S2(function(w,C){return C.from},l)},g=function(){return!Object.values(l).filter(O8).length},_=function(w){d||(d=w);var C=w-d,k=C/r.dt;l=EKe(r,l,k),s(sl(sl(sl({},e),t),v())),d=w,g()||(c=requestAnimationFrame(h))},y=function(w){f||(f=w);var C=(w-f)/n,k=S2(function(P,D){return vS.apply(void 0,BV(D).concat([r(C)]))},o);if(s(sl(sl(sl({},e),t),k)),C<1)c=requestAnimationFrame(h);else{var T=S2(function(P,D){return vS.apply(void 0,BV(D).concat([r(1)]))},o);s(sl(sl(sl({},e),t),T))}};return h=r.isStepper?_:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}var PKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OKe(e,t){if(e==null)return{};var r=FKe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FKe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function KE(e){return IKe(e)||MKe(e)||RKe(e)||DKe()}function DKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RKe(e,t){if(e){if(typeof e=="string")return F8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(e,t)}}function MKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IKe(e){if(Array.isArray(e))return F8(e)}function F8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UV(Object(r),!0).forEach(function(n){Jb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jb(e,t,r){return t=Nie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nie(n.key),n)}}function $Ke(e,t,r){return t&&VV(e.prototype,t),r&&VV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nie(e){var t=BKe(e,"string");return Ax(t)==="symbol"?t:String(t)}function BKe(e,t){if(Ax(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ax(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D8(e,t)}function D8(e,t){return D8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D8(e,t)}function UKe(e){var t=VKe();return function(){var n=xS(e),s;if(t){var a=xS(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return R8(this,s)}}function R8(e,t){if(t&&(Ax(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M8(e)}function M8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xS(e){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xS(e)}var oA=function(e){zKe(r,e);var t=UKe(r);function r(n,s){var a;LKe(this,r),a=t.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,h=o.steps,v=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(M8(a)),a.changeStyle=a.changeStyle.bind(M8(a)),!l||g<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:f}),R8(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof v=="function")return a.state={style:d},R8(a);a.state={style:c?Jb({},c,d):d}}else a.state={style:{}};return a}return $Ke(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,f=a.to,h=a.from,v=this.state.style;if(l){if(!o){var g={style:c?Jb({},c,f):f};this.state&&v&&(c&&v[c]!==f||!c&&v!==f)&&this.setState(g);return}if(!(XGe(s.to,f)&&s.canBegin&&s.isActive)){var _=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=_||d?h:s.to;if(this.state&&v){var j={style:c?Jb({},c,y):y};(c&&v[c]!==y||!c&&v!==y)&&this.setState(j)}this.runAnimation(bd(bd({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,d=s.easing,f=s.begin,h=s.onAnimationEnd,v=s.onAnimationStart,g=TKe(o,l,yKe(d),c,this.changeStyle),_=function(){a.stopJSAnimation=g()};this.manager.start([v,f,_,c,h])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],f=d.style,h=d.duration,v=h===void 0?0:h,g=function(y,j,w){if(w===0)return y;var C=j.duration,k=j.easing,T=k===void 0?"ease":k,P=j.style,D=j.properties,M=j.onAnimationEnd,I=w>0?o[w-1]:j,B=D||Object.keys(P);if(typeof T=="function"||T==="spring")return[].concat(KE(y),[a.runJSAnimation.bind(a,{from:I.style,to:P,duration:C,easing:T}),C]);var V=IV(B,C,T),U=bd(bd(bd({},I.style),P),{},{transition:V});return[].concat(KE(y),[U,C,M]).filter(oKe)};return this.manager.start([c].concat(KE(o.reduce(g,[f,Math.max(v,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=nKe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,f=s.onAnimationStart,h=s.onAnimationEnd,v=s.steps,g=s.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(s);return}if(v.length>1){this.runStepAnimation(s);return}var y=l?Jb({},l,c):c,j=IV(Object.keys(y),o,d);_.start([f,a,bd(bd({},y),{},{transition:j}),o,h])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=OKe(s,PKe),d=b.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||d===0||o<=0)return a;var h=function(g){var _=g.props,y=_.style,j=y===void 0?{}:y,w=_.className,C=b.cloneElement(g,bd(bd({},c),{},{style:bd(bd({},j),f),className:w}));return C};return d===1?h(b.Children.only(a)):Se.createElement("div",null,b.Children.map(a,function(v){return h(v)}))}}]),r}(b.PureComponent);oA.displayName="Animate";oA.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oA.propTypes={from:rn.oneOfType([rn.object,rn.string]),to:rn.oneOfType([rn.object,rn.string]),attributeName:rn.string,duration:rn.number,begin:rn.number,easing:rn.oneOfType([rn.string,rn.func]),steps:rn.arrayOf(rn.shape({duration:rn.number.isRequired,style:rn.object.isRequired,easing:rn.oneOfType([rn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rn.func]),properties:rn.arrayOf("string"),onAnimationEnd:rn.func})),children:rn.oneOfType([rn.node,rn.func]),isActive:rn.bool,canBegin:rn.bool,onAnimationEnd:rn.func,shouldReAnimate:rn.bool,onAnimationStart:rn.func,onAnimationReStart:rn.func};const Bg=oA;function zw(e){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zw(e)}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yS.apply(this,arguments)}function qKe(e,t){return KKe(e)||GKe(e,t)||HKe(e,t)||WKe()}function WKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HKe(e,t){if(e){if(typeof e=="string")return qV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qV(e,t)}}function qV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function KKe(e){if(Array.isArray(e))return e}function WV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WV(Object(r),!0).forEach(function(n){YKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YKe(e,t,r){return t=XKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XKe(e){var t=JKe(e,"string");return zw(t)=="symbol"?t:t+""}function JKe(e,t){if(zw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GV=function(t,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],v=0,g=4;v<g;v++)h[v]=a[v]>o?o:a[v];f="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(r)),f+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*h[1])),f+="L ".concat(t+n,",").concat(r+s-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+n-c*h[2],",").concat(r+s)),f+="L ".concat(t+c*h[3],",").concat(r+s),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-l*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);f="M ".concat(t,",").concat(r+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+c*_,",").concat(r,`
            L `).concat(t+n-c*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*_,`
            L `).concat(t+n,",").concat(r+s-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n-c*_,",").concat(r+s,`
            L `).concat(t+c*_,",").concat(r+s,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t,",").concat(r+s-l*_," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},ZKe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),f=Math.max(a,a+l),h=Math.min(o,o+c),v=Math.max(o,o+c);return n>=d&&n<=f&&s>=h&&s<=v}return!1},QKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AM=function(t){var r=HV(HV({},QKe),t),n=b.useRef(),s=b.useState(-1),a=qKe(s,2),o=a[0],l=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,d=r.y,f=r.width,h=r.height,v=r.radius,g=r.className,_=r.animationEasing,y=r.animationDuration,j=r.animationBegin,w=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var k=$n("recharts-rectangle",g);return C?Se.createElement(Bg,{canBegin:o>0,from:{width:f,height:h,x:c,y:d},to:{width:f,height:h,x:c,y:d},duration:y,animationEasing:_,isActive:C},function(T){var P=T.width,D=T.height,M=T.x,I=T.y;return Se.createElement(Bg,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,isActive:w,easing:_},Se.createElement("path",yS({},an(r,!0),{className:k,d:GV(M,I,P,D,v),ref:n})))}):Se.createElement("path",yS({},an(r,!0),{className:k,d:GV(c,d,f,h,v)}))},eYe=["points","className","baseLinePoints","connectNulls"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function tYe(e,t){if(e==null)return{};var r=rYe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KV(e){return iYe(e)||sYe(e)||aYe(e)||nYe()}function nYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aYe(e,t){if(e){if(typeof e=="string")return I8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I8(e,t)}}function sYe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iYe(e){if(Array.isArray(e))return I8(e)}function I8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YV=function(t){return t&&t.x===+t.x&&t.y===+t.y},oYe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){YV(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YV(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},C2=function(t,r){var n=oYe(t);r&&(n=[n.reduce(function(a,o){return[].concat(KV(a),KV(o))},[])]);var s=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},lYe=function(t,r,n){var s=C2(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(C2(r.reverse(),n).slice(1))},cYe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,a=t.connectNulls,o=tYe(t,eYe);if(!r||!r.length)return null;var l=$n("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=lYe(r,s,a);return Se.createElement("g",{className:l},Se.createElement("path",_1({},an(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Se.createElement("path",_1({},an(o,!0),{fill:"none",d:C2(r,a)})):null,c?Se.createElement("path",_1({},an(o,!0),{fill:"none",d:C2(s,a)})):null)}var f=C2(r,a);return Se.createElement("path",_1({},an(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function L8(){return L8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L8.apply(this,arguments)}var lA=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,o=$n("recharts-dot",a);return r===+r&&n===+n&&s===+s?b.createElement("circle",L8({},an(t,!1),BN(t),{className:o,cx:r,cy:n,r:s})):null};function Uw(e){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uw(e)}var uYe=["x","y","top","left","width","height","className"];function $8(){return $8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$8.apply(this,arguments)}function XV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XV(Object(r),!0).forEach(function(n){fYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fYe(e,t,r){return t=hYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hYe(e){var t=mYe(e,"string");return Uw(t)=="symbol"?t:t+""}function mYe(e,t){if(Uw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pYe(e,t){if(e==null)return{};var r=gYe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vYe=function(t,r,n,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},xYe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,f=t.width,h=f===void 0?0:f,v=t.height,g=v===void 0?0:v,_=t.className,y=pYe(t,uYe),j=dYe({x:n,y:a,top:l,left:d,width:h,height:g},y);return!Xt(n)||!Xt(a)||!Xt(h)||!Xt(g)||!Xt(l)||!Xt(d)?null:Se.createElement("path",$8({},an(j,!0),{className:$n("recharts-cross",_),d:vYe(n,a,h,g,l,d)}))},yYe=rA,bYe=$se,wYe=Qf;function _Ye(e,t){return e&&e.length?yYe(e,wYe(t),bYe):void 0}var jYe=_Ye;const NYe=ga(jYe);var SYe=rA,CYe=Qf,AYe=Bse;function kYe(e,t){return e&&e.length?SYe(e,CYe(t),AYe):void 0}var EYe=kYe;const TYe=ga(EYe);var PYe=["cx","cy","angle","ticks","axisLine"],OYe=["ticks","tick","angle","tickFormatter","stroke"];function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A2.apply(this,arguments)}function JV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function M0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JV(Object(r),!0).forEach(function(n){cA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t){if(e==null)return{};var r=FYe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cie(n.key),n)}}function RYe(e,t,r){return t&&QV(e.prototype,t),r&&QV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MYe(e,t,r){return t=bS(t),IYe(e,Sie()?Reflect.construct(t,r||[],bS(e).constructor):t.apply(e,r))}function IYe(e,t){if(t&&(kx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LYe(e)}function LYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sie=function(){return!!e})()}function bS(e){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bS(e)}function $Ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B8(e,t)}function B8(e,t){return B8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B8(e,t)}function cA(e,t,r){return t=Cie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cie(e){var t=BYe(e,"string");return kx(t)=="symbol"?t:t+""}function BYe(e,t){if(kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uA=function(e){function t(){return DYe(this,t),MYe(this,t,arguments)}return $Ye(t,e),RYe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return _s(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=NYe(l,function(f){return f.coordinate||0}),d=TYe(l,function(f){return f.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=ZV(n,PYe),f=l.reduce(function(_,y){return[Math.min(_[0],y.coordinate),Math.max(_[1],y.coordinate)]},[1/0,-1/0]),h=_s(s,a,f[0],o),v=_s(s,a,f[1],o),g=M0(M0(M0({},an(d,!1)),{},{fill:"none"},an(c,!1)),{},{x1:h.x,y1:h.y,x2:v.x,y2:v.y});return Se.createElement("line",A2({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,f=ZV(s,OYe),h=this.getTickTextAnchor(),v=an(f,!1),g=an(o,!1),_=a.map(function(y,j){var w=n.getTickValueCoord(y),C=M0(M0(M0(M0({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},v),{},{stroke:"none",fill:d},g),{},{index:j},w),{},{payload:y});return Se.createElement(wa,A2({className:$n("recharts-polar-radius-axis-tick",mie(o)),key:"tick-".concat(y.coordinate)},Mg(n.props,y,j)),t.renderTickItem(o,C,c?c(y.value,j):y.value))});return Se.createElement(wa,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,o=n.tick;return!s||!s.length?null:Se.createElement(wa,{className:$n("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),qo.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return Se.isValidElement(n)?o=Se.cloneElement(n,s):gn(n)?o=n(s):o=Se.createElement(Ig,A2({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(b.PureComponent);cA(uA,"displayName","PolarRadiusAxis");cA(uA,"axisType","radiusAxis");cA(uA,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eq(Object(r),!0).forEach(function(n){dA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kie(n.key),n)}}function UYe(e,t,r){return t&&tq(e.prototype,t),r&&tq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VYe(e,t,r){return t=wS(t),qYe(e,Aie()?Reflect.construct(t,r||[],wS(e).constructor):t.apply(e,r))}function qYe(e,t){if(t&&(Ex(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WYe(e)}function WYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aie=function(){return!!e})()}function wS(e){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wS(e)}function HYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z8(e,t)}function z8(e,t){return z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z8(e,t)}function dA(e,t,r){return t=kie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=GYe(e,"string");return Ex(t)=="symbol"?t:t+""}function GYe(e,t){if(Ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KYe=Math.PI/180,rq=1e-5,fA=function(e){function t(){return zYe(this,t),VYe(this,t,arguments)}return HYe(t,e),UYe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,f=d||8,h=_s(a,o,l,n.coordinate),v=_s(a,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*KYe),o;return a>rq?o=s==="outer"?"start":"end":a<-rq?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=I0(I0({},an(this.props,!1)),{},{fill:"none"},an(l,!1));if(c==="circle")return Se.createElement(lA,Z0({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(v){return _s(s,a,o,v.coordinate)});return Se.createElement(cYe,Z0({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,f=an(this.props,!1),h=an(o,!1),v=I0(I0({},f),{},{fill:"none"},an(l,!1)),g=a.map(function(_,y){var j=n.getTickLineCoord(_),w=n.getTickTextAnchor(_),C=I0(I0(I0({textAnchor:w},f),{},{stroke:"none",fill:d},h),{},{index:y,payload:_,x:j.x2,y:j.y2});return Se.createElement(wa,Z0({className:$n("recharts-polar-angle-axis-tick",mie(o)),key:"tick-".concat(_.coordinate)},Mg(n.props,_,y)),l&&Se.createElement("line",Z0({className:"recharts-polar-angle-axis-tick-line"},v,j)),o&&t.renderTickItem(o,C,c?c(_.value,y):_.value))});return Se.createElement(wa,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!s||!s.length?null:Se.createElement(wa,{className:$n("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var o;return Se.isValidElement(n)?o=Se.cloneElement(n,s):gn(n)?o=n(s):o=Se.createElement(Ig,Z0({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(b.PureComponent);dA(fA,"displayName","PolarAngleAxis");dA(fA,"axisType","angleAxis");dA(fA,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YYe=Rae,XYe=YYe(Object.getPrototypeOf,Object),JYe=XYe,ZYe=rm,QYe=JYe,eXe=nm,tXe="[object Object]",rXe=Function.prototype,nXe=Object.prototype,Eie=rXe.toString,aXe=nXe.hasOwnProperty,sXe=Eie.call(Object);function iXe(e){if(!eXe(e)||ZYe(e)!=tXe)return!1;var t=QYe(e);if(t===null)return!0;var r=aXe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Eie.call(r)==sXe}var oXe=iXe;const lXe=ga(oXe);var cXe=rm,uXe=nm,dXe="[object Boolean]";function fXe(e){return e===!0||e===!1||uXe(e)&&cXe(e)==dXe}var hXe=fXe;const mXe=ga(hXe);function Vw(e){"@babel/helpers - typeof";return Vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vw(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function pXe(e,t){return yXe(e)||xXe(e,t)||vXe(e,t)||gXe()}function gXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vXe(e,t){if(e){if(typeof e=="string")return nq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nq(e,t)}}function nq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xXe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function yXe(e){if(Array.isArray(e))return e}function aq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aq(Object(r),!0).forEach(function(n){bXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bXe(e,t,r){return t=wXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wXe(e){var t=_Xe(e,"string");return Vw(t)=="symbol"?t:t+""}function _Xe(e,t){if(Vw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iq=function(t,r,n,s,a){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},jXe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NXe=function(t){var r=sq(sq({},jXe),t),n=b.useRef(),s=b.useState(-1),a=pXe(s,2),o=a[0],l=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,h=r.lowerWidth,v=r.height,g=r.className,_=r.animationEasing,y=r.animationDuration,j=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||v!==+v||f===0&&h===0||v===0)return null;var C=$n("recharts-trapezoid",g);return w?Se.createElement(Bg,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:d},to:{upperWidth:f,lowerWidth:h,height:v,x:c,y:d},duration:y,animationEasing:_,isActive:w},function(k){var T=k.upperWidth,P=k.lowerWidth,D=k.height,M=k.x,I=k.y;return Se.createElement(Bg,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,easing:_},Se.createElement("path",_S({},an(r,!0),{className:C,d:iq(M,I,T,P,D),ref:n})))}):Se.createElement("g",null,Se.createElement("path",_S({},an(r,!0),{className:C,d:iq(c,d,f,h,v)})))},SXe=["option","shapeType","propTransformer","activeClassName","isActive"];function qw(e){"@babel/helpers - typeof";return qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qw(e)}function CXe(e,t){if(e==null)return{};var r=AXe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oq(Object(r),!0).forEach(function(n){kXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kXe(e,t,r){return t=EXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EXe(e){var t=TXe(e,"string");return qw(t)=="symbol"?t:t+""}function TXe(e,t){if(qw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PXe(e,t){return jS(jS({},t),e)}function OXe(e,t){return e==="symbols"}function lq(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Se.createElement(AM,r);case"trapezoid":return Se.createElement(NXe,r);case"sector":return Se.createElement(vie,r);case"symbols":if(OXe(t))return Se.createElement(HR,r);break;default:return null}}function FXe(e){return b.isValidElement(e)?e.props:e}function Tie(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?PXe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=CXe(e,SXe),d;if(b.isValidElement(t))d=b.cloneElement(t,jS(jS({},c),FXe(t)));else if(gn(t))d=t(c);else if(lXe(t)&&!mXe(t)){var f=s(t,c);d=Se.createElement(lq,{shapeType:r,elementProps:f})}else{var h=c;d=Se.createElement(lq,{shapeType:r,elementProps:h})}return l?Se.createElement(wa,{className:o},d):d}function hA(e,t){return t!=null&&"trapezoids"in e.props}function mA(e,t){return t!=null&&"sectors"in e.props}function Ww(e,t){return t!=null&&"points"in e.props}function DXe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function RXe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function MXe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function IXe(e,t){var r;return hA(e,t)?r=DXe:mA(e,t)?r=RXe:Ww(e,t)&&(r=MXe),r}function LXe(e,t){var r;return hA(e,t)?r="trapezoids":mA(e,t)?r="sectors":Ww(e,t)&&(r="points"),r}function $Xe(e,t){if(hA(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mA(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ww(e,t)?t.payload:{}}function BXe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=LXe(r,t),a=$Xe(r,t),o=n.filter(function(c,d){var f=Sx(a,c),h=r.props[s].filter(function(_){var y=IXe(r,t);return y(_,t)}),v=r.props[s].indexOf(h[h.length-1]),g=d===v;return f&&g}),l=n.indexOf(o[o.length-1]);return l}var S4;function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(r),!0).forEach(function(n){$u(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oie(n.key),n)}}function UXe(e,t,r){return t&&uq(e.prototype,t),r&&uq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VXe(e,t,r){return t=NS(t),qXe(e,Pie()?Reflect.construct(t,r||[],NS(e).constructor):t.apply(e,r))}function qXe(e,t){if(t&&(Tx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WXe(e)}function WXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pie=function(){return!!e})()}function NS(e){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NS(e)}function HXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U8(e,t)}function U8(e,t){return U8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U8(e,t)}function $u(e,t,r){return t=Oie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=GXe(e,"string");return Tx(t)=="symbol"?t:t+""}function GXe(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sm=function(e){function t(r){var n;return zXe(this,t),n=VXe(this,t,[r]),$u(n,"pieRef",null),$u(n,"sectorRefs",[]),$u(n,"id",xy("recharts-pie-")),$u(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),gn(s)&&s()}),$u(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),gn(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return HXe(t,e),UXe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,f=an(this.props,!1),h=an(o,!1),v=an(l,!1),g=o&&o.offsetRadius||20,_=n.map(function(y,j){var w=(y.startAngle+y.endAngle)/2,C=_s(y.cx,y.cy,y.outerRadius+g,w),k=vs(vs(vs(vs({},f),y),{},{stroke:"none"},h),{},{index:j,textAnchor:t.getTextAnchor(C.x,y.cx)},C),T=vs(vs(vs(vs({},f),y),{},{fill:"none",stroke:y.fill},v),{},{index:j,points:[_s(y.cx,y.cy,y.outerRadius,w),C]}),P=c;return Bn(c)&&Bn(d)?P="value":Bn(c)&&(P=d),Se.createElement(wa,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},l&&t.renderLabelLineItem(l,T,"line"),t.renderLabelItem(o,k,vo(y,P)))});return Se.createElement(wa,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var h=s.isActiveIndex(f),v=c&&s.hasActiveIndex()?c:null,g=h?o:v,_=vs(vs({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Se.createElement(wa,j1({ref:function(j){j&&!s.sectorRefs.includes(j)&&s.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Mg(s.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),Se.createElement(Tie,j1({option:g,isActive:h,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state,v=h.prevSectors,g=h.prevIsAnimationActive;return Se.createElement(Bg,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var y=_.t,j=[],w=a&&a[0],C=w.startAngle;return a.forEach(function(k,T){var P=v&&v[T],D=T>0?eu(k,"paddingAngle",0):0;if(P){var M=gc(P.endAngle-P.startAngle,k.endAngle-k.startAngle),I=vs(vs({},k),{},{startAngle:C+D,endAngle:C+M(y)+D});j.push(I),C=I.endAngle}else{var B=k.endAngle,V=k.startAngle,U=gc(0,B-V),q=U(y),re=vs(vs({},k),{},{startAngle:C+D,endAngle:C+q+D});j.push(re),C=re.endAngle}}),Se.createElement(wa,null,n.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Sx(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,f=s.cy,h=s.innerRadius,v=s.outerRadius,g=s.isAnimationActive,_=this.state.isAnimationFinished;if(a||!o||!o.length||!Xt(d)||!Xt(f)||!Xt(h)||!Xt(v))return null;var y=$n("recharts-pie",l);return Se.createElement(wa,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),qo.renderCallByParent(this.props,null,!1),(!g||_)&&Bh.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(Se.isValidElement(n))return Se.cloneElement(n,s);if(gn(n))return n(s);var o=$n("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Se.createElement(V1,j1({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,a){if(Se.isValidElement(n))return Se.cloneElement(n,s);var o=a;if(gn(n)&&(o=n(s),Se.isValidElement(o)))return o;var l=$n("recharts-pie-label-text",typeof n!="boolean"&&!gn(n)?n.className:"");return Se.createElement(Ig,j1({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);S4=sm;$u(sm,"displayName","Pie");$u(sm,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Lf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$u(sm,"parseDeltaAngle",function(e,t){var r=Kl(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$u(sm,"getRealPieData",function(e){var t=e.data,r=e.children,n=an(e,!1),s=Gu(r,YC);return t&&t.length?t.map(function(a,o){return vs(vs(vs({payload:a},n),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return vs(vs({},n),a.props)}):[]});$u(sm,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,a=t.height,o=hie(s,a),l=n+Yl(e.cx,s,s/2),c=r+Yl(e.cy,a,a/2),d=Yl(e.innerRadius,o,0),f=Yl(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}});$u(sm,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?vs(vs({},t.type.defaultProps),t.props):t.props,s=S4.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,f=n.nameKey,h=n.valueKey,v=n.tooltipType,g=Math.abs(n.minAngle),_=S4.parseCoordinateOfPie(n,r),y=S4.parseDeltaAngle(o,l),j=Math.abs(y),w=d;Bn(d)&&Bn(h)?(Dd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Bn(d)&&(Dd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var C=s.filter(function(I){return vo(I,w,0)!==0}).length,k=(j>=360?C:C-1)*c,T=j-C*g-k,P=s.reduce(function(I,B){var V=vo(B,w,0);return I+(Xt(V)?V:0)},0),D;if(P>0){var M;D=s.map(function(I,B){var V=vo(I,w,0),U=vo(I,f,B),q=(Xt(V)?V:0)/P,re;B?re=M.endAngle+Kl(y)*c*(V!==0?1:0):re=o;var H=re+Kl(y)*((V!==0?g:0)+q*T),X=(re+H)/2,Q=(_.innerRadius+_.outerRadius)/2,se=[{name:U,value:V,payload:I,dataKey:w,type:v}],te=_s(_.cx,_.cy,Q,X);return M=vs(vs(vs({percent:q,cornerRadius:a,name:U,tooltipPayload:se,midAngle:X,middleRadius:Q,tooltipPosition:te},I),_),{},{value:vo(I,w),startAngle:re,endAngle:H,payload:I,paddingAngle:Kl(y)*c}),M})}return vs(vs({},_),{},{sectors:D,data:s})});var KXe=Math.ceil,YXe=Math.max;function XXe(e,t,r,n){for(var s=-1,a=YXe(KXe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var JXe=XXe,ZXe=ese,dq=1/0,QXe=17976931348623157e292;function eJe(e){if(!e)return e===0?e:0;if(e=ZXe(e),e===dq||e===-dq){var t=e<0?-1:1;return t*QXe}return e===e?e:0}var Fie=eJe,tJe=JXe,rJe=KC,YE=Fie;function nJe(e){return function(t,r,n){return n&&typeof n!="number"&&rJe(t,r,n)&&(r=n=void 0),t=YE(t),r===void 0?(r=t,t=0):r=YE(r),n=n===void 0?t<r?1:-1:YE(n),tJe(t,r,n,e)}}var aJe=nJe,sJe=aJe,iJe=sJe(),oJe=iJe;const SS=ga(oJe);function Hw(e){"@babel/helpers - typeof";return Hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hw(e)}function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(r),!0).forEach(function(n){Die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Die(e,t,r){return t=lJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJe(e){var t=cJe(e,"string");return Hw(t)=="symbol"?t:t+""}function cJe(e,t){if(Hw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uJe=["Webkit","Moz","O","ms"],dJe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=uJe.reduce(function(a,o){return hq(hq({},a),{},Die({},o+n,r))},{});return s[t]=r,s};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CS.apply(this,arguments)}function mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mq(Object(r),!0).forEach(function(n){Bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mie(n.key),n)}}function hJe(e,t,r){return t&&pq(e.prototype,t),r&&pq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJe(e,t,r){return t=AS(t),pJe(e,Rie()?Reflect.construct(t,r||[],AS(e).constructor):t.apply(e,r))}function pJe(e,t){if(t&&(Px(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJe(e)}function gJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rie=function(){return!!e})()}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AS(e)}function vJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V8(e,t)}function V8(e,t){return V8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V8(e,t)}function Bc(e,t,r){return t=Mie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mie(e){var t=xJe(e,"string");return Px(t)=="symbol"?t:t+""}function xJe(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yJe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=j2().domain(SS(0,c)).range([a,a+o-l]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:f}},gq=function(t){return t.changedTouches&&!!t.changedTouches.length},Ox=function(e){function t(r){var n;return fJe(this,t),n=mJe(this,t,[r]),Bc(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Bc(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Bc(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Bc(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Bc(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Bc(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Bc(n,"handleSlideDragStart",function(s){var a=gq(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vJe(t,e),hJe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,h=Math.min(s,a),v=Math.max(s,a),g=t.getIndexInRange(o,h),_=t.getIndexInRange(o,v);return{startIndex:g-g%c,endIndex:_===f?f:_-_%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=vo(a[n],l,n);return gn(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,f=c.width,h=c.travellerWidth,v=c.startIndex,g=c.endIndex,_=c.onChange,y=n.pageX-a;y>0?y=Math.min(y,d+f-h-l,d+f-h-o):y<0&&(y=Math.max(y,d-o,d-l));var j=this.getIndex({startX:o+y,endX:l+y});(j.startIndex!==v||j.endIndex!==g)&&_&&_(j),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=gq(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],f=this.props,h=f.x,v=f.width,g=f.travellerWidth,_=f.onChange,y=f.gap,j=f.data,w={startX:this.state.startX,endX:this.state.endX},C=n.pageX-a;C>0?C=Math.min(C,h+v-g-d):C<0&&(C=Math.max(C,h-d)),w[o]=d+C;var k=this.getIndex(w),T=k.startIndex,P=k.endIndex,D=function(){var I=j.length-1;return o==="startX"&&(l>c?T%y===0:P%y===0)||l<c&&P===I||o==="endX"&&(l>c?P%y===0:T%y===0)||l>c&&P===I};this.setState(Bc(Bc({},o,d+C),"brushMoveStartX",n.pageX),function(){_&&D()&&_(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[s],h=l.indexOf(f);if(h!==-1){var v=h+n;if(!(v===-1||v>=l.length)){var g=l[v];s==="startX"&&g>=d||s==="endX"&&g<=c||this.setState(Bc({},s,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Se.createElement("rect",{stroke:d,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,f=n.padding,h=b.Children.only(d);return h?Se.cloneElement(h,{x:s,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,h=c.height,v=c.traveller,g=c.ariaLabel,_=c.data,y=c.startIndex,j=c.endIndex,w=Math.max(n,this.props.x),C=XE(XE({},an(this.props,!1)),{},{x:w,y:d,width:f,height:h}),k=g||"Min value: ".concat((a=_[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=_[j])===null||o===void 0?void 0:o.name);return Se.createElement(wa,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,C))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,f=Math.min(n,s)+d,h=Math.max(Math.abs(s-n)-d,0);return Se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,f=this.state,h=f.startX,v=f.endX,g=5,_={pointerEvents:"none",fill:d};return Se.createElement(wa,{className:"recharts-brush-texts"},Se.createElement(Ig,CS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,v)-g,y:o+l/2},_),this.getTextOfTick(s)),Se.createElement(Ig,CS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,v)+c+g,y:o+l/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,f=n.height,h=n.alwaysShowText,v=this.state,g=v.startX,_=v.endX,y=v.isTextActive,j=v.isSlideMoving,w=v.isTravellerMoving,C=v.isTravellerFocused;if(!s||!s.length||!Xt(l)||!Xt(c)||!Xt(d)||!Xt(f)||d<=0||f<=0)return null;var k=$n("recharts-brush",a),T=Se.Children.count(o)===1,P=dJe("userSelect","none");return Se.createElement(wa,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,_),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(_,"endX"),(y||j||w||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return Se.createElement(Se.Fragment,null,Se.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),Se.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),Se.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return Se.isValidElement(n)?a=Se.cloneElement(n,s):gn(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,f=n.startIndex,h=n.endIndex;if(a!==s.prevData||d!==s.prevUpdateId)return XE({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?yJe({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var v=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(b.PureComponent);Bc(Ox,"displayName","Brush");Bc(Ox,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bJe=QR;function wJe(e,t){var r;return bJe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var _Je=wJe,jJe=Aae,NJe=Qf,SJe=_Je,CJe=Pc,AJe=KC;function kJe(e,t,r){var n=CJe(e)?jJe:SJe;return r&&AJe(e,t,r)&&(t=void 0),n(e,NJe(t))}var EJe=kJe;const TJe=ga(EJe);var Bf=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},vq=Yae;function PJe(e,t,r){t=="__proto__"&&vq?vq(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var OJe=PJe,FJe=OJe,DJe=Gae,RJe=Qf;function MJe(e,t){var r={};return t=RJe(t),DJe(e,function(n,s,a){FJe(r,s,t(n,s,a))}),r}var IJe=MJe;const LJe=ga(IJe);function $Je(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var BJe=$Je,zJe=QR;function UJe(e,t){var r=!0;return zJe(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var VJe=UJe,qJe=BJe,WJe=VJe,HJe=Qf,GJe=Pc,KJe=KC;function YJe(e,t,r){var n=GJe(e)?qJe:WJe;return r&&KJe(e,t,r)&&(t=void 0),n(e,HJe(t))}var XJe=YJe;const Iie=ga(XJe);var JJe=["x","y"];function Gw(e){"@babel/helpers - typeof";return Gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gw(e)}function q8(){return q8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q8.apply(this,arguments)}function xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xq(Object(r),!0).forEach(function(n){ZJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJe(e,t,r){return t=QJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJe(e){var t=eZe(e,"string");return Gw(t)=="symbol"?t:t+""}function eZe(e,t){if(Gw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZe(e,t){if(e==null)return{};var r=rZe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nZe(e,t){var r=e.x,n=e.y,s=tZe(e,JJe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),f=parseInt(d,10),h="".concat(t.width||s.width),v=parseInt(h,10);return Rb(Rb(Rb(Rb(Rb({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function yq(e){return Se.createElement(Tie,q8({shapeType:"rectangle",propTransformer:nZe,activeClassName:"recharts-active-bar"},e))}var aZe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=Xt(n)||IOe(n);return a?t(n,s):(a||$g(!1),r)}},sZe=["value","background"],Lie;function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function iZe(e,t){if(e==null)return{};var r=oZe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(r),!0).forEach(function(n){np(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bie(n.key),n)}}function cZe(e,t,r){return t&&wq(e.prototype,t),r&&wq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uZe(e,t,r){return t=ES(t),dZe(e,$ie()?Reflect.construct(t,r||[],ES(e).constructor):t.apply(e,r))}function dZe(e,t){if(t&&(Fx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fZe(e)}function fZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ie=function(){return!!e})()}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ES(e)}function hZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W8(e,t)}function W8(e,t){return W8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W8(e,t)}function np(e,t,r){return t=Bie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bie(e){var t=mZe(e,"string");return Fx(t)=="symbol"?t:t+""}function mZe(e,t){if(Fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dp=function(e){function t(){var r;lZe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=uZe(this,t,[].concat(s)),np(r,"state",{isAnimationFinished:!1}),np(r,"id",xy("recharts-bar-")),np(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),np(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return hZe(t,e),cZe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,f=an(this.props,!1);return n&&n.map(function(h,v){var g=v===c,_=g?d:o,y=Ui(Ui(Ui({},f),h),{},{isActive:g,option:_,index:v,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Se.createElement(wa,kS({className:"recharts-bar-rectangle"},Mg(s.props,h,v),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(v)}),Se.createElement(yq,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,v=this.state.prevData;return Se.createElement(Bg,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var _=g.t,y=a.map(function(j,w){var C=v&&v[w];if(C){var k=gc(C.x,j.x),T=gc(C.y,j.y),P=gc(C.width,j.width),D=gc(C.height,j.height);return Ui(Ui({},j),{},{x:k(_),y:T(_),width:P(_),height:D(_)})}if(o==="horizontal"){var M=gc(0,j.height),I=M(_);return Ui(Ui({},j),{},{y:j.y+j.height-I,height:I})}var B=gc(0,j.width),V=B(_);return Ui(Ui({},j),{},{width:V})});return Se.createElement(wa,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Sx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=an(this.props.background,!1);return a.map(function(d,f){d.value;var h=d.background,v=iZe(d,sZe);if(!h)return null;var g=Ui(Ui(Ui(Ui(Ui({},v),{},{fill:"#eee"},h),c),Mg(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Se.createElement(yq,kS({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,h=Gu(f,iA);if(!h)return null;var v=d==="vertical"?o[0].height/2:o[0].width/2,g=function(j,w){var C=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:C,errorVal:vo(j,w)}},_={clipPath:n?"url(#clipPath-".concat(s,")"):null};return Se.createElement(wa,_,h.map(function(y){return Se.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:v,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,h=n.width,v=n.height,g=n.isAnimationActive,_=n.background,y=n.id;if(s||!a||!a.length)return null;var j=this.state.isAnimationFinished,w=$n("recharts-bar",o),C=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,T=C||k,P=Bn(y)?this.id:y;return Se.createElement(wa,{className:w},C||k?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(P)},Se.createElement("rect",{x:C?d:d-h/2,y:k?f:f-v/2,width:C?h:h*2,height:k?v:v*2}))):null,Se.createElement(wa,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(P,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,P),(!g||j)&&Bh.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(b.PureComponent);Lie=Dp;np(Dp,"displayName","Bar");np(Dp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});np(Dp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,h=e.displayedData,v=e.offset,g=QWe(n,r);if(!g)return null;var _=t.layout,y=r.type.defaultProps,j=y!==void 0?Ui(Ui({},y),r.props):r.props,w=j.dataKey,C=j.children,k=j.minPointSize,T=_==="horizontal"?o:a,P=d?T.scale.domain():null,D=iHe({numericAxis:T}),M=Gu(C,YC),I=h.map(function(B,V){var U,q,re,H,X,Q;d?U=eHe(d[f+V],P):(U=vo(B,w),Array.isArray(U)||(U=[D,U]));var se=aZe(k,Lie.defaultProps.minPointSize)(U[1],V);if(_==="horizontal"){var te,ce=[o.scale(U[0]),o.scale(U[1])],xe=ce[0],de=ce[1];q=cV({axis:a,ticks:l,bandSize:s,offset:g.offset,entry:B,index:V}),re=(te=de??xe)!==null&&te!==void 0?te:void 0,H=g.size;var ee=xe-de;if(X=Number.isNaN(ee)?0:ee,Q={x:q,y:o.y,width:H,height:o.height},Math.abs(se)>0&&Math.abs(X)<Math.abs(se)){var fe=Kl(X||se)*(Math.abs(se)-Math.abs(X));re-=fe,X+=fe}}else{var ne=[a.scale(U[0]),a.scale(U[1])],Y=ne[0],ue=ne[1];if(q=Y,re=cV({axis:o,ticks:c,bandSize:s,offset:g.offset,entry:B,index:V}),H=ue-Y,X=g.size,Q={x:a.x,y:re,width:a.width,height:X},Math.abs(se)>0&&Math.abs(H)<Math.abs(se)){var le=Kl(H||se)*(Math.abs(se)-Math.abs(H));H+=le}}return Ui(Ui(Ui({},B),{},{x:q,y:re,width:H,height:X,value:d?U:U[1],payload:B,background:Q},M&&M[V]&&M[V].props),{},{tooltipPayload:[die(r,B)],tooltipPosition:{x:q+H/2,y:re+X/2}})});return Ui({data:I,layout:_},v)});function Kw(e){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kw(e)}function pZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zie(n.key),n)}}function gZe(e,t,r){return t&&_q(e.prototype,t),r&&_q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(r),!0).forEach(function(n){pA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pA(e,t,r){return t=zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=vZe(e,"string");return Kw(t)=="symbol"?t:t+""}function vZe(e,t){if(Kw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uie=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.layout,d=t.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!Vc(d,Dp);return f.reduce(function(g,_){var y=r[_],j=y.orientation,w=y.domain,C=y.padding,k=C===void 0?{}:C,T=y.mirror,P=y.reversed,D="".concat(j).concat(T?"Mirror":""),M,I,B,V,U;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var q=w[1]-w[0],re=1/0,H=y.categoricalDomain.sort(BOe);if(H.forEach(function(ne,Y){Y>0&&(re=Math.min((ne||0)-(H[Y-1]||0),re))}),Number.isFinite(re)){var X=re/q,Q=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(M=X*Q/2),y.padding==="no-gap"){var se=Yl(t.barCategoryGap,X*Q),te=X*Q/2;M=te-se-(te-se)/Q*se}}}s==="xAxis"?I=[n.left+(k.left||0)+(M||0),n.left+n.width-(k.right||0)-(M||0)]:s==="yAxis"?I=c==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(M||0),n.top+n.height-(k.bottom||0)-(M||0)]:I=y.range,P&&(I=[I[1],I[0]]);var ce=oie(y,a,v),xe=ce.scale,de=ce.realScaleType;xe.domain(w).range(I),lie(xe);var ee=cie(xe,Cd(Cd({},y),{},{realScaleType:de}));s==="xAxis"?(U=j==="top"&&!T||j==="bottom"&&T,B=n.left,V=h[D]-U*y.height):s==="yAxis"&&(U=j==="left"&&!T||j==="right"&&T,B=h[D]-U*y.width,V=n.top);var fe=Cd(Cd(Cd({},y),ee),{},{realScaleType:de,x:B,y:V,scale:xe,width:s==="xAxis"?n.width:y.width,height:s==="yAxis"?n.height:y.height});return fe.bandSize=hS(fe,ee),!y.hide&&s==="xAxis"?h[D]+=(U?-1:1)*fe.height:y.hide||(h[D]+=(U?-1:1)*fe.width),Cd(Cd({},g),{},pA({},_,fe))},{})},Vie=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},xZe=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return Vie({x:r,y:n},{x:s,y:a})},qie=function(){function e(t){pZe(this,e),this.scale=t}return gZe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();pA(qie,"EPS",1e-4);var kM=function(t){var r=Object.keys(t).reduce(function(n,s){return Cd(Cd({},n),{},pA({},s,qie.create(t[s])))},{});return Cd(Cd({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return LJe(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Iie(s,function(a,o){return r[o].isInRange(a)})}})};function yZe(e){return(e%180+180)%180}var bZe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yZe(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},wZe=Qf,_Ze=U_,jZe=HC;function NZe(e){return function(t,r,n){var s=Object(t);if(!_Ze(t)){var a=wZe(r);t=jZe(t),r=function(l){return a(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[a?t[o]:o]:void 0}}var SZe=NZe,CZe=Fie;function AZe(e){var t=CZe(e),r=t%1;return t===t?r?t-r:t:0}var kZe=AZe,EZe=zae,TZe=Qf,PZe=kZe,OZe=Math.max;function FZe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:PZe(r);return s<0&&(s=OZe(n+s,0)),EZe(e,TZe(t),s)}var DZe=FZe,RZe=SZe,MZe=DZe,IZe=RZe(MZe),LZe=IZe;const $Ze=ga(LZe);var BZe=z8e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),EM=b.createContext(void 0),TM=b.createContext(void 0),Wie=b.createContext(void 0),Hie=b.createContext({}),Gie=b.createContext(void 0),Kie=b.createContext(0),Yie=b.createContext(0),Nq=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,f=BZe(a);return Se.createElement(EM.Provider,{value:n},Se.createElement(TM.Provider,{value:s},Se.createElement(Hie.Provider,{value:a},Se.createElement(Wie.Provider,{value:f},Se.createElement(Gie.Provider,{value:o},Se.createElement(Kie.Provider,{value:d},Se.createElement(Yie.Provider,{value:c},l)))))))},zZe=function(){return b.useContext(Gie)},Xie=function(t){var r=b.useContext(EM);r==null&&$g(!1);var n=r[t];return n==null&&$g(!1),n},UZe=function(){var t=b.useContext(EM);return Jm(t)},VZe=function(){var t=b.useContext(TM),r=$Ze(t,function(n){return Iie(n.domain,Number.isFinite)});return r||Jm(t)},Jie=function(t){var r=b.useContext(TM);r==null&&$g(!1);var n=r[t];return n==null&&$g(!1),n},qZe=function(){var t=b.useContext(Wie);return t},WZe=function(){return b.useContext(Hie)},PM=function(){return b.useContext(Yie)},OM=function(){return b.useContext(Kie)};function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function HZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qie(n.key),n)}}function GZe(e,t,r){return t&&Sq(e.prototype,t),r&&Sq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KZe(e,t,r){return t=TS(t),YZe(e,Zie()?Reflect.construct(t,r||[],TS(e).constructor):t.apply(e,r))}function YZe(e,t){if(t&&(Dx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZe(e)}function XZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zie=function(){return!!e})()}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TS(e)}function JZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H8(e,t)}function H8(e,t){return H8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H8(e,t)}function Cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(r),!0).forEach(function(n){FM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FM(e,t,r){return t=Qie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qie(e){var t=ZZe(e,"string");return Dx(t)=="symbol"?t:t+""}function ZZe(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZe(e,t){return nQe(e)||rQe(e,t)||tQe(e,t)||eQe()}function eQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQe(e,t){if(e){if(typeof e=="string")return kq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kq(e,t)}}function kq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rQe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nQe(e){if(Array.isArray(e))return e}function G8(){return G8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G8.apply(this,arguments)}var aQe=function(t,r){var n;return Se.isValidElement(t)?n=Se.cloneElement(t,r):gn(t)?n=t(r):n=Se.createElement("line",G8({},r,{className:"recharts-reference-line-line"})),n},sQe=function(t,r,n,s,a,o,l,c,d){var f=a.x,h=a.y,v=a.width,g=a.height;if(n){var _=d.y,y=t.y.apply(_,{position:o});if(Bf(d,"discard")&&!t.y.isInRange(y))return null;var j=[{x:f+v,y},{x:f,y}];return c==="left"?j.reverse():j}if(r){var w=d.x,C=t.x.apply(w,{position:o});if(Bf(d,"discard")&&!t.x.isInRange(C))return null;var k=[{x:C,y:h+g},{x:C,y:h}];return l==="top"?k.reverse():k}if(s){var T=d.segment,P=T.map(function(D){return t.apply(D,{position:o})});return Bf(d,"discard")&&TJe(P,function(D){return!t.isInRange(D)})?null:P}return null};function iQe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=zZe(),f=Xie(s),h=Jie(a),v=qZe();if(!d||!v)return null;Dd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=kM({x:f.scale,y:h.scale}),_=bo(t),y=bo(r),j=n&&n.length===2,w=sQe(g,_,y,j,v,e.position,f.orientation,h.orientation,e);if(!w)return null;var C=QZe(w,2),k=C[0],T=k.x,P=k.y,D=C[1],M=D.x,I=D.y,B=Bf(e,"hidden")?"url(#".concat(d,")"):void 0,V=Aq(Aq({clipPath:B},an(e,!0)),{},{x1:T,y1:P,x2:M,y2:I});return Se.createElement(wa,{className:$n("recharts-reference-line",l)},aQe(o,V),qo.renderCallByParent(e,xZe({x1:T,y1:P,x2:M,y2:I})))}var DM=function(e){function t(){return HZe(this,t),KZe(this,t,arguments)}return JZe(t,e),GZe(t,[{key:"render",value:function(){return Se.createElement(iQe,this.props)}}])}(Se.Component);FM(DM,"displayName","ReferenceLine");FM(DM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function K8(){return K8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K8.apply(this,arguments)}function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}function Eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eq(Object(r),!0).forEach(function(n){gA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,toe(n.key),n)}}function lQe(e,t,r){return t&&Pq(e.prototype,t),r&&Pq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQe(e,t,r){return t=PS(t),uQe(e,eoe()?Reflect.construct(t,r||[],PS(e).constructor):t.apply(e,r))}function uQe(e,t){if(t&&(Rx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQe(e)}function dQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eoe=function(){return!!e})()}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PS(e)}function fQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y8(e,t)}function Y8(e,t){return Y8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y8(e,t)}function gA(e,t,r){return t=toe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function toe(e){var t=hQe(e,"string");return Rx(t)=="symbol"?t:t+""}function hQe(e,t){if(Rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mQe=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,o=kM({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Bf(t,"discard")&&!o.isInRange(l)?null:l},vA=function(e){function t(){return oQe(this,t),cQe(this,t,arguments)}return fQe(t,e),lQe(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=bo(s),f=bo(a);if(Dd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=mQe(this.props);if(!h)return null;var v=h.x,g=h.y,_=this.props,y=_.shape,j=_.className,w=Bf(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=Tq(Tq({clipPath:w},an(this.props,!0)),{},{cx:v,cy:g});return Se.createElement(wa,{className:$n("recharts-reference-dot",j)},t.renderDot(y,C),qo.renderCallByParent(this.props,{x:v-o,y:g-o,width:2*o,height:2*o}))}}])}(Se.Component);gA(vA,"displayName","ReferenceDot");gA(vA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gA(vA,"renderDot",function(e,t){var r;return Se.isValidElement(e)?r=Se.cloneElement(e,t):gn(e)?r=e(t):r=Se.createElement(lA,K8({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function X8(){return X8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X8.apply(this,arguments)}function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function Oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oq(Object(r),!0).forEach(function(n){xA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,noe(n.key),n)}}function gQe(e,t,r){return t&&Dq(e.prototype,t),r&&Dq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vQe(e,t,r){return t=OS(t),xQe(e,roe()?Reflect.construct(t,r||[],OS(e).constructor):t.apply(e,r))}function xQe(e,t){if(t&&(Mx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQe(e)}function yQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function roe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(roe=function(){return!!e})()}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OS(e)}function bQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J8(e,t)}function J8(e,t){return J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J8(e,t)}function xA(e,t,r){return t=noe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function noe(e){var t=wQe(e,"string");return Mx(t)=="symbol"?t:t+""}function wQe(e,t){if(Mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Qe=function(t,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var v=kM({x:f.scale,y:h.scale}),g={x:t?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},_={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:s?v.y.apply(d,{position:"end"}):v.y.rangeMax};return Bf(a,"discard")&&(!v.isInRange(g)||!v.isInRange(_))?null:Vie(g,_)},yA=function(e){function t(){return pQe(this,t),vQe(this,t,arguments)}return bQe(t,e),gQe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,f=n.clipPathId;Dd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bo(s),v=bo(a),g=bo(o),_=bo(l),y=this.props.shape;if(!h&&!v&&!g&&!_&&!y)return null;var j=_Qe(h,v,g,_,this.props);if(!j&&!y)return null;var w=Bf(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Se.createElement(wa,{className:$n("recharts-reference-area",c)},t.renderRect(y,Fq(Fq({clipPath:w},an(this.props,!0)),j)),qo.renderCallByParent(this.props,j))}}])}(Se.Component);xA(yA,"displayName","ReferenceArea");xA(yA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xA(yA,"renderRect",function(e,t){var r;return Se.isValidElement(e)?r=Se.cloneElement(e,t):gn(e)?r=e(t):r=Se.createElement(AM,X8({},t,{className:"recharts-reference-area-rect"})),r});function aoe(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)if(r===void 0||r(e[s])===!0)n.push(e[s]);else return;return n}function jQe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bZe(n,r)}function NQe(e,t,r){var n=r==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function FS(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function SQe(e,t){return aoe(e,t+1)}function CQe(e,t,r,n,s){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,f=o,h=function(){var _=n==null?void 0:n[c];if(_===void 0)return{v:aoe(n,d)};var y=c,j,w=function(){return j===void 0&&(j=r(_,y)),j},C=_.coordinate,k=c===0||FS(e,C,w,f,l);k||(c=0,f=o,d+=1),k&&(f=C+e*(w()/2+s),c+=d)},v;d<=a.length;)if(v=h(),v)return v.v;return[]}function Yw(e){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yw(e)}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rq(Object(r),!0).forEach(function(n){AQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQe(e,t,r){return t=kQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQe(e){var t=EQe(e,"string");return Yw(t)=="symbol"?t:t+""}function EQe(e,t){if(Yw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TQe(e,t,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(v){var g=a[v],_,y=function(){return _===void 0&&(_=r(g,v)),_};if(v===o-1){var j=e*(g.coordinate+e*y()/2-c);a[v]=g=_l(_l({},g),{},{tickCoord:j>0?g.coordinate-j*e:g.coordinate})}else a[v]=g=_l(_l({},g),{},{tickCoord:g.coordinate});var w=FS(e,g.tickCoord,y,l,c);w&&(c=g.tickCoord-e*(y()/2+s),a[v]=_l(_l({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return a}function PQe(e,t,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var f=n[l-1],h=r(f,l-1),v=e*(f.coordinate+e*h/2-d);o[l-1]=f=_l(_l({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate});var g=FS(e,f.tickCoord,function(){return h},c,d);g&&(d=f.tickCoord-e*(h/2+s),o[l-1]=_l(_l({},f),{},{isShow:!0}))}for(var _=a?l-1:l,y=function(C){var k=o[C],T,P=function(){return T===void 0&&(T=r(k,C)),T};if(C===0){var D=e*(k.coordinate-e*P()/2-c);o[C]=k=_l(_l({},k),{},{tickCoord:D<0?k.coordinate-D*e:k.coordinate})}else o[C]=k=_l(_l({},k),{},{tickCoord:k.coordinate});var M=FS(e,k.tickCoord,P,c,d);M&&(c=k.tickCoord+e*(P()/2+s),o[C]=_l(_l({},k),{},{isShow:!0}))},j=0;j<_;j++)y(j);return o}function RM(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,f=e.unit,h=e.angle;if(!s||!s.length||!n)return[];if(Xt(c)||Lf.isSsr)return SQe(s,typeof c=="number"&&Xt(c)?c:0);var v=[],g=l==="top"||l==="bottom"?"width":"height",_=f&&g==="width"?_2(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(k,T){var P=gn(d)?d(k.value,T):k.value;return g==="width"?jQe(_2(P,{fontSize:t,letterSpacing:r}),_,h):_2(P,{fontSize:t,letterSpacing:r})[g]},j=s.length>=2?Kl(s[1].coordinate-s[0].coordinate):1,w=NQe(a,j,g);return c==="equidistantPreserveStart"?CQe(j,w,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?v=PQe(j,w,y,s,o,c==="preserveStartEnd"):v=TQe(j,w,y,s,o),v.filter(function(C){return C.isShow}))}var OQe=["viewBox"],FQe=["viewBox"],DQe=["ticks"];function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(n){MM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JE(e,t){if(e==null)return{};var r=RQe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RQe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ioe(n.key),n)}}function IQe(e,t,r){return t&&Iq(e.prototype,t),r&&Iq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LQe(e,t,r){return t=DS(t),$Qe(e,soe()?Reflect.construct(t,r||[],DS(e).constructor):t.apply(e,r))}function $Qe(e,t){if(t&&(Ix(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BQe(e)}function BQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function soe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(soe=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DS(e)}function zQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z8(e,t)}function Z8(e,t){return Z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z8(e,t)}function MM(e,t,r){return t=ioe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ioe(e){var t=UQe(e,"string");return Ix(t)=="symbol"?t:t+""}function UQe(e,t){if(Ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sy=function(e){function t(r){var n;return MQe(this,t),n=LQe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return zQe(t,e),IQe(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=JE(n,OQe),l=this.props,c=l.viewBox,d=JE(l,FQe);return!$1(a,c)||!$1(o,d)||!$1(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,f=s.tickSize,h=s.mirror,v=s.tickMargin,g,_,y,j,w,C,k=h?-1:1,T=n.tickSize||f,P=Xt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=_=n.coordinate,j=o+ +!h*c,y=j-k*T,C=y-k*v,w=P;break;case"left":y=j=n.coordinate,_=a+ +!h*l,g=_-k*T,w=g-k*v,C=P;break;case"right":y=j=n.coordinate,_=a+ +h*l,g=_+k*T,w=g+k*v,C=P;break;default:g=_=n.coordinate,j=o+ +h*c,y=j+k*T,C=y+k*v,w=P;break}return{line:{x1:g,y1:y,x2:_,y2:j},tick:{x:w,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,f=n.axisLine,h=fo(fo(fo({},an(this.props,!1)),an(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!d||c==="bottom"&&d);h=fo(fo({},h),{},{x1:s,y1:a+v*l,x2:s+o,y2:a+v*l})}else{var g=+(c==="left"&&!d||c==="right"&&d);h=fo(fo({},h),{},{x1:s+g*o,y1:a,x2:s+g*o,y2:a+l})}return Se.createElement("line",N1({},h,{className:$n("recharts-cartesian-axis-line",eu(f,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,h=l.tickFormatter,v=l.unit,g=RM(fo(fo({},this.props),{},{ticks:n}),s,a),_=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),j=an(this.props,!1),w=an(f,!1),C=fo(fo({},j),{},{fill:"none"},an(c,!1)),k=g.map(function(T,P){var D=o.getTickLineCoord(T),M=D.line,I=D.tick,B=fo(fo(fo(fo({textAnchor:_,verticalAnchor:y},j),{},{stroke:"none",fill:d},w),I),{},{index:P,payload:T,visibleTicksCount:g.length,tickFormatter:h});return Se.createElement(wa,N1({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Mg(o.props,T,P)),c&&Se.createElement("line",N1({},C,M,{className:$n("recharts-cartesian-axis-tick-line",eu(c,"className"))})),f&&t.renderTickItem(f,B,"".concat(gn(h)?h(T.value,P):T.value).concat(v||"")))});return Se.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,f=s.hide;if(f)return null;var h=this.props,v=h.ticks,g=JE(h,DQe),_=v;return gn(c)&&(_=v&&v.length>0?c(this.props):c(g)),o<=0||l<=0||!_||!_.length?null:Se.createElement(wa,{className:$n("recharts-cartesian-axis",d),ref:function(j){n.layerReference=j}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),qo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o,l=$n(s.className,"recharts-cartesian-axis-tick-value");return Se.isValidElement(n)?o=Se.cloneElement(n,fo(fo({},s),{},{className:l})):gn(n)?o=n(fo(fo({},s),{},{className:l})):o=Se.createElement(Ig,N1({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);MM(Sy,"displayName","CartesianAxis");MM(Sy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VQe=["x1","y1","x2","y2","key"],qQe=["offset"];function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(n){WQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WQe(e,t,r){return t=HQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HQe(e){var t=GQe(e,"string");return zg(t)=="symbol"?t:t+""}function GQe(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function $q(e,t){if(e==null)return{};var r=KQe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KQe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YQe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return Se.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ooe(e,t){var r;if(Se.isValidElement(e))r=Se.cloneElement(e,t);else if(gn(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=$q(t,VQe),d=an(c,!1);d.offset;var f=$q(d,qQe);r=Se.createElement("line",lg({},f,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function XQe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Cl(Cl({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return ooe(s,d)});return Se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function JQe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Cl(Cl({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return ooe(s,d)});return Se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ZQe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var f=l.map(function(v){return Math.round(v+s-s)}).sort(function(v,g){return v-g});s!==f[0]&&f.unshift(0);var h=f.map(function(v,g){var _=!f[g+1],y=_?s+o-v:f[g+1]-v;if(y<=0)return null;var j=g%t.length;return Se.createElement("rect",{key:"react-".concat(g),y:v,x:n,height:y,width:a,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function QQe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(v){return Math.round(v+a-a)}).sort(function(v,g){return v-g});a!==f[0]&&f.unshift(0);var h=f.map(function(v,g){var _=!f[g+1],y=_?a+l-v:f[g+1]-v;if(y<=0)return null;var j=g%n.length;return Se.createElement("rect",{key:"react-".concat(g),x:v,y:o,width:y,height:c,stroke:"none",fill:n[j],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var eet=function(t,r){var n=t.xAxis,s=t.width,a=t.height,o=t.offset;return iie(RM(Cl(Cl(Cl({},Sy.defaultProps),n),{},{ticks:Rh(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},tet=function(t,r){var n=t.yAxis,s=t.width,a=t.height,o=t.offset;return iie(RM(Cl(Cl(Cl({},Sy.defaultProps),n),{},{ticks:Rh(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Hv={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function loe(e){var t,r,n,s,a,o,l=PM(),c=OM(),d=WZe(),f=Cl(Cl({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hv.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Hv.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Hv.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hv.verticalFill,x:Xt(e.x)?e.x:d.left,y:Xt(e.y)?e.y:d.top,width:Xt(e.width)?e.width:d.width,height:Xt(e.height)?e.height:d.height}),h=f.x,v=f.y,g=f.width,_=f.height,y=f.syncWithTicks,j=f.horizontalValues,w=f.verticalValues,C=UZe(),k=VZe();if(!Xt(g)||g<=0||!Xt(_)||_<=0||!Xt(h)||h!==+h||!Xt(v)||v!==+v)return null;var T=f.verticalCoordinatesGenerator||eet,P=f.horizontalCoordinatesGenerator||tet,D=f.horizontalPoints,M=f.verticalPoints;if((!D||!D.length)&&gn(P)){var I=j&&j.length,B=P({yAxis:k?Cl(Cl({},k),{},{ticks:I?j:k.ticks}):void 0,width:l,height:c,offset:d},I?!0:y);Dd(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zg(B),"]")),Array.isArray(B)&&(D=B)}if((!M||!M.length)&&gn(T)){var V=w&&w.length,U=T({xAxis:C?Cl(Cl({},C),{},{ticks:V?w:C.ticks}):void 0,width:l,height:c,offset:d},V?!0:y);Dd(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zg(U),"]")),Array.isArray(U)&&(M=U)}return Se.createElement("g",{className:"recharts-cartesian-grid"},Se.createElement(YQe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Se.createElement(XQe,lg({},f,{offset:d,horizontalPoints:D,xAxis:C,yAxis:k})),Se.createElement(JQe,lg({},f,{offset:d,verticalPoints:M,xAxis:C,yAxis:k})),Se.createElement(ZQe,lg({},f,{horizontalPoints:D})),Se.createElement(QQe,lg({},f,{verticalPoints:M})))}loe.displayName="CartesianGrid";var ret=["layout","type","stroke","connectNulls","isRange","ref"],net=["key"],coe;function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function uoe(e,t){if(e==null)return{};var r=aet(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aet(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function Bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bq(Object(r),!0).forEach(function(n){Ef(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function set(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,foe(n.key),n)}}function iet(e,t,r){return t&&zq(e.prototype,t),r&&zq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oet(e,t,r){return t=RS(t),cet(e,doe()?Reflect.construct(t,r||[],RS(e).constructor):t.apply(e,r))}function cet(e,t){if(t&&(Lx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uet(e)}function uet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function doe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(doe=function(){return!!e})()}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RS(e)}function det(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q8(e,t)}function Q8(e,t){return Q8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Q8(e,t)}function Ef(e,t,r){return t=foe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function foe(e){var t=fet(e,"string");return Lx(t)=="symbol"?t:t+""}function fet(e,t){if(Lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=function(e){function t(){var r;set(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=oet(this,t,[].concat(s)),Ef(r,"state",{isAnimationFinished:!0}),Ef(r,"id",xy("recharts-area-")),Ef(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),gn(o)&&o()}),Ef(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),gn(o)&&o()}),r}return det(t,e),iet(t,[{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,f=c.points,h=c.dataKey,v=an(this.props,!1),g=an(d,!0),_=f.map(function(j,w){var C=Vm(Vm(Vm({key:"dot-".concat(w),r:3},v),g),{},{index:w,cx:j.x,cy:j.y,dataKey:h,value:j.value,payload:j.payload,points:f});return t.renderDotItem(d,C)}),y={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return Se.createElement(wa,cg({className:"recharts-area-dots"},y),_)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,d=o[o.length-1].x,f=n*Math.abs(c-d),h=rp(o.map(function(v){return v.y||0}));return Xt(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(rp(a.map(function(v){return v.y||0})),h)),Xt(h)?Se.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,d=o[o.length-1].y,f=n*Math.abs(c-d),h=rp(o.map(function(v){return v.x||0}));return Xt(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(rp(a.map(function(v){return v.x||0})),h)),Xt(h)?Se.createElement("rect",{x:0,y:c<d?c:c-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,a,o){var l=this.props,c=l.layout,d=l.type,f=l.stroke,h=l.connectNulls,v=l.isRange;l.ref;var g=uoe(l,ret);return Se.createElement(wa,{clipPath:a?"url(#clipPath-".concat(o,")"):null},Se.createElement(V1,cg({},an(g,!0),{points:n,connectNulls:h,type:d,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&Se.createElement(V1,cg({},an(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})),f!=="none"&&v&&Se.createElement(V1,cg({},an(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,v=o.animationEasing,g=o.animationId,_=this.state,y=_.prevPoints,j=_.prevBaseLine;return Se.createElement(Bg,{begin:f,duration:h,isActive:d,easing:v,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var C=w.t;if(y){var k=y.length/l.length,T=l.map(function(I,B){var V=Math.floor(B*k);if(y[V]){var U=y[V],q=gc(U.x,I.x),re=gc(U.y,I.y);return Vm(Vm({},I),{},{x:q(C),y:re(C)})}return I}),P;if(Xt(c)&&typeof c=="number"){var D=gc(j,c);P=D(C)}else if(Bn(c)||vy(c)){var M=gc(j,0);P=M(C)}else P=c.map(function(I,B){var V=Math.floor(B*k);if(j[V]){var U=j[V],q=gc(U.x,I.x),re=gc(U.y,I.y);return Vm(Vm({},I),{},{x:q(C),y:re(C)})}return I});return a.renderAreaStatically(T,P,n,s)}return Se.createElement(wa,null,Se.createElement("defs",null,Se.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(C))),Se.createElement(wa,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,f=d.prevPoints,h=d.prevBaseLine,v=d.totalLength;return c&&o&&o.length&&(!f&&v>0||!Sx(f,o)||!Sx(h,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,d=s.top,f=s.left,h=s.xAxis,v=s.yAxis,g=s.width,_=s.height,y=s.isAnimationActive,j=s.id;if(a||!l||!l.length)return null;var w=this.state.isAnimationFinished,C=l.length===1,k=$n("recharts-area",c),T=h&&h.allowDataOverflow,P=v&&v.allowDataOverflow,D=T||P,M=Bn(j)?this.id:j,I=(n=an(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},B=I.r,V=B===void 0?3:B,U=I.strokeWidth,q=U===void 0?2:U,re=YOe(o)?o:{},H=re.clipDot,X=H===void 0?!0:H,Q=V*2+q;return Se.createElement(wa,{className:k},T||P?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(M)},Se.createElement("rect",{x:T?f:f-g/2,y:P?d:d-_/2,width:T?g:g*2,height:P?_:_*2})),!X&&Se.createElement("clipPath",{id:"clipPath-dots-".concat(M)},Se.createElement("rect",{x:f-Q/2,y:d-Q/2,width:g+Q,height:_+Q}))):null,C?null:this.renderArea(D,M),(o||C)&&this.renderDots(D,X,M),(!y||w)&&Bh.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(b.PureComponent);coe=Zp;Ef(Zp,"displayName","Area");Ef(Zp,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ef(Zp,"getBaseValue",function(e,t,r,n){var s=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Xt(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Ef(Zp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,f=e.dataStartIndex,h=e.displayedData,v=e.offset,g=t.layout,_=d&&d.length,y=coe.getBaseValue(t,r,n,s),j=g==="horizontal",w=!1,C=h.map(function(T,P){var D;_?D=d[f+P]:(D=vo(T,c),Array.isArray(D)?w=!0:D=[y,D]);var M=D[1]==null||_&&vo(T,c)==null;return j?{x:lV({axis:n,ticks:a,bandSize:l,entry:T,index:P}),y:M?null:s.scale(D[1]),value:D,payload:T}:{x:M?null:n.scale(D[1]),y:lV({axis:s,ticks:o,bandSize:l,entry:T,index:P}),value:D,payload:T}}),k;return _||w?k=C.map(function(T){var P=Array.isArray(T.value)?T.value[0]:null;return j?{x:T.x,y:P!=null&&T.y!=null?s.scale(P):null}:{x:P!=null?n.scale(P):null,y:T.y}}):k=j?s.scale(y):n.scale(y),Vm({points:C,baseLine:k,layout:g,isRange:w},v)});Ef(Zp,"renderDotItem",function(e,t){var r;if(Se.isValidElement(e))r=Se.cloneElement(e,t);else if(gn(e))r=e(t);else{var n=$n("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,a=uoe(t,net);r=Se.createElement(lA,cg({},a,{key:s,className:n}))}return r});function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function het(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,poe(n.key),n)}}function met(e,t,r){return t&&Uq(e.prototype,t),r&&Uq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pet(e,t,r){return t=MS(t),get(e,hoe()?Reflect.construct(t,r||[],MS(e).constructor):t.apply(e,r))}function get(e,t){if(t&&($x(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vet(e)}function vet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hoe=function(){return!!e})()}function MS(e){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(e)}function xet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eO(e,t)}function eO(e,t){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eO(e,t)}function moe(e,t,r){return t=poe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function poe(e){var t=yet(e,"string");return $x(t)=="symbol"?t:t+""}function yet(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tO.apply(this,arguments)}function bet(e){var t=e.xAxisId,r=PM(),n=OM(),s=Xie(t);return s==null?null:b.createElement(Sy,tO({},s,{className:$n("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Rh(o,!0)}}))}var yg=function(e){function t(){return het(this,t),pet(this,t,arguments)}return xet(t,e),met(t,[{key:"render",value:function(){return b.createElement(bet,this.props)}}])}(b.Component);moe(yg,"displayName","XAxis");moe(yg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function wet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xoe(n.key),n)}}function _et(e,t,r){return t&&Vq(e.prototype,t),r&&Vq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jet(e,t,r){return t=IS(t),Net(e,goe()?Reflect.construct(t,r||[],IS(e).constructor):t.apply(e,r))}function Net(e,t){if(t&&(Bx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cet(e)}function Cet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function goe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(goe=function(){return!!e})()}function IS(e){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IS(e)}function Aet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rO(e,t)}function rO(e,t){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rO(e,t)}function voe(e,t,r){return t=xoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xoe(e){var t=ket(e,"string");return Bx(t)=="symbol"?t:t+""}function ket(e,t){if(Bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}var Eet=function(t){var r=t.yAxisId,n=PM(),s=OM(),a=Jie(r);return a==null?null:b.createElement(Sy,nO({},a,{className:$n("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Rh(l,!0)}}))},bg=function(e){function t(){return wet(this,t),jet(this,t,arguments)}return Aet(t,e),_et(t,[{key:"render",value:function(){return b.createElement(Eet,this.props)}}])}(b.Component);voe(bg,"displayName","YAxis");voe(bg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qq(e){return Fet(e)||Oet(e)||Pet(e)||Tet()}function Tet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pet(e,t){if(e){if(typeof e=="string")return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}}function Oet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fet(e){if(Array.isArray(e))return aO(e)}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sO=function(t,r,n,s,a){var o=Gu(t,DM),l=Gu(t,vA),c=[].concat(qq(o),qq(l)),d=Gu(t,yA),f="".concat(s,"Id"),h=s[0],v=r;if(c.length&&(v=c.reduce(function(y,j){if(j.props[f]===n&&Bf(j.props,"extendDomain")&&Xt(j.props[h])){var w=j.props[h];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},v)),d.length){var g="".concat(h,"1"),_="".concat(h,"2");v=d.reduce(function(y,j){if(j.props[f]===n&&Bf(j.props,"extendDomain")&&Xt(j.props[g])&&Xt(j.props[_])){var w=j.props[g],C=j.props[_];return[Math.min(y[0],w,C),Math.max(y[1],w,C)]}return y},v)}return a&&a.length&&(v=a.reduce(function(y,j){return Xt(j)?[Math.min(y[0],j),Math.max(y[1],j)]:y},v)),v},yoe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,h,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new s(f,h||c,v),_=r?r+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],g]:c._events[_].push(g):(c._events[_]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)t.call(f,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,g=h.length,_=new Array(g);v<g;v++)_[v]=h[v].fn;return _},l.prototype.listenerCount=function(d){var f=r?r+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,v,g,_){var y=r?r+d:d;if(!this._events[y])return!1;var j=this._events[y],w=arguments.length,C,k;if(j.fn){switch(j.once&&this.removeListener(d,j.fn,void 0,!0),w){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,f),!0;case 3:return j.fn.call(j.context,f,h),!0;case 4:return j.fn.call(j.context,f,h,v),!0;case 5:return j.fn.call(j.context,f,h,v,g),!0;case 6:return j.fn.call(j.context,f,h,v,g,_),!0}for(k=1,C=new Array(w-1);k<w;k++)C[k-1]=arguments[k];j.fn.apply(j.context,C)}else{var T=j.length,P;for(k=0;k<T;k++)switch(j[k].once&&this.removeListener(d,j[k].fn,void 0,!0),w){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,f);break;case 3:j[k].fn.call(j[k].context,f,h);break;case 4:j[k].fn.call(j[k].context,f,h,v);break;default:if(!C)for(P=1,C=new Array(w-1);P<w;P++)C[P-1]=arguments[P];j[k].fn.apply(j[k].context,C)}}return!0},l.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,v){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var _=this._events[g];if(_.fn)_.fn===f&&(!v||_.once)&&(!h||_.context===h)&&o(this,g);else{for(var y=0,j=[],w=_.length;y<w;y++)(_[y].fn!==f||v&&!_[y].once||h&&_[y].context!==h)&&j.push(_[y]);j.length?this._events[g]=j.length===1?j[0]:j:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(yoe);var Det=yoe.exports;const Ret=ga(Det);var ZE=new Ret,QE="recharts.syncMouseEvents";function Xw(e){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xw(e)}function Met(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,boe(n.key),n)}}function Iet(e,t,r){return t&&Wq(e.prototype,t),r&&Wq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e6(e,t,r){return t=boe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=Let(e,"string");return Xw(t)=="symbol"?t:t+""}function Let(e,t){if(Xw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $et=function(){function e(){Met(this,e),e6(this,"activeIndex",0),e6(this,"coordinateList",[]),e6(this,"layout","horizontal")}return Iet(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,v=r.mouseHandlerCallback,g=v===void 0?null:v;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+d,v=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:v})}}}])}();function Bet(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Xt(n)&&Xt(s))return!0}return!1}function zet(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function woe(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,o=_s(t,r,n,s),l=_s(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function Uet(e,t,r){var n,s,a,o;if(e==="horizontal")n=t.x,a=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,f=t.outerRadius,h=t.angle,v=_s(l,c,d,h),g=_s(l,c,f,h);n=v.x,s=v.y,a=g.x,o=g.y}else return woe(t);return[{x:n,y:s},{x:a,y:o}]}function Jw(e){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jw(e)}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(n){Vet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vet(e,t,r){return t=qet(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qet(e){var t=Wet(e,"string");return Jw(t)=="symbol"?t:t+""}function Wet(e,t){if(Jw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Het(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,v=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!o||v!=="ScatterChart"&&s!=="axis")return null;var _,y=V1;if(v==="ScatterChart")_=o,y=xYe;else if(v==="BarChart")_=zet(h,o,c,f),y=AM;else if(h==="radial"){var j=woe(o),w=j.cx,C=j.cy,k=j.radius,T=j.startAngle,P=j.endAngle;_={cx:w,cy:C,startAngle:T,endAngle:P,innerRadius:k,outerRadius:k},y=vie}else _={points:Uet(h,o,c)},y=V1;var D=$j($j($j($j({stroke:"#ccc",pointerEvents:"none"},c),_),an(g,!1)),{},{payload:l,payloadIndex:d,className:$n("recharts-tooltip-cursor",g.className)});return b.isValidElement(g)?b.cloneElement(g,D):b.createElement(y,D)}var Get=["item"],Ket=["children","className","width","height","style","compact","title","desc"];function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(this,arguments)}function Gq(e,t){return Jet(e)||Xet(e,t)||joe(e,t)||Yet()}function Yet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xet(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Jet(e){if(Array.isArray(e))return e}function Kq(e,t){if(e==null)return{};var r=Zet(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zet(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Noe(n.key),n)}}function ett(e,t,r){return t&&Yq(e.prototype,t),r&&Yq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ttt(e,t,r){return t=LS(t),rtt(e,_oe()?Reflect.construct(t,r||[],LS(e).constructor):t.apply(e,r))}function rtt(e,t){if(t&&(zx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ntt(e)}function ntt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_oe=function(){return!!e})()}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LS(e)}function att(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iO(e,t)}function iO(e,t){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iO(e,t)}function Ux(e){return ott(e)||itt(e)||joe(e)||stt()}function stt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(e,t){if(e){if(typeof e=="string")return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}}function itt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ott(e){if(Array.isArray(e))return oO(e)}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(r),!0).forEach(function(n){hn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hn(e,t,r){return t=Noe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Noe(e){var t=ltt(e,"string");return zx(t)=="symbol"?t:t+""}function ltt(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ctt={xAxis:["bottom","top"],yAxis:["left","right"]},utt={width:"100%",height:"100%"},Soe={x:0,y:0};function Bj(e){return e}var dtt=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ftt=function(t,r,n,s){var a=r.find(function(f){return f&&f.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return Ct(Ct(Ct({},s),_s(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=s.angle;return Ct(Ct(Ct({},s),_s(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return Soe},bA=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ux(l),Ux(d)):l},[]);return o.length>0?o:t&&t.length&&Xt(s)&&Xt(a)?t.slice(s,a+1):[]};function Coe(e){return e==="number"?[0,"auto"]:void 0}var lO=function(t,r,n,s){var a=t.graphicalItems,o=t.tooltipAxis,l=bA(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?l:h;v=$N(g,o.dataKey,s)}else v=h&&h[n]||l[n];return v?[].concat(Ux(c),[die(d,v)]):c},[])},Jq=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},o=dtt(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,f=GWe(o,l,d,c);if(f>=0&&d){var h=d[f]&&d[f].value,v=lO(t,r,f,h),g=ftt(n,l,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:v,activeCoordinate:g}}return null},htt=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,h=t.children,v=t.stackOffset,g=sie(f,a);return n.reduce(function(_,y){var j,w=y.type.defaultProps!==void 0?Ct(Ct({},y.type.defaultProps),y.props):y.props,C=w.type,k=w.dataKey,T=w.allowDataOverflow,P=w.allowDuplicatedCategory,D=w.scale,M=w.ticks,I=w.includeHidden,B=w[o];if(_[B])return _;var V=bA(t.data,{graphicalItems:s.filter(function(ee){var fe,ne=o in ee.props?ee.props[o]:(fe=ee.type.defaultProps)===null||fe===void 0?void 0:fe[o];return ne===B}),dataStartIndex:c,dataEndIndex:d}),U=V.length,q,re,H;Bet(w.domain,T,C)&&(q=j8(w.domain,null,T),g&&(C==="number"||D!=="auto")&&(H=N2(V,k,"category")));var X=Coe(C);if(!q||q.length===0){var Q,se=(Q=w.domain)!==null&&Q!==void 0?Q:X;if(k){if(q=N2(V,k,C),C==="category"&&g){var te=$Oe(q);P&&te?(re=q,q=SS(0,U)):P||(q=fV(se,q,y).reduce(function(ee,fe){return ee.indexOf(fe)>=0?ee:[].concat(Ux(ee),[fe])},[]))}else if(C==="category")P?q=q.filter(function(ee){return ee!==""&&!Bn(ee)}):q=fV(se,q,y).reduce(function(ee,fe){return ee.indexOf(fe)>=0||fe===""||Bn(fe)?ee:[].concat(Ux(ee),[fe])},[]);else if(C==="number"){var ce=ZWe(V,s.filter(function(ee){var fe,ne,Y=o in ee.props?ee.props[o]:(fe=ee.type.defaultProps)===null||fe===void 0?void 0:fe[o],ue="hide"in ee.props?ee.props.hide:(ne=ee.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return Y===B&&(I||!ue)}),k,a,f);ce&&(q=ce)}g&&(C==="number"||D!=="auto")&&(H=N2(V,k,"category"))}else g?q=SS(0,U):l&&l[B]&&l[B].hasStack&&C==="number"?q=v==="expand"?[0,1]:uie(l[B].stackGroups,c,d):q=aie(V,s.filter(function(ee){var fe=o in ee.props?ee.props[o]:ee.type.defaultProps[o],ne="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return fe===B&&(I||!ne)}),C,f,!0);if(C==="number")q=sO(h,q,B,a,M),se&&(q=j8(se,q,T));else if(C==="category"&&se){var xe=se,de=q.every(function(ee){return xe.indexOf(ee)>=0});de&&(q=xe)}}return Ct(Ct({},_),{},hn({},B,Ct(Ct({},w),{},{axisType:a,domain:q,categoricalDomain:H,duplicateDomain:re,originalDomain:(j=w.domain)!==null&&j!==void 0?j:X,isCategorical:g,layout:f})))},{})},mtt=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.layout,h=t.children,v=bA(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),g=v.length,_=sie(f,a),y=-1;return n.reduce(function(j,w){var C=w.type.defaultProps!==void 0?Ct(Ct({},w.type.defaultProps),w.props):w.props,k=C[o],T=Coe("number");if(!j[k]){y++;var P;return _?P=SS(0,g):l&&l[k]&&l[k].hasStack?(P=uie(l[k].stackGroups,c,d),P=sO(h,P,k,a)):(P=j8(T,aie(v,n.filter(function(D){var M,I,B=o in D.props?D.props[o]:(M=D.type.defaultProps)===null||M===void 0?void 0:M[o],V="hide"in D.props?D.props.hide:(I=D.type.defaultProps)===null||I===void 0?void 0:I.hide;return B===k&&!V}),"number",f),s.defaultProps.allowDataOverflow),P=sO(h,P,k,a)),Ct(Ct({},j),{},hn({},k,Ct(Ct({axisType:a},s.defaultProps),{},{hide:!0,orientation:eu(ctt,"".concat(a,".").concat(y%2),null),domain:P,originalDomain:T,isCategorical:_,layout:f})))}return j},{})},ptt=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=t.children,h="".concat(s,"Id"),v=Gu(f,a),g={};return v&&v.length?g=htt(t,{axes:v,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(g=mtt(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),g},gtt=function(t){var r=Jm(t),n=Rh(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:eM(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hS(r,n)}},Zq=function(t){var r=t.children,n=t.defaultShowTooltip,s=Vc(r,Ox),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vtt=function(t){return!t||!t.length?!1:t.some(function(r){var n=Lh(r&&r.type);return n&&n.indexOf("Bar")>=0})},Qq=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xtt=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,f=n.height,h=n.children,v=n.margin||{},g=Vc(h,Ox),_=Vc(h,B1),y=Object.keys(c).reduce(function(P,D){var M=c[D],I=M.orientation;return!M.mirror&&!M.hide?Ct(Ct({},P),{},hn({},I,P[I]+M.width)):P},{left:v.left||0,right:v.right||0}),j=Object.keys(o).reduce(function(P,D){var M=o[D],I=M.orientation;return!M.mirror&&!M.hide?Ct(Ct({},P),{},hn({},I,eu(P,"".concat(I))+M.height)):P},{top:v.top||0,bottom:v.bottom||0}),w=Ct(Ct({},j),y),C=w.bottom;g&&(w.bottom+=g.props.height||Ox.defaultProps.height),_&&r&&(w=XWe(w,s,n,r));var k=d-w.left-w.right,T=f-w.top-w.bottom;return Ct(Ct({brushBottom:C},w),{},{width:Math.max(k,0),height:Math.max(T,0)})},ytt=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},IM=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,v=function(w,C){var k=C.graphicalItems,T=C.stackGroups,P=C.offset,D=C.updateId,M=C.dataStartIndex,I=C.dataEndIndex,B=w.barSize,V=w.layout,U=w.barGap,q=w.barCategoryGap,re=w.maxBarSize,H=Qq(V),X=H.numericAxisName,Q=H.cateAxisName,se=vtt(k),te=[];return k.forEach(function(ce,xe){var de=bA(w.data,{graphicalItems:[ce],dataStartIndex:M,dataEndIndex:I}),ee=ce.type.defaultProps!==void 0?Ct(Ct({},ce.type.defaultProps),ce.props):ce.props,fe=ee.dataKey,ne=ee.maxBarSize,Y=ee["".concat(X,"Id")],ue=ee["".concat(Q,"Id")],le={},ke=c.reduce(function(Ue,gt){var Ot=C["".concat(gt.axisType,"Map")],br=ee["".concat(gt.axisType,"Id")];Ot&&Ot[br]||gt.axisType==="zAxis"||$g(!1);var Yr=Ot[br];return Ct(Ct({},Ue),{},hn(hn({},gt.axisType,Yr),"".concat(gt.axisType,"Ticks"),Rh(Yr)))},le),_e=ke[Q],Fe=ke["".concat(Q,"Ticks")],Be=T&&T[Y]&&T[Y].hasStack&&oHe(ce,T[Y].stackGroups),Re=Lh(ce.type).indexOf("Bar")>=0,Te=hS(_e,Fe),$e=[],pe=se&&KWe({barSize:B,stackGroups:T,totalSize:ytt(ke,Q)});if(Re){var Ge,pt,Pt=Bn(ne)?re:ne,nt=(Ge=(pt=hS(_e,Fe,!0))!==null&&pt!==void 0?pt:Pt)!==null&&Ge!==void 0?Ge:0;$e=YWe({barGap:U,barCategoryGap:q,bandSize:nt!==Te?nt:Te,sizeList:pe[ue],maxBarSize:Pt}),nt!==Te&&($e=$e.map(function(Ue){return Ct(Ct({},Ue),{},{position:Ct(Ct({},Ue.position),{},{offset:Ue.position.offset-nt/2})})}))}var Ye=ce&&ce.type&&ce.type.getComposedData;Ye&&te.push({props:Ct(Ct({},Ye(Ct(Ct({},ke),{},{displayedData:de,props:w,dataKey:fe,item:ce,bandSize:Te,barPosition:$e,offset:P,stackedData:Be,layout:V,dataStartIndex:M,dataEndIndex:I}))),{},hn(hn(hn({key:ce.key||"item-".concat(xe)},X,ke[X]),Q,ke[Q]),"animationId",D)),childIndex:ZOe(ce,w.children),item:ce})}),te},g=function(w,C){var k=w.props,T=w.dataStartIndex,P=w.dataEndIndex,D=w.updateId;if(!tz({props:k}))return null;var M=k.children,I=k.layout,B=k.stackOffset,V=k.data,U=k.reverseStackOrder,q=Qq(I),re=q.numericAxisName,H=q.cateAxisName,X=Gu(M,n),Q=sHe(V,X,"".concat(re,"Id"),"".concat(H,"Id"),B,U),se=c.reduce(function(ee,fe){var ne="".concat(fe.axisType,"Map");return Ct(Ct({},ee),{},hn({},ne,ptt(k,Ct(Ct({},fe),{},{graphicalItems:X,stackGroups:fe.axisType===re&&Q,dataStartIndex:T,dataEndIndex:P}))))},{}),te=xtt(Ct(Ct({},se),{},{props:k,graphicalItems:X}),C==null?void 0:C.legendBBox);Object.keys(se).forEach(function(ee){se[ee]=f(k,se[ee],te,ee.replace("Map",""),r)});var ce=se["".concat(H,"Map")],xe=gtt(ce),de=v(k,Ct(Ct({},se),{},{dataStartIndex:T,dataEndIndex:P,updateId:D,graphicalItems:X,stackGroups:Q,offset:te}));return Ct(Ct({formattedGraphicalItems:de,graphicalItems:X,offset:te,stackGroups:Q},xe),se)},_=function(j){function w(C){var k,T,P;return Qet(this,w),P=ttt(this,w,[C]),hn(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),hn(P,"accessibilityManager",new $et),hn(P,"handleLegendBBoxUpdate",function(D){if(D){var M=P.state,I=M.dataStartIndex,B=M.dataEndIndex,V=M.updateId;P.setState(Ct({legendBBox:D},g({props:P.props,dataStartIndex:I,dataEndIndex:B,updateId:V},Ct(Ct({},P.state),{},{legendBBox:D}))))}}),hn(P,"handleReceiveSyncEvent",function(D,M,I){if(P.props.syncId===D){if(I===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(M)}}),hn(P,"handleBrushChange",function(D){var M=D.startIndex,I=D.endIndex;if(M!==P.state.dataStartIndex||I!==P.state.dataEndIndex){var B=P.state.updateId;P.setState(function(){return Ct({dataStartIndex:M,dataEndIndex:I},g({props:P.props,dataStartIndex:M,dataEndIndex:I,updateId:B},P.state))}),P.triggerSyncEvent({dataStartIndex:M,dataEndIndex:I})}}),hn(P,"handleMouseEnter",function(D){var M=P.getMouseInfo(D);if(M){var I=Ct(Ct({},M),{},{isTooltipActive:!0});P.setState(I),P.triggerSyncEvent(I);var B=P.props.onMouseEnter;gn(B)&&B(I,D)}}),hn(P,"triggeredAfterMouseMove",function(D){var M=P.getMouseInfo(D),I=M?Ct(Ct({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(I),P.triggerSyncEvent(I);var B=P.props.onMouseMove;gn(B)&&B(I,D)}),hn(P,"handleItemMouseEnter",function(D){P.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),hn(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),hn(P,"handleMouseMove",function(D){D.persist(),P.throttleTriggeredAfterMouseMove(D)}),hn(P,"handleMouseLeave",function(D){P.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};P.setState(M),P.triggerSyncEvent(M);var I=P.props.onMouseLeave;gn(I)&&I(M,D)}),hn(P,"handleOuterEvent",function(D){var M=JOe(D),I=eu(P.props,"".concat(M));if(M&&gn(I)){var B,V;/.*touch.*/i.test(M)?V=P.getMouseInfo(D.changedTouches[0]):V=P.getMouseInfo(D),I((B=V)!==null&&B!==void 0?B:{},D)}}),hn(P,"handleClick",function(D){var M=P.getMouseInfo(D);if(M){var I=Ct(Ct({},M),{},{isTooltipActive:!0});P.setState(I),P.triggerSyncEvent(I);var B=P.props.onClick;gn(B)&&B(I,D)}}),hn(P,"handleMouseDown",function(D){var M=P.props.onMouseDown;if(gn(M)){var I=P.getMouseInfo(D);M(I,D)}}),hn(P,"handleMouseUp",function(D){var M=P.props.onMouseUp;if(gn(M)){var I=P.getMouseInfo(D);M(I,D)}}),hn(P,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),hn(P,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseDown(D.changedTouches[0])}),hn(P,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseUp(D.changedTouches[0])}),hn(P,"handleDoubleClick",function(D){var M=P.props.onDoubleClick;if(gn(M)){var I=P.getMouseInfo(D);M(I,D)}}),hn(P,"handleContextMenu",function(D){var M=P.props.onContextMenu;if(gn(M)){var I=P.getMouseInfo(D);M(I,D)}}),hn(P,"triggerSyncEvent",function(D){P.props.syncId!==void 0&&ZE.emit(QE,P.props.syncId,D,P.eventEmitterSymbol)}),hn(P,"applySyncEvent",function(D){var M=P.props,I=M.layout,B=M.syncMethod,V=P.state.updateId,U=D.dataStartIndex,q=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)P.setState(Ct({dataStartIndex:U,dataEndIndex:q},g({props:P.props,dataStartIndex:U,dataEndIndex:q,updateId:V},P.state)));else if(D.activeTooltipIndex!==void 0){var re=D.chartX,H=D.chartY,X=D.activeTooltipIndex,Q=P.state,se=Q.offset,te=Q.tooltipTicks;if(!se)return;if(typeof B=="function")X=B(te,D);else if(B==="value"){X=-1;for(var ce=0;ce<te.length;ce++)if(te[ce].value===D.activeLabel){X=ce;break}}var xe=Ct(Ct({},se),{},{x:se.left,y:se.top}),de=Math.min(re,xe.x+xe.width),ee=Math.min(H,xe.y+xe.height),fe=te[X]&&te[X].value,ne=lO(P.state,P.props.data,X),Y=te[X]?{x:I==="horizontal"?te[X].coordinate:de,y:I==="horizontal"?ee:te[X].coordinate}:Soe;P.setState(Ct(Ct({},D),{},{activeLabel:fe,activeCoordinate:Y,activePayload:ne,activeTooltipIndex:X}))}else P.setState(D)}),hn(P,"renderCursor",function(D){var M,I=P.state,B=I.isTooltipActive,V=I.activeCoordinate,U=I.activePayload,q=I.offset,re=I.activeTooltipIndex,H=I.tooltipAxisBandSize,X=P.getTooltipEventType(),Q=(M=D.props.active)!==null&&M!==void 0?M:B,se=P.props.layout,te=D.key||"_recharts-cursor";return Se.createElement(Het,{key:te,activeCoordinate:V,activePayload:U,activeTooltipIndex:re,chartName:r,element:D,isActive:Q,layout:se,offset:q,tooltipAxisBandSize:H,tooltipEventType:X})}),hn(P,"renderPolarAxis",function(D,M,I){var B=eu(D,"type.axisType"),V=eu(P.state,"".concat(B,"Map")),U=D.type.defaultProps,q=U!==void 0?Ct(Ct({},U),D.props):D.props,re=V&&V[q["".concat(B,"Id")]];return b.cloneElement(D,Ct(Ct({},re),{},{className:$n(B,re.className),key:D.key||"".concat(M,"-").concat(I),ticks:Rh(re,!0)}))}),hn(P,"renderPolarGrid",function(D){var M=D.props,I=M.radialLines,B=M.polarAngles,V=M.polarRadius,U=P.state,q=U.radiusAxisMap,re=U.angleAxisMap,H=Jm(q),X=Jm(re),Q=X.cx,se=X.cy,te=X.innerRadius,ce=X.outerRadius;return b.cloneElement(D,{polarAngles:Array.isArray(B)?B:Rh(X,!0).map(function(xe){return xe.coordinate}),polarRadius:Array.isArray(V)?V:Rh(H,!0).map(function(xe){return xe.coordinate}),cx:Q,cy:se,innerRadius:te,outerRadius:ce,key:D.key||"polar-grid",radialLines:I})}),hn(P,"renderLegend",function(){var D=P.state.formattedGraphicalItems,M=P.props,I=M.children,B=M.width,V=M.height,U=P.props.margin||{},q=B-(U.left||0)-(U.right||0),re=rie({children:I,formattedGraphicalItems:D,legendWidth:q,legendContent:d});if(!re)return null;var H=re.item,X=Kq(re,Get);return b.cloneElement(H,Ct(Ct({},X),{},{chartWidth:B,chartHeight:V,margin:U,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),hn(P,"renderTooltip",function(){var D,M=P.props,I=M.children,B=M.accessibilityLayer,V=Vc(I,qc);if(!V)return null;var U=P.state,q=U.isTooltipActive,re=U.activeCoordinate,H=U.activePayload,X=U.activeLabel,Q=U.offset,se=(D=V.props.active)!==null&&D!==void 0?D:q;return b.cloneElement(V,{viewBox:Ct(Ct({},Q),{},{x:Q.left,y:Q.top}),active:se,label:X,payload:se?H:[],coordinate:re,accessibilityLayer:B})}),hn(P,"renderBrush",function(D){var M=P.props,I=M.margin,B=M.data,V=P.state,U=V.offset,q=V.dataStartIndex,re=V.dataEndIndex,H=V.updateId;return b.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Rj(P.handleBrushChange,D.props.onChange),data:B,x:Xt(D.props.x)?D.props.x:U.left,y:Xt(D.props.y)?D.props.y:U.top+U.height+U.brushBottom-(I.bottom||0),width:Xt(D.props.width)?D.props.width:U.width,startIndex:q,endIndex:re,updateId:"brush-".concat(H)})}),hn(P,"renderReferenceElement",function(D,M,I){if(!D)return null;var B=P,V=B.clipPathId,U=P.state,q=U.xAxisMap,re=U.yAxisMap,H=U.offset,X=D.type.defaultProps||{},Q=D.props,se=Q.xAxisId,te=se===void 0?X.xAxisId:se,ce=Q.yAxisId,xe=ce===void 0?X.yAxisId:ce;return b.cloneElement(D,{key:D.key||"".concat(M,"-").concat(I),xAxis:q[te],yAxis:re[xe],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:V})}),hn(P,"renderActivePoints",function(D){var M=D.item,I=D.activePoint,B=D.basePoint,V=D.childIndex,U=D.isRange,q=[],re=M.props.key,H=M.item.type.defaultProps!==void 0?Ct(Ct({},M.item.type.defaultProps),M.item.props):M.item.props,X=H.activeDot,Q=H.dataKey,se=Ct(Ct({index:V,dataKey:Q,cx:I.x,cy:I.y,r:4,fill:CM(M.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},an(X,!1)),BN(X));return q.push(w.renderActiveDot(X,se,"".concat(re,"-activePoint-").concat(V))),B?q.push(w.renderActiveDot(X,Ct(Ct({},se),{},{cx:B.x,cy:B.y}),"".concat(re,"-basePoint-").concat(V))):U&&q.push(null),q}),hn(P,"renderGraphicChild",function(D,M,I){var B=P.filterFormatItem(D,M,I);if(!B)return null;var V=P.getTooltipEventType(),U=P.state,q=U.isTooltipActive,re=U.tooltipAxis,H=U.activeTooltipIndex,X=U.activeLabel,Q=P.props.children,se=Vc(Q,qc),te=B.props,ce=te.points,xe=te.isRange,de=te.baseLine,ee=B.item.type.defaultProps!==void 0?Ct(Ct({},B.item.type.defaultProps),B.item.props):B.item.props,fe=ee.activeDot,ne=ee.hide,Y=ee.activeBar,ue=ee.activeShape,le=!!(!ne&&q&&se&&(fe||Y||ue)),ke={};V!=="axis"&&se&&se.props.trigger==="click"?ke={onClick:Rj(P.handleItemMouseEnter,D.props.onClick)}:V!=="axis"&&(ke={onMouseLeave:Rj(P.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Rj(P.handleItemMouseEnter,D.props.onMouseEnter)});var _e=b.cloneElement(D,Ct(Ct({},B.props),ke));function Fe(gt){return typeof re.dataKey=="function"?re.dataKey(gt.payload):null}if(le)if(H>=0){var Be,Re;if(re.dataKey&&!re.allowDuplicatedCategory){var Te=typeof re.dataKey=="function"?Fe:"payload.".concat(re.dataKey.toString());Be=$N(ce,Te,X),Re=xe&&de&&$N(de,Te,X)}else Be=ce==null?void 0:ce[H],Re=xe&&de&&de[H];if(ue||Y){var $e=D.props.activeIndex!==void 0?D.props.activeIndex:H;return[b.cloneElement(D,Ct(Ct(Ct({},B.props),ke),{},{activeIndex:$e})),null,null]}if(!Bn(Be))return[_e].concat(Ux(P.renderActivePoints({item:B,activePoint:Be,basePoint:Re,childIndex:H,isRange:xe})))}else{var pe,Ge=(pe=P.getItemByXY(P.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:_e},pt=Ge.graphicalItem,Pt=pt.item,nt=Pt===void 0?D:Pt,Ye=pt.childIndex,Ue=Ct(Ct(Ct({},B.props),ke),{},{activeIndex:Ye});return[b.cloneElement(nt,Ue),null,null]}return xe?[_e,null,null]:[_e,null]}),hn(P,"renderCustomized",function(D,M,I){return b.cloneElement(D,Ct(Ct({key:"recharts-customized-".concat(I)},P.props),P.state))}),hn(P,"renderMap",{CartesianGrid:{handler:Bj,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Bj},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Bj},YAxis:{handler:Bj},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((k=C.id)!==null&&k!==void 0?k:xy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=tse(P.triggeredAfterMouseMove,(T=C.throttleDelay)!==null&&T!==void 0?T:1e3/60),P.state={},P}return att(w,j),ett(w,[{key:"componentDidMount",value:function(){var k,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,T=k.children,P=k.data,D=k.height,M=k.layout,I=Vc(T,qc);if(I){var B=I.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,U=lO(this.state,P,B,V),q=this.state.tooltipTicks[B].coordinate,re=(this.state.offset.top+D)/2,H=M==="horizontal",X=H?{x:q,y:re}:{y:q,x:re},Q=this.state.formattedGraphicalItems.find(function(te){var ce=te.item;return ce.type.name==="Scatter"});Q&&(X=Ct(Ct({},X),Q.props.points[B].tooltipPosition),U=Q.props.points[B].tooltipPayload);var se={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:V,activePayload:U,activeCoordinate:X};this.setState(se),this.renderCursor(I),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var P,D;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(k){LP([Vc(k.children,qc)],[Vc(this.props.children,qc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Vc(this.props.children,qc);if(k&&typeof k.props.shared=="boolean"){var T=k.props.shared?"axis":"item";return l.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var T=this.container,P=T.getBoundingClientRect(),D=wze(P),M={chartX:Math.round(k.pageX-D.left),chartY:Math.round(k.pageY-D.top)},I=P.width/T.offsetWidth||1,B=this.inRange(M.chartX,M.chartY,I);if(!B)return null;var V=this.state,U=V.xAxisMap,q=V.yAxisMap,re=this.getTooltipEventType(),H=Jq(this.state,this.props.data,this.props.layout,B);if(re!=="axis"&&U&&q){var X=Jm(U).scale,Q=Jm(q).scale,se=X&&X.invert?X.invert(M.chartX):null,te=Q&&Q.invert?Q.invert(M.chartY):null;return Ct(Ct({},M),{},{xValue:se,yValue:te},H)}return H?Ct(Ct({},M),H):null}},{key:"inRange",value:function(k,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,M=k/P,I=T/P;if(D==="horizontal"||D==="vertical"){var B=this.state.offset,V=M>=B.left&&M<=B.left+B.width&&I>=B.top&&I<=B.top+B.height;return V?{x:M,y:I}:null}var U=this.state,q=U.angleAxisMap,re=U.radiusAxisMap;if(q&&re){var H=Jm(q);return pV({x:M,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,T=this.getTooltipEventType(),P=Vc(k,qc),D={};P&&T==="axis"&&(P.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=BN(this.props,this.handleOuterEvent);return Ct(Ct({},M),D)}},{key:"addListener",value:function(){ZE.on(QE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ZE.removeListener(QE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,T,P){for(var D=this.state.formattedGraphicalItems,M=0,I=D.length;M<I;M++){var B=D[M];if(B.item===k||B.props.key===k.key||T===Lh(B.item.type)&&P===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,T=this.state.offset,P=T.left,D=T.top,M=T.height,I=T.width;return Se.createElement("defs",null,Se.createElement("clipPath",{id:k},Se.createElement("rect",{x:P,y:D,height:M,width:I})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(T,P){var D=Gq(P,2),M=D[0],I=D[1];return Ct(Ct({},T),{},hn({},M,I.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(T,P){var D=Gq(P,2),M=D[0],I=D[1];return Ct(Ct({},T),{},hn({},M,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[k])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(k){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[k])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(k){var T=this.state,P=T.formattedGraphicalItems,D=T.activeItem;if(P&&P.length)for(var M=0,I=P.length;M<I;M++){var B=P[M],V=B.props,U=B.item,q=U.type.defaultProps!==void 0?Ct(Ct({},U.type.defaultProps),U.props):U.props,re=Lh(U.type);if(re==="Bar"){var H=(V.data||[]).find(function(te){return ZKe(k,te)});if(H)return{graphicalItem:B,payload:H}}else if(re==="RadialBar"){var X=(V.data||[]).find(function(te){return pV(k,te)});if(X)return{graphicalItem:B,payload:X}}else if(hA(B,D)||mA(B,D)||Ww(B,D)){var Q=BXe({graphicalItem:B,activeTooltipItem:D,itemData:q.data}),se=q.activeIndex===void 0?Q:q.activeIndex;return{graphicalItem:Ct(Ct({},B),{},{childIndex:se}),payload:Ww(B,D)?q.data[Q]:B.props.data[Q]}}}return null}},{key:"render",value:function(){var k=this;if(!tz(this))return null;var T=this.props,P=T.children,D=T.className,M=T.width,I=T.height,B=T.style,V=T.compact,U=T.title,q=T.desc,re=Kq(T,Ket),H=an(re,!1);if(V)return Se.createElement(Nq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement(BP,S1({},H,{width:M,height:I,title:U,desc:q}),this.renderClipPath(),nz(P,this.renderMap)));if(this.props.accessibilityLayer){var X,Q;H.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,H.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",H.onKeyDown=function(te){k.accessibilityManager.keyboardEvent(te)},H.onFocus=function(){k.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return Se.createElement(Nq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement("div",S1({className:$n("recharts-wrapper",D),style:Ct({position:"relative",cursor:"default",width:M,height:I},B)},se,{ref:function(ce){k.container=ce}}),Se.createElement(BP,S1({},H,{width:M,height:I,title:U,desc:q,style:utt}),this.renderClipPath(),nz(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);hn(_,"displayName",r),hn(_,"defaultProps",Ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),hn(_,"getDerivedStateFromProps",function(j,w){var C=j.dataKey,k=j.data,T=j.children,P=j.width,D=j.height,M=j.layout,I=j.stackOffset,B=j.margin,V=w.dataStartIndex,U=w.dataEndIndex;if(w.updateId===void 0){var q=Zq(j);return Ct(Ct(Ct({},q),{},{updateId:0},g(Ct(Ct({props:j},q),{},{updateId:0}),w)),{},{prevDataKey:C,prevData:k,prevWidth:P,prevHeight:D,prevLayout:M,prevStackOffset:I,prevMargin:B,prevChildren:T})}if(C!==w.prevDataKey||k!==w.prevData||P!==w.prevWidth||D!==w.prevHeight||M!==w.prevLayout||I!==w.prevStackOffset||!$1(B,w.prevMargin)){var re=Zq(j),H={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},X=Ct(Ct({},Jq(w,k,M)),{},{updateId:w.updateId+1}),Q=Ct(Ct(Ct({},re),H),X);return Ct(Ct(Ct({},Q),g(Ct({props:j},Q),w)),{},{prevDataKey:C,prevData:k,prevWidth:P,prevHeight:D,prevLayout:M,prevStackOffset:I,prevMargin:B,prevChildren:T})}if(!LP(T,w.prevChildren)){var se,te,ce,xe,de=Vc(T,Ox),ee=de&&(se=(te=de.props)===null||te===void 0?void 0:te.startIndex)!==null&&se!==void 0?se:V,fe=de&&(ce=(xe=de.props)===null||xe===void 0?void 0:xe.endIndex)!==null&&ce!==void 0?ce:U,ne=ee!==V||fe!==U,Y=!Bn(k),ue=Y&&!ne?w.updateId:w.updateId+1;return Ct(Ct({updateId:ue},g(Ct(Ct({props:j},w),{},{updateId:ue,dataStartIndex:ee,dataEndIndex:fe}),w)),{},{prevChildren:T,dataStartIndex:ee,dataEndIndex:fe})}return null}),hn(_,"renderActiveDot",function(j,w,C){var k;return b.isValidElement(j)?k=b.cloneElement(j,w):gn(j)?k=j(w):k=Se.createElement(lA,w),Se.createElement(wa,{className:"recharts-active-dot",key:C},k)});var y=b.forwardRef(function(w,C){return Se.createElement(_,S1({},w,{ref:C}))});return y.displayName=_.displayName,y},eW=IM({chartName:"BarChart",GraphicalChild:Dp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yg},{axisType:"yAxis",AxisComp:bg}],formatAxisMap:Uie}),btt=IM({chartName:"PieChart",GraphicalChild:sm,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:fA},{axisType:"radiusAxis",AxisComp:uA}],formatAxisMap:vHe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),wtt=IM({chartName:"AreaChart",GraphicalChild:Zp,axisComponents:[{axisType:"xAxis",AxisComp:yg},{axisType:"yAxis",AxisComp:bg}],formatAxisMap:Uie});const _tt=()=>{const[e,t]=b.useState(!0),[r,n]=b.useState(null),[s,a]=b.useState({totalUsers:0,newUsers:0,totalRevenue:0,activeEvents:0,totalTransactions:0,pendingWithdrawals:0,conversionRate:0,avgTransactionValue:0}),[o,l]=b.useState([]),[c,d]=b.useState([]),[f,h]=b.useState([]),[v,g]=b.useState([]),[_,y]=b.useState([]),[j,w]=b.useState({byCountry:{},byCity:{},byAgeGroup:{}}),[C,k]=b.useState([]),[T,P]=b.useState(0),D=b.useCallback(async(I=!1)=>{var B;t(!0),n(null);try{const[V,U,q,re,H,X,Q]=await Promise.all([Oe.rpc("get_global_analytics"),Oe.from("transactions").select("*, user:user_id(full_name, email)").order("created_at",{ascending:!1}).limit(10),Oe.from("withdrawal_requests").select("*, user:user_id(full_name)").order("requested_at",{ascending:!1}).limit(10),Oe.from("announcements").select("*").order("created_at",{ascending:!1}).limit(5),Oe.from("profiles").select("created_at").gte("created_at",w2(new Date,30).toISOString()),Oe.from("withdrawal_requests").select("*").eq("status","pending"),Oe.from("profiles").select("country, city, date_of_birth").limit(1e3)]);if(V.error)throw V.error;const se=V.data&&V.data[0]?V.data[0]:{},ce=(se.monthly_revenue||[]).map(ke=>({name:Gn(new Date(ke.month),"MMM yyyy",{locale:Wo}),revenue:(ke.total_pi||0)*10,pi:ke.total_pi||0})),xe={},de=new Date;BCe({start:w2(de,29),end:de}).forEach(ke=>{const _e=Gn(ke,"yyyy-MM-dd");xe[_e]=0}),(H.data||[]).forEach(ke=>{const _e=Gn(new Date(ke.created_at),"yyyy-MM-dd");xe[_e]!==void 0&&xe[_e]++});const fe=Object.entries(xe).map(([ke,_e])=>({date:Gn(new Date(ke),"dd MMM",{locale:Wo}),users:_e})),ne={byCountry:{},byCity:{},byAgeGroup:{}};(Q.data||[]).forEach(ke=>{if(ke.country&&(ne.byCountry[ke.country]=(ne.byCountry[ke.country]||0)+1),ke.city&&(ne.byCity[ke.city]=(ne.byCity[ke.city]||0)+1),ke.date_of_birth){const _e=new Date(ke.date_of_birth),Fe=de.getFullYear()-_e.getFullYear();let Be;Fe<18?Be="<18":Fe<=25?Be="18-25":Fe<=35?Be="26-35":Fe<=50?Be="36-50":Be="50+",ne.byAgeGroup[Be]=(ne.byAgeGroup[Be]||0)+1}});const Y=se.total_users>0?Math.min(100,se.new_users_last_30_days/1e3*100):0,ue=se.total_coins_purchased>0?se.total_revenue_pi*10/se.total_coins_purchased:0,le=[{country:"France",transactionCount:1250,positiveTransactions:1200,totalAmount:45e3,reversals:500,percentage:35},{country:"Cte d'Ivoire",transactionCount:890,positiveTransactions:850,totalAmount:32e3,reversals:400,percentage:25},{country:"Sngal",transactionCount:650,positiveTransactions:620,totalAmount:28e3,reversals:300,percentage:18},{country:"Mali",transactionCount:420,positiveTransactions:400,totalAmount:15e3,reversals:200,percentage:12},{country:"Burkina Faso",transactionCount:280,positiveTransactions:270,totalAmount:9500,reversals:100,percentage:7},{country:"Autres",transactionCount:180,positiveTransactions:175,totalAmount:4500,reversals:50,percentage:3}];a({totalUsers:se.total_users||0,newUsers:se.new_users_last_30_days||0,totalRevenue:(se.total_revenue_pi||0)*10,activeEvents:se.active_events||0,totalTransactions:se.total_coins_purchased||0,pendingWithdrawals:((B=X.data)==null?void 0:B.length)||0,conversionRate:parseFloat(Y.toFixed(2)),avgTransactionValue:parseFloat(ue.toFixed(2))}),l(U.data||[]),d(q.data||[]),h(re.data||[]),g(ce),y(fe),w(ne),k(le),P(3670)}catch(V){console.error("Error fetching dashboard data:",V),n("Erreur de connexion. Vrifiez votre internet.")}finally{t(!1)}},[]);if(b.useEffect(()=>{D()},[D]),r)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4 text-center p-8 border border-gray-800 rounded-xl bg-black text-white",children:[i.jsx(ru,{className:"w-12 h-12 text-red-400"}),i.jsx("h3",{className:"text-xl font-bold text-red-400",children:"Erreur de chargement"}),i.jsx("p",{className:"text-gray-300 max-w-md",children:r}),i.jsxs(Ee,{onClick:()=>D(!0),variant:"outline",className:"mt-4 border-gray-700 text-white",children:[i.jsx(Hh,{className:"w-4 h-4 mr-2"})," Ressayer"]})]});const M=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 bg-black text-white min-h-screen p-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Tableau de Bord Analytique"}),i.jsx("p",{className:"text-gray-300",children:"Vue d'ensemble des performances et de l'activit de la plateforme en temps rel."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(nr,{variant:"outline",className:"flex items-center gap-1 bg-gray-900 text-white border-gray-700",children:[i.jsx(mge,{className:"w-3 h-3"}),"Mise  jour : ",Gn(new Date,"HH:mm")]}),i.jsxs(Ee,{variant:"outline",onClick:()=>D(!0),disabled:e,className:"gap-2 border-gray-700 text-white hover:bg-gray-800",children:[i.jsx(Hh,{className:`w-4 h-4 ${e?"animate-spin":""}`}),e?"Chargement...":"Actualiser"]})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:e?Array(4).fill(0).map((I,B)=>i.jsx(ys,{className:"h-32 w-full rounded-xl bg-gray-800"},B)):i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"border-l-4 border-l-blue-500 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gray-900 border-gray-800",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"Utilisateurs Totaux"}),i.jsx("div",{className:"p-2 bg-blue-900/30 rounded-full",children:i.jsx(Ga,{className:"h-5 w-5 text-blue-400"})})]}),i.jsxs(st,{children:[i.jsx("div",{className:"text-3xl font-bold text-white",children:s.totalUsers.toLocaleString()}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("p",{className:"text-sm text-gray-400 flex items-center",children:[i.jsx(S3,{className:"w-3 h-3 mr-1 text-green-500"}),"+",s.newUsers," ce mois"]}),i.jsx(nr,{variant:"secondary",className:"bg-blue-900/30 text-blue-400",children:"+12.5%"})]}),i.jsx(ll,{value:Math.min(100,s.newUsers/500*100),className:"mt-3 h-1.5 bg-gray-800"})]})]}),i.jsxs(at,{className:"border-l-4 border-l-green-500 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gray-900 border-gray-800",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"Revenu Total"}),i.jsx("div",{className:"p-2 bg-green-900/30 rounded-full",children:i.jsx(yc,{className:"h-5 w-5 text-green-400"})})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-3xl font-bold text-white",children:[s.totalRevenue.toLocaleString()," FCFA"]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("p",{className:"text-sm text-gray-400 flex items-center",children:[i.jsx(Go,{className:"w-3 h-3 mr-1 text-green-500"}),"Estim sur pices"]}),i.jsxs(nr,{variant:"secondary",className:"bg-green-900/30 text-green-400",children:[s.avgTransactionValue.toFixed(0)," FCFA/moy"]})]}),i.jsx(ll,{value:Math.min(100,s.totalRevenue/1e6*100),className:"mt-3 h-1.5 bg-gray-800"})]})]}),i.jsxs(at,{className:"border-l-4 border-l-purple-500 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gray-900 border-gray-800",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"Transactions"}),i.jsx("div",{className:"p-2 bg-purple-900/30 rounded-full",children:i.jsx(xc,{className:"h-5 w-5 text-purple-400"})})]}),i.jsxs(st,{children:[i.jsx("div",{className:"text-3xl font-bold text-white",children:s.totalTransactions}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx("p",{className:"text-sm text-gray-400",children:"Achats & crdits"}),i.jsxs(nr,{variant:"secondary",className:"bg-purple-900/30 text-purple-400",children:[s.conversionRate,"% taux"]})]}),i.jsx(ll,{value:s.conversionRate,className:"mt-3 h-1.5 bg-gray-800"})]})]}),i.jsxs(at,{className:"border-l-4 border-l-orange-500 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gray-900 border-gray-800",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"Retraits en Attente"}),i.jsx("div",{className:"p-2 bg-orange-900/30 rounded-full",children:i.jsx(Us,{className:"h-5 w-5 text-orange-400"})})]}),i.jsxs(st,{children:[i.jsx("div",{className:"text-3xl font-bold text-orange-400",children:s.pendingWithdrawals}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx("p",{className:"text-sm text-gray-400",children:" traiter"}),i.jsx(nr,{variant:"secondary",className:"bg-orange-900/30 text-orange-400",children:"Action requise"})]}),i.jsx(ll,{value:Math.min(100,s.pendingWithdrawals/50*100),className:"mt-3 h-1.5 bg-gray-800"})]})]})]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[i.jsxs(at,{className:"col-span-4 shadow-lg border border-gray-800 bg-black",children:[i.jsxs(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(IF,{className:"w-5 h-5 text-blue-400"})," Activit des Inscriptions"]}),i.jsx(nn,{className:"text-gray-300",children:"Nouveaux utilisateurs sur les 30 derniers jours"})]}),i.jsx(st,{className:"pl-2 pt-4",children:e?i.jsx(ys,{className:"h-[300px] w-full bg-gray-800"}):i.jsx(Tj,{width:"100%",height:350,children:i.jsxs(wtt,{data:_,margin:{top:10,right:30,left:0,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),i.jsx(yg,{dataKey:"date",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,minTickGap:30}),i.jsx(bg,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:I=>`${I}`}),i.jsx(loe,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151"}),i.jsx(qc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"white"},formatter:I=>[`${I} utilisateurs`,"Inscriptions"]}),i.jsx(Zp,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorUsers)"})]})})})]}),i.jsxs(at,{className:"col-span-3 shadow-lg border border-gray-800 bg-black",children:[i.jsxs(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(Go,{className:"w-5 h-5 text-green-400"})," Revenus Mensuels"]}),i.jsx(nn,{className:"text-gray-300",children:"volution des revenus en FCFA"})]}),i.jsx(st,{className:"pt-4",children:e?i.jsx(ys,{className:"h-[300px] w-full bg-gray-800"}):i.jsx(Tj,{width:"100%",height:350,children:i.jsxs(eW,{data:v,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(yg,{dataKey:"name",stroke:"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1}),i.jsx(bg,{stroke:"#9ca3af",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:I=>`${I/1e3}k`}),i.jsx(qc,{cursor:{fill:"rgba(55, 65, 81, 0.5)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"white"},formatter:I=>[`${I.toLocaleString()} FCFA`,"Revenu"]}),i.jsx(Dp,{dataKey:"revenue",fill:"url(#colorRevenue)",radius:[8,8,0,0],maxBarSize:40,children:i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:1}),i.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:1})]})})})]})})})]})]}),i.jsxs(at,{className:"shadow-lg border-gray-800 bg-black text-white",children:[i.jsx(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(Lu,{className:"h-5 w-5 text-white"}),"Rpartition par Pays"]}),i.jsx(nn,{className:"text-gray-300",children:"Dtail des crdits et achats de pices par zone gographique."})]}),i.jsxs(nr,{variant:"outline",className:"bg-blue-900/20 text-white border-blue-700/30",children:[T," transactions"]})]})}),i.jsxs(st,{className:"p-0",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(zd,{children:[i.jsx(Ud,{className:"bg-gray-900",children:i.jsxs(Ja,{children:[i.jsx(Hr,{className:"font-semibold text-gray-300",children:"Pays"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Transactions"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Crdits +"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Annulations -"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Total Net"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Part"})]})}),i.jsx(Vd,{children:C.length===0?i.jsx(Ja,{children:i.jsx(Ar,{colSpan:6,className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx(ru,{className:"h-12 w-12 text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-400 font-medium mb-2",children:"Aucune donne de crdit disponible"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Les donnes de crdit apparatront ici"})]})})}):C.map((I,B)=>i.jsxs(Ja,{className:B%2===0?"bg-gray-900":"bg-gray-800",children:[i.jsx(Ar,{className:"font-medium py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{variant:"outline",className:"rounded-full w-8 h-8 flex items-center justify-center bg-blue-900/20 text-white border-blue-700/30",children:I.country.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white",children:I.country}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[I.positiveTransactions," transactions positives"]})]})]})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsx("span",{className:"font-medium text-white",children:I.transactionCount})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsxs("span",{className:"font-medium text-green-400",children:[(I.totalAmount+I.reversals).toLocaleString()," ",""]})}),i.jsx(Ar,{className:"text-right py-4",children:I.reversals>0?i.jsxs("span",{className:"font-medium text-red-400",children:["-",I.reversals.toLocaleString()," "]}):i.jsx("span",{className:"text-gray-500",children:"-"})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsxs("span",{className:`font-bold text-lg ${I.totalAmount>=0?"text-green-300":"text-red-300"}`,children:[I.totalAmount.toLocaleString()," "]})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"font-medium text-white",children:[I.percentage,"%"]}),i.jsx("div",{className:"w-24 h-2 bg-gray-700 rounded-full overflow-hidden mt-1",children:i.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.min(100,I.percentage)}%`}})})]})})]},I.country))})]})}),C.length>0&&i.jsx("div",{className:"px-6 py-4 border-t border-gray-800 bg-gray-900",children:i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-300",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:C.length})," pays lists"]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{children:"Crdits positifs"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{children:"Annulations"})]})]})]})})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs(at,{className:"border-gray-800 bg-black text-white",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium",children:"Types de Transactions Inclus"})}),i.jsx(st,{children:i.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsx("span",{children:"Crdits manuels (admin)"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),i.jsx("span",{children:"Achats de pices (coin_pack)"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),i.jsx("span",{children:"Bonus et rcompenses"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),i.jsx("span",{children:"Annulations de crdit"})]})]})})]})}),i.jsxs(tm,{defaultValue:"transactions",className:"space-y-4",children:[i.jsxs(Xf,{className:"bg-gradient-to-r from-gray-900 to-gray-800 p-1.5 rounded-xl",children:[i.jsxs($r,{value:"transactions",className:"rounded-lg data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-white",children:[i.jsx(xc,{className:"w-4 h-4 mr-2"})," Transactions"]}),i.jsxs($r,{value:"withdrawals",className:"rounded-lg data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-white",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"})," Retraits"]}),i.jsxs($r,{value:"announcements",className:"rounded-lg data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-white",children:[i.jsx(c2,{className:"w-4 h-4 mr-2"})," Annonces"]}),i.jsxs($r,{value:"demographics",className:"rounded-lg data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm text-white",children:[i.jsx(Ga,{className:"w-4 h-4 mr-2"})," Dmographie"]})]}),i.jsx(zr,{value:"transactions",className:"space-y-4",children:i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsxs(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(xc,{className:"w-5 h-5 text-blue-400"})," Transactions Rcentes"]}),i.jsx(nn,{className:"text-gray-300",children:"Les 10 dernires transactions effectues sur la plateforme"})]}),i.jsx(st,{className:"p-6",children:e?i.jsxs("div",{className:"space-y-2",children:[i.jsx(ys,{className:"h-12 w-full bg-gray-800"}),i.jsx(ys,{className:"h-12 w-full bg-gray-800"})]}):o.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400 bg-gray-900 rounded-lg border-2 border-dashed border-gray-700",children:[i.jsx(xc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"text-lg font-medium mb-1",children:"Aucune transaction rcente"}),i.jsx("p",{className:"text-sm",children:"Les transactions apparatront ici"})]}):i.jsx("div",{className:"space-y-3",children:o.map(I=>{var B,V;return i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-800 rounded-xl bg-gray-900 hover:bg-gray-800 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${I.amount_pi>0?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:I.amount_pi>0?i.jsx(Go,{className:"w-4 h-4"}):i.jsx(sve,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-white truncate",children:I.description||"Transaction sans description"}),i.jsxs("p",{className:"text-sm text-gray-400 truncate",children:[((B=I.user)==null?void 0:B.full_name)||((V=I.user)==null?void 0:V.email)||"Utilisateur inconnu",i.jsx("span",{className:"mx-1",children:""}),Gn(new Date(I.created_at),"dd MMM yyyy  HH:mm",{locale:Wo})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:`font-bold text-lg ${I.amount_pi>0?"text-green-400":"text-red-400"}`,children:[I.amount_pi>0?"+":"",I.amount_pi," "]}),i.jsx(nr,{variant:"outline",className:"ml-2 border-gray-700 text-gray-400",children:I.type||"standard"})]})]},I.id)})})})]})}),i.jsx(zr,{value:"withdrawals",className:"space-y-4",children:i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsxs(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(Us,{className:"w-5 h-5 text-orange-400"})," Retraits Rcents"]}),i.jsx(nn,{className:"text-gray-300",children:"Historique des demandes de retrait"})]}),i.jsx(st,{className:"p-6",children:e?i.jsxs("div",{className:"space-y-2",children:[i.jsx(ys,{className:"h-12 w-full bg-gray-800"}),i.jsx(ys,{className:"h-12 w-full bg-gray-800"})]}):c.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400 bg-gray-900 rounded-lg border-2 border-dashed border-gray-700",children:[i.jsx(Us,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"text-lg font-medium mb-1",children:"Aucun retrait rcent"}),i.jsx("p",{className:"text-sm",children:"Les retraits apparatront ici"})]}):i.jsx("div",{className:"space-y-3",children:c.map(I=>{var B;return i.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-800 rounded-xl bg-gray-900 hover:bg-gray-800 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${I.status==="approved"?"bg-green-900/30 text-green-400":I.status==="pending"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:i.jsx(Us,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"font-medium text-white truncate",children:["Retrait de ",I.amount_pi," "]}),i.jsxs("p",{className:"text-sm text-gray-400 truncate",children:[((B=I.user)==null?void 0:B.full_name)||"Utilisateur inconnu",i.jsx("span",{className:"mx-1",children:""}),Gn(new Date(I.requested_at),"dd MMM yyyy",{locale:Wo})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{variant:I.status==="approved"?"success":I.status==="pending"?"secondary":"destructive",className:"px-3 py-1 rounded-full font-medium bg-gray-800",children:I.status==="approved"?" Approuv":I.status==="pending"?" En attente":" Rejet"}),i.jsx("span",{className:"font-bold text-white",children:I.amount_fcfa?`${I.amount_fcfa} FCFA`:""})]})]},I.id)})})})]})}),i.jsx(zr,{value:"announcements",className:"space-y-4",children:i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsxs(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(c2,{className:"w-5 h-5 text-purple-400"})," Annonces Rcentes"]}),i.jsx(nn,{className:"text-gray-300",children:"Dernires publications et communications"})]}),i.jsx(st,{className:"p-6",children:e?i.jsxs("div",{className:"space-y-2",children:[i.jsx(ys,{className:"h-12 w-full bg-gray-800"}),i.jsx(ys,{className:"h-12 w-full bg-gray-800"})]}):f.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400 bg-gray-900 rounded-lg border-2 border-dashed border-gray-700",children:[i.jsx(c2,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"text-lg font-medium mb-1",children:"Aucune annonce rcente"}),i.jsx("p",{className:"text-sm",children:"Les annonces apparatront ici"})]}):i.jsx("div",{className:"space-y-4",children:f.map(I=>i.jsxs("div",{className:"p-4 border border-gray-800 rounded-xl bg-gray-900 hover:bg-gray-800 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white text-lg",children:I.title}),i.jsx("p",{className:"text-sm text-gray-400",children:Gn(new Date(I.created_at),"dd MMMM yyyy  HH:mm",{locale:Wo})})]}),i.jsx(nr,{variant:"outline",className:`px-3 py-1 rounded-full ${I.type==="news"?"bg-blue-900/20 text-blue-400 border-blue-700/30":I.type==="alert"?"bg-red-900/20 text-red-400 border-red-700/30":I.type==="update"?"bg-green-900/20 text-green-400 border-green-700/30":"bg-gray-800 text-gray-400 border-gray-700"}`,children:I.type==="news"?"Actualit":I.type==="alert"?"Alerte":I.type==="update"?"Mise  jour":"Information"})]}),i.jsx("p",{className:"text-gray-300 mb-3 line-clamp-2",children:I.content}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[I.views||0," vues"]}),i.jsxs(Ee,{variant:"ghost",size:"sm",className:"text-blue-400 hover:text-blue-300",children:[i.jsx(qu,{className:"w-4 h-4 mr-1"})," Voir plus"]})]})]},I.id))})})]})}),i.jsx(zr,{value:"demographics",className:"space-y-4",children:i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsxs(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(Ga,{className:"w-5 h-5 text-indigo-400"})," Dmographie des Utilisateurs"]}),i.jsx(nn,{className:"text-gray-300",children:"Rpartition gographique et par tranche d'ge"})]}),i.jsx(st,{className:"p-6",children:e?i.jsx("div",{className:"space-y-2",children:i.jsx(ys,{className:"h-64 w-full bg-gray-800"})}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Rpartition par ge"}),i.jsx(Tj,{width:"100%",height:300,children:i.jsxs(btt,{children:[i.jsx(sm,{data:Object.entries(j.byAgeGroup).map(([I,B])=>({name:I,value:B})),cx:"50%",cy:"50%",labelLine:!1,label:I=>`${I.name}: ${I.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Object.entries(j.byAgeGroup).map((I,B)=>i.jsx(YC,{fill:M[B%M.length]},`cell-${B}`))}),i.jsx(qc,{formatter:I=>[`${I} utilisateurs`],contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"white"}})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Pays"}),i.jsx(Tj,{width:"100%",height:300,children:i.jsxs(eW,{data:Object.entries(j.byCountry).sort((I,B)=>B[1]-I[1]).slice(0,5).map(([I,B])=>({name:I,value:B})),layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(yg,{type:"number",stroke:"#9ca3af",fontSize:12}),i.jsx(bg,{type:"category",dataKey:"name",stroke:"#9ca3af",fontSize:12,width:80,tickLine:!1}),i.jsx(qc,{formatter:I=>[`${I} utilisateurs`],contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"white"}}),i.jsx(Dp,{dataKey:"value",fill:"url(#colorBar)",radius:[0,4,4,0],maxBarSize:40,children:i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorBar",x1:"0",y1:"0",x2:"1",y2:"0",children:[i.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:1}),i.jsx("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:1})]})})})]})})]})]})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"Taux de Conversion"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-2xl font-bold text-white",children:[s.conversionRate,"%"]}),i.jsx(ll,{value:s.conversionRate,className:"h-2 mt-2 bg-gray-800"}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Pourcentage de visiteurs devenus utilisateurs"})]})]}),i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"Valeur Transaction Moyenne"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-2xl font-bold text-white",children:[s.avgTransactionValue.toFixed(2)," FCFA"]}),i.jsx(ll,{value:Math.min(100,s.avgTransactionValue/5e3*100),className:"h-2 mt-2 bg-gray-800"}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Moyenne par transaction"})]})]}),i.jsxs(at,{className:"shadow-lg border border-gray-800 bg-black",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-gray-300",children:"vnements Actifs"})}),i.jsxs(st,{children:[i.jsx("div",{className:"text-2xl font-bold text-white",children:s.activeEvents}),i.jsx(ll,{value:Math.min(100,s.activeEvents/20*100),className:"h-2 mt-2 bg-gray-800"}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"vnements en cours et  venir"})]})]})]})]})};var wA="Switch",[jtt,Qut]=eo(wA),[Ntt,Stt]=jtt(wA),Aoe=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...h}=e,[v,g]=b.useState(null),_=mn(t,k=>g(k)),y=b.useRef(!1),j=v?f||!!v.closest("form"):!0,[w,C]=_o({prop:s,defaultProp:a??!1,onChange:d,caller:wA});return i.jsxs(Ntt,{scope:r,checked:w,disabled:l,children:[i.jsx(_r.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":Poe(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:_,onClick:Wt(e.onClick,k=>{C(T=>!T),j&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),j&&i.jsx(Toe,{control:v,bubbles:!y.current,name:n,value:c,checked:w,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Aoe.displayName=wA;var koe="SwitchThumb",Eoe=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Stt(koe,r);return i.jsx(_r.span,{"data-state":Poe(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Eoe.displayName=koe;var Ctt="SwitchBubbleInput",Toe=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=b.useRef(null),l=mn(o,a),c=L_(r),d=__(t);return b.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const _=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(_)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Toe.displayName=Ctt;function Poe(e){return e?"checked":"unchecked"}var Ooe=Aoe,Att=Eoe;const xo=Se.forwardRef(({className:e,...t},r)=>i.jsx(Ooe,{className:Ht("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(Att,{className:Ht("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xo.displayName=Ooe.displayName;const ktt=()=>{Pr();const{toast:e}=Ti(),[t,r]=b.useState([]),[n,s]=b.useState(null),[a,o]=b.useState(!0),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,v]=b.useState(null),[g,_]=b.useState(null),[y,j]=b.useState({title:"",description:"",video_url:"",thumbnail_url:"",reward_coins:10,is_mandatory:!0,is_active:!1,video_duration:0}),w=b.useCallback(async()=>{o(!0);const{data:B,error:V}=await Oe.from("mandatory_videos").select("*").order("created_at",{ascending:!1});V?e({title:"Erreur",description:"Impossible de charger les vidos.",variant:"destructive"}):r(B),o(!1)},[e]);b.useEffect(()=>{w()},[w]);const C=()=>{s(null),_(null),j({title:"",description:"",video_url:"",thumbnail_url:"",reward_coins:10,is_mandatory:!0,is_active:!1,video_duration:0})},k=B=>{s(B),j({title:B.title,description:B.description||"",video_url:B.video_url,thumbnail_url:B.thumbnail_url||"",reward_coins:B.reward_coins||10,is_mandatory:B.is_mandatory,is_active:B.is_active,video_duration:B.video_duration||0})},T=async(B,V)=>{if(!B)return null;const U=B.name.split(".").pop(),q=`${Date.now()}.${U}`,re=`${V}/${q}`,{error:H}=await Oe.storage.from("media").upload(re,B);if(H)throw H;const{data:X}=Oe.storage.from("media").getPublicUrl(re);return X.publicUrl},P=async B=>{B.preventDefault(),c(!0);try{let V=y.video_url;if(g&&(V=await T(g,"videos")),!V)throw new Error("Une URL de vido ou un fichier est requis.");const U={...y,video_url:V};if(n){const{error:q}=await Oe.from("mandatory_videos").update(U).eq("id",n.id);if(q)throw q;e({title:"Succs",description:"Vido mise  jour."})}else{const{error:q}=await Oe.from("mandatory_videos").insert([U]);if(q)throw q;e({title:"Succs",description:"Vido cre."})}C(),await w()}catch(V){e({title:"Erreur",description:`La sauvegarde a chou: ${V.message}`,variant:"destructive"})}finally{c(!1)}},D=B=>{v(B),f(!0)},M=async()=>{if(!h)return;const{error:B}=await Oe.from("mandatory_videos").delete().eq("id",h);B?e({title:"Erreur",description:"La suppression a chou.",variant:"destructive"}):(e({title:"Succs",description:"Vido supprime."}),await w()),f(!1),v(null)},I=async B=>{const V=!B.is_active;if(V){const{error:q}=await Oe.from("mandatory_videos").update({is_active:!1}).eq("is_active",!0);if(q){e({title:"Erreur",description:"Impossible de dsactiver les autres vidos.",variant:"destructive"});return}}const{error:U}=await Oe.from("mandatory_videos").update({is_active:V}).eq("id",B.id);U?e({title:"Erreur",description:"Le changement de statut a chou.",variant:"destructive"}):(e({title:"Succs",description:"Statut de la vido mis  jour."}),await w())};return i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs(at,{className:"shadow-lg rounded-xl",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center",children:[n?i.jsx(sx,{className:"mr-2"}):i.jsx(ew,{className:"mr-2"}),n?"Modifier la vido":"Ajouter une vido"]}),i.jsx(nn,{children:"Grez les vidos de rcompense. Une seule peut tre active."})]}),i.jsx(st,{children:i.jsxs("form",{onSubmit:P,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"title",children:"Titre"}),i.jsx(vt,{id:"title",value:y.title,onChange:B=>j({...y,title:B.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"video_upload",children:"Tlverser une vido"}),i.jsx(vt,{id:"video_upload",type:"file",accept:"video/*",onChange:B=>_(B.target.files[0])})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"video_url",children:"OU Coller une URL de vido"}),i.jsx(vt,{id:"video_url",value:y.video_url,onChange:B=>j({...y,video_url:B.target.value}),placeholder:"https://..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description"}),i.jsx(So,{id:"description",value:y.description,onChange:B=>j({...y,description:B.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"reward_coins",children:"Pices en rcompense"}),i.jsx(vt,{id:"reward_coins",type:"number",min:"0",value:y.reward_coins,onChange:B=>j({...y,reward_coins:parseInt(B.target.value)||0}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"video_duration",children:"Dure (secondes)"}),i.jsx(vt,{id:"video_duration",type:"number",min:"1",value:y.video_duration,onChange:B=>j({...y,video_duration:parseInt(B.target.value)||0}),required:!0})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xo,{id:"is_active_form",checked:y.is_active,onCheckedChange:B=>j({...y,is_active:B})}),i.jsx(Qe,{htmlFor:"is_active_form",children:"Activer (dsactivera les autres)"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ee,{type:"submit",disabled:l,children:[l&&i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Mettre  jour":"Enregistrer"]}),n&&i.jsx(Ee,{variant:"ghost",onClick:C,children:"Annuler"})]})]})})]}),i.jsxs(at,{className:"shadow-lg rounded-xl mt-8",children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Liste des vidos"})}),i.jsx(st,{children:a?i.jsx(Dt,{className:"animate-spin"}):i.jsx("div",{className:"space-y-4",children:t.map(B=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(wX,{className:B.is_active?"text-green-500":"text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:B.title}),i.jsx("p",{className:`text-sm ${B.is_active?"text-green-500":"text-muted-foreground"}`,children:B.is_active?"Active":"Inactive"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>I(B),title:B.is_active?"Dsactiver":"Activer",children:B.is_active?i.jsx(_3,{className:"h-4 w-4 text-yellow-500"}):i.jsx(j3,{className:"h-4 w-4 text-green-500"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>k(B),children:i.jsx(sx,{className:"h-4 w-4"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>D(B.id),children:i.jsx(kl,{className:"h-4 w-4 text-red-500"})})]})]},B.id))})})]}),i.jsx(jo,{open:d,onOpenChange:f,children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"tes-vous sr ?"}),i.jsx(Ji,{children:"Cette action est irrversible. La vido sera dfinitivement supprime."})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:M,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})},Ett=({users:e,licenseTypes:t,onCancel:r,onRefresh:n,partnerToEdit:s})=>{Pr();const[a,o]=b.useState({partner_id:"",license_id:"",country:"",cities:[]}),[l,c]=b.useState(!1),[d,f]=b.useState([]),[h,v]=b.useState("");b.useEffect(()=>{var y,j;s&&o({partner_id:s.user_id,license_id:s.license_id,country:((y=s.coverage_zone)==null?void 0:y.country)||"",cities:((j=s.coverage_zone)==null?void 0:j.cities)||[]})},[s]);const g=b.useMemo(()=>{if(!h)return e.filter(j=>j.user_type!=="admin"&&j.user_type!=="super_admin");const y=h.toLowerCase();return e.filter(j=>j.user_type!=="admin"&&j.user_type!=="super_admin"&&(j.full_name&&j.full_name.toLowerCase().includes(y)||j.email&&j.email.toLowerCase().includes(y)))},[e,h]);b.useEffect(()=>{a.country?f(px[a.country]||[]):f([])},[a.country]);const _=async y=>{if(y.preventDefault(),!a.partner_id||!a.country||!a.license_id){ze({title:"Champs manquants",description:"Veuillez slectionner un utilisateur, un pays et un type de licence.",variant:"destructive"});return}c(!0);try{const j={country:a.country,cities:a.cities};if(s){const{error:w}=await Oe.from("partners").update({license_id:a.license_id,coverage_zone:j,updated_at:new Date}).eq("id",s.id);if(w)throw w;ze({title:"Partenaire mis  jour avec succs"})}else{const{error:w}=await Oe.from("partners").insert({user_id:a.partner_id,license_id:a.license_id,coverage_zone:j,status:"pending"});if(w)throw w;await Oe.from("profiles").update({user_type:"admin"}).eq("id",a.partner_id),ze({title:"Partenaire cr",description:"Le nouveau partenaire est en attente d'approbation."})}n(),r()}catch(j){console.error("Error saving partner:",j),ze({title:"Erreur lors de l'enregistrement",description:j.message,variant:"destructive"})}finally{c(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(at,{className:"w-full max-w-xl bg-card text-foreground shadow-lg rounded-xl",children:[i.jsx(Et,{children:i.jsx(Tt,{children:s?"Modifier le partenaire":"Crer un nouveau partenaire"})}),i.jsx(st,{children:i.jsxs("form",{onSubmit:_,className:"space-y-4 max-h-[80vh] overflow-y-auto p-2",children:[!s&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Rechercher un utilisateur"}),i.jsx(vt,{placeholder:"Rechercher par nom ou email...",value:h,onChange:y=>v(y.target.value)}),i.jsxs(aa,{onValueChange:y=>o({...a,partner_id:y}),value:a.partner_id,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionner un utilisateur"})}),i.jsx(Zn,{children:g.map(y=>i.jsxs(ur,{value:y.id,children:[y.full_name," (",y.email,")"]},y.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Type de licence"}),i.jsxs(aa,{onValueChange:y=>o({...a,license_id:y}),value:a.license_id,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionner un type de licence"})}),i.jsx(Zn,{children:t.map(y=>i.jsx(ur,{value:y.id,children:y.name},y.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Pays"}),i.jsxs(aa,{onValueChange:y=>o({...a,country:y,cities:[]}),value:a.country,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Pays de la licence"})}),i.jsx(Zn,{children:I_.map(y=>i.jsx(ur,{value:y.name,children:y.name},y.name))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Villes couvertes"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md max-h-40 overflow-y-auto",children:d.map(y=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:`city-${y}`,value:y,checked:a.cities.includes(y),onChange:j=>{const w=j.target.checked?[...a.cities,y]:a.cities.filter(C=>C!==y);o({...a,cities:w})}}),i.jsx(Qe,{htmlFor:`city-${y}`,children:y})]},y))})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(Ee,{type:"submit",disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"})," Enregistrement..."]}):"Enregistrer"}),i.jsx(Ee,{type:"button",variant:"outline",onClick:r,children:"Annuler"})]})]})})]})})},Ttt=({onRefresh:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState([]),[a,o]=b.useState([]),[l,c]=b.useState(!1),[d,f]=b.useState(null),[h,v]=b.useState(""),[g,_]=b.useState(!0),y=b.useCallback(async()=>{_(!0);try{const{data:k,error:T}=await Oe.from("partners").select("*, user:user_id(full_name, email), license:license_id(name, commission_rate)");if(T)throw T;const{data:P,error:D}=await Oe.from("profiles").select("*");if(D)throw D;const{data:M,error:I}=await Oe.from("partner_licenses").select("*");if(I)throw I;r(k||[]),s(P||[]),o(M||[])}catch{ze({title:"Erreur",description:"Impossible de charger les donnes des partenaires.",variant:"destructive"})}finally{_(!1)}},[]);b.useEffect(()=>{y()},[y]);const j=b.useMemo(()=>{if(!h)return t;const k=h.toLowerCase();return t.filter(T=>{var P,D,M,I,B,V;return((D=(P=T.user)==null?void 0:P.full_name)==null?void 0:D.toLowerCase().includes(k))||((I=(M=T.user)==null?void 0:M.email)==null?void 0:I.toLowerCase().includes(k))||((V=(B=T.license)==null?void 0:B.name)==null?void 0:V.toLowerCase().includes(k))})},[t,h]),w=async(k,T)=>{var P;try{let D={status:T,updated_at:new Date};if(T==="active"){const I=new Date,{data:B}=await Oe.from("partners").select("license:license_id(duration_days)").eq("id",k).single(),V=((P=B==null?void 0:B.license)==null?void 0:P.duration_days)||30;I.setDate(I.getDate()+V),D.expiration_date=I.toISOString(),D.activation_date=new Date().toISOString()}const{error:M}=await Oe.from("partners").update(D).eq("id",k);if(M)throw M;ze({title:"Statut mis  jour"}),y()}catch{ze({title:"Erreur",description:"Impossible de mettre  jour le statut.",variant:"destructive"})}},C=k=>{const T=new Date,P=k.expiration_date?new Date(k.expiration_date):null;return P&&P<T?"expired":k.status};return g?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin"})}):i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[i.jsxs(Et,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[i.jsx(Tt,{className:"text-white",children:" Gestion des Partenaires"}),i.jsxs(Ee,{onClick:()=>c(!0),children:[i.jsx(S3,{className:"mr-2 h-4 w-4"})," Crer un partenaire"]})]}),i.jsxs(st,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(vt,{type:"text",placeholder:"Rechercher un partenaire...",className:"pl-10 w-full",value:h,onChange:k=>v(k.target.value)})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-background/50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Partenaire"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Licence"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Contact"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Validit"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Statut"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),i.jsx("tbody",{children:j.map(k=>{var P,D,M;const T=C(k);return i.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"font-semibold text-white",children:((P=k.user)==null?void 0:P.full_name)||"N/A"})}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("p",{className:"font-semibold text-white capitalize",children:(D=k.license)==null?void 0:D.name}),i.jsx("p",{className:"text-sm text-gray-400",children:k.coverage_zone.country})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"space-y-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gp,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:(M=k.user)==null?void 0:M.email})]})})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-white",children:k.expiration_date?`Expire le: ${new Date(k.expiration_date).toLocaleDateString()}`:"N/A"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("select",{className:"bg-gray-800 text-sm p-1 rounded-md border border-gray-700",value:T||"pending",onChange:I=>w(k.id,I.target.value),children:[i.jsx("option",{value:"pending",children:"En attente d'approbation"}),i.jsx("option",{value:"active",children:"Actif"}),i.jsx("option",{value:"suspended",children:"Suspendu"}),i.jsx("option",{value:"expired",children:"Expir"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"flex gap-2",children:i.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>{f(k),c(!0)},title:"Modifier",children:i.jsx(sx,{className:"w-4 h-4"})})})})]},k.id)})})]})})]})]}),(l||d)&&i.jsx(Ett,{users:n,licenseTypes:a,partnerToEdit:d,onCancel:()=>{c(!1),f(null)},onRefresh:y})]})},C4=()=>{var k,T,P;Pr();const{userProfile:e}=Un(),[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(null),[l,c]=b.useState(!1),[d,f]=b.useState(""),[h,v]=b.useState(null),g=(e==null?void 0:e.user_type)==="super_admin",_=(e==null?void 0:e.user_type)==="admin"||g,y=b.useCallback(async()=>{if(_){s(!0);try{let D=Oe.from("organizer_withdrawal_requests").select(`
                    *,
                    organizer:organizer_id (full_name, email, country, phone),
                    reviewer:reviewed_by_admin (full_name)
                `).order("requested_at",{ascending:!1});!g&&(e!=null&&e.country)&&(D=D.eq("organizer.country",e.country));const{data:M,error:I}=await D;if(I)throw I;r(M||[])}catch(D){console.error("Erreur chargement demandes:",D),ze({title:"Erreur",description:"Impossible de charger les demandes de retrait.",variant:"destructive"})}finally{s(!1)}}},[_,g,e]);b.useEffect(()=>{e&&_&&y()},[e,_,y]);const j=async(D,M,I=null)=>{v(D);try{console.log(`Traitement demande ${D} avec statut: ${M}`);const{data:B,error:V}=await Oe.rpc("process_organizer_withdrawal",{p_request_id:D,p_status:M,p_notes:I});if(V)throw console.error("Erreur RPC:",V),new Error(V.message);if(B&&!B.success)throw new Error(B.message);ze({title:" Succs",description:`La demande a t ${M==="approved"?"approuve":"rejete"}.`}),await y()}catch(B){console.error("Erreur traitement:",B),ze({title:" Erreur",description:B.message,variant:"destructive"})}finally{v(null),l&&(c(!1),f(""),o(null))}},w=D=>{o(D),c(!0)},C=D=>{const M={pending:{color:"bg-yellow-500/20 text-yellow-300",label:"En attente"},approved:{color:"bg-green-500/20 text-green-300",label:"Approuv"},rejected:{color:"bg-red-500/20 text-red-300",label:"Rejet"},paid:{color:"bg-blue-500/20 text-blue-300",label:"Pay"}},I=M[D]||M.pending;return i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${I.color}`,children:I.label})};return _?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Gestion des Retraits"}),i.jsxs(Ee,{onClick:y,variant:"outline",disabled:n,className:"flex items-center gap-2",children:[i.jsx(Hh,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Actualiser"]})]}),n?i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx(Dt,{className:"h-8 w-8 animate-spin"})}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Organisateur"}),i.jsx(Hr,{children:"Montant ()"}),i.jsx(Hr,{children:"Montant (FCFA)"}),i.jsx(Hr,{children:"Moyen de paiement"}),i.jsx(Hr,{children:"Statut"}),i.jsx(Hr,{children:"Date demande"}),i.jsx(Hr,{className:"text-right",children:"Actions"})]})}),i.jsx(Vd,{children:t.length>0?t.map(D=>{var M,I,B,V,U,q,re,H;return i.jsxs(Ja,{children:[i.jsxs(Ar,{children:[i.jsx("div",{className:"font-medium",children:(M=D.organizer)==null?void 0:M.full_name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:(I=D.organizer)==null?void 0:I.email}),i.jsx("div",{className:"text-xs text-blue-400",children:(B=D.organizer)==null?void 0:B.phone}),g&&i.jsx("div",{className:"text-xs text-green-400",children:(V=D.organizer)==null?void 0:V.country})]}),i.jsxs(Ar,{className:"font-semibold",children:[D.amount_pi.toLocaleString("fr-FR")," "]}),i.jsxs(Ar,{children:[D.amount_fcfa.toLocaleString("fr-FR")," FCFA"]}),i.jsxs(Ar,{children:[i.jsx("div",{className:"font-medium",children:((U=D.payment_details)==null?void 0:U.method)||"Non spcifi"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:((q=D.payment_details)==null?void 0:q.number)||((re=D.payment_details)==null?void 0:re.account_number)||"N/A"})]}),i.jsxs(Ar,{children:[C(D.status),D.reviewed_by_admin&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Trait par: ",(H=D.reviewer)==null?void 0:H.full_name]})]}),i.jsxs(Ar,{children:[new Date(D.requested_at).toLocaleDateString("fr-FR"),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(D.requested_at).toLocaleTimeString("fr-FR")})]}),i.jsxs(Ar,{className:"text-right space-x-2",children:[D.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>j(D.id,"approved"),disabled:h===D.id,className:"hover:bg-green-500/20",children:h===D.id?i.jsx(Dt,{className:"h-4 w-4 animate-spin"}):i.jsx(Qx,{className:"h-4 w-4 text-green-500"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>w(D),disabled:h===D.id,className:"hover:bg-red-500/20",children:i.jsx(au,{className:"h-4 w-4 text-red-500"})})]}),D.status!=="pending"&&D.admin_notes&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Note: ",D.admin_notes]})]})]},D.id)}):i.jsx(Ja,{children:i.jsx(Ar,{colSpan:7,className:"text-center py-8",children:"Aucune demande de retrait trouve."})})})]})}),i.jsx(Ao,{open:l,onOpenChange:c,children:i.jsxs(to,{children:[i.jsxs(ko,{children:[i.jsx(Eo,{children:"Rejeter la demande de retrait"}),i.jsx(Ol,{children:"Veuillez fournir une raison pour le rejet. Cette raison sera visible par l'organisateur."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[a&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Organisateur:"})," ",(k=a.organizer)==null?void 0:k.full_name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Montant:"})," ",a.amount_pi,"  (",a.amount_fcfa," FCFA)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Moyen de paiement:"})," ",(T=a.payment_details)==null?void 0:T.method," - ",(P=a.payment_details)==null?void 0:P.number]})]}),i.jsx(So,{value:d,onChange:D=>f(D.target.value),placeholder:"Ex: Informations de paiement incorrectes, document manquant, etc.",rows:4})]}),i.jsxs(Tc,{children:[i.jsx(Ee,{variant:"outline",onClick:()=>{c(!1),f(""),o(null)},children:"Annuler"}),i.jsxs(Ee,{variant:"destructive",onClick:()=>j(a==null?void 0:a.id,"rejected",d),disabled:h===(a==null?void 0:a.id)||!d.trim(),children:[h===(a==null?void 0:a.id)?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Confirmer le rejet"]})]})]})})]}):i.jsx("div",{className:"text-center p-8",children:i.jsx("p",{className:"text-destructive font-semibold",children:"Accs non autoris. Rserv aux administrateurs."})})},Ptt=()=>{const{user:e}=Pr(),[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(!1),[l,c]=b.useState(""),[d,f]=b.useState(!1),[h,v]=b.useState(null),[g,_]=b.useState({title:"",message:"",type:"info",video_url:"",target_audience:"all",target_countries:[],send_immediately:!1}),[y,j]=b.useState(!1),[w,C]=b.useState([]);b.useEffect(()=>{k(),T()},[]);const k=async()=>{s(!0);try{const{data:V,error:U}=await Oe.from("announcements").select("*").order("created_at",{ascending:!1});if(U)throw U;r(V||[])}catch(V){console.error("Error fetching announcements:",V),ze({title:"Erreur",description:"Impossible de charger les annonces.",variant:"destructive"})}finally{s(!1)}},T=async()=>{try{const{data:V}=await Oe.from("profiles").select("country").not("country","is",null);if(V){const U=[...new Set(V.map(q=>q.country).filter(Boolean))];C(U)}}catch(V){console.error("Error fetching countries:",V)}},P=async V=>{var U,q;V.preventDefault(),j(!0);try{if(!((U=g.title)!=null&&U.trim()))throw new Error("Le titre est requis");if(!((q=g.message)!=null&&q.trim()))throw new Error("Le message est requis");if(g.target_audience==="countries"&&(!g.target_countries||g.target_countries.length===0))throw new Error("Veuillez slectionner au moins un pays cible");const re={title:g.title,message:g.message,type:g.type,video_url:g.video_url,target_audience:g.target_audience,target_countries:g.target_audience==="countries"?g.target_countries:null,send_to_all_users:g.target_audience==="all",send_immediately:g.send_immediately,created_by:e.id,status:g.send_immediately?"sent":"pending",sent_at:g.send_immediately?new Date().toISOString():null},{data:H,error:X}=await Oe.from("announcements").insert(re).select().single();if(X)throw X;g.send_immediately&&await Oe.rpc("send_announcement_to_users",{announcement_uuid:H.id}),ze({title:"Succs",description:"Annonce cre avec succs."}),o(!1),_({title:"",message:"",type:"info",video_url:"",target_audience:"all",target_countries:[],send_immediately:!1}),k()}catch(re){console.error("Create error:",re),ze({title:"Erreur",description:re.message,variant:"destructive"})}finally{j(!1)}},D=V=>{v(V),f(!0)},M=async()=>{if(h)try{const{error:V}=await Oe.from("announcements").delete().eq("id",h.id);if(V)throw V;r(U=>U.filter(q=>q.id!==h.id)),ze({title:"Supprime",description:"L'annonce a t supprime."})}catch(V){ze({title:"Erreur",description:V.message,variant:"destructive"})}finally{f(!1),v(null)}},I=V=>{_(U=>{const q=U.target_countries||[];return q.includes(V)?{...U,target_countries:q.filter(re=>re!==V)}:{...U,target_countries:[...q,V]}})},B=(t||[]).filter(V=>{var U,q;return((U=V.title)==null?void 0:U.toLowerCase().includes(l.toLowerCase()))||((q=V.message)==null?void 0:q.toLowerCase().includes(l.toLowerCase()))});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(c2,{className:"w-6 h-6 text-primary"}),"Gestion des Annonces"]}),i.jsx("p",{className:"text-muted-foreground",children:"Crez et grez les notifications globales."})]}),i.jsxs(Ao,{open:a,onOpenChange:o,children:[i.jsx(M_,{asChild:!0,children:i.jsxs(Ee,{children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Nouvelle Annonce"]})}),i.jsxs(to,{className:"max-w-2xl",children:[i.jsxs(ko,{children:[i.jsx(Eo,{children:"Crer une annonce"}),i.jsx(Ol,{children:"Envoyez un message  vos utilisateurs."})]}),i.jsxs("form",{onSubmit:P,className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Titre"}),i.jsx(vt,{value:g.title,onChange:V=>_({...g,title:V.target.value}),placeholder:"Titre de l'annonce",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Type"}),i.jsxs(aa,{value:g.type,onValueChange:V=>_({...g,type:V}),children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"info",children:"Information"}),i.jsx(ur,{value:"alert",children:"Alerte"}),i.jsx(ur,{value:"promo",children:"Promotion"}),i.jsx(ur,{value:"event",children:"vnement"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Message"}),i.jsx(So,{value:g.message,onChange:V=>_({...g,message:V.target.value}),placeholder:"Contenu de votre message...",rows:4,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Vido URL (Optionnel)"}),i.jsx(vt,{value:g.video_url,onChange:V=>_({...g,video_url:V.target.value}),placeholder:"https://..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Cible"}),i.jsxs(aa,{value:g.target_audience,onValueChange:V=>_({...g,target_audience:V}),children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"all",children:"Tous les utilisateurs"}),i.jsx(ur,{value:"countries",children:"Pays spcifiques"})]})]})]}),g.target_audience==="countries"&&i.jsxs("div",{className:"p-4 border rounded-md bg-muted/50",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Slectionner les pays"}),i.jsx(xC,{className:"h-32",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:(w||[]).map(V=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:`country-${V}`,checked:(g.target_countries||[]).includes(V),onCheckedChange:()=>I(V)}),i.jsx("label",{htmlFor:`country-${V}`,className:"text-sm",children:V})]},V))})})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(Gl,{id:"send-now",checked:g.send_immediately,onCheckedChange:V=>_({...g,send_immediately:V})}),i.jsx("label",{htmlFor:"send-now",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Envoyer immdiatement comme notification push"})]}),i.jsxs(Tc,{children:[i.jsx(Ee,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Annuler"}),i.jsxs(Ee,{type:"submit",disabled:y,children:[y&&i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Crer l'annonce"]})]})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(vt,{placeholder:"Rechercher une annonce...",className:"pl-10",value:l,onChange:V=>c(V.target.value)})]}),n?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin"})}):i.jsx("div",{className:"grid gap-4",children:B.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune annonce trouve."}):B.map(V=>{var U;return i.jsx(at,{className:"overflow-hidden",children:i.jsxs("div",{className:"flex flex-col md:flex-row",children:[i.jsx("div",{className:`w-2 bg-${V.type==="alert"?"red":V.type==="promo"?"purple":"blue"}-500`}),i.jsx(st,{className:"flex-1 p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(nr,{variant:"outline",className:"uppercase text-xs",children:V.type}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(V.created_at).toLocaleDateString()}),V.status==="sent"&&i.jsx(nr,{className:"bg-green-500",children:"Envoye"})]}),i.jsx("h3",{className:"text-xl font-bold",children:V.title}),i.jsx("p",{className:"text-muted-foreground mt-2",children:V.message}),i.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ga,{className:"w-4 h-4"}),"Cible: ",V.target_audience==="all"?"Tous":(((U=V.target_countries)==null?void 0:U.length)||0)+" pays"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Zge,{className:"w-4 h-4"}),"Reus: ",V.delivered_count||0]})]})]}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>D(V),className:"text-destructive hover:bg-destructive/10",children:i.jsx(kl,{className:"w-5 h-5"})})]})})]})},V.id)})}),i.jsx(jo,{open:d,onOpenChange:f,children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Supprimer l'annonce"}),i.jsx(Ji,{children:"tes-vous sr de vouloir supprimer cette annonce ? Cette action est irrversible."})]}),i.jsx("div",{className:"py-4",children:i.jsx("p",{className:"font-semibold text-white",children:h==null?void 0:h.title})}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:M,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})};function A4(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cO={exports:{}},t6={exports:{}};/*! cpexcel.js (C) 2013-present SheetJS -- http://sheetjs.com */var tW;function Ott(){return tW||(tW=1,function(e){var t={version:"1.15.0"};t[437]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[620]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[737]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[850]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[852]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[857]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[861]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[865]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[866]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[874]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[895]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[932]=function(){var r=[],n={},s=[],a;for(s[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=s[0].length;++a)s[0][a].charCodeAt(0)!==65533&&(n[s[0][a]]=0+a,r[0+a]=s[0][a]);for(s[129]="".split(""),a=0;a!=s[129].length;++a)s[129][a].charCodeAt(0)!==65533&&(n[s[129][a]]=33024+a,r[33024+a]=s[129][a]);for(s[130]="".split(""),a=0;a!=s[130].length;++a)s[130][a].charCodeAt(0)!==65533&&(n[s[130][a]]=33280+a,r[33280+a]=s[130][a]);for(s[131]="".split(""),a=0;a!=s[131].length;++a)s[131][a].charCodeAt(0)!==65533&&(n[s[131][a]]=33536+a,r[33536+a]=s[131][a]);for(s[132]="".split(""),a=0;a!=s[132].length;++a)s[132][a].charCodeAt(0)!==65533&&(n[s[132][a]]=33792+a,r[33792+a]=s[132][a]);for(s[135]="".split(""),a=0;a!=s[135].length;++a)s[135][a].charCodeAt(0)!==65533&&(n[s[135][a]]=34560+a,r[34560+a]=s[135][a]);for(s[136]="".split(""),a=0;a!=s[136].length;++a)s[136][a].charCodeAt(0)!==65533&&(n[s[136][a]]=34816+a,r[34816+a]=s[136][a]);for(s[137]="".split(""),a=0;a!=s[137].length;++a)s[137][a].charCodeAt(0)!==65533&&(n[s[137][a]]=35072+a,r[35072+a]=s[137][a]);for(s[138]="".split(""),a=0;a!=s[138].length;++a)s[138][a].charCodeAt(0)!==65533&&(n[s[138][a]]=35328+a,r[35328+a]=s[138][a]);for(s[139]="".split(""),a=0;a!=s[139].length;++a)s[139][a].charCodeAt(0)!==65533&&(n[s[139][a]]=35584+a,r[35584+a]=s[139][a]);for(s[140]="".split(""),a=0;a!=s[140].length;++a)s[140][a].charCodeAt(0)!==65533&&(n[s[140][a]]=35840+a,r[35840+a]=s[140][a]);for(s[141]="".split(""),a=0;a!=s[141].length;++a)s[141][a].charCodeAt(0)!==65533&&(n[s[141][a]]=36096+a,r[36096+a]=s[141][a]);for(s[142]="".split(""),a=0;a!=s[142].length;++a)s[142][a].charCodeAt(0)!==65533&&(n[s[142][a]]=36352+a,r[36352+a]=s[142][a]);for(s[143]="".split(""),a=0;a!=s[143].length;++a)s[143][a].charCodeAt(0)!==65533&&(n[s[143][a]]=36608+a,r[36608+a]=s[143][a]);for(s[144]="".split(""),a=0;a!=s[144].length;++a)s[144][a].charCodeAt(0)!==65533&&(n[s[144][a]]=36864+a,r[36864+a]=s[144][a]);for(s[145]="".split(""),a=0;a!=s[145].length;++a)s[145][a].charCodeAt(0)!==65533&&(n[s[145][a]]=37120+a,r[37120+a]=s[145][a]);for(s[146]="".split(""),a=0;a!=s[146].length;++a)s[146][a].charCodeAt(0)!==65533&&(n[s[146][a]]=37376+a,r[37376+a]=s[146][a]);for(s[147]="".split(""),a=0;a!=s[147].length;++a)s[147][a].charCodeAt(0)!==65533&&(n[s[147][a]]=37632+a,r[37632+a]=s[147][a]);for(s[148]="".split(""),a=0;a!=s[148].length;++a)s[148][a].charCodeAt(0)!==65533&&(n[s[148][a]]=37888+a,r[37888+a]=s[148][a]);for(s[149]="".split(""),a=0;a!=s[149].length;++a)s[149][a].charCodeAt(0)!==65533&&(n[s[149][a]]=38144+a,r[38144+a]=s[149][a]);for(s[150]="".split(""),a=0;a!=s[150].length;++a)s[150][a].charCodeAt(0)!==65533&&(n[s[150][a]]=38400+a,r[38400+a]=s[150][a]);for(s[151]="".split(""),a=0;a!=s[151].length;++a)s[151][a].charCodeAt(0)!==65533&&(n[s[151][a]]=38656+a,r[38656+a]=s[151][a]);for(s[152]="".split(""),a=0;a!=s[152].length;++a)s[152][a].charCodeAt(0)!==65533&&(n[s[152][a]]=38912+a,r[38912+a]=s[152][a]);for(s[153]="".split(""),a=0;a!=s[153].length;++a)s[153][a].charCodeAt(0)!==65533&&(n[s[153][a]]=39168+a,r[39168+a]=s[153][a]);for(s[154]="".split(""),a=0;a!=s[154].length;++a)s[154][a].charCodeAt(0)!==65533&&(n[s[154][a]]=39424+a,r[39424+a]=s[154][a]);for(s[155]="".split(""),a=0;a!=s[155].length;++a)s[155][a].charCodeAt(0)!==65533&&(n[s[155][a]]=39680+a,r[39680+a]=s[155][a]);for(s[156]="".split(""),a=0;a!=s[156].length;++a)s[156][a].charCodeAt(0)!==65533&&(n[s[156][a]]=39936+a,r[39936+a]=s[156][a]);for(s[157]="".split(""),a=0;a!=s[157].length;++a)s[157][a].charCodeAt(0)!==65533&&(n[s[157][a]]=40192+a,r[40192+a]=s[157][a]);for(s[158]="".split(""),a=0;a!=s[158].length;++a)s[158][a].charCodeAt(0)!==65533&&(n[s[158][a]]=40448+a,r[40448+a]=s[158][a]);for(s[159]="".split(""),a=0;a!=s[159].length;++a)s[159][a].charCodeAt(0)!==65533&&(n[s[159][a]]=40704+a,r[40704+a]=s[159][a]);for(s[224]="".split(""),a=0;a!=s[224].length;++a)s[224][a].charCodeAt(0)!==65533&&(n[s[224][a]]=57344+a,r[57344+a]=s[224][a]);for(s[225]="".split(""),a=0;a!=s[225].length;++a)s[225][a].charCodeAt(0)!==65533&&(n[s[225][a]]=57600+a,r[57600+a]=s[225][a]);for(s[226]="".split(""),a=0;a!=s[226].length;++a)s[226][a].charCodeAt(0)!==65533&&(n[s[226][a]]=57856+a,r[57856+a]=s[226][a]);for(s[227]="".split(""),a=0;a!=s[227].length;++a)s[227][a].charCodeAt(0)!==65533&&(n[s[227][a]]=58112+a,r[58112+a]=s[227][a]);for(s[228]="".split(""),a=0;a!=s[228].length;++a)s[228][a].charCodeAt(0)!==65533&&(n[s[228][a]]=58368+a,r[58368+a]=s[228][a]);for(s[229]="".split(""),a=0;a!=s[229].length;++a)s[229][a].charCodeAt(0)!==65533&&(n[s[229][a]]=58624+a,r[58624+a]=s[229][a]);for(s[230]="".split(""),a=0;a!=s[230].length;++a)s[230][a].charCodeAt(0)!==65533&&(n[s[230][a]]=58880+a,r[58880+a]=s[230][a]);for(s[231]="".split(""),a=0;a!=s[231].length;++a)s[231][a].charCodeAt(0)!==65533&&(n[s[231][a]]=59136+a,r[59136+a]=s[231][a]);for(s[232]="".split(""),a=0;a!=s[232].length;++a)s[232][a].charCodeAt(0)!==65533&&(n[s[232][a]]=59392+a,r[59392+a]=s[232][a]);for(s[233]="".split(""),a=0;a!=s[233].length;++a)s[233][a].charCodeAt(0)!==65533&&(n[s[233][a]]=59648+a,r[59648+a]=s[233][a]);for(s[234]="".split(""),a=0;a!=s[234].length;++a)s[234][a].charCodeAt(0)!==65533&&(n[s[234][a]]=59904+a,r[59904+a]=s[234][a]);for(s[237]="".split(""),a=0;a!=s[237].length;++a)s[237][a].charCodeAt(0)!==65533&&(n[s[237][a]]=60672+a,r[60672+a]=s[237][a]);for(s[238]="".split(""),a=0;a!=s[238].length;++a)s[238][a].charCodeAt(0)!==65533&&(n[s[238][a]]=60928+a,r[60928+a]=s[238][a]);for(s[250]="".split(""),a=0;a!=s[250].length;++a)s[250][a].charCodeAt(0)!==65533&&(n[s[250][a]]=64e3+a,r[64e3+a]=s[250][a]);for(s[251]="".split(""),a=0;a!=s[251].length;++a)s[251][a].charCodeAt(0)!==65533&&(n[s[251][a]]=64256+a,r[64256+a]=s[251][a]);for(s[252]="".split(""),a=0;a!=s[252].length;++a)s[252][a].charCodeAt(0)!==65533&&(n[s[252][a]]=64512+a,r[64512+a]=s[252][a]);return{enc:n,dec:r}}(),t[936]=function(){var r=[],n={},s=[],a;for(s[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=s[0].length;++a)s[0][a].charCodeAt(0)!==65533&&(n[s[0][a]]=0+a,r[0+a]=s[0][a]);for(s[129]="".split(""),a=0;a!=s[129].length;++a)s[129][a].charCodeAt(0)!==65533&&(n[s[129][a]]=33024+a,r[33024+a]=s[129][a]);for(s[130]="".split(""),a=0;a!=s[130].length;++a)s[130][a].charCodeAt(0)!==65533&&(n[s[130][a]]=33280+a,r[33280+a]=s[130][a]);for(s[131]="".split(""),a=0;a!=s[131].length;++a)s[131][a].charCodeAt(0)!==65533&&(n[s[131][a]]=33536+a,r[33536+a]=s[131][a]);for(s[132]="".split(""),a=0;a!=s[132].length;++a)s[132][a].charCodeAt(0)!==65533&&(n[s[132][a]]=33792+a,r[33792+a]=s[132][a]);for(s[133]="".split(""),a=0;a!=s[133].length;++a)s[133][a].charCodeAt(0)!==65533&&(n[s[133][a]]=34048+a,r[34048+a]=s[133][a]);for(s[134]="".split(""),a=0;a!=s[134].length;++a)s[134][a].charCodeAt(0)!==65533&&(n[s[134][a]]=34304+a,r[34304+a]=s[134][a]);for(s[135]="".split(""),a=0;a!=s[135].length;++a)s[135][a].charCodeAt(0)!==65533&&(n[s[135][a]]=34560+a,r[34560+a]=s[135][a]);for(s[136]="".split(""),a=0;a!=s[136].length;++a)s[136][a].charCodeAt(0)!==65533&&(n[s[136][a]]=34816+a,r[34816+a]=s[136][a]);for(s[137]="".split(""),a=0;a!=s[137].length;++a)s[137][a].charCodeAt(0)!==65533&&(n[s[137][a]]=35072+a,r[35072+a]=s[137][a]);for(s[138]="".split(""),a=0;a!=s[138].length;++a)s[138][a].charCodeAt(0)!==65533&&(n[s[138][a]]=35328+a,r[35328+a]=s[138][a]);for(s[139]="".split(""),a=0;a!=s[139].length;++a)s[139][a].charCodeAt(0)!==65533&&(n[s[139][a]]=35584+a,r[35584+a]=s[139][a]);for(s[140]="".split(""),a=0;a!=s[140].length;++a)s[140][a].charCodeAt(0)!==65533&&(n[s[140][a]]=35840+a,r[35840+a]=s[140][a]);for(s[141]="".split(""),a=0;a!=s[141].length;++a)s[141][a].charCodeAt(0)!==65533&&(n[s[141][a]]=36096+a,r[36096+a]=s[141][a]);for(s[142]="".split(""),a=0;a!=s[142].length;++a)s[142][a].charCodeAt(0)!==65533&&(n[s[142][a]]=36352+a,r[36352+a]=s[142][a]);for(s[143]="".split(""),a=0;a!=s[143].length;++a)s[143][a].charCodeAt(0)!==65533&&(n[s[143][a]]=36608+a,r[36608+a]=s[143][a]);for(s[144]="".split(""),a=0;a!=s[144].length;++a)s[144][a].charCodeAt(0)!==65533&&(n[s[144][a]]=36864+a,r[36864+a]=s[144][a]);for(s[145]="".split(""),a=0;a!=s[145].length;++a)s[145][a].charCodeAt(0)!==65533&&(n[s[145][a]]=37120+a,r[37120+a]=s[145][a]);for(s[146]="".split(""),a=0;a!=s[146].length;++a)s[146][a].charCodeAt(0)!==65533&&(n[s[146][a]]=37376+a,r[37376+a]=s[146][a]);for(s[147]="".split(""),a=0;a!=s[147].length;++a)s[147][a].charCodeAt(0)!==65533&&(n[s[147][a]]=37632+a,r[37632+a]=s[147][a]);for(s[148]="".split(""),a=0;a!=s[148].length;++a)s[148][a].charCodeAt(0)!==65533&&(n[s[148][a]]=37888+a,r[37888+a]=s[148][a]);for(s[149]="".split(""),a=0;a!=s[149].length;++a)s[149][a].charCodeAt(0)!==65533&&(n[s[149][a]]=38144+a,r[38144+a]=s[149][a]);for(s[150]="".split(""),a=0;a!=s[150].length;++a)s[150][a].charCodeAt(0)!==65533&&(n[s[150][a]]=38400+a,r[38400+a]=s[150][a]);for(s[151]="".split(""),a=0;a!=s[151].length;++a)s[151][a].charCodeAt(0)!==65533&&(n[s[151][a]]=38656+a,r[38656+a]=s[151][a]);for(s[152]="".split(""),a=0;a!=s[152].length;++a)s[152][a].charCodeAt(0)!==65533&&(n[s[152][a]]=38912+a,r[38912+a]=s[152][a]);for(s[153]="".split(""),a=0;a!=s[153].length;++a)s[153][a].charCodeAt(0)!==65533&&(n[s[153][a]]=39168+a,r[39168+a]=s[153][a]);for(s[154]="".split(""),a=0;a!=s[154].length;++a)s[154][a].charCodeAt(0)!==65533&&(n[s[154][a]]=39424+a,r[39424+a]=s[154][a]);for(s[155]="".split(""),a=0;a!=s[155].length;++a)s[155][a].charCodeAt(0)!==65533&&(n[s[155][a]]=39680+a,r[39680+a]=s[155][a]);for(s[156]="".split(""),a=0;a!=s[156].length;++a)s[156][a].charCodeAt(0)!==65533&&(n[s[156][a]]=39936+a,r[39936+a]=s[156][a]);for(s[157]="".split(""),a=0;a!=s[157].length;++a)s[157][a].charCodeAt(0)!==65533&&(n[s[157][a]]=40192+a,r[40192+a]=s[157][a]);for(s[158]="".split(""),a=0;a!=s[158].length;++a)s[158][a].charCodeAt(0)!==65533&&(n[s[158][a]]=40448+a,r[40448+a]=s[158][a]);for(s[159]="".split(""),a=0;a!=s[159].length;++a)s[159][a].charCodeAt(0)!==65533&&(n[s[159][a]]=40704+a,r[40704+a]=s[159][a]);for(s[160]="".split(""),a=0;a!=s[160].length;++a)s[160][a].charCodeAt(0)!==65533&&(n[s[160][a]]=40960+a,r[40960+a]=s[160][a]);for(s[161]="".split(""),a=0;a!=s[161].length;++a)s[161][a].charCodeAt(0)!==65533&&(n[s[161][a]]=41216+a,r[41216+a]=s[161][a]);for(s[162]="".split(""),a=0;a!=s[162].length;++a)s[162][a].charCodeAt(0)!==65533&&(n[s[162][a]]=41472+a,r[41472+a]=s[162][a]);for(s[163]="".split(""),a=0;a!=s[163].length;++a)s[163][a].charCodeAt(0)!==65533&&(n[s[163][a]]=41728+a,r[41728+a]=s[163][a]);for(s[164]="".split(""),a=0;a!=s[164].length;++a)s[164][a].charCodeAt(0)!==65533&&(n[s[164][a]]=41984+a,r[41984+a]=s[164][a]);for(s[165]="".split(""),a=0;a!=s[165].length;++a)s[165][a].charCodeAt(0)!==65533&&(n[s[165][a]]=42240+a,r[42240+a]=s[165][a]);for(s[166]="".split(""),a=0;a!=s[166].length;++a)s[166][a].charCodeAt(0)!==65533&&(n[s[166][a]]=42496+a,r[42496+a]=s[166][a]);for(s[167]="".split(""),a=0;a!=s[167].length;++a)s[167][a].charCodeAt(0)!==65533&&(n[s[167][a]]=42752+a,r[42752+a]=s[167][a]);for(s[168]="".split(""),a=0;a!=s[168].length;++a)s[168][a].charCodeAt(0)!==65533&&(n[s[168][a]]=43008+a,r[43008+a]=s[168][a]);for(s[169]="".split(""),a=0;a!=s[169].length;++a)s[169][a].charCodeAt(0)!==65533&&(n[s[169][a]]=43264+a,r[43264+a]=s[169][a]);for(s[170]="".split(""),a=0;a!=s[170].length;++a)s[170][a].charCodeAt(0)!==65533&&(n[s[170][a]]=43520+a,r[43520+a]=s[170][a]);for(s[171]="".split(""),a=0;a!=s[171].length;++a)s[171][a].charCodeAt(0)!==65533&&(n[s[171][a]]=43776+a,r[43776+a]=s[171][a]);for(s[172]="".split(""),a=0;a!=s[172].length;++a)s[172][a].charCodeAt(0)!==65533&&(n[s[172][a]]=44032+a,r[44032+a]=s[172][a]);for(s[173]="".split(""),a=0;a!=s[173].length;++a)s[173][a].charCodeAt(0)!==65533&&(n[s[173][a]]=44288+a,r[44288+a]=s[173][a]);for(s[174]="".split(""),a=0;a!=s[174].length;++a)s[174][a].charCodeAt(0)!==65533&&(n[s[174][a]]=44544+a,r[44544+a]=s[174][a]);for(s[175]="".split(""),a=0;a!=s[175].length;++a)s[175][a].charCodeAt(0)!==65533&&(n[s[175][a]]=44800+a,r[44800+a]=s[175][a]);for(s[176]="".split(""),a=0;a!=s[176].length;++a)s[176][a].charCodeAt(0)!==65533&&(n[s[176][a]]=45056+a,r[45056+a]=s[176][a]);for(s[177]="".split(""),a=0;a!=s[177].length;++a)s[177][a].charCodeAt(0)!==65533&&(n[s[177][a]]=45312+a,r[45312+a]=s[177][a]);for(s[178]="".split(""),a=0;a!=s[178].length;++a)s[178][a].charCodeAt(0)!==65533&&(n[s[178][a]]=45568+a,r[45568+a]=s[178][a]);for(s[179]="".split(""),a=0;a!=s[179].length;++a)s[179][a].charCodeAt(0)!==65533&&(n[s[179][a]]=45824+a,r[45824+a]=s[179][a]);for(s[180]="".split(""),a=0;a!=s[180].length;++a)s[180][a].charCodeAt(0)!==65533&&(n[s[180][a]]=46080+a,r[46080+a]=s[180][a]);for(s[181]="".split(""),a=0;a!=s[181].length;++a)s[181][a].charCodeAt(0)!==65533&&(n[s[181][a]]=46336+a,r[46336+a]=s[181][a]);for(s[182]="".split(""),a=0;a!=s[182].length;++a)s[182][a].charCodeAt(0)!==65533&&(n[s[182][a]]=46592+a,r[46592+a]=s[182][a]);for(s[183]="".split(""),a=0;a!=s[183].length;++a)s[183][a].charCodeAt(0)!==65533&&(n[s[183][a]]=46848+a,r[46848+a]=s[183][a]);for(s[184]="".split(""),a=0;a!=s[184].length;++a)s[184][a].charCodeAt(0)!==65533&&(n[s[184][a]]=47104+a,r[47104+a]=s[184][a]);for(s[185]="".split(""),a=0;a!=s[185].length;++a)s[185][a].charCodeAt(0)!==65533&&(n[s[185][a]]=47360+a,r[47360+a]=s[185][a]);for(s[186]="".split(""),a=0;a!=s[186].length;++a)s[186][a].charCodeAt(0)!==65533&&(n[s[186][a]]=47616+a,r[47616+a]=s[186][a]);for(s[187]="".split(""),a=0;a!=s[187].length;++a)s[187][a].charCodeAt(0)!==65533&&(n[s[187][a]]=47872+a,r[47872+a]=s[187][a]);for(s[188]="".split(""),a=0;a!=s[188].length;++a)s[188][a].charCodeAt(0)!==65533&&(n[s[188][a]]=48128+a,r[48128+a]=s[188][a]);for(s[189]="".split(""),a=0;a!=s[189].length;++a)s[189][a].charCodeAt(0)!==65533&&(n[s[189][a]]=48384+a,r[48384+a]=s[189][a]);for(s[190]="".split(""),a=0;a!=s[190].length;++a)s[190][a].charCodeAt(0)!==65533&&(n[s[190][a]]=48640+a,r[48640+a]=s[190][a]);for(s[191]="".split(""),a=0;a!=s[191].length;++a)s[191][a].charCodeAt(0)!==65533&&(n[s[191][a]]=48896+a,r[48896+a]=s[191][a]);for(s[192]="".split(""),a=0;a!=s[192].length;++a)s[192][a].charCodeAt(0)!==65533&&(n[s[192][a]]=49152+a,r[49152+a]=s[192][a]);for(s[193]="".split(""),a=0;a!=s[193].length;++a)s[193][a].charCodeAt(0)!==65533&&(n[s[193][a]]=49408+a,r[49408+a]=s[193][a]);for(s[194]="".split(""),a=0;a!=s[194].length;++a)s[194][a].charCodeAt(0)!==65533&&(n[s[194][a]]=49664+a,r[49664+a]=s[194][a]);for(s[195]="".split(""),a=0;a!=s[195].length;++a)s[195][a].charCodeAt(0)!==65533&&(n[s[195][a]]=49920+a,r[49920+a]=s[195][a]);for(s[196]="".split(""),a=0;a!=s[196].length;++a)s[196][a].charCodeAt(0)!==65533&&(n[s[196][a]]=50176+a,r[50176+a]=s[196][a]);for(s[197]="".split(""),a=0;a!=s[197].length;++a)s[197][a].charCodeAt(0)!==65533&&(n[s[197][a]]=50432+a,r[50432+a]=s[197][a]);for(s[198]="".split(""),a=0;a!=s[198].length;++a)s[198][a].charCodeAt(0)!==65533&&(n[s[198][a]]=50688+a,r[50688+a]=s[198][a]);for(s[199]="".split(""),a=0;a!=s[199].length;++a)s[199][a].charCodeAt(0)!==65533&&(n[s[199][a]]=50944+a,r[50944+a]=s[199][a]);for(s[200]="".split(""),a=0;a!=s[200].length;++a)s[200][a].charCodeAt(0)!==65533&&(n[s[200][a]]=51200+a,r[51200+a]=s[200][a]);for(s[201]="".split(""),a=0;a!=s[201].length;++a)s[201][a].charCodeAt(0)!==65533&&(n[s[201][a]]=51456+a,r[51456+a]=s[201][a]);for(s[202]="".split(""),a=0;a!=s[202].length;++a)s[202][a].charCodeAt(0)!==65533&&(n[s[202][a]]=51712+a,r[51712+a]=s[202][a]);for(s[203]="".split(""),a=0;a!=s[203].length;++a)s[203][a].charCodeAt(0)!==65533&&(n[s[203][a]]=51968+a,r[51968+a]=s[203][a]);for(s[204]="".split(""),a=0;a!=s[204].length;++a)s[204][a].charCodeAt(0)!==65533&&(n[s[204][a]]=52224+a,r[52224+a]=s[204][a]);for(s[205]="".split(""),a=0;a!=s[205].length;++a)s[205][a].charCodeAt(0)!==65533&&(n[s[205][a]]=52480+a,r[52480+a]=s[205][a]);for(s[206]="".split(""),a=0;a!=s[206].length;++a)s[206][a].charCodeAt(0)!==65533&&(n[s[206][a]]=52736+a,r[52736+a]=s[206][a]);for(s[207]="".split(""),a=0;a!=s[207].length;++a)s[207][a].charCodeAt(0)!==65533&&(n[s[207][a]]=52992+a,r[52992+a]=s[207][a]);for(s[208]="".split(""),a=0;a!=s[208].length;++a)s[208][a].charCodeAt(0)!==65533&&(n[s[208][a]]=53248+a,r[53248+a]=s[208][a]);for(s[209]="".split(""),a=0;a!=s[209].length;++a)s[209][a].charCodeAt(0)!==65533&&(n[s[209][a]]=53504+a,r[53504+a]=s[209][a]);for(s[210]="".split(""),a=0;a!=s[210].length;++a)s[210][a].charCodeAt(0)!==65533&&(n[s[210][a]]=53760+a,r[53760+a]=s[210][a]);for(s[211]="".split(""),a=0;a!=s[211].length;++a)s[211][a].charCodeAt(0)!==65533&&(n[s[211][a]]=54016+a,r[54016+a]=s[211][a]);for(s[212]="".split(""),a=0;a!=s[212].length;++a)s[212][a].charCodeAt(0)!==65533&&(n[s[212][a]]=54272+a,r[54272+a]=s[212][a]);for(s[213]="".split(""),a=0;a!=s[213].length;++a)s[213][a].charCodeAt(0)!==65533&&(n[s[213][a]]=54528+a,r[54528+a]=s[213][a]);for(s[214]="".split(""),a=0;a!=s[214].length;++a)s[214][a].charCodeAt(0)!==65533&&(n[s[214][a]]=54784+a,r[54784+a]=s[214][a]);for(s[215]="".split(""),a=0;a!=s[215].length;++a)s[215][a].charCodeAt(0)!==65533&&(n[s[215][a]]=55040+a,r[55040+a]=s[215][a]);for(s[216]="".split(""),a=0;a!=s[216].length;++a)s[216][a].charCodeAt(0)!==65533&&(n[s[216][a]]=55296+a,r[55296+a]=s[216][a]);for(s[217]="".split(""),a=0;a!=s[217].length;++a)s[217][a].charCodeAt(0)!==65533&&(n[s[217][a]]=55552+a,r[55552+a]=s[217][a]);for(s[218]="".split(""),a=0;a!=s[218].length;++a)s[218][a].charCodeAt(0)!==65533&&(n[s[218][a]]=55808+a,r[55808+a]=s[218][a]);for(s[219]="".split(""),a=0;a!=s[219].length;++a)s[219][a].charCodeAt(0)!==65533&&(n[s[219][a]]=56064+a,r[56064+a]=s[219][a]);for(s[220]="".split(""),a=0;a!=s[220].length;++a)s[220][a].charCodeAt(0)!==65533&&(n[s[220][a]]=56320+a,r[56320+a]=s[220][a]);for(s[221]="".split(""),a=0;a!=s[221].length;++a)s[221][a].charCodeAt(0)!==65533&&(n[s[221][a]]=56576+a,r[56576+a]=s[221][a]);for(s[222]="".split(""),a=0;a!=s[222].length;++a)s[222][a].charCodeAt(0)!==65533&&(n[s[222][a]]=56832+a,r[56832+a]=s[222][a]);for(s[223]="".split(""),a=0;a!=s[223].length;++a)s[223][a].charCodeAt(0)!==65533&&(n[s[223][a]]=57088+a,r[57088+a]=s[223][a]);for(s[224]="".split(""),a=0;a!=s[224].length;++a)s[224][a].charCodeAt(0)!==65533&&(n[s[224][a]]=57344+a,r[57344+a]=s[224][a]);for(s[225]="".split(""),a=0;a!=s[225].length;++a)s[225][a].charCodeAt(0)!==65533&&(n[s[225][a]]=57600+a,r[57600+a]=s[225][a]);for(s[226]="".split(""),a=0;a!=s[226].length;++a)s[226][a].charCodeAt(0)!==65533&&(n[s[226][a]]=57856+a,r[57856+a]=s[226][a]);for(s[227]="".split(""),a=0;a!=s[227].length;++a)s[227][a].charCodeAt(0)!==65533&&(n[s[227][a]]=58112+a,r[58112+a]=s[227][a]);for(s[228]="".split(""),a=0;a!=s[228].length;++a)s[228][a].charCodeAt(0)!==65533&&(n[s[228][a]]=58368+a,r[58368+a]=s[228][a]);for(s[229]="".split(""),a=0;a!=s[229].length;++a)s[229][a].charCodeAt(0)!==65533&&(n[s[229][a]]=58624+a,r[58624+a]=s[229][a]);for(s[230]="".split(""),a=0;a!=s[230].length;++a)s[230][a].charCodeAt(0)!==65533&&(n[s[230][a]]=58880+a,r[58880+a]=s[230][a]);for(s[231]="".split(""),a=0;a!=s[231].length;++a)s[231][a].charCodeAt(0)!==65533&&(n[s[231][a]]=59136+a,r[59136+a]=s[231][a]);for(s[232]="".split(""),a=0;a!=s[232].length;++a)s[232][a].charCodeAt(0)!==65533&&(n[s[232][a]]=59392+a,r[59392+a]=s[232][a]);for(s[233]="".split(""),a=0;a!=s[233].length;++a)s[233][a].charCodeAt(0)!==65533&&(n[s[233][a]]=59648+a,r[59648+a]=s[233][a]);for(s[234]="".split(""),a=0;a!=s[234].length;++a)s[234][a].charCodeAt(0)!==65533&&(n[s[234][a]]=59904+a,r[59904+a]=s[234][a]);for(s[235]="".split(""),a=0;a!=s[235].length;++a)s[235][a].charCodeAt(0)!==65533&&(n[s[235][a]]=60160+a,r[60160+a]=s[235][a]);for(s[236]="".split(""),a=0;a!=s[236].length;++a)s[236][a].charCodeAt(0)!==65533&&(n[s[236][a]]=60416+a,r[60416+a]=s[236][a]);for(s[237]="".split(""),a=0;a!=s[237].length;++a)s[237][a].charCodeAt(0)!==65533&&(n[s[237][a]]=60672+a,r[60672+a]=s[237][a]);for(s[238]="".split(""),a=0;a!=s[238].length;++a)s[238][a].charCodeAt(0)!==65533&&(n[s[238][a]]=60928+a,r[60928+a]=s[238][a]);for(s[239]="".split(""),a=0;a!=s[239].length;++a)s[239][a].charCodeAt(0)!==65533&&(n[s[239][a]]=61184+a,r[61184+a]=s[239][a]);for(s[240]="".split(""),a=0;a!=s[240].length;++a)s[240][a].charCodeAt(0)!==65533&&(n[s[240][a]]=61440+a,r[61440+a]=s[240][a]);for(s[241]="".split(""),a=0;a!=s[241].length;++a)s[241][a].charCodeAt(0)!==65533&&(n[s[241][a]]=61696+a,r[61696+a]=s[241][a]);for(s[242]="".split(""),a=0;a!=s[242].length;++a)s[242][a].charCodeAt(0)!==65533&&(n[s[242][a]]=61952+a,r[61952+a]=s[242][a]);for(s[243]="".split(""),a=0;a!=s[243].length;++a)s[243][a].charCodeAt(0)!==65533&&(n[s[243][a]]=62208+a,r[62208+a]=s[243][a]);for(s[244]="".split(""),a=0;a!=s[244].length;++a)s[244][a].charCodeAt(0)!==65533&&(n[s[244][a]]=62464+a,r[62464+a]=s[244][a]);for(s[245]="".split(""),a=0;a!=s[245].length;++a)s[245][a].charCodeAt(0)!==65533&&(n[s[245][a]]=62720+a,r[62720+a]=s[245][a]);for(s[246]="".split(""),a=0;a!=s[246].length;++a)s[246][a].charCodeAt(0)!==65533&&(n[s[246][a]]=62976+a,r[62976+a]=s[246][a]);for(s[247]="".split(""),a=0;a!=s[247].length;++a)s[247][a].charCodeAt(0)!==65533&&(n[s[247][a]]=63232+a,r[63232+a]=s[247][a]);for(s[248]="".split(""),a=0;a!=s[248].length;++a)s[248][a].charCodeAt(0)!==65533&&(n[s[248][a]]=63488+a,r[63488+a]=s[248][a]);for(s[249]="".split(""),a=0;a!=s[249].length;++a)s[249][a].charCodeAt(0)!==65533&&(n[s[249][a]]=63744+a,r[63744+a]=s[249][a]);for(s[250]="".split(""),a=0;a!=s[250].length;++a)s[250][a].charCodeAt(0)!==65533&&(n[s[250][a]]=64e3+a,r[64e3+a]=s[250][a]);for(s[251]="".split(""),a=0;a!=s[251].length;++a)s[251][a].charCodeAt(0)!==65533&&(n[s[251][a]]=64256+a,r[64256+a]=s[251][a]);for(s[252]="".split(""),a=0;a!=s[252].length;++a)s[252][a].charCodeAt(0)!==65533&&(n[s[252][a]]=64512+a,r[64512+a]=s[252][a]);for(s[253]="".split(""),a=0;a!=s[253].length;++a)s[253][a].charCodeAt(0)!==65533&&(n[s[253][a]]=64768+a,r[64768+a]=s[253][a]);for(s[254]="".split(""),a=0;a!=s[254].length;++a)s[254][a].charCodeAt(0)!==65533&&(n[s[254][a]]=65024+a,r[65024+a]=s[254][a]);return{enc:n,dec:r}}(),t[949]=function(){var r=[],n={},s=[],a;for(s[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=s[0].length;++a)s[0][a].charCodeAt(0)!==65533&&(n[s[0][a]]=0+a,r[0+a]=s[0][a]);for(s[129]="".split(""),a=0;a!=s[129].length;++a)s[129][a].charCodeAt(0)!==65533&&(n[s[129][a]]=33024+a,r[33024+a]=s[129][a]);for(s[130]="".split(""),a=0;a!=s[130].length;++a)s[130][a].charCodeAt(0)!==65533&&(n[s[130][a]]=33280+a,r[33280+a]=s[130][a]);for(s[131]="".split(""),a=0;a!=s[131].length;++a)s[131][a].charCodeAt(0)!==65533&&(n[s[131][a]]=33536+a,r[33536+a]=s[131][a]);for(s[132]="".split(""),a=0;a!=s[132].length;++a)s[132][a].charCodeAt(0)!==65533&&(n[s[132][a]]=33792+a,r[33792+a]=s[132][a]);for(s[133]="".split(""),a=0;a!=s[133].length;++a)s[133][a].charCodeAt(0)!==65533&&(n[s[133][a]]=34048+a,r[34048+a]=s[133][a]);for(s[134]="".split(""),a=0;a!=s[134].length;++a)s[134][a].charCodeAt(0)!==65533&&(n[s[134][a]]=34304+a,r[34304+a]=s[134][a]);for(s[135]="".split(""),a=0;a!=s[135].length;++a)s[135][a].charCodeAt(0)!==65533&&(n[s[135][a]]=34560+a,r[34560+a]=s[135][a]);for(s[136]="".split(""),a=0;a!=s[136].length;++a)s[136][a].charCodeAt(0)!==65533&&(n[s[136][a]]=34816+a,r[34816+a]=s[136][a]);for(s[137]="".split(""),a=0;a!=s[137].length;++a)s[137][a].charCodeAt(0)!==65533&&(n[s[137][a]]=35072+a,r[35072+a]=s[137][a]);for(s[138]="".split(""),a=0;a!=s[138].length;++a)s[138][a].charCodeAt(0)!==65533&&(n[s[138][a]]=35328+a,r[35328+a]=s[138][a]);for(s[139]="".split(""),a=0;a!=s[139].length;++a)s[139][a].charCodeAt(0)!==65533&&(n[s[139][a]]=35584+a,r[35584+a]=s[139][a]);for(s[140]="".split(""),a=0;a!=s[140].length;++a)s[140][a].charCodeAt(0)!==65533&&(n[s[140][a]]=35840+a,r[35840+a]=s[140][a]);for(s[141]="".split(""),a=0;a!=s[141].length;++a)s[141][a].charCodeAt(0)!==65533&&(n[s[141][a]]=36096+a,r[36096+a]=s[141][a]);for(s[142]="".split(""),a=0;a!=s[142].length;++a)s[142][a].charCodeAt(0)!==65533&&(n[s[142][a]]=36352+a,r[36352+a]=s[142][a]);for(s[143]="".split(""),a=0;a!=s[143].length;++a)s[143][a].charCodeAt(0)!==65533&&(n[s[143][a]]=36608+a,r[36608+a]=s[143][a]);for(s[144]="".split(""),a=0;a!=s[144].length;++a)s[144][a].charCodeAt(0)!==65533&&(n[s[144][a]]=36864+a,r[36864+a]=s[144][a]);for(s[145]="".split(""),a=0;a!=s[145].length;++a)s[145][a].charCodeAt(0)!==65533&&(n[s[145][a]]=37120+a,r[37120+a]=s[145][a]);for(s[146]="".split(""),a=0;a!=s[146].length;++a)s[146][a].charCodeAt(0)!==65533&&(n[s[146][a]]=37376+a,r[37376+a]=s[146][a]);for(s[147]="".split(""),a=0;a!=s[147].length;++a)s[147][a].charCodeAt(0)!==65533&&(n[s[147][a]]=37632+a,r[37632+a]=s[147][a]);for(s[148]="".split(""),a=0;a!=s[148].length;++a)s[148][a].charCodeAt(0)!==65533&&(n[s[148][a]]=37888+a,r[37888+a]=s[148][a]);for(s[149]="".split(""),a=0;a!=s[149].length;++a)s[149][a].charCodeAt(0)!==65533&&(n[s[149][a]]=38144+a,r[38144+a]=s[149][a]);for(s[150]="".split(""),a=0;a!=s[150].length;++a)s[150][a].charCodeAt(0)!==65533&&(n[s[150][a]]=38400+a,r[38400+a]=s[150][a]);for(s[151]="".split(""),a=0;a!=s[151].length;++a)s[151][a].charCodeAt(0)!==65533&&(n[s[151][a]]=38656+a,r[38656+a]=s[151][a]);for(s[152]="".split(""),a=0;a!=s[152].length;++a)s[152][a].charCodeAt(0)!==65533&&(n[s[152][a]]=38912+a,r[38912+a]=s[152][a]);for(s[153]="".split(""),a=0;a!=s[153].length;++a)s[153][a].charCodeAt(0)!==65533&&(n[s[153][a]]=39168+a,r[39168+a]=s[153][a]);for(s[154]="".split(""),a=0;a!=s[154].length;++a)s[154][a].charCodeAt(0)!==65533&&(n[s[154][a]]=39424+a,r[39424+a]=s[154][a]);for(s[155]="".split(""),a=0;a!=s[155].length;++a)s[155][a].charCodeAt(0)!==65533&&(n[s[155][a]]=39680+a,r[39680+a]=s[155][a]);for(s[156]="".split(""),a=0;a!=s[156].length;++a)s[156][a].charCodeAt(0)!==65533&&(n[s[156][a]]=39936+a,r[39936+a]=s[156][a]);for(s[157]="".split(""),a=0;a!=s[157].length;++a)s[157][a].charCodeAt(0)!==65533&&(n[s[157][a]]=40192+a,r[40192+a]=s[157][a]);for(s[158]="".split(""),a=0;a!=s[158].length;++a)s[158][a].charCodeAt(0)!==65533&&(n[s[158][a]]=40448+a,r[40448+a]=s[158][a]);for(s[159]="".split(""),a=0;a!=s[159].length;++a)s[159][a].charCodeAt(0)!==65533&&(n[s[159][a]]=40704+a,r[40704+a]=s[159][a]);for(s[160]="".split(""),a=0;a!=s[160].length;++a)s[160][a].charCodeAt(0)!==65533&&(n[s[160][a]]=40960+a,r[40960+a]=s[160][a]);for(s[161]="".split(""),a=0;a!=s[161].length;++a)s[161][a].charCodeAt(0)!==65533&&(n[s[161][a]]=41216+a,r[41216+a]=s[161][a]);for(s[162]="".split(""),a=0;a!=s[162].length;++a)s[162][a].charCodeAt(0)!==65533&&(n[s[162][a]]=41472+a,r[41472+a]=s[162][a]);for(s[163]="".split(""),a=0;a!=s[163].length;++a)s[163][a].charCodeAt(0)!==65533&&(n[s[163][a]]=41728+a,r[41728+a]=s[163][a]);for(s[164]="".split(""),a=0;a!=s[164].length;++a)s[164][a].charCodeAt(0)!==65533&&(n[s[164][a]]=41984+a,r[41984+a]=s[164][a]);for(s[165]="".split(""),a=0;a!=s[165].length;++a)s[165][a].charCodeAt(0)!==65533&&(n[s[165][a]]=42240+a,r[42240+a]=s[165][a]);for(s[166]="".split(""),a=0;a!=s[166].length;++a)s[166][a].charCodeAt(0)!==65533&&(n[s[166][a]]=42496+a,r[42496+a]=s[166][a]);for(s[167]="".split(""),a=0;a!=s[167].length;++a)s[167][a].charCodeAt(0)!==65533&&(n[s[167][a]]=42752+a,r[42752+a]=s[167][a]);for(s[168]="".split(""),a=0;a!=s[168].length;++a)s[168][a].charCodeAt(0)!==65533&&(n[s[168][a]]=43008+a,r[43008+a]=s[168][a]);for(s[169]="".split(""),a=0;a!=s[169].length;++a)s[169][a].charCodeAt(0)!==65533&&(n[s[169][a]]=43264+a,r[43264+a]=s[169][a]);for(s[170]="".split(""),a=0;a!=s[170].length;++a)s[170][a].charCodeAt(0)!==65533&&(n[s[170][a]]=43520+a,r[43520+a]=s[170][a]);for(s[171]="".split(""),a=0;a!=s[171].length;++a)s[171][a].charCodeAt(0)!==65533&&(n[s[171][a]]=43776+a,r[43776+a]=s[171][a]);for(s[172]="".split(""),a=0;a!=s[172].length;++a)s[172][a].charCodeAt(0)!==65533&&(n[s[172][a]]=44032+a,r[44032+a]=s[172][a]);for(s[173]="".split(""),a=0;a!=s[173].length;++a)s[173][a].charCodeAt(0)!==65533&&(n[s[173][a]]=44288+a,r[44288+a]=s[173][a]);for(s[174]="".split(""),a=0;a!=s[174].length;++a)s[174][a].charCodeAt(0)!==65533&&(n[s[174][a]]=44544+a,r[44544+a]=s[174][a]);for(s[175]="".split(""),a=0;a!=s[175].length;++a)s[175][a].charCodeAt(0)!==65533&&(n[s[175][a]]=44800+a,r[44800+a]=s[175][a]);for(s[176]="".split(""),a=0;a!=s[176].length;++a)s[176][a].charCodeAt(0)!==65533&&(n[s[176][a]]=45056+a,r[45056+a]=s[176][a]);for(s[177]="".split(""),a=0;a!=s[177].length;++a)s[177][a].charCodeAt(0)!==65533&&(n[s[177][a]]=45312+a,r[45312+a]=s[177][a]);for(s[178]="".split(""),a=0;a!=s[178].length;++a)s[178][a].charCodeAt(0)!==65533&&(n[s[178][a]]=45568+a,r[45568+a]=s[178][a]);for(s[179]="".split(""),a=0;a!=s[179].length;++a)s[179][a].charCodeAt(0)!==65533&&(n[s[179][a]]=45824+a,r[45824+a]=s[179][a]);for(s[180]="".split(""),a=0;a!=s[180].length;++a)s[180][a].charCodeAt(0)!==65533&&(n[s[180][a]]=46080+a,r[46080+a]=s[180][a]);for(s[181]="".split(""),a=0;a!=s[181].length;++a)s[181][a].charCodeAt(0)!==65533&&(n[s[181][a]]=46336+a,r[46336+a]=s[181][a]);for(s[182]="".split(""),a=0;a!=s[182].length;++a)s[182][a].charCodeAt(0)!==65533&&(n[s[182][a]]=46592+a,r[46592+a]=s[182][a]);for(s[183]="".split(""),a=0;a!=s[183].length;++a)s[183][a].charCodeAt(0)!==65533&&(n[s[183][a]]=46848+a,r[46848+a]=s[183][a]);for(s[184]="".split(""),a=0;a!=s[184].length;++a)s[184][a].charCodeAt(0)!==65533&&(n[s[184][a]]=47104+a,r[47104+a]=s[184][a]);for(s[185]="".split(""),a=0;a!=s[185].length;++a)s[185][a].charCodeAt(0)!==65533&&(n[s[185][a]]=47360+a,r[47360+a]=s[185][a]);for(s[186]="".split(""),a=0;a!=s[186].length;++a)s[186][a].charCodeAt(0)!==65533&&(n[s[186][a]]=47616+a,r[47616+a]=s[186][a]);for(s[187]="".split(""),a=0;a!=s[187].length;++a)s[187][a].charCodeAt(0)!==65533&&(n[s[187][a]]=47872+a,r[47872+a]=s[187][a]);for(s[188]="".split(""),a=0;a!=s[188].length;++a)s[188][a].charCodeAt(0)!==65533&&(n[s[188][a]]=48128+a,r[48128+a]=s[188][a]);for(s[189]="".split(""),a=0;a!=s[189].length;++a)s[189][a].charCodeAt(0)!==65533&&(n[s[189][a]]=48384+a,r[48384+a]=s[189][a]);for(s[190]="".split(""),a=0;a!=s[190].length;++a)s[190][a].charCodeAt(0)!==65533&&(n[s[190][a]]=48640+a,r[48640+a]=s[190][a]);for(s[191]="".split(""),a=0;a!=s[191].length;++a)s[191][a].charCodeAt(0)!==65533&&(n[s[191][a]]=48896+a,r[48896+a]=s[191][a]);for(s[192]="".split(""),a=0;a!=s[192].length;++a)s[192][a].charCodeAt(0)!==65533&&(n[s[192][a]]=49152+a,r[49152+a]=s[192][a]);for(s[193]="".split(""),a=0;a!=s[193].length;++a)s[193][a].charCodeAt(0)!==65533&&(n[s[193][a]]=49408+a,r[49408+a]=s[193][a]);for(s[194]="".split(""),a=0;a!=s[194].length;++a)s[194][a].charCodeAt(0)!==65533&&(n[s[194][a]]=49664+a,r[49664+a]=s[194][a]);for(s[195]="".split(""),a=0;a!=s[195].length;++a)s[195][a].charCodeAt(0)!==65533&&(n[s[195][a]]=49920+a,r[49920+a]=s[195][a]);for(s[196]="".split(""),a=0;a!=s[196].length;++a)s[196][a].charCodeAt(0)!==65533&&(n[s[196][a]]=50176+a,r[50176+a]=s[196][a]);for(s[197]="".split(""),a=0;a!=s[197].length;++a)s[197][a].charCodeAt(0)!==65533&&(n[s[197][a]]=50432+a,r[50432+a]=s[197][a]);for(s[198]="".split(""),a=0;a!=s[198].length;++a)s[198][a].charCodeAt(0)!==65533&&(n[s[198][a]]=50688+a,r[50688+a]=s[198][a]);for(s[199]="".split(""),a=0;a!=s[199].length;++a)s[199][a].charCodeAt(0)!==65533&&(n[s[199][a]]=50944+a,r[50944+a]=s[199][a]);for(s[200]="".split(""),a=0;a!=s[200].length;++a)s[200][a].charCodeAt(0)!==65533&&(n[s[200][a]]=51200+a,r[51200+a]=s[200][a]);for(s[202]="".split(""),a=0;a!=s[202].length;++a)s[202][a].charCodeAt(0)!==65533&&(n[s[202][a]]=51712+a,r[51712+a]=s[202][a]);for(s[203]="".split(""),a=0;a!=s[203].length;++a)s[203][a].charCodeAt(0)!==65533&&(n[s[203][a]]=51968+a,r[51968+a]=s[203][a]);for(s[204]="".split(""),a=0;a!=s[204].length;++a)s[204][a].charCodeAt(0)!==65533&&(n[s[204][a]]=52224+a,r[52224+a]=s[204][a]);for(s[205]="".split(""),a=0;a!=s[205].length;++a)s[205][a].charCodeAt(0)!==65533&&(n[s[205][a]]=52480+a,r[52480+a]=s[205][a]);for(s[206]="".split(""),a=0;a!=s[206].length;++a)s[206][a].charCodeAt(0)!==65533&&(n[s[206][a]]=52736+a,r[52736+a]=s[206][a]);for(s[207]="".split(""),a=0;a!=s[207].length;++a)s[207][a].charCodeAt(0)!==65533&&(n[s[207][a]]=52992+a,r[52992+a]=s[207][a]);for(s[208]="".split(""),a=0;a!=s[208].length;++a)s[208][a].charCodeAt(0)!==65533&&(n[s[208][a]]=53248+a,r[53248+a]=s[208][a]);for(s[209]="".split(""),a=0;a!=s[209].length;++a)s[209][a].charCodeAt(0)!==65533&&(n[s[209][a]]=53504+a,r[53504+a]=s[209][a]);for(s[210]="".split(""),a=0;a!=s[210].length;++a)s[210][a].charCodeAt(0)!==65533&&(n[s[210][a]]=53760+a,r[53760+a]=s[210][a]);for(s[211]="".split(""),a=0;a!=s[211].length;++a)s[211][a].charCodeAt(0)!==65533&&(n[s[211][a]]=54016+a,r[54016+a]=s[211][a]);for(s[212]="".split(""),a=0;a!=s[212].length;++a)s[212][a].charCodeAt(0)!==65533&&(n[s[212][a]]=54272+a,r[54272+a]=s[212][a]);for(s[213]="".split(""),a=0;a!=s[213].length;++a)s[213][a].charCodeAt(0)!==65533&&(n[s[213][a]]=54528+a,r[54528+a]=s[213][a]);for(s[214]="".split(""),a=0;a!=s[214].length;++a)s[214][a].charCodeAt(0)!==65533&&(n[s[214][a]]=54784+a,r[54784+a]=s[214][a]);for(s[215]="".split(""),a=0;a!=s[215].length;++a)s[215][a].charCodeAt(0)!==65533&&(n[s[215][a]]=55040+a,r[55040+a]=s[215][a]);for(s[216]="".split(""),a=0;a!=s[216].length;++a)s[216][a].charCodeAt(0)!==65533&&(n[s[216][a]]=55296+a,r[55296+a]=s[216][a]);for(s[217]="".split(""),a=0;a!=s[217].length;++a)s[217][a].charCodeAt(0)!==65533&&(n[s[217][a]]=55552+a,r[55552+a]=s[217][a]);for(s[218]="".split(""),a=0;a!=s[218].length;++a)s[218][a].charCodeAt(0)!==65533&&(n[s[218][a]]=55808+a,r[55808+a]=s[218][a]);for(s[219]="".split(""),a=0;a!=s[219].length;++a)s[219][a].charCodeAt(0)!==65533&&(n[s[219][a]]=56064+a,r[56064+a]=s[219][a]);for(s[220]="".split(""),a=0;a!=s[220].length;++a)s[220][a].charCodeAt(0)!==65533&&(n[s[220][a]]=56320+a,r[56320+a]=s[220][a]);for(s[221]="".split(""),a=0;a!=s[221].length;++a)s[221][a].charCodeAt(0)!==65533&&(n[s[221][a]]=56576+a,r[56576+a]=s[221][a]);for(s[222]="".split(""),a=0;a!=s[222].length;++a)s[222][a].charCodeAt(0)!==65533&&(n[s[222][a]]=56832+a,r[56832+a]=s[222][a]);for(s[223]="".split(""),a=0;a!=s[223].length;++a)s[223][a].charCodeAt(0)!==65533&&(n[s[223][a]]=57088+a,r[57088+a]=s[223][a]);for(s[224]="".split(""),a=0;a!=s[224].length;++a)s[224][a].charCodeAt(0)!==65533&&(n[s[224][a]]=57344+a,r[57344+a]=s[224][a]);for(s[225]="".split(""),a=0;a!=s[225].length;++a)s[225][a].charCodeAt(0)!==65533&&(n[s[225][a]]=57600+a,r[57600+a]=s[225][a]);for(s[226]="".split(""),a=0;a!=s[226].length;++a)s[226][a].charCodeAt(0)!==65533&&(n[s[226][a]]=57856+a,r[57856+a]=s[226][a]);for(s[227]="".split(""),a=0;a!=s[227].length;++a)s[227][a].charCodeAt(0)!==65533&&(n[s[227][a]]=58112+a,r[58112+a]=s[227][a]);for(s[228]="".split(""),a=0;a!=s[228].length;++a)s[228][a].charCodeAt(0)!==65533&&(n[s[228][a]]=58368+a,r[58368+a]=s[228][a]);for(s[229]="".split(""),a=0;a!=s[229].length;++a)s[229][a].charCodeAt(0)!==65533&&(n[s[229][a]]=58624+a,r[58624+a]=s[229][a]);for(s[230]="".split(""),a=0;a!=s[230].length;++a)s[230][a].charCodeAt(0)!==65533&&(n[s[230][a]]=58880+a,r[58880+a]=s[230][a]);for(s[231]="".split(""),a=0;a!=s[231].length;++a)s[231][a].charCodeAt(0)!==65533&&(n[s[231][a]]=59136+a,r[59136+a]=s[231][a]);for(s[232]="".split(""),a=0;a!=s[232].length;++a)s[232][a].charCodeAt(0)!==65533&&(n[s[232][a]]=59392+a,r[59392+a]=s[232][a]);for(s[233]="".split(""),a=0;a!=s[233].length;++a)s[233][a].charCodeAt(0)!==65533&&(n[s[233][a]]=59648+a,r[59648+a]=s[233][a]);for(s[234]="".split(""),a=0;a!=s[234].length;++a)s[234][a].charCodeAt(0)!==65533&&(n[s[234][a]]=59904+a,r[59904+a]=s[234][a]);for(s[235]="".split(""),a=0;a!=s[235].length;++a)s[235][a].charCodeAt(0)!==65533&&(n[s[235][a]]=60160+a,r[60160+a]=s[235][a]);for(s[236]="".split(""),a=0;a!=s[236].length;++a)s[236][a].charCodeAt(0)!==65533&&(n[s[236][a]]=60416+a,r[60416+a]=s[236][a]);for(s[237]="".split(""),a=0;a!=s[237].length;++a)s[237][a].charCodeAt(0)!==65533&&(n[s[237][a]]=60672+a,r[60672+a]=s[237][a]);for(s[238]="".split(""),a=0;a!=s[238].length;++a)s[238][a].charCodeAt(0)!==65533&&(n[s[238][a]]=60928+a,r[60928+a]=s[238][a]);for(s[239]="".split(""),a=0;a!=s[239].length;++a)s[239][a].charCodeAt(0)!==65533&&(n[s[239][a]]=61184+a,r[61184+a]=s[239][a]);for(s[240]="".split(""),a=0;a!=s[240].length;++a)s[240][a].charCodeAt(0)!==65533&&(n[s[240][a]]=61440+a,r[61440+a]=s[240][a]);for(s[241]="".split(""),a=0;a!=s[241].length;++a)s[241][a].charCodeAt(0)!==65533&&(n[s[241][a]]=61696+a,r[61696+a]=s[241][a]);for(s[242]="".split(""),a=0;a!=s[242].length;++a)s[242][a].charCodeAt(0)!==65533&&(n[s[242][a]]=61952+a,r[61952+a]=s[242][a]);for(s[243]="".split(""),a=0;a!=s[243].length;++a)s[243][a].charCodeAt(0)!==65533&&(n[s[243][a]]=62208+a,r[62208+a]=s[243][a]);for(s[244]="".split(""),a=0;a!=s[244].length;++a)s[244][a].charCodeAt(0)!==65533&&(n[s[244][a]]=62464+a,r[62464+a]=s[244][a]);for(s[245]="".split(""),a=0;a!=s[245].length;++a)s[245][a].charCodeAt(0)!==65533&&(n[s[245][a]]=62720+a,r[62720+a]=s[245][a]);for(s[246]="".split(""),a=0;a!=s[246].length;++a)s[246][a].charCodeAt(0)!==65533&&(n[s[246][a]]=62976+a,r[62976+a]=s[246][a]);for(s[247]="".split(""),a=0;a!=s[247].length;++a)s[247][a].charCodeAt(0)!==65533&&(n[s[247][a]]=63232+a,r[63232+a]=s[247][a]);for(s[248]="".split(""),a=0;a!=s[248].length;++a)s[248][a].charCodeAt(0)!==65533&&(n[s[248][a]]=63488+a,r[63488+a]=s[248][a]);for(s[249]="".split(""),a=0;a!=s[249].length;++a)s[249][a].charCodeAt(0)!==65533&&(n[s[249][a]]=63744+a,r[63744+a]=s[249][a]);for(s[250]="".split(""),a=0;a!=s[250].length;++a)s[250][a].charCodeAt(0)!==65533&&(n[s[250][a]]=64e3+a,r[64e3+a]=s[250][a]);for(s[251]="".split(""),a=0;a!=s[251].length;++a)s[251][a].charCodeAt(0)!==65533&&(n[s[251][a]]=64256+a,r[64256+a]=s[251][a]);for(s[252]="".split(""),a=0;a!=s[252].length;++a)s[252][a].charCodeAt(0)!==65533&&(n[s[252][a]]=64512+a,r[64512+a]=s[252][a]);for(s[253]="".split(""),a=0;a!=s[253].length;++a)s[253][a].charCodeAt(0)!==65533&&(n[s[253][a]]=64768+a,r[64768+a]=s[253][a]);return{enc:n,dec:r}}(),t[950]=function(){var r=[],n={},s=[],a;for(s[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=s[0].length;++a)s[0][a].charCodeAt(0)!==65533&&(n[s[0][a]]=0+a,r[0+a]=s[0][a]);for(s[161]="".split(""),a=0;a!=s[161].length;++a)s[161][a].charCodeAt(0)!==65533&&(n[s[161][a]]=41216+a,r[41216+a]=s[161][a]);for(s[162]="".split(""),a=0;a!=s[162].length;++a)s[162][a].charCodeAt(0)!==65533&&(n[s[162][a]]=41472+a,r[41472+a]=s[162][a]);for(s[163]="".split(""),a=0;a!=s[163].length;++a)s[163][a].charCodeAt(0)!==65533&&(n[s[163][a]]=41728+a,r[41728+a]=s[163][a]);for(s[164]="".split(""),a=0;a!=s[164].length;++a)s[164][a].charCodeAt(0)!==65533&&(n[s[164][a]]=41984+a,r[41984+a]=s[164][a]);for(s[165]="".split(""),a=0;a!=s[165].length;++a)s[165][a].charCodeAt(0)!==65533&&(n[s[165][a]]=42240+a,r[42240+a]=s[165][a]);for(s[166]="".split(""),a=0;a!=s[166].length;++a)s[166][a].charCodeAt(0)!==65533&&(n[s[166][a]]=42496+a,r[42496+a]=s[166][a]);for(s[167]="".split(""),a=0;a!=s[167].length;++a)s[167][a].charCodeAt(0)!==65533&&(n[s[167][a]]=42752+a,r[42752+a]=s[167][a]);for(s[168]="".split(""),a=0;a!=s[168].length;++a)s[168][a].charCodeAt(0)!==65533&&(n[s[168][a]]=43008+a,r[43008+a]=s[168][a]);for(s[169]="".split(""),a=0;a!=s[169].length;++a)s[169][a].charCodeAt(0)!==65533&&(n[s[169][a]]=43264+a,r[43264+a]=s[169][a]);for(s[170]="".split(""),a=0;a!=s[170].length;++a)s[170][a].charCodeAt(0)!==65533&&(n[s[170][a]]=43520+a,r[43520+a]=s[170][a]);for(s[171]="".split(""),a=0;a!=s[171].length;++a)s[171][a].charCodeAt(0)!==65533&&(n[s[171][a]]=43776+a,r[43776+a]=s[171][a]);for(s[172]="".split(""),a=0;a!=s[172].length;++a)s[172][a].charCodeAt(0)!==65533&&(n[s[172][a]]=44032+a,r[44032+a]=s[172][a]);for(s[173]="".split(""),a=0;a!=s[173].length;++a)s[173][a].charCodeAt(0)!==65533&&(n[s[173][a]]=44288+a,r[44288+a]=s[173][a]);for(s[174]="".split(""),a=0;a!=s[174].length;++a)s[174][a].charCodeAt(0)!==65533&&(n[s[174][a]]=44544+a,r[44544+a]=s[174][a]);for(s[175]="".split(""),a=0;a!=s[175].length;++a)s[175][a].charCodeAt(0)!==65533&&(n[s[175][a]]=44800+a,r[44800+a]=s[175][a]);for(s[176]="".split(""),a=0;a!=s[176].length;++a)s[176][a].charCodeAt(0)!==65533&&(n[s[176][a]]=45056+a,r[45056+a]=s[176][a]);for(s[177]="".split(""),a=0;a!=s[177].length;++a)s[177][a].charCodeAt(0)!==65533&&(n[s[177][a]]=45312+a,r[45312+a]=s[177][a]);for(s[178]="".split(""),a=0;a!=s[178].length;++a)s[178][a].charCodeAt(0)!==65533&&(n[s[178][a]]=45568+a,r[45568+a]=s[178][a]);for(s[179]="".split(""),a=0;a!=s[179].length;++a)s[179][a].charCodeAt(0)!==65533&&(n[s[179][a]]=45824+a,r[45824+a]=s[179][a]);for(s[180]="".split(""),a=0;a!=s[180].length;++a)s[180][a].charCodeAt(0)!==65533&&(n[s[180][a]]=46080+a,r[46080+a]=s[180][a]);for(s[181]="".split(""),a=0;a!=s[181].length;++a)s[181][a].charCodeAt(0)!==65533&&(n[s[181][a]]=46336+a,r[46336+a]=s[181][a]);for(s[182]="".split(""),a=0;a!=s[182].length;++a)s[182][a].charCodeAt(0)!==65533&&(n[s[182][a]]=46592+a,r[46592+a]=s[182][a]);for(s[183]="".split(""),a=0;a!=s[183].length;++a)s[183][a].charCodeAt(0)!==65533&&(n[s[183][a]]=46848+a,r[46848+a]=s[183][a]);for(s[184]="".split(""),a=0;a!=s[184].length;++a)s[184][a].charCodeAt(0)!==65533&&(n[s[184][a]]=47104+a,r[47104+a]=s[184][a]);for(s[185]="".split(""),a=0;a!=s[185].length;++a)s[185][a].charCodeAt(0)!==65533&&(n[s[185][a]]=47360+a,r[47360+a]=s[185][a]);for(s[186]="".split(""),a=0;a!=s[186].length;++a)s[186][a].charCodeAt(0)!==65533&&(n[s[186][a]]=47616+a,r[47616+a]=s[186][a]);for(s[187]="".split(""),a=0;a!=s[187].length;++a)s[187][a].charCodeAt(0)!==65533&&(n[s[187][a]]=47872+a,r[47872+a]=s[187][a]);for(s[188]="".split(""),a=0;a!=s[188].length;++a)s[188][a].charCodeAt(0)!==65533&&(n[s[188][a]]=48128+a,r[48128+a]=s[188][a]);for(s[189]="".split(""),a=0;a!=s[189].length;++a)s[189][a].charCodeAt(0)!==65533&&(n[s[189][a]]=48384+a,r[48384+a]=s[189][a]);for(s[190]="".split(""),a=0;a!=s[190].length;++a)s[190][a].charCodeAt(0)!==65533&&(n[s[190][a]]=48640+a,r[48640+a]=s[190][a]);for(s[191]="".split(""),a=0;a!=s[191].length;++a)s[191][a].charCodeAt(0)!==65533&&(n[s[191][a]]=48896+a,r[48896+a]=s[191][a]);for(s[192]="".split(""),a=0;a!=s[192].length;++a)s[192][a].charCodeAt(0)!==65533&&(n[s[192][a]]=49152+a,r[49152+a]=s[192][a]);for(s[193]="".split(""),a=0;a!=s[193].length;++a)s[193][a].charCodeAt(0)!==65533&&(n[s[193][a]]=49408+a,r[49408+a]=s[193][a]);for(s[194]="".split(""),a=0;a!=s[194].length;++a)s[194][a].charCodeAt(0)!==65533&&(n[s[194][a]]=49664+a,r[49664+a]=s[194][a]);for(s[195]="".split(""),a=0;a!=s[195].length;++a)s[195][a].charCodeAt(0)!==65533&&(n[s[195][a]]=49920+a,r[49920+a]=s[195][a]);for(s[196]="".split(""),a=0;a!=s[196].length;++a)s[196][a].charCodeAt(0)!==65533&&(n[s[196][a]]=50176+a,r[50176+a]=s[196][a]);for(s[197]="".split(""),a=0;a!=s[197].length;++a)s[197][a].charCodeAt(0)!==65533&&(n[s[197][a]]=50432+a,r[50432+a]=s[197][a]);for(s[198]="".split(""),a=0;a!=s[198].length;++a)s[198][a].charCodeAt(0)!==65533&&(n[s[198][a]]=50688+a,r[50688+a]=s[198][a]);for(s[201]="".split(""),a=0;a!=s[201].length;++a)s[201][a].charCodeAt(0)!==65533&&(n[s[201][a]]=51456+a,r[51456+a]=s[201][a]);for(s[202]="".split(""),a=0;a!=s[202].length;++a)s[202][a].charCodeAt(0)!==65533&&(n[s[202][a]]=51712+a,r[51712+a]=s[202][a]);for(s[203]="".split(""),a=0;a!=s[203].length;++a)s[203][a].charCodeAt(0)!==65533&&(n[s[203][a]]=51968+a,r[51968+a]=s[203][a]);for(s[204]="".split(""),a=0;a!=s[204].length;++a)s[204][a].charCodeAt(0)!==65533&&(n[s[204][a]]=52224+a,r[52224+a]=s[204][a]);for(s[205]="".split(""),a=0;a!=s[205].length;++a)s[205][a].charCodeAt(0)!==65533&&(n[s[205][a]]=52480+a,r[52480+a]=s[205][a]);for(s[206]="".split(""),a=0;a!=s[206].length;++a)s[206][a].charCodeAt(0)!==65533&&(n[s[206][a]]=52736+a,r[52736+a]=s[206][a]);for(s[207]="".split(""),a=0;a!=s[207].length;++a)s[207][a].charCodeAt(0)!==65533&&(n[s[207][a]]=52992+a,r[52992+a]=s[207][a]);for(s[208]="".split(""),a=0;a!=s[208].length;++a)s[208][a].charCodeAt(0)!==65533&&(n[s[208][a]]=53248+a,r[53248+a]=s[208][a]);for(s[209]="".split(""),a=0;a!=s[209].length;++a)s[209][a].charCodeAt(0)!==65533&&(n[s[209][a]]=53504+a,r[53504+a]=s[209][a]);for(s[210]="".split(""),a=0;a!=s[210].length;++a)s[210][a].charCodeAt(0)!==65533&&(n[s[210][a]]=53760+a,r[53760+a]=s[210][a]);for(s[211]="".split(""),a=0;a!=s[211].length;++a)s[211][a].charCodeAt(0)!==65533&&(n[s[211][a]]=54016+a,r[54016+a]=s[211][a]);for(s[212]="".split(""),a=0;a!=s[212].length;++a)s[212][a].charCodeAt(0)!==65533&&(n[s[212][a]]=54272+a,r[54272+a]=s[212][a]);for(s[213]="".split(""),a=0;a!=s[213].length;++a)s[213][a].charCodeAt(0)!==65533&&(n[s[213][a]]=54528+a,r[54528+a]=s[213][a]);for(s[214]="".split(""),a=0;a!=s[214].length;++a)s[214][a].charCodeAt(0)!==65533&&(n[s[214][a]]=54784+a,r[54784+a]=s[214][a]);for(s[215]="".split(""),a=0;a!=s[215].length;++a)s[215][a].charCodeAt(0)!==65533&&(n[s[215][a]]=55040+a,r[55040+a]=s[215][a]);for(s[216]="".split(""),a=0;a!=s[216].length;++a)s[216][a].charCodeAt(0)!==65533&&(n[s[216][a]]=55296+a,r[55296+a]=s[216][a]);for(s[217]="".split(""),a=0;a!=s[217].length;++a)s[217][a].charCodeAt(0)!==65533&&(n[s[217][a]]=55552+a,r[55552+a]=s[217][a]);for(s[218]="".split(""),a=0;a!=s[218].length;++a)s[218][a].charCodeAt(0)!==65533&&(n[s[218][a]]=55808+a,r[55808+a]=s[218][a]);for(s[219]="".split(""),a=0;a!=s[219].length;++a)s[219][a].charCodeAt(0)!==65533&&(n[s[219][a]]=56064+a,r[56064+a]=s[219][a]);for(s[220]="".split(""),a=0;a!=s[220].length;++a)s[220][a].charCodeAt(0)!==65533&&(n[s[220][a]]=56320+a,r[56320+a]=s[220][a]);for(s[221]="".split(""),a=0;a!=s[221].length;++a)s[221][a].charCodeAt(0)!==65533&&(n[s[221][a]]=56576+a,r[56576+a]=s[221][a]);for(s[222]="".split(""),a=0;a!=s[222].length;++a)s[222][a].charCodeAt(0)!==65533&&(n[s[222][a]]=56832+a,r[56832+a]=s[222][a]);for(s[223]="".split(""),a=0;a!=s[223].length;++a)s[223][a].charCodeAt(0)!==65533&&(n[s[223][a]]=57088+a,r[57088+a]=s[223][a]);for(s[224]="".split(""),a=0;a!=s[224].length;++a)s[224][a].charCodeAt(0)!==65533&&(n[s[224][a]]=57344+a,r[57344+a]=s[224][a]);for(s[225]="".split(""),a=0;a!=s[225].length;++a)s[225][a].charCodeAt(0)!==65533&&(n[s[225][a]]=57600+a,r[57600+a]=s[225][a]);for(s[226]="".split(""),a=0;a!=s[226].length;++a)s[226][a].charCodeAt(0)!==65533&&(n[s[226][a]]=57856+a,r[57856+a]=s[226][a]);for(s[227]="".split(""),a=0;a!=s[227].length;++a)s[227][a].charCodeAt(0)!==65533&&(n[s[227][a]]=58112+a,r[58112+a]=s[227][a]);for(s[228]="".split(""),a=0;a!=s[228].length;++a)s[228][a].charCodeAt(0)!==65533&&(n[s[228][a]]=58368+a,r[58368+a]=s[228][a]);for(s[229]="".split(""),a=0;a!=s[229].length;++a)s[229][a].charCodeAt(0)!==65533&&(n[s[229][a]]=58624+a,r[58624+a]=s[229][a]);for(s[230]="".split(""),a=0;a!=s[230].length;++a)s[230][a].charCodeAt(0)!==65533&&(n[s[230][a]]=58880+a,r[58880+a]=s[230][a]);for(s[231]="".split(""),a=0;a!=s[231].length;++a)s[231][a].charCodeAt(0)!==65533&&(n[s[231][a]]=59136+a,r[59136+a]=s[231][a]);for(s[232]="".split(""),a=0;a!=s[232].length;++a)s[232][a].charCodeAt(0)!==65533&&(n[s[232][a]]=59392+a,r[59392+a]=s[232][a]);for(s[233]="".split(""),a=0;a!=s[233].length;++a)s[233][a].charCodeAt(0)!==65533&&(n[s[233][a]]=59648+a,r[59648+a]=s[233][a]);for(s[234]="".split(""),a=0;a!=s[234].length;++a)s[234][a].charCodeAt(0)!==65533&&(n[s[234][a]]=59904+a,r[59904+a]=s[234][a]);for(s[235]="".split(""),a=0;a!=s[235].length;++a)s[235][a].charCodeAt(0)!==65533&&(n[s[235][a]]=60160+a,r[60160+a]=s[235][a]);for(s[236]="".split(""),a=0;a!=s[236].length;++a)s[236][a].charCodeAt(0)!==65533&&(n[s[236][a]]=60416+a,r[60416+a]=s[236][a]);for(s[237]="".split(""),a=0;a!=s[237].length;++a)s[237][a].charCodeAt(0)!==65533&&(n[s[237][a]]=60672+a,r[60672+a]=s[237][a]);for(s[238]="".split(""),a=0;a!=s[238].length;++a)s[238][a].charCodeAt(0)!==65533&&(n[s[238][a]]=60928+a,r[60928+a]=s[238][a]);for(s[239]="".split(""),a=0;a!=s[239].length;++a)s[239][a].charCodeAt(0)!==65533&&(n[s[239][a]]=61184+a,r[61184+a]=s[239][a]);for(s[240]="".split(""),a=0;a!=s[240].length;++a)s[240][a].charCodeAt(0)!==65533&&(n[s[240][a]]=61440+a,r[61440+a]=s[240][a]);for(s[241]="".split(""),a=0;a!=s[241].length;++a)s[241][a].charCodeAt(0)!==65533&&(n[s[241][a]]=61696+a,r[61696+a]=s[241][a]);for(s[242]="".split(""),a=0;a!=s[242].length;++a)s[242][a].charCodeAt(0)!==65533&&(n[s[242][a]]=61952+a,r[61952+a]=s[242][a]);for(s[243]="".split(""),a=0;a!=s[243].length;++a)s[243][a].charCodeAt(0)!==65533&&(n[s[243][a]]=62208+a,r[62208+a]=s[243][a]);for(s[244]="".split(""),a=0;a!=s[244].length;++a)s[244][a].charCodeAt(0)!==65533&&(n[s[244][a]]=62464+a,r[62464+a]=s[244][a]);for(s[245]="".split(""),a=0;a!=s[245].length;++a)s[245][a].charCodeAt(0)!==65533&&(n[s[245][a]]=62720+a,r[62720+a]=s[245][a]);for(s[246]="".split(""),a=0;a!=s[246].length;++a)s[246][a].charCodeAt(0)!==65533&&(n[s[246][a]]=62976+a,r[62976+a]=s[246][a]);for(s[247]="".split(""),a=0;a!=s[247].length;++a)s[247][a].charCodeAt(0)!==65533&&(n[s[247][a]]=63232+a,r[63232+a]=s[247][a]);for(s[248]="".split(""),a=0;a!=s[248].length;++a)s[248][a].charCodeAt(0)!==65533&&(n[s[248][a]]=63488+a,r[63488+a]=s[248][a]);for(s[249]="".split(""),a=0;a!=s[249].length;++a)s[249][a].charCodeAt(0)!==65533&&(n[s[249][a]]=63744+a,r[63744+a]=s[249][a]);return{enc:n,dec:r}}(),t[1250]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1251]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1252]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1253]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1254]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1255]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1256]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1257]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1258]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[1e4]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[10006]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[10007]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[10008]=function(){var r=[],n={},s=[],a;for(s[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),a=0;a!=s[0].length;++a)s[0][a].charCodeAt(0)!==65533&&(n[s[0][a]]=0+a,r[0+a]=s[0][a]);for(s[161]="".split(""),a=0;a!=s[161].length;++a)s[161][a].charCodeAt(0)!==65533&&(n[s[161][a]]=41216+a,r[41216+a]=s[161][a]);for(s[162]="".split(""),a=0;a!=s[162].length;++a)s[162][a].charCodeAt(0)!==65533&&(n[s[162][a]]=41472+a,r[41472+a]=s[162][a]);for(s[163]="".split(""),a=0;a!=s[163].length;++a)s[163][a].charCodeAt(0)!==65533&&(n[s[163][a]]=41728+a,r[41728+a]=s[163][a]);for(s[164]="".split(""),a=0;a!=s[164].length;++a)s[164][a].charCodeAt(0)!==65533&&(n[s[164][a]]=41984+a,r[41984+a]=s[164][a]);for(s[165]="".split(""),a=0;a!=s[165].length;++a)s[165][a].charCodeAt(0)!==65533&&(n[s[165][a]]=42240+a,r[42240+a]=s[165][a]);for(s[166]="".split(""),a=0;a!=s[166].length;++a)s[166][a].charCodeAt(0)!==65533&&(n[s[166][a]]=42496+a,r[42496+a]=s[166][a]);for(s[167]="".split(""),a=0;a!=s[167].length;++a)s[167][a].charCodeAt(0)!==65533&&(n[s[167][a]]=42752+a,r[42752+a]=s[167][a]);for(s[168]="".split(""),a=0;a!=s[168].length;++a)s[168][a].charCodeAt(0)!==65533&&(n[s[168][a]]=43008+a,r[43008+a]=s[168][a]);for(s[169]="".split(""),a=0;a!=s[169].length;++a)s[169][a].charCodeAt(0)!==65533&&(n[s[169][a]]=43264+a,r[43264+a]=s[169][a]);for(s[176]="".split(""),a=0;a!=s[176].length;++a)s[176][a].charCodeAt(0)!==65533&&(n[s[176][a]]=45056+a,r[45056+a]=s[176][a]);for(s[177]="".split(""),a=0;a!=s[177].length;++a)s[177][a].charCodeAt(0)!==65533&&(n[s[177][a]]=45312+a,r[45312+a]=s[177][a]);for(s[178]="".split(""),a=0;a!=s[178].length;++a)s[178][a].charCodeAt(0)!==65533&&(n[s[178][a]]=45568+a,r[45568+a]=s[178][a]);for(s[179]="".split(""),a=0;a!=s[179].length;++a)s[179][a].charCodeAt(0)!==65533&&(n[s[179][a]]=45824+a,r[45824+a]=s[179][a]);for(s[180]="".split(""),a=0;a!=s[180].length;++a)s[180][a].charCodeAt(0)!==65533&&(n[s[180][a]]=46080+a,r[46080+a]=s[180][a]);for(s[181]="".split(""),a=0;a!=s[181].length;++a)s[181][a].charCodeAt(0)!==65533&&(n[s[181][a]]=46336+a,r[46336+a]=s[181][a]);for(s[182]="".split(""),a=0;a!=s[182].length;++a)s[182][a].charCodeAt(0)!==65533&&(n[s[182][a]]=46592+a,r[46592+a]=s[182][a]);for(s[183]="".split(""),a=0;a!=s[183].length;++a)s[183][a].charCodeAt(0)!==65533&&(n[s[183][a]]=46848+a,r[46848+a]=s[183][a]);for(s[184]="".split(""),a=0;a!=s[184].length;++a)s[184][a].charCodeAt(0)!==65533&&(n[s[184][a]]=47104+a,r[47104+a]=s[184][a]);for(s[185]="".split(""),a=0;a!=s[185].length;++a)s[185][a].charCodeAt(0)!==65533&&(n[s[185][a]]=47360+a,r[47360+a]=s[185][a]);for(s[186]="".split(""),a=0;a!=s[186].length;++a)s[186][a].charCodeAt(0)!==65533&&(n[s[186][a]]=47616+a,r[47616+a]=s[186][a]);for(s[187]="".split(""),a=0;a!=s[187].length;++a)s[187][a].charCodeAt(0)!==65533&&(n[s[187][a]]=47872+a,r[47872+a]=s[187][a]);for(s[188]="".split(""),a=0;a!=s[188].length;++a)s[188][a].charCodeAt(0)!==65533&&(n[s[188][a]]=48128+a,r[48128+a]=s[188][a]);for(s[189]="".split(""),a=0;a!=s[189].length;++a)s[189][a].charCodeAt(0)!==65533&&(n[s[189][a]]=48384+a,r[48384+a]=s[189][a]);for(s[190]="".split(""),a=0;a!=s[190].length;++a)s[190][a].charCodeAt(0)!==65533&&(n[s[190][a]]=48640+a,r[48640+a]=s[190][a]);for(s[191]="".split(""),a=0;a!=s[191].length;++a)s[191][a].charCodeAt(0)!==65533&&(n[s[191][a]]=48896+a,r[48896+a]=s[191][a]);for(s[192]="".split(""),a=0;a!=s[192].length;++a)s[192][a].charCodeAt(0)!==65533&&(n[s[192][a]]=49152+a,r[49152+a]=s[192][a]);for(s[193]="".split(""),a=0;a!=s[193].length;++a)s[193][a].charCodeAt(0)!==65533&&(n[s[193][a]]=49408+a,r[49408+a]=s[193][a]);for(s[194]="".split(""),a=0;a!=s[194].length;++a)s[194][a].charCodeAt(0)!==65533&&(n[s[194][a]]=49664+a,r[49664+a]=s[194][a]);for(s[195]="".split(""),a=0;a!=s[195].length;++a)s[195][a].charCodeAt(0)!==65533&&(n[s[195][a]]=49920+a,r[49920+a]=s[195][a]);for(s[196]="".split(""),a=0;a!=s[196].length;++a)s[196][a].charCodeAt(0)!==65533&&(n[s[196][a]]=50176+a,r[50176+a]=s[196][a]);for(s[197]="".split(""),a=0;a!=s[197].length;++a)s[197][a].charCodeAt(0)!==65533&&(n[s[197][a]]=50432+a,r[50432+a]=s[197][a]);for(s[198]="".split(""),a=0;a!=s[198].length;++a)s[198][a].charCodeAt(0)!==65533&&(n[s[198][a]]=50688+a,r[50688+a]=s[198][a]);for(s[199]="".split(""),a=0;a!=s[199].length;++a)s[199][a].charCodeAt(0)!==65533&&(n[s[199][a]]=50944+a,r[50944+a]=s[199][a]);for(s[200]="".split(""),a=0;a!=s[200].length;++a)s[200][a].charCodeAt(0)!==65533&&(n[s[200][a]]=51200+a,r[51200+a]=s[200][a]);for(s[201]="".split(""),a=0;a!=s[201].length;++a)s[201][a].charCodeAt(0)!==65533&&(n[s[201][a]]=51456+a,r[51456+a]=s[201][a]);for(s[202]="".split(""),a=0;a!=s[202].length;++a)s[202][a].charCodeAt(0)!==65533&&(n[s[202][a]]=51712+a,r[51712+a]=s[202][a]);for(s[203]="".split(""),a=0;a!=s[203].length;++a)s[203][a].charCodeAt(0)!==65533&&(n[s[203][a]]=51968+a,r[51968+a]=s[203][a]);for(s[204]="".split(""),a=0;a!=s[204].length;++a)s[204][a].charCodeAt(0)!==65533&&(n[s[204][a]]=52224+a,r[52224+a]=s[204][a]);for(s[205]="".split(""),a=0;a!=s[205].length;++a)s[205][a].charCodeAt(0)!==65533&&(n[s[205][a]]=52480+a,r[52480+a]=s[205][a]);for(s[206]="".split(""),a=0;a!=s[206].length;++a)s[206][a].charCodeAt(0)!==65533&&(n[s[206][a]]=52736+a,r[52736+a]=s[206][a]);for(s[207]="".split(""),a=0;a!=s[207].length;++a)s[207][a].charCodeAt(0)!==65533&&(n[s[207][a]]=52992+a,r[52992+a]=s[207][a]);for(s[208]="".split(""),a=0;a!=s[208].length;++a)s[208][a].charCodeAt(0)!==65533&&(n[s[208][a]]=53248+a,r[53248+a]=s[208][a]);for(s[209]="".split(""),a=0;a!=s[209].length;++a)s[209][a].charCodeAt(0)!==65533&&(n[s[209][a]]=53504+a,r[53504+a]=s[209][a]);for(s[210]="".split(""),a=0;a!=s[210].length;++a)s[210][a].charCodeAt(0)!==65533&&(n[s[210][a]]=53760+a,r[53760+a]=s[210][a]);for(s[211]="".split(""),a=0;a!=s[211].length;++a)s[211][a].charCodeAt(0)!==65533&&(n[s[211][a]]=54016+a,r[54016+a]=s[211][a]);for(s[212]="".split(""),a=0;a!=s[212].length;++a)s[212][a].charCodeAt(0)!==65533&&(n[s[212][a]]=54272+a,r[54272+a]=s[212][a]);for(s[213]="".split(""),a=0;a!=s[213].length;++a)s[213][a].charCodeAt(0)!==65533&&(n[s[213][a]]=54528+a,r[54528+a]=s[213][a]);for(s[214]="".split(""),a=0;a!=s[214].length;++a)s[214][a].charCodeAt(0)!==65533&&(n[s[214][a]]=54784+a,r[54784+a]=s[214][a]);for(s[215]="".split(""),a=0;a!=s[215].length;++a)s[215][a].charCodeAt(0)!==65533&&(n[s[215][a]]=55040+a,r[55040+a]=s[215][a]);for(s[216]="".split(""),a=0;a!=s[216].length;++a)s[216][a].charCodeAt(0)!==65533&&(n[s[216][a]]=55296+a,r[55296+a]=s[216][a]);for(s[217]="".split(""),a=0;a!=s[217].length;++a)s[217][a].charCodeAt(0)!==65533&&(n[s[217][a]]=55552+a,r[55552+a]=s[217][a]);for(s[218]="".split(""),a=0;a!=s[218].length;++a)s[218][a].charCodeAt(0)!==65533&&(n[s[218][a]]=55808+a,r[55808+a]=s[218][a]);for(s[219]="".split(""),a=0;a!=s[219].length;++a)s[219][a].charCodeAt(0)!==65533&&(n[s[219][a]]=56064+a,r[56064+a]=s[219][a]);for(s[220]="".split(""),a=0;a!=s[220].length;++a)s[220][a].charCodeAt(0)!==65533&&(n[s[220][a]]=56320+a,r[56320+a]=s[220][a]);for(s[221]="".split(""),a=0;a!=s[221].length;++a)s[221][a].charCodeAt(0)!==65533&&(n[s[221][a]]=56576+a,r[56576+a]=s[221][a]);for(s[222]="".split(""),a=0;a!=s[222].length;++a)s[222][a].charCodeAt(0)!==65533&&(n[s[222][a]]=56832+a,r[56832+a]=s[222][a]);for(s[223]="".split(""),a=0;a!=s[223].length;++a)s[223][a].charCodeAt(0)!==65533&&(n[s[223][a]]=57088+a,r[57088+a]=s[223][a]);for(s[224]="".split(""),a=0;a!=s[224].length;++a)s[224][a].charCodeAt(0)!==65533&&(n[s[224][a]]=57344+a,r[57344+a]=s[224][a]);for(s[225]="".split(""),a=0;a!=s[225].length;++a)s[225][a].charCodeAt(0)!==65533&&(n[s[225][a]]=57600+a,r[57600+a]=s[225][a]);for(s[226]="".split(""),a=0;a!=s[226].length;++a)s[226][a].charCodeAt(0)!==65533&&(n[s[226][a]]=57856+a,r[57856+a]=s[226][a]);for(s[227]="".split(""),a=0;a!=s[227].length;++a)s[227][a].charCodeAt(0)!==65533&&(n[s[227][a]]=58112+a,r[58112+a]=s[227][a]);for(s[228]="".split(""),a=0;a!=s[228].length;++a)s[228][a].charCodeAt(0)!==65533&&(n[s[228][a]]=58368+a,r[58368+a]=s[228][a]);for(s[229]="".split(""),a=0;a!=s[229].length;++a)s[229][a].charCodeAt(0)!==65533&&(n[s[229][a]]=58624+a,r[58624+a]=s[229][a]);for(s[230]="".split(""),a=0;a!=s[230].length;++a)s[230][a].charCodeAt(0)!==65533&&(n[s[230][a]]=58880+a,r[58880+a]=s[230][a]);for(s[231]="".split(""),a=0;a!=s[231].length;++a)s[231][a].charCodeAt(0)!==65533&&(n[s[231][a]]=59136+a,r[59136+a]=s[231][a]);for(s[232]="".split(""),a=0;a!=s[232].length;++a)s[232][a].charCodeAt(0)!==65533&&(n[s[232][a]]=59392+a,r[59392+a]=s[232][a]);for(s[233]="".split(""),a=0;a!=s[233].length;++a)s[233][a].charCodeAt(0)!==65533&&(n[s[233][a]]=59648+a,r[59648+a]=s[233][a]);for(s[234]="".split(""),a=0;a!=s[234].length;++a)s[234][a].charCodeAt(0)!==65533&&(n[s[234][a]]=59904+a,r[59904+a]=s[234][a]);for(s[235]="".split(""),a=0;a!=s[235].length;++a)s[235][a].charCodeAt(0)!==65533&&(n[s[235][a]]=60160+a,r[60160+a]=s[235][a]);for(s[236]="".split(""),a=0;a!=s[236].length;++a)s[236][a].charCodeAt(0)!==65533&&(n[s[236][a]]=60416+a,r[60416+a]=s[236][a]);for(s[237]="".split(""),a=0;a!=s[237].length;++a)s[237][a].charCodeAt(0)!==65533&&(n[s[237][a]]=60672+a,r[60672+a]=s[237][a]);for(s[238]="".split(""),a=0;a!=s[238].length;++a)s[238][a].charCodeAt(0)!==65533&&(n[s[238][a]]=60928+a,r[60928+a]=s[238][a]);for(s[239]="".split(""),a=0;a!=s[239].length;++a)s[239][a].charCodeAt(0)!==65533&&(n[s[239][a]]=61184+a,r[61184+a]=s[239][a]);for(s[240]="".split(""),a=0;a!=s[240].length;++a)s[240][a].charCodeAt(0)!==65533&&(n[s[240][a]]=61440+a,r[61440+a]=s[240][a]);for(s[241]="".split(""),a=0;a!=s[241].length;++a)s[241][a].charCodeAt(0)!==65533&&(n[s[241][a]]=61696+a,r[61696+a]=s[241][a]);for(s[242]="".split(""),a=0;a!=s[242].length;++a)s[242][a].charCodeAt(0)!==65533&&(n[s[242][a]]=61952+a,r[61952+a]=s[242][a]);for(s[243]="".split(""),a=0;a!=s[243].length;++a)s[243][a].charCodeAt(0)!==65533&&(n[s[243][a]]=62208+a,r[62208+a]=s[243][a]);for(s[244]="".split(""),a=0;a!=s[244].length;++a)s[244][a].charCodeAt(0)!==65533&&(n[s[244][a]]=62464+a,r[62464+a]=s[244][a]);for(s[245]="".split(""),a=0;a!=s[245].length;++a)s[245][a].charCodeAt(0)!==65533&&(n[s[245][a]]=62720+a,r[62720+a]=s[245][a]);for(s[246]="".split(""),a=0;a!=s[246].length;++a)s[246][a].charCodeAt(0)!==65533&&(n[s[246][a]]=62976+a,r[62976+a]=s[246][a]);for(s[247]="".split(""),a=0;a!=s[247].length;++a)s[247][a].charCodeAt(0)!==65533&&(n[s[247][a]]=63232+a,r[63232+a]=s[247][a]);return{enc:n,dec:r}}(),t[10029]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[10079]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[10081]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),t[28591]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],s={},a=0;a!=r.length;++a)r.charCodeAt(a)!==65533&&(s[r.charAt(a)]=a),n[a]=r.charAt(a);return{enc:s,dec:n}}(),e.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"&&(e.exports=t);/*! cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */(function(r,n){if(typeof t>"u")if(typeof A4<"u"){var s=t;e.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"?e.exports=n(s):r.cptable=n(s)}else throw new Error("cptable not found");else t=n(t)})(Ai,function(r){var n={1200:"utf16le",1201:"utf16be",12e3:"utf32le",12001:"utf32be",16969:"utf64le",20127:"ascii",65e3:"utf7",65001:"utf8"},s=[874,1250,1251,1252,1253,1254,1255,1256,1e4],a=[932,936,949,950],o=[65001],l={},c={},d={},f={},h=function(xe){return String.fromCharCode(xe)},v=function(xe){return xe.charCodeAt(0)},g=typeof Buffer<"u",_=function(){};if(g){var y=!Buffer.from;if(!y)try{Buffer.from("foo","utf8")}catch{y=!0}_=y?function(ce,xe){return xe?new Buffer(ce,xe):new Buffer(ce)}:Buffer.from.bind(Buffer),Buffer.allocUnsafe||(Buffer.allocUnsafe=function(ce){return new Buffer(ce)});var j=1024,w=Buffer.allocUnsafe(j),C=function(xe){for(var de=Buffer.allocUnsafe(65536),ee=0;ee<65536;++ee)de[ee]=0;for(var fe=Object.keys(xe),ne=fe.length,Y=0,ue=fe[Y];Y<ne;++Y)(ue=fe[Y])&&(de[ue.charCodeAt(0)]=xe[ue]);return de},k=function(xe){var de=C(r[xe].enc);return function(fe,ne){var Y=fe.length,ue,le=0,ke=0,_e=0,Fe=0;if(typeof fe=="string")for(ue=Buffer.allocUnsafe(Y),le=0;le<Y;++le)ue[le]=de[fe.charCodeAt(le)];else if(Buffer.isBuffer(fe)){for(ue=Buffer.allocUnsafe(2*Y),ke=0,le=0;le<Y;++le)_e=fe[le],_e<128?ue[ke++]=de[_e]:_e<224?(ue[ke++]=de[((_e&31)<<6)+(fe[le+1]&63)],++le):_e<240?(ue[ke++]=de[((_e&15)<<12)+((fe[le+1]&63)<<6)+(fe[le+2]&63)],le+=2):(Fe=((_e&7)<<18)+((fe[le+1]&63)<<12)+((fe[le+2]&63)<<6)+(fe[le+3]&63),le+=3,Fe<65536?ue[ke++]=de[Fe]:(Fe-=65536,ue[ke++]=de[55296+(Fe>>10&1023)],ue[ke++]=de[56320+(Fe&1023)]));ue=ue.slice(0,ke)}else for(ue=Buffer.allocUnsafe(Y),le=0;le<Y;++le)ue[le]=de[fe[le].charCodeAt(0)];return!ne||ne==="buf"?ue:ne!=="arr"?ue.toString("binary"):[].slice.call(ue)}},T=function(xe){var de=r[xe].dec,ee=Buffer.allocUnsafe(131072),fe=0,ne="";for(fe=0;fe<de.length;++fe)if(ne=de[fe]){var Y=ne.charCodeAt(0);ee[2*fe]=Y&255,ee[2*fe+1]=Y>>8}return function(le){var ke=le.length,_e=0,Fe=0;if(2*ke>j&&(j=2*ke,w=Buffer.allocUnsafe(j)),Buffer.isBuffer(le))for(_e=0;_e<ke;_e++)Fe=2*le[_e],w[2*_e]=ee[Fe],w[2*_e+1]=ee[Fe+1];else if(typeof le=="string")for(_e=0;_e<ke;_e++)Fe=2*le.charCodeAt(_e),w[2*_e]=ee[Fe],w[2*_e+1]=ee[Fe+1];else for(_e=0;_e<ke;_e++)Fe=2*le[_e],w[2*_e]=ee[Fe],w[2*_e+1]=ee[Fe+1];return w.slice(0,2*ke).toString("ucs2")}},P=function(xe){for(var de=r[xe].enc,ee=Buffer.allocUnsafe(131072),fe=0;fe<131072;++fe)ee[fe]=0;for(var ne=Object.keys(de),Y=0,ue=ne[Y];Y<ne.length;++Y)if(ue=ne[Y]){var le=ue.charCodeAt(0);ee[2*le]=de[ue]&255,ee[2*le+1]=de[ue]>>8}return function(_e,Fe){var Be=_e.length,Re=Buffer.allocUnsafe(2*Be),Te=0,$e=0,pe=0,Ge=0,pt=0;if(typeof _e=="string"){for(Te=Ge=0;Te<Be;++Te)$e=_e.charCodeAt(Te)*2,Re[Ge++]=ee[$e+1]||ee[$e],ee[$e+1]>0&&(Re[Ge++]=ee[$e]);Re=Re.slice(0,Ge)}else if(Buffer.isBuffer(_e)){for(Te=Ge=0;Te<Be;++Te)pt=_e[Te],pt<128?$e=pt:pt<224?($e=((pt&31)<<6)+(_e[Te+1]&63),++Te):pt<240?($e=((pt&15)<<12)+((_e[Te+1]&63)<<6)+(_e[Te+2]&63),Te+=2):($e=((pt&7)<<18)+((_e[Te+1]&63)<<12)+((_e[Te+2]&63)<<6)+(_e[Te+3]&63),Te+=3),$e<65536?($e*=2,Re[Ge++]=ee[$e+1]||ee[$e],ee[$e+1]>0&&(Re[Ge++]=ee[$e])):(pe=$e-65536,$e=2*(55296+(pe>>10&1023)),Re[Ge++]=ee[$e+1]||ee[$e],ee[$e+1]>0&&(Re[Ge++]=ee[$e]),$e=2*(56320+(pe&1023)),Re[Ge++]=ee[$e+1]||ee[$e],ee[$e+1]>0&&(Re[Ge++]=ee[$e]));Re=Re.slice(0,Ge)}else for(Te=Ge=0;Te<Be;Te++)$e=_e[Te].charCodeAt(0)*2,Re[Ge++]=ee[$e+1]||ee[$e],ee[$e+1]>0&&(Re[Ge++]=ee[$e]);return!Fe||Fe==="buf"?Re:Fe!=="arr"?Re.toString("binary"):[].slice.call(Re)}},D=function(xe){var de=r[xe].dec,ee=Buffer.allocUnsafe(131072),fe=0,ne,Y=0,ue=0,le=0;for(le=0;le<65536;++le)ee[2*le]=255,ee[2*le+1]=253;for(fe=0;fe<de.length;++fe)(ne=de[fe])&&(Y=ne.charCodeAt(0),ue=2*fe,ee[ue]=Y&255,ee[ue+1]=Y>>8);return function(_e){var Fe=_e.length,Be=Buffer.allocUnsafe(2*Fe),Re=0,Te=0,$e=0;if(Buffer.isBuffer(_e))for(Re=0;Re<Fe;Re++)Te=2*_e[Re],ee[Te]===255&&ee[Te+1]===253&&(Te=2*((_e[Re]<<8)+_e[Re+1]),++Re),Be[$e++]=ee[Te],Be[$e++]=ee[Te+1];else if(typeof _e=="string")for(Re=0;Re<Fe;Re++)Te=2*_e.charCodeAt(Re),ee[Te]===255&&ee[Te+1]===253&&(Te=2*((_e.charCodeAt(Re)<<8)+_e.charCodeAt(Re+1)),++Re),Be[$e++]=ee[Te],Be[$e++]=ee[Te+1];else for(Re=0;Re<Fe;Re++)Te=2*_e[Re],ee[Te]===255&&ee[Te+1]===253&&(Te=2*((_e[Re]<<8)+_e[Re+1]),++Re),Be[$e++]=ee[Te],Be[$e++]=ee[Te+1];return Be.slice(0,$e).toString("ucs2")}};l[65001]=function ce(xe){if(typeof xe=="string")return ce(xe.split("").map(v));var de=xe.length,ee=0,fe=0;4*de>j&&(j=4*de,w=Buffer.allocUnsafe(j));var ne=0;de>=3&&xe[0]==239&&xe[1]==187&&xe[2]==191&&(ne=3);for(var Y=1,ue=0,le=0;ne<de;ne+=Y)Y=1,le=xe[ne],le<128?ee=le:le<224?(ee=(le&31)*64+(xe[ne+1]&63),Y=2):le<240?(ee=((le&15)<<12)+(xe[ne+1]&63)*64+(xe[ne+2]&63),Y=3):(ee=(le&7)*262144+((xe[ne+1]&63)<<12)+(xe[ne+2]&63)*64+(xe[ne+3]&63),Y=4),ee<65536?(w[ue++]=ee&255,w[ue++]=ee>>8):(ee-=65536,fe=55296+(ee>>10&1023),ee=56320+(ee&1023),w[ue++]=fe&255,w[ue++]=fe>>>8,w[ue++]=ee&255,w[ue++]=ee>>>8&255);return w.slice(0,ue).toString("ucs2")},c[65001]=function(xe,de){if(g&&Buffer.isBuffer(xe))return!de||de==="buf"?xe:de!=="arr"?xe.toString("binary"):[].slice.call(xe);var ee=xe.length,fe=0,ne=0,Y=0,ue=typeof xe=="string";4*ee>j&&(j=4*ee,w=Buffer.allocUnsafe(j));for(var le=0;le<ee;++le)fe=ue?xe.charCodeAt(le):xe[le].charCodeAt(0),fe<=127?w[Y++]=fe:fe<=2047?(w[Y++]=192+(fe>>6),w[Y++]=128+(fe&63)):fe>=55296&&fe<=57343?(fe-=55296,++le,ne=(ue?xe.charCodeAt(le):xe[le].charCodeAt(0))-56320+(fe<<10),w[Y++]=240+(ne>>>18&7),w[Y++]=144+(ne>>>12&63),w[Y++]=128+(ne>>>6&63),w[Y++]=128+(ne&63)):(w[Y++]=224+(fe>>12),w[Y++]=128+(fe>>6&63),w[Y++]=128+(fe&63));return!de||de==="buf"?w.slice(0,Y):de!=="arr"?w.slice(0,Y).toString("binary"):[].slice.call(w,0,Y)}}var M=function(){if(g){if(d[s[0]])return;var xe=0,de=0;for(xe=0;xe<s.length;++xe)de=s[xe],r[de]&&(d[de]=T(de),f[de]=k(de));for(xe=0;xe<a.length;++xe)de=a[xe],r[de]&&(d[de]=D(de),f[de]=P(de));for(xe=0;xe<o.length;++xe)de=o[xe],l[de]&&(d[de]=l[de]),c[de]&&(f[de]=c[de])}},I=function(ce,xe){return""},B=function(xe){delete d[xe],delete f[xe]},V=function(){if(g){if(!d[s[0]])return;s.forEach(B),a.forEach(B),o.forEach(B)}H=I,X=0},U={encache:M,decache:V,sbcs:s,dbcs:a};M();var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?",H=I,X=0,Q=function ce(xe,de,ee){if(xe===X&&H)return H(de,ee);if(f[xe])return H=f[X=xe],H(de,ee);g&&Buffer.isBuffer(de)&&(de=de.toString("utf8"));var fe=de.length,ne=g?Buffer.allocUnsafe(4*fe):[],Y=0,ue=0,le=0,ke=0,_e=r[xe],Fe,Be="",Re=typeof de=="string";if(_e&&(Fe=_e.enc))for(ue=0;ue<fe;++ue,++le)Y=Fe[Re?de.charAt(ue):de[ue]],Y>255?(ne[le]=Y>>8,ne[++le]=Y&255):ne[le]=Y&255;else if(Be=n[xe])switch(Be){case"utf8":if(g&&Re){ne=_(de,Be),le=ne.length;break}for(ue=0;ue<fe;++ue,++le)Y=Re?de.charCodeAt(ue):de[ue].charCodeAt(0),Y<=127?ne[le]=Y:Y<=2047?(ne[le]=192+(Y>>6),ne[++le]=128+(Y&63)):Y>=55296&&Y<=57343?(Y-=55296,ke=(Re?de.charCodeAt(++ue):de[++ue].charCodeAt(0))-56320+(Y<<10),ne[le]=240+(ke>>>18&7),ne[++le]=144+(ke>>>12&63),ne[++le]=128+(ke>>>6&63),ne[++le]=128+(ke&63)):(ne[le]=224+(Y>>12),ne[++le]=128+(Y>>6&63),ne[++le]=128+(Y&63));break;case"ascii":if(g&&typeof de=="string"){ne=_(de,Be),le=ne.length;break}for(ue=0;ue<fe;++ue,++le)if(Y=Re?de.charCodeAt(ue):de[ue].charCodeAt(0),Y<=127)ne[le]=Y;else throw new Error("bad ascii "+Y);break;case"utf16le":if(g&&typeof de=="string"){ne=_(de,Be),le=ne.length;break}for(ue=0;ue<fe;++ue)Y=Re?de.charCodeAt(ue):de[ue].charCodeAt(0),ne[le++]=Y&255,ne[le++]=Y>>8;break;case"utf16be":for(ue=0;ue<fe;++ue)Y=Re?de.charCodeAt(ue):de[ue].charCodeAt(0),ne[le++]=Y>>8,ne[le++]=Y&255;break;case"utf32le":for(ue=0;ue<fe;++ue)Y=Re?de.charCodeAt(ue):de[ue].charCodeAt(0),Y>=55296&&Y<=57343&&(Y=65536+(Y-55296<<10)+(de[++ue].charCodeAt(0)-56320)),ne[le++]=Y&255,Y>>=8,ne[le++]=Y&255,Y>>=8,ne[le++]=Y&255,Y>>=8,ne[le++]=Y&255;break;case"utf32be":for(ue=0;ue<fe;++ue)Y=Re?de.charCodeAt(ue):de[ue].charCodeAt(0),Y>=55296&&Y<=57343&&(Y=65536+(Y-55296<<10)+(de[++ue].charCodeAt(0)-56320)),ne[le+3]=Y&255,Y>>=8,ne[le+2]=Y&255,Y>>=8,ne[le+1]=Y&255,Y>>=8,ne[le]=Y&255,le+=4;break;case"utf7":for(ue=0;ue<fe;ue++){var Te=Re?de.charAt(ue):de[ue].charAt(0);if(Te==="+"){ne[le++]=43,ne[le++]=45;continue}if(re.indexOf(Te)>-1){ne[le++]=Te.charCodeAt(0);continue}var $e=ce(1201,Te);ne[le++]=43,ne[le++]=q.charCodeAt($e[0]>>2),ne[le++]=q.charCodeAt((($e[0]&3)<<4)+(($e[1]||0)>>4)),ne[le++]=q.charCodeAt((($e[1]&15)<<2)+(($e[2]||0)>>6)),ne[le++]=45}break;default:throw new Error("Unsupported magic: "+xe+" "+n[xe])}else throw new Error("Unrecognized CP: "+xe);return ne=ne.slice(0,le),g?!ee||ee==="buf"?ne:ee!=="arr"?ne.toString("binary"):[].slice.call(ne):ee=="str"?ne.map(h).join(""):ne},se=function ce(xe,de){var ee;if(ee=d[xe])return ee(de);if(typeof de=="string")return ce(xe,de.split("").map(v));var fe=de.length,ne=new Array(fe),Y="",ue=0,le=0,ke=1,_e=0,Fe=0,Be=r[xe],Re,Te="";if(Be&&(Re=Be.dec))for(le=0;le<fe;le+=ke){if(ke=2,Y=Re[(de[le]<<8)+de[le+1]],Y||(ke=1,Y=Re[de[le]]),!Y)throw new Error("Unrecognized code: "+de[le]+" "+de[le+ke-1]+" "+le+" "+ke+" "+Re[de[le]]);ne[_e++]=Y}else if(Te=n[xe])switch(Te){case"utf8":for(fe>=3&&de[0]==239&&de[1]==187&&de[2]==191&&(le=3);le<fe;le+=ke)ke=1,de[le]<128?ue=de[le]:de[le]<224?(ue=(de[le]&31)*64+(de[le+1]&63),ke=2):de[le]<240?(ue=((de[le]&15)<<12)+(de[le+1]&63)*64+(de[le+2]&63),ke=3):(ue=(de[le]&7)*262144+((de[le+1]&63)<<12)+(de[le+2]&63)*64+(de[le+3]&63),ke=4),ue<65536||(ue-=65536,Fe=55296+(ue>>10&1023),ue=56320+(ue&1023),ne[_e++]=String.fromCharCode(Fe)),ne[_e++]=String.fromCharCode(ue);break;case"ascii":if(g&&Buffer.isBuffer(de))return de.toString(Te);for(le=0;le<fe;le++)ne[le]=String.fromCharCode(de[le]);_e=fe;break;case"utf16le":if(fe>=2&&de[0]==255&&de[1]==254&&(le=2),g&&Buffer.isBuffer(de))return de.toString(Te);for(ke=2;le+1<fe;le+=ke)ne[_e++]=String.fromCharCode((de[le+1]<<8)+de[le]);break;case"utf16be":for(fe>=2&&de[0]==254&&de[1]==255&&(le=2),ke=2;le+1<fe;le+=ke)ne[_e++]=String.fromCharCode((de[le]<<8)+de[le+1]);break;case"utf32le":for(fe>=4&&de[0]==255&&de[1]==254&&de[2]===0&&de[3]===0&&(le=4),ke=4;le<fe;le+=ke)ue=(de[le+3]<<24)+(de[le+2]<<16)+(de[le+1]<<8)+de[le],ue>65535?(ue-=65536,ne[_e++]=String.fromCharCode(55296+(ue>>10&1023)),ne[_e++]=String.fromCharCode(56320+(ue&1023))):ne[_e++]=String.fromCharCode(ue);break;case"utf32be":for(fe>=4&&de[3]==255&&de[2]==254&&de[1]===0&&de[0]===0&&(le=4),ke=4;le<fe;le+=ke)ue=(de[le]<<24)+(de[le+1]<<16)+(de[le+2]<<8)+de[le+3],ue>65535?(ue-=65536,ne[_e++]=String.fromCharCode(55296+(ue>>10&1023)),ne[_e++]=String.fromCharCode(56320+(ue&1023))):ne[_e++]=String.fromCharCode(ue);break;case"utf7":for(fe>=4&&de[0]==43&&de[1]==47&&de[2]==118&&(fe>=5&&de[3]==56&&de[4]==45?le=5:(de[3]==56||de[3]==57||de[3]==43||de[3]==47)&&(le=4));le<fe;le+=ke){if(de[le]!==43){ke=1,ne[_e++]=String.fromCharCode(de[le]);continue}if(ke=1,de[le+1]===45){ke=2,ne[_e++]="+";continue}for(;String.fromCharCode(de[le+ke]).match(/[A-Za-z0-9+\/]/);)ke++;var $e=0;de[le+ke]===45&&(++ke,$e=1);for(var pe=[],Ge="",pt=0,Pt=0,nt=0,Ye=0,Ue=0,gt=0,Ot=0,br=1;br<ke-$e&&(Ye=q.indexOf(String.fromCharCode(de[le+br++])),Ue=q.indexOf(String.fromCharCode(de[le+br++])),pt=Ye<<2|Ue>>4,pe.push(pt),gt=q.indexOf(String.fromCharCode(de[le+br++])),!(gt===-1||(Pt=(Ue&15)<<4|gt>>2,pe.push(Pt),Ot=q.indexOf(String.fromCharCode(de[le+br++])),Ot===-1)));)nt=(gt&3)<<6|Ot,Ot<64&&pe.push(nt);for(Ge=ce(1201,pe),br=0;br<Ge.length;++br)ne[_e++]=Ge.charAt(br)}break;default:throw new Error("Unsupported magic: "+xe+" "+n[xe])}else throw new Error("Unrecognized CP: "+xe);return ne.slice(0,_e).join("")},te=function(xe){return!!(r[xe]||n[xe])};return r.utils={decode:se,encode:Q,hascp:te,magic:n,cache:U},r})}(t6)),t6.exports}const Ftt={},Dtt=Object.freeze(Object.defineProperty({__proto__:null,default:Ftt},Symbol.toStringTag,{value:"Module"})),r6=oG(Dtt);(function(e,t){var r={};function n(s){s.version="0.18.5",s.style_version="1.2.0";var a,o=1200,l=1252;typeof cptable<"u"?a=cptable:typeof A4<"u"&&(a=Ott());var c=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],d={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},f=function(u){c.indexOf(u)!=-1&&(l=d[0]=u)},h=function(u){f(o=u)};function v(){h(1200),f(1252)}function g(u){for(var m=[],p=0,x=u.length;p<x;++p)m[p]=u.charCodeAt(p);return m}function _(u){for(var m=[],p=0;p<u.length>>1;++p)m[p]=String.fromCharCode(u.charCodeAt(2*p+1)+(u.charCodeAt(2*p)<<8));return m.join("")}var y=function(u){var m=u.charCodeAt(0),p=u.charCodeAt(1);return m==255&&p==254?function(x){for(var N=[],A=0;A<x.length>>1;++A)N[A]=String.fromCharCode(x.charCodeAt(2*A)+(x.charCodeAt(2*A+1)<<8));return N.join("")}(u.slice(2)):m==254&&p==255?_(u.slice(2)):m==65279?u.slice(1):u},j=function(u){return String.fromCharCode(u)},w=function(u){return String.fromCharCode(u)};a!==void 0&&(h=function(u){f(o=u)},y=function(u){return u.charCodeAt(0)===255&&u.charCodeAt(1)===254?a.utils.decode(1200,g(u.slice(2))):u},j=function(u){return o===1200?String.fromCharCode(u):a.utils.decode(o,[255&u,u>>8])[0]},w=function(u){return a.utils.decode(l,[u])[0]});var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function k(u){for(var m,p,x,N,A,S="",E=0,F=0,R=0;R<u.length;)N=(m=u.charCodeAt(R++))>>2,A=(3&m)<<4|(p=u.charCodeAt(R++))>>4,E=(15&p)<<2|(x=u.charCodeAt(R++))>>6,F=63&x,isNaN(p)?E=F=64:isNaN(x)&&(F=64),S+=C.charAt(N)+C.charAt(A)+C.charAt(E)+C.charAt(F);return S}function T(u){var m,p,x,N,A,S,E="";u=u.replace(/[^\w\+\/\=]/g,"");for(var F=0;F<u.length;)m=C.indexOf(u.charAt(F++))<<2|(N=C.indexOf(u.charAt(F++)))>>4,E+=String.fromCharCode(m),p=(15&N)<<4|(A=C.indexOf(u.charAt(F++)))>>2,A!==64&&(E+=String.fromCharCode(p)),x=(3&A)<<6|(S=C.indexOf(u.charAt(F++))),S!==64&&(E+=String.fromCharCode(x));return E}var P=typeof Buffer<"u"&&typeof process<"u"&&process.versions!==void 0&&!!process.versions.node,D=function(){if(typeof Buffer>"u")return function(){};var u=!Buffer.from;if(!u)try{Buffer.from("foo","utf8")}catch{u=!0}return u?function(m,p){return p?new Buffer(m,p):new Buffer(m)}:Buffer.from.bind(Buffer)}();function M(u){return P?Buffer.alloc?Buffer.alloc(u):new Buffer(u):new(typeof Uint8Array<"u"?Uint8Array:Array)(u)}function I(u){return P?Buffer.allocUnsafe?Buffer.allocUnsafe(u):new Buffer(u):new(typeof Uint8Array<"u"?Uint8Array:Array)(u)}var B=function(u){return P?D(u,"binary"):u.split("").map(function(m){return 255&m.charCodeAt(0)})};function V(u){if(typeof ArrayBuffer>"u")return B(u);for(var m=new ArrayBuffer(u.length),p=new Uint8Array(m),x=0;x!=u.length;++x)p[x]=255&u.charCodeAt(x);return m}function U(u){if(Array.isArray(u))return u.map(function(x){return String.fromCharCode(x)}).join("");for(var m=[],p=0;p<u.length;++p)m[p]=String.fromCharCode(u[p]);return m.join("")}function q(u){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(u instanceof ArrayBuffer)return q(new Uint8Array(u));for(var m=new Array(u.length),p=0;p<u.length;++p)m[p]=u[p];return m}var re=P?function(u){return Buffer.concat(u.map(function(m){return Buffer.isBuffer(m)?m:D(m)}))}:function(u){if(typeof Uint8Array>"u")return[].concat.apply([],u.map(function(A){return Array.isArray(A)?A:[].slice.call(A)}));for(var p=0,m=0,p=0;p<u.length;++p)m+=u[p].length;for(var x,N=new Uint8Array(m),m=p=0;p<u.length;m+=x,++p)if(x=u[p].length,u[p]instanceof Uint8Array)N.set(u[p],m);else{if(typeof u[p]=="string")throw"wtf";N.set(new Uint8Array(u[p]),m)}return N},H=/\u0000/g,X=/[\u0001-\u0006]/g;function Q(u){for(var m="",p=u.length-1;0<=p;)m+=u.charAt(p--);return m}function se(u,m){return u=""+u,m<=u.length?u:ha("0",m-u.length)+u}function te(u,m){return u=""+u,m<=u.length?u:ha(" ",m-u.length)+u}function ce(u,m){return u=""+u,m<=u.length?u:u+ha(" ",m-u.length)}var xe=Math.pow(2,32);function de(N,m){if(xe<N||N<-xe)return p=N,x=m,p=""+Math.round(p),x<=p.length?p:ha("0",x-p.length)+p;var p,x,N=Math.round(N);return(m=m)<=(N=""+(N=N)).length?N:ha("0",m-N.length)+N}function ee(u,m){return m=m||0,u.length>=7+m&&(32|u.charCodeAt(m))==103&&(32|u.charCodeAt(m+1))==101&&(32|u.charCodeAt(m+2))==110&&(32|u.charCodeAt(m+3))==101&&(32|u.charCodeAt(m+4))==114&&(32|u.charCodeAt(m+5))==97&&(32|u.charCodeAt(m+6))==108}var fe=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ne=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Y={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ue={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},le={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ke(u,m,p){for(var x=u<0?-1:1,N=u*x,A=0,S=1,E=0,F=1,R=0,z=0,G=Math.floor(N);R<m&&(E=(G=Math.floor(N))*S+A,z=G*R+F,!(N-G<5e-8));)N=1/(N-G),A=S,S=E,F=R,R=z;return m<z&&(E=m<R?(z=F,A):(z=R,S)),p?(p=Math.floor(x*E/z),[p,x*E-p*z,z]):[0,x*E,z]}function _e(E,m,p){if(2958465<E||E<0)return null;var x=0|E,N=Math.floor(86400*(E-x)),A=0,S=[],E={D:x,T:N,u:86400*(E-x)-N,y:0,m:0,d:0,H:0,M:0,S:0,q:0};return Math.abs(E.u)<1e-6&&(E.u=0),m&&m.date1904&&(x+=1462),.9999<E.u&&(E.u=0,++N==86400&&(E.T=N=0,++x,++E.D)),x===60?(S=p?[1317,10,29]:[1900,2,29],A=3):x===0?(S=p?[1317,8,29]:[1900,1,0],A=6):(60<x&&--x,(m=new Date(1900,0,1)).setDate(m.getDate()+x-1),S=[m.getFullYear(),m.getMonth()+1,m.getDate()],A=m.getDay(),x<60&&(A=(A+6)%7),p&&(A=function(F,R){return R[0]-=581,R=F.getDay(),F<60&&(R=(R+6)%7),R}(m,S))),E.y=S[0],E.m=S[1],E.d=S[2],E.S=N%60,N=Math.floor(N/60),E.M=N%60,N=Math.floor(N/60),E.H=N,E.q=A,E}var Fe=new Date(1899,11,31,0,0,0),Be=Fe.getTime(),Re=new Date(1900,2,1,0,0,0);function Te(u,m){var p=u.getTime();return m?p-=1262304e5:Re<=u&&(p+=864e5),(p-(Be+6e4*(u.getTimezoneOffset()-Fe.getTimezoneOffset())))/864e5}function $e(u){return u.indexOf(".")==-1?u:u.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function pe(u){var m,p,x,N=Math.floor(Math.log(Math.abs(u))*Math.LOG10E),A=-4<=N&&N<=-1?u.toPrecision(10+N):Math.abs(N)<=9?(p=(m=u)<0?12:11,(x=$e(m.toFixed(12))).length<=p||(x=m.toPrecision(10)).length<=p?x:m.toExponential(5)):N===10?u.toFixed(10).substr(0,12):(A=$e((u=u).toFixed(11))).length>(u<0?12:11)||A==="0"||A==="-0"?u.toPrecision(6):A;return $e((A=A.toUpperCase()).indexOf("E")==-1?A:A.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2"))}function Ge(u,m){switch(typeof u){case"string":return u;case"boolean":return u?"TRUE":"FALSE";case"number":return(0|u)===u?u.toString(10):pe(u);case"undefined":return"";case"object":if(u==null)return"";if(u instanceof Date)return Gr(14,Te(u,m&&m.date1904),m)}throw new Error("unsupported value in General format: "+u)}function pt(u){if(u.length<=3)return u;for(var m=u.length%3,p=u.substr(0,m);m!=u.length;m+=3)p+=(0<p.length?",":"")+u.substr(m,3);return p}var Pt=/%/g,nt=/# (\?+)( ?)\/( ?)(\d+)/,Ye=/^#*0*\.([0#]+)/,Ue=/\).*[0#]/,gt=/\(###\) ###\\?-####/;function Ot(u){for(var m,p="",x=0;x!=u.length;++x)switch(m=u.charCodeAt(x)){case 35:break;case 63:p+=" ";break;case 48:p+="0";break;default:p+=String.fromCharCode(m)}return p}function br(u,m){return m=Math.pow(10,m),""+Math.round(u*m)/m}function Yr(x,m){var p=x-Math.floor(x),x=Math.pow(10,m);return m<(""+Math.round(p*x)).length?0:Math.round(p*x)}function yt(u,m,p){if(u.charCodeAt(0)===40&&!m.match(Ue)){var x=m.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=p?yt("n",x,p):"("+yt("n",x,-p)+")"}if(m.charCodeAt(m.length-1)===44)return function(oe,ye,Ne){for(var Ce=ye.length-1;ye.charCodeAt(Ce-1)===44;)--Ce;return cr(oe,ye.substr(0,Ce),Ne/Math.pow(10,3*(ye.length-Ce)))}(u,m,p);if(m.indexOf("%")!==-1)return E=u,R=p,F=(z=m).replace(Pt,""),z=z.length-F.length,cr(E,F,R*Math.pow(10,2*z))+ha("%",z);var N;if(m.indexOf("E")!==-1)return function oe(ye,Ne){var Ce,We=ye.indexOf("E")-ye.indexOf(".")-1;if(ye.match(/^#+0.0E\+0$/)){if(Ne==0)return"0.0E+0";if(Ne<0)return"-"+oe(ye,-Ne);var tt=ye.indexOf(".");tt===-1&&(tt=ye.indexOf("E"));var Je=Math.floor(Math.log(Ne)*Math.LOG10E)%tt;if(Je<0&&(Je+=tt),(Ce=(Ne/Math.pow(10,Je)).toPrecision(1+We+(tt+Je)%tt)).indexOf("e")===-1){var ct=Math.floor(Math.log(Ne)*Math.LOG10E);for(Ce.indexOf(".")===-1?Ce=Ce.charAt(0)+"."+Ce.substr(1)+"E+"+(ct-Ce.length+Je):Ce+="E+"+(ct-Je);Ce.substr(0,2)==="0.";)Ce=(Ce=Ce.charAt(0)+Ce.substr(2,tt)+"."+Ce.substr(2+tt)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");Ce=Ce.replace(/\+-/,"-")}Ce=Ce.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(kt,Ft,ht,qt){return Ft+ht+qt.substr(0,(tt+Je)%tt)+"."+qt.substr(Je)+"E"})}else Ce=Ne.toExponential(We);return ye.match(/E\+00$/)&&Ce.match(/e[+-]\d$/)&&(Ce=Ce.substr(0,Ce.length-1)+"0"+Ce.charAt(Ce.length-1)),(Ce=ye.match(/E\-/)&&Ce.match(/e\+/)?Ce.replace(/e\+/,"e"):Ce).replace("e","E")}(m,p);if(m.charCodeAt(0)===36)return"$"+yt(u,m.substr(m.charAt(1)==" "?2:1),p);var A,S,E,F,R,z,G,K=Math.abs(p),Z=p<0?"-":"";if(m.match(/^00+$/))return Z+de(K,m.length);if(m.match(/^[#?]+$/))return(N=(N=de(p,0))==="0"?"":N).length>m.length?N:Ot(m.substr(0,m.length-N.length))+N;if(A=m.match(nt))return G=A,E=K,F=Z,R=parseInt(G[4],10),z=Math.round(E*R),E=Math.floor(z/R),F+(E===0?"":""+E)+" "+((z-=E*R)==0?ha(" ",G[1].length+1+G[4].length):te(z,G[1].length)+G[2]+"/"+G[3]+se(R,G[4].length));if(m.match(/^#+0+$/))return Z+de(K,m.length-m.indexOf("0"));if(A=m.match(Ye))return N=br(p,A[1].length).replace(/^([^\.]+)$/,"$1."+Ot(A[1])).replace(/\.$/,"."+Ot(A[1])).replace(/\.(\d*)$/,function(oe,ye){return"."+ye+ha("0",Ot(A[1]).length-ye.length)}),m.indexOf("0.")!==-1?N:N.replace(/^0\./,".");if(m=m.replace(/^#+([0.])/,"$1"),A=m.match(/^(0*)\.(#*)$/))return Z+br(K,A[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,A[1].length?"0.":".");if(A=m.match(/^#{1,3},##0(\.?)$/))return Z+pt(de(K,0));if(A=m.match(/^#,##0\.([#0]*0)$/))return p<0?"-"+yt(u,m,-p):pt(""+(Math.floor(p)+(G=p,(he=A[1].length)<(""+Math.round((G-Math.floor(G))*Math.pow(10,he))).length?1:0)))+"."+se(Yr(p,A[1].length),A[1].length);if(A=m.match(/^#,#*,#0/))return yt(u,m.replace(/^#,#*,/,""),p);if(A=m.match(/^([0#]+)(\\?-([0#]+))+$/))return N=Q(yt(u,m.replace(/[\\-]/g,""),p)),S=0,Q(Q(m.replace(/\\/g,"")).replace(/[0#]/g,function(oe){return S<N.length?N.charAt(S++):oe==="0"?"0":""}));if(m.match(gt))return"("+(N=yt(u,"##########",p)).substr(0,3)+") "+N.substr(3,3)+"-"+N.substr(6);var he="";if(A=m.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return S=Math.min(A[4].length,7),ae=ke(K,Math.pow(10,S)-1,!1),N=Z,(he=cr("n",A[1],ae[1])).charAt(he.length-1)==" "&&(he=he.substr(0,he.length-1)+"0"),N+=he+A[2]+"/"+A[3],(he=ce(ae[2],S)).length<A[4].length&&(he=Ot(A[4].substr(A[4].length-he.length))+he),N+=he;if(A=m.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return S=Math.min(Math.max(A[1].length,A[4].length),7),Z+((ae=ke(K,Math.pow(10,S)-1,!0))[0]||(ae[1]?"":"0"))+" "+(ae[1]?te(ae[1],S)+A[2]+"/"+A[3]+ce(ae[2],S):ha(" ",2*S+1+A[2].length+A[3].length));if(A=m.match(/^[#0?]+$/))return N=de(p,0),m.length<=N.length?N:Ot(m.substr(0,m.length-N.length))+N;if(A=m.match(/^([#0?]+)\.([#0]+)$/)){N=""+p.toFixed(Math.min(A[2].length,10)).replace(/([^0])0+$/,"$1"),S=N.indexOf(".");var ae=m.indexOf(".")-S,be=m.length-N.length-ae;return Ot(m.substr(0,ae)+N+m.substr(m.length-be))}if(A=m.match(/^00,000\.([#0]*0)$/))return S=Yr(p,A[1].length),p<0?"-"+yt(u,m,-p):pt((be=p)<2147483647&&-2147483648<be?""+(0<=be?0|be:be-1|0):""+Math.floor(be)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(oe){return"00,"+(oe.length<3?se(0,3-oe.length):"")+oe})+"."+se(S,A[1].length);switch(m){case"###,##0.00":return yt(u,"#,##0.00",p);case"###,###":case"##,###":case"#,###":var me=pt(de(K,0));return me!=="0"?Z+me:"";case"###,###.00":return yt(u,"###,##0.00",p).replace(/^0\./,".");case"#,###.00":return yt(u,"#,##0.00",p).replace(/^0\./,".")}throw new Error("unsupported format |"+m+"|")}function $t(u,m,p){if(u.charCodeAt(0)===40&&!m.match(Ue)){var x=m.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=p?$t("n",x,p):"("+$t("n",x,-p)+")"}if(m.charCodeAt(m.length-1)===44)return function(ae,be,me){for(var oe=be.length-1;be.charCodeAt(oe-1)===44;)--oe;return cr(ae,be.substr(0,oe),me/Math.pow(10,3*(be.length-oe)))}(u,m,p);if(m.indexOf("%")!==-1)return N=u,S=p,x=(A=m).replace(Pt,""),A=A.length-x.length,cr(N,x,S*Math.pow(10,2*A))+ha("%",A);var N,A,S,E;if(m.indexOf("E")!==-1)return function ae(be,me){var oe,ye=be.indexOf("E")-be.indexOf(".")-1;if(be.match(/^#+0.0E\+0$/)){if(me==0)return"0.0E+0";if(me<0)return"-"+ae(be,-me);var Ne=be.indexOf(".");Ne===-1&&(Ne=be.indexOf("E"));var Ce,We=Math.floor(Math.log(me)*Math.LOG10E)%Ne;We<0&&(We+=Ne),(oe=(me/Math.pow(10,We)).toPrecision(1+ye+(Ne+We)%Ne)).match(/[Ee]/)||(Ce=Math.floor(Math.log(me)*Math.LOG10E),oe.indexOf(".")===-1?oe=oe.charAt(0)+"."+oe.substr(1)+"E+"+(Ce-oe.length+We):oe+="E+"+(Ce-We),oe=oe.replace(/\+-/,"-")),oe=oe.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(tt,Je,ct,kt){return Je+ct+kt.substr(0,(Ne+We)%Ne)+"."+kt.substr(We)+"E"})}else oe=me.toExponential(ye);return be.match(/E\+00$/)&&oe.match(/e[+-]\d$/)&&(oe=oe.substr(0,oe.length-1)+"0"+oe.charAt(oe.length-1)),(oe=be.match(/E\-/)&&oe.match(/e\+/)?oe.replace(/e\+/,"e"):oe).replace("e","E")}(m,p);if(m.charCodeAt(0)===36)return"$"+$t(u,m.substr(m.charAt(1)==" "?2:1),p);var F,R,z=Math.abs(p),G=p<0?"-":"";if(m.match(/^00+$/))return G+se(z,m.length);if(m.match(/^[#?]+$/))return(E=p===0?"":""+p).length>m.length?E:Ot(m.substr(0,m.length-E.length))+E;if(F=m.match(nt))return G+((K=z)===0?"":""+K)+ha(" ",(K=F)[1].length+2+K[4].length);if(m.match(/^#+0+$/))return G+se(z,m.length-m.indexOf("0"));if(F=m.match(Ye))return E=(E=(""+p).replace(/^([^\.]+)$/,"$1."+Ot(F[1])).replace(/\.$/,"."+Ot(F[1]))).replace(/\.(\d*)$/,function(ae,be){return"."+be+ha("0",Ot(F[1]).length-be.length)}),m.indexOf("0.")!==-1?E:E.replace(/^0\./,".");if(m=m.replace(/^#+([0.])/,"$1"),F=m.match(/^(0*)\.(#*)$/))return G+(""+z).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,F[1].length?"0.":".");if(F=m.match(/^#{1,3},##0(\.?)$/))return G+pt(""+z);if(F=m.match(/^#,##0\.([#0]*0)$/))return p<0?"-"+$t(u,m,-p):pt(""+p)+"."+ha("0",F[1].length);if(F=m.match(/^#,#*,#0/))return $t(u,m.replace(/^#,#*,/,""),p);if(F=m.match(/^([0#]+)(\\?-([0#]+))+$/))return E=Q($t(u,m.replace(/[\\-]/g,""),p)),R=0,Q(Q(m.replace(/\\/g,"")).replace(/[0#]/g,function(ae){return R<E.length?E.charAt(R++):ae==="0"?"0":""}));if(m.match(gt))return"("+(E=$t(u,"##########",p)).substr(0,3)+") "+E.substr(3,3)+"-"+E.substr(6);var K="";if(F=m.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return R=Math.min(F[4].length,7),Z=ke(z,Math.pow(10,R)-1,!1),E=G,(K=cr("n",F[1],Z[1])).charAt(K.length-1)==" "&&(K=K.substr(0,K.length-1)+"0"),E+=K+F[2]+"/"+F[3],(K=ce(Z[2],R)).length<F[4].length&&(K=Ot(F[4].substr(F[4].length-K.length))+K),E+=K;if(F=m.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return R=Math.min(Math.max(F[1].length,F[4].length),7),G+((Z=ke(z,Math.pow(10,R)-1,!0))[0]||(Z[1]?"":"0"))+" "+(Z[1]?te(Z[1],R)+F[2]+"/"+F[3]+ce(Z[2],R):ha(" ",2*R+1+F[2].length+F[3].length));if(F=m.match(/^[#0?]+$/))return E=""+p,m.length<=E.length?E:Ot(m.substr(0,m.length-E.length))+E;if(F=m.match(/^([#0]+)\.([#0]+)$/)){E=""+p.toFixed(Math.min(F[2].length,10)).replace(/([^0])0+$/,"$1"),R=E.indexOf(".");var K=m.indexOf(".")-R,Z=m.length-E.length-K;return Ot(m.substr(0,K)+E+m.substr(m.length-Z))}if(F=m.match(/^00,000\.([#0]*0)$/))return p<0?"-"+$t(u,m,-p):pt(""+p).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ae){return"00,"+(ae.length<3?se(0,3-ae.length):"")+ae})+"."+se(0,F[1].length);switch(m){case"###,###":case"##,###":case"#,###":var he=pt(""+z);return he!=="0"?G+he:"";default:if(m.match(/\.[0#?]*$/))return $t(u,m.slice(0,m.lastIndexOf(".")),p)+Ot(m.slice(m.lastIndexOf(".")))}throw new Error("unsupported format |"+m+"|")}function cr(u,m,p){return((0|p)===p?$t:yt)(u,m,p)}var Bt=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Mr(u){for(var m=0,p="",x="";m<u.length;)switch(p=u.charAt(m)){case"G":ee(u,m)&&(m+=6),m++;break;case'"':for(;u.charCodeAt(++m)!==34&&m<u.length;);++m;break;case"\\":case"_":m+=2;break;case"@":++m;break;case"B":case"b":if(u.charAt(m+1)==="1"||u.charAt(m+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(u.substr(m,3).toUpperCase()==="A/P"||u.substr(m,5).toUpperCase()==="AM/PM"||u.substr(m,5).toUpperCase()==="/")return!0;++m;break;case"[":for(x=p;u.charAt(m++)!=="]"&&m<u.length;)x+=u.charAt(m);if(x.match(Bt))return!0;break;case".":case"0":case"#":for(;m<u.length&&(-1<"0#?.,E+-%".indexOf(p=u.charAt(++m))||p=="\\"&&u.charAt(m+1)=="-"&&-1<"0#".indexOf(u.charAt(m+2))););break;case"?":for(;u.charAt(++m)===p;);break;case"*":++m,u.charAt(m)!=" "&&u.charAt(m)!="*"||++m;break;case"(":case")":++m;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;m<u.length&&-1<"0123456789".indexOf(u.charAt(++m)););break;case" ":default:++m}return!1}function dr(u,m,p,x){for(var N,A,S,E=[],F="",R=0,z="",G="t",K="H";R<u.length;)switch(z=u.charAt(R)){case"G":if(!ee(u,R))throw new Error("unrecognized character "+z+" in "+u);E[E.length]={t:"G",v:"General"},R+=7;break;case'"':for(F="";(S=u.charCodeAt(++R))!==34&&R<u.length;)F+=String.fromCharCode(S);E[E.length]={t:"t",v:F},++R;break;case"\\":var Z=u.charAt(++R),he=Z==="("||Z===")"?Z:"t";E[E.length]={t:he,v:Z},++R;break;case"_":E[E.length]={t:"t",v:" "},R+=2;break;case"@":E[E.length]={t:"T",v:m},++R;break;case"B":case"b":if(u.charAt(R+1)==="1"||u.charAt(R+1)==="2"){if(N==null&&(N=_e(m,p,u.charAt(R+1)==="2"))==null)return"";E[E.length]={t:"X",v:u.substr(R,2)},G=z,R+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":z=z.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(m<0||N==null&&(N=_e(m,p))==null)return"";for(F=z;++R<u.length&&u.charAt(R).toLowerCase()===z;)F+=z;(z=z==="m"&&G.toLowerCase()==="h"?"M":z)==="h"&&(z=K),E[E.length]={t:z,v:F},G=z;break;case"A":case"a":case"":if(Z={t:z,v:z},N==null&&(N=_e(m,p)),u.substr(R,3).toUpperCase()==="A/P"?(N!=null&&(Z.v=12<=N.H?"P":"A"),Z.t="T",K="h",R+=3):u.substr(R,5).toUpperCase()==="AM/PM"?(N!=null&&(Z.v=12<=N.H?"PM":"AM"),Z.t="T",R+=5,K="h"):u.substr(R,5).toUpperCase()==="/"?(N!=null&&(Z.v=12<=N.H?"":""),Z.t="T",R+=5,K="h"):(Z.t="t",++R),N==null&&Z.t==="T")return"";E[E.length]=Z,G=z;break;case"[":for(F=z;u.charAt(R++)!=="]"&&R<u.length;)F+=u.charAt(R);if(F.slice(-1)!=="]")throw'unterminated "[" block: |'+F+"|";if(F.match(Bt)){if(N==null&&(N=_e(m,p))==null)return"";E[E.length]={t:"Z",v:F.toLowerCase()},G=F.charAt(1)}else-1<F.indexOf("$")&&(F=(F.match(/\$([^-\[\]]*)/)||[])[1]||"$",Mr(u)||(E[E.length]={t:"t",v:F}));break;case".":if(N!=null){for(F=z;++R<u.length&&(z=u.charAt(R))==="0";)F+=z;E[E.length]={t:"s",v:F};break}case"0":case"#":for(F=z;++R<u.length&&-1<"0#?.,E+-%".indexOf(z=u.charAt(R));)F+=z;E[E.length]={t:"n",v:F};break;case"?":for(F=z;u.charAt(++R)===z;)F+=z;E[E.length]={t:z,v:F},G=z;break;case"*":++R,u.charAt(R)!=" "&&u.charAt(R)!="*"||++R;break;case"(":case")":E[E.length]={t:x===1?"t":z,v:z},++R;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(F=z;R<u.length&&-1<"0123456789".indexOf(u.charAt(++R));)F+=u.charAt(R);E[E.length]={t:"D",v:F};break;case" ":E[E.length]={t:z,v:z},++R;break;case"$":E[E.length]={t:"t",v:"$"},++R;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(z)===-1)throw new Error("unrecognized character "+z+" in "+u);E[E.length]={t:"t",v:z},++R}var ae,be=0,me=0;for(R=E.length-1,G="t";0<=R;--R)switch(E[R].t){case"h":case"H":E[R].t=K,G="h",be<1&&(be=1);break;case"s":(ae=E[R].v.match(/\.0+$/))&&(me=Math.max(me,ae[0].length-1)),be<3&&(be=3);case"d":case"y":case"M":case"e":G=E[R].t;break;case"m":G==="s"&&(E[R].t="M",be<2&&(be=2));break;case"X":break;case"Z":(be=(be=be<1&&E[R].v.match(/[Hh]/)?1:be)<2&&E[R].v.match(/[Mm]/)?2:be)<3&&E[R].v.match(/[Ss]/)&&(be=3)}switch(be){case 0:break;case 1:.5<=N.u&&(N.u=0,++N.S),60<=N.S&&(N.S=0,++N.M),60<=N.M&&(N.M=0,++N.H);break;case 2:.5<=N.u&&(N.u=0,++N.S),60<=N.S&&(N.S=0,++N.M)}var oe,ye="";for(R=0;R<E.length;++R)switch(E[R].t){case"t":case"T":case" ":case"D":break;case"X":E[R].v="",E[R].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":E[R].v=function(kt,Ft,ht,qt){var fr,or="",Zt=0,tr=0,Yt=ht.y,Lt=0;switch(kt){case 98:Yt=ht.y+543;case 121:switch(Ft.length){case 1:case 2:fr=Yt%100,Lt=2;break;default:fr=Yt%1e4,Lt=4}break;case 109:switch(Ft.length){case 1:case 2:fr=ht.m,Lt=Ft.length;break;case 3:return ne[ht.m-1][1];case 5:return ne[ht.m-1][0];default:return ne[ht.m-1][2]}break;case 100:switch(Ft.length){case 1:case 2:fr=ht.d,Lt=Ft.length;break;case 3:return fe[ht.q][0];default:return fe[ht.q][1]}break;case 104:switch(Ft.length){case 1:case 2:fr=1+(ht.H+11)%12,Lt=Ft.length;break;default:throw"bad hour format: "+Ft}break;case 72:switch(Ft.length){case 1:case 2:fr=ht.H,Lt=Ft.length;break;default:throw"bad hour format: "+Ft}break;case 77:switch(Ft.length){case 1:case 2:fr=ht.M,Lt=Ft.length;break;default:throw"bad minute format: "+Ft}break;case 115:if(Ft!="s"&&Ft!="ss"&&Ft!=".0"&&Ft!=".00"&&Ft!=".000")throw"bad second format: "+Ft;return ht.u!==0||Ft!="s"&&Ft!="ss"?(60*(tr=2<=qt?qt===3?1e3:100:qt===1?10:1)<=(Zt=Math.round(tr*(ht.S+ht.u)))&&(Zt=0),Ft==="s"?Zt===0?"0":""+Zt/tr:(or=se(Zt,2+qt),Ft==="ss"?or.substr(0,2):"."+or.substr(2,Ft.length-1))):se(ht.S,Ft.length);case 90:switch(Ft){case"[h]":case"[hh]":fr=24*ht.D+ht.H;break;case"[m]":case"[mm]":fr=60*(24*ht.D+ht.H)+ht.M;break;case"[s]":case"[ss]":fr=60*(60*(24*ht.D+ht.H)+ht.M)+Math.round(ht.S+ht.u);break;default:throw"bad abstime format: "+Ft}Lt=Ft.length===3?1:2;break;case 101:fr=Yt,Lt=1}return 0<Lt?se(fr,Lt):""}(E[R].t.charCodeAt(0),E[R].v,N,me),E[R].t="t";break;case"n":case"?":for(oe=R+1;E[oe]!=null&&((z=E[oe].t)==="?"||z==="D"||(z===" "||z==="t")&&E[oe+1]!=null&&(E[oe+1].t==="?"||E[oe+1].t==="t"&&E[oe+1].v==="/")||E[R].t==="("&&(z===" "||z==="n"||z===")")||z==="t"&&(E[oe].v==="/"||E[oe].v===" "&&E[oe+1]!=null&&E[oe+1].t=="?"));)E[R].v+=E[oe].v,E[oe]={v:"",t:";"},++oe;ye+=E[R].v,R=oe-1;break;case"G":E[R].t="t",E[R].v=Ge(m,p)}var Ne,Ce,We="";if(0<ye.length){ye.charCodeAt(0)==40?(Ne=m<0&&ye.charCodeAt(0)===45?-m:m,Ce=cr("n",ye,Ne)):(Ce=cr("n",ye,Ne=m<0&&1<x?-m:m),Ne<0&&E[0]&&E[0].t=="t"&&(Ce=Ce.substr(1),E[0].v="-"+E[0].v)),oe=Ce.length-1;for(var tt=E.length,R=0;R<E.length;++R)if(E[R]!=null&&E[R].t!="t"&&-1<E[R].v.indexOf(".")){tt=R;break}var Je=E.length;if(tt===E.length&&Ce.indexOf("E")===-1){for(R=E.length-1;0<=R;--R)E[R]!=null&&"n?".indexOf(E[R].t)!==-1&&(oe>=E[R].v.length-1?(oe-=E[R].v.length,E[R].v=Ce.substr(oe+1,E[R].v.length)):oe<0?E[R].v="":(E[R].v=Ce.substr(0,oe+1),oe=-1),E[R].t="t",Je=R);0<=oe&&Je<E.length&&(E[Je].v=Ce.substr(0,oe+1)+E[Je].v)}else if(tt!==E.length&&Ce.indexOf("E")===-1){for(oe=Ce.indexOf(".")-1,R=tt;0<=R;--R)if(E[R]!=null&&"n?".indexOf(E[R].t)!==-1){for(A=-1<E[R].v.indexOf(".")&&R===tt?E[R].v.indexOf(".")-1:E[R].v.length-1,We=E[R].v.substr(A+1);0<=A;--A)0<=oe&&(E[R].v.charAt(A)==="0"||E[R].v.charAt(A)==="#")&&(We=Ce.charAt(oe--)+We);E[R].v=We,E[R].t="t",Je=R}for(0<=oe&&Je<E.length&&(E[Je].v=Ce.substr(0,oe+1)+E[Je].v),oe=Ce.indexOf(".")+1,R=tt;R<E.length;++R)if(E[R]!=null&&("n?(".indexOf(E[R].t)!==-1||R===tt)){for(A=-1<E[R].v.indexOf(".")&&R===tt?E[R].v.indexOf(".")+1:0,We=E[R].v.substr(0,A);A<E[R].v.length;++A)oe<Ce.length&&(We+=Ce.charAt(oe++));E[R].v=We,E[R].t="t",Je=R}}}for(R=0;R<E.length;++R)E[R]!=null&&-1<"n?".indexOf(E[R].t)&&(Ne=1<x&&m<0&&0<R&&E[R-1].v==="-"?-m:m,E[R].v=cr(E[R].t,E[R].v,Ne),E[R].t="t");var ct="";for(R=0;R!==E.length;++R)E[R]!=null&&(ct+=E[R].v);return ct}var Kn=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Qn(u,m){if(m!=null){var p=parseFloat(m[2]);switch(m[1]){case"=":if(u==p)return 1;break;case">":if(p<u)return 1;break;case"<":if(u<p)return 1;break;case"<>":if(u!=p)return 1;break;case">=":if(p<=u)return 1;break;case"<=":if(u<=p)return 1}}}function Rn(u,m){var p=function(S){for(var E=[],F=!1,R=0,z=0;R<S.length;++R)switch(S.charCodeAt(R)){case 34:F=!F;break;case 95:case 42:case 92:++R;break;case 59:E[E.length]=S.substr(z,R-z),z=R+1}if(E[E.length]=S.substr(z),F===!0)throw new Error("Format |"+S+"| unterminated string ");return E}(u),x=p.length,N=p[x-1].indexOf("@");if(x<4&&-1<N&&--x,4<p.length)throw new Error("cannot find right format for |"+p.join("|")+"|");if(typeof m!="number")return[4,p.length===4||-1<N?p[p.length-1]:"@"];switch(p.length){case 1:p=-1<N?["General","General","General",p[0]]:[p[0],p[0],p[0],"@"];break;case 2:p=-1<N?[p[0],p[0],p[0],p[1]]:[p[0],p[1],p[0],"@"];break;case 3:p=-1<N?[p[0],p[1],p[0],p[2]]:[p[0],p[1],p[2],"@"]}var A=0<m?p[0]:m<0?p[1]:p[2];return p[0].indexOf("[")===-1&&p[1].indexOf("[")===-1?[x,A]:p[0].match(/\[[=<>]/)==null&&p[1].match(/\[[=<>]/)==null?[x,A]:(u=p[0].match(Kn),A=p[1].match(Kn),Qn(m,u)?[x,p[0]]:Qn(m,A)?[x,p[1]]:[x,p[u!=null&&A!=null?2:1]])}function Gr(u,m,p){p==null&&(p={});var x="";switch(typeof u){case"string":x=u=="m/d/yy"&&p.dateNF?p.dateNF:u;break;case"number":(x=(x=u==14&&p.dateNF?p.dateNF:(p.table!=null?p.table:Y)[u])==null?p.table&&p.table[ue[u]]||Y[ue[u]]:x)==null&&(x=le[u]||"General")}if(ee(x,0))return Ge(m,p);var N=Rn(x,m=m instanceof Date?Te(m,p.date1904):m);if(ee(N[1]))return Ge(m,p);if(m===!0)m="TRUE";else if(m===!1)m="FALSE";else if(m===""||m==null)return"";return dr(N[1],m,p,N[0])}function ia(u,m){if(typeof m!="number"){m=+m||-1;for(var p=0;p<392;++p)if(Y[p]!=null){if(Y[p]==u){m=p;break}}else m<0&&(m=p);m<0&&(m=391)}return Y[m]=u,m}function qr(u){for(var m=0;m!=392;++m)u[m]!==void 0&&ia(u[m],m)}function ja(){var u;(u=u||{})[0]="General",u[1]="0",u[2]="0.00",u[3]="#,##0",u[4]="#,##0.00",u[9]="0%",u[10]="0.00%",u[11]="0.00E+00",u[12]="# ?/?",u[13]="# ??/??",u[14]="m/d/yy",u[15]="d-mmm-yy",u[16]="d-mmm",u[17]="mmm-yy",u[18]="h:mm AM/PM",u[19]="h:mm:ss AM/PM",u[20]="h:mm",u[21]="h:mm:ss",u[22]="m/d/yy h:mm",u[37]="#,##0 ;(#,##0)",u[38]="#,##0 ;[Red](#,##0)",u[39]="#,##0.00;(#,##0.00)",u[40]="#,##0.00;[Red](#,##0.00)",u[45]="mm:ss",u[46]="[h]:mm:ss",u[47]="mmss.0",u[48]="##0.0E+0",u[49]="@",u[56]='"/ "hh""mm""ss" "',Y=u}var ln={format:Gr,load:ia,_table:Y,load_table:qr,parse_date_code:_e,is_date:Mr,get_table:function(){return ln._table=Y}},kn={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ss=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,bn,cn=function(){var u={};u.version="1.2.0";var m=function(){for(var oe=0,ye=new Array(256),Ne=0;Ne!=256;++Ne)oe=1&(oe=1&(oe=1&(oe=1&(oe=1&(oe=1&(oe=1&(oe=1&(oe=Ne)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1)?-306674912^oe>>>1:oe>>>1,ye[Ne]=oe;return typeof Int32Array<"u"?new Int32Array(ye):ye}(),p=function(oe){for(var ye=0,Ne=0,We=0,Ce=new(typeof Int32Array<"u"?Int32Array:Array)(4096),We=0;We!=256;++We)Ce[We]=oe[We];for(We=0;We!=256;++We)for(Ne=oe[We],ye=256+We;ye<4096;ye+=256)Ne=Ce[ye]=Ne>>>8^oe[255&Ne];var tt=[];for(We=1;We!=16;++We)tt[We-1]=typeof Int32Array<"u"?Ce.subarray(256*We,256*We+256):Ce.slice(256*We,256*We+256);return tt}(m),x=p[0],N=p[1],A=p[2],S=p[3],E=p[4],F=p[5],R=p[6],z=p[7],G=p[8],K=p[9],Z=p[10],he=p[11],ae=p[12],be=p[13],me=p[14];return u.table=m,u.bstr=function(oe,ye){for(var Ne=-1^ye,Ce=0,We=oe.length;Ce<We;)Ne=Ne>>>8^m[255&(Ne^oe.charCodeAt(Ce++))];return~Ne},u.buf=function(oe,ye){for(var Ne=-1^ye,Ce=oe.length-15,We=0;We<Ce;)Ne=me[oe[We++]^255&Ne]^be[oe[We++]^Ne>>8&255]^ae[oe[We++]^Ne>>16&255]^he[oe[We++]^Ne>>>24]^Z[oe[We++]]^K[oe[We++]]^G[oe[We++]]^z[oe[We++]]^R[oe[We++]]^F[oe[We++]]^E[oe[We++]]^S[oe[We++]]^A[oe[We++]]^N[oe[We++]]^x[oe[We++]]^m[oe[We++]];for(Ce+=15;We<Ce;)Ne=Ne>>>8^m[255&(Ne^oe[We++])];return~Ne},u.str=function(oe,ye){for(var Ne,Ce=-1^ye,We=0,tt=oe.length,Je=0;We<tt;)Ce=(Je=oe.charCodeAt(We++))<128?Ce>>>8^m[255&(Ce^Je)]:Je<2048?(Ce=Ce>>>8^m[255&(Ce^(192|Je>>6&31))])>>>8^m[255&(Ce^(128|63&Je))]:55296<=Je&&Je<57344?(Je=64+(1023&Je),Ne=1023&oe.charCodeAt(We++),(Ce=(Ce=(Ce=Ce>>>8^m[255&(Ce^(240|Je>>8&7))])>>>8^m[255&(Ce^(128|Je>>2&63))])>>>8^m[255&(Ce^(128|Ne>>6&15|(3&Je)<<4))])>>>8^m[255&(Ce^(128|63&Ne))]):(Ce=(Ce=Ce>>>8^m[255&(Ce^(224|Je>>12&15))])>>>8^m[255&(Ce^(128|Je>>6&63))])>>>8^m[255&(Ce^(128|63&Je))];return~Ce},u}(),rr=function(){var u,m={};function p(De){if(De.charAt(De.length-1)=="/")return De.slice(0,-1).indexOf("/")===-1?De:p(De.slice(0,-1));var mt=De.lastIndexOf("/");return mt===-1?De:De.slice(0,mt+1)}function x(De){if(De.charAt(De.length-1)=="/")return x(De.slice(0,-1));var mt=De.lastIndexOf("/");return mt===-1?De:De.slice(mt+1)}function N(De){Ya(De,0);for(var mt,qe={};De.l<=De.length-4;){var ut=De.read_shift(2),Ve=De.read_shift(2),zt=De.l+Ve,dt={};ut===21589&&(1&(mt=De.read_shift(1))&&(dt.mtime=De.read_shift(4)),5<Ve&&(2&mt&&(dt.atime=De.read_shift(4)),4&mt&&(dt.ctime=De.read_shift(4))),dt.mtime&&(dt.mt=new Date(1e3*dt.mtime))),De.l=zt,qe[ut]=dt}return qe}function A(){return u=u||r6}function S(De,mt){if(De[0]==80&&De[1]==75)return Ma(De,mt);if((32|De[0])==109&&(32|De[1])==105)return function(Kt,Br){if(oe(Kt.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pr=Br&&Br.root||"",Qt=(P&&Buffer.isBuffer(Kt)?Kt.toString("binary"):oe(Kt)).split(`\r
`),Xr=0,Jr="";for(Xr=0;Xr<Qt.length;++Xr)if(Jr=Qt[Xr],/^Content-Location:/i.test(Jr)&&(Jr=Jr.slice(Jr.indexOf("file")),pr=pr||Jr.slice(0,Jr.lastIndexOf("/")+1),Jr.slice(0,pr.length)!=pr))for(;0<pr.length&&(pr=(pr=pr.slice(0,pr.length-1)).slice(0,pr.lastIndexOf("/")+1),Jr.slice(0,pr.length)!=pr););if(Kt=(Qt[1]||"").match(/boundary="(.*?)"/),!Kt)throw new Error("MAD cannot find boundary");var is="--"+(Kt[1]||""),un={FileIndex:[],FullPaths:[]};F(un);var In,Dr=0;for(Xr=0;Xr<Qt.length;++Xr){var na=Qt[Xr];na!==is&&na!==is+"--"||(Dr++&&function(oa,hr,Cr){for(var xr,Wn="",ka="",uo="",$o=0;$o<10;++$o){var Bi=hr[$o];if(!Bi||Bi.match(/^\s*$/))break;var ml=Bi.match(/^(.*?):\s*([^\s].*)$/);if(ml)switch(ml[1].toLowerCase()){case"content-location":Wn=ml[2].trim();break;case"content-type":uo=ml[2].trim();break;case"content-transfer-encoding":ka=ml[2].trim()}}switch(++$o,ka.toLowerCase()){case"base64":xr=B(T(hr.slice($o).join("")));break;case"quoted-printable":xr=function(pl){for(var P0=[],Vl=0;Vl<pl.length;++Vl){for(var gh=pl[Vl];Vl<=pl.length&&gh.charAt(gh.length-1)=="=";)gh=gh.slice(0,gh.length-1)+pl[++Vl];P0.push(gh)}for(var O0=0;O0<P0.length;++O0)P0[O0]=P0[O0].replace(/[=][0-9A-Fa-f]{2}/g,function(cfe){return String.fromCharCode(parseInt(cfe.slice(1),16))});return B(P0.join(`\r
`))}(hr.slice($o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ka)}Cr=ku(oa,Wn.slice(Cr.length),xr,{unsafe:!0}),uo&&(Cr.ctype=uo)}(un,Qt.slice(In,Xr),pr),In=Xr)}return un}(De,mt);if(De.length<512)throw new Error("CFB file size "+De.length+" < 512");var qe,ut,Ve,zt=3,dt=512,ar=0,xt=[],lt=De.slice(0,512);Ya(lt,0);var St=function(Kt){if(Kt[Kt.l]==80&&Kt[Kt.l+1]==75)return[0,0];Kt.chk(he,"Header Signature: "),Kt.l+=16;var Br=Kt.read_shift(2,"u");return[Kt.read_shift(2,"u"),Br]}(lt);switch(zt=St[0]){case 3:dt=512;break;case 4:dt=4096;break;case 0:if(St[1]==0)return Ma(De,mt);default:throw new Error("Major Version: Expected 3 or 4 saw "+zt)}dt!==512&&Ya(lt=De.slice(0,dt),28);var Gt=De.slice(0,dt);(function(Kt,Br){var pr=9;switch(Kt.l+=2,pr=Kt.read_shift(2)){case 9:if(Br!=3)throw new Error("Sector Shift: Expected 9 saw "+pr);break;case 12:if(Br!=4)throw new Error("Sector Shift: Expected 12 saw "+pr);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pr)}Kt.chk("0600","Mini Sector Shift: "),Kt.chk("000000000000","Reserved: ")})(lt,zt);var Ir=lt.read_shift(4,"i");if(zt===3&&Ir!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ir);lt.l+=4,ut=lt.read_shift(4,"i"),lt.l+=4,lt.chk("00100000","Mini Stream Cutoff Size: "),Ve=lt.read_shift(4,"i"),qe=lt.read_shift(4,"i"),Lr=lt.read_shift(4,"i"),ar=lt.read_shift(4,"i");for(var Fr,gr=0;gr<109&&!((Fr=lt.read_shift(4,"i"))<0);++gr)xt[gr]=Fr;var lr=function(Kt,Br){for(var pr=Math.ceil(Kt.length/Br)-1,Qt=[],Xr=1;Xr<pr;++Xr)Qt[Xr-1]=Kt.slice(Xr*Br,(Xr+1)*Br);return Qt[pr-1]=Kt.slice(pr*Br),Qt}(De,dt);(function Kt(Br,pr,Qt,Xr,Jr){var is=Z;if(Br===Z){if(pr!==0)throw new Error("DIFAT chain shorter than expected")}else if(Br!==-1){var un=Qt[Br],In=(Xr>>>2)-1;if(un){for(var Dr=0;Dr<In&&(is=Vn(un,4*Dr))!==Z;++Dr)Jr.push(is);Kt(Vn(un,Xr-4),pr-1,Qt,Xr,Jr)}}})(Lr,ar,lr,dt,xt);var Sr=function(Kt,Br,pr,Qt){var Xr=Kt.length,Jr=[],is=[],un=[],In=[],Dr=Qt-1,na=0,oa=0,hr=0,Cr=0;for(na=0;na<Xr;++na)if(un=[],Xr<=(hr=na+Br)&&(hr-=Xr),!is[hr]){In=[];var xr=[];for(oa=hr;0<=oa;){xr[oa]=!0,is[oa]=!0,un[un.length]=oa,In.push(Kt[oa]);var Wn=pr[Math.floor(4*oa/Qt)];if(Qt<4+(Cr=4*oa&Dr))throw new Error("FAT boundary crossed: "+oa+" 4 "+Qt);if(!Kt[Wn]||(oa=Vn(Kt[Wn],Cr),xr[oa]))break}Jr[hr]={nodes:un,data:xu([In])}}return Jr}(lr,ut,xt,dt);Sr[ut].name="!Directory",0<qe&&Ve!==Z&&(Sr[Ve].name="!MiniFAT"),Sr[xt[0]].name="!FAT",Sr.fat_addrs=xt,Sr.ssz=dt;var Ir=[],Lr=[],ar=[];return function(Kt,Br,pr,Qt,Xr,Jr,is){for(var un,In=0,Dr=pr.length?2:0,na=Kt[ut].data,oa=0,hr=0;oa<na.length;oa+=128){var Cr=na.slice(oa,oa+128);Ya(Cr,64),hr=Cr.read_shift(2),un=lh(Cr,0,hr-Dr),pr.push(un);var xr={name:un,type:Cr.read_shift(1),color:Cr.read_shift(1),L:Cr.read_shift(4,"i"),R:Cr.read_shift(4,"i"),C:Cr.read_shift(4,"i"),clsid:Cr.read_shift(16),state:Cr.read_shift(4,"i"),start:0,size:0};Cr.read_shift(2)+Cr.read_shift(2)+Cr.read_shift(2)+Cr.read_shift(2)!==0&&(xr.ct=E(Cr,Cr.l-8)),Cr.read_shift(2)+Cr.read_shift(2)+Cr.read_shift(2)+Cr.read_shift(2)!==0&&(xr.mt=E(Cr,Cr.l-8)),xr.start=Cr.read_shift(4,"i"),xr.size=Cr.read_shift(4,"i"),xr.size<0&&xr.start<0&&(xr.size=xr.type=0,xr.start=Z,xr.name=""),xr.type===5?(In=xr.start,0<Qt&&In!==Z&&(Kt[In].name="!StreamData")):4096<=xr.size?(xr.storage="fat",Kt[xr.start]===void 0&&(Kt[xr.start]=function(Wn,ka,uo,$o,Bi){var ml=[],pl=[];Bi=Bi||[];var P0=$o-1,Vl=0,gh=0;for(Vl=ka;0<=Vl;){Bi[Vl]=!0,ml[ml.length]=Vl,pl.push(Wn[Vl]);var O0=uo[Math.floor(4*Vl/$o)];if($o<4+(gh=4*Vl&P0))throw new Error("FAT boundary crossed: "+Vl+" 4 "+$o);if(!Wn[O0])break;Vl=Vn(Wn[O0],gh)}return{nodes:ml,data:xu([pl])}}(Br,xr.start,Kt.fat_addrs,Kt.ssz)),Kt[xr.start].name=xr.name,xr.content=Kt[xr.start].data.slice(0,xr.size)):(xr.storage="minifat",xr.size<0?xr.size=0:In!==Z&&xr.start!==Z&&Kt[In]&&(xr.content=function(Wn,ka,uo){for(var $o=Wn.start,Bi=Wn.size,ml=[],pl=$o;uo&&0<Bi&&0<=pl;)ml.push(ka.slice(pl*K,pl*K+K)),Bi-=K,pl=Vn(uo,4*pl);return ml.length===0?bt(0):re(ml).slice(0,Wn.size)}(xr,Kt[In].data,(Kt[is]||{}).data))),xr.content&&Ya(xr.content,0),Xr[un]=xr,Jr.push(xr)}}(Sr,lr,Ir,qe,{},Lr,Ve),function(Kt,Br,pr){for(var Qt=0,Xr=0,Jr=0,is=0,un=0,In=pr.length,Dr=[],na=[];Qt<In;++Qt)Dr[Qt]=na[Qt]=Qt,Br[Qt]=pr[Qt];for(;un<na.length;++un)Qt=na[un],Xr=Kt[Qt].L,Jr=Kt[Qt].R,is=Kt[Qt].C,Dr[Qt]===Qt&&(Xr!==-1&&Dr[Xr]!==Xr&&(Dr[Qt]=Dr[Xr]),Jr!==-1&&Dr[Jr]!==Jr&&(Dr[Qt]=Dr[Jr])),is!==-1&&(Dr[is]=Qt),Xr!==-1&&Qt!=Dr[Qt]&&(Dr[Xr]=Dr[Qt],na.lastIndexOf(Xr)<un&&na.push(Xr)),Jr!==-1&&Qt!=Dr[Qt]&&(Dr[Jr]=Dr[Qt],na.lastIndexOf(Jr)<un&&na.push(Jr));for(Qt=1;Qt<In;++Qt)Dr[Qt]===Qt&&(Jr!==-1&&Dr[Jr]!==Jr?Dr[Qt]=Dr[Jr]:Xr!==-1&&Dr[Xr]!==Xr&&(Dr[Qt]=Dr[Xr]));for(Qt=1;Qt<In;++Qt)if(Kt[Qt].type!==0){if((un=Qt)!=Dr[un])for(;un=Dr[un],Br[Qt]=Br[un]+"/"+Br[Qt],un!==0&&Dr[un]!==-1&&un!=Dr[un];);Dr[Qt]=-1}for(Br[0]+="/",Qt=1;Qt<In;++Qt)Kt[Qt].type!==2&&(Br[Qt]+="/")}(Lr,ar,Ir),Ir.shift(),ar={FileIndex:Lr,FullPaths:ar},mt&&mt.raw&&(ar.raw={header:Gt,sectors:lr}),ar}function E(De,mt){return new Date(1e3*(Ur(De,mt+4)/1e7*Math.pow(2,32)+Ur(De,mt)/1e7-11644473600))}function F(De,ut){var qe=ut||{},ut=qe.root||"Root Entry";if(De.FullPaths||(De.FullPaths=[]),De.FileIndex||(De.FileIndex=[]),De.FullPaths.length!==De.FileIndex.length)throw new Error("inconsistent CFB structure");De.FullPaths.length===0&&(De.FullPaths[0]=ut+"/",De.FileIndex[0]={name:ut,type:5}),qe.CLSID&&(De.FileIndex[0].clsid=qe.CLSID),ut=De,qe="Sh33tJ5",rr.find(ut,"/"+qe)||((De=bt(4))[0]=55,De[1]=De[3]=50,De[2]=54,ut.FileIndex.push({name:qe,type:2,content:De,size:4,L:69,R:69,C:69}),ut.FullPaths.push(ut.FullPaths[0]+qe),R(ut))}function R(De,mt){F(De);for(var qe=!1,ut=!1,Ve=De.FullPaths.length-1;0<=Ve;--Ve){var zt=De.FileIndex[Ve];switch(zt.type){case 0:ut?qe=!0:(De.FileIndex.pop(),De.FullPaths.pop());break;case 1:case 2:case 5:ut=!0,isNaN(zt.R*zt.L*zt.C)&&(qe=!0),-1<zt.R&&-1<zt.L&&zt.R==zt.L&&(qe=!0);break;default:qe=!0}}if(qe||mt){for(var dt=new Date(1987,1,19),xt=0,lt=Object.create?Object.create(null):{},St=[],Ve=0;Ve<De.FullPaths.length;++Ve)lt[De.FullPaths[Ve]]=!0,De.FileIndex[Ve].type!==0&&St.push([De.FullPaths[Ve],De.FileIndex[Ve]]);for(Ve=0;Ve<St.length;++Ve){var Gt=p(St[Ve][0]);(ut=lt[Gt])||(St.push([Gt,{name:x(Gt).replace("/",""),type:1,clsid:be,ct:dt,mt:dt,content:null}]),lt[Gt]=!0)}for(St.sort(function(lr,Sr){return function(Ir,Lr){for(var ar,Kt=Ir.split("/"),Br=Lr.split("/"),pr=0,Qt=Math.min(Kt.length,Br.length);pr<Qt;++pr){if(ar=Kt[pr].length-Br[pr].length)return ar;if(Kt[pr]!=Br[pr])return Kt[pr]<Br[pr]?-1:1}return Kt.length-Br.length}(lr[0],Sr[0])}),De.FullPaths=[],De.FileIndex=[],Ve=0;Ve<St.length;++Ve)De.FullPaths[Ve]=St[Ve][0],De.FileIndex[Ve]=St[Ve][1];for(Ve=0;Ve<St.length;++Ve){var Fr=De.FileIndex[Ve],gr=De.FullPaths[Ve];if(Fr.name=x(gr).replace("/",""),Fr.L=Fr.R=Fr.C=-(Fr.color=1),Fr.size=Fr.content?Fr.content.length:0,Fr.start=0,Fr.clsid=Fr.clsid||be,Ve===0)Fr.C=1<St.length?1:-1,Fr.size=0,Fr.type=5;else if(gr.slice(-1)=="/"){for(xt=Ve+1;xt<St.length&&p(De.FullPaths[xt])!=gr;++xt);for(Fr.C=xt>=St.length?-1:xt,xt=Ve+1;xt<St.length&&p(De.FullPaths[xt])!=p(gr);++xt);Fr.R=xt>=St.length?-1:xt,Fr.type=1}else p(De.FullPaths[Ve+1]||"")==p(gr)&&(Fr.R=Ve+1),Fr.type=2}}}function z(De,mt){var qe=mt||{};if(qe.fileType=="mad")return function(gr,lr){for(var Sr=lr||{},Ir=Sr.boundary||"SheetJS",Lr=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Ir="------="+Ir).slice(2)+'"',"","",""],ar=gr.FullPaths[0],Kt=ar,Br=gr.FileIndex[0],pr=1;pr<gr.FullPaths.length;++pr)if(Kt=gr.FullPaths[pr].slice(ar.length),(Br=gr.FileIndex[pr]).size&&Br.content&&Kt!="Sh33tJ5"){Kt=Kt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dr){return"_x"+Dr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dr){return"_u"+Dr.charCodeAt(0).toString(16)+"_"});for(var Qt=Br.content,Xr=P&&Buffer.isBuffer(Qt)?Qt.toString("binary"):oe(Qt),Jr=0,is=Math.min(1024,Xr.length),un=0,In=0;In<=is;++In)32<=(un=Xr.charCodeAt(In))&&un<128&&++Jr;Qt=4*is/5<=Jr,Lr.push(Ir),Lr.push("Content-Location: "+(Sr.root||"file:///C:/SheetJS/")+Kt),Lr.push("Content-Transfer-Encoding: "+(Qt?"quoted-printable":"base64")),Lr.push("Content-Type: "+function(hr,na){if(hr.ctype)return hr.ctype;var oa=hr.name||"",hr=oa.match(/\.([^\.]+)$/);return hr&&co[hr[1]]||na&&(hr=(oa=na).match(/[\.\\]([^\.\\])+$/))&&co[hr[1]]?co[hr[1]]:"application/octet-stream"}(Br,Kt)),Lr.push(""),Lr.push((Qt?function(Dr){Dr=Dr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(uo){return uo=uo.charCodeAt(0).toString(16).toUpperCase(),"="+(uo.length==1?"0"+uo:uo)}),(Dr=Dr.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)==`
`&&(Dr="=0D"+Dr.slice(1)),Dr=Dr.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,`
=0A`).replace(/([^\r\n])\n/gm,"$1=0A");for(var na=[],oa=Dr.split(`\r
`),hr=0;hr<oa.length;++hr){var Cr=oa[hr];if(Cr.length!=0)for(var xr=0;xr<Cr.length;){var Wn=76,ka=Cr.slice(xr,xr+Wn);ka.charAt(Wn-1)=="="?Wn--:ka.charAt(Wn-2)=="="?Wn-=2:ka.charAt(Wn-3)=="="&&(Wn-=3),ka=Cr.slice(xr,xr+Wn),(xr+=Wn)<Cr.length&&(ka+="="),na.push(ka)}else na.push("")}return na.join(`\r
`)}:function(Dr){for(var na=k(Dr),oa=[],hr=0;hr<na.length;hr+=76)oa.push(na.slice(hr,hr+76));return oa.join(`\r
`)+`\r
`})(Xr))}return Lr.push(Ir+`--\r
`),Lr.join(`\r
`)}(De,qe);if(R(De),qe.fileType==="zip")return function(gr,Sr){var Sr=Sr||{},Ir=[],Lr=[],ar=bt(1),Kt=Sr.compression?8:0,Br=0,pr=0,Qt=0,Xr=0,Jr=0,is=gr.FullPaths[0],un=is,In=gr.FileIndex[0],Dr=[],na=0;for(pr=1;pr<gr.FullPaths.length;++pr)if(un=gr.FullPaths[pr].slice(is.length),(In=gr.FileIndex[pr]).size&&In.content&&un!="Sh33tJ5"){var oa=Xr,hr=bt(un.length);for(Qt=0;Qt<un.length;++Qt)hr.write_shift(1,127&un.charCodeAt(Qt));hr=hr.slice(0,hr.l),Dr[Jr]=cn.buf(In.content,0);var Cr=In.content;Kt==8&&(Cr=function(xr){return G?G.deflateRawSync(xr):mr(xr)}(Cr)),(ar=bt(30)).write_shift(4,67324752),ar.write_shift(2,20),ar.write_shift(2,Br),ar.write_shift(2,Kt),In.mt?function(xr,Wn){var ka=(Wn=typeof Wn=="string"?new Date(Wn):Wn).getHours();ka=(ka=ka<<6|Wn.getMinutes())<<5|Wn.getSeconds()>>>1,xr.write_shift(2,ka),ka=(ka=(ka=Wn.getFullYear()-1980)<<4|Wn.getMonth()+1)<<5|Wn.getDate(),xr.write_shift(2,ka)}(ar,In.mt):ar.write_shift(4,0),ar.write_shift(-4,Dr[Jr]),ar.write_shift(4,Cr.length),ar.write_shift(4,In.content.length),ar.write_shift(2,hr.length),ar.write_shift(2,0),Xr+=ar.length,Ir.push(ar),Xr+=hr.length,Ir.push(hr),Xr+=Cr.length,Ir.push(Cr),(ar=bt(46)).write_shift(4,33639248),ar.write_shift(2,0),ar.write_shift(2,20),ar.write_shift(2,Br),ar.write_shift(2,Kt),ar.write_shift(4,0),ar.write_shift(-4,Dr[Jr]),ar.write_shift(4,Cr.length),ar.write_shift(4,In.content.length),ar.write_shift(2,hr.length),ar.write_shift(2,0),ar.write_shift(2,0),ar.write_shift(2,0),ar.write_shift(2,0),ar.write_shift(4,0),ar.write_shift(4,oa),na+=ar.l,Lr.push(ar),na+=hr.length,Lr.push(hr),++Jr}return(ar=bt(22)).write_shift(4,101010256),ar.write_shift(2,0),ar.write_shift(2,0),ar.write_shift(2,Jr),ar.write_shift(2,Jr),ar.write_shift(4,na),ar.write_shift(4,Xr),ar.write_shift(2,0),re([re(Ir),re(Lr),ar])}(De,qe);for(var ut=function(gr){for(var lr=0,Sr=0,Ir=0;Ir<gr.FileIndex.length;++Ir){var Lr=gr.FileIndex[Ir];Lr.content&&0<(Lr=Lr.content.length)&&(Lr<4096?lr+=Lr+63>>6:Sr+=Lr+511>>9)}for(var ar=gr.FullPaths.length+3>>2,Kt=lr+127>>7,Br=(lr+7>>3)+Sr+ar+Kt,pr=Br+127>>7,Qt=pr<=109?0:Math.ceil((pr-109)/127);pr<Br+pr+Qt+127>>7;)Qt=++pr<=109?0:Math.ceil((pr-109)/127);return ar=[1,Qt,pr,Kt,ar,Sr,lr,0],gr.FileIndex[0].size=lr<<6,ar[7]=(gr.FileIndex[0].start=ar[0]+ar[1]+ar[2]+ar[3]+ar[4]+ar[5])+(ar[6]+7>>3),ar}(De),Ve=bt(ut[7]<<9),dt=0,zt=0,dt=0;dt<8;++dt)Ve.write_shift(1,ae[dt]);for(dt=0;dt<8;++dt)Ve.write_shift(2,0);for(Ve.write_shift(2,62),Ve.write_shift(2,3),Ve.write_shift(2,65534),Ve.write_shift(2,9),Ve.write_shift(2,6),dt=0;dt<3;++dt)Ve.write_shift(2,0);for(Ve.write_shift(4,0),Ve.write_shift(4,ut[2]),Ve.write_shift(4,ut[0]+ut[1]+ut[2]+ut[3]-1),Ve.write_shift(4,0),Ve.write_shift(4,4096),Ve.write_shift(4,ut[3]?ut[0]+ut[1]+ut[2]-1:Z),Ve.write_shift(4,ut[3]),Ve.write_shift(-4,ut[1]?ut[0]-1:Z),Ve.write_shift(4,ut[1]),dt=0;dt<109;++dt)Ve.write_shift(-4,dt<ut[2]?ut[1]+dt:-1);if(ut[1])for(zt=0;zt<ut[1];++zt){for(;dt<236+127*zt;++dt)Ve.write_shift(-4,dt<ut[2]?ut[1]+dt:-1);Ve.write_shift(-4,zt===ut[1]-1?Z:zt+1)}function xt(gr){for(zt+=gr;dt<zt-1;++dt)Ve.write_shift(-4,dt+1);gr&&(++dt,Ve.write_shift(-4,Z))}for(zt=dt=0,zt+=ut[1];dt<zt;++dt)Ve.write_shift(-4,me.DIFSECT);for(zt+=ut[2];dt<zt;++dt)Ve.write_shift(-4,me.FATSECT);xt(ut[3]),xt(ut[4]);for(var lt=0,St=0,Gt=De.FileIndex[0];lt<De.FileIndex.length;++lt)(Gt=De.FileIndex[lt]).content&&((St=Gt.content.length)<4096||(Gt.start=zt,xt(St+511>>9)));for(xt(ut[6]+7>>3);511&Ve.l;)Ve.write_shift(-4,me.ENDOFCHAIN);for(lt=zt=dt=0;lt<De.FileIndex.length;++lt)(Gt=De.FileIndex[lt]).content&&(!(St=Gt.content.length)||4096<=St||(Gt.start=zt,xt(St+63>>6)));for(;511&Ve.l;)Ve.write_shift(-4,me.ENDOFCHAIN);for(dt=0;dt<ut[4]<<2;++dt){var Fr=De.FullPaths[dt];if(Fr&&Fr.length!==0){if(Gt=De.FileIndex[dt],dt===0&&(Gt.start=Gt.size?Gt.start-1:Z),Fr=dt===0&&qe.root||Gt.name,St=2*(Fr.length+1),Ve.write_shift(64,Fr,"utf16le"),Ve.write_shift(2,St),Ve.write_shift(1,Gt.type),Ve.write_shift(1,Gt.color),Ve.write_shift(-4,Gt.L),Ve.write_shift(-4,Gt.R),Ve.write_shift(-4,Gt.C),Gt.clsid)Ve.write_shift(16,Gt.clsid,"hex");else for(lt=0;lt<4;++lt)Ve.write_shift(4,0);Ve.write_shift(4,Gt.state||0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,Gt.start),Ve.write_shift(4,Gt.size),Ve.write_shift(4,0)}else{for(lt=0;lt<17;++lt)Ve.write_shift(4,0);for(lt=0;lt<3;++lt)Ve.write_shift(4,-1);for(lt=0;lt<12;++lt)Ve.write_shift(4,0)}}for(dt=1;dt<De.FileIndex.length;++dt)if(4096<=(Gt=De.FileIndex[dt]).size)if(Ve.l=Gt.start+1<<9,P&&Buffer.isBuffer(Gt.content))Gt.content.copy(Ve,Ve.l,0,Gt.size),Ve.l+=Gt.size+511&-512;else{for(lt=0;lt<Gt.size;++lt)Ve.write_shift(1,Gt.content[lt]);for(;511&lt;++lt)Ve.write_shift(1,0)}for(dt=1;dt<De.FileIndex.length;++dt)if(0<(Gt=De.FileIndex[dt]).size&&Gt.size<4096)if(P&&Buffer.isBuffer(Gt.content))Gt.content.copy(Ve,Ve.l,0,Gt.size),Ve.l+=Gt.size+63&-64;else{for(lt=0;lt<Gt.size;++lt)Ve.write_shift(1,Gt.content[lt]);for(;63&lt;++lt)Ve.write_shift(1,0)}if(P)Ve.l=Ve.length;else for(;Ve.l<Ve.length;)Ve.write_shift(1,0);return Ve}m.version="1.2.1";var G,K=64,Z=-2,he="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],be="00000000000000000000000000000000",me={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Z,FREESECT:-1,HEADER_SIGNATURE:he,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:be,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(De){for(var mt=new Array(De.length),qe=0;qe<De.length;++qe)mt[qe]=String.fromCharCode(De[qe]);return mt.join("")}for(var ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],We,tt=typeof Uint8Array<"u",Je=tt?new Uint8Array(256):[],ct=0;ct<256;++ct)Je[ct]=255&((We=139536&((We=ct)<<1|We<<11)|558144&(We<<5|We<<15))>>16|We>>8|We);function kt(De,ut){var qe=7&ut,ut=ut>>>3;return(De[ut]|(qe<=5?0:De[1+ut]<<8))>>>qe&7}function Ft(De,ut){var qe=7&ut,ut=ut>>>3;return(De[ut]|(qe<=3?0:De[1+ut]<<8))>>>qe&31}function ht(De,ut){var qe=7&ut,ut=ut>>>3;return(De[ut]|(qe<=1?0:De[1+ut]<<8))>>>qe&127}function qt(De,dt,qe){var ut=7&dt,Ve=dt>>>3,zt=(1<<qe)-1,dt=De[Ve]>>>ut;return qe<8-ut?dt&zt:(dt|=De[1+Ve]<<8-ut,qe<16-ut?dt&zt:(dt|=De[2+Ve]<<16-ut,qe<24-ut?dt&zt:(dt|=De[3+Ve]<<24-ut)&zt))}function fr(De,mt,qe){var ut=7&mt,Ve=mt>>>3;return ut<=5?De[Ve]|=(7&qe)<<ut:(De[Ve]|=qe<<ut&255,De[1+Ve]=(7&qe)>>8-ut),mt+3}function or(De,mt,qe){var ut=mt>>>3;return qe<<=7&mt,De[ut]|=255&qe,qe>>>=8,De[1+ut]=qe,mt+8}function Zt(De,mt,qe){var ut=mt>>>3;return qe<<=7&mt,De[ut]|=255&qe,qe>>>=8,De[1+ut]=255&qe,De[2+ut]=qe>>>8,mt+16}function tr(De,mt){var qe=De.length,ut=mt<2*qe?2*qe:mt+5,Ve=0;if(mt<=qe)return De;if(P){var zt=I(ut);if(De.copy)De.copy(zt);else for(;Ve<De.length;++Ve)zt[Ve]=De[Ve];return zt}if(tt){var dt=new Uint8Array(ut);if(dt.set)dt.set(De);else for(;Ve<qe;++Ve)dt[Ve]=De[Ve];return dt}return De.length=ut,De}function Yt(De){for(var mt=new Array(De),qe=0;qe<De;++qe)mt[qe]=0;return mt}function Lt(De,mt,qe){for(var ut,Ve=1,St=0,zt=0,dt=0,xt=De.length,lt=tt?new Uint16Array(32):Yt(32),St=0;St<32;++St)lt[St]=0;for(St=xt;St<qe;++St)De[St]=0;xt=De.length;var Gt=tt?new Uint16Array(xt):Yt(xt);for(St=0;St<xt;++St)lt[ut=De[St]]++,Ve<ut&&(Ve=ut),Gt[St]=0;for(lt[0]=0,St=1;St<=Ve;++St)lt[St+16]=dt=dt+lt[St-1]<<1;for(St=0;St<xt;++St)(dt=De[St])!=0&&(Gt[St]=lt[dt+16]++);var Fr,gr,lr,Sr;for(St=0;St<xt;++St)if((Fr=De[St])!=0)for(gr=Gt[St],lr=Ve,Sr=void 0,Sr=Je[255&gr],dt=(lr<=8?Sr>>>8-lr:(Sr=Sr<<8|Je[gr>>8&255],lr<=16?Sr>>>16-lr:(Sr=Sr<<8|Je[gr>>16&255])>>>24-lr))>>Ve-Fr,zt=(1<<Ve+4-Fr)-1;0<=zt;--zt)mt[dt|zt<<Fr]=15&Fr|St<<4;return Ve}var vr=tt?new Uint16Array(512):Yt(512),Nr=tt?new Uint16Array(32):Yt(32);if(!tt){for(var Wr=0;Wr<512;++Wr)vr[Wr]=0;for(Wr=0;Wr<32;++Wr)Nr[Wr]=0}(function(){for(var De=[],mt=0;mt<32;mt++)De.push(5);Lt(De,Nr,32);for(var qe=[],mt=0;mt<=143;mt++)qe.push(8);for(;mt<=255;mt++)qe.push(9);for(;mt<=279;mt++)qe.push(7);for(;mt<=287;mt++)qe.push(8);Lt(qe,vr,288)})();var zn=function(){for(var De=tt?new Uint8Array(32768):[],mt=0,qe=0;mt<Ce.length-1;++mt)for(;qe<Ce[mt+1];++qe)De[qe]=mt;for(;qe<32768;++qe)De[qe]=29;for(var ut=tt?new Uint8Array(259):[],mt=0,qe=0;mt<Ne.length-1;++mt)for(;qe<Ne[mt+1];++qe)ut[qe]=mt;return function(Ve,zt){return(Ve.length<8?function(dt,xt){for(var lt=0;lt<dt.length;){var St=Math.min(65535,dt.length-lt),Gt=lt+St==dt.length;for(xt.write_shift(1,+Gt),xt.write_shift(2,St),xt.write_shift(2,65535&~St);0<St--;)xt[xt.l++]=dt[lt++]}return xt.l}:function(dt,xt){for(var lt=0,St=0,Gt=tt?new Uint16Array(32768):[];St<dt.length;){var Fr=Math.min(65535,dt.length-St);if(Fr<10){for(7&(lt=fr(xt,lt,+(St+Fr==dt.length)))&&(lt+=8-(7&lt)),xt.l=lt/8|0,xt.write_shift(2,Fr),xt.write_shift(2,65535&~Fr);0<Fr--;)xt[xt.l++]=dt[St++];lt=8*xt.l}else{lt=fr(xt,lt,+(St+Fr==dt.length)+2);for(var gr=0;0<Fr--;){var lr=dt[St],gr=32767&(gr<<5^lr),Sr=-1,Ir=0;if((Sr=Gt[gr])&&(St<(Sr|=-32768&St)&&(Sr-=32768),Sr<St))for(;dt[Sr+Ir]==dt[St+Ir]&&Ir<250;)++Ir;if(2<Ir){(lr=ut[Ir])<=22?lt=or(xt,lt,Je[lr+1]>>1)-1:(or(xt,lt,3),or(xt,lt+=5,Je[lr-23]>>5),lt+=3);var Lr=lr<8?0:lr-4>>2;0<Lr&&(Zt(xt,lt,Ir-Ne[lr]),lt+=Lr),lr=De[St-Sr],lt=or(xt,lt,Je[lr]>>3),lt-=3;var ar=lr<4?0:lr-2>>1;0<ar&&(Zt(xt,lt,St-Sr-Ce[lr]),lt+=ar);for(var Kt=0;Kt<Ir;++Kt)Gt[gr]=32767&St,gr=32767&(gr<<5^dt[St]),++St;Fr-=Ir-1}else lr<=143?lr+=48:(Lr=((Lr=1)&Lr)<<(7&(ar=lt)),xt[ar>>>3]|=Lr,lt=ar+1),lt=or(xt,lt,Je[lr]),Gt[gr]=32767&St,++St}lt=or(xt,lt,0)-1}}return xt.l=(lt+7)/8|0,xt.l})(Ve,zt)}}();function mr(qe){var mt=bt(50+Math.floor(1.1*qe.length)),qe=zn(qe,mt);return mt.slice(0,qe)}var Vt=tt?new Uint16Array(32768):Yt(32768),xn=tt?new Uint16Array(32768):Yt(32768),da=tt?new Uint16Array(128):Yt(128),ra=1,za=1;function ui(De,mt){if(De[0]==3&&!(3&De[1]))return[M(mt),2];for(var qe=0,ut=0,Ve=I(mt||1<<18),zt=0,dt=Ve.length>>>0,xt=0,lt=0;!(1&ut);)if(ut=kt(De,qe),qe+=3,ut>>>1!=0)for(lt=ut>>1==1?(xt=9,5):(qe=function(Ir,Lr){var ar,Kt,Br,pr=Ft(Ir,Lr)+257,Qt=Ft(Ir,Lr+=5)+1,Xr=(Br=7&(Kt=Lr+=5),4+(((ar=Ir)[Kt=Kt>>>3]|(Br<=4?0:ar[1+Kt]<<8))>>>Br&15));Lr+=4;for(var Jr=0,is=tt?new Uint8Array(19):Yt(19),un=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],In=1,Dr=tt?new Uint8Array(8):Yt(8),na=tt?new Uint8Array(8):Yt(8),oa=is.length,hr=0;hr<Xr;++hr)is[ye[hr]]=Jr=kt(Ir,Lr),In<Jr&&(In=Jr),Dr[Jr]++,Lr+=3;var Cr=0;for(Dr[0]=0,hr=1;hr<=In;++hr)na[hr]=Cr=Cr+Dr[hr-1]<<1;for(hr=0;hr<oa;++hr)(Cr=is[hr])!=0&&(un[hr]=na[Cr]++);for(var xr,hr=0;hr<oa;++hr)if((xr=is[hr])!=0){Cr=Je[un[hr]]>>8-xr;for(var Wn=(1<<7-xr)-1;0<=Wn;--Wn)da[Cr|Wn<<xr]=7&xr|hr<<3}for(var ka,uo,$o,Bi=[],In=1;Bi.length<pr+Qt;)switch(Lr+=7&(Cr=da[ht(Ir,Lr)]),Cr>>>=3){case 16:for(Jr=3+($o=void 0,$o=7&(uo=Lr),((ka=Ir)[uo=uo>>>3]|($o<=6?0:ka[1+uo]<<8))>>>$o&3),Lr+=2,Cr=Bi[Bi.length-1];0<Jr--;)Bi.push(Cr);break;case 17:for(Jr=3+kt(Ir,Lr),Lr+=3;0<Jr--;)Bi.push(0);break;case 18:for(Jr=11+ht(Ir,Lr),Lr+=7;0<Jr--;)Bi.push(0);break;default:Bi.push(Cr),In<Cr&&(In=Cr)}var ml=Bi.slice(0,pr),pl=Bi.slice(pr);for(hr=pr;hr<286;++hr)ml[hr]=0;for(hr=Qt;hr<30;++hr)pl[hr]=0;return ra=Lt(ml,Vt,286),za=Lt(pl,xn,30),Lr}(De,qe),xt=ra,za);;){!mt&&dt<zt+32767&&(dt=(Ve=tr(Ve,zt+32767)).length);var St=qt(De,qe,xt),Gt=(ut>>>1==1?vr:Vt)[St];if(qe+=15&Gt,((Gt>>>=4)>>>8&255)==0)Ve[zt++]=Gt;else{if(Gt==256)break;var Fr=(Gt-=257)<8?0:Gt-4>>2;5<Fr&&(Fr=0);var gr=zt+Ne[Gt];0<Fr&&(gr+=qt(De,qe,Fr),qe+=Fr),St=qt(De,qe,lt),qe+=15&(Gt=(ut>>>1==1?Nr:xn)[St]);var St=(Gt>>>=4)<4?0:Gt-2>>1,lr=Ce[Gt];for(0<St&&(lr+=qt(De,qe,St),qe+=St),!mt&&dt<gr&&(dt=(Ve=tr(Ve,gr+100)).length);zt<gr;)Ve[zt]=Ve[zt-lr],++zt}}else{7&qe&&(qe+=8-(7&qe));var Sr=De[qe>>>3]|De[1+(qe>>>3)]<<8;if(qe+=32,0<Sr)for(!mt&&dt<zt+Sr&&(dt=(Ve=tr(Ve,zt+Sr)).length);0<Sr--;)Ve[zt++]=De[qe>>>3],qe+=8}return mt?[Ve,qe+7>>>3]:[Ve.slice(0,zt),qe+7>>>3]}function Ke(De,mt){return mt=ui(De.slice(De.l||0),mt),De.l+=mt[1],mt[0]}function Ua(De,mt){if(!De)throw new Error(mt);typeof console<"u"&&console.error(mt)}function Ma(De,mt){var qe=De;Ya(qe,0);var ut={FileIndex:[],FullPaths:[]};F(ut,{root:mt.root});for(var Ve=qe.length-4;(qe[Ve]!=80||qe[Ve+1]!=75||qe[Ve+2]!=5||qe[Ve+3]!=6)&&0<=Ve;)--Ve;qe.l=Ve+4,qe.l+=4;var zt=qe.read_shift(2);for(qe.l+=6,mt=qe.read_shift(4),qe.l=mt,Ve=0;Ve<zt;++Ve){qe.l+=20;var dt=qe.read_shift(4),xt=qe.read_shift(4),lt=qe.read_shift(2),St=qe.read_shift(2),Gt=qe.read_shift(2);qe.l+=8;var Fr=qe.read_shift(4),gr=N(qe.slice(qe.l+lt,qe.l+lt+St));qe.l+=lt+St+Gt,Gt=qe.l,qe.l=Fr+4,function(lr,Sr,Ir,Lr,ar){lr.l+=2;var Kt=lr.read_shift(2),Br=lr.read_shift(2),pr=function(ka){var hr=65535&ka.read_shift(2),Cr=65535&ka.read_shift(2),xr=new Date,Wn=31&Cr,ka=15&(Cr>>>=5);return Cr>>>=4,xr.setMilliseconds(0),xr.setFullYear(1980+Cr),xr.setMonth(ka-1),xr.setDate(Wn),ka=31&hr,Wn=63&(hr>>>=5),hr>>>=6,xr.setHours(hr),xr.setMinutes(Wn),xr.setSeconds(ka<<1),xr}(lr);if(8257&Kt)throw new Error("Unsupported ZIP encryption");lr.read_shift(4);for(var Qt,Xr=lr.read_shift(4),Jr=lr.read_shift(4),is=lr.read_shift(2),un=lr.read_shift(2),In="",Dr=0;Dr<is;++Dr)In+=String.fromCharCode(lr[lr.l++]);un&&(((Qt=N(lr.slice(lr.l,lr.l+un)))[21589]||{}).mt&&(pr=Qt[21589].mt),((ar||{})[21589]||{}).mt&&(pr=ar[21589].mt)),lr.l+=un;var na=lr.slice(lr.l,lr.l+Xr);switch(Br){case 8:na=function(oa,xr){if(!G)return Ke(oa,xr);var Cr=new G.InflateRaw,xr=Cr._processChunk(oa.slice(oa.l),Cr._finishFlushFlag);return oa.l+=Cr.bytesRead,xr}(lr,Jr);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Br)}un=!1,8&Kt&&(lr.read_shift(4)==134695760&&(lr.read_shift(4),un=!0),Xr=lr.read_shift(4),Jr=lr.read_shift(4)),Xr!=Sr&&Ua(un,"Bad compressed size: "+Sr+" != "+Xr),Jr!=Ir&&Ua(un,"Bad uncompressed size: "+Ir+" != "+Jr),ku(Lr,In,na,{unsafe:!0,mt:pr})}(qe,dt,xt,ut,gr),qe.l=Gt}return ut}var co={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ku(De,mt,qe,ut){var Ve=ut&&ut.unsafe;Ve||F(De);var zt,dt=!Ve&&rr.find(De,mt);return dt||(zt=De.FullPaths[0],zt=mt.slice(0,zt.length)==zt?mt:(zt.slice(-1)!="/"&&(zt+="/"),(zt+mt).replace("//","/")),dt={name:x(mt),type:2},De.FileIndex.push(dt),De.FullPaths.push(zt),Ve||rr.utils.cfb_gc(De)),dt.content=qe,dt.size=qe?qe.length:0,ut&&(ut.CLSID&&(dt.clsid=ut.CLSID),ut.mt&&(dt.mt=ut.mt),ut.ct&&(dt.ct=ut.ct)),dt}return m.find=function(De,mt){var qe=De.FullPaths.map(function(lt){return lt.toUpperCase()}),ut=qe.map(function(lt){var St=lt.split("/");return St[St.length-(lt.slice(-1)=="/"?2:1)]}),Ve=!1;mt.charCodeAt(0)===47?(Ve=!0,mt=qe[0].slice(0,-1)+mt):Ve=mt.indexOf("/")!==-1;var xt=mt.toUpperCase(),zt=(Ve===!0?qe:ut).indexOf(xt);if(zt!==-1)return De.FileIndex[zt];var dt=!xt.match(X),xt=xt.replace(H,"");for(dt&&(xt=xt.replace(X,"!")),zt=0;zt<qe.length;++zt)if((dt?qe[zt].replace(X,"!"):qe[zt]).replace(H,"")==xt||(dt?ut[zt].replace(X,"!"):ut[zt]).replace(H,"")==xt)return De.FileIndex[zt];return null},m.read=function(De,mt){var qe,ut,Ve=mt&&mt.type;switch(Ve||P&&Buffer.isBuffer(De)&&(Ve="buffer"),Ve||"base64"){case"file":return qe=De,ut=mt,A(),S(u.readFileSync(qe),ut);case"base64":return S(B(T(De)),mt);case"binary":return S(B(De),mt)}return S(De,mt)},m.parse=S,m.write=function(De,mt){var qe=z(De,mt);switch(mt&&mt.type||"buffer"){case"file":return A(),u.writeFileSync(mt.filename,qe),qe;case"binary":return typeof qe=="string"?qe:oe(qe);case"base64":return k(typeof qe=="string"?qe:oe(qe));case"buffer":if(P)return Buffer.isBuffer(qe)?qe:D(qe);case"array":return typeof qe=="string"?B(qe):qe}return qe},m.writeFile=function(De,mt,qe){A(),qe=z(De,qe),u.writeFileSync(mt,qe)},m.utils={cfb_new:function(De){var mt={};return F(mt,De),mt},cfb_add:ku,cfb_del:function(De,mt){F(De);var qe=rr.find(De,mt);if(qe){for(var ut=0;ut<De.FileIndex.length;++ut)if(De.FileIndex[ut]==qe)return De.FileIndex.splice(ut,1),De.FullPaths.splice(ut,1),!0}return!1},cfb_mov:function(De,mt,qe){F(De);var ut=rr.find(De,mt);if(ut){for(var Ve=0;Ve<De.FileIndex.length;++Ve)if(De.FileIndex[Ve]==ut)return De.FileIndex[Ve].name=x(qe),De.FullPaths[Ve]=qe,!0}return!1},cfb_gc:function(De){R(De,!0)},ReadShift:ds,CheckField:yu,prep_blob:Ya,bconcat:re,use_zlib:function(De){try{var mt=new De.InflateRaw;if(mt._processChunk(new Uint8Array([3,0]),mt._finishFlushFlag),!mt.bytesRead)throw new Error("zlib does not expose bytesRead");G=De}catch(qe){console.error("cannot use native zlib: "+(qe.message||qe))}},_deflateRaw:mr,_inflateRaw:Ke,consts:me},m}();if(typeof A4<"u")try{bn=r6}catch{}function th(u){return typeof u=="string"?V(u):Array.isArray(u)?function(m){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(m)}(u):u}function ri(u,m,p){if(bn!==void 0&&bn.writeFileSync)return p?bn.writeFileSync(u,m,p):bn.writeFileSync(u,m);if(typeof Deno<"u"){if(p&&typeof m=="string")switch(p){case"utf8":m=new TextEncoder(p).encode(m);break;case"binary":m=V(m);break;default:throw new Error("Unsupported encoding "+p)}return Deno.writeFileSync(u,m)}var x=p=="utf8"?oc(m):m;if(typeof IE_SaveFile<"u")return IE_SaveFile(x,u);if(typeof Blob<"u"){if(x=new Blob([th(x)],{type:"application/octet-stream"}),typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(x,u);if(typeof saveAs<"u")return saveAs(x,u);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var N=URL.createObjectURL(x);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(N)},6e4),chrome.downloads.download({url:N,filename:u,saveAs:!0});if(x=document.createElement("a"),x.download!=null)return x.download=u,x.href=N,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(N)},6e4),N}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var A=File(u);return A.open("w"),A.encoding="binary",Array.isArray(m)&&(m=U(m)),A.write(m),A.close(),m}catch(S){if(!S.message||!S.message.match(/onstruct/))throw S}throw new Error("cannot save file "+u)}function Pa(u){for(var m=Object.keys(u),p=[],x=0;x<m.length;++x)Object.prototype.hasOwnProperty.call(u,m[x])&&p.push(m[x]);return p}function Fc(u,m){for(var p=[],x=Pa(u),N=0;N!==x.length;++N)p[u[x[N]][m]]==null&&(p[u[x[N]][m]]=x[N]);return p}function Qr(u){for(var m=[],p=Pa(u),x=0;x!==p.length;++x)m[u[p[x]]]=p[x];return m}function ac(u){for(var m=[],p=Pa(u),x=0;x!==p.length;++x)m[u[p[x]]]=parseInt(p[x],10);return m}var sc=new Date(1899,11,30,0,0,0);function Oa(u,m){var p=u.getTime();return m&&(p-=1263168e5),(p-(sc.getTime()+6e4*(u.getTimezoneOffset()-sc.getTimezoneOffset())))/864e5}var Xo=new Date,Ms=sc.getTime()+6e4*(Xo.getTimezoneOffset()-sc.getTimezoneOffset()),xi=Xo.getTimezoneOffset();function ni(u){var m=new Date;return m.setTime(24*u*60*60*1e3+Ms),m.getTimezoneOffset()!==xi&&m.setTime(m.getTime()+6e4*(m.getTimezoneOffset()-xi)),m}var uu=new Date("2017-02-19T19:06:09.000Z"),ad=isNaN(uu.getFullYear())?new Date("2/19/17"):uu,Dc=ad.getFullYear()==2017;function ca(u,m){var p=new Date(u);return Dc?(0<m?p.setTime(p.getTime()+60*p.getTimezoneOffset()*1e3):m<0&&p.setTime(p.getTime()-60*p.getTimezoneOffset()*1e3),p):u instanceof Date?u:ad.getFullYear()==1917&&!isNaN(p.getFullYear())?(m=p.getFullYear(),-1<u.indexOf(""+m)||p.setFullYear(p.getFullYear()+100),p):(p=u.match(/\d+/g)||["2017","2","19","0","0","0"],p=new Date(+p[0],+p[1]-1,+p[2],+p[3]||0,+p[4]||0,+p[5]||0),p=-1<u.indexOf("Z")?new Date(p.getTime()-60*p.getTimezoneOffset()*1e3):p)}function ro(u,m){if(P&&Buffer.isBuffer(u)){if(m){if(u[0]==255&&u[1]==254)return oc(u.slice(2).toString("utf16le"));if(u[1]==254&&u[2]==255)return oc(_(u.slice(2).toString("binary")))}return u.toString("binary")}if(typeof TextDecoder<"u")try{if(m){if(u[0]==255&&u[1]==254)return oc(new TextDecoder("utf-16le").decode(u.slice(2)));if(u[0]==254&&u[1]==255)return oc(new TextDecoder("utf-16be").decode(u.slice(2)))}var p={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(u)&&(u=new Uint8Array(u)),new TextDecoder("latin1").decode(u).replace(/[]/g,function(A){return p[A]||A})}catch{}for(var x=[],N=0;N!=u.length;++N)x.push(String.fromCharCode(u[N]));return x.join("")}function Yn(u){if(typeof JSON<"u"&&!Array.isArray(u))return JSON.parse(JSON.stringify(u));if(typeof u!="object"||u==null)return u;if(u instanceof Date)return new Date(u.getTime());var m,p={};for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&(p[m]=Yn(u[m]));return p}function ha(u,m){for(var p="";p.length<m;)p+=u;return p}function no(x){var m=Number(x);if(!isNaN(m))return isFinite(m)?m:NaN;if(!/\d/.test(x))return m;var p=1,x=x.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return p*=100,""});return isNaN(m=Number(x))?(x=x.replace(/[(](.*)[)]/,function(N,A){return p=-p,A}),isNaN(m=Number(x))?m:m/p):m/p}var du=["january","february","march","april","may","june","july","august","september","october","november","december"];function ic(u){var m=new Date(u),p=new Date(NaN),x=m.getYear(),N=m.getMonth(),A=m.getDate();if(isNaN(A))return p;var S=u.toLowerCase();if(S.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(3<(S=S.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length&&du.indexOf(S)==-1)return p}else if(S.match(/[a-z]/))return p;return x<0||8099<x||(!(0<N||1<A)||x==101)&&u.match(/[^-0-9:,\/\\]/)?p:m}var rh,im=(rh="abacaba".split(/(:?b)/i).length==5,function(u,m,p){if(rh||typeof m=="string")return u.split(m);for(var x=u.split(m),N=[x[0]],A=1;A<x.length;++A)N.push(p),N.push(x[A]);return N});function nh(u){return u?u.content&&u.type?ro(u.content,!0):u.data?y(u.data):u.asNodeBuffer&&P?y(u.asNodeBuffer().toString("binary")):u.asBinary?y(u.asBinary()):u._data&&u._data.getContent?y(ro(Array.prototype.slice.call(u._data.getContent(),0))):null:null}function uv(u){if(!u)return null;if(u.data)return g(u.data);if(u.asNodeBuffer&&P)return u.asNodeBuffer();if(u._data&&u._data.getContent){var m=u._data.getContent();return typeof m=="string"?g(m):Array.prototype.slice.call(m)}return u.content&&u.type?u.content:null}function Po(u,m){for(var p=u.FullPaths||Pa(u.files),x=m.toLowerCase().replace(/[\/]/g,"\\"),N=x.replace(/\\/g,"/"),A=0;A<p.length;++A){var S=p[A].replace(/^Root Entry[\/]/,"").toLowerCase();if(x==S||N==S)return u.files?u.files[p[A]]:u.FileIndex[A]}return null}function om(u,m){if(u=Po(u,m),u==null)throw new Error("Cannot find file "+m+" in zip");return u}function Ns(u,m,p){if(!p)return((p=om(u,m))&&p.name.slice(-4)===".bin"?uv:nh)(p);if(!m)return null;try{return Ns(u,m)}catch{return null}}function cs(u,m,p){if(!p)return nh(om(u,m));if(!m)return null;try{return cs(u,m)}catch{return null}}function lm(u){for(var m=u.FullPaths||Pa(u.files),p=[],x=0;x<m.length;++x)m[x].slice(-1)!="/"&&p.push(m[x].replace(/^Root Entry[\/]/,""));return p.sort()}function Sn(u,m,p){if(u.FullPaths){if(typeof p=="string"){var x=(P?D:function(N){for(var A=[],S=0,E=N.length+250,F=M(N.length+255),R=0;R<N.length;++R){var z,G=N.charCodeAt(R);G<128?F[S++]=G:G<2048?(F[S++]=192|G>>6&31,F[S++]=128|63&G):55296<=G&&G<57344?(G=64+(1023&G),z=1023&N.charCodeAt(++R),F[S++]=240|G>>8&7,F[S++]=128|G>>2&63,F[S++]=128|z>>6&15|(3&G)<<4,F[S++]=128|63&z):(F[S++]=224|G>>12&15,F[S++]=128|G>>6&63,F[S++]=128|63&G),E<S&&(A.push(F.slice(0,S)),S=0,F=M(65535),E=65530)}return A.push(F.slice(0,S)),re(A)})(p);return rr.utils.cfb_add(u,m,x)}rr.utils.cfb_add(u,m,p)}else u.file(m,p)}function ah(){return rr.utils.cfb_new()}function e0(u,m){switch(m.type){case"base64":return rr.read(u,{type:"base64"});case"binary":return rr.read(u,{type:"binary"});case"buffer":case"array":return rr.read(u,{type:"buffer"})}throw new Error("Unrecognized type "+m.type)}function Qd(u,m){if(u.charAt(0)=="/")return u.slice(1);var p=m.split("/");m.slice(-1)!="/"&&p.pop();for(var x=u.split("/");x.length!==0;){var N=x.shift();N===".."?p.pop():N!=="."&&p.push(N)}return p.join("/")}var us=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,fu=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,D5=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Ws=us.match(D5)?D5:/<[^>]*>/g,Ty=/<\w*:/,ai=/<(\/?)\w+:/;function sn(u,m,p){for(var x={},N=0,A=0;N!==u.length&&(A=u.charCodeAt(N))!==32&&A!==10&&A!==13;++N);if(m||(x[0]=u.slice(0,N)),N===u.length)return x;var S,E,F,R=u.match(fu),z=0,G=0,K="",Z="";if(R)for(G=0;G!=R.length;++G){for(Z=R[G],A=0;A!=Z.length&&Z.charCodeAt(A)!==61;++A);for(K=Z.slice(0,A).trim();Z.charCodeAt(A+1)==32;)++A;for(E=(N=Z.charCodeAt(A+1))==34||N==39?1:0,S=Z.slice(A+1+E,Z.length-E),z=0;z!=K.length&&K.charCodeAt(z)!==58;++z);z===K.length?(x[K=0<K.indexOf("_")?K.slice(0,K.indexOf("_")):K]=S,p||(x[K.toLowerCase()]=S)):x[F=(z===5&&K.slice(0,5)==="xmlns"?"xmlns":"")+K.slice(z+1)]&&K.slice(z-3,z)=="ext"||(x[F]=S,p||(x[F.toLowerCase()]=S))}return x}function yi(u){return u.replace(ai,"<$1")}var sh,t0,Dl={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Hs=Qr(Dl),Mn=(sh=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t0=/_x([\da-fA-F]{4})_/gi,function u(m){var p=m+"",x=p.indexOf("<![CDATA[");return x==-1?p.replace(sh,function(N,A){return Dl[N]||String.fromCharCode(parseInt(A,-1<N.indexOf("x")?16:10))||N}).replace(t0,function(N,A){return String.fromCharCode(parseInt(A,16))}):(m=p.indexOf("]]>"),u(p.slice(0,x))+p.slice(x+9,m)+u(p.slice(m+3)))}),cm=/[&<>'"]/g,Py=/[\u0000-\u0008\u000b-\u001f]/g;function Na(u){return(u+"").replace(cm,function(m){return Hs[m]}).replace(Py,function(m){return"_x"+("000"+m.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Rc(u){return Na(u).replace(/ /g,"_x0020_")}var r0=/[\u0000-\u001f]/g;function um(u){return(u+"").replace(cm,function(m){return Hs[m]}).replace(/\n/g,"<br/>").replace(r0,function(m){return"&#x"+("000"+m.charCodeAt(0).toString(16)).slice(-4)+";"})}var ih,ef=(ih=/&#(\d+);/g,function(u){return u.replace(ih,Oy)});function Oy(u,m){return String.fromCharCode(parseInt(m,10))}function Ka(u){switch(u){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function n0(u){for(var m,p,x,N,A="",S=0,E=0;S<u.length;)(m=u.charCodeAt(S++))<128?A+=String.fromCharCode(m):(p=u.charCodeAt(S++),191<m&&m<224?(E=(31&m)<<6,E|=63&p,A+=String.fromCharCode(E)):(x=u.charCodeAt(S++),m<240?A+=String.fromCharCode((15&m)<<12|(63&p)<<6|63&x):(N=((7&m)<<18|(63&p)<<12|(63&x)<<6|63&(E=u.charCodeAt(S++)))-65536,A+=String.fromCharCode(55296+(N>>>10&1023)),A+=String.fromCharCode(56320+(1023&N)))));return A}function dm(u){for(var m,p,x=M(2*u.length),N=1,A=0,S=0,E=0;E<u.length;E+=N)N=1,(p=u.charCodeAt(E))<128?m=p:p<224?(m=64*(31&p)+(63&u.charCodeAt(E+1)),N=2):p<240?(m=4096*(15&p)+64*(63&u.charCodeAt(E+1))+(63&u.charCodeAt(E+2)),N=3):(N=4,m=262144*(7&p)+4096*(63&u.charCodeAt(E+1))+64*(63&u.charCodeAt(E+2))+(63&u.charCodeAt(E+3)),S=55296+((m-=65536)>>>10&1023),m=56320+(1023&m)),S!==0&&(x[A++]=255&S,x[A++]=S>>>8,S=0),x[A++]=m%256,x[A++]=m>>>8;return x.slice(0,A).toString("ucs2")}function a0(u){return D(u,"binary").toString("utf8")}var Rl,fm,hu,Rv="foo bar baz",va=P&&(a0(Rv)==n0(Rv)?a0:dm(Rv)==n0(Rv)&&dm)||n0,oc=P?function(u){return D(u,"utf8").toString("binary")}:function(u){for(var m,p=[],x=0,N=0;x<u.length;)switch(!0){case(N=u.charCodeAt(x++))<128:p.push(String.fromCharCode(N));break;case N<2048:p.push(String.fromCharCode(192+(N>>6))),p.push(String.fromCharCode(128+(63&N)));break;case(55296<=N&&N<57344):N-=55296,m=u.charCodeAt(x++)-56320+(N<<10),p.push(String.fromCharCode(240+(m>>18&7))),p.push(String.fromCharCode(144+(m>>12&63))),p.push(String.fromCharCode(128+(m>>6&63))),p.push(String.fromCharCode(128+(63&m)));break;default:p.push(String.fromCharCode(224+(N>>12))),p.push(String.fromCharCode(128+(N>>6&63))),p.push(String.fromCharCode(128+(63&N)))}return p.join("")},fn=(Rl={},function(u,m){var p=u+"|"+(m||"");return Rl[p]||(Rl[p]=new RegExp("<(?:\\w+:)?"+u+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+u+">",m||""))}),dv=(fm=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(u){return[new RegExp("&"+u[0]+";","ig"),u[1]]}),function(u){for(var m=u.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),p=0;p<fm.length;++p)m=m.replace(fm[p][0],fm[p][1]);return m}),Fy=(hu={},function(u){return hu[u]!==void 0?hu[u]:hu[u]=new RegExp("<(?:vt:)?"+u+">([\\s\\S]*?)</(?:vt:)?"+u+">","g")}),Dy=/<\/?(?:vt:)?variant>/g,sd=/<(?:vt:)([^>]*)>([\s\S]*)</;function mu(x,m){var p=sn(x),x=x.match(Fy(p.baseType))||[],N=[];if(x.length==p.size)return x.forEach(function(A){A=A.replace(Dy,"").match(sd),A&&N.push({v:va(A[2]),t:A[1]})}),N;if(m.WTF)throw new Error("unexpected vector length "+x.length+" != "+p.size);return N}var fv=/(^\s|\s$|\n)/;function bi(u,m){return"<"+u+(m.match(fv)?' xml:space="preserve"':"")+">"+m+"</"+u+">"}function pu(u){return Pa(u).map(function(m){return" "+m+'="'+u[m]+'"'}).join("")}function er(u,m,p){return"<"+u+(p!=null?pu(p):"")+(m!=null?(m.match(fv)?' xml:space="preserve"':"")+">"+m+"</"+u:"/")+">"}function id(u,m){try{return u.toISOString().replace(/\.\d*/,"")}catch(p){if(m)throw p}return""}function s0(u){if(P&&Buffer.isBuffer(u))return u.toString("utf8");if(typeof u=="string")return u;if(typeof Uint8Array<"u"&&u instanceof Uint8Array)return va(U(q(u)));throw new Error("Bad input format: expected Buffer or string")}var Ml=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,Gs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Mc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ao={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function i0(u){for(var m=[],p=0;p<u[0].length;++p)if(u[0][p])for(var x=0,N=u[0][p].length;x<N;x+=10240)m.push.apply(m,u[0][p].slice(x,x+10240));return m}function gu(u,m,p){for(var x=[],N=m;N<p;N+=2)x.push(String.fromCharCode(wr(u,N)));return x.join("").replace(H,"")}function hm(u,m,p){for(var x=[],N=m;N<m+p;++N)x.push(("0"+u[N].toString(16)).slice(-2));return x.join("")}function oh(u,m,p){for(var x=[],N=m;N<p;N++)x.push(String.fromCharCode(yr(u,N)));return x.join("")}function mm(u,m){var p=Ur(u,m);return 0<p?od(u,m+4,m+4+p-1):""}function tf(u,m){var p=Ur(u,m);return 0<p?od(u,m+4,m+4+p-1):""}function pm(u,m){var p=2*Ur(u,m);return 0<p?od(u,m+4,m+4+p-1):""}function o0(u,m){var p=Ur(u,m);return 0<p?lh(u,m+4,m+4+p):""}function l0(u,m){var p=Ur(u,m);return 0<p?od(u,m+4,m+4+p):""}function vu(u,m){for(var p=1-2*(u[m+7]>>>7),x=((127&u[m+7])<<4)+(u[m+6]>>>4&15),N=15&u[m+6],A=5;0<=A;--A)N=256*N+u[m+A];return x==2047?N==0?1/0*p:NaN:(x==0?x=-1022:(x-=1023,N+=Math.pow(2,52)),p*Math.pow(2,x-52)*N)}var xu=P?function(u){return 0<u[0].length&&Buffer.isBuffer(u[0][0])?Buffer.concat(u[0].map(function(m){return Buffer.isBuffer(m)?m:D(m)})):i0(u)}:i0,lh=P?function(u,m,p){return Buffer.isBuffer(u)?u.toString("utf16le",m,p).replace(H,""):gu(u,m,p)}:gu,rf=P?function(u,m,p){return Buffer.isBuffer(u)?u.toString("hex",m,m+p):hm(u,m,p)}:hm,od=P?function(u,m,p){return Buffer.isBuffer(u)?u.toString("utf8",m,p):oh(u,m,p)}:oh,W=mm,ge=tf,Me=pm,He=o0,et=l0,Nt=vu,Mt=function(u){return Array.isArray(u)||typeof Uint8Array<"u"&&u instanceof Uint8Array};P&&(W=function(u,m){if(!Buffer.isBuffer(u))return mm(u,m);var p=u.readUInt32LE(m);return 0<p?u.toString("utf8",m+4,m+4+p-1):""},ge=function(u,m){if(!Buffer.isBuffer(u))return tf(u,m);var p=u.readUInt32LE(m);return 0<p?u.toString("utf8",m+4,m+4+p-1):""},Me=function(u,m){if(!Buffer.isBuffer(u))return pm(u,m);var p=2*u.readUInt32LE(m);return u.toString("utf16le",m+4,m+4+p-1)},He=function(u,m){if(!Buffer.isBuffer(u))return o0(u,m);var p=u.readUInt32LE(m);return u.toString("utf16le",m+4,m+4+p)},et=function(u,m){if(!Buffer.isBuffer(u))return l0(u,m);var p=u.readUInt32LE(m);return u.toString("utf8",m+4,m+4+p)},Nt=function(u,m){return Buffer.isBuffer(u)?u.readDoubleLE(m):vu(u,m)},Mt=function(u){return Buffer.isBuffer(u)||Array.isArray(u)||typeof Uint8Array<"u"&&u instanceof Uint8Array}),a!==void 0&&(lh=function(u,m,p){return a.utils.decode(1200,u.slice(m,p)).replace(H,"")},od=function(u,m,p){return a.utils.decode(65001,u.slice(m,p))},W=function(u,m){var p=Ur(u,m);return 0<p?a.utils.decode(l,u.slice(m+4,m+4+p-1)):""},ge=function(u,m){var p=Ur(u,m);return 0<p?a.utils.decode(o,u.slice(m+4,m+4+p-1)):""},Me=function(u,m){var p=2*Ur(u,m);return 0<p?a.utils.decode(1200,u.slice(m+4,m+4+p-1)):""},He=function(u,m){var p=Ur(u,m);return 0<p?a.utils.decode(1200,u.slice(m+4,m+4+p)):""},et=function(u,m){var p=Ur(u,m);return 0<p?a.utils.decode(65001,u.slice(m+4,m+4+p)):""});var yr=function(u,m){return u[m]},wr=function(u,m){return 256*u[m+1]+u[m]},vn=function(u,m){return m=256*u[m+1]+u[m],m<32768?m:-1*(65535-m+1)},Ur=function(u,m){return u[m+3]*(1<<24)+(u[m+2]<<16)+(u[m+1]<<8)+u[m]},Vn=function(u,m){return u[m+3]<<24|u[m+2]<<16|u[m+1]<<8|u[m]},Ss=function(u,m){return u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3]};function ds(u,m){var p,x,N,A,S,E,F="",R=[];switch(m){case"dbcs":if(E=this.l,P&&Buffer.isBuffer(this))F=this.slice(this.l,this.l+2*u).toString("utf16le");else for(S=0;S<u;++S)F+=String.fromCharCode(wr(this,E)),E+=2;u*=2;break;case"utf8":F=od(this,this.l,this.l+u);break;case"utf16le":u*=2,F=lh(this,this.l,this.l+u);break;case"wstr":if(a===void 0)return ds.call(this,u,"dbcs");F=a.utils.decode(o,this.slice(this.l,this.l+2*u)),u*=2;break;case"lpstr-ansi":F=W(this,this.l),u=4+Ur(this,this.l);break;case"lpstr-cp":F=ge(this,this.l),u=4+Ur(this,this.l);break;case"lpwstr":F=Me(this,this.l),u=4+2*Ur(this,this.l);break;case"lpp4":u=4+Ur(this,this.l),F=He(this,this.l),2&u&&(u+=2);break;case"8lpp4":u=4+Ur(this,this.l),F=et(this,this.l),3&u&&(u+=4-(3&u));break;case"cstr":for(u=0,F="";(N=yr(this,this.l+u++))!==0;)R.push(j(N));F=R.join("");break;case"_wstr":for(u=0,F="";(N=wr(this,this.l+u))!==0;)R.push(j(N)),u+=2;u+=2,F=R.join("");break;case"dbcs-cont":for(F="",E=this.l,S=0;S<u;++S){if(this.lens&&this.lens.indexOf(E)!==-1)return N=yr(this,E),this.l=E+1,A=ds.call(this,u-S,N?"dbcs-cont":"sbcs-cont"),R.join("")+A;R.push(j(wr(this,E))),E+=2}F=R.join(""),u*=2;break;case"cpstr":if(a!==void 0){F=a.utils.decode(o,this.slice(this.l,this.l+u));break}case"sbcs-cont":for(F="",E=this.l,S=0;S!=u;++S){if(this.lens&&this.lens.indexOf(E)!==-1)return N=yr(this,E),this.l=E+1,A=ds.call(this,u-S,N?"dbcs-cont":"sbcs-cont"),R.join("")+A;R.push(j(yr(this,E))),E+=1}F=R.join("");break;default:switch(u){case 1:return p=yr(this,this.l),this.l++,p;case 2:return p=(m==="i"?vn:wr)(this,this.l),this.l+=2,p;case 4:case-4:return m==="i"||!(128&this[this.l+3])?(p=(0<u?Vn:Ss)(this,this.l),this.l+=4,p):(x=Ur(this,this.l),this.l+=4,x);case 8:case-8:if(m==="f")return x=u==8?Nt(this,this.l):Nt([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,x;u=8;case 16:F=rf(this,this.l,u)}}return this.l+=u,F}var es=function(u,m,p){u[p]=255&m,u[p+1]=m>>>8&255,u[p+2]=m>>>16&255,u[p+3]=m>>>24&255},wi=function(u,m,p){u[p]=255&m,u[p+1]=m>>8&255,u[p+2]=m>>16&255,u[p+3]=m>>24&255},si=function(u,m,p){u[p]=255&m,u[p+1]=m>>>8&255};function so(u,m,p){var x=0,N=0;if(p==="dbcs"){for(N=0;N!=m.length;++N)si(this,m.charCodeAt(N),this.l+2*N);x=2*m.length}else if(p==="sbcs"){if(a!==void 0&&l==874)for(N=0;N!=m.length;++N){var A=a.utils.encode(l,m.charAt(N));this[this.l+N]=A[0]}else for(m=m.replace(/[^\x00-\x7F]/g,"_"),N=0;N!=m.length;++N)this[this.l+N]=255&m.charCodeAt(N);x=m.length}else{if(p==="hex"){for(;N<u;++N)this[this.l++]=parseInt(m.slice(2*N,2*N+2),16)||0;return this}if(p==="utf16le"){for(var S=Math.min(this.l+u,this.length),N=0;N<Math.min(m.length,u);++N){var E=m.charCodeAt(N);this[this.l++]=255&E,this[this.l++]=E>>8}for(;this.l<S;)this[this.l++]=0;return this}switch(u){case 1:x=1,this[this.l]=255&m;break;case 2:x=2,this[this.l]=255&m,m>>>=8,this[this.l+1]=255&m;break;case 3:x=3,this[this.l]=255&m,m>>>=8,this[this.l+1]=255&m,m>>>=8,this[this.l+2]=255&m;break;case 4:x=4,es(this,m,this.l);break;case 8:if(x=8,p==="f"){(function(F,R,z){var G=(R<0||1/R==-1/0?1:0)<<7,K=0,Z=0,he=G?-R:R;isFinite(he)?he==0?K=Z=0:(K=Math.floor(Math.log(he)/Math.LN2),Z=he*Math.pow(2,52-K),K<=-1023&&(!isFinite(Z)||Z<Math.pow(2,52))?K=-1022:(Z-=Math.pow(2,52),K+=1023)):(K=2047,Z=isNaN(R)?26985:0);for(var ae=0;ae<=5;++ae,Z/=256)F[z+ae]=255&Z;F[z+6]=(15&K)<<4|15&Z,F[z+7]=K>>4|G})(this,m,this.l);break}case 16:break;case-4:x=4,wi(this,m,this.l)}}return this.l+=x,this}function yu(u,m){var p=rf(this,this.l,u.length>>1);if(p!==u)throw new Error(m+"Expected "+u+" saw "+p);this.l+=u.length>>1}function Ya(u,m){u.l=m,u.read_shift=ds,u.chk=yu,u.write_shift=so}function fs(u,m){u.l+=m}function bt(u){return u=M(u),Ya(u,0),u}function dl(u,m,p){if(u){Ya(u,u.l||0);for(var x,N=u.length,A=0;u.l<N;){128&(A=u.read_shift(1))&&(A=(127&A)+((127&u.read_shift(1))<<7));for(var S,E=ib[A]||ib[65535],F=127&(S=u.read_shift(1)),R=1;R<4&&128&S;++R)F+=(127&(S=u.read_shift(1)))<<7*R;x=u.l+F;var z=E.f&&E.f(u,F,p);if(u.l=x,m(z,E,A))return}}}function Ks(){function u(S){return Ya(S=bt(S),0),S}function m(){A&&(A.length>A.l&&((A=A.slice(0,A.l)).l=A.length),0<A.length&&x.push(A),A=null)}function p(S){return A&&S<A.length-A.l?A:(m(),A=u(Math.max(S+1,N)))}var x=[],N=P?256:2048,A=u(N);return{next:p,push:function(S){m(),(A=S).l==null&&(A.l=A.length),p(N)},end:function(){return m(),re(x)},_bufs:x}}function Rt(u,m,p,x){var N=+m;if(!isNaN(N)){m=1+(128<=N?1:0)+1,128<=(x=x||ib[N].p||(p||[]).length||0)&&++m,16384<=x&&++m,2097152<=x&&++m;var A=u.next(m);N<=127?A.write_shift(1,N):(A.write_shift(1,128+(127&N)),A.write_shift(1,N>>7));for(var S=0;S!=4;++S){if(!(128<=x)){A.write_shift(1,x);break}A.write_shift(1,128+(127&x)),x>>=7}0<x&&Mt(p)&&u.push(p)}}function Ic(u,m,p){var x=Yn(u);if(m.s?(x.cRel&&(x.c+=m.s.c),x.rRel&&(x.r+=m.s.r)):(x.cRel&&(x.c+=m.c),x.rRel&&(x.r+=m.r)),!p||p.biff<12){for(;256<=x.c;)x.c-=256;for(;65536<=x.r;)x.r-=65536}return x}function ld(u,m,p){return u=Yn(u),u.s=Ic(u.s,m.s,p),u.e=Ic(u.e,m.s,p),u}function Ys(u,m){if(u.cRel&&u.c<0)for(u=Yn(u);u.c<0;)u.c+=8<m?16384:256;if(u.rRel&&u.r<0)for(u=Yn(u);u.r<0;)u.r+=8<m?1048576:5<m?65536:16384;var p=en(u);return u.cRel||u.cRel==null||(p=p.replace(/^([A-Z])/,"$$$1")),p=!u.rRel&&u.rRel!=null?p.replace(/([A-Z]|^)(\d+)$/,"$1$$$2"):p}function cd(u,m){return u.s.r!=0||u.s.rRel||u.e.r!=(12<=m.biff?1048575:8<=m.biff?65536:16384)||u.e.rRel?u.s.c!=0||u.s.cRel||u.e.c!=(12<=m.biff?16383:255)||u.e.cRel?Ys(u.s,m.biff)+":"+Ys(u.e,m.biff):(u.s.rRel?"":"$")+ts(u.s.r)+":"+(u.e.rRel?"":"$")+ts(u.e.r):(u.s.cRel?"":"$")+qn(u.s.c)+":"+(u.e.cRel?"":"$")+qn(u.e.c)}function ud(u){return parseInt(u.replace(/\$(\d+)$/,"$1"),10)-1}function ts(u){return""+(u+1)}function ch(u){for(var m=u.replace(/^\$([A-Z])/,"$1"),p=0,x=0;x!==m.length;++x)p=26*p+m.charCodeAt(x)-64;return p-1}function qn(u){if(u<0)throw new Error("invalid column "+u);var m="";for(++u;u;u=Math.floor((u-1)/26))m=String.fromCharCode((u-1)%26+65)+m;return m}function Sa(u){for(var m=0,p=0,x=0;x<u.length;++x){var N=u.charCodeAt(x);48<=N&&N<=57?m=10*m+(N-48):65<=N&&N<=90&&(p=26*p+(N-64))}return{c:p-1,r:m-1}}function en(u){for(var m=u.c+1,p="";m;m=(m-1)/26|0)p=String.fromCharCode((m-1)%26+65)+p;return p+(u.r+1)}function Pi(u){var m=u.indexOf(":");return m==-1?{s:Sa(u),e:Sa(u)}:{s:Sa(u.slice(0,m)),e:Sa(u.slice(m+1))}}function tn(u,m){return m===void 0||typeof m=="number"?tn(u.s,u.e):(u=typeof u!="string"?en(u):u)==(m=typeof m!="string"?en(m):m)?u:u+":"+m}function Tn(u){for(var m={s:{c:0,r:0},e:{c:0,r:0}},A=0,p=0,x=0,N=u.length,A=0;p<N&&!((x=u.charCodeAt(p)-64)<1||26<x);++p)A=26*A+x;for(m.s.c=--A,A=0;p<N&&!((x=u.charCodeAt(p)-48)<0||9<x);++p)A=10*A+x;if(m.s.r=--A,p===N||x!=10)return m.e.c=m.s.c,m.e.r=m.s.r,m;for(++p,A=0;p!=N&&!((x=u.charCodeAt(p)-64)<1||26<x);++p)A=26*A+x;for(m.e.c=--A,A=0;p!=N&&!((x=u.charCodeAt(p)-48)<0||9<x);++p)A=10*A+x;return m.e.r=--A,m}function c0(u,m){var p=u.t=="d"&&m instanceof Date;if(u.z!=null)try{return u.w=Gr(u.z,p?Oa(m):m)}catch{}try{return u.w=Gr((u.XF||{}).numFmtId||(p?14:0),p?Oa(m):m)}catch{return""+m}}function fl(u,m,p){return u==null||u.t==null||u.t=="z"?"":u.w!==void 0?u.w:(u.t=="d"&&!u.z&&p&&p.dateNF&&(u.z=p.dateNF),u.t=="e"?Il[u.v]||u.v:c0(u,m??u.v))}function Jo(u,x){var p=x&&x.sheet?x.sheet:"Sheet1",x={};return x[p]=u,{SheetNames:[p],Sheets:x}}function nf(u,m,p){var x=p||{},N=u?Array.isArray(u):x.dense,A=u||(N?[]:{}),S=0,E=0;A&&x.origin!=null&&(typeof x.origin=="number"?S=x.origin:(S=(F=typeof x.origin=="string"?Sa(x.origin):x.origin).r,E=F.c),A["!ref"]||(A["!ref"]="A1:A1"));var F,R={s:{c:1e7,r:1e7},e:{c:0,r:0}};A["!ref"]&&(F=Tn(A["!ref"]),R.s.c=F.s.c,R.s.r=F.s.r,R.e.c=Math.max(R.e.c,F.e.c),R.e.r=Math.max(R.e.r,F.e.r),S==-1&&(R.e.r=S=F.e.r+1));for(var z=0;z!=m.length;++z)if(m[z]){if(!Array.isArray(m[z]))throw new Error("aoa_to_sheet expects an array of arrays");for(var G=0;G!=m[z].length;++G)if(m[z][G]!==void 0){var K={v:m[z][G]},Z=S+z,he=E+G;if(R.s.r>Z&&(R.s.r=Z),R.s.c>he&&(R.s.c=he),R.e.r<Z&&(R.e.r=Z),R.e.c<he&&(R.e.c=he),!m[z][G]||typeof m[z][G]!="object"||Array.isArray(m[z][G])||m[z][G]instanceof Date)if(Array.isArray(K.v)&&(K.f=m[z][G][1],K.v=K.v[0]),K.v===null)if(K.f)K.t="n";else if(x.nullError)K.t="e",K.v=0;else{if(!x.sheetStubs)continue;K.t="z"}else typeof K.v=="number"?K.t="n":typeof K.v=="boolean"?K.t="b":K.v instanceof Date?(K.z=x.dateNF||Y[14],x.cellDates?(K.t="d",K.w=Gr(K.z,Oa(K.v))):(K.t="n",K.v=Oa(K.v),K.w=Gr(K.z,K.v))):K.t="s";else K=m[z][G];N?(A[Z]||(A[Z]=[]),A[Z][he]&&A[Z][he].z&&(K.z=A[Z][he].z),A[Z][he]=K):(A[Z=en({c:he,r:Z})]&&A[Z].z&&(K.z=A[Z].z),A[Z]=K)}}return R.s.c<1e7&&(A["!ref"]=tn(R)),A}function Oi(u,m){return nf(null,u,m)}function Cs(u,m){return(m=m||bt(4)).write_shift(4,u),m}function As(u){var m=u.read_shift(4);return m===0?"":u.read_shift(m,"dbcs")}function rs(u,m){var p=!1;return m==null&&(p=!0,m=bt(4+2*u.length)),m.write_shift(4,u.length),0<u.length&&m.write_shift(0,u,"dbcs"),p?m.slice(0,m.l):m}function bu(u,m){var p,x=u.l,N=u.read_shift(1),S=As(u),A=[],S={t:S,h:S};if(1&N){for(var E=u.read_shift(4),F=0;F!=E;++F)A.push({ich:(p=u).read_shift(2),ifnt:p.read_shift(2)});S.r=A}else S.r=[{ich:0,ifnt:0}];return u.l=x+m,S}var u0=bu;function gm(u,m){var p,x=!1;return m==null&&(x=!0,m=bt(23+4*u.t.length)),m.write_shift(1,1),rs(u.t,m),m.write_shift(4,1),p={ich:0,ifnt:0},(u=(u=m)||bt(4)).write_shift(2,p.ich||0),u.write_shift(2,p.ifnt||0),x?m.slice(0,m.l):m}function xa(u){var m=u.read_shift(4),p=u.read_shift(2);return p+=u.read_shift(1)<<16,u.l++,{c:m,iStyleRef:p}}function wu(u,m){return(m=m??bt(8)).write_shift(-4,u.c),m.write_shift(3,u.iStyleRef||u.s),m.write_shift(1,0),m}function Oo(u){var m=u.read_shift(2);return m+=u.read_shift(1)<<16,u.l++,{c:-1,iStyleRef:m}}function Fo(u,m){return(m=m??bt(4)).write_shift(3,u.iStyleRef||u.s),m.write_shift(1,0),m}var d0=As,vm=rs;function uh(u){var m=u.read_shift(4);return m===0||m===4294967295?"":u.read_shift(m,"dbcs")}function af(u,m){var p=!1;return m==null&&(p=!0,m=bt(127)),m.write_shift(4,0<u.length?u.length:4294967295),0<u.length&&m.write_shift(0,u,"dbcs"),p?m.slice(0,m.l):m}var sf=As,_u=uh,ju=af;function dd(u){var m=u.slice(u.l,u.l+4),p=1&m[0],x=2&m[0];return u.l+=4,m=x==0?Nt([0,0,0,0,252&m[0],m[1],m[2],m[3]],0):Vn(m,0)>>2,p?m/100:m}function fd(u,m){m==null&&(m=bt(4));var p=0,x=0,N=100*u;if(u==(0|u)&&-(1<<29)<=u&&u<1<<29?x=1:N==(0|N)&&-(1<<29)<=N&&N<1<<29&&(p=x=1),!x)throw new Error("unsupported RkNumber "+u);m.write_shift(-4,((p?N:u)<<2)+(p+2))}function of(u){var m={s:{},e:{}};return m.s.r=u.read_shift(4),m.e.r=u.read_shift(4),m.s.c=u.read_shift(4),m.e.c=u.read_shift(4),m}var Fi=of,Zo=function(u,m){return(m=m||bt(16)).write_shift(4,u.s.r),m.write_shift(4,u.e.r),m.write_shift(4,u.s.c),m.write_shift(4,u.e.c),m};function wn(u){if(u.length-u.l<8)throw"XLS Xnum Buffer underflow";return u.read_shift(8,"f")}function ya(u,m){return(m||bt(8)).write_shift(8,u,"f")}function hs(u,m){if(m=m||bt(8),!u||u.auto)return m.write_shift(4,0),m.write_shift(4,0),m;u.index!=null?(m.write_shift(1,2),m.write_shift(1,u.index)):u.theme!=null?(m.write_shift(1,6),m.write_shift(1,u.theme)):(m.write_shift(1,5),m.write_shift(1,0));var p=u.tint||0;return 0<p?p*=32767:p<0&&(p*=32768),m.write_shift(2,p),u.rgb&&u.theme==null?(typeof(u=u.rgb||"FFFFFF")=="number"&&(u=("000000"+u.toString(16)).slice(-6)),m.write_shift(1,parseInt(u.slice(0,2),16)),m.write_shift(1,parseInt(u.slice(2,4),16)),m.write_shift(1,parseInt(u.slice(4,6),16)),m.write_shift(1,255)):(m.write_shift(2,0),m.write_shift(1,0),m.write_shift(1,0)),m}function ii(u,m){var p=u.read_shift(4);switch(p){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[u.read_shift(4)]||""}if(400<p)throw new Error("Unsupported Clipboard: "+p.toString(16));return u.l-=4,u.read_shift(0,m==1?"lpstr":"lpwstr")}var Lc=2,Di=3,dh=12,f0=81,e5=[80,f0],hv={1:{n:"CodePage",t:Lc},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:Di},5:{n:"LineCount",t:Di},6:{n:"ParagraphCount",t:Di},7:{n:"SlideCount",t:Di},8:{n:"NoteCount",t:Di},9:{n:"HiddenCount",t:Di},10:{n:"MultimediaClipCount",t:Di},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:Di},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:Di,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},mv={1:{n:"CodePage",t:Lc},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:Di},15:{n:"WordCount",t:Di},16:{n:"CharCount",t:Di},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:Di},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Ry={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},t5=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],xm=Yn([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(u){return[u>>16&255,u>>8&255,255&u]})),Il={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},My={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},pv={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},h0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function gv(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Iy(u,m){var p,x=function(F){for(var R=[],z=Pa(F),G=0;G!==z.length;++G)R[F[z[G]]]==null&&(R[F[z[G]]]=[]),R[F[z[G]]].push(z[G]);return R}(pv),N=[];N[N.length]=us,N[N.length]=er("Types",null,{xmlns:Gs.CT,"xmlns:xsd":Gs.xsd,"xmlns:xsi":Gs.xsi}),N=N.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(F){return er("Default",null,{Extension:F[0],ContentType:F[1]})}));function A(F){u[F]&&0<u[F].length&&(p=u[F][0],N[N.length]=er("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:h0[F][m.bookType]||h0[F].xlsx}))}function S(F){(u[F]||[]).forEach(function(R){N[N.length]=er("Override",null,{PartName:(R[0]=="/"?"":"/")+R,ContentType:h0[F][m.bookType]||h0[F].xlsx})})}function E(F){(u[F]||[]).forEach(function(R){N[N.length]=er("Override",null,{PartName:(R[0]=="/"?"":"/")+R,ContentType:x[F][0]})})}return A("workbooks"),S("sheets"),S("charts"),E("themes"),["strs","styles"].forEach(A),["coreprops","extprops","custprops"].forEach(E),E("vba"),E("comments"),E("threadedcomments"),E("drawings"),S("metadata"),E("people"),2<N.length&&(N[N.length]="</Types>",N[1]=N[1].replace("/>",">")),N.join("")}var Pn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ym(u){var m=u.lastIndexOf("/");return u.slice(0,m+1)+"_rels/"+u.slice(m+1)+".rels"}function bm(u,m){var p={"!id":{}};if(!u)return p;m.charAt(0)!=="/"&&(m="/"+m);var x={};return(u.match(Ws)||[]).forEach(function(N){var A,S=sn(N);S[0]==="<Relationship"&&((A={}).Type=S.Type,A.Target=S.Target,A.Id=S.Id,S.TargetMode&&(A.TargetMode=S.TargetMode),N=S.TargetMode==="External"?S.Target:Qd(S.Target,m),p[N]=A,x[S.Id]=A)}),p["!id"]=x,p}function lf(u){var m=[us,er("Relationships",null,{xmlns:Gs.RELS})];return Pa(u["!id"]).forEach(function(p){m[m.length]=er("Relationship",null,u["!id"][p])}),2<m.length&&(m[m.length]="</Relationships>",m[1]=m[1].replace("/>",">")),m.join("")}function ba(u,m,p,x,N,A){if(N=N||{},u["!id"]||(u["!id"]={}),u["!idx"]||(u["!idx"]=1),m<0)for(m=u["!idx"];u["!id"]["rId"+m];++m);if(u["!idx"]=m+1,N.Id="rId"+m,N.Type=x,N.Target=p,A?N.TargetMode=A:-1<[Pn.HLINK,Pn.XPATH,Pn.XMISS].indexOf(N.Type)&&(N.TargetMode="External"),u["!id"][N.Id])throw new Error("Cannot rewrite rId "+m);return u["!id"][N.Id]=N,u[("/"+N.Target).replace("//","/")]=N,m}var Ll="application/vnd.oasis.opendocument.spreadsheet";function $l(u,m,p){return['  <rdf:Description rdf:about="'+u+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(p||"odf")+"#"+m+`"/>
`,`  </rdf:Description>
`].join("")}function m0(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+s.version+"</meta:generator></office:meta></office:document-meta>"}var Qo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],r5=function(){for(var u=new Array(Qo.length),m=0;m<Qo.length;++m){var p=Qo[m],p="(?:"+p[0].slice(0,p[0].indexOf(":"))+":)"+p[0].slice(p[0].indexOf(":")+1);u[m]=new RegExp("<"+p+"[^>]*>([\\s\\S]*?)</"+p+">")}return u}();function p0(u){var m={};u=va(u);for(var p=0;p<Qo.length;++p){var x=Qo[p],N=u.match(r5[p]);N!=null&&0<N.length&&(m[x[1]]=Mn(N[1])),x[2]==="date"&&m[x[1]]&&(m[x[1]]=ca(m[x[1]]))}return m}function wm(u,m,p,x,N){N[u]==null&&m!=null&&m!==""&&(m=Na(N[u]=m),x[x.length]=p?er(u,m,p):bi(u,m))}function vv(u,m){var p=m||{},x=[us,er("cp:coreProperties",null,{"xmlns:cp":Gs.CORE_PROPS,"xmlns:dc":Gs.dc,"xmlns:dcterms":Gs.dcterms,"xmlns:dcmitype":Gs.dcmitype,"xmlns:xsi":Gs.xsi})],N={};if(!u&&!p.Props)return x.join("");u&&(u.CreatedDate!=null&&wm("dcterms:created",typeof u.CreatedDate=="string"?u.CreatedDate:id(u.CreatedDate,p.WTF),{"xsi:type":"dcterms:W3CDTF"},x,N),u.ModifiedDate!=null&&wm("dcterms:modified",typeof u.ModifiedDate=="string"?u.ModifiedDate:id(u.ModifiedDate,p.WTF),{"xsi:type":"dcterms:W3CDTF"},x,N));for(var A=0;A!=Qo.length;++A){var S=Qo[A],E=p.Props&&p.Props[S[1]]!=null?p.Props[S[1]]:u?u[S[1]]:null;E===!0?E="1":E===!1?E="0":typeof E=="number"&&(E=String(E)),E!=null&&wm(S[0],E,null,x,N)}return 2<x.length&&(x[x.length]="</cp:coreProperties>",x[1]=x[1].replace("/>",">")),x.join("")}var cf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],xv=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function yv(u,m,p,x){var N=[];if(typeof u=="string")N=mu(u,x);else for(var A=0;A<u.length;++A)N=N.concat(u[A].map(function(z){return{v:z}}));var S,E=typeof m=="string"?mu(m,x).map(function(z){return z.v}):m,F=0;if(0<E.length)for(var R=0;R!==N.length;R+=2){switch(S=+N[R+1].v,N[R].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":p.Worksheets=S,p.SheetNames=E.slice(F,F+S);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":p.NamedRanges=S,p.DefinedNames=E.slice(F,F+S);break;case"Charts":case"Diagramme":p.Chartsheets=S,p.ChartNames=E.slice(F,F+S)}F+=S}}function g0(u){var m=[],p=er;return(u=u||{}).Application="SheetJS",m[m.length]=us,m[m.length]=er("Properties",null,{xmlns:Gs.EXT_PROPS,"xmlns:vt":Gs.vt}),cf.forEach(function(x){if(u[x[1]]!==void 0){var N;switch(x[2]){case"string":N=Na(String(u[x[1]]));break;case"bool":N=u[x[1]]?"true":"false"}N!==void 0&&(m[m.length]=p(x[0],N))}}),m[m.length]=p("HeadingPairs",p("vt:vector",p("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+p("vt:variant",p("vt:i4",String(u.Worksheets))),{size:2,baseType:"variant"})),m[m.length]=p("TitlesOfParts",p("vt:vector",u.SheetNames.map(function(x){return"<vt:lpstr>"+Na(x)+"</vt:lpstr>"}).join(""),{size:u.Worksheets,baseType:"lpstr"})),2<m.length&&(m[m.length]="</Properties>",m[1]=m[1].replace("/>",">")),m.join("")}var Ly=/<[^>]+>[^<]*/g;function n5(u){var m=[us,er("Properties",null,{xmlns:Gs.CUST_PROPS,"xmlns:vt":Gs.vt})];if(!u)return m.join("");var p=1;return Pa(u).forEach(function(x){++p,m[m.length]=er("property",function(N,A){switch(typeof N){case"string":var S=er("vt:lpwstr",Na(N));return S=A?S.replace(/&quot;/g,"_x0022_"):S;case"number":return er((0|N)==N?"vt:i4":"vt:r8",Na(String(N)));case"boolean":return er("vt:bool",N?"true":"false")}if(N instanceof Date)return er("vt:filetime",id(N));throw new Error("Unable to serialize "+N)}(u[x],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:p,name:Na(x)})}),2<m.length&&(m[m.length]="</Properties>",m[1]=m[1].replace("/>",">")),m.join("")}var a5,bv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function $y(p){var m=p.read_shift(4),p=p.read_shift(4);return new Date(1e3*(p/1e7*Math.pow(2,32)+m/1e7-11644473600)).toISOString().replace(/\.000/,"")}function s5(u,m,p){var x=u.l,N=u.read_shift(0,"lpstr-cp");if(p)for(;u.l-x&3;)++u.l;return N}function i5(u,m,p){var x=u.read_shift(0,"lpwstr");return p&&(u.l+=4-(x.length+1&3)&3),x}function o5(u,m,p){return m===31?i5(u):s5(u,0,p)}function l5(u,m,p){return o5(u,m,p===!1?0:4)}function By(u){for(var m,p,x,N=u.read_shift(4),A=[],S=0;S<N/2;++S)A.push((x=p=void 0,p=(m=u).l,x=_v(m,f0),m[m.l]==0&&m[m.l+1]==0&&m.l-p&2&&(m.l+=2),[x,_v(m,Di)]));return A}function wv(u,m){for(var p=u.read_shift(4),x={},N=0;N!=p;++N){var A=u.read_shift(4),S=u.read_shift(4);x[A]=u.read_shift(S,m===1200?"utf16le":"utf8").replace(H,"").replace(X,"!"),m===1200&&S%2&&(u.l+=2)}return 3&u.l&&(u.l=u.l>>3<<2),x}function _m(u){var m=u.read_shift(4),p=u.slice(u.l,u.l+m);return u.l+=m,0<(3&m)&&(u.l+=4-(3&m)&3),p}function _v(u,m,p){var x,N,A=u.read_shift(2),S=p||{};if(u.l+=2,m!==dh&&A!==m&&e5.indexOf(m)===-1&&((65534&m)!=4126||(65534&A)!=4126))throw new Error("Expected type "+m+" saw "+A);switch(m===dh?A:m){case 2:return x=u.read_shift(2,"i"),S.raw||(u.l+=2),x;case 3:return x=u.read_shift(4,"i");case 11:return u.read_shift(4)!==0;case 19:return x=u.read_shift(4);case 30:return s5(u,0,4).replace(H,"");case 31:return i5(u);case 64:return $y(u);case 65:return _m(u);case 71:return(N={}).Size=(x=u).read_shift(4),x.l+=N.Size+3-(N.Size-1)%4,N;case 80:return l5(u,A,!S.raw).replace(H,"");case 81:return function(E,F){if(!F)throw new Error("VtUnalignedString must have positive length");return o5(E,F,0)}(u,A).replace(H,"");case 4108:return By(u);case 4126:case 4127:return(A==4127?function(E){for(var F=E.read_shift(4),R=[],z=0;z!=F;++z){var G=E.l;R[z]=E.read_shift(0,"lpwstr").replace(H,""),E.l-G&2&&(E.l+=2)}return R}:function(E){for(var F=E.read_shift(4),R=[],z=0;z!=F;++z)R[z]=E.read_shift(0,"lpstr-cp").replace(H,"");return R})(u);default:throw new Error("TypedPropertyValue unrecognized type "+m+" "+A)}}function c5(u,m){var p,x,N,A=bt(4),S=bt(4);switch(A.write_shift(4,u==80?31:u),u){case 3:S.write_shift(-4,m);break;case 5:(S=bt(8)).write_shift(8,m,"f");break;case 11:S.write_shift(4,m?1:0);break;case 64:x=(typeof(p=m)=="string"?new Date(Date.parse(p)):p).getTime()/1e3+11644473600,N=x%Math.pow(2,32),p=(x-N)/Math.pow(2,32),p*=1e7,0<(x=(N*=1e7)/Math.pow(2,32)|0)&&(N%=Math.pow(2,32),p+=x),(x=bt(8)).write_shift(4,N),x.write_shift(4,p),S=x;break;case 31:case 80:for((S=bt(4+2*(m.length+1)+(m.length%2?0:2))).write_shift(4,m.length+1),S.write_shift(0,m,"dbcs");S.l!=S.length;)S.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+u+" "+m)}return re([A,S])}function zy(u,m){for(var p=u.l,x=u.read_shift(4),N=u.read_shift(4),A=[],R=0,S=0,E=-1,F={},R=0;R!=N;++R){var z=u.read_shift(4),G=u.read_shift(4);A[R]=[z,G+p]}A.sort(function(me,oe){return me[1]-oe[1]});var K={};for(R=0;R!=N;++R){if(u.l!==A[R][1]){var Z=!0;if(0<R&&m)switch(m[A[R-1][0]].t){case 2:u.l+2===A[R][1]&&(u.l+=2,Z=!1);break;case 80:case 4108:u.l<=A[R][1]&&(u.l=A[R][1],Z=!1)}if((!m||R==0)&&u.l<=A[R][1]&&(Z=!1,u.l=A[R][1]),Z)throw new Error("Read Error: Expected address "+A[R][1]+" at "+u.l+" :"+R)}if(m){var he=m[A[R][0]];if(K[he.n]=_v(u,he.t,{raw:!0}),he.p==="version"&&(K[he.n]=String(K[he.n]>>16)+"."+("0000"+String(65535&K[he.n])).slice(-4)),he.n=="CodePage")switch(K[he.n]){case 0:K[he.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:h(S=K[he.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+K[he.n])}}else if(A[R][0]===1)S=K.CodePage=_v(u,Lc),h(S),E!==-1&&(be=u.l,u.l=A[E][1],F=wv(u,S),u.l=be);else if(A[R][0]===0)S!==0?F=wv(u,S):(E=R,u.l=A[R+1][1]);else{var ae,be=F[A[R][0]];switch(u[u.l]){case 65:u.l+=4,ae=_m(u);break;case 30:case 31:u.l+=4,ae=l5(u,u[u.l-4]).replace(/\u0000+$/,"");break;case 3:u.l+=4,ae=u.read_shift(4,"i");break;case 19:u.l+=4,ae=u.read_shift(4);break;case 5:u.l+=4,ae=u.read_shift(8,"f");break;case 11:u.l+=4,ae=Ca(u,4);break;case 64:u.l+=4,ae=ca($y(u));break;default:throw new Error("unparsed value: "+u[u.l])}K[be]=ae}}return u.l=p+x,K}var u5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function d5(u,m,p){var x,N,A,S,E=bt(8),F=[],R=[],z=8,G=0,K=bt(8),Z=bt(8);if(K.write_shift(4,2),K.write_shift(4,1200),Z.write_shift(4,1),R.push(K),F.push(Z),z+=8+K.length,!m){(Z=bt(8)).write_shift(4,0),F.unshift(Z);var he=[bt(4)];for(he[0].write_shift(4,u.length),G=0;G<u.length;++G){var ae=u[G][0];for((K=bt(8+2*(ae.length+1)+(ae.length%2?0:2))).write_shift(4,G+2),K.write_shift(4,ae.length+1),K.write_shift(0,ae,"dbcs");K.l!=K.length;)K.write_shift(1,0);he.push(K)}K=re(he),R.unshift(K),z+=8+K.length}for(G=0;G<u.length;++G)m&&!m[u[G][0]]||-1<u5.indexOf(u[G][0])||-1<xv.indexOf(u[G][0])||u[G][1]!=null&&(A=u[G][1],x=0,K=m?((S=p[x=+m[u[G][0]]]).p=="version"&&typeof A=="string"&&(A=(+(N=A.split("."))[0]<<16)+(+N[1]||0)),c5(S.t,A)):((S=function(me){switch(typeof me){case"boolean":return 11;case"number":return(0|me)==me?3:5;case"string":return 31;case"object":if(me instanceof Date)return 64}return-1}(A))==-1&&(S=31,A=String(A)),c5(S,A)),R.push(K),(Z=bt(8)).write_shift(4,m?x:2+G),F.push(Z),z+=8+K.length);for(var be=8*(R.length+1),G=0;G<R.length;++G)F[G].write_shift(4,be),be+=R[G].length;return E.write_shift(4,z),E.write_shift(4,R.length),re([E].concat(F).concat(R))}function f5(u,m,p){var x=u.content;if(!x)return{};Ya(x,0);var N,A=0;x.chk("feff","Byte Order: "),x.read_shift(2);var S=x.read_shift(4),E=x.read_shift(16);if(E!==rr.utils.consts.HEADER_CLSID&&E!==p)throw new Error("Bad PropertySet CLSID "+E);if((u=x.read_shift(4))!==1&&u!==2)throw new Error("Unrecognized #Sets: "+u);if(p=x.read_shift(16),E=x.read_shift(4),u===1&&E!==x.l)throw new Error("Length mismatch: "+E+" !== "+x.l);u===2&&(N=x.read_shift(16),A=x.read_shift(4));var F,R,z=zy(x,m),G={SystemIdentifier:S};for(F in z)G[F]=z[F];if(G.FMTID=p,u===1)return G;if(A-x.l==2&&(x.l+=2),x.l!==A)throw new Error("Length mismatch 2: "+x.l+" !== "+A);try{R=zy(x,null)}catch{}for(F in R)G[F]=R[F];return G.FMTID=[p,N],G}function h5(u,m,p,x,N,A){var S=bt(N?68:48),E=[S];return S.write_shift(2,65534),S.write_shift(2,0),S.write_shift(4,842412599),S.write_shift(16,rr.utils.consts.HEADER_CLSID,"hex"),S.write_shift(4,N?2:1),S.write_shift(16,m,"hex"),S.write_shift(4,N?68:48),x=d5(u,p,x),E.push(x),N&&(N=d5(N,null,null),S.write_shift(16,A,"hex"),S.write_shift(4,68+x.length),E.push(N)),re(E)}function el(u,m){return u.read_shift(m),null}function Ca(u,m){return u.read_shift(m)===1}function ks(u,m){return(m=m||bt(2)).write_shift(2,+!!u),m}function oi(u){return u.read_shift(2,"u")}function Bl(u,m){return(m=m||bt(2)).write_shift(2,u),m}function hd(u,m){return function(p,x,N){for(var A=[],S=p.l+x;p.l<S;)A.push(N(p,S-p.l));if(S!==p.l)throw new Error("Slurp error");return A}(u,m,oi)}function zl(u,m,p){return(p=p||bt(2)).write_shift(1,m=="e"?+u:+!!u),p.write_shift(1,m=="e"?1:0),p}function v0(u,m,p){var x=u.read_shift(p&&12<=p.biff?2:1),N="sbcs-cont",A=o;return p&&8<=p.biff&&(o=1200),p&&p.biff!=8?p.biff==12&&(N="wstr"):u.read_shift(1)&&(N="dbcs-cont"),2<=p.biff&&p.biff<=5&&(N="cpstr"),N=x?u.read_shift(x,N):"",o=A,N}function fh(u,m,p){if(p){if(2<=p.biff&&p.biff<=5)return u.read_shift(m,"cpstr");if(12<=p.biff)return u.read_shift(m,"dbcs-cont")}return u.read_shift(1)===0?u.read_shift(m,"sbcs-cont"):u.read_shift(m,"dbcs-cont")}function jm(u,m,p){var x=u.read_shift(p&&p.biff==2?1:2);return x===0?(u.l++,""):fh(u,x,p)}function uf(u,m,p){if(5<p.biff)return jm(u,0,p);var x=u.read_shift(1);return x===0?(u.l++,""):u.read_shift(x,p.biff<=4||!u.lens?"cpstr":"sbcs-cont")}function Uy(u,m,p){return(p=p||bt(3+2*u.length)).write_shift(2,u.length),p.write_shift(1,1),p.write_shift(31,u,"utf16le"),p}function m5(u){var m,p,x,N,A=u.read_shift(16);switch(A){case"e0c9ea79f9bace118c8200aa004ba90b":return p=(m=u).read_shift(4),x=m.l,N=!1,24<p&&(m.l+=p-24,m.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(N=!0),m.l=x),p=m.read_shift((N?p-24:p)>>1,"utf16le").replace(H,""),N&&(m.l+=24),p;case"0303000000000000c000000000000046":return function(S){for(var E=S.read_shift(2),F="";0<E--;)F+="../";var R=S.read_shift(0,"lpstr-ansi");if(S.l+=2,S.read_shift(2)!=57005)throw new Error("Bad FileMoniker");if(S.read_shift(4)===0)return F+R.replace(/\\/g,"/");if(R=S.read_shift(4),S.read_shift(2)!=3)throw new Error("Bad FileMoniker");return F+S.read_shift(R>>1,"utf16le").replace(H,"")}(u);default:throw new Error("Unsupported Moniker "+A)}}function jv(u){var m=u.read_shift(4);return 0<m?u.read_shift(m,"utf16le").replace(H,""):""}function x0(u,m){(m=m||bt(6+2*u.length)).write_shift(4,1+u.length);for(var p=0;p<u.length;++p)m.write_shift(2,u.charCodeAt(p));return m.write_shift(2,0),m}function y0(u){return[u.read_shift(1),u.read_shift(1),u.read_shift(1),u.read_shift(1)]}function Nm(u){return u=y0(u),u[3]=0,u}function lc(u){return{r:u.read_shift(2),c:u.read_shift(2),ixfe:u.read_shift(2)}}function df(u,m,p,x){return(x=x||bt(6)).write_shift(2,u),x.write_shift(2,m),x.write_shift(2,p||0),x}function p5(u){return[u.read_shift(2),dd(u)]}function b0(u){var m=u.read_shift(2),p=u.read_shift(2);return{s:{c:u.read_shift(2),r:m},e:{c:u.read_shift(2),r:p}}}function g5(u,m){return(m=m||bt(8)).write_shift(2,u.s.r),m.write_shift(2,u.e.r),m.write_shift(2,u.s.c),m.write_shift(2,u.e.c),m}function v5(u){var m=u.read_shift(2),p=u.read_shift(2);return{s:{c:u.read_shift(1),r:m},e:{c:u.read_shift(1),r:p}}}var FA=v5;function x5(u){u.l+=4;var m=u.read_shift(2),p=u.read_shift(2),x=u.read_shift(2);return u.l+=12,[p,m,x]}function Do(u){u.l+=2,u.l+=u.read_shift(2)}var DA={0:Do,4:Do,5:Do,6:Do,7:function(u){return u.l+=4,u.cf=u.read_shift(2),{}},8:Do,9:Do,10:Do,11:Do,12:Do,13:function(u){var m={};return u.l+=4,u.l+=16,m.fSharedNote=u.read_shift(2),u.l+=4,m},14:Do,15:Do,16:Do,17:Do,18:Do,19:Do,20:Do,21:x5};function w0(u,m){var p={BIFFVer:0,dt:0};switch(p.BIFFVer=u.read_shift(2),2<=(m-=2)&&(p.dt=u.read_shift(2),u.l-=2),p.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(6<m)throw new Error("Unexpected BIFF Ver "+p.BIFFVer)}return u.read_shift(m),p}function Sm(u,m,p){var x=1536,N=16;switch(p.bookType){case"biff8":break;case"biff5":x=1280,N=8;break;case"biff4":x=4,N=6;break;case"biff3":x=3,N=6;break;case"biff2":x=2,N=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}return p=bt(N),p.write_shift(2,x),p.write_shift(2,m),4<N&&p.write_shift(2,29282),6<N&&p.write_shift(2,1997),8<N&&(p.write_shift(2,49161),p.write_shift(2,1),p.write_shift(2,1798),p.write_shift(2,0)),p}function RA(u){var m=bt(8);m.write_shift(4,u.Count),m.write_shift(4,u.Unique);for(var p,x,N,A=[],S=0;S<u.length;++S)A[S]=(p=u[S],N=x=void 0,x=p.t||"",(N=bt(3)).write_shift(2,x.length),N.write_shift(1,1),(p=bt(2*x.length)).write_shift(2*x.length,x,"utf16le"),re([N,p]));var E=re([m].concat(A));return E.parts=[m.length].concat(A.map(function(F){return F.length})),E}function y5(u,m,p){var x=0;return p&&p.biff==2||(x=u.read_shift(2)),u=u.read_shift(2),p&&p.biff==2&&(x=1-(u>>15),u&=32767),[{Unsynced:1&x,DyZero:(2&x)>>1,ExAsc:(4&x)>>2,ExDsc:(8&x)>>3},u]}var Mv=uf;function Vy(u,A,S){var x=u.l+A,E=S.biff!=8&&S.biff?2:4,N=u.read_shift(E),A=u.read_shift(E),S=u.read_shift(2),E=u.read_shift(2);return u.l=x,{s:{r:N,c:S},e:{r:A,c:E}}}function O(u,m,p,x){return p=p&&p.biff==5,(x=x||bt(p?16:20)).write_shift(2,0),u.style?(x.write_shift(2,u.numFmtId||0),x.write_shift(2,65524)):(x.write_shift(2,u.numFmtId||0),x.write_shift(2,m<<4)),m=0,0<u.numFmtId&&p&&(m|=1024),x.write_shift(4,m),x.write_shift(4,0),p||x.write_shift(4,0),x.write_shift(2,0),x}function L(u,m,p){var x=lc(u);return p.biff!=2&&m!=9||++u.l,u=(m=u).read_shift(1),u=m.read_shift(1)===1?u:u===1,x.val=u,x.t=u===!0||u===!1?"b":"e",x}function J(u,m,p){return m===0?"":uf(u,0,p)}function ie(u,m,p){var x,N=u.read_shift(2),N={fBuiltIn:1&N,fWantAdvise:N>>>1&1,fWantPict:N>>>2&1,fOle:N>>>3&1,fOleLink:N>>>4&1,cf:N>>>5&1023,fIcon:N>>>15&1};return p.sbcch===14849&&(x=function(A,R,E){A.l+=4,R-=4;var F=A.l+R,R=v0(A,0,E);if((E=A.read_shift(2))!==(F-=A.l))throw new Error("Malformed AddinUdf: padding = "+F+" != "+E);return A.l+=E,R}(u,m-2,p)),N.body=x||u.read_shift(m-2),typeof x=="string"&&(N.Name=x),N}var ve=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function we(u,F,p){var x=u.l+F,N=u.read_shift(2),A=u.read_shift(1),S=u.read_shift(1),E=u.read_shift(p&&p.biff==2?1:2),F=0;return(!p||5<=p.biff)&&(p.biff!=5&&(u.l+=2),F=u.read_shift(2),p.biff==5&&(u.l+=2),u.l+=4),S=fh(u,S,p),32&N&&(S=ve[S.charCodeAt(0)]),N=x-u.l,p&&p.biff==2&&--N,{chKey:A,Name:S,itab:F,rgce:x!=u.l&&E!==0&&0<N?function(R,he,G,ae){var Z,he=R.l+he,ae=tb(R,ae,G);return he!==R.l&&(Z=eb(R,he-R.l,ae,G)),[ae,Z]}(u,N,p,E):[]}}function je(u,m,p){if(p.biff<8)return function(E,F){return E[E.l+1]==3&&E[E.l]++,F=v0(E,0,F),F.charCodeAt(0)==3?F.slice(1):F}(u,p);for(var x,N,A=[],m=u.l+m,S=u.read_shift(8<p.biff?4:2);S--!=0;)A.push((x=u,p.biff,N=8<(N=p).biff?4:2,[x.read_shift(N),x.read_shift(N,"i"),x.read_shift(N,"i")]));if(u.l!=m)throw new Error("Bad ExternSheet: "+u.l+" != "+m);return A}function Ae(u,m,p){var x=FA(u);switch(p.biff){case 2:u.l++,m-=7;break;case 3:case 4:u.l+=2,m-=8;break;default:u.l+=6,m-=12}return[x,function(N,A,S){var E,F=N.l+A,R=S.biff==2?1:2,z=N.read_shift(R);if(z==65535)return[[],fs(N,A-2)];var G=tb(N,z,S);return A!==z+R&&(E=eb(N,A-z-R,G,S)),N.l=F,[G,E]}(u,m,p)]}var Pe={8:function(u,m){var p=u.l+m;u.l+=10;var x=u.read_shift(2);return u.l+=4,u.l+=2,u.l+=2,u.l+=2,u.l+=4,m=u.read_shift(1),u.l+=m,u.l=p,{fmt:x}}};function Ie(u){var m=bt(24),p=Sa(u[0]);m.write_shift(2,p.r),m.write_shift(2,p.r),m.write_shift(2,p.c),m.write_shift(2,p.c);for(var x="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),N=0;N<16;++N)m.write_shift(1,parseInt(x[N],16));return re([m,function(A){var S=bt(512),E=0,F=A.Target,R=-1<(A=(F=F.slice(0,7)=="file://"?F.slice(7):F).indexOf("#"))?31:23;switch(F.charAt(0)){case"#":R=28;break;case".":R&=-3}S.write_shift(4,2),S.write_shift(4,R);for(var z=[8,6815827,6619237,4849780,83],E=0;E<z.length;++E)S.write_shift(4,z[E]);if(R==28)x0(F=F.slice(1),S);else if(2&R){for(z="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),E=0;E<z.length;++E)S.write_shift(1,parseInt(z[E],16));var G=-1<A?F.slice(0,A):F;for(S.write_shift(4,2*(G.length+1)),E=0;E<G.length;++E)S.write_shift(2,G.charCodeAt(E));S.write_shift(2,0),8&R&&x0(-1<A?F.slice(A+1):"",S)}else{for(z="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),E=0;E<z.length;++E)S.write_shift(1,parseInt(z[E],16));for(var K=0;F.slice(3*K,3*K+3)=="../"||F.slice(3*K,3*K+3)=="..\\";)++K;for(S.write_shift(2,K),S.write_shift(4,F.length-3*K+1),E=0;E<F.length-3*K;++E)S.write_shift(1,255&F.charCodeAt(E+3*K));for(S.write_shift(1,0),S.write_shift(2,65535),S.write_shift(2,57005),E=0;E<6;++E)S.write_shift(4,0)}return S.slice(0,S.l)}(u[1])])}function Xe(u,F,p){if(!p.cellStyles)return fs(u,F);var x=p&&12<=p.biff?4:2,N=u.read_shift(x),A=u.read_shift(x),S=u.read_shift(x),E=u.read_shift(x),F=u.read_shift(2);return x==2&&(u.l+=2),E={s:N,e:A,w:S,ixfe:E,flags:F},(5<=p.biff||!p.biff)&&(E.level=F>>8&7),E}var ot=lc,Le=hd,hk=jm,Ze,rt,_t,it=[2,3,48,49,131,139,140,245],jt=(Ze={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},rt=Qr({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127}),_t={B:8,C:250,L:1,D:8,"?":0,"":0},{to_workbook:function(u,m){try{return Jo(At(u,m),m)}catch(p){if(m&&m.WTF)throw p}return{SheetNames:[],Sheets:{}}},to_sheet:At,from_sheet:function(u,m){if(0<=+(m=m||{}).codepage&&h(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");for(var p=Ks(),x=(m=B5(u,{header:1,raw:!0,cellDates:!0}))[0],N=m.slice(1),A=u["!cols"]||[],R=0,S=0,E=0,F=1,R=0;R<x.length;++R)if(((A[R]||{}).DBF||{}).name)x[R]=A[R].DBF.name,++E;else if(x[R]!=null){if(++E,typeof x[R]=="number"&&(x[R]=x[R].toString(10)),typeof x[R]!="string")throw new Error("DBF Invalid column name "+x[R]+" |"+typeof x[R]+"|");if(x.indexOf(x[R])!==R){for(S=0;S<1024;++S)if(x.indexOf(x[R]+"_"+S)==-1){x[R]+="_"+S;break}}}var z=Tn(u["!ref"]),G=[],K=[],Z=[];for(R=0;R<=z.e.c-z.s.c;++R){for(var he="",ae="",be=0,me=[],S=0;S<N.length;++S)N[S][R]!=null&&me.push(N[S][R]);if(me.length!=0&&x[R]!=null){for(S=0;S<me.length;++S){switch(typeof me[S]){case"number":ae="B";break;case"string":ae="C";break;case"boolean":ae="L";break;case"object":ae=me[S]instanceof Date?"D":"C";break;default:ae="C"}be=Math.max(be,String(me[S]).length),he=he&&he!=ae?"C":ae}250<be&&(be=250),(ae=((A[R]||{}).DBF||{}).type)=="C"&&A[R].DBF.len>be&&(be=A[R].DBF.len),he=="B"&&ae=="N"&&(he="N",Z[R]=A[R].DBF.dec,be=A[R].DBF.len),K[R]=he=="C"||ae=="N"?be:_t[he]||0,F+=K[R],G[R]=he}else G[R]="?"}var oe,ye,Ne=p.next(32);for(Ne.write_shift(4,318902576),Ne.write_shift(4,N.length),Ne.write_shift(2,296+32*E),Ne.write_shift(2,F),R=0;R<4;++R)Ne.write_shift(4,0);for(Ne.write_shift(4,0|(+rt[l]||3)<<8),S=R=0;R<x.length;++R)x[R]!=null&&(oe=p.next(32),ye=(x[R].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11),oe.write_shift(1,ye,"sbcs"),oe.write_shift(1,G[R]=="?"?"C":G[R],"sbcs"),oe.write_shift(4,S),oe.write_shift(1,K[R]||_t[G[R]]||0),oe.write_shift(1,Z[R]||0),oe.write_shift(1,2),oe.write_shift(4,0),oe.write_shift(1,0),oe.write_shift(4,0),oe.write_shift(4,0),S+=K[R]||_t[G[R]]||0);var Ce=p.next(264);for(Ce.write_shift(4,13),R=0;R<65;++R)Ce.write_shift(4,0);for(R=0;R<N.length;++R){var We=p.next(F);for(We.write_shift(1,0),S=0;S<x.length;++S)if(x[S]!=null)switch(G[S]){case"L":We.write_shift(1,N[R][S]==null?63:N[R][S]?84:70);break;case"B":We.write_shift(8,N[R][S]||0,"f");break;case"N":var tt="0";for(typeof N[R][S]=="number"&&(tt=N[R][S].toFixed(Z[S]||0)),E=0;E<K[S]-tt.length;++E)We.write_shift(1,32);We.write_shift(1,tt,"sbcs");break;case"D":N[R][S]?(We.write_shift(4,("0000"+N[R][S].getFullYear()).slice(-4),"sbcs"),We.write_shift(2,("00"+(N[R][S].getMonth()+1)).slice(-2),"sbcs"),We.write_shift(2,("00"+N[R][S].getDate()).slice(-2),"sbcs")):We.write_shift(8,"00000000","sbcs");break;case"C":var Je=String(N[R][S]!=null?N[R][S]:"").slice(0,K[S]);for(We.write_shift(1,Je,"sbcs"),E=0;E<K[S]-Je.length;++E)We.write_shift(1,32)}}return p.next(1).write_shift(1,26),p.end()}});function At(u,m){return m=m||{},m.dateNF||(m.dateNF="yyyymmdd"),u=Oi(function(p,x){var N=[],A=M(1);switch(x.type){case"base64":A=B(T(p));break;case"binary":A=B(p);break;case"buffer":case"array":A=p}Ya(A,0);var S=A.read_shift(1),E=!!(136&S),F=!1,R=!1;switch(S){case 2:case 3:break;case 48:case 49:E=F=!0;break;case 131:case 139:break;case 140:R=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+S.toString(16))}var z=0,G=521;S==2&&(z=A.read_shift(2)),A.l+=3,1048576<(z=S!=2?A.read_shift(4):z)&&(z=1e6),S!=2&&(G=A.read_shift(2));var K=A.read_shift(2),Z=x.codepage||1252;S!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(Z=Ze[A[A.l]]),A.l+=1,A.l+=2),R&&(A.l+=36);for(var he=[],ae={},be=Math.min(A.length,S==2?521:G-10-(F?264:0)),me=R?32:11;A.l<be&&A[A.l]!=13;)switch((ae={}).name=a.utils.decode(Z,A.slice(A.l,A.l+me)).replace(/[\u0000\r\n].*$/g,""),A.l+=me,ae.type=String.fromCharCode(A.read_shift(1)),S==2||R||(ae.offset=A.read_shift(4)),ae.len=A.read_shift(1),S==2&&(ae.offset=A.read_shift(2)),ae.dec=A.read_shift(1),ae.name.length&&he.push(ae),S!=2&&(A.l+=R?13:14),ae.type){case"B":F&&ae.len==8||!x.WTF||console.log("Skipping "+ae.name+":"+ae.type);break;case"G":case"P":x.WTF&&console.log("Skipping "+ae.name+":"+ae.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ae.type)}if(A[A.l]!==13&&(A.l=G-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=G;var oe=0,ye=0;for(N[0]=[],ye=0;ye!=he.length;++ye)N[0][ye]=he[ye].name;for(;0<z--;)if(A[A.l]!==42)for(++A.l,N[++oe]=[],ye=ye=0;ye!=he.length;++ye){var Ne=A.slice(A.l,A.l+he[ye].len);A.l+=he[ye].len,Ya(Ne,0);var Ce=a.utils.decode(Z,Ne);switch(he[ye].type){case"C":Ce.trim().length&&(N[oe][ye]=Ce.replace(/\s+$/,""));break;case"D":Ce.length===8?N[oe][ye]=new Date(+Ce.slice(0,4),+Ce.slice(4,6)-1,+Ce.slice(6,8)):N[oe][ye]=Ce;break;case"F":N[oe][ye]=parseFloat(Ce.trim());break;case"+":case"I":N[oe][ye]=R?2147483648^Ne.read_shift(-4,"i"):Ne.read_shift(4,"i");break;case"L":switch(Ce.trim().toUpperCase()){case"Y":case"T":N[oe][ye]=!0;break;case"N":case"F":N[oe][ye]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Ce+"|")}break;case"M":if(!E)throw new Error("DBF Unexpected MEMO for type "+S.toString(16));N[oe][ye]="##MEMO##"+(R?parseInt(Ce.trim(),10):Ne.read_shift(4));break;case"N":(Ce=Ce.replace(/\u0000/g,"").trim())&&Ce!="."&&(N[oe][ye]=+Ce||0);break;case"@":N[oe][ye]=new Date(Ne.read_shift(-8,"f")-621356832e5);break;case"T":N[oe][ye]=new Date(864e5*(Ne.read_shift(4)-2440588)+Ne.read_shift(4));break;case"Y":N[oe][ye]=Ne.read_shift(4,"i")/1e4+Ne.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":N[oe][ye]=-Ne.read_shift(-8,"f");break;case"B":if(F&&he[ye].len==8){N[oe][ye]=Ne.read_shift(8,"f");break}case"G":case"P":Ne.l+=he[ye].len;break;case"0":if(he[ye].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+he[ye].type)}}else A.l+=K;if(S!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return x&&x.sheetRows&&(N=N.slice(0,x.sheetRows)),x.DBF=he,N}(u,m),m),u["!cols"]=m.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete m.DBF,u}var Ut,It,Vr,jr,On=(Ut={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},It=new RegExp("\x1BN("+Pa(Ut).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),Vr=function(u,m){return m=Ut[m],typeof m=="number"?w(m):m},jr=function(u,m,p){return p=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48,p==59?u:w(p)},Ut["|"]=254,{to_workbook:function(u,m){return Jo(ea(u,m),m)},to_sheet:ea,from_sheet:function(u,m){var p,x,N=["ID;PWXL;N;E"],A=[],S=Tn(u["!ref"]),E=Array.isArray(u),F=`\r
`;N.push("P;PGeneral"),N.push("F;P0;DG0G8;M255"),u["!cols"]&&(p=N,u["!cols"].forEach(function(K,Z){Z="F;W"+(Z+1)+" "+(Z+1)+" ",K.hidden?Z+="0":(typeof K.width!="number"||K.wpx||(K.wpx=km(K.width)),typeof K.wpx!="number"||K.wch||(K.wch=C0(K.wpx)),typeof K.wch=="number"&&(Z+=Math.round(K.wch))),Z.charAt(Z.length-1)!=" "&&p.push(Z)})),u["!rows"]&&(x=N,u["!rows"].forEach(function(K,Z){var he="F;";K.hidden?he+="M0;":K.hpt?he+="M"+20*K.hpt+";":K.hpx&&(he+="M"+20*Xy(K.hpx)+";"),2<he.length&&x.push(he+"R"+(Z+1))})),N.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var R=S.s.r;R<=S.e.r;++R)for(var z=S.s.c;z<=S.e.c;++z){var G=en({r:R,c:z});(G=E?(u[R]||[])[z]:u[G])&&(G.v!=null||G.f&&!G.F)&&A.push(function(K,Z,he){var ae="C;Y"+(Z+1)+";X"+(he+1)+";K";switch(K.t){case"n":ae+=K.v||0,K.f&&!K.F&&(ae+=";E"+qA(K.f,{r:Z,c:he}));break;case"b":ae+=K.v?"TRUE":"FALSE";break;case"e":ae+=K.w||K.v;break;case"d":ae+='"'+(K.w||K.v)+'"';break;case"s":ae+='"'+K.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return ae}(G,R,z))}return N.join(F)+F+A.join(F)+F+"E"+F}});function kr(K,m){var p,x,N=K.split(/[\n\r]+/),A=-1,S=-1,E=0,F=0,R=[],z=[],G=null,K={},Z=[],he=[],ae=0;for(0<=+m.codepage&&h(+m.codepage);E!==N.length;++E){ae=0;var be,me=N[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,jr).replace(It,Vr),oe=me.replace(/;;/g,"\0").split(";").map(function(qt){return qt.replace(/\u0000/g,";")}),ye=oe[0];if(0<me.length)switch(ye){case"ID":case"E":case"B":case"O":case"W":break;case"P":oe[1].charAt(0)=="P"&&z.push(me.slice(3).replace(/;;/g,";"));break;case"C":for(var Ne=!1,Ce=!1,We=!1,tt=!1,Je=-1,ct=-1,F=1;F<oe.length;++F)switch(oe[F].charAt(0)){case"A":break;case"X":S=parseInt(oe[F].slice(1))-1,Ce=!0;break;case"Y":for(A=parseInt(oe[F].slice(1))-1,Ce||(S=0),x=R.length;x<=A;++x)R[x]=[];break;case"K":(be=oe[F].slice(1)).charAt(0)==='"'?be=be.slice(1,be.length-1):be==="TRUE"?be=!0:be==="FALSE"?be=!1:isNaN(no(be))?isNaN(ic(be).getDate())||(be=ca(be)):(be=no(be),G!==null&&Mr(G)&&(be=ni(be))),a!==void 0&&typeof be=="string"&&(m||{}).type!="string"&&(m||{}).codepage&&(be=a.utils.decode(m.codepage,be)),Ne=!0;break;case"E":tt=!0;var kt=Fv(oe[F].slice(1),{r:A,c:S});R[A][S]=[R[A][S],kt];break;case"S":We=!0,R[A][S]=[R[A][S],"S5S"];break;case"G":break;case"R":Je=parseInt(oe[F].slice(1))-1;break;case"C":ct=parseInt(oe[F].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+me)}if(Ne&&(R[A][S]&&R[A][S].length==2?R[A][S][0]=be:R[A][S]=be,G=null),We){if(tt)throw new Error("SYLK shared formula cannot have own formula");var Ft=-1<Je&&R[Je][ct];if(!Ft||!Ft[1])throw new Error("SYLK shared formula cannot find base");R[A][S][1]=SI(Ft[1],{r:A-Je,c:S-ct})}break;case"F":var ht=0;for(F=1;F<oe.length;++F)switch(oe[F].charAt(0)){case"X":S=parseInt(oe[F].slice(1))-1,++ht;break;case"Y":for(A=parseInt(oe[F].slice(1))-1,x=R.length;x<=A;++x)R[x]=[];break;case"M":ae=parseInt(oe[F].slice(1))/20;break;case"F":case"G":break;case"P":G=z[parseInt(oe[F].slice(1))];break;case"S":case"D":case"N":break;case"W":for(p=oe[F].slice(1).split(" "),x=parseInt(p[0],10);x<=parseInt(p[1],10);++x)ae=parseInt(p[2],10),he[x-1]=ae===0?{hidden:!0}:{wch:ae},Tm(he[x-1]);break;case"C":he[S=parseInt(oe[F].slice(1))-1]||(he[S]={});break;case"R":Z[A=parseInt(oe[F].slice(1))-1]||(Z[A]={}),0<ae?(Z[A].hpt=ae,Z[A].hpx=Pv(ae)):ae===0&&(Z[A].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+me)}ht<1&&(G=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+me)}}return 0<Z.length&&(K["!rows"]=Z),0<he.length&&(K["!cols"]=he),[R=m&&m.sheetRows?R.slice(0,m.sheetRows):R,K]}function ea(x,m){var p=function(S,E){switch(E.type){case"base64":return kr(T(S),E);case"binary":return kr(S,E);case"buffer":return kr(P&&Buffer.isBuffer(S)?S.toString("binary"):U(S),E);case"array":return kr(ro(S),E)}throw new Error("Unrecognized type "+E.type)}(x,m),x=p[0],N=p[1],A=Oi(x,m);return Pa(N).forEach(function(S){A[S]=N[S]}),A}var li={to_workbook:function(u,m){return Jo(Or(u,m),m)},to_sheet:Or,from_sheet:function(u){var m=[],p=Tn(u["!ref"]),x=Array.isArray(u);sr(m,"TABLE",0,1,"sheetjs"),sr(m,"VECTORS",0,p.e.r-p.s.r+1,""),sr(m,"TUPLES",0,p.e.c-p.s.c+1,""),sr(m,"DATA",0,0,"");for(var N=p.s.r;N<=p.e.r;++N){Fa(m,-1,0,"BOT");for(var A=p.s.c;A<=p.e.c;++A){var S,E=en({r:N,c:A});if(S=x?(u[N]||[])[A]:u[E])switch(S.t){case"n":var F=S.w;(F=!F&&S.v!=null?S.v:F)==null?S.f&&!S.F?Fa(m,1,0,"="+S.f):Fa(m,1,0,""):Fa(m,0,F,"V");break;case"b":Fa(m,0,S.v?1:0,S.v?"TRUE":"FALSE");break;case"s":Fa(m,1,0,isNaN(S.v)?S.v:'="'+S.v+'"');break;case"d":S.w||(S.w=Gr(S.z||Y[14],Oa(ca(S.v)))),Fa(m,0,S.w,"V");break;default:Fa(m,1,0,"")}else Fa(m,1,0,"")}}return Fa(m,-1,0,"EOD"),m.join(`\r
`)}};function Cn(u,m){for(var p=u.split(`
`),x=-1,N=-1,A=0,S=[];A!==p.length;++A)if(p[A].trim()!=="BOT"){if(!(x<0)){for(var E=p[A].trim().split(","),F=E[0],R=E[1],z=p[++A]||"";1&(z.match(/["]/g)||[]).length&&A<p.length-1;)z+=`
`+p[++A];switch(z=z.trim(),+F){case-1:if(z==="BOT"){S[++x]=[],N=0;continue}if(z!=="EOD")throw new Error("Unrecognized DIF special command "+z);break;case 0:z==="TRUE"?S[x][N]=!0:z==="FALSE"?S[x][N]=!1:isNaN(no(R))?isNaN(ic(R).getDate())?S[x][N]=R:S[x][N]=ca(R):S[x][N]=no(R),++N;break;case 1:z=(z=z.slice(1,z.length-1)).replace(/""/g,'"'),z&&z.match(/^=".*"$/)&&(z=z.slice(2,-1)),S[x][N++]=z!==""?z:null}if(z==="EOD")break}}else S[++x]=[],N=0;return S=m&&m.sheetRows?S.slice(0,m.sheetRows):S}function Or(u,m){return Oi(function(p,x){switch(x.type){case"base64":return Cn(T(p),x);case"binary":return Cn(p,x);case"buffer":return Cn(P&&Buffer.isBuffer(p)?p.toString("binary"):U(p),x);case"array":return Cn(ro(p),x)}throw new Error("Unrecognized type "+x.type)}(u,m),m)}function sr(u,m,p,x,N){u.push(m),u.push(p+","+x),u.push('"'+N.replace(/"/g,'""')+'"')}function Fa(u,m,p,x){u.push(m+","+p),u.push(m==1?'"'+x.replace(/"/g,'""')+'"':x)}var An,ta,ns,Ri,Ro=(An=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),ta=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,ns=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),Ri="--SocialCalcSpreadsheetControlSave--",{to_workbook:function(u,m){return Jo(io(u,m),m)},to_sheet:io,from_sheet:function(u){return[An,ta,ns,ta,function(m){if(!m||!m["!ref"])return"";for(var p,x,N=[],A=[],S=Pi(m["!ref"]),E=Array.isArray(m),F=S.s.r;F<=S.e.r;++F)for(var R=S.s.c;R<=S.e.c;++R)if(x=en({r:F,c:R}),(p=E?(m[F]||[])[R]:m[x])&&p.v!=null&&p.t!=="z"){switch(A=["cell",x,"t"],p.t){case"s":case"str":A.push(ms(p.v));break;case"n":p.f?(A[2]="vtf",A[3]="n",A[4]=p.v,A[5]=ms(p.f)):(A[2]="v",A[3]=p.v);break;case"b":A[2]="vt"+(p.f?"f":"c"),A[3]="nl",A[4]=p.v?"1":"0",A[5]=ms(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var z=Oa(ca(p.v));A[2]="vtc",A[3]="nd",A[4]=""+z,A[5]=p.w||Gr(p.z||Y[14],z);break;case"e":continue}N.push(A.join(":"))}return N.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),N.push("valueformat:1:text-wiki"),N.join(`
`)}(u),Ri].join(`
`)}});function ms(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function io(u,m){return Oi(function(p,x){for(var N,A=p.split(`
`),S=-1,E=0,F=[];E!==A.length;++E){var R=A[E].trim().split(":");if(R[0]==="cell"){var z=Sa(R[1]);if(F.length<=z.r)for(S=F.length;S<=z.r;++S)F[S]||(F[S]=[]);switch(S=z.r,N=z.c,R[2]){case"t":F[S][N]=R[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`);break;case"v":F[S][N]=+R[3];break;case"vtf":var G=R[R.length-1];case"vtc":R[3]==="nl"?F[S][N]=!!+R[4]:F[S][N]=+R[4],R[2]=="vtf"&&(F[S][N]=[F[S][N],G])}}}return F=x&&x.sheetRows?F.slice(0,x.sheetRows):F}(u,m),m)}var oo,Is,Hn=(oo={44:",",9:"	",59:";",124:"|"},Is={44:3,9:2,59:1,124:0},{to_workbook:function(u,m){return Jo(cc(u,m),m)},to_sheet:cc,from_sheet:function(u){for(var m=[],p=Tn(u["!ref"]),x=Array.isArray(u),N=p.s.r;N<=p.e.r;++N){for(var A=[],S=p.s.c;S<=p.e.c;++S){var E=en({r:N,c:S});if((E=x?(u[N]||[])[S]:u[E])&&E.v!=null){for(var F=(E.w||(fl(E),E.w)||"").slice(0,10);F.length<10;)F+=" ";A.push(F+(S===0?" ":""))}else A.push("          ")}m.push(A.join(""))}return m.join(`
`)}});function Da(u,m,p,x,N){N.raw?m[p][x]=u:u===""||(u==="TRUE"?m[p][x]=!0:u==="FALSE"?m[p][x]=!1:isNaN(no(u))?isNaN(ic(u).getDate())?m[p][x]=u:m[p][x]=ca(u):m[p][x]=no(u))}function Es(u){for(var m={},p=!1,x=0,N=0;x<u.length;++x)(N=u.charCodeAt(x))==34?p=!p:!p&&N in oo&&(m[N]=(m[N]||0)+1);for(x in N=[],m)Object.prototype.hasOwnProperty.call(m,x)&&N.push([m[x],x]);if(!N.length)for(x in m=Is)Object.prototype.hasOwnProperty.call(m,x)&&N.push([m[x],x]);return N.sort(function(A,S){return A[0]-S[0]||Is[A[1]]-Is[S[1]]}),oo[N.pop()[1]]||44}function $a(u,x){var p=x||{},x="",N=p.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(x=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(x=u.charAt(4),u=u.slice(6)):x=Es(u.slice(0,1024)):x=p&&p.FS?p.FS:Es(u.slice(0,1024));var S=0,E=0,F=0,R=0,z=0,G=x.charCodeAt(0),K=!1,Z=0,he=u.charCodeAt(0);u=u.replace(/\r\n/gm,`
`);var ae=p.dateNF!=null?(x=(x=typeof(x=p.dateNF)=="number"?Y[x]:x).replace(ss,"(\\d+)"),new RegExp("^"+x+"$")):null;function be(){var me,oe=u.slice(R,z),ye={};if((oe=oe.charAt(0)=='"'&&oe.charAt(oe.length-1)=='"'?oe.slice(1,-1).replace(/""/g,'"'):oe).length===0?ye.t="z":p.raw||oe.trim().length===0?(ye.t="s",ye.v=oe):oe.charCodeAt(0)==61?oe.charCodeAt(1)==34&&oe.charCodeAt(oe.length-1)==34?(ye.t="s",ye.v=oe.slice(2,-1).replace(/""/g,'"')):oe.length!=1?(ye.t="n",ye.f=oe.slice(1)):(ye.t="s",ye.v=oe):oe=="TRUE"?(ye.t="b",ye.v=!0):oe=="FALSE"?(ye.t="b",ye.v=!1):isNaN(F=no(oe))?!isNaN(ic(oe).getDate())||ae&&oe.match(ae)?(ye.z=p.dateNF||Y[14],me=0,ae&&oe.match(ae)&&(oe=function(Ne,Ce){var We=-1,tt=-1,Je=-1,ct=-1,kt=-1,Ft=-1;(Ne.match(ss)||[]).forEach(function(qt,fr){var or=parseInt(Ce[fr+1],10);switch(qt.toLowerCase().charAt(0)){case"y":We=or;break;case"d":Je=or;break;case"h":ct=or;break;case"s":Ft=or;break;case"m":0<=ct?kt=or:tt=or}}),0<=Ft&&kt==-1&&0<=tt&&(kt=tt,tt=-1);var ht=(""+(0<=We?We:new Date().getFullYear())).slice(-4)+"-"+("00"+(1<=tt?tt:1)).slice(-2)+"-"+("00"+(1<=Je?Je:1)).slice(-2);return(ht=ht.length==7?"0"+ht:ht).length==8&&(ht="20"+ht),Ne=("00"+(0<=ct?ct:0)).slice(-2)+":"+("00"+(0<=kt?kt:0)).slice(-2)+":"+("00"+(0<=Ft?Ft:0)).slice(-2),ct==-1&&kt==-1&&Ft==-1?ht:We==-1&&tt==-1&&Je==-1?Ne:ht+"T"+Ne}(p.dateNF,oe.match(ae)||[]),me=1),p.cellDates?(ye.t="d",ye.v=ca(oe,me)):(ye.t="n",ye.v=Oa(ca(oe,me))),p.cellText!==!1&&(ye.w=Gr(ye.z,ye.v instanceof Date?Oa(ye.v):ye.v)),p.cellNF||delete ye.z):(ye.t="s",ye.v=oe):(!(ye.t="n")!==p.cellText&&(ye.w=oe),ye.v=F),ye.t=="z"||(p.dense?(N[S]||(N[S]=[]),N[S][E]=ye):N[en({c:E,r:S})]=ye),R=z+1,he=u.charCodeAt(R),A.e.c<E&&(A.e.c=E),A.e.r<S&&(A.e.r=S),Z!=G)return E=0,++S,p.sheetRows&&p.sheetRows<=S?1:void 0;++E}e:for(;z<u.length;++z)switch(Z=u.charCodeAt(z)){case 34:he===34&&(K=!K);break;case G:case 10:case 13:if(!K&&be())break e}return 0<z-R&&be(),N["!ref"]=tn(A),N}function lo(u,m){return!m||!m.PRN||m.FS||u.slice(0,4)=="sep="||0<=u.indexOf("	")||0<=u.indexOf(",")||0<=u.indexOf(";")?$a(u,m):Oi(function(p,x){var N=x||{},A=[];if(!p||p.length===0)return A;for(var S=p.split(/[\r\n]/),E=S.length-1;0<=E&&S[E].length===0;)--E;for(var F=10,R=0,z=0;z<=E;++z)(R=S[z].indexOf(" "))==-1?R=S[z].length:R++,F=Math.max(F,R);for(z=0;z<=E;++z){A[z]=[];var G=0;for(Da(S[z].slice(0,F).trim(),A,z,G,N),G=1;G<=(S[z].length-F)/10+1;++G)Da(S[z].slice(F+10*(G-1),F+10*G).trim(),A,z,G,N)}return A=N.sheetRows?A.slice(0,N.sheetRows):A}(u,m),m)}function cc(u,m){var p="",x=m.type=="string"?[0,0,0,0]:ik(u,m);switch(m.type){case"base64":p=T(u);break;case"binary":p=u;break;case"buffer":p=m.codepage==65001?u.toString("utf8"):m.codepage&&a!==void 0?a.utils.decode(m.codepage,u):P&&Buffer.isBuffer(u)?u.toString("binary"):U(u);break;case"array":p=ro(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?p=va(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=va(p):m.type=="binary"&&a!==void 0&&m.codepage&&(p=a.utils.decode(m.codepage,a.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?Ro.to_sheet(m.type=="string"?p:va(p),m):lo(p,m)}var ps,Mo,Ba,ci,_i=(ps={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Mo=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""],Ba={0:{n:"BOF",f:oi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(u,m,p){var x={s:{c:0,r:0},e:{c:0,r:0}};return m==8&&p.qpro?(x.s.c=u.read_shift(1),u.l++,x.s.r=u.read_shift(2),x.e.c=u.read_shift(1),u.l++,x.e.r=u.read_shift(2)):(x.s.c=u.read_shift(2),x.s.r=u.read_shift(2),m==12&&p.qpro&&(u.l+=2),x.e.c=u.read_shift(2),x.e.r=u.read_shift(2),m==12&&p.qpro&&(u.l+=2),x.s.c==65535&&(x.s.c=x.e.c=x.s.r=x.e.r=0)),x}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(u,m,p){return(p=Lo(u,0,p))[1].v=u.read_shift(2,"i"),p}},14:{n:"NUMBER",f:function(u,m,p){return(p=Lo(u,0,p))[1].v=u.read_shift(8,"f"),p}},15:{n:"LABEL",f:rl},16:{n:"FORMULA",f:function(u,m,p){var x=u.l+m;return(m=Lo(u,0,p))[1].v=u.read_shift(8,"f"),p.qpro?u.l=x:(x=u.read_shift(2),function(N,A){Ya(N,0);for(var S=[],E=0,F="",R="",z="",G="";N.l<N.length;){var K=N[N.l++];switch(K){case 0:S.push(N.read_shift(8,"f"));break;case 1:R=Mi(A[0].c,N.read_shift(2),!0),F=Mi(A[0].r,N.read_shift(2),!1),S.push(R+F);break;case 2:var Z=Mi(A[0].c,N.read_shift(2),!0),he=Mi(A[0].r,N.read_shift(2),!1);R=Mi(A[0].c,N.read_shift(2),!0),F=Mi(A[0].r,N.read_shift(2),!1),S.push(Z+he+":"+R+F);break;case 3:if(N.l<N.length)return console.error("WK1 premature formula end");break;case 4:S.push("("+S.pop()+")");break;case 5:S.push(N.read_shift(2));break;case 6:for(var ae="";K=N[N.l++];)ae+=String.fromCharCode(K);S.push('"'+ae.replace(/"/g,'""')+'"');break;case 8:S.push("-"+S.pop());break;case 23:S.push("+"+S.pop());break;case 22:S.push("NOT("+S.pop()+")");break;case 20:case 21:G=S.pop(),z=S.pop(),S.push(["AND","OR"][K-20]+"("+z+","+G+")");break;default:if(K<32&&Mo[K])G=S.pop(),z=S.pop(),S.push(z+Mo[K]+G);else{if(!ps[K])return K<=7?console.error("WK1 invalid opcode "+K.toString(16)):K<=24?console.error("WK1 unsupported op "+K.toString(16)):K<=30?console.error("WK1 invalid opcode "+K.toString(16)):K<=115?console.error("WK1 unsupported function opcode "+K.toString(16)):console.error("WK1 unrecognized opcode "+K.toString(16));if((E=(E=ps[K][1])==69?N[N.l++]:E)>S.length)return console.error("WK1 bad formula parse 0x"+K.toString(16)+":|"+S.join("|")+"|");he=S.slice(-E),S.length-=E,S.push(ps[K][0]+"("+he.join(",")+")")}}}S.length==1?A[1].f=""+S[0]:console.error("WK1 bad formula parse |"+S.join("|")+"|")}(u.slice(u.l,u.l+x),m),u.l+=x),m}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:rl},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ff},222:{n:"SHEETNAMELP",f:function(u,m){var p=u[u.l++];m-1<p&&(p=m-1);for(var x="";x.length<p;)x+=String.fromCharCode(u[u.l++]);return x}},65535:{n:""}},ci={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(u,m){var p=Ra(u);return p[1].t="s",p[1].v=u.read_shift(m-4,"cstr"),p}},23:{n:"NUMBER17",f:hl},24:{n:"NUMBER18",f:function(u,m){var p=Ra(u);p[1].v=u.read_shift(2);var x=p[1].v>>1;if(1&p[1].v)switch(7&x){case 0:x=5e3*(x>>3);break;case 1:x=500*(x>>3);break;case 2:x=(x>>3)/20;break;case 3:x=(x>>3)/200;break;case 4:x=(x>>3)/2e3;break;case 5:x=(x>>3)/2e4;break;case 6:x=(x>>3)/16;break;case 7:x=(x>>3)/64}return p[1].v=x,p}},25:{n:"FORMULA19",f:function(u,m){var p=hl(u);return u.l+=m-14,p}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(u,m){for(var p={},x=u.l+m;u.l<x;){var N=u.read_shift(2);if(N==14e3){for(p[N]=[0,""],p[N][0]=u.read_shift(2);u[u.l];)p[N][1]+=String.fromCharCode(u[u.l]),u.l++;u.l++}}return p}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(x,m){var p=Ra(x),x=x.read_shift(4);return p[1].v=x>>6,p}},38:{n:"??"},39:{n:"NUMBER27",f:uc},40:{n:"FORMULA28",f:function(u,m){var p=uc(u);return u.l+=m-10,p}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ff},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(u,m,p){if(p.qpro&&!(m<21))return p=u.read_shift(1),u.l+=17,u.l+=1,u.l+=2,[p,u.read_shift(m-21,"cstr")]}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},{sheet_to_wk1:function(u,m){var p=m||{};if(0<=+p.codepage&&h(+p.codepage),p.type=="string")throw new Error("Cannot write WK1 to JS string");var x=Ks(),N=Tn(u["!ref"]),A=Array.isArray(u),S=[];ir(x,0,(m=1030,(p=bt(2)).write_shift(2,m),p)),ir(x,6,(m=N,(p=bt(8)).write_shift(2,m.s.c),p.write_shift(2,m.s.r),p.write_shift(2,m.e.c),p.write_shift(2,m.e.r),p));for(var E,F,R,z,G=Math.min(N.e.r,8191),K=N.s.r;K<=G;++K)for(var Z=ts(K),he=N.s.c;he<=N.e.c;++he){K===N.s.r&&(S[he]=qn(he));var ae=S[he]+Z,ae=A?(u[K]||[])[he]:u[ae];ae&&ae.t!="z"&&(ae.t=="n"?(0|ae.v)==ae.v&&-32768<=ae.v&&ae.v<=32767?ir(x,13,(E=K,F=he,R=ae.v,z=void 0,(z=bt(7)).write_shift(1,255),z.write_shift(2,F),z.write_shift(2,E),z.write_shift(2,R,"i"),z)):ir(x,14,(F=K,E=he,R=ae.v,z=void 0,(z=bt(13)).write_shift(1,255),z.write_shift(2,E),z.write_shift(2,F),z.write_shift(8,R,"f"),z)):ir(x,15,function(be,me,oe){var ye=bt(7+oe.length);ye.write_shift(1,255),ye.write_shift(2,me),ye.write_shift(2,be),ye.write_shift(1,39);for(var Ne=0;Ne<ye.length;++Ne){var Ce=oe.charCodeAt(Ne);ye.write_shift(1,128<=Ce?95:Ce)}return ye.write_shift(1,0),ye}(K,he,fl(ae).slice(0,239))))}return ir(x,1),x.end()},book_to_wk3:function(u,m){if(0<=+(m=m||{}).codepage&&h(+m.codepage),m.type=="string")throw new Error("Cannot write WK3 to JS string");var p=Ks();ir(p,0,function(ae){var be=bt(26);be.write_shift(2,4096),be.write_shift(2,4),be.write_shift(4,0);for(var me=0,oe=0,ye=0,Ne=0;Ne<ae.SheetNames.length;++Ne){var Ce=ae.SheetNames[Ne],Ce=ae.Sheets[Ce];Ce&&Ce["!ref"]&&(++ye,Ce=Pi(Ce["!ref"]),me<Ce.e.r&&(me=Ce.e.r),oe<Ce.e.c&&(oe=Ce.e.c))}return 8191<me&&(me=8191),be.write_shift(2,me),be.write_shift(1,ye),be.write_shift(1,oe),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(1,1),be.write_shift(1,2),be.write_shift(4,0),be.write_shift(4,0),be}(u));for(var x=0,N=0;x<u.SheetNames.length;++x)(u.Sheets[u.SheetNames[x]]||{})["!ref"]&&ir(p,27,function(ae,be){var me=bt(5+ae.length);me.write_shift(2,14e3),me.write_shift(2,be);for(var oe=0;oe<ae.length;++oe){var ye=ae.charCodeAt(oe);me[me.l++]=127<ye?95:ye}return me[me.l++]=0,me}(u.SheetNames[x],N++));for(var A=0,x=0;x<u.SheetNames.length;++x){var S=u.Sheets[u.SheetNames[x]];if(S&&S["!ref"]){for(var E=Tn(S["!ref"]),F=Array.isArray(S),R=[],z=Math.min(E.e.r,8191),G=E.s.r;G<=z;++G)for(var K=ts(G),Z=E.s.c;Z<=E.e.c;++Z){G===E.s.r&&(R[Z]=qn(Z));var he=R[Z]+K,he=F?(S[G]||[])[Z]:S[he];he&&he.t!="z"&&(he.t=="n"?ir(p,23,function(We,Je,tt,ye){var Ne=bt(14);if(Ne.write_shift(2,We),Ne.write_shift(1,tt),Ne.write_shift(1,Je),ye==0)return Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(2,65535),Ne;var Ce=0,We=0,tt=0,Je=0;return ye<0&&(Ce=1,ye=-ye),We=0|Math.log2(ye),ye/=Math.pow(2,We-31),!(2147483648&(Je=ye>>>0))&&(++We,Je=(ye/=2)>>>0),ye-=Je,Je|=2147483648,Je>>>=0,ye*=Math.pow(2,32),tt=ye>>>0,Ne.write_shift(4,tt),Ne.write_shift(4,Je),We+=16383+(Ce?32768:0),Ne.write_shift(2,We),Ne}(G,Z,A,he.v)):ir(p,22,function(be,me,oe,ye){var Ne=bt(6+ye.length);Ne.write_shift(2,be),Ne.write_shift(1,oe),Ne.write_shift(1,me),Ne.write_shift(1,39);for(var Ce=0;Ce<ye.length;++Ce){var We=ye.charCodeAt(Ce);Ne.write_shift(1,128<=We?95:We)}return Ne.write_shift(1,0),Ne}(G,Z,A,fl(he).slice(0,239))))}++A}}return ir(p,1),p.end()},to_workbook:function(u,m){switch(m.type){case"base64":return tl(B(T(u)),m);case"binary":return tl(B(u),m);case"buffer":case"array":return tl(u,m)}throw"Unsupported type "+m.type}});function Io(u,m,p){if(u){Ya(u,u.l||0);for(var x=p.Enum||Ba;u.l<u.length;){var N=u.read_shift(2),A=x[N]||x[65535],E=u.read_shift(2),S=u.l+E,E=A.f&&A.f(u,E,p);if(u.l=S,m(E,A,N))return}}}function tl(u,m){if(!u)return u;var p=m||{},x=p.dense?[]:{},N="Sheet1",A="",S=0,E={},F=[],R=[],z={s:{r:0,c:0},e:{r:0,c:0}},G=p.sheetRows||0;if(u[2]==0&&(u[3]==8||u[3]==9)&&16<=u.length&&u[14]==5&&u[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(u[2]==2)p.Enum=Ba,Io(u,function(ae,be,me){switch(me){case 0:4096<=(p.vers=ae)&&(p.qpro=!0);break;case 6:z=ae;break;case 204:ae&&(A=ae);break;case 222:A=ae;break;case 15:case 51:p.qpro||(ae[1].v=ae[1].v.slice(1));case 13:case 14:case 16:me==14&&(112&ae[2])==112&&1<(15&ae[2])&&(15&ae[2])<15&&(ae[1].z=p.dateNF||Y[14],p.cellDates&&(ae[1].t="d",ae[1].v=ni(ae[1].v))),p.qpro&&ae[3]>S&&(x["!ref"]=tn(z),E[N]=x,F.push(N),x=p.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},S=ae[3],N=A||"Sheet"+(S+1),A="");var oe=p.dense?(x[ae[0].r]||[])[ae[0].c]:x[en(ae[0])];if(oe){oe.t=ae[1].t,oe.v=ae[1].v,ae[1].z!=null&&(oe.z=ae[1].z),ae[1].f!=null&&(oe.f=ae[1].f);break}p.dense?(x[ae[0].r]||(x[ae[0].r]=[]),x[ae[0].r][ae[0].c]=ae[1]):x[en(ae[0])]=ae[1]}},p);else{if(u[2]!=26&&u[2]!=14)throw new Error("Unrecognized LOTUS BOF "+u[2]);p.Enum=ci,u[2]==14&&(p.qpro=!0,u.l=0),Io(u,function(ae,be,me){switch(me){case 204:N=ae;break;case 22:ae[1].v=ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ae[3]>S&&(x["!ref"]=tn(z),E[N]=x,F.push(N),x=p.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},S=ae[3],N="Sheet"+(S+1)),0<G&&ae[0].r>=G)break;p.dense?(x[ae[0].r]||(x[ae[0].r]=[]),x[ae[0].r][ae[0].c]=ae[1]):x[en(ae[0])]=ae[1],z.e.c<ae[0].c&&(z.e.c=ae[0].c),z.e.r<ae[0].r&&(z.e.r=ae[0].r);break;case 27:ae[14e3]&&(R[ae[14e3][0]]=ae[14e3][1]);break;case 1537:R[ae[0]]=ae[1],ae[0]==S&&(N=ae[1])}},p)}if(x["!ref"]=tn(z),E[A||N]=x,F.push(A||N),!R.length)return{SheetNames:F,Sheets:E};for(var K={},Z=[],he=0;he<R.length;++he)E[F[he]]?(Z.push(R[he]||F[he]),K[R[he]]=E[R[he]]||E[F[he]]):(Z.push(R[he]),K[R[he]]={"!ref":"A1"});return{SheetNames:Z,Sheets:K}}function Lo(u,m,p){var x=[{c:0,r:0},{t:"n",v:0},0,0];return p.qpro&&p.vers!=20768?(x[0].c=u.read_shift(1),x[3]=u.read_shift(1),x[0].r=u.read_shift(2),u.l+=2):(x[2]=u.read_shift(1),x[0].c=u.read_shift(2),x[0].r=u.read_shift(2)),x}function rl(u,N,p){var x=u.l+N,N=Lo(u,0,p);return N[1].t="s",p.vers!=20768?(p.qpro&&u.l++,N[1].v=u.read_shift(x-u.l,"cstr"),N):(u.l++,x=u.read_shift(1),N[1].v=u.read_shift(x,"utf8"),N)}function Mi(u,m,p){var x=32768&m;return(x?"":"$")+(p?qn:ts)(m=(x?u:0)+(8192<=(m&=-32769)?m-16384:m))}function Ra(u){var m=[{c:0,r:0},{t:"n",v:0},0];return m[0].r=u.read_shift(2),m[3]=u[u.l++],m[0].c=u[u.l++],m}function hl(A,m){var p=Ra(A),x=A.read_shift(4),N=A.read_shift(4);if((S=A.read_shift(2))==65535)return x===0&&N===3221225472?(p[1].t="e",p[1].v=15):x===0&&N===3489660928?(p[1].t="e",p[1].v=42):p[1].v=0,p;var A=32768&S,S=(32767&S)-16446;return p[1].v=(1-2*A)*(N*Math.pow(2,32+S)+x*Math.pow(2,S)),p}function uc(x,m){var p=Ra(x),x=x.read_shift(8,"f");return p[1].v=x,p}function ff(u,m){return u[u.l+m-1]==0?u.read_shift(m,"cstr"):""}var Nu,Ii,_0,Nv,Sv=(Nu=fn("t"),Ii=fn("rPr"),_0=/<(?:\w+:)?r>/g,Nv=/<\/(?:\w+:)?r>/,function(u){return u.replace(_0,"").split(Nv).map(j0).filter(function(m){return m.v})});function j0(u){var m=u.match(Nu);return m?(m={t:"s",v:Mn(m[1])},u=u.match(Ii),u&&(m.s=function(p){var x={},N=p.match(Ws),A=0,S=!1;if(N)for(;A!=N.length;++A){var E=sn(N[A]);switch(E[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!E.val)break;case"<shadow>":case"<shadow/>":x.shadow=1;break;case"</shadow>":break;case"<charset":if(E.val=="1")break;x.cp=d[parseInt(E.val,10)];break;case"<outline":if(!E.val)break;case"<outline>":case"<outline/>":x.outline=1;break;case"</outline>":break;case"<rFont":x.name=E.val;break;case"<sz":x.sz=E.val;break;case"<strike":if(!E.val)break;case"<strike>":case"<strike/>":x.strike=1;break;case"</strike>":break;case"<u":if(!E.val)break;switch(E.val){case"double":x.uval="double";break;case"singleAccounting":x.uval="single-accounting";break;case"doubleAccounting":x.uval="double-accounting"}case"<u>":case"<u/>":x.u=1;break;case"</u>":break;case"<b":if(E.val=="0")break;case"<b>":case"<b/>":x.b=1;break;case"</b>":break;case"<i":if(E.val=="0")break;case"<i>":case"<i/>":x.i=1;break;case"</i>":break;case"<color":E.rgb&&(x.color=E.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":x.family=E.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":x.valign=E.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":S=!0;break;case"</ext>":S=!1;break;default:if(E[0].charCodeAt(1)!==47&&!S)throw new Error("Unrecognized rich format "+E[0])}}return x}(u[1])),m):{t:"s",v:""}}var b5,MA=(b5=/(\r\n|\n)/g,function(u){return u.map(qy).join("")});function qy(u){var m,p,x,N=[[],u.v,[]];return u.v?(u.s&&(m=u.s,p=N[0],x=N[2],u=[],m.u&&u.push("text-decoration: underline;"),m.uval&&u.push("text-underline-style:"+m.uval+";"),m.sz&&u.push("font-size:"+m.sz+"pt;"),m.outline&&u.push("text-effect: outline;"),m.shadow&&u.push("text-shadow: auto;"),p.push('<span style="'+u.join("")+'">'),m.b&&(p.push("<b>"),x.push("</b>")),m.i&&(p.push("<i>"),x.push("</i>")),m.strike&&(p.push("<s>"),x.push("</s>")),(u=m.valign||"")=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(p.push("<"+u+">"),x.push("</"+u+">")),x.push("</span>")),N[0].join("")+N[1].replace(b5,"<br/>")+N[2].join("")):""}var hf=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,IA=/<(?:\w+:)?r>/,LA=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Wy(u,x){var p=!x||x.cellHTML,x={};return u?(u.match(/^\s*<(?:\w+:)?t[^>]*>/)?(x.t=Mn(va(u.slice(u.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),x.r=va(u),p&&(x.h=um(x.t))):u.match(IA)&&(x.r=va(u),x.t=Mn(va((u.replace(LA,"").match(hf)||[]).join("").replace(Ws,""))),p&&(x.h=MA(Sv(x.r)))),x):{t:""}}var w5=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Cv=/<(?:\w+:)?(?:si|sstItem)>/g,_5=/<\/(?:\w+:)?(?:si|sstItem)>/,j5=/^\s|\s$|[\t\n\r]/;function N0(u,m){if(!m.bookSST)return"";var p=[us];p[p.length]=er("sst",null,{xmlns:Mc[0],count:u.Count,uniqueCount:u.Unique});for(var x,N,A=0;A!=u.length;++A)u[A]!=null&&(N="<si>",(x=u[A]).r?N+=x.r:(N+="<t",x.t||(x.t=""),x.t.match(j5)&&(N+=' xml:space="preserve"'),N+=">"+Na(x.t)+"</t>"),N+="</si>",p[p.length]=N);return 2<p.length&&(p[p.length]="</sst>",p[1]=p[1].replace("/>",">")),p.join("")}var Hy=function(u,m){var p=!1;return m==null&&(p=!0,m=bt(15+4*u.t.length)),m.write_shift(1,0),rs(u.t,m),p?m.slice(0,m.l):m};function S0(u){var m,p,x=Ks();Rt(x,159,(m=u,(p=p||bt(8)).write_shift(4,m.Count),p.write_shift(4,m.Unique),p));for(var N=0;N<u.length;++N)Rt(x,19,Hy(u[N]));return Rt(x,160),x.end()}function Gy(u){if(a!==void 0)return a.utils.encode(l,u);for(var m=[],p=u.split(""),x=0;x<p.length;++x)m[x]=p[x].charCodeAt(0);return m}function md(u,m){var p={};return p.Major=u.read_shift(2),p.Minor=u.read_shift(2),4<=m&&(u.l+=m-4),p}function Av(u){var m=[];u.l+=4;for(var p=u.read_shift(4);0<p--;)m.push(function(x){for(var A=x.read_shift(4),N=x.l+A-4,A={},S=x.read_shift(4),E=[];0<S--;)E.push({t:x.read_shift(4),v:x.read_shift(0,"lpp4")});if(A.name=x.read_shift(0,"lpp4"),A.comps=E,x.l!=N)throw new Error("Bad DataSpaceMapEntry: "+x.l+" != "+N);return A}(u));return m}function N5(u){var m,p,p=(p={},(m=u).read_shift(4),m.l+=4,p.id=m.read_shift(0,"lpp4"),p.name=m.read_shift(0,"lpp4"),p.R=md(m,4),p.U=md(m,4),p.W=md(m,4),p);if(p.ename=u.read_shift(0,"8lpp4"),p.blksz=u.read_shift(4),p.cmode=u.read_shift(4),u.read_shift(4)!=4)throw new Error("Bad !Primary record");return p}function kv(u,p){var p=u.l+p,x={};x.Flags=63&u.read_shift(4),u.l+=4,x.AlgID=u.read_shift(4);var N=!1;switch(x.AlgID){case 26126:case 26127:case 26128:N=x.Flags==36;break;case 26625:N=x.Flags==4;break;case 0:N=x.Flags==16||x.Flags==4||x.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+x.AlgID}if(!N)throw new Error("Encryption Flags/AlgID mismatch");return x.AlgIDHash=u.read_shift(4),x.KeySize=u.read_shift(4),x.ProviderType=u.read_shift(4),u.l+=8,x.CSPName=u.read_shift(p-u.l>>1,"utf16le"),u.l=p,x}function pd(u,x){var p={},x=u.l+x;return u.l+=4,p.Salt=u.slice(u.l,u.l+16),u.l+=16,p.Verifier=u.slice(u.l,u.l+16),u.l+=16,u.read_shift(4),p.VerifierHash=u.slice(u.l,x),u.l=x,p}function S5(u){var m=md(u);switch(m.Minor){case 2:return[m.Minor,function(N){if((63&N.read_shift(4))!=36)throw new Error("EncryptionInfo mismatch");var x=N.read_shift(4),x=kv(N,x),N=pd(N,N.length-N.l);return{t:"Std",h:x,v:N}}(u)];case 3:return[m.Minor,function(){throw new Error("File is password-protected: ECMA-376 Extensible")}()];case 4:return[m.Minor,function(N){var x=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];N.l+=4;var N=N.read_shift(N.length-N.l,"utf8"),A={};return N.replace(Ws,function(S){var E=sn(S);switch(yi(E[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":x.forEach(function(F){A[F]=E[F]});break;case"<dataIntegrity":A.encryptedHmacKey=E.encryptedHmacKey,A.encryptedHmacValue=E.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":A.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":A.uri=E.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":A.encs.push(E);break;default:throw E[0]}}),A}(u)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+m.Minor)}function Ev(u){var m,p=0,x=Gy(u),N=x.length+1,A=M(N);for(A[0]=x.length,m=1;m!=N;++m)A[m]=x[m-1];for(m=N-1;0<=m;--m)p=((16384&p?1:0)|p<<1&32767)^A[m];return 52811^p}var Ky,Yy,hh,C5=(Ky=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],Yy=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],hh=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],function(u){for(var m,p,x=Gy(u),N=function(F){for(var R=Yy[F.length-1],z=104,G=F.length-1;0<=G;--G)for(var K=F[G],Z=0;Z!=7;++Z)64&K&&(R^=hh[z]),K*=2,--z;return R}(x),A=x.length,S=M(16),E=0;E!=16;++E)S[E]=0;for((1&A)==1&&(m=N>>8,S[A]=mh(Ky[0],m),--A,m=255&N,u=x[x.length-1],S[A]=mh(u,m));0<A;)m=N>>8,S[--A]=mh(x[A],m),m=255&N,S[--A]=mh(x[A],m);for(p=(A=15)-x.length;0<p;)m=N>>8,S[A]=mh(Ky[p],m),--p,m=255&N,S[--A]=mh(x[A],m),--A,--p;return S});function mh(u,m){return 255&((m=u^m)/2|128*m)}var $A=function(u){var m=0,p=C5(u);return function(x){return x=function(N,A,S,E,F){var R,z;for(F=F||A,E=E||C5(N),R=0;R!=A.length;++R)z=A[R],z=255&((z^=E[S])>>5|z<<3),F[R]=z,++S;return[F,S,E]}("",x,m,p),m=x[1],x[0]}};function A5(u,m,p){return p=p||{},p.Info=u.read_shift(2),u.l-=2,p.Info===1?p.Data=function(x){var N={},A=N.EncryptionVersionInfo=md(x,4);if(A.Major!=1||A.Minor!=1)throw"unrecognized version code "+A.Major+" : "+A.Minor;return N.Salt=x.read_shift(16),N.EncryptedVerifier=x.read_shift(16),N.EncryptedVerifierHash=x.read_shift(16),N}(u):p.Data=function(x,N){var A={},S=A.EncryptionVersionInfo=md(x,4);if(N-=4,S.Minor!=2)throw new Error("unrecognized minor version code: "+S.Minor);if(4<S.Major||S.Major<2)throw new Error("unrecognized major version code: "+S.Major);return A.Flags=x.read_shift(4),N-=4,S=x.read_shift(4),N-=4,A.EncryptionHeader=kv(x,S),N-=S,A.EncryptionVerifier=pd(x,N),A}(u,m),p}var k5={to_workbook:function(u,m){return Jo(Cm(u,m),m)},to_sheet:Cm,from_sheet:function(u){for(var m=["{\\rtf1\\ansi"],p=Tn(u["!ref"]),x=Array.isArray(u),N=p.s.r;N<=p.e.r;++N){m.push("\\trowd\\trautofit1");for(var A=p.s.c;A<=p.e.c;++A)m.push("\\cellx"+(A+1));for(m.push("\\pard\\intbl"),A=p.s.c;A<=p.e.c;++A){var S=en({r:N,c:A});(S=x?(u[N]||[])[A]:u[S])&&(S.v!=null||S.f&&!S.F)&&(m.push(" "+(S.w||(fl(S),S.w))),m.push("\\cell"))}m.push("\\pard\\intbl\\row")}return m.join("")+"}"}};function Cm(u,m){switch(m.type){case"base64":return Am(T(u),m);case"binary":return Am(u,m);case"buffer":return Am(P&&Buffer.isBuffer(u)?u.toString("binary"):U(u),m);case"array":return Am(ro(u),m)}throw new Error("Unrecognized type "+m.type)}function Am(x,m){var p=(m||{}).dense?[]:{},x=x.match(/\\trowd.*?\\row\b/g);if(!x.length)throw new Error("RTF missing table");var N={s:{c:0,r:0},e:{c:0,r:x.length-1}};return x.forEach(function(A,S){Array.isArray(p)&&(p[S]=[]);for(var E,F=/\\\w+\b/g,R=0,z=-1;E=F.exec(A);)E[0]==="\\cell"&&(++z,(E=(E=A.slice(R,F.lastIndex-E[0].length))[0]==" "?E.slice(1):E).length&&(E={v:E,t:"s"},Array.isArray(p)?p[S][z]=E:p[en({r:S,c:z})]=E)),R=F.lastIndex;z>N.e.c&&(N.e.c=z)}),p["!ref"]=tn(N),p}function mf(u){for(var m=0,p=1;m!=3;++m)p=256*p+(255<u[m]?255:u[m]<0?0:u[m]);return p.toString(16).toUpperCase().slice(1)}function dc(u,m){return m===0?u:(u=function(z){var x=z[0]/255,N=z[1]/255,A=z[2]/255,S=Math.max(x,N,A),E=Math.min(x,N,A),F=S-E;if(F==0)return[0,0,x];var R=0,z=0,z=F/(1<(E=S+E)?2-E:E);switch(S){case x:R=((N-A)/F+6)%6;break;case N:R=(A-x)/F+2;break;case A:R=(x-N)/F+4}return[R/6,z,E/2]}((u=(u=u).slice(u[0]==="#"?1:0).slice(0,6),[parseInt(u.slice(0,2),16),parseInt(u.slice(2,4),16),parseInt(u.slice(4,6),16)])),u[2]=m<0?u[2]*(1+m):1-(1-u[2])*(1-m),mf(function(S){var x,N=S[0],A=S[1],S=S[2],E=2*A*(S<.5?S:1-S),F=[S=S-E/2,S,S],R=6*N;if(A!==0)switch(0|R){case 0:case 6:x=E*R,F[0]+=E,F[1]+=x;break;case 1:x=E*(2-R),F[0]+=x,F[1]+=E;break;case 2:x=E*(R-2),F[1]+=E,F[2]+=x;break;case 3:x=E*(4-R),F[1]+=x,F[2]+=E;break;case 4:x=E*(R-4),F[2]+=E,F[0]+=x;break;case 5:x=E*(6-R),F[2]+=x,F[0]+=E}for(var z=0;z!=3;++z)F[z]=Math.round(255*F[z]);return F}(u)))}var gd=6,pf=15,Tv=1,Li=gd;function km(u){return Math.floor((u+Math.round(128/Li)/256)*Li)}function C0(u){return Math.floor((u-5)/Li*100+.5)/100}function Em(u){return Math.round((u*Li+5)/Li*256)/256}function A0(u){return Em(C0(km(u)))}function BA(u){var m=Math.abs(u-A0(u)),p=Li;if(.005<m)for(Li=Tv;Li<pf;++Li)Math.abs(u-A0(u))<=m&&(m=Math.abs(u-A0(u)),p=Li);Li=p}function Tm(u){u.width?(u.wpx=km(u.width),u.wch=C0(u.wpx),u.MDW=Li):u.wpx?(u.wch=C0(u.wpx),u.width=Em(u.wch),u.MDW=Li):typeof u.wch=="number"&&(u.width=Em(u.wch),u.wpx=km(u.width),u.MDW=Li),u.customWidth&&delete u.customWidth}var lI=96;function Xy(u){return 96*u/lI}function Pv(u){return u*lI/96}var aue={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},E5=["numFmtId","fillId","fontId","borderId","xfId"],T5=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],cI,uI,dI,fI,hI,Jy,sue=(cI=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,uI=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,dI=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,fI=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,hI=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/,function(u,m,p){var x,N,A,S,E,F={};return u&&((x=(u=u.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(cI))&&function(R,z,G){z.NumberFmt=[];for(var K=Pa(Y),Z=0;Z<K.length;++Z)z.NumberFmt[K[Z]]=Y[K[Z]];var he=R[0].match(Ws);if(he)for(Z=0;Z<he.length;++Z){var ae=sn(he[Z]);switch(yi(ae[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var be=Mn(va(ae.formatCode)),me=parseInt(ae.numFmtId,10);if(z.NumberFmt[me]=be,0<me){if(392<me){for(me=392;60<me&&z.NumberFmt[me]!=null;--me);z.NumberFmt[me]=be}ia(be,me)}break;case"</numFmt>":break;default:if(G.WTF)throw new Error("unrecognized "+ae[0]+" in numFmts")}}}(x,F,p),(x=u.match(fI))&&function(R,z,G,K){z.Fonts=[];var Z={},he=!1;(R[0].match(Ws)||[]).forEach(function(ae){var be,me=sn(ae);switch(yi(me[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":z.Fonts.push(Z),Z={};break;case"<name":me.val&&(Z.name=va(me.val));break;case"<name/>":case"</name>":break;case"<b":Z.bold=me.val?Ka(me.val):1;break;case"<b/>":Z.bold=1;break;case"<i":Z.italic=me.val?Ka(me.val):1;break;case"<i/>":Z.italic=1;break;case"<u":switch(me.val){case"none":Z.underline=0;break;case"single":Z.underline=1;break;case"double":Z.underline=2;break;case"singleAccounting":Z.underline=33;break;case"doubleAccounting":Z.underline=34}break;case"<u/>":Z.underline=1;break;case"<strike":Z.strike=me.val?Ka(me.val):1;break;case"<strike/>":Z.strike=1;break;case"<outline":Z.outline=me.val?Ka(me.val):1;break;case"<outline/>":Z.outline=1;break;case"<shadow":Z.shadow=me.val?Ka(me.val):1;break;case"<shadow/>":Z.shadow=1;break;case"<condense":Z.condense=me.val?Ka(me.val):1;break;case"<condense/>":Z.condense=1;break;case"<extend":Z.extend=me.val?Ka(me.val):1;break;case"<extend/>":Z.extend=1;break;case"<sz":me.val&&(Z.sz=+me.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":me.val&&(Z.vertAlign=me.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":me.val&&(Z.family=parseInt(me.val,10));break;case"<family/>":case"</family>":break;case"<scheme":me.val&&(Z.scheme=me.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(me.val=="1")break;me.codepage=d[parseInt(me.val,10)];break;case"<color":Z.color||(Z.color={}),me.auto&&(Z.color.auto=Ka(me.auto)),me.rgb?Z.color.rgb=me.rgb.slice(-6):me.indexed?(Z.color.index=parseInt(me.indexed,10),be=xm[Z.color.index],be=(be=Z.color.index==81?xm[1]:be)||xm[1],Z.color.rgb=be[0].toString(16)+be[1].toString(16)+be[2].toString(16)):me.theme&&(Z.color.theme=parseInt(me.theme,10),me.tint&&(Z.color.tint=parseFloat(me.tint)),me.theme&&G.themeElements&&G.themeElements.clrScheme&&(Z.color.rgb=dc(G.themeElements.clrScheme[Z.color.theme].rgb,Z.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":he=!0;break;case"</AlternateContent>":he=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":he=!0;break;case"</ext>":he=!1;break;default:if(K&&K.WTF&&!he)throw new Error("unrecognized "+me[0]+" in fonts")}})}(x,F,m,p),(x=u.match(dI))&&function(R,z,G){z.Fills=[];var K={},Z=!1;(R[0].match(Ws)||[]).forEach(function(he){var ae=sn(he);switch(yi(ae[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":K={},z.Fills.push(K);break;case"</fill>":case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":z.Fills.push(K),K={};break;case"<patternFill":case"<patternFill>":ae.patternType&&(K.patternType=ae.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":K.bgColor||(K.bgColor={}),ae.indexed&&(K.bgColor.indexed=parseInt(ae.indexed,10)),ae.theme&&(K.bgColor.theme=parseInt(ae.theme,10)),ae.tint&&(K.bgColor.tint=parseFloat(ae.tint)),ae.rgb&&(K.bgColor.rgb=ae.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":K.fgColor||(K.fgColor={}),ae.theme&&(K.fgColor.theme=parseInt(ae.theme,10)),ae.tint&&(K.fgColor.tint=parseFloat(ae.tint)),ae.rgb!=null&&(K.fgColor.rgb=ae.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":case"</stop>":break;case"<color":case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Z=!0;break;case"</ext>":Z=!1;break;default:if(G&&G.WTF&&!Z)throw new Error("unrecognized "+ae[0]+" in fills")}})}(x,F,p),(x=u.match(hI))&&function(R,z,G){z.Borders=[];var K={},Z=!1;(R[0].match(Ws)||[]).forEach(function(he){var ae=sn(he);switch(yi(ae[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":K={},ae.diagonalUp&&(K.diagonalUp=Ka(ae.diagonalUp)),ae.diagonalDown&&(K.diagonalDown=Ka(ae.diagonalDown)),z.Borders.push(K);break;case"</border>":case"<left/>":break;case"<left":case"<left>":case"</left>":case"<right/>":break;case"<right":case"<right>":case"</right>":case"<top/>":break;case"<top":case"<top>":case"</top>":case"<bottom/>":break;case"<bottom":case"<bottom>":case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":break;case"<start":case"<start>":case"<start/>":case"</start>":break;case"<end":case"<end>":case"<end/>":case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Z=!0;break;case"</ext>":Z=!1;break;default:if(G&&G.WTF&&!Z)throw new Error("unrecognized "+ae[0]+" in borders")}})}(x,F,p),(x=u.match(uI))&&(x=x,A=p,E=!((N=F).CellXf=[]),(x[0].match(Ws)||[]).forEach(function(R){var z=sn(R),G=0;switch(yi(z[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(delete(S=z)[0],G=0;G<E5.length;++G)S[E5[G]]&&(S[E5[G]]=parseInt(S[E5[G]],10));for(G=0;G<T5.length;++G)S[T5[G]]&&(S[T5[G]]=Ka(S[T5[G]]));if(N.NumberFmt&&392<S.numFmtId){for(G=392;60<G;--G)if(N.NumberFmt[S.numFmtId]==N.NumberFmt[G]){S.numFmtId=G;break}}N.CellXf.push(S);break;case"</xf>":break;case"<alignment":case"<alignment/>":var K={};z.vertical&&(K.vertical=z.vertical),z.horizontal&&(K.horizontal=z.horizontal),z.textRotation!=null&&(K.textRotation=z.textRotation),z.indent&&(K.indent=z.indent),z.wrapText&&(K.wrapText=Ka(z.wrapText)),S.alignment=K;break;case"</alignment>":case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":E=!0;break;case"</AlternateContent>":E=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":E=!0;break;case"</ext>":E=!1;break;default:if(A&&A.WTF&&!E)throw new Error("unrecognized "+z[0]+" in cellXfs")}}))),F});function mI(u,m){if(Jy!==void 0)return Jy.toXml();var p,x,N,A,S=[us,er("styleSheet",null,{xmlns:Mc[0],"xmlns:vt":Gs.vt})];return u.SSF&&(x=u.SSF,N=["<numFmts>"],[[5,8],[23,26],[41,44],[50,392]].forEach(function(E){for(var F=E[0];F<=E[1];++F)x[F]!=null&&(N[N.length]=er("numFmt",null,{numFmtId:F,formatCode:Na(x[F])}))}),(p=N.length===1?"":(N[N.length]="</numFmts>",N[0]=er("numFmts",null,{count:N.length-2}).replace("/>",">"),N.join("")))!=null)&&(S[S.length]=p),S[S.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',S[S.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',S[S.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',S[S.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',m=m.cellXfs,(A=[])[A.length]="<cellXfs/>",m.forEach(function(E){A[A.length]=er("xf",null,E)}),A[A.length]="</cellXfs>",(p=A.length===2?"":(A[0]=er("cellXfs",null,{count:A.length-2}).replace("/>",">"),A.join("")))&&(S[S.length]=p),S[S.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',S[S.length]='<dxfs count="0"/>',S[S.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',2<S.length&&(S[S.length]="</styleSheet>",S[1]=S[1].replace("/>",">")),S.join("")}function iue(u,m){var p;(m=m||bt(153)).write_shift(2,20*u.sz),p=u,x=(x=m)||bt(2),p=(p.italic?2:0)|(p.strike?8:0)|(p.outline?16:0)|(p.shadow?32:0)|(p.condense?64:0)|(p.extend?128:0),x.write_shift(1,p),x.write_shift(1,0),m.write_shift(2,u.bold?700:400);var x=0;return u.vertAlign=="superscript"?x=1:u.vertAlign=="subscript"&&(x=2),m.write_shift(2,x),m.write_shift(1,u.underline||0),m.write_shift(1,u.family||0),m.write_shift(1,u.charset||0),m.write_shift(1,0),hs(u.color,m),x=0,u.scheme=="major"&&(x=1),u.scheme=="minor"&&(x=2),m.write_shift(1,x),rs(u.name,m),m.length>m.l?m.slice(0,m.l):m}var pI,oue=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],lue=fs;function gI(u,m){m=m||bt(84),u=(pI=pI||Qr(oue))[u.patternType],u==null&&(u=40),m.write_shift(4,u);var p=0;if(u!=40)for(hs({auto:1},m),hs({auto:1},m);p<12;++p)m.write_shift(4,0);else{for(;p<4;++p)m.write_shift(4,0);for(;p<12;++p)m.write_shift(4,0)}return m.length>m.l?m.slice(0,m.l):m}function vI(u,m,p){return(p=p||bt(16)).write_shift(2,m||0),p.write_shift(2,u.numFmtId||0),p.write_shift(2,0),p.write_shift(2,0),p.write_shift(2,0),p.write_shift(1,0),p.write_shift(1,0),p.write_shift(1,0),p.write_shift(1,0),p.write_shift(1,0),p.write_shift(1,0),p}function Zy(u,m){return(m=m||bt(10)).write_shift(1,0),m.write_shift(1,0),m.write_shift(4,0),m.write_shift(4,0),m}Xo=fs;function cue(u,m){var p;m&&(p=0,[[5,8],[23,26],[41,44],[50,392]].forEach(function(x){for(var N=x[0];N<=x[1];++N)m[N]!=null&&++p}),p!=0&&(Rt(u,615,Cs(p)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(x){for(var N,A,S,E=x[0];E<=x[1];++E)m[E]!=null&&Rt(u,44,(N=E,A=m[E],(S=(S=void 0)||bt(6+4*A.length)).write_shift(2,N),rs(A,S),A=S.length>S.l?S.slice(0,S.l):S,S.l==null&&(S.l=S.length),A))}),Rt(u,616)))}function uue(u){var m;Rt(u,613,Cs(1)),Rt(u,46,((m=m||bt(51)).write_shift(1,0),Zy(0,m),Zy(0,m),Zy(0,m),Zy(0,m),Zy(0,m),m.length>m.l?m.slice(0,m.l):m)),Rt(u,614)}function due(u){var m,p;Rt(u,619,Cs(1)),Rt(u,48,(m={xfId:0,builtinId:0,name:"Normal"},(p=p||bt(52)).write_shift(4,m.xfId),p.write_shift(2,1),p.write_shift(1,+m.builtinId),p.write_shift(1,0),af(m.name||"",p),p.length>p.l?p.slice(0,p.l):p)),Rt(u,620)}function fue(u){var m,p,x,N;Rt(u,508,(m=0,p="TableStyleMedium9",x="PivotStyleMedium4",(N=bt(2052)).write_shift(4,m),af(p,N),af(x,N),N.length>N.l?N.slice(0,N.l):N)),Rt(u,509)}function hue(u,m){var p,x=Ks();return Rt(x,278),cue(x,u.SSF),Rt(u=x,611,Cs(1)),Rt(u,43,iue({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Rt(u,612),Rt(u=x,603,Cs(2)),Rt(u,45,gI({patternType:"none"})),Rt(u,45,gI({patternType:"gray125"})),Rt(u,604),uue(x),Rt(u=x,626,Cs(1)),Rt(u,47,vI({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Rt(u,627),p=x,m=m.cellXfs,Rt(p,617,Cs(m.length)),m.forEach(function(N){Rt(p,47,vI(N,0))}),Rt(p,618),due(x),Rt(m=x,505,Cs(0)),Rt(m,506),fue(x),Rt(x,279),x.end()}var mue=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function pue(u,m,p){m.themeElements.clrScheme=[];var x={};(u[0].match(Ws)||[]).forEach(function(N){var A=sn(N);switch(A[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":x.rgb=A.val;break;case"<a:sysClr":x.rgb=A.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":A[0].charAt(1)==="/"?(m.themeElements.clrScheme[mue.indexOf(A[0])]=x,x={}):x.name=A[0].slice(3,A[0].length-1);break;default:if(p&&p.WTF)throw new Error("Unrecognized "+A[0]+" in clrScheme")}})}function gue(){}function vue(){}var xue=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,yue=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,bue=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,wue=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function xI(u,m){var p,x,N,A,S,E={};if(!(p=(u=!u||u.length===0?zA():u).match(wue)))throw new Error("themeElements not found in theme");return x=p[0],A=m,(N=E).themeElements={},[["clrScheme",xue,pue],["fontScheme",yue,gue],["fmtScheme",bue,vue]].forEach(function(F){if(!(S=x.match(F[1])))throw new Error(F[0]+" not found in themeElements");F[2](S,N,A)}),E.raw=u,E}function zA(u,m){return m&&m.themeXLSX?m.themeXLSX:u&&typeof u.raw=="string"?u.raw:(u=[us],u[u.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',u[u.length]="<a:themeElements>",u[u.length]='<a:clrScheme name="Office">',u[u.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',u[u.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',u[u.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',u[u.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',u[u.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',u[u.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',u[u.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',u[u.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',u[u.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',u[u.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',u[u.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',u[u.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',u[u.length]="</a:clrScheme>",u[u.length]='<a:fontScheme name="Office">',u[u.length]="<a:majorFont>",u[u.length]='<a:latin typeface="Cambria"/>',u[u.length]='<a:ea typeface=""/>',u[u.length]='<a:cs typeface=""/>',u[u.length]='<a:font script="Jpan" typeface=" "/>',u[u.length]='<a:font script="Hang" typeface=" "/>',u[u.length]='<a:font script="Hans" typeface=""/>',u[u.length]='<a:font script="Hant" typeface=""/>',u[u.length]='<a:font script="Arab" typeface="Times New Roman"/>',u[u.length]='<a:font script="Hebr" typeface="Times New Roman"/>',u[u.length]='<a:font script="Thai" typeface="Tahoma"/>',u[u.length]='<a:font script="Ethi" typeface="Nyala"/>',u[u.length]='<a:font script="Beng" typeface="Vrinda"/>',u[u.length]='<a:font script="Gujr" typeface="Shruti"/>',u[u.length]='<a:font script="Khmr" typeface="MoolBoran"/>',u[u.length]='<a:font script="Knda" typeface="Tunga"/>',u[u.length]='<a:font script="Guru" typeface="Raavi"/>',u[u.length]='<a:font script="Cans" typeface="Euphemia"/>',u[u.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',u[u.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',u[u.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',u[u.length]='<a:font script="Thaa" typeface="MV Boli"/>',u[u.length]='<a:font script="Deva" typeface="Mangal"/>',u[u.length]='<a:font script="Telu" typeface="Gautami"/>',u[u.length]='<a:font script="Taml" typeface="Latha"/>',u[u.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',u[u.length]='<a:font script="Orya" typeface="Kalinga"/>',u[u.length]='<a:font script="Mlym" typeface="Kartika"/>',u[u.length]='<a:font script="Laoo" typeface="DokChampa"/>',u[u.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',u[u.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',u[u.length]='<a:font script="Viet" typeface="Times New Roman"/>',u[u.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',u[u.length]='<a:font script="Geor" typeface="Sylfaen"/>',u[u.length]="</a:majorFont>",u[u.length]="<a:minorFont>",u[u.length]='<a:latin typeface="Calibri"/>',u[u.length]='<a:ea typeface=""/>',u[u.length]='<a:cs typeface=""/>',u[u.length]='<a:font script="Jpan" typeface=" "/>',u[u.length]='<a:font script="Hang" typeface=" "/>',u[u.length]='<a:font script="Hans" typeface=""/>',u[u.length]='<a:font script="Hant" typeface=""/>',u[u.length]='<a:font script="Arab" typeface="Arial"/>',u[u.length]='<a:font script="Hebr" typeface="Arial"/>',u[u.length]='<a:font script="Thai" typeface="Tahoma"/>',u[u.length]='<a:font script="Ethi" typeface="Nyala"/>',u[u.length]='<a:font script="Beng" typeface="Vrinda"/>',u[u.length]='<a:font script="Gujr" typeface="Shruti"/>',u[u.length]='<a:font script="Khmr" typeface="DaunPenh"/>',u[u.length]='<a:font script="Knda" typeface="Tunga"/>',u[u.length]='<a:font script="Guru" typeface="Raavi"/>',u[u.length]='<a:font script="Cans" typeface="Euphemia"/>',u[u.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',u[u.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',u[u.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',u[u.length]='<a:font script="Thaa" typeface="MV Boli"/>',u[u.length]='<a:font script="Deva" typeface="Mangal"/>',u[u.length]='<a:font script="Telu" typeface="Gautami"/>',u[u.length]='<a:font script="Taml" typeface="Latha"/>',u[u.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',u[u.length]='<a:font script="Orya" typeface="Kalinga"/>',u[u.length]='<a:font script="Mlym" typeface="Kartika"/>',u[u.length]='<a:font script="Laoo" typeface="DokChampa"/>',u[u.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',u[u.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',u[u.length]='<a:font script="Viet" typeface="Arial"/>',u[u.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',u[u.length]='<a:font script="Geor" typeface="Sylfaen"/>',u[u.length]="</a:minorFont>",u[u.length]="</a:fontScheme>",u[u.length]='<a:fmtScheme name="Office">',u[u.length]="<a:fillStyleLst>",u[u.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',u[u.length]='<a:gradFill rotWithShape="1">',u[u.length]="<a:gsLst>",u[u.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',u[u.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',u[u.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',u[u.length]="</a:gsLst>",u[u.length]='<a:lin ang="16200000" scaled="1"/>',u[u.length]="</a:gradFill>",u[u.length]='<a:gradFill rotWithShape="1">',u[u.length]="<a:gsLst>",u[u.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',u[u.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',u[u.length]="</a:gsLst>",u[u.length]='<a:lin ang="16200000" scaled="0"/>',u[u.length]="</a:gradFill>",u[u.length]="</a:fillStyleLst>",u[u.length]="<a:lnStyleLst>",u[u.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',u[u.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',u[u.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',u[u.length]="</a:lnStyleLst>",u[u.length]="<a:effectStyleLst>",u[u.length]="<a:effectStyle>",u[u.length]="<a:effectLst>",u[u.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',u[u.length]="</a:effectLst>",u[u.length]="</a:effectStyle>",u[u.length]="<a:effectStyle>",u[u.length]="<a:effectLst>",u[u.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',u[u.length]="</a:effectLst>",u[u.length]="</a:effectStyle>",u[u.length]="<a:effectStyle>",u[u.length]="<a:effectLst>",u[u.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',u[u.length]="</a:effectLst>",u[u.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',u[u.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',u[u.length]="</a:effectStyle>",u[u.length]="</a:effectStyleLst>",u[u.length]="<a:bgFillStyleLst>",u[u.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',u[u.length]='<a:gradFill rotWithShape="1">',u[u.length]="<a:gsLst>",u[u.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',u[u.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',u[u.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',u[u.length]="</a:gsLst>",u[u.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',u[u.length]="</a:gradFill>",u[u.length]='<a:gradFill rotWithShape="1">',u[u.length]="<a:gsLst>",u[u.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',u[u.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',u[u.length]="</a:gsLst>",u[u.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',u[u.length]="</a:gradFill>",u[u.length]="</a:bgFillStyleLst>",u[u.length]="</a:fmtScheme>",u[u.length]="</a:themeElements>",u[u.length]="<a:objectDefaults>",u[u.length]="<a:spDef>",u[u.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',u[u.length]="</a:spDef>",u[u.length]="<a:lnDef>",u[u.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',u[u.length]="</a:lnDef>",u[u.length]="</a:objectDefaults>",u[u.length]="<a:extraClrSchemeLst/>",u[u.length]="</a:theme>",u.join(""))}function _ue(u){var m={};switch(m.xclrType=u.read_shift(2),m.nTintShade=u.read_shift(2),m.xclrType){case 0:u.l+=4;break;case 1:m.xclrValue=fs(u,4);break;case 2:m.xclrValue=y0(u);break;case 3:m.xclrValue=u.read_shift(4);break;case 4:u.l+=4}return u.l+=8,m}function jue(u){var m=u.read_shift(2),p=u.read_shift(2)-4,x=[m];switch(m){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:x[1]=_ue(u);break;case 6:x[1]=fs(u,p);break;case 14:case 15:x[1]=u.read_shift(p==1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+m+" "+p)}return x}function Nue(){var u,m,p,x=Ks();return Rt(x,332),Rt(x,334,Cs(1)),Rt(x,335,((p=bt(12+2*(m={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,m.flags),p.write_shift(4,m.version),rs(m.name,p),p.slice(0,p.l))),Rt(x,336),Rt(x,339,(u=1,(p=bt(8+2*(m="XLDAPR").length)).write_shift(4,u),rs(m,p),p.slice(0,p.l))),Rt(x,52),Rt(x,35,Cs(514)),Rt(x,4096,Cs(0)),Rt(x,4097,Bl(1)),Rt(x,36),Rt(x,53),Rt(x,340),Rt(x,337,(u=1,m=!0,(p=bt(8)).write_shift(4,u),p.write_shift(4,m?1:0),p)),Rt(x,51,function(N){var A=bt(4+8*N.length);A.write_shift(4,N.length);for(var S=0;S<N.length;++S)A.write_shift(4,N[S][0]),A.write_shift(4,N[S][1]);return A}([[1,0]])),Rt(x,338),Rt(x,333),x.end()}function yI(){var u=[us];return u.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),u.join("")}var Ov=1024;function bI(u,m){for(var p=[21600,21600],x=["m0,0l0",p[1],p[0],p[1],p[0],"0xe"].join(","),N=[er("xml",null,{"xmlns:v":ao.v,"xmlns:o":ao.o,"xmlns:x":ao.x,"xmlns:mv":ao.mv}).replace(/\/>/,">"),er("o:shapelayout",er("o:idmap",null,{"v:ext":"edit",data:u}),{"v:ext":"edit"}),er("v:shapetype",[er("v:stroke",null,{joinstyle:"miter"}),er("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:p.join(","),path:x})];Ov<1e3*u;)Ov+=1e3;return m.forEach(function(A){var S=Sa(A[0]),F={color2:"#BEFF82",type:"gradient"};F.type=="gradient"&&(F.angle="-180");var E=F.type=="gradient"?er("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,F=er("v:fill",E,F);++Ov,N=N.concat(["<v:shape"+pu({id:"_x0000_s"+Ov,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(A[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",F,er("v:shadow",null,{on:"t",obscured:"t"}),er("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",bi("x:Anchor",[S.c+1,0,S.r+1,0,S.c+3,20,S.r+5,20].join(",")),bi("x:AutoFill","False"),bi("x:Row",String(S.r)),bi("x:Column",String(S.c)),A[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),N.push("</xml>"),N.join("")}function wI(u,m,p,x){var N,A=Array.isArray(u);m.forEach(function(S){var E,F=Sa(S.ref);(N=A?(u[F.r]||(u[F.r]=[]),u[F.r][F.c]):u[S.ref])||(N={t:"z"},A?u[F.r][F.c]=N:u[S.ref]=N,(E=Tn(u["!ref"]||"BDWGO1000001:A1")).s.r>F.r&&(E.s.r=F.r),E.e.r<F.r&&(E.e.r=F.r),E.s.c>F.c&&(E.s.c=F.c),E.e.c<F.c&&(E.e.c=F.c),(E=tn(E))!==u["!ref"]&&(u["!ref"]=E)),N.c||(N.c=[]);var R={a:S.author,t:S.t,r:S.r,T:p};S.h&&(R.h=S.h);for(var z=N.c.length-1;0<=z;--z){if(!p&&N.c[z].T)return;p&&!N.c[z].T&&N.c.splice(z,1)}if(p&&x){for(z=0;z<x.length;++z)if(R.a==x[z].id){R.a=x[z].name||R.a;break}}N.c.push(R)})}function _I(u){var m=[us,er("comments",null,{xmlns:Mc[0]})],p=[];return m.push("<authors>"),u.forEach(function(x){x[1].forEach(function(N){var A=Na(N.a);p.indexOf(A)==-1&&(p.push(A),m.push("<author>"+A+"</author>")),N.T&&N.ID&&p.indexOf("tc="+N.ID)==-1&&(p.push("tc="+N.ID),m.push("<author>tc="+N.ID+"</author>"))})}),p.length==0&&(p.push("SheetJ5"),m.push("<author>SheetJ5</author>")),m.push("</authors>"),m.push("<commentList>"),u.forEach(function(x){var N=0,A=[];if(x[1][0]&&x[1][0].T&&x[1][0].ID?N=p.indexOf("tc="+x[1][0].ID):x[1].forEach(function(F){F.a&&(N=p.indexOf(Na(F.a))),A.push(F.t||"")}),m.push('<comment ref="'+x[0]+'" authorId="'+N+'"><text>'),A.length<=1)m.push(bi("t",Na(A[0]||"")));else{for(var S=`Comment:
    `+A[0]+`
`,E=1;E<A.length;++E)S+=`Reply:
    `+A[E]+`
`;m.push(bi("t",Na(S)))}m.push("</text></comment>")}),m.push("</commentList>"),2<m.length&&(m[m.length]="</comments>",m[1]=m[1].replace("/>",">")),m.join("")}uu=As;function Sue(u){var m=Ks(),p=[];return Rt(m,628),Rt(m,630),u.forEach(function(x){x[1].forEach(function(N){-1<p.indexOf(N.a)||(p.push(N.a.slice(0,54)),Rt(m,632,rs(N.a.slice(0,54))))})}),Rt(m,631),Rt(m,633),u.forEach(function(x){x[1].forEach(function(N){N.iauthor=p.indexOf(N.a);var A,S={s:Sa(x[0]),e:Sa(x[0])};Rt(m,635,(S=[S,N],(A=A??bt(36)).write_shift(4,S[1].iauthor),Zo(S[0],A),A.write_shift(4,0),A.write_shift(4,0),A.write_shift(4,0),A.write_shift(4,0),A)),N.t&&0<N.t.length&&Rt(m,637,gm(N)),Rt(m,636),delete N.iauthor})}),Rt(m,634),Rt(m,629),m.end()}var Cue="application/vnd.ms-office.vbaProject",jI=["xlsb","xlsm","xlam","biff8","xla"],UA,NI,Fv=(NI=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,function(u,m){return UA=m,u.replace(NI,Aue)});function Aue(u,m,p,x){var N=!1,A=!1;return p.length==0?A=!0:p.charAt(0)=="["&&(A=!0,p=p.slice(1,-1)),x.length==0?N=!0:x.charAt(0)=="["&&(N=!0,x=x.slice(1,-1)),p=0<p.length?0|parseInt(p,10):0,x=0<x.length?0|parseInt(x,10):0,N?x+=UA.c:--x,A?p+=UA.r:--p,m+(N?"":"$")+qn(x)+(A?"":"$")+ts(p)}var VA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,qA=function(u,m){return u.replace(VA,function(p,x,N,A,S,E){return A=ch(A)-(N?0:m.c),E=ud(E)-(S?0:m.r),x+"R"+(E==0?"":S?1+E:"["+E+"]")+"C"+(A==0?"":N?1+A:"["+A+"]")})};function SI(u,m){return u.replace(VA,function(p,x,N,A,S,E){return x+(N=="$"?N+A:qn(ch(A)+m.c))+(S=="$"?S+E:ts(ud(E)+m.r))})}function CI(u){return u.replace(/_xlfn\./g,"")}function $i(u){u.l+=1}function Pm(u,m){return m=u.read_shift(m==1?1:2),[16383&m,m>>14&1,m>>15&1]}function AI(S,m,N){var A=2;if(N){if(2<=N.biff&&N.biff<=5)return kI(S);N.biff==12&&(A=4)}var x=S.read_shift(A),N=S.read_shift(A),A=Pm(S,2),S=Pm(S,2);return{s:{r:x,c:A[0],cRel:A[1],rRel:A[2]},e:{r:N,c:S[0],cRel:S[1],rRel:S[2]}}}function kI(N){var m=Pm(N,2),p=Pm(N,2),x=N.read_shift(1),N=N.read_shift(1);return{s:{r:m[0],c:x,cRel:m[1],rRel:m[2]},e:{r:p[0],c:N,cRel:p[1],rRel:p[2]}}}function EI(S,m,A){if(A&&2<=A.biff&&A.biff<=5)return N=Pm(x=S,2),x=x.read_shift(1),{r:N[0],c:x,cRel:N[1],rRel:N[2]};var x,N,A=S.read_shift(A&&A.biff==12?4:2),S=Pm(S,2);return{r:A,c:S[0],cRel:S[1],rRel:S[2]}}function kue(S,m,A){if(A=A&&A.biff?A.biff:8,2<=A&&A<=5)return function(G){var F=G.read_shift(2),R=G.read_shift(1),z=(32768&F)>>15,G=(16384&F)>>14;return F&=16383,z==1&&8192<=F&&(F-=16384),G==1&&128<=R&&(R-=256),{r:F,c:R,cRel:G,rRel:z}}(S);var x=S.read_shift(12<=A?4:2),N=S.read_shift(2),A=(16384&N)>>14,S=(32768&N)>>15;if(N&=16383,S==1)for(;524287<x;)x-=1048576;if(A==1)for(;8191<N;)N-=16384;return{r:x,c:N,cRel:A,rRel:S}}function TI(u){var m=1&u[u.l+1];return u.l+=4,[m,1]}function PI(u){return[u.read_shift(1),u.read_shift(1)]}function Eue(u,m,p){var x=0,N=0;p.biff==12?(x=u.read_shift(4),N=u.read_shift(4)):(N=1+u.read_shift(1),x=1+u.read_shift(2)),2<=p.biff&&p.biff<8&&(--x,--N==0&&(N=256));for(var A=0,S=[];A!=x&&(S[A]=[]);++A)for(var E=0;E!=N;++E)S[A][E]=function(F,R){var z=[F.read_shift(1)];if(R==12)switch(z[0]){case 2:z[0]=4;break;case 4:z[0]=16;break;case 0:z[0]=1;break;case 1:z[0]=2}switch(z[0]){case 4:z[1]=Ca(F,1)?"TRUE":"FALSE",R!=12&&(F.l+=7);break;case 37:case 16:z[1]=Il[F[F.l]],F.l+=R==12?4:8;break;case 0:F.l+=8;break;case 1:z[1]=wn(F);break;case 2:z[1]=uf(F,0,{biff:0<R&&R<8?2:R});break;default:throw new Error("Bad SerAr: "+z[0])}return z}(u,p.biff);return S}function Qy(u,m,p){return u.l+=2,[(u=(x=u).read_shift(2),x=x.read_shift(2),{r:u,c:255&x,fQuoted:!!(16384&x),cRel:x>>15,rRel:x>>15})];var x}function WA(u){return u.l+=6,[]}function OI(u){return u.l+=2,[oi(u),1&u.read_shift(2)]}var Tue=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],FI={1:{n:"PtgExp",f:function(u,m,p){return u.l++,p&&p.biff==12?[u.read_shift(4,"i"),0]:[u.read_shift(2),u.read_shift(p&&p.biff==2?1:2)]}},2:{n:"PtgTbl",f:fs},3:{n:"PtgAdd",f:$i},4:{n:"PtgSub",f:$i},5:{n:"PtgMul",f:$i},6:{n:"PtgDiv",f:$i},7:{n:"PtgPower",f:$i},8:{n:"PtgConcat",f:$i},9:{n:"PtgLt",f:$i},10:{n:"PtgLe",f:$i},11:{n:"PtgEq",f:$i},12:{n:"PtgGe",f:$i},13:{n:"PtgGt",f:$i},14:{n:"PtgNe",f:$i},15:{n:"PtgIsect",f:$i},16:{n:"PtgUnion",f:$i},17:{n:"PtgRange",f:$i},18:{n:"PtgUplus",f:$i},19:{n:"PtgUminus",f:$i},20:{n:"PtgPercent",f:$i},21:{n:"PtgParen",f:$i},22:{n:"PtgMissArg",f:$i},23:{n:"PtgStr",f:function(u,m,p){return u.l++,v0(u,0,p)}},26:{n:"PtgSheet",f:function(u,m,p){return u.l+=5,u.l+=2,u.l+=p.biff==2?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(u,m,p){return u.l+=p.biff==2?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(u){return u.l++,Il[u.read_shift(1)]}},29:{n:"PtgBool",f:function(u){return u.l++,u.read_shift(1)!==0}},30:{n:"PtgInt",f:function(u){return u.l++,u.read_shift(2)}},31:{n:"PtgNum",f:function(u){return u.l++,wn(u)}},32:{n:"PtgArray",f:function(u,m,p){var x=(96&u[u.l++])>>5;return u.l+=p.biff==2?6:p.biff==12?14:7,[x]}},33:{n:"PtgFunc",f:function(u,m,p){var x=(96&u[u.l])>>5;return u.l+=1,p=u.read_shift(p&&p.biff<=3?1:2),[Bue[p],MI[p],x]}},34:{n:"PtgFuncVar",f:function(u,m,p){var x=u[u.l++],N=u.read_shift(1),A=p&&p.biff<=3?[x==88?-1:0,u.read_shift(1)]:[(A=u)[A.l+1]>>7,32767&A.read_shift(2)];return[N,(A[0]===0?MI:$ue)[A[1]]]}},35:{n:"PtgName",f:function(u,m,p){var x=u.read_shift(1)>>>5&3,N=!p||8<=p.biff?4:2,N=u.read_shift(N);switch(p.biff){case 2:u.l+=5;break;case 3:case 4:u.l+=8;break;case 5:u.l+=12}return[x,0,N]}},36:{n:"PtgRef",f:function(u,m,p){var x=(96&u[u.l])>>5;return u.l+=1,[x,EI(u,0,p)]}},37:{n:"PtgArea",f:function(u,m,p){return[(96&u[u.l++])>>5,AI(u,2<=p.biff&&p.biff,p)]}},38:{n:"PtgMemArea",f:function(u,m,p){var x=u.read_shift(1)>>>5&3;return u.l+=p&&p.biff==2?3:4,[x,u.read_shift(p&&p.biff==2?1:2)]}},39:{n:"PtgMemErr",f:fs},40:{n:"PtgMemNoMem",f:fs},41:{n:"PtgMemFunc",f:function(u,m,p){return[u.read_shift(1)>>>5&3,u.read_shift(p&&p.biff==2?1:2)]}},42:{n:"PtgRefErr",f:function(u,m,p){var x=u.read_shift(1)>>>5&3;return u.l+=4,p.biff<8&&u.l--,p.biff==12&&(u.l+=2),[x]}},43:{n:"PtgAreaErr",f:function(u,m,p){var x=(96&u[u.l++])>>5;return u.l+=p&&8<p.biff?12:p.biff<8?6:8,[x]}},44:{n:"PtgRefN",f:function(u,m,p){var x=(96&u[u.l])>>5;return u.l+=1,[x,kue(u,0,p)]}},45:{n:"PtgAreaN",f:function(u,m,p){return[(96&u[u.l++])>>5,function(F,E){if(E.biff<8)return kI(F);var A=F.read_shift(E.biff==12?4:2),S=F.read_shift(E.biff==12?4:2),E=Pm(F,2),F=Pm(F,2);return{s:{r:A,c:E[0],cRel:E[1],rRel:E[2]},e:{r:S,c:F[0],cRel:F[1],rRel:F[2]}}}(u,p)]}},46:{n:"PtgMemAreaN",f:function(u){return[u.read_shift(1)>>>5&3,u.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(u){return[u.read_shift(1)>>>5&3,u.read_shift(2)]}},57:{n:"PtgNameX",f:function(u,m,p){return p.biff==5?function(x){var N=x.read_shift(1)>>>5&3,A=x.read_shift(2,"i");x.l+=8;var S=x.read_shift(2);return x.l+=12,[N,A,S]}(u):[u.read_shift(1)>>>5&3,u.read_shift(2),u.read_shift(4)]}},58:{n:"PtgRef3d",f:function(u,m,p){var x=(96&u[u.l])>>5;u.l+=1;var N=u.read_shift(2);return p&&p.biff==5&&(u.l+=12),[x,N,EI(u,0,p)]}},59:{n:"PtgArea3d",f:function(u,m,p){var x=(96&u[u.l++])>>5,N=u.read_shift(2,"i");if(p)switch(p.biff){case 5:u.l+=12;break}return[x,N,AI(u,0,p)]}},60:{n:"PtgRefErr3d",f:function(u,m,p){var x=(96&u[u.l++])>>5,N=u.read_shift(2),A=4;if(p)switch(p.biff){case 5:A=15;break;case 12:A=6}return u.l+=A,[x,N]}},61:{n:"PtgAreaErr3d",f:function(u,m,p){var x=(96&u[u.l++])>>5,N=u.read_shift(2),A=8;if(p)switch(p.biff){case 5:u.l+=12,A=6;break;case 12:A=12}return u.l+=A,[x,N]}},255:{}},Pue={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Oue={1:{n:"PtgElfLel",f:OI},2:{n:"PtgElfRw",f:Qy},3:{n:"PtgElfCol",f:Qy},6:{n:"PtgElfRwV",f:Qy},7:{n:"PtgElfColV",f:Qy},10:{n:"PtgElfRadical",f:Qy},11:{n:"PtgElfRadicalS",f:WA},13:{n:"PtgElfColS",f:WA},15:{n:"PtgElfColSV",f:WA},16:{n:"PtgElfRadicalLel",f:OI},25:{n:"PtgList",f:function(A){A.l+=2;var m=A.read_shift(2),p=A.read_shift(2),x=A.read_shift(4),N=A.read_shift(2),A=A.read_shift(2);return{ixti:m,coltype:3&p,rt:Tue[p>>2&31],idx:x,c:N,C:A}}},29:{n:"PtgSxName",f:function(u){return u.l+=2,[u.read_shift(4)]}},255:{}},Fue={0:{n:"PtgAttrNoop",f:function(u){return u.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(u,m,p){var x=255&u[u.l+1]?1:0;return u.l+=p&&p.biff==2?3:4,[x]}},2:{n:"PtgAttrIf",f:function(u,m,p){var x=255&u[u.l+1]?1:0;return u.l+=2,[x,u.read_shift(p&&p.biff==2?1:2)]}},4:{n:"PtgAttrChoose",f:function(u,m,p){u.l+=2;for(var x=u.read_shift(p&&p.biff==2?1:2),N=[],A=0;A<=x;++A)N.push(u.read_shift(p&&p.biff==2?1:2));return N}},8:{n:"PtgAttrGoto",f:function(u,m,p){var x=255&u[u.l+1]?1:0;return u.l+=2,[x,u.read_shift(p&&p.biff==2?1:2)]}},16:{n:"PtgAttrSum",f:function(u,m,p){u.l+=p&&p.biff==2?3:4}},32:{n:"PtgAttrBaxcel",f:TI},33:{n:"PtgAttrBaxcel",f:TI},64:{n:"PtgAttrSpace",f:function(u){return u.read_shift(2),PI(u)}},65:{n:"PtgAttrSpaceSemi",f:function(u){return u.read_shift(2),PI(u)}},128:{n:"PtgAttrIfError",f:function(u){var m=255&u[u.l+1]?1:0;return u.l+=2,[m,u.read_shift(2)]}},255:{}};function eb(u,m,p,x){if(x.biff<8)return fs(u,m);for(var N=u.l+m,A=[],S=0;S!==p.length;++S)switch(p[S][0]){case"PtgArray":p[S][1]=Eue(u,0,x),A.push(p[S][1]);break;case"PtgMemArea":p[S][2]=function(E,F){for(var R=E.read_shift(F.biff==12?4:2),z=[],G=0;G!=R;++G)z.push((F.biff==12?Fi:b0)(E));return z}(u,(p[S][1],x)),A.push(p[S][2]);break;case"PtgExp":x&&x.biff==12&&(p[S][1][1]=u.read_shift(4),A.push(p[S][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+p[S][0]}return(m=N-u.l)!==0&&A.push(fs(u,m)),A}function tb(u,m,p){for(var x,N,A=u.l+m,S=[];A!=u.l;)m=A-u.l,N=u[u.l],x=FI[N]||FI[Pue[N]],(x=N===24||N===25?(N===24?Oue:Fue)[u[u.l+1]]:x)&&x.f?S.push([x.n,x.f(u,m,p)]):fs(u,m);return S}var Due={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function DI(u,m,p){if(!u)return"SH33TJSERR0";if(8<p.biff&&(!u.XTI||!u.XTI[m]))return u.SheetNames[m];if(!u.XTI)return"SH33TJSERR6";var x=u.XTI[m];if(p.biff<8)return 1e4<m&&(m-=65536),(m=m<0?-m:m)==0?"":u.XTI[m-1];if(!x)return"SH33TJSERR1";var N="";if(8<p.biff)switch(u[x[0]][0]){case 357:return N=x[1]==-1?"#REF":u.SheetNames[x[1]],x[1]==x[2]?N:N+":"+u.SheetNames[x[2]];case 358:return p.SID!=null?u.SheetNames[p.SID]:"SH33TJSSAME"+u[x[0]][0];case 355:default:return"SH33TJSSRC"+u[x[0]][0]}switch(u[x[0]][0][0]){case 1025:return N=x[1]==-1?"#REF":u.SheetNames[x[1]]||"SH33TJSERR3",x[1]==x[2]?N:N+":"+u.SheetNames[x[2]];case 14849:return u[x[0]].slice(1).map(function(A){return A.Name}).join(";;");default:return u[x[0]][0][3]?(N=x[1]==-1?"#REF":u[x[0]][0][3][x[1]]||"SH33TJSERR4",x[1]==x[2]?N:N+":"+u[x[0]][0][3][x[2]]):"SH33TJSERR2"}}function RI(u,m,p){return m=DI(u,m,p),m=="#REF"?m:function(x,N){if(!(x||N&&N.biff<=5&&2<=N.biff))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(x)?"'"+x+"'":x}(m,p)}function Ul(u,m,p,x,N){var A,S,E,F=N&&N.biff||8,R={s:{c:0,r:0},e:{c:0,r:0}},z=[],G=0,K=0,Z="";if(!u[0]||!u[0][0])return"";for(var he=-1,ae="",be=0,me=u[0].length;be<me;++be){var oe=u[0][be];switch(oe[0]){case"PtgUminus":z.push("-"+z.pop());break;case"PtgUplus":z.push("+"+z.pop());break;case"PtgPercent":z.push(z.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(fr=z.pop(),A=z.pop(),0<=he){switch(u[0][he][1][0]){case 0:ae=ha(" ",u[0][he][1][1]);break;case 1:ae=ha("\r",u[0][he][1][1]);break;default:if(ae="",N.WTF)throw new Error("Unexpected PtgAttrSpaceType "+u[0][he][1][0])}A+=ae,he=-1}z.push(A+Due[oe[0]]+fr);break;case"PtgIsect":fr=z.pop(),A=z.pop(),z.push(A+" "+fr);break;case"PtgUnion":fr=z.pop(),A=z.pop(),z.push(A+","+fr);break;case"PtgRange":fr=z.pop(),A=z.pop(),z.push(A+":"+fr);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":break;case"PtgRef":S=Ic(oe[1][1],R,N),z.push(Ys(S,F));break;case"PtgRefN":S=p?Ic(oe[1][1],p,N):oe[1][1],z.push(Ys(S,F));break;case"PtgRef3d":G=oe[1][1],S=Ic(oe[1][2],R,N),Z=RI(x,G,N),z.push(Z+"!"+Ys(S,F));break;case"PtgFunc":case"PtgFuncVar":var Ne=oe[1][0],ye=oe[1][1],Ne=Ne||0,Ce=(Ne&=127)==0?[]:z.slice(-Ne);z.length-=Ne,ye==="User"&&(ye=Ce.shift()),z.push(ye+"("+Ce.join(",")+")");break;case"PtgBool":z.push(oe[1]?"TRUE":"FALSE");break;case"PtgInt":z.push(oe[1]);break;case"PtgNum":z.push(String(oe[1]));break;case"PtgStr":z.push('"'+oe[1].replace(/"/g,'""')+'"');break;case"PtgErr":z.push(oe[1]);break;case"PtgAreaN":E=ld(oe[1][1],p?{s:p}:R,N),z.push(cd(E,N));break;case"PtgArea":E=ld(oe[1][1],R,N),z.push(cd(E,N));break;case"PtgArea3d":G=oe[1][1],E=oe[1][2],Z=RI(x,G,N),z.push(Z+"!"+cd(E,N));break;case"PtgAttrSum":z.push("SUM("+z.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":K=oe[1][2];var We=(x.names||[])[K-1]||(x[0]||[])[K],tt=We?We.Name:"SH33TJSNAME"+String(K);tt&&tt.slice(0,6)=="_xlfn."&&!N.xlfn&&(tt=tt.slice(6)),z.push(tt);break;case"PtgNameX":var Je,ct=oe[1][1],K=oe[1][2];if(!(N.biff<=5)){We="",((x[ct]||[])[0]||[])[0]==14849||(((x[ct]||[])[0]||[])[0]==1025?x[ct][K]&&0<x[ct][K].itab&&(We=x.SheetNames[x[ct][K].itab-1]+"!"):We=x.SheetNames[K-1]+"!"),x[ct]&&x[ct][K]?We+=x[ct][K].Name:x[0]&&x[0][K]?We+=x[0][K].Name:(tt=(DI(x,ct,N)||"").split(";;"))[K-1]?We=tt[K-1]:We+="SH33TJSERRX",z.push(We);break}Je=(Je=x[ct=ct<0?-ct:ct]?x[ct][K]:Je)||{Name:"SH33TJSERRY"},z.push(Je.Name);break;case"PtgParen":var kt="(",Ft=")";if(0<=he){switch(ae="",u[0][he][1][0]){case 2:kt=ha(" ",u[0][he][1][1])+kt;break;case 3:kt=ha("\r",u[0][he][1][1])+kt;break;case 4:Ft=ha(" ",u[0][he][1][1])+Ft;break;case 5:Ft=ha("\r",u[0][he][1][1])+Ft;break;default:if(N.WTF)throw new Error("Unexpected PtgAttrSpaceType "+u[0][he][1][0])}he=-1}z.push(kt+z.pop()+Ft);break;case"PtgRefErr":case"PtgRefErr3d":z.push("#REF!");break;case"PtgExp":S={c:oe[1][1],r:oe[1][0]};var ht={c:p.c,r:p.r};if(x.sharedf[en(S)])ct=x.sharedf[en(S)],z.push(Ul(ct,0,ht,x,N));else{for(var qt=!1,fr=0;fr!=x.arrayf.length;++fr)if(A=x.arrayf[fr],!(S.c<A[0].s.c||S.c>A[0].e.c||S.r<A[0].s.r||S.r>A[0].e.r)){z.push(Ul(A[1],0,ht,x,N)),qt=!0;break}qt||z.push(oe[1])}break;case"PtgArray":z.push("{"+function(tr){for(var Yt=[],Lt=0;Lt<tr.length;++Lt){for(var vr=tr[Lt],Nr=[],Wr=0;Wr<vr.length;++Wr){var zn=vr[Wr];zn?zn[0]===2?Nr.push('"'+zn[1].replace(/"/g,'""')+'"'):Nr.push(zn[1]):Nr.push("")}Yt.push(Nr.join(","))}return Yt.join(";")}(oe[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":he=be;break;case"PtgTbl":case"PtgMemErr":break;case"PtgMissArg":z.push("");break;case"PtgAreaErr":case"PtgAreaErr3d":z.push("#REF!");break;case"PtgList":z.push("Table"+oe[1].idx+"[#"+oe[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":default:throw new Error("Unrecognized Formula Token: "+String(oe))}if(N.biff!=3&&0<=he&&["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(u[0][be][0])==-1){var or=!0;switch((oe=u[0][he])[1][0]){case 4:or=!1;case 0:ae=ha(" ",oe[1][1]);break;case 5:or=!1;case 1:ae=ha("\r",oe[1][1]);break;default:if(ae="",N.WTF)throw new Error("Unexpected PtgAttrSpaceType "+oe[1][0])}z.push((or?ae:"")+z.pop()+(or?"":ae)),he=-1}}if(1<z.length&&N.WTF)throw new Error("bad formula stack");return z[0]}function HA(u,S,p){var x=u.l+S,N=lc(u);p.biff==2&&++u.l;var A=function(E){var F;if(wr(E,E.l+6)!==65535)return[wn(E),"n"];switch(E[E.l]){case 0:return E.l+=8,["String","s"];case 1:return F=E[E.l+2]===1,E.l+=8,[F,"b"];case 2:return F=E[E.l+2],E.l+=8,[F,"e"];case 3:return E.l+=8,["","s"]}return[]}(u),S=u.read_shift(1);return p.biff!=2&&(u.read_shift(1),5<=p.biff&&u.read_shift(4)),p=function(E,F,R){var z,G=E.l+F,K=R.biff==2?1:2,Z=E.read_shift(K);if(Z==65535)return[[],fs(E,F-2)];var he=tb(E,Z,R);return F!==Z+K&&(z=eb(E,F-Z-K,he,R)),E.l=G,[he,z]}(u,x-u.l,p),{cell:N,val:A[0],formula:p,shared:S>>3&1,tt:A[1]}}function Rue(u,m,p,x,N){m=df(m,p,N),N=(p=u.v)!=null?ya(typeof p=="number"?p:0):((p=bt(8)).write_shift(1,3),p.write_shift(1,0),p.write_shift(2,0),p.write_shift(2,0),p.write_shift(2,65535),p),p=bt(6),p.write_shift(2,33),p.write_shift(4,0);for(var A=bt(u.bf.length),S=0;S<u.bf.length;++S)A[S]=u.bf[S];return re([m,N,p,A])}function P5(u,m,p){var N=u.read_shift(4),x=tb(u,N,p),N=u.read_shift(4);return[x,0<N?eb(u,N,x,p):null]}var Mue=P5,O5=P5,Iue=P5,Lue=P5,$ue={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},MI={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Bue={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function II(u){return(u=(u=(u=(u=(u=u.slice(0,3)=="of:"?u.slice(3):u).charCodeAt(0)==61&&(u=u.slice(1)).charCodeAt(0)==61?u.slice(1):u).replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(m,p){return p.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function GA(u){return u=u.split(":"),[u[0].split(".")[0],u[0].split(".")[1]+(1<u.length?":"+(u[1].split(".")[1]||u[1].split(".")[0]):"")]}var rb={},Dv={},nb=typeof Map<"u";function KA(u,m,p){var x=0,N=u.length;if(p){if(nb?p.has(m):Object.prototype.hasOwnProperty.call(p,m)){for(var A=nb?p.get(m):p[m];x<A.length;++x)if(u[A[x]].t===m)return u.Count++,A[x]}}else for(;x<N;++x)if(u[x].t===m)return u.Count++,x;return u[N]={t:m},u.Count++,u.Unique++,p&&(nb?(p.has(m)||p.set(m,[]),p.get(m).push(N)):(Object.prototype.hasOwnProperty.call(p,m)||(p[m]=[]),p[m].push(N))),N}function F5(x,m){var p={min:x+1,max:x+1},x=-1;return m.MDW&&(Li=m.MDW),m.width!=null?p.customWidth=1:m.wpx!=null?x=C0(m.wpx):m.wch!=null&&(x=m.wch),-1<x?(p.width=Em(x),p.customWidth=1):m.width!=null&&(p.width=m.width),m.hidden&&(p.hidden=!0),m.level!=null&&(p.outlineLevel=p.level=m.level),p}function k0(u,m){u&&(m=m=="xlml"?[1,1,1,1,.5,.5]:[.7,.7,.75,.75,.3,.3],u.left==null&&(u.left=m[0]),u.right==null&&(u.right=m[1]),u.top==null&&(u.top=m[2]),u.bottom==null&&(u.bottom=m[3]),u.header==null&&(u.header=m[4]),u.footer==null&&(u.footer=m[5]))}function Om(u,m,p){if(Jy!==void 0){if(/^\d+$/.exec(m.s)||m.s&&m.s==+m.s)return m.s;var x=m.s||{};return m.z&&(x.numFmt=m.z),Jy.addStyle(x)}var N=p.revssf[m.z!=null?m.z:"General"],A=60,S=u.length;if(N==null&&p.ssf){for(;A<392;++A)if(p.ssf[A]==null){ia(m.z,A),p.ssf[A]=m.z,p.revssf[m.z]=N=A;break}}for(A=0;A!=S;++A)if(u[A].numFmtId===N)return A;return u[S]={numFmtId:N,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},S}function LI(u,m,p,x,N,A){try{x.cellNF&&(u.z=Y[m])}catch(E){if(x.WTF)throw E}if(u.t!=="z"||x.cellStyles){if(u.t==="d"&&typeof u.v=="string"&&(u.v=ca(u.v)),(!x||x.cellText!==!1)&&u.t!=="z")try{if(Y[m]==null&&ia(kn[m]||"General",m),u.t==="e")u.w=u.w||Il[u.v];else if(m===0)if(u.t==="n")(0|u.v)===u.v?u.w=u.v.toString(10):u.w=pe(u.v);else if(u.t==="d"){var S=Oa(u.v);u.w=(0|S)===S?S.toString(10):pe(S)}else{if(u.v===void 0)return;u.w=Ge(u.v,Dv)}else u.t==="d"?u.w=Gr(m,Oa(u.v),Dv):u.w=Gr(m,u.v,Dv)}catch(E){if(x.WTF)throw E}if(x.cellStyles&&p!=null)try{u.s=A.Fills[p],u.s.fgColor&&u.s.fgColor.theme&&!u.s.fgColor.rgb&&(u.s.fgColor.rgb=dc(N.themeElements.clrScheme[u.s.fgColor.theme].rgb,u.s.fgColor.tint||0),x.WTF&&(u.s.fgColor.raw_rgb=N.themeElements.clrScheme[u.s.fgColor.theme].rgb)),u.s.bgColor&&u.s.bgColor.theme&&(u.s.bgColor.rgb=dc(N.themeElements.clrScheme[u.s.bgColor.theme].rgb,u.s.bgColor.tint||0),x.WTF&&(u.s.bgColor.raw_rgb=N.themeElements.clrScheme[u.s.bgColor.theme].rgb))}catch(E){if(x.WTF&&A.Fills)throw E}}}var zue=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Uue=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Vue=/<(?:\w:)?hyperlink [^>]*>/gm,que=/"(\w*:\w*)"/,Wue=/<(?:\w:)?col\b[^>]*[\/]?>/g,Hue=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Gue=/<(?:\w:)?pageMargins[^>]*\/>/g,$I=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Kue=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Yue=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Xue(u,m,p,x,N,A,S){if(!u)return u;x=x||{"!id":{}};var E=m.dense?[]:{},F={s:{r:2e6,c:2e6},e:{r:0,c:0}},R="",tt="",z=u.match(Uue);z?(R=u.slice(0,z.index),tt=u.slice(z.index+z[0].length)):R=tt=u;var G=R.match($I);G?YA(G[0],0,N,p):(G=R.match(Kue))&&(u=G[0],G[1],G=E,K=N,Z=p,YA(u.slice(0,u.indexOf(">")),0,K,Z));var K,Z,he=(R.match(/<(?:\w*:)?dimension/)||{index:-1}).index;0<he&&(K=R.slice(he,he+50).match(que))&&(Z=E,(be=Tn(be=K[1])).s.r<=be.e.r&&be.s.c<=be.e.c&&0<=be.s.r&&0<=be.s.c&&(Z["!ref"]=tn(be)));var ae,be=R.match(Yue);be&&be[1]&&(oe=be[1],(ae=N).Views||(ae.Views=[{}]),(oe.match(Que)||[]).forEach(function(Je,ct){Je=sn(Je),ae.Views[ct]||(ae.Views[ct]={}),+Je.zoomScale&&(ae.Views[ct].zoom=+Je.zoomScale),Ka(Je.rightToLeft)&&(ae.Views[ct].RTL=!0)}));var me,oe=[];m.cellStyles&&(me=R.match(Wue))&&function(Je,ct){for(var kt=!1,Ft=0;Ft!=ct.length;++Ft){var ht=sn(ct[Ft],!0);ht.hidden&&(ht.hidden=Ka(ht.hidden));var qt=parseInt(ht.min,10)-1,fr=parseInt(ht.max,10)-1;for(ht.outlineLevel&&(ht.level=+ht.outlineLevel||0),delete ht.min,delete ht.max,ht.width=+ht.width,!kt&&ht.width&&(kt=!0,BA(ht.width)),Tm(ht);qt<=fr;)Je[qt++]=Yn(ht)}}(oe,me),z&&ede(z[1],E,m,F,A,S),S=tt.match(Hue),S&&(E["!autofilter"]={ref:(S[0].match(/ref="([^"]*)"/)||[])[1]});var ye=[],Ne=tt.match(zue);if(Ne)for(he=0;he!=Ne.length;++he)ye[he]=Tn(Ne[he].slice(Ne[he].indexOf('"')+1));S=tt.match(Vue),S&&function(Je,ct,kt){for(var Ft=Array.isArray(Je),ht=0;ht!=ct.length;++ht){var qt=sn(va(ct[ht]),!0);if(!qt.ref)return;var fr=((kt||{})["!id"]||[])[qt.id];fr?(qt.Target=fr.Target,qt.location&&(qt.Target+="#"+Mn(qt.location))):(qt.Target="#"+Mn(qt.location),fr={Target:qt.Target,TargetMode:"Internal"}),qt.Rel=fr,qt.tooltip&&(qt.Tooltip=qt.tooltip,delete qt.tooltip);for(var or=Tn(qt.ref),Zt=or.s.r;Zt<=or.e.r;++Zt)for(var tr=or.s.c;tr<=or.e.c;++tr){var Yt=en({c:tr,r:Zt});Ft?(Je[Zt]||(Je[Zt]=[]),Je[Zt][tr]||(Je[Zt][tr]={t:"z",v:void 0}),Je[Zt][tr].l=qt):(Je[Yt]||(Je[Yt]={t:"z",v:void 0}),Je[Yt].l=qt)}}}(E,S,x);var Ce,We,tt=tt.match(Gue);return tt&&(E["!margins"]=(Ce=sn(tt[0]),We={},["left","right","top","bottom","header","footer"].forEach(function(Je){Ce[Je]&&(We[Je]=parseFloat(Ce[Je]))}),We)),!E["!ref"]&&F.e.c>=F.s.c&&F.e.r>=F.s.r&&(E["!ref"]=tn(F)),0<m.sheetRows&&E["!ref"]&&(tt=Tn(E["!ref"]),m.sheetRows<=+tt.e.r&&(tt.e.r=m.sheetRows-1,tt.e.r>F.e.r&&(tt.e.r=F.e.r),tt.e.r<tt.s.r&&(tt.s.r=tt.e.r),tt.e.c>F.e.c&&(tt.e.c=F.e.c),tt.e.c<tt.s.c&&(tt.s.c=tt.e.c),E["!fullref"]=E["!ref"],E["!ref"]=tn(tt))),0<oe.length&&(E["!cols"]=oe),0<ye.length&&(E["!merges"]=ye),E}function YA(u,m,p,x){u=sn(u),p.Sheets[x]||(p.Sheets[x]={}),u.codeName&&(p.Sheets[x].CodeName=Mn(va(u.codeName)))}var Jue=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Zue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"],Que=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,BI,zI,UI,VI,qI,WI,HI,ede=(BI=/<(?:\w+:)?c[ \/>]/,zI=/<\/(?:\w+:)?row>/,UI=/r=["']([^"']*)["']/,VI=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,qI=/ref=["']([^"']*)["']/,WI=fn("v"),HI=fn("f"),function(u,m,p,x,N,A){for(var S,E,F,R,z,G,K=0,Z="",he=[],ae=[],be=0,me=0,oe="",ye=0,Ne=0,Ce=0,We=0,tt=Array.isArray(A.CellXf),Je=[],ct=[],kt=Array.isArray(m),Ft=[],ht={},qt=!1,fr=!!p.sheetStubs,or=u.split(zI),Zt=0,tr=or.length;Zt!=tr;++Zt){var Yt=(Z=or[Zt].trim()).length;if(Yt!==0){var Lt=0;e:for(K=0;K<Yt;++K)switch(Z[K]){case">":if(Z[K-1]!="/"){++K;break e}if(p&&p.cellStyles){if(ye=(F=sn(Z.slice(Lt,K),!0)).r!=null?parseInt(F.r,10):ye+1,Ne=-1,p.sheetRows&&p.sheetRows<ye)continue;qt=!(ht={}),F.ht&&(qt=!0,ht.hpt=parseFloat(F.ht),ht.hpx=Pv(ht.hpt)),F.hidden=="1"&&(qt=!0,ht.hidden=!0),F.outlineLevel!=null&&(qt=!0,ht.level=+F.outlineLevel),qt&&(Ft[ye-1]=ht)}break;case"<":Lt=K}if(K<=Lt)break;if(ye=(F=sn(Z.slice(Lt,K),!0)).r!=null?parseInt(F.r,10):ye+1,Ne=-1,!(p.sheetRows&&p.sheetRows<ye)){x.s.r>ye-1&&(x.s.r=ye-1),x.e.r<ye-1&&(x.e.r=ye-1),p&&p.cellStyles&&(qt=!(ht={}),F.ht&&(qt=!0,ht.hpt=parseFloat(F.ht),ht.hpx=Pv(ht.hpt)),F.hidden=="1"&&(qt=!0,ht.hidden=!0),F.outlineLevel!=null&&(qt=!0,ht.level=+F.outlineLevel),qt&&(Ft[ye-1]=ht)),he=Z.slice(K).split(BI);for(var vr,Nr=0;Nr!=he.length&&he[Nr].trim().charAt(0)=="<";++Nr);for(he=he.slice(Nr),K=0;K!=he.length;++K)if((Z=he[K].trim()).length!==0){if(ae=Z.match(UI),be=K,me=0,Z="<c "+(Z.slice(0,1)=="<"?">":"")+Z,ae!=null&&ae.length===2){for(be=0,oe=ae[1],me=0;me!=oe.length&&!((S=oe.charCodeAt(me)-64)<1||26<S);++me)be=26*be+S;Ne=--be}else++Ne;for(me=0;me!=Z.length&&Z.charCodeAt(me)!==62;++me);if(++me,(F=sn(Z.slice(0,me),!0)).r||(F.r=en({r:ye-1,c:Ne})),E={t:""},(ae=(oe=Z.slice(me)).match(WI))!=null&&ae[1]!==""&&(E.v=Mn(ae[1])),p.cellFormula){(ae=oe.match(HI))!=null&&ae[1]!==""?(E.f=Mn(va(ae[1])).replace(/\r\n/g,`
`),p.xlfn||(E.f=CI(E.f)),-1<ae[0].indexOf('t="array"')?(E.F=(oe.match(qI)||[])[1],-1<E.F.indexOf(":")&&Je.push([Tn(E.F),E.F])):-1<ae[0].indexOf('t="shared"')&&(z=sn(ae[0]),vr=Mn(va(ae[1])),p.xlfn||(vr=CI(vr)),ct[parseInt(z.si,10)]=[z,vr,F.r])):(ae=oe.match(/<f[^>]*\/>/))&&ct[(z=sn(ae[0])).si]&&(E.f=(G=ct[z.si][1],mr=ct[z.si][2],vr=F.r,mr=Pi(mr).s,vr=Sa(vr),SI(G,{r:vr.r-mr.r,c:vr.c-mr.c})));for(var Wr=Sa(F.r),me=0;me<Je.length;++me)Wr.r>=Je[me][0].s.r&&Wr.r<=Je[me][0].e.r&&Wr.c>=Je[me][0].s.c&&Wr.c<=Je[me][0].e.c&&(E.F=Je[me][1])}if(F.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else{if(!fr)continue;E.t="z"}else E.t=F.t||"n";switch(x.s.c>Ne&&(x.s.c=Ne),x.e.c<Ne&&(x.e.c=Ne),E.t){case"n":if(E.v==""||E.v==null){if(!fr)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(E.v===void 0){if(!fr)continue;E.t="z"}else R=rb[parseInt(E.v,10)],E.v=R.t,E.r=R.r,p.cellHTML&&(E.h=R.h);break;case"str":E.t="s",E.v=E.v!=null?va(E.v):"",p.cellHTML&&(E.h=um(E.v));break;case"inlineStr":ae=oe.match(VI),E.t="s",ae!=null&&(R=Wy(ae[1]))?(E.v=R.t,p.cellHTML&&(E.h=R.h)):E.v="";break;case"b":E.v=Ka(E.v);break;case"d":p.cellDates?E.v=ca(E.v,1):(E.v=Oa(ca(E.v,1)),E.t="n");break;case"e":p&&p.cellText===!1||(E.w=E.v),E.v=My[E.v]}var zn,Ce=We=0,mr=null;tt&&F.s!==void 0&&(mr=A.CellXf[F.s])!=null&&(mr.numFmtId!=null&&(Ce=mr.numFmtId),p.cellStyles&&mr.fillId!=null&&(We=mr.fillId)),LI(E,Ce,We,p,N,A),p.cellDates&&tt&&E.t=="n"&&Mr(Y[Ce])&&(E.t="d",E.v=ni(E.v)),F.cm&&p.xlmeta&&(zn=(p.xlmeta.Cell||[])[+F.cm-1])&&zn.type=="XLDAPR"&&(E.D=!0),kt?(m[(zn=Sa(F.r)).r]||(m[zn.r]=[]),m[zn.r][zn.c]=E):m[F.r]=E}}}}0<Ft.length&&(m["!rows"]=Ft)});function tde(u,m){for(var p,x,N,A,S=[],E=[],F=Tn(u["!ref"]),R=[],z=0,ae=0,G=u["!rows"],K=Array.isArray(u),Z={r:""},he=-1,ae=F.s.c;ae<=F.e.c;++ae)R[ae]=qn(ae);for(z=F.s.r;z<=F.e.r;++z){for(E=[],N=ts(z),ae=F.s.c;ae<=F.e.c;++ae){x=R[ae]+N;var be=K?(u[z]||[])[ae]:u[x];be!==void 0&&(p=function(me,oe,ye,Ne){if(me.c&&ye["!comments"].push([oe,me.c]),me.v===void 0&&typeof me.f!="string"||me.t==="z"&&!me.f)return"";var Ce="",We=me.t,tt=me.v;if(me.t!=="z")switch(me.t){case"b":Ce=me.v?"1":"0";break;case"n":Ce=""+me.v;break;case"e":Ce=Il[me.v];break;case"d":Ce=Ne&&Ne.cellDates?ca(me.v,-1).toISOString():((me=Yn(me)).t="n",""+(me.v=Oa(ca(me.v)))),me.z===void 0&&(me.z=Y[14]);break;default:Ce=me.v}var Je=bi("v",Na(Ce)),ct={r:oe},kt=Om(Ne.cellXfs,me,Ne);switch(kt!==0&&(ct.s=kt),me.t){case"n":break;case"d":ct.t="d";break;case"b":ct.t="b";break;case"e":ct.t="e";break;case"z":break;default:if(me.v==null){delete me.t;break}if(32767<me.v.length)throw new Error("Text length must not exceed 32767 characters");if(Ne&&Ne.bookSST){Je=bi("v",""+KA(Ne.Strings,me.v,Ne.revStrings)),ct.t="s";break}ct.t="str"}return me.t!=We&&(me.t=We,me.v=tt),typeof me.f=="string"&&me.f&&(tt=me.F&&me.F.slice(0,oe.length)==oe?{t:"array",ref:me.F}:null,Je=er("f",Na(me.f),tt)+(me.v!=null?Je:"")),me.l&&ye["!links"].push([oe,me.l]),me.D&&(ct.cm=1),er("c",Je,ct)}(be,x,u,m))!=null&&E.push(p)}(0<E.length||G&&G[z])&&(Z={r:N},G&&G[z]&&((A=G[z]).hidden&&(Z.hidden=1),he=-1,A.hpx?he=Xy(A.hpx):A.hpt&&(he=A.hpt),-1<he&&(Z.ht=he,Z.customHeight=1),A.level&&(Z.outlineLevel=A.level)),S[S.length]=er("row",E.join(""),Z))}if(G)for(;z<G.length;++z)G&&G[z]&&(Z={r:z+1},(A=G[z]).hidden&&(Z.hidden=1),he=-1,A.hpx?he=Xy(A.hpx):A.hpt&&(he=A.hpt),-1<he&&(Z.ht=he,Z.customHeight=1),A.level&&(Z.outlineLevel=A.level),S[S.length]=er("row","",Z));return S.join("")}function GI(u,m,p,x){var N,A,S=[us,er("worksheet",null,{xmlns:Mc[0],"xmlns:r":Gs.r})],E=p.SheetNames[u],F=p.Sheets[E],R=(F=F??{})["!ref"]||"A1",z=Tn(R);if(16383<z.e.c||1048575<z.e.r){if(m.WTF)throw new Error("Range "+R+" exceeds format limit A1:XFD1048576");z.e.c=Math.min(z.e.c,16383),z.e.r=Math.min(z.e.c,1048575),R=tn(z)}x=x||{},F["!comments"]=[];var G,K,Z=[];(function(me,oe,ye,Ne,Ce){var We=!1,tt={},Je=null;if(Ne.bookType!=="xlsx"&&oe.vbaraw){var ct=oe.SheetNames[ye];try{oe.Workbook&&(ct=oe.Workbook.Sheets[ye].CodeName||ct)}catch{}We=!0,tt.codeName=oc(Na(ct))}me&&me["!outline"]&&(Ne={summaryBelow:1,summaryRight:1},me["!outline"].above&&(Ne.summaryBelow=0),me["!outline"].left&&(Ne.summaryRight=0),Je=(Je||"")+er("outlinePr",null,Ne)),(We||Je)&&(Ce[Ce.length]=er("sheetPr",Je,tt))})(F,p,u,m,S),S[S.length]=er("dimension",null,{ref:R}),S[S.length]=(E={workbookViewId:"0"},((((z=p)||{}).Workbook||{}).Views||[])[0]&&(E.rightToLeft=z.Workbook.Views[0].RTL?"1":"0"),er("sheetViews",er("sheetView",null,E),{})),m.sheetFormat&&(S[S.length]=er("sheetFormatPr",null,{defaultRowHeight:m.sheetFormat.defaultRowHeight||"16",baseColWidth:m.sheetFormat.baseColWidth||"10",outlineLevelRow:m.sheetFormat.outlineLevelRow||"7"})),F["!cols"]!=null&&0<F["!cols"].length&&(S[S.length]=function(me){for(var oe,ye=["<cols>"],Ne=0;Ne!=me.length;++Ne)(oe=me[Ne])&&(ye[ye.length]=er("col",null,F5(Ne,oe)));return ye[ye.length]="</cols>",ye.join("")}(F["!cols"])),S[N=S.length]="<sheetData/>",F["!links"]=[],F["!ref"]!=null&&0<(A=tde(F,m)).length&&(S[S.length]=A),S.length>N+1&&(S[S.length]="</sheetData>",S[N]=S[N].replace("/>",">")),F["!protect"]&&(S[S.length]=(G=F["!protect"],K={sheet:1},Jue.forEach(function(me){G[me]!=null&&G[me]&&(K[me]="1")}),Zue.forEach(function(me){G[me]==null||G[me]||(K[me]="0")}),G.password&&(K.password=Ev(G.password).toString(16).toUpperCase()),er("sheetProtection",null,K))),F["!autofilter"]!=null&&(S[S.length]=function(me,oe,ye,Ne){var Ce=typeof me.ref=="string"?me.ref:tn(me.ref);ye.Workbook||(ye.Workbook={Sheets:[]}),ye.Workbook.Names||(ye.Workbook.Names=[]);var We=ye.Workbook.Names;(me=Pi(Ce)).s.r==me.e.r&&(me.e.r=Pi(oe["!ref"]).e.r,Ce=tn(me));for(var tt=0;tt<We.length;++tt){var Je=We[tt];if(Je.Name=="_xlnm._FilterDatabase"&&Je.Sheet==Ne){Je.Ref="'"+ye.SheetNames[Ne]+"'!"+Ce;break}}return tt==We.length&&We.push({Name:"_xlnm._FilterDatabase",Sheet:Ne,Ref:"'"+ye.SheetNames[Ne]+"'!"+Ce}),er("autoFilter",null,{ref:Ce})}(F["!autofilter"],F,p,u)),F["!merges"]!=null&&0<F["!merges"].length&&(S[S.length]=function(me){if(me.length===0)return"";for(var oe='<mergeCells count="'+me.length+'">',ye=0;ye!=me.length;++ye)oe+='<mergeCell ref="'+tn(me[ye])+'"/>';return oe+"</mergeCells>"}(F["!merges"]));var he,ae,be=-1;return 0<F["!links"].length&&(S[S.length]="<hyperlinks>",F["!links"].forEach(function(me){me[1].Target&&(ae={ref:me[0]},me[1].Target.charAt(0)!="#"&&(be=ba(x,-1,Na(me[1].Target).replace(/#.*$/,""),Pn.HLINK),ae["r:id"]="rId"+be),-1<(he=me[1].Target.indexOf("#"))&&(ae.location=Na(me[1].Target.slice(he+1))),me[1].Tooltip&&(ae.tooltip=Na(me[1].Tooltip)),S[S.length]=er("hyperlink",null,ae))}),S[S.length]="</hyperlinks>"),delete F["!links"],F["!margins"]!=null&&(S[S.length]=(k0(p=F["!margins"]),er("pageMargins",null,p))),m&&!m.ignoreEC&&m.ignoreEC!=null||(S[S.length]=bi("ignoredErrors",er("ignoredError",null,{numberStoredAsText:1,sqref:R}))),0<Z.length&&(be=ba(x,-1,"../drawings/drawing"+(u+1)+".xml",Pn.DRAW),S[S.length]=er("drawing",null,{"r:id":"rId"+be}),F["!drawing"]=Z),0<F["!comments"].length&&(be=ba(x,-1,"../drawings/vmlDrawing"+(u+1)+".vml",Pn.VML),S[S.length]=er("legacyDrawing",null,{"r:id":"rId"+be}),F["!legacy"]=be),1<S.length&&(S[S.length]="</worksheet>",S[1]=S[1].replace("/>",">")),S.join("")}function rde(u,m,p,x){p=function(N,A,S){var E=bt(145),F=(S["!rows"]||[])[N]||{};E.write_shift(4,N),E.write_shift(4,0);var z=320;F.hpx?z=20*Xy(F.hpx):F.hpt&&(z=20*F.hpt),E.write_shift(2,z),E.write_shift(1,0),z=0,F.level&&(z|=F.level),F.hidden&&(z|=16),(F.hpx||F.hpt)&&(z|=32),E.write_shift(1,z),E.write_shift(1,0);var R=0,z=E.l;E.l+=4;for(var G={r:N,c:0},K=0;K<16;++K)if(!(A.s.c>K+1<<10||A.e.c<K<<10)){for(var Z=-1,he=-1,ae=K<<10;ae<K+1<<10;++ae)G.c=ae,(Array.isArray(S)?(S[G.r]||[])[G.c]:S[en(G)])&&(Z<0&&(Z=ae),he=ae);Z<0||(++R,E.write_shift(4,Z),E.write_shift(4,he))}return N=E.l,E.l=z,E.write_shift(4,R),E.l=N,E.length>E.l?E.slice(0,E.l):E}(x,p,m),(17<p.length||(m["!rows"]||[])[x])&&Rt(u,0,p)}var D5=Fi,nde=Zo;function KI(u){return[Oo(u),wn(u),"n"]}var Rv=Fi,ade=Zo,YI=["left","right","top","bottom","header","footer"];function sde(u,m,p,x,N,A,S){if(m.v===void 0)return!1;var E="";switch(m.t){case"b":E=m.v?"1":"0";break;case"d":(m=Yn(m)).z=m.z||Y[14],m.v=Oa(ca(m.v)),m.t="n";break;case"n":case"e":E=""+m.v;break;default:E=m.v}var F,R,z,G,K,Z,he,ae,be,me,oe,ye,Ne,Ce,We,tt,Je,ct,kt,Ft,ht={r:p,c:x};switch(ht.s=Om(N.cellXfs,m,N),m.l&&A["!links"].push([en(ht),m.l]),m.c&&A["!comments"].push([en(ht),m.c]),m.t){case"s":case"str":return N.bookSST?(E=KA(N.Strings,m.v,N.revStrings),ht.t="s",ht.v=E,S?Rt(u,18,(Fo(Je=ht,ct=ct??bt(8)),ct.write_shift(4,Je.v),ct)):Rt(u,7,(wu(Je=ht,tt=tt??bt(12)),tt.write_shift(4,Je.v),tt))):(ht.t="str",S?Rt(u,17,(Ce=m,Fo(ht,We=We??bt(8+4*Ce.v.length)),rs(Ce.v,We),We.length>We.l?We.slice(0,We.l):We)):Rt(u,6,(Ce=m,wu(ht,Ne=Ne??bt(12+4*Ce.v.length)),rs(Ce.v,Ne),Ne.length>Ne.l?Ne.slice(0,Ne.l):Ne))),!0;case"n":return m.v==(0|m.v)&&-1e3<m.v&&m.v<1e3?S?Rt(u,13,(oe=m,Fo(ht,ye=ye??bt(8)),fd(oe.v,ye),ye)):Rt(u,2,(oe=m,wu(ht,me=me??bt(12)),fd(oe.v,me),me)):S?Rt(u,16,(ae=m,Fo(ht,be=be??bt(12)),ya(ae.v,be),be)):Rt(u,5,(ae=m,wu(ht,he=he??bt(16)),ya(ae.v,he),he)),!0;case"b":return ht.t="b",S?Rt(u,15,(K=m,Fo(ht,Z=Z??bt(5)),Z.write_shift(1,K.v?1:0),Z)):Rt(u,4,(K=m,wu(ht,G=G??bt(9)),G.write_shift(1,K.v?1:0),G)),!0;case"e":return ht.t="e",S?Rt(u,14,(R=m,Fo(ht,z=z??bt(8)),z.write_shift(1,R.v),z.write_shift(2,0),z.write_shift(1,0),z)):Rt(u,3,(R=m,wu(ht,F=F??bt(9)),F.write_shift(1,R.v),F)),!0}return S?Rt(u,12,Fo(ht,Ft=Ft??bt(4))):Rt(u,1,wu(ht,kt=kt??bt(8))),!0}function ide(u,m){var p,x;m&&m["!merges"]&&(Rt(u,177,(p=m["!merges"].length,(x=x??bt(4)).write_shift(4,p),x)),m["!merges"].forEach(function(N){Rt(u,176,ade(N))}),Rt(u,178))}function ode(u,m){m&&m["!cols"]&&(Rt(u,390),m["!cols"].forEach(function(p,x){p&&Rt(u,60,function(N,A,S){S==null&&(S=bt(18));var E=F5(N,A);return S.write_shift(-4,N),S.write_shift(-4,N),S.write_shift(4,256*(E.width||10)),S.write_shift(4,0),N=0,A.hidden&&(N|=1),typeof E.width=="number"&&(N|=2),A.level&&(N|=A.level<<8),S.write_shift(2,N),S}(x,p))}),Rt(u,391))}function lde(u,m){var p;m&&m["!ref"]&&(Rt(u,648),Rt(u,649,(p=Tn(m["!ref"]),(m=bt(24)).write_shift(4,4),m.write_shift(4,1),Zo(p,m),m)),Rt(u,650))}function cde(u,m,p){m["!links"].forEach(function(x){var N,A;x[1].Target&&(N=ba(p,-1,x[1].Target.replace(/#.*$/,""),Pn.HLINK),Rt(u,494,(A=N,x=bt(50+4*((N=x)[1].Target.length+(N[1].Tooltip||"").length)),Zo({s:Sa(N[0]),e:Sa(N[0])},x),ju("rId"+A,x),rs(((A=N[1].Target.indexOf("#"))==-1?"":N[1].Target.slice(A+1))||"",x),rs(N[1].Tooltip||"",x),rs("",x),x.slice(0,x.l))))}),delete m["!links"]}function ude(u,m,p){Rt(u,133),Rt(u,137,function(x,N){N==null&&(N=bt(30));var A=924;return(((x||{}).Views||[])[0]||{}).RTL&&(A|=32),N.write_shift(2,A),N.write_shift(4,0),N.write_shift(4,0),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(1,0),N.write_shift(2,0),N.write_shift(2,100),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(4,0),N}(p)),Rt(u,138),Rt(u,134)}function dde(u,m){var p,x;m["!protect"]&&Rt(u,535,(p=m["!protect"],(x=x??bt(66)).write_shift(2,p.password?Ev(p.password):0),x.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(N){N[1]?x.write_shift(4,p[N[0]]==null||p[N[0]]?0:1):x.write_shift(4,p[N[0]]!=null&&p[N[0]]?0:1)}),x))}function fde(u,m,p,x){var N=Ks(),R=p.SheetNames[u],A=p.Sheets[R]||{},S=R;try{p&&p.Workbook&&(S=p.Workbook.Sheets[u].CodeName||S)}catch{}var E,F,R=Tn(A["!ref"]||"A1");if(16383<R.e.c||1048575<R.e.r){if(m.WTF)throw new Error("Range "+(A["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");R.e.c=Math.min(R.e.c,16383),R.e.r=Math.min(R.e.c,1048575)}return A["!links"]=[],A["!comments"]=[],Rt(N,129),(p.vbaraw||A["!outline"])&&Rt(N,147,function(z,G,K){K==null&&(K=bt(84+4*z.length));var Z=192;G&&(G.above&&(Z&=-65),G.left&&(Z&=-129)),K.write_shift(1,Z);for(var he=1;he<3;++he)K.write_shift(1,0);return hs({auto:1},K),K.write_shift(-4,-1),K.write_shift(-4,-1),vm(z,K),K.slice(0,K.l)}(S,A["!outline"])),Rt(N,148,nde(R)),ude(N,0,p.Workbook),ode(N,A),function(z,G,K){var Z,he=Tn(G["!ref"]||"A1"),ae=[];Rt(z,145);var be=Array.isArray(G),me=he.e.r;G["!rows"]&&(me=Math.max(he.e.r,G["!rows"].length-1));for(var oe=he.s.r;oe<=me;++oe){Z=ts(oe),rde(z,G,he,oe);var ye=!1;if(oe<=he.e.r)for(var Ne=he.s.c;Ne<=he.e.c;++Ne){oe===he.s.r&&(ae[Ne]=qn(Ne)),Ce=ae[Ne]+Z;var Ce=be?(G[oe]||[])[Ne]:G[Ce];Ce?ye=sde(z,Ce,oe,Ne,K,G,ye):ye=!1}}Rt(z,146)}(N,A,m),dde(N,A),function(z,G,K,Z){if(G["!autofilter"]){var be=G["!autofilter"],he=typeof be.ref=="string"?be.ref:tn(be.ref);K.Workbook||(K.Workbook={Sheets:[]}),K.Workbook.Names||(K.Workbook.Names=[]);var ae=K.Workbook.Names,be=Pi(he);be.s.r==be.e.r&&(be.e.r=Pi(G["!ref"]).e.r,he=tn(be));for(var me=0;me<ae.length;++me){var oe=ae[me];if(oe.Name=="_xlnm._FilterDatabase"&&oe.Sheet==Z){oe.Ref="'"+K.SheetNames[Z]+"'!"+he;break}}me==ae.length&&ae.push({Name:"_xlnm._FilterDatabase",Sheet:Z,Ref:"'"+K.SheetNames[Z]+"'!"+he}),Rt(z,161,Zo(Tn(he))),Rt(z,162)}}(N,A,p,u),ide(N,A),cde(N,A,x),A["!margins"]&&Rt(N,476,(E=A["!margins"],F==null&&(F=bt(48)),k0(E),YI.forEach(function(z){ya(E[z],F)}),F)),m&&!m.ignoreEC&&m.ignoreEC!=null||lde(N,A),R=N,m=u,x=x,0<(A=A)["!comments"].length&&(m=ba(x,-1,"../drawings/vmlDrawing"+(m+1)+".vml",Pn.VML),Rt(R,551,ju("rId"+m)),A["!legacy"]=m),Rt(N,130),N.end()}function hde(u,m,p,x,N,A){var S=A||{"!type":"chart"};if(!u)return A;var E,F=0,R=0,z={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(u.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(G){var K=function(Z){var he,ae=[],be=Z.match(/^<c:numCache>/);(Z.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(oe){oe=oe.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/),oe&&(ae[+oe[1]]=be?+oe[2]:oe[2])});var me=Mn((Z.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(Z.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(oe){he=oe.replace(/<.*?>/g,"")}),[ae,me,he]}(G);z.s.r=z.s.c=0,z.e.c=F,E=qn(F),K[0].forEach(function(Z,he){S[E+ts(he)]={t:"n",v:Z,z:K[1]},R=he}),z.e.r<R&&(z.e.r=R),++F}),0<F&&(S["!ref"]=tn(z)),S}var XA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],mde=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],pde=[],gde=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function XI(u,m){for(var p=0;p!=u.length;++p)for(var x=u[p],N=0;N!=m.length;++N){var A=m[N];if(x[A[0]]==null)x[A[0]]=A[1];else switch(A[2]){case"bool":typeof x[A[0]]=="string"&&(x[A[0]]=Ka(x[A[0]]));break;case"int":typeof x[A[0]]=="string"&&(x[A[0]]=parseInt(x[A[0]],10))}}}function JI(u,m){for(var p=0;p!=m.length;++p){var x=m[p];if(u[x[0]]==null)u[x[0]]=x[1];else switch(x[2]){case"bool":typeof u[x[0]]=="string"&&(u[x[0]]=Ka(u[x[0]]));break;case"int":typeof u[x[0]]=="string"&&(u[x[0]]=parseInt(u[x[0]],10))}}}function ZI(u){JI(u.WBProps,XA),JI(u.CalcPr,gde),XI(u.WBView,mde),XI(u.Sheets,pde),Dv.date1904=Ka(u.WBProps.date1904)}var vde="][*?/\\".split("");function QI(u,m){if(31<u.length){if(m)return;throw new Error("Sheet names cannot exceed 31 chars")}var p=!0;return vde.forEach(function(x){if(u.indexOf(x)!=-1){if(!m)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");p=!1}}),p}function eL(u){if(!u||!u.SheetNames||!u.Sheets)throw new Error("Invalid Workbook");if(!u.SheetNames.length)throw new Error("Workbook is empty");var m,p,x,N=u.Workbook&&u.Workbook.Sheets||[];m=u.SheetNames,p=N,x=!!u.vbaraw,m.forEach(function(S,E){QI(S);for(var F=0;F<E;++F)if(S==m[F])throw new Error("Duplicate Sheet Name: "+S);if(x){var R=p&&p[E]&&p[E].CodeName||S;if(R.charCodeAt(0)==95&&22<R.length)throw new Error("Bad Code Name: Worksheet"+R)}});for(var A=0;A<u.SheetNames.length;++A)(function(S,E){if(S&&S["!ref"]){var F=Tn(S["!ref"]);if(F.e.c<F.s.c||F.e.r<F.s.r)throw new Error("Bad range ("+E+"): "+S["!ref"])}})(u.Sheets[u.SheetNames[A]],(u.SheetNames[A],A))}var xde=/<\w+:workbook/;function tL(u){var m=[us];m[m.length]=er("workbook",null,{xmlns:Mc[0],"xmlns:r":Gs.r});var p=u.Workbook&&0<(u.Workbook.Names||[]).length,x={codeName:"ThisWorkbook"};u.Workbook&&u.Workbook.WBProps&&(XA.forEach(function(E){u.Workbook.WBProps[E[0]]!=null&&u.Workbook.WBProps[E[0]]!=E[1]&&(x[E[0]]=u.Workbook.WBProps[E[0]])}),u.Workbook.WBProps.CodeName&&(x.codeName=u.Workbook.WBProps.CodeName,delete x.CodeName)),m[m.length]=er("workbookPr",null,x);var N=u.Workbook&&u.Workbook.Sheets||[],A=0;if(N&&N[0]&&N[0].Hidden){for(m[m.length]="<bookViews>",A=0;A!=u.SheetNames.length&&N[A]&&N[A].Hidden;++A);A==u.SheetNames.length&&(A=0),m[m.length]='<workbookView firstSheet="'+A+'" activeTab="'+A+'"/>',m[m.length]="</bookViews>"}for(m[m.length]="<sheets>",A=0;A!=u.SheetNames.length;++A){var S={name:Na(u.SheetNames[A].slice(0,31))};if(S.sheetId=""+(A+1),S["r:id"]="rId"+(A+1),N[A])switch(N[A].Hidden){case 1:S.state="hidden";break;case 2:S.state="veryHidden"}m[m.length]=er("sheet",null,S)}return m[m.length]="</sheets>",p&&(m[m.length]="<definedNames>",u.Workbook&&u.Workbook.Names&&u.Workbook.Names.forEach(function(E){var F={name:E.Name};E.Comment&&(F.comment=E.Comment),E.Sheet!=null&&(F.localSheetId=""+E.Sheet),E.Hidden&&(F.hidden="1"),E.Ref&&(m[m.length]=er("definedName",Na(E.Ref),F))}),m[m.length]="</definedNames>"),2<m.length&&(m[m.length]="</workbook>",m[1]=m[1].replace("/>",">")),m.join("")}function yde(u,m){var p={};return u.read_shift(4),p.ArchID=u.read_shift(4),u.l+=m-8,p}function bde(u,m){Rt(u,143);for(var p,x=0;x!=m.SheetNames.length;++x){var N={Hidden:m.Workbook&&m.Workbook.Sheets&&m.Workbook.Sheets[x]&&m.Workbook.Sheets[x].Hidden||0,iTabID:x+1,strRelID:"rId"+(x+1),name:m.SheetNames[x]};Rt(u,156,(p=N,(N=(N=void 0)||bt(127)).write_shift(4,p.Hidden),N.write_shift(4,p.iTabID),ju(p.strRelID,N),rs(p.name.slice(0,31),N),N.length>N.l?N.slice(0,N.l):N))}Rt(u,144)}function wde(u,m){if(m.Workbook&&m.Workbook.Sheets){for(var p,x=m.Workbook.Sheets,N=0,A=-1,S=-1;N<x.length;++N)!x[N]||!x[N].Hidden&&A==-1?A=N:x[N].Hidden==1&&S==-1&&(S=N);A<S||(Rt(u,135),Rt(u,158,(m=A,(p=p||bt(29)).write_shift(-4,0),p.write_shift(-4,460),p.write_shift(4,28800),p.write_shift(4,17600),p.write_shift(4,500),p.write_shift(4,m),p.write_shift(4,m),p.write_shift(1,120),p.length>p.l?p.slice(0,p.l):p)),Rt(u,136))}}function _de(u,m){var p=Ks();return Rt(p,131),Rt(p,128,function(x){x=x||bt(127);for(var N=0;N!=4;++N)x.write_shift(4,0);return rs("SheetJS",x),rs(s.version,x),rs(s.version,x),rs("7262",x),x.length>x.l?x.slice(0,x.l):x}()),Rt(p,153,function(x,N){N=N||bt(72);var A=0;return x&&x.filterPrivacy&&(A|=8),N.write_shift(4,A),N.write_shift(4,0),vm(x&&x.CodeName||"ThisWorkbook",N),N.slice(0,N.l)}(u.Workbook&&u.Workbook.WBProps||null)),wde(p,u),bde(p,u),Rt(p,132),p.end()}function jde(u,m,p){return(m.slice(-4)===".bin"?function(x,N){var A={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},S=[],E=!1;(N=N||{}).biff=12;var F=[],R=[[]];return R.SheetNames=[],R.XTI=[],ib[16]={n:"BrtFRTArchID$",f:yde},dl(x,function(z,G,K){switch(K){case 156:R.SheetNames.push(z.name),A.Sheets.push(z);break;case 153:A.WBProps=z;break;case 39:z.Sheet!=null&&(N.SID=z.Sheet),z.Ref=Ul(z.Ptg,0,null,R,N),delete N.SID,delete z.Ptg,F.push(z);break;case 1036:break;case 357:case 358:case 355:case 667:R[0].length?R.push([K,z]):R[0]=[K,z],R[R.length-1].XTI=[];break;case 362:R.length===0&&(R[0]=[],R[0].XTI=[]),R[R.length-1].XTI=R[R.length-1].XTI.concat(z),R.XTI=R.XTI.concat(z);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:S.push(K),E=!0;break;case 36:S.pop(),E=!1;break;case 37:S.push(K),E=!0;break;case 38:S.pop(),E=!1;break;case 16:break;default:if(!G.T&&(!E||N.WTF&&S[S.length-1]!=37&&S[S.length-1]!=35))throw new Error("Unexpected record 0x"+K.toString(16))}},N),ZI(A),A.Names=F,A.supbooks=R,A}:function(x,N){if(!x)throw new Error("Could not find file");var A={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},S=!1,E="xmlns",F={},R=0;if(x.replace(Ws,function(z,G){var K=sn(z);switch(yi(K[0])){case"<?xml":break;case"<workbook":z.match(xde)&&(E="xmlns"+z.match(/<(\w+):/)[1]),A.xmlns=K[E];break;case"</workbook>":break;case"<fileVersion":delete K[0],A.AppVersion=K;break;case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":XA.forEach(function(Z){if(K[Z[0]]!=null)switch(Z[2]){case"bool":A.WBProps[Z[0]]=Ka(K[Z[0]]);break;case"int":A.WBProps[Z[0]]=parseInt(K[Z[0]],10);break;default:A.WBProps[Z[0]]=K[Z[0]]}}),K.codeName&&(A.WBProps.CodeName=va(K.codeName));break;case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete K[0],A.WBView.push(K);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(K.state){case"hidden":K.Hidden=1;break;case"veryHidden":K.Hidden=2;break;default:K.Hidden=0}delete K.state,K.name=Mn(va(K.name)),delete K[0],A.Sheets.push(K);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":break;case"<definedNames>":case"<definedNames":S=!0;break;case"</definedNames>":S=!1;break;case"<definedName":(F={}).Name=va(K.name),K.comment&&(F.Comment=K.comment),K.localSheetId&&(F.Sheet=+K.localSheetId),Ka(K.hidden||"0")&&(F.Hidden=!0),R=G+z.length;break;case"</definedName>":F.Ref=Mn(va(x.slice(R,G))),A.Names.push(F);break;case"<definedName/>":break;case"<calcPr":case"<calcPr/>":delete K[0],A.CalcPr=K;break;case"</calcPr>":case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":S=!0;break;case"</ext>":S=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":S=!0;break;case"</AlternateContent>":S=!1;break;case"<revisionPtr":break;default:if(!S&&N.WTF)throw new Error("unrecognized "+K[0]+" in workbook")}return z}),Mc.indexOf(A.xmlns)===-1)throw new Error("Unknown Namespace: "+A.xmlns);return ZI(A),A})(u,p)}function Nde(u,m,p,x,N,A,S,E){return(m.slice(-4)===".bin"?function(F,R,z,G,K,Z,he){if(!F)return F;var ae=R||{};G=G||{"!id":{}};var be,me,oe,ye,Ne,Ce,We,tt,Je,ct,kt=ae.dense?[]:{},Ft={s:{r:2e6,c:2e6},e:{r:0,c:0}},ht=!1,qt=!1,fr=[];ae.biff=12;var or=ae["!row"]=0,Zt=!1,tr=[],Yt={},Lt=ae.supbooks||K.supbooks||[[]];if(Lt.sharedf=Yt,Lt.arrayf=tr,Lt.SheetNames=K.SheetNames||K.Sheets.map(function(Vt){return Vt.name}),!ae.supbooks&&(ae.supbooks=Lt,K.Names))for(var vr=0;vr<K.Names.length;++vr)Lt[0][vr+1]=K.Names[vr];var Nr,Wr=[],zn=[],mr=!1;return ib[16]={n:"BrtShortReal",f:KI},dl(F,function(Vt,xn,da){if(!qt)switch(da){case 148:be=Vt;break;case 0:me=Vt,ae.sheetRows&&ae.sheetRows<=me.r&&(qt=!0),Je=ts(Ne=me.r),ae["!row"]=me.r,(Vt.hidden||Vt.hpt||Vt.level!=null)&&(Vt.hpt&&(Vt.hpx=Pv(Vt.hpt)),zn[Vt.r]=Vt);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(oe={t:Vt[2]},Vt[2]){case"n":oe.v=Vt[1];break;case"s":tt=rb[Vt[1]],oe.v=tt.t,oe.r=tt.r;break;case"b":oe.v=!!Vt[1];break;case"e":oe.v=Vt[1],ae.cellText!==!1&&(oe.w=Il[oe.v]);break;case"str":oe.t="s",oe.v=Vt[1];break;case"is":oe.t="s",oe.v=Vt[1].t}if((ye=he.CellXf[Vt[0].iStyleRef])&&LI(oe,ye.numFmtId,null,ae,Z,he),Ce=Vt[0].c==-1?Ce+1:Vt[0].c,ae.dense?(kt[Ne]||(kt[Ne]=[]),kt[Ne][Ce]=oe):kt[qn(Ce)+Je]=oe,ae.cellFormula){for(Zt=!1,or=0;or<tr.length;++or){var ra=tr[or];me.r>=ra[0].s.r&&me.r<=ra[0].e.r&&Ce>=ra[0].s.c&&Ce<=ra[0].e.c&&(oe.F=tn(ra[0]),Zt=!0)}!Zt&&3<Vt.length&&(oe.f=Vt[3])}Ft.s.r>me.r&&(Ft.s.r=me.r),Ft.s.c>Ce&&(Ft.s.c=Ce),Ft.e.r<me.r&&(Ft.e.r=me.r),Ft.e.c<Ce&&(Ft.e.c=Ce),ae.cellDates&&ye&&oe.t=="n"&&Mr(Y[ye.numFmtId])&&(za=_e(oe.v))&&(oe.t="d",oe.v=new Date(za.y,za.m-1,za.d,za.H,za.M,za.S,za.u)),Nr&&(Nr.type=="XLDAPR"&&(oe.D=!0),Nr=void 0);break;case 1:case 12:if(!ae.sheetStubs||ht)break;oe={t:"z",v:void 0},Ce=Vt[0].c==-1?Ce+1:Vt[0].c,ae.dense?(kt[Ne]||(kt[Ne]=[]),kt[Ne][Ce]=oe):kt[qn(Ce)+Je]=oe,Ft.s.r>me.r&&(Ft.s.r=me.r),Ft.s.c>Ce&&(Ft.s.c=Ce),Ft.e.r<me.r&&(Ft.e.r=me.r),Ft.e.c<Ce&&(Ft.e.c=Ce),Nr&&(Nr.type=="XLDAPR"&&(oe.D=!0),Nr=void 0);break;case 176:fr.push(Vt);break;case 49:Nr=((ae.xlmeta||{}).Cell||[])[Vt-1];break;case 494:var za=G["!id"][Vt.relId];for(za?(Vt.Target=za.Target,Vt.loc&&(Vt.Target+="#"+Vt.loc),Vt.Rel=za):Vt.relId==""&&(Vt.Target="#"+Vt.loc),Ne=Vt.rfx.s.r;Ne<=Vt.rfx.e.r;++Ne)for(Ce=Vt.rfx.s.c;Ce<=Vt.rfx.e.c;++Ce)ae.dense?(kt[Ne]||(kt[Ne]=[]),kt[Ne][Ce]||(kt[Ne][Ce]={t:"z",v:void 0}),kt[Ne][Ce].l=Vt):(We=en({c:Ce,r:Ne}),kt[We]||(kt[We]={t:"z",v:void 0}),kt[We].l=Vt);break;case 426:if(!ae.cellFormula)break;tr.push(Vt),(ct=ae.dense?kt[Ne][Ce]:kt[qn(Ce)+Je]).f=Ul(Vt[1],0,{r:me.r,c:Ce},Lt,ae),ct.F=tn(Vt[0]);break;case 427:if(!ae.cellFormula)break;Yt[en(Vt[0].s)]=Vt[1],(ct=ae.dense?kt[Ne][Ce]:kt[qn(Ce)+Je]).f=Ul(Vt[1],0,{r:me.r,c:Ce},Lt,ae);break;case 60:if(!ae.cellStyles)break;for(;Vt.e>=Vt.s;)Wr[Vt.e--]={width:Vt.w/256,hidden:!!(1&Vt.flags),level:Vt.level},mr||(mr=!0,BA(Vt.w/256)),Tm(Wr[Vt.e+1]);break;case 161:kt["!autofilter"]={ref:tn(Vt)};break;case 476:kt["!margins"]=Vt;break;case 147:K.Sheets[z]||(K.Sheets[z]={}),Vt.name&&(K.Sheets[z].CodeName=Vt.name),(Vt.above||Vt.left)&&(kt["!outline"]={above:Vt.above,left:Vt.left});break;case 137:K.Views||(K.Views=[{}]),K.Views[0]||(K.Views[0]={}),Vt.RTL&&(K.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:ht=!0;break;case 36:ht=!1;break;case 37:ht=!0;break;case 38:ht=!1;break;default:if(!xn.T&&(!ht||ae.WTF))throw new Error("Unexpected record 0x"+da.toString(16))}},ae),delete ae.supbooks,delete ae["!row"],!kt["!ref"]&&(Ft.s.r<2e6||be&&(0<be.e.r||0<be.e.c||0<be.s.r||0<be.s.c))&&(kt["!ref"]=tn(be||Ft)),ae.sheetRows&&kt["!ref"]&&(F=Tn(kt["!ref"]),ae.sheetRows<=+F.e.r&&(F.e.r=ae.sheetRows-1,F.e.r>Ft.e.r&&(F.e.r=Ft.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>Ft.e.c&&(F.e.c=Ft.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),kt["!fullref"]=kt["!ref"],kt["!ref"]=tn(F))),0<fr.length&&(kt["!merges"]=fr),0<Wr.length&&(kt["!cols"]=Wr),0<zn.length&&(kt["!rows"]=zn),kt}:Xue)(u,x,p,N,A,S,E)}function Sde(u,m,p,x,N,A){return m.slice(-4)===".bin"?function(S,E,F,R,z){if(!S)return S;R=R||{"!id":{}};var G={"!type":"chart","!drawel":null,"!rel":""},K=!1;return dl(S,function(Z,he,ae){switch(ae){case 550:G["!rel"]=Z;break;case 651:z.Sheets[F]||(z.Sheets[F]={}),Z.name&&(z.Sheets[F].CodeName=Z.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:K=!0;break;case 36:K=!1;break;case 37:break;case 38:break;default:if(!(0<he.T)){if(!(he.T<0)){if(!K||E.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}}},E),R["!id"][G["!rel"]]&&(G["!drawel"]=R["!id"][G["!rel"]]),G}(u,x,p,N,A):function(S,E,F,R){if(!S)return S;F=F||{"!id":{}};var z={"!type":"chart","!drawel":null,"!rel":""},G=S.match($I);return G&&YA(G[0],0,R,E),(S=S.match(/drawing r:id="(.*?)"/))&&(z["!rel"]=S[1]),F["!id"][z["!rel"]]&&(z["!drawel"]=F["!id"][z["!rel"]]),z}(u,p,N,A)}function Cde(u,m,p,x){return(m.slice(-4)===".bin"?function(N,A,S){var E,F={NumberFmt:[]};for(E in Y)F.NumberFmt[E]=Y[E];F.CellXf=[],F.Fonts=[];var R=[],z=!1;return dl(N,function(G,K,Z){switch(Z){case 44:F.NumberFmt[G[0]]=G[1],ia(G[1],G[0]);break;case 43:F.Fonts.push(G),G.color.theme!=null&&A&&A.themeElements&&A.themeElements.clrScheme&&(G.color.rgb=dc(A.themeElements.clrScheme[G.color.theme].rgb,G.color.tint||0));break;case 1025:case 45:case 46:break;case 47:R[R.length-1]==617&&F.CellXf.push(G);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:z=!0;break;case 36:z=!1;break;case 37:R.push(Z),z=!0;break;case 38:R.pop(),z=!1;break;default:if(0<K.T)R.push(Z);else if(K.T<0)R.pop();else if(!z||S.WTF&&R[R.length-1]!=37)throw new Error("Unexpected record 0x"+Z.toString(16))}}),F}:sue)(u,p,x)}function Ade(u,m,p){return m.slice(-4)===".bin"?(x=p,A=!(N=[]),dl(u,function(S,E,F){switch(F){case 159:N.Count=S[0],N.Unique=S[1];break;case 19:N.push(S);break;case 160:return 1;case 35:A=!0;break;case 36:A=!1;break;default:if(E.T,!A||x.WTF)throw new Error("Unexpected record 0x"+F.toString(16))}}),N):function(S,E){var F=[],R="";if(!S)return F;if(S=S.match(w5)){R=S[2].replace(Cv,"").split(_5);for(var z=0;z!=R.length;++z){var G=Wy(R[z].trim(),E);G!=null&&(F[F.length]=G)}S=sn(S[1]),F.Count=S.count,F.Unique=S.uniqueCount}return F}(u,p);var x,N,A}function kde(u,m,p){return m.slice(-4)===".bin"?(x=p,N=[],A=[],E=!(S={}),dl(u,function(F,R,z){switch(z){case 632:A.push(F);break;case 635:S=F;break;case 637:S.t=F.t,S.h=F.h,S.r=F.r;break;case 636:if(S.author=A[S.iauthor],delete S.iauthor,x.sheetRows&&S.rfx&&x.sheetRows<=S.rfx.r)break;S.t||(S.t=""),delete S.rfx,N.push(S);break;case 3072:break;case 35:E=!0;break;case 36:E=!1;break;case 37:case 38:break;default:if(!R.T&&(!E||x.WTF))throw new Error("Unexpected record 0x"+z.toString(16))}}),N):function(F,R){if(F.match(/<(?:\w+:)?comments *\/>/))return[];var z=[],G=[],K=F.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);return K&&K[1]&&K[1].split(/<\/\w*:?author>/).forEach(function(Z){Z===""||Z.trim()===""||(Z=Z.match(/<(?:\w+:)?author[^>]*>(.*)/))&&z.push(Z[1])}),(F=F.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/))&&F[1]&&F[1].split(/<\/\w*:?comment>/).forEach(function(Z){var he,ae;Z===""||Z.trim()===""||(he=Z.match(/<(?:\w+:)?comment[^>]*>/))&&(he={author:(ae=sn(he[0])).authorId&&z[ae.authorId]||"sheetjsghost",ref:ae.ref,guid:ae.guid},ae=Sa(ae.ref),R.sheetRows&&R.sheetRows<=ae.r||(Z=!!(Z=Z.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/))&&!!Z[1]&&Wy(Z[1])||{r:"",t:"",h:""},he.r=Z.r,Z.r=="<t></t>"&&(Z.t=Z.h=""),he.t=(Z.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),R.cellHTML&&(he.h=Z.h),G.push(he)))}),G}(u,p);var x,N,A,S,E}function Ede(u,m){return m.slice(-4)===".bin"?(p=[],dl(u,function(x,N,A){if(A===63)p.push(x);else if(!N.T)throw new Error("Unexpected record 0x"+A.toString(16))}),p):function(x){var N=[];if(!x)return N;var A=1;return(x.match(Ws)||[]).forEach(function(S){var E=sn(S);switch(E[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete E[0],E.i?A=E.i:E.i=A,N.push(E)}}),N}(u);var p}function Tde(u,m,p,x){if(p.slice(-4)===".bin")return function(N,A){if(!N)return N;var S=A||{},E=!1;dl(N,function(F,R,z){switch(z){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:E=!0;break;case 36:E=!1;break;default:if(!R.T&&(!E||S.WTF))throw new Error("Unexpected record 0x"+z.toString(16))}},S)}(u,x)}function Pde(u,m,p){return m.slice(-4)===".bin"?(x={Types:[],Cell:[],Value:[]},N=p||{},S=!(A=[]),E=2,dl(u,function(F,R,z){switch(z){case 335:x.Types.push({name:F.name});break;case 51:F.forEach(function(G){E==1?x.Cell.push({type:x.Types[G[0]-1].name,index:G[1]}):E==0&&x.Value.push({type:x.Types[G[0]-1].name,index:G[1]})});break;case 337:E=F?1:0;break;case 338:E=2;break;case 35:A.push(z),S=!0;break;case 36:A.pop(),S=!1;break;default:if(!R.T&&(!S||N.WTF&&A[A.length-1]!=35))throw new Error("Unexpected record 0x"+z.toString(16))}}),x):function(F,R){var z={Types:[],Cell:[],Value:[]};if(!F)return z;var G,K=!1,Z=2;return F.replace(Ws,function(he){var ae=sn(he);switch(yi(ae[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":z.Types.push({name:ae.name});break;case"</metadataType>":break;case"<futureMetadata":for(var be=0;be<z.Types.length;++be)z.Types[be].name==ae.name&&(G=z.Types[be]);break;case"</futureMetadata>":case"<bk>":case"</bk>":break;case"<rc":Z==1?z.Cell.push({type:z.Types[ae.t-1].name,index:+ae.v}):Z==0&&z.Value.push({type:z.Types[ae.t-1].name,index:+ae.v});break;case"</rc>":break;case"<cellMetadata":Z=1;break;case"</cellMetadata>":Z=2;break;case"<valueMetadata":Z=0;break;case"</valueMetadata>":Z=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":K=!0;break;case"</ext>":K=!1;break;case"<rvb":if(!G)break;G.offsets||(G.offsets=[]),G.offsets.push(+ae.i);break;default:if(!K&&R.WTF)throw new Error("unrecognized "+ae[0]+" in metadata")}return he}),z}(u,p);var x,N,A,S,E}var ab,rL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function vd(u,m){var p=u.split(/\s+/),x=[];if(m||(x[0]=p[0]),p.length===1)return x;var N,A,S,E=u.match(rL);if(E)for(S=0;S!=E.length;++S)(A=(N=E[S].match(nL))[1].indexOf(":"))===-1?x[N[1]]=N[2].slice(1,N[2].length-1):x[N[1].slice(0,6)==="xmlns:"?"xmlns"+N[1].slice(6):N[1].slice(A+1)]=N[2].slice(1,N[2].length-1);return x}function Ode(u,m,p){if(u.t!=="z"){if(!p||p.cellText!==!1)try{u.t==="e"?u.w=u.w||Il[u.v]:m==="General"?u.t==="n"?(0|u.v)===u.v?u.w=u.v.toString(10):u.w=pe(u.v):u.w=Ge(u.v):u.w=(x=m||"General",N=u.v,(x=ab[x]||Mn(x))==="General"?Ge(N):Gr(x,N))}catch(S){if(p.WTF)throw S}var x,N;try{var A=ab[m]||m||"General";p.cellNF&&(u.z=A),p.cellDates&&u.t=="n"&&Mr(A)&&(A=_e(u.v))&&(u.t="d",u.v=new Date(A.y,A.m-1,A.d,A.H,A.M,A.S,A.u))}catch(S){if(p.WTF)throw S}}}function JA(u,m){var p=m||{};ja();var x,N=y(s0(u)),A=(N=p.type=="binary"||p.type=="array"||p.type=="base64"?a!==void 0?a.utils.decode(65001,g(N)):va(N):N).slice(0,1024).toLowerCase(),S=!1;if((1023&(A=A.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&A.indexOf(","),1023&A.indexOf(";"))){var E=Yn(p);return E.type="string",Hn.to_workbook(N,E)}if(A.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ve){0<=A.indexOf("<"+Ve)&&(S=!0)}),S)return function(Ve,zt){if(Ve=Ve.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi),!Ve||Ve.length==0)throw new Error("Invalid HTML: could not find <table>");if(Ve.length==1)return Jo(iL(Ve[0],zt),zt);var dt=dk();return Ve.forEach(function(xt,lt){fk(dt,iL(xt,zt),"Sheet"+(lt+1))}),dt}(N,p);ab={"General Number":"General","General Date":Y[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Y[15],"Short Date":Y[14],"Long Time":Y[19],"Medium Time":Y[18],"Short Time":Y[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Y[2],Standard:Y[4],Percent:Y[10],Scientific:Y[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var F,R=[],z,G={},K=[],Z=p.dense?[]:{},he="",ae={},be={},me=vd('<Data ss:Type="String">'),oe=0,ye=0,Ne=0,Ce={s:{r:2e6,c:2e6},e:{r:0,c:0}},We={},tt={},Je="",ct=0,kt=[],Ft={},ht={},qt=0,fr=[],or=[],Zt={},tr=[],Yt=!1,Lt=[],vr=[],Nr={},Wr=0,zn=0,mr={Sheets:[],WBProps:{date1904:!1}},Vt={};Ml.lastIndex=0,N=N.replace(/<!--([\s\S]*?)-->/gm,"");for(var xn,da,ra,za,ui="";x=Ml.exec(N);)switch(x[3]=(ui=x[3]).toLowerCase()){case"data":if(ui=="data"){if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&R.push([x[3],!0]);break}if(R[R.length-1][1])break;x[1]==="/"?function(Ve,zt,dt,xt,lt,St,Gt,Fr,gr,lr){var Sr="General",Ir=xt.StyleID,Lr={};lr=lr||{};var ar=[],Kt=0;for((Ir=Ir===void 0&&Fr?Fr.StyleID:Ir)===void 0&&Gt&&(Ir=Gt.StyleID);St[Ir]!==void 0&&(St[Ir].nf&&(Sr=St[Ir].nf),St[Ir].Interior&&ar.push(St[Ir].Interior),St[Ir].Parent);)Ir=St[Ir].Parent;switch(dt.Type){case"Boolean":xt.t="b",xt.v=Ka(Ve);break;case"String":xt.t="s",xt.r=ef(Mn(Ve)),xt.v=-1<Ve.indexOf("<")?Mn(zt||Ve).replace(/<.*?>/g,""):xt.r;break;case"DateTime":Ve.slice(-1)!="Z"&&(Ve+="Z"),xt.v=(ca(Ve)-new Date(Date.UTC(1899,11,30)))/864e5,xt.v!=xt.v?xt.v=Mn(Ve):xt.v<60&&(xt.v=xt.v-1),Sr&&Sr!="General"||(Sr="yyyy-mm-dd");case"Number":xt.v===void 0&&(xt.v=+Ve),xt.t||(xt.t="n");break;case"Error":xt.t="e",xt.v=My[Ve],lr.cellText!==!1&&(xt.w=Ve);break;default:Ve==""&&zt==""?xt.t="z":(xt.t="s",xt.v=ef(zt||Ve))}if(Ode(xt,Sr,lr),lr.cellFormula!==!1)if(xt.Formula)dt=Mn(xt.Formula),dt.charCodeAt(0)==61&&(dt=dt.slice(1)),xt.f=Fv(dt,lt),delete xt.Formula,xt.ArrayRange=="RC"?xt.F=Fv("RC:RC",lt):xt.ArrayRange&&(xt.F=Fv(xt.ArrayRange,lt),gr.push([Tn(xt.F),xt.F]));else for(Kt=0;Kt<gr.length;++Kt)lt.r>=gr[Kt][0].s.r&&lt.r<=gr[Kt][0].e.r&&lt.c>=gr[Kt][0].s.c&&lt.c<=gr[Kt][0].e.c&&(xt.F=gr[Kt][1]);lr.cellStyles&&(ar.forEach(function(Br){!Lr.patternType&&Br.patternType&&(Lr.patternType=Br.patternType)}),xt.s=Lr),xt.StyleID!==void 0&&(xt.ixfe=xt.StyleID)}(N.slice(oe,x.index),Je,me,R[R.length-1][0]=="comment"?Zt:ae,{c:ye,r:Ne},We,tr[ye],be,Lt,p):(Je="",me=vd(x[0]),oe=x.index+x[0].length);break;case"cell":if(x[1]==="/")if(0<or.length&&(ae.c=or),(!p.sheetRows||p.sheetRows>Ne)&&ae.v!==void 0&&(p.dense?(Z[Ne]||(Z[Ne]=[]),Z[Ne][ye]=ae):Z[qn(ye)+ts(Ne)]=ae),ae.HRef&&(ae.l={Target:Mn(ae.HRef)},ae.HRefScreenTip&&(ae.l.Tooltip=ae.HRefScreenTip),delete ae.HRef,delete ae.HRefScreenTip),(ae.MergeAcross||ae.MergeDown)&&(Wr=ye+(0|parseInt(ae.MergeAcross,10)),zn=Ne+(0|parseInt(ae.MergeDown,10)),kt.push({s:{c:ye,r:Ne},e:{c:Wr,r:zn}})),p.sheetStubs)if(ae.MergeAcross||ae.MergeDown){for(var Ke=ye;Ke<=Wr;++Ke)for(var Ua=Ne;Ua<=zn;++Ua)(ye<Ke||Ne<Ua)&&(p.dense?(Z[Ua]||(Z[Ua]=[]),Z[Ua][Ke]={t:"z"}):Z[qn(Ke)+ts(Ua)]={t:"z"});ye=Wr+1}else++ye;else ae.MergeAcross?ye=Wr+1:++ye;else(ye=(ae=function(Ve){var zt={};if(Ve.split(/\s+/).length===1)return zt;var dt,xt,lt,St=Ve.match(rL);if(St)for(lt=0;lt!=St.length;++lt)(xt=(dt=St[lt].match(nL))[1].indexOf(":"))===-1?zt[dt[1]]=dt[2].slice(1,dt[2].length-1):zt[dt[1].slice(0,6)==="xmlns:"?"xmlns"+dt[1].slice(6):dt[1].slice(xt+1)]=dt[2].slice(1,dt[2].length-1);return zt}(x[0])).Index?+ae.Index-1:ye)<Ce.s.c&&(Ce.s.c=ye),ye>Ce.e.c&&(Ce.e.c=ye),x[0].slice(-2)==="/>"&&++ye,or=[];break;case"row":x[1]==="/"||x[0].slice(-2)==="/>"?(Ne<Ce.s.r&&(Ce.s.r=Ne),Ne>Ce.e.r&&(Ce.e.r=Ne),x[0].slice(-2)==="/>"&&(be=vd(x[0])).Index&&(Ne=+be.Index-1),ye=0,++Ne):((be=vd(x[0])).Index&&(Ne=+be.Index-1),Nr={},be.AutoFitHeight!="0"&&!be.Height||(Nr.hpx=parseInt(be.Height,10),Nr.hpt=Xy(Nr.hpx),vr[Ne]=Nr),be.Hidden=="1"&&(Nr.hidden=!0,vr[Ne]=Nr));break;case"worksheet":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"));K.push(he),Ce.s.r<=Ce.e.r&&Ce.s.c<=Ce.e.c&&(Z["!ref"]=tn(Ce),p.sheetRows&&p.sheetRows<=Ce.e.r&&(Z["!fullref"]=Z["!ref"],Ce.e.r=p.sheetRows-1,Z["!ref"]=tn(Ce))),kt.length&&(Z["!merges"]=kt),0<tr.length&&(Z["!cols"]=tr),0<vr.length&&(Z["!rows"]=vr),G[he]=Z}else Ce={s:{r:2e6,c:2e6},e:{r:0,c:0}},Ne=ye=0,R.push([x[3],!1]),F=vd(x[0]),he=Mn(F.Name),Z=p.dense?[]:{},kt=[],Lt=[],vr=[],Vt={name:he,Hidden:0},mr.Sheets.push(Vt);break;case"table":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"))}else{if(x[0].slice(-2)=="/>")break;R.push([x[3],!1]),Yt=!(tr=[])}break;case"style":x[1]==="/"?(da=We,ra=tt,(za=p).cellStyles&&(!ra.Interior||(za=ra.Interior).Pattern&&(za.patternType=aue[za.Pattern]||za.Pattern)),da[ra.ID]=ra):tt=vd(x[0]);break;case"numberformat":tt.nf=Mn(vd(x[0]).Format||"General"),ab[tt.nf]&&(tt.nf=ab[tt.nf]);for(var Ma=0;Ma!=392&&Y[Ma]!=tt.nf;++Ma);if(Ma==392){for(Ma=57;Ma!=392;++Ma)if(Y[Ma]==null){ia(tt.nf,Ma);break}}break;case"column":if(R[R.length-1][0]!=="table")break;if((z=vd(x[0])).Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!Yt&&10<z.wpx){Yt=!0,Li=gd;for(var co=0;co<tr.length;++co)tr[co]&&Tm(tr[co])}Yt&&Tm(z),tr[z.Index-1||tr.length]=z;for(var ku=0;ku<+z.Span;++ku)tr[tr.length]=Yn(z);break;case"namedrange":if(x[1]==="/")break;mr.Names||(mr.Names=[]);var De=sn(x[0]),mt={Name:De.Name,Ref:Fv(De.RefersTo.slice(1),{r:0,c:0})};0<mr.Sheets.length&&(mt.Sheet=mr.Sheets.length-1),mr.Names.push(mt);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":break;case"font":if(x[0].slice(-2)==="/>")break;x[1]==="/"?Je+=N.slice(ct,x.index):ct=x.index+x[0].length;break;case"interior":if(!p.cellStyles)break;tt.Interior=vd(x[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(x[0].slice(-2)==="/>")break;x[1]==="/"?(ra=Ft,De=ui,mt=N.slice(qt,x.index),ra[De=(a5=a5||Qr(bv))[De]||De]=mt):qt=x.index+x[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"))}else R.push([x[3],!1]);break;case"comment":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"));(xn=Zt).t=xn.v||"",xn.t=xn.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),xn.v=xn.w=xn.ixfe=void 0,or.push(Zt)}else R.push([x[3],!1]),Zt={a:(F=vd(x[0])).Author};break;case"autofilter":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&(xn=vd(x[0]),Z["!autofilter"]={ref:Fv(xn.Range).replace(/\$/g,"")},R.push([x[3],!0]));break;case"name":break;case"datavalidation":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&R.push([x[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(x[1]==="/"){if((F=R.pop())[0]!==x[3])throw new Error("Bad state: "+F.join("|"))}else x[0].charAt(x[0].length-2)!=="/"&&R.push([x[3],!0]);break;case"null":break;default:if(R.length==0&&x[3]=="document"||R.length==0&&x[3]=="uof")return xL(N,p);var qe=!0;switch(R[R.length-1][0]){case"officedocumentsettings":switch(x[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:qe=!1}break;case"componentoptions":switch(x[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:qe=!1}break;case"excelworkbook":switch(x[3]){case"date1904":mr.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:qe=!1}break;case"workbookoptions":switch(x[3]){case"owcversion":case"height":case"width":break;default:qe=!1}break;case"worksheetoptions":switch(x[3]){case"visible":if(x[0].slice(-2)!=="/>")if(x[1]==="/")switch(N.slice(qt,x.index)){case"SheetHidden":Vt.Hidden=1;break;case"SheetVeryHidden":Vt.Hidden=2}else qt=x.index+x[0].length;break;case"header":Z["!margins"]||k0(Z["!margins"]={},"xlml"),isNaN(+sn(x[0]).Margin)||(Z["!margins"].header=+sn(x[0]).Margin);break;case"footer":Z["!margins"]||k0(Z["!margins"]={},"xlml"),isNaN(+sn(x[0]).Margin)||(Z["!margins"].footer=+sn(x[0]).Margin);break;case"pagemargins":var ut=sn(x[0]);Z["!margins"]||k0(Z["!margins"]={},"xlml"),isNaN(+ut.Top)||(Z["!margins"].top=+ut.Top),isNaN(+ut.Left)||(Z["!margins"].left=+ut.Left),isNaN(+ut.Right)||(Z["!margins"].right=+ut.Right),isNaN(+ut.Bottom)||(Z["!margins"].bottom=+ut.Bottom);break;case"displayrighttoleft":mr.Views||(mr.Views=[]),mr.Views[0]||(mr.Views[0]={}),mr.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":break;case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":break;case"nosummaryrowsbelowdetail":Z["!outline"]||(Z["!outline"]={}),Z["!outline"].above=!0;break;case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":Z["!outline"]||(Z["!outline"]={}),Z["!outline"].left=!0;break;case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;default:qe=!1}break;case"pivottable":case"pivotcache":switch(x[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:qe=!1}break;case"pagebreaks":switch(x[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:qe=!1}break;case"autofilter":switch(x[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:qe=!1}break;case"querytable":switch(x[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:qe=!1}break;case"datavalidation":switch(x[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:qe=!1}break;case"sorting":case"conditionalformatting":switch(x[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:qe=!1}break;case"mapinfo":case"schema":case"data":switch(x[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:qe=!1}break;case"smarttags":break;default:qe=!1}if(qe||x[3].match(/!\[CDATA/))break;if(!R[R.length-1][1])throw"Unrecognized tag: "+x[3]+"|"+R.join("|");if(R[R.length-1][0]==="customdocumentproperties"){if(x[0].slice(-2)==="/>")break;x[1]==="/"?function(Ve,zt,dt,xt){var lt=xt;switch((dt[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":lt=Ka(xt);break;case"i2":case"int":lt=parseInt(xt,10);break;case"r4":case"float":lt=parseFloat(xt);break;case"date":case"dateTime.tz":lt=ca(xt);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+dt[0])}Ve[Mn(zt)]=lt}(ht,ui,fr,N.slice(qt,x.index)):qt=(fr=x).index+x[0].length;break}if(p.WTF)throw"Unrecognized tag: "+x[3]+"|"+R.join("|")}return E={},p.bookSheets||p.bookProps||(E.Sheets=G),E.SheetNames=K,E.Workbook=mr,E.SSF=Yn(Y),E.Props=Ft,E.Custprops=ht,E}function ZA(u,m){switch(ak(m=m||{}),m.type||"base64"){case"base64":return JA(T(u),m);case"binary":case"buffer":case"file":return JA(u,m);case"array":return JA(U(u),m)}}function Fde(u,m){var p,x,N,A,S,E,F,R=[];return u.Props&&R.push((p=u.Props,x=m,N=[],Pa(bv).map(function(z){for(var G=0;G<Qo.length;++G)if(Qo[G][1]==z)return Qo[G];for(G=0;G<cf.length;++G)if(cf[G][1]==z)return cf[G];throw z}).forEach(function(z){var G;p[z[1]]!=null&&(G=(x&&x.Props&&x.Props[z[1]]!=null?x.Props:p)[z[1]],typeof(G=z[2]==="date"?new Date(G).toISOString().replace(/\.\d*Z/,"Z"):G)=="number"?G=String(G):G===!0||G===!1?G=G?"1":"0":G instanceof Date&&(G=new Date(G).toISOString().replace(/\.\d*Z/,"")),N.push(bi(bv[z[1]]||z[1],G)))}),er("DocumentProperties",N.join(""),{xmlns:ao.o}))),u.Custprops&&R.push((A=u.Props,S=u.Custprops,E=["Worksheets","SheetNames"],u="CustomDocumentProperties",F=[],A&&Pa(A).forEach(function(z){if(Object.prototype.hasOwnProperty.call(A,z)){for(var G=0;G<Qo.length;++G)if(z==Qo[G][1])return;for(G=0;G<cf.length;++G)if(z==cf[G][1])return;for(G=0;G<E.length;++G)if(z==E[G])return;var K="string",Z=typeof(Z=A[z])=="number"?(K="float",String(Z)):Z===!0||Z===!1?(K="boolean",Z?"1":"0"):String(Z);F.push(er(Rc(z),Z,{"dt:dt":K}))}}),S&&Pa(S).forEach(function(z){var G,K;Object.prototype.hasOwnProperty.call(S,z)&&(A&&Object.prototype.hasOwnProperty.call(A,z)||(G="string",K=typeof(K=S[z])=="number"?(G="float",String(K)):K===!0||K===!1?(G="boolean",K?"1":"0"):K instanceof Date?(G="dateTime.tz",K.toISOString()):String(K),F.push(er(Rc(z),K,{"dt:dt":G}))))}),"<"+u+' xmlns="'+ao.o+'">'+F.join("")+"</"+u+">")),R.join("")}function aL(u){return er("NamedRange",null,{"ss:Name":u.Name,"ss:RefersTo":"="+qA(u.Ref,{r:0,c:0})})}function Dde(u,m,p,x,N,A,S){if(!u||u.v==null&&u.f==null)return"";var E={};if(u.f&&(E["ss:Formula"]="="+Na(qA(u.f,S))),u.F&&u.F.slice(0,m.length)==m&&(m=Sa(u.F.slice(m.length+1)),E["ss:ArrayRange"]="RC:R"+(m.r==S.r?"":"["+(m.r-S.r)+"]")+"C"+(m.c==S.c?"":"["+(m.c-S.c)+"]")),u.l&&u.l.Target&&(E["ss:HRef"]=Na(u.l.Target),u.l.Tooltip&&(E["x:HRefScreenTip"]=Na(u.l.Tooltip))),p["!merges"])for(var F=p["!merges"],R=0;R!=F.length;++R)F[R].s.c==S.c&&F[R].s.r==S.r&&(F[R].e.c>F[R].s.c&&(E["ss:MergeAcross"]=F[R].e.c-F[R].s.c),F[R].e.r>F[R].s.r&&(E["ss:MergeDown"]=F[R].e.r-F[R].s.r));var z="",G="";switch(u.t){case"z":if(!x.sheetStubs)return"";break;case"n":z="Number",G=String(u.v);break;case"b":z="Boolean",G=u.v?"1":"0";break;case"e":z="Error",G=Il[u.v];break;case"d":z="DateTime",G=new Date(u.v).toISOString(),u.z==null&&(u.z=u.z||Y[14]);break;case"s":z="String",G=((u.v||"")+"").replace(cm,function(K){return Hs[K]}).replace(r0,function(K){return"&#x"+K.charCodeAt(0).toString(16).toUpperCase()+";"})}return p=Om(x.cellXfs,u,x),E["ss:StyleID"]="s"+(21+p),E["ss:Index"]=S.c+1,p=u.v!=null?G:"",p=u.t=="z"?"":'<Data ss:Type="'+z+'">'+p+"</Data>",0<(u.c||[]).length&&(p+=u.c.map(function(K){var Z=er("ss:Data",(K.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return er("Comment",Z,{"ss:Author":K.a})}).join("")),er("Cell",p,E)}function Rde(u,m){if(!u["!ref"])return"";var p=Tn(u["!ref"]),x=u["!merges"]||[],N=0,A=[];u["!cols"]&&u["!cols"].forEach(function(be,Ne){Tm(be);var oe=!!be.width,ye=F5(Ne,be),Ne={"ss:Index":Ne+1};oe&&(Ne["ss:Width"]=km(ye.width)),be.hidden&&(Ne["ss:Hidden"]="1"),A.push(er("Column",null,Ne))});for(var S,E,F=Array.isArray(u),R=p.s.r;R<=p.e.r;++R){for(var z=[(S=R,E=(u["!rows"]||[])[R],S='<Row ss:Index="'+(S+1)+'"',E&&(E.hpt&&!E.hpx&&(E.hpx=Pv(E.hpt)),E.hpx&&(S+=' ss:AutoFitHeight="0" ss:Height="'+E.hpx+'"'),E.hidden&&(S+=' ss:Hidden="1"')),S+">")],G=p.s.c;G<=p.e.c;++G){for(var K,Z,he,ae=!1,N=0;N!=x.length;++N)if(!(x[N].s.c>G||x[N].s.r>R||x[N].e.c<G||x[N].e.r<R)){x[N].s.c==G&&x[N].s.r==R||(ae=!0);break}ae||(Z=en(K={r:R,c:G}),he=F?(u[R]||[])[G]:u[Z],z.push(Dde(he,Z,u,m,0,0,K)))}z.push("</Row>"),2<z.length&&A.push(z.join(""))}return A.join("")}function Mde(u,m,p){var x=[],A=p.SheetNames[u],N=p.Sheets[A],A=N?function(S,E,F){if(!S||!((F||{}).Workbook||{}).Names)return"";for(var R=F.Workbook.Names,z=[],G=0;G<R.length;++G){var K=R[G];K.Sheet==E&&(K.Name.match(/^_xlfn\./)||z.push(aL(K)))}return z.join("")}(N,u,p):"";return 0<A.length&&x.push("<Names>"+A+"</Names>"),0<(A=N?Rde(N,m):"").length&&x.push("<Table>"+A+"</Table>"),x.push(function(S,E,F){if(!S)return"";var R=[];if(S["!margins"]&&(R.push("<PageSetup>"),S["!margins"].header&&R.push(er("Header",null,{"x:Margin":S["!margins"].header})),S["!margins"].footer&&R.push(er("Footer",null,{"x:Margin":S["!margins"].footer})),R.push(er("PageMargins",null,{"x:Bottom":S["!margins"].bottom||"0.75","x:Left":S["!margins"].left||"0.7","x:Right":S["!margins"].right||"0.7","x:Top":S["!margins"].top||"0.75"})),R.push("</PageSetup>")),F&&F.Workbook&&F.Workbook.Sheets&&F.Workbook.Sheets[E])if(F.Workbook.Sheets[E].Hidden)R.push(er("Visible",F.Workbook.Sheets[E].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var z=0;z<E&&(!F.Workbook.Sheets[z]||F.Workbook.Sheets[z].Hidden);++z);z==E&&R.push("<Selected/>")}return((((F||{}).Workbook||{}).Views||[])[0]||{}).RTL&&R.push("<DisplayRightToLeft/>"),S["!protect"]&&(R.push(bi("ProtectContents","True")),S["!protect"].objects&&R.push(bi("ProtectObjects","True")),S["!protect"].scenarios&&R.push(bi("ProtectScenarios","True")),S["!protect"].selectLockedCells==null||S["!protect"].selectLockedCells?S["!protect"].selectUnlockedCells==null||S["!protect"].selectUnlockedCells||R.push(bi("EnableSelection","UnlockedCells")):R.push(bi("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(G){S["!protect"][G[0]]&&R.push("<"+G[1]+"/>")})),R.length==0?"":er("WorksheetOptions",R.join(""),{xmlns:ao.x})}(N,u,p)),x.join("")}function Ide(u,m){m=m||{},u.SSF||(u.SSF=Yn(Y)),u.SSF&&(ja(),qr(u.SSF),m.revssf=ac(u.SSF),m.revssf[u.SSF[65535]]=0,m.ssf=u.SSF,m.cellXfs=[],Om(m.cellXfs,{},{revssf:{General:0}}));var p=[];p.push(Fde(u,m)),p.push(""),p.push(""),p.push("");for(var x,N=0;N<u.SheetNames.length;++N)p.push(er("Worksheet",Mde(N,m,u),{"ss:Name":Na(u.SheetNames[N])}));return p[2]=(x=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'],m.cellXfs.forEach(function(A,S){var E=[];E.push(er("NumberFormat",null,{"ss:Format":Na(Y[A.numFmtId])})),S={"ss:ID":"s"+(21+S)},x.push(er("Style",E.join(""),S))}),er("Styles",x.join(""))),p[3]=function(A){if(!((A||{}).Workbook||{}).Names)return"";for(var S=A.Workbook.Names,E=[],F=0;F<S.length;++F){var R=S[F];R.Sheet==null&&(R.Name.match(/^_xlfn\./)||E.push(aL(R)))}return er("Names",E.join(""))}(u),us+er("Workbook",p.join(""),{xmlns:ao.ss,"xmlns:o":ao.o,"xmlns:x":ao.x,"xmlns:ss":ao.ss,"xmlns:dt":ao.dt,"xmlns:html":ao.html})}function Lde(u){var m={},p=u.content;return p.l=28,m.AnsiUserType=p.read_shift(0,"lpstr-ansi"),m.AnsiClipboardFormat=ii(p,1),p.length-p.l<=4?m:(u=p.read_shift(4),u==0||40<u?m:(p.l-=4,m.Reserved1=p.read_shift(0,"lpstr-ansi"),p.length-p.l<=4||(u=p.read_shift(4))!==1907505652?m:(m.UnicodeClipboardFormat=ii(p,2),(u=p.read_shift(4))==0||40<u?m:(p.l-=4,void(m.Reserved2=p.read_shift(0,"lpwstr"))))))}var $de=[60,1084,2066,2165,2175];function gf(u,m,p){if(u.t!=="z"&&u.XF){var x,N=0;try{N=u.z||u.XF.numFmtId||0,m.cellNF&&(u.z=Y[N])}catch(A){if(m.WTF)throw A}if(!m||m.cellText!==!1)try{u.t==="e"?u.w=u.w||Il[u.v]:N===0||N=="General"?u.t==="n"?(0|u.v)===u.v?u.w=u.v.toString(10):u.w=pe(u.v):u.w=Ge(u.v):u.w=Gr(N,u.v,{date1904:!!p,dateNF:m&&m.dateNF})}catch(A){if(m.WTF)throw A}m.cellDates&&N&&u.t=="n"&&Mr(Y[N]||String(N))&&(x=_e(u.v))&&(u.t="d",u.v=new Date(x.y,x.m-1,x.d,x.H,x.M,x.S,x.u))}}function R5(u,m,p){return{v:u,ixfe:m,t:p}}function Bde(u,m){var p={opts:{}},x={};function N(lt){return!(lt<8)&&lt<64&&We[lt-8]||xm[lt]}function A(lt,St,Gt){if(!(1<Yt||Gt.sheetRows&&lt.r>=Gt.sheetRows)){var Fr,gr,lr;if(Gt.cellStyles&&St.XF&&St.XF.data&&(gr=Gt,(lr=(Fr=St).XF.data)&&lr.patternType&&gr&&gr.cellStyles&&(Fr.s={},Fr.s.patternType=lr.patternType,(gr=mf(N(lr.icvFore)))&&(Fr.s.fgColor={rgb:gr}),(gr=mf(N(lr.icvBack)))&&(Fr.s.bgColor={rgb:gr}))),delete St.ixfe,delete St.XF,oe=en(S=lt),Z&&Z.s&&Z.e||(Z={s:{r:0,c:0},e:{r:0,c:0}}),lt.r<Z.s.r&&(Z.s.r=lt.r),lt.c<Z.s.c&&(Z.s.c=lt.c),lt.r+1>Z.e.r&&(Z.e.r=lt.r+1),lt.c+1>Z.e.c&&(Z.e.c=lt.c+1),Gt.cellFormula&&St.f){for(var Sr=0;Sr<Ne.length;++Sr)if(!(Ne[Sr][0].s.c>lt.c||Ne[Sr][0].s.r>lt.r||Ne[Sr][0].e.c<lt.c||Ne[Sr][0].e.r<lt.r)){St.F=tn(Ne[Sr][0]),Ne[Sr][0].s.c==lt.c&&Ne[Sr][0].s.r==lt.r||delete St.f,St.f&&(St.f=""+Ul(Ne[Sr][1],0,lt,or,ct));break}}Gt.dense?(G[lt.r]||(G[lt.r]=[]),G[lt.r][lt.c]=St):G[oe]=St}}var S,E,F,R,z,G=m.dense?[]:{},K={},Z={},he=null,ae=[],be="",me={},oe="",ye={},Ne=[],Ce=[],We=[],tt={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Je={},ct={enc:!1,sbcch:0,snames:[],sharedf:ye,arrayf:Ne,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!m&&!!m.cellStyles,WTF:!!m&&!!m.wtf};m.password&&(ct.password=m.password);var kt=[],Ft=[],ht=[],qt=[],fr=!1,or=[];or.SheetNames=ct.snames,or.sharedf=ct.sharedf,or.arrayf=ct.arrayf,or.names=[],or.XTI=[];var Zt,tr=0,Yt=0,Lt=0,vr=[],Nr=[];ct.codepage=1200,h(1200);for(var Wr=!1;u.l<u.length-1;){var zn=u.l,mr=u.read_shift(2);if(mr===0&&tr===10)break;var Vt=u.l===u.length?0:u.read_shift(2),xn=QA[mr];if(xn&&xn.f){if(m.bookSheets&&tr===133&&mr!==133)break;if(tr=mr,xn.r===2||xn.r==12){var da=u.read_shift(2);if(Vt-=2,!ct.enc&&da!==mr&&((255&da)<<8|da>>8)!==mr)throw new Error("rt mismatch: "+da+"!="+mr);xn.r==12&&(u.l+=10,Vt-=10)}var ra,za,ui,Ke={},Ke=mr===10?xn.f(u,Vt,ct):function(lt,St,Gt,Fr,gr){var lr=Fr,Sr=[],Ir=Gt.slice(Gt.l,Gt.l+lr);if(gr&&gr.enc&&gr.enc.insitu&&0<Ir.length)switch(lt){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:gr.enc.insitu(Ir)}Sr.push(Ir),Gt.l+=lr;for(var Lr=wr(Gt,Gt.l),ar=QA[Lr],Kt=0;ar!=null&&-1<$de.indexOf(Lr);)lr=wr(Gt,Gt.l+2),Kt=Gt.l+4,Lr==2066?Kt+=4:Lr!=2165&&Lr!=2175||(Kt+=12),Ir=Gt.slice(Kt,Gt.l+4+lr),Sr.push(Ir),Gt.l+=4+lr,ar=QA[Lr=wr(Gt,Gt.l)];var Br=re(Sr);Ya(Br,0);var pr=0;Br.lens=[];for(var Qt=0;Qt<Sr.length;++Qt)Br.lens.push(pr),pr+=Sr[Qt].length;if(Br.length<Fr)throw"XLS Record 0x"+lt.toString(16)+" Truncated: "+Br.length+" < "+Fr;return St.f(Br,Br.length,gr)}(mr,xn,u,Vt,ct);if(Yt!=0||[9,521,1033,2057].indexOf(tr)!==-1)switch(mr){case 34:p.opts.Date1904=tt.WBProps.date1904=Ke;break;case 134:p.opts.WriteProtect=!0;break;case 47:if(ct.enc||(u.l=0),ct.enc=Ke,!m.password)throw new Error("File is password-protected");if(Ke.valid==null)throw new Error("Encryption scheme unsupported");if(!Ke.valid)throw new Error("Password is incorrect");break;case 92:ct.lastuser=Ke;break;case 66:var Ua=Number(Ke);switch(Ua){case 21010:Ua=1200;break;case 32768:Ua=1e4;break;case 32769:Ua=1252}h(ct.codepage=Ua),Wr=!0;break;case 317:ct.rrtabid=Ke;break;case 25:ct.winlocked=Ke;break;case 439:p.opts.RefreshAll=Ke;break;case 12:p.opts.CalcCount=Ke;break;case 16:p.opts.CalcDelta=Ke;break;case 17:p.opts.CalcIter=Ke;break;case 13:p.opts.CalcMode=Ke;break;case 14:p.opts.CalcPrecision=Ke;break;case 95:p.opts.CalcSaveRecalc=Ke;break;case 15:ct.CalcRefMode=Ke;break;case 2211:p.opts.FullCalc=Ke;break;case 129:Ke.fDialog&&(G["!type"]="dialog"),Ke.fBelow||((G["!outline"]||(G["!outline"]={})).above=!0),Ke.fRight||((G["!outline"]||(G["!outline"]={})).left=!0);break;case 224:Ce.push(Ke);break;case 430:or.push([Ke]),or[or.length-1].XTI=[];break;case 35:case 547:or[or.length-1].push(Ke);break;case 24:case 536:Zt={Name:Ke.Name,Ref:Ul(Ke.rgce,0,null,or,ct)},0<Ke.itab&&(Zt.Sheet=Ke.itab-1),or.names.push(Zt),or[0]||(or[0]=[],or[0].XTI=[]),or[or.length-1].push(Ke),Ke.Name=="_xlnm._FilterDatabase"&&0<Ke.itab&&Ke.rgce&&Ke.rgce[0]&&Ke.rgce[0][0]&&Ke.rgce[0][0][0]=="PtgArea3d"&&(Nr[Ke.itab-1]={ref:tn(Ke.rgce[0][0][1][2])});break;case 22:ct.ExternCount=Ke;break;case 23:or.length==0&&(or[0]=[],or[0].XTI=[]),or[or.length-1].XTI=or[or.length-1].XTI.concat(Ke),or.XTI=or.XTI.concat(Ke);break;case 2196:if(ct.biff<8)break;Zt!=null&&(Zt.Comment=Ke[1]);break;case 18:G["!protect"]=Ke;break;case 19:Ke!==0&&ct.WTF&&console.error("Password verifier: "+Ke);break;case 133:K[Ke.pos]=Ke,ct.snames.push(Ke.name);break;case 10:if(--Yt)break;Z.e&&(0<Z.e.r&&0<Z.e.c&&(Z.e.r--,Z.e.c--,G["!ref"]=tn(Z),m.sheetRows&&m.sheetRows<=Z.e.r&&(Ma=Z.e.r,Z.e.r=m.sheetRows-1,G["!fullref"]=G["!ref"],G["!ref"]=tn(Z),Z.e.r=Ma),Z.e.r++,Z.e.c++),0<kt.length&&(G["!merges"]=kt),0<Ft.length&&(G["!objects"]=Ft),0<ht.length&&(G["!cols"]=ht),0<qt.length&&(G["!rows"]=qt),tt.Sheets.push(Je)),be===""?me=G:x[be]=G,G=m.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(ct.biff===8&&(ct.biff={9:2,521:3,1033:4}[mr]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Ke.BIFFVer]||8),ct.biffguess=Ke.BIFFVer==0,Ke.BIFFVer==0&&Ke.dt==4096&&(ct.biff=5,Wr=!0,h(ct.codepage=28591)),ct.biff==8&&Ke.BIFFVer==0&&Ke.dt==16&&(ct.biff=2),Yt++)break;var Ma,G=m.dense?[]:{};ct.biff<8&&!Wr&&(Wr=!0,h(ct.codepage=m.codepage||1252)),ct.biff<5||Ke.BIFFVer==0&&Ke.dt==4096?(be===""&&(be="Sheet1"),Z={s:{r:0,c:0},e:{r:0,c:0}},Ma={pos:u.l-Vt,name:be},K[Ma.pos]=Ma,ct.snames.push(be)):be=(K[zn]||{name:""}).name,Ke.dt==32&&(G["!type"]="chart"),Ke.dt==64&&(G["!type"]="macro"),kt=[],Ft=[],ct.arrayf=Ne=[],ht=[],fr=!(qt=[]),Je={Hidden:(K[zn]||{hs:0}).hs,name:be};break;case 515:case 3:case 2:G["!type"]=="chart"&&(m.dense?(G[Ke.r]||[])[Ke.c]:G[en({c:Ke.c,r:Ke.r})])&&++Ke.c,De={ixfe:Ke.ixfe,XF:Ce[Ke.ixfe]||{},v:Ke.val,t:"n"},0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:Ke.c,r:Ke.r},De,m);break;case 5:case 517:De={ixfe:Ke.ixfe,XF:Ce[Ke.ixfe],v:Ke.val,t:Ke.t},0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:Ke.c,r:Ke.r},De,m);break;case 638:De={ixfe:Ke.ixfe,XF:Ce[Ke.ixfe],v:Ke.rknum,t:"n"},0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:Ke.c,r:Ke.r},De,m);break;case 189:for(var co=Ke.c;co<=Ke.C;++co){var ku=Ke.rkrec[co-Ke.c][0],De={ixfe:ku,XF:Ce[ku],v:Ke.rkrec[co-Ke.c][1],t:"n"};0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:co,r:Ke.r},De,m)}break;case 6:case 518:case 1030:if(Ke.val=="String"){he=Ke;break}(De=R5(Ke.val,Ke.cell.ixfe,Ke.tt)).XF=Ce[De.ixfe],m.cellFormula&&(!((mt=Ke.formula)&&mt[0]&&mt[0][0]&&mt[0][0][0]=="PtgExp")||ye[ui=en({r:ra=mt[0][0][1][0],c:za=mt[0][0][1][1]})]?De.f=""+Ul(Ke.formula,0,Ke.cell,or,ct):De.F=((m.dense?(G[ra]||[])[za]:G[ui])||{}).F),0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A(Ke.cell,De,m),he=Ke;break;case 7:case 519:if(!he)throw new Error("String record expects Formula");(De=R5(he.val=Ke,he.cell.ixfe,"s")).XF=Ce[De.ixfe],m.cellFormula&&(De.f=""+Ul(he.formula,0,he.cell,or,ct)),0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A(he.cell,De,m),he=null;break;case 33:case 545:Ne.push(Ke);var mt=en(Ke[0].s),qe=m.dense?(G[Ke[0].s.r]||[])[Ke[0].s.c]:G[mt];if(m.cellFormula&&qe){if(!he||!mt||!qe)break;qe.f=""+Ul(Ke[1],0,Ke[0],or,ct),qe.F=tn(Ke[0])}break;case 1212:if(!m.cellFormula)break;if(oe){if(!he)break;ye[en(he.cell)]=Ke[0],((qe=m.dense?(G[he.cell.r]||[])[he.cell.c]:G[en(he.cell)])||{}).f=""+Ul(Ke[0],0,S,or,ct)}break;case 253:De=R5(ae[Ke.isst].t,Ke.ixfe,"s"),ae[Ke.isst].h&&(De.h=ae[Ke.isst].h),De.XF=Ce[De.ixfe],0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:Ke.c,r:Ke.r},De,m);break;case 513:m.sheetStubs&&(De={ixfe:Ke.ixfe,XF:Ce[Ke.ixfe],t:"z"},0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:Ke.c,r:Ke.r},De,m));break;case 190:if(m.sheetStubs)for(var ut=Ke.c;ut<=Ke.C;++ut){var Ve=Ke.ixfe[ut-Ke.c];De={ixfe:Ve,XF:Ce[Ve],t:"z"},0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:ut,r:Ke.r},De,m)}break;case 214:case 516:case 4:(De=R5(Ke.val,Ke.ixfe,"s")).XF=Ce[De.ixfe],0<Lt&&(De.z=vr[De.ixfe>>8&63]),gf(De,m,p.opts.Date1904),A({c:Ke.c,r:Ke.r},De,m);break;case 0:case 512:Yt===1&&(Z=Ke);break;case 252:ae=Ke;break;case 1054:if(ct.biff==4){vr[Lt++]=Ke[1];for(var zt=0;zt<Lt+163&&Y[zt]!=Ke[1];++zt);163<=zt&&ia(Ke[1],Lt+163)}else ia(Ke[1],Ke[0]);break;case 30:vr[Lt++]=Ke;for(var dt=0;dt<Lt+163&&Y[dt]!=Ke;++dt);163<=dt&&ia(Ke,Lt+163);break;case 229:kt=kt.concat(Ke);break;case 93:Ft[Ke.cmo[0]]=ct.lastobj=Ke;break;case 438:ct.lastobj.TxO=Ke;break;case 127:ct.lastobj.ImData=Ke;break;case 440:for(F=Ke[0].s.r;F<=Ke[0].e.r;++F)for(E=Ke[0].s.c;E<=Ke[0].e.c;++E)(qe=m.dense?(G[F]||[])[E]:G[en({c:E,r:F})])&&(qe.l=Ke[1]);break;case 2048:for(F=Ke[0].s.r;F<=Ke[0].e.r;++F)for(E=Ke[0].s.c;E<=Ke[0].e.c;++E)(qe=m.dense?(G[F]||[])[E]:G[en({c:E,r:F})])&&qe.l&&(qe.l.Tooltip=Ke[1]);break;case 28:if(ct.biff<=5&&2<=ct.biff)break;qe=m.dense?(G[Ke[0].r]||[])[Ke[0].c]:G[en(Ke[0])];var xt=Ft[Ke[2]];qe||(qe=m.dense?(G[Ke[0].r]||(G[Ke[0].r]=[]),G[Ke[0].r][Ke[0].c]={t:"z"}):G[en(Ke[0])]={t:"z"},Z.e.r=Math.max(Z.e.r,Ke[0].r),Z.s.r=Math.min(Z.s.r,Ke[0].r),Z.e.c=Math.max(Z.e.c,Ke[0].c),Z.s.c=Math.min(Z.s.c,Ke[0].c)),qe.c||(qe.c=[]),xt={a:Ke[1],t:xt.TxO.t},qe.c.push(xt);break;case 2173:Ce[Ke.ixfe],Ke.ext.forEach(function(St){St[0]});break;case 125:if(!ct.cellStyles)break;for(;Ke.e>=Ke.s;)ht[Ke.e--]={width:Ke.w/256,level:Ke.level||0,hidden:!!(1&Ke.flags)},fr||(fr=!0,BA(Ke.w/256)),Tm(ht[Ke.e+1]);break;case 520:xt={},Ke.level!=null&&((qt[Ke.r]=xt).level=Ke.level),Ke.hidden&&((qt[Ke.r]=xt).hidden=!0),Ke.hpt&&((qt[Ke.r]=xt).hpt=Ke.hpt,xt.hpx=Pv(Ke.hpt));break;case 38:case 39:case 40:case 41:G["!margins"]||k0(G["!margins"]={}),G["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[mr]]=Ke;break;case 161:G["!margins"]||k0(G["!margins"]={}),G["!margins"].header=Ke.header,G["!margins"].footer=Ke.footer;break;case 574:Ke.RTL&&(tt.Views[0].RTL=!0);break;case 146:We=Ke;break;case 2198:z=Ke;break;case 140:R=Ke;break;case 442:be?Je.CodeName=Ke||Je.name:tt.WBProps.CodeName=Ke||"ThisWorkbook"}}else xn||console.error("Missing Info for XLS Record 0x"+mr.toString(16)),u.l+=Vt}return p.SheetNames=Pa(K).sort(function(lt,St){return Number(lt)-Number(St)}).map(function(lt){return K[lt].name}),m.bookSheets||(p.Sheets=x),!p.SheetNames.length&&me["!ref"]?(p.SheetNames.push("Sheet1"),p.Sheets&&(p.Sheets.Sheet1=me)):p.Preamble=me,p.Sheets&&Nr.forEach(function(lt,St){p.Sheets[p.SheetNames[St]]["!autofilter"]=lt}),p.Strings=ae,p.SSF=Yn(Y),ct.enc&&(p.Encryption=ct.enc),z&&(p.Themes=z),p.Metadata={},R!==void 0&&(p.Metadata.Country=R),0<or.names.length&&(tt.Names=or.names),p.Workbook=tt,p}var sb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function M5(u,m){var p,x,N,A,S;if(ak(m=m||{}),v(),m.codepage&&f(m.codepage),u.FullPaths){if(rr.find(u,"/encryption"))throw new Error("File is password-protected");p=rr.find(u,"!CompObj"),N=rr.find(u,"/Workbook")||rr.find(u,"/Book")}else{switch(m.type){case"base64":u=B(T(u));break;case"binary":u=B(u);break;case"buffer":break;case"array":Array.isArray(u)||(u=Array.prototype.slice.call(u))}Ya(u,0),N={content:u}}if(p&&Lde(p),m.bookProps&&!m.bookSheets)x={};else{var E=P?"buffer":"array";if(N&&N.content)x=Bde(N.content,m);else if((N=rr.find(u,"PerfectOffice_MAIN"))&&N.content)x=_i.to_workbook(N.content,(m.type=E,m));else{if(!(N=rr.find(u,"NativeContent_MAIN"))||!N.content)throw(N=rr.find(u,"MN0"))&&N.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");x=_i.to_workbook(N.content,(m.type=E,m))}m.bookVBA&&u.FullPaths&&rr.find(u,"/_VBA_PROJECT_CUR/VBA/dir")&&(x.vbaraw=(A=u,S=rr.utils.cfb_new({root:"R"}),A.FullPaths.forEach(function(F,R){F.slice(-1)!=="/"&&F.match(/_VBA_PROJECT_CUR/)&&(F=F.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,""),rr.utils.cfb_add(S,F,A.FileIndex[R].content))}),rr.write(S)))}return E={},u.FullPaths&&function(F,R,z){var G=rr.find(F,"/!DocumentSummaryInformation");if(G&&0<G.size)try{var K,Z=f5(G,hv,sb.DSI);for(K in Z)R[K]=Z[K]}catch(me){if(z.WTF)throw me}var he=rr.find(F,"/!SummaryInformation");if(he&&0<he.size)try{var ae,be=f5(he,mv,sb.SI);for(ae in be)R[ae]==null&&(R[ae]=be[ae])}catch(me){if(z.WTF)throw me}R.HeadingPairs&&R.TitlesOfParts&&(yv(R.HeadingPairs,R.TitlesOfParts,R,z),delete R.HeadingPairs,delete R.TitlesOfParts)}(u,E,m),x.Props=x.Custprops=E,m.bookFiles&&(x.cfb=u),x}function zde(u,A){var p,x,N=A||{},A=rr.utils.cfb_new({root:"R"}),S="/Workbook";switch(N.bookType||"xls"){case"xls":N.bookType="biff8";case"xla":N.bookType||(N.bookType="xla");case"biff8":S="/Workbook",N.biff=8;break;case"biff5":S="/Book",N.biff=5;break;default:throw new Error("invalid type "+N.bookType+" for XLS CFB")}return rr.utils.cfb_add(A,S,sL(u,N)),N.biff==8&&(u.Props||u.Custprops)&&function(E,F){var R,z=[],G=[],K=[],Z=0,he=Fc(hv,"n"),ae=Fc(mv,"n");if(E.Props)for(R=Pa(E.Props),Z=0;Z<R.length;++Z)(Object.prototype.hasOwnProperty.call(he,R[Z])?z:Object.prototype.hasOwnProperty.call(ae,R[Z])?G:K).push([R[Z],E.Props[R[Z]]]);if(E.Custprops)for(R=Pa(E.Custprops),Z=0;Z<R.length;++Z)Object.prototype.hasOwnProperty.call(E.Props||{},R[Z])||(Object.prototype.hasOwnProperty.call(he,R[Z])?z:Object.prototype.hasOwnProperty.call(ae,R[Z])?G:K).push([R[Z],E.Custprops[R[Z]]]);for(var be=[],Z=0;Z<K.length;++Z)-1<u5.indexOf(K[Z][0])||-1<xv.indexOf(K[Z][0])||K[Z][1]!=null&&be.push(K[Z]);G.length&&rr.utils.cfb_add(F,"/SummaryInformation",h5(G,sb.SI,ae,mv)),(z.length||be.length)&&rr.utils.cfb_add(F,"/DocumentSummaryInformation",h5(z,sb.DSI,he,hv,be.length?be:null,sb.UDI))}(u,A),N.biff==8&&u.vbaraw&&(p=A,(x=rr.read(u.vbaraw,{type:typeof u.vbaraw=="string"?"binary":"buffer"})).FullPaths.forEach(function(E,F){F==0||(E=E.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/")).slice(-1)!=="/"&&rr.utils.cfb_add(p,E,x.FileIndex[F].content)})),A}var ib={0:{f:function(u,m){var p={},x=u.l+m;p.r=u.read_shift(4),u.l+=4;var N=u.read_shift(2);return u.l+=1,m=u.read_shift(1),u.l=x,7&m&&(p.level=7&m),16&m&&(p.hidden=!0),32&m&&(p.hpt=N/20),p}},1:{f:function(u){return[xa(u)]}},2:{f:function(u){return[xa(u),dd(u),"n"]}},3:{f:function(u){return[xa(u),u.read_shift(1),"e"]}},4:{f:function(u){return[xa(u),u.read_shift(1),"b"]}},5:{f:function(u){return[xa(u),wn(u),"n"]}},6:{f:function(u){return[xa(u),As(u),"str"]}},7:{f:function(u){return[xa(u),u.read_shift(4),"s"]}},8:{f:function(u,m,p){var x=u.l+m,N=xa(u);N.r=p["!row"];var A=[N,As(u),"str"];return p.cellFormula?(u.l+=2,m=O5(u,x-u.l,p),A[3]=Ul(m,0,N,p.supbooks,p)):u.l=x,A}},9:{f:function(u,m,p){var x=u.l+m,N=xa(u);N.r=p["!row"];var A=[N,wn(u),"n"];return p.cellFormula?(u.l+=2,m=O5(u,x-u.l,p),A[3]=Ul(m,0,N,p.supbooks,p)):u.l=x,A}},10:{f:function(u,m,p){var x=u.l+m,N=xa(u);N.r=p["!row"];var A=[N,u.read_shift(1),"b"];return p.cellFormula?(u.l+=2,m=O5(u,x-u.l,p),A[3]=Ul(m,0,N,p.supbooks,p)):u.l=x,A}},11:{f:function(u,m,p){var x=u.l+m,N=xa(u);N.r=p["!row"];var A=[N,u.read_shift(1),"e"];return p.cellFormula?(u.l+=2,m=O5(u,x-u.l,p),A[3]=Ul(m,0,N,p.supbooks,p)):u.l=x,A}},12:{f:function(u){return[Oo(u)]}},13:{f:function(u){return[Oo(u),dd(u),"n"]}},14:{f:function(u){return[Oo(u),u.read_shift(1),"e"]}},15:{f:function(u){return[Oo(u),u.read_shift(1),"b"]}},16:{f:KI},17:{f:function(u){return[Oo(u),As(u),"str"]}},18:{f:function(u){return[Oo(u),u.read_shift(4),"s"]}},19:{f:bu},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(u,S,E){var x=u.l+S;u.l+=4,u.l+=1;var N=u.read_shift(4),A=sf(u),S=Iue(u,0,E),E=uh(u);return u.l=x,S={Name:A,Ptg:S},N<268435455&&(S.Sheet=N),E&&(S.Comment=E),S}},40:{},42:{},43:{f:function(u,m,p){var x={};x.sz=u.read_shift(2)/20;var N,A=(A=(N=u).read_shift(1),N.l++,{fBold:1&A,fItalic:2&A,fUnderline:4&A,fStrikeout:8&A,fOutline:16&A,fShadow:32&A,fCondense:64&A,fExtend:128&A});switch(A.fItalic&&(x.italic=1),A.fCondense&&(x.condense=1),A.fExtend&&(x.extend=1),A.fShadow&&(x.shadow=1),A.fOutline&&(x.outline=1),A.fStrikeout&&(x.strike=1),u.read_shift(2)===700&&(x.bold=1),u.read_shift(2)){case 1:x.vertAlign="superscript";break;case 2:x.vertAlign="subscript"}switch((A=u.read_shift(1))!=0&&(x.underline=A),0<(A=u.read_shift(1))&&(x.family=A),0<(A=u.read_shift(1))&&(x.charset=A),u.l++,x.color=function(S){var E={},F=S.read_shift(1)>>>1,R=S.read_shift(1),z=S.read_shift(2,"i"),G=S.read_shift(1),K=S.read_shift(1),Z=S.read_shift(1);switch(S.l++,F){case 0:E.auto=1;break;case 1:E.index=R;var he=xm[R];he&&(E.rgb=mf(he));break;case 2:E.rgb=mf([G,K,Z]);break;case 3:E.theme=R}return z!=0&&(E.tint=0<z?z/32767:z/32768),E}(u),u.read_shift(1)){case 1:x.scheme="major";break;case 2:x.scheme="minor"}return x.name=As(u),x}},44:{f:function(u,m){return[u.read_shift(2),As(u)]}},45:{f:lue},46:{f:Xo},47:{f:function(u,N){var p=u.l+N,x=u.read_shift(2),N=u.read_shift(2);return u.l=p,{ixfe:x,numFmtId:N}}},48:{},49:{f:function(u){return u.read_shift(4,"i")}},50:{},51:{f:function(u){for(var m=[],p=u.read_shift(4);0<p--;)m.push([u.read_shift(4),u.read_shift(4)]);return m}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Xe},62:{f:function(u){return[xa(u),bu(u),"is"]}},63:{f:function(u){var m={};m.i=u.read_shift(4);var p={};return p.r=u.read_shift(4),p.c=u.read_shift(4),m.r=en(p),2&(u=u.read_shift(1))&&(m.l="1"),8&u&&(m.a="1"),m}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(u){var m=u.read_shift(2);return u.l+=28,{RTL:32&m}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(u,m){var p={},x=u[u.l];return++u.l,p.above=!(64&x),p.left=!(128&x),u.l+=18,p.name=d0(u),p}},148:{f:D5,p:16},151:{f:function(){}},152:{},153:{f:function(u,m){var p={},x=u.read_shift(4);return p.defaultThemeVersion=u.read_shift(4),0<(u=8<m?As(u):"").length&&(p.CodeName=u),p.autoCompressPictures=!!(65536&x),p.backupFile=!!(64&x),p.checkCompatibility=!!(4096&x),p.date1904=!!(1&x),p.filterPrivacy=!!(8&x),p.hidePivotFieldList=!!(1024&x),p.promptedSolutions=!!(16&x),p.publishItems=!!(2048&x),p.refreshAllConnections=!!(262144&x),p.saveExternalLinkValues=!!(128&x),p.showBorderUnselectedTables=!!(4&x),p.showInkAnnotation=!!(32&x),p.showObjects=["all","placeholders","none"][x>>13&3],p.showPivotChartFilter=!!(32768&x),p.updateLinks=["userSet","never","always"][x>>8&3],p}},154:{},155:{},156:{f:function(u,m){var p={};return p.Hidden=u.read_shift(4),p.iTabID=u.read_shift(4),p.strRelID=_u(u),p.name=As(u),p}},157:{},158:{},159:{T:1,f:function(u){return[u.read_shift(4),u.read_shift(4)]}},160:{T:-1},161:{T:1,f:Fi},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Rv},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(u,m){return{flags:u.read_shift(4),version:u.read_shift(4),name:As(u)}}},336:{T:-1},337:{f:function(u){return u.l+=4,u.read_shift(4)!=0},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_u},357:{},358:{},359:{},360:{T:1},361:{},362:{f:je},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(u,A,p){var x=u.l+A,N=of(u),A=u.read_shift(1);return(N=[N])[2]=A,p.cellFormula?(p=Mue(u,x-u.l,p),N[1]=p):u.l=x,N}},427:{f:function(u,N,p){var x=u.l+N,N=[Fi(u)];return p.cellFormula&&(p=Lue(u,x-u.l,p),N[1]=p),u.l=x,N}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(u){var m={};return YI.forEach(function(p){m[p]=wn(u)}),m}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(u,E){var p=u.l+E,x=Fi(u),N=uh(u),A=As(u),S=As(u),E=As(u);return u.l=p,E={rfx:x,relId:N,loc:A,display:E},S&&(E.Tooltip=S),E}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_u},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uu},633:{T:1},634:{T:-1},635:{T:1,f:function(u){var m={};m.iauthor=u.read_shift(4);var p=Fi(u);return m.rfx=p.s,m.ref=en(p.s),u.l+=16,m}},636:{T:-1},637:{f:u0},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(u,m){return u.l+=10,{name:As(u)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},QA={6:{f:HA},10:{f:el},12:{f:oi},13:{f:oi},14:{f:Ca},15:{f:Ca},16:{f:wn},17:{f:Ca},18:{f:Ca},19:{f:oi},20:{f:J},21:{f:J},23:{f:je},24:{f:we},25:{f:Ca},26:{},27:{},28:{f:function(u,m,p){return function(x,N){if(!(N.biff<8)){var A=x.read_shift(2),S=x.read_shift(2),E=x.read_shift(2),F=x.read_shift(2),R=uf(x,0,N);return N.biff<8&&x.read_shift(1),[{r:A,c:S},R,F,E]}}(u,p)}},29:{},34:{f:Ca},35:{f:ie},38:{f:wn},39:{f:wn},40:{f:wn},41:{f:wn},42:{f:Ca},43:{f:Ca},47:{f:function(u,m,p){var x={Type:8<=p.biff?u.read_shift(2):0};return x.Type?A5(u,m-2,x):(m=u,p.biff,u=p,p=x,m={key:oi(m),verificationBytes:oi(m)},u.password&&(m.verifier=Ev(u.password)),p.valid=m.verificationBytes===m.verifier,p.valid&&(p.insitu=$A(u.password))),x}},49:{f:function(u,m,p){var x={dyHeight:u.read_shift(2),fl:u.read_shift(2)};switch(p&&p.biff||8){case 2:break;case 3:case 4:u.l+=2;break;default:u.l+=10}return x.name=v0(u,0,p),x}},51:{f:oi},60:{},61:{f:function(u){return{Pos:[u.read_shift(2),u.read_shift(2)],Dim:[u.read_shift(2),u.read_shift(2)],Flags:u.read_shift(2),CurTab:u.read_shift(2),FirstTab:u.read_shift(2),Selected:u.read_shift(2),TabRatio:u.read_shift(2)}}},64:{f:Ca},65:{f:function(){}},66:{f:oi},77:{},80:{},81:{},82:{},85:{f:oi},89:{},90:{},91:{},92:{f:function(u,m,N){if(N.enc)return u.l+=m,"";var x=u.l,N=uf(u,0,N);return u.read_shift(m+x-u.l),N}},93:{f:function(u,m,p){return p&&p.biff<8?function(x,N,A){x.l+=4;var S=x.read_shift(2),E=x.read_shift(2),F=x.read_shift(2);x.l+=2,x.l+=2,x.l+=2,x.l+=2,x.l+=2,x.l+=2,x.l+=2,x.l+=2,x.l+=2,x.l+=6,N-=36;var R=[];return R.push((Pe[S]||fs)(x,N,A)),{cmo:[E,S,F],ft:R}}(u,m,p):{cmo:p=x5(u),ft:function(x,N){for(var A=x.l+N,S=[];x.l<A;){var E=x.read_shift(2);x.l-=2;try{S.push(DA[E](x,A-x.l))}catch{return x.l=A,S}}return x.l!=A&&(x.l=A),S}(u,m-22,p[1])}}},94:{},95:{f:Ca},96:{},97:{},99:{f:Ca},125:{f:Xe},128:{f:function(u){if(u.l+=4,(u=[u.read_shift(2),u.read_shift(2)])[0]!==0&&u[0]--,u[1]!==0&&u[1]--,7<u[0]||7<u[1])throw new Error("Bad Gutters: "+u.join("|"));return u}},129:{f:function(u,m,p){return{fDialog:16&(m=p&&p.biff==8||m==2?u.read_shift(2):(u.l+=m,0)),fBelow:64&m,fRight:128&m}}},130:{f:oi},131:{f:Ca},132:{f:Ca},133:{f:function(u,m,p){var x=u.read_shift(4),N=3&u.read_shift(1),A=u.read_shift(1);switch(A){case 0:A="Worksheet";break;case 1:A="Macrosheet";break;case 2:A="Chartsheet";break;case 6:A="VBAModule"}return p=v0(u,0,p),{pos:x,hs:N,dt:A,name:p=p.length===0?"Sheet1":p}}},134:{},140:{f:function(u){var m=[0,0],p=u.read_shift(2);return m[0]=Ry[p]||p,p=u.read_shift(2),m[1]=Ry[p]||p,m}},141:{f:oi},144:{},146:{f:function(u){for(var m=u.read_shift(2),p=[];0<m--;)p.push(Nm(u));return p}},151:{},152:{},153:{},154:{},155:{},156:{f:oi},157:{},158:{},160:{f:Le},161:{f:function(u,m){var p={};return m<32||(u.l+=16,p.header=wn(u),p.footer=wn(u),u.l+=2),p}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(u,m){for(var p=u.l+m-2,x=u.read_shift(2),N=u.read_shift(2),A=[];u.l<p;)A.push(p5(u));if(u.l!==p)throw new Error("MulRK read error");if(m=u.read_shift(2),A.length!=m-N+1)throw new Error("MulRK length mismatch");return{r:x,c:N,C:m,rkrec:A}}},190:{f:function(u,m){for(var p=u.l+m-2,x=u.read_shift(2),N=u.read_shift(2),A=[];u.l<p;)A.push(u.read_shift(2));if(u.l!==p)throw new Error("MulBlank read error");if(m=u.read_shift(2),A.length!=m-N+1)throw new Error("MulBlank length mismatch");return{r:x,c:N,C:m,ixfe:A}}},193:{f:el},197:{},198:{},199:{},200:{},201:{},202:{f:Ca},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:oi},220:{},221:{f:Ca},222:{},224:{f:function(u,m,p){var x,N,A,S={};return S.ifnt=u.read_shift(2),S.numFmtId=u.read_shift(2),S.flags=u.read_shift(2),S.fStyle=S.flags>>2&1,m-=6,S.data=(x=u,S.fStyle,N=p,A={},m=x.read_shift(4),u=x.read_shift(4),p=x.read_shift(4),x=x.read_shift(2),A.patternType=t5[p>>26],N.cellStyles&&(A.alc=7&m,A.fWrap=m>>3&1,A.alcV=m>>4&7,A.fJustLast=m>>7&1,A.trot=m>>8&255,A.cIndent=m>>16&15,A.fShrinkToFit=m>>20&1,A.iReadOrder=m>>22&2,A.fAtrNum=m>>26&1,A.fAtrFnt=m>>27&1,A.fAtrAlc=m>>28&1,A.fAtrBdr=m>>29&1,A.fAtrPat=m>>30&1,A.fAtrProt=m>>31&1,A.dgLeft=15&u,A.dgRight=u>>4&15,A.dgTop=u>>8&15,A.dgBottom=u>>12&15,A.icvLeft=u>>16&127,A.icvRight=u>>23&127,A.grbitDiag=u>>30&3,A.icvTop=127&p,A.icvBottom=p>>7&127,A.icvDiag=p>>14&127,A.dgDiag=p>>21&15,A.icvFore=127&x,A.icvBack=x>>7&127,A.fsxButton=x>>14&1),A),S}},225:{f:function(u,m){return m===0||u.read_shift(2),1200}},226:{f:el},227:{},229:{f:function(u,m){for(var p=[],x=u.read_shift(2);x--;)p.push(b0(u));return p}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(u,m){for(var p=u.l+m,m=u.read_shift(4),x=u.read_shift(4),N=[],A=0;A!=x&&u.l<p;++A)N.push(function(E){var F=o;o=1200;var R,z=E.read_shift(2),G=4&(ae=E.read_shift(1)),K=8&ae,Z=1+(1&ae),he=0,ae={};return K&&(he=E.read_shift(2)),G&&(R=E.read_shift(4)),Z=Z==2?"dbcs-cont":"sbcs-cont",Z=z===0?"":E.read_shift(z,Z),K&&(E.l+=4*he),G&&(E.l+=R),ae.t=Z,K||(ae.raw="<t>"+ae.t+"</t>",ae.r=ae.t),o=F,ae}(u));return N.Count=m,N.Unique=x,N}},253:{f:function(u){var m=lc(u);return m.isst=u.read_shift(4),m}},255:{f:function(u,m){var p={};return p.dsst=u.read_shift(2),u.l+=m-2,p}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:hd},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ca},353:{f:el},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(u,A,p){var x=u.l+A,N=u.read_shift(2),A=u.read_shift(2);if((p.sbcch=A)==1025||A==14849)return[A,N];if(A<1||255<A)throw new Error("Unexpected SupBook type: "+A);for(var p=fh(u,A),S=[];x>u.l;)S.push(jm(u));return[A,N,p,S]}},431:{f:Ca},432:{},433:{},434:{},437:{},438:{f:function(u,m,p){var x=u.l,N="";try{u.l+=4;var A=(p.lastobj||{cmo:[0,0]}).cmo[1];[0,5,7,11,12,14].indexOf(A)==-1?u.l+=6:function(R){var z=R.read_shift(1);R.l++;var G=R.read_shift(2);R.l+=2}(u);var S=u.read_shift(2);u.read_shift(2),oi(u),A=u.read_shift(2),u.l+=A;for(var E=1;E<u.lens.length-1;++E){if(u.l-x!=u.lens[E])throw new Error("TxO: bad continue record");var F=u[u.l];if((N+=fh(u,u.lens[E+1]-u.lens[E]-1)).length>=(F?S:2*S))break}if(N.length!==S&&N.length!==2*S)throw new Error("cchText: "+S+" != "+N.length);return u.l=x+m,{t:N}}catch{return u.l=x+m,{t:N}}}},439:{f:Ca},440:{f:function(u,m){var p=b0(u);return u.l+=16,[p,function(x,N){var A=x.l+N;if((G=x.read_shift(4))!==2)throw new Error("Unrecognized streamVersion: "+G);N=x.read_shift(2),x.l+=2;var S,E,F,R,z,G="";16&N&&(S=jv(x,x.l)),128&N&&(E=jv(x,x.l)),(257&N)==257&&(F=jv(x,x.l)),(257&N)==1&&(K=m5(x,x.l)),8&N&&(G=jv(x,x.l)),32&N&&(R=x.read_shift(16)),64&N&&(z=$y(x)),x.l=A;var K=E||F||K||"";return K&&G&&(K+="#"+G),K=K||"#"+G,K={Target:K=2&N&&K.charAt(0)=="/"&&K.charAt(1)!="/"?"file://"+K:K},R&&(K.guid=R),z&&(K.time=z),S&&(K.Tooltip=S),K}(u,m-24)]}},441:{},442:{f:jm},443:{},444:{f:oi},445:{},446:{},448:{f:el},449:{f:function(u){return u.read_shift(2),u.read_shift(4)},r:2},450:{f:el},512:{f:Vy},513:{f:ot},515:{f:function(u,m,p){return p.biffguess&&p.biff==2&&(p.biff=5),p=lc(u),u=wn(u),p.val=u,p}},516:{f:function(u,m,p){return p.biffguess&&p.biff==2&&(p.biff=5),u.l,m=lc(u),p.biff==2&&u.l++,p=jm(u,u.l,p),m.val=p,m}},517:{f:L},519:{f:hk},520:{f:function(u){var m={};m.r=u.read_shift(2),m.c=u.read_shift(2),m.cnt=u.read_shift(2)-m.c;var p=u.read_shift(2);u.l+=4;var x=u.read_shift(1);return u.l+=3,7&x&&(m.level=7&x),32&x&&(m.hidden=!0),64&x&&(m.hpt=p/20),m}},523:{},545:{f:Ae},549:{f:y5},566:{},574:{f:function(u,m,p){return p&&2<=p.biff&&p.biff<5?{}:{RTL:64&u.read_shift(2)}}},638:{f:function(x){var m=x.read_shift(2),p=x.read_shift(2),x=p5(x);return{r:m,c:p,ixfe:x[0],rknum:x[1]}}},659:{},1048:{},1054:{f:function(u,m,p){return[u.read_shift(2),uf(u,0,p)]}},1084:{},1212:{f:function(u,m,p){var x=v5(u);u.l++;var N=u.read_shift(1);return[function(A,S,E){var F,R=A.l+S,z=A.read_shift(2),G=tb(A,z,E);return z==65535?[[],fs(A,S-2)]:(S!==z+2&&(F=eb(A,R-z-2,G,E)),[G,F])}(u,m-=8,p),N,x]}},2048:{f:function(u,m){return u.read_shift(2),[b0(u),u.read_shift((m-10)/2,"dbcs-cont").replace(H,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:w0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:el},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(u){u.l+=2;var m={cxfs:0,crc:0};return m.cxfs=u.read_shift(2),m.crc=u.read_shift(4),m},r:12},2173:{f:function(u,m){u.l,u.l+=2,m=u.read_shift(2),u.l+=2;for(var p=u.read_shift(2),x=[];0<p--;)x.push(jue(u,u.l));return{ixfe:m,ext:x}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ca,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(u,m,p){if(!(p.biff<8)){var x=u.read_shift(2),N=u.read_shift(2);return[fh(u,x,p),fh(u,N,p)]}u.l+=m},r:12},2197:{},2198:{f:function(u,m,p){var x=u.l+m;if(u.read_shift(4)!==124226)if(p.cellStyles){var N,A=u.slice(u.l);u.l=x;try{N=e0(A,{type:"array"})}catch{return}if(m=cs(N,"theme/theme/theme1.xml",!0),m)return xI(m,p)}else u.l=x},r:12},2199:{},2200:{},2201:{},2202:{f:function(u){return[u.read_shift(4)!==0,u.read_shift(4)!==0,u.read_shift(4)]},r:12},2203:{f:el},2204:{},2205:{},2206:{},2207:{},2211:{f:function(u){var m,p,x=(p=(m=u).read_shift(2),x=m.read_shift(2),m.l+=8,{type:p,flags:x});if(x.type!=2211)throw new Error("Invalid Future Record "+x.type);return u.read_shift(4)!==0}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:oi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(u,m,p){var x={area:!1};return p.biff!=5?u.l+=m:(m=u.read_shift(1),u.l+=3,16&m&&(x.area=!0)),x}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(u){for(var m=u.read_shift(2),p=[];0<m--;)p.push(Nm(u));return p}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Vy},1:{},2:{f:function(u){var m=lc(u);return++u.l,u=u.read_shift(2),m.t="n",m.val=u,m}},3:{f:function(u){var m=lc(u);return++u.l,u=wn(u),m.t="n",m.val=u,m}},4:{f:function(u,m,p){p.biffguess&&p.biff==5&&(p.biff=2);var x=lc(u);return++u.l,p=uf(u,0,p),x.t="str",x.val=p,x}},5:{f:L},7:{f:function(u){var m=u.read_shift(1);return m===0?(u.l++,""):u.read_shift(m,"sbcs-cont")}},8:{},9:{f:w0},11:{},22:{f:oi},30:{f:Mv},31:{},32:{},33:{f:Ae},36:{},37:{f:y5},50:{f:function(u,m){u.l+=6,u.l+=2,u.l+=1,u.l+=3,u.l+=1,u.l+=m-13}},62:{},52:{},67:{},68:{f:oi},69:{},86:{},126:{},127:{f:function(u){var m=u.read_shift(2),x=u.read_shift(2),p=u.read_shift(4),x={fmt:m,env:x,len:p,data:u.slice(u.l,u.l+p)};return u.l+=p,x}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(u,A,S){var x=u.l+A,N=lc(u),A=u.read_shift(2),S=fh(u,A,S);return u.l=x,N.t="str",N.val=S,N}},223:{},234:{},354:{},421:{},518:{f:HA},521:{f:w0},536:{f:we},547:{f:ie},561:{},579:{},1030:{f:HA},1033:{f:w0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ir(u,m,p,x){var N=m;isNaN(N)||(m=x||(p||[]).length||0,(x=u.next(4)).write_shift(2,N),x.write_shift(2,m),0<m&&Mt(p)&&u.push(p))}function ob(u,m,p){return(u=u||bt(7)).write_shift(2,m),u.write_shift(2,p),u.write_shift(2,0),u.write_shift(1,0),u}function Ude(u,m,p,x){if(m.v!=null)switch(m.t){case"d":case"n":var N=m.t=="d"?Oa(ca(m.v)):m.v;return void(N==(0|N)&&0<=N&&N<65536?ir(u,2,(z=p,G=x,K=N,ob(Z=bt(9),z,G),Z.write_shift(2,K),Z)):ir(u,3,(K=p,Z=x,N=N,ob(R=bt(15),K,Z),R.write_shift(8,N,"f"),R)));case"b":case"e":return void ir(u,5,(R=p,A=x,S=m.v,E=m.t,ob(F=bt(9),R,A),zl(S,E||"b",F),F));case"s":case"str":return void ir(u,4,(A=p,S=x,E=(m.v||"").slice(0,255),ob(F=bt(8+2*E.length),A,S),F.write_shift(1,E.length),F.write_shift(E.length,E,"sbcs"),F.l<F.length?F.slice(0,F.l):F))}var A,S,E,F,R,z,G,K,Z;ir(u,1,ob(null,p,x))}function Vde(u,m){for(var p=m||{},m=Ks(),x=0,N=0;N<u.SheetNames.length;++N)u.SheetNames[N]==p.sheet&&(x=N);if(x==0&&p.sheet&&u.SheetNames[0]!=p.sheet)throw new Error("Sheet not found: "+p.sheet);return ir(m,p.biff==4?1033:p.biff==3?521:9,Sm(0,16,p)),function(A,S,E){var F,R,z=Array.isArray(S),G=Tn(S["!ref"]||"A1"),K=[];if(255<G.e.c||16383<G.e.r){if(E.WTF)throw new Error("Range "+(S["!ref"]||"A1")+" exceeds format limit A1:IV16384");G.e.c=Math.min(G.e.c,255),G.e.r=Math.min(G.e.c,16383),F=tn(G)}for(var Z=G.s.r;Z<=G.e.r;++Z){R=ts(Z);for(var he=G.s.c;he<=G.e.c;++he){Z===G.s.r&&(K[he]=qn(he)),F=K[he]+R;var ae=z?(S[Z]||[])[he]:S[F];ae&&Ude(A,ae,Z,he)}}}(m,u.Sheets[u.SheetNames[x]],p),ir(m,10),m.end()}function qde(u,m,p){var x,N;ir(u,49,(N=(x={sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"}).name||"Arial",(u=bt((p=(u=p)&&u.biff==5)?15+N.length:16+2*N.length)).write_shift(2,20*(x.sz||12)),u.write_shift(4,0),u.write_shift(2,400),u.write_shift(4,0),u.write_shift(2,0),u.write_shift(1,N.length),p||u.write_shift(1,1),u.write_shift((p?1:2)*N.length,N,p?"sbcs":"utf16le"),u))}function Wde(u,m,p){m&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(x){for(var N,A,S,E,F=x[0];F<=x[1];++F)m[F]!=null&&ir(u,1054,(N=F,A=m[F],E=void 0,S=(S=p)&&S.biff==5,(E=E||bt(S?3+A.length:5+2*A.length)).write_shift(2,N),E.write_shift(S?1:2,A.length),S||E.write_shift(1,1),E.write_shift((S?1:2)*A.length,A,S?"sbcs":"utf16le"),(E=E.length>E.l?E.slice(0,E.l):E).l==null&&(E.l=E.length),E))})}function Hde(u,m){for(var p=0;p<m["!links"].length;++p){var x=m["!links"][p];ir(u,440,Ie(x)),x[1].Tooltip&&ir(u,2048,function(N){var A=N[1].Tooltip,S=bt(10+2*(A.length+1));S.write_shift(2,2048),N=Sa(N[0]),S.write_shift(2,N.r),S.write_shift(2,N.r),S.write_shift(2,N.c),S.write_shift(2,N.c);for(var E=0;E<A.length;++E)S.write_shift(2,A.charCodeAt(E));return S.write_shift(2,0),S}(x))}delete m["!links"]}function Gde(u,m){var p;m&&(p=0,m.forEach(function(x,N){var A;++p<=256&&x&&ir(u,125,(A=F5(N,x),x=N,(N=bt(12)).write_shift(2,x),N.write_shift(2,x),N.write_shift(2,256*A.width),N.write_shift(2,0),x=0,A.hidden&&(x|=1),N.write_shift(1,x),x=A.level||0,N.write_shift(1,x),N.write_shift(2,0),N))}))}function Kde(u,m,p,x,N){var A,S,E,F,R,z,G,K,Z,he,ae,be=16+Om(N.cellXfs,m,N);if(m.v!=null||m.bf)if(m.bf)ir(u,6,Rue(m,p,x,0,be));else switch(m.t){case"d":case"n":var me=m.t=="d"?Oa(ca(m.v)):m.v;ir(u,515,(z=p,G=x,K=me,Z=be,he=bt(14),df(z,G,Z,he),ya(K,he),he));break;case"b":case"e":ir(u,517,(me=p,z=x,G=m.v,Z=be,K=m.t,he=bt(8),df(me,z,Z,he),zl(G,K,he),he));break;case"s":case"str":N.bookSST?(ae=KA(N.Strings,m.v,N.revStrings),ir(u,253,(A=p,S=x,E=ae,F=be,R=bt(10),df(A,S,F,R),R.write_shift(4,E),R))):ir(u,516,(ae=p,A=x,S=(m.v||"").slice(0,255),F=be,E=bt(+(R=!(E=N)||E.biff==8)+8+(1+R)*S.length),df(ae,A,F,E),E.write_shift(2,S.length),R&&E.write_shift(1,1),E.write_shift((1+R)*S.length,S,R?"utf16le":"sbcs"),E));break;default:ir(u,513,df(p,x,be))}else ir(u,513,df(p,x,be))}function Yde(u,m,p){var x,N,A=Ks(),ye=p.SheetNames[u],S=p.Sheets[ye]||{},E=(p||{}).Workbook||{},F=(E.Sheets||[])[u]||{},R=Array.isArray(S),z=m.biff==8,G=[],K=Tn(S["!ref"]||"A1"),Z=z?65536:16384;if(255<K.e.c||K.e.r>=Z){if(m.WTF)throw new Error("Range "+(S["!ref"]||"A1")+" exceeds format limit A1:IV16384");K.e.c=Math.min(K.e.c,255),K.e.r=Math.min(K.e.c,Z-1)}ir(A,2057,Sm(0,16,m)),ir(A,13,Bl(1)),ir(A,12,Bl(100)),ir(A,15,ks(!0)),ir(A,17,ks(!1)),ir(A,16,ya(.001)),ir(A,95,ks(!0)),ir(A,42,ks(!1)),ir(A,43,ks(!1)),ir(A,130,Bl(1)),ir(A,128,(p=[0,0],(u=bt(8)).write_shift(4,0),u.write_shift(2,p[0]?p[0]+1:0),u.write_shift(2,p[1]?p[1]+1:0),u)),ir(A,131,ks(!1)),ir(A,132,ks(!1)),z&&Gde(A,S["!cols"]),ir(A,512,(Z=K,(p=bt(2*(u=(p=m).biff!=8&&p.biff?2:4)+6)).write_shift(u,Z.s.r),p.write_shift(u,Z.e.r+1),p.write_shift(2,Z.s.c),p.write_shift(2,Z.e.c+1),p.write_shift(2,0),p)),z&&(S["!links"]=[]);for(var he=K.s.r;he<=K.e.r;++he){N=ts(he);for(var ae=K.s.c;ae<=K.e.c;++ae){he===K.s.r&&(G[ae]=qn(ae)),x=G[ae]+N;var be=R?(S[he]||[])[ae]:S[x];be&&(Kde(A,be,he,ae,m),z&&be.l&&S["!links"].push([x,be.l]))}}var me,oe,ye=F.CodeName||F.name||ye;return z&&ir(A,574,(E=(E.Views||[])[0],oe=bt(18),me=1718,E&&E.RTL&&(me|=64),oe.write_shift(2,me),oe.write_shift(4,0),oe.write_shift(4,64),oe.write_shift(4,0),oe.write_shift(4,0),oe)),z&&(S["!merges"]||[]).length&&ir(A,229,function(Ne){var Ce=bt(2+8*Ne.length);Ce.write_shift(2,Ne.length);for(var We=0;We<Ne.length;++We)g5(Ne[We],Ce);return Ce}(S["!merges"])),z&&Hde(A,S),ir(A,442,Uy(ye)),z&&(me=A,oe=S,(ye=bt(19)).write_shift(4,2151),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(2,3),ye.write_shift(1,1),ye.write_shift(4,0),ir(me,2151,ye),(ye=bt(39)).write_shift(4,2152),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(2,3),ye.write_shift(1,0),ye.write_shift(4,0),ye.write_shift(2,1),ye.write_shift(4,4),ye.write_shift(2,0),g5(Tn(oe["!ref"]||"A1"),ye),ye.write_shift(4,4),ir(me,2152,ye)),ir(A,10),A.end()}function Xde(u,m,p){var x=Ks(),E=(u||{}).Workbook||{},N=E.Sheets||[],A=E.WBProps||{},S=p.biff==8,E=p.biff==5;ir(x,2057,Sm(0,5,p)),p.bookType=="xla"&&ir(x,135),ir(x,225,S?Bl(1200):null),ir(x,193,function(me,oe){oe=oe||bt(me);for(var ye=0;ye<me;++ye)oe.write_shift(1,0);return oe}(2)),E&&ir(x,191),E&&ir(x,192),ir(x,226),ir(x,92,function(me){var oe=!me||me.biff==8,ye=bt(oe?112:54);for(ye.write_shift(me.biff==8?2:1,7),oe&&ye.write_shift(1,0),ye.write_shift(4,859007059),ye.write_shift(4,5458548|(oe?0:536870912));ye.l<ye.length;)ye.write_shift(1,oe?0:32);return ye}(p)),ir(x,66,Bl(S?1200:1252)),S&&ir(x,353,Bl(0)),S&&ir(x,448),ir(x,317,function(me){for(var oe=bt(2*me),ye=0;ye<me;++ye)oe.write_shift(2,ye+1);return oe}(u.SheetNames.length)),S&&u.vbaraw&&ir(x,211),S&&u.vbaraw&&ir(x,442,Uy(A.CodeName||"ThisWorkbook")),ir(x,156,Bl(17)),ir(x,25,ks(!1)),ir(x,18,ks(!1)),ir(x,19,Bl(0)),S&&ir(x,431,ks(!1)),S&&ir(x,444,Bl(0)),ir(x,61,((E=bt(18)).write_shift(2,0),E.write_shift(2,0),E.write_shift(2,29280),E.write_shift(2,17600),E.write_shift(2,56),E.write_shift(2,0),E.write_shift(2,0),E.write_shift(2,1),E.write_shift(2,500),E)),ir(x,64,ks(!1)),ir(x,141,Bl(0)),ir(x,34,ks(((A=u).Workbook&&A.Workbook.WBProps&&Ka(A.Workbook.WBProps.date1904)?"true":"false")=="true")),ir(x,14,ks(!0)),S&&ir(x,439,ks(!1)),ir(x,218,Bl(0)),qde(x,0,p),Wde(x,u.SSF,p),function(me,oe){for(var ye=0;ye<16;++ye)ir(me,224,O({numFmtId:0,style:!0},0,oe));oe.cellXfs.forEach(function(Ne){ir(me,224,O(Ne,0,oe))})}(x,p),S&&ir(x,352,ks(!1)),E=x.end(),A=Ks(),S&&ir(A,140,((be=be||bt(4)).write_shift(2,1),be.write_shift(2,1),be)),S&&p.Strings&&function(me,oe,ye){var Ne=(ye||[]).length||0;if(Ne<=8224)return ir(me,oe,ye,Ne);if(!isNaN(oe)){for(var Ce=ye.parts||[],We=0,tt=0,Je=0;Je+(Ce[We]||8224)<=8224;)Je+=Ce[We]||8224,We++;var ct=me.next(4);for(ct.write_shift(2,oe),ct.write_shift(2,Je),me.push(ye.slice(tt,tt+Je)),tt+=Je;tt<Ne;){for((ct=me.next(4)).write_shift(2,60),Je=0;Je+(Ce[We]||8224)<=8224;)Je+=Ce[We]||8224,We++;ct.write_shift(2,Je),me.push(ye.slice(tt,tt+Je)),tt+=Je}}}(A,252,RA(p.Strings)),ir(A,10);for(var x=A.end(),F=Ks(),R=0,z=0,z=0;z<u.SheetNames.length;++z)R+=(S?12:11)+(S?2:1)*u.SheetNames[z].length;var G,K,Z,he,ae=E.length+R+x.length;for(z=0;z<u.SheetNames.length;++z)ir(F,133,(G={pos:ae,hs:(N[z]||{}).Hidden||0,dt:0,name:u.SheetNames[z]},he=Z=void 0,Z=!(K=p)||8<=K.biff?2:1,(he=bt(8+Z*G.name.length)).write_shift(4,G.pos),he.write_shift(1,G.hs||0),he.write_shift(1,G.dt),he.write_shift(1,G.name.length),8<=K.biff&&he.write_shift(1,1),he.write_shift(Z*G.name.length,G.name,K.biff<8?"sbcs":"utf16le"),(K=he.slice(0,he.l)).l=he.l,K)),ae+=m[z].length;var be=F.end();if(R!=be.length)throw new Error("BS8 "+R+" != "+be.length);return A=[],E.length&&A.push(E),be.length&&A.push(be),x.length&&A.push(x),re(A)}function sL(u,m){for(var p=0;p<=u.SheetNames.length;++p){var x=u.Sheets[u.SheetNames[p]];x&&x["!ref"]&&255<Pi(x["!ref"]).e.c&&typeof console<"u"&&console.error&&console.error("Worksheet '"+u.SheetNames[p]+"' extends beyond column IV (255).  Data may be lost.")}var N=m||{};switch(N.biff||2){case 8:case 5:return function(A,S){var E=S||{},F=[];A&&!A.SSF&&(A.SSF=Yn(Y)),A&&A.SSF&&(ja(),qr(A.SSF),E.revssf=ac(A.SSF),E.revssf[A.SSF[65535]]=0,E.ssf=A.SSF),E.Strings=[],E.Strings.Count=0,E.Strings.Unique=0,sk(E),E.cellXfs=[],Om(E.cellXfs,{},{revssf:{General:0}}),A.Props||(A.Props={});for(var R=0;R<A.SheetNames.length;++R)F[F.length]=Yde(R,E,A);return F.unshift(Xde(A,F,E)),re(F)}(u,m);case 4:case 3:case 2:return Vde(u,m)}throw new Error("invalid type "+N.bookType+" for BIFF")}function iL(u,m){var p=m||{},x=p.dense?[]:{},N=(u=u.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!N)throw new Error("Invalid HTML: could not find <table>");for(var A,m=u.match(/<\/table/i),K=N.index,S=m&&m.index||u.length,E=im(u.slice(K,S),/(:?<tr[^>]*>)/i,"<tr>"),F=-1,R=0,z={s:{r:1e7,c:1e7},e:{r:0,c:0}},G=[],K=0;K<E.length;++K){var Z=E[K].trim(),he=Z.slice(0,3).toLowerCase();if(he!="<tr"){if(he=="<td"||he=="<th")for(var ae=Z.split(/<\/t[dh]>/i),S=0;S<ae.length;++S){var be=ae[S].trim();if(be.match(/<t[dh]/i)){for(var me=be,oe=0;me.charAt(0)=="<"&&-1<(oe=me.indexOf(">"));)me=me.slice(oe+1);for(var ye=0;ye<G.length;++ye){var Ne=G[ye];Ne.s.c==R&&Ne.s.r<F&&F<=Ne.e.r&&(R=Ne.e.c+1,ye=-1)}var Ce=sn(be.slice(0,be.indexOf(">"))),We=Ce.colspan?+Ce.colspan:1;(1<(A=+Ce.rowspan)||1<We)&&G.push({s:{r:F,c:R},e:{r:F+(A||1)-1,c:R+We-1}}),be=Ce.t||Ce["data-t"]||"",me.length&&(me=dv(me),z.s.r>F&&(z.s.r=F),z.e.r<F&&(z.e.r=F),z.s.c>R&&(z.s.c=R),z.e.c<R&&(z.e.c=R),me.length&&(Ce={t:"s",v:me},p.raw||!me.trim().length||be=="s"||(me==="TRUE"?Ce={t:"b",v:!0}:me==="FALSE"?Ce={t:"b",v:!1}:isNaN(no(me))?isNaN(ic(me).getDate())||(Ce={t:"d",v:ca(me)},(Ce=p.cellDates?Ce:{t:"n",v:Oa(Ce.v)}).z=p.dateNF||Y[14]):Ce={t:"n",v:no(me)}),p.dense?(x[F]||(x[F]=[]),x[F][R]=Ce):x[en({r:F,c:R})]=Ce)),R+=We}}}else{if(++F,p.sheetRows&&p.sheetRows<=F){--F;break}R=0}}return x["!ref"]=tn(z),G.length&&(x["!merges"]=G),x}function oL(u,m,p,x){for(var N=u["!merges"]||[],A=[],S=m.s.c;S<=m.e.c;++S){for(var E,F,R,z,G=0,K=0,Z=0;Z<N.length;++Z)if(!(N[Z].s.r>p||N[Z].s.c>S||N[Z].e.r<p||N[Z].e.c<S)){if(N[Z].s.r<p||N[Z].s.c<S){G=-1;break}G=N[Z].e.r-N[Z].s.r+1,K=N[Z].e.c-N[Z].s.c+1;break}G<0||(E=en({r:p,c:S}),R=(F=x.dense?(u[p]||[])[S]:u[E])&&F.v!=null&&(F.h||um(F.w||(fl(F),F.w)||""))||"",z={},1<G&&(z.rowspan=G),1<K&&(z.colspan=K),x.editable?R='<span contenteditable="true">'+R+"</span>":F&&(z["data-t"]=F&&F.t||"z",F.v!=null&&(z["data-v"]=F.v),F.z!=null&&(z["data-z"]=F.z),F.l&&(F.l.Target||"#").charAt(0)!="#"&&(R='<a href="'+F.l.Target+'">'+R+"</a>")),z.id=(x.id||"sjs")+"-"+E,A.push(er("td",R,z)))}return"<tr>"+A.join("")+"</tr>"}var lL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cL="</body></html>";function uL(u,m,p){return[].join("")+"<table"+(p&&p.id?' id="'+p.id+'"':"")+">"}function dL(u,N){var p=N||{},x=p.header!=null?p.header:lL,N=p.footer!=null?p.footer:cL,A=[x],S=Pi(u["!ref"]);p.dense=Array.isArray(u),A.push(uL(0,0,p));for(var E=S.s.r;E<=S.e.r;++E)A.push(oL(u,S,E,p));return A.push("</table>"+N),A.join("")}function fL(u,m,p){var x=p||{},N=0,A=0;x.origin!=null&&(typeof x.origin=="number"?N=x.origin:(N=(p=typeof x.origin=="string"?Sa(x.origin):x.origin).r,A=p.c));var S=m.getElementsByTagName("tr"),E=Math.min(x.sheetRows||1e7,S.length),F={s:{r:0,c:0},e:{r:N,c:A}};u["!ref"]&&(m=Pi(u["!ref"]),F.s.r=Math.min(F.s.r,m.s.r),F.s.c=Math.min(F.s.c,m.s.c),F.e.r=Math.max(F.e.r,m.e.r),F.e.c=Math.max(F.e.c,m.e.c),N==-1&&(F.e.r=N=m.e.r+1));var R,z,G=[],K=0,Z=u["!rows"]||(u["!rows"]=[]),he=0,ae=0,be=0,me=0;for(u["!cols"]||(u["!cols"]=[]);he<S.length&&ae<E;++he){var oe=S[he];if(mL(oe)){if(x.display)continue;Z[ae]={hidden:!0}}for(var ye=oe.children,be=me=0;be<ye.length;++be){var Ne=ye[be];if(!x.display||!mL(Ne)){for(var Ce=Ne.hasAttribute("data-v")?Ne.getAttribute("data-v"):Ne.hasAttribute("v")?Ne.getAttribute("v"):dv(Ne.innerHTML),We=Ne.getAttribute("data-z")||Ne.getAttribute("z"),K=0;K<G.length;++K){var tt=G[K];tt.s.c==me+A&&tt.s.r<ae+N&&ae+N<=tt.e.r&&(me=tt.e.c+1-A,K=-1)}z=+Ne.getAttribute("colspan")||1,(1<(R=+Ne.getAttribute("rowspan")||1)||1<z)&&G.push({s:{r:ae+N,c:me+A},e:{r:ae+N+(R||1)-1,c:me+A+(z||1)-1}});var Je={t:"s",v:Ce},ct=Ne.getAttribute("data-t")||Ne.getAttribute("t")||"";Ce!=null&&(Ce.length==0?Je.t=ct||"z":x.raw||Ce.trim().length==0||ct=="s"||(Ce==="TRUE"?Je={t:"b",v:!0}:Ce==="FALSE"?Je={t:"b",v:!1}:isNaN(no(Ce))?isNaN(ic(Ce).getDate())||(Je={t:"d",v:ca(Ce)},(Je=x.cellDates?Je:{t:"n",v:Oa(Je.v)}).z=x.dateNF||Y[14]):Je={t:"n",v:no(Ce)})),Je.z===void 0&&We!=null&&(Je.z=We);var kt="",Ft=Ne.getElementsByTagName("A");if(Ft&&Ft.length)for(var ht=0;ht<Ft.length&&(!Ft[ht].hasAttribute("href")||(kt=Ft[ht].getAttribute("href")).charAt(0)=="#");++ht);kt&&kt.charAt(0)!="#"&&(Je.l={Target:kt}),x.dense?(u[ae+N]||(u[ae+N]=[]),u[ae+N][me+A]=Je):u[en({c:me+A,r:ae+N})]=Je,F.e.c<me+A&&(F.e.c=me+A),me+=z}}++ae}return G.length&&(u["!merges"]=(u["!merges"]||[]).concat(G)),F.e.r=Math.max(F.e.r,ae-1+N),u["!ref"]=tn(F),E<=ae&&(u["!fullref"]=tn((F.e.r=S.length-he+ae-1+N,F))),u}function hL(u,m){return fL((m||{}).dense?[]:{},u,m)}function mL(u){var p,m="",p=(p=u).ownerDocument.defaultView&&typeof p.ownerDocument.defaultView.getComputedStyle=="function"?p.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null;return(m=(m=p?p(u).getPropertyValue("display"):m)||u.style&&u.style.display)==="none"}var pL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gL(u,m){var p=m||{},x,N,A,S,E,F=s0(u),R=[],z={name:""},G="",K=0,Z={},he=[],ae=p.dense?[]:{},be={value:""},me="",oe=0,ye=[],Ne=-1,Ce=-1,We={s:{r:1e6,c:1e7},e:{r:0,c:0}},tt=0,Je={},ct=[],kt={},Ft=[],ht=1,qt=1,fr=[],or={Names:[]},Zt={},tr=["",""],Yt=[],Lt={},vr="",Nr=0,Wr=!1,zn=!1,mr=0;for(Ml.lastIndex=0,F=F.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");S=Ml.exec(F);)switch(S[3]=S[3].replace(/_.*$/,"")){case"table":case"":S[1]==="/"?(We.e.c>=We.s.c&&We.e.r>=We.s.r?ae["!ref"]=tn(We):ae["!ref"]="A1:A1",0<p.sheetRows&&p.sheetRows<=We.e.r&&(ae["!fullref"]=ae["!ref"],We.e.r=p.sheetRows-1,ae["!ref"]=tn(We)),ct.length&&(ae["!merges"]=ct),Ft.length&&(ae["!rows"]=Ft),A.name=A.||A.name,typeof JSON<"u"&&JSON.stringify(A),he.push(A.name),Z[A.name]=ae,zn=!1):S[0].charAt(S[0].length-2)!=="/"&&(A=sn(S[0],!1),Ne=Ce=-1,We.s.r=We.s.c=1e7,We.e.r=We.e.c=0,ae=p.dense?[]:{},ct=[],Ft=[],zn=!0);break;case"table-row-group":S[1]==="/"?--tt:++tt;break;case"table-row":case"":if(S[1]==="/"){Ne+=ht,ht=1;break}if((Vt=sn(S[0],!1)).?Ne=Vt.-1:Ne==-1&&(Ne=0),(ht=+Vt["number-rows-repeated"]||1)<10)for(mr=0;mr<ht;++mr)0<tt&&(Ft[Ne+mr]={level:tt});Ce=-1;break;case"covered-table-cell":S[1]!=="/"&&++Ce,p.sheetStubs&&(p.dense?(ae[Ne]||(ae[Ne]=[]),ae[Ne][Ce]={t:"z"}):ae[en({r:Ne,c:Ce})]={t:"z"}),me="",ye=[];break;case"table-cell":case"":if(S[0].charAt(S[0].length-2)==="/")++Ce,be=sn(S[0],!1),qt=parseInt(be["number-columns-repeated"]||"1",10),E={t:"z",v:null},be.formula&&p.cellFormula!=0&&(E.f=II(Mn(be.formula))),(be.||be["value-type"])=="string"&&(E.t="s",E.v=Mn(be["string-value"]||""),p.dense?(ae[Ne]||(ae[Ne]=[]),ae[Ne][Ce]=E):ae[en({r:Ne,c:Ce})]=E),Ce+=qt-1;else if(S[1]!=="/"){me="",oe=0,ye=[],qt=1;var Vt=ht?Ne+ht-1:Ne;if(++Ce>We.e.c&&(We.e.c=Ce),Ce<We.s.c&&(We.s.c=Ce),Ne<We.s.r&&(We.s.r=Ne),Vt>We.e.r&&(We.e.r=Vt),Yt=[],Lt={},E={t:(be=sn(S[0],!1)).||be["value-type"],v:null},p.cellFormula)if(be.formula&&(be.formula=Mn(be.formula)),be["number-matrix-columns-spanned"]&&be["number-matrix-rows-spanned"]&&(kt={s:{r:Ne,c:Ce},e:{r:Ne+(parseInt(be["number-matrix-rows-spanned"],10)||0)-1,c:Ce+(parseInt(be["number-matrix-columns-spanned"],10)||0)-1}},E.F=tn(kt),fr.push([kt,E.F])),be.formula)E.f=II(be.formula);else for(mr=0;mr<fr.length;++mr)Ne>=fr[mr][0].s.r&&Ne<=fr[mr][0].e.r&&Ce>=fr[mr][0].s.c&&Ce<=fr[mr][0].e.c&&(E.F=fr[mr][1]);switch((be["number-columns-spanned"]||be["number-rows-spanned"])&&(kt={s:{r:Ne,c:Ce},e:{r:Ne+(parseInt(be["number-rows-spanned"],10)||0)-1,c:Ce+(parseInt(be["number-columns-spanned"],10)||0)-1}},ct.push(kt)),be["number-columns-repeated"]&&(qt=parseInt(be["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=Ka(be["boolean-value"]);break;case"float":case"percentage":case"currency":E.t="n",E.v=parseFloat(be.value);break;case"date":E.t="d",E.v=ca(be["date-value"]),p.cellDates||(E.t="n",E.v=Oa(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=function(ra){var za=0,ui=0,Ke=!1,Ua=ra.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!Ua)throw new Error("|"+ra+"| is not an ISO8601 Duration");for(var Ma=1;Ma!=Ua.length;++Ma)if(Ua[Ma]){switch(ui=1,3<Ma&&(Ke=!0),Ua[Ma].slice(Ua[Ma].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+Ua[Ma].slice(Ua[Ma].length-1));case"D":ui*=24;case"H":ui*=60;case"M":if(!Ke)throw new Error("Unsupported ISO Duration Field: M");ui*=60}za+=ui*parseInt(Ua[Ma],10)}return za}(be["time-value"])/86400,p.cellDates&&(E.t="d",E.v=ni(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(be.);break;default:if(E.t!=="string"&&E.t!=="text"&&E.t)throw new Error("Unsupported value type "+E.t);E.t="s",be["string-value"]!=null&&(me=Mn(be["string-value"]),ye=[])}}else{if(Wr=!1,E.t==="s"&&(E.v=me||"",ye.length&&(E.R=ye),Wr=oe==0),Zt.Target&&(E.l=Zt),0<Yt.length&&(E.c=Yt,Yt=[]),me&&p.cellText!==!1&&(E.w=me),Wr&&(E.t="z",delete E.v),(!Wr||p.sheetStubs)&&!(p.sheetRows&&p.sheetRows<=Ne))for(var xn=0;xn<ht;++xn){if(qt=parseInt(be["number-columns-repeated"]||"1",10),p.dense)for(ae[Ne+xn]||(ae[Ne+xn]=[]),ae[Ne+xn][Ce]=xn==0?E:Yn(E);0<--qt;)ae[Ne+xn][Ce+qt]=Yn(E);else for(ae[en({r:Ne+xn,c:Ce})]=E;0<--qt;)ae[en({r:Ne+xn,c:Ce+qt})]=Yn(E);We.e.c<=Ce&&(We.e.c=Ce)}Ce+=(qt=parseInt(be["number-columns-repeated"]||"1",10))-1,qt=0,E={},me="",ye=[]}Zt={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(S[1]==="/"){if((x=R.pop())[0]!==S[3])throw"Bad state: "+x}else S[0].charAt(S[0].length-2)!=="/"&&R.push([S[3],!0]);break;case"annotation":if(S[1]==="/"){if((x=R.pop())[0]!==S[3])throw"Bad state: "+x;Lt.t=me,ye.length&&(Lt.R=ye),Lt.a=vr,Yt.push(Lt)}else S[0].charAt(S[0].length-2)!=="/"&&R.push([S[3],!1]);me=vr="",oe=Nr=0,ye=[];break;case"creator":S[1]==="/"?vr=F.slice(Nr,S.index):Nr=S.index+S[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(S[1]==="/"){if((x=R.pop())[0]!==S[3])throw"Bad state: "+x}else S[0].charAt(S[0].length-2)!=="/"&&R.push([S[3],!1]);me="",oe=0,ye=[];break;case"scientific-number":case"currency-symbol":case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(S[1]==="/"){if(Je[z.name]=G,(x=R.pop())[0]!==S[3])throw"Bad state: "+x}else S[0].charAt(S[0].length-2)!=="/"&&(G="",z=sn(S[0],!1),R.push([S[3],!0]));break;case"script":case"libraries":case"automatic-styles":break;case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":break;case"number":switch(R[R.length-1][0]){case"time-style":case"date-style":N=sn(S[0],!1),G+=pL[S[3]][N.style==="long"?1:0]}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(R[R.length-1][0]){case"time-style":case"date-style":N=sn(S[0],!1),G+=pL[S[3]][N.style==="long"?1:0]}break;case"boolean-style":case"boolean":case"text-style":break;case"text":if(S[0].slice(-2)==="/>")break;if(S[1]==="/")switch(R[R.length-1][0]){case"number-style":case"date-style":case"time-style":G+=F.slice(K,S.index)}else K=S.index+S[0].length;break;case"named-range":tr=GA((N=sn(S[0],!1))["cell-range-address"]);var da={Name:N.name,Ref:tr[0]+"!"+tr[1]};zn&&(da.Sheet=he.length),or.Names.push(da);break;case"text-content":case"text-properties":case"embedded-text":break;case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":break;case"p":case"":if(-1<["master-styles"].indexOf(R[R.length-1][0]))break;S[1]!=="/"||be&&be["string-value"]?(sn(S[0],!1),oe=S.index+S[0].length):(da=(da=F.slice(oe,S.index)).replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(ra,za){return Array(parseInt(za,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),da=[Mn(da.replace(/<[^>]*>/g,""))],me=(0<me.length?me+`
`:"")+da[0]);break;case"s":break;case"database-range":if(S[1]==="/")break;try{Z[(tr=GA(sn(S[0])["target-range-address"]))[0]]["!autofilter"]={ref:tr[1]}}catch{}break;case"date":case"object":break;case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":break;case"a":if(S[1]!=="/"){if(!(Zt=sn(S[0],!1)).href)break;Zt.Target=Mn(Zt.href),delete Zt.href,Zt.Target.charAt(0)=="#"&&-1<Zt.Target.indexOf(".")?(tr=GA(Zt.Target.slice(1)),Zt.Target="#"+tr[0]+"!"+tr[1]):Zt.Target.match(/^\.\.[\\\/]/)&&(Zt.Target=Zt.Target.slice(3))}break;case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;default:switch(S[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(p.WTF)throw new Error(S)}}return u={Sheets:Z,SheetNames:he,Workbook:or},p.bookSheets&&delete u.Sheets,u}function vL(u,m){m=m||{},Po(u,"META-INF/manifest.xml")&&function(x,N){for(var A,S,E=s0(x);A=Ml.exec(E);)switch(A[3]){case"manifest":break;case"file-entry":if((S=sn(A[0],!1)).path=="/"&&S.type!==Ll)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(N&&N.WTF)throw A}}(Ns(u,"META-INF/manifest.xml"),m);var p=cs(u,"content.xml");if(!p)throw new Error("Missing content.xml in ODS / UOF file");return m=gL(va(p),m),Po(u,"meta.xml")&&(m.Props=p0(Ns(u,"meta.xml"))),m}function xL(u,m){return gL(u,m)}var Jde=function(){var u=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),m="<office:document-styles "+pu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+u+"</office:document-styles>";return function(){return us+m}}(),yL=function(){function u(p,x,N){var A=[];A.push('      <table:table table:name="'+Na(x.SheetNames[N])+`" table:style-name="ta1">
`);var S=0,E=0,F=Pi(p["!ref"]||"A1"),R=p["!merges"]||[],z=0,G=Array.isArray(p);if(p["!cols"])for(E=0;E<=F.e.c;++E)A.push("        <table:table-column"+(p["!cols"][E]?' table:style-name="co'+p["!cols"][E].ods+'"':"")+`></table:table-column>
`);for(var K="",Z=p["!rows"]||[],S=0;S<F.s.r;++S)K=Z[S]?' table:style-name="ro'+Z[S].ods+'"':"",A.push("        <table:table-row"+K+`></table:table-row>
`);for(;S<=F.e.r;++S){for(K=Z[S]?' table:style-name="ro'+Z[S].ods+'"':"",A.push("        <table:table-row"+K+`>
`),E=0;E<F.s.c;++E)A.push(m);for(;E<=F.e.c;++E){for(var he=!1,ae={},be="",z=0;z!=R.length;++z)if(!(R[z].s.c>E||R[z].s.r>S||R[z].e.c<E||R[z].e.r<S)){R[z].s.c==E&&R[z].s.r==S||(he=!0),ae["table:number-columns-spanned"]=R[z].e.c-R[z].s.c+1,ae["table:number-rows-spanned"]=R[z].e.r-R[z].s.r+1;break}if(he)A.push(`          <table:covered-table-cell/>
`);else{var me=en({r:S,c:E}),oe=G?(p[S]||[])[E]:p[me];if(oe&&oe.f&&(ae["table:formula"]=Na(("of:="+oe.f.replace(VA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),oe.F&&oe.F.slice(0,me.length)==me&&(ye=Pi(oe.F),ae["table:number-matrix-columns-spanned"]=ye.e.c-ye.s.c+1,ae["table:number-matrix-rows-spanned"]=ye.e.r-ye.s.r+1)),oe){switch(oe.t){case"b":be=oe.v?"TRUE":"FALSE",ae["office:value-type"]="boolean",ae["office:boolean-value"]=oe.v?"true":"false";break;case"n":be=oe.w||String(oe.v||0),ae["office:value-type"]="float",ae["office:value"]=oe.v||0;break;case"s":case"str":be=oe.v==null?"":oe.v,ae["office:value-type"]="string";break;case"d":be=oe.w||ca(oe.v).toISOString(),ae["office:value-type"]="date",ae["office:date-value"]=ca(oe.v).toISOString(),ae["table:style-name"]="ce1";break;default:A.push(m);continue}var ye,me=Na(be).replace(/  +/g,function(Ce){return'<text:s text:c="'+Ce.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");oe.l&&oe.l.Target&&(me=er("text:a",me,{"xlink:href":(ye=(ye=(ye=oe.l.Target).charAt(0)=="#"?"#"+ye.slice(1).replace(/\./,"!"):ye).charAt(0)!="#"&&!ye.match(/^\w+:/)?"../"+ye:ye).replace(/&/g,"&amp;")})),A.push("          "+er("table:table-cell",er("text:p",me,{}),ae)+`
`)}else A.push(m)}}A.push(`        </table:table-row>
`)}return A.push(`      </table:table>
`),A.join("")}var m=`          <table:table-cell />
`;return function(p,x){var N=[us],A=pu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),S=pu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});x.bookType=="fods"?(N.push("<office:document"+A+S+`>
`),N.push(m0().replace(/office:document-meta/g,"office:meta"))):N.push("<office:document-content"+A+`>
`),function(F,R){F.push(` <office:automatic-styles>
`),F.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),F.push(`   <number:month number:style="long"/>
`),F.push(`   <number:text>/</number:text>
`),F.push(`   <number:day number:style="long"/>
`),F.push(`   <number:text>/</number:text>
`),F.push(`   <number:year/>
`),F.push(`  </number:date-style>
`);var z=0;R.SheetNames.map(function(K){return R.Sheets[K]}).forEach(function(K){if(K&&K["!cols"]){for(var Z=0;Z<K["!cols"].length;++Z)if(K["!cols"][Z]){var he=K["!cols"][Z];if(he.width==null&&he.wpx==null&&he.wch==null)continue;Tm(he),he.ods=z,he=K["!cols"][Z].wpx+"px",F.push('  <style:style style:name="co'+z+`" style:family="table-column">
`),F.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+he+`"/>
`),F.push(`  </style:style>
`),++z}}});var G=0;R.SheetNames.map(function(K){return R.Sheets[K]}).forEach(function(K){if(K&&K["!rows"])for(var Z,he=0;he<K["!rows"].length;++he)K["!rows"][he]&&(K["!rows"][he].ods=G,Z=K["!rows"][he].hpx+"px",F.push('  <style:style style:name="ro'+G+`" style:family="table-row">
`),F.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+Z+`"/>
`),F.push(`  </style:style>
`),++G)}),F.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),F.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),F.push(`  </style:style>
`),F.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),F.push(` </office:automatic-styles>
`)}(N,p),N.push(`  <office:body>
`),N.push(`    <office:spreadsheet>
`);for(var E=0;E!=p.SheetNames.length;++E)N.push(u(p.Sheets[p.SheetNames[E]],p,E));return N.push(`    </office:spreadsheet>
`),N.push(`  </office:body>
`),x.bookType=="fods"?N.push("</office:document>"):N.push("</office:document-content>"),N.join("")}}();function bL(u,m){if(m.bookType=="fods")return yL(u,m);var p=ah(),x=[],N=[];return Sn(p,"mimetype","application/vnd.oasis.opendocument.spreadsheet"),Sn(p,"content.xml",yL(u,m)),x.push(["content.xml","text/xml"]),N.push(["content.xml","ContentFile"]),Sn(p,"styles.xml",Jde(u,m)),x.push(["styles.xml","text/xml"]),N.push(["styles.xml","StylesFile"]),Sn(p,"meta.xml",us+m0()),x.push(["meta.xml","text/xml"]),N.push(["meta.xml","MetadataFile"]),Sn(p,"manifest.rdf",function(A){var S=[us];S.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var E=0;E!=A.length;++E)S.push($l(A[E][0],A[E][1])),S.push([`  <rdf:Description rdf:about="">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+A[E][0]+`"/>
`,`  </rdf:Description>
`].join(""));return S.push($l("","Document","pkg")),S.push("</rdf:RDF>"),S.join("")}(N)),x.push(["manifest.rdf","application/rdf+xml"]),Sn(p,"META-INF/manifest.xml",function(A){var S=[us];S.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),S.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var E=0;E<A.length;++E)S.push('  <manifest:file-entry manifest:full-path="'+A[E][0]+'" manifest:media-type="'+A[E][1]+`"/>
`);return S.push("</manifest:manifest>"),S.join("")}(x)),p}function ph(u){return new DataView(u.buffer,u.byteOffset,u.byteLength)}function ek(u){return typeof TextDecoder<"u"?new TextDecoder().decode(u):va(U(u))}function wL(u){return typeof TextEncoder<"u"?new TextEncoder().encode(u):B(oc(u))}function Fm(u){var m=u.reduce(function(N,A){return N+A.length},0),p=new Uint8Array(m),x=0;return u.forEach(function(N){p.set(N,x),x+=N.length}),p}function _L(u){return 16843009*((u=(858993459&(u-=u>>1&1431655765))+(u>>2&858993459))+(u>>4)&252645135)>>>24}function lb(u,m){var p=m?m[0]:0,x=127&u[p];return 128<=u[p++]&&(x|=(127&u[p])<<7,u[p++]<128||(x|=(127&u[p])<<14,u[p++]<128||(x|=(127&u[p])<<21,u[p++]<128||(x+=(127&u[p])*Math.pow(2,28),++p,u[p++]<128||(x+=(127&u[p])*Math.pow(2,35),++p,u[p++]<128||(x+=(127&u[p])*Math.pow(2,42),++p,u[p++])))))),m&&(m[0]=p),x}function Aa(u){var m=new Uint8Array(7);m[0]=127&u;var p=1;return 127<u&&(m[p-1]|=128,m[p]=u>>7&127,++p,u<=16383||(m[p-1]|=128,m[p]=u>>14&127,++p,u<=2097151||(m[p-1]|=128,m[p]=u>>21&127,++p,u<=268435455||(m[p-1]|=128,m[p]=u/256>>>21&127,++p,u<=34359738367||(m[p-1]|=128,m[p]=u/65536>>>21&127,++p,u<=4398046511103||(m[p-1]|=128,m[p]=u/16777216>>>21&127,++p)))))),m.slice(0,p)}function Ls(u){var m=0,p=127&u[0];return 128<=u[m++]&&(p|=(127&u[1])<<7,u[m++]<128||(p|=(127&u[2])<<14,u[m++]<128||(p|=(127&u[3])<<21,u[+m]<128||(p|=(127&u[4])<<28)))),p}function ua(u){for(var m=[],p=[0];p[0]<u.length;){var x,N=p[0],A=lb(u,p),S=7&A,E=0;if((A=Math.floor(A/8))==0)break;switch(S){case 0:for(var F=p[0];128<=u[p[0]++];);x=u.slice(F,p[0]);break;case 5:E=4,x=u.slice(p[0],p[0]+E),p[0]+=E;break;case 1:E=8,x=u.slice(p[0],p[0]+E),p[0]+=E;break;case 2:E=lb(u,p),x=u.slice(p[0],p[0]+E),p[0]+=E;break;case 3:case 4:default:throw new Error("PB Type ".concat(S," for Field ").concat(A," at offset ").concat(N))}var R={data:x,type:S};m[A]==null?m[A]=[R]:m[A].push(R)}return m}function Xs(u){var m=[];return u.forEach(function(p,x){x!=0&&p.forEach(function(N){N.data&&(m.push(Aa(8*x+N.type)),N.type==2&&m.push(Aa(N.data.length)),m.push(N.data))})}),Fm(m)}function tk(u,m){return(u==null?void 0:u.map(function(p){return m(p.data)}))||[]}function Su(u){for(var m=[],p=[0];p[0]<u.length;){var x=lb(u,p),N=ua(u.slice(p[0],p[0]+x));p[0]+=x;var A={id:Ls(N[1][0].data),messages:[]};N[2].forEach(function(F){var E=ua(F.data),F=Ls(E[3][0].data);A.messages.push({meta:E,data:u.slice(p[0],p[0]+F)}),p[0]+=F}),(x=N[3])!=null&&x[0]&&(A.merge=0<Ls(N[3][0].data)>>>0),m.push(A)}return m}function E0(u){var m=[];return u.forEach(function(p){var x=[[],[{data:Aa(p.id),type:0}],[]];p.merge!=null&&(x[3]=[{data:Aa(+!!p.merge),type:0}]);var N=[];p.messages.forEach(function(A){N.push(A.data),A.meta[3]=[{type:0,data:Aa(A.data.length)}],x[2].push({data:Xs(A.meta),type:2})}),p=Xs(x),m.push(Aa(p.length)),m.push(p),N.forEach(function(A){return m.push(A)})}),Fm(m)}function Cu(u){for(var m=[],p=0;p<u.length;){var x=u[p++],N=u[p]|u[p+1]<<8|u[p+2]<<16;p+=3,m.push(function(A,S){if(A!=0)throw new Error("Unexpected Snappy chunk type ".concat(A));for(var E=[0],F=lb(S,E),R=[];E[0]<S.length;){var z=3&S[E[0]];if(z!=0){var G=0,K=0;if(z==1?(K=4+(S[E[0]]>>2&7),G=(224&S[E[0]++])<<3,G|=S[E[0]++]):(K=1+(S[E[0]++]>>2),z==2?(G=S[E[0]]|S[E[0]+1]<<8,E[0]+=2):(G=(S[E[0]]|S[E[0]+1]<<8|S[E[0]+2]<<16|S[E[0]+3]<<24)>>>0,E[0]+=4)),R=[Fm(R)],G==0)throw new Error("Invalid offset 0");if(G>R[0].length)throw new Error("Invalid offset beyond length");if(G<=K)for(R.push(R[0].slice(-G)),K-=G;K>=R[R.length-1].length;)R.push(R[R.length-1]),K-=R[R.length-1].length;R.push(R[0].slice(-G,-G+K))}else z=S[E[0]++]>>2,z<60?++z:(G=z-59,z=S[E[0]],1<G&&(z|=S[E[0]+1]<<8),2<G&&(z|=S[E[0]+2]<<16),3<G&&(z|=S[E[0]+3]<<24),z>>>=0,z++,E[0]+=G),R.push(S.slice(E[0],E[0]+z)),E[0]+=z}if((A=Fm(R)).length!=F)throw new Error("Unexpected length: ".concat(A.length," != ").concat(F));return A}(x,u.slice(p,p+N))),p+=N}if(p!==u.length)throw new Error("data is not a valid framed stream!");return Fm(m)}function T0(u){for(var m=[],p=0;p<u.length;){var x=Math.min(u.length-p,268435455),N=new Uint8Array(4);m.push(N);var A=Aa(x),S=A.length;m.push(A),x<=60?(S++,m.push(new Uint8Array([x-1<<2]))):x<=256?(S+=2,m.push(new Uint8Array([240,x-1&255]))):x<=65536?(S+=3,m.push(new Uint8Array([244,x-1&255,x-1>>8&255]))):x<=16777216?(S+=4,m.push(new Uint8Array([248,x-1&255,x-1>>8&255,x-1>>16&255]))):x<=4294967296&&(S+=5,m.push(new Uint8Array([252,x-1&255,x-1>>8&255,x-1>>16&255,x-1>>>24&255]))),m.push(u.slice(p,p+x)),S+=x,N[0]=0,N[1]=255&S,N[2]=S>>8&255,N[3]=S>>16&255,p+=x}return Fm(m)}function Zde(u,m,p){var x,N=ph(u),A=N.getUint32(8,!0),S=12,E=-1,F=-1,R=NaN,z=NaN,G=new Date(2001,0,1);switch(1&A&&(R=function(K,Z){for(var he=(127&K[Z+15])<<7|K[Z+14]>>1,ae=1&K[Z+14],be=Z+13;Z<=be;--be)ae=256*ae+K[be];return(128&K[Z+15]?-ae:ae)*Math.pow(10,he-6176)}(u,S),S+=16),2&A&&(z=N.getFloat64(S,!0),S+=8),4&A&&(G.setTime(G.getTime()+1e3*N.getFloat64(S,!0)),S+=8),8&A&&(F=N.getUint32(S,!0),S+=4),16&A&&(E=N.getUint32(S,!0),S+=4),u[1]){case 0:break;case 2:x={t:"n",v:R};break;case 3:x={t:"s",v:m[F]};break;case 5:x={t:"d",v:G};break;case 6:x={t:"b",v:0<z};break;case 7:x={t:"n",v:z/86400};break;case 8:x={t:"e",v:0};break;case 9:if(!(-1<E))throw new Error("Unsupported cell type ".concat(u[1]," : ").concat(31&A," : ").concat(u.slice(0,4)));x={t:"s",v:p[E]};break;case 10:x={t:"n",v:R};break;default:throw new Error("Unsupported cell type ".concat(u[1]," : ").concat(31&A," : ").concat(u.slice(0,4)))}return x}function rk(u,m){var p=new Uint8Array(32),x=ph(p),N=12,A=0;switch(p[0]=5,u.t){case"n":p[1]=2,function(S,E,F){var R=Math.floor(F==0?0:Math.LOG10E*Math.log(Math.abs(F)))+6176-16,z=F/Math.pow(10,R-6176);S[E+15]|=R>>7,S[E+14]|=(127&R)<<1;for(var G=0;1<=z;++G,z/=256)S[E+G]=255&z;S[E+15]|=0<=F?0:128}(p,N,u.v),A|=1,N+=16;break;case"b":p[1]=6,x.setFloat64(N,u.v?1:0,!0),A|=2,N+=8;break;case"s":if(m.indexOf(u.v)==-1)throw new Error("Value ".concat(u.v," missing from SST!"));p[1]=3,x.setUint32(N,m.indexOf(u.v),!0),A|=8,N+=4;break;default:throw"unsupported cell type "+u.t}return x.setUint32(8,A,!0),p.slice(0,N)}function nk(u,m){var p=new Uint8Array(32),x=ph(p),N=12,A=0;switch(p[0]=3,u.t){case"n":p[2]=2,x.setFloat64(N,u.v,!0),A|=32,N+=8;break;case"b":p[2]=6,x.setFloat64(N,u.v?1:0,!0),A|=32,N+=8;break;case"s":if(m.indexOf(u.v)==-1)throw new Error("Value ".concat(u.v," missing from SST!"));p[2]=3,x.setUint32(N,m.indexOf(u.v),!0),A|=16,N+=4;break;default:throw"unsupported cell type "+u.t}return x.setUint32(4,A,!0),p.slice(0,N)}function Qde(u,m,p){switch(u[0]){case 0:case 1:case 2:case 3:return function(x,N,A,S){var E,F=ph(x),R=F.getUint32(4,!0),z=(1<S?12:8)+4*_L(R&(1<S?3470:398)),G=-1,K=-1,Z=NaN,he=new Date(2001,0,1);switch(512&R&&(G=F.getUint32(z,!0),z+=4),z+=4*_L(R&(1<S?12288:4096)),16&R&&(K=F.getUint32(z,!0),z+=4),32&R&&(Z=F.getFloat64(z,!0),z+=8),64&R&&(he.setTime(he.getTime()+1e3*F.getFloat64(z,!0)),z+=8),x[2]){case 0:break;case 2:E={t:"n",v:Z};break;case 3:E={t:"s",v:N[K]};break;case 5:E={t:"d",v:he};break;case 6:E={t:"b",v:0<Z};break;case 7:E={t:"n",v:Z/86400};break;case 8:E={t:"e",v:0};break;case 9:if(-1<G)E={t:"s",v:A[G]};else if(-1<K)E={t:"s",v:N[K]};else{if(isNaN(Z))throw new Error("Unsupported cell type ".concat(x.slice(0,4)));E={t:"n",v:Z}}break;default:throw new Error("Unsupported cell type ".concat(x.slice(0,4)))}return E}(u,m,p,u[0]);case 5:return Zde(u,m,p);default:throw new Error("Unsupported payload version ".concat(u[0]))}}function nl(u){return lb(ua(u)[1][0].data)}function jL(u,x){var x=ua(x.data),p=Ls(x[1][0].data),x=x[3],N=[];return(x||[]).forEach(function(A){var S=ua(A.data),E=Ls(S[1][0].data)>>>0;switch(p){case 1:N[E]=ek(S[3][0].data);break;case 8:var R=ua(u[nl(S[9][0].data)][0].data),F=u[nl(R[1][0].data)][0],R=Ls(F.meta[1][0].data);if(R!=2001)throw new Error("2000 unexpected reference to ".concat(R));F=ua(F.data),N[E]=F[3].map(function(z){return ek(z.data)}).join("")}}),N}function efe(u,N){var p=ua(N.data),x=(N=p==null?void 0:p[7])!=null&&N[0]?0<Ls(p[7][0].data)>>>0?1:0:-1,N=tk(p[5],function(A){return function(S,E){var F,R,z,G=ua(S),K=Ls(G[1][0].data)>>>0,Z=Ls(G[2][0].data)>>>0,he=((S=(he=G[8])==null?void 0:he[0])==null?void 0:S.data)&&0<Ls(G[8][0].data)||!1;if((S=(S=G[7])==null?void 0:S[0])!=null&&S.data&&E!=0)R=(F=(F=G[7])==null?void 0:F[0])==null?void 0:F.data,z=(F=(F=G[6])==null?void 0:F[0])==null?void 0:F.data;else{if((F=(F=G[4])==null?void 0:F[0])==null||!F.data||E==1)throw"NUMBERS Tile missing ".concat(E," cell storage");R=(E=(E=G[4])==null?void 0:E[0])==null?void 0:E.data,z=(G=(G=G[3])==null?void 0:G[0])==null?void 0:G.data}for(var ae=he?4:1,be=ph(R),me=[],oe=0;oe<R.length/2;++oe){var ye=be.getUint16(2*oe,!0);ye<65535&&me.push([oe,ye])}if(me.length!=Z)throw"Expected ".concat(Z," cells, found ").concat(me.length);for(var Ne=[],oe=0;oe<me.length-1;++oe)Ne[me[oe][0]]=z.subarray(me[oe][1]*ae,me[oe+1][1]*ae);return 1<=me.length&&(Ne[me[me.length-1][0]]=z.subarray(me[me.length-1][1]*ae)),{R:K,cells:Ne}}(A,x)});return{nrows:Ls(p[4][0].data)>>>0,data:N.reduce(function(A,S){return A[S.R]||(A[S.R]=[]),S.cells.forEach(function(E,F){if(A[S.R][F])throw new Error("Duplicate cell r=".concat(S.R," c=").concat(F));A[S.R][F]=E}),A},[])}}function tfe(u,N){var p={"!ref":"A1"},x=u[nl(ua(N.data)[2][0].data)],N=Ls(x[0].meta[1][0].data);if(N!=6001)throw new Error("6000 unexpected reference to ".concat(N));return function(A,F,E){var G=ua(F.data);if((F={s:{r:0,c:0},e:{r:0,c:0}}).e.r=(Ls(G[6][0].data)>>>0)-1,F.e.r<0)throw new Error("Invalid row varint ".concat(G[6][0].data));if(F.e.c=(Ls(G[7][0].data)>>>0)-1,F.e.c<0)throw new Error("Invalid col varint ".concat(G[7][0].data));E["!ref"]=tn(F);var F=ua(G[4][0].data),R=jL(A,A[nl(F[4][0].data)][0]),z=(G=F[17])!=null&&G[0]?jL(A,A[nl(F[17][0].data)][0]):[],G=ua(F[3][0].data),K=0;if(G[1].forEach(function(he){var ae=ua(he.data),he=A[nl(ae[2][0].data)][0],ae=Ls(he.meta[1][0].data);if(ae!=6002)throw new Error("6001 unexpected reference to ".concat(ae));he=efe(0,he),he.data.forEach(function(be,me){be.forEach(function(oe,ye){ye=en({r:K+me,c:ye}),oe=Qde(oe,R,z),oe&&(E[ye]=oe)})}),K+=he.nrows}),(G=F[13])!=null&&G[0]){if(G=A[nl(F[13][0].data)][0],F=Ls(G.meta[1][0].data),F!=6144)throw new Error("Expected merge type 6144, found ".concat(F));E["!merges"]=(G=ua(G.data))==null?void 0:G[1].map(function(he){var ae=ua(he.data),he=ph(ua(ae[1][0].data)[1][0].data),ae=ph(ua(ae[2][0].data)[1][0].data);return{s:{r:he.getUint16(0,!0),c:he.getUint16(2,!0)},e:{r:he.getUint16(0,!0)+ae.getUint16(0,!0)-1,c:he.getUint16(2,!0)+ae.getUint16(2,!0)-1}}})}}(u,x[0],p),p}function rfe(u,m){var p=dk(),x=ua(m.data);if((m=x[2])!=null&&m[0])throw new Error("Keynote presentations are not supported");if(tk(x[1],nl).forEach(function(N){u[N].forEach(function(A){var S,E,F,R;Ls(A.meta[1][0].data)==2&&(E=u,A=ua((F=A).data),R={name:(F=A[1])!=null&&F[0]?ek(A[1][0].data):"",sheets:[]},tk(A[2],nl).forEach(function(z){E[z].forEach(function(G){Ls(G.meta[1][0].data)==6e3&&R.sheets.push(tfe(E,G))})}),(S=R).sheets.forEach(function(z,G){fk(p,z,G==0?S.name:S.name+"_"+G,!0)}))})}),p.SheetNames.length==0)throw new Error("Empty NUMBERS file");return p}function NL(u){var m={},p=[];if(u.FullPaths.forEach(function(N){if(N.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),u.FileIndex.forEach(function(N){if(N.name.match(/\.iwa$/)){var A,S;try{A=Cu(N.content)}catch(E){return console.log("?? "+N.content.length+" "+(E.message||E))}try{S=Su(A)}catch(E){return console.log("## "+(E.message||E))}S.forEach(function(E){m[E.id]=E.messages,p.push(E.id)})}}),!p.length)throw new Error("File has no messages");if((u=(u=(u=(u=m==null?void 0:m[1])==null?void 0:u[0])==null?void 0:u.meta)==null?void 0:u[1])!=null&&u[0].data&&Ls(m[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var x=((u=(u=(u=(u=m==null?void 0:m[1])==null?void 0:u[0])==null?void 0:u.meta)==null?void 0:u[1])==null?void 0:u[0].data)&&Ls(m[1][0].meta[1][0].data)==1&&m[1][0];if(x||p.forEach(function(N){m[N].forEach(function(A){if(Ls(A.meta[1][0].data)>>>0==1){if(x)throw new Error("Document has multiple roots");x=A}})}),!x)throw new Error("Cannot find Document root");return rfe(m,x)}function nfe(u,m){if(!m||!m.numbers)throw new Error("Must pass a `numbers` option -- check the README");var p=u.Sheets[u.SheetNames[0]];1<u.SheetNames.length&&console.error("The Numbers writer currently writes only the first table");var x=Pi(p["!ref"]);x.s.r=x.s.c=0;var N=!1;9<x.e.c&&(N=!0,x.e.c=9),49<x.e.r&&(N=!0,x.e.r=49),N&&console.error("The Numbers writer is currently limited to ".concat(tn(x)));var A=B5(p,{range:x,header:1}),S=["~Sh33tJ5~"];A.forEach(function(Zt){return Zt.forEach(function(tr){typeof tr=="string"&&S.push(tr)})});var E={},F=[],R=rr.read(m.numbers,{type:"base64"});R.FileIndex.map(function(Zt,tr){return[Zt,R.FullPaths[tr]]}).forEach(function(Zt){var tr=Zt[0],Yt=Zt[1];tr.type==2&&tr.name.match(/\.iwa/)&&Su(Cu(tr.content)).forEach(function(Lt){F.push(Lt.id),E[Lt.id]={deps:[],location:Yt,type:Ls(Lt.messages[0].meta[1][0].data)}})}),F.sort(function(Zt,tr){return Zt-tr});var z=F.filter(function(Zt){return 1<Zt}).map(function(Zt){return[Zt,Aa(Zt)]});R.FileIndex.map(function(Zt,tr){return[Zt,R.FullPaths[tr]]}).forEach(function(Zt){var tr=Zt[0];Zt[1],tr.name.match(/\.iwa/)&&Su(Cu(tr.content)).forEach(function(Yt){Yt.messages.forEach(function(Lt){z.forEach(function(vr){Yt.messages.some(function(Nr){return Ls(Nr.meta[1][0].data)!=11006&&function(Wr,zn){e:for(var mr=0;mr<=Wr.length-zn.length;++mr){for(var Vt=0;Vt<zn.length;++Vt)if(Wr[mr+Vt]!=zn[Vt])continue e;return!0}return!1}(Nr.data,vr[1])})&&E[vr[0]].deps.push(Yt.id)})})})});for(var G,K=rr.find(R,E[1].location),Z=Su(Cu(K.content)),he=0;he<Z.length;++he){var ae=Z[he];ae.id==1&&(G=ae)}for(var be=nl(ua(G.messages[0].data)[1][0].data),Z=Su(Cu((K=rr.find(R,E[be].location)).content)),he=0;he<Z.length;++he)(ae=Z[he]).id==be&&(G=ae);var kt=ua(G.messages[0].data);for(kt[1]=[{type:2,data:wL(u.SheetNames[0])}],G.messages[0].data=Xs(kt),K.content=T0(E0(Z)),K.size=K.content.length,be=nl(kt[2][0].data),Z=Su(Cu((K=rr.find(R,E[be].location)).content)),he=0;he<Z.length;++he)(ae=Z[he]).id==be&&(G=ae);for(be=nl(ua(G.messages[0].data)[2][0].data),Z=Su(Cu((K=rr.find(R,E[be].location)).content)),he=0;he<Z.length;++he)(ae=Z[he]).id==be&&(G=ae);N=ua(G.messages[0].data),N[6][0].data=Aa(x.e.r+1),N[7][0].data=Aa(x.e.c+1);for(var me=nl(N[46][0].data),m=rr.find(R,E[me].location),oe=Su(Cu(m.content)),ye=0;ye<oe.length&&oe[ye].id!=me;++ye);if(oe[ye].id!=me)throw"Bad ColumnRowUIDMapArchive";var Ne=ua(oe[ye].messages[0].data);Ne[1]=[],Ne[2]=[],Ne[3]=[];for(var Ce=0;Ce<=x.e.c;++Ce)Ne[1].push({type:2,data:Xs([[],[{type:0,data:Aa(Ce+420690)}],[{type:0,data:Aa(Ce+420690)}]])}),Ne[2].push({type:0,data:Aa(Ce)}),Ne[3].push({type:0,data:Aa(Ce)});Ne[4]=[],Ne[5]=[],Ne[6]=[];for(var We=0;We<=x.e.r;++We)Ne[4].push({type:2,data:Xs([[],[{type:0,data:Aa(We+726270)}],[{type:0,data:Aa(We+726270)}]])}),Ne[5].push({type:0,data:Aa(We)}),Ne[6].push({type:0,data:Aa(We)});if(oe[ye].messages[0].data=Xs(Ne),m.content=T0(E0(oe)),m.size=m.content.length,delete N[46],u=ua(N[4][0].data),u[7][0].data=Aa(x.e.r+1),kt=nl(ua(u[1][0].data)[2][0].data),(oe=Su(Cu((m=rr.find(R,E[kt].location)).content)))[0].id!=kt)throw"Bad HeaderStorageBucket";for(var tt=ua(oe[0].messages[0].data),We=0;We<A.length;++We){var Je=ua(tt[2][0].data);Je[1][0].data=Aa(We),Je[4][0].data=Aa(A[We].length),tt[2][We]={type:tt[2][0].type,data:Xs(Je)}}oe[0].messages[0].data=Xs(tt),m.content=T0(E0(oe)),m.size=m.content.length;var ct,kt=nl(u[2][0].data);if((oe=Su(Cu((m=rr.find(R,E[kt].location)).content)))[0].id!=kt)throw"Bad HeaderStorageBucket";for(tt=ua(oe[0].messages[0].data),Ce=0;Ce<=x.e.c;++Ce)(Je=ua(tt[2][0].data))[1][0].data=Aa(Ce),Je[4][0].data=Aa(x.e.r+1),tt[2][Ce]={type:tt[2][0].type,data:Xs(Je)};oe[0].messages[0].data=Xs(tt),m.content=T0(E0(oe)),m.size=m.content.length,p["!merges"]&&(fr=function(Zt){for(var tr=927262;tr<2e6;++tr)if(!E[tr])return E[tr]=Zt,tr;throw new Error("Too many messages")}({type:6144,deps:[be],location:E[be].location}),ct=[[],[]],p["!merges"].forEach(function(Zt){ct[1].push({type:2,data:Xs([[],[{type:2,data:Xs([[],[{type:5,data:new Uint8Array(new Uint16Array([Zt.s.r,Zt.s.c]).buffer)}]])}],[{type:2,data:Xs([[],[{type:5,data:new Uint8Array(new Uint16Array([Zt.e.r-Zt.s.r+1,Zt.e.c-Zt.s.c+1]).buffer)}]])}]])})}),u[13]=[{type:2,data:Xs([[],[{type:0,data:Aa(fr)}]])}],Z.push({id:fr,messages:[(qt=6144,fr=Xs(ct),{meta:[[],[{type:0,data:Aa(qt)}]],data:fr})]}));var Ft=nl(u[4][0].data);(function(){for(var Zt,tr=rr.find(R,E[Ft].location),Yt=Su(Cu(tr.content)),Lt=0;Lt<Yt.length;++Lt){var vr=Yt[Lt];vr.id==Ft&&(Zt=vr)}var Nr=ua(Zt.messages[0].data);Nr[3]=[],S.forEach(function(Wr,zn){Nr[3].push({type:2,data:Xs([[],[{type:0,data:Aa(zn)}],[{type:0,data:Aa(1)}],[{type:2,data:wL(Wr)}]])})}),Zt.messages[0].data=Xs(Nr),tr.content=T0(E0(Yt)),tr.size=tr.content.length})();var ht=ua(u[3][0].data),qt=ht[1][0];delete ht[2];var qt,fr,fr=ua(qt.data),or=nl(fr[2][0].data);return function(){for(var Zt,tr=rr.find(R,E[or].location),Yt=Su(Cu(tr.content)),Lt=0;Lt<Yt.length;++Lt){var vr=Yt[Lt];vr.id==or&&(Zt=vr)}var Nr=ua(Zt.messages[0].data);delete Nr[6],delete ht[7];var Wr=new Uint8Array(Nr[5][0].data);Nr[5]=[];for(var zn=0,mr=0;mr<=x.e.r;++mr){var Vt=ua(Wr);zn+=function(xn,da,ra){var za,ui;if((za=xn[6])==null||!za[0]||(ui=xn[7])==null||!ui[0])throw"Mutation only works on post-BNC storages!";if((ui=(ui=xn[8])==null?void 0:ui[0])!=null&&ui.data&&0<Ls(xn[8][0].data))throw"Math only works with normal offsets";for(var Ke,Ua,Ma=0,co=ph(xn[7][0].data),ku=0,De=[],mt=ph(xn[4][0].data),qe=0,ut=[],Ve=0;Ve<da.length;++Ve)if(da[Ve]!=null){switch(co.setUint16(2*Ve,ku,!0),mt.setUint16(2*Ve,qe,!0),typeof da[Ve]){case"string":Ke=rk({t:"s",v:da[Ve]},ra),Ua=nk({t:"s",v:da[Ve]},ra);break;case"number":Ke=rk({t:"n",v:da[Ve]},ra),Ua=nk({t:"n",v:da[Ve]},ra);break;case"boolean":Ke=rk({t:"b",v:da[Ve]},ra),Ua=nk({t:"b",v:da[Ve]},ra);break;default:throw new Error("Unsupported value "+da[Ve])}De.push(Ke),ku+=Ke.length,ut.push(Ua),qe+=Ua.length,++Ma}else co.setUint16(2*Ve,65535,!0),mt.setUint16(2*Ve,65535);for(xn[2][0].data=Aa(Ma);Ve<xn[7][0].data.length/2;++Ve)co.setUint16(2*Ve,65535,!0),mt.setUint16(2*Ve,65535,!0);return xn[6][0].data=Fm(De),xn[3][0].data=Fm(ut),Ma}(Vt,A[mr],S),Vt[1][0].data=Aa(mr),Nr[5].push({data:Xs(Vt),type:2})}Nr[1]=[{type:0,data:Aa(x.e.c+1)}],Nr[2]=[{type:0,data:Aa(x.e.r+1)}],Nr[3]=[{type:0,data:Aa(zn)}],Nr[4]=[{type:0,data:Aa(x.e.r+1)}],Zt.messages[0].data=Xs(Nr),tr.content=T0(E0(Yt)),tr.size=tr.content.length}(),qt.data=Xs(fr),u[3][0].data=Xs(ht),N[4][0].data=Xs(u),G.messages[0].data=Xs(N),K.content=T0(E0(Z)),K.size=K.content.length,R}function SL(u){return function(m){for(var p=0;p!=u.length;++p){var x=u[p];m[x[0]]===void 0&&(m[x[0]]=x[1]),x[2]==="n"&&(m[x[0]]=Number(m[x[0]]))}}}function ak(u){SL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(u)}function sk(u){SL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(u)}function afe(u,m){if(!u)return 0;try{u=m.map(function(p){return p.id||(p.id=p.strRelID),[p.name,u["!id"][p.id].Target,(p=u["!id"][p.id].Type,-1<Pn.WS.indexOf(p)?"sheet":Pn.CS&&p==Pn.CS?"chart":Pn.DS&&p==Pn.DS?"dialog":Pn.MS&&p==Pn.MS?"macro":p&&p.length?p:"sheet")]})}catch{return null}return u&&u.length!==0?u:null}function sfe(u,m,p,x,N,A,S,E,F,R,z,G){try{A[x]=bm(cs(u,p,!0),m);var K=Ns(u,m);switch(E){case"sheet":ae=Nde(K,m,N,F,A[x],R,z,G);break;case"chart":if(!(ae=Sde(K,m,N,F,A[x],R))||!ae["!drawel"])break;var he=Qd(ae["!drawel"].Target,m),Z=ym(he),oe=Qd((oe=cs(u,he,!0),Z=bm(cs(u,Z,!0),he),oe?(oe=(oe.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1],Z["!id"][oe].Target):"??"),he),he=ym(oe),ae=hde(cs(u,oe,!0),0,0,bm(cs(u,he,!0),oe),0,ae);break;case"macro":me=m,A[x],me.slice(-4),ae={"!type":"macro"};break;case"dialog":me=m,A[x],me.slice(-4),ae={"!type":"dialog"};break;default:throw new Error("Unrecognized sheet type "+E)}S[x]=ae;var be=[];A&&A[x]&&Pa(A[x]).forEach(function(ye){var Ne,Ce,We,tt,Je,ct,kt="";if(A[x][ye].Type==Pn.CMNT){kt=Qd(A[x][ye].Target,m);var Ft=kde(Ns(u,kt,!0),kt,F);if(!Ft||!Ft.length)return;wI(ae,Ft,!1)}A[x][ye].Type==Pn.TCMNT&&(kt=Qd(A[x][ye].Target,m),be=be.concat((Ne=Ns(u,kt,!0),Ce=F,tt=!(We=[]),Je={},ct=0,Ne.replace(Ws,function(ht,qt){var fr=sn(ht);switch(yi(fr[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":break;case"<threadedComment":Je={author:fr.personId,guid:fr.id,ref:fr.ref,T:1};break;case"</threadedComment>":Je.t!=null&&We.push(Je);break;case"<text>":case"<text":ct=qt+ht.length;break;case"</text>":Je.t=Ne.slice(ct,qt).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":tt=!0;break;case"</mentions>":tt=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":tt=!0;break;case"</ext>":tt=!1;break;default:if(!tt&&Ce.WTF)throw new Error("unrecognized "+fr[0]+" in threaded comments")}return ht}),We)))}),be&&be.length&&wI(ae,be,!0,F.people||[])}catch(ye){if(F.WTF)throw ye}var me,oe}function Au(u){return u.charAt(0)=="/"?u.slice(1):u}function CL(u,m){if(ja(),ak(m=m||{}),Po(u,"META-INF/manifest.xml")||Po(u,"objectdata.xml"))return vL(u,m);if(Po(u,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(u.FileIndex)return NL(u);var p=rr.utils.cfb_new();return lm(u).forEach(function(Yt){Sn(p,Yt,function Lt(vr,Nr,Wr){if(!Wr)return uv(om(vr,Nr));if(!Nr)return null;try{return Lt(vr,Nr)}catch{return null}}(u,Yt))}),NL(p)}if(!Po(u,"[Content_Types].xml"))throw Po(u,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Po(u,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var x,N,A=lm(u),S=function(Yt){var Lt=gv();if(!Yt||!Yt.match)return Lt;var vr={};if((Yt.match(Ws)||[]).forEach(function(Nr){var Wr=sn(Nr);switch(Wr[0].replace(Ty,"<")){case"<?xml":break;case"<Types":Lt.xmlns=Wr["xmlns"+(Wr[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":vr[Wr.Extension]=Wr.ContentType;break;case"<Override":Lt[pv[Wr.ContentType]]!==void 0&&Lt[pv[Wr.ContentType]].push(Wr.PartName)}}),Lt.xmlns!==Gs.CT)throw new Error("Unknown Namespace: "+Lt.xmlns);return Lt.calcchain=0<Lt.calcchains.length?Lt.calcchains[0]:"",Lt.sst=0<Lt.strs.length?Lt.strs[0]:"",Lt.style=0<Lt.styles.length?Lt.styles[0]:"",Lt.defaults=vr,delete Lt.calcchains,Lt}(cs(u,"[Content_Types].xml")),Je=!1;if(S.workbooks.length===0&&Ns(u,N="xl/workbook.xml",!0)&&S.workbooks.push(N),S.workbooks.length===0){if(!Ns(u,N="xl/workbook.bin",!0))throw new Error("Could not find workbook");S.workbooks.push(N),Je=!0}S.workbooks[0].slice(-3)=="bin"&&(Je=!0);var E={},F={};if(!m.bookSheets&&!m.bookProps){if(rb=[],S.sst)try{rb=Ade(Ns(u,Au(S.sst)),S.sst,m)}catch(Yt){if(m.WTF)throw Yt}m.cellStyles&&S.themes.length&&(he=cs(u,S.themes[0].replace(/^\//,""),!0)||"",S.themes[0],E=xI(he,m)),S.style&&(F=Cde(Ns(u,Au(S.style)),S.style,E,m))}S.links.map(function(Yt){try{return bm(cs(u,ym(Au(Yt))),Yt),Tde(Ns(u,Au(Yt)),0,Yt,m)}catch{}});var R,z,G,K=jde(Ns(u,Au(S.workbooks[0])),S.workbooks[0],m),Z={},he="";S.coreprops.length&&((he=Ns(u,Au(S.coreprops[0]),!0))&&(Z=p0(he)),S.extprops.length!==0&&(he=Ns(u,Au(S.extprops[0]),!0))&&(ae=m,G={},z=(z=Z)||{},R=va(R=he),cf.forEach(function(Yt){var Lt=(R.match(fn(Yt[0]))||[])[1];switch(Yt[2]){case"string":Lt&&(z[Yt[1]]=Mn(Lt));break;case"bool":z[Yt[1]]=Lt==="true";break;case"raw":var vr=R.match(new RegExp("<"+Yt[0]+"[^>]*>([\\s\\S]*?)</"+Yt[0]+">"));vr&&0<vr.length&&(G[Yt[1]]=vr[1])}}),G.HeadingPairs&&G.TitlesOfParts&&yv(G.HeadingPairs,G.TitlesOfParts,z,ae)));var ae={};m.bookSheets&&!m.bookProps||S.custprops.length!==0&&(he=cs(u,Au(S.custprops[0]),!0))&&(ae=function(Yt,Lt){var vr={},Nr="",Wr=Yt.match(Ly);if(Wr)for(var zn=0;zn!=Wr.length;++zn){var mr=Wr[zn],Vt=sn(mr);switch(Vt[0]){case"<?xml":case"<Properties":break;case"<property":Nr=Mn(Vt.name);break;case"</property>":Nr=null;break;default:if(mr.indexOf("<vt:")===0){var xn=mr.split(">"),da=xn[0].slice(4),ra=xn[1];switch(da){case"lpstr":case"bstr":case"lpwstr":vr[Nr]=Mn(ra);break;case"bool":vr[Nr]=Ka(ra);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":vr[Nr]=parseInt(ra,10);break;case"r4":case"r8":case"decimal":vr[Nr]=parseFloat(ra);break;case"filetime":case"date":vr[Nr]=ca(ra);break;case"cy":case"error":vr[Nr]=Mn(ra);break;default:if(da.slice(-1)=="/")break;Lt.WTF&&typeof console<"u"&&console.warn("Unexpected",mr,da,xn)}}else if(mr.slice(0,2)!=="</"&&Lt.WTF)throw new Error(mr)}}return vr}(he,m));var be={};if((m.bookSheets||m.bookProps)&&(K.Sheets?x=K.Sheets.map(function(Yt){return Yt.name}):Z.Worksheets&&0<Z.SheetNames.length&&(x=Z.SheetNames),m.bookProps&&(be.Props=Z,be.Custprops=ae),m.bookSheets&&x!==void 0&&(be.SheetNames=x),m.bookSheets?be.SheetNames:m.bookProps))return be;x={},he={},m.bookDeps&&S.calcchain&&(he=Ede(Ns(u,Au(S.calcchain)),S.calcchain));var me,oe,ye=0,Ne={},Ce=K.Sheets;Z.Worksheets=Ce.length,Z.SheetNames=[];for(var We=0;We!=Ce.length;++We)Z.SheetNames[We]=Ce[We].name;var tt=Je?"bin":"xml",Je=S.workbooks[0].lastIndexOf("/"),ct=(S.workbooks[0].slice(0,Je+1)+"_rels/"+S.workbooks[0].slice(Je+1)+".rels").replace(/^\//,"");Po(u,ct)||(ct="xl/_rels/workbook."+tt+".rels");var kt,Ft,ht,qt=bm(cs(u,ct,!0),ct.replace(/_rels.*/,"s5s"));1<=(S.metadata||[]).length&&(m.xlmeta=Pde(Ns(u,Au(S.metadata[0])),S.metadata[0],m)),1<=(S.people||[]).length&&(m.people=(Je=Ns(u,Au(S.people[0])),kt=m,ht=!(Ft=[]),Je.replace(Ws,function(Yt){var Lt=sn(Yt);switch(yi(Lt[0])){case"<?xml":case"<personList":case"</personList>":break;case"<person":Ft.push({name:Lt.displayname,id:Lt.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":ht=!0;break;case"</ext>":ht=!1;break;default:if(!ht&&kt.WTF)throw new Error("unrecognized "+Lt[0]+" in threaded comments")}return Yt}),Ft)),qt=qt&&afe(qt,K.Sheets);var fr=Ns(u,"xl/worksheets/sheet.xml",!0)?1:0;e:for(ye=0;ye!=Z.Worksheets;++ye){var or="sheet";if(qt&&qt[ye]?(me="xl/"+qt[ye][1].replace(/[\/]?xl\//,""),Po(u,me)||(me=qt[ye][1]),Po(u,me)||(me=ct.replace(/_rels\/.*$/,"")+qt[ye][1]),or=qt[ye][2]):me=(me="xl/worksheets/sheet"+(ye+1-fr)+"."+tt).replace(/sheet0\./,"sheet."),oe=me.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),m&&m.sheets!=null)switch(typeof m.sheets){case"number":if(ye!=m.sheets)continue e;break;case"string":if(Z.SheetNames[ye].toLowerCase()!=m.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(m.sheets)){for(var Zt=!1,tr=0;tr!=m.sheets.length;++tr)typeof m.sheets[tr]=="number"&&m.sheets[tr]==ye&&(Zt=1),typeof m.sheets[tr]=="string"&&m.sheets[tr].toLowerCase()==Z.SheetNames[ye].toLowerCase()&&(Zt=1);if(!Zt)continue e}}sfe(u,me,oe,Z.SheetNames[ye],ye,Ne,x,or,m,K,E,F)}return be={Directory:S,Workbook:K,Props:Z,Custprops:ae,Deps:he,Sheets:x,SheetNames:Z.SheetNames,Strings:rb,Styles:F,Themes:E,SSF:Yn(Y)},m&&m.bookFiles&&(u.files?(be.keys=A,be.files=u.files):(be.keys=[],be.files={},u.FullPaths.forEach(function(Yt,Lt){Yt=Yt.replace(/^Root Entry[\/]/,""),be.keys.push(Yt),be.files[Yt]=u.FileIndex[Lt]}))),m&&m.bookVBA&&(0<S.vba.length?be.vbaraw=Ns(u,Au(S.vba[0]),!0):S.defaults&&S.defaults.bin===Cue&&(be.vbaraw=Ns(u,"xl/vbaProject.bin",!0))),be}function ife(u,m){var p,x=m||{},N="Workbook",A=rr.find(u,N);try{if(N="/!DataSpaces/Version",!(A=rr.find(u,N))||!A.content)throw new Error("ECMA-376 Encrypted file missing "+N);if(S=A.content,(p={}).id=S.read_shift(0,"lpp4"),p.R=md(S,4),p.U=md(S,4),p.W=md(S,4),N="/!DataSpaces/DataSpaceMap",!(A=rr.find(u,N))||!A.content)throw new Error("ECMA-376 Encrypted file missing "+N);var S=Av(A.content);if(S.length!==1||S[0].comps.length!==1||S[0].comps[0].t!==0||S[0].name!=="StrongEncryptionDataSpace"||S[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+N);if(N="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(A=rr.find(u,N))||!A.content)throw new Error("ECMA-376 Encrypted file missing "+N);if(S=function(E){var F=[];E.l+=4;for(var R=E.read_shift(4);0<R--;)F.push(E.read_shift(0,"lpp4"));return F}(A.content),S.length!=1||S[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+N);if(N="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(A=rr.find(u,N))||!A.content)throw new Error("ECMA-376 Encrypted file missing "+N);N5(A.content)}catch{}if(N="/EncryptionInfo",!(A=rr.find(u,N))||!A.content)throw new Error("ECMA-376 Encrypted file missing "+N);if(m=S5(A.content),N="/EncryptedPackage",!(A=rr.find(u,N))||!A.content)throw new Error("ECMA-376 Encrypted file missing "+N);if(m[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(m[1],A.content,x.password||"",x);if(m[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(m[1],A.content,x.password||"",x);throw new Error("File is password-protected")}function ofe(u,m){return(m.bookType=="ods"?bL:m.bookType=="numbers"?nfe:m.bookType=="xlsb"?function(p,x){Ov=1024,p&&!p.SSF&&(p.SSF=Yn(Y)),p&&p.SSF&&(ja(),qr(p.SSF),x.revssf=ac(p.SSF),x.revssf[p.SSF[65535]]=0,x.ssf=p.SSF),x.rels={},x.wbrels={},x.Strings=[],x.Strings.Count=0,x.Strings.Unique=0,nb?x.revStrings=new Map:(x.revStrings={},x.revStrings.foo=[],delete x.revStrings.foo);var N=x.bookType=="xlsb"?"bin":"xml",A=-1<jI.indexOf(x.bookType),S=gv();sk(x=x||{});var E=ah(),F="",R=0;if(x.cellXfs=[],Om(x.cellXfs,{},{revssf:{General:0}}),p.Props||(p.Props={}),Sn(E,F="docProps/core.xml",vv(p.Props,x)),S.coreprops.push(F),ba(x.rels,2,F,Pn.CORE_PROPS),F="docProps/app.xml",!p.Props||!p.Props.SheetNames)if(p.Workbook&&p.Workbook.Sheets){for(var z=[],G=0;G<p.SheetNames.length;++G)(p.Workbook.Sheets[G]||{}).Hidden!=2&&z.push(p.SheetNames[G]);p.Props.SheetNames=z}else p.Props.SheetNames=p.SheetNames;for(p.Props.Worksheets=p.Props.SheetNames.length,Sn(E,F,g0(p.Props)),S.extprops.push(F),ba(x.rels,3,F,Pn.EXT_PROPS),p.Custprops!==p.Props&&0<Pa(p.Custprops||{}).length&&(Sn(E,F="docProps/custom.xml",n5(p.Custprops)),S.custprops.push(F),ba(x.rels,4,F,Pn.CUST_PROPS)),R=1;R<=p.SheetNames.length;++R){var K,Z,he,ae={"!id":{}},be=p.Sheets[p.SheetNames[R-1]];Sn(E,F="xl/worksheets/sheet"+R+"."+N,function(me,oe,ye,Ne,Ce){return(oe.slice(-4)===".bin"?fde:GI)(me,ye,Ne,Ce)}(R-1,F,x,p,ae)),S.sheets.push(F),ba(x.wbrels,-1,"worksheets/sheet"+R+"."+N,Pn.WS[0]),be&&(K=be["!comments"],Z=!1,he="",K&&0<K.length&&(Sn(E,he="xl/comments"+R+"."+N,function(me,oe,ye){return(oe.slice(-4)===".bin"?Sue:_I)(me)}(K,he)),S.comments.push(he),ba(ae,-1,"../comments"+R+"."+N,Pn.CMNT),Z=!0),be["!legacy"]&&Z&&Sn(E,"xl/drawings/vmlDrawing"+R+".vml",bI(R,be["!comments"])),delete be["!comments"],delete be["!legacy"]),ae["!id"].rId1&&Sn(E,ym(F),lf(ae))}return x.Strings!=null&&0<x.Strings.length&&(Sn(E,F="xl/sharedStrings."+N,function(me,oe,ye){return(oe.slice(-4)===".bin"?S0:N0)(me,ye)}(x.Strings,F,x)),S.strs.push(F),ba(x.wbrels,-1,"sharedStrings."+N,Pn.SST)),Sn(E,F="xl/workbook."+N,function(me,oe,ye){return(oe.slice(-4)===".bin"?_de:tL)(me)}(p,F)),S.workbooks.push(F),ba(x.rels,1,F,Pn.WB),Sn(E,F="xl/theme/theme1.xml",zA(p.Themes,x)),S.themes.push(F),ba(x.wbrels,-1,"theme/theme1.xml",Pn.THEME),Sn(E,F="xl/styles."+N,function(me,oe,ye){return(oe.slice(-4)===".bin"?hue:mI)(me,ye)}(p,F,x)),S.styles.push(F),ba(x.wbrels,-1,"styles."+N,Pn.STY),p.vbaraw&&A&&(Sn(E,F="xl/vbaProject.bin",p.vbaraw),S.vba.push(F),ba(x.wbrels,-1,"vbaProject.bin",Pn.VBA)),Sn(E,F="xl/metadata."+N,function(me){return(me.slice(-4)===".bin"?Nue:yI)()}(F)),S.metadata.push(F),ba(x.wbrels,-1,"metadata."+N,Pn.XLMETA),Sn(E,"[Content_Types].xml",Iy(S,x)),Sn(E,"_rels/.rels",lf(x.rels)),Sn(E,"xl/_rels/workbook."+N+".rels",lf(x.wbrels)),delete x.revssf,delete x.ssf,E}:AL)(u,m)}function AL(u,m){Ov=1024,u&&!u.SSF&&(u.SSF=Yn(Y)),u&&u.SSF&&(ja(),qr(u.SSF),m.revssf=ac(u.SSF),m.revssf[u.SSF[65535]]=0,m.ssf=u.SSF),m.rels={},m.wbrels={},m.Strings=[],m.Strings.Count=0,m.Strings.Unique=0,nb?m.revStrings=new Map:(m.revStrings={},m.revStrings.foo=[],delete m.revStrings.foo);var p="xml",x=-1<jI.indexOf(m.bookType),N=gv();sk(m=m||{});var A=ah(),S="",E=0;if(m.cellXfs=[],Om(m.cellXfs,{},{revssf:{General:0}}),u.Props||(u.Props={}),S="docProps/core.xml",Sn(A,S,vv(u.Props,m)),N.coreprops.push(S),ba(m.rels,2,S,Pn.CORE_PROPS),S="docProps/app.xml",!u.Props||!u.Props.SheetNames)if(u.Workbook&&u.Workbook.Sheets){for(var F=[],R=0;R<u.SheetNames.length;++R)(u.Workbook.Sheets[R]||{}).Hidden!=2&&F.push(u.SheetNames[R]);u.Props.SheetNames=F}else u.Props.SheetNames=u.SheetNames;u.Props.Worksheets=u.Props.SheetNames.length,Sn(A,S,g0(u.Props)),N.extprops.push(S),ba(m.rels,3,S,Pn.EXT_PROPS),u.Custprops!==u.Props&&0<Pa(u.Custprops||{}).length&&(Sn(A,S="docProps/custom.xml",n5(u.Custprops)),N.custprops.push(S),ba(m.rels,4,S,Pn.CUST_PROPS));var z,G=["SheetJ5"];for(m.tcid=0,E=1;E<=u.SheetNames.length;++E){var K,Z,he,ae,be={"!id":{}},me=u.Sheets[u.SheetNames[E-1]];Sn(A,S="xl/worksheets/sheet"+E+"."+p,GI(E-1,m,u,be)),N.sheets.push(S),ba(m.wbrels,-1,"worksheets/sheet"+E+"."+p,Pn.WS[0]),me&&(Z=!1,he="",(K=me["!comments"])&&0<K.length&&(ae=!1,K.forEach(function(oe){oe[1].forEach(function(ye){ye.T==1&&(ae=!0)})}),ae&&(Sn(A,he="xl/threadedComments/threadedComment"+E+"."+p,function(oe,ye,Ne){var Ce=[us,er("ThreadedComments",null,{xmlns:Gs.TCMNT}).replace(/[\/]>/,">")];return oe.forEach(function(We){var tt="";(We[1]||[]).forEach(function(Je,ct){var kt;Je.T?(Je.a&&ye.indexOf(Je.a)==-1&&ye.push(Je.a),kt={ref:We[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+Ne.tcid++).slice(-12)+"}"},ct==0?tt=kt.id:kt.parentId=tt,Je.ID=kt.id,Je.a&&(kt.personId="{54EE7950-7262-4200-6969-"+("000000000000"+ye.indexOf(Je.a)).slice(-12)+"}"),Ce.push(er("threadedComment",bi("text",Je.t||""),kt))):delete Je.ID})}),Ce.push("</ThreadedComments>"),Ce.join("")}(K,G,m)),N.threadedcomments.push(he),ba(be,-1,"../threadedComments/threadedComment"+E+"."+p,Pn.TCMNT)),Sn(A,he="xl/comments"+E+"."+p,_I(K)),N.comments.push(he),ba(be,-1,"../comments"+E+"."+p,Pn.CMNT),Z=!0),me["!legacy"]&&Z&&Sn(A,"xl/drawings/vmlDrawing"+E+".vml",bI(E,me["!comments"])),delete me["!comments"],delete me["!legacy"]),be["!id"].rId1&&Sn(A,ym(S),lf(be))}return m.Strings!=null&&0<m.Strings.length&&(Sn(A,S="xl/sharedStrings.xml",N0(m.Strings,m)),N.strs.push(S),ba(m.wbrels,-1,"sharedStrings.xml",Pn.SST)),Sn(A,S="xl/workbook.xml",tL(u)),N.workbooks.push(S),ba(m.rels,1,S,Pn.WB),Sn(A,S="xl/theme/theme1.xml",zA(u.Themes,m)),N.themes.push(S),ba(m.wbrels,-1,"theme/theme1.xml",Pn.THEME),Sn(A,S="xl/styles.xml",mI(u,m)),N.styles.push(S),ba(m.wbrels,-1,"styles.xml",Pn.STY),u.vbaraw&&x&&(Sn(A,S="xl/vbaProject.bin",u.vbaraw),N.vba.push(S),ba(m.wbrels,-1,"vbaProject.bin",Pn.VBA)),Sn(A,S="xl/metadata.xml",yI()),N.metadata.push(S),ba(m.wbrels,-1,"metadata.xml",Pn.XLMETA),1<G.length&&(Sn(A,S="xl/persons/person.xml",(x=G,z=[us,er("personList",null,{xmlns:Gs.TCMNT,"xmlns:x":Mc[0]}).replace(/[\/]>/,">")],x.forEach(function(oe,ye){z.push(er("person",null,{displayName:oe,id:"{54EE7950-7262-4200-6969-"+("000000000000"+ye).slice(-12)+"}",userId:oe,providerId:"None"}))}),z.push("</personList>"),z.join(""))),N.people.push(S),ba(m.wbrels,-1,"persons/person.xml",Pn.PEOPLE)),Sn(A,"[Content_Types].xml",Iy(N,m)),Sn(A,"_rels/.rels",lf(m.rels)),Sn(A,"xl/_rels/workbook.xml.rels",lf(m.wbrels)),delete m.revssf,delete m.ssf,A}function ik(u,m){var p="";switch((m||{}).type||"base64"){case"buffer":return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]];case"base64":p=T(u.slice(0,12));break;case"binary":p=u;break;case"array":return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]];default:throw new Error("Unrecognized type "+(m&&m.type||"undefined"))}return[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3),p.charCodeAt(4),p.charCodeAt(5),p.charCodeAt(6),p.charCodeAt(7)]}function kL(u,m){var p=0;e:for(;p<u.length;)switch(u.charCodeAt(p)){case 10:case 13:case 32:++p;break;case 60:return ZA(u.slice(p),m);default:break e}return Hn.to_workbook(u,m)}function ok(u,m,p,x){return x?(p.type="string",Hn.to_workbook(u,p)):Hn.to_workbook(m,p)}function I5(u,m){v();var p=m||{};if(typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer)return I5(new Uint8Array(u),((p=Yn(p)).type="array",p));typeof Uint8Array<"u"&&u instanceof Uint8Array&&!p.type&&(p.type=typeof Deno<"u"?"buffer":"array");var x,N,A,S,E,F=u,R=!1;if(p.cellStyles&&(p.cellNF=!0,p.sheetStubs=!0),Dv={},p.dateNF&&(Dv.dateNF=p.dateNF),p.type||(p.type=P&&Buffer.isBuffer(u)?"buffer":"base64"),p.type=="file"&&(p.type=P?"buffer":"binary",F=function(G){if(bn!==void 0)return bn.readFileSync(G);if(typeof Deno<"u")return Deno.readFileSync(G);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var K=File(G);K.open("r"),K.encoding="binary";var Z=K.read();return K.close(),Z}catch(he){if(!he.message||!he.message.match(/onstruct/))throw he}throw new Error("Cannot access file "+G)}(u),typeof Uint8Array>"u"||P||(p.type="array")),p.type=="string"&&(R=!0,p.type="binary",p.codepage=65001,F=(z=u).match(/[^\x00-\x7F]/)?oc(z):z),p.type=="array"&&typeof Uint8Array<"u"&&u instanceof Uint8Array&&typeof ArrayBuffer<"u"){var z=new ArrayBuffer(3),z=new Uint8Array(z);if(z.foo="bar",!z.foo)return(p=Yn(p)).type="array",I5(q(F),p)}switch((x=ik(F,p))[0]){case 208:if(x[1]===207&&x[2]===17&&x[3]===224&&x[4]===161&&x[5]===177&&x[6]===26&&x[7]===225)return S=rr.read(F,p),E=p,(rr.find(S,"EncryptedPackage")?ife:M5)(S,E);break;case 9:if(x[1]<=8)return M5(F,p);break;case 60:return ZA(F,p);case 73:if(x[1]===73&&x[2]===42&&x[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(x[1]===68)return function(G,K){var Z=K||{},he=!!Z.WTF;Z.WTF=!0;try{var ae=On.to_workbook(G,Z);return Z.WTF=he,ae}catch(be){if(Z.WTF=he,!be.message.match(/SYLK bad record ID/)&&he)throw be;return Hn.to_workbook(G,K)}}(F,p);break;case 84:if(x[1]===65&&x[2]===66&&x[3]===76)return li.to_workbook(F,p);break;case 80:return x[1]===75&&x[2]<9&&x[3]<9?(A=E=F,(N=(N=p)||{}).type||(N.type=P&&Buffer.isBuffer(E)?"buffer":"base64"),CL(e0(A,N),N)):ok(u,F,p,R);case 239:return x[3]===60?ZA(F,p):ok(u,F,p,R);case 255:if(x[1]===254)return A=F,(N=p).type=="base64"&&(A=T(A)),A=a.utils.decode(1200,A.slice(2),"str"),N.type="binary",kL(A,N);if(x[1]===0&&x[2]===2&&x[3]===0)return _i.to_workbook(F,p);break;case 0:if(x[1]===0&&(2<=x[2]&&x[3]===0||x[2]===0&&(x[3]===8||x[3]===9)))return _i.to_workbook(F,p);break;case 3:case 131:case 139:case 140:return jt.to_workbook(F,p);case 123:if(x[1]===92&&x[2]===114&&x[3]===116)return k5.to_workbook(F,p);break;case 10:case 13:case 32:return function(G,K){var Z="",he=ik(G,K);switch(K.type){case"base64":Z=T(G);break;case"binary":Z=G;break;case"buffer":Z=G.toString("binary");break;case"array":Z=ro(G);break;default:throw new Error("Unrecognized type "+K.type)}return he[0]==239&&he[1]==187&&he[2]==191&&(Z=va(Z)),K.type="binary",kL(Z,K)}(F,p);case 137:if(x[1]===80&&x[2]===78&&x[3]===71)throw new Error("PNG Image File is not a spreadsheet")}return-1<it.indexOf(x[0])&&x[2]<=12&&x[3]<=31?jt.to_workbook(F,p):ok(u,F,p,R)}function EL(u,m){return m=m||{},m.type="file",I5(u,m)}function TL(u,m){switch(m.type){case"base64":case"binary":break;case"buffer":case"array":m.type="";break;case"file":return ri(m.file,rr.write(u,{type:P?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+m.bookType+"' files");default:throw new Error("Unrecognized type "+m.type)}return rr.write(u,m)}function PL(u,m){var p={},x=P?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(m.compression&&(p.compression="DEFLATE"),m.password)p.type=x;else switch(m.type){case"base64":p.type="base64";break;case"binary":p.type="string";break;case"string":throw new Error("'string' output type invalid for '"+m.bookType+"' files");case"buffer":case"file":p.type=x;break;default:throw new Error("Unrecognized type "+m.type)}if(u=u.FullPaths?rr.write(u,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[p.type]||p.type,compression:!!m.compression}):u.generate(p),typeof Deno<"u"&&typeof u=="string"){if(m.type=="binary"||m.type=="base64")return u;u=new Uint8Array(V(u))}return m.password&&typeof encrypt_agile<"u"?TL(encrypt_agile(u,m.password),m):m.type==="file"?ri(m.file,u):m.type=="string"?va(u):u}function vf(u,m,p){var x=(p=p||"")+u;switch(m.type){case"base64":return k(oc(x));case"binary":return oc(x);case"string":return u;case"file":return ri(m.file,x,"utf8");case"buffer":return P?D(x,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(x):vf(x,{type:"binary"}).split("").map(function(N){return N.charCodeAt(0)})}throw new Error("Unrecognized type "+m.type)}function L5(u,m){switch(m.type){case"string":case"base64":case"binary":for(var p="",x=0;x<u.length;++x)p+=String.fromCharCode(u[x]);return m.type=="base64"?k(p):m.type=="string"?va(p):p;case"file":return ri(m.file,u);case"buffer":return u;default:throw new Error("Unrecognized type "+m.type)}}function lk(u,m){v(),eL(u);var p,x=Yn(m||{});return x.cellStyles&&(x.cellNF=!0,x.sheetStubs=!0),x.type!="array"?(p=u,m=Yn((m=x)||{}),PL(AL(p,m),m)):(x.type="binary",u=lk(u,x),x.type="array",V(u))}function $5(u,m){v(),eL(u);var p=Yn(m||{});if(p.cellStyles&&(p.cellNF=!0,p.sheetStubs=!0),p.type=="array")return p.type="binary",m=$5(u,p),p.type="array",V(m);var x,N,A,S=0;if(p.sheet&&(S=typeof p.sheet=="number"?p.sheet:u.SheetNames.indexOf(p.sheet),!u.SheetNames[S]))throw new Error("Sheet not found: "+p.sheet+" : "+typeof p.sheet);switch(p.bookType||"xlsb"){case"xml":case"xlml":return vf(Ide(u,p),p);case"slk":case"sylk":return vf(On.from_sheet(u.Sheets[u.SheetNames[S]],p),p);case"htm":case"html":return vf(dL(u.Sheets[u.SheetNames[S]],p),p);case"txt":return function(E,F){switch(F.type){case"base64":return k(E);case"binary":case"string":return E;case"file":return ri(F.file,E,"binary");case"buffer":return P?D(E,"binary"):E.split("").map(function(R){return R.charCodeAt(0)})}throw new Error("Unrecognized type "+F.type)}(ML(u.Sheets[u.SheetNames[S]],p),p);case"csv":return vf(uk(u.Sheets[u.SheetNames[S]],p),p,"\uFEFF");case"dif":return vf(li.from_sheet(u.Sheets[u.SheetNames[S]],p),p);case"dbf":return L5(jt.from_sheet(u.Sheets[u.SheetNames[S]],p),p);case"prn":return vf(Hn.from_sheet(u.Sheets[u.SheetNames[S]],p),p);case"rtf":return vf(k5.from_sheet(u.Sheets[u.SheetNames[S]],p),p);case"eth":return vf(Ro.from_sheet(u.Sheets[u.SheetNames[S]],p),p);case"fods":return vf(bL(u,p),p);case"wk1":return L5(_i.sheet_to_wk1(u.Sheets[u.SheetNames[S]],p),p);case"wk3":return L5(_i.book_to_wk3(u,p),p);case"biff2":p.biff||(p.biff=2);case"biff3":p.biff||(p.biff=3);case"biff4":return p.biff||(p.biff=4),L5(sL(u,p),p);case"biff5":p.biff||(p.biff=5);case"biff8":case"xla":case"xls":return p.biff||(p.biff=8),TL(zde(u,A=(A=p)||{}),A);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return x=u,A=Yn((N=p)||{}),Jy=new lfe(N),PL(ofe(x,A),A);default:throw new Error("Unrecognized bookType |"+p.bookType+"|")}}function ck(u){var m;u.bookType||((m=u.file.slice(u.file.lastIndexOf(".")).toLowerCase()).match(/^\.[a-z]+$/)&&(u.bookType=m.slice(1)),u.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[u.bookType]||u.bookType)}function OL(u,m,p){return p=p||{},p.type="file",p.file=m,ck(p),$5(u,p)}function FL(u,m,p,x,N,A,S,E){var F=ts(p),R=E.defval,z=E.raw||!Object.prototype.hasOwnProperty.call(E,"raw"),G=!0,K=N===1?[]:{};if(N!==1)if(Object.defineProperty)try{Object.defineProperty(K,"__rowNum__",{value:p,enumerable:!1})}catch{K.__rowNum__=p}else K.__rowNum__=p;if(!S||u[p])for(var Z=m.s.c;Z<=m.e.c;++Z){var he=S?u[p][Z]:u[x[Z]+F];if(he!==void 0&&he.t!==void 0){var ae=he.v;switch(he.t){case"z":if(ae==null)break;continue;case"e":ae=ae==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+he.t)}if(A[Z]!=null){if(ae==null)if(he.t=="e"&&ae===null)K[A[Z]]=null;else if(R!==void 0)K[A[Z]]=R;else{if(!z||ae!==null)continue;K[A[Z]]=null}else K[A[Z]]=z&&(he.t!=="n"||he.t==="n"&&E.rawNumbers!==!1)?ae:fl(he,ae,E);ae!=null&&(G=!1)}}else R!==void 0&&A[Z]!=null&&(K[A[Z]]=R)}return{row:K,isempty:G}}function B5(u,m){if(u==null||u["!ref"]==null)return[];var p,x={t:"n",v:0},N=0,A=1,S=[],E="",F={s:{r:0,c:0},e:{r:0,c:0}},R=m||{},z=R.range!=null?R.range:u["!ref"];switch(R.header===1?N=1:R.header==="A"?N=2:Array.isArray(R.header)?N=3:R.header==null&&(N=0),typeof z){case"string":F=Tn(z);break;case"number":(F=Tn(u["!ref"])).s.r=z;break;default:F=z}0<N&&(A=0);var G=ts(F.s.r),K=[],Z=[],he=0,ae=0,be=Array.isArray(u),me=F.s.r,oe=0,ye={};be&&!u[me]&&(u[me]=[]);for(var Ne,Ce=R.skipHidden&&u["!cols"]||[],We=R.skipHidden&&u["!rows"]||[],oe=F.s.c;oe<=F.e.c;++oe)if(!(Ce[oe]||{}).hidden)switch(K[oe]=qn(oe),x=be?u[me][oe]:u[K[oe]+G],N){case 1:S[oe]=oe-F.s.c;break;case 2:S[oe]=K[oe];break;case 3:S[oe]=R.header[oe-F.s.c];break;default:if(E=p=fl(x=x??{w:"__EMPTY",t:"s"},null,R),ae=ye[p]||0){for(;E=p+"_"+ae++,ye[E];);ye[p]=ae,ye[E]=1}else ye[p]=1;S[oe]=E}for(me=F.s.r+A;me<=F.e.r;++me)(We[me]||{}).hidden||(Ne=FL(u,F,me,K,N,S,be,R)).isempty!==!1&&(N===1?R.blankrows===!1:!R.blankrows)||(Z[he++]=Ne.row);return Z.length=he,Z}var DL=/"/g;function RL(u,m,p,x,N,A,S,E){for(var F=!0,R=[],z="",G=ts(p),K=m.s.c;K<=m.e.c;++K)if(x[K]){var Z=E.dense?(u[p]||[])[K]:u[x[K]+G];if(Z==null)z="";else if(Z.v!=null){F=!1,z=""+(E.rawNumbers&&Z.t=="n"?Z.v:fl(Z,null,E));for(var he,ae=0;ae!==z.length;++ae)if((he=z.charCodeAt(ae))===N||he===A||he===34||E.forceQuotes){z='"'+z.replace(DL,'""')+'"';break}z=="ID"&&(z='"ID"')}else Z.f==null||Z.F?z="":(F=!1,0<=(z="="+Z.f).indexOf(",")&&(z='"'+z.replace(DL,'""')+'"'));R.push(z)}return E.blankrows===!1&&F?null:R.join(S)}function uk(u,m){var p=[],x=m??{};if(u==null||u["!ref"]==null)return"";var N=Tn(u["!ref"]),A=x.FS!==void 0?x.FS:",",S=A.charCodeAt(0),E=x.RS!==void 0?x.RS:`
`,F=E.charCodeAt(0),R=new RegExp((A=="|"?"\\|":A)+"+$"),z="",G=[];x.dense=Array.isArray(u);for(var K=x.skipHidden&&u["!cols"]||[],Z=x.skipHidden&&u["!rows"]||[],he=N.s.c;he<=N.e.c;++he)(K[he]||{}).hidden||(G[he]=qn(he));for(var ae=0,be=N.s.r;be<=N.e.r;++be)(Z[be]||{}).hidden||(z=RL(u,N,be,G,S,F,A,x))!=null&&(!(z=x.strip?z.replace(R,""):z)&&x.blankrows===!1||p.push((ae++?E:"")+z));return delete x.dense,p.join("")}function ML(u,m){return(m=m||{}).FS="	",m.RS=`
`,u=uk(u,m),a===void 0||m.type=="string"?u:(u=a.utils.encode(1200,u,"str"),String.fromCharCode(255)+String.fromCharCode(254)+u)}function IL(z,m,p){var x,N=p||{},A=+!N.skipHeader,S=z||{},E=0,F=0;S&&N.origin!=null&&(typeof N.origin=="number"?E=N.origin:(R=typeof N.origin=="string"?Sa(N.origin):N.origin,E=R.r,F=R.c));var R,z={s:{c:0,r:0},e:{c:F,r:E+m.length-1+A}};S["!ref"]?(R=Tn(S["!ref"]),z.e.c=Math.max(z.e.c,R.e.c),z.e.r=Math.max(z.e.r,R.e.r),E==-1&&(E=R.e.r+1,z.e.r=E+m.length-1+A)):E==-1&&(E=0,z.e.r=m.length-1+A);var G=N.header||[],K=0;m.forEach(function(he,ae){Pa(he).forEach(function(Ne){(K=G.indexOf(Ne))==-1&&(G[K=G.length]=Ne);var me=he[Ne],oe="z",ye="",Ne=en({c:F+K,r:E+ae+A});x=z5(S,Ne),!me||typeof me!="object"||me instanceof Date?(typeof me=="number"?oe="n":typeof me=="boolean"?oe="b":typeof me=="string"?oe="s":me instanceof Date?(oe="d",N.cellDates||(oe="n",me=Oa(me)),ye=N.dateNF||Y[14]):me===null&&N.nullError&&(oe="e",me=0),x?(x.t=oe,x.v=me,delete x.w,delete x.R,ye&&(x.z=ye)):S[Ne]=x={t:oe,v:me},ye&&(x.z=ye)):S[Ne]=me})}),z.e.c=Math.max(z.e.c,F+G.length-1);var Z=ts(E);if(A)for(K=0;K<G.length;++K)S[qn(K+F)+Z]={t:"s",v:G[K]};return S["!ref"]=tn(z),S}function z5(u,m,p){return typeof m!="string"?z5(u,en(typeof m!="number"?m:{r:m,c:p||0})):Array.isArray(u)?(p=Sa(m),u[p.r]||(u[p.r]=[]),u[p.r][p.c]||(u[p.r][p.c]={t:"z"})):u[m]||(u[m]={t:"z"})}function dk(){return{SheetNames:[],Sheets:{}}}function fk(u,m,p,x){var N=1;if(!p)for(;N<=65535&&u.SheetNames.indexOf(p="Sheet"+N)!=-1;++N,p=void 0);if(!p||65535<=u.SheetNames.length)throw new Error("Too many worksheets");if(x&&0<=u.SheetNames.indexOf(p)){var x=p.match(/(^.*?)(\d+)$/),N=x&&+x[2]||0,A=x&&x[1]||p;for(++N;N<=65535&&u.SheetNames.indexOf(p=A+N)!=-1;++N);}if(QI(p),0<=u.SheetNames.indexOf(p))throw new Error("Worksheet with name |"+p+"| already exists!");return u.SheetNames.push(p),u.Sheets[p]=m,p}function LL(u,m,p){return m?(u.l={Target:m},p&&(u.l.Tooltip=p)):delete u.l,u}var U5,hk={encode_col:qn,encode_row:ts,encode_cell:en,encode_range:tn,decode_col:ch,decode_row:ud,split_cell:function(u){return u.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Sa,decode_range:Pi,format_cell:fl,sheet_add_aoa:nf,sheet_add_json:IL,sheet_add_dom:fL,aoa_to_sheet:Oi,json_to_sheet:function(u,m){return IL(null,u,m)},table_to_sheet:hL,table_to_book:function(u,m){return Jo(hL(u,m),m)},sheet_to_csv:uk,sheet_to_txt:ML,sheet_to_json:B5,sheet_to_html:dL,sheet_to_formulae:function(u){var m,p="",x="";if(u==null||u["!ref"]==null)return[];for(var N,A=Tn(u["!ref"]),S=[],E=[],F=Array.isArray(u),R=A.s.c;R<=A.e.c;++R)S[R]=qn(R);for(var z=A.s.r;z<=A.e.r;++z)for(N=ts(z),R=A.s.c;R<=A.e.c;++R)if(p=S[R]+N,x="",(m=F?(u[z]||[])[R]:u[p])!==void 0){if(m.F!=null){if(p=m.F,!m.f)continue;x=m.f,p.indexOf(":")==-1&&(p=p+":"+p)}if(m.f!=null)x=m.f;else{if(m.t=="z")continue;if(m.t=="n"&&m.v!=null)x=""+m.v;else if(m.t=="b")x=m.v?"TRUE":"FALSE";else if(m.w!==void 0)x="'"+m.w;else{if(m.v===void 0)continue;x=m.t=="s"?"'"+m.v:""+m.v}}E[E.length]=p+"="+x}return E},sheet_to_row_object_array:B5,sheet_get_cell:z5,book_new:dk,book_append_sheet:fk,book_set_sheet_visibility:function(u,m,p){switch(u.Workbook||(u.Workbook={}),u.Workbook.Sheets||(u.Workbook.Sheets=[]),m=function(x,N){if(typeof N=="number"){if(0<=N&&x.SheetNames.length>N)return N;throw new Error("Cannot find sheet # "+N)}if(typeof N!="string")throw new Error("Cannot find sheet |"+N+"|");if(-1<(x=x.SheetNames.indexOf(N)))return x;throw new Error("Cannot find sheet name |"+N+"|")}(u,m),u.Workbook.Sheets[m]||(u.Workbook.Sheets[m]={}),p){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+p)}u.Workbook.Sheets[m].Hidden=p},cell_set_number_format:function(u,m){return u.z=m,u},cell_set_hyperlink:LL,cell_set_internal_link:function(u,m,p){return LL(u,"#"+m,p)},cell_add_comment:function(u,m,p){u.c||(u.c=[]),u.c.push({t:m,a:p||"SheetJS"})},sheet_set_array_formula:function(u,m,p,x){for(var N=typeof m!="string"?m:Tn(m),A=typeof m=="string"?m:tn(m),S=N.s.r;S<=N.e.r;++S)for(var E=N.s.c;E<=N.e.c;++E){var F=z5(u,S,E);F.t="n",F.F=A,delete F.v,S==N.s.r&&E==N.s.c&&(F.f=p,x&&(F.D=!0))}return u},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function $L(u){U5=u}var Mv={to_json:function(u,m){var p=U5({objectMode:!0});if(u==null||u["!ref"]==null)return p.push(null),p;var x,N={t:"n",v:0},A=0,S=1,E=[],F="",R={s:{r:0,c:0},e:{r:0,c:0}},z=m||{},G=z.range!=null?z.range:u["!ref"];switch(z.header===1?A=1:z.header==="A"?A=2:Array.isArray(z.header)&&(A=3),typeof G){case"string":R=Tn(G);break;case"number":(R=Tn(u["!ref"])).s.r=G;break;default:R=G}0<A&&(S=0);var K=ts(R.s.r),Z=[],he=0,ae=Array.isArray(u),be=R.s.r,me=0,oe={};ae&&!u[be]&&(u[be]=[]);for(var ye=z.skipHidden&&u["!cols"]||[],Ne=z.skipHidden&&u["!rows"]||[],me=R.s.c;me<=R.e.c;++me)if(!(ye[me]||{}).hidden)switch(Z[me]=qn(me),N=ae?u[be][me]:u[Z[me]+K],A){case 1:E[me]=me-R.s.c;break;case 2:E[me]=Z[me];break;case 3:E[me]=z.header[me-R.s.c];break;default:if(F=x=fl(N=N??{w:"__EMPTY",t:"s"},null,z),he=oe[x]||0){for(;F=x+"_"+he++,oe[F];);oe[x]=he,oe[F]=1}else oe[x]=1;E[me]=F}return be=R.s.r+S,p._read=function(){for(;be<=R.e.r;)if(!(Ne[be-1]||{}).hidden){var Ce=FL(u,R,be,Z,A,E,ae,z);if(++be,Ce.isempty===!1||(A===1?z.blankrows!==!1:z.blankrows))return void p.push(Ce.row)}return p.push(null)},p},to_html:function(u,N){var p=U5(),x=N||{},N=x.header!=null?x.header:lL,A=x.footer!=null?x.footer:cL;p.push(N);var S=Pi(u["!ref"]);x.dense=Array.isArray(u),p.push(uL(0,0,x));var E=S.s.r,F=!1;return p._read=function(){if(E>S.e.r)return F||(F=!0,p.push("</table>"+A)),p.push(null);for(;E<=S.e.r;){p.push(oL(u,S,E,x)),++E;break}},p},to_csv:function(u,m){var p=U5(),x=m??{};if(u==null||u["!ref"]==null)return p.push(null),p;var N=Tn(u["!ref"]),A=x.FS!==void 0?x.FS:",",S=A.charCodeAt(0),E=x.RS!==void 0?x.RS:`
`,F=E.charCodeAt(0),R=new RegExp((A=="|"?"\\|":A)+"+$"),z="",G=[];x.dense=Array.isArray(u);for(var K=x.skipHidden&&u["!cols"]||[],Z=x.skipHidden&&u["!rows"]||[],he=N.s.c;he<=N.e.c;++he)(K[he]||{}).hidden||(G[he]=qn(he));var ae=N.s.r,be=!1,me=0;return p._read=function(){if(!be)return be=!0,p.push("\uFEFF");for(;ae<=N.e.r;)if(++ae,!(Z[ae-1]||{}).hidden&&(z=RL(u,N,ae-1,G,S,F,A,x),z!=null&&((z=x.strip?z.replace(R,""):z)||x.blankrows!==!1)))return p.push((me++?E:"")+z);return p.push(null)},p},set_readable:$L},ma=function(){function u(m,p,x){return this instanceof u?(this.tagName=m,this._attributes=p||{},this._children=x||[],this._prefix="",this):new u(m,p,x)}return u.prototype.createElement=function(){return new u(arguments)},u.prototype.children=function(){return this._children},u.prototype.append=function(m){return this._children.push(m),this},u.prototype.prefix=function(m){return arguments.length==0?this._prefix:(this._prefix=m,this)},u.prototype.attr=function(m,p){if(p==null)return delete this._attributes[m],this;if(arguments.length==0)return this._attributes;if(typeof m=="string"&&arguments.length==1)return this._attributes.attr[m];if(typeof m=="object"&&arguments.length==1)for(var x in m)this._attributes[x]=m[x];else arguments.length==2&&typeof m=="string"&&(this._attributes[m]=p);return this},u.prototype.escapeAttributeValue=function(m){return'"'+m.replace(/\"/g,"&quot;")+'"'},u.prototype.toXml=function(m){var p=(m=m||this)._prefix;if(p+="<"+m.tagName,m._attributes)for(var x in m._attributes)p+=" "+x+"="+this.escapeAttributeValue(""+m._attributes[x]);if(m._children&&0<m._children.length){p+=">";for(var N=0;N<m._children.length;N++)p+=this.toXml(m._children[N]);p+="</"+m.tagName+">"}else p+="/>";return p},u}(),lfe=function(u){var m,p=164,x={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},N={};for(m in x)N[x[m]]=m;var A={};return{initialize:function(S){this.$fonts=ma("fonts").attr("count",0).attr("x14ac:knownFonts","1"),this.$fills=ma("fills").attr("count",0),this.$borders=ma("borders").attr("count",0),this.$numFmts=ma("numFmts").attr("count",0),this.$cellStyleXfs=ma("cellStyleXfs"),this.$xf=ma("xf").attr("numFmtId",0).attr("fontId",0).attr("fillId",0).attr("borderId",0),this.$cellXfs=ma("cellXfs").attr("count",0),this.$cellStyles=ma("cellStyles").append(ma("cellStyle").attr("name","Normal").attr("xfId",0).attr("builtinId",0)),this.$dxfs=ma("dxfs").attr("count","0"),this.$tableStyles=ma("tableStyles").attr("count","0").attr("defaultTableStyle","TableStyleMedium9").attr("defaultPivotStyle","PivotStyleMedium4"),this.$styles=ma("styleSheet").attr("xmlns:mc","http://schemas.openxmlformats.org/markup-compatibility/2006").attr("xmlns:x14ac","http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac").attr("xmlns","http://schemas.openxmlformats.org/spreadsheetml/2006/main").attr("mc:Ignorable","x14ac").prefix('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>').append(this.$numFmts).append(this.$fonts).append(this.$fills).append(this.$borders).append(this.$cellStyleXfs.append(this.$xf)).append(this.$cellXfs).append(this.$cellStyles).append(this.$dxfs).append(this.$tableStyles);var E=S.defaultCellStyle||{};return E.font||(E.font={name:"Calibri",sz:"11"}),E.font.name||(E.font.name="Calibri"),E.font.sz||(E.font.sz=11),E.fill||(E.fill={patternType:"none",fgColor:{}}),E.border||(E.border={}),E.numFmt||(E.numFmt=0),this.defaultStyle=E,S=JSON.parse(JSON.stringify(E)),S.fill={patternType:"gray125",fgColor:{}},this.addStyles([E,S]),this},addStyle:function(S){var E=JSON.stringify(S),F=A[E];return F==null?(F=this._addXf(S),A[E]=F):F=A[E],F},addStyles:function(S){var E=this;return S.map(function(F){return E.addStyle(F)})},_duckTypeStyle:function(S){return typeof S=="object"&&(S.patternFill||S.fgColor)?{fill:S}:S.font||S.numFmt||S.border||S.fill?S:this._getStyleCSS(S)},_getStyleCSS:function(S){return S},_addXf:function(S){var E=this._addFont(S.font),F=this._addFill(S.fill),R=this._addBorder(S.border),z=this._addNumFmt(S.numFmt),G=ma("xf").attr("numFmtId",z).attr("fontId",E).attr("fillId",F).attr("borderId",R).attr("xfId","0");return 0<E&&G.attr("applyFont","1"),0<F&&G.attr("applyFill","1"),0<R&&G.attr("applyBorder","1"),0<z&&G.attr("applyNumberFormat","1"),S.alignment&&(z=ma("alignment"),S.alignment.horizontal&&z.attr("horizontal",S.alignment.horizontal),S.alignment.vertical&&z.attr("vertical",S.alignment.vertical),S.alignment.indent&&z.attr("indent",S.alignment.indent),S.alignment.readingOrder&&z.attr("readingOrder",S.alignment.readingOrder),S.alignment.wrapText&&z.attr("wrapText",S.alignment.wrapText),S.alignment.textRotation!=null&&z.attr("textRotation",S.alignment.textRotation),G.append(z).attr("applyAlignment",1)),this.$cellXfs.append(G),G=+this.$cellXfs.children().length,this.$cellXfs.attr("count",G),G-1},_addFont:function(S){if(!S)return 0;var E=ma("font").append(ma("sz").attr("val",S.sz||this.defaultStyle.font.sz)).append(ma("name").attr("val",S.name||this.defaultStyle.font.name));return S.bold&&E.append(ma("b")),S.underline&&E.append(ma("u")),S.italic&&E.append(ma("i")),S.strike&&E.append(ma("strike")),S.outline&&E.append(ma("outline")),S.shadow&&E.append(ma("shadow")),S.vertAlign&&E.append(ma("vertAlign").attr("val",S.vertAlign)),S.color&&(S.color.theme?(E.append(ma("color").attr("theme",S.color.theme)),S.color.tint&&E.append(ma("tint").attr("theme",S.color.tint))):S.color.rgb&&E.append(ma("color").attr("rgb",S.color.rgb))),this.$fonts.append(E),E=this.$fonts.children().length,this.$fonts.attr("count",E),E-1},_addNumFmt:function(S){if(!S)return 0;if(typeof S=="string"){var E=N[S];if(0<=E)return E}return/^[0-9]+$/.exec(S)?S:(S=S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),S=ma("numFmt").attr("numFmtId",++p).attr("formatCode",S),this.$numFmts.append(S),S=this.$numFmts.children().length,this.$numFmts.attr("count",S),p)},_addFill:function(S){if(!S)return 0;var E,F=ma("patternFill").attr("patternType",S.patternType||"solid");return S.fgColor&&(E=ma("fgColor"),S.fgColor.rgb?(S.fgColor.rgb.length==6&&(S.fgColor.rgb="FF"+S.fgColor.rgb),E.attr("rgb",S.fgColor.rgb),F.append(E)):S.fgColor.theme&&(E.attr("theme",S.fgColor.theme),S.fgColor.tint&&E.attr("tint",S.fgColor.tint),F.append(E)),S.bgColor||(S.bgColor={indexed:"64"})),S.bgColor&&(S=ma("bgColor").attr(S.bgColor),F.append(S)),F=ma("fill").append(F),this.$fills.append(F),F=this.$fills.children().length,this.$fills.attr("count",F),F-1},_getSubBorder:function(S,E){var F=ma(S);return E&&(F.attr("style",E.style||"medium"),E.color&&(S=ma("color"),E.color.auto?S.attr("auto",E.color.auto):E.color.rgb?S.attr("rgb",E.color.rgb):(E.color.theme||E.color.tint)&&(S.attr("theme",E.color.theme||"1"),S.attr("tint",E.color.tint||"0")),F.append(S))),F},_addBorder:function(S){if(!S)return 0;var E=this,F=ma("border").attr("diagonalUp",S.diagonalUp).attr("diagonalDown",S.diagonalDown);["left","right","top","bottom","diagonal"].forEach(function(z){F.append(E._getSubBorder(z,S[z]))}),this.$borders.append(F);var R=this.$borders.children().length;return this.$borders.attr("count",R),R-1},toXml:function(){return this.$styles.toXml()}}.initialize(u||{})};M5!==void 0&&(s.parse_xlscfb=M5),s.parse_zip=CL,s.read=I5,s.readFile=EL,s.readFileSync=EL,s.write=$5,s.writeFile=OL,s.writeFileSync=OL,s.writeFileAsync=function(u,m,p,x){var N=p||{};return N.type="file",N.file=u,ck(N),N.type="buffer",x instanceof Function||(x=p),bn.writeFile(u,$5(m,N),x)},s.utils=hk,s.writeXLSX=lk,s.writeFileXLSX=function(u,m,p){return(p=p||{}).type="file",p.file=m,ck(p),lk(u,p)},s.SSF=ln,Mv!==void 0&&(s.stream=Mv),rr!==void 0&&(s.CFB=rr),typeof A4>"u"||((Mv=r6)||{}).Readable&&$L(Mv.Readable)}if(n(t),typeof window<"u"&&!window.XLSX)try{window.XLSX=r}catch{}})(cO,cO.exports);var jl=cO.exports;const Foe=({data:e,headers:t,sheetName:r="Export",fileName:n="export.xlsx"})=>{const s=[t.map(v=>v.label),...e.map(v=>t.map(g=>v[g.key]??""))],a=jl.utils.aoa_to_sheet(s),o={font:{name:"Poppins",bold:!0},alignment:{horizontal:"center",vertical:"center"},fill:{fgColor:{rgb:"EFEAFF"}},border:{bottom:{style:"medium",color:{rgb:"B3A4F2"}},top:{style:"thin",color:{rgb:"DDDDDD"}},left:{style:"thin",color:{rgb:"DDDDDD"}},right:{style:"thin",color:{rgb:"DDDDDD"}}}},l={font:{name:"Poppins"},alignment:{horizontal:"left",vertical:"center"},border:{bottom:{style:"thin",color:{rgb:"DDDDDD"}},top:{style:"thin",color:{rgb:"DDDDDD"}},left:{style:"thin",color:{rgb:"DDDDDD"}},right:{style:"thin",color:{rgb:"DDDDDD"}}}},c={...l,fill:{fgColor:{rgb:"FAFAFA"}}},d=jl.utils.decode_range(a["!ref"]);for(let v=d.s.c;v<=d.e.c;++v){const g=jl.utils.encode_cell({r:0,c:v});a[g].s=o;for(let _=1;_<=d.e.r;++_){const y=jl.utils.encode_cell({r:_,c:v});a[y]&&(a[y].s=_%2===0?c:l)}}const f=t.map((v,g)=>{const _=[v.label,...e.map(y=>y[v.key]??"")];return{wch:Math.max(..._.map(y=>String(y).length))+2}});a["!cols"]=f,a["!autofilter"]={ref:jl.utils.encode_range(d)},a["!freeze"]={ySplit:1,state:"frozen"};const h=jl.utils.book_new();jl.utils.book_append_sheet(h,a,r),jl.writeFile(h,n)},rW=({events:e,onRefresh:t})=>{const[r,n]=b.useState(e),[s,a]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(null),[f,h]=b.useState(!1),v=on();b.useEffect(()=>{n(e.filter(w=>{var T;const C=(T=w.title)==null?void 0:T.toLowerCase().includes(s.toLowerCase()),k=o==="all"||w.status===o;return C&&k}))},[s,o,e]);const g=async w=>{const C=w.status==="active"?"inactive":"active";try{const{error:k}=await Oe.from("events").update({status:C}).eq("id",w.id);if(k)throw k.message.includes("events_status_check")?new Error(`Statut invalide: "${C}". Les statuts valides sont active, inactive, archived, draft, deleted.`):k;ze({title:"Statut mis  jour avec succs!"}),t()}catch(k){ze({title:"Erreur lors de la mise  jour",description:k.message,variant:"destructive"})}},_=async()=>{if(c)try{const{error:w}=await Oe.rpc("delete_event_completely",{p_event_id:c});if(w)throw w;ze({title:"vnement supprim avec succs!"}),t(),h(!1),d(null)}catch(w){ze({title:"Erreur lors de la suppression",description:w.message,variant:"destructive"})}},y=()=>{if(!r||r.length===0){ze({title:"Aucune donne  exporter.",variant:"destructive"});return}const w=r.map(k=>({id:k.id,title:k.title,type:k.event_type,date:new Date(k.event_date).toLocaleString("fr-FR"),city:k.city,country:k.country,status:k.status,pricePi:k.price_pi,views:k.views_count,interactions:k.interactions_count}));Foe({data:w,headers:[{label:"ID",key:"id"},{label:"Titre",key:"title"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"Ville",key:"city"},{label:"Pays",key:"country"},{label:"Statut",key:"status"},{label:"Prix (Pices)",key:"pricePi"},{label:"Vues",key:"views"},{label:"Interactions",key:"interactions"}],sheetName:"vnements",fileName:"export_evenements.xlsx"}),ze({title:"Exportation russie",description:"Le fichier Excel a t tlcharg."})},j=w=>{switch(w){case"active":return"success";case"inactive":return"secondary";case"draft":return"outline";case"archived":return"destructive";default:return"default"}};return i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[i.jsx(Tt,{children:"Gestion des vnements"}),i.jsxs(Ee,{onClick:y,variant:"outline",size:"sm",children:[i.jsx(ey,{className:"mr-2 h-4 w-4"})," Exporter"]})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mb-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par titre...",value:s,onChange:w=>a(w.target.value),className:"pl-10"})]}),i.jsxs(aa,{value:o,onValueChange:l,children:[i.jsx(Jn,{className:"w-full sm:w-[180px]",children:i.jsx(sa,{placeholder:"Filtrer par statut"})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"all",children:"Tous les statuts"}),i.jsx(ur,{value:"active",children:"Actif"}),i.jsx(ur,{value:"inactive",children:"Inactif"}),i.jsx(ur,{value:"draft",children:"Brouillon"}),i.jsx(ur,{value:"archived",children:"Archiv"}),i.jsx(ur,{value:"deleted",children:"Supprim"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-muted-foreground",children:[i.jsx("th",{className:"p-2",children:"Titre"}),i.jsx("th",{className:"p-2",children:"Type"}),i.jsx("th",{className:"p-2",children:"Date"}),i.jsx("th",{className:"p-2",children:"Lieu"}),i.jsx("th",{className:"p-2",children:"Statut"}),i.jsx("th",{className:"p-2",children:"Prix (Pices)"}),i.jsx("th",{className:"p-2",children:"Vues/Interactions"}),i.jsx("th",{className:"p-2",children:"Actions"})]})}),i.jsx("tbody",{children:r.map(w=>i.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/30",children:[i.jsx("td",{className:"p-2 font-medium cursor-pointer hover:underline",onClick:()=>v(`/event/${w.id}`),children:w.title}),i.jsx("td",{className:"p-2 text-muted-foreground",children:w.event_type}),i.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(w.event_date).toLocaleDateString()}),i.jsxs("td",{className:"p-2 text-muted-foreground",children:[w.city,", ",w.country]}),i.jsx("td",{className:"p-2",children:i.jsx(nr,{variant:j(w.status),children:w.status})}),i.jsx("td",{className:"p-2 text-muted-foreground",children:w.price_pi||"N/A"}),i.jsxs("td",{className:"p-2 text-muted-foreground",children:[w.views_count||0," / ",w.interactions_count||0]}),i.jsx("td",{className:"p-2",children:i.jsxs(jD,{children:[i.jsx(ND,{asChild:!0,children:i.jsx(Ee,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(Gge,{className:"h-4 w-4"})})}),i.jsxs(K3,{children:[i.jsxs(vp,{onClick:()=>g(w),children:[w.status==="active"?i.jsx(vX,{className:"mr-2 h-4 w-4"}):i.jsx(xX,{className:"mr-2 h-4 w-4"}),w.status==="active"?"Dsactiver":"Activer"]}),i.jsxs(vp,{onClick:()=>ze({title:" Bientt disponible !"}),children:[i.jsx(sx,{className:"mr-2 h-4 w-4"})," Modifier"]}),i.jsxs(vp,{className:"text-red-500",onClick:()=>{d(w.id),h(!0)},children:[i.jsx(kl,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})})]},w.id))})]})}),i.jsx(jo,{open:f,onOpenChange:h,children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"tes-vous sr ?"}),i.jsx(Ji,{children:"Cette action est irrversible et supprimera dfinitivement l'vnement et toutes ses donnes associes (tickets, votes, etc.)."})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:_,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})]})},nW=({promotions:e,onRefresh:t})=>{const r=on(),[n,s]=b.useState(e),[a,o]=b.useState("all"),[l,c]=b.useState(""),[,d]=b.useState(0);b.useEffect(()=>{const g=setInterval(()=>d(_=>_+1),6e4);return()=>clearInterval(g)},[]),b.useEffect(()=>{let g=e;if(l&&(g=g.filter(_=>{var y,j,w;return _.title.toLowerCase().includes(l.toLowerCase())||((j=(y=_.organizer)==null?void 0:y.full_name)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))||((w=_.description)==null?void 0:w.toLowerCase().includes(l.toLowerCase()))})),a!=="all"){const _=new Date().toISOString();a==="active"?g=g.filter(y=>y.pack_expires_at>_&&y.status==="active"):a==="expired"?g=g.filter(y=>y.pack_expires_at<=_):a==="inactive"&&(g=g.filter(y=>y.status!=="active"))}s(g)},[e,l,a]);const f=async(g,_)=>{try{const y=_==="active"?"cancelled":"active",{error:j}=await Oe.from("event_promotions").update({status:y,cancelled_at:y==="cancelled"?new Date().toISOString():null}).eq("id",g);if(j)throw j;ze({title:"Statut de la promotion mis  jour"}),t()}catch(y){console.error("Error updating promotion status:",y),ze({title:"Erreur lors de la mise  jour",variant:"destructive"})}},h=async g=>{if(window.confirm("tes-vous sr de vouloir supprimer cette promotion ? Cette action est irrversible."))try{const{error:_}=await Oe.from("event_promotions").delete().eq("id",g);if(_)throw _;ze({title:"Promotion supprime avec succs"}),t()}catch(_){console.error("Error deleting promotion:",_),ze({title:"Erreur lors de la suppression",variant:"destructive"})}},v=({endDate:g})=>{const[_,y]=b.useState("");return b.useEffect(()=>{const j=()=>{const C=new Date(g)-new Date;if(C<=0){y("Expir");return}const k=Math.floor(C/(1e3*60*60*24)),T=Math.floor(C/(1e3*60*60)%24);y(`${k}j ${T}h restants`)};j();const w=setInterval(j,6e4);return()=>clearInterval(w)},[g]),i.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[i.jsx(nu,{className:"w-3 h-3"})," ",_]})};return i.jsxs(at,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[i.jsx(Et,{children:i.jsx(Tt,{className:"text-white",children:" Gestion des Promotions"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(vt,{type:"text",placeholder:"Rechercher une promotion...",className:"pl-10 w-full",value:l,onChange:g=>c(g.target.value)})]}),i.jsxs(aa,{value:a,onValueChange:o,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Toutes les promotions"})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"all",children:"Toutes les promotions"}),i.jsx(ur,{value:"active",children:"Actives"}),i.jsx(ur,{value:"expired",children:"Expires"}),i.jsx(ur,{value:"inactive",children:"Inactives/Annules"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-background/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left",children:"Promotion (vnement)"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Organisateur"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Cot"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),i.jsx("tbody",{children:n.map(g=>{var j;const _=new Date(g.pack_expires_at)<new Date,y=g.status==="active"&&!_;return i.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("p",{className:"font-semibold text-white",children:g.title}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Pack: ",g.pack_name]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("p",{className:"text-white",children:(j=g.organizer)==null?void 0:j.full_name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dn,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-bold text-primary",children:g.cost_pi})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold w-fit ${y?"bg-green-500/20 text-green-400":_?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:y?"Active":_?"Expire":"Inactive/Annule"}),i.jsx(v,{endDate:g.pack_expires_at})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Ee,{size:"icon",variant:"ghost",onClick:()=>r(`/event/${g.event_id}`),children:i.jsx(qu,{className:"w-4 h-4"})}),i.jsx(Ee,{size:"icon",variant:"ghost",className:y?"text-yellow-500":"text-green-500",onClick:()=>f(g.id,g.status),children:y?i.jsx(tve,{className:"w-4 h-4"}):i.jsx(ix,{className:"w-4 h-4"})}),i.jsx(Ee,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>h(g.id),children:i.jsx(kl,{className:"w-4 h-4"})})]})})]},g.id)})})]})})]})]})},Rtt=({popups:e,onRefresh:t})=>{const{user:r}=Pr(),{toast:n}=Ti(),[s,a]=b.useState(e||[]),[o,l]=b.useState(!1),[c,d]=b.useState(null),[f,h]=b.useState(!1),[v,g]=b.useState(!1),[_,y]=b.useState(!1),[j,w]=b.useState(null),[C,k]=b.useState(null),[T,P]=b.useState({alt_text:"",image_url:"",is_active:!0});b.useEffect(()=>{!e||e.length===0?D():a(e)},[e]);const D=async()=>{l(!0);try{const{data:H,error:X}=await Oe.from("welcome_popups").select("*").order("created_at",{ascending:!1});if(X)throw X;a(H||[])}catch(H){console.error("Erreur lors du chargement des popups:",H),n({title:"Erreur",description:"Impossible de charger les popups.",variant:"destructive"})}finally{l(!1)}},M=async()=>{await D(),t&&t()},I=()=>{d(null),h(!1),k(null),P({alt_text:"",image_url:"",is_active:!0})},B=H=>{d(H),P({alt_text:H.alt_text||"",image_url:H.image_url||"",is_active:H.is_active}),h(!0)},V=async H=>{H.preventDefault(),g(!0);try{let X=T.image_url;if(C){const xe=C.name.split(".").pop(),ee=`welcome-popups/${`popup_${Date.now()}.${xe}`}`;console.log("Tlversement du fichier:",ee);const{error:fe}=await Oe.storage.from("media").upload(ee,C,{cacheControl:"3600",upsert:!1});if(fe)throw fe;const{data:ne}=Oe.storage.from("media").getPublicUrl(ee);X=ne.publicUrl,console.log("URL publique gnre:",X)}if(!X&&!T.image_url)throw new Error("L'URL de l'image ou un fichier tlvers est requis.");const Q={alt_text:T.alt_text||"",image_url:X||T.image_url,is_active:T.is_active,uploaded_by:r.id,updated_at:new Date().toISOString()};console.log("Donnes  sauvegarder:",Q);let se;c?se=await Oe.from("welcome_popups").update(Q).eq("id",c.id).select():se=await Oe.from("welcome_popups").insert(Q).select();const{data:te,error:ce}=se;if(ce)throw console.error("Erreur Supabase:",ce),ce;console.log("Popup sauvegard avec succs:",te),n({title:"Succs",description:`Popup ${c?"mis  jour":"cr"} avec succs.`}),I(),await M()}catch(X){console.error("Erreur de sauvegarde:",X),n({title:"Erreur",description:`La sauvegarde a chou: ${X.message}`,variant:"destructive"})}finally{g(!1)}},U=H=>{w(H),y(!0)},q=async()=>{if(j)try{const{error:H}=await Oe.from("welcome_popups").delete().eq("id",j);if(H)throw H;n({title:"Succs",description:"Popup supprim avec succs."}),a(X=>X.filter(Q=>Q.id!==j)),t&&t()}catch(H){console.error("Erreur de suppression:",H),n({title:"Erreur",description:"La suppression a chou.",variant:"destructive"})}finally{y(!1),w(null)}},re=async H=>{try{const{error:X}=await Oe.from("welcome_popups").update({is_active:!H.is_active,updated_at:new Date().toISOString()}).eq("id",H.id);if(X)throw X;n({title:"Succs",description:`Popup ${H.is_active?"dsactiv":"activ"}.`}),a(Q=>Q.map(se=>se.id===H.id?{...se,is_active:!H.is_active}:se)),t&&t()}catch(X){console.error("Erreur de changement de statut:",X),n({title:"Erreur",description:"Le changement de statut a chou.",variant:"destructive"})}};return i.jsxs(at,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between",children:[i.jsx(Tt,{className:"text-white",children:" Gestion des Popups de Bienvenue"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Ee,{onClick:M,variant:"outline",size:"sm",disabled:o,className:"flex items-center gap-2",children:[i.jsx(Hh,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Actualiser"]}),i.jsxs(Ee,{onClick:()=>{I(),h(!0)},className:"flex items-center gap-2",children:[i.jsx(ew,{className:"w-4 h-4"}),"Nouveau Popup"]})]})]}),i.jsxs(st,{children:[f&&i.jsxs("form",{onSubmit:V,className:"space-y-4 mb-8 p-4 border border-border/50 rounded-xl shadow-inner bg-background/30",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:c?" Modifier le Popup":" Ajouter un Popup"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"alt_text",className:"text-white",children:"Texte alternatif (pour le SEO)"}),i.jsx(vt,{id:"alt_text",value:T.alt_text,onChange:H=>P({...T,alt_text:H.target.value}),placeholder:"Description de l'image",className:"bg-white/10 border-white/20 text-white"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"image_url",className:"text-white",children:"URL de l'image (ou tlverser)"}),i.jsx(vt,{id:"image_url",value:T.image_url,onChange:H=>P({...T,image_url:H.target.value}),placeholder:"https://...",className:"bg-white/10 border-white/20 text-white"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"file-upload",className:"text-white",children:"Tlverser une image"}),i.jsx(vt,{id:"file-upload",type:"file",accept:"image/*",onChange:H=>k(H.target.files[0]),className:"bg-white/10 border-white/20 text-white file:text-white"}),C&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("p",{className:"text-sm text-green-300",children:["Fichier slectionn: ",C.name]}),i.jsx("img",{src:URL.createObjectURL(C),alt:"Aperu",className:"w-32 h-32 object-contain mt-2 rounded border border-white/20"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{id:"is_active",checked:T.is_active,onCheckedChange:H=>P({...T,is_active:H}),className:"data-[state=checked]:bg-primary"}),i.jsx(Qe,{htmlFor:"is_active",className:"text-white cursor-pointer",children:"Actif"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-white/20",children:[i.jsx(Ee,{type:"button",variant:"ghost",onClick:I,className:"text-white hover:bg-white/20",children:"Annuler"}),i.jsxs(Ee,{type:"submit",disabled:v||!T.image_url&&!C,className:"bg-primary hover:bg-primary/90",children:[v&&i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Mettre  jour":"Enregistrer"]})]})]}),o?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx(Dt,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-white",children:"Chargement des popups..."})]}):s.length===0?i.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-white/20 rounded-xl",children:[i.jsx("p",{className:"text-white/70 mb-4",children:"Aucun popup de bienvenue configur"}),i.jsxs(Ee,{onClick:()=>{I(),h(!0)},variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:[i.jsx(ew,{className:"w-4 h-4 mr-2"}),"Crer votre premier popup"]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(H=>i.jsxs("div",{className:`flex flex-col p-4 rounded-xl shadow-sm gap-4 transition-all ${H.is_active?"bg-gradient-to-br from-green-900/20 to-green-900/5 border border-green-500/30":"bg-gradient-to-br from-red-900/20 to-red-900/5 border border-red-500/30"}`,children:[i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${H.is_active?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:`text-sm font-medium ${H.is_active?"text-green-300":"text-red-300"}`,children:H.is_active?"Actif":"Inactif"})]}),i.jsx("span",{className:"text-xs text-white/50",children:new Date(H.created_at).toLocaleDateString()})]}),i.jsx("div",{className:"relative w-full h-48 mb-3",children:i.jsx("img",{src:H.image_url,alt:H.alt_text,className:"w-full h-full object-cover rounded-lg",onError:X=>{X.target.src="https://placehold.co/400x300/1a1a2e/ffffff?text=Image+non+charge"}})}),i.jsx("p",{className:"font-medium text-white mb-1 truncate",children:H.alt_text||"Image sans description"}),i.jsxs("p",{className:"text-xs text-white/60 truncate",children:["URL: ",H.image_url.substring(0,30),"..."]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>re(H),className:"h-8 w-8 hover:bg-white/20",title:H.is_active?"Dsactiver":"Activer",children:H.is_active?i.jsx(_3,{className:"h-4 w-4 text-yellow-400"}):i.jsx(j3,{className:"h-4 w-4 text-green-400"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>B(H),className:"h-8 w-8 hover:bg-white/20",title:"Modifier",children:i.jsx(sx,{className:"h-4 w-4 text-blue-400"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>U(H.id),className:"h-8 w-8 hover:bg-white/20",title:"Supprimer",children:i.jsx(kl,{className:"h-4 w-4 text-red-400"})})]}),i.jsxs("span",{className:"text-xs text-white/40",children:["ID: ",H.id.substring(0,8),"..."]})]})]},H.id))}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 pt-4 border-t border-white/10",children:[i.jsxs("div",{children:["Total: ",s.length," popup",s.length>1?"s":"","  Actifs: ",s.filter(H=>H.is_active).length,"  Inactifs:"," ",s.filter(H=>!H.is_active).length]}),i.jsxs("div",{className:"text-xs",children:["Dernire mise  jour: ",new Date().toLocaleTimeString()]})]})]})]}),i.jsx(jo,{open:_,onOpenChange:y,children:i.jsxs(Ki,{className:"bg-gray-900 border border-gray-700",children:[i.jsxs(Yi,{children:[i.jsx(Xi,{className:"text-white",children:"tes-vous sr ?"}),i.jsx(Ji,{className:"text-gray-300",children:"Cette action est irrversible. Le popup sera dfinitivement supprim de la base de donnes."})]}),i.jsxs(No,{children:[i.jsx(Qi,{className:"bg-gray-800 text-white border-gray-700 hover:bg-gray-700",children:"Annuler"}),i.jsx(Zi,{onClick:q,className:"bg-red-600 hover:bg-red-700 text-white",children:"Supprimer"})]})]})})]})},uO=({onRefresh:e})=>{var q;const{t}=Dn(),{user:r}=Pr(),{userProfile:n}=Un(),[s,a]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(null),[f,h]=b.useState(""),[v,g]=b.useState(""),[_,y]=b.useState(!1),[j,w]=b.useState(""),[C,k]=b.useState([]),[T,P]=b.useState(!0),[D,M]=b.useState(null),I=b.useCallback(async()=>{try{let re=Oe.from("profiles").select("*");(n==null?void 0:n.user_type)==="secretary"&&(re=re.eq("country",n.country));const{data:H,error:X}=await re;if(X)throw X;a(H||[])}catch{ze({title:t("common.error_title"),description:"Impossible de charger les utilisateurs.",variant:"destructive"})}},[t,n]),B=b.useCallback(async()=>{P(!0);try{const{data:re,error:H}=await Oe.from("admin_logs").select("id, created_at, details, target_user:target_id (full_name, email)").eq("actor_id",r.id).eq("action_type","user_credited").order("created_at",{ascending:!1}).limit(10);if(H)throw H;k(re.filter(X=>{var Q;return!((Q=X.details)!=null&&Q.reversed)})||[])}catch{ze({title:t("common.error_title"),description:"Impossible de charger l'historique.",variant:"destructive"})}finally{P(!1)}},[r.id,t]);b.useEffect(()=>{I(),B()},[I,B]),b.useEffect(()=>{if(j===""){l([]);return}const re=j.toLowerCase(),H=s.filter(X=>{var Q,se;return((Q=X.full_name)==null?void 0:Q.toLowerCase().includes(re))||((se=X.email)==null?void 0:se.toLowerCase().includes(re))});l(H)},[j,s]);const V=async re=>{if(re.preventDefault(),!c||!f||parseInt(f)<=0){ze({title:t("common.error_title"),description:"Veuillez remplir tous les champs.",variant:"destructive"});return}y(!0);try{const{data:H,error:X}=await Oe.rpc("credit_user_coins",{p_user_id:c.id,p_amount:parseInt(f),p_reason:v,p_creditor_id:r.id});if(X)throw new Error(X.message);if(!H.success)throw new Error(H.message);ze({title:"Succs",description:`${c.full_name} a t crdit de ${f} pices.`}),d(null),h(""),g(""),w(""),B(),e&&e()}catch(H){ze({title:t("common.error_title"),description:H.message,variant:"destructive"})}finally{y(!1)}},U=async()=>{if(D){y(!0);try{const{data:re,error:H}=await Oe.rpc("reverse_credit",{p_log_id:D.id,p_reverser_id:r.id});if(H)throw new Error(H.message);if(!re.success)throw new Error(re.message);ze({title:"Succs",description:"Le crdit a t annul."}),B(),e&&e()}catch(re){ze({title:t("common.error_title"),description:re.message,variant:"destructive"})}finally{y(!1),M(null)}}};return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(at,{className:"glass-effect",children:[i.jsx(Et,{children:i.jsx(Tt,{children:t("secretary_dashboard.credit_form.title")})}),i.jsx(st,{children:i.jsxs("form",{onSubmit:V,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"user-search",children:t("secretary_dashboard.credit_form.search_user_label")}),i.jsxs("div",{className:"relative",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{id:"user-search",placeholder:t("secretary_dashboard.credit_form.search_user_placeholder"),value:j,onChange:re=>w(re.target.value),className:"pl-10"})]})]}),j&&i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"user-select",children:t("secretary_dashboard.credit_form.user_label")}),i.jsxs(aa,{onValueChange:re=>d(s.find(H=>H.id===re)),children:[i.jsx(Jn,{id:"user-select",children:i.jsx(sa,{placeholder:t("secretary_dashboard.credit_form.select_user_placeholder")})}),i.jsx(Zn,{children:o.map(re=>i.jsxs(ur,{value:re.id,children:[re.full_name," (",re.email,")"]},re.id))})]})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"amount",children:t("secretary_dashboard.credit_form.amount_label")}),i.jsx(vt,{id:"amount",type:"number",value:f,onChange:re=>h(re.target.value),placeholder:t("secretary_dashboard.credit_form.amount_placeholder")})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"reason",children:t("secretary_dashboard.credit_form.reason_label")}),i.jsx(vt,{id:"reason",type:"text",value:v,onChange:re=>g(re.target.value),placeholder:t("secretary_dashboard.credit_form.reason_placeholder")})]}),i.jsxs(Ee,{type:"submit",disabled:_||!c,className:"w-full",children:[_?i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(S3,{className:"w-4 h-4 mr-2"}),t("secretary_dashboard.credit_form.submit_button")]})]})})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(at,{className:"glass-effect",children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Mes 10 derniers crdits"}),i.jsx(nn,{children:"Liste de vos crdits les plus rcents qui n'ont pas t annuls."})]}),i.jsx(st,{children:T?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"animate-spin text-primary"})}):C.length>0?i.jsx("div",{className:"space-y-3",children:C.map(re=>{var H;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:(H=re.target_user)==null?void 0:H.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(re.created_at).toLocaleString()})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"font-bold flex items-center gap-1",children:[re.details.amount," ",i.jsx(dn,{className:"w-4 h-4 text-yellow-400"})]}),i.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>M(re),children:i.jsx(u2,{className:"w-4 h-4 text-red-500"})})]})]},re.id)})}):i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun crdit effectu rcemment."})})]})}),i.jsx(jo,{open:!!D,onOpenChange:()=>M(null),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Confirmer l'annulation"}),i.jsxs(Ji,{children:["Voulez-vous vraiment annuler ce crdit de ",D==null?void 0:D.details.amount," pices pour ",(q=D==null?void 0:D.target_user)==null?void 0:q.full_name,"? Cette action est irrversible et dduira le montant du solde de l'utilisateur."]})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Non"}),i.jsx(Zi,{onClick:U,children:"Oui, annuler"})]})]})})]})},Mtt=()=>{const{userProfile:e,adminConfig:t}=Un(),[r,n]=b.useState([]),[s,a]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState({totalCoins:0,totalFCFA:0,totalEUR:0,totalUSD:0}),f=(t==null?void 0:t.coin_to_fcfa_rate)||10,h=(t==null?void 0:t.currency_eur_rate)||650,v=(t==null?void 0:t.currency_usd_rate)||550,g=b.useCallback(async()=>{if(e!=null&&e.country){a(!0);try{const{data:y,error:j}=await Oe.from("profiles").select("id").in("user_type",["super_admin","secretary"]);if(j)throw j;const w=y.map(V=>V.id);let C=Oe.from("admin_logs").select(`
          id,
          created_at,
          details,
          actor:actor_id (full_name, user_type),
          target_user:target_id (full_name, email, country, city)
        `).in("actor_id",w).eq("action_type","user_credited").eq("target_user.country",e.country).order("created_at",{ascending:!1});o&&(C=C.or(`target_user.full_name.ilike.%${o}%,target_user.email.ilike.%${o}%`));const{data:k,error:T}=await C;if(T)throw T;const P=k.filter(V=>{var U;return!((U=V.details)!=null&&U.reversed)});n(P);const D=P.reduce((V,U)=>{var q;return V+(((q=U.details)==null?void 0:q.amount)||0)},0),M=D*f,I=M/h,B=M/v;d({totalCoins:D,totalFCFA:M,totalEUR:I,totalUSD:B})}catch(y){ze({title:"Erreur",description:"Impossible de charger l'historique des crdits.",variant:"destructive"}),console.error(y)}finally{a(!1)}}},[e==null?void 0:e.country,o,f,h,v]);b.useEffect(()=>{g()},[g]);const _=(y,j="FCFA")=>new Intl.NumberFormat("fr-FR",{style:j!=="FCFA"?"currency":void 0,currency:j==="EUR"?"EUR":j==="USD"?"USD":void 0,minimumFractionDigits:0,maximumFractionDigits:0}).format(y)+(j==="FCFA"?" FCFA":"");return i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Go,{className:"w-6 h-6 text-green-500"}),"Historique des Crdits",i.jsxs(nr,{variant:"secondary",className:"ml-2",children:["Zone: ",e==null?void 0:e.country]})]}),i.jsx("p",{className:"text-muted-foreground",children:"Liste des utilisateurs de votre pays crdits par les Super Admins et secrtaires."})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsx(at,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200",children:i.jsx(st,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Total Pices"}),i.jsx("p",{className:"text-2xl font-bold text-amber-900",children:c.totalCoins.toLocaleString("fr-FR")})]}),i.jsx("div",{className:"p-2 bg-amber-500 rounded-full",children:i.jsx(dn,{className:"w-6 h-6 text-white"})})]})})}),i.jsx(at,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:i.jsxs(st,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:"Valeur FCFA"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:_(c.totalFCFA)})]}),i.jsx("div",{className:"p-2 bg-green-500 rounded-full",children:i.jsx(Go,{className:"w-6 h-6 text-white"})})]}),i.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Taux: 1 = ",f," FCFA"]})]})}),i.jsx(at,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:i.jsxs(st,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Valeur EUR"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:_(c.totalEUR,"EUR")})]}),i.jsx("div",{className:"p-2 bg-blue-500 rounded-full",children:i.jsx(Oge,{className:"w-6 h-6 text-white"})})]}),i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["1 = ",h.toLocaleString("fr-FR")," FCFA"]})]})}),i.jsx(at,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:i.jsxs(st,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Valeur USD"}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:_(c.totalUSD,"USD")})]}),i.jsx("div",{className:"p-2 bg-purple-500 rounded-full",children:i.jsx(yc,{className:"w-6 h-6 text-white"})})]}),i.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["1$ = ",v.toLocaleString("fr-FR")," FCFA"]})]})})]}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par nom ou email d'utilisateur...",value:o,onChange:y=>l(y.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsxs("span",{children:[r.length," crdit(s) distribus"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsxs("span",{children:["Moyenne: ",r.length>0?Math.round(c.totalCoins/r.length):0," par crdit"]})]})]}),s?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"animate-spin text-primary w-8 h-8"})}):i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Utilisateur Crdit"}),i.jsx(Hr,{children:"Localisation"}),i.jsx(Hr,{children:"Montant"}),i.jsx(Hr,{children:"Valeur FCFA"}),i.jsx(Hr,{children:"Crdit par"}),i.jsx(Hr,{children:"Date"})]})}),i.jsx(Vd,{children:r.length===0?i.jsx(Ja,{children:i.jsxs(Ar,{colSpan:"6",className:"text-center py-8 text-muted-foreground",children:[i.jsx(dn,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Aucun crdit trouv dans votre zone."})]})}):r.map(y=>{var C,k,T,P,D,M,I,B;const j=((C=y.details)==null?void 0:C.amount)||0,w=j*f;return i.jsxs(Ja,{className:"hover:bg-muted/50",children:[i.jsxs(Ar,{children:[i.jsx("p",{className:"font-semibold",children:((k=y.target_user)==null?void 0:k.full_name)||"Utilisateur inconnu"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(T=y.target_user)==null?void 0:T.email})]}),i.jsxs(Ar,{children:[i.jsx("p",{className:"font-medium",children:((P=y.target_user)==null?void 0:P.city)||"N/A"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(D=y.target_user)==null?void 0:D.country})]}),i.jsx(Ar,{children:i.jsxs("div",{className:"flex items-center gap-1 font-bold text-amber-600",children:[j.toLocaleString("fr-FR"),i.jsx(dn,{className:"w-4 h-4"})]})}),i.jsx(Ar,{className:"text-green-600 font-semibold",children:_(w)}),i.jsxs(Ar,{children:[i.jsx("p",{className:"font-medium",children:(M=y.actor)==null?void 0:M.full_name}),i.jsx(nr,{variant:"outline",className:"text-xs capitalize",children:((B=(I=y.actor)==null?void 0:I.user_type)==null?void 0:B.replace("_"," "))||"Admin"})]}),i.jsxs(Ar,{className:"text-sm text-muted-foreground",children:[new Date(y.created_at).toLocaleDateString("fr-FR"),i.jsx("br",{}),i.jsx("span",{className:"text-xs",children:new Date(y.created_at).toLocaleTimeString("fr-FR")})]})]},y.id)})})]})]})]})};var Itt=Symbol("radix.slottable");function Ltt(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Itt,t}var[_A,edt]=eo("Tooltip",[Up]),jA=Up(),Doe="TooltipProvider",$tt=700,dO="tooltip.open",[Btt,LM]=_A(Doe),Roe=e=>{const{__scopeTooltip:t,delayDuration:r=$tt,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(Btt,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};Roe.displayName=Doe;var Zw="Tooltip",[ztt,NA]=_A(Zw),Moe=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=LM(Zw,e.__scopeTooltip),d=jA(t),[f,h]=b.useState(null),v=Ac(),g=b.useRef(0),_=o??c.disableHoverableContent,y=l??c.delayDuration,j=b.useRef(!1),[w,C]=_o({prop:n,defaultProp:s??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(dO))):c.onClose(),a==null||a(M)},caller:Zw}),k=b.useMemo(()=>w?j.current?"delayed-open":"instant-open":"closed",[w]),T=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,j.current=!1,C(!0)},[C]),P=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,C(!1)},[C]),D=b.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{j.current=!0,C(!0),g.current=0},y)},[y,C]);return b.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),i.jsx(I3,{...d,children:i.jsx(ztt,{scope:t,contentId:v,open:w,stateAttribute:k,trigger:f,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?D():T()},[c.isOpenDelayedRef,D,T]),onTriggerLeave:b.useCallback(()=>{_?P():(window.clearTimeout(g.current),g.current=0)},[P,_]),onOpen:T,onClose:P,disableHoverableContent:_,children:r})})};Moe.displayName=Zw;var fO="TooltipTrigger",Ioe=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=NA(fO,r),a=LM(fO,r),o=jA(r),l=b.useRef(null),c=mn(t,l,s.onTriggerChange),d=b.useRef(!1),f=b.useRef(!1),h=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(j_,{asChild:!0,...o,children:i.jsx(_r.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Wt(e.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Wt(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Wt(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Wt(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Wt(e.onBlur,s.onClose),onClick:Wt(e.onClick,s.onClose)})})});Ioe.displayName=fO;var Utt="TooltipPortal",[tdt,Vtt]=_A(Utt,{forceMount:void 0}),Vx="TooltipContent",Loe=b.forwardRef((e,t)=>{const r=Vtt(Vx,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=NA(Vx,e.__scopeTooltip);return i.jsx(Pl,{present:n||o.open,children:o.disableHoverableContent?i.jsx($oe,{side:s,...a,ref:t}):i.jsx(qtt,{side:s,...a,ref:t})})}),qtt=b.forwardRef((e,t)=>{const r=NA(Vx,e.__scopeTooltip),n=LM(Vx,e.__scopeTooltip),s=b.useRef(null),a=mn(t,s),[o,l]=b.useState(null),{trigger:c,onClose:d}=r,f=s.current,{onPointerInTransitChange:h}=n,v=b.useCallback(()=>{l(null),h(!1)},[h]),g=b.useCallback((_,y)=>{const j=_.currentTarget,w={x:_.clientX,y:_.clientY},C=Ytt(w,j.getBoundingClientRect()),k=Xtt(w,C),T=Jtt(y.getBoundingClientRect()),P=Qtt([...k,...T]);l(P),h(!0)},[h]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(c&&f){const _=j=>g(j,f),y=j=>g(j,c);return c.addEventListener("pointerleave",_),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",y)}}},[c,f,g,v]),b.useEffect(()=>{if(o){const _=y=>{const j=y.target,w={x:y.clientX,y:y.clientY},C=(c==null?void 0:c.contains(j))||(f==null?void 0:f.contains(j)),k=!Ztt(w,o);C?v():k&&(v(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,f,o,d,v]),i.jsx($oe,{...e,ref:a})}),[Wtt,Htt]=_A(Zw,{isInside:!1}),Gtt=Ltt("TooltipContent"),$oe=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=NA(Vx,r),d=jA(r),{onClose:f}=c;return b.useEffect(()=>(document.addEventListener(dO,f),()=>document.removeEventListener(dO,f)),[f]),b.useEffect(()=>{if(c.trigger){const h=v=>{const g=v.target;g!=null&&g.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),i.jsx(Yg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:i.jsxs(L3,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Gtt,{children:n}),i.jsx(Wtt,{scope:r,isInside:!0,children:i.jsx(G0e,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Loe.displayName=Vx;var Boe="TooltipArrow",Ktt=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=jA(r);return Htt(Boe,r).isInside?null:i.jsx($3,{...s,...n,ref:t})});Ktt.displayName=Boe;function Ytt(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Xtt(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Jtt(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Ztt(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,f=l.y,h=c.x,v=c.y;f>n!=v>n&&r<(h-d)*(n-f)/(v-f)+d&&(s=!s)}return s}function Qtt(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ert(t)}function ert(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var trt=Roe,rrt=Moe,nrt=Ioe,zoe=Loe;const art=trt,srt=rrt,irt=nrt,Uoe=Se.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(zoe,{ref:n,sideOffset:t,className:Ht("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Uoe.displayName=zoe.displayName;const ort=({badge:e,onToggle:t})=>{const n=(s=>{const a={starter:{gradient:"from-gray-500 to-gray-700",icon:"",title:"Ambassadeur de Ville"},business:{gradient:"from-green-500 to-green-700",icon:"",title:"Ambassadeur Rgional"},premium:{gradient:"from-yellow-500 to-yellow-700",icon:"",title:"Ambassadeur National"}};return a[e.license_type]||a.starter})(e.license_type);return i.jsxs(at,{className:`overflow-hidden transition-all duration-300 ${e.is_active?"border-primary/50 shadow-lg":"border-border opacity-70"} rounded-xl`,children:[i.jsx(Et,{className:`bg-gradient-to-r ${n.gradient} text-white p-4`,children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-2xl",children:n.icon}),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-lg text-white",children:e.partner_name}),i.jsx(nn,{className:"text-white/80 text-sm",children:n.title})]})]})})}),i.jsxs(st,{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[i.jsx(wo,{className:"w-4 h-4"})," Zone"]}),i.jsx("span",{className:"font-semibold",children:e.zone})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[i.jsx(iX,{className:"w-4 h-4"})," ID Badge"]}),i.jsx("code",{className:"text-xs font-mono bg-muted px-2 py-1 rounded",children:e.badge_id})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t mt-3",children:[i.jsx("label",{htmlFor:`toggle-${e.id}`,className:"text-sm font-medium",children:e.is_active?"Activ":"Dsactiv"}),i.jsx(xo,{id:`toggle-${e.id}`,checked:e.is_active,onCheckedChange:s=>t(e.id,s)})]})]})]})},lrt=()=>{const{badges:e,loading:t,toggleBadgeStatus:r,refreshBadges:n}=kte();return t?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})}):i.jsxs(at,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[i.jsxs(Et,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(Tt,{className:"text-white",children:"Gestion des Badges Partenaires"}),i.jsxs(nn,{children:[e.filter(s=>s.is_active).length," badge(s) actif(s) sur ",e.length," au total."]})]}),i.jsxs(Ee,{onClick:n,size:"sm",variant:"outline",children:[i.jsx(Hh,{className:"w-4 h-4 mr-2"})," Actualiser"]})]}),i.jsxs(st,{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(s=>i.jsx(ort,{badge:s,onToggle:r},s.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(iX,{className:"w-12 h-12 mx-auto mb-4"}),i.jsx("p",{className:"text-lg",children:"Aucun badge partenaire trouv."})]})]})]})},aW=({users:e,onRefresh:t})=>{const{userProfile:r}=Un(),[n,s]=b.useState(!1),[a,o]=b.useState(""),[l,c]=b.useState(!1),[d,f]=b.useState([]),h=(r==null?void 0:r.user_type)==="super_admin",v=(r==null?void 0:r.user_type)==="admin";b.useEffect(()=>{if(h){const T=e.filter(P=>P.user_type==="admin");f(T)}},[e,h]);const g=b.useMemo(()=>h?e.filter(T=>T.user_type==="secretary"):v?e.filter(T=>T.user_type==="secretary"&&T.appointed_by===r.id):[],[e,h,v,r]),_=b.useMemo(()=>e.filter(T=>(T.user_type==="user"||T.user_type==="organizer")&&T.country===r.country),[e,r]),y=async(T,P)=>{await Oe.from("admin_logs").insert({actor_id:r.id,action_type:T,target_id:P})},j=async(T,P,D=null)=>{c(!0);try{const{error:M}=await Oe.from("profiles").update({user_type:P,appointed_by:P==="secretary"?D:null}).eq("id",T);if(M)throw M;await y(P==="secretary"?"secretary_appointed":"secretary_revoked",T),ze({title:"Rle mis  jour avec succs"}),t(),s(!1),o("")}catch(M){ze({title:"Erreur",description:M.message,variant:"destructive"})}finally{c(!1)}},w=()=>{if(!a){ze({title:"Veuillez slectionner un utilisateur",variant:"destructive"});return}j(a,"secretary",r.id)},C=T=>{j(T,"user")},k=T=>{if(!h)return null;const P=d.find(D=>D.id===T);return P?{name:P.full_name,country:P.country}:null};return i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[i.jsxs(Et,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsx(Tt,{className:"text-white",children:"Gestion des secrtaires"}),(h||v)&&i.jsxs(Ee,{onClick:()=>s(!0),children:[i.jsx(S3,{className:"w-4 h-4 mr-2"}),"Nommer un secrtaire"]})]}),i.jsx(st,{children:i.jsxs("div",{className:"space-y-4",children:[g.map(T=>{var D,M;const P=k(T.appointed_by);return i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-xl shadow-sm gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Xu,{className:"w-12 h-12",children:[i.jsx(Ju,{src:T.avatar_url}),i.jsx(Zu,{className:"bg-purple-500 text-white",children:(M=(D=T.full_name)==null?void 0:D.charAt(0))==null?void 0:M.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:T.full_name}),i.jsx("p",{className:"text-sm text-gray-400",children:T.email}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[i.jsx(nr,{className:"bg-purple-500 text-white text-xs",children:"Secrtaire"}),P&&i.jsxs(nr,{variant:"secondary",className:"text-xs",children:[i.jsx(kp,{className:"w-3 h-3 mr-1"})," Nomm par: ",P.name]}),(P==null?void 0:P.country)&&i.jsxs(nr,{variant:"outline",className:"text-xs",children:[i.jsx(Lu,{className:"w-3 h-3 mr-1"})," ",P.country]})]})]})]}),i.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:i.jsxs(Ee,{size:"sm",variant:"destructive",onClick:()=>C(T.id),disabled:l,children:[l?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):i.jsx(kl,{className:"w-4 h-4 mr-2"}),"Rvoquer"]})})]},T.id)}),g.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(aw,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400",children:"Aucun secrtaire nomm"})]})]})})]}),i.jsx(Ao,{open:n,onOpenChange:s,children:i.jsxs(to,{children:[i.jsxs(ko,{children:[i.jsx(Eo,{children:"Nommer un nouveau secrtaire"}),i.jsx(Ol,{children:"Slectionnez un utilisateur de votre zone pour lui attribuer le rle de secrtaire."})]}),i.jsx("div",{className:"py-4",children:i.jsxs(aa,{onValueChange:o,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionnez un utilisateur..."})}),i.jsx(Zn,{children:_.map(T=>i.jsxs(ur,{value:T.id,children:[T.full_name," (",T.email,")"]},T.id))})]})}),i.jsxs(Tc,{children:[i.jsx(Ee,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),i.jsx(Ee,{onClick:w,disabled:l||!a,children:l?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):"Confirmer"})]})]})})]})},crt=5*60*1e3,sW=50,urt=1e4,drt=({country:e,initialTransactions:t})=>{const[r,n]=b.useState([]),[s,a]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState("all"),[f,h]=b.useState(""),[v,g]=b.useState(0),[_,y]=b.useState(!0);b.useState(0);const j=b.useRef({}),w=b.useCallback(async(P=!1,D=0)=>{const M=performance.now(),I=`${e||"all"}-${c}-${f}-${v}`;if(!P&&j.current[I]&&Date.now()-j.current[I].timestamp<crt){console.log("Using cached transactions"),n(j.current[I].data),a(!1);return}a(!0),l(null);try{const B=new Promise((X,Q)=>setTimeout(()=>Q(new Error("Request timed out")),urt)),V=(async()=>{let X;const Q=v*sW,se=Q+sW-1;e?(X=Oe.from("transactions").select("*",{count:"exact"}).eq("country",e).order("created_at",{ascending:!1}).range(Q,se),c!=="all"&&(X=X.eq("transaction_type",c)),f&&(X=X.ilike("description",`%${f}%`))):(X=Oe.from("coin_spending").select(`
              id, amount, description, created_at, purpose,
              user:user_id (full_name, email)
            `,{count:"exact"}).order("created_at",{ascending:!1}).range(Q,se),c!=="all"&&(X=X.eq("purpose",c)),f&&(X=X.or(`description.ilike.%${f}%`)));const{data:te,error:ce,count:xe}=await X;if(ce)throw ce;return{data:te,count:xe}})(),{data:U,count:q}=await Promise.race([V,B]),re=U.map(X=>{var Q,se;return{id:X.id,user_full_name:X.user_full_name||((Q=X.user)==null?void 0:Q.full_name)||"Utilisateur",user_email:X.user_email||((se=X.user)==null?void 0:se.email)||"-",description:X.description||X.purpose,amount:X.amount||X.amount_pi,type:X.type||X.purpose||X.transaction_type,created_at:X.created_at,status:X.status||"completed"}});n(X=>P?[...X,...re]:re),y(r.length+re.length<q),j.current[I]={data:re,timestamp:Date.now()};const H=performance.now()-M;console.log(`Transactions fetched in ${H.toFixed(2)}ms`)}catch(B){if(console.error("Error fetching transactions:",B),D<3){const V=Math.pow(2,D)*1e3;console.log(`Retrying in ${V}ms (Attempt ${D+1}/3)...`),setTimeout(()=>w(P,D+1),V)}else l(B.message||"Erreur de chargement"),ze({title:"Erreur",description:"Impossible de charger les transactions.",variant:"destructive"})}finally{a(!1)}},[e,c,f,v]);b.useEffect(()=>{g(0),w(!1)},[w]);const C=()=>{if(r.length===0){ze({title:"Aucune donne  exporter",variant:"destructive"});return}const P=r.map(D=>({id:D.id,user:D.user_full_name,email:D.user_email,description:D.description,amount:D.amount,type:D.type,date:new Date(D.created_at).toLocaleString("fr-FR"),status:D.status}));Foe({data:P,headers:[{label:"ID",key:"id"},{label:"Utilisateur",key:"user"},{label:"Email",key:"email"},{label:"Description",key:"description"},{label:"Montant",key:"amount"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"Statut",key:"status"}],sheetName:"Transactions",fileName:`transactions_${new Date().toISOString().split("T")[0]}.xlsx`}),ze({title:"Succs",description:"Exportation termine."})},k=P=>P>0?i.jsx(yge,{className:"w-4 h-4 text-red-400"}):i.jsx(gge,{className:"w-4 h-4 text-green-400"}),T=P=>P>0?"text-red-400":"text-green-400";return i.jsxs(at,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[i.jsxs(Et,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[i.jsxs(Tt,{className:"text-white flex items-center gap-2",children:[" Transactions ",s&&i.jsx(Dt,{className:"w-4 h-4 animate-spin text-muted-foreground"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>w(!1),disabled:s,children:[i.jsx(Hh,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Actualiser"]}),i.jsxs(Ee,{variant:"outline",size:"sm",onClick:C,children:[i.jsx(ey,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(vt,{type:"text",placeholder:"Rechercher...",className:"pl-10 w-full",value:f,onChange:P=>h(P.target.value)})]}),i.jsxs(aa,{value:c,onValueChange:d,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Tous les types"})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"all",children:"Tous les types"}),i.jsx(ur,{value:"manual_credit",children:"Crdit (Manuel)"}),i.jsx(ur,{value:"raffle_ticket",children:"Ticket Tombola"}),i.jsx(ur,{value:"vote",children:"Vote"}),i.jsx(ur,{value:"ticket_purchase",children:"Achat Ticket"}),i.jsx(ur,{value:"stand_rental",children:"Location Stand"})]})]})]}),o&&i.jsxs("div",{className:"p-4 mb-4 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center justify-between text-destructive",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ru,{className:"w-5 h-5"}),i.jsx("span",{children:o})]}),i.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>w(!1),className:"border-destructive/30 hover:bg-destructive/20",children:"Ressayer"})]}),s&&r.length===0?i.jsxs("div",{className:"space-y-3",children:[i.jsx(ys,{className:"h-12 w-full"}),i.jsx(ys,{className:"h-12 w-full"}),i.jsx(ys,{className:"h-12 w-full"}),i.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse",children:"Chargement des transactions..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto rounded-md border border-gray-800",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black/20",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left",children:"ID"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Utilisateur"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Description"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Montant"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left",children:"Statut"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-800",children:r.length>0?r.map(P=>i.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500",children:[P.id.slice(0,8),"..."]}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("div",{className:"font-medium text-white",children:P.user_full_name}),i.jsx("div",{className:"text-xs text-gray-500",children:P.user_email})]}),i.jsx("td",{className:"px-6 py-4 text-gray-300",children:P.description||P.type}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-1",children:[k(P.amount),i.jsx("span",{className:`font-bold ${T(P.amount)}`,children:Math.abs(P.amount)}),i.jsx(dn,{className:"w-3 h-3 text-yellow-500"})]})}),i.jsxs("td",{className:"px-6 py-4 text-gray-400",children:[new Date(P.created_at).toLocaleDateString(),i.jsx("span",{className:"block text-xs opacity-70",children:new Date(P.created_at).toLocaleTimeString()})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(nr,{variant:P.status==="completed"?"success":P.status==="pending"?"warning":"destructive",children:P.status})})]},P.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"Aucune transaction trouve"})})})]})}),_&&i.jsx("div",{className:"mt-4 text-center",children:i.jsxs(Ee,{variant:"secondary",onClick:()=>{g(P=>P+1),w(!0)},disabled:s,children:[s?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Charger plus de transactions"]})})]})]})]})};var yn=function(){return yn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},yn.apply(this,arguments)};function frt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Voe(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function G_(e){return e.mode==="multiple"}function K_(e){return e.mode==="range"}function SA(e){return e.mode==="single"}var hrt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function mrt(e,t){return Gn(e,"LLLL y",t)}function prt(e,t){return Gn(e,"d",t)}function grt(e,t){return Gn(e,"LLLL",t)}function vrt(e){return"".concat(e)}function xrt(e,t){return Gn(e,"cccccc",t)}function yrt(e,t){return Gn(e,"yyyy",t)}var brt=Object.freeze({__proto__:null,formatCaption:mrt,formatDay:prt,formatMonthCaption:grt,formatWeekNumber:vrt,formatWeekdayName:xrt,formatYearCaption:yrt}),wrt=function(e,t,r){return Gn(e,"do MMMM (EEEE)",r)},_rt=function(){return"Month: "},jrt=function(){return"Go to next month"},Nrt=function(){return"Go to previous month"},Srt=function(e,t){return Gn(e,"cccc",t)},Crt=function(e){return"Week n. ".concat(e)},Art=function(){return"Year: "},krt=Object.freeze({__proto__:null,labelDay:wrt,labelMonthDropdown:_rt,labelNext:jrt,labelPrevious:Nrt,labelWeekNumber:Crt,labelWeekday:Srt,labelYearDropdown:Art});function Ert(){var e="buttons",t=hrt,r=uR,n={},s={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:brt,labels:krt,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Trt(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=kc(n):t&&(a=new Date(t,0,1)),s?o=lR(s):r&&(o=new Date(r,11,31)),{fromDate:a?hx(a):void 0,toDate:o?hx(o):void 0}}var qoe=b.createContext(void 0);function Prt(e){var t,r=e.initialProps,n=Ert(),s=Trt(r),a=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(SA(r)||G_(r)||K_(r))&&(c=r.onSelect);var d=yn(yn(yn({},n),r),{captionLayout:l,classNames:yn(yn({},n.classNames),r.classNames),components:yn({},r.components),formatters:yn(yn({},n.formatters),r.formatters),fromDate:a,labels:yn(yn({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:yn(yn({},n.modifiers),r.modifiers),modifiersClassNames:yn(yn({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:yn(yn({},n.styles),r.styles),toDate:o});return i.jsx(qoe.Provider,{value:d,children:e.children})}function js(){var e=b.useContext(qoe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Woe(e){var t=js(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Ort(e){return i.jsx("svg",yn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Hoe(e){var t,r,n=e.onChange,s=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,d=js(),f=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Ort;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Frt(e){var t,r=js(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,f=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var h=[];if(zAe(n,s))for(var v=kc(n),g=n.getMonth();g<=s.getMonth();g++)h.push(SE(v,g));else for(var v=kc(new Date),g=0;g<=11;g++)h.push(SE(v,g));var _=function(j){var w=Number(j.target.value),C=SE(kc(e.displayMonth),w);e.onChange(C)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Hoe;return i.jsx(y,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:_,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(j){return i.jsx("option",{value:j.getMonth(),children:l(j,{locale:o})},j.getMonth())})})}function Drt(e){var t,r=e.displayMonth,n=js(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,f=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,v=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var g=s.getFullYear(),_=a.getFullYear(),y=g;y<=_;y++)v.push(RB(Pte(new Date),y));var j=function(C){var k=RB(kc(r),Number(C.target.value));e.onChange(k)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Hoe;return i.jsx(w,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:j,value:r.getFullYear(),caption:f(r,{locale:o}),children:v.map(function(C){return i.jsx("option",{value:C.getFullYear(),children:f(C,{locale:o})},C.getFullYear())})})}function Rrt(e,t){var r=b.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function Mrt(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&pw(a,s)<0){var d=-1*(c-1);s=Bd(a,d)}return o&&pw(s,o)<0&&(s=o),kc(s)}function Irt(){var e=js(),t=Mrt(e),r=Rrt(t,e.month),n=r[0],s=r[1],a=function(o){var l;if(!e.disableNavigation){var c=kc(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function Lrt(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=kc(e),a=kc(Bd(s,n)),o=pw(a,s),l=[],c=0;c<o;c++){var d=Bd(s,c);l.push(d)}return r&&(l=l.reverse()),l}function $rt(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=kc(e);if(!r)return Bd(l,o);var c=pw(r,e);if(!(c<a))return Bd(l,o)}}function Brt(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=kc(e);if(!r)return Bd(l,-o);var c=pw(l,r);if(!(c<=0))return Bd(l,-o)}}var Goe=b.createContext(void 0);function zrt(e){var t=js(),r=Irt(),n=r[0],s=r[1],a=Lrt(n,t),o=$rt(n,t),l=Brt(n,t),c=function(h){return a.some(function(v){return dR(h,v)})},d=function(h,v){c(h)||(v&&Lte(h,v)?s(Bd(h,1+t.numberOfMonths*-1)):s(h))},f={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(Goe.Provider,{value:f,children:e.children})}function Y_(){var e=b.useContext(Goe);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function iW(e){var t,r=js(),n=r.classNames,s=r.styles,a=r.components,o=Y_().goToMonth,l=function(f){o(Bd(f,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Woe,d=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:d}),i.jsx(Frt,{onChange:l,displayMonth:e.displayMonth}),i.jsx(Drt,{onChange:l,displayMonth:e.displayMonth})]})}function Urt(e){return i.jsx("svg",yn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Vrt(e){return i.jsx("svg",yn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var $S=b.forwardRef(function(e,t){var r=js(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=yn(yn({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",yn({},e,{ref:t,type:"button",className:o,style:l}))});function qrt(e){var t,r,n=js(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,f=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var v=d(e.previousMonth,{locale:a}),g=[o.nav_button,o.nav_button_previous].join(" "),_=f(e.nextMonth,{locale:a}),y=[o.nav_button,o.nav_button_next].join(" "),j=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Vrt,w=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Urt;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx($S,{name:"previous-month","aria-label":v,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(j,{className:o.nav_icon,style:l.nav_icon}):i.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx($S,{name:"next-month","aria-label":_,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(w,{className:o.nav_icon,style:l.nav_icon}):i.jsx(j,{className:o.nav_icon,style:l.nav_icon})})]})}function oW(e){var t=js().numberOfMonths,r=Y_(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(_){return dR(e.displayMonth,_)}),c=l===0,d=l===o.length-1,f=t>1&&(c||!d),h=t>1&&(d||!c),v=function(){n&&a(n)},g=function(){s&&a(s)};return i.jsx(qrt,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:v,onNextClick:g})}function Wrt(e){var t,r=js(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Woe,d;return s?d=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=i.jsx(iW,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=i.jsxs(i.Fragment,{children:[i.jsx(iW,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(oW,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(oW,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:d})}function Hrt(e){var t=js(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function Grt(e,t,r){for(var n=r?Pg(new Date):Wf(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var o=Hl(n,a);s.push(o)}return s}function Krt(){var e=js(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Grt(s,a,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(f,h){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:s}),children:l(f,{locale:s})},h)})]})}function Yrt(){var e,t=js(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Krt;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function Xrt(e){var t=js(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var $M=b.createContext(void 0);function Jrt(e){if(!G_(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx($M.Provider,{value:t,children:e.children})}return i.jsx(Zrt,{initialProps:e.initialProps,children:e.children})}function Zrt(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,o=function(d,f,h){var v,g;(v=t.onDayClick)===null||v===void 0||v.call(t,d,f,h);var _=!!(f.selected&&s&&(n==null?void 0:n.length)===s);if(!_){var y=!!(!f.selected&&a&&(n==null?void 0:n.length)===a);if(!y){var j=n?Voe([],n,!0):[];if(f.selected){var w=j.findIndex(function(C){return bc(d,C)});j.splice(w,1)}else j.push(d);(g=t.onSelect)===null||g===void 0||g.call(t,j,d,f,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var f=a&&n.length>a-1,h=n.some(function(v){return bc(v,d)});return!!(f&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx($M.Provider,{value:c,children:r})}function BM(){var e=b.useContext($M);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Qrt(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?bc(s,e)&&bc(n,e)?void 0:bc(s,e)?{from:s,to:void 0}:bc(n,e)?void 0:AP(n,e)?{from:e,to:s}:{from:n,to:e}:s?AP(e,s)?{from:s,to:e}:{from:e,to:s}:n?Lte(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var zM=b.createContext(void 0);function ent(e){if(!K_(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(zM.Provider,{value:t,children:e.children})}return i.jsx(tnt,{initialProps:e.initialProps,children:e.children})}function tnt(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,o=s.to,l=t.min,c=t.max,d=function(g,_,y){var j,w;(j=t.onDayClick)===null||j===void 0||j.call(t,g,_,y);var C=Qrt(g,n);(w=t.onSelect)===null||w===void 0||w.call(t,C,g,_,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],bc(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),l&&(a&&!o&&f.disabled.push({after:w2(a,l-1),before:Hl(a,l-1)}),a&&o&&f.disabled.push({after:a,before:Hl(a,l-1)}),!a&&o&&f.disabled.push({after:w2(o,l-1),before:Hl(o,l-1)})),c){if(a&&!o&&(f.disabled.push({before:Hl(a,-c+1)}),f.disabled.push({after:Hl(a,c-1)})),a&&o){var h=Pd(o,a)+1,v=c-h;f.disabled.push({before:w2(a,v)}),f.disabled.push({after:Hl(o,v)})}!a&&o&&(f.disabled.push({before:Hl(o,-c+1)}),f.disabled.push({after:Hl(o,c-1)}))}return i.jsx(zM.Provider,{value:{selected:n,onDayClick:d,modifiers:f},children:r})}function UM(){var e=b.useContext(zM);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function k4(e){return Array.isArray(e)?Voe([],e,!0):e!==void 0?[e]:[]}function rnt(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=k4(s)}),t}var qd;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(qd||(qd={}));var nnt=qd.Selected,bh=qd.Disabled,ant=qd.Hidden,snt=qd.Today,n6=qd.RangeEnd,a6=qd.RangeMiddle,s6=qd.RangeStart,int=qd.Outside;function ont(e,t,r){var n,s=(n={},n[nnt]=k4(e.selected),n[bh]=k4(e.disabled),n[ant]=k4(e.hidden),n[snt]=[e.today],n[n6]=[],n[a6]=[],n[s6]=[],n[int]=[],n);return e.fromDate&&s[bh].push({before:e.fromDate}),e.toDate&&s[bh].push({after:e.toDate}),G_(e)?s[bh]=s[bh].concat(t.modifiers[bh]):K_(e)&&(s[bh]=s[bh].concat(r.modifiers[bh]),s[s6]=r.modifiers[s6],s[a6]=r.modifiers[a6],s[n6]=r.modifiers[n6]),s}var Koe=b.createContext(void 0);function lnt(e){var t=js(),r=BM(),n=UM(),s=ont(t,r,n),a=rnt(t.modifiers),o=yn(yn({},s),a);return i.jsx(Koe.Provider,{value:o,children:e.children})}function Yoe(){var e=b.useContext(Koe);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function cnt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function unt(e){return!!(e&&typeof e=="object"&&"from"in e)}function dnt(e){return!!(e&&typeof e=="object"&&"after"in e)}function fnt(e){return!!(e&&typeof e=="object"&&"before"in e)}function hnt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function mnt(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=Pd(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=Pd(e,n)>=0&&Pd(s,e)>=0;return o}return s?bc(s,e):n?bc(n,e):!1}function pnt(e){return oR(e)}function gnt(e){return Array.isArray(e)&&e.every(oR)}function vnt(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(pnt(r))return bc(e,r);if(gnt(r))return r.includes(e);if(unt(r))return mnt(e,r);if(hnt(r))return r.dayOfWeek.includes(e.getDay());if(cnt(r)){var n=Pd(r.before,e),s=Pd(r.after,e),a=n>0,o=s<0,l=AP(r.before,r.after);return l?o&&a:a||o}return dnt(r)?Pd(e,r.after)>0:fnt(r)?Pd(r.before,e)>0:typeof r=="function"?r(e):!1})}function VM(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return vnt(e,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!dR(e,r)&&(s.outside=!0),s}function xnt(e,t){for(var r=kc(e[0]),n=lR(e[e.length-1]),s,a,o=r;o<=n;){var l=VM(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Hl(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=Hl(o,1)}return a||s}var ynt=365;function Xoe(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,d=s.fromDate,f=s.toDate,h=s.locale,v={day:Hl,week:CP,month:Bd,year:TCe,startOfWeek:function(j){return s.ISOWeek?Pg(j):Wf(j,{locale:h,weekStartsOn:c})},endOfWeek:function(j){return s.ISOWeek?Ote(j):cR(j,{locale:h,weekStartsOn:c})}},g=v[r](e,n==="after"?1:-1);n==="before"&&d?g=PCe([d,g]):n==="after"&&f&&(g=OCe([f,g]));var _=!0;if(a){var y=VM(g,a);_=!y.disabled&&!y.hidden}return _?g:l.count>ynt?l.lastFocused:Xoe(g,{moveBy:r,direction:n,context:s,modifiers:a,retry:yn(yn({},l),{count:l.count+1})})}var Joe=b.createContext(void 0);function bnt(e){var t=Y_(),r=Yoe(),n=b.useState(),s=n[0],a=n[1],o=b.useState(),l=o[0],c=o[1],d=xnt(t.displayMonths,r),f=s??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(s),a(void 0)},v=function(j){a(j)},g=js(),_=function(j,w){if(s){var C=Xoe(s,{moveBy:j,direction:w,context:g,modifiers:r});bc(s,C)||(t.goToDate(C,s),v(C))}},y={focusedDay:s,focusTarget:f,blur:h,focus:v,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return i.jsx(Joe.Provider,{value:y,children:e.children})}function qM(){var e=b.useContext(Joe);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function wnt(e,t){var r=Yoe(),n=VM(e,r,t);return n}var WM=b.createContext(void 0);function _nt(e){if(!SA(e.initialProps)){var t={selected:void 0};return i.jsx(WM.Provider,{value:t,children:e.children})}return i.jsx(jnt,{initialProps:e.initialProps,children:e.children})}function jnt(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,d,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,l)},s={selected:t.selected,onDayClick:n};return i.jsx(WM.Provider,{value:s,children:r})}function Zoe(){var e=b.useContext(WM);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Nnt(e,t){var r=js(),n=Zoe(),s=BM(),a=UM(),o=qM(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,v=o.focus,g=o.focusMonthBefore,_=o.focusMonthAfter,y=o.focusYearBefore,j=o.focusYearAfter,w=o.focusStartOfWeek,C=o.focusEndOfWeek,k=function(se){var te,ce,xe,de;SA(r)?(te=n.onDayClick)===null||te===void 0||te.call(n,e,t,se):G_(r)?(ce=s.onDayClick)===null||ce===void 0||ce.call(s,e,t,se):K_(r)?(xe=a.onDayClick)===null||xe===void 0||xe.call(a,e,t,se):(de=r.onDayClick)===null||de===void 0||de.call(r,e,t,se)},T=function(se){var te;v(e),(te=r.onDayFocus)===null||te===void 0||te.call(r,e,t,se)},P=function(se){var te;h(),(te=r.onDayBlur)===null||te===void 0||te.call(r,e,t,se)},D=function(se){var te;(te=r.onDayMouseEnter)===null||te===void 0||te.call(r,e,t,se)},M=function(se){var te;(te=r.onDayMouseLeave)===null||te===void 0||te.call(r,e,t,se)},I=function(se){var te;(te=r.onDayPointerEnter)===null||te===void 0||te.call(r,e,t,se)},B=function(se){var te;(te=r.onDayPointerLeave)===null||te===void 0||te.call(r,e,t,se)},V=function(se){var te;(te=r.onDayTouchCancel)===null||te===void 0||te.call(r,e,t,se)},U=function(se){var te;(te=r.onDayTouchEnd)===null||te===void 0||te.call(r,e,t,se)},q=function(se){var te;(te=r.onDayTouchMove)===null||te===void 0||te.call(r,e,t,se)},re=function(se){var te;(te=r.onDayTouchStart)===null||te===void 0||te.call(r,e,t,se)},H=function(se){var te;(te=r.onDayKeyUp)===null||te===void 0||te.call(r,e,t,se)},X=function(se){var te;switch(se.key){case"ArrowLeft":se.preventDefault(),se.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":se.preventDefault(),se.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":se.preventDefault(),se.stopPropagation(),d();break;case"ArrowUp":se.preventDefault(),se.stopPropagation(),f();break;case"PageUp":se.preventDefault(),se.stopPropagation(),se.shiftKey?y():g();break;case"PageDown":se.preventDefault(),se.stopPropagation(),se.shiftKey?j():_();break;case"Home":se.preventDefault(),se.stopPropagation(),w();break;case"End":se.preventDefault(),se.stopPropagation(),C();break}(te=r.onDayKeyDown)===null||te===void 0||te.call(r,e,t,se)},Q={onClick:k,onFocus:T,onBlur:P,onKeyDown:X,onKeyUp:H,onMouseEnter:D,onMouseLeave:M,onPointerEnter:I,onPointerLeave:B,onTouchCancel:V,onTouchEnd:U,onTouchMove:q,onTouchStart:re};return Q}function Snt(){var e=js(),t=Zoe(),r=BM(),n=UM(),s=SA(e)?t.selected:G_(e)?r.selected:K_(e)?n.selected:void 0;return s}function Cnt(e){return Object.values(qd).includes(e)}function Ant(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Cnt(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function knt(e,t){var r=yn({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=yn(yn({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Ent(e,t,r){var n,s,a,o=js(),l=qM(),c=wnt(e,t),d=Nnt(e,c),f=Snt(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var D;c.outside||l.focusedDay&&h&&bc(l.focusedDay,e)&&((D=r.current)===null||D===void 0||D.focus())},[l.focusedDay,e,r,h,c.outside]);var v=Ant(o,c).join(" "),g=knt(o,c),_=!!(c.outside&&!o.showOutsideDays||c.hidden),y=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:Xrt,j=i.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),w={style:g,className:v,children:j,role:"gridcell"},C=l.focusTarget&&bc(l.focusTarget,e)&&!c.outside,k=l.focusedDay&&bc(l.focusedDay,e),T=yn(yn(yn({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=k||C?0:-1,n)),d),P={isButton:h,isHidden:_,activeModifiers:c,selectedDays:f,buttonProps:T,divProps:w};return P}function Tnt(e){var t=b.useRef(null),r=Ent(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx($S,yn({name:"day",ref:t},r.buttonProps)):i.jsx("div",yn({},r.divProps))}function Pnt(e){var t=e.number,r=e.dates,n=js(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,f=d(Number(t),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var h=c(Number(t),{locale:l}),v=function(g){s(t,r,g)};return i.jsx($S,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:v,children:f})}function Ont(e){var t,r,n=js(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Tnt,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Pnt,f;return o&&(f=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(d,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[f,e.dates.map(function(h){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:h})},LAe(h))})]})}function lW(e,t,r){for(var n=r!=null&&r.ISOWeek?Ote(t):cR(t,r),s=r!=null&&r.ISOWeek?Pg(e):Wf(e,r),a=Pd(n,s),o=[],l=0;l<=a;l++)o.push(Hl(s,l));var c=o.reduce(function(d,f){var h=r!=null&&r.ISOWeek?Dte(f):Mte(f,r),v=d.find(function(g){return g.weekNumber===h});return v?(v.dates.push(f),d):(d.push({weekNumber:h,dates:[f]}),d)},[]);return c}function Fnt(e,t){var r=lW(kc(e),lR(e),t);if(t!=null&&t.useFixedWeeks){var n=BAe(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=CP(a,6-n),l=lW(CP(a,1),o,t);r.push.apply(r,l)}}return r}function Dnt(e){var t,r,n,s=js(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,f=s.components,h=s.weekStartsOn,v=s.firstWeekContainsDate,g=s.ISOWeek,_=Fnt(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:g,locale:a,weekStartsOn:h,firstWeekContainsDate:v}),y=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:Yrt,j=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:Ont,w=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:Hrt;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(y,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:_.map(function(C){return i.jsx(j,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),i.jsx(w,{displayMonth:e.displayMonth})]})}function Rnt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Mnt=Rnt()?b.useLayoutEffect:b.useEffect,i6=!1,Int=0;function cW(){return"react-day-picker-".concat(++Int)}function Lnt(e){var t,r=e??(i6?cW():null),n=b.useState(r),s=n[0],a=n[1];return Mnt(function(){s===null&&a(cW())},[]),b.useEffect(function(){i6===!1&&(i6=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function $nt(e){var t,r,n=js(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,c=Y_().displayMonths,d=Lnt(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],v=o.month,g=e.displayIndex===0,_=e.displayIndex===c.length-1,y=!g&&!_;s==="rtl"&&(t=[g,_],_=t[0],g=t[1]),g&&(h.push(a.caption_start),v=yn(yn({},v),o.caption_start)),_&&(h.push(a.caption_end),v=yn(yn({},v),o.caption_end)),y&&(h.push(a.caption_between),v=yn(yn({},v),o.caption_between));var j=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Wrt;return i.jsxs("div",{className:h.join(" "),style:v,children:[i.jsx(j,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(Dnt,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Bnt(e){var t=js(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function znt(e){var t,r,n=e.initialProps,s=js(),a=qM(),o=Y_(),l=b.useState(!1),c=l[0],d=l[1];b.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var h=yn(yn({},s.styles.root),s.style),v=Object.keys(n).filter(function(_){return _.startsWith("data-")}).reduce(function(_,y){var j;return yn(yn({},_),(j={},j[y]=n[y],j))},{}),g=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Bnt;return i.jsx("div",yn({className:f.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:i.jsx(g,{children:o.displayMonths.map(function(_,y){return i.jsx($nt,{displayIndex:y,displayMonth:_},y)})})}))}function Unt(e){var t=e.children,r=frt(e,["children"]);return i.jsx(Prt,{initialProps:r,children:i.jsx(zrt,{children:i.jsx(_nt,{initialProps:r,children:i.jsx(Jrt,{initialProps:r,children:i.jsx(ent,{initialProps:r,children:i.jsx(lnt,{children:i.jsx(bnt,{children:t})})})})})})})}function Vnt(e){return i.jsx(Unt,yn({},e,{children:i.jsx(znt,{initialProps:e})}))}function Qoe({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(Vnt,{showOutsideDays:r,className:Ht("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ht(eP({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ht(eP({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx(b3,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(Ag,{className:"h-4 w-4"})},...n})}Qoe.displayName="Calendar";const Mb=10,zj={user_credited:{label:"Crdit Utilisateur",color:"text-blue-600 bg-blue-50 border-blue-200",icon:xc},manual_credit:{label:"Crdit Manuel",color:"text-blue-600 bg-blue-50 border-blue-200",icon:xc},user_debited:{label:"Dbit Utilisateur",color:"text-orange-600 bg-orange-50 border-orange-200",icon:Us},withdrawal_approved:{label:"Retrait Approuv",color:"text-green-600 bg-green-50 border-green-200",icon:Vi},withdrawal_rejected:{label:"Retrait Rejet",color:"text-red-600 bg-red-50 border-red-200",icon:HF},withdrawal_requested:{label:"Retrait Demand",color:"text-orange-600 bg-orange-50 border-orange-200",icon:Us},role_updated:{label:"Rle Modifi",color:"text-purple-600 bg-purple-50 border-purple-200",icon:bX},user_deleted:{label:"Utilisateur Supprim",color:"text-destructive bg-destructive/10 border-destructive/20",icon:kl},login:{label:"Connexion",color:"text-gray-600 bg-gray-50 border-gray-200",icon:qge},logout:{label:"Dconnexion",color:"text-gray-600 bg-gray-50 border-gray-200",icon:nx},credit_reversal:{label:"Annulation Crdit",color:"text-amber-600 bg-amber-50 border-amber-200",icon:yX},license_renewed:{label:"Licence Renouvele",color:"text-indigo-600 bg-indigo-50 border-indigo-200",icon:Iu},default:{label:"Action Admin",color:"text-slate-600 bg-slate-50 border-slate-200",icon:Iu}},uW=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState(0),[o,l]=b.useState(1),[c,d]=b.useState(""),[f,h]=b.useState("all"),[v,g]=b.useState({from:null,to:null}),_=b.useCallback(async()=>{n(!0);try{let k=Oe.from("admin_logs").select(`
                    *,
                    actor:actor_id (full_name, email, avatar_url, user_type),
                    target:target_id (full_name, email, avatar_url)
                `,{count:"exact"});if(c){const B=`%${c}%`;k=k.or(`action_type.ilike.${B},actor_name.ilike.${B},target_name.ilike.${B},actor_email.ilike.${B}`)}if(f&&f!=="all"&&(k=k.eq("action_type",f)),v!=null&&v.from&&(k=k.gte("created_at",v.from.toISOString())),v!=null&&v.to){const B=new Date(v.to);B.setHours(23,59,59,999),k=k.lte("created_at",B.toISOString())}const T=(o-1)*Mb,P=T+Mb-1,{data:D,error:M,count:I}=await k.order("created_at",{ascending:!1}).range(T,P);if(M)throw M;t(D||[]),a(I||0)}catch(k){console.error("Error fetching logs:",k),ze({title:"Erreur",description:"Impossible de charger le journal d'activit.",variant:"destructive"})}finally{n(!1)}},[o,c,f,v]);b.useEffect(()=>{const k=setTimeout(()=>{_()},300);return()=>clearTimeout(k)},[_]);const y=()=>{try{const k=e.map(D=>{var M,I,B,V;return{Date:Gn(new Date(D.created_at),"dd/MM/yyyy HH:mm"),Action:((M=zj[D.action_type])==null?void 0:M.label)||D.action_type,Acteur:((I=D.actor)==null?void 0:I.full_name)||D.actor_name||"Systme",Email_Acteur:((B=D.actor)==null?void 0:B.email)||D.actor_email||"-",Cible:((V=D.target)==null?void 0:V.full_name)||D.target_name||"-",Dtails:JSON.stringify(D.details||{})}}),T=jl.utils.json_to_sheet(k),P=jl.utils.book_new();jl.utils.book_append_sheet(P,T,"Journal Activit"),jl.writeFile(P,`journal_activite_${Gn(new Date,"yyyyMMdd")}.xlsx`),ze({title:"Export russi",description:"Le fichier a t tlcharg.",variant:"success"})}catch(k){console.error("Export error:",k),ze({title:"Erreur d'export",description:k.message,variant:"destructive"})}},j=k=>zj[k]||zj.default,w=k=>{var M,I,B;const T=k.details||{},P=k.action_type,D=T.reversed===!0;return i.jsxs("div",{className:"text-sm space-y-1.5",children:[(P==="user_credited"||P==="user_debited"||P==="manual_credit")&&i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-medium text-muted-foreground",children:"Montant:"}),i.jsxs(nr,{variant:"outline",className:"font-mono text-sm font-bold",children:[(M=T.amount)==null?void 0:M.toLocaleString()," "]})]}),T.reason&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-medium text-muted-foreground",children:"Raison:"}),i.jsxs("span",{className:"text-foreground font-medium",children:['"',T.reason,'"']})]})]}),P==="withdrawal_approved"&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs(nr,{className:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",children:[(I=T.amount_pi)==null?void 0:I.toLocaleString()," "]}),T.amount_fcfa&&i.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",(B=T.amount_fcfa)==null?void 0:B.toLocaleString()," FCFA)"]})]}),T.notes&&i.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Notes: ",T.notes]})]}),P==="role_updated"&&i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(nr,{variant:"secondary",className:"line-through opacity-70",children:T.old_role||"?"}),i.jsx(vge,{className:"w-3 h-3 text-muted-foreground"}),i.jsx(nr,{variant:"default",className:"bg-purple-100 text-purple-800 hover:bg-purple-200 border-purple-200",children:T.new_role})]}),D&&i.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-100 rounded-md flex items-start gap-2 text-xs text-red-700 animate-in fade-in slide-in-from-top-1",children:[i.jsx(yX,{className:"w-4 h-4 mt-0.5 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold",children:" ANNUL"}),i.jsxs("p",{children:["Le: ",T.reversed_at?Gn(new Date(T.reversed_at),"dd/MM/yyyy HH:mm"):"-"]}),i.jsxs("p",{children:["Par: ",T.reversed_by_name||"Admin"]})]})]}),!["user_credited","manual_credit","user_debited","withdrawal_approved","role_updated"].includes(P)&&Object.keys(T).length>0&&i.jsx("div",{className:"bg-muted/30 rounded p-1.5 text-xs font-mono text-muted-foreground overflow-x-auto",children:Object.entries(T).map(([V,U])=>V!=="reversed"&&V!=="reversed_by"&&V!=="reversed_at"&&i.jsxs("div",{className:"flex gap-1",children:[i.jsxs("span",{className:"opacity-70",children:[V,":"]}),i.jsx("span",{className:"font-semibold truncate",children:typeof U=="object"?JSON.stringify(U):String(U)})]},V))})]})},C=Math.ceil(s/Mb);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 items-start md:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Journal d'Activit"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Historique complet des actions administratives et vnements systme."})]}),i.jsxs("div",{className:"flex items-center gap-2 self-end",children:[i.jsxs(Ee,{variant:"outline",size:"sm",onClick:_,disabled:r,children:[r?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Dge,{className:"w-4 h-4 mr-2"}),"Actualiser"]}),i.jsxs(Ee,{variant:"default",size:"sm",onClick:y,disabled:e.length===0,children:[i.jsx(ey,{className:"w-4 h-4 mr-2"})," Exporter"]})]})]}),i.jsxs(at,{className:"border-muted",children:[i.jsx(Et,{className:"pb-3 border-b bg-muted/10",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[i.jsx(Co,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher (action, acteur, cible)...",className:"pl-9 bg-background",value:c,onChange:k=>{d(k.target.value),l(1)}})]}),i.jsxs(aa,{value:f,onValueChange:k=>{h(k),l(1)},children:[i.jsx(Jn,{className:"w-full lg:w-[220px] bg-background",children:i.jsx(sa,{placeholder:"Type d'action"})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"all",children:"Toutes les actions"}),Object.entries(zj).map(([k,T])=>k!=="default"&&i.jsx(ur,{value:k,children:T.label},k))]})]}),i.jsxs(Hee,{children:[i.jsx(Gee,{asChild:!0,children:i.jsxs(Ee,{variant:"outline",className:"w-full lg:w-[240px] justify-start text-left font-normal bg-background",children:[i.jsx(qs,{className:"mr-2 h-4 w-4"}),v!=null&&v.from?v.to?i.jsxs(i.Fragment,{children:[Gn(v.from,"d MMM",{locale:Wo})," -"," ",Gn(v.to,"d MMM",{locale:Wo})]}):Gn(v.from,"d MMM yyyy",{locale:Wo}):i.jsx("span",{children:"Filtrer par date"})]})}),i.jsx(sR,{className:"w-auto p-0",align:"end",children:i.jsx(Qoe,{initialFocus:!0,mode:"range",defaultMonth:v==null?void 0:v.from,selected:v,onSelect:k=>{g(k),l(1)},numberOfMonths:2})})]}),(c||f!=="all"||(v==null?void 0:v.from))&&i.jsx(Ee,{variant:"ghost",onClick:()=>{d(""),h("all"),g({from:null,to:null})},className:"px-3 text-muted-foreground hover:text-foreground",children:"Rinitialiser"})]})}),i.jsxs(st,{className:"p-0",children:[r&&e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[i.jsx(Dt,{className:"w-10 h-10 animate-spin text-primary/50"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement du journal..."})]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-3 bg-muted/5",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:i.jsx(eve,{className:"w-8 h-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold",children:"Aucune activit trouve"}),i.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Aucun journal ne correspond  vos critres. Essayez de modifier les filtres ou la priode."})]}):i.jsx("div",{className:"divide-y divide-border",children:e.map(k=>{var D,M,I,B,V,U,q,re,H,X;const T=j(k.action_type),P=T.icon;return i.jsx("div",{className:"p-4 hover:bg-accent/5 transition-colors group",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"md:w-[200px] shrink-0 flex md:flex-col items-center md:items-start gap-3 md:gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border shadow-sm shrink-0 ${T.color}`,children:i.jsx(P,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-semibold text-sm md:hidden",children:T.label})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs font-medium hidden md:inline-block mb-1 px-2 py-0.5 rounded-full bg-muted/50 w-fit",children:T.label}),i.jsx("span",{className:"text-xs text-muted-foreground pl-1",children:Gn(new Date(k.created_at),"d MMM yyyy",{locale:Wo})}),i.jsx("span",{className:"text-xs text-muted-foreground pl-1",children:Gn(new Date(k.created_at),"HH:mm",{locale:Wo})})]})]}),i.jsxs("div",{className:"md:w-[300px] shrink-0 space-y-2.5 py-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground w-10 shrink-0",children:"Acteur"}),i.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 px-2 py-1 rounded-full max-w-full",children:[i.jsxs(Xu,{className:"w-5 h-5 border",children:[i.jsx(Ju,{src:(D=k.actor)==null?void 0:D.avatar_url}),i.jsx(Zu,{className:"text-[8px] bg-primary/10 text-primary",children:(((I=(M=k.actor)==null?void 0:M.full_name)==null?void 0:I[0])||((B=k.actor_name)==null?void 0:B[0])||"S").toUpperCase()})]}),i.jsx("div",{className:"flex flex-col overflow-hidden",children:i.jsx("span",{className:"text-xs font-medium truncate max-w-[140px]",title:k.actor_email,children:((V=k.actor)==null?void 0:V.full_name)||k.actor_name||"Systme"})})]})]}),k.target_id&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground w-10 shrink-0",children:"Cible"}),i.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 px-2 py-1 rounded-full max-w-full",children:[i.jsxs(Xu,{className:"w-5 h-5 border",children:[i.jsx(Ju,{src:(U=k.target)==null?void 0:U.avatar_url}),i.jsx(Zu,{className:"text-[8px] bg-indigo-50 text-indigo-600",children:(((re=(q=k.target)==null?void 0:q.full_name)==null?void 0:re[0])||((H=k.target_name)==null?void 0:H[0])||"?").toUpperCase()})]}),i.jsx("div",{className:"flex flex-col overflow-hidden",children:i.jsx("span",{className:"text-xs font-medium truncate max-w-[140px]",title:k.target_email,children:((X=k.target)==null?void 0:X.full_name)||k.target_name||"Utilisateur"})})]})]})]}),i.jsxs("div",{className:"flex-1 min-w-0 py-1 border-l md:pl-4 md:border-l-border/50",children:[i.jsx("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground mb-1",children:"Dtails"}),w(k)]})]})},k.id)})}),s>0&&i.jsxs("div",{className:"p-4 border-t bg-muted/5 flex items-center justify-between",children:[i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Affichage de ",i.jsx("strong",{children:(o-1)*Mb+1}),"  ",i.jsx("strong",{children:Math.min(o*Mb,s)})," sur ",i.jsx("strong",{children:s})," entres"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(k=>Math.max(1,k-1)),disabled:o===1,children:i.jsx(b3,{className:"w-4 h-4"})}),i.jsxs("div",{className:"text-xs font-medium px-2",children:["Page ",o," / ",C]}),i.jsx(Ee,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(k=>Math.min(C,k+1)),disabled:o===C,children:i.jsx(Ag,{className:"w-4 h-4"})})]})]})]})]})]})},qnt=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState(""),[o,l]=b.useState("all"),{toast:c}=Ti(),d=async()=>{n(!0);try{const{data:g,error:_}=await Oe.from("paiements_admin").select(`
          id,
          mois,
          ca_zone,
          taux_commission,
          score,
          montant_a_payer,
          statut,
          paye_le,
          admin_id,
          admin:admin_id (
            full_name,
            email
          )
        `).order("mois",{ascending:!1});if(_)throw _;t(g||[])}catch(g){console.error("Error fetching admin payments:",g),c({title:"Erreur",description:"Impossible de charger les paiements administrateurs.",variant:"destructive"})}finally{n(!1)}};b.useEffect(()=>{d()},[]);const f=async g=>{try{const{error:_}=await Oe.from("paiements_admin").update({statut:"pay",paye_le:new Date().toISOString()}).eq("id",g);if(_)throw _;t(e.map(y=>y.id===g?{...y,statut:"pay",paye_le:new Date().toISOString()}:y)),c({title:"Paiement mis  jour",description:'Le statut a t chang en "Pay".',variant:"success"})}catch{c({title:"Erreur",description:"Impossible de mettre  jour le paiement.",variant:"destructive"})}},h=()=>{const g=v.map(j=>{var w,C;return{Mois:Gn(new Date(j.mois),"MMMM yyyy",{locale:Wo}),Administrateur:((w=j.admin)==null?void 0:w.full_name)||"Inconnu",Email:((C=j.admin)==null?void 0:C.email)||"Inconnu","CA Zone (FCFA)":j.ca_zone,"Taux Commission (%)":j.taux_commission,"Score Performance":j.score,"Montant  Payer (FCFA)":j.montant_a_payer,Statut:j.statut==="pay"?"Pay":"En attente","Date Paiement":j.paye_le?Gn(new Date(j.paye_le),"dd/MM/yyyy"):"-"}}),_=jl.utils.json_to_sheet(g),y=jl.utils.book_new();jl.utils.book_append_sheet(y,_,"Paiements Admin"),jl.writeFile(y,`paiements_admin_${Gn(new Date,"dd-MM-yyyy")}.xlsx`)},v=e.filter(g=>{var j,w;const _=(((j=g.admin)==null?void 0:j.full_name)||"").toLowerCase().includes(s.toLowerCase())||(((w=g.admin)==null?void 0:w.email)||"").toLowerCase().includes(s.toLowerCase()),y=o==="all"||g.statut===o;return _&&y});return i.jsxs(at,{children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between",children:[i.jsx(Tt,{children:"Paiements Administrateurs"}),i.jsxs(Ee,{onClick:h,variant:"outline",size:"sm",children:[i.jsx(ey,{className:"mr-2 h-4 w-4"}),"Exporter Excel"]})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"flex gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Co,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher un administrateur...",value:s,onChange:g=>a(g.target.value),className:"pl-8"})]}),i.jsxs(aa,{value:o,onValueChange:l,children:[i.jsx(Jn,{className:"w-[180px]",children:i.jsx(sa,{placeholder:"Filtrer par statut"})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"all",children:"Tous les statuts"}),i.jsx(ur,{value:"en_attente",children:"En attente"}),i.jsx(ur,{value:"pay",children:"Pay"})]})]})]}),r?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Dt,{className:"h-8 w-8 animate-spin text-primary"})}):v.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucun paiement trouv."}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Mois"}),i.jsx(Hr,{children:"Administrateur"}),i.jsx(Hr,{children:"Performance"}),i.jsx(Hr,{className:"text-right",children:"Montant (FCFA)"}),i.jsx(Hr,{children:"Statut"}),i.jsx(Hr,{className:"text-right",children:"Actions"})]})}),i.jsx(Vd,{children:v.map(g=>{var _,y,j,w;return i.jsxs(Ja,{children:[i.jsx(Ar,{className:"font-medium",children:Gn(new Date(g.mois),"MMMM yyyy",{locale:Wo})}),i.jsx(Ar,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:((_=g.admin)==null?void 0:_.full_name)||"Inconnu"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:(y=g.admin)==null?void 0:y.email})]})}),i.jsx(Ar,{children:i.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[i.jsxs("span",{children:["CA: ",(j=g.ca_zone)==null?void 0:j.toLocaleString()," FCFA"]}),i.jsxs("span",{children:["Taux: ",g.taux_commission,"%"]}),i.jsxs("span",{children:["Score: ",g.score]})]})}),i.jsxs(Ar,{className:"text-right font-bold text-green-600",children:[(w=g.montant_a_payer)==null?void 0:w.toLocaleString()," FCFA"]}),i.jsxs(Ar,{children:[i.jsx(nr,{variant:g.statut==="pay"?"success":"warning",children:g.statut==="pay"?"Pay":"En attente"}),g.paye_le&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["le ",Gn(new Date(g.paye_le),"dd/MM/yyyy")]})]}),i.jsx(Ar,{className:"text-right",children:g.statut!=="pay"&&i.jsxs(Ee,{size:"sm",onClick:()=>f(g.id),className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Vi,{className:"mr-2 h-3 w-3"}),"Marquer pay"]})})]},g.id)})})]})})]})]})},dW=()=>{Un();const[e,t]=b.useState([]),[r,n]=b.useState(new Map),[s,a]=b.useState(!0),[o,l]=b.useState(""),c=b.useCallback(async()=>{a(!0);try{const{data:g,error:_}=await Oe.from("locations").select("*").order("created_at",{ascending:!1});if(_)throw console.error("Fetch locations error:",_),new Error(`Impossible de charger les lieux: ${_.message}`);const{data:y,error:j}=await Oe.from("profiles").select("id, full_name, email");if(j)throw console.error("Fetch profiles error:",j),new Error(`Impossible de charger les profils utilisateurs: ${j.message}`);const w=new Map(y.map(C=>[C.id,C]));n(w),t(g||[])}catch(g){ze({title:"Erreur de chargement",description:g.message,variant:"destructive"})}finally{a(!1)}},[]);b.useEffect(()=>{c()},[c]);const d=b.useMemo(()=>e.map(g=>({...g,profile:r.get(g.user_id)||{full_name:"N/A",email:""}})),[e,r]),f=b.useMemo(()=>{if(!o)return d;const g=o.toLowerCase();return d.filter(_=>{var y;return _.name&&_.name.toLowerCase().includes(g)||_.city&&_.city.toLowerCase().includes(g)||((y=_.profile)==null?void 0:y.full_name)&&_.profile.full_name.toLowerCase().includes(g)})},[d,o]),h=async g=>{const _=!g.is_active;try{const{error:y}=await Oe.from("locations").update({is_active:_}).eq("id",g.id);if(y)throw y;ze({title:"Statut mis  jour avec succs!"}),c()}catch(y){ze({title:"Erreur lors de la mise  jour",description:y.message,variant:"destructive"})}},v=async g=>{try{const{error:_}=await Oe.rpc("delete_location",{p_location_id:g});if(_)throw _;ze({title:"Lieu supprim avec succs!"}),c()}catch(_){ze({title:"Erreur lors de la suppression",description:_.message,variant:"destructive"})}};return s?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"animate-spin text-primary"})}):i.jsxs(at,{className:"glass-effect border-purple-500/20",children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Gestion des Lieux"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par nom, ville ou utilisateur...",value:o,onChange:g=>l(g.target.value),className:"pl-10"})]}),i.jsx("div",{className:"space-y-4",children:f.map(g=>{var _;return i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-grow",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(wo,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:g.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.address,", ",g.city,", ",g.country]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ajout par: ",((_=g.profile)==null?void 0:_.full_name)||"N/A"]}),i.jsx(nr,{variant:g.is_active?"success":"destructive",className:"mt-1",children:g.is_active?"Actif":"Inactif"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>h(g),children:g.is_active?i.jsx(vX,{className:"w-5 h-5 text-yellow-500"}):i.jsx(xX,{className:"w-5 h-5 text-green-500"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>v(g.id),className:"text-red-500",children:i.jsx(kl,{className:"w-4 h-4"})})]})]},g.id)})})]})]})},Wnt=()=>{const[e,t]=b.useState(!0),[r,n]=b.useState([]),[s,a]=b.useState(0),[o,l]=b.useState(0),[c,d]=b.useState(0),f=b.useCallback(async()=>{t(!0);try{const{data:h,error:v}=await Oe.from("transactions").select("amount_pi, country, transaction_type, created_at, status").in("transaction_type",["manual_credit","credit_reversal","coin_pack","bonus","admin_credit","event_participation"]);if(v)throw v;console.log("Credits by country: [data]",h);const g={};let _=0,y=0,j=0;h.forEach(C=>{if(C.status==="completed"||C.status==="paid"||C.status==="success"){const k=C.country||"Inconnu",T=C.amount_pi||0;g[k]||(g[k]={country:k,totalAmount:0,transactionCount:0,reversals:0,positiveTransactions:0}),g[k].totalAmount+=T,g[k].transactionCount+=1,T<0?(g[k].reversals+=Math.abs(T),j+=Math.abs(T)):g[k].positiveTransactions+=1,_+=T,y+=1}});const w=Object.values(g).sort((C,k)=>k.totalAmount-C.totalAmount).map(C=>({...C,percentage:s>0?(C.totalAmount/s*100).toFixed(1):"0"}));n(w),a(_),l(y),d(j),console.log("Total credits: [amount]",_)}catch(h){console.error("Error fetching credit stats:",h)}finally{t(!1)}},[s]);return b.useEffect(()=>{f()},[f]),e?i.jsx("div",{className:"flex justify-center items-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Dt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Chargement des statistiques de crdit..."})]})}):i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(at,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100 shadow-sm",children:[i.jsx(Et,{className:"pb-2",children:i.jsxs(Tt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[i.jsx(Go,{className:"w-4 h-4"})," Total Crdits Distribus"]})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-3xl font-bold text-blue-700",children:[s.toLocaleString()," "]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Net aprs annulations"}),i.jsxs("div",{className:"mt-2 text-xs",children:[i.jsxs("span",{className:"text-green-600",children:[o," transactions"]}),c>0&&i.jsxs("span",{className:"ml-2 text-red-600",children:[" ",c,"  annuls"]})]})]})]}),i.jsxs(at,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-100 shadow-sm",children:[i.jsx(Et,{className:"pb-2",children:i.jsxs(Tt,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[i.jsx(Lu,{className:"w-4 h-4"})," Pays Actifs"]})}),i.jsxs(st,{children:[i.jsx("div",{className:"text-3xl font-bold text-green-700",children:r.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Zones gographiques touches"})]})]}),i.jsxs(at,{className:"bg-gradient-to-br from-purple-50 to-violet-50 border-purple-100 shadow-sm",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-muted-foreground",children:"Top Pays"})}),i.jsxs(st,{children:[i.jsx("div",{className:"text-3xl font-bold text-purple-700",children:r.length>0?r[0].country:"N/A"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.length>0?`${r[0].totalAmount.toLocaleString()} `:"Aucune donne"})]})]}),i.jsxs(at,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-100 shadow-sm",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-muted-foreground",children:"Taux d'Annulation"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-3xl font-bold text-amber-700",children:[s>0?(c/(s+c)*100).toFixed(1):0,"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.toLocaleString(),"  annuls"]})]})]})]}),i.jsxs(at,{className:"shadow-lg border-gray-800 bg-black text-white",children:[i.jsx(Et,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-b border-gray-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Tt,{className:"flex items-center gap-2 text-white",children:[i.jsx(Lu,{className:"h-5 w-5 text-white"}),"Rpartition par Pays"]}),i.jsx(nn,{className:"text-gray-300",children:"Dtail des crdits et achats de pices par zone gographique."})]}),i.jsxs(nr,{variant:"outline",className:"bg-primary/20 text-white border-primary/30",children:[o," transactions"]})]})}),i.jsxs(st,{className:"p-0",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(zd,{children:[i.jsx(Ud,{className:"bg-gray-900",children:i.jsxs(Ja,{children:[i.jsx(Hr,{className:"font-semibold text-gray-300",children:"Pays"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Transactions"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Crdits +"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Annulations -"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Total Net"}),i.jsx(Hr,{className:"font-semibold text-gray-300 text-right",children:"Part"})]})}),i.jsx(Vd,{children:r.length===0?i.jsx(Ja,{children:i.jsx(Ar,{colSpan:6,className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx(ru,{className:"h-12 w-12 text-gray-600 mb-4"}),i.jsx("p",{className:"text-gray-400 font-medium mb-2",children:"Aucune donne de crdit disponible"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Les donnes de crdit apparatront ici"})]})})}):r.map((h,v)=>i.jsxs(Ja,{className:v%2===0?"bg-gray-900":"bg-gray-800",children:[i.jsx(Ar,{className:"font-medium py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nr,{variant:"outline",className:"rounded-full w-8 h-8 flex items-center justify-center bg-primary/20 text-white border-primary/30",children:h.country.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white",children:h.country}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[h.positiveTransactions," transactions positives"]})]})]})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsx("span",{className:"font-medium text-white",children:h.transactionCount})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsxs("span",{className:"font-medium text-green-400",children:[(h.totalAmount+h.reversals).toLocaleString()," "]})}),i.jsx(Ar,{className:"text-right py-4",children:h.reversals>0?i.jsxs("span",{className:"font-medium text-red-400",children:["-",h.reversals.toLocaleString()," "]}):i.jsx("span",{className:"text-gray-500",children:"-"})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsxs("span",{className:`font-bold text-lg ${h.totalAmount>=0?"text-green-300":"text-red-300"}`,children:[h.totalAmount.toLocaleString()," "]})}),i.jsx(Ar,{className:"text-right py-4",children:i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"font-medium text-white",children:[h.percentage,"%"]}),i.jsx("div",{className:"w-24 h-2 bg-gray-700 rounded-full overflow-hidden mt-1",children:i.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Math.min(100,h.percentage)}%`}})})]})})]},h.country))})]})}),r.length>0&&i.jsx("div",{className:"px-6 py-4 border-t border-gray-800 bg-gray-900",children:i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-300",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:r.length})," pays lists"]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{children:"Crdits positifs"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{children:"Annulations"})]})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(at,{className:"border-gray-800 bg-black text-white",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium",children:"Types de Transactions Inclus"})}),i.jsx(st,{children:i.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsx("span",{children:"Crdits manuels (admin)"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),i.jsx("span",{children:"Achats de pices (coin_pack)"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),i.jsx("span",{children:"Bonus et rcompenses"})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),i.jsx("span",{children:"Annulations de crdit"})]})]})})]}),i.jsxs(at,{className:"border-gray-200",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium",children:"Informations"})}),i.jsx(st,{children:i.jsx("p",{className:"text-sm text-gray-600",children:"Les statistiques montrent la rpartition gographique des crdits distribus sur la plateforme. Les donnes sont mises  jour en temps rel et incluent toutes les transactions valides."})})]})]})]})},E4=({isSuperAdmin:e,country:t})=>{const{user:r}=Pr(),[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState(""),[d,f]=b.useState(null),[h,v]=b.useState(!1),g=b.useCallback(async()=>{o(!0);try{let j=Oe.from("admin_logs").select(`
                    id,
                    created_at,
                    details,
                    actor:actor_id (id, full_name, email),
                    target:target_id (full_name, email, country)
                `).order("created_at",{ascending:!1}).limit(100);e||t&&(j=j.eq("target.country",t));const{data:w,error:C}=await j;if(C)throw C;s(w||[])}catch(j){console.error("Error fetching credit logs:",j),ze({title:"Erreur",description:"Impossible de charger les crdits.",variant:"destructive"})}finally{o(!1)}},[e,t]);b.useEffect(()=>{const j=setTimeout(()=>{g()},500);return()=>clearTimeout(j)},[g,l]);const _=async()=>{if(!(!d||!r)){v(!0);try{const{data:j,error:w}=await Oe.rpc("reverse_credit",{p_log_id:d.id,p_reverser_id:r.id});if(w)throw w;if(j&&!j.success)throw new Error(j.message);ze({title:"Succs",description:"Le crdit a t annul."}),g()}catch(j){ze({title:"Erreur",description:j.message,variant:"destructive"})}finally{v(!1),f(null)}}},y=n.filter(j=>{var C,k,T,P,D,M,I,B,V;if(!(((C=j.details)==null?void 0:C.reversed)===!0))return!1;if(l){const U=l.toLowerCase();return((T=(k=j.actor)==null?void 0:k.full_name)==null?void 0:T.toLowerCase().includes(U))||((D=(P=j.actor)==null?void 0:P.email)==null?void 0:D.toLowerCase().includes(U))||((I=(M=j.target)==null?void 0:M.full_name)==null?void 0:I.toLowerCase().includes(U))||((V=(B=j.target)==null?void 0:B.email)==null?void 0:V.toLowerCase().includes(U))}return!0});return i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect",children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Historique des Crdits Annuls"}),i.jsxs("div",{className:"relative mt-4",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par utilisateur ou admin...",value:l,onChange:j=>c(j.target.value),className:"pl-10"})]})]}),i.jsx(st,{children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin"})}):i.jsx("div",{className:"space-y-4",children:y.length>0?y.map(j=>{var w,C,k,T,P,D,M,I;return i.jsxs("div",{className:"p-4 bg-background/50 rounded-lg shadow-sm border border-destructive/20",children:[i.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-destructive",children:["Crdit Annul de ",((w=j.details)==null?void 0:w.amount)||"N/A"," "]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Utilisateur:"})," ",((C=j.target)==null?void 0:C.full_name)||((k=j.target)==null?void 0:k.email)||"N/A"]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Crdit par:"})," ",((T=j.actor)==null?void 0:T.full_name)||((P=j.actor)==null?void 0:P.email)||"Systme"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Annul par:"})," ",((D=j.details)==null?void 0:D.reversed_by_name)||"N/A"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Crdit du ",Gn(new Date(j.created_at),"d MMM yyyy",{locale:Wo})]}),((M=j.details)==null?void 0:M.reversed_at)&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Annul le ",Gn(new Date(j.details.reversed_at),"d MMM yyyy, HH:mm",{locale:Wo})]})]})]}),((I=j.details)==null?void 0:I.reason)&&i.jsx("div",{className:"mt-2 text-xs bg-muted p-2 rounded",children:i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Raison du crdit:"})," ",j.details.reason]})})]},j.id)}):i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun crdit annul trouv."})})})]}),i.jsx(jo,{open:!!d,onOpenChange:()=>f(null),children:i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Confirmer l'annulation"}),i.jsxs(Ji,{children:["Voulez-vous vraiment annuler le crdit de ",d==null?void 0:d.details.amount,"  pour ",d==null?void 0:d.target.full_name," ? Cette action est irrversible."]})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Non"}),i.jsxs(Zi,{onClick:_,disabled:h,children:[h&&i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"Oui, annuler"]})]})]})})]})},fW=({actorId:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(""),l=b.useCallback(async()=>{s(!0);try{let d=Oe.from("organizer_withdrawal_requests").select(`
          id,
          amount_pi,
          amount_fcfa,
          status,
          admin_notes,
          requested_at,
          reviewed_at,
          paid_at,
          organizer:organizer_id (full_name, email),
          reviewer:reviewed_by_admin (full_name)
        `).neq("status","pending").order("requested_at",{ascending:!1});e&&(d=d.eq("reviewed_by_admin",e)),a&&(d=d.or(`organizer.full_name.ilike.%${a}%,organizer.email.ilike.%${a}%`));const{data:f,error:h}=await d;if(h)throw h;const v=f.map(g=>({id:g.id,created_at:g.reviewed_at||g.requested_at,action_type:`withdrawal_${g.status}`,details:{amount_pi:g.amount_pi,amount_fcfa:g.amount_fcfa,notes:g.admin_notes,status:g.status},target_user:g.organizer,actor:g.reviewer}));r(v)}catch(d){console.error("Erreur chargement historique:",d),ze({title:"Erreur",description:"Impossible de charger l'historique des retraits.",variant:"destructive"})}finally{s(!1)}},[e,a]);b.useEffect(()=>{l()},[l]);const c=d=>{const f={withdrawal_approved:{variant:"default",label:"Approuv"},withdrawal_rejected:{variant:"destructive",label:"Rejet"},withdrawal_paid:{variant:"secondary",label:"Pay"}},h=f[d]||f.withdrawal_approved;return i.jsx(nr,{variant:h.variant,children:h.label})};return i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Historique des Traitements de Retraits"}),i.jsxs(Ee,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center gap-2",children:[i.jsx(Hh,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Actualiser"]})]}),i.jsx(nn,{children:"Suivi des approbations et rejets de demandes de retrait."})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par nom ou email d'organisateur...",value:a,onChange:d=>o(d.target.value),className:"pl-10"})]}),n?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"h-8 w-8 animate-spin text-primary"})}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Organisateur"}),i.jsx(Hr,{children:"Montant"}),i.jsx(Hr,{children:"Action"}),!e&&i.jsx(Hr,{children:"Trait par"}),i.jsx(Hr,{children:"Date traitement"}),i.jsx(Hr,{children:"Notes"})]})}),i.jsx(Vd,{children:t.length===0?i.jsx(Ja,{children:i.jsx(Ar,{colSpan:e?5:6,className:"text-center py-8",children:"Aucun traitement de retrait trouv."})}):t.map(d=>{var f,h,v,g,_,y,j,w;return i.jsxs(Ja,{children:[i.jsxs(Ar,{children:[i.jsx("p",{className:"font-semibold",children:((f=d.target_user)==null?void 0:f.full_name)||"N/A"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:((h=d.target_user)==null?void 0:h.email)||"N/A"})]}),i.jsxs(Ar,{children:[i.jsxs("div",{className:"font-bold flex items-center gap-1",children:[(v=d.details)==null?void 0:v.amount_pi," ",i.jsx(dn,{className:"w-4 h-4 text-yellow-400"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[(_=(g=d.details)==null?void 0:g.amount_fcfa)==null?void 0:_.toLocaleString("fr-FR")," FCFA"]})]}),i.jsx(Ar,{children:c(d.action_type)}),!e&&i.jsx(Ar,{children:i.jsx("p",{className:"text-sm",children:((y=d.actor)==null?void 0:y.full_name)||"Systme"})}),i.jsxs(Ar,{children:[new Date(d.created_at).toLocaleDateString("fr-FR"),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(d.created_at).toLocaleTimeString("fr-FR")})]}),i.jsx(Ar,{children:i.jsx("div",{className:"text-sm max-w-xs truncate",title:(j=d.details)==null?void 0:j.notes,children:((w=d.details)==null?void 0:w.notes)||""})})]},d.id)})})]})})]})]})};function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}var Wd=Uint8Array,Xc=Uint16Array,HM=Int32Array,GM=new Wd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),KM=new Wd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hW=new Wd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ele=function(e,t){for(var r=new Xc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new HM(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},tle=ele(GM,2),Hnt=tle.b,hO=tle.r;Hnt[28]=258,hO[258]=28;var Gnt=ele(KM,0),mW=Gnt.r,mO=new Xc(32768);for(var Ds=0;Ds<32768;++Ds){var Lm=(Ds&43690)>>1|(Ds&21845)<<1;Lm=(Lm&52428)>>2|(Lm&13107)<<2,Lm=(Lm&61680)>>4|(Lm&3855)<<4,mO[Ds]=((Lm&65280)>>8|(Lm&255)<<8)>>1}var k2=function(e,t,r){for(var n=e.length,s=0,a=new Xc(t);s<n;++s)e[s]&&++a[e[s]-1];var o=new Xc(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(r){l=new Xc(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],f=t-e[s],h=o[e[s]-1]++<<f,v=h|(1<<f)-1;h<=v;++h)l[mO[h]>>c]=d}else for(l=new Xc(n),s=0;s<n;++s)e[s]&&(l[s]=mO[o[e[s]-1]++]>>15-e[s]);return l},Ug=new Wd(288);for(var Ds=0;Ds<144;++Ds)Ug[Ds]=8;for(var Ds=144;Ds<256;++Ds)Ug[Ds]=9;for(var Ds=256;Ds<280;++Ds)Ug[Ds]=7;for(var Ds=280;Ds<288;++Ds)Ug[Ds]=8;var BS=new Wd(32);for(var Ds=0;Ds<32;++Ds)BS[Ds]=5;var Knt=k2(Ug,9,0),Ynt=k2(BS,5,0),rle=function(e){return(e+7)/8|0},Xnt=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new Wd(e.subarray(t,r))},wh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Ib=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},o6=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:ale,l:0};if(s==1){var o=new Wd(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(P,D){return P.f-D.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,f=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=s-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=f&&r[d].f<r[h].f?d++:h++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var v=a[0].s,n=1;n<s;++n)a[n].s>v&&(v=a[n].s);var g=new Xc(v+1),_=pO(r[f-1],g,0);if(_>t){var n=0,y=0,j=_-t,w=1<<j;for(a.sort(function(D,M){return g[M.s]-g[D.s]||D.f-M.f});n<s;++n){var C=a[n].s;if(g[C]>t)y+=w-(1<<_-g[C]),g[C]=t;else break}for(y>>=j;y>0;){var k=a[n].s;g[k]<t?y-=1<<t-g[k]++-1:++n}for(;n>=0&&y;--n){var T=a[n].s;g[T]==t&&(--g[T],++y)}_=t}return{t:new Wd(g),l:_}},pO=function(e,t,r){return e.s==-1?Math.max(pO(e.l,t,r+1),pO(e.r,t,r+1)):t[e.s]=r},pW=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xc(++t),n=0,s=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Lb=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},nle=function(e,t,r){var n=r.length,s=rle(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<n;++a)e[s+a+4]=r[a];return(s+4+n)*8},gW=function(e,t,r,n,s,a,o,l,c,d,f){wh(t,f++,r),++s[256];for(var h=o6(s,15),v=h.t,g=h.l,_=o6(a,15),y=_.t,j=_.l,w=pW(v),C=w.c,k=w.n,T=pW(y),P=T.c,D=T.n,M=new Xc(19),I=0;I<C.length;++I)++M[C[I]&31];for(var I=0;I<P.length;++I)++M[P[I]&31];for(var B=o6(M,7),V=B.t,U=B.l,q=19;q>4&&!V[hW[q-1]];--q);var re=d+5<<3,H=Lb(s,Ug)+Lb(a,BS)+o,X=Lb(s,v)+Lb(a,y)+o+14+3*q+Lb(M,V)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&re<=H&&re<=X)return nle(t,f,e.subarray(c,c+d));var Q,se,te,ce;if(wh(t,f,1+(X<H)),f+=2,X<H){Q=k2(v,g,0),se=v,te=k2(y,j,0),ce=y;var xe=k2(V,U,0);wh(t,f,k-257),wh(t,f+5,D-1),wh(t,f+10,q-4),f+=14;for(var I=0;I<q;++I)wh(t,f+3*I,V[hW[I]]);f+=3*q;for(var de=[C,P],ee=0;ee<2;++ee)for(var fe=de[ee],I=0;I<fe.length;++I){var ne=fe[I]&31;wh(t,f,xe[ne]),f+=V[ne],ne>15&&(wh(t,f,fe[I]>>5&127),f+=fe[I]>>12)}}else Q=Knt,se=Ug,te=Ynt,ce=BS;for(var I=0;I<l;++I){var Y=n[I];if(Y>255){var ne=Y>>18&31;Ib(t,f,Q[ne+257]),f+=se[ne+257],ne>7&&(wh(t,f,Y>>23&31),f+=GM[ne]);var ue=Y&31;Ib(t,f,te[ue]),f+=ce[ue],ue>3&&(Ib(t,f,Y>>5&8191),f+=KM[ue])}else Ib(t,f,Q[Y]),f+=se[Y]}return Ib(t,f,Q[256]),f+se[256]},Jnt=new HM([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ale=new Wd(0),Znt=function(e,t,r,n,s,a){var o=a.z||e.length,l=new Wd(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),d=a.l,f=(a.r||0)&7;if(t){f&&(c[0]=a.r>>3);for(var h=Jnt[t-1],v=h>>13,g=h&8191,_=(1<<r)-1,y=a.p||new Xc(32768),j=a.h||new Xc(_+1),w=Math.ceil(r/3),C=2*w,k=function($e){return(e[$e]^e[$e+1]<<w^e[$e+2]<<C)&_},T=new HM(25e3),P=new Xc(288),D=new Xc(32),M=0,I=0,B=a.i||0,V=0,U=a.w||0,q=0;B+2<o;++B){var re=k(B),H=B&32767,X=j[re];if(y[H]=X,j[re]=H,U<=B){var Q=o-B;if((M>7e3||V>24576)&&(Q>423||!d)){f=gW(e,c,0,T,P,D,I,V,q,B-q,f),V=M=I=0,q=B;for(var se=0;se<286;++se)P[se]=0;for(var se=0;se<30;++se)D[se]=0}var te=2,ce=0,xe=g,de=H-X&32767;if(Q>2&&re==k(B-de))for(var ee=Math.min(v,Q)-1,fe=Math.min(32767,B),ne=Math.min(258,Q);de<=fe&&--xe&&H!=X;){if(e[B+te]==e[B+te-de]){for(var Y=0;Y<ne&&e[B+Y]==e[B+Y-de];++Y);if(Y>te){if(te=Y,ce=de,Y>ee)break;for(var ue=Math.min(de,Y-2),le=0,se=0;se<ue;++se){var ke=B-de+se&32767,_e=y[ke],Fe=ke-_e&32767;Fe>le&&(le=Fe,X=ke)}}}H=X,X=y[H],de+=H-X&32767}if(ce){T[V++]=268435456|hO[te]<<18|mW[ce];var Be=hO[te]&31,Re=mW[ce]&31;I+=GM[Be]+KM[Re],++P[257+Be],++D[Re],U=B+te,++M}else T[V++]=e[B],++P[e[B]]}}for(B=Math.max(B,U);B<o;++B)T[V++]=e[B],++P[e[B]];f=gW(e,c,d,T,P,D,I,V,q,B-q,f),d||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=j,a.p=y,a.i=B,a.w=U)}else{for(var B=a.w||0;B<o+d;B+=65535){var Te=B+65535;Te>=o&&(c[f/8|0]=d,Te=o),f=nle(c,f+1,e.subarray(B,Te))}a.i=o}return Xnt(l,0,n+rle(f)+s)},sle=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Qnt=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Wd(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return Znt(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},ile=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},eat=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=sle();s.p(t.dictionary),ile(e,2,s.d())}};function gO(e,t){t||(t={});var r=sle();r.p(e);var n=Qnt(e,t,t.dictionary?6:2,4);return eat(n,t),ile(n,n.length-4,r.d()),n}var tat=typeof TextDecoder<"u"&&new TextDecoder,rat=0;try{tat.decode(ale,{stream:!0}),rat=1}catch{}function nat(e){if(Array.isArray(e))return e}function aat(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function vW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function sat(e,t){if(e){if(typeof e=="string")return vW(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vW(e,t):void 0}}function iat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xW(e,t){return nat(e)||aat(e,t)||sat(e,t)||iat()}function yW(e,t="utf8"){return new TextDecoder(t).decode(e)}const oat=new TextEncoder;function lat(e){return oat.encode(e)}const cat=1024*8,uat=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),l6={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class YM{constructor(t=cat,r={}){Va(this,"buffer");Va(this,"byteLength");Va(this,"byteOffset");Va(this,"length");Va(this,"offset");Va(this,"lastWrittenByte");Va(this,"littleEndian");Va(this,"_data");Va(this,"_mark");Va(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,a=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof YM)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=l6[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+n);if(this.littleEndian===uat&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new l6[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new l6[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return yW(this.readBytes(t))}decodeText(t=1,r="utf8"){return yW(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(lat(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const dat=4,bW=0,wW=1,fat=2;function Cy(e){let t=e.length;for(;--t>=0;)e[t]=0}const hat=0,ole=1,mat=2,pat=3,gat=258,XM=29,X_=256,Qw=X_+1+XM,q1=30,JM=19,lle=2*Qw+1,ug=15,c6=16,vat=7,ZM=256,cle=16,ule=17,dle=18,vO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),xat=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),fle=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yat=512,kh=new Array((Qw+2)*2);Cy(kh);const E2=new Array(q1*2);Cy(E2);const e_=new Array(yat);Cy(e_);const t_=new Array(gat-pat+1);Cy(t_);const QM=new Array(XM);Cy(QM);const zS=new Array(q1);Cy(zS);function u6(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let hle,mle,ple;function d6(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const gle=e=>e<256?e_[e]:e_[256+(e>>>7)],r_=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},_c=(e,t,r)=>{e.bi_valid>c6-r?(e.bi_buf|=t<<e.bi_valid&65535,r_(e,e.bi_buf),e.bi_buf=t>>c6-e.bi_valid,e.bi_valid+=r-c6):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Cf=(e,t,r)=>{_c(e,r[t*2],r[t*2+1])},vle=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},bat=e=>{e.bi_valid===16?(r_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},wat=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,f,h,v,g,_,y=0;for(v=0;v<=ug;v++)e.bl_count[v]=0;for(r[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<lle;d++)f=e.heap[d],v=r[r[f*2+1]*2+1]+1,v>c&&(v=c,y++),r[f*2+1]=v,!(f>n)&&(e.bl_count[v]++,g=0,f>=l&&(g=o[f-l]),_=r[f*2],e.opt_len+=_*(v+g),a&&(e.static_len+=_*(s[f*2+1]+g)));if(y!==0){do{for(v=c-1;e.bl_count[v]===0;)v--;e.bl_count[v]--,e.bl_count[v+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(v=c;v!==0;v--)for(f=e.bl_count[v];f!==0;)h=e.heap[--d],!(h>n)&&(r[h*2+1]!==v&&(e.opt_len+=(v-r[h*2+1])*r[h*2],r[h*2+1]=v),f--)}},xle=(e,t,r)=>{const n=new Array(ug+1);let s=0,a,o;for(a=1;a<=ug;a++)s=s+r[a-1]<<1,n[a]=s;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=vle(n[l]++,l))}},_at=()=>{let e,t,r,n,s;const a=new Array(ug+1);for(r=0,n=0;n<XM-1;n++)for(QM[n]=r,e=0;e<1<<vO[n];e++)t_[r++]=n;for(t_[r-1]=n,s=0,n=0;n<16;n++)for(zS[n]=s,e=0;e<1<<T4[n];e++)e_[s++]=n;for(s>>=7;n<q1;n++)for(zS[n]=s<<7,e=0;e<1<<T4[n]-7;e++)e_[256+s++]=n;for(t=0;t<=ug;t++)a[t]=0;for(e=0;e<=143;)kh[e*2+1]=8,e++,a[8]++;for(;e<=255;)kh[e*2+1]=9,e++,a[9]++;for(;e<=279;)kh[e*2+1]=7,e++,a[7]++;for(;e<=287;)kh[e*2+1]=8,e++,a[8]++;for(xle(kh,Qw+1,a),e=0;e<q1;e++)E2[e*2+1]=5,E2[e*2]=vle(e,5);hle=new u6(kh,vO,X_+1,Qw,ug),mle=new u6(E2,T4,0,q1,ug),ple=new u6(new Array(0),xat,0,JM,vat)},yle=e=>{let t;for(t=0;t<Qw;t++)e.dyn_ltree[t*2]=0;for(t=0;t<q1;t++)e.dyn_dtree[t*2]=0;for(t=0;t<JM;t++)e.bl_tree[t*2]=0;e.dyn_ltree[ZM*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},ble=e=>{e.bi_valid>8?r_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},_W=(e,t,r,n)=>{const s=t*2,a=r*2;return e[s]<e[a]||e[s]===e[a]&&n[t]<=n[r]},f6=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&_W(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!_W(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},jW=(e,t,r)=>{let n,s,a=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,s=e.pending_buf[e.sym_buf+a++],n===0?Cf(e,s,t):(o=t_[s],Cf(e,o+X_+1,t),l=vO[o],l!==0&&(s-=QM[o],_c(e,s,l)),n--,o=gle(n),Cf(e,o,r),l=T4[o],l!==0&&(n-=zS[o],_c(e,n,l)));while(a<e.sym_next);Cf(e,ZM,t)},xO=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,l,c=-1,d;for(e.heap_len=0,e.heap_max=lle,o=0;o<a;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,r[d*2]=1,e.depth[d]=0,e.opt_len--,s&&(e.static_len-=n[d*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)f6(e,r,o);d=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],f6(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[d*2]=r[o*2]+r[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=d,e.heap[1]=d++,f6(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],wat(e,t),xle(r,c,e.bl_count)},NW=(e,t,r)=>{let n,s=-1,a,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)a=o,o=t[(n+1)*2+1],!(++l<c&&a===o)&&(l<d?e.bl_tree[a*2]+=l:a!==0?(a!==s&&e.bl_tree[a*2]++,e.bl_tree[cle*2]++):l<=10?e.bl_tree[ule*2]++:e.bl_tree[dle*2]++,l=0,s=a,o===0?(c=138,d=3):a===o?(c=6,d=3):(c=7,d=4))},SW=(e,t,r)=>{let n,s=-1,a,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),n=0;n<=r;n++)if(a=o,o=t[(n+1)*2+1],!(++l<c&&a===o)){if(l<d)do Cf(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==s&&(Cf(e,a,e.bl_tree),l--),Cf(e,cle,e.bl_tree),_c(e,l-3,2)):l<=10?(Cf(e,ule,e.bl_tree),_c(e,l-3,3)):(Cf(e,dle,e.bl_tree),_c(e,l-11,7));l=0,s=a,o===0?(c=138,d=3):a===o?(c=6,d=3):(c=7,d=4)}},jat=e=>{let t;for(NW(e,e.dyn_ltree,e.l_desc.max_code),NW(e,e.dyn_dtree,e.d_desc.max_code),xO(e,e.bl_desc),t=JM-1;t>=3&&e.bl_tree[fle[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Nat=(e,t,r,n)=>{let s;for(_c(e,t-257,5),_c(e,r-1,5),_c(e,n-4,4),s=0;s<n;s++)_c(e,e.bl_tree[fle[s]*2+1],3);SW(e,e.dyn_ltree,t-1),SW(e,e.dyn_dtree,r-1)},Sat=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return bW;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return wW;for(r=32;r<X_;r++)if(e.dyn_ltree[r*2]!==0)return wW;return bW};let CW=!1;const Cat=e=>{CW||(_at(),CW=!0),e.l_desc=new d6(e.dyn_ltree,hle),e.d_desc=new d6(e.dyn_dtree,mle),e.bl_desc=new d6(e.bl_tree,ple),e.bi_buf=0,e.bi_valid=0,yle(e)},wle=(e,t,r,n)=>{_c(e,(hat<<1)+(n?1:0),3),ble(e),r_(e,r),r_(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Aat=e=>{_c(e,ole<<1,3),Cf(e,ZM,kh),bat(e)},kat=(e,t,r,n)=>{let s,a,o=0;e.level>0?(e.strm.data_type===fat&&(e.strm.data_type=Sat(e)),xO(e,e.l_desc),xO(e,e.d_desc),o=jat(e),s=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=s&&(s=a)):s=a=r+5,r+4<=s&&t!==-1?wle(e,t,r,n):e.strategy===dat||a===s?(_c(e,(ole<<1)+(n?1:0),3),jW(e,kh,E2)):(_c(e,(mat<<1)+(n?1:0),3),Nat(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),jW(e,e.dyn_ltree,e.dyn_dtree)),yle(e),n&&ble(e)},Eat=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(t_[r]+X_+1)*2]++,e.dyn_dtree[gle(t)*2]++),e.sym_next===e.sym_end);var Tat=Cat,Pat=wle,Oat=kat,Fat=Eat,Dat=Aat,Rat={_tr_init:Tat,_tr_stored_block:Pat,_tr_flush_block:Oat,_tr_tally:Fat,_tr_align:Dat};const Mat=(e,t,r,n)=>{let s=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,a=a+s|0;while(--o);s%=65521,a%=65521}return s|a<<16|0};var n_=Mat;const Iat=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Lat=new Uint32Array(Iat()),$at=(e,t,r,n)=>{const s=Lat,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Bo=$at,qx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},J_={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Bat,_tr_stored_block:yO,_tr_flush_block:zat,_tr_tally:_p,_tr_align:Uat}=Rat,{Z_NO_FLUSH:jp,Z_PARTIAL_FLUSH:Vat,Z_FULL_FLUSH:qat,Z_FINISH:Bu,Z_BLOCK:AW,Z_OK:ol,Z_STREAM_END:kW,Z_STREAM_ERROR:zf,Z_DATA_ERROR:Wat,Z_BUF_ERROR:h6,Z_DEFAULT_COMPRESSION:Hat,Z_FILTERED:Gat,Z_HUFFMAN_ONLY:Uj,Z_RLE:Kat,Z_FIXED:Yat,Z_DEFAULT_STRATEGY:Xat,Z_UNKNOWN:Jat,Z_DEFLATED:CA}=J_,Zat=9,Qat=15,est=8,tst=29,rst=256,bO=rst+1+tst,nst=30,ast=19,sst=2*bO+1,ist=15,pa=3,ap=258,Uf=ap+pa+1,ost=32,Wx=42,eI=57,wO=69,_O=73,jO=91,NO=103,dg=113,Zb=666,Jl=1,Ay=2,Vg=3,ky=4,lst=3,fg=(e,t)=>(e.msg=qx[t],t),EW=e=>e*2-(e>4?9:0),Zm=e=>{let t=e.length;for(;--t>=0;)e[t]=0},cst=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let ust=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Np=ust;const zc=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Jc=(e,t)=>{zat(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,zc(e.strm)},qa=(e,t)=>{e.pending_buf[e.pending++]=t},$b=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},SO=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=n_(e.adler,t,s,r):e.state.wrap===2&&(e.adler=Bo(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},_le=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,a,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-Uf?e.strstart-(e.w_size-Uf):0,d=e.window,f=e.w_mask,h=e.prev,v=e.strstart+ap;let g=d[n+o-1],_=d[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(d[s+o]!==_||d[s+o-1]!==g||d[s]!==d[n]||d[++s]!==d[n+1])){n+=2,s++;do;while(d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&n<v);if(a=ap-(v-n),n=v-ap,a>o){if(e.match_start=t,o=a,a>=l)break;g=d[n+o-1],_=d[n+o]}}while((t=h[t&f])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},Hx=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Uf)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),cst(e),n+=t),e.strm.avail_in===0)break;if(r=SO(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=pa)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Np(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Np(e,e.ins_h,e.window[s+pa-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<pa)););}while(e.lookahead<Uf&&e.strm.avail_in!==0)},jle=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,a,o=0,l=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&t!==Bu||t===jp||n!==s+e.strm.avail_in)))break;o=t===Bu&&n===s+e.strm.avail_in?1:0,yO(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,zc(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(SO(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?ky:t!==jp&&t!==Bu&&e.strm.avail_in===0&&e.strstart===e.block_start?Ay:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(SO(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,s=e.strstart-e.block_start,(s>=r||(s||t===Bu)&&t!==jp&&e.strm.avail_in===0&&s<=a)&&(n=s>a?a:s,o=t===Bu&&e.strm.avail_in===0&&n===s?1:0,yO(e,e.block_start,n,o),e.block_start+=n,zc(e.strm)),o?Vg:Jl)},m6=(e,t)=>{let r,n;for(;;){if(e.lookahead<Uf){if(Hx(e),e.lookahead<Uf&&t===jp)return Jl;if(e.lookahead===0)break}if(r=0,e.lookahead>=pa&&(e.ins_h=Np(e,e.ins_h,e.window[e.strstart+pa-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Uf&&(e.match_length=_le(e,r)),e.match_length>=pa)if(n=_p(e,e.strstart-e.match_start,e.match_length-pa),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pa){e.match_length--;do e.strstart++,e.ins_h=Np(e,e.ins_h,e.window[e.strstart+pa-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Np(e,e.ins_h,e.window[e.strstart+1]);else n=_p(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Jc(e,!1),e.strm.avail_out===0))return Jl}return e.insert=e.strstart<pa-1?e.strstart:pa-1,t===Bu?(Jc(e,!0),e.strm.avail_out===0?Vg:ky):e.sym_next&&(Jc(e,!1),e.strm.avail_out===0)?Jl:Ay},Gv=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<Uf){if(Hx(e),e.lookahead<Uf&&t===jp)return Jl;if(e.lookahead===0)break}if(r=0,e.lookahead>=pa&&(e.ins_h=Np(e,e.ins_h,e.window[e.strstart+pa-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pa-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Uf&&(e.match_length=_le(e,r),e.match_length<=5&&(e.strategy===Gat||e.match_length===pa&&e.strstart-e.match_start>4096)&&(e.match_length=pa-1)),e.prev_length>=pa&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-pa,n=_p(e,e.strstart-1-e.prev_match,e.prev_length-pa),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Np(e,e.ins_h,e.window[e.strstart+pa-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pa-1,e.strstart++,n&&(Jc(e,!1),e.strm.avail_out===0))return Jl}else if(e.match_available){if(n=_p(e,0,e.window[e.strstart-1]),n&&Jc(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Jl}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=_p(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pa-1?e.strstart:pa-1,t===Bu?(Jc(e,!0),e.strm.avail_out===0?Vg:ky):e.sym_next&&(Jc(e,!1),e.strm.avail_out===0)?Jl:Ay},dst=(e,t)=>{let r,n,s,a;const o=e.window;for(;;){if(e.lookahead<=ap){if(Hx(e),e.lookahead<=ap&&t===jp)return Jl;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pa&&e.strstart>0&&(s=e.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){a=e.strstart+ap;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<a);e.match_length=ap-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pa?(r=_p(e,1,e.match_length-pa),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=_p(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Jc(e,!1),e.strm.avail_out===0))return Jl}return e.insert=0,t===Bu?(Jc(e,!0),e.strm.avail_out===0?Vg:ky):e.sym_next&&(Jc(e,!1),e.strm.avail_out===0)?Jl:Ay},fst=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Hx(e),e.lookahead===0)){if(t===jp)return Jl;break}if(e.match_length=0,r=_p(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Jc(e,!1),e.strm.avail_out===0))return Jl}return e.insert=0,t===Bu?(Jc(e,!0),e.strm.avail_out===0?Vg:ky):e.sym_next&&(Jc(e,!1),e.strm.avail_out===0)?Jl:Ay};function yf(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const Qb=[new yf(0,0,0,0,jle),new yf(4,4,8,4,m6),new yf(4,5,16,8,m6),new yf(4,6,32,32,m6),new yf(4,4,16,16,Gv),new yf(8,16,32,32,Gv),new yf(8,16,128,128,Gv),new yf(8,32,128,256,Gv),new yf(32,128,258,1024,Gv),new yf(32,258,258,4096,Gv)],hst=e=>{e.window_size=2*e.w_size,Zm(e.head),e.max_lazy_match=Qb[e.level].max_lazy,e.good_match=Qb[e.level].good_length,e.nice_match=Qb[e.level].nice_length,e.max_chain_length=Qb[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pa-1,e.match_available=0,e.ins_h=0};function mst(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=CA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(sst*2),this.dyn_dtree=new Uint16Array((2*nst+1)*2),this.bl_tree=new Uint16Array((2*ast+1)*2),Zm(this.dyn_ltree),Zm(this.dyn_dtree),Zm(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ist+1),this.heap=new Uint16Array(2*bO+1),Zm(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bO+1),Zm(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Z_=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Wx&&t.status!==eI&&t.status!==wO&&t.status!==_O&&t.status!==jO&&t.status!==NO&&t.status!==dg&&t.status!==Zb?1:0},Nle=e=>{if(Z_(e))return fg(e,zf);e.total_in=e.total_out=0,e.data_type=Jat;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?eI:t.wrap?Wx:dg,e.adler=t.wrap===2?0:1,t.last_flush=-2,Bat(t),ol},Sle=e=>{const t=Nle(e);return t===ol&&hst(e.state),t},pst=(e,t)=>Z_(e)||e.state.wrap!==2?zf:(e.state.gzhead=t,ol),Cle=(e,t,r,n,s,a)=>{if(!e)return zf;let o=1;if(t===Hat&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>Zat||r!==CA||n<8||n>15||t<0||t>9||a<0||a>Yat||n===8&&o!==1)return fg(e,zf);n===8&&(n=9);const l=new mst;return e.state=l,l.strm=e,l.status=Wx,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+pa-1)/pa),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=a,l.method=r,Sle(e)},gst=(e,t)=>Cle(e,t,CA,Qat,est,Xat),vst=(e,t)=>{if(Z_(e)||t>AW||t<0)return e?fg(e,zf):zf;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Zb&&t!==Bu)return fg(e,e.avail_out===0?h6:zf);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(zc(e),e.avail_out===0)return r.last_flush=-1,ol}else if(e.avail_in===0&&EW(t)<=EW(n)&&t!==Bu)return fg(e,h6);if(r.status===Zb&&e.avail_in!==0)return fg(e,h6);if(r.status===Wx&&r.wrap===0&&(r.status=dg),r.status===Wx){let s=CA+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=Uj||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=ost),s+=31-s%31,$b(r,s),r.strstart!==0&&($b(r,e.adler>>>16),$b(r,e.adler&65535)),e.adler=1,r.status=dg,zc(e),r.pending!==0)return r.last_flush=-1,ol}if(r.status===eI){if(e.adler=0,qa(r,31),qa(r,139),qa(r,8),r.gzhead)qa(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),qa(r,r.gzhead.time&255),qa(r,r.gzhead.time>>8&255),qa(r,r.gzhead.time>>16&255),qa(r,r.gzhead.time>>24&255),qa(r,r.level===9?2:r.strategy>=Uj||r.level<2?4:0),qa(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(qa(r,r.gzhead.extra.length&255),qa(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Bo(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=wO;else if(qa(r,0),qa(r,0),qa(r,0),qa(r,0),qa(r,0),qa(r,r.level===9?2:r.strategy>=Uj||r.level<2?4:0),qa(r,lst),r.status=dg,zc(e),r.pending!==0)return r.last_flush=-1,ol}if(r.status===wO){if(r.gzhead.extra){let s=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=Bo(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,zc(e),r.pending!==0)return r.last_flush=-1,ol;s=0,a-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>s&&(e.adler=Bo(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=_O}if(r.status===_O){if(r.gzhead.name){let s=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=Bo(e.adler,r.pending_buf,r.pending-s,s)),zc(e),r.pending!==0)return r.last_flush=-1,ol;s=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,qa(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=Bo(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=jO}if(r.status===jO){if(r.gzhead.comment){let s=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=Bo(e.adler,r.pending_buf,r.pending-s,s)),zc(e),r.pending!==0)return r.last_flush=-1,ol;s=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,qa(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=Bo(e.adler,r.pending_buf,r.pending-s,s))}r.status=NO}if(r.status===NO){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(zc(e),r.pending!==0))return r.last_flush=-1,ol;qa(r,e.adler&255),qa(r,e.adler>>8&255),e.adler=0}if(r.status=dg,zc(e),r.pending!==0)return r.last_flush=-1,ol}if(e.avail_in!==0||r.lookahead!==0||t!==jp&&r.status!==Zb){let s=r.level===0?jle(r,t):r.strategy===Uj?fst(r,t):r.strategy===Kat?dst(r,t):Qb[r.level].func(r,t);if((s===Vg||s===ky)&&(r.status=Zb),s===Jl||s===Vg)return e.avail_out===0&&(r.last_flush=-1),ol;if(s===Ay&&(t===Vat?Uat(r):t!==AW&&(yO(r,0,0,!1),t===qat&&(Zm(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),zc(e),e.avail_out===0))return r.last_flush=-1,ol}return t!==Bu?ol:r.wrap<=0?kW:(r.wrap===2?(qa(r,e.adler&255),qa(r,e.adler>>8&255),qa(r,e.adler>>16&255),qa(r,e.adler>>24&255),qa(r,e.total_in&255),qa(r,e.total_in>>8&255),qa(r,e.total_in>>16&255),qa(r,e.total_in>>24&255)):($b(r,e.adler>>>16),$b(r,e.adler&65535)),zc(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ol:kW)},xst=e=>{if(Z_(e))return zf;const t=e.state.status;return e.state=null,t===dg?fg(e,Wat):ol},yst=(e,t)=>{let r=t.length;if(Z_(e))return zf;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==Wx||n.lookahead)return zf;if(s===1&&(e.adler=n_(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(Zm(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const a=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Hx(n);n.lookahead>=pa;){let c=n.strstart,d=n.lookahead-(pa-1);do n.ins_h=Np(n,n.ins_h,n.window[c+pa-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--d);n.strstart=c,n.lookahead=pa-1,Hx(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=pa-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=a,n.wrap=s,ol};var bst=gst,wst=Cle,_st=Sle,jst=Nle,Nst=pst,Sst=vst,Cst=xst,Ast=yst,kst="pako deflate (from Nodeca project)",T2={deflateInit:bst,deflateInit2:wst,deflateReset:_st,deflateResetKeep:jst,deflateSetHeader:Nst,deflate:Sst,deflateEnd:Cst,deflateSetDictionary:Ast,deflateInfo:kst};const Est=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Tst=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Est(r,n)&&(e[n]=r[n])}}return e},Pst=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,a=e.length;n<a;n++){let o=e[n];r.set(o,s),s+=o.length}return r},AA={assign:Tst,flattenChunks:Pst};let Ale=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ale=!1}const a_=new Uint8Array(256);for(let e=0;e<256;e++)a_[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;a_[254]=a_[254]=1;var Ost=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,a,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),a=0,s=0;a<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const Fst=(e,t)=>{if(t<65534&&e.subarray&&Ale)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Dst=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const a=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){a[s++]=o;continue}let l=a_[o];if(l>4){a[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){a[s++]=65533;continue}o<65536?a[s++]=o:(o-=65536,a[s++]=55296|o>>10&1023,a[s++]=56320|o&1023)}return Fst(a,s)},Rst=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+a_[e[r]]>t?r:t},s_={string2buf:Ost,buf2string:Dst,utf8border:Rst};function Mst(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kle=Mst;const Ele=Object.prototype.toString,{Z_NO_FLUSH:Ist,Z_SYNC_FLUSH:Lst,Z_FULL_FLUSH:$st,Z_FINISH:Bst,Z_OK:US,Z_STREAM_END:zst,Z_DEFAULT_COMPRESSION:Ust,Z_DEFAULT_STRATEGY:Vst,Z_DEFLATED:qst}=J_;function tI(e){this.options=AA.assign({level:Ust,method:qst,chunkSize:16384,windowBits:15,memLevel:8,strategy:Vst},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kle,this.strm.avail_out=0;let r=T2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==US)throw new Error(qx[r]);if(t.header&&T2.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=s_.string2buf(t.dictionary):Ele.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=T2.deflateSetDictionary(this.strm,n),r!==US)throw new Error(qx[r]);this._dict_set=!0}}tI.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Bst:Ist,typeof e=="string"?r.input=s_.string2buf(e):Ele.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===Lst||a===$st)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=T2.deflate(r,a),s===zst)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=T2.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===US;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};tI.prototype.onData=function(e){this.chunks.push(e)};tI.prototype.onEnd=function(e){e===US&&(this.result=AA.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Vj=16209,Wst=16191;var Hst=function(t,r){let n,s,a,o,l,c,d,f,h,v,g,_,y,j,w,C,k,T,P,D,M,I,B,V;const U=t.state;n=t.next_in,B=t.input,s=n+(t.avail_in-5),a=t.next_out,V=t.output,o=a-(r-t.avail_out),l=a+(t.avail_out-257),c=U.dmax,d=U.wsize,f=U.whave,h=U.wnext,v=U.window,g=U.hold,_=U.bits,y=U.lencode,j=U.distcode,w=(1<<U.lenbits)-1,C=(1<<U.distbits)-1;e:do{_<15&&(g+=B[n++]<<_,_+=8,g+=B[n++]<<_,_+=8),k=y[g&w];t:for(;;){if(T=k>>>24,g>>>=T,_-=T,T=k>>>16&255,T===0)V[a++]=k&65535;else if(T&16){P=k&65535,T&=15,T&&(_<T&&(g+=B[n++]<<_,_+=8),P+=g&(1<<T)-1,g>>>=T,_-=T),_<15&&(g+=B[n++]<<_,_+=8,g+=B[n++]<<_,_+=8),k=j[g&C];r:for(;;){if(T=k>>>24,g>>>=T,_-=T,T=k>>>16&255,T&16){if(D=k&65535,T&=15,_<T&&(g+=B[n++]<<_,_+=8,_<T&&(g+=B[n++]<<_,_+=8)),D+=g&(1<<T)-1,D>c){t.msg="invalid distance too far back",U.mode=Vj;break e}if(g>>>=T,_-=T,T=a-o,D>T){if(T=D-T,T>f&&U.sane){t.msg="invalid distance too far back",U.mode=Vj;break e}if(M=0,I=v,h===0){if(M+=d-T,T<P){P-=T;do V[a++]=v[M++];while(--T);M=a-D,I=V}}else if(h<T){if(M+=d+h-T,T-=h,T<P){P-=T;do V[a++]=v[M++];while(--T);if(M=0,h<P){T=h,P-=T;do V[a++]=v[M++];while(--T);M=a-D,I=V}}}else if(M+=h-T,T<P){P-=T;do V[a++]=v[M++];while(--T);M=a-D,I=V}for(;P>2;)V[a++]=I[M++],V[a++]=I[M++],V[a++]=I[M++],P-=3;P&&(V[a++]=I[M++],P>1&&(V[a++]=I[M++]))}else{M=a-D;do V[a++]=V[M++],V[a++]=V[M++],V[a++]=V[M++],P-=3;while(P>2);P&&(V[a++]=V[M++],P>1&&(V[a++]=V[M++]))}}else if(T&64){t.msg="invalid distance code",U.mode=Vj;break e}else{k=j[(k&65535)+(g&(1<<T)-1)];continue r}break}}else if(T&64)if(T&32){U.mode=Wst;break e}else{t.msg="invalid literal/length code",U.mode=Vj;break e}else{k=y[(k&65535)+(g&(1<<T)-1)];continue t}break}}while(n<s&&a<l);P=_>>3,n-=P,_-=P<<3,g&=(1<<_)-1,t.next_in=n,t.next_out=a,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=a<l?257+(l-a):257-(a-l),U.hold=g,U.bits=_};const Kv=15,TW=852,PW=592,OW=0,p6=1,FW=2,Gst=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Kst=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Yst=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xst=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Jst=(e,t,r,n,s,a,o,l)=>{const c=l.bits;let d=0,f=0,h=0,v=0,g=0,_=0,y=0,j=0,w=0,C=0,k,T,P,D,M,I=null,B;const V=new Uint16Array(Kv+1),U=new Uint16Array(Kv+1);let q=null,re,H,X;for(d=0;d<=Kv;d++)V[d]=0;for(f=0;f<n;f++)V[t[r+f]]++;for(g=c,v=Kv;v>=1&&V[v]===0;v--);if(g>v&&(g=v),v===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<v&&V[h]===0;h++);for(g<h&&(g=h),j=1,d=1;d<=Kv;d++)if(j<<=1,j-=V[d],j<0)return-1;if(j>0&&(e===OW||v!==1))return-1;for(U[1]=0,d=1;d<Kv;d++)U[d+1]=U[d]+V[d];for(f=0;f<n;f++)t[r+f]!==0&&(o[U[t[r+f]]++]=f);if(e===OW?(I=q=o,B=20):e===p6?(I=Gst,q=Kst,B=257):(I=Yst,q=Xst,B=0),C=0,f=0,d=h,M=a,_=g,y=0,P=-1,w=1<<g,D=w-1,e===p6&&w>TW||e===FW&&w>PW)return 1;for(;;){re=d-y,o[f]+1<B?(H=0,X=o[f]):o[f]>=B?(H=q[o[f]-B],X=I[o[f]-B]):(H=32+64,X=0),k=1<<d-y,T=1<<_,h=T;do T-=k,s[M+(C>>y)+T]=re<<24|H<<16|X|0;while(T!==0);for(k=1<<d-1;C&k;)k>>=1;if(k!==0?(C&=k-1,C+=k):C=0,f++,--V[d]===0){if(d===v)break;d=t[r+o[f]]}if(d>g&&(C&D)!==P){for(y===0&&(y=g),M+=h,_=d-y,j=1<<_;_+y<v&&(j-=V[_+y],!(j<=0));)_++,j<<=1;if(w+=1<<_,e===p6&&w>TW||e===FW&&w>PW)return 1;P=C&D,s[P]=g<<24|_<<16|M-a|0}}return C!==0&&(s[M+C]=d-y<<24|64<<16|0),l.bits=g,0};var P2=Jst;const Zst=0,Tle=1,Ple=2,{Z_FINISH:DW,Z_BLOCK:Qst,Z_TREES:qj,Z_OK:qg,Z_STREAM_END:eit,Z_NEED_DICT:tit,Z_STREAM_ERROR:ed,Z_DATA_ERROR:Ole,Z_MEM_ERROR:Fle,Z_BUF_ERROR:rit,Z_DEFLATED:RW}=J_,kA=16180,MW=16181,IW=16182,LW=16183,$W=16184,BW=16185,zW=16186,UW=16187,VW=16188,qW=16189,VS=16190,_h=16191,g6=16192,WW=16193,v6=16194,HW=16195,GW=16196,KW=16197,YW=16198,Wj=16199,Hj=16200,XW=16201,JW=16202,ZW=16203,QW=16204,eH=16205,x6=16206,tH=16207,rH=16208,$s=16209,Dle=16210,Rle=16211,nit=852,ait=592,sit=15,iit=sit,nH=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function oit(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<kA||t.mode>Rle?1:0},Mle=e=>{if(lv(e))return ed;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=kA,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(nit),t.distcode=t.distdyn=new Int32Array(ait),t.sane=1,t.back=-1,qg},Ile=e=>{if(lv(e))return ed;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Mle(e)},Lle=(e,t)=>{let r;if(lv(e))return ed;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ed:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ile(e))},$le=(e,t)=>{if(!e)return ed;const r=new oit;e.state=r,r.strm=e,r.window=null,r.mode=kA;const n=Lle(e,t);return n!==qg&&(e.state=null),n},lit=e=>$le(e,iit);let aH=!0,y6,b6;const cit=e=>{if(aH){y6=new Int32Array(512),b6=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(P2(Tle,e.lens,0,288,y6,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;P2(Ple,e.lens,0,32,b6,0,e.work,{bits:5}),aH=!1}e.lencode=y6,e.lenbits=9,e.distcode=b6,e.distbits=5},Ble=(e,t,r,n)=>{let s;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(t.subarray(r-n,r-n+s),a.wnext),n-=s,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},uit=(e,t)=>{let r,n,s,a,o,l,c,d,f,h,v,g,_,y,j=0,w,C,k,T,P,D,M,I;const B=new Uint8Array(4);let V,U;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lv(e)||!e.output||!e.input&&e.avail_in!==0)return ed;r=e.state,r.mode===_h&&(r.mode=g6),o=e.next_out,s=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,f=r.bits,h=l,v=c,I=qg;e:for(;;)switch(r.mode){case kA:if(r.wrap===0){r.mode=g6;break}for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=d&255,B[1]=d>>>8&255,r.check=Bo(r.check,B,2,0),d=0,f=0,r.mode=MW;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=$s;break}if((d&15)!==RW){e.msg="unknown compression method",r.mode=$s;break}if(d>>>=4,f-=4,M=(d&15)+8,r.wbits===0&&(r.wbits=M),M>15||M>r.wbits){e.msg="invalid window size",r.mode=$s;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?qW:_h,d=0,f=0;break;case MW:for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==RW){e.msg="unknown compression method",r.mode=$s;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=$s;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,r.check=Bo(r.check,B,2,0)),d=0,f=0,r.mode=IW;case IW:for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,r.check=Bo(r.check,B,4,0)),d=0,f=0,r.mode=LW;case LW:for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,r.check=Bo(r.check,B,2,0)),d=0,f=0,r.mode=$W;case $W:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,r.check=Bo(r.check,B,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=BW;case BW:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),M)),r.flags&512&&r.wrap&4&&(r.check=Bo(r.check,n,g,a)),l-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=zW;case zW:if(r.flags&2048){if(l===0)break e;g=0;do M=n[a+g++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M));while(M&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Bo(r.check,n,g,a)),l-=g,a+=g,M)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=UW;case UW:if(r.flags&4096){if(l===0)break e;g=0;do M=n[a+g++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M));while(M&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Bo(r.check,n,g,a)),l-=g,a+=g,M)break e}else r.head&&(r.head.comment=null);r.mode=VW;case VW:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=$s;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=_h;break;case qW:for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}e.adler=r.check=nH(d),d=0,f=0,r.mode=VS;case VS:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=f,tit;e.adler=r.check=1,r.mode=_h;case _h:if(t===Qst||t===qj)break e;case g6:if(r.last){d>>>=f&7,f-=f&7,r.mode=x6;break}for(;f<3;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=WW;break;case 1:if(cit(r),r.mode=Wj,t===qj){d>>>=2,f-=2;break e}break;case 2:r.mode=GW;break;case 3:e.msg="invalid block type",r.mode=$s}d>>>=2,f-=2;break;case WW:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=$s;break}if(r.length=d&65535,d=0,f=0,r.mode=v6,t===qj)break e;case v6:r.mode=HW;case HW:if(g=r.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;s.set(n.subarray(a,a+g),o),l-=g,a+=g,c-=g,o+=g,r.length-=g;break}r.mode=_h;break;case GW:for(;f<14;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=$s;break}r.have=0,r.mode=KW;case KW:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.lens[q[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},I=P2(Zst,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,I){e.msg="invalid code lengths set",r.mode=$s;break}r.have=0,r.mode=YW;case YW:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[d&(1<<r.lenbits)-1],w=j>>>24,C=j>>>16&255,k=j&65535,!(w<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(k<16)d>>>=w,f-=w,r.lens[r.have++]=k;else{if(k===16){for(U=w+2;f<U;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(d>>>=w,f-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=$s;break}M=r.lens[r.have-1],g=3+(d&3),d>>>=2,f-=2}else if(k===17){for(U=w+3;f<U;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=w,f-=w,M=0,g=3+(d&7),d>>>=3,f-=3}else{for(U=w+7;f<U;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=w,f-=w,M=0,g=11+(d&127),d>>>=7,f-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=$s;break}for(;g--;)r.lens[r.have++]=M}}if(r.mode===$s)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=$s;break}if(r.lenbits=9,V={bits:r.lenbits},I=P2(Tle,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,I){e.msg="invalid literal/lengths set",r.mode=$s;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},I=P2(Ple,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,I){e.msg="invalid distances set",r.mode=$s;break}if(r.mode=Wj,t===qj)break e;case Wj:r.mode=Hj;case Hj:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=f,Hst(e,v),o=e.next_out,s=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,f=r.bits,r.mode===_h&&(r.back=-1);break}for(r.back=0;j=r.lencode[d&(1<<r.lenbits)-1],w=j>>>24,C=j>>>16&255,k=j&65535,!(w<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(C&&!(C&240)){for(T=w,P=C,D=k;j=r.lencode[D+((d&(1<<T+P)-1)>>T)],w=j>>>24,C=j>>>16&255,k=j&65535,!(T+w<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=T,f-=T,r.back+=T}if(d>>>=w,f-=w,r.back+=w,r.length=k,C===0){r.mode=eH;break}if(C&32){r.back=-1,r.mode=_h;break}if(C&64){e.msg="invalid literal/length code",r.mode=$s;break}r.extra=C&15,r.mode=XW;case XW:if(r.extra){for(U=r.extra;f<U;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=JW;case JW:for(;j=r.distcode[d&(1<<r.distbits)-1],w=j>>>24,C=j>>>16&255,k=j&65535,!(w<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(!(C&240)){for(T=w,P=C,D=k;j=r.distcode[D+((d&(1<<T+P)-1)>>T)],w=j>>>24,C=j>>>16&255,k=j&65535,!(T+w<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=T,f-=T,r.back+=T}if(d>>>=w,f-=w,r.back+=w,C&64){e.msg="invalid distance code",r.mode=$s;break}r.offset=k,r.extra=C&15,r.mode=ZW;case ZW:if(r.extra){for(U=r.extra;f<U;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=$s;break}r.mode=QW;case QW:if(c===0)break e;if(g=v-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=$s;break}g>r.wnext?(g-=r.wnext,_=r.wsize-g):_=r.wnext-g,g>r.length&&(g=r.length),y=r.window}else y=s,_=o-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do s[o++]=y[_++];while(--g);r.length===0&&(r.mode=Hj);break;case eH:if(c===0)break e;s[o++]=r.length,c--,r.mode=Hj;break;case x6:if(r.wrap){for(;f<32;){if(l===0)break e;l--,d|=n[a++]<<f,f+=8}if(v-=c,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Bo(r.check,s,v,o-v):n_(r.check,s,v,o-v)),v=c,r.wrap&4&&(r.flags?d:nH(d))!==r.check){e.msg="incorrect data check",r.mode=$s;break}d=0,f=0}r.mode=tH;case tH:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=$s;break}d=0,f=0}r.mode=rH;case rH:I=eit;break e;case $s:I=Ole;break e;case Dle:return Fle;case Rle:default:return ed}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=f,(r.wsize||v!==e.avail_out&&r.mode<$s&&(r.mode<x6||t!==DW))&&Ble(e,e.output,e.next_out,v-e.avail_out),h-=e.avail_in,v-=e.avail_out,e.total_in+=h,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Bo(r.check,s,v,e.next_out-v):n_(r.check,s,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(r.mode===_h?128:0)+(r.mode===Wj||r.mode===v6?256:0),(h===0&&v===0||t===DW)&&I===qg&&(I=rit),I},dit=e=>{if(lv(e))return ed;let t=e.state;return t.window&&(t.window=null),e.state=null,qg},fit=(e,t)=>{if(lv(e))return ed;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,qg):ed},hit=(e,t)=>{const r=t.length;let n,s,a;return lv(e)||(n=e.state,n.wrap!==0&&n.mode!==VS)?ed:n.mode===VS&&(s=1,s=n_(s,t,r,0),s!==n.check)?Ole:(a=Ble(e,t,r,r),a?(n.mode=Dle,Fle):(n.havedict=1,qg))};var mit=Ile,pit=Lle,git=Mle,vit=lit,xit=$le,yit=uit,bit=dit,wit=fit,_it=hit,jit="pako inflate (from Nodeca project)",Eh={inflateReset:mit,inflateReset2:pit,inflateResetKeep:git,inflateInit:vit,inflateInit2:xit,inflate:yit,inflateEnd:bit,inflateGetHeader:wit,inflateSetDictionary:_it,inflateInfo:jit};function Nit(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Sit=Nit;const zle=Object.prototype.toString,{Z_NO_FLUSH:Cit,Z_FINISH:Ait,Z_OK:i_,Z_STREAM_END:w6,Z_NEED_DICT:_6,Z_STREAM_ERROR:kit,Z_DATA_ERROR:sH,Z_MEM_ERROR:Eit}=J_;function Q_(e){this.options=AA.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kle,this.strm.avail_out=0;let r=Eh.inflateInit2(this.strm,t.windowBits);if(r!==i_)throw new Error(qx[r]);if(this.header=new Sit,Eh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=s_.string2buf(t.dictionary):zle.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Eh.inflateSetDictionary(this.strm,t.dictionary),r!==i_)))throw new Error(qx[r])}Q_.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Ait:Cit,zle.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Eh.inflate(r,o),a===_6&&s&&(a=Eh.inflateSetDictionary(r,s),a===i_?a=Eh.inflate(r,o):a===sH&&(a=_6));r.avail_in>0&&a===w6&&r.state.wrap>0&&e[r.next_in]!==0;)Eh.inflateReset(r),a=Eh.inflate(r,o);switch(a){case kit:case sH:case _6:case Eit:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===w6))if(this.options.to==="string"){let c=s_.utf8border(r.output,r.next_out),d=r.next_out-c,f=s_.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===i_&&l===0)){if(a===w6)return a=Eh.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Q_.prototype.onData=function(e){this.chunks.push(e)};Q_.prototype.onEnd=function(e){e===i_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=AA.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function rI(e,t){const r=new Q_(t);if(r.push(e),r.err)throw r.msg||qx[r.err];return r.result}function Tit(e,t){return t=t||{},t.raw=!0,rI(e,t)}var Pit=Q_,Oit=rI,Fit=Tit,Dit=rI,Rit=J_,Mit={Inflate:Pit,inflate:Oit,inflateRaw:Fit,ungzip:Dit,constants:Rit};const{Inflate:Iit,inflate:Lit,inflateRaw:rdt,ungzip:ndt}=Mit;var iH=Iit,$it=Lit;const Ule=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Ule[e]=t}const oH=4294967295;function Bit(e,t,r){let n=e;for(let s=0;s<r;s++)n=Ule[(n^t[s])&255]^n>>>8;return n}function zit(e,t){return(Bit(oH,e,t)^oH)>>>0}function lH(e,t,r){const n=e.readUint32(),s=zit(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function Vle(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function qle(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function Wle(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function Hle(e,t,r,n,s){let a=0;if(r.length===0){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-s]>>1)&255}else{for(;a<s;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-s]+r[a]>>1)&255}}function Gle(e,t,r,n,s){let a=0;if(r.length===0){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-s]&255}else{for(;a<s;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Uit(t[a-s],r[a],r[a-s])&255}}function Uit(e,t,r){const n=e+t-r,s=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return s<=a&&s<=o?e:a<=o?t:r}function Vit(e,t,r,n,s,a){switch(e){case 0:Vle(t,r,s);break;case 1:qle(t,r,s,a);break;case 2:Wle(t,r,n,s);break;case 3:Hle(t,r,n,s,a);break;case 4:Gle(t,r,n,s,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const qit=new Uint16Array([255]),Wit=new Uint8Array(qit.buffer),Hit=Wit[0]===255;function Git(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*s,c=new Uint8Array(n*r*l);let d=0;for(let f=0;f<7;f++){const h=o[f],v=Math.ceil((r-h.x)/h.xStep),g=Math.ceil((n-h.y)/h.yStep);if(v<=0||g<=0)continue;const _=v*l,y=new Uint8Array(_);for(let j=0;j<g;j++){const w=t[d++],C=t.subarray(d,d+_);d+=_;const k=new Uint8Array(_);Vit(w,C,k,y,_,l),y.set(k);for(let T=0;T<v;T++){const P=h.x+T*h.xStep,D=h.y+j*h.yStep;if(!(P>=r||D>=n))for(let M=0;M<l;M++)c[(D*r+P)*l+M]=k[T*l+M]}}}if(a===16){const f=new Uint16Array(c.buffer);if(Hit)for(let h=0;h<f.length;h++)f[h]=Kit(f[h]);return f}else return c}function Kit(e){return(e&255)<<8|e>>8&255}const Yit=new Uint16Array([255]),Xit=new Uint8Array(Yit.buffer),Jit=Xit[0]===255,Zit=new Uint8Array(0);function cH(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,o=Math.ceil(a/8)*s,l=Math.ceil(a/8*s*r),c=new Uint8Array(n*l);let d=Zit,f=0,h,v;for(let g=0;g<n;g++){switch(h=t.subarray(f+1,f+1+l),v=c.subarray(g*l,(g+1)*l),t[f]){case 0:Vle(h,v,l);break;case 1:qle(h,v,l,o);break;case 2:Wle(h,v,d,l);break;case 3:Hle(h,v,d,l,o);break;case 4:Gle(h,v,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}d=v,f+=l+1}if(a===16){const g=new Uint16Array(c.buffer);if(Jit)for(let _=0;_<g.length;_++)g[_]=Qit(g[_]);return g}else return c}function Qit(e){return(e&255)<<8|e>>8&255}const P4=Uint8Array.of(137,80,78,71,13,10,26,10);function uH(e){if(!eot(e.readBytes(P4.length)))throw new Error("wrong PNG signature")}function eot(e){if(e.length<P4.length)return!1;for(let t=0;t<P4.length;t++)if(e[t]!==P4[t])return!1;return!0}const tot="tEXt",rot=0,Kle=new TextDecoder("latin1");function not(e){if(sot(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const aot=/^[\u0000-\u00FF]*$/;function sot(e){if(!aot.test(e))throw new Error("invalid latin1 text")}function iot(e,t,r){const n=Yle(t);e[n]=oot(t,r-n.length-1)}function Yle(e){for(e.mark();e.readByte()!==rot;);const t=e.offset;e.reset();const r=Kle.decode(e.readBytes(t-e.offset-1));return e.skip(1),not(r),r}function oot(e,t){return Kle.decode(e.readBytes(t))}const $c={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},j6={UNKNOWN:-1,DEFLATE:0},dH={UNKNOWN:-1,ADAPTIVE:0},N6={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gj={NONE:0,BACKGROUND:1,PREVIOUS:2},S6={SOURCE:0,OVER:1};class lot extends YM{constructor(r,n={}){super(r);Va(this,"_checkCrc");Va(this,"_inflator");Va(this,"_png");Va(this,"_apng");Va(this,"_end");Va(this,"_hasPalette");Va(this,"_palette");Va(this,"_hasTransparency");Va(this,"_transparency");Va(this,"_compressionMethod");Va(this,"_filterMethod");Va(this,"_interlaceMethod");Va(this,"_colorType");Va(this,"_isAnimated");Va(this,"_numberOfFrames");Va(this,"_numberOfPlays");Va(this,"_frames");Va(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new iH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=j6.UNKNOWN,this._filterMethod=dH.UNKNOWN,this._interlaceMethod=N6.UNKNOWN,this._colorType=$c.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uH(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(uH(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case tot:iot(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lH(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lH(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=cot(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case $c.GREYSCALE:s=1;break;case $c.TRUECOLOUR:s=3;break;case $c.INDEXED_COLOUR:s=1;break;case $c.GREYSCALE_ALPHA:s=2;break;case $c.TRUECOLOUR_ALPHA:s=4;break;case $c.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==j6.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<n;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $c.GREYSCALE:case $c.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case $c.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $c.UNKNOWN:case $c.GREYSCALE_ALPHA:case $c.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Yle(this),s=this.readUint8();if(s!==j6.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:$it(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=cH({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(s,a,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Gj.NONE:break;case Gj.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case Gj.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case S6.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[d+f]}break;case S6.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let f=0;f<this._png.channels;f++){const h=n.data[d+this._png.channels-1]/s,v=f%(this._png.channels-1)===0?1:n.data[d+f],g=Math.floor(h*v+(1-h)*r.data[c+f]);r.data[c+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==dH.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===N6.NO_INTERLACE)this._png.data=cH({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===N6.ADAM7)this._png.data=Git({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gj.NONE,blendOp:S6.SOURCE,data:r}),this._inflator=new iH,this._writingDataChunks=!1}}function cot(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var fH;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(fH||(fH={}));function uot(e,t){return new lot(e,t).decode()}var jn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function C6(){jn.console&&typeof jn.console.log=="function"&&jn.console.log.apply(jn.console,arguments)}var os={log:C6,warn:function(e){jn.console&&(typeof jn.console.warn=="function"?jn.console.warn.apply(jn.console,arguments):C6.call(null,arguments))},error:function(e){jn.console&&(typeof jn.console.error=="function"?jn.console.error.apply(jn.console,arguments):C6(e))}};function A6(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){G0(n.response,t,r)},n.onerror=function(){os.error("could not download file")},n.send()}function hH(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Kj(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var G0=jn.saveAs||((typeof window>"u"?"undefined":Ia(window))!=="object"||window!==jn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=jn.URL||jn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?hH(s.href)?A6(e,t,r):Kj(s,s.target="_blank"):Kj(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Kj(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(hH(e))A6(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Kj(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:Ia(a)!=="object"&&(os.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return A6(e,t,r);var s=e.type==="application/octet-stream",a=/constructor/i.test(jn.HTMLElement)||jn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":Ia(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var c=jn.URL||jn.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Xle(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,o=s.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var O4=jn.atob.bind(jn),mH=jn.btoa.bind(jn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function k6(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=xl(r,n,s,a,t[0],7,-680876936),a=xl(a,r,n,s,t[1],12,-389564586),s=xl(s,a,r,n,t[2],17,606105819),n=xl(n,s,a,r,t[3],22,-1044525330),r=xl(r,n,s,a,t[4],7,-176418897),a=xl(a,r,n,s,t[5],12,1200080426),s=xl(s,a,r,n,t[6],17,-1473231341),n=xl(n,s,a,r,t[7],22,-45705983),r=xl(r,n,s,a,t[8],7,1770035416),a=xl(a,r,n,s,t[9],12,-1958414417),s=xl(s,a,r,n,t[10],17,-42063),n=xl(n,s,a,r,t[11],22,-1990404162),r=xl(r,n,s,a,t[12],7,1804603682),a=xl(a,r,n,s,t[13],12,-40341101),s=xl(s,a,r,n,t[14],17,-1502002290),r=yl(r,n=xl(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=yl(a,r,n,s,t[6],9,-1069501632),s=yl(s,a,r,n,t[11],14,643717713),n=yl(n,s,a,r,t[0],20,-373897302),r=yl(r,n,s,a,t[5],5,-701558691),a=yl(a,r,n,s,t[10],9,38016083),s=yl(s,a,r,n,t[15],14,-660478335),n=yl(n,s,a,r,t[4],20,-405537848),r=yl(r,n,s,a,t[9],5,568446438),a=yl(a,r,n,s,t[14],9,-1019803690),s=yl(s,a,r,n,t[3],14,-187363961),n=yl(n,s,a,r,t[8],20,1163531501),r=yl(r,n,s,a,t[13],5,-1444681467),a=yl(a,r,n,s,t[2],9,-51403784),s=yl(s,a,r,n,t[7],14,1735328473),r=bl(r,n=yl(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=bl(a,r,n,s,t[8],11,-2022574463),s=bl(s,a,r,n,t[11],16,1839030562),n=bl(n,s,a,r,t[14],23,-35309556),r=bl(r,n,s,a,t[1],4,-1530992060),a=bl(a,r,n,s,t[4],11,1272893353),s=bl(s,a,r,n,t[7],16,-155497632),n=bl(n,s,a,r,t[10],23,-1094730640),r=bl(r,n,s,a,t[13],4,681279174),a=bl(a,r,n,s,t[0],11,-358537222),s=bl(s,a,r,n,t[3],16,-722521979),n=bl(n,s,a,r,t[6],23,76029189),r=bl(r,n,s,a,t[9],4,-640364487),a=bl(a,r,n,s,t[12],11,-421815835),s=bl(s,a,r,n,t[15],16,530742520),r=wl(r,n=bl(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=wl(a,r,n,s,t[7],10,1126891415),s=wl(s,a,r,n,t[14],15,-1416354905),n=wl(n,s,a,r,t[5],21,-57434055),r=wl(r,n,s,a,t[12],6,1700485571),a=wl(a,r,n,s,t[3],10,-1894986606),s=wl(s,a,r,n,t[10],15,-1051523),n=wl(n,s,a,r,t[1],21,-2054922799),r=wl(r,n,s,a,t[8],6,1873313359),a=wl(a,r,n,s,t[15],10,-30611744),s=wl(s,a,r,n,t[6],15,-1560198380),n=wl(n,s,a,r,t[13],21,1309151649),r=wl(r,n,s,a,t[4],6,-145523070),a=wl(a,r,n,s,t[11],10,-1120210379),s=wl(s,a,r,n,t[2],15,718787259),n=wl(n,s,a,r,t[9],21,-343485551),e[0]=sp(r,e[0]),e[1]=sp(n,e[1]),e[2]=sp(s,e[2]),e[3]=sp(a,e[3])}function EA(e,t,r,n,s,a){return t=sp(sp(t,e),sp(n,a)),sp(t<<s|t>>>32-s,r)}function xl(e,t,r,n,s,a,o){return EA(t&r|~t&n,e,t,s,a,o)}function yl(e,t,r,n,s,a,o){return EA(t&n|r&~n,e,t,s,a,o)}function bl(e,t,r,n,s,a,o){return EA(t^r^n,e,t,s,a,o)}function wl(e,t,r,n,s,a,o){return EA(r^(t|~n),e,t,s,a,o)}function Jle(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)k6(n,dot(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(k6(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,k6(n,s),n}function dot(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var pH="0123456789abcdef".split("");function fot(e){for(var t="",r=0;r<4;r++)t+=pH[e>>8*r+4&15]+pH[e>>8*r&15];return t}function hot(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function CO(e){return Jle(e).map(hot).join("")}var mot=function(e){for(var t=0;t<e.length;t++)e[t]=fot(e[t]);return e.join("")}(Jle("hello"))!="5d41402abc4b2a76b9719d911017c592";function sp(e,t){if(mot){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function AO(e,t){var r,n,s,a;if(e!==r){for(var o=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var f=l[c];d=(d+f+o.charCodeAt(c))%256,l[c]=l[d],l[d]=f}r=e,n=l}else l=n;var h=t.length,v=0,g=0,_="";for(c=0;c<h;c++)g=(g+(f=l[v=(v+1)%256]))%256,l[v]=l[g],l[g]=f,o=l[(l[v]+l[g])%256],_+=String.fromCharCode(t.charCodeAt(c)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gH={print:4,modify:8,copy:16,"annot-forms":32};function Qv(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(gH.perm!==void 0)throw new Error("Invalid permission: "+l);s+=gH[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=CO(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=AO(this.encryptionKey,this.padding)}function e1(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function vH(e){if(Ia(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){jn.console&&os.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qS(e){if(!(this instanceof qS))return new qS(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Zle(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Q0(e,t,r,n,s){if(!(this instanceof Q0))return new Q0(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Zle.call(this,n,s)}function C1(e,t,r,n,s){if(!(this instanceof C1))return new C1(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Zle.call(this,n,s)}function Zr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",f=null;Ia(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=vH;var _="1.3",y=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(W){_=W};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return j};var w=g.__private__.getPageFormat=function(W){return j[W]};s=s||"a4";var C="compat",k="advanced",T=C;function P(){this.saveGraphicsState(),pe(new Qr(Mr,0,0,-Mr,0,rf()*Mr).toString()+" cm"),this.setFontSize(this.getFontSize()/Mr),d="n",T=k}function D(){this.restoreGraphicsState(),d="S",T=C}var M=g.__private__.combineFontStyleAndFontWeight=function(W,ge){if(W=="bold"&&ge=="normal"||W=="bold"&&ge==400||W=="normal"&&ge=="italic"||W=="bold"&&ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ge&&(W=ge==400||ge==="normal"?W==="italic"?"italic":"normal":ge!=700&&ge!=="bold"||W!=="normal"?(ge==700?"bold":ge)+""+W:"bold"),W};g.advancedAPI=function(W){var ge=T===C;return ge&&P.call(this),typeof W!="function"||(W(this),ge&&D.call(this)),this},g.compatAPI=function(W){var ge=T===k;return ge&&D.call(this),typeof W!="function"||(W(this),ge&&P.call(this)),this},g.isAdvancedAPI=function(){return T===k};var I,B=function(W){if(T!==k)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(W,ge){var Me=t||ge;if(isNaN(W)||isNaN(Me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed(Me).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof c=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return V(W,c)}:c==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return V(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return V(W,16)};var U=g.f2=g.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return V(W,2)},q=g.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return V(W,3)},re=g.scale=g.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return T===C?W*Mr:T===k?W:void 0},H=function(W){return re(function(ge){return T===C?rf()-ge:T===k?ge:void 0}(W))};g.__private__.setPrecision=g.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(t=parseInt(W,10))};var X,Q="00000000000000000000000000000000",se=g.__private__.getFileId=function(){return Q},te=g.__private__.setFileId=function(W){return Q=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Hs=new Qv(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};g.setFileId=function(W){return te(W),this},g.getFileId=function(){return se()};var ce=g.__private__.convertDateToPDFDate=function(W){var ge=W.getTimezoneOffset(),Me=ge<0?"+":"-",He=Math.floor(Math.abs(ge/60)),et=Math.abs(ge%60),Nt=[Me,ne(He),"'",ne(et),"'"].join("");return["D:",W.getFullYear(),ne(W.getMonth()+1),ne(W.getDate()),ne(W.getHours()),ne(W.getMinutes()),ne(W.getSeconds()),Nt].join("")},xe=g.__private__.convertPDFDateToDate=function(W){var ge=parseInt(W.substr(2,4),10),Me=parseInt(W.substr(6,2),10)-1,He=parseInt(W.substr(8,2),10),et=parseInt(W.substr(10,2),10),Nt=parseInt(W.substr(12,2),10),Mt=parseInt(W.substr(14,2),10);return new Date(ge,Me,He,et,Nt,Mt,0)},de=g.__private__.setCreationDate=function(W){var ge;if(W===void 0&&(W=new Date),W instanceof Date)ge=ce(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ge=W}return X=ge},ee=g.__private__.getCreationDate=function(W){var ge=X;return W==="jsDate"&&(ge=xe(X)),ge};g.setCreationDate=function(W){return de(W),this},g.getCreationDate=function(W){return ee(W)};var fe,ne=g.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},Y=g.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},ue=0,le=[],ke=[],_e=0,Fe=[],Be=[],Re=!1,Te=ke;g.__private__.setCustomOutputDestination=function(W){Re=!0,Te=W};var $e=function(W){Re||(Te=W)};g.__private__.resetCustomOutputDestination=function(){Re=!1,Te=ke};var pe=g.__private__.out=function(W){return W=W.toString(),_e+=W.length+1,Te.push(W),Te},Ge=g.__private__.write=function(W){return pe(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},pt=g.__private__.getArrayBuffer=function(W){for(var ge=W.length,Me=new ArrayBuffer(ge),He=new Uint8Array(Me);ge--;)He[ge]=W.charCodeAt(ge);return Me},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Pt};var nt=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(W){return nt=T===k?W/Mr:W,this};var Ye,Ue=g.__private__.getFontSize=g.getFontSize=function(){return T===C?nt:nt*Mr},gt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(W){return gt=W,this},g.__private__.getR2L=g.getR2L=function(){return gt};var Ot,br=g.__private__.setZoomMode=function(W){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))Ye=W;else if(isNaN(W)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');Ye=W}else Ye=parseInt(W,10)};g.__private__.getZoomMode=function(){return Ye};var Yr,yt=g.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');Ot=W};g.__private__.getPageMode=function(){return Ot};var $t=g.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');Yr=W};g.__private__.getLayoutMode=function(){return Yr},g.__private__.setDisplayMode=g.setDisplayMode=function(W,ge,Me){return br(W),$t(ge),yt(Me),this};var cr={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(W){if(Object.keys(cr).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return cr[W]},g.__private__.getDocumentProperties=function(){return cr},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(W){for(var ge in cr)cr.hasOwnProperty(ge)&&W[ge]&&(cr[ge]=W[ge]);return this},g.__private__.setDocumentProperty=function(W,ge){if(Object.keys(cr).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return cr[W]=ge};var Bt,Mr,dr,Kn,Qn,Rn={},Gr={},ia=[],qr={},ja={},ln={},kn={},ss=null,bn=0,cn=[],rr=new vH(g),th=e.hotfixes||[],ri={},Pa={},Fc=[],Qr=function W(ge,Me,He,et,Nt,Mt){if(!(this instanceof W))return new W(ge,Me,He,et,Nt,Mt);isNaN(ge)&&(ge=1),isNaN(Me)&&(Me=0),isNaN(He)&&(He=0),isNaN(et)&&(et=1),isNaN(Nt)&&(Nt=0),isNaN(Mt)&&(Mt=0),this._matrix=[ge,Me,He,et,Nt,Mt]};Object.defineProperty(Qr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(Qr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(Qr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(Qr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(Qr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(Qr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(Qr.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(Qr.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(Qr.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(Qr.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(Qr.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(Qr.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(Qr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qr.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(W)},Qr.prototype.multiply=function(W){var ge=W.sx*this.sx+W.shy*this.shx,Me=W.sx*this.shy+W.shy*this.sy,He=W.shx*this.sx+W.sy*this.shx,et=W.shx*this.shy+W.sy*this.sy,Nt=W.tx*this.sx+W.ty*this.shx+this.tx,Mt=W.tx*this.shy+W.ty*this.sy+this.ty;return new Qr(ge,Me,He,et,Nt,Mt)},Qr.prototype.decompose=function(){var W=this.sx,ge=this.shy,Me=this.shx,He=this.sy,et=this.tx,Nt=this.ty,Mt=Math.sqrt(W*W+ge*ge),yr=(W/=Mt)*Me+(ge/=Mt)*He;Me-=W*yr,He-=ge*yr;var wr=Math.sqrt(Me*Me+He*He);return yr/=wr,W*(He/=wr)<ge*(Me/=wr)&&(W=-W,ge=-ge,yr=-yr,Mt=-Mt),{scale:new Qr(Mt,0,0,wr,0,0),translate:new Qr(1,0,0,1,et,Nt),rotate:new Qr(W,ge,-ge,W,0,0),skew:new Qr(1,0,yr,1,0,0)}},Qr.prototype.toString=function(W){return this.join(" ")},Qr.prototype.inversed=function(){var W=this.sx,ge=this.shy,Me=this.shx,He=this.sy,et=this.tx,Nt=this.ty,Mt=1/(W*He-ge*Me),yr=He*Mt,wr=-ge*Mt,vn=-Me*Mt,Ur=W*Mt;return new Qr(yr,wr,vn,Ur,-yr*et-vn*Nt,-wr*et-Ur*Nt)},Qr.prototype.applyToPoint=function(W){var ge=W.x*this.sx+W.y*this.shx+this.tx,Me=W.x*this.shy+W.y*this.sy+this.ty;return new gu(ge,Me)},Qr.prototype.applyToRectangle=function(W){var ge=this.applyToPoint(W),Me=this.applyToPoint(new gu(W.x+W.w,W.y+W.h));return new hm(ge.x,ge.y,Me.x-ge.x,Me.y-ge.y)},Qr.prototype.clone=function(){var W=this.sx,ge=this.shy,Me=this.shx,He=this.sy,et=this.tx,Nt=this.ty;return new Qr(W,ge,Me,He,et,Nt)},g.Matrix=Qr;var ac=g.matrixMult=function(W,ge){return ge.multiply(W)},sc=new Qr(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=sc;var Oa=function(W,ge){if(!ja[W]){var Me=(ge instanceof Q0?"Sh":"P")+(Object.keys(qr).length+1).toString(10);ge.id=Me,ja[W]=Me,qr[Me]=ge,rr.publish("addPattern",ge)}};g.ShadingPattern=Q0,g.TilingPattern=C1,g.addShadingPattern=function(W,ge){return B("addShadingPattern()"),Oa(W,ge),this},g.beginTilingPattern=function(W){B("beginTilingPattern()"),mm(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},g.endTilingPattern=function(W,ge){B("endTilingPattern()"),ge.stream=Be[fe].join(`
`),Oa(W,ge),rr.publish("endTilingPattern",ge),Fc.pop().restore()};var Xo,Ms=g.__private__.newObject=function(){var W=xi();return ni(W,!0),W},xi=g.__private__.newObjectDeferred=function(){return ue++,le[ue]=function(){return _e},ue},ni=function(W,ge){return ge=typeof ge=="boolean"&&ge,le[W]=_e,ge&&pe(W+" 0 obj"),W},uu=g.__private__.newAdditionalObject=function(){var W={objId:xi(),content:""};return Fe.push(W),W},ad=xi(),Dc=xi(),ca=g.__private__.decodeColorString=function(W){var ge=W.split(" ");if(ge.length!==2||ge[1]!=="g"&&ge[1]!=="G")ge.length!==5||ge[4]!=="k"&&ge[4]!=="K"||(ge=[(1-ge[0])*(1-ge[3]),(1-ge[1])*(1-ge[3]),(1-ge[2])*(1-ge[3]),"r"]);else{var Me=parseFloat(ge[0]);ge=[Me,Me,Me,"r"]}for(var He="#",et=0;et<3;et++)He+=("0"+Math.floor(255*parseFloat(ge[et])).toString(16)).slice(-2);return He},ro=g.__private__.encodeColorString=function(W){var ge;typeof W=="string"&&(W={ch1:W});var Me=W.ch1,He=W.ch2,et=W.ch3,Nt=W.ch4,Mt=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Me=="string"&&Me.charAt(0)!=="#"){var yr=new Xle(Me);if(yr.ok)Me=yr.toHex();else if(!/^\d*\.?\d*$/.test(Me))throw new Error('Invalid color "'+Me+'" passed to jsPDF.encodeColorString.')}if(typeof Me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Me)&&(Me="#"+Me[1]+Me[1]+Me[2]+Me[2]+Me[3]+Me[3]),typeof Me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Me)){var wr=parseInt(Me.substr(1),16);Me=wr>>16&255,He=wr>>8&255,et=255&wr}if(He===void 0||Nt===void 0&&Me===He&&He===et)ge=typeof Me=="string"?Me+" "+Mt[0]:W.precision===2?U(Me/255)+" "+Mt[0]:q(Me/255)+" "+Mt[0];else if(Nt===void 0||Ia(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return["1.","1.","1.",Mt[1]].join(" ");ge=typeof Me=="string"?[Me,He,et,Mt[1]].join(" "):W.precision===2?[U(Me/255),U(He/255),U(et/255),Mt[1]].join(" "):[q(Me/255),q(He/255),q(et/255),Mt[1]].join(" ")}else ge=typeof Me=="string"?[Me,He,et,Nt,Mt[2]].join(" "):W.precision===2?[U(Me),U(He),U(et),U(Nt),Mt[2]].join(" "):[q(Me),q(He),q(et),q(Nt),Mt[2]].join(" ");return ge},Yn=g.__private__.getFilters=function(){return o},ha=g.__private__.putStream=function(W){var ge=(W=W||{}).data||"",Me=W.filters||Yn(),He=W.alreadyAppliedFilters||[],et=W.addLength1||!1,Nt=ge.length,Mt=W.objectId,yr=function(wi){return wi};if(f!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(yr=Hs.encryptor(Mt,0));var wr={};Me===!0&&(Me=["FlateEncode"]);var vn=W.additionalKeyValues||[],Ur=(wr=Zr.API.processDataByFilters!==void 0?Zr.API.processDataByFilters(ge,Me):{data:ge,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(wr.data.length!==0&&(vn.push({key:"Length",value:wr.data.length}),et===!0&&vn.push({key:"Length1",value:Nt})),Ur.length!=0)if(Ur.split("/").length-1==1)vn.push({key:"Filter",value:Ur});else{vn.push({key:"Filter",value:"["+Ur+"]"});for(var Vn=0;Vn<vn.length;Vn+=1)if(vn[Vn].key==="DecodeParms"){for(var Ss=[],ds=0;ds<wr.reverseChain.split("/").length-1;ds+=1)Ss.push("null");Ss.push(vn[Vn].value),vn[Vn].value="["+Ss.join(" ")+"]"}}pe("<<");for(var es=0;es<vn.length;es++)pe("/"+vn[es].key+" "+vn[es].value);pe(">>"),wr.data.length!==0&&(pe("stream"),pe(yr(wr.data)),pe("endstream"))},no=g.__private__.putPage=function(W){var ge=W.number,Me=W.data,He=W.objId,et=W.contentsObjId;ni(He,!0),pe("<</Type /Page"),pe("/Parent "+W.rootDictionaryObjId+" 0 R"),pe("/Resources "+W.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(I(W.mediaBox.bottomLeftX))+" "+parseFloat(I(W.mediaBox.bottomLeftY))+" "+I(W.mediaBox.topRightX)+" "+I(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&pe("/CropBox ["+I(W.cropBox.bottomLeftX)+" "+I(W.cropBox.bottomLeftY)+" "+I(W.cropBox.topRightX)+" "+I(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&pe("/BleedBox ["+I(W.bleedBox.bottomLeftX)+" "+I(W.bleedBox.bottomLeftY)+" "+I(W.bleedBox.topRightX)+" "+I(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&pe("/TrimBox ["+I(W.trimBox.bottomLeftX)+" "+I(W.trimBox.bottomLeftY)+" "+I(W.trimBox.topRightX)+" "+I(W.trimBox.topRightY)+"]"),W.artBox!==null&&pe("/ArtBox ["+I(W.artBox.bottomLeftX)+" "+I(W.artBox.bottomLeftY)+" "+I(W.artBox.topRightX)+" "+I(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&pe("/UserUnit "+W.userUnit),rr.publish("putPage",{objId:He,pageContext:cn[ge],pageNumber:ge,page:Me}),pe("/Contents "+et+" 0 R"),pe(">>"),pe("endobj");var Nt=Me.join(`
`);return T===k&&(Nt+=`
Q`),ni(et,!0),ha({data:Nt,filters:Yn(),objectId:et}),pe("endobj"),He},du=g.__private__.putPages=function(){var W,ge,Me=[];for(W=1;W<=bn;W++)cn[W].objId=xi(),cn[W].contentsObjId=xi();for(W=1;W<=bn;W++)Me.push(no({number:W,data:Be[W],objId:cn[W].objId,contentsObjId:cn[W].contentsObjId,mediaBox:cn[W].mediaBox,cropBox:cn[W].cropBox,bleedBox:cn[W].bleedBox,trimBox:cn[W].trimBox,artBox:cn[W].artBox,userUnit:cn[W].userUnit,rootDictionaryObjId:ad,resourceDictionaryObjId:Dc}));ni(ad,!0),pe("<</Type /Pages");var He="/Kids [";for(ge=0;ge<bn;ge++)He+=Me[ge]+" 0 R ";pe(He+"]"),pe("/Count "+bn),pe(">>"),pe("endobj"),rr.publish("postPutPages")},ic=function(W){rr.publish("putFont",{font:W,out:pe,newObject:Ms,putStream:ha}),W.isAlreadyPutted!==!0&&(W.objectNumber=Ms(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+e1(W.postScriptName)),pe("/Subtype /Type1"),typeof W.encoding=="string"&&pe("/Encoding /"+W.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},rh=function(W){W.objectNumber=Ms();var ge=[];ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Form"}),ge.push({key:"BBox",value:"["+[I(W.x),I(W.y),I(W.x+W.width),I(W.y+W.height)].join(" ")+"]"}),ge.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var Me=W.pages[1].join(`
`);ha({data:Me,additionalKeyValues:ge,objectId:W.objectNumber}),pe("endobj")},im=function(W,ge){ge||(ge=21);var Me=Ms(),He=function(Mt,yr){var wr,vn=[],Ur=1/(yr-1);for(wr=0;wr<1;wr+=Ur)vn.push(wr);if(vn.push(1),Mt[0].offset!=0){var Vn={offset:0,color:Mt[0].color};Mt.unshift(Vn)}if(Mt[Mt.length-1].offset!=1){var Ss={offset:1,color:Mt[Mt.length-1].color};Mt.push(Ss)}for(var ds="",es=0,wi=0;wi<vn.length;wi++){for(wr=vn[wi];wr>Mt[es+1].offset;)es++;var si=Mt[es].offset,so=(wr-si)/(Mt[es+1].offset-si),yu=Mt[es].color,Ya=Mt[es+1].color;ds+=Y(Math.round((1-so)*yu[0]+so*Ya[0]).toString(16))+Y(Math.round((1-so)*yu[1]+so*Ya[1]).toString(16))+Y(Math.round((1-so)*yu[2]+so*Ya[2]).toString(16))}return ds.trim()}(W.colors,ge),et=[];et.push({key:"FunctionType",value:"0"}),et.push({key:"Domain",value:"[0.0 1.0]"}),et.push({key:"Size",value:"["+ge+"]"}),et.push({key:"BitsPerSample",value:"8"}),et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ha({data:He,additionalKeyValues:et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Me}),pe("endobj"),W.objectNumber=Ms(),pe("<< /ShadingType "+W.type),pe("/ColorSpace /DeviceRGB");var Nt="/Coords ["+I(parseFloat(W.coords[0]))+" "+I(parseFloat(W.coords[1]))+" ";W.type===2?Nt+=I(parseFloat(W.coords[2]))+" "+I(parseFloat(W.coords[3])):Nt+=I(parseFloat(W.coords[2]))+" "+I(parseFloat(W.coords[3]))+" "+I(parseFloat(W.coords[4]))+" "+I(parseFloat(W.coords[5])),pe(Nt+="]"),W.matrix&&pe("/Matrix ["+W.matrix.toString()+"]"),pe("/Function "+Me+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},nh=function(W,ge){var Me=xi(),He=Ms();ge.push({resourcesOid:Me,objectOid:He}),W.objectNumber=He;var et=[];et.push({key:"Type",value:"/Pattern"}),et.push({key:"PatternType",value:"1"}),et.push({key:"PaintType",value:"1"}),et.push({key:"TilingType",value:"1"}),et.push({key:"BBox",value:"["+W.boundingBox.map(I).join(" ")+"]"}),et.push({key:"XStep",value:I(W.xStep)}),et.push({key:"YStep",value:I(W.yStep)}),et.push({key:"Resources",value:Me+" 0 R"}),W.matrix&&et.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),ha({data:W.stream,additionalKeyValues:et,objectId:W.objectNumber}),pe("endobj")},uv=function(W){for(var ge in W.objectNumber=Ms(),pe("<<"),W)switch(ge){case"opacity":pe("/ca "+U(W[ge]));break;case"stroke-opacity":pe("/CA "+U(W[ge]))}pe(">>"),pe("endobj")},Po=function(W){ni(W.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ge in pe("/Font <<"),Rn)Rn.hasOwnProperty(ge)&&(h===!1||h===!0&&v.hasOwnProperty(ge))&&pe("/"+ge+" "+Rn[ge].objectNumber+" 0 R");pe(">>")}(),function(){if(Object.keys(qr).length>0){for(var ge in pe("/Shading <<"),qr)qr.hasOwnProperty(ge)&&qr[ge]instanceof Q0&&qr[ge].objectNumber>=0&&pe("/"+ge+" "+qr[ge].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),pe(">>")}}(),function(ge){if(Object.keys(qr).length>0){for(var Me in pe("/Pattern <<"),qr)qr.hasOwnProperty(Me)&&qr[Me]instanceof g.TilingPattern&&qr[Me].objectNumber>=0&&qr[Me].objectNumber<ge&&pe("/"+Me+" "+qr[Me].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),pe(">>")}}(W.objectOid),function(){if(Object.keys(ln).length>0){var ge;for(ge in pe("/ExtGState <<"),ln)ln.hasOwnProperty(ge)&&ln[ge].objectNumber>=0&&pe("/"+ge+" "+ln[ge].objectNumber+" 0 R");rr.publish("putGStateDict"),pe(">>")}}(),function(){for(var ge in pe("/XObject <<"),ri)ri.hasOwnProperty(ge)&&ri[ge].objectNumber>=0&&pe("/"+ge+" "+ri[ge].objectNumber+" 0 R");rr.publish("putXobjectDict"),pe(">>")}(),pe(">>"),pe("endobj")},om=function(W){Gr[W.fontName]=Gr[W.fontName]||{},Gr[W.fontName][W.fontStyle]=W.id},Ns=function(W,ge,Me,He,et){var Nt={id:"F"+(Object.keys(Rn).length+1).toString(10),postScriptName:W,fontName:ge,fontStyle:Me,encoding:He,isStandardFont:et||!1,metadata:{}};return rr.publish("addFont",{font:Nt,instance:this}),Rn[Nt.id]=Nt,om(Nt),Nt.id},cs=g.__private__.pdfEscape=g.pdfEscape=function(W,ge){return function(Me,He){var et,Nt,Mt,yr,wr,vn,Ur,Vn,Ss;if(Mt=(He=He||{}).sourceEncoding||"Unicode",wr=He.outputEncoding,(He.autoencode||wr)&&Rn[Bt].metadata&&Rn[Bt].metadata[Mt]&&Rn[Bt].metadata[Mt].encoding&&(yr=Rn[Bt].metadata[Mt].encoding,!wr&&Rn[Bt].encoding&&(wr=Rn[Bt].encoding),!wr&&yr.codePages&&(wr=yr.codePages[0]),typeof wr=="string"&&(wr=yr[wr]),wr)){for(Ur=!1,vn=[],et=0,Nt=Me.length;et<Nt;et++)(Vn=wr[Me.charCodeAt(et)])?vn.push(String.fromCharCode(Vn)):vn.push(Me[et]),vn[et].charCodeAt(0)>>8&&(Ur=!0);Me=vn.join("")}for(et=Me.length;Ur===void 0&&et!==0;)Me.charCodeAt(et-1)>>8&&(Ur=!0),et--;if(!Ur)return Me;for(vn=He.noBOM?[]:[254,255],et=0,Nt=Me.length;et<Nt;et++){if((Ss=(Vn=Me.charCodeAt(et))>>8)>>8)throw new Error("Character at position "+et+" of string '"+Me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vn.push(Ss),vn.push(Vn-(Ss<<8))}return String.fromCharCode.apply(void 0,vn)}(W,ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lm=g.__private__.beginPage=function(W){Be[++bn]=[],cn[bn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},e0(bn),$e(Be[fe])},Sn=function(W,ge){var Me,He,et;switch(r=ge||r,typeof W=="string"&&(Me=w(W.toLowerCase()),Array.isArray(Me)&&(He=Me[0],et=Me[1])),Array.isArray(W)&&(He=W[0]*Mr,et=W[1]*Mr),isNaN(He)&&(He=s[0],et=s[1]),(He>14400||et>14400)&&(os.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),et=Math.min(14400,et)),s=[He,et],r.substr(0,1)){case"l":et>He&&(s=[et,He]);break;case"p":He>et&&(s=[et,He])}lm(s),fn(va),pe(pu),Mc!==0&&pe(Mc+" J"),ao!==0&&pe(ao+" j"),rr.publish("addPage",{pageNumber:bn})},ah=function(W){W>0&&W<=bn&&(Be.splice(W,1),cn.splice(W,1),bn--,fe>bn&&(fe=bn),this.setPage(fe))},e0=function(W){W>0&&W<=bn&&(fe=W)},Qd=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Be.length-1},us=function(W,ge,Me){var He,et=void 0;return Me=Me||{},W=W!==void 0?W:Rn[Bt].fontName,ge=ge!==void 0?ge:Rn[Bt].fontStyle,He=W.toLowerCase(),Gr[He]!==void 0&&Gr[He][ge]!==void 0?et=Gr[He][ge]:Gr[W]!==void 0&&Gr[W][ge]!==void 0?et=Gr[W][ge]:Me.disableWarning===!1&&os.warn("Unable to look up font label for font '"+W+"', '"+ge+"'. Refer to getFontList() for available fonts."),et||Me.noFallback||(et=Gr.times[ge])==null&&(et=Gr.times.normal),et},fu=g.__private__.putInfo=function(){var W=Ms(),ge=function(He){return He};for(var Me in f!==null&&(ge=Hs.encryptor(W,0)),pe("<<"),pe("/Producer ("+cs(ge("jsPDF "+Zr.version))+")"),cr)cr.hasOwnProperty(Me)&&cr[Me]&&pe("/"+Me.substr(0,1).toUpperCase()+Me.substr(1)+" ("+cs(ge(cr[Me]))+")");pe("/CreationDate ("+cs(ge(X))+")"),pe(">>"),pe("endobj")},Ws=g.__private__.putCatalog=function(W){var ge=(W=W||{}).rootDictionaryObjId||ad;switch(Ms(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+ge+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Me=""+Ye;Me.substr(Me.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+U(Ye)+"]")}switch(Yr||(Yr="continuous"),Yr){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Ot&&pe("/PageMode /"+Ot),rr.publish("putCatalog"),pe(">>"),pe("endobj")},Ty=g.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ue+1)),pe("/Root "+ue+" 0 R"),pe("/Info "+(ue-1)+" 0 R"),f!==null&&pe("/Encrypt "+Hs.oid+" 0 R"),pe("/ID [ <"+Q+"> <"+Q+"> ]"),pe(">>")},ai=g.__private__.putHeader=function(){pe("%PDF-"+_),pe("%")},sn=g.__private__.putXRef=function(){var W="0000000000";pe("xref"),pe("0 "+(ue+1)),pe("0000000000 65535 f ");for(var ge=1;ge<=ue;ge++)typeof le[ge]=="function"?pe((W+le[ge]()).slice(-10)+" 00000 n "):le[ge]!==void 0?pe((W+le[ge]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},yi=g.__private__.buildDocument=function(){var W;ue=0,_e=0,ke=[],le=[],Fe=[],ad=xi(),Dc=xi(),$e(ke),rr.publish("buildDocument"),ai(),du(),function(){rr.publish("putAdditionalObjects");for(var Me=0;Me<Fe.length;Me++){var He=Fe[Me];ni(He.objId,!0),pe(He.content),pe("endobj")}rr.publish("postPutAdditionalObjects")}(),W=[],function(){for(var Me in Rn)Rn.hasOwnProperty(Me)&&(h===!1||h===!0&&v.hasOwnProperty(Me))&&ic(Rn[Me])}(),function(){var Me;for(Me in ln)ln.hasOwnProperty(Me)&&uv(ln[Me])}(),function(){for(var Me in ri)ri.hasOwnProperty(Me)&&rh(ri[Me])}(),function(Me){var He;for(He in qr)qr.hasOwnProperty(He)&&(qr[He]instanceof Q0?im(qr[He]):qr[He]instanceof C1&&nh(qr[He],Me))}(W),rr.publish("putResources"),W.forEach(Po),Po({resourcesOid:Dc,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources"),f!==null&&(Hs.oid=Ms(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Hs.v),pe("/R "+Hs.r),pe("/U <"+Hs.toHexString(Hs.U)+">"),pe("/O <"+Hs.toHexString(Hs.O)+">"),pe("/P "+Hs.P),pe(">>"),pe("endobj")),fu(),Ws();var ge=_e;return sn(),Ty(),pe("startxref"),pe(""+ge),pe("%%EOF"),$e(Be[fe]),ke.join(`
`)},sh=g.__private__.getBlob=function(W){return new Blob([pt(W)],{type:"application/pdf"})},t0=g.output=g.__private__.output=(Xo=function(W,ge){switch(typeof(ge=ge||{})=="string"?ge={filename:ge}:ge.filename=ge.filename||"generated.pdf",W){case void 0:return yi();case"save":g.save(ge.filename);break;case"arraybuffer":return pt(yi());case"blob":return sh(yi());case"bloburi":case"bloburl":if(jn.URL!==void 0&&typeof jn.URL.createObjectURL=="function")return jn.URL&&jn.URL.createObjectURL(sh(yi()))||void 0;os.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Me="",He=yi();try{Me=mH(He)}catch{Me=mH(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+ge.filename+";base64,"+Me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jn)==="[object Window]"){var et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ge.pdfObjectUrl&&(et=ge.pdfObjectUrl,Nt="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+et+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ge)+");<\/script></body></html>",yr=jn.open();return yr!==null&&yr.document.write(Mt),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jn)==="[object Window]"){var wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ge.filename+'" width="500px" height="400px" /></body></html>',vn=jn.open();if(vn!==null){vn.document.write(wr);var Ur=this;vn.document.documentElement.querySelector("#pdfViewer").onload=function(){vn.document.title=ge.filename,vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ur.output("bloburl"))}}return vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ge)+'"></iframe></body></html>',Ss=jn.open();if(Ss!==null&&(Ss.document.write(Vn),Ss.document.title=ge.filename),Ss||typeof safari>"u")return Ss;break;case"datauri":case"dataurl":return jn.document.location.href=this.output("datauristring",ge);default:return null}},Xo.foo=function(){try{return Xo.apply(this,arguments)}catch(Me){var W=Me.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var ge="Error in function "+W.split(`
`)[0].split("<")[0]+": "+Me.message;if(!jn.console)throw new Error(ge);jn.console.error(ge,Me),jn.alert&&alert(ge)}},Xo.foo.bar=Xo,Xo.foo),Dl=function(W){return Array.isArray(th)===!0&&th.indexOf(W)>-1};switch(n){case"pt":Mr=1;break;case"mm":Mr=72/25.4;break;case"cm":Mr=72/2.54;break;case"in":Mr=72;break;case"px":Mr=Dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mr=12;break;case"ex":Mr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Mr=n}var Hs=null;de(),te();var Mn=g.__private__.getPageInfo=g.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:cn[W].objId,pageNumber:W,pageContext:cn[W]}},cm=g.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ge in cn)if(cn[ge].objId===W)break;return Mn(ge)},Py=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:cn[fe].objId,pageNumber:fe,pageContext:cn[fe]}};g.addPage=function(){return Sn.apply(this,arguments),this},g.setPage=function(){return e0.apply(this,arguments),$e.call(this,Be[fe]),this},g.insertPage=function(W){return this.addPage(),this.movePage(fe,W),this},g.movePage=function(W,ge){var Me,He;if(W>ge){Me=Be[W],He=cn[W];for(var et=W;et>ge;et--)Be[et]=Be[et-1],cn[et]=cn[et-1];Be[ge]=Me,cn[ge]=He,this.setPage(ge)}else if(W<ge){Me=Be[W],He=cn[W];for(var Nt=W;Nt<ge;Nt++)Be[Nt]=Be[Nt+1],cn[Nt]=cn[Nt+1];Be[ge]=Me,cn[ge]=He,this.setPage(ge)}return this},g.deletePage=function(){return ah.apply(this,arguments),this},g.__private__.text=g.text=function(W,ge,Me,He,et){var Nt,Mt,yr,wr,vn,Ur,Vn,Ss,ds,es=(He=He||{}).scope||this;if(typeof W=="number"&&typeof ge=="number"&&(typeof Me=="string"||Array.isArray(Me))){var wi=Me;Me=ge,ge=W,W=wi}if(arguments[3]instanceof Qr==0?(yr=arguments[4],wr=arguments[5],Ia(Vn=arguments[3])==="object"&&Vn!==null||(typeof yr=="string"&&(wr=yr,yr=null),typeof Vn=="string"&&(wr=Vn,Vn=null),typeof Vn=="number"&&(yr=Vn,Vn=null),He={flags:Vn,angle:yr,align:wr})):(B("The transform parameter of text() with a Matrix value"),ds=et),isNaN(ge)||isNaN(Me)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return es;var si,so="",yu=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:hu,Ya=es.internal.scaleFactor;function fs(wn){return wn=wn.split("	").join(Array(He.TabLen||9).join(" ")),cs(wn,Vn)}function bt(wn){for(var ya,hs=wn.concat(),ii=[],Lc=hs.length;Lc--;)typeof(ya=hs.shift())=="string"?ii.push(ya):Array.isArray(wn)&&(ya.length===1||ya[1]===void 0&&ya[2]===void 0)?ii.push(ya[0]):ii.push([ya[0],ya[1],ya[2]]);return ii}function dl(wn,ya){var hs;if(typeof wn=="string")hs=ya(wn)[0];else if(Array.isArray(wn)){for(var ii,Lc,Di=wn.concat(),dh=[],f0=Di.length;f0--;)typeof(ii=Di.shift())=="string"?dh.push(ya(ii)[0]):Array.isArray(ii)&&typeof ii[0]=="string"&&(Lc=ya(ii[0],ii[1],ii[2]),dh.push([Lc[0],Lc[1],Lc[2]]));hs=dh}return hs}var Ks=!1,Rt=!0;if(typeof W=="string")Ks=!0;else if(Array.isArray(W)){var Ic=W.concat();Mt=[];for(var ld,Ys=Ic.length;Ys--;)(typeof(ld=Ic.shift())!="string"||Array.isArray(ld)&&typeof ld[0]!="string")&&(Rt=!1);Ks=Rt}if(Ks===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var cd=nt/es.internal.scaleFactor,ud=cd*(yu-1);switch(He.baseline){case"bottom":Me-=ud;break;case"top":Me+=cd-ud;break;case"hanging":Me+=cd-2*ud;break;case"middle":Me+=cd/2-ud}if((Ur=He.maxWidth||0)>0&&(typeof W=="string"?W=es.splitTextToSize(W,Ur):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce(function(wn,ya){return wn.concat(es.splitTextToSize(ya,Ur))},[]))),Nt={text:W,x:ge,y:Me,options:He,mutex:{pdfEscape:cs,activeFontKey:Bt,fonts:Rn,activeFontSize:nt}},rr.publish("preProcessText",Nt),W=Nt.text,yr=(He=Nt.options).angle,ds instanceof Qr==0&&yr&&typeof yr=="number"){yr*=Math.PI/180,He.rotationDirection===0&&(yr=-yr),T===k&&(yr=-yr);var ts=Math.cos(yr),ch=Math.sin(yr);ds=new Qr(ts,ch,-ch,ts,0,0)}else yr&&yr instanceof Qr&&(ds=yr);T!==k||ds||(ds=sc),(vn=He.charSpace||Ml)!==void 0&&(so+=I(re(vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ss=He.horizontalScale)!==void 0&&(so+=I(100*Ss)+` Tz
`),He.lang;var qn=-1,Sa=He.renderingMode!==void 0?He.renderingMode:He.stroke,en=es.internal.getCurrentPageInfo().pageContext;switch(Sa){case 0:case!1:case"fill":qn=0;break;case 1:case!0:case"stroke":qn=1;break;case 2:case"fillThenStroke":qn=2;break;case 3:case"invisible":qn=3;break;case 4:case"fillAndAddForClipping":qn=4;break;case 5:case"strokeAndAddPathForClipping":qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qn=6;break;case 7:case"addToPathForClipping":qn=7}var Pi=en.usedRenderingMode!==void 0?en.usedRenderingMode:-1;qn!==-1?so+=qn+` Tr
`:Pi!==-1&&(so+=`0 Tr
`),qn!==-1&&(en.usedRenderingMode=qn),wr=He.align||"left";var tn,Tn=nt*yu,c0=es.internal.pageSize.getWidth(),fl=Rn[Bt];vn=He.charSpace||Ml,Ur=He.maxWidth||0,Vn=Object.assign({autoencode:!0,noBOM:!0},He.flags);var Jo=[],nf=function(wn){return es.getStringUnitWidth(wn,{font:fl,charSpace:vn,fontSize:nt,doKerning:!1})*nt/Ya};if(Object.prototype.toString.call(W)==="[object Array]"){var Oi;Mt=bt(W),wr!=="left"&&(tn=Mt.map(nf));var Cs,As=0;if(wr==="right"){ge-=tn[0],W=[],Ys=Mt.length;for(var rs=0;rs<Ys;rs++)rs===0?(Cs=sd(ge),Oi=mu(Me)):(Cs=re(As-tn[rs]),Oi=-Tn),W.push([Mt[rs],Cs,Oi]),As=tn[rs]}else if(wr==="center"){ge-=tn[0]/2,W=[],Ys=Mt.length;for(var bu=0;bu<Ys;bu++)bu===0?(Cs=sd(ge),Oi=mu(Me)):(Cs=re((As-tn[bu])/2),Oi=-Tn),W.push([Mt[bu],Cs,Oi]),As=tn[bu]}else if(wr==="left"){W=[],Ys=Mt.length;for(var u0=0;u0<Ys;u0++)W.push(Mt[u0])}else if(wr==="justify"&&fl.encoding==="Identity-H"){W=[],Ys=Mt.length,Ur=Ur!==0?Ur:c0;for(var gm=0,xa=0;xa<Ys;xa++)if(Oi=xa===0?mu(Me):-Tn,Cs=xa===0?sd(ge):gm,xa<Ys-1){var wu=re((Ur-tn[xa])/(Mt[xa].split(" ").length-1)),Oo=Mt[xa].split(" ");W.push([Oo[0]+" ",Cs,Oi]),gm=0;for(var Fo=1;Fo<Oo.length;Fo++){var d0=(nf(Oo[Fo-1]+" "+Oo[Fo])-nf(Oo[Fo]))*Ya+wu;Fo==Oo.length-1?W.push([Oo[Fo],d0,0]):W.push([Oo[Fo]+" ",d0,0]),gm-=d0}}else W.push([Mt[xa],Cs,Oi]);W.push(["",gm,0])}else{if(wr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],Ys=Mt.length,Ur=Ur!==0?Ur:c0,xa=0;xa<Ys;xa++){Oi=xa===0?mu(Me):-Tn,Cs=xa===0?sd(ge):0;var vm=Mt[xa].split(" ").length-1,uh=vm>0?(Ur-tn[xa])/vm:0;xa<Ys-1?Jo.push(I(re(uh))):Jo.push(0),W.push([Mt[xa],Cs,Oi])}}}(typeof He.R2L=="boolean"?He.R2L:gt)===!0&&(W=dl(W,function(wn,ya,hs){return[wn.split("").reverse().join(""),ya,hs]})),Nt={text:W,x:ge,y:Me,options:He,mutex:{pdfEscape:cs,activeFontKey:Bt,fonts:Rn,activeFontSize:nt}},rr.publish("postProcessText",Nt),W=Nt.text,si=Nt.mutex.isHex||!1;var af=Rn[Bt].encoding;af!=="WinAnsiEncoding"&&af!=="StandardEncoding"||(W=dl(W,function(wn,ya,hs){return[fs(wn),ya,hs]})),Mt=bt(W),W=[];for(var sf,_u,ju,dd=Array.isArray(Mt[0])?1:0,fd="",of=function(wn,ya,hs){var ii="";return hs instanceof Qr?(hs=typeof He.angle=="number"?ac(hs,new Qr(1,0,0,1,wn,ya)):ac(new Qr(1,0,0,1,wn,ya),hs),T===k&&(hs=ac(new Qr(1,0,0,-1,0,0),hs)),ii=hs.join(" ")+` Tm
`):ii=I(wn)+" "+I(ya)+` Td
`,ii},Fi=0;Fi<Mt.length;Fi++){switch(fd="",dd){case 1:ju=(si?"<":"(")+Mt[Fi][0]+(si?">":")"),sf=parseFloat(Mt[Fi][1]),_u=parseFloat(Mt[Fi][2]);break;case 0:ju=(si?"<":"(")+Mt[Fi]+(si?">":")"),sf=sd(ge),_u=mu(Me)}Jo!==void 0&&Jo[Fi]!==void 0&&(fd=Jo[Fi]+` Tw
`),Fi===0?W.push(fd+of(sf,_u,ds)+ju):dd===0?W.push(fd+ju):dd===1&&W.push(fd+of(sf,_u,ds)+ju)}W=dd===0?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var Zo=`BT
/`;return Zo+=Bt+" "+nt+` Tf
`,Zo+=I(nt*yu)+` TL
`,Zo+=id+`
`,Zo+=so,Zo+=W,pe(Zo+="ET"),v[Bt]=!0,es};var Na=g.__private__.clip=g.clip=function(W){return pe(W==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Na("evenodd")},g.__private__.discardPath=g.discardPath=function(){return pe("n"),this};var Rc=g.__private__.isValidStyle=function(W){var ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(ge=!0),ge};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(W){return Rc(W)&&(d=W),this};var r0=g.__private__.getStyle=g.getStyle=function(W){var ge=d;switch(W){case"D":case"S":ge="S";break;case"F":ge="f";break;case"FD":case"DF":ge="B";break;case"f":case"f*":case"B":case"B*":ge=W}return ge},um=g.close=function(){return pe("h"),this};g.stroke=function(){return pe("S"),this},g.fill=function(W){return ih("f",W),this},g.fillEvenOdd=function(W){return ih("f*",W),this},g.fillStroke=function(W){return ih("B",W),this},g.fillStrokeEvenOdd=function(W){return ih("B*",W),this};var ih=function(W,ge){Ia(ge)==="object"?Ka(ge,W):pe(W)},ef=function(W){W===null||T===k&&W===void 0||(W=r0(W),pe(W))};function Oy(W,ge,Me,He,et){var Nt=new C1(ge||this.boundingBox,Me||this.xStep,He||this.yStep,this.gState,et||this.matrix);Nt.stream=this.stream;var Mt=W+"$$"+this.cloneIndex+++"$$";return Oa(Mt,Nt),Nt}var Ka=function(W,ge){var Me=ja[W.key],He=qr[Me];if(He instanceof Q0)pe("q"),pe(n0(ge)),He.gState&&g.setGState(He.gState),pe(W.matrix.toString()+" cm"),pe("/"+Me+" sh"),pe("Q");else if(He instanceof C1){var et=new Qr(1,0,0,-1,0,rf());W.matrix&&(et=et.multiply(W.matrix||sc),Me=Oy.call(He,W.key,W.boundingBox,W.xStep,W.yStep,et).id),pe("q"),pe("/Pattern cs"),pe("/"+Me+" scn"),He.gState&&g.setGState(He.gState),pe(ge),pe("Q")}},n0=function(W){switch(W){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dm=g.moveTo=function(W,ge){return pe(I(re(W))+" "+I(H(ge))+" m"),this},a0=g.lineTo=function(W,ge){return pe(I(re(W))+" "+I(H(ge))+" l"),this},Rl=g.curveTo=function(W,ge,Me,He,et,Nt){return pe([I(re(W)),I(H(ge)),I(re(Me)),I(H(He)),I(re(et)),I(H(Nt)),"c"].join(" ")),this};g.__private__.line=g.line=function(W,ge,Me,He,et){if(isNaN(W)||isNaN(ge)||isNaN(Me)||isNaN(He)||!Rc(et))throw new Error("Invalid arguments passed to jsPDF.line");return T===C?this.lines([[Me-W,He-ge]],W,ge,[1,1],et||"S"):this.lines([[Me-W,He-ge]],W,ge,[1,1]).stroke()},g.__private__.lines=g.lines=function(W,ge,Me,He,et,Nt){var Mt,yr,wr,vn,Ur,Vn,Ss,ds,es,wi,si,so;if(typeof W=="number"&&(so=Me,Me=ge,ge=W,W=so),He=He||[1,1],Nt=Nt||!1,isNaN(ge)||isNaN(Me)||!Array.isArray(W)||!Array.isArray(He)||!Rc(et)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dm(ge,Me),Mt=He[0],yr=He[1],vn=W.length,wi=ge,si=Me,wr=0;wr<vn;wr++)(Ur=W[wr]).length===2?(wi=Ur[0]*Mt+wi,si=Ur[1]*yr+si,a0(wi,si)):(Vn=Ur[0]*Mt+wi,Ss=Ur[1]*yr+si,ds=Ur[2]*Mt+wi,es=Ur[3]*yr+si,wi=Ur[4]*Mt+wi,si=Ur[5]*yr+si,Rl(Vn,Ss,ds,es,wi,si));return Nt&&um(),ef(et),this},g.path=function(W){for(var ge=0;ge<W.length;ge++){var Me=W[ge],He=Me.c;switch(Me.op){case"m":dm(He[0],He[1]);break;case"l":a0(He[0],He[1]);break;case"c":Rl.apply(this,He);break;case"h":um()}}return this},g.__private__.rect=g.rect=function(W,ge,Me,He,et){if(isNaN(W)||isNaN(ge)||isNaN(Me)||isNaN(He)||!Rc(et))throw new Error("Invalid arguments passed to jsPDF.rect");return T===C&&(He=-He),pe([I(re(W)),I(H(ge)),I(re(Me)),I(re(He)),"re"].join(" ")),ef(et),this},g.__private__.triangle=g.triangle=function(W,ge,Me,He,et,Nt,Mt){if(isNaN(W)||isNaN(ge)||isNaN(Me)||isNaN(He)||isNaN(et)||isNaN(Nt)||!Rc(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Me-W,He-ge],[et-Me,Nt-He],[W-et,ge-Nt]],W,ge,[1,1],Mt,!0),this},g.__private__.roundedRect=g.roundedRect=function(W,ge,Me,He,et,Nt,Mt){if(isNaN(W)||isNaN(ge)||isNaN(Me)||isNaN(He)||isNaN(et)||isNaN(Nt)||!Rc(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return et=Math.min(et,.5*Me),Nt=Math.min(Nt,.5*He),this.lines([[Me-2*et,0],[et*yr,0,et,Nt-Nt*yr,et,Nt],[0,He-2*Nt],[0,Nt*yr,-et*yr,Nt,-et,Nt],[2*et-Me,0],[-et*yr,0,-et,-Nt*yr,-et,-Nt],[0,2*Nt-He],[0,-Nt*yr,et*yr,-Nt,et,-Nt]],W+et,ge,[1,1],Mt,!0),this},g.__private__.ellipse=g.ellipse=function(W,ge,Me,He,et){if(isNaN(W)||isNaN(ge)||isNaN(Me)||isNaN(He)||!Rc(et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*Me,Mt=4/3*(Math.SQRT2-1)*He;return dm(W+Me,ge),Rl(W+Me,ge-Mt,W+Nt,ge-He,W,ge-He),Rl(W-Nt,ge-He,W-Me,ge-Mt,W-Me,ge),Rl(W-Me,ge+Mt,W-Nt,ge+He,W,ge+He),Rl(W+Nt,ge+He,W+Me,ge+Mt,W+Me,ge),ef(et),this},g.__private__.circle=g.circle=function(W,ge,Me,He){if(isNaN(W)||isNaN(ge)||isNaN(Me)||!Rc(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,ge,Me,Me,He)},g.setFont=function(W,ge,Me){return Me&&(ge=M(ge,Me)),Bt=us(W,ge,{disableWarning:!1}),this};var fm=g.__private__.getFont=g.getFont=function(){return Rn[us.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var W,ge,Me={};for(W in Gr)if(Gr.hasOwnProperty(W))for(ge in Me[W]=[],Gr[W])Gr[W].hasOwnProperty(ge)&&Me[W].push(ge);return Me},g.addFont=function(W,ge,Me,He,et){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?et=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(Me=M(Me,He)),Ns.call(this,W,ge,Me,et=et||"Identity-H")};var hu,va=e.lineWidth||.200025,oc=g.__private__.getLineWidth=g.getLineWidth=function(){return va},fn=g.__private__.setLineWidth=g.setLineWidth=function(W){return va=W,pe(I(re(W))+" w"),this};g.__private__.setLineDash=Zr.API.setLineDash=Zr.API.setLineDashPattern=function(W,ge){if(W=W||[],ge=ge||0,isNaN(ge)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map(function(Me){return I(re(Me))}).join(" "),ge=I(re(ge)),pe("["+W+"] "+ge+" d"),this};var dv=g.__private__.getLineHeight=g.getLineHeight=function(){return nt*hu};g.__private__.getLineHeight=g.getLineHeight=function(){return nt*hu};var Fy=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(hu=W),this},Dy=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return hu};Fy(e.lineHeight);var sd=g.__private__.getHorizontalCoordinate=function(W){return re(W)},mu=g.__private__.getVerticalCoordinate=function(W){return T===k?W:cn[fe].mediaBox.topRightY-cn[fe].mediaBox.bottomLeftY-re(W)},fv=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(W){return I(sd(W))},bi=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(W){return I(mu(W))},pu=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ca(pu)},g.__private__.setStrokeColor=g.setDrawColor=function(W,ge,Me,He){return pu=ro({ch1:W,ch2:ge,ch3:Me,ch4:He,pdfColorType:"draw",precision:2}),pe(pu),this};var er=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ca(er)},g.__private__.setFillColor=g.setFillColor=function(W,ge,Me,He){return er=ro({ch1:W,ch2:ge,ch3:Me,ch4:He,pdfColorType:"fill",precision:2}),pe(er),this};var id=e.textColor||"0 g",s0=g.__private__.getTextColor=g.getTextColor=function(){return ca(id)};g.__private__.setTextColor=g.setTextColor=function(W,ge,Me,He){return id=ro({ch1:W,ch2:ge,ch3:Me,ch4:He,pdfColorType:"text",precision:3}),this};var Ml=e.charSpace,Gs=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ml||0)};g.__private__.setCharSpace=g.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ml=W,this};var Mc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(W){var ge=g.CapJoinStyles[W];if(ge===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mc=ge,pe(ge+" J"),this};var ao=0;g.__private__.setLineJoin=g.setLineJoin=function(W){var ge=g.CapJoinStyles[W];if(ge===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ao=ge,pe(ge+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(I(re(W))+" M"),this},g.GState=qS,g.setGState=function(W){(W=typeof W=="string"?ln[kn[W]]:i0(null,W)).equals(ss)||(pe("/"+W.id+" gs"),ss=W)};var i0=function(W,ge){if(!W||!kn[W]){var Me=!1;for(var He in ln)if(ln.hasOwnProperty(He)&&ln[He].equals(ge)){Me=!0;break}if(Me)ge=ln[He];else{var et="GS"+(Object.keys(ln).length+1).toString(10);ln[et]=ge,ge.id=et}return W&&(kn[W]=ge.id),rr.publish("addGState",ge),ge}};g.addGState=function(W,ge){return i0(W,ge),this},g.saveGraphicsState=function(){return pe("q"),ia.push({key:Bt,size:nt,color:id}),this},g.restoreGraphicsState=function(){pe("Q");var W=ia.pop();return Bt=W.key,nt=W.size,id=W.color,ss=null,this},g.setCurrentTransformationMatrix=function(W){return pe(W.toString()+" cm"),this},g.comment=function(W){return pe("#"+W),this};var gu=function(W,ge){var Me=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Me},set:function(Nt){isNaN(Nt)||(Me=parseFloat(Nt))}});var He=ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(Nt){isNaN(Nt)||(He=parseFloat(Nt))}});var et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return et},set:function(Nt){et=Nt.toString()}}),this},hm=function(W,ge,Me,He){gu.call(this,W,ge),this.type="rect";var et=Me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return et},set:function(Mt){isNaN(Mt)||(et=parseFloat(Mt))}});var Nt=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(Mt){isNaN(Mt)||(Nt=parseFloat(Mt))}}),this},oh=function(){this.page=bn,this.currentPage=fe,this.pages=Be.slice(0),this.pagesContext=cn.slice(0),this.x=dr,this.y=Kn,this.matrix=Qn,this.width=pm(fe),this.height=l0(fe),this.outputDestination=Te,this.id="",this.objectNumber=-1};oh.prototype.restore=function(){bn=this.page,fe=this.currentPage,cn=this.pagesContext,Be=this.pages,dr=this.x,Kn=this.y,Qn=this.matrix,o0(fe,this.width),vu(fe,this.height),Te=this.outputDestination};var mm=function(W,ge,Me,He,et){Fc.push(new oh),bn=fe=0,Be=[],dr=W,Kn=ge,Qn=et,lm([Me,He])};for(var tf in g.beginFormObject=function(W,ge,Me,He,et){return mm(W,ge,Me,He,et),this},g.endFormObject=function(W){return function(ge){if(Pa[ge])Fc.pop().restore();else{var Me=new oh,He="Xo"+(Object.keys(ri).length+1).toString(10);Me.id=He,Pa[ge]=He,ri[He]=Me,rr.publish("addFormObject",Me),Fc.pop().restore()}}(W),this},g.doFormObject=function(W,ge){var Me=ri[Pa[W]];return pe("q"),pe(ge.toString()+" cm"),pe("/"+Me.id+" Do"),pe("Q"),this},g.getFormObject=function(W){var ge=ri[Pa[W]];return{x:ge.x,y:ge.y,width:ge.width,height:ge.height,matrix:ge.matrix}},g.save=function(W,ge){return W=W||"generated.pdf",(ge=ge||{}).returnPromise=ge.returnPromise||!1,ge.returnPromise===!1?(G0(sh(yi()),W),typeof G0.unload=="function"&&jn.setTimeout&&setTimeout(G0.unload,911),this):new Promise(function(Me,He){try{var et=G0(sh(yi()),W);typeof G0.unload=="function"&&jn.setTimeout&&setTimeout(G0.unload,911),Me(et)}catch(Nt){He(Nt.message)}})},Zr.API)Zr.API.hasOwnProperty(tf)&&(tf==="events"&&Zr.API.events.length?function(W,ge){var Me,He,et;for(et=ge.length-1;et!==-1;et--)Me=ge[et][0],He=ge[et][1],W.subscribe.apply(W,[Me].concat(typeof He=="function"?[He]:He))}(rr,Zr.API.events):g[tf]=Zr.API[tf]);function pm(W){return cn[W].mediaBox.topRightX-cn[W].mediaBox.bottomLeftX}function o0(W,ge){cn[W].mediaBox.topRightX=ge+cn[W].mediaBox.bottomLeftX}function l0(W){return cn[W].mediaBox.topRightY-cn[W].mediaBox.bottomLeftY}function vu(W,ge){cn[W].mediaBox.topRightY=ge+cn[W].mediaBox.bottomLeftY}var xu=g.getPageWidth=function(W){return pm(W=W||fe)/Mr},lh=g.setPageWidth=function(W,ge){o0(W,ge*Mr)},rf=g.getPageHeight=function(W){return l0(W=W||fe)/Mr},od=g.setPageHeight=function(W,ge){vu(W,ge*Mr)};return g.internal={pdfEscape:cs,getStyle:r0,getFont:fm,getFontSize:Ue,getCharSpace:Gs,getTextColor:s0,getLineHeight:dv,getLineHeightFactor:Dy,getLineWidth:oc,write:Ge,getHorizontalCoordinate:sd,getVerticalCoordinate:mu,getCoordinateString:fv,getVerticalCoordinateString:bi,collections:{},newObject:Ms,newAdditionalObject:uu,newObjectDeferred:xi,newObjectDeferredBegin:ni,getFilters:Yn,putStream:ha,events:rr,scaleFactor:Mr,pageSize:{getWidth:function(){return xu(fe)},setWidth:function(W){lh(fe,W)},getHeight:function(){return rf(fe)},setHeight:function(W){od(fe,W)}},encryptionOptions:f,encryption:Hs,getEncryptor:function(W){return f!==null?Hs.encryptor(W,0):function(ge){return ge}},output:t0,getNumberOfPages:Qd,get pages(){return Be},out:pe,f2:U,f3:q,getPageInfo:Mn,getPageInfoByObjId:cm,getCurrentPageInfo:Py,getPDFVersion:y,Point:gu,Rectangle:hm,Matrix:Qr,hasHotfix:Dl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return xu(fe)},set:function(W){lh(fe,W)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return rf(fe)},set:function(W){od(fe,W)},enumerable:!0,configurable:!0}),(function(W){for(var ge=0,Me=Pt.length;ge<Me;ge++){var He=Ns.call(this,W[ge][0],W[ge][1],W[ge][2],Pt[ge][3],!0);h===!1&&(v[He]=!0);var et=W[ge][0].split("-");om({id:He,fontName:et[0],fontStyle:et[1]||""})}rr.publish("addFonts",{fonts:Rn,dictionary:Gr})}).call(g,Pt),Bt="F1",Sn(s,r),rr.publish("initialized"),g}Qv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Qv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Qv.prototype.processOwnerPassword=function(e,t){return AO(CO(t).substr(0,5),e)},Qv.prototype.encryptor=function(e,t){var r=CO(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return AO(r,n)}},qS.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ia(e)!==Ia(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Zr.API={events:[]},Zr.version="3.0.4";var di=Zr.API,nI=1,cv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fn=function(e){return e.toFixed(2)},$m=function(e){return e.toFixed(5)};di.__acroform__={};var Oc=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},xH=function(e){return e*nI},bf=function(e){var t=new ece,r=Rr.internal.getHeight(e)||0,n=Rr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Fn(n)),Number(Fn(r))],t},pot=di.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},got=di.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},vot=di.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ni=di.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vot(e,t-1)},Si=di.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pot(e,t-1)},Ci=di.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return got(e,t-1)},xot=di.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(a)||0,[Number(Fn(c.lowerLeft_X)),Number(Fn(c.lowerLeft_Y)),Number(Fn(c.upperRight_X)),Number(Fn(c.upperRight_Y))]},yot=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=kO(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Fn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=bf(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},kO=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var a=r,o=Rr.internal.getHeight(e)||0;o=o<0?-o:o;var l=Rr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(U,q,re){if(U+1<s.length){var H=q+" "+s[U+1][0];return Yj(H,e,re).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,f,h=Yj("3",e,a).height,v=e.multiline?o-a:(o-h)/2,g=v+=2,_=0,y=0,j=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Yj(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var T=!1;if(s[k].length!==1&&j!==s[k].length-1){if((h+2)*(C+2)+2>o)continue e;w+=s[k][j],T=!0,y=k,k--}else{w=(w+=s[k][j]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var P=parseInt(k),D=c(P,w,a),M=k>=s.length-1;if(D&&!M){w+=" ",j=0;continue}if(D||M){if(M)y=P;else if(e.multiline&&(h+2)*(C+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(C+2)+2>o)continue e;y=P}}for(var I="",B=_;B<=y;B++){var V=s[B];if(e.multiline){if(B===y){I+=V[j]+" ",j=(j+1)%V.length;continue}if(B===_){I+=V[V.length-1]+" ";continue}}I+=V[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=Yj(I,e,a).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}t+=Fn(d)+" "+Fn(g)+` Td
`,t+="("+cv(I)+`) Tj
`,t+=-Fn(d)+` 0 Td
`,g=-(a+2),f=0,_=T?y:y+1,C++,w=""}break}return n.text=t,n.fontSize=a,n},Yj=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},bot={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wot=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},_ot=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Jd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(bot)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tce,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&wot(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=xot(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rr.createDefaultAppearanceStream(l),Ia(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=yot(l);c.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var g=l.appearanceStreamContent[v];if(h+="/"+v+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var _=g[o];typeof _=="function"&&(_=_.call(s,l)),h+="/"+o+" "+_+" ",s.internal.acroformPlugin.xForms.indexOf(_)>=0||s.internal.acroformPlugin.xForms.push(_)}}else typeof(_=g)=="function"&&(_=_.call(s,l)),h+="/"+o+" "+_,s.internal.acroformPlugin.xForms.indexOf(_)>=0||s.internal.acroformPlugin.xForms.push(_);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}a&&function(y,j){for(var w in y)if(y.hasOwnProperty(w)){var C=w,k=y[w];j.internal.newObjectDeferredBegin(k.objId,!0),Ia(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete y[C]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Qle=di.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),Ia(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+cv(n(e[a].toString()))+")"):s+=e[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},E6=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+cv(n(e))+")"},Tf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Tf.prototype.toString=function(){return this.objId+" 0 R"},Tf.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Tf.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:Qle(s,this.objId,this.scope)}):s instanceof Tf?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var ece=function(){Tf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Oc(ece,Tf);var tce=function(){Tf.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+cv(r(e))+")"}},set:function(r){e=r}})};Oc(tce,Tf);var Jd=function e(){Tf.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ni(t,3)},set:function(w){w?this.F=Si(t,3):this.F=Ci(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof WS)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+cv(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/nI:d},set:function(w){d=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof WS||this instanceof wg))return E6(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Vo==0?E6(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof Vo==0?w.substr(0,1)==="("?Yv(w.substr(1,w.length-2)):Yv(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vo==1?Yv(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Vo==1?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Vo==0?E6(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Vo==0?w.substr(0,1)==="("?Yv(w.substr(1,w.length-2)):Yv(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vo==1?Yv(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Vo==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,1)},set:function(w){w?this.Ff=Si(this.Ff,1):this.Ff=Ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,2)},set:function(w){w?this.Ff=Si(this.Ff,2):this.Ff=Ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,3)},set:function(w){w?this.Ff=Si(this.Ff,3):this.Ff=Ci(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');j=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(j){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Oc(Jd,Tf);var W1=function(){Jd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qle(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,18)},set:function(r){r?this.Ff=Si(this.Ff,18):this.Ff=Ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Si(this.Ff,19):this.Ff=Ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,20)},set:function(r){r?(this.Ff=Si(this.Ff,20),t.sort()):this.Ff=Ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,22)},set:function(r){r?this.Ff=Si(this.Ff,22):this.Ff=Ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(r){r?this.Ff=Si(this.Ff,23):this.Ff=Ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,27)},set:function(r){r?this.Ff=Si(this.Ff,27):this.Ff=Ci(this.Ff,27)}}),this.hasAppearanceStream=!1};Oc(W1,Jd);var H1=function(){W1.call(this),this.fontName="helvetica",this.combo=!1};Oc(H1,W1);var G1=function(){H1.call(this),this.combo=!0};Oc(G1,H1);var F4=function(){G1.call(this),this.edit=!0};Oc(F4,G1);var Vo=function(){Jd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,15)},set:function(r){r?this.Ff=Si(this.Ff,15):this.Ff=Ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,16)},set:function(r){r?this.Ff=Si(this.Ff,16):this.Ff=Ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,17)},set:function(r){r?this.Ff=Si(this.Ff,17):this.Ff=Ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(r){r?this.Ff=Si(this.Ff,26):this.Ff=Ci(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+cv(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ia(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Oc(Vo,Jd);var D4=function(){Vo.call(this),this.pushButton=!0};Oc(D4,Vo);var K1=function(){Vo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Oc(K1,Vo);var WS=function(){var e,t;Jd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+cv(s(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Ia(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oc(WS,Jd),K1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},K1.prototype.createOption=function(e){var t=new WS;return t.Parent=this,t.optionName=e,this.Kids.push(t),jot.call(this.scope,t),t};var R4=function(){Vo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rr.CheckBox.createAppearanceStream()};Oc(R4,Vo);var wg=function(){Jd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,13)},set:function(t){t?this.Ff=Si(this.Ff,13):this.Ff=Ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,21)},set:function(t){t?this.Ff=Si(this.Ff,21):this.Ff=Ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(t){t?this.Ff=Si(this.Ff,23):this.Ff=Ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,24)},set:function(t){t?this.Ff=Si(this.Ff,24):this.Ff=Ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,25)},set:function(t){t?this.Ff=Si(this.Ff,25):this.Ff=Ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(t){t?this.Ff=Si(this.Ff,26):this.Ff=Ci(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oc(wg,Jd);var M4=function(){wg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,14)},set:function(e){e?this.Ff=Si(this.Ff,14):this.Ff=Ci(this.Ff,14)}}),this.password=!0};Oc(M4,wg);var Rr={CheckBox:{createAppearanceStream:function(){return{N:{On:Rr.CheckBox.YesNormal},D:{On:Rr.CheckBox.YesPushDown,Off:Rr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bf(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=kO(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Fn(Rr.internal.getWidth(e))+" "+Fn(Rr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fn(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bf(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=Rr.internal.getHeight(e),o=Rr.internal.getWidth(e),l=kO(e,e.caption);return s.push("1 g"),s.push("0 0 "+Fn(o)+" "+Fn(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Fn(o-1)+" "+Fn(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Fn(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=bf(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fn(Rr.internal.getWidth(e))+" "+Fn(Rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rr.RadioButton.Circle.YesNormal,t.D[e]=Rr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bf(e);t.scope=e.scope;var r=[],n=Rr.internal.getWidth(e)<=Rr.internal.getHeight(e)?Rr.internal.getWidth(e)/4:Rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Rr.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$m(Rr.internal.getWidth(e)/2)+" "+$m(Rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bf(e);t.scope=e.scope;var r=[],n=Rr.internal.getWidth(e)<=Rr.internal.getHeight(e)?Rr.internal.getWidth(e)/4:Rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*Rr.internal.Bezier_C).toFixed(5)),o=Number((n*Rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$m(Rr.internal.getWidth(e)/2)+" "+$m(Rr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$m(Rr.internal.getWidth(e)/2)+" "+$m(Rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bf(e);t.scope=e.scope;var r=[],n=Rr.internal.getWidth(e)<=Rr.internal.getHeight(e)?Rr.internal.getWidth(e)/4:Rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*Rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$m(Rr.internal.getWidth(e)/2)+" "+$m(Rr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rr.RadioButton.Cross.YesNormal,t.D[e]=Rr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bf(e);t.scope=e.scope;var r=[],n=Rr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Fn(Rr.internal.getWidth(e)-2)+" "+Fn(Rr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Fn(n.x1.x)+" "+Fn(n.x1.y)+" m"),r.push(Fn(n.x2.x)+" "+Fn(n.x2.y)+" l"),r.push(Fn(n.x4.x)+" "+Fn(n.x4.y)+" m"),r.push(Fn(n.x3.x)+" "+Fn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bf(e);t.scope=e.scope;var r=Rr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fn(Rr.internal.getWidth(e))+" "+Fn(Rr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fn(Rr.internal.getWidth(e)-2)+" "+Fn(Rr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Fn(r.x1.x)+" "+Fn(r.x1.y)+" m"),n.push(Fn(r.x2.x)+" "+Fn(r.x2.y)+" l"),n.push(Fn(r.x4.x)+" "+Fn(r.x4.y)+" m"),n.push(Fn(r.x3.x)+" "+Fn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bf(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fn(Rr.internal.getWidth(e))+" "+Fn(Rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rr.internal.getWidth(e),r=Rr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Rr.internal.getWidth=function(e){var t=0;return Ia(e)==="object"&&(t=xH(e.Rect[2])),t},Rr.internal.getHeight=function(e){var t=0;return Ia(e)==="object"&&(t=xH(e.Rect[3])),t};var jot=di.addField=function(e){if(_ot(this,e),!(e instanceof Jd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};di.AcroFormChoiceField=W1,di.AcroFormListBox=H1,di.AcroFormComboBox=G1,di.AcroFormEditBox=F4,di.AcroFormButton=Vo,di.AcroFormPushButton=D4,di.AcroFormRadioButton=K1,di.AcroFormCheckBox=R4,di.AcroFormTextField=wg,di.AcroFormPasswordField=M4,di.AcroFormAppearance=Rr,di.AcroForm={ChoiceField:W1,ListBox:H1,ComboBox:G1,EditBox:F4,Button:Vo,PushButton:D4,RadioButton:K1,CheckBox:R4,TextField:wg,PasswordField:M4,Appearance:Rr},Zr.AcroForm={ChoiceField:W1,ListBox:H1,ComboBox:G1,EditBox:F4,Button:Vo,PushButton:D4,RadioButton:K1,CheckBox:R4,TextField:wg,PasswordField:M4,Appearance:Rr};function rce(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(U,q){var re,H,X,Q,se,te=r;if((q=q||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(D(U))for(se in n)for(X=n[se],re=0;re<X.length;re+=1){for(Q=!0,H=0;H<X[re].length;H+=1)if(X[re][H]!==void 0&&X[re][H]!==U[H]){Q=!1;break}if(Q===!0){te=se;break}}else for(se in n)for(X=n[se],re=0;re<X.length;re+=1){for(Q=!0,H=0;H<X[re].length;H+=1)if(X[re][H]!==void 0&&X[re][H]!==U.charCodeAt(H)){Q=!1;break}if(Q===!0){te=se;break}}return te===r&&q!==r&&(te=q),te},a=function U(q){for(var re=this.internal.write,H=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:q.width}),Q.push({key:"Height",value:q.height}),q.colorSpace===w.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===w.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var se="",te=0,ce=q.transparency.length;te<ce;te++)se+=q.transparency[te]+" "+q.transparency[te]+" ";Q.push({key:"Mask",value:"["+se+"]"})}q.sMask!==void 0&&Q.push({key:"SMask",value:q.objectId+1+" 0 R"});var xe=q.filter!==void 0?["/"+q.filter]:void 0;if(H({data:q.data,additionalKeyValues:Q,alreadyAppliedFilters:xe,objectId:q.objectId}),re("endobj"),"sMask"in q&&q.sMask!==void 0){var de,ee=(de=q.sMaskBitsPerComponent)!==null&&de!==void 0?de:q.bitsPerComponent,fe={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:ee,data:q.sMask};"filter"in q&&(fe.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(ee," /Columns ").concat(q.width),fe.filter=q.filter),U.call(this,fe)}if(q.colorSpace===w.INDEXED){var ne=this.internal.newObject();H({data:I(new Uint8Array(q.palette)),objectId:ne}),re("endobj")}},o=function(){var U=this.internal.collections[t+"images"];for(var q in U)a.call(this,U[q])},l=function(){var U,q=this.internal.collections[t+"images"],re=this.internal.write;for(var H in q)re("/I"+(U=q[H]).index,U.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var U=this.internal.collections[t+"images"];return c.call(this),U},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(U){return typeof e["process"+U.toUpperCase()]=="function"},v=function(U){return Ia(U)==="object"&&U.nodeType===1},g=function(U,q){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var re=""+U.getAttribute("src");if(re.indexOf("data:image/")===0)return O4(unescape(re).split("base64,").pop());var H=e.loadFile(re,!0);if(H!==void 0)return H}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var X;switch(q){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return O4(U.toDataURL(X,1).split("base64,").pop())}},_=function(U){var q=this.internal.collections[t+"images"];if(q){for(var re in q)if(U===q[re].alias)return q[re]}},y=function(U,q,re){return U||q||(U=-96,q=-96),U<0&&(U=-1*re.width*72/U/this.internal.scaleFactor),q<0&&(q=-1*re.height*72/q/this.internal.scaleFactor),U===0&&(U=q*re.width/re.height),q===0&&(q=U*re.height/re.width),[U,q]},j=function(U,q,re,H,X,Q){var se=y.call(this,re,H,X),te=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,xe=d.call(this);if(re=se[0],H=se[1],xe[X.index]=X,Q){Q*=Math.PI/180;var de=Math.cos(Q),ee=Math.sin(Q),fe=function(Y){return Y.toFixed(4)},ne=[fe(de),fe(ee),fe(-1*ee),fe(de),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,te(U),ce(q+H),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([te(re),"0","0",te(H),"0","0","cm"].join(" "))):this.internal.write([te(re),"0","0",te(H),te(U),ce(q+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(U){var q,re,H=0;if(typeof U=="string")for(re=U.length,q=0;q<re;q++)H=(H<<5)-H+U.charCodeAt(q),H|=0;else if(D(U))for(re=U.byteLength/2,q=0;q<re;q++)H=(H<<5)-H+U[q],H|=0;return H},T=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var q=!0;return U.length===0&&(q=!1),U.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(q=!1),q},P=e.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var q=U.indexOf(",");return q<0?null:U.substring(0,q).trim().endsWith("base64")?U.substring(q+1):null};e.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},M=e.__addimage__.binaryStringToUint8Array=function(U){for(var q=U.length,re=new Uint8Array(q),H=0;H<q;H++)re[H]=U.charCodeAt(H);return re},I=e.__addimage__.arrayBufferToBinaryString=function(U){for(var q="",re=D(U)?U:new Uint8Array(U),H=0;H<re.length;H+=8192)q+=String.fromCharCode.apply(null,re.subarray(H,H+8192));return q};e.addImage=function(){var U,q,re,H,X,Q,se,te,ce;if(typeof arguments[1]=="number"?(q=r,re=arguments[1],H=arguments[2],X=arguments[3],Q=arguments[4],se=arguments[5],te=arguments[6],ce=arguments[7]):(q=arguments[1],re=arguments[2],H=arguments[3],X=arguments[4],Q=arguments[5],se=arguments[6],te=arguments[7],ce=arguments[8]),Ia(U=arguments[0])==="object"&&!v(U)&&"imageData"in U){var xe=U;U=xe.imageData,q=xe.format||q||r,re=xe.x||re||0,H=xe.y||H||0,X=xe.w||xe.width||X,Q=xe.h||xe.height||Q,se=xe.alias||se,te=xe.compression||te,ce=xe.rotation||xe.angle||ce}var de=this.internal.getFilters();if(te===void 0&&de.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(re)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var ee=B.call(this,U,q,se,te);return j.call(this,re,H,X,Q,ee,ce),this};var B=function(U,q,re,H){var X,Q,se;if(typeof U=="string"&&s(U)===r){U=unescape(U);var te=V(U,!1);(te!==""||(te=e.loadFile(U,!0))!==void 0)&&(U=te)}if(v(U)&&(U=g(U,q)),q=s(U,q),!h(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((se=re)==null||se.length===0)&&(re=function(ce){return typeof ce=="string"||D(ce)?k(ce):D(ce.data)?k(ce.data):null}(U)),(X=_.call(this,re))||(U instanceof Uint8Array||q==="RGBA"||(Q=U,U=M(U)),X=this["process"+q.toUpperCase()](U,f.call(this),re,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in e.image_compression?ce:C.NONE}(H),Q)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},V=e.__addimage__.convertBase64ToBinaryString=function(U,q){q=typeof q!="boolean"||q;var re,H="";if(typeof U=="string"){var X;re=(X=P(U))!==null&&X!==void 0?X:U;try{H=O4(re)}catch(Q){if(q)throw T(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(U){var q,re,H="";if(v(U)&&(U=g(U)),typeof U=="string"&&s(U)===r&&((H=V(U,!1))===""&&(H=e.loadFile(U)||""),U=H),re=s(U),!h(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(U instanceof Uint8Array||(U=M(U)),!(q=this["process"+re.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=re,q}})(Zr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((n=d[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var g=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",a+=" /Popup "+j.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+g(w(C))+") >>",y.content=a;var k=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(a+=" /Open true"),a+=" >>",j.content=a,this.internal.write(y.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(_(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var D=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,s,a){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(d*f)}else l=c,o=d;return this.text(r,n,s,a),s+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-d,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Zr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var j=0,w=r,C="",k=0;for(j=0;j<y.length;j+=1)w[y.charCodeAt(j)]!==void 0?(k++,typeof(w=w[y.charCodeAt(j)])=="number"&&(C+=String.fromCharCode(w),w=r,k=0),j===y.length-1&&(w=r,C+=y.charAt(j-(k-1)),j-=k-1,k=0)):(w=r,C+=y.charAt(j-k),j-=k,k=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(y,j,w){return o(y)?a(y)===!1?-1:!d(y)||!o(j)&&!o(w)||!o(w)&&l(j)||l(y)&&!o(j)||l(y)&&c(j)||l(y)&&l(j)?0:f(y)&&o(j)&&!l(j)&&o(w)&&d(w)?3:l(y)||!o(w)?1:2:-1},g=function(y){var j=0,w=0,C=0,k="",T="",P="",D=(y=y||"").split("\\s+"),M=[];for(j=0;j<D.length;j+=1){for(M.push(""),w=0;w<D[j].length;w+=1)k=D[j][w],T=D[j][w-1],P=D[j][w+1],o(k)?(C=v(k,T,P),M[j]+=C!==-1?String.fromCharCode(t[k.charCodeAt(0)][C]):k):M[j]+=k;M[j]=h(M[j])}return M.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var y,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(j)){var C=0;for(w=[],C=0;C<j.length;C+=1)Array.isArray(j[C])?w.push([g(j[C][0]),j[C][1],j[C][2]]):w.push([g(j[C])]);y=w}else y=g(j);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",_])}(Zr.API),Zr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(y){_=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,g=0,_=0,y=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,T){return k.concat(j.splitTextToSize(T,w))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)g<(y=this.getStringUnitWidth(c[C],{font:h})*f)&&(g=y);return g!==0&&(_=c.length),{w:g/=v,h:Math.max((_*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,f,h,v){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,_,y,j,w=[],C=[],k=[],T={},P={},D=[],M=[],I=(v=v||{}).autoSize||!1,B=v.printHeaders!==!1,V=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,U=v.margins||Object.assign({width:this.getPageWidth()},t),q=typeof v.padding=="number"?v.padding:3,re=v.headerBackgroundColor||"#c8c8c8",H=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=H,this.setFontSize(V),h==null)C=w=Object.keys(f[0]),k=w.map(function(){return"left"});else if(Array.isArray(h)&&Ia(h[0])==="object")for(w=h.map(function(xe){return xe.name}),C=h.map(function(xe){return xe.prompt||xe.name||""}),k=h.map(function(xe){return xe.align||"left"}),g=0;g<h.length;g+=1)P[h[g].name]=.7499990551181103*h[g].width;else Array.isArray(h)&&typeof h[0]=="string"&&(C=w=h,k=w.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<w.length;g+=1){for(T[j=w[g]]=f.map(function(xe){return xe[j]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=T[j],this.setFont(void 0,"normal"),y=0;y<_.length;y+=1)D.push(this.getTextDimensions(_[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[j]=Math.max.apply(null,D)+q+q,D=[]}if(B){var X={};for(g=0;g<w.length;g+=1)X[w[g]]={},X[w[g]].text=C[g],X[w[g]].align=k[g];var Q=l.call(this,X,P);M=w.map(function(xe){return new a(c,d,P[xe],Q,X[xe].text,void 0,X[xe].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var se=h.reduce(function(xe,de){return xe[de.name]=de.align,xe},{});for(g=0;g<f.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:f[g]},this);var te=l.call(this,f[g],P);for(y=0;y<w.length;y+=1){var ce=f[g][w[y]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:y,data:ce},this),o.call(this,new a(c,d,P[w[y]],te,ce,g+2,se[w[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var _=c[g];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/v+f+f},this).reduce(function(g,_){return Math.max(g,_)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Zr.API);var nce={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ace=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],EO=rce(ace),sce=[100,200,300,400,500,600,700,800,900],Not=rce(sce);function T6(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return nce[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),s=function(a){return typeof EO[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function yH(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Sot={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wH(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _H(e){return e.trimLeft()}function Cot(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Aot(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Xj,jH,NH,Xv,Jj,SH,CH,AH,P6=["times"];function kH(e,t,r,n,s){var a=4,o=TH;switch(s){case Zr.API.image_compression.FAST:a=1,o=EH;break;case Zr.API.image_compression.MEDIUM:a=6,o=PH;break;case Zr.API.image_compression.SLOW:a=9,o=OH}e=function(c,d,f,h){for(var v,g=c.length/d,_=new Uint8Array(c.length+g),y=[kot,EH,TH,PH,OH],j=0;j<g;j+=1){var w=j*d,C=c.subarray(w,w+d);if(h)_.set(h(C,f,v),w+j);else{for(var k=y.length,T=[],P=0;P<k;P+=1)T[P]=y[P](C,f,v);var D=Tot(T.concat());_.set(T[D],w+j)}v=C}return _}(e,t,Math.ceil(r*n/8),o);var l=gO(e,{level:a});return Zr.API.__addimage__.arrayBufferToBinaryString(l)}function kot(e){var t=Array.apply([],e);return t.unshift(0),t}function EH(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var a=e[s-t]||0;n[s+1]=e[s]-a+256&255}return n}function TH(e,t,r){var n=e.length,s=[];s[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;s[a+1]=e[a]-o+256&255}return s}function PH(e,t,r){var n=e.length,s=[];s[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,l=r&&r[a]||0;s[a+1]=e[a]+256-(o+l>>>1)&255}return s}function OH(e,t,r){var n=e.length,s=[];s[0]=4;for(var a=0;a<n;a+=1){var o=Eot(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);s[a+1]=e[a]-o+256&255}return s}function Eot(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=s&&n<=a?e:s<=a?t:r}function Tot(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function O6(e,t,r){var n=t*r,s=Math.floor(n/8),a=16-(n-8*s+r),o=(1<<r)-1;return ice(e,s)>>a&o}function FH(e,t,r,n){var s=r*n,a=Math.floor(s/8),o=16-(s-8*a+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,f,h){if(f+1<d.byteLength)d.setUint16(f,h,!1);else{var v=h>>8&255;d.setUint8(f,v)}})(e,a,ice(e,a)&~(l<<o)&65535|c)}function ice(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Pot(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,f=[],h=0,v=null,g=0,_=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,v=e[t++],1&y||(v=null),g=y>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,T=e[t++],P=T>>6&1,D=1<<1+(7&T),M=l,I=c,B=!1;T>>7&&(B=!0,M=t,I=D,t+=3*D);var V=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}f.push({x:j,y:w,width:C,height:k,has_local_palette:B,palette_offset:M,palette_size:I,data_offset:V,data_length:t-V,transparent_index:v,interlaced:!!P,delay:h,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return _},this.frameInfo=function(q){if(q<0||q>=f.length)throw new Error("Frame index out of range.");return f[q]},this.decodeAndBlitFrameBGRA=function(q,re){var H=this.frameInfo(q),X=H.width*H.height,Q=new Uint8Array(X);DH(e,H.data_offset,Q,X);var se=H.palette_offset,te=H.transparent_index;te===null&&(te=256);var ce=H.width,xe=r-ce,de=ce,ee=4*(H.y*r+H.x),fe=4*((H.y+H.height)*r+H.x),ne=ee,Y=4*xe;H.interlaced===!0&&(Y+=4*r*7);for(var ue=8,le=0,ke=Q.length;le<ke;++le){var _e=Q[le];if(de===0&&(de=ce,(ne+=Y)>=fe&&(Y=4*xe+4*r*(ue-1),ne=ee+(ce+xe)*(ue<<1),ue>>=1)),_e===te)ne+=4;else{var Fe=e[se+3*_e],Be=e[se+3*_e+1],Re=e[se+3*_e+2];re[ne++]=Re,re[ne++]=Be,re[ne++]=Fe,re[ne++]=255}--de}},this.decodeAndBlitFrameRGBA=function(q,re){var H=this.frameInfo(q),X=H.width*H.height,Q=new Uint8Array(X);DH(e,H.data_offset,Q,X);var se=H.palette_offset,te=H.transparent_index;te===null&&(te=256);var ce=H.width,xe=r-ce,de=ce,ee=4*(H.y*r+H.x),fe=4*((H.y+H.height)*r+H.x),ne=ee,Y=4*xe;H.interlaced===!0&&(Y+=4*r*7);for(var ue=8,le=0,ke=Q.length;le<ke;++le){var _e=Q[le];if(de===0&&(de=ce,(ne+=Y)>=fe&&(Y=4*xe+4*r*(ue-1),ne=ee+(ce+xe)*(ue<<1),ue>>=1)),_e===te)ne+=4;else{var Fe=e[se+3*_e],Be=e[se+3*_e+1],Re=e[se+3*_e+2];re[ne++]=Fe,re[ne++]=Be,re[ne++]=Re,re[ne++]=255}--de}}}function DH(e,t,r,n){for(var s=e[t++],a=1<<s,o=a+1,l=o+1,c=s+1,d=(1<<c)-1,f=0,h=0,v=0,g=e[t++],_=new Int32Array(4096),y=null;;){for(;f<16&&g!==0;)h|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<c)break;var j=h&d;if(h>>=c,f-=c,j!==a){if(j===o)break;for(var w=j<l?j:y,C=0,k=w;k>a;)k=_[k]>>8,++C;var T=k;if(v+C+(w!==j?1:0)>n)return void os.log("Warning, gif stream longer than expected.");r[v++]=T;var P=v+=C;for(w!==j&&(r[v++]=T),k=w;C--;)k=_[k],r[--P]=255&k,k>>=8;y!==null&&l<4096&&(_[l++]=y<<8|T,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=j}else l=o+1,d=(1<<(c=s+1))-1,y=null}return v!==n&&os.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function F6(e){var t,r,n,s,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),v=new Array(65535),g=new Array(64),_=new Array(64),y=[],j=0,w=7,C=new Array(64),k=new Array(64),T=new Array(64),P=new Array(256),D=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(ee,fe){for(var ne=0,Y=0,ue=new Array,le=1;le<=16;le++){for(var ke=1;ke<=ee[le];ke++)ue[fe[Y]]=[],ue[fe[Y]][0]=ne,ue[fe[Y]][1]=le,Y++,ne++;ne*=2}return ue}function se(ee){for(var fe=ee[0],ne=ee[1]-1;ne>=0;)fe&1<<ne&&(j|=1<<w),ne--,--w<0&&(j==255?(te(255),te(0)):te(j),w=7,j=0)}function te(ee){y.push(ee)}function ce(ee){te(ee>>8&255),te(255&ee)}function xe(ee,fe,ne,Y,ue){for(var le,ke=ue[0],_e=ue[240],Fe=function(nt,Ye){var Ue,gt,Ot,br,Yr,yt,$t,cr,Bt,Mr,dr=0;for(Bt=0;Bt<8;++Bt){Ue=nt[dr],gt=nt[dr+1],Ot=nt[dr+2],br=nt[dr+3],Yr=nt[dr+4],yt=nt[dr+5],$t=nt[dr+6];var Kn=Ue+(cr=nt[dr+7]),Qn=Ue-cr,Rn=gt+$t,Gr=gt-$t,ia=Ot+yt,qr=Ot-yt,ja=br+Yr,ln=br-Yr,kn=Kn+ja,ss=Kn-ja,bn=Rn+ia,cn=Rn-ia;nt[dr]=kn+bn,nt[dr+4]=kn-bn;var rr=.707106781*(cn+ss);nt[dr+2]=ss+rr,nt[dr+6]=ss-rr;var th=.382683433*((kn=ln+qr)-(cn=Gr+Qn)),ri=.5411961*kn+th,Pa=1.306562965*cn+th,Fc=.707106781*(bn=qr+Gr),Qr=Qn+Fc,ac=Qn-Fc;nt[dr+5]=ac+ri,nt[dr+3]=ac-ri,nt[dr+1]=Qr+Pa,nt[dr+7]=Qr-Pa,dr+=8}for(dr=0,Bt=0;Bt<8;++Bt){Ue=nt[dr],gt=nt[dr+8],Ot=nt[dr+16],br=nt[dr+24],Yr=nt[dr+32],yt=nt[dr+40],$t=nt[dr+48];var sc=Ue+(cr=nt[dr+56]),Oa=Ue-cr,Xo=gt+$t,Ms=gt-$t,xi=Ot+yt,ni=Ot-yt,uu=br+Yr,ad=br-Yr,Dc=sc+uu,ca=sc-uu,ro=Xo+xi,Yn=Xo-xi;nt[dr]=Dc+ro,nt[dr+32]=Dc-ro;var ha=.707106781*(Yn+ca);nt[dr+16]=ca+ha,nt[dr+48]=ca-ha;var no=.382683433*((Dc=ad+ni)-(Yn=Ms+Oa)),du=.5411961*Dc+no,ic=1.306562965*Yn+no,rh=.707106781*(ro=ni+Ms),im=Oa+rh,nh=Oa-rh;nt[dr+40]=nh+du,nt[dr+24]=nh-du,nt[dr+8]=im+ic,nt[dr+56]=im-ic,dr++}for(Bt=0;Bt<64;++Bt)Mr=nt[Bt]*Ye[Bt],g[Bt]=Mr>0?Mr+.5|0:Mr-.5|0;return g}(ee,fe),Be=0;Be<64;++Be)_[M[Be]]=Fe[Be];var Re=_[0]-ne;ne=_[0],Re==0?se(Y[0]):(se(Y[v[le=32767+Re]]),se(h[le]));for(var Te=63;Te>0&&_[Te]==0;)Te--;if(Te==0)return se(ke),ne;for(var $e,pe=1;pe<=Te;){for(var Ge=pe;_[pe]==0&&pe<=Te;)++pe;var pt=pe-Ge;if(pt>=16){$e=pt>>4;for(var Pt=1;Pt<=$e;++Pt)se(_e);pt&=15}le=32767+_[pe],se(ue[(pt<<4)+v[le]]),se(h[le]),pe++}return Te!=63&&se(ke),ne}function de(ee){ee=Math.min(Math.max(ee,1),100),a!=ee&&(function(fe){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ue=o((ne[Y]*fe+50)/100);ue=Math.min(Math.max(ue,1),255),l[M[Y]]=ue}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var _e=o((le[ke]*fe+50)/100);_e=Math.min(Math.max(_e,1),255),c[M[ke]]=_e}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Re=0;Re<8;Re++)for(var Te=0;Te<8;Te++)d[Be]=1/(l[M[Be]]*Fe[Re]*Fe[Te]*8),f[Be]=1/(c[M[Be]]*Fe[Re]*Fe[Te]*8),Be++}(ee<50?Math.floor(5e3/ee):Math.floor(200-2*ee)),a=ee)}this.encode=function(ee,fe){fe&&de(fe),y=new Array,j=0,w=7,ce(65496),ce(65504),ce(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ce(1),ce(1),te(0),te(0),function(){ce(65499),ce(132),te(0);for(var gt=0;gt<64;gt++)te(l[gt]);te(1);for(var Ot=0;Ot<64;Ot++)te(c[Ot])}(),function(gt,Ot){ce(65472),ce(17),te(8),ce(Ot),ce(gt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(ee.width,ee.height),function(){ce(65476),ce(418),te(0);for(var gt=0;gt<16;gt++)te(I[gt+1]);for(var Ot=0;Ot<=11;Ot++)te(B[Ot]);te(16);for(var br=0;br<16;br++)te(V[br+1]);for(var Yr=0;Yr<=161;Yr++)te(U[Yr]);te(1);for(var yt=0;yt<16;yt++)te(q[yt+1]);for(var $t=0;$t<=11;$t++)te(re[$t]);te(17);for(var cr=0;cr<16;cr++)te(H[cr+1]);for(var Bt=0;Bt<=161;Bt++)te(X[Bt])}(),ce(65498),ce(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ne=0,Y=0,ue=0;j=0,w=7,this.encode.displayName="_encode_";for(var le,ke,_e,Fe,Be,Re,Te,$e,pe,Ge=ee.data,pt=ee.width,Pt=ee.height,nt=4*pt,Ye=0;Ye<Pt;){for(le=0;le<nt;){for(Be=nt*Ye+le,Te=-1,$e=0,pe=0;pe<64;pe++)Re=Be+($e=pe>>3)*nt+(Te=4*(7&pe)),Ye+$e>=Pt&&(Re-=nt*(Ye+1+$e-Pt)),le+Te>=nt&&(Re-=le+Te-nt+4),ke=Ge[Re++],_e=Ge[Re++],Fe=Ge[Re++],C[pe]=(D[ke]+D[_e+256|0]+D[Fe+512|0]>>16)-128,k[pe]=(D[ke+768|0]+D[_e+1024|0]+D[Fe+1280|0]>>16)-128,T[pe]=(D[ke+1280|0]+D[_e+1536|0]+D[Fe+1792|0]>>16)-128;ne=xe(C,d,ne,t,n),Y=xe(k,f,Y,r,s),ue=xe(T,f,ue,r,s),le+=32}Ye+=8}if(w>=0){var Ue=[];Ue[1]=w+1,Ue[0]=(1<<w+1)-1,se(Ue)}return ce(65497),new Uint8Array(y)},e=e||50,function(){for(var ee=String.fromCharCode,fe=0;fe<256;fe++)P[fe]=ee(fe)}(),t=Q(I,B),r=Q(q,re),n=Q(V,U),s=Q(H,X),function(){for(var ee=1,fe=2,ne=1;ne<=15;ne++){for(var Y=ee;Y<fe;Y++)v[32767+Y]=ne,h[32767+Y]=[],h[32767+Y][1]=ne,h[32767+Y][0]=Y;for(var ue=-(fe-1);ue<=-ee;ue++)v[32767+ue]=ne,h[32767+ue]=[],h[32767+ue][1]=ne,h[32767+ue][0]=fe-1+ue;ee<<=1,fe<<=1}}(),function(){for(var ee=0;ee<256;ee++)D[ee]=19595*ee,D[ee+256|0]=38470*ee,D[ee+512|0]=7471*ee+32768,D[ee+768|0]=-11059*ee,D[ee+1024|0]=-21709*ee,D[ee+1280|0]=32768*ee+8421375,D[ee+1536|0]=-27439*ee,D[ee+1792|0]=-5329*ee}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RH(e){function t(B){if(!B)throw Error("assert :P")}function r(B,V,U){for(var q=0;4>q;q++)if(B[V+q]!=U.charCodeAt(q))return!0;return!1}function n(B,V,U,q,re){for(var H=0;H<re;H++)B[V+H]=U[q+H]}function s(B,V,U,q){for(var re=0;re<q;re++)B[V+re]=U}function a(B){return new Int32Array(B)}function o(B,V){for(var U=[],q=0;q<B;q++)U.push(new V);return U}function l(B,V){var U=[];return function q(re,H,X){for(var Q=X[H],se=0;se<Q&&(re.push(X.length>H+1?[]:new V),!(X.length<H+1));se++)q(re[se],H+1,X)}(U,0,B),U}var c=function(){var B=this;function V(O,L){for(var J=1<<L-1>>>0;O&J;)J>>>=1;return J?(O&J-1)+J:O}function U(O,L,J,ie,ve){t(!(ie%J));do O[L+(ie-=J)]=ve;while(0<ie)}function q(O,L,J,ie,ve){if(t(2328>=ve),512>=ve)var we=a(512);else if((we=a(ve))==null)return 0;return function(je,Ae,Pe,Ie,Xe,ot){var Le,Ze,rt=Ae,_t=1<<Pe,it=a(16),jt=a(16);for(t(Xe!=0),t(Ie!=null),t(je!=null),t(0<Pe),Ze=0;Ze<Xe;++Ze){if(15<Ie[Ze])return 0;++it[Ie[Ze]]}if(it[0]==Xe)return 0;for(jt[1]=0,Le=1;15>Le;++Le){if(it[Le]>1<<Le)return 0;jt[Le+1]=jt[Le]+it[Le]}for(Ze=0;Ze<Xe;++Ze)Le=Ie[Ze],0<Ie[Ze]&&(ot[jt[Le]++]=Ze);if(jt[15]==1)return(Ie=new re).g=0,Ie.value=ot[0],U(je,rt,1,_t,Ie),_t;var At,Ut=-1,It=_t-1,Vr=0,jr=1,On=1,kr=1<<Pe;for(Ze=0,Le=1,Xe=2;Le<=Pe;++Le,Xe<<=1){if(jr+=On<<=1,0>(On-=it[Le]))return 0;for(;0<it[Le];--it[Le])(Ie=new re).g=Le,Ie.value=ot[Ze++],U(je,rt+Vr,Xe,kr,Ie),Vr=V(Vr,Le)}for(Le=Pe+1,Xe=2;15>=Le;++Le,Xe<<=1){if(jr+=On<<=1,0>(On-=it[Le]))return 0;for(;0<it[Le];--it[Le]){if(Ie=new re,(Vr&It)!=Ut){for(rt+=kr,At=1<<(Ut=Le)-Pe;15>Ut&&!(0>=(At-=it[Ut]));)++Ut,At<<=1;_t+=kr=1<<(At=Ut-Pe),je[Ae+(Ut=Vr&It)].g=At+Pe,je[Ae+Ut].value=rt-Ae-Ut}Ie.g=Le-Pe,Ie.value=ot[Ze++],U(je,rt+(Vr>>Pe),Xe,kr,Ie),Vr=V(Vr,Le)}}return jr!=2*jt[15]-1?0:_t}(O,L,J,ie,ve,we)}function re(){this.value=this.g=0}function H(){this.value=this.g=0}function X(){this.G=o(5,re),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(nf,H)}function Q(O,L,J,ie){t(O!=null),t(L!=null),t(2147483648>ie),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=L,O.pa=J,O.Jd=L,O.Yc=J+ie,O.Zc=4<=ie?J+ie-4+1:J,ke(O)}function se(O,L){for(var J=0;0<L--;)J|=Fe(O,128)<<L;return J}function te(O,L){var J=se(O,L);return _e(O)?-J:J}function ce(O,L,J,ie){var ve,we=0;for(t(O!=null),t(L!=null),t(4294967288>ie),O.Sb=ie,O.Ra=0,O.u=0,O.h=0,4<ie&&(ie=4),ve=0;ve<ie;++ve)we+=L[J+ve]<<8*ve;O.Ra=we,O.bb=ie,O.oa=L,O.pa=J}function xe(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<As-8>>>0,++O.bb,O.u-=8;Y(O)&&(O.h=1,O.u=0)}function de(O,L){if(t(0<=L),!O.h&&L<=Cs){var J=ne(O)&Oi[L];return O.u+=L,xe(O),J}return O.h=1,O.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function fe(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(O){return O.Ra>>>(O.u&As-1)>>>0}function Y(O){return t(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>As}function ue(O,L){O.u=L,O.h=Y(O)}function le(O){O.u>=rs&&(t(O.u>=rs),xe(O))}function ke(O){t(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(t(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function _e(O){return se(O,1)}function Fe(O,L){var J=O.Ca;0>O.b&&ke(O);var ie=O.b,ve=J*L>>>8,we=(O.I>>>ie>ve)+0;for(we?(J-=ve,O.I-=ve+1<<ie>>>0):J=ve+1,ie=J,ve=0;256<=ie;)ve+=8,ie>>=8;return ie=7^ve+bu[ie],O.b-=ie,O.Ca=(J<<ie)-1,we}function Be(O,L,J){O[L+0]=J>>24&255,O[L+1]=J>>16&255,O[L+2]=J>>8&255,O[L+3]=255&J}function Re(O,L){return O[L+0]|O[L+1]<<8}function Te(O,L){return Re(O,L)|O[L+2]<<16}function $e(O,L){return Re(O,L)|Re(O,L+2)<<16}function pe(O,L){var J=1<<L;return t(O!=null),t(0<L),O.X=a(J),O.X==null?0:(O.Mb=32-L,O.Xa=L,1)}function Ge(O,L){t(O!=null),t(L!=null),t(O.Xa==L.Xa),n(L.X,0,O.X,0,1<<L.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function Pt(O,L,J,ie){t(J!=null),t(ie!=null);var ve=J[0],we=ie[0];return ve==0&&(ve=(O*we+L/2)/L),we==0&&(we=(L*ve+O/2)/O),0>=ve||0>=we?0:(J[0]=ve,ie[0]=we,1)}function nt(O,L){return O+(1<<L)-1>>>L}function Ye(O,L){return((4278255360&O)+(4278255360&L)>>>0&4278255360)+((16711935&O)+(16711935&L)>>>0&16711935)>>>0}function Ue(O,L){B[L]=function(J,ie,ve,we,je,Ae,Pe){var Ie;for(Ie=0;Ie<je;++Ie){var Xe=B[O](Ae[Pe+Ie-1],ve,we+Ie);Ae[Pe+Ie]=Ye(J[ie+Ie],Xe)}}}function gt(){this.ud=this.hd=this.jd=0}function Ot(O,L){return((4278124286&(O^L))>>>1)+(O&L)>>>0}function br(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function Yr(O,L){return br(O+(O-L+.5>>1))}function yt(O,L,J){return Math.abs(L-J)-Math.abs(O-J)}function $t(O,L,J,ie,ve,we,je){for(ie=we[je-1],J=0;J<ve;++J)we[je+J]=ie=Ye(O[L+J],ie)}function cr(O,L,J,ie,ve){var we;for(we=0;we<J;++we){var je=O[L+we],Ae=je>>8&255,Pe=16711935&(Pe=(Pe=16711935&je)+((Ae<<16)+Ae));ie[ve+we]=(4278255360&je)+Pe>>>0}}function Bt(O,L){L.jd=255&O,L.hd=O>>8&255,L.ud=O>>16&255}function Mr(O,L,J,ie,ve,we){var je;for(je=0;je<ie;++je){var Ae=L[J+je],Pe=Ae>>>8,Ie=Ae,Xe=255&(Xe=(Xe=Ae>>>16)+((O.jd<<24>>24)*(Pe<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(O.hd<<24>>24)*(Pe<<24>>24)>>>5)+((O.ud<<24>>24)*(Xe<<24>>24)>>>5)),ve[we+je]=(4278255360&Ae)+(Xe<<16)+Ie}}function dr(O,L,J,ie,ve){B[L]=function(we,je,Ae,Pe,Ie,Xe,ot,Le,Ze){for(Pe=ot;Pe<Le;++Pe)for(ot=0;ot<Ze;++ot)Ie[Xe++]=ve(Ae[ie(we[je++])])},B[O]=function(we,je,Ae,Pe,Ie,Xe,ot){var Le=8>>we.b,Ze=we.Ea,rt=we.K[0],_t=we.w;if(8>Le)for(we=(1<<we.b)-1,_t=(1<<Le)-1;je<Ae;++je){var it,jt=0;for(it=0;it<Ze;++it)it&we||(jt=ie(Pe[Ie++])),Xe[ot++]=ve(rt[jt&_t]),jt>>=Le}else B["VP8LMapColor"+J](Pe,Ie,rt,_t,Xe,ot,je,Ae,Ze)}}function Kn(O,L,J,ie,ve){for(J=L+J;L<J;){var we=O[L++];ie[ve++]=we>>16&255,ie[ve++]=we>>8&255,ie[ve++]=255&we}}function Qn(O,L,J,ie,ve){for(J=L+J;L<J;){var we=O[L++];ie[ve++]=we>>16&255,ie[ve++]=we>>8&255,ie[ve++]=255&we,ie[ve++]=we>>24&255}}function Rn(O,L,J,ie,ve){for(J=L+J;L<J;){var we=(je=O[L++])>>16&240|je>>12&15,je=240&je|je>>28&15;ie[ve++]=we,ie[ve++]=je}}function Gr(O,L,J,ie,ve){for(J=L+J;L<J;){var we=(je=O[L++])>>16&248|je>>13&7,je=je>>5&224|je>>3&31;ie[ve++]=we,ie[ve++]=je}}function ia(O,L,J,ie,ve){for(J=L+J;L<J;){var we=O[L++];ie[ve++]=255&we,ie[ve++]=we>>8&255,ie[ve++]=we>>16&255}}function qr(O,L,J,ie,ve,we){if(we==0)for(J=L+J;L<J;)Be(ie,((we=O[L++])[0]>>24|we[1]>>8&65280|we[2]<<8&16711680|we[3]<<24)>>>0),ve+=32;else n(ie,ve,O,L,J)}function ja(O,L){B[L][0]=B[O+"0"],B[L][1]=B[O+"1"],B[L][2]=B[O+"2"],B[L][3]=B[O+"3"],B[L][4]=B[O+"4"],B[L][5]=B[O+"5"],B[L][6]=B[O+"6"],B[L][7]=B[O+"7"],B[L][8]=B[O+"8"],B[L][9]=B[O+"9"],B[L][10]=B[O+"10"],B[L][11]=B[O+"11"],B[L][12]=B[O+"12"],B[L][13]=B[O+"13"],B[L][14]=B[O+"0"],B[L][15]=B[O+"0"]}function ln(O){return O==xv||O==yv||O==g0||O==Ly}function kn(){this.eb=[],this.size=this.A=this.fb=0}function ss(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kn,this.f.kb=new ss,this.sd=null}function cn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function th(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function ri(O,L){var J=O.T,ie=L.ba.f.RGBA,ve=ie.eb,we=ie.fb+O.ka*ie.A,je=zl[L.ba.S],Ae=O.y,Pe=O.O,Ie=O.f,Xe=O.N,ot=O.ea,Le=O.W,Ze=L.cc,rt=L.dc,_t=L.Mc,it=L.Nc,jt=O.ka,At=O.ka+O.T,Ut=O.U,It=Ut+1>>1;for(jt==0?je(Ae,Pe,null,null,Ie,Xe,ot,Le,Ie,Xe,ot,Le,ve,we,null,null,Ut):(je(L.ec,L.fc,Ae,Pe,Ze,rt,_t,it,Ie,Xe,ot,Le,ve,we-ie.A,ve,we,Ut),++J);jt+2<At;jt+=2)Ze=Ie,rt=Xe,_t=ot,it=Le,Xe+=O.Rc,Le+=O.Rc,we+=2*ie.A,je(Ae,(Pe+=2*O.fa)-O.fa,Ae,Pe,Ze,rt,_t,it,Ie,Xe,ot,Le,ve,we-ie.A,ve,we,Ut);return Pe+=O.fa,O.j+At<O.o?(n(L.ec,L.fc,Ae,Pe,Ut),n(L.cc,L.dc,Ie,Xe,It),n(L.Mc,L.Nc,ot,Le,It),J--):1&At||je(Ae,Pe,null,null,Ie,Xe,ot,Le,Ie,Xe,ot,Le,ve,we+ie.A,null,null,Ut),J}function Pa(O,L,J){var ie=O.F,ve=[O.J];if(ie!=null){var we=O.U,je=L.ba.S,Ae=je==wm||je==g0;L=L.ba.f.RGBA;var Pe=[0],Ie=O.ka;Pe[0]=O.T,O.Kb&&(Ie==0?--Pe[0]:(--Ie,ve[0]-=O.width),O.j+O.ka+O.T==O.o&&(Pe[0]=O.o-O.j-Ie));var Xe=L.eb;Ie=L.fb+Ie*L.A,O=pv(ie,ve[0],O.width,we,Pe,Xe,Ie+(Ae?0:3),L.A),t(J==Pe),O&&ln(je)&&Il(Xe,Ie,Ae,we,Pe,L.A)}return 0}function Fc(O){var L=O.ma,J=L.ba.S,ie=11>J,ve=J==Qo||J==p0||J==wm||J==vv||J==12||ln(J);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!c0(L.Oa,O,ve?11:12))return 0;if(ve&&ln(J)&&bt(),O.da)alert("todo:use_scaling");else{if(ie){if(L.Ib=th,O.Kb){if(J=O.U+1>>1,L.memory=a(O.U+2*J),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+O.U,L.Mc=L.cc,L.Nc=L.dc+J,L.Ib=ri,bt()}}else alert("todo:EmitYUV");ve&&(L.Jb=Pa,ie&&Ya())}if(ie&&!b0){for(O=0;256>O;++O)g5[O]=89858*(O-128)+y0>>x0,x5[O]=-22014*(O-128)+y0,FA[O]=-45773*(O-128),v5[O]=113618*(O-128)+y0>>x0;for(O=Nm;O<lc;++O)L=76283*(O-16)+y0>>x0,Do[O-Nm]=fu(L,255),DA[O-Nm]=fu(L+8>>4,15);b0=1}return 1}function Qr(O){var L=O.ma,J=O.U,ie=O.T;return t(!(1&O.ka)),0>=J||0>=ie?0:(J=L.Ib(O,L),L.Jb!=null&&L.Jb(O,L,J),L.Dc+=J,1)}function ac(O){O.ma.memory=null}function sc(O,L,J,ie){return de(O,8)!=47?0:(L[0]=de(O,14)+1,J[0]=de(O,14)+1,ie[0]=de(O,1),de(O,3)!=0?0:!O.h)}function Oa(O,L){if(4>O)return O+1;var J=O-2>>1;return(2+(1&O)<<J)+de(L,J)+1}function Xo(O,L){return 120<L?L-120:1<=(J=((J=i5[L-1])>>4)*O+(8-(15&J)))?J:1;var J}function Ms(O,L,J){var ie=ne(J),ve=O[L+=255&ie].g-8;return 0<ve&&(ue(J,J.u+8),ie=ne(J),L+=O[L].value,L+=ie&(1<<ve)-1),ue(J,J.u+O[L].g),O[L].value}function xi(O,L,J){return J.g+=O.g,J.value+=O.value<<L>>>0,t(8>=J.g),O.g}function ni(O,L,J){var ie=O.xc;return t((L=ie==0?0:O.vc[O.md*(J>>ie)+(L>>ie)])<O.Wb),O.Ya[L]}function uu(O,L,J,ie){var ve=O.ab,we=O.c*L,je=O.C;L=je+L;var Ae=J,Pe=ie;for(ie=O.Ta,J=O.Ua;0<ve--;){var Ie=O.gc[ve],Xe=je,ot=L,Le=Ae,Ze=Pe,rt=(Pe=ie,Ae=J,Ie.Ea);switch(t(Xe<ot),t(ot<=Ie.nc),Ie.hc){case 2:xa(Le,Ze,(ot-Xe)*rt,Pe,Ae);break;case 0:var _t=Xe,it=ot,jt=Pe,At=Ae,Ut=(kr=Ie).Ea;_t==0&&(u0(Le,Ze,null,null,1,jt,At),$t(Le,Ze+1,0,0,Ut-1,jt,At+1),Ze+=Ut,At+=Ut,++_t);for(var It=1<<kr.b,Vr=It-1,jr=nt(Ut,kr.b),On=kr.K,kr=kr.w+(_t>>kr.b)*jr;_t<it;){var ea=On,li=kr,Cn=1;for(gm(Le,Ze,jt,At-Ut,1,jt,At);Cn<Ut;){var Or=(Cn&~Vr)+It;Or>Ut&&(Or=Ut),(0,vm[ea[li++]>>8&15])(Le,Ze+ +Cn,jt,At+Cn-Ut,Or-Cn,jt,At+Cn),Cn=Or}Ze+=Ut,At+=Ut,++_t&Vr||(kr+=jr)}ot!=Ie.nc&&n(Pe,Ae-rt,Pe,Ae+(ot-Xe-1)*rt,rt);break;case 1:for(rt=Le,it=Ze,Ut=(Le=Ie.Ea)-(At=Le&~(jt=(Ze=1<<Ie.b)-1)),_t=nt(Le,Ie.b),It=Ie.K,Ie=Ie.w+(Xe>>Ie.b)*_t;Xe<ot;){for(Vr=It,jr=Ie,On=new gt,kr=it+At,ea=it+Le;it<kr;)Bt(Vr[jr++],On),uh(On,rt,it,Ze,Pe,Ae),it+=Ze,Ae+=Ze;it<ea&&(Bt(Vr[jr++],On),uh(On,rt,it,Ut,Pe,Ae),it+=Ut,Ae+=Ut),++Xe&jt||(Ie+=_t)}break;case 3:if(Le==Pe&&Ze==Ae&&0<Ie.b){for(it=Pe,Le=rt=Ae+(ot-Xe)*rt-(At=(ot-Xe)*nt(Ie.Ea,Ie.b)),Ze=Pe,jt=Ae,_t=[],At=(Ut=At)-1;0<=At;--At)_t[At]=Ze[jt+At];for(At=Ut-1;0<=At;--At)it[Le+At]=_t[At];wu(Ie,Xe,ot,Pe,rt,Pe,Ae)}else wu(Ie,Xe,ot,Le,Ze,Pe,Ae)}Ae=ie,Pe=J}Pe!=J&&n(ie,J,Ae,Pe,we)}function ad(O,L){var J=O.V,ie=O.Ba+O.c*O.C,ve=L-O.C;if(t(L<=O.l.o),t(16>=ve),0<ve){var we=O.l,je=O.Ta,Ae=O.Ua,Pe=we.width;if(uu(O,ve,J,ie),ve=Ae=[Ae],t((J=O.C)<(ie=L)),t(we.v<we.va),ie>we.o&&(ie=we.o),J<we.j){var Ie=we.j-J;J=we.j,ve[0]+=Ie*Pe}if(J>=ie?J=0:(ve[0]+=4*we.v,we.ka=J-we.j,we.U=we.va-we.v,we.T=ie-J,J=1),J){if(Ae=Ae[0],11>(J=O.ca).S){var Xe=J.f.RGBA,ot=(ie=J.S,ve=we.U,we=we.T,Ie=Xe.eb,Xe.A),Le=we;for(Xe=Xe.fb+O.Ma*Xe.A;0<Le--;){var Ze=je,rt=Ae,_t=ve,it=Ie,jt=Xe;switch(ie){case m0:af(Ze,rt,_t,it,jt);break;case Qo:sf(Ze,rt,_t,it,jt);break;case xv:sf(Ze,rt,_t,it,jt),Il(it,jt,0,_t,1,0);break;case r5:dd(Ze,rt,_t,it,jt);break;case p0:qr(Ze,rt,_t,it,jt,1);break;case yv:qr(Ze,rt,_t,it,jt,1),Il(it,jt,0,_t,1,0);break;case wm:qr(Ze,rt,_t,it,jt,0);break;case g0:qr(Ze,rt,_t,it,jt,0),Il(it,jt,1,_t,1,0);break;case vv:_u(Ze,rt,_t,it,jt);break;case Ly:_u(Ze,rt,_t,it,jt),My(it,jt,_t,1,0);break;case cf:ju(Ze,rt,_t,it,jt);break;default:t(0)}Ae+=Pe,Xe+=ot}O.Ma+=we}else alert("todo:EmitRescaledRowsYUVA");t(O.Ma<=J.height)}}O.C=L,t(O.C<=O.i)}function Dc(O){var L;if(0<O.ua)return 0;for(L=0;L<O.Wb;++L){var J=O.Ya[L].G,ie=O.Ya[L].H;if(0<J[1][ie[1]+0].g||0<J[2][ie[2]+0].g||0<J[3][ie[3]+0].g)return 0}return 1}function ca(O,L,J,ie,ve,we){if(O.Z!=0){var je=O.qd,Ae=O.rd;for(t(hd[O.Z]!=null);L<J;++L)hd[O.Z](je,Ae,ie,ve,ie,ve,we),je=ie,Ae=ve,ve+=we;O.qd=je,O.rd=Ae}}function ro(O,L){var J=O.l.ma,ie=J.Z==0||J.Z==1?O.l.j:O.C;if(ie=O.C<ie?ie:O.C,t(L<=O.l.o),L>ie){var ve=O.l.width,we=J.ca,je=J.tb+ve*ie,Ae=O.V,Pe=O.Ba+O.c*ie,Ie=O.gc;t(O.ab==1),t(Ie[0].hc==3),Fo(Ie[0],ie,L,Ae,Pe,we,je),ca(J,ie,L,we,je,ve)}O.C=O.Ma=L}function Yn(O,L,J,ie,ve,we,je){var Ae=O.$/ie,Pe=O.$%ie,Ie=O.m,Xe=O.s,ot=J+O.$,Le=ot;ve=J+ie*ve;var Ze=J+ie*we,rt=280+Xe.ua,_t=O.Pb?Ae:16777216,it=0<Xe.ua?Xe.Wa:null,jt=Xe.wc,At=ot<Ze?ni(Xe,Pe,Ae):null;t(O.C<we),t(Ze<=ve);var Ut=!1;e:for(;;){for(;Ut||ot<Ze;){var It=0;if(Ae>=_t){var Vr=ot-J;t((_t=O).Pb),_t.wd=_t.m,_t.xd=Vr,0<_t.s.ua&&Ge(_t.s.Wa,_t.s.vb),_t=Ae+l5}if(Pe&jt||(At=ni(Xe,Pe,Ae)),t(At!=null),At.Qb&&(L[ot]=At.qb,Ut=!0),!Ut)if(le(Ie),At.jc){It=Ie,Vr=L;var jr=ot,On=At.pd[ne(It)&nf-1];t(At.jc),256>On.g?(ue(It,It.u+On.g),Vr[jr]=On.value,It=0):(ue(It,It.u+On.g-256),t(256<=On.value),It=On.value),It==0&&(Ut=!0)}else It=Ms(At.G[0],At.H[0],Ie);if(Ie.h)break;if(Ut||256>It){if(!Ut)if(At.nd)L[ot]=(At.qb|It<<8)>>>0;else{if(le(Ie),Ut=Ms(At.G[1],At.H[1],Ie),le(Ie),Vr=Ms(At.G[2],At.H[2],Ie),jr=Ms(At.G[3],At.H[3],Ie),Ie.h)break;L[ot]=(jr<<24|Ut<<16|It<<8|Vr)>>>0}if(Ut=!1,++ot,++Pe>=ie&&(Pe=0,++Ae,je!=null&&Ae<=we&&!(Ae%16)&&je(O,Ae),it!=null))for(;Le<ot;)It=L[Le++],it.X[(506832829*It&4294967295)>>>it.Mb]=It}else if(280>It){if(It=Oa(It-256,Ie),Vr=Ms(At.G[4],At.H[4],Ie),le(Ie),Vr=Xo(ie,Vr=Oa(Vr,Ie)),Ie.h)break;if(ot-J<Vr||ve-ot<It)break e;for(jr=0;jr<It;++jr)L[ot+jr]=L[ot+jr-Vr];for(ot+=It,Pe+=It;Pe>=ie;)Pe-=ie,++Ae,je!=null&&Ae<=we&&!(Ae%16)&&je(O,Ae);if(t(ot<=ve),Pe&jt&&(At=ni(Xe,Pe,Ae)),it!=null)for(;Le<ot;)It=L[Le++],it.X[(506832829*It&4294967295)>>>it.Mb]=It}else{if(!(It<rt))break e;for(Ut=It-280,t(it!=null);Le<ot;)It=L[Le++],it.X[(506832829*It&4294967295)>>>it.Mb]=It;It=ot,t(!(Ut>>>(Vr=it).Xa)),L[It]=Vr.X[Ut],Ut=!0}Ut||t(Ie.h==Y(Ie))}if(O.Pb&&Ie.h&&ot<ve)t(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&Ge(O.s.vb,O.s.Wa);else{if(Ie.h)break e;je!=null&&je(O,Ae>we?we:Ae),O.a=0,O.$=ot-J}return 1}return O.a=3,0}function ha(O){t(O!=null),O.vc=null,O.yc=null,O.Ya=null;var L=O.Wa;L!=null&&(L.X=null),O.vb=null,t(O!=null)}function no(){var O=new vn;return O==null?null:(O.a=0,O.xb=Bl,ja("Predictor","VP8LPredictors"),ja("Predictor","VP8LPredictors_C"),ja("PredictorAdd","VP8LPredictorsAdd"),ja("PredictorAdd","VP8LPredictorsAdd_C"),xa=cr,uh=Mr,af=Kn,sf=Qn,_u=Rn,ju=Gr,dd=ia,B.VP8LMapColor32b=Oo,B.VP8LMapColor8b=d0,O)}function du(O,L,J,ie,ve){var we=1,je=[O],Ae=[L],Pe=ie.m,Ie=ie.s,Xe=null,ot=0;e:for(;;){if(J)for(;we&&de(Pe,1);){var Le=je,Ze=Ae,rt=ie,_t=1,it=rt.m,jt=rt.gc[rt.ab],At=de(it,2);if(rt.Oc&1<<At)we=0;else{switch(rt.Oc|=1<<At,jt.hc=At,jt.Ea=Le[0],jt.nc=Ze[0],jt.K=[null],++rt.ab,t(4>=rt.ab),At){case 0:case 1:jt.b=de(it,3)+2,_t=du(nt(jt.Ea,jt.b),nt(jt.nc,jt.b),0,rt,jt.K),jt.K=jt.K[0];break;case 3:var Ut,It=de(it,8)+1,Vr=16<It?0:4<It?1:2<It?2:3;if(Le[0]=nt(jt.Ea,Vr),jt.b=Vr,Ut=_t=du(It,1,0,rt,jt.K)){var jr,On=It,kr=jt,ea=1<<(8>>kr.b),li=a(ea);if(li==null)Ut=0;else{var Cn=kr.K[0],Or=kr.w;for(li[0]=kr.K[0][0],jr=1;jr<1*On;++jr)li[jr]=Ye(Cn[Or+jr],li[jr-1]);for(;jr<4*ea;++jr)li[jr]=0;kr.K[0]=null,kr.K[0]=li,Ut=1}}_t=Ut;break;case 2:break;default:t(0)}we=_t}}if(je=je[0],Ae=Ae[0],we&&de(Pe,1)&&!(we=1<=(ot=de(Pe,4))&&11>=ot)){ie.a=3;break e}var sr;if(sr=we)t:{var Fa,An,ta,ns=ie,Ri=je,Ro=Ae,ms=ot,io=J,oo=ns.m,Is=ns.s,Hn=[null],Da=1,Es=0,$a=o5[ms];r:for(;;){if(io&&de(oo,1)){var lo=de(oo,3)+2,cc=nt(Ri,lo),ps=nt(Ro,lo),Mo=cc*ps;if(!du(cc,ps,0,ns,Hn))break r;for(Hn=Hn[0],Is.xc=lo,Fa=0;Fa<Mo;++Fa){var Ba=Hn[Fa]>>8&65535;Hn[Fa]=Ba,Ba>=Da&&(Da=Ba+1)}}if(oo.h)break r;for(An=0;5>An;++An){var ci=bv[An];!An&&0<ms&&(ci+=1<<ms),Es<ci&&(Es=ci)}var _i=o(Da*$a,re),Io=Da,tl=o(Io,X);if(tl==null)var Lo=null;else t(65536>=Io),Lo=tl;var rl=a(Es);if(Lo==null||rl==null||_i==null){ns.a=1;break r}var Mi=_i;for(Fa=ta=0;Fa<Da;++Fa){var Ra=Lo[Fa],hl=Ra.G,uc=Ra.H,ff=0,Nu=1,Ii=0;for(An=0;5>An;++An){ci=bv[An],hl[An]=Mi,uc[An]=ta,!An&&0<ms&&(ci+=1<<ms);a:{var _0,Nv=ci,Sv=ns,j0=rl,b5=Mi,MA=ta,qy=0,hf=Sv.m,IA=de(hf,1);if(s(j0,0,0,Nv),IA){var LA=de(hf,1)+1,Wy=de(hf,1),w5=de(hf,Wy==0?1:8);j0[w5]=1,LA==2&&(j0[w5=de(hf,8)]=1);var Cv=1}else{var _5=a(19),j5=de(hf,4)+4;if(19<j5){Sv.a=3;var N0=0;break a}for(_0=0;_0<j5;++_0)_5[s5[_0]]=de(hf,3);var Hy=void 0,S0=void 0,Gy=Sv,md=_5,Av=Nv,N5=j0,kv=0,pd=Gy.m,S5=8,Ev=o(128,re);n:for(;q(Ev,0,7,md,19);){if(de(pd,1)){var Ky=2+2*de(pd,3);if((Hy=2+de(pd,Ky))>Av)break n}else Hy=Av;for(S0=0;S0<Av&&Hy--;){le(pd);var Yy=Ev[0+(127&ne(pd))];ue(pd,pd.u+Yy.g);var hh=Yy.value;if(16>hh)N5[S0++]=hh,hh!=0&&(S5=hh);else{var C5=hh==16,mh=hh-16,$A=a5[mh],A5=de(pd,n5[mh])+$A;if(S0+A5>Av)break n;for(var k5=C5?S5:0;0<A5--;)N5[S0++]=k5}}kv=1;break n}kv||(Gy.a=3),Cv=kv}(Cv=Cv&&!hf.h)&&(qy=q(b5,MA,8,j0,Nv)),Cv&&qy!=0?N0=qy:(Sv.a=3,N0=0)}if(N0==0)break r;if(Nu&&$y[An]==1&&(Nu=Mi[ta].g==0),ff+=Mi[ta].g,ta+=N0,3>=An){var Cm,Am=rl[0];for(Cm=1;Cm<ci;++Cm)rl[Cm]>Am&&(Am=rl[Cm]);Ii+=Am}}if(Ra.nd=Nu,Ra.Qb=0,Nu&&(Ra.qb=(hl[3][uc[3]+0].value<<24|hl[1][uc[1]+0].value<<16|hl[2][uc[2]+0].value)>>>0,ff==0&&256>hl[0][uc[0]+0].value&&(Ra.Qb=1,Ra.qb+=hl[0][uc[0]+0].value<<8)),Ra.jc=!Ra.Qb&&6>Ii,Ra.jc){var mf,dc=Ra;for(mf=0;mf<nf;++mf){var gd=mf,pf=dc.pd[gd],Tv=dc.G[0][dc.H[0]+gd];256<=Tv.value?(pf.g=Tv.g+256,pf.value=Tv.value):(pf.g=0,pf.value=0,gd>>=xi(Tv,8,pf),gd>>=xi(dc.G[1][dc.H[1]+gd],16,pf),gd>>=xi(dc.G[2][dc.H[2]+gd],0,pf),xi(dc.G[3][dc.H[3]+gd],24,pf))}}}Is.vc=Hn,Is.Wb=Da,Is.Ya=Lo,Is.yc=_i,sr=1;break t}sr=0}if(!(we=sr)){ie.a=3;break e}if(0<ot){if(Ie.ua=1<<ot,!pe(Ie.Wa,ot)){ie.a=1,we=0;break e}}else Ie.ua=0;var Li=ie,km=je,C0=Ae,Em=Li.s,A0=Em.xc;if(Li.c=km,Li.i=C0,Em.md=nt(km,A0),Em.wc=A0==0?-1:(1<<A0)-1,J){ie.xb=oi;break e}if((Xe=a(je*Ae))==null){ie.a=1,we=0;break e}we=(we=Yn(ie,Xe,0,je,Ae,Ae,null))&&!Pe.h;break e}return we?(ve!=null?ve[0]=Xe:(t(Xe==null),t(J)),ie.$=0,J||ha(Ie)):ha(Ie),we}function ic(O,L){var J=O.c*O.i,ie=J+L+16*L;return t(O.c<=L),O.V=a(ie),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+J+L,1)}function rh(O,L){var J=O.C,ie=L-J,ve=O.V,we=O.Ba+O.c*J;for(t(L<=O.l.o);0<ie;){var je=16<ie?16:ie,Ae=O.l.ma,Pe=O.l.width,Ie=Pe*je,Xe=Ae.ca,ot=Ae.tb+Pe*J,Le=O.Ta,Ze=O.Ua;uu(O,je,ve,we),h0(Le,Ze,Xe,ot,Ie),ca(Ae,J,J+je,Xe,ot,Pe),ie-=je,ve+=je*O.c,J+=je}t(J==L),O.C=O.Ma=L}function im(){this.ub=this.yd=this.td=this.Rb=0}function nh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function uv(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Po(){this.Yb=function(){var O=[];return function L(J,ie,ve){for(var we=ve[ie],je=0;je<we&&(J.push(ve.length>ie+1?[]:0),!(ve.length<ie+1));je++)L(J[je],ie+1,ve)}(O,0,[3,11]),O}()}function om(){this.jb=a(3),this.Wc=l([4,8],Po),this.Xc=l([4,17],Po)}function Ns(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function cs(){this.ld=this.La=this.dd=this.tc=0}function lm(){this.Na=this.la=0}function Sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ah(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function e0(){this.uc=this.M=this.Nb=0,this.wa=Array(new cs),this.Y=0,this.ya=Array(new ah),this.aa=0,this.l=new Ws}function Qd(){this.y=a(16),this.f=a(8),this.ea=a(8)}function us(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new im,this.Kc=new nh,this.ed=new Ns,this.Qa=new uv,this.Ic=this.$c=this.Aa=0,this.D=new e0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ee),this.ia=0,this.pb=o(4,Sn),this.Pa=new om,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qd),this.Hd=0,this.rb=Array(new lm),this.sb=0,this.wa=Array(new cs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ah),this.L=this.aa=0,this.gd=l([4,2],cs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fu(O,L){return 0>O?0:O>L?L:O}function Ws(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ty(){var O=new us;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,_m||(_m=sh)),O}function ai(O,L,J){return O.a==0&&(O.a=L,O.sc=J,O.cb=0),0}function sn(O,L,J){return 3<=J&&O[L+0]==157&&O[L+1]==1&&O[L+2]==42}function yi(O,L){if(O==null)return 0;if(O.a=0,O.sc="OK",L==null)return ai(O,2,"null VP8Io passed to VP8GetHeaders()");var J=L.data,ie=L.w,ve=L.ha;if(4>ve)return ai(O,7,"Truncated header.");var we=J[ie+0]|J[ie+1]<<8|J[ie+2]<<16,je=O.Od;if(je.Rb=!(1&we),je.td=we>>1&7,je.yd=we>>4&1,je.ub=we>>5,3<je.td)return ai(O,3,"Incorrect keyframe parameters.");if(!je.yd)return ai(O,4,"Frame not displayable.");ie+=3,ve-=3;var Ae=O.Kc;if(je.Rb){if(7>ve)return ai(O,7,"cannot parse picture header");if(!sn(J,ie,ve))return ai(O,3,"Bad code word");Ae.c=16383&(J[ie+4]<<8|J[ie+3]),Ae.Td=J[ie+4]>>6,Ae.i=16383&(J[ie+6]<<8|J[ie+5]),Ae.Ud=J[ie+6]>>6,ie+=7,ve-=7,O.za=Ae.c+15>>4,O.Ub=Ae.i+15>>4,L.width=Ae.c,L.height=Ae.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,s((we=O.Pa).jb,0,255,we.jb.length),t((we=O.Qa)!=null),we.Cb=0,we.Bb=0,we.Fb=1,s(we.Zb,0,0,we.Zb.length),s(we.Lb,0,0,we.Lb)}if(je.ub>ve)return ai(O,7,"bad partition length");Q(we=O.m,J,ie,je.ub),ie+=je.ub,ve-=je.ub,je.Rb&&(Ae.Ld=_e(we),Ae.Kd=_e(we)),Ae=O.Qa;var Pe,Ie=O.Pa;if(t(we!=null),t(Ae!=null),Ae.Cb=_e(we),Ae.Cb){if(Ae.Bb=_e(we),_e(we)){for(Ae.Fb=_e(we),Pe=0;4>Pe;++Pe)Ae.Zb[Pe]=_e(we)?te(we,7):0;for(Pe=0;4>Pe;++Pe)Ae.Lb[Pe]=_e(we)?te(we,6):0}if(Ae.Bb)for(Pe=0;3>Pe;++Pe)Ie.jb[Pe]=_e(we)?se(we,8):255}else Ae.Bb=0;if(we.Ka)return ai(O,3,"cannot parse segment header");if((Ae=O.ed).zd=_e(we),Ae.Tb=se(we,6),Ae.wb=se(we,3),Ae.Pc=_e(we),Ae.Pc&&_e(we)){for(Ie=0;4>Ie;++Ie)_e(we)&&(Ae.vd[Ie]=te(we,6));for(Ie=0;4>Ie;++Ie)_e(we)&&(Ae.od[Ie]=te(we,6))}if(O.L=Ae.Tb==0?0:Ae.zd?1:2,we.Ka)return ai(O,3,"cannot parse filter header");var Xe=ve;if(ve=Pe=ie,ie=Pe+Xe,Ae=Xe,O.Xb=(1<<se(O.m,2))-1,Xe<3*(Ie=O.Xb))J=7;else{for(Pe+=3*Ie,Ae-=3*Ie,Xe=0;Xe<Ie;++Xe){var ot=J[ve+0]|J[ve+1]<<8|J[ve+2]<<16;ot>Ae&&(ot=Ae),Q(O.Jc[+Xe],J,Pe,ot),Pe+=ot,Ae-=ot,ve+=3}Q(O.Jc[+Ie],J,Pe,Ae),J=Pe<ie?0:5}if(J!=0)return ai(O,J,"cannot parse partitions");for(J=se(Pe=O.m,7),ve=_e(Pe)?te(Pe,4):0,ie=_e(Pe)?te(Pe,4):0,Ae=_e(Pe)?te(Pe,4):0,Ie=_e(Pe)?te(Pe,4):0,Pe=_e(Pe)?te(Pe,4):0,Xe=O.Qa,ot=0;4>ot;++ot){if(Xe.Cb){var Le=Xe.Zb[ot];Xe.Fb||(Le+=J)}else{if(0<ot){O.pb[ot]=O.pb[0];continue}Le=J}var Ze=O.pb[ot];Ze.Sc[0]=By[fu(Le+ve,127)],Ze.Sc[1]=wv[fu(Le+0,127)],Ze.Eb[0]=2*By[fu(Le+ie,127)],Ze.Eb[1]=101581*wv[fu(Le+Ae,127)]>>16,8>Ze.Eb[1]&&(Ze.Eb[1]=8),Ze.Qc[0]=By[fu(Le+Ie,117)],Ze.Qc[1]=wv[fu(Le+Pe,127)],Ze.lc=Le+Pe}if(!je.Rb)return ai(O,4,"Not a key frame.");for(_e(we),je=O.Pa,J=0;4>J;++J){for(ve=0;8>ve;++ve)for(ie=0;3>ie;++ie)for(Ae=0;11>Ae;++Ae)Ie=Fe(we,f5[J][ve][ie][Ae])?se(we,8):u5[J][ve][ie][Ae],je.Wc[J][ve].Yb[ie][Ae]=Ie;for(ve=0;17>ve;++ve)je.Xc[J][ve]=je.Wc[J][h5[ve]]}return O.kc=_e(we),O.kc&&(O.Bd=se(we,8)),O.cb=1}function sh(O,L,J,ie,ve,we,je){var Ae=L[ve].Yb[J];for(J=0;16>ve;++ve){if(!Fe(O,Ae[J+0]))return ve;for(;!Fe(O,Ae[J+1]);)if(Ae=L[++ve].Yb[0],J=0,ve==16)return 16;var Pe=L[ve+1].Yb;if(Fe(O,Ae[J+2])){var Ie=O,Xe=0;if(Fe(Ie,(Le=Ae)[(ot=J)+3]))if(Fe(Ie,Le[ot+6])){for(Ae=0,ot=2*(Xe=Fe(Ie,Le[ot+8]))+(Le=Fe(Ie,Le[ot+9+Xe])),Xe=0,Le=_v[ot];Le[Ae];++Ae)Xe+=Xe+Fe(Ie,Le[Ae]);Xe+=3+(8<<ot)}else Fe(Ie,Le[ot+7])?(Xe=7+2*Fe(Ie,165),Xe+=Fe(Ie,145)):Xe=5+Fe(Ie,159);else Xe=Fe(Ie,Le[ot+4])?3+Fe(Ie,Le[ot+5]):2;Ae=Pe[2]}else Xe=1,Ae=Pe[1];Pe=je+c5[ve],0>(Ie=O).b&&ke(Ie);var ot,Le=Ie.b,Ze=(ot=Ie.Ca>>1)-(Ie.I>>Le)>>31;--Ie.b,Ie.Ca+=Ze,Ie.Ca|=1,Ie.I-=(ot+1&Ze)<<Le,we[Pe]=((Xe^Ze)-Ze)*ie[(0<ve)+0]}return 16}function t0(O){var L=O.rb[O.sb-1];L.la=0,L.Na=0,s(O.zc,0,0,O.zc.length),O.ja=0}function Dl(O,L,J,ie,ve){ve=O[L+J+32*ie]+(ve>>3),O[L+J+32*ie]=-256&ve?0>ve?0:255:ve}function Hs(O,L,J,ie,ve,we){Dl(O,L,0,J,ie+ve),Dl(O,L,1,J,ie+we),Dl(O,L,2,J,ie-we),Dl(O,L,3,J,ie-ve)}function Mn(O){return(20091*O>>16)+O}function cm(O,L,J,ie){var ve,we=0,je=a(16);for(ve=0;4>ve;++ve){var Ae=O[L+0]+O[L+8],Pe=O[L+0]-O[L+8],Ie=(35468*O[L+4]>>16)-Mn(O[L+12]),Xe=Mn(O[L+4])+(35468*O[L+12]>>16);je[we+0]=Ae+Xe,je[we+1]=Pe+Ie,je[we+2]=Pe-Ie,je[we+3]=Ae-Xe,we+=4,L++}for(ve=we=0;4>ve;++ve)Ae=(O=je[we+0]+4)+je[we+8],Pe=O-je[we+8],Ie=(35468*je[we+4]>>16)-Mn(je[we+12]),Dl(J,ie,0,0,Ae+(Xe=Mn(je[we+4])+(35468*je[we+12]>>16))),Dl(J,ie,1,0,Pe+Ie),Dl(J,ie,2,0,Pe-Ie),Dl(J,ie,3,0,Ae-Xe),we++,ie+=32}function Py(O,L,J,ie){var ve=O[L+0]+4,we=35468*O[L+4]>>16,je=Mn(O[L+4]),Ae=35468*O[L+1]>>16;Hs(J,ie,0,ve+je,O=Mn(O[L+1]),Ae),Hs(J,ie,1,ve+we,O,Ae),Hs(J,ie,2,ve-we,O,Ae),Hs(J,ie,3,ve-je,O,Ae)}function Na(O,L,J,ie,ve){cm(O,L,J,ie),ve&&cm(O,L+16,J,ie+4)}function Rc(O,L,J,ie){of(O,L+0,J,ie,1),of(O,L+32,J,ie+128,1)}function r0(O,L,J,ie){var ve;for(O=O[L+0]+4,ve=0;4>ve;++ve)for(L=0;4>L;++L)Dl(J,ie,L,ve,O)}function um(O,L,J,ie){O[L+0]&&wn(O,L+0,J,ie),O[L+16]&&wn(O,L+16,J,ie+4),O[L+32]&&wn(O,L+32,J,ie+128),O[L+48]&&wn(O,L+48,J,ie+128+4)}function ih(O,L,J,ie){var ve,we=a(16);for(ve=0;4>ve;++ve){var je=O[L+0+ve]+O[L+12+ve],Ae=O[L+4+ve]+O[L+8+ve],Pe=O[L+4+ve]-O[L+8+ve],Ie=O[L+0+ve]-O[L+12+ve];we[0+ve]=je+Ae,we[8+ve]=je-Ae,we[4+ve]=Ie+Pe,we[12+ve]=Ie-Pe}for(ve=0;4>ve;++ve)je=(O=we[0+4*ve]+3)+we[3+4*ve],Ae=we[1+4*ve]+we[2+4*ve],Pe=we[1+4*ve]-we[2+4*ve],Ie=O-we[3+4*ve],J[ie+0]=je+Ae>>3,J[ie+16]=Ie+Pe>>3,J[ie+32]=je-Ae>>3,J[ie+48]=Ie-Pe>>3,ie+=64}function ef(O,L,J){var ie,ve=L-32,we=Ll,je=255-O[ve-1];for(ie=0;ie<J;++ie){var Ae,Pe=we,Ie=je+O[L-1];for(Ae=0;Ae<J;++Ae)O[L+Ae]=Pe[Ie+O[ve+Ae]];L+=32}}function Oy(O,L){ef(O,L,4)}function Ka(O,L){ef(O,L,8)}function n0(O,L){ef(O,L,16)}function dm(O,L){var J;for(J=0;16>J;++J)n(O,L+32*J,O,L-32,16)}function a0(O,L){var J;for(J=16;0<J;--J)s(O,L,O[L-1],16),L+=32}function Rl(O,L,J){var ie;for(ie=0;16>ie;++ie)s(L,J+32*ie,O,16)}function fm(O,L){var J,ie=16;for(J=0;16>J;++J)ie+=O[L-1+32*J]+O[L+J-32];Rl(ie>>5,O,L)}function hu(O,L){var J,ie=8;for(J=0;16>J;++J)ie+=O[L-1+32*J];Rl(ie>>4,O,L)}function va(O,L){var J,ie=8;for(J=0;16>J;++J)ie+=O[L+J-32];Rl(ie>>4,O,L)}function oc(O,L){Rl(128,O,L)}function fn(O,L,J){return O+2*L+J+2>>2}function dv(O,L){var J,ie=L-32;for(ie=new Uint8Array([fn(O[ie-1],O[ie+0],O[ie+1]),fn(O[ie+0],O[ie+1],O[ie+2]),fn(O[ie+1],O[ie+2],O[ie+3]),fn(O[ie+2],O[ie+3],O[ie+4])]),J=0;4>J;++J)n(O,L+32*J,ie,0,ie.length)}function Fy(O,L){var J=O[L-1],ie=O[L-1+32],ve=O[L-1+64],we=O[L-1+96];Be(O,L+0,16843009*fn(O[L-1-32],J,ie)),Be(O,L+32,16843009*fn(J,ie,ve)),Be(O,L+64,16843009*fn(ie,ve,we)),Be(O,L+96,16843009*fn(ve,we,we))}function Dy(O,L){var J,ie=4;for(J=0;4>J;++J)ie+=O[L+J-32]+O[L-1+32*J];for(ie>>=3,J=0;4>J;++J)s(O,L+32*J,ie,4)}function sd(O,L){var J=O[L-1+0],ie=O[L-1+32],ve=O[L-1+64],we=O[L-1-32],je=O[L+0-32],Ae=O[L+1-32],Pe=O[L+2-32],Ie=O[L+3-32];O[L+0+96]=fn(ie,ve,O[L-1+96]),O[L+1+96]=O[L+0+64]=fn(J,ie,ve),O[L+2+96]=O[L+1+64]=O[L+0+32]=fn(we,J,ie),O[L+3+96]=O[L+2+64]=O[L+1+32]=O[L+0+0]=fn(je,we,J),O[L+3+64]=O[L+2+32]=O[L+1+0]=fn(Ae,je,we),O[L+3+32]=O[L+2+0]=fn(Pe,Ae,je),O[L+3+0]=fn(Ie,Pe,Ae)}function mu(O,L){var J=O[L+1-32],ie=O[L+2-32],ve=O[L+3-32],we=O[L+4-32],je=O[L+5-32],Ae=O[L+6-32],Pe=O[L+7-32];O[L+0+0]=fn(O[L+0-32],J,ie),O[L+1+0]=O[L+0+32]=fn(J,ie,ve),O[L+2+0]=O[L+1+32]=O[L+0+64]=fn(ie,ve,we),O[L+3+0]=O[L+2+32]=O[L+1+64]=O[L+0+96]=fn(ve,we,je),O[L+3+32]=O[L+2+64]=O[L+1+96]=fn(we,je,Ae),O[L+3+64]=O[L+2+96]=fn(je,Ae,Pe),O[L+3+96]=fn(Ae,Pe,Pe)}function fv(O,L){var J=O[L-1+0],ie=O[L-1+32],ve=O[L-1+64],we=O[L-1-32],je=O[L+0-32],Ae=O[L+1-32],Pe=O[L+2-32],Ie=O[L+3-32];O[L+0+0]=O[L+1+64]=we+je+1>>1,O[L+1+0]=O[L+2+64]=je+Ae+1>>1,O[L+2+0]=O[L+3+64]=Ae+Pe+1>>1,O[L+3+0]=Pe+Ie+1>>1,O[L+0+96]=fn(ve,ie,J),O[L+0+64]=fn(ie,J,we),O[L+0+32]=O[L+1+96]=fn(J,we,je),O[L+1+32]=O[L+2+96]=fn(we,je,Ae),O[L+2+32]=O[L+3+96]=fn(je,Ae,Pe),O[L+3+32]=fn(Ae,Pe,Ie)}function bi(O,L){var J=O[L+0-32],ie=O[L+1-32],ve=O[L+2-32],we=O[L+3-32],je=O[L+4-32],Ae=O[L+5-32],Pe=O[L+6-32],Ie=O[L+7-32];O[L+0+0]=J+ie+1>>1,O[L+1+0]=O[L+0+64]=ie+ve+1>>1,O[L+2+0]=O[L+1+64]=ve+we+1>>1,O[L+3+0]=O[L+2+64]=we+je+1>>1,O[L+0+32]=fn(J,ie,ve),O[L+1+32]=O[L+0+96]=fn(ie,ve,we),O[L+2+32]=O[L+1+96]=fn(ve,we,je),O[L+3+32]=O[L+2+96]=fn(we,je,Ae),O[L+3+64]=fn(je,Ae,Pe),O[L+3+96]=fn(Ae,Pe,Ie)}function pu(O,L){var J=O[L-1+0],ie=O[L-1+32],ve=O[L-1+64],we=O[L-1+96];O[L+0+0]=J+ie+1>>1,O[L+2+0]=O[L+0+32]=ie+ve+1>>1,O[L+2+32]=O[L+0+64]=ve+we+1>>1,O[L+1+0]=fn(J,ie,ve),O[L+3+0]=O[L+1+32]=fn(ie,ve,we),O[L+3+32]=O[L+1+64]=fn(ve,we,we),O[L+3+64]=O[L+2+64]=O[L+0+96]=O[L+1+96]=O[L+2+96]=O[L+3+96]=we}function er(O,L){var J=O[L-1+0],ie=O[L-1+32],ve=O[L-1+64],we=O[L-1+96],je=O[L-1-32],Ae=O[L+0-32],Pe=O[L+1-32],Ie=O[L+2-32];O[L+0+0]=O[L+2+32]=J+je+1>>1,O[L+0+32]=O[L+2+64]=ie+J+1>>1,O[L+0+64]=O[L+2+96]=ve+ie+1>>1,O[L+0+96]=we+ve+1>>1,O[L+3+0]=fn(Ae,Pe,Ie),O[L+2+0]=fn(je,Ae,Pe),O[L+1+0]=O[L+3+32]=fn(J,je,Ae),O[L+1+32]=O[L+3+64]=fn(ie,J,je),O[L+1+64]=O[L+3+96]=fn(ve,ie,J),O[L+1+96]=fn(we,ve,ie)}function id(O,L){var J;for(J=0;8>J;++J)n(O,L+32*J,O,L-32,8)}function s0(O,L){var J;for(J=0;8>J;++J)s(O,L,O[L-1],8),L+=32}function Ml(O,L,J){var ie;for(ie=0;8>ie;++ie)s(L,J+32*ie,O,8)}function Gs(O,L){var J,ie=8;for(J=0;8>J;++J)ie+=O[L+J-32]+O[L-1+32*J];Ml(ie>>4,O,L)}function Mc(O,L){var J,ie=4;for(J=0;8>J;++J)ie+=O[L+J-32];Ml(ie>>3,O,L)}function ao(O,L){var J,ie=4;for(J=0;8>J;++J)ie+=O[L-1+32*J];Ml(ie>>3,O,L)}function i0(O,L){Ml(128,O,L)}function gu(O,L,J){var ie=O[L-J],ve=O[L+0],we=3*(ve-ie)+lf[1020+O[L-2*J]-O[L+J]],je=ba[112+(we+4>>3)];O[L-J]=Ll[255+ie+ba[112+(we+3>>3)]],O[L+0]=Ll[255+ve-je]}function hm(O,L,J,ie){var ve=O[L+0],we=O[L+J];return $l[255+O[L-2*J]-O[L-J]]>ie||$l[255+we-ve]>ie}function oh(O,L,J,ie){return 4*$l[255+O[L-J]-O[L+0]]+$l[255+O[L-2*J]-O[L+J]]<=ie}function mm(O,L,J,ie,ve){var we=O[L-3*J],je=O[L-2*J],Ae=O[L-J],Pe=O[L+0],Ie=O[L+J],Xe=O[L+2*J],ot=O[L+3*J];return 4*$l[255+Ae-Pe]+$l[255+je-Ie]>ie?0:$l[255+O[L-4*J]-we]<=ve&&$l[255+we-je]<=ve&&$l[255+je-Ae]<=ve&&$l[255+ot-Xe]<=ve&&$l[255+Xe-Ie]<=ve&&$l[255+Ie-Pe]<=ve}function tf(O,L,J,ie){var ve=2*ie+1;for(ie=0;16>ie;++ie)oh(O,L+ie,J,ve)&&gu(O,L+ie,J)}function pm(O,L,J,ie){var ve=2*ie+1;for(ie=0;16>ie;++ie)oh(O,L+ie*J,1,ve)&&gu(O,L+ie*J,1)}function o0(O,L,J,ie){var ve;for(ve=3;0<ve;--ve)tf(O,L+=4*J,J,ie)}function l0(O,L,J,ie){var ve;for(ve=3;0<ve;--ve)pm(O,L+=4,J,ie)}function vu(O,L,J,ie,ve,we,je,Ae){for(we=2*we+1;0<ve--;){if(mm(O,L,J,we,je))if(hm(O,L,J,Ae))gu(O,L,J);else{var Pe=O,Ie=L,Xe=J,ot=Pe[Ie-2*Xe],Le=Pe[Ie-Xe],Ze=Pe[Ie+0],rt=Pe[Ie+Xe],_t=Pe[Ie+2*Xe],it=27*(At=lf[1020+3*(Ze-Le)+lf[1020+ot-rt]])+63>>7,jt=18*At+63>>7,At=9*At+63>>7;Pe[Ie-3*Xe]=Ll[255+Pe[Ie-3*Xe]+At],Pe[Ie-2*Xe]=Ll[255+ot+jt],Pe[Ie-Xe]=Ll[255+Le+it],Pe[Ie+0]=Ll[255+Ze-it],Pe[Ie+Xe]=Ll[255+rt-jt],Pe[Ie+2*Xe]=Ll[255+_t-At]}L+=ie}}function xu(O,L,J,ie,ve,we,je,Ae){for(we=2*we+1;0<ve--;){if(mm(O,L,J,we,je))if(hm(O,L,J,Ae))gu(O,L,J);else{var Pe=O,Ie=L,Xe=J,ot=Pe[Ie-Xe],Le=Pe[Ie+0],Ze=Pe[Ie+Xe],rt=ba[112+(4+(_t=3*(Le-ot))>>3)],_t=ba[112+(_t+3>>3)],it=rt+1>>1;Pe[Ie-2*Xe]=Ll[255+Pe[Ie-2*Xe]+it],Pe[Ie-Xe]=Ll[255+ot+_t],Pe[Ie+0]=Ll[255+Le-rt],Pe[Ie+Xe]=Ll[255+Ze-it]}L+=ie}}function lh(O,L,J,ie,ve,we){vu(O,L,J,1,16,ie,ve,we)}function rf(O,L,J,ie,ve,we){vu(O,L,1,J,16,ie,ve,we)}function od(O,L,J,ie,ve,we){var je;for(je=3;0<je;--je)xu(O,L+=4*J,J,1,16,ie,ve,we)}function W(O,L,J,ie,ve,we){var je;for(je=3;0<je;--je)xu(O,L+=4,1,J,16,ie,ve,we)}function ge(O,L,J,ie,ve,we,je,Ae){vu(O,L,ve,1,8,we,je,Ae),vu(J,ie,ve,1,8,we,je,Ae)}function Me(O,L,J,ie,ve,we,je,Ae){vu(O,L,1,ve,8,we,je,Ae),vu(J,ie,1,ve,8,we,je,Ae)}function He(O,L,J,ie,ve,we,je,Ae){xu(O,L+4*ve,ve,1,8,we,je,Ae),xu(J,ie+4*ve,ve,1,8,we,je,Ae)}function et(O,L,J,ie,ve,we,je,Ae){xu(O,L+4,1,ve,8,we,je,Ae),xu(J,ie+4,1,ve,8,we,je,Ae)}function Nt(){this.ba=new bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wr(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new re}function vn(){this.xb=this.a=0,this.l=new Ws,this.ca=new bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new fe,this.Pb=0,this.wd=new fe,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wr,this.ab=0,this.gc=o(4,yr),this.Oc=0}function Ur(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ws,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vn(O,L,J,ie,ve,we,je){for(O=O==null?0:O[L+0],L=0;L<je;++L)ve[we+L]=O+J[ie+L]&255,O=ve[we+L]}function Ss(O,L,J,ie,ve,we,je){var Ae;if(O==null)Vn(null,null,J,ie,ve,we,je);else for(Ae=0;Ae<je;++Ae)ve[we+Ae]=O[L+Ae]+J[ie+Ae]&255}function ds(O,L,J,ie,ve,we,je){if(O==null)Vn(null,null,J,ie,ve,we,je);else{var Ae,Pe=O[L+0],Ie=Pe,Xe=Pe;for(Ae=0;Ae<je;++Ae)Ie=Xe+(Pe=O[L+Ae])-Ie,Xe=J[ie+Ae]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Pe,ve[we+Ae]=Xe}}function es(O,L,J,ie){var ve=L.width,we=L.o;if(t(O!=null&&L!=null),0>J||0>=ie||J+ie>we)return null;if(!O.Cc){if(O.ga==null){var je;if(O.ga=new Ur,(je=O.ga==null)||(je=L.width*L.o,t(O.Gb.length==0),O.Gb=a(je),O.Uc=0,O.Gb==null?je=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,je=1),je=!je),!je){je=O.ga;var Ae=O.Fa,Pe=O.P,Ie=O.qc,Xe=O.mb,ot=O.nb,Le=Pe+1,Ze=Ie-1,rt=je.l;if(t(Ae!=null&&Xe!=null&&L!=null),hd[0]=null,hd[1]=Vn,hd[2]=Ss,hd[3]=ds,je.ca=Xe,je.tb=ot,je.c=L.width,je.i=L.height,t(0<je.c&&0<je.i),1>=Ie)L=0;else if(je.$a=3&Ae[Pe+0],je.Z=Ae[Pe+0]>>2&3,je.Lc=Ae[Pe+0]>>4&3,Pe=Ae[Pe+0]>>6&3,0>je.$a||1<je.$a||4<=je.Z||1<je.Lc||Pe)L=0;else if(rt.put=Qr,rt.ac=Fc,rt.bc=ac,rt.ma=je,rt.width=L.width,rt.height=L.height,rt.Da=L.Da,rt.v=L.v,rt.va=L.va,rt.j=L.j,rt.o=L.o,je.$a)e:{t(je.$a==1),L=no();t:for(;;){if(L==null){L=0;break e}if(t(je!=null),je.mc=L,L.c=je.c,L.i=je.i,L.l=je.l,L.l.ma=je,L.l.width=je.c,L.l.height=je.i,L.a=0,ce(L.m,Ae,Le,Ze),!du(je.c,je.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&Dc(L.s)?(je.ic=1,Ae=L.c*L.i,L.Ta=null,L.Ua=0,L.V=a(Ae),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(je.ic=0,L=ic(L,je.c)),!L))break t;L=1;break e}je.mc=null,L=0}else L=Ze>=je.c*je.i;je=!L}if(je)return null;O.ga.Lc!=1?O.Ga=0:ie=we-J}t(O.ga!=null),t(J+ie<=we);e:{if(L=(Ae=O.ga).c,we=Ae.l.o,Ae.$a==0){if(Le=O.rc,Ze=O.Vc,rt=O.Fa,Pe=O.P+1+J*L,Ie=O.mb,Xe=O.nb+J*L,t(Pe<=O.P+O.qc),Ae.Z!=0)for(t(hd[Ae.Z]!=null),je=0;je<ie;++je)hd[Ae.Z](Le,Ze,rt,Pe,Ie,Xe,L),Le=Ie,Ze=Xe,Xe+=L,Pe+=L;else for(je=0;je<ie;++je)n(Ie,Xe,rt,Pe,L),Le=Ie,Ze=Xe,Xe+=L,Pe+=L;O.rc=Le,O.Vc=Ze}else{if(t(Ae.mc!=null),L=J+ie,t((je=Ae.mc)!=null),t(L<=je.i),je.C>=L)L=1;else if(Ae.ic||Ya(),Ae.ic){Ae=je.V,Le=je.Ba,Ze=je.c;var _t=je.i,it=(rt=1,Pe=je.$/Ze,Ie=je.$%Ze,Xe=je.m,ot=je.s,je.$),jt=Ze*_t,At=Ze*L,Ut=ot.wc,It=it<At?ni(ot,Ie,Pe):null;t(it<=jt),t(L<=_t),t(Dc(ot));t:for(;;){for(;!Xe.h&&it<At;){if(Ie&Ut||(It=ni(ot,Ie,Pe)),t(It!=null),le(Xe),256>(_t=Ms(It.G[0],It.H[0],Xe)))Ae[Le+it]=_t,++it,++Ie>=Ze&&(Ie=0,++Pe<=L&&!(Pe%16)&&ro(je,Pe));else{if(!(280>_t)){rt=0;break t}_t=Oa(_t-256,Xe);var Vr,jr=Ms(It.G[4],It.H[4],Xe);if(le(Xe),!(it>=(jr=Xo(Ze,jr=Oa(jr,Xe)))&&jt-it>=_t)){rt=0;break t}for(Vr=0;Vr<_t;++Vr)Ae[Le+it+Vr]=Ae[Le+it+Vr-jr];for(it+=_t,Ie+=_t;Ie>=Ze;)Ie-=Ze,++Pe<=L&&!(Pe%16)&&ro(je,Pe);it<At&&Ie&Ut&&(It=ni(ot,Ie,Pe))}t(Xe.h==Y(Xe))}ro(je,Pe>L?L:Pe);break t}!rt||Xe.h&&it<jt?(rt=0,je.a=Xe.h?5:3):je.$=it,L=rt}else L=Yn(je,je.V,je.Ba,je.c,je.i,L,rh);if(!L){ie=0;break e}}J+ie>=we&&(O.Cc=1),ie=1}if(!ie)return null;if(O.Cc&&((ie=O.ga)!=null&&(ie.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+J*ve}function wi(O,L,J,ie,ve,we){for(;0<ve--;){var je,Ae=O,Pe=L+(J?1:0),Ie=O,Xe=L+(J?0:3);for(je=0;je<ie;++je){var ot=Ie[Xe+4*je];ot!=255&&(ot*=32897,Ae[Pe+4*je+0]=Ae[Pe+4*je+0]*ot>>23,Ae[Pe+4*je+1]=Ae[Pe+4*je+1]*ot>>23,Ae[Pe+4*je+2]=Ae[Pe+4*je+2]*ot>>23)}L+=we}}function si(O,L,J,ie,ve){for(;0<ie--;){var we;for(we=0;we<J;++we){var je=O[L+2*we+0],Ae=15&(Ie=O[L+2*we+1]),Pe=4369*Ae,Ie=(240&Ie|Ie>>4)*Pe>>16;O[L+2*we+0]=(240&je|je>>4)*Pe>>16&240|(15&je|je<<4)*Pe>>16>>4&15,O[L+2*we+1]=240&Ie|Ae}L+=ve}}function so(O,L,J,ie,ve,we,je,Ae){var Pe,Ie,Xe=255;for(Ie=0;Ie<ve;++Ie){for(Pe=0;Pe<ie;++Pe){var ot=O[L+Pe];we[je+4*Pe]=ot,Xe&=ot}L+=J,je+=Ae}return Xe!=255}function yu(O,L,J,ie,ve){var we;for(we=0;we<ve;++we)J[ie+we]=O[L+we]>>8}function Ya(){Il=wi,My=si,pv=so,h0=yu}function fs(O,L,J){B[O]=function(ie,ve,we,je,Ae,Pe,Ie,Xe,ot,Le,Ze,rt,_t,it,jt,At,Ut){var It,Vr=Ut-1>>1,jr=Ae[Pe+0]|Ie[Xe+0]<<16,On=ot[Le+0]|Ze[rt+0]<<16;t(ie!=null);var kr=3*jr+On+131074>>2;for(L(ie[ve+0],255&kr,kr>>16,_t,it),we!=null&&(kr=3*On+jr+131074>>2,L(we[je+0],255&kr,kr>>16,jt,At)),It=1;It<=Vr;++It){var ea=Ae[Pe+It]|Ie[Xe+It]<<16,li=ot[Le+It]|Ze[rt+It]<<16,Cn=jr+ea+On+li+524296,Or=Cn+2*(ea+On)>>3;kr=Or+jr>>1,jr=(Cn=Cn+2*(jr+li)>>3)+ea>>1,L(ie[ve+2*It-1],255&kr,kr>>16,_t,it+(2*It-1)*J),L(ie[ve+2*It-0],255&jr,jr>>16,_t,it+(2*It-0)*J),we!=null&&(kr=Cn+On>>1,jr=Or+li>>1,L(we[je+2*It-1],255&kr,kr>>16,jt,At+(2*It-1)*J),L(we[je+2*It+0],255&jr,jr>>16,jt,At+(2*It+0)*J)),jr=ea,On=li}1&Ut||(kr=3*jr+On+131074>>2,L(ie[ve+Ut-1],255&kr,kr>>16,_t,it+(Ut-1)*J),we!=null&&(kr=3*On+jr+131074>>2,L(we[je+Ut-1],255&kr,kr>>16,jt,At+(Ut-1)*J)))}}function bt(){zl[m0]=v0,zl[Qo]=jm,zl[r5]=fh,zl[p0]=uf,zl[wm]=Uy,zl[vv]=m5,zl[cf]=jv,zl[xv]=jm,zl[yv]=uf,zl[g0]=Uy,zl[Ly]=m5}function dl(O){return O&~p5?0>O?0:255:O>>df}function Ks(O,L){return dl((19077*O>>8)+(26149*L>>8)-14234)}function Rt(O,L,J){return dl((19077*O>>8)-(6419*L>>8)-(13320*J>>8)+8708)}function Ic(O,L){return dl((19077*O>>8)+(33050*L>>8)-17685)}function ld(O,L,J,ie,ve){ie[ve+0]=Ks(O,J),ie[ve+1]=Rt(O,L,J),ie[ve+2]=Ic(O,L)}function Ys(O,L,J,ie,ve){ie[ve+0]=Ic(O,L),ie[ve+1]=Rt(O,L,J),ie[ve+2]=Ks(O,J)}function cd(O,L,J,ie,ve){var we=Rt(O,L,J);L=we<<3&224|Ic(O,L)>>3,ie[ve+0]=248&Ks(O,J)|we>>5,ie[ve+1]=L}function ud(O,L,J,ie,ve){var we=240&Ic(O,L)|15;ie[ve+0]=240&Ks(O,J)|Rt(O,L,J)>>4,ie[ve+1]=we}function ts(O,L,J,ie,ve){ie[ve+0]=255,ld(O,L,J,ie,ve+1)}function ch(O,L,J,ie,ve){Ys(O,L,J,ie,ve),ie[ve+3]=255}function qn(O,L,J,ie,ve){ld(O,L,J,ie,ve),ie[ve+3]=255}function Sa(O,L,J){B[O]=function(ie,ve,we,je,Ae,Pe,Ie,Xe,ot){for(var Le=Xe+(-2&ot)*J;Xe!=Le;)L(ie[ve+0],we[je+0],Ae[Pe+0],Ie,Xe),L(ie[ve+1],we[je+0],Ae[Pe+0],Ie,Xe+J),ve+=2,++je,++Pe,Xe+=2*J;1&ot&&L(ie[ve+0],we[je+0],Ae[Pe+0],Ie,Xe)}}function en(O,L,J){return J==0?O==0?L==0?6:5:L==0?4:0:J}function Pi(O,L,J,ie,ve){switch(O>>>30){case 3:of(L,J,ie,ve,0);break;case 2:Fi(L,J,ie,ve);break;case 1:wn(L,J,ie,ve)}}function tn(O,L){var J,ie,ve=L.M,we=L.Nb,je=O.oc,Ae=O.pc+40,Pe=O.oc,Ie=O.pc+584,Xe=O.oc,ot=O.pc+600;for(J=0;16>J;++J)je[Ae+32*J-1]=129;for(J=0;8>J;++J)Pe[Ie+32*J-1]=129,Xe[ot+32*J-1]=129;for(0<ve?je[Ae-1-32]=Pe[Ie-1-32]=Xe[ot-1-32]=129:(s(je,Ae-32-1,127,21),s(Pe,Ie-32-1,127,9),s(Xe,ot-32-1,127,9)),ie=0;ie<O.za;++ie){var Le=L.ya[L.aa+ie];if(0<ie){for(J=-1;16>J;++J)n(je,Ae+32*J-4,je,Ae+32*J+12,4);for(J=-1;8>J;++J)n(Pe,Ie+32*J-4,Pe,Ie+32*J+4,4),n(Xe,ot+32*J-4,Xe,ot+32*J+4,4)}var Ze=O.Gd,rt=O.Hd+ie,_t=Le.ad,it=Le.Hc;if(0<ve&&(n(je,Ae-32,Ze[rt].y,0,16),n(Pe,Ie-32,Ze[rt].f,0,8),n(Xe,ot-32,Ze[rt].ea,0,8)),Le.Za){var jt=je,At=Ae-32+16;for(0<ve&&(ie>=O.za-1?s(jt,At,Ze[rt].y[15],4):n(jt,At,Ze[rt+1].y,0,4)),J=0;4>J;J++)jt[At+128+J]=jt[At+256+J]=jt[At+384+J]=jt[At+0+J];for(J=0;16>J;++J,it<<=2)jt=je,At=Ae+w0[J],Ca[Le.Ob[J]](jt,At),Pi(it,_t,16*+J,jt,At)}else if(jt=en(ie,ve,Le.Ob[0]),el[jt](je,Ae),it!=0)for(J=0;16>J;++J,it<<=2)Pi(it,_t,16*+J,je,Ae+w0[J]);for(J=Le.Gc,jt=en(ie,ve,Le.Dd),ks[jt](Pe,Ie),ks[jt](Xe,ot),it=_t,jt=Pe,At=Ie,255&(Le=0|J)&&(170&Le?Zo(it,256,jt,At):ya(it,256,jt,At)),Le=Xe,it=ot,255&(J>>=8)&&(170&J?Zo(_t,320,Le,it):ya(_t,320,Le,it)),ve<O.Ub-1&&(n(Ze[rt].y,0,je,Ae+480,16),n(Ze[rt].f,0,Pe,Ie+224,8),n(Ze[rt].ea,0,Xe,ot+224,8)),J=8*we*O.B,Ze=O.sa,rt=O.ta+16*ie+16*we*O.R,_t=O.qa,Le=O.ra+8*ie+J,it=O.Ha,jt=O.Ia+8*ie+J,J=0;16>J;++J)n(Ze,rt+J*O.R,je,Ae+32*J,16);for(J=0;8>J;++J)n(_t,Le+J*O.B,Pe,Ie+32*J,8),n(it,jt+J*O.B,Xe,ot+32*J,8)}}function Tn(O,L,J,ie,ve,we,je,Ae,Pe){var Ie=[0],Xe=[0],ot=0,Le=Pe!=null?Pe.kd:0,Ze=Pe??new Mt;if(O==null||12>J)return 7;Ze.data=O,Ze.w=L,Ze.ha=J,L=[L],J=[J],Ze.gb=[Ze.gb];e:{var rt=L,_t=J,it=Ze.gb;if(t(O!=null),t(_t!=null),t(it!=null),it[0]=0,12<=_t[0]&&!r(O,rt[0],"RIFF")){if(r(O,rt[0]+8,"WEBP")){it=3;break e}var jt=$e(O,rt[0]+4);if(12>jt||4294967286<jt){it=3;break e}if(Le&&jt>_t[0]-8){it=7;break e}it[0]=jt,rt[0]+=12,_t[0]-=12}it=0}if(it!=0)return it;for(jt=0<Ze.gb[0],J=J[0];;){e:{var At=O;_t=L,it=J;var Ut=Ie,It=Xe,Vr=rt=[0];if((kr=ot=[ot])[0]=0,8>it[0])it=7;else{if(!r(At,_t[0],"VP8X")){if($e(At,_t[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var jr=$e(At,_t[0]+8),On=1+Te(At,_t[0]+12);if(2147483648<=On*(At=1+Te(At,_t[0]+15))){it=3;break e}Vr!=null&&(Vr[0]=jr),Ut!=null&&(Ut[0]=On),It!=null&&(It[0]=At),_t[0]+=18,it[0]-=18,kr[0]=1}it=0}}if(ot=ot[0],rt=rt[0],it!=0)return it;if(_t=!!(2&rt),!jt&&ot)return 3;if(we!=null&&(we[0]=!!(16&rt)),je!=null&&(je[0]=_t),Ae!=null&&(Ae[0]=0),je=Ie[0],rt=Xe[0],ot&&_t&&Pe==null){it=0;break}if(4>J){it=7;break}if(jt&&ot||!jt&&!ot&&!r(O,L[0],"ALPH")){J=[J],Ze.na=[Ze.na],Ze.P=[Ze.P],Ze.Sa=[Ze.Sa];e:{jr=O,it=L,jt=J;var kr=Ze.gb;Ut=Ze.na,It=Ze.P,Vr=Ze.Sa,On=22,t(jr!=null),t(jt!=null),At=it[0];var ea=jt[0];for(t(Ut!=null),t(Vr!=null),Ut[0]=null,It[0]=null,Vr[0]=0;;){if(it[0]=At,jt[0]=ea,8>ea){it=7;break e}var li=$e(jr,At+4);if(4294967286<li){it=3;break e}var Cn=8+li+1&-2;if(On+=Cn,0<kr&&On>kr){it=3;break e}if(!r(jr,At,"VP8 ")||!r(jr,At,"VP8L")){it=0;break e}if(ea[0]<Cn){it=7;break e}r(jr,At,"ALPH")||(Ut[0]=jr,It[0]=At+8,Vr[0]=li),At+=Cn,ea-=Cn}}if(J=J[0],Ze.na=Ze.na[0],Ze.P=Ze.P[0],Ze.Sa=Ze.Sa[0],it!=0)break}J=[J],Ze.Ja=[Ze.Ja],Ze.xa=[Ze.xa];e:if(kr=O,it=L,jt=J,Ut=Ze.gb[0],It=Ze.Ja,Vr=Ze.xa,jr=it[0],At=!r(kr,jr,"VP8 "),On=!r(kr,jr,"VP8L"),t(kr!=null),t(jt!=null),t(It!=null),t(Vr!=null),8>jt[0])it=7;else{if(At||On){if(kr=$e(kr,jr+4),12<=Ut&&kr>Ut-12){it=3;break e}if(Le&&kr>jt[0]-8){it=7;break e}It[0]=kr,it[0]+=8,jt[0]-=8,Vr[0]=On}else Vr[0]=5<=jt[0]&&kr[jr+0]==47&&!(kr[jr+4]>>5),It[0]=jt[0];it=0}if(J=J[0],Ze.Ja=Ze.Ja[0],Ze.xa=Ze.xa[0],L=L[0],it!=0)break;if(4294967286<Ze.Ja)return 3;if(Ae==null||_t||(Ae[0]=Ze.xa?2:1),je=[je],rt=[rt],Ze.xa){if(5>J){it=7;break}Ae=je,Le=rt,_t=we,O==null||5>J?O=0:5<=J&&O[L+0]==47&&!(O[L+4]>>5)?(jt=[0],kr=[0],Ut=[0],ce(It=new fe,O,L,J),sc(It,jt,kr,Ut)?(Ae!=null&&(Ae[0]=jt[0]),Le!=null&&(Le[0]=kr[0]),_t!=null&&(_t[0]=Ut[0]),O=1):O=0):O=0}else{if(10>J){it=7;break}Ae=rt,O==null||10>J||!sn(O,L+3,J-3)?O=0:(Le=O[L+0]|O[L+1]<<8|O[L+2]<<16,_t=16383&(O[L+7]<<8|O[L+6]),O=16383&(O[L+9]<<8|O[L+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Ze.Ja||!_t||!O?O=0:(je&&(je[0]=_t),Ae&&(Ae[0]=O),O=1))}if(!O||(je=je[0],rt=rt[0],ot&&(Ie[0]!=je||Xe[0]!=rt)))return 3;Pe!=null&&(Pe[0]=Ze,Pe.offset=L-Pe.w,t(4294967286>L-Pe.w),t(Pe.offset==Pe.ha-J));break}return it==0||it==7&&ot&&Pe==null?(we!=null&&(we[0]|=Ze.na!=null&&0<Ze.na.length),ie!=null&&(ie[0]=je),ve!=null&&(ve[0]=rt),0):it}function c0(O,L,J){var ie=L.width,ve=L.height,we=0,je=0,Ae=ie,Pe=ve;if(L.Da=O!=null&&0<O.Da,L.Da&&(Ae=O.cd,Pe=O.bd,we=O.v,je=O.j,11>J||(we&=-2,je&=-2),0>we||0>je||0>=Ae||0>=Pe||we+Ae>ie||je+Pe>ve))return 0;if(L.v=we,L.j=je,L.va=we+Ae,L.o=je+Pe,L.U=Ae,L.T=Pe,L.da=O!=null&&0<O.da,L.da){if(!Pt(Ae,Pe,J=[O.ib],we=[O.hb]))return 0;L.ib=J[0],L.hb=we[0]}return L.ob=O!=null&&O.ob,L.Kb=O==null||!O.Sd,L.da&&(L.ob=L.ib<3*ie/4&&L.hb<3*ve/4,L.Kb=0),1}function fl(O){if(O==null)return 2;if(11>O.S){var L=O.f.RGBA;L.fb+=(O.height-1)*L.A,L.A=-L.A}else L=O.f.kb,O=O.height,L.O+=(O-1)*L.fa,L.fa=-L.fa,L.N+=(O-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(O-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(O-1)*L.lb,L.lb=-L.lb);return 0}function Jo(O,L,J,ie){if(ie==null||0>=O||0>=L)return 2;if(J!=null){if(J.Da){var ve=J.cd,we=J.bd,je=-2&J.v,Ae=-2&J.j;if(0>je||0>Ae||0>=ve||0>=we||je+ve>O||Ae+we>L)return 2;O=ve,L=we}if(J.da){if(!Pt(O,L,ve=[J.ib],we=[J.hb]))return 2;O=ve[0],L=we[0]}}ie.width=O,ie.height=L;e:{var Pe=ie.width,Ie=ie.height;if(O=ie.S,0>=Pe||0>=Ie||!(O>=m0&&13>O))O=2;else{if(0>=ie.Rd&&ie.sd==null){je=we=ve=L=0;var Xe=(Ae=Pe*Vy[O])*Ie;if(11>O||(we=(Ie+1)/2*(L=(Pe+1)/2),O==12&&(je=(ve=Pe)*Ie)),(Ie=a(Xe+2*we+je))==null){O=1;break e}ie.sd=Ie,11>O?((Pe=ie.f.RGBA).eb=Ie,Pe.fb=0,Pe.A=Ae,Pe.size=Xe):((Pe=ie.f.kb).y=Ie,Pe.O=0,Pe.fa=Ae,Pe.Fd=Xe,Pe.f=Ie,Pe.N=0+Xe,Pe.Ab=L,Pe.Cd=we,Pe.ea=Ie,Pe.W=0+Xe+we,Pe.Db=L,Pe.Ed=we,O==12&&(Pe.F=Ie,Pe.J=0+Xe+2*we),Pe.Tc=je,Pe.lb=ve)}if(L=1,ve=ie.S,we=ie.width,je=ie.height,ve>=m0&&13>ve)if(11>ve)O=ie.f.RGBA,L&=(Ae=Math.abs(O.A))*(je-1)+we<=O.size,L&=Ae>=we*Vy[ve],L&=O.eb!=null;else{O=ie.f.kb,Ae=(we+1)/2,Xe=(je+1)/2,Pe=Math.abs(O.fa),Ie=Math.abs(O.Ab);var ot=Math.abs(O.Db),Le=Math.abs(O.lb),Ze=Le*(je-1)+we;L&=Pe*(je-1)+we<=O.Fd,L&=Ie*(Xe-1)+Ae<=O.Cd,L=(L&=ot*(Xe-1)+Ae<=O.Ed)&Pe>=we&Ie>=Ae&ot>=Ae,L&=O.y!=null,L&=O.f!=null,L&=O.ea!=null,ve==12&&(L&=Le>=we,L&=Ze<=O.Tc,L&=O.F!=null)}else L=0;O=L?0:2}}return O!=0||J!=null&&J.fd&&(O=fl(ie)),O}var nf=64,Oi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cs=24,As=32,rs=8,bu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(O){return O},B.Predictor2=function(O,L,J){return L[J+0]},B.Predictor3=function(O,L,J){return L[J+1]},B.Predictor4=function(O,L,J){return L[J-1]},B.Predictor5=function(O,L,J){return Ot(Ot(O,L[J+1]),L[J+0])},B.Predictor6=function(O,L,J){return Ot(O,L[J-1])},B.Predictor7=function(O,L,J){return Ot(O,L[J+0])},B.Predictor8=function(O,L,J){return Ot(L[J-1],L[J+0])},B.Predictor9=function(O,L,J){return Ot(L[J+0],L[J+1])},B.Predictor10=function(O,L,J){return Ot(Ot(O,L[J-1]),Ot(L[J+0],L[J+1]))},B.Predictor11=function(O,L,J){var ie=L[J+0];return 0>=yt(ie>>24&255,O>>24&255,(L=L[J-1])>>24&255)+yt(ie>>16&255,O>>16&255,L>>16&255)+yt(ie>>8&255,O>>8&255,L>>8&255)+yt(255&ie,255&O,255&L)?ie:O},B.Predictor12=function(O,L,J){var ie=L[J+0];return(br((O>>24&255)+(ie>>24&255)-((L=L[J-1])>>24&255))<<24|br((O>>16&255)+(ie>>16&255)-(L>>16&255))<<16|br((O>>8&255)+(ie>>8&255)-(L>>8&255))<<8|br((255&O)+(255&ie)-(255&L)))>>>0},B.Predictor13=function(O,L,J){var ie=L[J-1];return(Yr((O=Ot(O,L[J+0]))>>24&255,ie>>24&255)<<24|Yr(O>>16&255,ie>>16&255)<<16|Yr(O>>8&255,ie>>8&255)<<8|Yr(255&O,255&ie))>>>0};var u0=B.PredictorAdd0;B.PredictorAdd1=$t,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var gm=B.PredictorAdd2;dr("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),dr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var xa,wu=B.ColorIndexInverseTransform,Oo=B.MapARGB,Fo=B.VP8LColorIndexInverseTransformAlpha,d0=B.MapAlpha,vm=B.VP8LPredictorsAdd=[];vm.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var uh,af,sf,_u,ju,dd,fd,of,Fi,Zo,wn,ya,hs,ii,Lc,Di,dh,f0,e5,hv,mv,Ry,t5,xm,Il,My,pv,h0,gv=a(511),Iy=a(2041),Pn=a(225),ym=a(767),bm=0,lf=Iy,ba=Pn,Ll=ym,$l=gv,m0=0,Qo=1,r5=2,p0=3,wm=4,vv=5,cf=6,xv=7,yv=8,g0=9,Ly=10,n5=[2,3,7],a5=[3,3,11],bv=[280,256,256,256,40],$y=[0,1,1,1,0],s5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],i5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],o5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],l5=8,By=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_m=null,_v=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],c5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],u5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],d5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],f5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],h5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],el=[],Ca=[],ks=[],oi=1,Bl=2,hd=[],zl=[];fs("UpsampleRgbLinePair",ld,3),fs("UpsampleBgrLinePair",Ys,3),fs("UpsampleRgbaLinePair",qn,4),fs("UpsampleBgraLinePair",ch,4),fs("UpsampleArgbLinePair",ts,4),fs("UpsampleRgba4444LinePair",ud,2),fs("UpsampleRgb565LinePair",cd,2);var v0=B.UpsampleRgbLinePair,fh=B.UpsampleBgrLinePair,jm=B.UpsampleRgbaLinePair,uf=B.UpsampleBgraLinePair,Uy=B.UpsampleArgbLinePair,m5=B.UpsampleRgba4444LinePair,jv=B.UpsampleRgb565LinePair,x0=16,y0=1<<x0-1,Nm=-227,lc=482,df=6,p5=(256<<df)-1,b0=0,g5=a(256),v5=a(256),FA=a(256),x5=a(256),Do=a(lc-Nm),DA=a(lc-Nm);Sa("YuvToRgbRow",ld,3),Sa("YuvToBgrRow",Ys,3),Sa("YuvToRgbaRow",qn,4),Sa("YuvToBgraRow",ch,4),Sa("YuvToArgbRow",ts,4),Sa("YuvToRgba4444Row",ud,2),Sa("YuvToRgb565Row",cd,2);var w0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sm=[0,2,8],RA=[8,7,6,4,4,2,2,2,1,1,1,1],y5=1;this.WebPDecodeRGBA=function(O,L,J,ie,ve){var we=Qo,je=new Nt,Ae=new bn;je.ba=Ae,Ae.S=we,Ae.width=[Ae.width],Ae.height=[Ae.height];var Pe=Ae.width,Ie=Ae.height,Xe=new cn;if(Xe==null||O==null)var ot=2;else t(Xe!=null),ot=Tn(O,L,J,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(ot!=0?Pe=0:(Pe!=null&&(Pe[0]=Xe.width[0]),Ie!=null&&(Ie[0]=Xe.height[0]),Pe=1),Pe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],ie!=null&&(ie[0]=Ae.width),ve!=null&&(ve[0]=Ae.height);e:{if(ie=new Ws,(ve=new Mt).data=O,ve.w=L,ve.ha=J,ve.kd=1,L=[0],t(ve!=null),((O=Tn(ve.data,ve.w,ve.ha,null,null,null,L,null,ve))==0||O==7)&&L[0]&&(O=4),(L=O)==0){if(t(je!=null),ie.data=ve.data,ie.w=ve.w+ve.offset,ie.ha=ve.ha-ve.offset,ie.put=Qr,ie.ac=Fc,ie.bc=ac,ie.ma=je,ve.xa){if((O=no())==null){je=1;break e}if(function(Le,Ze){var rt=[0],_t=[0],it=[0];t:for(;;){if(Le==null)return 0;if(Ze==null)return Le.a=2,0;if(Le.l=Ze,Le.a=0,ce(Le.m,Ze.data,Ze.w,Ze.ha),!sc(Le.m,rt,_t,it)){Le.a=3;break t}if(Le.xb=Bl,Ze.width=rt[0],Ze.height=_t[0],!du(rt[0],_t[0],1,Le,null))break t;return 1}return t(Le.a!=0),0}(O,ie)){if(ie=(L=Jo(ie.width,ie.height,je.Oa,je.ba))==0){t:{ie=O;r:for(;;){if(ie==null){ie=0;break t}if(t(ie.s.yc!=null),t(ie.s.Ya!=null),t(0<ie.s.Wb),t((J=ie.l)!=null),t((ve=J.ma)!=null),ie.xb!=0){if(ie.ca=ve.ba,ie.tb=ve.tb,t(ie.ca!=null),!c0(ve.Oa,J,p0)){ie.a=2;break r}if(!ic(ie,J.width)||J.da)break r;if((J.da||ln(ie.ca.S))&&Ya(),11>ie.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ie.ca.f.kb.F!=null&&Ya()),ie.Pb&&0<ie.s.ua&&ie.s.vb.X==null&&!pe(ie.s.vb,ie.s.Wa.Xa)){ie.a=1;break r}ie.xb=0}if(!Yn(ie,ie.V,ie.Ba,ie.c,ie.i,J.o,ad))break r;ve.Dc=ie.Ma,ie=1;break t}t(ie.a!=0),ie=0}ie=!ie}ie&&(L=O.a)}else L=O.a}else{if((O=new Ty)==null){je=1;break e}if(O.Fa=ve.na,O.P=ve.P,O.qc=ve.Sa,yi(O,ie)){if((L=Jo(ie.width,ie.height,je.Oa,je.ba))==0){if(O.Aa=0,J=je.Oa,t((ve=O)!=null),J!=null){if(0<(Pe=0>(Pe=J.Md)?0:100<Pe?255:255*Pe/100)){for(Ie=Xe=0;4>Ie;++Ie)12>(ot=ve.pb[Ie]).lc&&(ot.ia=Pe*RA[0>ot.lc?0:ot.lc]>>3),Xe|=ot.ia;Xe&&(alert("todo:VP8InitRandom"),ve.ia=1)}ve.Ga=J.Id,100<ve.Ga?ve.Ga=100:0>ve.Ga&&(ve.Ga=0)}(function(Le,Ze){if(Le==null)return 0;if(Ze==null)return ai(Le,2,"NULL VP8Io parameter in VP8Decode().");if(!Le.cb&&!yi(Le,Ze))return 0;if(t(Le.cb),Ze.ac==null||Ze.ac(Ze)){Ze.ob&&(Le.L=0);var rt=Sm[Le.L];if(Le.L==2?(Le.yb=0,Le.zb=0):(Le.yb=Ze.v-rt>>4,Le.zb=Ze.j-rt>>4,0>Le.yb&&(Le.yb=0),0>Le.zb&&(Le.zb=0)),Le.Va=Ze.o+15+rt>>4,Le.Hb=Ze.va+15+rt>>4,Le.Hb>Le.za&&(Le.Hb=Le.za),Le.Va>Le.Ub&&(Le.Va=Le.Ub),0<Le.L){var _t=Le.ed;for(rt=0;4>rt;++rt){var it;if(Le.Qa.Cb){var jt=Le.Qa.Lb[rt];Le.Qa.Fb||(jt+=_t.Tb)}else jt=_t.Tb;for(it=0;1>=it;++it){var At=Le.gd[rt][it],Ut=jt;if(_t.Pc&&(Ut+=_t.vd[0],it&&(Ut+=_t.od[0])),0<(Ut=0>Ut?0:63<Ut?63:Ut)){var It=Ut;0<_t.wb&&(It=4<_t.wb?It>>2:It>>1)>9-_t.wb&&(It=9-_t.wb),1>It&&(It=1),At.dd=It,At.tc=2*Ut+It,At.ld=40<=Ut?2:15<=Ut?1:0}else At.tc=0;At.La=it}}}rt=0}else ai(Le,6,"Frame setup failed"),rt=Le.a;if(rt=rt==0){if(rt){Le.$c=0,0<Le.Aa||(Le.Ic=y5);t:{rt=Le.Ic,_t=4*(It=Le.za);var Vr=32*It,jr=It+1,On=0<Le.L?It*(0<Le.Aa?2:1):0,kr=(Le.Aa==2?2:1)*It;if((At=_t+832+(it=3*(16*rt+Sm[Le.L])/2*Vr)+(jt=Le.Fa!=null&&0<Le.Fa.length?Le.Kc.c*Le.Kc.i:0))!=At)rt=0;else{if(At>Le.Vb){if(Le.Vb=0,Le.Ec=a(At),Le.Fc=0,Le.Ec==null){rt=ai(Le,1,"no memory during frame initialization.");break t}Le.Vb=At}At=Le.Ec,Ut=Le.Fc,Le.Ac=At,Le.Bc=Ut,Ut+=_t,Le.Gd=o(Vr,Qd),Le.Hd=0,Le.rb=o(jr+1,lm),Le.sb=1,Le.wa=On?o(On,cs):null,Le.Y=0,Le.D.Nb=0,Le.D.wa=Le.wa,Le.D.Y=Le.Y,0<Le.Aa&&(Le.D.Y+=It),t(!0),Le.oc=At,Le.pc=Ut,Ut+=832,Le.ya=o(kr,ah),Le.aa=0,Le.D.ya=Le.ya,Le.D.aa=Le.aa,Le.Aa==2&&(Le.D.aa+=It),Le.R=16*It,Le.B=8*It,It=(Vr=Sm[Le.L])*Le.R,Vr=Vr/2*Le.B,Le.sa=At,Le.ta=Ut+It,Le.qa=Le.sa,Le.ra=Le.ta+16*rt*Le.R+Vr,Le.Ha=Le.qa,Le.Ia=Le.ra+8*rt*Le.B+Vr,Le.$c=0,Ut+=it,Le.mb=jt?At:null,Le.nb=jt?Ut:null,t(Ut+jt<=Le.Fc+Le.Vb),t0(Le),s(Le.Ac,Le.Bc,0,_t),rt=1}}if(rt){if(Ze.ka=0,Ze.y=Le.sa,Ze.O=Le.ta,Ze.f=Le.qa,Ze.N=Le.ra,Ze.ea=Le.Ha,Ze.Vd=Le.Ia,Ze.fa=Le.R,Ze.Rc=Le.B,Ze.F=null,Ze.J=0,!bm){for(rt=-255;255>=rt;++rt)gv[255+rt]=0>rt?-rt:rt;for(rt=-1020;1020>=rt;++rt)Iy[1020+rt]=-128>rt?-128:127<rt?127:rt;for(rt=-112;112>=rt;++rt)Pn[112+rt]=-16>rt?-16:15<rt?15:rt;for(rt=-255;510>=rt;++rt)ym[255+rt]=0>rt?0:255<rt?255:rt;bm=1}fd=ih,of=Na,Zo=Rc,wn=r0,ya=um,Fi=Py,hs=lh,ii=rf,Lc=ge,Di=Me,dh=od,f0=W,e5=He,hv=et,mv=tf,Ry=pm,t5=o0,xm=l0,Ca[0]=Dy,Ca[1]=Oy,Ca[2]=dv,Ca[3]=Fy,Ca[4]=sd,Ca[5]=fv,Ca[6]=mu,Ca[7]=bi,Ca[8]=er,Ca[9]=pu,el[0]=fm,el[1]=n0,el[2]=dm,el[3]=a0,el[4]=hu,el[5]=va,el[6]=oc,ks[0]=Gs,ks[1]=Ka,ks[2]=id,ks[3]=s0,ks[4]=ao,ks[5]=Mc,ks[6]=i0,rt=1}else rt=0}rt&&(rt=function(ea,li){for(ea.M=0;ea.M<ea.Va;++ea.M){var Cn,Or=ea.Jc[ea.M&ea.Xb],sr=ea.m,Fa=ea;for(Cn=0;Cn<Fa.za;++Cn){var An=sr,ta=Fa,ns=ta.Ac,Ri=ta.Bc+4*Cn,Ro=ta.zc,ms=ta.ya[ta.aa+Cn];if(ta.Qa.Bb?ms.$b=Fe(An,ta.Pa.jb[0])?2+Fe(An,ta.Pa.jb[2]):Fe(An,ta.Pa.jb[1]):ms.$b=0,ta.kc&&(ms.Ad=Fe(An,ta.Bd)),ms.Za=!Fe(An,145)+0,ms.Za){var io=ms.Ob,oo=0;for(ta=0;4>ta;++ta){var Is,Hn=Ro[0+ta];for(Is=0;4>Is;++Is){Hn=d5[ns[Ri+Is]][Hn];for(var Da=zy[Fe(An,Hn[0])];0<Da;)Da=zy[2*Da+Fe(An,Hn[Da])];Hn=-Da,ns[Ri+Is]=Hn}n(io,oo,ns,Ri,4),oo+=4,Ro[0+ta]=Hn}}else Hn=Fe(An,156)?Fe(An,128)?1:3:Fe(An,163)?2:0,ms.Ob[0]=Hn,s(ns,Ri,Hn,4),s(Ro,0,Hn,4);ms.Dd=Fe(An,142)?Fe(An,114)?Fe(An,183)?1:3:2:0}if(Fa.m.Ka)return ai(ea,7,"Premature end-of-partition0 encountered.");for(;ea.ja<ea.za;++ea.ja){if(Fa=Or,An=(sr=ea).rb[sr.sb-1],ns=sr.rb[sr.sb+sr.ja],Cn=sr.ya[sr.aa+sr.ja],Ri=sr.kc?Cn.Ad:0)An.la=ns.la=0,Cn.Za||(An.Na=ns.Na=0),Cn.Hc=0,Cn.Gc=0,Cn.ia=0;else{var Es,$a;if(An=ns,ns=Fa,Ri=sr.Pa.Xc,Ro=sr.ya[sr.aa+sr.ja],ms=sr.pb[Ro.$b],ta=Ro.ad,io=0,oo=sr.rb[sr.sb-1],Hn=Is=0,s(ta,io,0,384),Ro.Za)var lo=0,cc=Ri[3];else{Da=a(16);var ps=An.Na+oo.Na;if(ps=_m(ns,Ri[1],ps,ms.Eb,0,Da,0),An.Na=oo.Na=(0<ps)+0,1<ps)fd(Da,0,ta,io);else{var Mo=Da[0]+3>>3;for(Da=0;256>Da;Da+=16)ta[io+Da]=Mo}lo=1,cc=Ri[0]}var Ba=15&An.la,ci=15&oo.la;for(Da=0;4>Da;++Da){var _i=1&ci;for(Mo=$a=0;4>Mo;++Mo)Ba=Ba>>1|(_i=(ps=_m(ns,cc,ps=_i+(1&Ba),ms.Sc,lo,ta,io))>lo)<<7,$a=$a<<2|(3<ps?3:1<ps?2:ta[io+0]!=0),io+=16;Ba>>=4,ci=ci>>1|_i<<7,Is=(Is<<8|$a)>>>0}for(cc=Ba,lo=ci>>4,Es=0;4>Es;Es+=2){for($a=0,Ba=An.la>>4+Es,ci=oo.la>>4+Es,Da=0;2>Da;++Da){for(_i=1&ci,Mo=0;2>Mo;++Mo)ps=_i+(1&Ba),Ba=Ba>>1|(_i=0<(ps=_m(ns,Ri[2],ps,ms.Qc,0,ta,io)))<<3,$a=$a<<2|(3<ps?3:1<ps?2:ta[io+0]!=0),io+=16;Ba>>=2,ci=ci>>1|_i<<5}Hn|=$a<<4*Es,cc|=Ba<<4<<Es,lo|=(240&ci)<<Es}An.la=cc,oo.la=lo,Ro.Hc=Is,Ro.Gc=Hn,Ro.ia=43690&Hn?0:ms.ia,Ri=!(Is|Hn)}if(0<sr.L&&(sr.wa[sr.Y+sr.ja]=sr.gd[Cn.$b][Cn.Za],sr.wa[sr.Y+sr.ja].La|=!Ri),Fa.Ka)return ai(ea,7,"Premature end-of-file encountered.")}if(t0(ea),sr=li,Fa=1,Cn=(Or=ea).D,An=0<Or.L&&Or.M>=Or.zb&&Or.M<=Or.Va,Or.Aa==0)t:{if(Cn.M=Or.M,Cn.uc=An,tn(Or,Cn),Fa=1,Cn=($a=Or.D).Nb,An=(Hn=Sm[Or.L])*Or.R,ns=Hn/2*Or.B,Da=16*Cn*Or.R,Mo=8*Cn*Or.B,Ri=Or.sa,Ro=Or.ta-An+Da,ms=Or.qa,ta=Or.ra-ns+Mo,io=Or.Ha,oo=Or.Ia-ns+Mo,ci=(Ba=$a.M)==0,Is=Ba>=Or.Va-1,Or.Aa==2&&tn(Or,$a),$a.uc)for(_i=(ps=Or).D.M,t(ps.D.uc),$a=ps.yb;$a<ps.Hb;++$a){lo=$a,cc=_i;var Io=(tl=(Ii=ps).D).Nb;Es=Ii.R;var tl=tl.wa[tl.Y+lo],Lo=Ii.sa,rl=Ii.ta+16*Io*Es+16*lo,Mi=tl.dd,Ra=tl.tc;if(Ra!=0)if(t(3<=Ra),Ii.L==1)0<lo&&Ry(Lo,rl,Es,Ra+4),tl.La&&xm(Lo,rl,Es,Ra),0<cc&&mv(Lo,rl,Es,Ra+4),tl.La&&t5(Lo,rl,Es,Ra);else{var hl=Ii.B,uc=Ii.qa,ff=Ii.ra+8*Io*hl+8*lo,Nu=Ii.Ha,Ii=Ii.Ia+8*Io*hl+8*lo;Io=tl.ld,0<lo&&(ii(Lo,rl,Es,Ra+4,Mi,Io),Di(uc,ff,Nu,Ii,hl,Ra+4,Mi,Io)),tl.La&&(f0(Lo,rl,Es,Ra,Mi,Io),hv(uc,ff,Nu,Ii,hl,Ra,Mi,Io)),0<cc&&(hs(Lo,rl,Es,Ra+4,Mi,Io),Lc(uc,ff,Nu,Ii,hl,Ra+4,Mi,Io)),tl.La&&(dh(Lo,rl,Es,Ra,Mi,Io),e5(uc,ff,Nu,Ii,hl,Ra,Mi,Io))}}if(Or.ia&&alert("todo:DitherRow"),sr.put!=null){if($a=16*Ba,Ba=16*(Ba+1),ci?(sr.y=Or.sa,sr.O=Or.ta+Da,sr.f=Or.qa,sr.N=Or.ra+Mo,sr.ea=Or.Ha,sr.W=Or.Ia+Mo):($a-=Hn,sr.y=Ri,sr.O=Ro,sr.f=ms,sr.N=ta,sr.ea=io,sr.W=oo),Is||(Ba-=Hn),Ba>sr.o&&(Ba=sr.o),sr.F=null,sr.J=null,Or.Fa!=null&&0<Or.Fa.length&&$a<Ba&&(sr.J=es(Or,sr,$a,Ba-$a),sr.F=Or.mb,sr.F==null&&sr.F.length==0)){Fa=ai(Or,3,"Could not decode alpha data.");break t}$a<sr.j&&(Hn=sr.j-$a,$a=sr.j,t(!(1&Hn)),sr.O+=Or.R*Hn,sr.N+=Or.B*(Hn>>1),sr.W+=Or.B*(Hn>>1),sr.F!=null&&(sr.J+=sr.width*Hn)),$a<Ba&&(sr.O+=sr.v,sr.N+=sr.v>>1,sr.W+=sr.v>>1,sr.F!=null&&(sr.J+=sr.v),sr.ka=$a-sr.j,sr.U=sr.va-sr.v,sr.T=Ba-$a,Fa=sr.put(sr))}Cn+1!=Or.Ic||Is||(n(Or.sa,Or.ta-An,Ri,Ro+16*Or.R,An),n(Or.qa,Or.ra-ns,ms,ta+8*Or.B,ns),n(Or.Ha,Or.Ia-ns,io,oo+8*Or.B,ns))}if(!Fa)return ai(ea,6,"Output aborted.")}return 1}(Le,Ze)),Ze.bc!=null&&Ze.bc(Ze),rt&=1}return rt?(Le.cb=0,rt):0})(O,ie)||(L=O.a)}}else L=O.a}L==0&&je.Oa!=null&&je.Oa.fd&&(L=fl(je.ba))}je=L}we=je!=0?null:11>we?Ae.f.RGBA.eb:Ae.f.kb.y}else we=null;return we};var Vy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,V){for(var U="",q=0;q<4;q++)U+=String.fromCharCode(B[V++]);return U}function f(B,V){return B[V+0]|B[V+1]<<8}function h(B,V){return(B[V+0]|B[V+1]<<8|B[V+2]<<16)>>>0}function v(B,V){return(B[V+0]|B[V+1]<<8|B[V+2]<<16|B[V+3]<<24)>>>0}new c;var g=[0],_=[0],y=[],j=new c,w=e,C=function(B,V){var U={},q=0,re=!1,H=0,X=0;if(U.frames=[],!function(ee,fe){for(var ne=0;ne<4;ne++)if(ee[fe+ne]!="RIFF".charCodeAt(ne))return!0;return!1}(B,V)){for(v(B,V+=4),V+=8;V<B.length;){var Q=d(B,V),se=v(B,V+=4);V+=4;var te=se+(1&se);switch(Q){case"VP8 ":case"VP8L":U.frames[q]===void 0&&(U.frames[q]={}),(de=U.frames[q]).src_off=re?X:V-8,de.src_size=H+se+8,q++,re&&(re=!1,H=0,X=0);break;case"VP8X":(de=U.header={}).feature_flags=B[V];var ce=V+4;de.canvas_width=1+h(B,ce),ce+=3,de.canvas_height=1+h(B,ce),ce+=3;break;case"ALPH":re=!0,H=te+8,X=V-8;break;case"ANIM":(de=U.header).bgcolor=v(B,V),ce=V+4,de.loop_count=f(B,ce),ce+=2;break;case"ANMF":var xe,de;(de=U.frames[q]={}).offset_x=2*h(B,V),V+=3,de.offset_y=2*h(B,V),V+=3,de.width=1+h(B,V),V+=3,de.height=1+h(B,V),V+=3,de.duration=h(B,V),V+=3,xe=B[V++],de.dispose=1&xe,de.blend=xe>>1&1}Q!="ANMF"&&(V+=te)}return U}}(w,0);C.response=w,C.rgbaoutput=!0,C.dataurl=!1;var k=C.header?C.header:null,T=C.frames?C.frames:null;if(k){k.loop_counter=k.loop_count,g=[k.canvas_height],_=[k.canvas_width];for(var P=0;P<T.length&&T[P].blend!=0;P++);}var D=T[0],M=j.WebPDecodeRGBA(w,D.src_off,D.src_size,_,g);D.rgba=M,D.imgwidth=_[0],D.imgheight=g[0];for(var I=0;I<_[0]*g[0]*4;I++)y[I]=M[I];return this.width=_,this.height=g,this.data=y,this}(function(e){var t,r,n,s,a,o,l,c,d,f=function(ee){return ee=ee||{},this.isStrokeTransparent=ee.isStrokeTransparent||!1,this.strokeOpacity=ee.strokeOpacity||1,this.strokeStyle=ee.strokeStyle||"#000000",this.fillStyle=ee.fillStyle||"#000000",this.isFillTransparent=ee.isFillTransparent||!1,this.fillOpacity=ee.fillOpacity||1,this.font=ee.font||"10px sans-serif",this.textBaseline=ee.textBaseline||"alphabetic",this.textAlign=ee.textAlign||"left",this.lineWidth=ee.lineWidth||1,this.lineJoin=ee.lineJoin||"miter",this.lineCap=ee.lineCap||"butt",this.path=ee.path||[],this.transform=ee.transform!==void 0?ee.transform.clone():new c,this.globalCompositeOperation=ee.globalCompositeOperation||"normal",this.globalAlpha=ee.globalAlpha||1,this.clip_path=ee.clip_path||[],this.currentPoint=ee.currentPoint||new o,this.miterLimit=ee.miterLimit||10,this.lastPoint=ee.lastPoint||new o,this.lineDashOffset=ee.lineDashOffset||0,this.lineDash=ee.lineDash||[],this.margin=ee.margin||[0,0,0,0],this.prevPageLastElemOffset=ee.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ee.ignoreClearRect!="boolean"||ee.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var h=function(ee){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var fe=ee;Object.defineProperty(this,"pdf",{get:function(){return fe}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(pe){ne=!!pe}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(pe){Y=!!pe}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(pe){isNaN(pe)||(ue=pe)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(pe){isNaN(pe)||(le=pe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(pe){var Ge;typeof pe=="number"?Ge=[pe,pe,pe,pe]:((Ge=new Array(4))[0]=pe[0],Ge[1]=pe.length>=2?pe[1]:Ge[0],Ge[2]=pe.length>=3?pe[2]:Ge[0],Ge[3]=pe.length>=4?pe[3]:Ge[1]),d.margin=Ge}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(pe){ke=pe}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(pe){_e=pe}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(pe){Fe=pe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(pe){pe instanceof f&&(d=pe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(pe){d.path=pe}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(pe){Be=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var Ge;Ge=v(pe),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=Ge.a===0,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var Ge=v(pe);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=Ge.a===0,this.ctx.strokeOpacity=Ge.a,Ge.a===0?this.pdf.setDrawColor(255,255,255):(Ge.a,this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var Re=null,Te=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(pe){Re=null,Te=null,$e=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var Ge;if(this.ctx.font=pe,(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(pe))!==null){var pt=Ge[1];Ge[2];var Pt=Ge[3],nt=Ge[4];Ge[5];var Ye=Ge[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(Ue==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var gt=function(dr){var Kn,Qn,Rn=[],Gr=dr.trim();if(Gr==="")return P6;if(Gr in bH)return[bH[Gr]];for(;Gr!=="";){switch(Qn=null,Kn=(Gr=_H(Gr)).charAt(0)){case'"':case"'":Qn=Cot(Gr.substring(1),Kn);break;default:Qn=Aot(Gr)}if(Qn===null||(Rn.push(Qn[0]),(Gr=_H(Qn[1]))!==""&&Gr.charAt(0)!==","))return P6;Gr=Gr.replace(/^,/,"")}return Rn}(Ye);if(this.fontFaces){var Ot=function(dr,Kn){var Qn=dr.getFontList(),Rn=JSON.stringify(Qn);if(Re===null||Te!==Rn){var Gr=function(ia){var qr=[];return Object.keys(ia).forEach(function(ja){ia[ja].forEach(function(ln){var kn=null;switch(ln){case"bold":kn={family:ja,weight:"bold"};break;case"italic":kn={family:ja,style:"italic"};break;case"bolditalic":kn={family:ja,weight:"bold",style:"italic"};break;case"":case"normal":kn={family:ja}}kn!==null&&(kn.ref={name:ja,style:ln},qr.push(kn))})}),qr}(Qn);Re=function(ia){for(var qr={},ja=0;ja<ia.length;++ja){var ln=T6(ia[ja]),kn=ln.family,ss=ln.stretch,bn=ln.style,cn=ln.weight;qr[kn]=qr[kn]||{},qr[kn][ss]=qr[kn][ss]||{},qr[kn][ss][bn]=qr[kn][ss][bn]||{},qr[kn][ss][bn][cn]=ln}return qr}(Gr.concat(Kn)),Te=Rn}return Re}(this.pdf,this.fontFaces),br=gt.map(function(dr){return{family:dr,stretch:"normal",weight:Pt,style:pt}}),Yr=function(dr,Kn,Qn){for(var Rn=(Qn=Qn||{}).defaultFontFamily||"times",Gr=Object.assign({},Sot,Qn.genericFontFamilies||{}),ia=null,qr=null,ja=0;ja<Kn.length;++ja)if(Gr[(ia=T6(Kn[ja])).family]&&(ia.family=Gr[ia.family]),dr.hasOwnProperty(ia.family)){qr=dr[ia.family];break}if(!(qr=qr||dr[Rn]))throw new Error("Could not find a font-family for the rule '"+wH(ia)+"' and default family '"+Rn+"'.");if(qr=function(ln,kn){if(kn[ln])return kn[ln];var ss=EO[ln],bn=ss<=EO.normal?-1:1,cn=yH(kn,ace,ss,bn);if(!cn)throw new Error("Could not find a matching font-stretch value for "+ln);return cn}(ia.stretch,qr),qr=function(ln,kn){if(kn[ln])return kn[ln];for(var ss=nce[ln],bn=0;bn<ss.length;++bn)if(kn[ss[bn]])return kn[ss[bn]];throw new Error("Could not find a matching font-style for "+ln)}(ia.style,qr),!(qr=function(ln,kn){if(kn[ln])return kn[ln];if(ln===400&&kn[500])return kn[500];if(ln===500&&kn[400])return kn[400];var ss=Not[ln],bn=yH(kn,sce,ss,ln<400?-1:1);if(!bn)throw new Error("Could not find a matching font-weight for value "+ln);return bn}(ia.weight,qr)))throw new Error("Failed to resolve a font for the rule '"+wH(ia)+"'.");return qr}(Ot,br);this.pdf.setFont(Yr.ref.name,Yr.ref.style)}else{var yt="";(Pt==="bold"||parseInt(Pt,10)>=700||pt==="bold")&&(yt="bold"),pt==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var $t="",cr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<gt.length;Bt++){if(this.pdf.internal.getFont(gt[Bt],yt,{noFallback:!0,disableWarning:!0})!==void 0){$t=gt[Bt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(gt[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=gt[Bt],yt="bold";else if(this.pdf.internal.getFont(gt[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=gt[Bt],yt="normal";break}}if($t===""){for(var Mr=0;Mr<gt.length;Mr++)if(cr[gt[Mr]]){$t=cr[gt[Mr]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};h.prototype.setLineDash=function(ee){this.lineDash=ee},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(ee,fe){if(isNaN(ee)||isNaN(fe))throw os.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new o(ee,fe));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ee,fe)},h.prototype.closePath=function(){var ee=new o(0,0),fe=0;for(fe=this.path.length-1;fe!==-1;fe--)if(this.path[fe].type==="begin"&&Ia(this.path[fe+1])==="object"&&typeof this.path[fe+1].x=="number"){ee=new o(this.path[fe+1].x,this.path[fe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.lineTo=function(ee,fe){if(isNaN(ee)||isNaN(fe))throw os.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new o(ee,fe));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(ee,fe,ne,Y){if(isNaN(ne)||isNaN(Y)||isNaN(ee)||isNaN(fe))throw os.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(ne,Y)),le=this.ctx.transform.applyToPoint(new o(ee,fe));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},h.prototype.bezierCurveTo=function(ee,fe,ne,Y,ue,le){if(isNaN(ue)||isNaN(le)||isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y))throw os.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new o(ue,le)),_e=this.ctx.transform.applyToPoint(new o(ee,fe)),Fe=this.ctx.transform.applyToPoint(new o(ne,Y));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Fe.x,y2:Fe.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new o(ke.x,ke.y)},h.prototype.arc=function(ee,fe,ne,Y,ue,le){if(isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y)||isNaN(ue))throw os.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new o(ee,fe));ee=ke.x,fe=ke.y;var _e=this.ctx.transform.applyToPoint(new o(0,ne)),Fe=this.ctx.transform.applyToPoint(new o(0,0));ne=Math.sqrt(Math.pow(_e.x-Fe.x,2)+Math.pow(_e.y-Fe.y,2))}Math.abs(ue-Y)>=2*Math.PI&&(Y=0,ue=2*Math.PI),this.path.push({type:"arc",x:ee,y:fe,radius:ne,startAngle:Y,endAngle:ue,counterclockwise:le})},h.prototype.arcTo=function(ee,fe,ne,Y,ue){throw new Error("arcTo not implemented.")},h.prototype.rect=function(ee,fe,ne,Y){if(isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y))throw os.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ee,fe),this.lineTo(ee+ne,fe),this.lineTo(ee+ne,fe+Y),this.lineTo(ee,fe+Y),this.lineTo(ee,fe),this.lineTo(ee+ne,fe),this.lineTo(ee,fe)},h.prototype.fillRect=function(ee,fe,ne,Y){if(isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y))throw os.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ee,fe,ne,Y),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},h.prototype.strokeRect=function(ee,fe,ne,Y){if(isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y))throw os.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(ee,fe,ne,Y),this.stroke())},h.prototype.clearRect=function(ee,fe,ne,Y){if(isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y))throw os.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ee,fe,ne,Y))},h.prototype.save=function(ee){ee=typeof ee!="boolean"||ee;for(var fe=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(fe),ee){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(ee){ee=typeof ee!="boolean"||ee;for(var fe=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(fe),ee&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(ee){var fe,ne,Y,ue;if(ee.isCanvasGradient===!0&&(ee=ee.getColor()),!ee)return{r:0,g:0,b:0,a:0,style:ee};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ee))fe=0,ne=0,Y=0,ue=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ee);if(le!==null)fe=parseInt(le[1]),ne=parseInt(le[2]),Y=parseInt(le[3]),ue=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ee))!==null)fe=parseInt(le[1]),ne=parseInt(le[2]),Y=parseInt(le[3]),ue=parseFloat(le[4]);else{if(ue=1,typeof ee=="string"&&ee.charAt(0)!=="#"){var ke=new Xle(ee);ee=ke.ok?ke.toHex():"#000000"}ee.length===4?(fe=ee.substring(1,2),fe+=fe,ne=ee.substring(2,3),ne+=ne,Y=ee.substring(3,4),Y+=Y):(fe=ee.substring(1,3),ne=ee.substring(3,5),Y=ee.substring(5,7)),fe=parseInt(fe,16),ne=parseInt(ne,16),Y=parseInt(Y,16)}}return{r:fe,g:ne,b:Y,a:ue,style:ee}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(ee,fe,ne,Y){if(isNaN(fe)||isNaN(ne)||typeof ee!="string")throw os.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!g.call(this)){var ue=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;q.call(this,{text:ee,x:fe,y:ne,scale:le,angle:ue,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(ee,fe,ne,Y){if(isNaN(fe)||isNaN(ne)||typeof ee!="string")throw os.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Y=isNaN(Y)?void 0:Y;var ue=te(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;q.call(this,{text:ee,x:fe,y:ne,scale:le,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(ee){if(typeof ee!="string")throw os.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var fe=this.pdf,ne=this.pdf.internal.scaleFactor,Y=fe.internal.getFontSize(),ue=fe.getStringUnitWidth(ee)*Y/fe.internal.scaleFactor;return new function(le){var ke=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ue*=Math.round(96*ne/72*1e4)/1e4})},h.prototype.scale=function(ee,fe){if(isNaN(ee)||isNaN(fe))throw os.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new c(ee,0,0,fe,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},h.prototype.rotate=function(ee){if(isNaN(ee))throw os.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var fe=new c(Math.cos(ee),Math.sin(ee),-Math.sin(ee),Math.cos(ee),0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},h.prototype.translate=function(ee,fe){if(isNaN(ee)||isNaN(fe))throw os.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new c(1,0,0,1,ee,fe);this.ctx.transform=this.ctx.transform.multiply(ne)},h.prototype.transform=function(ee,fe,ne,Y,ue,le){if(isNaN(ee)||isNaN(fe)||isNaN(ne)||isNaN(Y)||isNaN(ue)||isNaN(le))throw os.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(ee,fe,ne,Y,ue,le);this.ctx.transform=this.ctx.transform.multiply(ke)},h.prototype.setTransform=function(ee,fe,ne,Y,ue,le){ee=isNaN(ee)?1:ee,fe=isNaN(fe)?0:fe,ne=isNaN(ne)?0:ne,Y=isNaN(Y)?1:Y,ue=isNaN(ue)?0:ue,le=isNaN(le)?0:le,this.ctx.transform=new c(ee,fe,ne,Y,ue,le)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(ee,fe,ne,Y,ue,le,ke,_e,Fe){var Be=this.pdf.getImageProperties(ee),Re=1,Te=1,$e=1,pe=1;Y!==void 0&&_e!==void 0&&($e=_e/Y,pe=Fe/ue,Re=Be.width/Y*_e/Y,Te=Be.height/ue*Fe/ue),le===void 0&&(le=fe,ke=ne,fe=0,ne=0),Y!==void 0&&_e===void 0&&(_e=Y,Fe=ue),Y===void 0&&_e===void 0&&(_e=Be.width,Fe=Be.height);var Ge=this.ctx.transform.decompose(),pt=te(Ge.rotate.shx),Pt=new c,nt=(Pt=(Pt=(Pt=Pt.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new l(le-fe*$e,ke-ne*pe,Y*Re,ue*Te));if(this.autoPaging){for(var Ye,Ue=j.call(this,nt),gt=[],Ot=0;Ot<Ue.length;Ot+=1)gt.indexOf(Ue[Ot])===-1&&gt.push(Ue[Ot]);k(gt);for(var br=gt[0],Yr=gt[gt.length-1],yt=br;yt<Yr+1;yt++){this.pdf.setPage(yt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cr=yt===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dr=yt===1?0:Bt+(yt-2)*Mr;if(this.ctx.clip_path.length!==0){var Kn=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ye,this.posX+this.margin[3],-dr+cr+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Kn}var Qn=JSON.parse(JSON.stringify(nt));Qn=C([Qn],this.posX+this.margin[3],-dr+cr+this.ctx.prevPageLastElemOffset)[0];var Rn=(yt>br||yt<Yr)&&y.call(this);Rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Mr,null).clip().discardPath()),this.pdf.addImage(ee,"JPEG",Qn.x,Qn.y,Qn.w,Qn.h,null,null,pt),Rn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ee,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,pt)};var j=function(ee,fe,ne){var Y=[];fe=fe||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(ee.type){default:case"mt":case"lt":Y.push(Math.floor((ee.y+ue)/ne)+1);break;case"arc":Y.push(Math.floor((ee.y+ue-ee.radius)/ne)+1),Y.push(Math.floor((ee.y+ue+ee.radius)/ne)+1);break;case"qct":var le=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ee.x1,ee.y1,ee.x,ee.y);Y.push(Math.floor((le.y+ue)/ne)+1),Y.push(Math.floor((le.y+le.h+ue)/ne)+1);break;case"bct":var ke=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y);Y.push(Math.floor((ke.y+ue)/ne)+1),Y.push(Math.floor((ke.y+ke.h+ue)/ne)+1);break;case"rect":Y.push(Math.floor((ee.y+ue)/ne)+1),Y.push(Math.floor((ee.y+ee.h+ue)/ne)+1)}for(var _e=0;_e<Y.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<Y[_e];)w.call(this);return Y},w=function(){var ee=this.fillStyle,fe=this.strokeStyle,ne=this.font,Y=this.lineCap,ue=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=ee,this.strokeStyle=fe,this.font=ne,this.lineCap=Y,this.lineWidth=ue,this.lineJoin=le},C=function(ee,fe,ne){for(var Y=0;Y<ee.length;Y++)switch(ee[Y].type){case"bct":ee[Y].x2+=fe,ee[Y].y2+=ne;case"qct":ee[Y].x1+=fe,ee[Y].y1+=ne;default:ee[Y].x+=fe,ee[Y].y+=ne}return ee},k=function(ee){return ee.sort(function(fe,ne){return fe-ne})},T=function(ee,fe){var ne=this.fillStyle,Y=this.strokeStyle,ue=this.lineCap,le=this.lineWidth,ke=Math.abs(le*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var Fe,Be,Re=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),$e=[],pe=0;pe<Te.length;pe++)if(Te[pe].x!==void 0)for(var Ge=j.call(this,Te[pe]),pt=0;pt<Ge.length;pt+=1)$e.indexOf(Ge[pt])===-1&&$e.push(Ge[pt]);for(var Pt=0;Pt<$e.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<$e[Pt];)w.call(this);k($e);for(var nt=$e[0],Ye=$e[$e.length-1],Ue=nt;Ue<Ye+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ne,this.strokeStyle=Y,this.lineCap=ue,this.lineWidth=ke,this.lineJoin=_e;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=Ue===1?this.posY+this.margin[0]:this.margin[0],br=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Ue===1?0:br+(Ue-2)*Yr;if(this.ctx.clip_path.length!==0){var $t=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Fe,this.posX+this.margin[3],-yt+Ot+this.ctx.prevPageLastElemOffset),P.call(this,ee,!0),this.path=$t}if(Be=JSON.parse(JSON.stringify(Re)),this.path=C(Be,this.posX+this.margin[3],-yt+Ot+this.ctx.prevPageLastElemOffset),fe===!1||Ue===0){var cr=(Ue>nt||Ue<Ye)&&y.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Yr,null).clip().discardPath()),P.call(this,ee,fe),cr&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=Re}else this.lineWidth=ke,P.call(this,ee,fe),this.lineWidth=le},P=function(ee,fe){if((ee!=="stroke"||fe||!_.call(this))&&(ee==="stroke"||fe||!g.call(this))){for(var ne,Y,ue=[],le=this.path,ke=0;ke<le.length;ke++){var _e=le[ke];switch(_e.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:_e,deltas:[],abs:[]});break;case"lt":var Fe=ue.length;if(le[ke-1]&&!isNaN(le[ke-1].x)&&(ne=[_e.x-le[ke-1].x,_e.y-le[ke-1].y],Fe>0)){for(;Fe>=0;Fe--)if(ue[Fe-1].close!==!0&&ue[Fe-1].begin!==!0){ue[Fe-1].deltas.push(ne),ue[Fe-1].abs.push(_e);break}}break;case"bct":ne=[_e.x1-le[ke-1].x,_e.y1-le[ke-1].y,_e.x2-le[ke-1].x,_e.y2-le[ke-1].y,_e.x-le[ke-1].x,_e.y-le[ke-1].y],ue[ue.length-1].deltas.push(ne);break;case"qct":var Be=le[ke-1].x+2/3*(_e.x1-le[ke-1].x),Re=le[ke-1].y+2/3*(_e.y1-le[ke-1].y),Te=_e.x+2/3*(_e.x1-_e.x),$e=_e.y+2/3*(_e.y1-_e.y),pe=_e.x,Ge=_e.y;ne=[Be-le[ke-1].x,Re-le[ke-1].y,Te-le[ke-1].x,$e-le[ke-1].y,pe-le[ke-1].x,Ge-le[ke-1].y],ue[ue.length-1].deltas.push(ne);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(_e)}}Y=fe?null:ee==="stroke"?"stroke":"fill";for(var pt=!1,Pt=0;Pt<ue.length;Pt++)if(ue[Pt].arc)for(var nt=ue[Pt].abs,Ye=0;Ye<nt.length;Ye++){var Ue=nt[Ye];Ue.type==="arc"?I.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,fe,!pt):re.call(this,Ue.x,Ue.y),pt=!0}else if(ue[Pt].close===!0)this.pdf.internal.out("h"),pt=!1;else if(ue[Pt].begin!==!0){var gt=ue[Pt].start.x,Ot=ue[Pt].start.y;H.call(this,ue[Pt].deltas,gt,Ot),pt=!0}Y&&B.call(this,Y),fe&&V.call(this)}},D=function(ee){var fe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=fe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ee-ne;case"top":return ee+fe-ne;case"hanging":return ee+fe-2*ne;case"middle":return ee+fe/2-ne;default:return ee}},M=function(ee){return ee+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var ee=function(){};return ee.colorStops=[],ee.addColorStop=function(fe,ne){this.colorStops.push([fe,ne])},ee.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ee.isCanvasGradient=!0,ee},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(ee,fe,ne,Y,ue,le,ke,_e,Fe){for(var Be=Q.call(this,ne,Y,ue,le),Re=0;Re<Be.length;Re++){var Te=Be[Re];Re===0&&(Fe?U.call(this,Te.x1+ee,Te.y1+fe):re.call(this,Te.x1+ee,Te.y1+fe)),X.call(this,ee,fe,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}_e?V.call(this):B.call(this,ke)},B=function(ee){switch(ee){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(ee,fe){this.pdf.internal.out(r(ee)+" "+n(fe)+" m")},q=function(ee){var fe;switch(ee.align){case"right":case"end":fe="right";break;case"center":fe="center";break;default:fe="left"}var ne,Y,ue,le=this.pdf.getTextDimensions(ee.text),ke=D.call(this,ee.y),_e=M.call(this,ke)-le.h,Fe=this.ctx.transform.applyToPoint(new o(ee.x,ke));if(this.autoPaging){var Be=this.ctx.transform.decompose(),Re=new c;Re=(Re=(Re=Re.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var Te=this.ctx.transform.applyToRectangle(new l(ee.x,ke,le.w,le.h)),$e=Re.applyToRectangle(new l(ee.x,_e,le.w,le.h)),pe=j.call(this,$e),Ge=[],pt=0;pt<pe.length;pt+=1)Ge.indexOf(pe[pt])===-1&&Ge.push(pe[pt]);k(Ge);for(var Pt=Ge[0],nt=Ge[Ge.length-1],Ye=Pt;Ye<nt+1;Ye++){this.pdf.setPage(Ye);var Ue=Ye===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[2],br=Ot-this.margin[0],Yr=this.pdf.internal.pageSize.width-this.margin[1],yt=Yr-this.margin[3],$t=Ye===1?0:gt+(Ye-2)*br;if(this.ctx.clip_path.length!==0){var cr=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ne,this.posX+this.margin[3],-1*$t+Ue),P.call(this,"fill",!0),this.path=cr}var Bt=C([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-$t+Ue+this.ctx.prevPageLastElemOffset)[0];ee.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*ee.scale),ue=this.lineWidth,this.lineWidth=ue*ee.scale);var Mr=this.autoPaging!=="text";if(Mr||Bt.y+Bt.h<=Ot){if(Mr||Bt.y>=Ue&&Bt.x<=Yr){var dr=Mr?ee.text:this.pdf.splitTextToSize(ee.text,ee.maxWidth||Yr-Bt.x)[0],Kn=C([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-$t+Ue+this.ctx.prevPageLastElemOffset)[0],Qn=Mr&&(Ye>Pt||Ye<nt)&&y.call(this);Qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,br,null).clip().discardPath()),this.pdf.text(dr,Kn.x,Kn.y,{angle:ee.angle,align:fe,renderingMode:ee.renderingMode}),Qn&&this.pdf.restoreGraphicsState()}}else Bt.y<Ot&&(this.ctx.prevPageLastElemOffset+=Ot-Bt.y);ee.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ue)}}else ee.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*ee.scale),ue=this.lineWidth,this.lineWidth=ue*ee.scale),this.pdf.text(ee.text,Fe.x+this.posX,Fe.y+this.posY,{angle:ee.angle,align:fe,renderingMode:ee.renderingMode,maxWidth:ee.maxWidth}),ee.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ue)},re=function(ee,fe,ne,Y){ne=ne||0,Y=Y||0,this.pdf.internal.out(r(ee+ne)+" "+n(fe+Y)+" l")},H=function(ee,fe,ne){return this.pdf.lines(ee,fe,ne,null,null)},X=function(ee,fe,ne,Y,ue,le,ke,_e){this.pdf.internal.out([t(s(ne+ee)),t(a(Y+fe)),t(s(ue+ee)),t(a(le+fe)),t(s(ke+ee)),t(a(_e+fe)),"c"].join(" "))},Q=function(ee,fe,ne,Y){for(var ue=2*Math.PI,le=Math.PI/2;fe>ne;)fe-=ue;var ke=Math.abs(ne-fe);ke<ue&&Y&&(ke=ue-ke);for(var _e=[],Fe=Y?-1:1,Be=fe;ke>1e-5;){var Re=Be+Fe*Math.min(ke,le);_e.push(se.call(this,ee,Be,Re)),ke-=Math.abs(Re-Be),Be=Re}return _e},se=function(ee,fe,ne){var Y=(ne-fe)/2,ue=ee*Math.cos(Y),le=ee*Math.sin(Y),ke=ue,_e=-le,Fe=ke*ke+_e*_e,Be=Fe+ke*ue+_e*le,Re=4/3*(Math.sqrt(2*Fe*Be)-Be)/(ke*le-_e*ue),Te=ke-Re*_e,$e=_e+Re*ke,pe=Te,Ge=-$e,pt=Y+fe,Pt=Math.cos(pt),nt=Math.sin(pt);return{x1:ee*Math.cos(fe),y1:ee*Math.sin(fe),x2:Te*Pt-$e*nt,y2:Te*nt+$e*Pt,x3:pe*Pt-Ge*nt,y3:pe*nt+Ge*Pt,x4:ee*Math.cos(ne),y4:ee*Math.sin(ne)}},te=function(ee){return 180*ee/Math.PI},ce=function(ee,fe,ne,Y,ue,le){var ke=ee+.5*(ne-ee),_e=fe+.5*(Y-fe),Fe=ue+.5*(ne-ue),Be=le+.5*(Y-le),Re=Math.min(ee,ue,ke,Fe),Te=Math.max(ee,ue,ke,Fe),$e=Math.min(fe,le,_e,Be),pe=Math.max(fe,le,_e,Be);return new l(Re,$e,Te-Re,pe-$e)},xe=function(ee,fe,ne,Y,ue,le,ke,_e){var Fe,Be,Re,Te,$e,pe,Ge,pt,Pt,nt,Ye,Ue,gt,Ot,br=ne-ee,Yr=Y-fe,yt=ue-ne,$t=le-Y,cr=ke-ue,Bt=_e-le;for(Be=0;Be<41;Be++)Pt=(Ge=(Re=ee+(Fe=Be/40)*br)+Fe*(($e=ne+Fe*yt)-Re))+Fe*($e+Fe*(ue+Fe*cr-$e)-Ge),nt=(pt=(Te=fe+Fe*Yr)+Fe*((pe=Y+Fe*$t)-Te))+Fe*(pe+Fe*(le+Fe*Bt-pe)-pt),Be==0?(Ye=Pt,Ue=nt,gt=Pt,Ot=nt):(Ye=Math.min(Ye,Pt),Ue=Math.min(Ue,nt),gt=Math.max(gt,Pt),Ot=Math.max(Ot,nt));return new l(Math.round(Ye),Math.round(Ue),Math.round(gt-Ye),Math.round(Ot-Ue))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ee,fe,ne=(ee=this.ctx.lineDash,fe=this.ctx.lineDashOffset,JSON.stringify({lineDash:ee,lineDashOffset:fe}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Zr.API),function(e){var t=function(o){var l,c,d,f,h,v,g,_,y,j;for(c=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(v=(h=((h=((h=((h=(h-(j=h%85))/85)-(y=h%85))/85)-(_=h%85))/85)-(g=h%85))/85)%85,c.push(v+33,g+33,_+33,y+33,j+33)):c.push(122);return function(w,C){for(var k=C;k>0;k--)w.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,f,h,v=String,g="length",_=255,y="charCodeAt",j="slice",w="replace";for(o[j](-2),o=o[j](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),d=[],f=0,h=(o+=l="uuuuu"[j](o[g]%5||5))[g];h>f;f+=5)c=52200625*(o[y](f)-33)+614125*(o[y](f+1)-33)+7225*(o[y](f+2)-33)+85*(o[y](f+3)-33)+(o[y](f+4)-33),d.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(C,k){for(var T=k;T>0;T--)C.pop()}(d,l[g]),v.fromCharCode.apply(v,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=gO(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(Zr.API),function(e){e.loadFile=function(t,r,n){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,f){var h=new XMLHttpRequest,v=0,g=function(_){var y=_.length,j=[],w=String.fromCharCode;for(v=0;v<y;v+=1)j.push(w(255&_.charCodeAt(v)));return j.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return g(h.responseText)}(s,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Zr.API),function(e){function t(){return(jn.html2canvas?Promise.resolve(jn.html2canvas):m2(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(jn.DOMPurify?Promise.resolve(jn.DOMPurify):m2(()=>import("./purify.es-96e69d58.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Ia(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var d=document.createElement(l);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},a=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var _=f[g],y=_.src.find(function(j){return j.format==="truetype"});y&&d.addFont(y.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,d.context2d.save(!0),c(this.prop.container,v)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||Zr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,f){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(f,h){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return d.updateProgress(null,f),v}).then(f,h).then(function(v){return d.updateProgress(1),v})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=d.call(h,l,c);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Zr.getPageSize=function(l,c,d){if(Ia(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,v=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var _,y=0,j=0;if(g.hasOwnProperty(v))y=g[v][1]/h,j=g[v][0]/h;else try{y=d[1],j=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",j>y&&(_=j,j=y,y=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>j&&(_=j,j=y,y=_)}return{width:j,height:y,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(T6):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Zr.API),Zr.API.addJS=function(e){return NH=e,this.internal.events.subscribe("postPutResources",function(){Xj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xj+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+NH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xj!==void 0&&jH!==void 0&&this.internal.out("/Names <</JavaScript "+Xj+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var h=r.internal.newObject();f.push(h);var v=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var o={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(Zr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,a,o,l){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var v,g=256*h.charCodeAt(4)+h.charCodeAt(5),_=h.length,y={width:0,height:0,numcomponents:1},j=4;j<_;j+=2){if(j+=g,t.indexOf(h.charCodeAt(j+1))!==-1){v=256*h.charCodeAt(j+5)+h.charCodeAt(j+6),y={width:256*h.charCodeAt(j+7)+h.charCodeAt(j+8),height:v,numcomponents:h.charCodeAt(j+9)};break}g=256*h.charCodeAt(j+2)+h.charCodeAt(j+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(Zr.API),Zr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,a=uot(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,d=a.palette,f=a.depth;s=d&&c===1?function(I){for(var B=I.width,V=I.height,U=I.data,q=I.palette,re=I.depth,H=!1,X=[],Q=[],se=void 0,te=!1,ce=0,xe=0;xe<q.length;xe++){var de=xW(q[xe],4),ee=de[0],fe=de[1],ne=de[2],Y=de[3];X.push(ee,fe,ne),Y!=null&&(Y===0?(ce++,Q.length<1&&Q.push(xe)):Y<255&&(te=!0))}if(te||ce>1){H=!0,Q=void 0;var ue=B*V;se=new Uint8Array(ue);for(var le=new DataView(U.buffer),ke=0;ke<ue;ke++){var _e=O6(le,ke,re),Fe=xW(q[_e],4)[3];se[ke]=Fe}}else ce===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:U,alphaBytes:se,needSMask:H,palette:X,mask:Q}}(a):c===2||c===4?function(I){for(var B=I.data,V=I.width,U=I.height,q=I.channels,re=I.depth,H=q===2?"DeviceGray":"DeviceRGB",X=q-1,Q=V*U,se=X,te=Q*se,ce=1*Q,xe=Math.ceil(te*re/8),de=Math.ceil(ce*re/8),ee=new Uint8Array(xe),fe=new Uint8Array(de),ne=new DataView(B.buffer),Y=new DataView(ee.buffer),ue=new DataView(fe.buffer),le=!1,ke=0;ke<Q;ke++){for(var _e=ke*q,Fe=0;Fe<se;Fe++)FH(Y,O6(ne,_e+Fe,re),ke*se+Fe,re);var Be=O6(ne,_e+se,re);Be<(1<<re)-1&&(le=!0),FH(ue,Be,1*ke,re)}return{colorSpace:H,colorsPerPixel:X,sMaskBitsPerComponent:le?re:void 0,colorBytes:ee,alphaBytes:fe,needSMask:le}}(a):function(I){var B=I.data,V=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(U){for(var q=U.length,re=new Uint8Array(2*q),H=new DataView(re.buffer,re.byteOffset,re.byteLength),X=0;X<q;X++)H.setUint16(2*X,U[X],!1);return re}(B):B,needSMask:!1}}(a);var h,v,g,_=s,y=_.colorSpace,j=_.colorsPerPixel,w=_.sMaskBitsPerComponent,C=_.colorBytes,k=_.alphaBytes,T=_.needSMask,P=_.palette,D=_.mask,M=null;return n!==Zr.API.image_compression.NONE&&typeof gO=="function"?(M=function(I){var B;switch(I){case Zr.API.image_compression.FAST:B=11;break;case Zr.API.image_compression.MEDIUM:B=13;break;case Zr.API.image_compression.SLOW:B=14;break;default:B=12}return B}(n),h=this.decode.FLATE_DECODE,v="/Predictor ".concat(M," /Colors ").concat(j," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=kH(C,Math.ceil(o*j*f/8),j,f,n),T&&(g=kH(k,Math.ceil(o*w/8),1,w,n))):(h=void 0,v=void 0,e=C,T&&(g=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:h,decodeParameters:v,transparency:D,palette:P,sMask:g,predictor:M,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,s){var a=new Pot(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},f=new F6(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)},e.processGIF87A=e.processGIF89A}(Zr.API),wd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){os.log("bit decode error:"+r)}},wd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},wd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},wd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},wd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,f=n*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},wd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,f=s*this.width*4+4*a;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},wd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},wd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},wd.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new wd(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new F6(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}}(Zr.API),RH.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new RH(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new F6(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}}(Zr.API),Zr.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,d=0;d<s;d+=4){var f=n[d],h=n[d+1],v=n[d+2],g=n[d+3];a[l++]=f,a[l++]=h,a[l++]=v,o[c++]=g}var _=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xv=Zr.API,Jj=Xv.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=t.doKerning!==!1,v=0,g=e.length,_=0,y=l[0]||c,j=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(v=h&&Ia(d[n])==="object"&&!isNaN(parseInt(d[n][_],10))?d[n][_]/f:0,j.push((l[n]||y)/c+v)),_=n;return j},SH=Xv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Xv.processArabic&&(e=Xv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Jj.apply(this,arguments).reduce(function(a,o){return a+o},0)},CH=function(e,t,r,n){for(var s=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;s.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(s.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&s.push(e.slice(c,a)),s},AH=function(e,t,r){r||(r={});var n,s,a,o,l,c,d,f=[],h=[f],v=r.textIndent||0,g=0,_=0,y=e.split(" "),j=Jj.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),C=[];y.map(function(T){(T=T.split(/\s*\n/)).length>1?C=C.concat(T.map(function(P,D){return(D&&P.length?`
`:"")+P})):C.push(T[0])}),y=C,c=SH.apply(this,[w,r])}for(a=0,o=y.length;a<o;a++){var k=0;if(n=y[a],c&&n[0]==`
`&&(n=n.substr(1),k=1),v+g+(_=(s=Jj.apply(this,[n,r])).reduce(function(T,P){return T+P},0))>t||k){if(_>t){for(l=CH.apply(this,[n,s,t-(v+g),t]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);_=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(T,P){return T+P},0)}else f=[n];h.push(f),v=_+c,g=j}else f.push(n),v+=g+_,g=j}return d=c?function(T,P){return(P?w:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(d)},Xv.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return h.metadata[v]?{widths:h.metadata[v].widths||{0:1},kerning:h.metadata[v].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(AH.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},a=0;a<16;a++)n[r[a]]=t[a],s[t[a]]=r[a];var o=function(v){return"0x"+parseInt(v,10).toString(16)},l=e.__fontmetrics__.compress=function(v){var g,_,y,j,w=["{"];for(var C in v){if(g=v[C],isNaN(parseInt(C,10))?_="'"+C+"'":(C=parseInt(C,10),_=(_=o(C).slice(2)).slice(0,-1)+s[_.slice(-1)]),typeof g=="number")g<0?(y=o(g).slice(3),j="-"):(y=o(g).slice(2),j=""),y=j+y.slice(0,-1)+s[y.slice(-1)];else{if(Ia(g)!=="object")throw new Error("Don't know what to do with value type "+Ia(g)+".");y=l(g)}w.push(_+y)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,_,y,j,w={},C=1,k=w,T=[],P="",D="",M=v.length-1,I=1;I<M;I+=1)(j=v[I])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(j):j=="{"?(T.push([k,y]),k={},y=void 0):j=="}"?((_=T.pop())[0][_[1]]=k,y=void 0,k=_[0]):j=="-"?C=-1:y===void 0?n.hasOwnProperty(j)?(P+=n[j],y=parseInt(P,16)*C,C=1,P=""):P+=j:n.hasOwnProperty(j)?(D+=n[j],k[y]=parseInt(D,16)*C,C=1,y=void 0,D=""):D+=j;return w},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var g=v.font,_=h.Unicode[g.postScriptName];_&&(g.metadata.Unicode={},g.metadata.Unicode.widths=_.widths,g.metadata.Unicode.kerning=_.kerning);var y=f.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])}(Zr.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(O4(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Zr),Zr.API.addSvgAsImage=function(e,t,r,n,s,a,o,l){if(isNaN(t)||isNaN(r))throw os.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw os.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(jn.canvg?Promise.resolve(jn.canvg):m2(()=>import("./index.es-3f05b885.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},Zr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Zr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,f=0,h=0;function v(_,y){var j,w=!1;for(j=0;j<_.length;j+=1)_[j]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(h=0;h<g;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Ia(e)==="object"){for(s in e)if(a=e[s],v(l,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&v(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,y=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?y.push("/"+_+" /"+r[_].value):y.push("/"+_+" "+r[_].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Zr.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,v=a.length;h<v;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(a){var o,l,c,d,f,h,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,v=(l=Object.keys(a).sort(function(g,_){return g-_})).length;h<v;h++)o=l[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",_=0;_<v.length;_++)g+=String.fromCharCode(v[_]);var y=d();f({data:g,addLength1:!0,objectId:y}),c("endobj");var j=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+e1(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+e1(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+e1(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,v="",g=0;g<h.length;g++)v+=String.fromCharCode(h[g]);var _=d();f({data:v,addLength1:!0,objectId:_}),c("endobj");var y=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var j=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+e1(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+e1(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",c=a.x,d=a.y,f=a.options||{},h=a.mutex||{},v=h.pdfEscape,g=h.activeFontKey,_=h.fonts,y=g,j="",w=0,C="",k=_[y].encoding;if(_[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:f,mutex:h};for(C=l,y=g,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)_[y].metadata.hasOwnProperty("cmap")&&(o=_[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),o||C[w].charCodeAt(0)<256&&_[y].metadata.hasOwnProperty("Unicode")?j+=C[w]:j+="";var T="";return parseInt(y.slice(1))<14||k==="WinAnsiEncoding"?T=v(j,y).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(T=r(j,_[y])),h.isHex=!0,{text:T,x:c,y:d,options:f,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=s(Object.assign({},c,{text:o})).text}])}(Zr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,a,o,l,c,d,f,h=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,k=0;this.__bidiEngine__={};var T=function(U){var q=U.charCodeAt(),re=q>>8,H=y[re];return H!==void 0?h[256*H+(255&q)]:re===252||re===253?"AL":w.test(re)?"L":re===8?"R":"N"},P=function(U){for(var q,re=0;re<U.length;re++){if((q=T(U.charAt(re)))==="L")return!1;if(q==="R")return!0}return!1},D=function(U,q,re,H){var X,Q,se,te,ce=q[H];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(ce="AN");break;case"AL":C=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":H<1||H+1>=q.length||(X=re[H-1])!=="EN"&&X!=="AN"||(Q=q[H+1])!=="EN"&&Q!=="AN"?ce="N":C&&(Q="AN"),ce=Q===X?Q:"N";break;case"ES":ce=(X=H>0?re[H-1]:"B")==="EN"&&H+1<q.length&&q[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&re[H-1]==="EN"){ce="EN";break}if(C){ce="N";break}for(se=H+1,te=q.length;se<te&&q[se]==="ET";)se++;ce=se<te&&q[se]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(te=q.length,se=H+1;se<te&&q[se]==="NSM";)se++;if(se<te){var xe=U[H],de=xe>=1425&&xe<=2303||xe===64286;if(X=q[se],de&&(X==="R"||X==="AL")){ce="R";break}}}ce=H<1||(X=q[H-1])==="B"?"N":re[H-1];break;case"B":C=!1,s=!0,ce=k;break;case"S":a=!0,ce="N"}return ce},M=function(U,q,re){var H=U.split("");return re&&I(H,re,{hiLevel:k}),H.reverse(),q&&q.reverse(),H.join("")},I=function(U,q,re){var H,X,Q,se,te,ce=-1,xe=U.length,de=0,ee=[],fe=k?g:v,ne=[];for(C=!1,s=!1,a=!1,X=0;X<xe;X++)ne[X]=T(U[X]);for(Q=0;Q<xe;Q++){if(te=de,ee[Q]=D(U,ne,ee,Q),H=240&(de=fe[te][_[ee[Q]]]),de&=15,q[Q]=se=fe[de][5],H>0)if(H===16){for(X=ce;X<Q;X++)q[X]=1;ce=-1}else ce=-1;if(fe[de][6])ce===-1&&(ce=Q);else if(ce>-1){for(X=ce;X<Q;X++)q[X]=se;ce=-1}ne[Q]==="B"&&(q[Q]=0),re.hiLevel|=se}a&&function(Y,ue,le){for(var ke=0;ke<le;ke++)if(Y[ke]==="S"){ue[ke]=k;for(var _e=ke-1;_e>=0&&Y[_e]==="WS";_e--)ue[_e]=k}}(ne,q,xe)},B=function(U,q,re,H,X){if(!(X.hiLevel<U)){if(U===1&&k===1&&!s)return q.reverse(),void(re&&re.reverse());for(var Q,se,te,ce,xe=q.length,de=0;de<xe;){if(H[de]>=U){for(te=de+1;te<xe&&H[te]>=U;)te++;for(ce=de,se=te-1;ce<se;ce++,se--)Q=q[ce],q[ce]=q[se],q[se]=Q,re&&(Q=re[ce],re[ce]=re[se],re[se]=Q);de=te}de++}}},V=function(U,q,re){var H=U.split(""),X={hiLevel:k};return re||(re=[]),I(H,re,X),function(Q,se,te){if(te.hiLevel!==0&&f)for(var ce,xe=0;xe<Q.length;xe++)se[xe]===1&&(ce=j.indexOf(Q[xe]))>=0&&(Q[xe]=j[ce+1])}(H,re,X),B(2,H,q,re,X),B(1,H,q,re,X),H.join("")};return this.__bidiEngine__.doBidiReorder=function(U,q,re){if(function(X,Q){if(Q)for(var se=0;se<X.length;se++)Q[se]=se;l===void 0&&(l=P(X)),d===void 0&&(d=P(X))}(U,q),o||!c||d)if(o&&c&&l^d)k=l?1:0,U=M(U,q,re);else if(!o&&c&&d)k=l?1:0,U=V(U,q,re),U=M(U,q);else if(!o||l||c||d){if(o&&!c&&l^d)U=M(U,q),l?(k=0,U=V(U,q,re)):(k=1,U=V(U,q,re),U=M(U,q));else if(o&&l&&!c&&d)k=1,U=V(U,q,re),U=M(U,q);else if(!o&&!c&&l^d){var H=f;l?(k=1,U=V(U,q,re),k=0,f=!1,U=V(U,q,re),f=H):(k=0,U=V(U,q,re),U=M(U,q),k=1,f=!1,U=V(U,q,re),f=H,U=M(U,q))}}else k=0,U=V(U,q,re);else k=l?1:0,U=V(U,q,re);return U},this.__bidiEngine__.setOptions=function(U){U&&(o=U.isInputVisual,c=U.isOutputVisual,l=U.isInputRtl,d=U.isOutputRtl,f=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Zr),Zr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Rp(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Hot(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Oot(this.contents),this.head=new Dot(this),this.name=new $ot(this),this.cmap=new oce(this),this.toUnicode={},this.hhea=new Rot(this),this.maxp=new Bot(this),this.hmtx=new zot(this),this.post=new Iot(this),this.os2=new Mot(this),this.loca=new Wot(this),this.glyf=new Uot(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Zd,Rp=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),Oot=function(){var e;function t(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,a,o,l,c,d,f,h,v,g,_,y;for(y in g=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),o=Math.floor(h/c),f=16*g-h,(s=new Rp).writeInt(this.scalarType),s.writeShort(g),s.writeShort(h),s.writeShort(o),s.writeShort(f),a=16*g,d=s.pos+a,l=null,_=[],r)for(v=r[y],s.writeString(y),s.writeInt(e(v)),s.writeInt(d),s.writeInt(v.length),_=_.concat(v),y==="head"&&(l=d),d+=v.length;d%4;)_.push(0),d++;return s.write(_),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,a,o;for(r=lce.call(r);r.length%4;)r.push(0);for(a=new Rp(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=a.readUInt32();return 4294967295&s},t}(),Fot={}.hasOwnProperty,eh=function(e,t){for(var r in t)Fot.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Zd=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Dot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Rp).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),MH=function(){function e(t,r){var n,s,a,o,l,c,d,f,h,v,g,_,y,j,w,C,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),v=g/2,t.pos+=6,a=function(){var T,P;for(P=[],c=T=0;0<=v?T<v:T>v;c=0<=v?++T:--T)P.push(t.readUInt16());return P}(),t.pos+=2,y=function(){var T,P;for(P=[],c=T=0;0<=v?T<v:T>v;c=0<=v?++T:--T)P.push(t.readUInt16());return P}(),d=function(){var T,P;for(P=[],c=T=0;0<=v?T<v:T>v;c=0<=v?++T:--T)P.push(t.readUInt16());return P}(),f=function(){var T,P;for(P=[],c=T=0;0<=v?T<v:T>v;c=0<=v?++T:--T)P.push(t.readUInt16());return P}(),s=(this.length-t.pos+this.offset)/2,l=function(){var T,P;for(P=[],c=T=0;0<=s?T<s:T>s;c=0<=s?++T:--T)P.push(t.readUInt16());return P}(),c=w=0,k=a.length;w<k;c=++w)for(j=a[c],n=C=_=y[c];_<=j?C<=j:C>=j;n=_<=j?++C:--C)f[c]===0?o=n+d[c]:(o=l[f[c]/2+(n-_)-(v-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,s,a,o,l,c,d,f,h,v,g,_,y,j,w,C,k,T,P,D,M,I,B,V,U,q,re,H,X,Q,se,te,ce,xe,de,ee,fe,ne,Y,ue,le,ke,_e,Fe,Be,Re;switch(H=new Rp,o=Object.keys(t).sort(function(Te,$e){return Te-$e}),r){case"macroman":for(y=0,j=function(){var Te=[];for(_=0;_<256;++_)Te.push(0);return Te}(),C={0:0},a={},X=0,ce=o.length;X<ce;X++)C[_e=t[s=o[X]]]==null&&(C[_e]=++y),a[s]={old:t[s],new:C[t[s]]},j[s]=C[t[s]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(j),{charMap:a,subtable:H.data,maxGlyphID:y+1};case"unicode":for(q=[],h=[],k=0,C={},n={},w=d=null,Q=0,xe=o.length;Q<xe;Q++)C[P=t[s=o[Q]]]==null&&(C[P]=++k),n[s]={old:P,new:C[P]},l=C[P]-s,w!=null&&l===d||(w&&h.push(w),q.push(s),d=l),w=s;for(w&&h.push(w),h.push(65535),q.push(65535),V=2*(B=q.length),I=2*Math.pow(Math.log(B)/Math.LN2,2),v=Math.log(I/2)/Math.LN2,M=2*B-I,c=[],D=[],g=[],_=se=0,de=q.length;se<de;_=++se){if(U=q[_],f=h[_],U===65535){c.push(0),D.push(0);break}if(U-(re=n[U].new)>=32768)for(c.push(0),D.push(2*(g.length+B-_)),s=te=U;U<=f?te<=f:te>=f;s=U<=f?++te:--te)g.push(n[s].new);else c.push(re-U),D.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*B+2*g.length),H.writeUInt16(0),H.writeUInt16(V),H.writeUInt16(I),H.writeUInt16(v),H.writeUInt16(M),le=0,ee=h.length;le<ee;le++)s=h[le],H.writeUInt16(s);for(H.writeUInt16(0),ke=0,fe=q.length;ke<fe;ke++)s=q[ke],H.writeUInt16(s);for(Fe=0,ne=c.length;Fe<ne;Fe++)l=c[Fe],H.writeUInt16(l);for(Be=0,Y=D.length;Be<Y;Be++)T=D[Be],H.writeUInt16(T);for(Re=0,ue=g.length;Re<ue;Re++)y=g[Re],H.writeUInt16(y);return{charMap:n,subtable:H.data,maxGlyphID:k+1}}},e}(),oce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new MH(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=MH.encode(t,r),(s=new Rp).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Rot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Mot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Iot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),Lot=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$ot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,a,o,l,c,d,f,h,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=f=0,h=n.length;f<h;a=++f)s=n[a],t.pos=s.offset,d=t.readString(s.length),o=new Lot(d,s),c[v=s.nameID]==null&&(c[v]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Bot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),zot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,a,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,h,v;for(v=[],d=0,f=(h=this.metrics).length;d<f;d++)a=h[d],v.push(a.advance);return v}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),lce=[].slice,Uot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,a,o,l,c,d,f,h;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Rp(r.read(s))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new qot(l,d,h,c,f):new Vot(l,o,d,h,c,f),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=t[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),Vot=function(){function e(t,r,n,s,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qot=function(){function e(t,r,n,s,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Rp(lce.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Wot=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return eh(e,Zd),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<n.length;++o)if(n[o]=s,a<r.length&&r[a]==o){++a,n[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},e}(),Hot=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,a,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],s[a]=n;return s},e.prototype.encode=function(t,r){var n,s,a,o,l,c,d,f,h,v,g,_,y,j,w;for(s in n=oce.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},w=n.charMap)g[(c=w[s]).old]=c.new;for(_ in v=n.maxGlyphID,o)_ in g||(g[_]=v++);return f=function(C){var k,T;for(k in T={},C)T[C[k]]=k;return T}(g),h=Object.keys(f).sort(function(C,k){return C-k}),y=function(){var C,k,T;for(T=[],C=0,k=h.length;C<k;C++)l=h[C],T.push(f[l]);return T}(),a=this.font.glyf.encode(o,y,g),d=this.font.loca.encode(a.offsets,y),j={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();Zr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,a,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)o=r[s],a.push("/"+s+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();const Got=({open:e,onOpenChange:t,availableAmount:r,validatedAmount:n=0,estimatedAmount:s=0,onSuccess:a,adminId:o,config:l})=>{const{toast:c}=Ti(),[d,f]=b.useState(!1),[h,v]=b.useState(""),[g,_]=b.useState(""),[y,j]=b.useState({phone:"",bank_account:"",bank_name:""}),w=(l==null?void 0:l.min_withdrawal_amount)||1e3,C=(l==null?void 0:l.max_withdrawal_amount)||5e5,k=(l==null?void 0:l.withdrawal_methods)||["Orange Money","Bank Transfer"],T=Array.isArray(k)?k.map(M=>({value:M.toLowerCase().replace(/ /g,"_"),label:M})):[],P=async()=>{const M=Number(h);if(!h||M<=0){c({title:"Erreur",description:"Montant invalide",variant:"destructive"});return}if(M<w){c({title:"Erreur",description:`Le retrait minimum est de ${w.toLocaleString()} FCFA`,variant:"destructive"});return}if(M>C){c({title:"Erreur",description:`Le retrait maximum est de ${C.toLocaleString()} FCFA`,variant:"destructive"});return}if(M>r){c({title:"Erreur",description:"Fonds insuffisants (Solde total dpass)",variant:"destructive"});return}if(!g){c({title:"Erreur",description:"Veuillez choisir une mthode de paiement",variant:"destructive"});return}f(!0);try{const I=g.includes("bank")||g.includes("virement"),B=g.includes("orange")||g.includes("moov")||g.includes("mtn")||g.includes("money");if(I&&(!y.bank_name||!y.bank_account))throw new Error("Veuillez remplir les dtails bancaires");if(B&&!y.phone)throw new Error("Veuillez entrer le numro de tlphone");const{error:V}=await Oe.from("admin_withdrawal_requests").insert({admin_id:o,amount_fcfa:M,amount_pi:Math.ceil(M/10),status:"pending",method:g,mobile_money_number:B?y.phone:null,bank_name:I?y.bank_name:null,account_number:I?y.bank_account:null,requested_at:new Date().toISOString(),notes:`Retrait avec estimation incluse. Est: ${s} FCFA, Val: ${n} FCFA`});if(V)throw V;console.log("Estimation included in withdrawal"),c({title:"Demande envoye",description:"Votre demande de retrait a t enregistre avec succs.",variant:"success"}),a&&a(),t(!1),v(""),j({phone:"",bank_account:"",bank_name:""})}catch(I){console.error("Withdrawal error:",I),c({title:"Erreur",description:I.message||"Impossible de traiter la demande.",variant:"destructive"})}finally{f(!1)}},D=g.includes("bank")||g.includes("virement");return i.jsx(Ao,{open:e,onOpenChange:t,children:i.jsxs(to,{className:"sm:max-w-[425px]",children:[i.jsxs(ko,{children:[i.jsxs(Eo,{className:"flex items-center gap-2",children:[i.jsx(Us,{className:"h-5 w-5 text-primary"}),"Demander un retrait"]}),i.jsxs(Ol,{children:["Montant total disponible : ",i.jsxs("span",{className:"font-bold text-primary",children:[r.toLocaleString()," FCFA"]})]})]}),i.jsxs("div",{className:"grid gap-4 py-2",children:[i.jsxs(oy,{className:"bg-blue-50 border-blue-200 text-blue-800",children:[i.jsx(cu,{className:"h-4 w-4 text-blue-600"}),i.jsx(ly,{className:"text-sm font-semibold ml-2",children:"Dtail du solde"}),i.jsxs(cy,{className:"text-xs ml-2 mt-1",children:[i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["Solde valid : ",i.jsxs("strong",{children:[n.toLocaleString()," FCFA"]})]}),i.jsxs("li",{children:["Estimation du mois : ",i.jsxs("strong",{children:[s.toLocaleString()," FCFA"]})]})]}),i.jsx("p",{className:"mt-2 italic opacity-80",children:"L'estimation du mois en cours est incluse et disponible pour retrait."})]})]}),i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsx(Qe,{htmlFor:"amount",children:"Montant  retirer (FCFA)"}),i.jsx(vt,{id:"amount",type:"number",value:h,onChange:M=>v(M.target.value),placeholder:`Min: ${w}`,min:w,max:r}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Min: ",w.toLocaleString()]}),i.jsxs("span",{children:["Max: ",Math.min(C,r).toLocaleString()]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Mthode de paiement"}),i.jsxs(aa,{value:g,onValueChange:_,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir une mthode"})}),i.jsx(Zn,{children:T.length>0?T.map(M=>i.jsx(ur,{value:M.value,children:M.label},M.value)):i.jsx(ur,{value:"orange_money",children:"Orange Money"})})]})]}),g&&(D?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Nom de la banque"}),i.jsx(vt,{value:y.bank_name,onChange:M=>j({...y,bank_name:M.target.value}),placeholder:"Ex: Ecobank"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Numro de compte / RIB"}),i.jsx(vt,{value:y.bank_account,onChange:M=>j({...y,bank_account:M.target.value}),placeholder:"TR34..."})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Numro de tlphone"}),i.jsx(vt,{value:y.phone,onChange:M=>j({...y,phone:M.target.value}),placeholder:"+225..."})]}))]}),i.jsxs(Tc,{children:[i.jsx(Ee,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),i.jsxs(Ee,{onClick:P,disabled:d||!h||!g,children:[d&&i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmer"]})]})]})})},Kot=()=>{const{user:e}=Pr(),{userProfile:t}=Un(),[r,n]=b.useState(!0),[s,a]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(null),[f,h]=b.useState(0),[v,g]=b.useState(0),[_,y]=b.useState(0),[j,w]=b.useState(0),[C,k]=b.useState(0),[T,P]=b.useState({withdrawal_available_date:5}),[D,M]=b.useState(!1),[I,B]=b.useState(!1),[V,U]=b.useState(null),[q,re]=b.useState(null),H=b.useCallback(async()=>{if(e){console.log("Refreshing balance..."),n(!0);try{const{data:te}=await Oe.from("admin_withdrawal_config").select("*").limit(1).maybeSingle(),ce=te||{withdrawal_available_date:5};P(ce);const xe=new Date,de=xe.getDate(),ee=ce.withdrawal_available_date;let fe;de>=ee?fe=xe:fe=UAe(xe,ee),U(fe);const{data:ne}=await Oe.from("admin_balances").select("available_balance").eq("admin_id",e.id).maybeSingle(),Y=(ne==null?void 0:ne.available_balance)||0;h(Y);const{data:ue,error:le}=await Oe.rpc("get_admin_salary_stats",{p_admin_id:e.id,p_month:new Date().toISOString()});let ke=0;!le&&ue&&(ke=ue.total_salary_fcfa||0,g(ke),k(ue.personal_score||0));const{data:_e}=await Oe.from("admin_payment_info").select("*").eq("admin_id",e.id).maybeSingle();re(_e);const{data:Fe,error:Be}=await Oe.from("admin_withdrawal_requests").select("*").eq("admin_id",e.id).order("requested_at",{ascending:!1});if(Be)throw Be;const Re=Fe||[];l(Re),a(Re.filter(Pt=>Pt.status==="approved"));const Te=Re.filter(Pt=>Pt.status==="pending").reduce((Pt,nt)=>Pt+(nt.amount_fcfa||0),0);w(Te);const $e=Math.max(0,Y+ke-Te);y($e);const pe=de>=ee,Ge=$e>0,pt=Re.some(Pt=>Pt.status==="pending");B(pe&&Ge&&!pt)}catch(te){console.error("Error fetching salary data:",te),ze({title:"Erreur",description:"Impossible de charger les donnes financires.",variant:"destructive"})}finally{n(!1)}}},[e]);b.useEffect(()=>{if(!e)return;const te=Oe.channel("admin-salary-updates").on("postgres_changes",{event:"*",schema:"public",table:"admin_withdrawal_requests",filter:`admin_id=eq.${e.id}`},ce=>{console.log("Real-time: Withdrawal request update detected",ce),H()}).on("postgres_changes",{event:"*",schema:"public",table:"admin_balances",filter:`admin_id=eq.${e.id}`},ce=>{console.log("Real-time: Balance update detected",ce),H()}).subscribe();return()=>{Oe.removeChannel(te)}},[e,H]),b.useEffect(()=>{H()},[H]);const X=te=>{if(!te||!q)return null;const ce=te.toLowerCase();return ce.includes("orange")?q.orange_money:ce.includes("mtn")?q.mtn_money:ce.includes("moov")?q.moov_money:ce.includes("wave")?q.wave_number:ce.includes("bank")&&q.bank_iban?q.bank_iban:null},Q=te=>te?`+237 ${te.substring(0,2)} ${te.substring(2,4)} ${te.substring(4,6)} ${te.substring(6,8)}`:"",se=async te=>{var ce,xe,de,ee,fe,ne;if(!(!te||!t)){d(te.id);try{const Y=new Zr,ue=Y.internal.pageSize.getWidth(),le=20;Y.setFillColor(30,41,59),Y.rect(0,0,ue,50,"F"),Y.setTextColor(255,255,255),Y.setFontSize(22),Y.setFont("helvetica","bold"),Y.text("BONPLANINFOS",le,30),Y.setFontSize(14),Y.setFont("helvetica","normal"),Y.text("REU DE PAIEMENT CERTIFI",ue-le,30,{align:"right"}),Y.setFontSize(10),Y.text("Document officiel de transaction",ue-le,37,{align:"right"}),Y.setDrawColor(79,70,229),Y.setLineWidth(1),Y.line(le,55,ue-le,55),Y.setTextColor(0,0,0),Y.setFontSize(10),Y.text(`Date d'mission: ${Gn(new Date,"dd/MM/yyyy HH:mm")}`,le,65),Y.text(`N de rfrence: ${te.id.substring(0,8).toUpperCase()}`,le,72),Y.text("Type de transaction: Retrait Salaire Administrateur",ue-le,65,{align:"right"}),Y.text("Statut: PAY",ue-le,72,{align:"right"}),Y.setFontSize(14),Y.setFont("helvetica","bold"),Y.setTextColor(30,41,59),Y.text("INFORMATIONS DU BNFICIAIRE",ue/2,90,{align:"center"}),Y.setDrawColor(200,200,200),Y.setLineWidth(.5),Y.rect(le,95,ue-2*le,70),Y.setFontSize(10),Y.setFont("helvetica","bold"),Y.text("Nom complet:",le+5,108),Y.setFont("helvetica","normal"),Y.text((t==null?void 0:t.full_name)||(e==null?void 0:e.email)||"Non spcifi",le+40,108),Y.setFont("helvetica","bold"),Y.text("Email:",le+5,116),Y.setFont("helvetica","normal"),Y.text((t==null?void 0:t.email)||"Non spcifi",le+40,116),Y.setFont("helvetica","bold"),Y.text("Tlphone:",le+5,124),Y.setFont("helvetica","normal"),Y.text(Q(t==null?void 0:t.phone)||(t==null?void 0:t.phone)||"Non spcifi",le+40,124),Y.setFont("helvetica","bold"),Y.text("Ville:",le+5,132),Y.setFont("helvetica","normal"),Y.text((t==null?void 0:t.city)||"Non spcifie",le+40,132),Y.setFont("helvetica","bold"),Y.text("Pays:",le+5,140),Y.setFont("helvetica","normal"),Y.text((t==null?void 0:t.country)||"Non spcifi",le+40,140),Y.setFont("helvetica","bold"),Y.text("Type de licence:",ue/2,108),Y.setFont("helvetica","normal"),Y.text((t==null?void 0:t.license_type)||"Administrateur",ue/2+45,108),Y.setFont("helvetica","bold"),Y.text("N de licence:",ue/2,116),Y.setFont("helvetica","normal"),Y.text((t==null?void 0:t.license_number)||"N/A",ue/2+45,116),Y.setFont("helvetica","bold"),Y.text("IBAN:",ue/2,124),Y.setFont("helvetica","normal"),Y.text((q==null?void 0:q.bank_iban)||"Non spcifi",ue/2+45,124),Y.setFont("helvetica","bold"),Y.text("Mthode retrait:",ue/2,132),Y.setFont("helvetica","normal"),Y.text(te.method||"Non spcifie",ue/2+45,132),Y.setFont("helvetica","bold"),Y.text("ID Admin:",ue/2,140),Y.setFont("helvetica","normal"),Y.text(((ce=e==null?void 0:e.id)==null?void 0:ce.substring(0,8))||"N/A",ue/2+45,140),Y.setFontSize(16),Y.setFont("helvetica","bold"),Y.setTextColor(79,70,229),Y.text("DTAILS DU PAIEMENT",ue/2,165,{align:"center"}),Y.setFillColor(34,197,94),Y.rect(le,170,ue-2*le,40,"F"),Y.setTextColor(255,255,255),Y.setFontSize(18),Y.setFont("helvetica","bold"),Y.text("MONTANT VERS",ue/2,185,{align:"center"});const ke=((xe=te.amount_fcfa)==null?void 0:xe.toString().replace(/\//g,".").replace(/\s/g,"."))||((de=te.amount_fcfa)==null?void 0:de.toString());Y.setTextColor(255,255,255),Y.setFontSize(28),Y.setFont("helvetica","bold"),Y.text(`${ke} FCFA`,ue/2,205,{align:"center"}),Y.setTextColor(0,0,0),Y.setFontSize(10),Y.setFont("helvetica","normal");const _e=220;Y.text("Dtails transactionnels:",le,_e);const Fe=X(te.method),Be=[["Date de demande",Gn(new Date(te.requested_at),"dd/MM/yyyy HH:mm")],["Date de traitement",te.processed_at?Gn(new Date(te.processed_at),"dd/MM/yyyy HH:mm"):Gn(new Date,"dd/MM/yyyy HH:mm")],["Rfrence interne",`BPI-${te.id.substring(0,6).toUpperCase()}`]];Fe&&Be.push(["N compte/portefeuille",Fe]),Be.forEach(([Te,$e],pe)=>{const Ge=_e+10+pe*8;Y.setFont("helvetica","bold"),Y.text(`${Te}:`,le,Ge),Y.setFont("helvetica","normal"),Y.text($e,le+70,Ge)}),((ee=te.method)!=null&&ee.toLowerCase().includes("mobile")||(fe=te.method)!=null&&fe.toLowerCase().includes("money"))&&(Y.setFillColor(255,251,235),Y.rect(le,265,ue-2*le,25,"F"),Y.setDrawColor(252,211,77),Y.setLineWidth(.5),Y.rect(le,265,ue-2*le,25),Y.setTextColor(194,65,12),Y.setFontSize(8),Y.setFont("helvetica","bold"),Y.text(" POUR TRANSFERT MOBILE MONEY",le+5,275),Y.setFont("helvetica","normal"),Y.setTextColor(0,0,0),Y.text(`Envoyez le paiement au: ${Q(Fe)||Fe||(t==null?void 0:t.phone)||""}`,le+5,282)),Y.setFillColor(30,41,59),Y.rect(0,300,ue,40,"F"),Y.setTextColor(255,255,255),Y.setFontSize(8),Y.setFont("helvetica","normal"),Y.text("BonPlanInfos - Plateforme d'information et de services",ue/2,315,{align:"center"}),Y.text("Email: support@bonplaninfos.com | Tlphone: +237 6XX XX XX XX",ue/2,322,{align:"center"}),Y.text(" 2024 BonPlanInfos. Tous droits rservs. Ce document fait foi de paiement.",ue/2,329,{align:"center"}),Y.setTextColor(240,240,240,20),Y.setFontSize(60),Y.setFont("helvetica","bold"),Y.text("PAY",ue/2,200,{align:"center",angle:45});const Re=`recu_paiement_${((ne=t==null?void 0:t.full_name)==null?void 0:ne.replace(/\s+/g,"_"))||"admin"}_${te.amount_fcfa}_${Gn(new Date(te.requested_at),"yyyyMMdd")}.pdf`;Y.save(Re),ze({title:"Reu gnr avec succs",description:"Votre reu de paiement a t tlcharg.",variant:"default"})}catch(Y){console.error("Erreur gnration PDF:",Y),ze({title:"Erreur",description:"Impossible de gnrer le PDF.",variant:"destructive"})}finally{d(null)}}};return r&&!_?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[I&&i.jsxs("div",{className:"bg-green-100 border border-green-200 text-green-800 px-6 py-4 rounded-lg flex items-center justify-between shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-green-200 p-2 rounded-full",children:i.jsx(Us,{className:"w-5 h-5 text-green-700"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold",children:"Salaire disponible pour retrait !"}),i.jsx("p",{className:"text-sm",children:"Vous pouvez retirer votre solde valid ainsi que votre estimation du mois courant."})]})]}),i.jsx(Ee,{onClick:()=>M(!0),className:"bg-green-600 hover:bg-green-700 text-white border-none shadow-md",children:"Retirer maintenant"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(at,{className:"md:col-span-1 shadow-lg border-primary/10 bg-gradient-to-br from-white to-indigo-50/30 dark:from-gray-900 dark:to-gray-800/50",children:[i.jsx(Et,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Tt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Solde Total Disponible"}),i.jsx(art,{children:i.jsxs(srt,{children:[i.jsx(irt,{children:i.jsx(cu,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx(Uoe,{children:i.jsx("p",{children:"Calcul: (Valid + Estimation) - Demandes en attente"})})]})})]})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-3xl font-bold text-primary mb-1",children:[_.toLocaleString()," ",i.jsx("span",{className:"text-lg text-muted-foreground",children:"FCFA"})]}),i.jsxs("div",{className:"mt-3 mb-4 bg-white/50 dark:bg-black/20 p-2 rounded border border-indigo-100 dark:border-indigo-900 text-xs space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Solde valid:"}),i.jsxs("span",{className:"font-semibold",children:[f.toLocaleString()," FCFA"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Estimation en cours:"}),i.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",v.toLocaleString()," FCFA"]})]}),j>0&&i.jsxs("div",{className:"flex justify-between text-amber-600",children:[i.jsx("span",{children:"En attente:"}),i.jsxs("span",{className:"font-semibold",children:["-",j.toLocaleString()," FCFA"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[i.jsx(nr,{variant:I?"success":"secondary",className:"rounded-full px-2",children:I?"Retrait ouvert":j>0?"Retrait en cours":"En attente"}),!I&&!j&&i.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-1",children:[i.jsx(Wh,{className:"w-3 h-3"})," Dispo le ",T.withdrawal_available_date," du mois"]})]}),i.jsx(Ee,{className:"w-full",onClick:()=>M(!0),disabled:!I,children:I?"Demander un retrait":j>0?"Traitement en cours...":`Disponible le ${T.withdrawal_available_date}`})]})]}),i.jsxs(at,{className:"md:col-span-1 shadow-md",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Performance (Mois en cours)"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-200 mb-1",children:[v.toLocaleString()," ",i.jsx("span",{className:"text-lg text-muted-foreground",children:"FCFA"})]}),i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Score Personnel"}),i.jsx("span",{className:"font-bold text-indigo-600",children:C.toFixed(2)})]}),i.jsx(ll,{value:C*100,className:"h-2"}),i.jsx("p",{className:"text-xs text-muted-foreground italic",children:"* Votre performance actuelle est incluse dans le solde disponible pour retrait."})]})]})]}),i.jsxs(at,{className:"md:col-span-1 shadow-md bg-slate-50 dark:bg-slate-900/50",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Prochaine Date"})}),i.jsxs(st,{className:"flex flex-col justify-center h-[140px]",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[i.jsx(Sge,{className:"w-10 h-10 text-indigo-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold",children:V?Gn(V,"dd MMMM yyyy",{locale:Wo}):"---"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ouverture des retraits"})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-2 bg-white dark:bg-slate-800 p-2 rounded border",children:i.jsxs("p",{className:"flex items-start gap-2",children:[i.jsx(Ql,{className:"w-3 h-3 mt-0.5 text-amber-500"}),"Les demandes sont traites sous 48h ouvres aprs soumission."]})})]})]})]}),i.jsxs(at,{className:"shadow-lg",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Iu,{className:"w-5 h-5"})," Historique des Retraits"]}),i.jsx(nn,{children:"Consultez l'tat de vos demandes et tlchargez vos reus."})]}),i.jsx(st,{children:o.length>0?i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Date demande"}),i.jsx(Hr,{children:"Montant"}),i.jsx(Hr,{children:"Mthode"}),i.jsx(Hr,{children:"Statut"}),i.jsx(Hr,{className:"text-right",children:"Reu"})]})}),i.jsx(Vd,{children:o.map(te=>i.jsxs(Ja,{children:[i.jsx(Ar,{className:"font-medium",children:Gn(new Date(te.requested_at),"dd/MM/yyyy HH:mm")}),i.jsxs(Ar,{className:"font-bold text-indigo-600",children:[te.amount_fcfa.toLocaleString()," FCFA"]}),i.jsx(Ar,{children:i.jsx("span",{className:"capitalize",children:te.method||te.withdrawal_method||"---"})}),i.jsx(Ar,{children:i.jsx(nr,{variant:te.status==="approved"||te.status==="paid"?"success":te.status==="rejected"?"destructive":"secondary",children:te.status==="approved"?"Valid":te.status==="paid"?"Pay":te.status==="rejected"?"Rejet":"En attente"})}),i.jsx(Ar,{className:"text-right",children:(te.status==="approved"||te.status==="paid")&&i.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>se(te),disabled:c===te.id,children:c===te.id?i.jsx(Dt,{className:"h-4 w-4 animate-spin"}):i.jsx(ey,{className:"h-4 w-4 text-gray-500"})})})]},te.id))})]}):i.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/10 rounded-lg border border-dashed border-muted-foreground/20",children:[i.jsx(Go,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),i.jsx("p",{children:"Aucun historique de retrait pour le moment."})]})})]}),i.jsx(Got,{open:D,onOpenChange:M,availableAmount:_,validatedAmount:f,estimatedAmount:v,adminId:e==null?void 0:e.id,config:T,onSuccess:()=>{H(),console.log("Withdrawal request created successfully")}})]})},Yot=()=>{const[e,t]=b.useState("requests");return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Retraits Salaires"}),i.jsx("p",{className:"text-muted-foreground",children:"Grez les demandes de retrait des administrateurs et la configuration."})]})}),i.jsxs(tm,{value:e,onValueChange:t,children:[i.jsxs(Xf,{children:[i.jsx($r,{value:"requests",children:"Demandes en cours"}),i.jsx($r,{value:"history",children:"Historique"}),i.jsx($r,{value:"salaries",children:"Salaires Admins"}),i.jsx($r,{value:"config",children:"Configuration"})]}),i.jsx(zr,{value:"requests",className:"space-y-4",children:i.jsx(IH,{status:"pending"})}),i.jsx(zr,{value:"history",className:"space-y-4",children:i.jsx(IH,{status:"history"})}),i.jsx(zr,{value:"salaries",className:"space-y-4",children:i.jsx(Xot,{})}),i.jsx(zr,{value:"config",className:"space-y-4",children:i.jsx(Jot,{})})]})]})},IH=({status:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(null),[l,c]=b.useState(!1),[d,f]=b.useState({}),h=async()=>{s(!0);try{let w=Oe.from("admin_withdrawal_requests").select("*, admin:admin_id(full_name, email, phone)").order("requested_at",{ascending:!1});e==="pending"?w=w.eq("status","pending"):w=w.neq("status","pending");const{data:C,error:k}=await w;if(k)console.error("Erreur chargement demandes:",k),ze({title:"Erreur chargement",description:k.message,variant:"destructive"});else if(r(C||[]),C&&C.length>0){const T=[...new Set(C.map(I=>I.admin_id))];let P={};const{data:D,error:M}=await Oe.from("admin_payment_info").select("*").in("admin_id",T);if(!M&&D&&D.forEach(I=>{P[I.admin_id]=I}),Object.keys(P).length===0){const{data:I,error:B}=await Oe.from("profiles").select("id, phone").in("id",T);!B&&I&&I.forEach(V=>{V.phone&&(P[V.id]={orange_money:V.phone,mtn_money:V.phone,moov_money:V.phone,phone:V.phone})})}f(P),console.log("Payment infos loaded:",P)}}catch(w){console.error("Erreur gnrale:",w),ze({title:"Erreur",description:"Une erreur est survenue lors du chargement",variant:"destructive"})}finally{s(!1)}};b.useEffect(()=>{h()},[e]);const v=w=>{!w||w==="Non spcifi"||(navigator.clipboard.writeText(w),ze({title:"Copi !",description:"L'information a t copie dans le presse-papier"}))},g=async(w,C,k,T)=>{try{let P=!1;if(C==="approved")try{const{data:M,error:I}=await Oe.from("admin_balances").select("available_balance, total_withdrawn").eq("admin_id",k).single();if(I&&I.code!=="PGRST116")throw I;let B=0,V=0;if(M&&(B=M.available_balance||0,V=M.total_withdrawn||0),B<T)throw new Error(`Solde insuffisant. Disponible: ${B} FCFA, Demande: ${T} FCFA`);const U=B-T,q=V+T;if(M){const{error:H}=await Oe.from("admin_balances").update({available_balance:U,total_withdrawn:q,updated_at:new Date().toISOString()}).eq("admin_id",k);if(H)throw H}else{const{error:H}=await Oe.from("admin_balances").insert({admin_id:k,available_balance:U,total_commissions:0,total_withdrawn:q,updated_at:new Date().toISOString()});if(H)throw H}const{error:re}=await Oe.from("admin_balance_transactions").insert({admin_id:k,amount:-T,balance_before:B,balance_after:U,transaction_type:"withdrawal",description:`Dduction pour retrait de salaire de ${T} FCFA`,created_at:new Date().toISOString()});if(re)throw re;P=!0}catch(M){throw console.error("Erreur dduction solde:",M),M}const{error:D}=await Oe.from("admin_withdrawal_requests").update({status:C,processed_at:new Date().toISOString(),balance_deducted:P}).eq("id",w);if(D)throw D;ze({title:"Succs",description:C==="approved"?`Demande approuve et ${T.toLocaleString()} FCFA dduit du solde admin.`:"Demande rejete."}),h()}catch(P){console.error("Erreur lors du traitement:",P),ze({title:"Erreur",description:P.message||"Une erreur est survenue lors du traitement",variant:"destructive"})}},_=w=>{o(w),c(!0)},y=()=>{var D,M,I,B,V,U;if(!a)return null;const w=d[a.admin_id]||{},C=((D=a.method)==null?void 0:D.toLowerCase())||"",k=((M=a.admin)==null?void 0:M.phone)||"",P=(()=>{var q,re;return C.includes("orange")?{type:"Mobile Money",number:w.orange_money||k||"Non spcifi",provider:"Orange Money"}:C.includes("mtn")?{type:"Mobile Money",number:w.mtn_money||k||"Non spcifi",provider:"MTN Mobile Money"}:C.includes("moov")?{type:"Mobile Money",number:w.moov_money||k||"Non spcifi",provider:"Moov Money"}:C.includes("bank")||C.includes("iban")?{type:"Virement Bancaire",iban:w.bank_iban||"Non spcifi",bankName:w.bank_name||"Non spcifi",accountName:w.bank_account_name||((q=a.admin)==null?void 0:q.full_name)||"Non spcifi"}:{type:"Autre mthode",info:`Mthode: ${a.method||"Non spcifie"}`,contact:`Contact: ${((re=a.admin)==null?void 0:re.email)||"Email non disponible"}`}})();return i.jsx(Ao,{open:l,onOpenChange:c,children:i.jsxs(to,{className:"sm:max-w-md",children:[i.jsxs(ko,{children:[i.jsx(Eo,{children:"Dtails de paiement"}),i.jsxs(Ol,{children:["Informations pour effectuer le dpt  ",(I=a.admin)==null?void 0:I.full_name]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:"Montant  verser"}),i.jsxs(nr,{className:"text-lg bg-green-600",children:[(B=a.amount_fcfa)==null?void 0:B.toLocaleString()," FCFA"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Admin"}),i.jsx("p",{className:"font-medium",children:(V=a.admin)==null?void 0:V.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(U=a.admin)==null?void 0:U.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mthode"}),i.jsx("p",{className:"font-medium capitalize",children:a.method})]})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Informations de paiement"}),P.type==="Mobile Money"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Oprateur"}),i.jsx("p",{className:"font-medium",children:P.provider})]})}),i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Numro de tlphone"}),i.jsx("p",{className:"font-medium text-lg",children:P.number})]}),P.number!=="Non spcifi"&&i.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>v(P.number),className:"h-8 w-8 p-0",children:i.jsx(Z2,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Effectuez le transfert  ce numro, puis confirmez le paiement."})]}):P.type==="Virement Bancaire"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Banque"}),i.jsx("p",{className:"font-medium",children:P.bankName})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Titulaire"}),i.jsx("p",{className:"font-medium",children:P.accountName})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"IBAN / Numro de compte"}),i.jsx("p",{className:"font-medium text-lg font-mono break-all",children:P.iban})]}),P.iban!=="Non spcifi"&&i.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>v(P.iban),className:"h-8 w-8 p-0 ml-2",children:i.jsx(Z2,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Effectuez le virement bancaire, puis confirmez le paiement."})]}):i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:i.jsxs("p",{className:"text-yellow-800",children:[i.jsx("strong",{children:P.info}),i.jsx("br",{}),P.contact]})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(Ee,{variant:"outline",onClick:()=>c(!1),children:"Fermer"}),i.jsxs(Ee,{onClick:()=>{g(a.id,"approved",a.admin_id,a.amount_fcfa),c(!1)},className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Qx,{className:"h-4 w-4 mr-2"}),"Approuver et confirmer le paiement"]})]})]})})},j=w=>{var P,D;const C=d[w.admin_id]||{},k=((P=w.method)==null?void 0:P.toLowerCase())||"",T=((D=w.admin)==null?void 0:D.phone)||"";if(k.includes("orange")){const M=C.orange_money||T;return M?`Orange: ${M}`:"Numro non fourni"}else if(k.includes("mtn")){const M=C.mtn_money||T;return M?`MTN: ${M}`:"Numro non fourni"}else if(k.includes("moov")){const M=C.moov_money||T;return M?`Moov: ${M}`:"Numro non fourni"}else if(k.includes("bank")||k.includes("iban")){const M=C.bank_iban;return M?`IBAN: ${M.substring(0,12)}...`:"IBAN non fourni"}return"Dtails manquants"};return i.jsxs(i.Fragment,{children:[i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:e==="pending"?"Demandes en attente":"Historique des traitements"}),e==="pending"&&i.jsx(nn,{children:"Cliquez sur l'icne  pour voir les dtails de paiement avant d'approuver"})]}),i.jsx(st,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{className:"min-w-[150px]",children:"Admin"}),i.jsx(Hr,{className:"min-w-[100px]",children:"Montant"}),i.jsx(Hr,{className:"min-w-[120px]",children:"Mthode"}),i.jsx(Hr,{className:"min-w-[180px]",children:"Dtails paiement"}),i.jsx(Hr,{className:"min-w-[140px]",children:"Date"}),i.jsx(Hr,{className:"min-w-[100px]",children:"Status"}),e==="pending"&&i.jsx(Hr,{className:"min-w-[150px]",children:"Actions"})]})}),i.jsx(Vd,{children:n?i.jsx(Ja,{children:i.jsxs(Ar,{colSpan:e==="pending"?7:6,className:"text-center py-8",children:[i.jsx(Dt,{className:"h-8 w-8 animate-spin mx-auto"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Chargement des demandes..."})]})}):t.length===0?i.jsx(Ja,{children:i.jsx(Ar,{colSpan:e==="pending"?7:6,className:"text-center py-8",children:i.jsxs("p",{className:"text-muted-foreground",children:["Aucune demande ",e==="pending"?"en attente":"dans l'historique"]})})}):t.map(w=>{var C,k,T,P;return i.jsxs(Ja,{className:"hover:bg-muted/50",children:[i.jsxs(Ar,{children:[i.jsx("div",{className:"font-medium",children:((C=w.admin)==null?void 0:C.full_name)||"Admin"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:((k=w.admin)==null?void 0:k.email)||"Email non disponible"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Tl: ",((T=w.admin)==null?void 0:T.phone)||"Non renseign"]})]}),i.jsxs(Ar,{className:"font-semibold",children:[(P=w.amount_fcfa)==null?void 0:P.toLocaleString()," FCFA"]}),i.jsx(Ar,{children:i.jsx(nr,{variant:"outline",className:"capitalize",children:w.method||"Non spcifi"})}),i.jsx(Ar,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm truncate max-w-[150px]",children:j(w)}),i.jsx(Ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",onClick:()=>_(w),title:"Voir les dtails de paiement",children:i.jsx(qu,{className:"h-4 w-4"})})]})}),i.jsx(Ar,{children:Gn(new Date(w.requested_at),"dd/MM/yyyy HH:mm")}),i.jsx(Ar,{children:i.jsx(nr,{variant:w.status==="pending"?"secondary":w.status==="approved"?"success":"destructive",children:w.status==="pending"?"En attente":w.status==="approved"?"Approuv":"Rejet"})}),e==="pending"&&i.jsx(Ar,{children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs(Ee,{size:"sm",variant:"default",className:"bg-green-600 hover:bg-green-700 w-full",onClick:()=>_(w),children:[i.jsx(qu,{className:"w-4 h-4 mr-1"}),"Voir & Approuver"]}),i.jsxs(Ee,{size:"sm",variant:"destructive",className:"w-full",onClick:()=>{var D;confirm(`Voulez-vous vraiment rejeter cette demande de ${(D=w.amount_fcfa)==null?void 0:D.toLocaleString()} FCFA ?`)&&g(w.id,"rejected",w.admin_id,w.amount_fcfa)},children:[i.jsx(au,{className:"w-4 h-4 mr-1"}),"Rejeter"]})]})})]},w.id)})})]})})})]}),l&&i.jsx(y,{})]})},Xot=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState(0),[o,l]=b.useState(null),[c,d]=b.useState(!1),f=async()=>{n(!0);try{const{data:v,error:g}=await Oe.from("profiles").select("id, full_name, email, user_type, country").in("user_type",["admin","secretary"]);if(g)throw g;const{data:_,error:y}=await Oe.from("paiements_admin").select("admin_id, montant_a_payer, statut");if(y)throw y;const{data:j,error:w}=await Oe.from("admin_withdrawal_requests").select("admin_id, amount_fcfa, status, requested_at");if(w)throw w;let C=0;const k=v.map(T=>{const D=_.filter(V=>V.admin_id===T.id).reduce((V,U)=>V+(U.montant_a_payer||0),0),M=j.filter(V=>V.admin_id===T.id),I=M.filter(V=>V.status==="approved"||V.status==="paid").reduce((V,U)=>V+(U.amount_fcfa||0),0);C+=I;const B=Math.max(0,D-I);return{...T,totalEarned:D,totalWithdrawn:I,balance:B,withdrawalHistory:M}});t(k),a(C),console.log("Admin list loaded: [count]",k.length),console.log("Total admin withdrawals: [amount]",C)}catch(v){console.error("Error fetching admin salary list:",v)}finally{n(!1)}};b.useEffect(()=>{f()},[]);const h=v=>{l(v),d(!0)};return r?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Dt,{className:"animate-spin text-primary h-8 w-8"})}):i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:i.jsxs(at,{className:"bg-primary/5 border-primary/20",children:[i.jsx(Et,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium text-primary",children:"Total Retraits Global"})}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-3xl font-bold text-primary",children:[s.toLocaleString()," FCFA"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tous administrateurs confondus"})]})]})}),i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(Us,{className:"h-5 w-5"}),"Liste des Salaires Administrateurs"]}),i.jsx(nn,{children:"Vue d'ensemble des gains et retraits par administrateur."})]}),i.jsx(st,{children:i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Administrateur"}),i.jsx(Hr,{children:"Rle"}),i.jsx(Hr,{className:"text-right",children:"Total Gagn (Cumul)"}),i.jsx(Hr,{className:"text-right",children:"Total Retir"}),i.jsx(Hr,{className:"text-right",children:"Solde Thorique"}),i.jsx(Hr,{className:"text-right",children:"Actions"})]})}),i.jsx(Vd,{children:e.map(v=>i.jsxs(Ja,{children:[i.jsxs(Ar,{children:[i.jsx("div",{className:"font-medium",children:v.full_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:v.email})]}),i.jsx(Ar,{children:i.jsx(nr,{variant:"outline",className:"capitalize",children:v.user_type})}),i.jsxs(Ar,{className:"text-right font-medium",children:[v.totalEarned.toLocaleString()," FCFA"]}),i.jsxs(Ar,{className:"text-right text-orange-600",children:[v.totalWithdrawn.toLocaleString()," FCFA"]}),i.jsxs(Ar,{className:"text-right font-bold text-green-600",children:[v.balance.toLocaleString()," FCFA"]}),i.jsx(Ar,{className:"text-right",children:i.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>h(v),children:[i.jsx(f4,{className:"h-4 w-4 mr-2"})," Historique"]})})]},v.id))})]})})]}),i.jsx(Ao,{open:c,onOpenChange:d,children:i.jsxs(to,{className:"max-w-3xl",children:[i.jsx(ko,{children:i.jsxs(Eo,{children:["Historique des Retraits - ",o==null?void 0:o.full_name]})}),i.jsx("div",{className:"mt-4 max-h-[60vh] overflow-y-auto",children:i.jsxs(zd,{children:[i.jsx(Ud,{children:i.jsxs(Ja,{children:[i.jsx(Hr,{children:"Date"}),i.jsx(Hr,{children:"Montant"}),i.jsx(Hr,{children:"Statut"})]})}),i.jsx(Vd,{children:o!=null&&o.withdrawalHistory&&o.withdrawalHistory.length>0?o.withdrawalHistory.map((v,g)=>i.jsxs(Ja,{children:[i.jsx(Ar,{children:Gn(new Date(v.requested_at),"dd/MM/yyyy HH:mm",{locale:Wo})}),i.jsxs(Ar,{className:"font-medium",children:[v.amount_fcfa.toLocaleString()," FCFA"]}),i.jsx(Ar,{children:i.jsx(nr,{variant:v.status==="approved"?"success":v.status==="rejected"?"destructive":"secondary",children:v.status})})]},g)):i.jsx(Ja,{children:i.jsx(Ar,{colSpan:3,className:"text-center py-4 text-muted-foreground",children:"Aucun retrait trouv."})})})]})})]})})]})},Jot=()=>{const[e,t]=b.useState({withdrawal_available_date:5,min_withdrawal_amount:1e3,max_withdrawal_amount:5e5,withdrawal_methods:["Orange Money","MTN Mobile Money","Moov Money","Bank Transfer"]}),[r,n]=b.useState(!0),[s,a]=b.useState(!1),o=async()=>{n(!0);try{const{data:c,error:d}=await Oe.from("admin_withdrawal_config").select("*").limit(1).maybeSingle();c&&t(c)}catch(c){console.error("Error loading config",c)}finally{n(!1)}};b.useEffect(()=>{o()},[]);const l=async()=>{a(!0);try{const c={withdrawal_available_date:parseInt(e.withdrawal_available_date),min_withdrawal_amount:parseInt(e.min_withdrawal_amount),max_withdrawal_amount:parseInt(e.max_withdrawal_amount),withdrawal_methods:e.withdrawal_methods},{error:d}=await Oe.from("admin_withdrawal_config").upsert(e.id?{...c,id:e.id}:c);if(d)throw d;ze({title:"Configuration sauvegarde",description:"Les paramtres de retrait ont t mis  jour."}),o()}catch(c){console.error(c),ze({title:"Erreur",description:c.message,variant:"destructive"})}finally{a(!1)}};return r?i.jsx(Dt,{className:"animate-spin mx-auto"}):i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Paramtres des Retraits"}),i.jsx(nn,{children:"Dfinissez les rgles pour les demandes de retrait des administrateurs."})]}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Jour de disponibilit (du mois)"}),i.jsx(vt,{type:"number",min:"1",max:"28",value:e.withdrawal_available_date,onChange:c=>t({...e,withdrawal_available_date:c.target.value})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Les retraits seront disponibles  partir de ce jour chaque mois."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Montant Minimum (FCFA)"}),i.jsx(vt,{type:"number",value:e.min_withdrawal_amount,onChange:c=>t({...e,min_withdrawal_amount:c.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Montant Maximum (FCFA)"}),i.jsx(vt,{type:"number",value:e.max_withdrawal_amount,onChange:c=>t({...e,max_withdrawal_amount:c.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Mthodes de retrait autorises (spares par des virgules)"}),i.jsx(vt,{value:Array.isArray(e.withdrawal_methods)?e.withdrawal_methods.join(", "):e.withdrawal_methods,onChange:c=>t({...e,withdrawal_methods:c.target.value.split(",").map(d=>d.trim())})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ex: Orange Money, MTN Mobile Money, Moov Money, Bank Transfer"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(Ee,{onClick:l,disabled:s,children:[s&&i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),i.jsx(N3,{className:"mr-2 h-4 w-4"})," Enregistrer la configuration"]})})]})]})},Zot=({userProfile:e})=>{const{t}=Dn(),[r,n]=b.useState({credited:0,activeUsers:0,monthlyRevenue:0}),[s,a]=b.useState(!0),o=b.useCallback(async()=>{if(!(e!=null&&e.country)){a(!1);return}a(!0);try{const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),1),d=new Date(l.getFullYear(),l.getMonth()+1,0);let f=Oe.from("transactions").select("amount_pi").eq("country",e.country).in("transaction_type",["manual_credit","event_participation","video_watch"]).gte("created_at",c.toISOString()).lte("created_at",d.toISOString());e.city&&(f=f.eq("city",e.city));const{data:h,error:v}=await f;if(v)throw v;const g=h.reduce((k,T)=>k+(T.amount_pi||0),0);let _=Oe.from("profiles").select("id",{count:"exact"}).eq("country",e.country).eq("is_active",!0);e.city&&(_=_.eq("city",e.city));const{count:y,error:j}=await _;if(j)throw j;const C=g*10;n({credited:g,activeUsers:y||0,monthlyRevenue:C})}catch(l){console.error("Failed to fetch admin stats:",l),ze({title:t("admin_dashboard.stats.error_title"),description:l.message,variant:"destructive"})}finally{a(!1)}},[e,t]);return b.useEffect(()=>{o()},[o]),s?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Chargement..."}),i.jsx(Dt,{className:"h-5 w-5 text-primary animate-spin"})]}),i.jsx(st,{children:i.jsx("div",{className:"text-2xl font-bold",children:"..."})})]})}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:t("admin_dashboard.stats.revenue_title")}),i.jsx(yc,{className:"h-5 w-5 text-primary"})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.monthlyRevenue.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.credited.toLocaleString("fr-FR"),"  crdits ce mois"]})]})]}),i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Utilisateurs actifs"}),i.jsx(Ga,{className:"h-5 w-5 text-primary"})]}),i.jsxs(st,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.activeUsers.toLocaleString("fr-FR")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"dans votre zone"})]})]}),i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Zone"}),i.jsx(wo,{className:"h-5 w-5 text-primary"})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"text-lg font-bold",children:[e==null?void 0:e.country,(e==null?void 0:e.city)&&`, ${e.city}`]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e!=null&&e.city?"Ville spcifique":"Tout le pays"})]})]})]})},Qot=({user:e})=>{const{t}=Dn(),[r,n]=b.useState(null),[s,a]=b.useState({days:0,hours:0,minutes:0,seconds:0,expired:!1,totalSeconds:0}),[o,l]=b.useState(!0),[c,d]=b.useState(!1),f=b.useCallback(async()=>{if(!(e!=null&&e.id))return;l(!0);const{data:V,error:U}=await Oe.from("partners").select("*, license:license_id(*)").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();U?ze({title:t("admin_dashboard.license.partner_error_title"),variant:"destructive",description:U.message}):n(V),l(!1)},[e,t]);b.useEffect(()=>{f()},[f]),b.useEffect(()=>{if(!(r!=null&&r.expiration_date))return;const V=()=>{const q=new Date(r.expiration_date),re=new Date,H=q.getTime()-re.getTime();if(H<=0){a({days:0,hours:0,minutes:0,seconds:0,expired:!0,totalSeconds:0});return}const X=Math.floor(H/1e3),Q=Math.floor(X/(3600*24)),se=Math.floor(X%(3600*24)/3600),te=Math.floor(X%3600/60),ce=Math.floor(X%60);a({days:Q,hours:se,minutes:te,seconds:ce,expired:!1,totalSeconds:X})};V();const U=setInterval(V,1e3);return()=>clearInterval(U)},[r==null?void 0:r.expiration_date]);const h=async()=>{if(r){d(!0);try{const{error:V}=await Oe.from("licence_renewal_requests").insert({admin_id:e.id,licence_id:r.license_id,status:"pending",request_date:new Date().toISOString()});if(V)throw V;ze({title:t("admin_dashboard.license.renewal_sent_title"),description:t("admin_dashboard.license.renewal_sent_desc")})}catch(V){ze({title:t("common.error_title"),description:t("admin_dashboard.license.renewal_error_desc")+V.message,variant:"destructive"})}finally{d(!1)}}};if(o)return i.jsx("div",{className:"p-4 mb-6 rounded-lg bg-background/50 flex justify-center items-center",children:i.jsx(Dt,{className:"animate-spin"})});if(!r)return null;const v=new Date(r.activation_date),g=new Date(r.expiration_date),{days:_,hours:y,minutes:j,seconds:w,expired:C,totalSeconds:k}=s,T=new Date,P=new Date(r.expiration_date),D=Math.ceil((P-T)/(1e3*60*60*24));let M="",I="";C?(M="bg-red-500/20 text-red-800 dark:bg-red-900/50 dark:text-red-300",I=t("admin_dashboard.license.status_expired")):_>30?(M="bg-green-500/20 text-green-800 dark:bg-green-900/50 dark:text-green-300",I=t("admin_dashboard.license.status_active")):_>7?(M="bg-yellow-500/20 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",I=t("Licence")):(M="bg-orange-500/20 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",I=t("admin_dashboard.license.status_critical"));const B=(V,U)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-2xl font-bold",children:V.toString().padStart(2,"0")}),i.jsx("span",{className:"text-xs",children:U})]});return i.jsxs("div",{className:`p-4 mb-6 rounded-lg border ${M} transition-colors duration-300`,children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nu,{className:"w-6 h-6 flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-bold text-lg",children:[t("admin_dashboard.license.status_title"),":",i.jsxs("span",{className:`ml-2 px-2 py-1 rounded-md ${D>30?"bg-green-500 text-white":D>7?"bg-yellow-500 text-white":D>0?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:[r.license.name," - ",I]})]}),i.jsxs("div",{className:"text-xs mt-2 space-y-1 text-gray-300",children:[i.jsxs("p",{children:[t("admin_dashboard.license.activated_on"),": ",v.toLocaleDateString("fr-FR")]}),i.jsxs("p",{children:[t("admin_dashboard.license.expires_on"),": ",g.toLocaleDateString("fr-FR")]}),r.license.commission_rate&&i.jsxs("p",{children:["Taux de commission: ",i.jsxs("strong",{children:[r.license.commission_rate,"%"]})]})]})]})]}),i.jsx("div",{className:"text-center",children:C?i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-lg text-red-600",children:t("admin_dashboard.license.expired_since",{count:Math.floor(Math.abs(k)/(3600*24))})}),i.jsx("p",{className:"text-xs mt-2",children:"Licence expire"})]}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[B(_,"Jours"),i.jsx("span",{className:"text-xl font-bold",children:":"}),B(y,"Heures"),i.jsx("span",{className:"text-xl font-bold",children:":"}),B(j,"Minutes"),i.jsx("span",{className:"text-xl font-bold",children:":"}),B(w,"Secondes")]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("admin_dashboard.license.days_remaining")})]})}),i.jsxs(jo,{children:[i.jsx(cC,{asChild:!0,children:i.jsxs(Ee,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",disabled:c,children:[c?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Hh,{className:"mr-2 h-4 w-4"}),t("admin_dashboard.license.renew_button")]})}),i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:t("admin_dashboard.license.confirm_renewal_title")}),i.jsx(Ji,{children:t("admin_dashboard.license.confirm_renewal_desc")})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:t("common.cancel")}),i.jsx(Zi,{onClick:h,disabled:c,children:c?i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}):t("common.confirm")})]})]})]})]}),!C&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"Temps restant"}),i.jsxs("span",{children:[_," jours"]})]}),i.jsx("div",{className:"h-2 bg-white/30 dark:bg-black/30 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-1000 ${_>30?"bg-green-500":_>7?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${Math.min(100,k/(90*24*3600)*100)}%`}})})]})]})},elt=({status:e})=>{const{t}=Dn();if(e==="active")return null;let r,n;switch(e){case"pending_verification":case"pending":r=t("admin_dashboard.banner.pending"),n="bg-yellow-500/20 text-yellow-300 border-yellow-500/30";break;case"suspended":r=t("admin_dashboard.banner.suspended"),n="bg-orange-500/20 text-orange-300 border-orange-500/30";break;case"expired":r=t("admin_dashboard.banner.expired"),n="bg-red-500/20 text-red-300 border-red-500/30";break;default:return null}return i.jsxs("div",{className:`p-4 mb-6 rounded-lg border flex items-center gap-3 ${n}`,children:[i.jsx(Ql,{className:"w-6 h-6 flex-shrink-0"}),i.jsx("p",{className:"font-semibold",children:r})]})},tlt=()=>{const{t:e}=Dn(),{user:t}=Pr(),{userProfile:r,loadingProfile:n,getPromotions:s,getEvents:a}=Un(),[o,l]=b.useState([]),[c,d]=b.useState([]),[f,h]=b.useState([]),[v,g]=b.useState([]),[_,y]=b.useState([]),[j,w]=b.useState([]),[C,k]=b.useState(!0),[T,P]=b.useState("analytics"),[D,M]=b.useState("inactive"),[I,B]=b.useState(null),V=(r==null?void 0:r.user_type)==="super_admin",U=(r==null?void 0:r.user_type)==="admin",q=(r==null?void 0:r.user_type)==="secretary"&&(r==null?void 0:r.appointed_by_super_admin),re=V||D==="active";b.useEffect(()=>{(async()=>{const{data:{user:te}}=await Oe.auth.getUser();if(te&&te.id!==(t==null?void 0:t.id)){const{data:ce}=await Oe.from("profiles").select("*").eq("id",te.id).single();B(ce)}else B(null)})()},[t]);const H=async()=>{k(!0);const{error:se}=await Oe.auth.revert();se?(ze({title:"Erreur",description:se.message,variant:"destructive"}),k(!1)):(ze({title:"Retour  la normale",description:"Vous tes revenu  votre compte."}),window.location.reload())};b.useEffect(()=>{U&&t&&(async()=>{const{data:te,error:ce}=await Oe.from("partners").select("status, expiration_date").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(1).single();if(ce&&ce.code!=="PGRST116")console.error("Error fetching partner status:",ce);else if(te){const xe=new Date;new Date(te.expiration_date)<xe?M("expired"):M(te.status)}})()},[U,t]),b.useEffect(()=>{V?P("analytics"):U||q&&P("credits")},[V,U,q]);const X=b.useCallback(async()=>{if(!(!r||!t)){k(!0);try{const se=U?r.country:null,te=()=>{let ue=Oe.from("profiles").select("*");return se&&!V&&(ue=ue.eq("country",se),r.city&&(ue=ue.eq("city",r.city))),ue};let ce;V&&(ce=Oe.from("coin_spending").select(`
                    id, amount, description, created_at, purpose,
                    user:user_id (full_name, email)
                `).order("created_at",{ascending:!1}));const[xe,de,ee,fe,ne,Y]=await Promise.all([te(),Oe.from("announcements").select("*").order("created_at",{ascending:!1}),a(se?{country:se}:{}),s(se?{country:se}:{}),Oe.from("welcome_popups").select("*").order("created_at",{ascending:!1}),ce||Promise.resolve({data:[],error:null})]);if(xe.error)throw xe.error;if(de.error)throw de.error;if(ne.error)throw ne.error;if(Y.error)throw Y.error;l(xe.data||[]),d(de.data||[]),h(ee||[]),g(fe||[]),Y.data&&w(Y.data.map(ue=>{var le,ke;return{id:ue.id,user_full_name:(le=ue.user)==null?void 0:le.full_name,user_email:(ke=ue.user)==null?void 0:ke.email,description:ue.description,amount:ue.amount,created_at:ue.created_at,status:"completed",type:ue.purpose}}))}catch(se){console.error("Error fetching admin data:",se),ze({title:e("admin_dashboard.loading_error_title"),description:se.message,variant:"destructive"})}finally{k(!1)}}},[r,U,V,t,s,a,e]);if(b.useEffect(()=>{r&&X()},[r,X]),n||C)return i.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 flex items-center justify-center",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})});if(!t||!V&&!U&&!q)return i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[i.jsx("h1",{className:"text-2xl text-red-500",children:e("admin_dashboard.unauthorized_title")}),i.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.unauthorized_desc")})]});const Q=V?e("admin_dashboard.super_admin_title"):U?e("admin_dashboard.admin_title",{country:r.country}):e("admin_dashboard.secretary_title");return i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 relative",children:[I&&i.jsx(Yee,{user:I,onRevert:H}),i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:Q}),i.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.welcome",{name:r.full_name||t.email})}),U&&(r==null?void 0:r.country)&&i.jsx("div",{className:"mt-2",children:i.jsxs(nr,{variant:"outline",className:"text-sm",children:[i.jsx(wo,{className:"w-3 h-3 mr-1"}),"Zone: ",r.country,r.city&&`, ${r.city}`]})})]}),U&&re&&(r==null?void 0:r.country)&&i.jsx(Zot,{userProfile:r}),U&&re&&i.jsx(Qot,{user:r}),U&&i.jsx(elt,{status:D}),i.jsxs(tm,{value:T,onValueChange:P,className:"w-full",children:[i.jsx(Xf,{className:"flex flex-wrap h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:V?i.jsxs(i.Fragment,{children:[i.jsxs($r,{value:"analytics",children:[i.jsx(wge,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.analytics")]}),i.jsxs($r,{value:"credit_stats",children:[i.jsx(pge,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credit_stats")]}),i.jsxs($r,{value:"activity_log",children:[i.jsx(Xm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.activity_log")]}),i.jsxs($r,{value:"transactions",children:[i.jsx(f4,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.transactions")]}),i.jsxs($r,{value:"payments",children:[i.jsx(yc,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.payments")]}),i.jsxs($r,{value:"users",children:[i.jsx(Ga,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.users")]}),i.jsxs($r,{value:"secretaries",children:[i.jsx(aw,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.secretaries")]}),i.jsxs($r,{value:"credits",children:[i.jsx(xc,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits")]}),i.jsxs($r,{value:"reversed_credits",children:[i.jsx(u2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),i.jsxs($r,{value:"withdrawals",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),i.jsxs($r,{value:"salary_withdrawals",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.salary_withdrawals")]}),i.jsxs($r,{value:"withdrawal_history",children:[i.jsx(f4,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_history")]}),i.jsxs($r,{value:"events",children:[i.jsx(qs,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.events")]}),i.jsxs($r,{value:"locations",children:[i.jsx(wo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.locations")]}),i.jsxs($r,{value:"promotions",children:[i.jsx(Md,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.promotions")]}),i.jsxs($r,{value:"partners",children:[i.jsx(jge,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.partners")]}),i.jsxs($r,{value:"badges",children:[i.jsx(ix,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.badges")]}),i.jsxs($r,{value:"announcements",children:[i.jsx(c2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.announcements")]}),i.jsxs($r,{value:"popups",children:[i.jsx($ge,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.popups")]}),i.jsxs($r,{value:"videos",children:[i.jsx(wX,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.videos")]}),i.jsxs($r,{value:"config",children:[i.jsx(Kf,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.config")]})]}):U&&re?i.jsxs(i.Fragment,{children:[i.jsxs($r,{value:"salary",children:[i.jsx(yc,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.salary")]}),i.jsxs($r,{value:"events",children:[i.jsx(qs,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.events")]}),i.jsxs($r,{value:"locations",children:[i.jsx(wo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.locations")]}),i.jsxs($r,{value:"promotions",children:[i.jsx(Md,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.promotions")]}),i.jsxs($r,{value:"credits_history",children:[i.jsx(xc,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits")]}),i.jsxs($r,{value:"reversed_credits",children:[i.jsx(u2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),i.jsxs($r,{value:"withdrawals",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),i.jsxs($r,{value:"users",children:[i.jsx(Ga,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.users")]}),i.jsxs($r,{value:"secretaries",children:[i.jsx(aw,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.secretaries")]}),i.jsxs($r,{value:"activity_log",children:[i.jsx(Xm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.activity_log")]})]}):q?i.jsxs(i.Fragment,{children:[i.jsxs($r,{value:"credits",children:[i.jsx(xc,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credit_management")]}),i.jsxs($r,{value:"reversed_credits",children:[i.jsx(u2,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),i.jsxs($r,{value:"withdrawals",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_management")]}),i.jsxs($r,{value:"withdrawal_history",children:[i.jsx(f4,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_history")]})]}):null}),i.jsx("div",{className:"mt-6",children:V?i.jsxs(i.Fragment,{children:[i.jsx(zr,{value:"analytics",children:i.jsx(_tt,{})}),i.jsx(zr,{value:"credit_stats",children:i.jsx(Wnt,{})}),i.jsx(zr,{value:"activity_log",children:i.jsx(uW,{})}),i.jsx(zr,{value:"transactions",children:i.jsx(drt,{transactions:j})}),i.jsx(zr,{value:"payments",children:i.jsx(qnt,{userProfile:r})}),i.jsx(zr,{value:"users",children:i.jsx(zB,{users:o,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"secretaries",children:i.jsx(aW,{users:o,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"credits",children:i.jsx(uO,{onRefresh:X,userProfile:r})}),i.jsx(zr,{value:"reversed_credits",children:i.jsx(E4,{isSuperAdmin:!0,userProfile:r})}),i.jsx(zr,{value:"withdrawals",children:i.jsx(C4,{userProfile:r})}),i.jsx(zr,{value:"salary_withdrawals",children:i.jsx(Yot,{userProfile:r})}),i.jsx(zr,{value:"withdrawal_history",children:i.jsx(fW,{userProfile:r})}),i.jsx(zr,{value:"events",children:i.jsx(rW,{events:f,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"locations",children:i.jsx(dW,{userProfile:r})}),i.jsx(zr,{value:"promotions",children:i.jsx(nW,{promotions:v,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"partners",children:i.jsx(Ttt,{onRefresh:X,userProfile:r})}),i.jsx(zr,{value:"badges",children:i.jsx(lrt,{userProfile:r})}),i.jsx(zr,{value:"announcements",children:i.jsx(Ptt,{announcements:c,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"popups",children:i.jsx(Rtt,{popups:_,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"videos",children:i.jsx(ktt,{userProfile:r})}),i.jsx(zr,{value:"config",children:i.jsx(rTe,{userProfile:r})})]}):U&&re?i.jsxs(i.Fragment,{children:[i.jsx(zr,{value:"salary",children:i.jsx(Kot,{userProfile:r})}),i.jsx(zr,{value:"events",children:i.jsx(rW,{events:f,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"locations",children:i.jsx(dW,{userProfile:r})}),i.jsx(zr,{value:"promotions",children:i.jsx(nW,{promotions:v,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"credits_history",children:i.jsx(Mtt,{userProfile:r})}),i.jsx(zr,{value:"reversed_credits",children:i.jsx(E4,{isSuperAdmin:!1,country:r.country,userProfile:r})}),i.jsx(zr,{value:"withdrawals",children:i.jsx(C4,{userProfile:r})}),i.jsx(zr,{value:"users",children:i.jsx(zB,{users:o,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"secretaries",children:i.jsx(aW,{users:o,userProfile:r,onRefresh:X})}),i.jsx(zr,{value:"activity_log",children:i.jsx(uW,{userProfile:r})})]}):q?i.jsxs(i.Fragment,{children:[i.jsx(zr,{value:"credits",children:i.jsx(uO,{onRefresh:X,userProfile:r})}),i.jsx(zr,{value:"reversed_credits",children:i.jsx(E4,{isSuperAdmin:!1,actorId:r.id,userProfile:r})}),i.jsx(zr,{value:"withdrawals",children:i.jsx(C4,{userProfile:r})}),i.jsx(zr,{value:"withdrawal_history",children:i.jsx(fW,{actorId:r.id,userProfile:r})})]}):null})]})]})},rlt=({users:e,onRefresh:t})=>{const{userProfile:r}=Un(),{user:n}=Pr(),[s,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(!1),[f,h]=b.useState(""),[v,g]=b.useState(""),[_,y]=b.useState(""),j=b.useMemo(()=>e?e.filter(D=>{var M,I,B;return D.country===(r==null?void 0:r.country)&&(((M=D.full_name)==null?void 0:M.toLowerCase().includes(_.toLowerCase()))||((I=D.email)==null?void 0:I.toLowerCase().includes(_.toLowerCase()))||((B=D.user_type)==null?void 0:B.toLowerCase().includes(_.toLowerCase())))}):[],[e,_,r==null?void 0:r.country]),w=async(D,M)=>{a(!0);try{const{error:I}=await Oe.from("profiles").update({is_active:M}).eq("id",D.id);if(I)throw I;ze({title:"Succs",description:`L'utilisateur a t ${M?"activ":"bloqu"}.`}),t()}catch(I){ze({title:"Erreur",description:I.message,variant:"destructive"})}finally{a(!1)}},C=D=>{l(D),h(""),g(""),d(!0)},k=async()=>{if(!o||!f||s)return;const D=parseInt(f,10);if(isNaN(D)||D<=0){ze({title:"Erreur",description:"Veuillez entrer un montant valide.",variant:"destructive"});return}a(!0);try{const{data:M,error:I}=await Oe.rpc("credit_user_coins",{p_user_id:o.id,p_amount:D,p_reason:v,p_creditor_id:n.id});if(I)throw I;if(!M.success)throw new Error(M.message||"chec du crdit utilisateur.");ze({title:"Succs",description:M.message||`Utilisateur ${o.full_name} crdit de ${D} pices.`}),t(),d(!1)}catch(M){ze({title:"Erreur",description:M.message,variant:"destructive"})}finally{a(!1)}},T=D=>({user:"bg-blue-500/20 text-blue-300",organizer:"bg-yellow-500/20 text-yellow-300",secretary:"bg-purple-500/20 text-purple-300",admin:"bg-orange-500/20 text-orange-300",super_admin:"bg-red-500/20 text-red-300"})[D]||"bg-gray-500/20 text-gray-300",P=D=>({user:"Utilisateur",organizer:"Organisateur",secretary:"Secrtaire",admin:"Admin",super_admin:"Super Admin"})[D]||D;return i.jsxs(i.Fragment,{children:[i.jsxs(at,{className:"glass-effect border-purple-500/20",children:[i.jsx(Et,{children:i.jsxs(Tt,{children:["Gestion des Utilisateurs (",r==null?void 0:r.country,")"]})}),i.jsxs(st,{children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher par nom ou email...",value:_,onChange:D=>y(D.target.value),className:"pl-10"})]}),i.jsx("div",{className:"space-y-4",children:j.length===0?i.jsx("p",{className:"text-center text-muted-foreground",children:"Aucun utilisateur trouv dans votre pays."}):j.map(D=>{var M;return i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Xu,{className:"w-12 h-12",children:[i.jsx(Ju,{src:D.avatar_url}),i.jsx(Zu,{children:(M=D.full_name)==null?void 0:M.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:D.full_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:D.email}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[i.jsx(nr,{className:T(D.user_type),children:P(D.user_type)}),i.jsx(nr,{variant:D.is_active?"success":"destructive",children:D.is_active?"Actif":"Bloqu"}),i.jsxs(nr,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(dn,{className:"w-3 h-3"})," ",D.coin_balance||0]}),i.jsxs(nr,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(yc,{className:"w-3 h-3"})," ",D.available_earnings||0]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>C(D),children:i.jsx(dn,{className:"w-4 h-4 text-primary"})}),i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>w(D,!D.is_active),children:D.is_active?i.jsx(oX,{className:"w-4 h-4 text-red-500"}):i.jsx(Vi,{className:"w-4 h-4 text-green-500"})})]})]},D.id)})})]})]}),i.jsx(Ao,{open:c,onOpenChange:d,children:i.jsxs(to,{children:[i.jsxs(ko,{children:[i.jsxs(Eo,{children:["Crditer l'utilisateur: ",o==null?void 0:o.full_name]}),i.jsx(Ol,{children:"Ajouter des pices au solde de l'utilisateur."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Qe,{htmlFor:"amount",className:"text-right",children:"Montant ()"}),i.jsx(vt,{id:"amount",type:"number",value:f,onChange:D=>h(D.target.value),className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Qe,{htmlFor:"reason",className:"text-right",children:"Raison"}),i.jsx(So,{id:"reason",value:v,onChange:D=>g(D.target.value),className:"col-span-3"})]})]}),i.jsxs(Tc,{children:[i.jsx(Ee,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),i.jsx(Ee,{onClick:k,disabled:s,children:s?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):"Crditer"})]})]})})]})};var cce="Toggle",uce=b.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...a}=e,[o,l]=_o({prop:r,onChange:s,defaultProp:n??!1,caller:cce});return i.jsx(_r.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Wt(e.onClick,()=>{e.disabled||l(!o)})})});uce.displayName=cce;var Qp="ToggleGroup",[dce,adt]=eo(Qp,[Vp]),fce=Vp(),aI=Se.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const s=n;return i.jsx(nlt,{...s,ref:t})}if(r==="multiple"){const s=n;return i.jsx(alt,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Qp}\``)});aI.displayName=Qp;var[hce,mce]=dce(Qp),nlt=Se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o,l]=_o({prop:r,defaultProp:n??"",onChange:s,caller:Qp});return i.jsx(hce,{scope:e.__scopeToggleGroup,type:"single",value:Se.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:Se.useCallback(()=>l(""),[l]),children:i.jsx(pce,{...a,ref:t})})}),alt=Se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o,l]=_o({prop:r,defaultProp:n??[],onChange:s,caller:Qp}),c=Se.useCallback(f=>l((h=[])=>[...h,f]),[l]),d=Se.useCallback(f=>l((h=[])=>h.filter(v=>v!==f)),[l]);return i.jsx(hce,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:d,children:i.jsx(pce,{...a,ref:t})})});aI.displayName=Qp;var[slt,ilt]=dce(Qp),pce=Se.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:o,loop:l=!0,...c}=e,d=fce(r),f=zp(o),h={role:"group",dir:f,...c};return i.jsx(slt,{scope:r,rovingFocus:s,disabled:n,children:s?i.jsx(B3,{asChild:!0,...d,orientation:a,dir:f,loop:l,children:i.jsx(_r.div,{...h,ref:t})}):i.jsx(_r.div,{...h,ref:t})})}),HS="ToggleGroupItem",gce=Se.forwardRef((e,t)=>{const r=mce(HS,e.__scopeToggleGroup),n=ilt(HS,e.__scopeToggleGroup),s=fce(e.__scopeToggleGroup),a=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:a,disabled:o},c=Se.useRef(null);return n.rovingFocus?i.jsx(z3,{asChild:!0,...s,focusable:!o,active:a,ref:c,children:i.jsx(LH,{...l,ref:t})}):i.jsx(LH,{...l,ref:t})});gce.displayName=HS;var LH=Se.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...s}=e,a=mce(HS,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return i.jsx(uce,{...l,...s,ref:t,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),vce=aI,xce=gce;const yce=Se.createContext({size:"default",variant:"default"}),TO=Se.forwardRef(({className:e,variant:t,size:r,children:n,...s},a)=>i.jsx(vce,{ref:a,className:Ht("flex items-center justify-center gap-1",e),...s,children:i.jsx(yce.Provider,{value:{variant:t,size:r},children:n})}));TO.displayName=vce.displayName;const olt=Xg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),t1=Se.forwardRef(({className:e,children:t,variant:r,size:n,...s},a)=>{const o=Se.useContext(yce);return i.jsx(xce,{ref:a,className:Ht(olt({variant:r||o.variant,size:n||o.size}),e),...s,children:t})});t1.displayName=xce.displayName;const llt=()=>{Dn();const{userProfile:e}=Un();Pr();const[t,r]=b.useState([]),[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState("events"),[d,f]=b.useState(""),[h,v]=b.useState("all"),g=b.useCallback(async()=>{var w,C;if(!(e!=null&&e.country)){console.log(" Pas de pays dfini dans le profil"),ze({title:"Erreur",description:"Pays non dfini dans votre profil",variant:"destructive"});return}o(!0);try{console.log(" Chargement des donnes pour:",e.country);const k=await Oe.from("events").select("*").eq("country",e.country).order("created_at",{ascending:!1});console.log(" vnements:",k);const T=await Oe.from("locations").select("*").eq("country",e.country).order("created_at",{ascending:!1});if(console.log(" Lieux:",T),k.error)throw k.error;if(T.error)throw T.error;r(k.data||[]),s(T.data||[]),console.log(" Chargement russi:",{vnements:(w=k.data)==null?void 0:w.length,lieux:(C=T.data)==null?void 0:C.length})}catch(k){console.error(" Erreur complte:",k),ze({title:"Erreur de chargement",description:k.message,variant:"destructive"})}finally{o(!1)}},[e==null?void 0:e.country]);b.useEffect(()=>{e!=null&&e.country&&g()},[e==null?void 0:e.country,g]);const _=b.useMemo(()=>{let C=(l==="events"?t:n).filter(k=>(k.title||k.name||"").toLowerCase().includes(d.toLowerCase()));if(h!=="all"){const k=h==="active";l==="events"?C=C.filter(T=>k&&T.status==="active"||!k&&T.status!=="active"):C=C.filter(T=>k&&T.is_active||!k&&!T.is_active)}return C},[l,t,n,d,h]),y=async(w,C)=>{try{const k=C==="event"?"delete_event_completely":"delete_location",T=C==="event"?"p_event_id":"p_location_id",{error:P}=await Oe.rpc(k,{[T]:w});if(P)throw P;ze({title:"Succs",description:`${C==="event"?"vnement":"Lieu"} supprim`}),g()}catch(k){console.error(" Erreur suppression:",k),ze({title:"Erreur",description:k.message,variant:"destructive"})}},j=async(w,C)=>{const k=C==="event"?"events":"locations",T=C==="event"?"status":"is_active";let P;C==="event"?P=w.status==="active"?"inactive":"active":P=!w.is_active;try{const{error:D}=await Oe.from(k).update({[T]:P}).eq("id",w.id);if(D)throw D;ze({title:"Succs",description:"Statut mis  jour"}),g()}catch(D){console.error(" Erreur changement statut:",D),ze({title:"Erreur",description:D.message,variant:"destructive"})}};return a?i.jsxs("div",{className:"flex justify-center items-center p-8",children:[i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary mr-2"}),i.jsx("span",{children:"Chargement des donnes..."})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Modration des vnements et Lieux"}),i.jsxs(nn,{children:["Gestion pour le pays: ",i.jsx("strong",{children:e==null?void 0:e.country})]})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs(TO,{type:"single",value:l,onValueChange:w=>w&&c(w),children:[i.jsxs(t1,{value:"events",className:"flex items-center gap-2",children:[i.jsx(qs,{className:"w-4 h-4"}),"vnements (",t.length,")"]}),i.jsxs(t1,{value:"locations",className:"flex items-center gap-2",children:[i.jsx(wo,{className:"w-4 h-4"}),"Lieux (",n.length,")"]})]}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(vt,{placeholder:"Rechercher...",value:d,onChange:w=>f(w.target.value),className:"pl-10"})]}),i.jsxs(TO,{type:"single",value:h,onValueChange:w=>w&&v(w),children:[i.jsx(t1,{value:"all",children:"Tous"}),i.jsx(t1,{value:"active",children:"Actifs"}),i.jsx(t1,{value:"inactive",children:"Inactifs"})]})]}),i.jsx("div",{className:"space-y-4",children:_.length===0?i.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:["Aucun ",l==="events"?"vnement":"lieu"," trouv"]}):_.map(w=>i.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:l==="events"?i.jsx(qs,{className:"w-6 h-6 text-primary"}):i.jsx(wo,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:w.title||w.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l==="events"?w.city:w.address}),i.jsx(nr,{variant:(l==="events"?w.status==="active":w.is_active)?"default":"secondary",className:"mt-1",children:l==="events"?w.status==="active"?"Actif":"Inactif":w.is_active?"Actif":"Inactif"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>j(w,l==="events"?"event":"location"),children:(l==="events"?w.status==="active":w.is_active)?i.jsx(_3,{className:"w-4 h-4"}):i.jsx(j3,{className:"w-4 h-4"})}),i.jsxs(jo,{children:[i.jsx(cC,{asChild:!0,children:i.jsx(Ee,{variant:"destructive",size:"sm",children:i.jsx(kl,{className:"w-4 h-4"})})}),i.jsxs(Ki,{children:[i.jsxs(Yi,{children:[i.jsx(Xi,{children:"Confirmer la suppression"}),i.jsx(Ji,{children:"Cette action est irrversible."})]}),i.jsxs(No,{children:[i.jsx(Qi,{children:"Annuler"}),i.jsx(Zi,{onClick:()=>y(w.id,l==="events"?"event":"location"),children:"Supprimer"})]})]})]})]})]},w.id))})]})]})})},clt=()=>{const{t:e}=Dn(),{user:t}=Pr(),{userProfile:r,loadingProfile:n}=Un(),[s,a]=b.useState([]),[o,l]=b.useState(!0),c=b.useCallback(async()=>{if(r!=null&&r.country){l(!0);try{const{data:d,error:f}=await Oe.from("profiles").select("*").eq("country",r.country);if(f)throw f;a(d||[])}catch{ze({title:e("common.error_title"),description:"Impossible de charger les donnes.",variant:"destructive"})}finally{l(!1)}}},[r==null?void 0:r.country,e]);return b.useEffect(()=>{r&&c()},[r,c]),n||o?i.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 flex items-center justify-center",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})}):!t||(r==null?void 0:r.user_type)!=="secretary"?i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[i.jsx("h1",{className:"text-2xl text-red-500",children:e("admin_dashboard.unauthorized_title")}),i.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.unauthorized_desc")})]}):i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:e("secretary_dashboard.title")}),i.jsx("p",{className:"text-muted-foreground",children:e("secretary_dashboard.welcome",{name:r.full_name||t.email})}),i.jsx("p",{className:"text-sm text-primary",children:e("secretary_dashboard.competence_zone",{country:r.country})})]}),i.jsxs(tm,{defaultValue:"moderation",className:"w-full",children:[i.jsxs(Xf,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[i.jsxs($r,{value:"moderation",children:[i.jsx(qs,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.event_moderation")]}),i.jsxs($r,{value:"users",children:[i.jsx(Jg,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.user_management")]}),i.jsxs($r,{value:"credits",children:[i.jsx(xc,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.credit_management")]}),i.jsxs($r,{value:"reversed_credits",children:[i.jsx(u2,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.reversed_credits")]}),i.jsxs($r,{value:"withdrawals",children:[i.jsx(Us,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.withdrawal_management")]})]}),i.jsx(zr,{value:"moderation",className:"mt-4",children:i.jsx(llt,{})}),i.jsx(zr,{value:"users",className:"mt-4",children:i.jsx(rlt,{users:s,onRefresh:c})}),i.jsx(zr,{value:"credits",className:"mt-4",children:i.jsx(uO,{users:s,onRefresh:c,userProfile:r})}),i.jsx(zr,{value:"reversed_credits",className:"mt-4",children:i.jsx(E4,{isSuperAdmin:!1,country:r.country,actorId:t.id})}),i.jsx(zr,{value:"withdrawals",className:"mt-4",children:i.jsx(C4,{})})]})]})},ult=()=>{const{user:e}=Pr(),{userProfile:t,loadingProfile:r,adminConfig:n,forceRefreshUserProfile:s}=Un(),a=on(),{t:o}=Dn(),[l,c]=b.useState(!1),d=async()=>{c(!0),await s(),setTimeout(()=>c(!1),1e3)};if(r)return i.jsx("div",{className:"flex justify-center items-center h-screen bg-background",children:i.jsx(Dt,{className:"w-16 h-16 animate-spin text-primary"})});if(!e||!t)return i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("p",{children:o("profile_page.unauthorized_desc")}),i.jsx(Ee,{onClick:()=>a("/auth"),children:o("auth.login.button")})]});const{free_coin_balance:f,coin_balance:h,available_earnings:v}=t,g=(f||0)+(h||0),_=(v||0)*((n==null?void 0:n.coin_to_fcfa_rate)||10),y=({icon:j,title:w,value:C,color:k,description:T,isCurrency:P=!1})=>i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs(at,{className:`overflow-hidden bg-gradient-to-br ${k} text-white`,children:[i.jsxs(Et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:w}),j]}),i.jsxs(st,{children:[i.jsx("div",{className:"text-4xl font-bold",children:P?C.toLocaleString():C}),T&&i.jsx("p",{className:"text-xs text-white/80",children:T})]})]})});return i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[i.jsxs("header",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:o("wallet_page.title")}),i.jsx(Ee,{onClick:d,variant:"ghost",size:"icon",disabled:l,children:i.jsx(Hh,{className:`h-5 w-5 ${l?"animate-spin":""}`})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[i.jsx(y,{icon:i.jsx(Us,{className:"h-6 w-6 text-white/80"}),title:o("wallet_page.total_balance"),value:g.toLocaleString(),color:"from-blue-500 to-indigo-600",description:`(${(f==null?void 0:f.toLocaleString())||0} ${o("wallet_page.free_coins")} + ${(h==null?void 0:h.toLocaleString())||0} ${o("wallet_page.paid_coins")})`}),i.jsx(y,{icon:i.jsx(yc,{className:"h-6 w-6 text-white/80"}),title:o("wallet_page.available_earnings"),value:(v==null?void 0:v.toLocaleString())||0,color:"from-green-500 to-teal-600",description:o("wallet_page.earnings_in_fcfa",{amount:_.toLocaleString()})}),i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs(at,{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:[i.jsx(Et,{children:i.jsx(Tt,{children:o("wallet_page.buy_coins_title")})}),i.jsxs(st,{className:"flex flex-col items-center",children:[i.jsx("p",{className:"text-center mb-4",children:o("wallet_page.buy_coins_desc")}),i.jsxs(Ee,{onClick:()=>a("/packs"),className:"bg-white text-orange-500 hover:bg-white/90",children:[i.jsx(rw,{className:"mr-2 h-4 w-4"})," ",o("wallet_page.buy_coins_button")]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs(at,{className:"bg-card/80 backdrop-blur-sm",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(dn,{className:"text-primary"})," ",o("wallet_page.balance_details_title")]})}),i.jsxs(st,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[i.jsx("span",{className:"font-medium",children:o("wallet_page.free_coins")}),i.jsxs("span",{className:"font-bold text-lg text-green-400",children:[(f==null?void 0:f.toLocaleString())||0," "]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[i.jsx("span",{className:"font-medium",children:o("wallet_page.paid_coins")}),i.jsxs("span",{className:"font-bold text-lg text-blue-400",children:[(h==null?void 0:h.toLocaleString())||0," "]})]}),i.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:o("wallet_page.free_coins_desc")})]})]}),i.jsxs(at,{className:"bg-card/80 backdrop-blur-sm",children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(fX,{className:"text-primary"})," ",o("wallet_page.withdrawal_title")]}),i.jsx(nn,{children:o("wallet_page.withdrawal_desc")})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"p-4 rounded-lg bg-background text-center mb-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:o("wallet_page.available_earnings")}),i.jsxs("p",{className:"text-3xl font-bold text-green-400",children:[(v==null?void 0:v.toLocaleString())||0," "]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o("wallet_page.earnings_in_fcfa",{amount:_.toLocaleString()})})]}),i.jsx(Ee,{className:"w-full",disabled:(v||0)<((n==null?void 0:n.min_withdrawal_pi)||5e3),children:o("wallet_page.request_withdrawal_button")}),i.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:o("wallet_page.withdrawal_minimum",{amount:(n==null?void 0:n.min_withdrawal_pi)||5e3})})]})]})]}),i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:i.jsxs(at,{className:"mt-8 bg-card/80 backdrop-blur-sm",children:[i.jsx(Et,{children:i.jsx(Tt,{children:"Historique des Transactions"})}),i.jsx(st,{children:i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"L'historique des transactions sera bientt disponible ici."})})})]})})]})},dlt=()=>{var f,h;const{user:e}=Pr(),{userProfile:t,updateUserProfile:r}=Un(),[n,s]=b.useState(!1),[a,o]=b.useState({full_name:"",email:"",phone:"",city:"",country:"",bio:"",avatar_url:""});b.useEffect(()=>{t&&o({full_name:t.full_name||"",email:t.email||(e==null?void 0:e.email)||"",phone:t.phone||"",city:t.city||"",country:t.country||"",bio:t.bio||"",avatar_url:t.avatar_url||""})},[t,e]);const l=I_.map(v=>v.name).sort(),c=()=>a.full_name.trim()?!a.email.trim()||!/\S+@\S+\.\S+/.test(a.email)?(console.error("Validation error: email"),ze({title:"Erreur",description:"L'email est invalide.",variant:"destructive"}),!1):a.bio&&a.bio.length>500?(console.error("Validation error: bio length"),ze({title:"Erreur",description:"La biographie est trop longue (max 500 caractres).",variant:"destructive"}),!1):!0:(console.error("Validation error: full_name"),ze({title:"Erreur",description:"Le nom complet est obligatoire.",variant:"destructive"}),!1),d=async()=>{if(c()){s(!0);try{const v=await r(e.id,a);if(v.success)ze({title:"Profil mis  jour",description:"Vos informations ont t sauvegardes avec succs.",variant:"success"});else throw v.error}catch(v){console.error("Error saving profile:",v),ze({title:"Erreur",description:v.message||"Une erreur est survenue lors de la sauvegarde.",variant:"destructive",action:i.jsx(Ee,{variant:"outline",size:"sm",onClick:d,children:"Ressayer"})})}finally{s(!1)}}};return i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"text-foreground flex items-center gap-2",children:["Informations personnelles",n&&i.jsx(Dt,{className:"h-4 w-4 animate-spin"})]})}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"name",className:"text-foreground",children:"Nom complet *"}),i.jsx(vt,{id:"name",value:a.full_name,onChange:v=>o({...a,full_name:v.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"Votre nom complet"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"email",className:"text-foreground",children:"Email *"}),i.jsx(vt,{id:"email",type:"email",value:a.email,onChange:v=>o({...a,email:v.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"votre@email.com"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"phone",className:"text-foreground",children:"Tlphone"}),i.jsx(vt,{id:"phone",value:a.phone,onChange:v=>o({...a,phone:v.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"+XXX XXXXXXXXX"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"avatar_url",className:"text-foreground",children:"URL de l'Avatar"}),i.jsx(vt,{id:"avatar_url",value:a.avatar_url,onChange:v=>o({...a,avatar_url:v.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"https://exemple.com/photo.jpg"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",className:"text-foreground",children:"Pays"}),i.jsxs(aa,{value:a.country,onValueChange:v=>o({...a,country:v,city:""}),children:[i.jsx(Jn,{className:"bg-secondary border-border text-foreground",children:i.jsx(sa,{placeholder:"Choisir un pays"})}),i.jsx(Zn,{className:"bg-card border-border h-60",children:l.map(v=>i.jsx(ur,{value:v,className:"text-foreground",children:v},v))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",className:"text-foreground",children:"Ville"}),i.jsxs(aa,{value:a.city,onValueChange:v=>o({...a,city:v}),disabled:!a.country,children:[i.jsx(Jn,{className:"bg-secondary border-border text-foreground",children:i.jsx(sa,{placeholder:"Choisir une ville"})}),i.jsx(Zn,{className:"bg-card border-border h-60",children:a.country&&((f=px[a.country])==null?void 0:f.map(v=>i.jsx(ur,{value:v,className:"text-foreground",children:v},v)))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Qe,{htmlFor:"bio",className:"text-foreground",children:["Biographie (",((h=a.bio)==null?void 0:h.length)||0,"/500)"]}),i.jsx(So,{id:"bio",value:a.bio,onChange:v=>o({...a,bio:v.target.value}),className:"bg-secondary border-border text-foreground min-h-[100px]",placeholder:"Parlez-nous un peu de vous...",maxLength:500})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(Ee,{onClick:d,disabled:n,className:"gradient-red text-white hover:opacity-90 w-full md:w-auto",children:[n?i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(N3,{className:"w-4 h-4 mr-2"}),n?"Sauvegarde...":"Sauvegarder les modifications"]})})]})]})},flt=()=>{const{toast:e}=Ti(),[t,r]=b.useState(""),[n,s]=b.useState(""),[a,o]=b.useState(!1),[l,c]=b.useState(!1),d=async()=>{if(t!==n){e({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}if(t.length<6){e({title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractres.",variant:"destructive"});return}o(!0);try{const{error:h}=await Oe.auth.updateUser({password:t});if(h)throw h;e({title:"Succs",description:"Votre mot de passe a t modifi."}),c(!1),r(""),s("")}catch(h){e({title:"Erreur",description:h.message,variant:"destructive"})}finally{o(!1)}},f=()=>{e({title:" Cette fonctionnalit n'est pas encore implmente.",description:"Ne vous inquitez pas ! Vous pouvez la demander dans votre prochaine requte ! "})};return i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsxs(Et,{children:[i.jsx(Tt,{className:"text-foreground",children:"Scurit et Connexion"}),i.jsx(nn,{className:"text-muted-foreground",children:"Grez vos options de scurit."})]}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground",children:"Changer le mot de passe"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Il est recommand d'utiliser un mot de passe fort."})]}),i.jsxs(Ao,{open:l,onOpenChange:c,children:[i.jsx(M_,{asChild:!0,children:i.jsx(Ee,{variant:"outline",children:"Changer"})}),i.jsxs(to,{children:[i.jsxs(ko,{children:[i.jsx(Eo,{children:"Changer de mot de passe"}),i.jsx(Ol,{children:"Entrez votre nouveau mot de passe ci-dessous."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"new-password",children:"Nouveau mot de passe"}),i.jsx(vt,{id:"new-password",type:"password",value:t,onChange:h=>r(h.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"confirm-password",children:"Confirmer le mot de passe"}),i.jsx(vt,{id:"confirm-password",type:"password",value:n,onChange:h=>s(h.target.value)})]})]}),i.jsxs(Tc,{children:[i.jsx(Ee,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),i.jsxs(Ee,{onClick:d,disabled:a,children:[a?i.jsx(Dt,{className:"w-4 h-4 animate-spin"}):i.jsx(Wh,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground",children:"Authentification  deux facteurs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de scurit supplmentaire."})]}),i.jsx(Ee,{variant:"outline",onClick:f,children:"Activer"})]})]})]})},D6={push_notifications_enabled:!0,new_events_notification:!0,promoted_events_notification:!0,nearby_events_notification:!0},hlt=()=>{const{user:e}=Pr(),[t,r]=b.useState(D6),[n,s]=b.useState(!0),a=b.useCallback(async()=>{if(e){s(!0);try{const{data:c,error:d}=await Oe.from("profiles").select("notification_settings").eq("id",e.id).single();if(d&&d.code!=="PGRST116")throw d;c&&c.notification_settings?r({...D6,...c.notification_settings}):r(D6)}catch{ze({title:"Erreur",description:"Impossible de charger les paramtres de notification.",variant:"destructive"})}finally{s(!1)}}},[e,ze]);b.useEffect(()=>{a()},[a]);const o=async()=>{if(e){s(!0);try{const{error:c}=await Oe.from("profiles").update({notification_settings:t}).eq("id",e.id);if(c)throw c;ze({title:"Succs",description:"Paramtres de notification enregistrs."})}catch{ze({title:"Erreur",description:"Impossible d'enregistrer les paramtres.",variant:"destructive"})}finally{s(!1)}}},l=c=>{r(d=>({...d,[c]:!d[c]}))};return n?i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsx(Et,{children:i.jsx(Tt,{className:"text-foreground",children:"Paramtres de notification"})}),i.jsx(st,{className:"flex items-center justify-center h-48",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})})]}):i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsx(Et,{children:i.jsx(Tt,{className:"text-foreground",children:"Paramtres de notification"})}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"push_notifications_enabled",className:"font-medium text-foreground",children:"Activer les notifications Push"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications sur votre appareil."})]}),i.jsx(xo,{id:"push_notifications_enabled",checked:t.push_notifications_enabled,onCheckedChange:()=>l("push_notifications_enabled")})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"new_events_notification",className:"font-medium text-foreground",children:"Nouveaux vnements"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les nouveaux vnements."})]}),i.jsx(xo,{id:"new_events_notification",checked:t.new_events_notification,onCheckedChange:()=>l("new_events_notification")})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"promoted_events_notification",className:"font-medium text-foreground",children:"vnements promus"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les vnements mis en avant."})]}),i.jsx(xo,{id:"promoted_events_notification",checked:t.promoted_events_notification,onCheckedChange:()=>l("promoted_events_notification")})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"nearby_events_notification",className:"font-medium text-foreground",children:"vnements  proximit"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les vnements prs de chez vous."})]}),i.jsx(xo,{id:"nearby_events_notification",checked:t.nearby_events_notification,onCheckedChange:()=>l("nearby_events_notification")})]})]}),i.jsxs(Ee,{onClick:o,disabled:n,className:"gradient-red text-white",children:[n?i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(N3,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})};var bce=["PageUp","PageDown"],wce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_ce={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ey="Slider",[PO,mlt,plt]=Jx(Ey),[jce,sdt]=eo(Ey,[plt]),[glt,TA]=jce(Ey),Nce=b.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:h=()=>{},onValueCommit:v=()=>{},inverted:g=!1,form:_,...y}=e,j=b.useRef(new Set),w=b.useRef(0),k=o==="horizontal"?vlt:xlt,[T=[],P]=_o({prop:f,defaultProp:d,onChange:U=>{var re;(re=[...j.current][w.current])==null||re.focus(),h(U)}}),D=b.useRef(T);function M(U){const q=jlt(T,U);V(U,q)}function I(U){V(U,w.current)}function B(){const U=D.current[w.current];T[w.current]!==U&&v(T)}function V(U,q,{commit:re}={commit:!1}){const H=Alt(a),X=klt(Math.round((U-n)/a)*a+n,H),Q=ON(X,[n,s]);P((se=[])=>{const te=wlt(se,Q,q);if(Clt(te,c*a)){w.current=te.indexOf(Q);const ce=String(te)!==String(se);return ce&&re&&v(te),ce?te:se}else return se})}return i.jsx(glt,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:w,thumbs:j.current,values:T,orientation:o,form:_,children:i.jsx(PO.Provider,{scope:e.__scopeSlider,children:i.jsx(PO.Slot,{scope:e.__scopeSlider,children:i.jsx(k,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:Wt(y.onPointerDown,()=>{l||(D.current=T)}),min:n,max:s,inverted:g,onSlideStart:l?void 0:M,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:B,onHomeKeyDown:()=>!l&&V(n,0,{commit:!0}),onEndKeyDown:()=>!l&&V(s,T.length-1,{commit:!0}),onStepKeyDown:({event:U,direction:q})=>{if(!l){const X=bce.includes(U.key)||U.shiftKey&&wce.includes(U.key)?10:1,Q=w.current,se=T[Q],te=a*X*q;V(se+te,Q,{commit:!0})}}})})})})});Nce.displayName=Ey;var[Sce,Cce]=jce(Ey,{startEdge:"left",endEdge:"right",size:"width",direction:1}),vlt=b.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=e,[h,v]=b.useState(null),g=mn(t,k=>v(k)),_=b.useRef(void 0),y=zp(s),j=y==="ltr",w=j&&!a||!j&&a;function C(k){const T=_.current||h.getBoundingClientRect(),P=[0,T.width],M=sI(P,w?[r,n]:[n,r]);return _.current=T,M(k-T.left)}return i.jsx(Sce,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:i.jsx(Ace,{dir:y,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const T=C(k.clientX);o==null||o(T)},onSlideMove:k=>{const T=C(k.clientX);l==null||l(T)},onSlideEnd:()=>{_.current=void 0,c==null||c()},onStepKeyDown:k=>{const P=_ce[w?"from-left":"from-right"].includes(k.key);d==null||d({event:k,direction:P?-1:1})}})})}),xlt=b.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,f=b.useRef(null),h=mn(t,f),v=b.useRef(void 0),g=!s;function _(y){const j=v.current||f.current.getBoundingClientRect(),w=[0,j.height],k=sI(w,g?[n,r]:[r,n]);return v.current=j,k(y-j.top)}return i.jsx(Sce,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:i.jsx(Ace,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const j=_(y.clientY);a==null||a(j)},onSlideMove:y=>{const j=_(y.clientY);o==null||o(j)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:y=>{const w=_ce[g?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:w?-1:1})}})})}),Ace=b.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,f=TA(Ey,r);return i.jsx(_r.span,{...d,ref:t,onKeyDown:Wt(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):bce.concat(wce).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Wt(e.onPointerDown,h=>{const v=h.target;v.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(v)?v.focus():n(h)}),onPointerMove:Wt(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Wt(e.onPointerUp,h=>{const v=h.target;v.hasPointerCapture(h.pointerId)&&(v.releasePointerCapture(h.pointerId),a(h))})})}),kce="SliderTrack",Ece=b.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=TA(kce,r);return i.jsx(_r.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});Ece.displayName=kce;var OO="SliderRange",Tce=b.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=TA(OO,r),a=Cce(OO,r),o=b.useRef(null),l=mn(t,o),c=s.values.length,d=s.values.map(v=>Fce(v,s.min,s.max)),f=c>1?Math.min(...d):0,h=100-Math.max(...d);return i.jsx(_r.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:h+"%"}})});Tce.displayName=OO;var FO="SliderThumb",Pce=b.forwardRef((e,t)=>{const r=mlt(e.__scopeSlider),[n,s]=b.useState(null),a=mn(t,l=>s(l)),o=b.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(ylt,{...e,ref:a,index:o})}),ylt=b.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,o=TA(FO,r),l=Cce(FO,r),[c,d]=b.useState(null),f=mn(t,C=>d(C)),h=c?o.form||!!c.closest("form"):!0,v=__(c),g=o.values[n],_=g===void 0?0:Fce(g,o.min,o.max),y=_lt(n,o.values.length),j=v==null?void 0:v[l.size],w=j?Nlt(j,_,l.direction):0;return b.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${_}% + ${w}px)`},children:[i.jsx(PO.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(_r.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:f,style:g===void 0?{display:"none"}:e.style,onFocus:Wt(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&i.jsx(Oce,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},n)]})});Pce.displayName=FO;var blt="RadioBubbleInput",Oce=b.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=b.useRef(null),a=mn(s,n),o=L_(t);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[o,t]),i.jsx(_r.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});Oce.displayName=blt;function wlt(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function Fce(e,t,r){const a=100/(r-t)*(e-t);return ON(a,[0,100])}function _lt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function jlt(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function Nlt(e,t,r){const n=e/2,a=sI([0,50],[0,n]);return(n-a(t)*r)*r}function Slt(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Clt(e,t){if(t>0){const r=Slt(e);return Math.min(...r)>=t}return!0}function sI(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Alt(e){return(String(e).split(".")[1]||"").length}function klt(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Dce=Nce,Elt=Ece,Tlt=Tce,Plt=Pce;const Rce=Se.forwardRef(({className:e,...t},r)=>i.jsxs(Dce,{ref:r,className:Ht("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(Elt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(Tlt,{className:"absolute h-full bg-primary"})}),i.jsx(Plt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Rce.displayName=Dce.displayName;const Olt=()=>{const{user:e}=Pr(),{userProfile:t,updateUserProfile:r}=Un(),[n,s]=b.useState(!1),[a,o]=b.useState(20);b.useEffect(()=>{t&&t.notification_radius&&o(t.notification_radius)},[t]);const l=async()=>{s(!0);try{await r(e.id,{notification_radius:a}),ze({title:"Prfrences mises  jour",description:"Vos prfrences ont t sauvegardes avec succs."})}catch{ze({title:"Erreur",description:"Une erreur est survenue lors de la sauvegarde.",variant:"destructive"})}finally{s(!1)}};return i.jsxs(at,{className:"glass-effect border-[#C9A227]/20",children:[i.jsx(Et,{children:i.jsx(Tt,{className:"text-white",children:"Prfrences de dcouverte"})}),i.jsxs(st,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs(Qe,{className:"text-white mb-4 block",children:["Rayon de dcouverte: ",a," km"]}),i.jsx(Rce,{value:[a],onValueChange:c=>o(c[0]),max:100,min:5,step:5,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[i.jsx("span",{children:"5 km"}),i.jsx("span",{children:"50 km"}),i.jsx("span",{children:"100 km"})]})]}),i.jsxs(Ee,{onClick:l,disabled:n,className:"gradient-gold text-[#0B0B0D] hover:opacity-90",children:[n?i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(N3,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})},Flt=()=>{const{t:e}=Dn();return i.jsxs(i.Fragment,{children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("settings.title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("settings.description")})]}),i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:e("settings.title")}),i.jsx("p",{className:"text-muted-foreground",children:e("settings.subtitle")})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[i.jsx(dlt,{}),i.jsx(Olt,{}),i.jsx(hlt,{}),i.jsx(flt,{})]})]})]})},Dlt=({promotion:e,isUnlocked:t,onClick:r,adminConfig:n})=>{const[s,a]=b.useState("");return b.useEffect(()=>{const o=()=>{if(!e.pack_expires_at){a("");return}const c=new Date(e.pack_expires_at),d=new Date,f=c.getTime()-d.getTime();if(f<=0){a("Termin");return}const h=Math.floor(f/(1e3*60*60*24));if(h>0)a(`${h}j`);else{const v=Math.floor(f/36e5);a(`${v}h`)}};o();const l=setInterval(o,36e5);return()=>clearInterval(l)},[e.pack_expires_at]),i.jsx(wt.div,{onClick:r,className:"cursor-pointer h-full",whileHover:{y:-5},children:i.jsxs(at,{className:"h-full flex flex-col bg-card border-border overflow-hidden hover:border-primary transition-all shadow-lg",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"w-full h-48 object-cover",alt:`Aperu pour ${e.title}`,src:e.cover_image||"https://images.unsplash.com/photo-1509930854872-0f61005b282e?auto=format&fit=crop&w=400&h=300&q=75"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s&&i.jsxs(nr,{variant:"secondary",className:"absolute top-3 left-3 bg-black/50 text-white backdrop-blur-sm",children:[i.jsx(nu,{className:"w-3 h-3 mr-1"}),s]}),i.jsx(nr,{variant:"secondary",className:"absolute top-3 right-3 bg-primary text-primary-foreground",children:e.pack_name||"Promo"}),!t&&i.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center backdrop-blur-sm",children:[i.jsx(Wh,{className:"w-8 h-8 text-accent mb-2"}),i.jsx("p",{className:"text-white font-bold",children:"Dtails verrouills"}),i.jsxs("div",{className:"flex items-center text-xs text-amber-300 mt-1",children:[i.jsx(dn,{className:"w-3 h-3 mr-1"}),i.jsxs("span",{children:[(n==null?void 0:n.interaction_cost_pi)||2," pour voir"]})]})]})]}),i.jsx(st,{className:"p-4 flex-grow flex flex-col justify-between",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2 font-heading",children:e.title}),t?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[i.jsx(WF,{className:"w-4 h-4 mr-2 text-primary"}),e.category]}),i.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[i.jsx(wo,{className:"w-4 h-4 mr-2 text-primary"}),e.city]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Connectez-vous pour voir tous les dtails."})]})})]})})},Rlt=()=>{const e=on(),{getPromotions:t,userProfile:r,adminConfig:n,forceRefreshUserProfile:s}=Un(),{user:a}=Pr(),[o,l]=b.useState([]),[c,d]=b.useState(!0),[f,h]=b.useState(""),[v,g]=b.useState(new Set),[_,y]=b.useState(!1),[j,w]=b.useState(!1),[C,k]=b.useState({amountFcfa:0,packId:null,action:""});b.useEffect(()=>{(async()=>{d(!0);const I=await t({status:"active"});l(I),d(!1)})()},[t]),b.useEffect(()=>{(async()=>{if(a){const{data:I,error:B}=await Oe.from("user_interactions").select("event_id").eq("user_id",a.id).eq("interaction_type","view");if(B)console.error("Error fetching unlocked promotions:",B);else{const V=new Set(I.map(U=>U.event_id));g(V)}}})()},[a]);const T=async M=>{if(!a){ze({title:"Connexion requise",description:"Veuillez vous connecter pour voir les dtails.",variant:"destructive"}),e("/auth");return}if(v.has(M.event_id)||M.organizer_id===a.id){e(`/event/${M.event_id}`);return}const B=(n==null?void 0:n.interaction_cost_pi)||2,V=async()=>{try{await ws.debitCoins(a.id,B,`Dblocage promotion: ${M.title}`,M.event_id,"event");const{error:q}=await Oe.from("user_interactions").insert({event_id:M.event_id,user_id:a.id,interaction_type:"view",cost_paid:B});if(q)throw q;g(re=>new Set(re).add(M.event_id)),s(),ze({title:"Promotion dbloque!",description:`Vous pouvez maintenant voir les dtails de "${M.title}".`}),e(`/event/${M.event_id}`)}catch(q){ze({title:"Erreur",description:q.message,variant:"destructive"})}},U=()=>{w(!0)};await ws.handleAction({userId:a.id,requiredCoins:B,onSuccess:V,onInsufficientBalance:U})},P=b.useMemo(()=>(f?o.filter(I=>I.title.toLowerCase().includes(f.toLowerCase())||I.description&&I.description.toLowerCase().includes(f.toLowerCase())||I.category.toLowerCase().includes(f.toLowerCase())):o).sort((I,B)=>{const V=v.has(I.event_id)||a&&I.organizer_id===a.id,U=v.has(B.event_id)||a&&B.organizer_id===a.id;return V&&!U?1:!V&&U?-1:new Date(B.created_at)-new Date(I.created_at)}),[o,f,v,a]),D=r&&["organizer","admin","super_admin"].includes(r.user_type);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsx("title",{children:"Promotions - BonPlaninfos"}),i.jsx("meta",{name:"description",content:"Dcouvrez les meilleures promotions et offres spciales."})]}),i.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Promotions"}),D&&i.jsxs(Ee,{onClick:()=>e("/create-event"),className:"bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Crer un vnement"]})]}),i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative mb-6",children:[i.jsx(Co,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),i.jsx(vt,{placeholder:"Rechercher une promotion, une catgorie...",value:f,onChange:M=>h(M.target.value),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary"})]}),i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c?i.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"Chargement des promotions..."}):P.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(M=>i.jsx(Dlt,{promotion:M,isUnlocked:v.has(M.event_id)||a&&M.organizer_id===a.id,onClick:()=>T(M),adminConfig:n},M.id))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucune promotion trouve"}),i.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Essayez de modifier votre recherche ou revenez plus tard."})]})})]}),i.jsx(Kd,{isOpen:j,onClose:()=>w(!1),onProceed:()=>{w(!1),k({amountFcfa:0,packId:null,action:"buy_coins"}),y(!0)}}),i.jsx(yC,{isOpen:_,onClose:()=>y(!1),amountFcfa:C.amountFcfa,packId:C.packId,action:C.action})]})},Mlt=()=>{const e=on(),{user:t}=Pr(),{userProfile:r,adminConfig:n,forceRefreshUserProfile:s,getEvents:a}=Un(),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[f,h]=b.useState([]),[v,g]=b.useState({event_id:"",promotion_pack_id:""});b.useEffect(()=>{t||(ze({title:"Accs refus",description:"Veuillez vous connecter pour crer une promotion.",variant:"destructive"}),e("/auth",{state:{from:"/create-promotion"}}))},[t,e]),b.useEffect(()=>{(async()=>{if(t){const k=await a({organizer_id:t.id});h(k)}})()},[t,a]);const _=(n==null?void 0:n.promotion_packs)||[],y=async C=>{if(C.preventDefault(),!t){ze({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"}),e("/auth");return}l(!0);try{if(!v.event_id||!v.promotion_pack_id)throw new Error("Veuillez slectionner un vnement et un pack de promotion.");const k=_.find(D=>D.id===v.promotion_pack_id);if(!k)throw new Error("Pack de promotion invalide.");const T=async()=>{try{await ws.debitCoins(t.id,k.cost_pi,`Promotion pour l'vnement ID: ${v.event_id}`);const{data:D,error:M}=await Oe.from("event_promotions").insert({event_id:v.event_id,organizer_id:t.id,promotion_pack_id:v.promotion_pack_id,start_date:new Date().toISOString(),end_date:new Date(Date.now()+k.duration_days*24*60*60*1e3).toISOString(),cost_pi:k.cost_pi,status:"active",payment_status:"paid"}).select().single();if(M)throw M;s(),ze({title:"Promotion cre !",description:"Votre vnement est maintenant promu."}),e(`/event/${v.event_id}`)}catch(D){console.error("Payment success, but DB update failed:",D),ze({title:"Erreur de base de donnes",description:"Votre paiement a russi, mais la mise  jour de la promotion a chou. Veuillez contacter le support.",variant:"destructive"})}},P=()=>{l(!1),d(!0)};await ws.handleAction({userId:t.id,requiredCoins:k.cost_pi,onSuccess:T,onInsufficientBalance:P,amountFcfa:ws.convertCoinsToFcfa(k.cost_pi),action:"create_promotion",packId:k.id,email:t.email,phone:r==null?void 0:r.phone})}catch(k){ze({title:"Erreur",description:k.message,variant:"destructive"}),l(!1)}},j=(C,k)=>{g(T=>({...T,[C]:k}))},w=()=>{d(!1);const C=_.find(k=>k.id===v.promotion_pack_id);C&&ws.generateMoneyFusionLink({userId:t.id,amountFcfa:ws.convertCoinsToFcfa(C.cost_pi),action:"create_promotion",packId:C.id,eventId:v.event_id,email:t.email,phone:r==null?void 0:r.phone})};return t?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsx("title",{children:"Promouvoir un vnement - BonPlaninfos"}),i.jsx("meta",{name:"description",content:"Promouvez votre vnement sur BonPlaninfos."})]}),i.jsxs("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>e(-1),className:"text-muted-foreground hover:text-primary mb-4",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Retour"]}),i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Promouvoir un vnement"}),i.jsx("p",{className:"text-muted-foreground",children:"Augmentez la visibilit de votre vnement pour toucher plus de monde."})]}),i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs("form",{onSubmit:y,className:"space-y-8",children:[i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"flex items-center",children:[i.jsx(cu,{className:"w-5 h-5 mr-2 text-primary"}),"Slectionnez votre vnement"]})}),i.jsx(st,{className:"space-y-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"event_id",children:"vnement  promouvoir *"}),i.jsxs(aa,{value:v.event_id,onValueChange:C=>j("event_id",C),children:[i.jsx(Jn,{id:"event_id",children:i.jsx(sa,{placeholder:"Choisir un de vos vnements"})}),i.jsx(Zn,{children:f.length>0?f.map(C=>i.jsx(ur,{value:C.id,children:C.title},C.id)):i.jsx(ur,{value:"none",disabled:!0,children:"Vous n'avez aucun vnement actif."})})]})]})})]}),i.jsxs(at,{className:"glass-effect border-primary/20",children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"flex items-center",children:[i.jsx(mX,{className:"w-5 h-5 mr-2 text-primary"}),"Choix du Pack de Promotion *"]})}),i.jsx(st,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Slectionnez un pack pour votre promotion"}),i.jsxs(aa,{value:v.promotion_pack_id,onValueChange:C=>j("promotion_pack_id",C),children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir un pack"})}),i.jsx(Zn,{children:_.map(C=>i.jsx(ur,{value:C.id,children:i.jsxs("div",{className:"flex justify-between w-full",children:[i.jsxs("span",{children:[C.name," - ",C.duration_days," jours"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(dn,{className:"w-3 h-3"}),C.cost_pi]})]})},C.id))})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Le cot en pices sera dduit de votre portefeuille lors de la publication. Si votre solde est insuffisant, vous serez redirig pour payer."})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[i.jsx(Ee,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Annuler"}),i.jsxs(Ee,{type:"submit",disabled:o||!v.event_id||!v.promotion_pack_id,className:"gradient-gold text-background hover:opacity-90 flex-1",children:[o?i.jsxs(i.Fragment,{children:[i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"})," Publication..."]}):"Publier la promotion",i.jsx(pi,{className:"w-4 h-4 ml-2"})]})]})]})})]}),i.jsx(Kd,{isOpen:c,onClose:()=>d(!1),onProceed:w})]}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(Dt,{className:"w-8 h-8 animate-spin text-primary"})})},$H=({type:e})=>{const r={new_event:i.jsx(qs,{className:"w-5 h-5 text-blue-400"}),promotion:i.jsx(WF,{className:"w-5 h-5 text-purple-400"}),system:i.jsx(Kf,{className:"w-5 h-5 text-gray-400"}),earning:i.jsx(dn,{className:"w-5 h-5 text-yellow-400"}),success:i.jsx(Vi,{className:"w-5 h-5 text-green-400"}),error:i.jsx(ru,{className:"w-5 h-5 text-red-400"}),info:i.jsx(cu,{className:"w-5 h-5 text-cyan-400"})}[e]||i.jsx(pp,{className:"w-5 h-5 text-gray-400"}),s={new_event:"bg-blue-500/20",promotion:"bg-purple-500/20",system:"bg-gray-500/20",earning:"bg-yellow-500/20",success:"bg-green-500/20",error:"bg-red-500/20",info:"bg-cyan-500/20"}[e]||"bg-gray-500/20";return i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-4 ${s}`,children:r})},Ilt=()=>{const{t:e}=Dn(),t=on(),{user:r}=Pr(),[n,s]=b.useState([]),[a,o]=b.useState(!0);b.useEffect(()=>{r?(async()=>{o(!0);const{data:v,error:g}=await Oe.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});g?ze({title:e("notifications_page.update_error"),description:"Impossible de charger les notifications.",variant:"destructive"}):s(v),o(!1)})():t("/auth")},[r,t,e]);const l=async()=>{try{const{error:h}=await Oe.from("notifications").update({is_read:!0}).eq("user_id",r.id).eq("is_read",!1);if(h)throw h;s(n.map(v=>({...v,is_read:!0}))),ze({title:e("notifications_page.update_success"),description:e("notifications_page.update_success_desc"),duration:5e3})}catch{ze({title:e("notifications_page.update_error"),description:"Impossible de marquer les notifications comme lues.",variant:"destructive",duration:5e3})}},c=async h=>{var v,g;if(!h.is_read){const{error:_}=await Oe.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",h.id);_||s(y=>y.map(j=>j.id===h.id?{...j,is_read:!0}:j))}(v=h.data)!=null&&v.event_id?t(`/event/${h.data.event_id}`):(g=h.data)!=null&&g.link&&t(h.data.link)};if(!r)return null;const d=n.filter(h=>!h.is_read),f=d.length;return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("notifications_page.title")," - BonPlaninfos"]}),i.jsx("meta",{name:"description",content:"Consultez vos dernires notifications et restez inform."})]}),i.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[i.jsx(pp,{className:"w-8 h-8 mr-3 text-primary"}),e("notifications_page.title")]}),i.jsx(Ee,{variant:"outline",onClick:l,disabled:f===0,children:e("notifications_page.mark_all_read")})]}),i.jsxs(tm,{defaultValue:"all",className:"w-full",children:[i.jsxs(Xf,{className:"grid w-full grid-cols-2 bg-muted",children:[i.jsx($r,{value:"all",children:e("notifications_page.tabs.all")}),i.jsxs($r,{value:"unread",className:"relative",children:[e("notifications_page.tabs.unread"),f>0&&i.jsx(nr,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 gradient-red text-white text-xs",children:f})]})]}),i.jsxs(zr,{value:"all",className:"mt-6 space-y-4",children:[n.map(h=>i.jsxs("div",{className:`p-4 flex items-start rounded-lg transition-all cursor-pointer hover:bg-muted/80 ${h.is_read?"bg-muted/50":"bg-primary/5 border-l-4 border-primary"}`,onClick:()=>c(h),children:[i.jsx($H,{type:h.type}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-foreground",children:h.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(h.created_at).toLocaleString("fr-FR")})]})]},h.id)),n.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(pp,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:e("notifications_page.no_notifications")})]})]}),i.jsxs(zr,{value:"unread",className:"mt-6 space-y-4",children:[d.map(h=>i.jsxs("div",{className:"p-4 flex items-start rounded-lg bg-primary/5 border-l-4 border-primary cursor-pointer hover:bg-muted/80",onClick:()=>c(h),children:[i.jsx($H,{type:h.type}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-foreground",children:h.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(h.created_at).toLocaleString("fr-FR")})]})]},h.id)),f===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(pp,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:e("notifications_page.no_unread_notifications")})]})]})]})]})})]})},BH=()=>{const e=on(),[t,r]=b.useState("fr"),n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},o={fr:{title:"Conditions Gnrales d'Utilisation",subtitle:"BonPlanInfos - Votre plateforme de mise en relation",lastUpdate:"Date de dernire mise  jour : 01/10/2025",effectiveDate:"Entre en vigueur : 05/10/2025",back:"Retour",navigation:"Navigation",contact:"Nous Contacter",questions:"Vous avez des questions ?",contactText:"Notre quipe est disponible pour vous accompagner et rpondre  toutes vos interrogations concernant nos conditions d'utilisation.",articles:[{icon:Sl,title:"Article 1 : Objet et Acceptation",content:`
            Les prsentes Conditions Gnrales d'Utilisation (CGU) rgissent l'utilisation de la plateforme BonPlanInfos (bonplaninfos.net), application de mise en relation entre crateurs de contenu, organisateurs d'vnements, annonceurs et utilisateurs en Afrique.
            
            **Acceptation :** L'utilisation de la plateforme implique l'acceptation sans rserve des prsentes CGU.

            ### Section 1 - Accs et Responsabilits
            L'Administrateur Pays s'engage  :
            - Maintenir la confidentialit de ses identifiants
            - Ne pas partager son accs admin avec des tiers
            - Respecter les guidelines de contenu BonPlanInfos
            - Modrer activement les annonces de son territoire
            - Signaler tout comportement suspect au Super Admin

            **Interdictions formelles :**
            - Tenter d'accder aux donnes d'autres pays
            - Modifier la structure technique de la plateforme
            - Installer des extensions non autorises
            - Utiliser la plateforme  des fins personnelles

            ### Section 2 - Standards de Contenu
            Chaque Administrateur Pays doit garantir :
            - L'authenticit des annonces publies
            - Le respect des lois locales sur le commerce
            - La modration des contenus inappropris sous 24h
            - La vrification des coordonnes des annonceurs

            ### Option A - Pour les Investisseurs-Fondateurs
            Le partenaire investit **100.000f  500.000f** pour obtenir la licence d'exploitation pour son pays.

            **Revenue Sharing :** 60% pour le partenaire local / 40% pour la maison mre
            - Les 60% couvrent : marketing local, quipe, frais oprationnels
            - Les 40% couvrent : maintenance technique, dveloppement, support global

            ### Option B - Pour les Gestionnaires Salaris
            **Systme de Paiement Centralis :**

            **Processus de Rpartition :**
            1. Tous les paiements arrivent sur le compte central BonPlanInfos
            2. Le systme tracke automatiquement les revenus par pays
            3. Les rapports financiers sont gnrs le 01 de chaque mois
            4. Les virements aux partenaires sont effectus le 05 du mois
            5. Reu et justificatifs fournis pour chaque transaction
          `},{icon:Iu,title:"Article 2 : Dfinitions",content:`
            - **Plateforme :** Application et site web BonPlanInfos
            - **Utilisateur :** Toute personne utilisant la plateforme
            - **Crateur ou Organisateur :** Utilisateur publiant du contenu (vnements, promotions)
            - **Organisateur :** Crateur organisant des vnements payants ou gratuits
            - **Annonceur ou Utilisateur :** Utilisateur publiant des promotions commerciales
            - **Pices :** Monnaie virtuelle de la plateforme (50 pice = 500 FCFA)
            - **Contenu :** vnements, promotions, publications, commentaires, notification a temps rel.
          `},{icon:Ga,title:"Article 3 : Inscription et Compte",content:`
            ### 3.1 L'inscription ncessite :
            - Une adresse email valide
            - Un numro de tlphone vrifi
            - Votre Pays et ville de rsidence
            - L'acceptation des CGU et de la politique de confidentialit

            ### 3.2 Les utilisateurs s'engagent  :
            - Fournir des informations exactes et compltes
            - Maintenir la confidentialit de leurs identifiants
            - Informer immdiatement de toute utilisation non autorise

            ### 3.3 Types de comptes :
            - Utilisateur standard (accs gratuit aux fonctionnalits de base)
            - Organisateur: (publication d'vnements, vrification requise)
            - Annonceur Utilisateur: (publication de promotions, vrification requise)
            - Admin (gestion de plateforme)

            ### 3.4 Contenus et responsabilits
            Vous vous engagez  ne pas publier de contenus offensants, illgaux, ou portant atteinte aux droits de tiers.

            BonPlaninfos se rserve le droit de supprimer tout contenu qui ne respecte pas nos standards.
          `},{icon:yc,title:"Article 4 : Systme de Pices et Montisation",content:`
            ### 4.1 Acquisition de pices :
            - Achat via packs (50  1.000.000 pices)
            - Parrainage (20 pices par filleul actif)
            - Rcompenses pour contenu populaire
            - Participation aux programmes de fidlit

            ### 4.2 Utilisation des pices :
            - Publication d'vnements (cot variable)
            - Publication de promotions (cot variable)
            - Boost de visibilit du contenu
            - Accs  du contenu exclusif

            ### 4.3 Conversion et retraits :
            - Taux de conversion : 50 pices = 500 FCFA
            - Seuil minimal de retrait : 50 pices
            - Modalits de retrait : Orange Money, Moov Money, Wave, PayPal
            - Dlai de traitement : 24-72 heures

            ### 4.4 Politique de remboursement :
            - Aucun remboursement des pices achetes
            - Annulation d'vnement : remboursement des pices utilises
            - Content supprim : pas de remboursement des pices dpenses
          `},{icon:Xm,title:"Article 5 : Contenu et Publications",content:`
            ### 5.1 Responsabilits des crateurs :
            - Exactitude des informations publies
            - Respect des droits d'auteur et proprit intellectuelle
            - Conformit avec la lgislation locale
            - Obtenir les autorisations ncessaires pour les vnements

            ### 5.2 Contenu interdit :
            - Contenu illgal ou frauduleux
            - Contenu discriminatoire ou haineux
            - Contenu pornographique ou explicite
            - Informations commerciales trompeuses
            - Spam et contenus rptitifs

            ### 5.3 Modration :
            - Droit de modration a posteriori par BonPlanInfos
            - Possibilit de suppression sans pravis des contenus non conformes
            - Systme de signalement par les utilisateurs
          `},{icon:Sl,title:"Article 6 : Proprit Intellectuelle",content:`
            ### 6.1 Contenu utilisateur :
            - Les utilisateurs conservent leurs droits sur leur contenu
            - Licence d'utilisation accorde  BonPlanInfos pour l'exploitation de la plateforme

            ### 6.2 Plateforme BonPlanInfos :
            - Marque, logo et lments graphiques protgs
            - Code source et architecture technique protgs
            - Interdiction de reproduction sans autorisation

            Le Partenaire reconnat que la plateforme, son code source, sa base de donnes et la marque BonPlanInfos sont et restent la proprit exclusive du Fondateur Principal.
          `},{icon:Iu,title:"Article 7 : Donnes Personnelles",content:`
            ### 7.1 Collecte et utilisation :
            - Donnes collectes : identit, coordonnes, localisation, contenus, interactions
            - Finalits : fourniture du service, personnalisation, analytics, marketing

            ### 7.2 Cookies et traceurs :
            - Utilisation de cookies techniques et analytiques
            - Consentement requis pour les cookies marketing
            - Possibilit de dsactivation dans les paramtres

            ### 7.3 Droits des utilisateurs :
            - Droit d'accs, rectification, opposition, suppression
            - Contact : bonplaninfos@gmail.com
            - Dlai de rponse : 30 jours maximum
          `},{icon:Ga,title:"Article 8 : Responsabilits",content:`
            ### 8.1 Responsabilit de BonPlanInfos :
            - Fourniture du service avec diligence raisonnable
            - Non responsable des contenus publis par les utilisateurs
            - Obligation de moyens, non de rsultat

            ### 8.2 Responsabilit des utilisateurs :
            - Exactitude des informations publies
            - Respect des engagements envers les autres utilisateurs
            - Utilisation conforme aux lois en vigueur

            ### 8.3 Force majeure :
            - Interruptions de service pour maintenance technique
            - Cas de force majeure (panne infrastructure, etc.)
          `},{icon:yc,title:"Article 9 : Transactions et Paiements",content:`
            ### 9.1 vnements payants :
            - traitement des paiements via partenaires certifis
            - Retrait ; Commission de 2% est applique sur les transactions
            - Paiement aux organisateurs sous 5 jours ouvrs

            ### 9.2 Promotions payantes :
            - Tarification selon visibilit et dure
            - Aucun remboursement aprs publication

            ### 9.3 Paiements et commissions
            Les commissions et gains sont verss selon les conditions tablies sur la plateforme.

            BonPlaninfos ne peut tre tenu responsable des retards ou erreurs de paiement causs par des informations incorrectes fournies par l'utilisateur

            ### 9.3 Litiges :
            - Mdiation prioritaire en cas de litige entre utilisateurs
            - Recours possibles auprs des autorits comptentes
          `},{icon:Xm,title:"Article 10 : Suspension et Rsiliation",content:`
            ### 10.1 Par l'utilisateur :
            - Rsiliation  tout temps via paramtres du compte
            - Suppression des donnes conformment  la politique de conservation

            ### 10.2 Par BonPlanInfos :
            - Suspension immdiate en cas de violation des CGU
            - Rsiliation aprs avertissement sans rgularisation
            - Conservation des donnes en cas d'obligation lgale
          `},{icon:Sl,title:"Article 11 : volutions et Modifications",content:`
            ### 11.1 Service :
            - BonPlanInfos se rserve le droit de faire voluer les fonctionnalits
            - Information des utilisateurs des modifications substantielles

            ### 11.2 CGU :
            - Modification possible  tout temps
            - Information par email et notification dans l'application
            - Acceptation implicite si poursuite d'utilisation
          `},{icon:Iu,title:"Article 12 : Loi Applicable et Litiges",content:`
            ### 12.1 Loi applicable :
            - Droit applicable : selon pays d'incorporation
            - Langue d'interprtation : franais

            ### 12.2 Rglement des litiges :
            - Tentative de mdiation obligatoire
            - Recours aux tribunaux comptents en cas d'chec
          `},{icon:Ga,title:"Article 13 : Dispositions Diverses",content:`
            **13.1 Indpendance des parties :** Aucune relation de socit ou de mandat
            **13.2 Divisibilit :** Nullit partielle n'affectant pas le reste des dispositions
            **13.3 Non-renonciation :** Absence de poursuite ne valant pas renonciation
          `},{icon:gp,title:"Article 14 : Contact",content:`
            Pour toute question concernant les CGU :

            - Email : lgal bonplaninfos@gmail.com
            - Adresse postale : [bonplaninfos@gmail.com]
            - Dlai de rponse : 15 jours ouvrs
          `}]},en:{title:"Terms and Conditions",subtitle:"BonPlanInfos - Your connection platform",lastUpdate:"Last update date: 10/01/2025",effectiveDate:"Effective date: 10/05/2025",back:"Back",navigation:"Navigation",contact:"Contact Us",questions:"Do you have questions?",contactText:"Our team is available to assist you and answer all your questions regarding our terms of use.",articles:[{icon:Sl,title:"Article 1: Purpose and Acceptance",content:`
            These General Terms of Use (GTU) govern the use of the BonPlanInfos platform (bonplaninfos.net), a connection application between content creators, event organizers, advertisers and users in Africa.
            
            **Acceptance:** Use of the platform implies unreserved acceptance of these GTU.

            ### Section 1 - Access and Responsibilities
            The Country Administrator undertakes to:
            - Maintain the confidentiality of their credentials
            - Not share their admin access with third parties
            - Respect BonPlanInfos content guidelines
            - Actively moderate ads in their territory
            - Report any suspicious behavior to the Super Admin

            **Strict prohibitions:**
            - Attempt to access data from other countries
            - Modify the technical structure of the platform
            - Install unauthorized extensions
            - Use the platform for personal purposes

            ### Section 2 - Content Standards
            Each Country Administrator must guarantee:
            - The authenticity of published ads
            - Compliance with local commercial laws
            - Moderation of inappropriate content within 24 hours
            - Verification of advertiser contact details

            ### Option A - For Investor-Founders
            The partner invests **2,550,000F** to obtain the operating license for their country.

            **Revenue Sharing:** 60% for local partner / 40% for headquarters
            - The 60% covers: local marketing, team, operational expenses
            - The 40% covers: technical maintenance, development, global support

            ### Option B - For Salaried Managers
            **Centralized Payment System:**

            **Distribution Process:**
            1. All payments go to the central BonPlanInfos account
            2. The system automatically tracks revenue by country
            3. Financial reports are generated on the 5th of each month
            4. Transfers to partners are made on the 15th of the month
            5. Receipt and supporting documents provided for each transaction
          `},{icon:Iu,title:"Article 2: Definitions",content:`
            - **Platform:** BonPlanInfos application and website
            - **User:** Any person using the platform
            - **Creator or Organizer:** User publishing content (events, promotions)
            - **Organizer:** Creator organizing paid or free events
            - **Advertiser or User:** User publishing commercial promotions
            - **Coins:** Virtual platform currency (50 coins = 500 FCFA)
            - **Content:** Events, promotions, publications, comments, real-time notifications
          `},{icon:Ga,title:"Article 3: Registration and Account",content:`
            ### 3.1 Registration requires:
            - A valid email address
            - A verified phone number
            - Your country and city of residence
            - Acceptance of the GTU and privacy policy

            ### 3.2 Users undertake to:
            - Provide accurate and complete information
            - Maintain the confidentiality of their credentials
            - Immediately report any unauthorized use

            ### 3.3 Account types:
            - Standard user (free access to basic features)
            - Organizer: (event publication, verification required)
            - Advertiser User: (promotion publication, verification required)
            - Admin (platform management)

            ### 3.4 Content and responsibilities
            You agree not to publish offensive, illegal content, or content that infringes on third-party rights.

            BonPlaninfos reserves the right to remove any content that does not meet our standards.
          `},{icon:yc,title:"Article 4: Coin System and Monetization",content:`
            ### 4.1 Coin acquisition:
            - Purchase via packs (50 to 1300 coins)
            - Referral (20 coins per active referral)
            - Rewards for popular content
            - Participation in loyalty programs

            ### 4.2 Coin usage:
            - Event publication (variable cost)
            - Promotion publication (variable cost)
            - Content visibility boost
            - Access to exclusive content

            ### 4.3 Conversion and withdrawals:
            - Conversion rate: 50 coins = 500 FCFA
            - Minimum withdrawal threshold: 50 coins
            - Withdrawal methods: Orange Money, Moov Money, Wave, Visa, PayPal
            - Processing time: 24-72 hours

            ### 4.4 Refund policy:
            - No refund for purchased coins
            - Event cancellation: refund of coins used
            - Deleted content: no refund of spent coins
          `},{icon:Xm,title:"Article 5: Content and Publications",content:`
            ### 5.1 Creator responsibilities:
            - Accuracy of published information
            - Respect for copyright and intellectual property
            - Compliance with local legislation
            - Obtain necessary authorizations for events

            ### 5.2 Prohibited content:
            - Illegal or fraudulent content
            - Discriminatory or hateful content
            - Pornographic or explicit content
            - Misleading commercial information
            - Spam and repetitive content

            ### 5.3 Moderation:
            - Right of a posteriori moderation by BonPlanInfos
            - Possibility of removal without notice for non-compliant content
            - User reporting system
          `},{icon:Sl,title:"Article 6: Intellectual Property",content:`
            ### 6.1 User content:
            - Users retain their rights to their content
            - Usage license granted to BonPlanInfos for platform operation

            ### 6.2 BonPlanInfos Platform:
            - Protected brand, logo and graphic elements
            - Protected source code and technical architecture
            - Reproduction prohibited without authorization

            The Partner acknowledges that the platform, its source code, database and BonPlanInfos brand are and remain the exclusive property of the Principal Founder.
          `},{icon:Iu,title:"Article 7: Personal Data",content:`
            ### 7.1 Collection and use:
            - Data collected: identity, contact details, location, content, interactions
            - Purposes: service provision, personalization, analytics, marketing

            ### 7.2 Cookies and trackers:
            - Use of technical and analytical cookies
            - Consent required for marketing cookies
            - Possibility of deactivation in settings

            ### 7.3 User rights:
            - Right of access, rectification, opposition, deletion
            - Contact: bonplaninfos@gmail.com
            - Response time: maximum 30 days
          `},{icon:Ga,title:"Article 8: Responsibilities",content:`
            ### 8.1 BonPlanInfos responsibility:
            - Provision of service with reasonable diligence
            - Not responsible for content published by users
            - Obligation of means, not of result

            ### 8.2 User responsibility:
            - Accuracy of published information
            - Respect for commitments to other users
            - Use in compliance with applicable laws

            ### 8.3 Force majeure:
            - Service interruptions for technical maintenance
            - Cases of force majeure (infrastructure failure, etc.)
          `},{icon:yc,title:"Article 9: Transactions and Payments",content:`
            ### 9.1 Paid events:
            - Payment processing via certified partners
            - Withdrawal; 2% commission applied to transactions
            - Payment to Partenariats within 5 working days

            ### 9.2 Paid promotions:
            - Pricing based on visibility and duration
            - No refund after publication

            ### 9.3 Payments and commissions
            Commissions and earnings are paid according to the conditions established on the platform.

            BonPlaninfos cannot be held responsible for payment delays or errors caused by incorrect information provided by the user.

            ### 9.3 Disputes:
            - Priority mediation in case of disputes between users
            - Possible recourse to competent authorities
          `},{icon:Xm,title:"Article 10: Suspension and Termination",content:`
            ### 10.1 By the user:
            - Termination at any time via account settings
            - Data deletion according to retention policy

            ### 10.2 By BonPlanInfos:
            - Immediate suspension in case of GTU violation
            - Termination after warning without regularization
            - Data retention in case of legal obligation
          `},{icon:Sl,title:"Article 11: Evolution and Modifications",content:`
            ### 11.1 Service:
            - BonPlanInfos reserves the right to evolve features
            - User information of substantial modifications

            ### 11.2 GTU:
            - Modification possible at any time
            - Information by email and in-app notification
            - Implicit acceptance if continued use
          `},{icon:Iu,title:"Article 12: Applicable Law and Disputes",content:`
            ### 12.1 Applicable law:
            - Applicable law: according to country of incorporation
            - Interpretation language: French

            ### 12.2 Dispute resolution:
            - Mandatory mediation attempt
            - Recourse to competent courts in case of failure
          `},{icon:Ga,title:"Article 13: Miscellaneous Provisions",content:`
            **13.1 Independence of parties:** No partnership or agency relationship
            **13.2 Severability:** Partial nullity not affecting the rest of the provisions
            **13.3 Non-waiver:** Lack of pursuit not constituting waiver
          `},{icon:gp,title:"Article 14: Contact",content:`
            For any questions regarding the GTU:

            - Email: legal bonplaninfos@gmail.com
            - Postal address: [bonplaninfos@gmail.com]
            - Response time: 15 working days
          `}]}}[t],l=c=>c.split(`

`).map((f,h)=>{if(f.startsWith("### "))return i.jsx("h3",{className:"text-lg font-semibold text-white mt-4 mb-2",children:f.replace("### ","")},h);if(f.startsWith("**")&&f.endsWith("**"))return i.jsx("div",{className:"bg-white/5 rounded-xl p-4 border-l-4 border-[#C9A227] my-3",children:i.jsx("p",{className:"font-semibold text-white",children:f.replace(/\*\*/g,"")})},h);if(f.includes(":")){const v=f.split(`
`).filter(g=>g.trim());return i.jsx("div",{className:"my-4",children:v.map((g,_)=>i.jsxs("div",{className:"flex items-start mb-2",children:[i.jsx("div",{className:"w-2 h-2 bg-[#C9A227] rounded-full mt-2 mr-3 flex-shrink-0"}),i.jsx("span",{className:"text-gray-300",children:g})]},_))},h)}else if(f.includes("1.")){const v=f.split(`
`).filter(g=>g.trim());return i.jsx("ol",{className:"list-decimal list-inside ml-4 space-y-2 my-3",children:v.map((g,_)=>i.jsx("li",{className:"text-gray-300",children:g.replace(/^\d+\.\s*/,"")},_))},h)}else return i.jsx("p",{className:"text-gray-300 mb-3",children:f},h)});return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0B0B0D] to-[#1a1a2e] text-white",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[o.title," - BonPlaninfos"]}),i.jsx("meta",{name:"description",content:o.title})]}),i.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12 text-center",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>e(-1),className:"text-gray-300 hover:text-[#C9A227] border border-gray-700 hover:border-[#C9A227] transition-all duration-300",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"}),o.back]}),i.jsxs(Ee,{variant:"outline",onClick:()=>r(t==="fr"?"en":"fr"),className:"text-gray-300 hover:text-[#C9A227] border border-gray-700 hover:border-[#C9A227] transition-all duration-300",children:[i.jsx(Lu,{className:"w-4 h-4 mr-2"}),t==="fr"?"EN":"FR"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-[#C9A227] to-[#e5c158] rounded-2xl blur-lg opacity-20"}),i.jsxs("div",{className:"relative bg-[#0f0f15] border border-gray-800 rounded-2xl p-8",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#C9A227] to-[#e5c158] bg-clip-text text-transparent mb-4",children:o.title}),i.jsx("p",{className:"text-gray-400 text-lg mb-2",children:o.subtitle}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 text-sm text-gray-500",children:[i.jsx("span",{children:o.lastUpdate}),i.jsx("span",{className:"hidden sm:block",children:""}),i.jsx("span",{children:o.effectiveDate})]})]})]})]}),i.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[i.jsx(wt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-6 sticky top-8",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(Xm,{className:"w-5 h-5 mr-2 text-[#C9A227]"}),o.navigation]}),i.jsx("nav",{className:"space-y-2",children:o.articles.map((c,d)=>{const f=c.icon;return i.jsxs("button",{onClick:()=>{const h=document.getElementById(`article-${d+1}`);h==null||h.scrollIntoView({behavior:"smooth"})},className:"w-full text-left px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/5 transition-all duration-200 flex items-center group",children:[i.jsx(f,{className:"w-4 h-4 mr-3 text-[#C9A227] group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-sm",children:c.title.split(" : ")[0]})]},d)})})]})}),i.jsxs(wt.div,{variants:n,initial:"hidden",animate:"visible",className:"lg:col-span-3 space-y-8",children:[o.articles.map((c,d)=>i.jsxs(wt.section,{variants:s,id:`article-${d+1}`,className:"glass-effect rounded-2xl p-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#C9A227] rounded-full -translate-y-16 translate-x-16 opacity-10"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx(c.icon,{className:"w-8 h-8 text-[#C9A227] mr-3"}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:c.title})]}),i.jsx("div",{className:"space-y-4 text-gray-300",children:l(c.content)})]})]},d)),i.jsx(wt.section,{variants:s,className:"text-center py-12",children:i.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-[#C9A227]/20",children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:o.questions}),i.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:o.contactText}),i.jsxs(Ee,{className:"bg-gradient-to-r from-[#C9A227] to-[#e5c158] text-black font-semibold hover:opacity-90 transition-opacity",children:[i.jsx(gp,{className:"w-4 h-4 mr-2"}),o.contact]})]})})]})]})]}),i.jsx("style",{jsx:!0,children:`
        .glass-effect {
          background: rgba(15, 15, 21, 0.8);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }
      `})]})},Llt=()=>{const{t:e}=Dn(),[t,r]=b.useState([]),[n,s]=b.useState(!0);b.useEffect(()=>{(async()=>{s(!0);try{const{data:c,error:d}=await Oe.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(d)throw d;r(c||[])}catch(c){console.error("Error fetching announcements:",c),ze({title:e("news.error.title"),description:c.message,variant:"destructive"})}finally{s(!1)}})()},[e]);const a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return i.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[i.jsxs(_a,{children:[i.jsx("title",{children:e("news.meta.title")}),i.jsx("meta",{name:"description",content:e("news.meta.description")})]}),i.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-16",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-black font-heading uppercase tracking-wider text-primary",children:e("news.title")}),i.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:e("news.subtitle")})]}),n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})}):t.length>0?i.jsx(wt.div,{className:"space-y-6 max-w-4xl mx-auto",variants:a,initial:"hidden",animate:"visible",children:t.map(l=>i.jsx(wt.div,{variants:o,children:i.jsxs(at,{className:"glass-effect overflow-hidden hover:border-primary/50 transition-all duration-300",children:[i.jsxs(Et,{children:[i.jsx(Tt,{className:"text-xl md:text-2xl text-white",children:l.title}),i.jsx(nn,{className:"text-xs text-muted-foreground pt-1",children:e("news.publishedOn",{date:new Date(l.created_at).toLocaleDateString()})})]}),i.jsx(st,{children:i.jsx("p",{className:"text-foreground/90 whitespace-pre-wrap",children:l.content})})]})},l.id))}):i.jsxs(wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center flex flex-col items-center justify-center h-64",children:[i.jsx(Kge,{className:"w-24 h-24 text-muted-foreground mb-6"}),i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:e("news.noNews.title")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("news.noNews.description")})]})]})]})},$lt=()=>{const e=on(),t=Tl(),{user:r}=Pr(),{adminConfig:n,forceRefreshUserProfile:s}=Un(),[a,o]=b.useState(!1),[l,c]=b.useState([]),[d,f]=b.useState(""),[h,v]=b.useState(""),[g,_]=b.useState(!1),[y,j]=b.useState(!0);b.useEffect(()=>{if(!r){e("/auth");return}(async()=>{var D;j(!0);try{const{data:M,error:I}=await Oe.from("events").select("id, title, is_promoted").eq("organizer_id",r.id).eq("status","active");if(I)throw I;const B=M.filter(V=>!V.is_promoted).map(V=>({value:`event_${V.id}`,label:`vnement: ${V.title}`}));c(B),(D=t.state)!=null&&D.preselectedContent&&f(t.state.preselectedContent)}catch(M){ze({title:"Erreur",description:"Impossible de charger vos vnements.",variant:"destructive"}),console.error("Error fetching user content:",M)}finally{j(!1)}})()},[r,e,t.state]);const w=(n==null?void 0:n.promotion_packs)||[],C=w.find(P=>P.id===h),k=()=>{_(!1),e("/wallet")},T=async()=>{if(!d||!C){ze({title:"Erreur",description:"Veuillez slectionner un contenu et un pack.",variant:"destructive"});return}o(!0);const[P,D]=d.split("_"),M=async()=>{try{await ws.debitCoins(r.id,C.cost_pi,`Boost: ${C.name}`);const{error:I}=await Oe.from("event_promotions").insert({event_id:D,organizer_id:r.id,promotion_pack_id:C.id,start_date:new Date().toISOString(),end_date:new Date(Date.now()+C.duration_days*24*60*60*1e3).toISOString(),cost_pi:C.cost_pi,status:"active",payment_status:"paid"});if(I)throw I;const{error:B}=await Oe.from("events").update({is_promoted:!0,promoted_until:new Date(Date.now()+C.duration_days*24*60*60*1e3).toISOString()}).eq("id",D);if(B)throw B;ze({title:"Succs!",description:"Votre contenu a t mis en avant.",className:"bg-green-500 text-white"}),s(),e(`/event/${D}`)}catch(I){ze({title:"Erreur de boost",description:I.message,variant:"destructive"})}finally{o(!1)}};await ws.handleAction({userId:r.id,requiredCoins:C.cost_pi,onSuccess:M,onInsufficientBalance:()=>{_(!0),o(!1)}})};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-background",children:[i.jsxs(_a,{children:[i.jsx("title",{children:"Booster la Visibilit - BonPlaninfos"}),i.jsx("meta",{name:"description",content:"Mettez en avant vos vnements et promotions pour atteindre une plus large audience."})]}),i.jsxs("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>e(-1),className:"text-muted-foreground hover:text-primary mb-4",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Retour"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/20 rounded-full",children:i.jsx(Wi,{className:"w-8 h-8 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500 mb-1",children:"Booster la Visibilit"}),i.jsx("p",{className:"text-muted-foreground",children:"Mettez vos publications en avant pour atteindre plus de monde."})]})]})]}),i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(at,{className:"glass-effect border-primary/30 shadow-2xl shadow-primary/10",children:[i.jsxs(Et,{children:[i.jsx(Tt,{className:"text-2xl",children:"Configuration du Boost"}),i.jsx(nn,{children:"Slectionnez un de vos vnements puis choisissez un pack de visibilit."})]}),i.jsxs(st,{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"1. Choisissez l'vnement  booster"}),y?i.jsx(Dt,{className:"w-6 h-6 animate-spin"}):i.jsxs(aa,{onValueChange:f,value:d,children:[i.jsx(Jn,{className:"h-12",children:i.jsx(sa,{placeholder:"Slectionnez un vnement"})}),i.jsx(Zn,{children:l.length>0?l.map(P=>i.jsx(ur,{value:P.value,children:P.label},P.value)):i.jsx("p",{className:"p-4 text-sm text-muted-foreground",children:"Vous n'avez aucun vnement non promu."})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"text-sm font-medium",children:"2. Choisissez un pack de visibilit"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(P=>i.jsx(wt.div,{whileHover:{scale:1.03},children:i.jsxs("div",{onClick:()=>v(P.id),className:`h-full p-4 flex flex-col items-start text-left rounded-lg border-2 cursor-pointer transition-all ${h===P.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[i.jsxs("div",{className:"flex justify-between w-full items-center",children:[i.jsx("span",{className:"font-bold text-lg",children:P.name}),h===P.id&&i.jsx(Vi,{className:"w-5 h-5 text-primary"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:P.description||`${P.duration_days} jours de visibilit accrue`}),i.jsxs("div",{className:"flex items-center mt-3 text-lg font-semibold text-primary",children:[i.jsx(dn,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:P.cost_pi})]})]})},P.id))})]}),i.jsx(Ee,{onClick:T,disabled:a||!d||!h,className:"w-full text-lg py-6",variant:"premium",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Booster..."]}):`Booster pour ${(C==null?void 0:C.cost_pi)||0}`})]})]})})]}),i.jsx(Kd,{isOpen:g,onClose:()=>_(!1),onProceed:k})]})},Blt=({onCtaClick:e})=>{const{t}=Dn(),[r,n]=b.useState("concert"),[s,a]=b.useState(5e3),[o,l]=b.useState(200),[c,d]=b.useState(0),[f,h]=b.useState({potentialRevenue:0,platformFee:0,netEarning:0}),v={concert:{name:"Concert",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},stands:{name:"Vente de stands",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},election:{name:"lection vote",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},lottery:{name:"Tirage au sort (Lotterie)",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},protected:{name:"vnement Protg Montis",description:"1 pice  chaque interaction soit 10 FCFA pour l'organisateur. Minimum pour retrait: 50 pices",hasTickets:!1,hasInteractions:!0}};b.useEffect(()=>{let y=0,j=0,w=0;const C=v[r];C.hasTickets?(y=s*o,j=y*.05,w=y-j):C.hasInteractions&&(y=c*10,j=0,w=y),h({potentialRevenue:Math.round(y),platformFee:Math.round(j),netEarning:Math.round(w)})},[r,s,o,c]);const g=y=>new Intl.NumberFormat("fr-FR").format(y),_=v[r];return i.jsx("section",{className:"py-16 md:py-24",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.simulation.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t("marketing.simulation.subtitle")})]}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(at,{className:"glass-effect shadow-lg",children:[i.jsx(Et,{children:i.jsx(Tt,{className:"text-center text-2xl",children:t("marketing.simulation.title")})}),i.jsxs(st,{className:"p-4 md:p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.event_type")}),i.jsxs("select",{className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:r,onChange:y=>n(y.target.value),children:[i.jsx("option",{value:"concert",children:"Concert"}),i.jsx("option",{value:"stands",children:"Vente de stands"}),i.jsx("option",{value:"election",children:"lection vote"}),i.jsx("option",{value:"lottery",children:"Tirage au sort (Lotterie)"}),i.jsx("option",{value:"protected",children:"vnement Protg Montis"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:_.description})]}),_.hasTickets&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.ticket_price")}),i.jsxs("div",{className:"flex items-center border border-border rounded-lg bg-background px-3",children:[i.jsx("input",{type:"number",className:"w-full p-3 bg-transparent text-foreground text-sm md:text-base border-none outline-none",value:s,onChange:y=>a(Number(y.target.value)),min:"0",step:"100"}),i.jsx("span",{className:"text-muted-foreground whitespace-nowrap text-sm",children:"FCFA"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.number_of_tickets")}),i.jsx("input",{type:"number",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:o,onChange:y=>l(Number(y.target.value)),min:"0"})]})]}),_.hasInteractions&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nombre d'interactions estimes"}),i.jsx("input",{type:"number",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:c,onChange:y=>d(Number(y.target.value)),min:"0",placeholder:"50 interactions minimum pour retrait"}),c<50&&i.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Minimum 50 interactions requis pour le retrait (500 FCFA)"})]})]}),i.jsxs("div",{className:"space-y-4 bg-muted/30 rounded-lg p-4 md:p-6",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3",children:[i.jsx("span",{className:"text-foreground font-medium text-sm md:text-base",children:_.hasInteractions?"Revenu des interactions":t("marketing.simulation.potential_revenue")}),i.jsxs("span",{className:"font-semibold text-green-600 text-sm md:text-base",children:[g(f.potentialRevenue)," FCFA"]})]}),_.hasTickets&&i.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3",children:[i.jsx("span",{className:"text-foreground font-medium text-sm md:text-base",children:t("marketing.simulation.platform_fee")}),i.jsxs("span",{className:"font-semibold text-red-500 text-sm md:text-base",children:["- ",g(f.platformFee)," FCFA"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsx("span",{className:"text-foreground font-bold text-sm md:text-base",children:t("marketing.simulation.your_net_earning")}),i.jsxs("span",{className:"font-bold text-green-600 text-lg md:text-xl",children:[g(f.netEarning)," FCFA"]})]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[" ",i.jsx("strong",{children:"Simulation en temps rel"})," - Modifiez les valeurs pour voir l'impact sur vos revenus"]})})]})]}),i.jsxs("div",{className:"mt-6 md:mt-8 text-center",children:[i.jsx(Ee,{size:"lg",className:"gradient-red text-primary-foreground shadow-lg w-full md:w-auto text-sm md:text-base hover:scale-105 transition-transform",onClick:e,children:t("marketing.simulation.cta")}),i.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-3 md:mt-4",children:t("marketing.simulation.note")})]})]})]})})]})})},zlt=()=>{const{t:e}=Dn(),t=new Date().getFullYear(),[r,n]=b.useState([]),[s,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:h,error:v}=await Oe.from("sponsors").select("*").eq("is_active",!0).eq("show_in_footer",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});if(v){console.error("Error fetching sponsors:",v);return}n(h||[])}catch(h){console.error("Error in fetchSponsors:",h)}finally{a(!1)}})()},[]);const o={platform:[{to:"/",text:e("footer.home")},{to:"/how-it-works",text:e("footer.how_it_works")},{to:"/aide",text:e("footer.help")},{to:"/faq",text:e("footer.faq")}],company:[{to:"/about",text:e("footer.about")},{to:"/partner-signup",text:e("footer.partnership")},{to:"/sponsors",text:e("footer.sponsors")},{href:"mailto:support@bonplaninfos.net",text:"support@bonplaninfos.net"},{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",text:e("footer.whatsapp_community")},{href:"tel:+2250712275374",text:"Tel: 002250712275374"}],legal:[{to:"/politique-confidentialite",text:e("footer.privacy")},{to:"/conditions-utilisation",text:e("footer.terms")},{to:"/protection-donnees",text:e("footer.data_protection")},{to:"/legal-mentions",text:e("footer.legal_mentions")}]},l=f=>{switch(f){case"gold":return"text-yellow-500 border-yellow-500 bg-yellow-50";case"silver":return"text-gray-600 border-gray-400 bg-gray-50";case"bronze":return"text-orange-700 border-orange-600 bg-orange-50";default:return"text-primary border-primary bg-muted"}},c=f=>{switch(f){case"gold":return"Or";case"silver":return"Argent";case"bronze":return"Bronze";default:return null}},d=r.length>0?[...r,...r,...r]:[];return i.jsxs("footer",{className:"bg-card border-t border-border/50",children:[i.jsxs("div",{className:"container py-12",children:[r.length>0&&i.jsxs("div",{className:"mb-12 pb-8 border-b border-border/50",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[i.jsx(Ko,{className:"w-5 h-5 text-primary"}),i.jsx("h3",{className:"text-lg font-bold font-heading text-center text-foreground",children:e("sponsors.title")}),i.jsx(Ko,{className:"w-5 h-5 text-primary"})]}),s?i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"flex animate-scroll whitespace-nowrap",children:d.map((f,h)=>i.jsxs("a",{href:f.website_url||"#",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center mx-4 group flex-shrink-0",children:[i.jsx("div",{className:`relative p-3 bg-background rounded-lg border-2 ${l(f.level)} transition-all duration-300 group-hover:scale-105 group-hover:shadow-md`,children:f.logo_url?i.jsx("img",{src:f.logo_url,alt:f.name,className:"h-10 w-auto max-w-28 object-contain"}):i.jsx("div",{className:`h-10 w-28 flex items-center justify-center text-xs font-medium text-center ${l(f.level)}`,children:f.name})}),f.level&&i.jsx("span",{className:`mt-1 px-2 py-0.5 text-xs font-medium rounded-full border ${l(f.level)} capitalize`,children:c(f.level)})]},`${f.id}-${h}`))}),i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-card to-transparent z-10"}),i.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-card to-transparent z-10"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsx("h3",{className:"font-bold font-heading text-lg mb-2 text-foreground",children:"BonPlanInfos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e("footer.tagline")})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.platform")}),i.jsx("ul",{className:"space-y-2 text-sm",children:o.platform.map(f=>i.jsx("li",{children:i.jsx(mi,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text})},f.to))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.company")}),i.jsx("ul",{className:"space-y-2 text-sm",children:o.company.map(f=>i.jsx("li",{children:f.to?i.jsx(mi,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text}):i.jsx("a",{href:f.href,className:"text-muted-foreground hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:f.text})},f.to||f.href))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.legal")}),i.jsx("ul",{className:"space-y-2 text-sm",children:o.legal.map(f=>i.jsx("li",{children:i.jsx(mi,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text})},f.to))})]})]}),i.jsxs("div",{className:"mt-12 border-t border-border/50 pt-8 text-center text-xs text-muted-foreground",children:[i.jsxs("p",{children:[" ",t," BonPlanInfos  ",e("footer.all_rights_reserved")," | ",i.jsx(mi,{to:"/politique-confidentialite",className:"hover:text-primary",children:e("footer.privacy")})," | ",i.jsx(mi,{to:"/conditions-utilisation",className:"hover:text-primary",children:e("footer.terms")})]}),i.jsxs("p",{className:"mt-2",children:["support@bonplaninfos.net | WhatsApp : ",i.jsx("a",{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",className:"hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:e("footer.whatsapp_community")})," | Tel : +225 07 12 27 53 74"]}),i.jsxs("p",{className:"mt-2 text-muted-foreground",children:[e("footer.version")," 1.0.0"]})]})]}),i.jsx("style",{jsx:!0,children:`
                @keyframes scroll {
                    0% { transform: translateX(0); }
                    100% { transform: translateX(-33.333%); }
                }
                .animate-scroll { animation: scroll 30s linear infinite; }
                .animate-scroll:hover { animation-play-state: paused; }
            `})]})},Ult=()=>{const e=on(),{t}=Dn(),r=[{icon:Md,title:t("marketing.why.feature1"),description:t("marketing.why.feature1_desc")},{icon:Wi,title:t("marketing.why.feature2"),description:t("marketing.why.feature2_desc")},{icon:Go,title:t("marketing.why.feature3"),description:t("marketing.why.feature3_desc")},{icon:_ge,title:t("marketing.why.feature4"),description:t("marketing.why.feature4_desc")},{icon:Sl,title:t("marketing.why.feature5"),description:t("marketing.why.feature5_desc")},{icon:Uge,title:t("marketing.why.feature6"),description:t("marketing.why.feature6_desc")}],n=[{name:t("marketing.testimonials.bintou_diallo_name"),role:t("marketing.testimonials.bintou_diallo_role"),quote:t("marketing.testimonials.dj_kerozen_quote")},{name:t("marketing.testimonials.kwesi_mensah_name"),role:t("marketing.testimonials.kwesi_mensah_role"),quote:t("marketing.testimonials.fatou_sylla_quote")},{name:t("marketing.testimonials.aisha_traore_name"),role:t("marketing.testimonials.aisha_traore_role"),quote:t("marketing.testimonials.eric_b_quote")},{name:t("marketing.testimonials.amadou_ba_name"),role:t("marketing.testimonials.amadou_ba_role"),quote:t("marketing.testimonials.amadou_ba_quote")},{name:t("marketing.testimonials.chimamanda_ngozi_name"),role:t("marketing.testimonials.chimamanda_ngozi_role"),quote:t("marketing.testimonials.chimamanda_ngozi_quote")},{name:t("marketing.testimonials.didier_kouame_name"),role:t("marketing.testimonials.didier_kouame_role"),quote:t("marketing.testimonials.didier_kouame_quote")},{name:t("marketing.testimonials.mariam_kone_name"),role:t("marketing.testimonials.mariam_kone_role"),quote:t("marketing.testimonials.mariam_kone_quote")},{name:t("marketing.testimonials.femi_adebayo_name"),role:t("marketing.testimonials.femi_adebayo_role"),quote:t("marketing.testimonials.femi_adebayo_quote")},{name:t("marketing.testimonials.abena_asante_name"),role:t("marketing.testimonials.abena_asante_role"),quote:t("marketing.testimonials.abena_asante_quote")},{name:t("marketing.testimonials.yannick_zongo_name"),role:t("marketing.testimonials.yannick_zongo_role"),quote:t("marketing.testimonials.yannick_zongo_quote")}],s=({testimonials:a})=>{const o=b.useRef(null),[l,c]=b.useState(0),[d,f]=b.useState(!1),h=nR(0);ESe();const v=b.useRef(null);b.useEffect(()=>{const y=()=>{if(o.current){const j=o.current.scrollWidth,w=o.current.offsetWidth;c(j-w)}};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[a]),b.useEffect(()=>{if(d||l===0)return;const y=()=>{let w=h.get()-1;w<-l&&(w=0),h.set(w),v.current=requestAnimationFrame(y)};return v.current=requestAnimationFrame(y),()=>{v.current&&cancelAnimationFrame(v.current)}},[d,l,h]);const g=(y,j)=>{const C=h.get()+j.delta.x*1.5;h.set(C)},_=[...a,...a];return i.jsxs(wt.div,{ref:o,className:"cursor-grab overflow-hidden touch-pan-x relative",onMouseDown:()=>f(!0),onMouseUp:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[i.jsx(wt.div,{drag:"x",dragConstraints:{right:0,left:-l},dragElastic:.3,dragTransition:{bounceStiffness:600,bounceDamping:20},style:{x:h},onDrag:g,className:"flex gap-4 md:gap-6 lg:gap-8 px-4 md:px-0",whileTap:{cursor:"grabbing",scale:.98},children:_.map((y,j)=>i.jsx(wt.div,{className:"min-w-[85vw] sm:min-w-[60vw] md:min-w-[45vw] lg:min-w-[35vw] flex-shrink-0",whileHover:{scale:d?1:1.03,y:-5,transition:{duration:.2}},children:i.jsxs(at,{className:"h-full glass-effect flex flex-col shadow-lg border hover:shadow-xl transition-all duration-300",children:[i.jsx(st,{className:"p-4 md:p-6 flex-grow",children:i.jsxs("p",{className:"text-foreground/80 italic text-sm md:text-base leading-relaxed",children:['"',y.quote,'"']})}),i.jsx(Et,{className:"pt-0 px-4 md:px-6 pb-4 md:pb-6",children:i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-tr from-primary to-secondary flex items-center justify-center text-white font-bold text-lg md:text-xl flex-shrink-0 shadow-md",children:y.name.charAt(0)}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold text-foreground text-sm md:text-base truncate",children:y.name}),i.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:y.role})]})]})})]})},j))}),i.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:a.slice(0,5).map((y,j)=>i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30 transition-all duration-300"},j))})]})};return i.jsxs("div",{className:"bg-background text-foreground",children:[i.jsx(bC,{pageData:{title:t("marketing.meta_title"),description:t("marketing.meta_description")}}),i.jsxs("section",{className:"relative pt-20 pb-20 md:pt-32 md:pb-24 text-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-secondary/10"}),i.jsx("div",{className:"container mx-auto px-4 relative",children:i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[i.jsx(nr,{variant:"secondary",className:"mb-4 text-sm font-semibold py-1 px-3",children:t("marketing.badge")}),i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-extrabold tracking-tight mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-red-500 to-secondary",children:t("marketing.title")}),i.jsx("p",{className:"max-w-3xl mx-auto text-base sm:text-lg md:text-xl text-muted-foreground mb-6 sm:mb-8 px-4 sm:px-0",children:t("marketing.subtitle")}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[i.jsx(Ee,{size:"lg",className:"gradient-red text-primary-foreground shadow-lg hover:scale-105 transition-transform",onClick:()=>e("/create-event"),children:t("marketing.createEventCta")}),i.jsx(Ee,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10 hover:scale-105 transition-transform",onClick:()=>e("/partner-signup"),children:t("marketing.becomePartnerCta")})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:t("marketing.trust")})]})})]}),i.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.why.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t("marketing.why.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((a,o)=>i.jsx(wt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},whileHover:{y:-5,transition:{duration:.2}},children:i.jsxs(at,{className:"h-full text-center sm:text-left glass-effect hover:border-primary/50 transition-all duration-300 hover:shadow-lg",children:[i.jsxs(Et,{className:"flex flex-col sm:flex-row items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-full flex-shrink-0",children:i.jsx(a.icon,{className:"w-6 h-6 text-primary"})}),i.jsx(Tt,{className:"text-xl text-foreground",children:a.title})]}),i.jsx(st,{children:i.jsx("p",{className:"text-muted-foreground",children:a.description})})]})},o))})]})}),i.jsx(Blt,{onCtaClick:()=>e("/create-event")}),i.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.testimonials.title")}),i.jsx("p",{className:"mt-2 text-muted-foreground text-sm md:text-base",children:"Dfilement automatique - Glissez pour acclrer le dfilement"})]}),i.jsx(s,{testimonials:n})]})}),i.jsx(wt.div,{className:"my-8 md:my-12 container px-4",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6},children:i.jsxs(at,{className:"overflow-hidden shadow-xl border-amber-500/30 hover:shadow-2xl transition-all duration-300",children:[i.jsx(Et,{className:"pb-4",children:i.jsx(Tt,{className:"text-center text-xl md:text-2xl",children:"Paiements Flexibles et Scuriss"})}),i.jsx(st,{className:"p-0",children:i.jsx("img",{src:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/b4e1bcde8a95f1bcad910ed8862c6c37.jpg",alt:"Mthodes de paiement varies",className:"w-full h-auto object-contain max-h-32 md:max-h-48"})})]})}),i.jsx("section",{className:"py-16 md:py-24",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"relative bg-gradient-to-r from-primary to-red-500 rounded-lg p-8 md:p-12 text-center text-primary-foreground overflow-hidden",children:[i.jsx("div",{className:"absolute -top-4 -left-4 w-32 h-32 bg-white/10 rounded-full opacity-50"}),i.jsx("div",{className:"absolute -bottom-8 -right-8 w-48 h-48 bg-white/10 rounded-lg transform rotate-45 opacity-50"}),i.jsxs("div",{className:"relative",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:t("marketing.cta.title")}),i.jsx("p",{className:"max-w-2xl mx-auto text-lg mb-8 text-primary-foreground/90",children:t("marketing.cta.subtitle")}),i.jsx(Ee,{size:"lg",variant:"secondary",className:"bg-white text-primary hover:bg-gray-100 shadow-lg transform hover:scale-105 transition-transform",onClick:()=>e("/partner-signup"),children:t("marketing.cta.cta")})]})]})})}),i.jsx(zlt,{})]})};let Zj;const Vlt=new Uint8Array(16);function qlt(){if(!Zj&&(Zj=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zj))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zj(Vlt)}const al=[];for(let e=0;e<256;++e)al.push((e+256).toString(16).slice(1));function Wlt(e,t=0){return al[e[t+0]]+al[e[t+1]]+al[e[t+2]]+al[e[t+3]]+"-"+al[e[t+4]]+al[e[t+5]]+"-"+al[e[t+6]]+al[e[t+7]]+"-"+al[e[t+8]]+al[e[t+9]]+"-"+al[e[t+10]]+al[e[t+11]]+al[e[t+12]]+al[e[t+13]]+al[e[t+14]]+al[e[t+15]]}const Hlt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zH={randomUUID:Hlt};function Xn(e,t,r){if(zH.randomUUID&&!t&&!e)return zH.randomUUID();e=e||{};const n=e.random||(e.rng||qlt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return Wlt(n)}class Sp{static async getCoinPacks(){const{data:t,error:r}=await Oe.from("coin_packs").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;return t.map(n=>({...n,total_coins:(n.coin_amount||0)+(n.bonus_coins||0),price_per_coin:(n.coin_amount||0)+(n.bonus_coins||0)>0?Number((n.fcfa_price/((n.coin_amount||0)+(n.bonus_coins||0))).toFixed(2)):0,type:"coin_pack"}))}static async getCoinPackBySlug(t){const{data:r,error:n}=await Oe.from("coin_packs").select("*").eq("slug",t).maybeSingle();if(n&&n.code!=="PGRST116")throw console.error("Error fetching pack by slug:",n),n;return r}static async getLicensePacks(){const{data:t,error:r}=await Oe.from("partner_license_packs").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;return t.map(n=>({...n,type:"partner_license",duration_months:Math.floor(n.duration_days/30)}))}static async initiatePurchase(t,r){const{type:n}=r;if(n==="coin_pack")return await this.initiateCoinPack(t,r);if(n==="custom_coins")return await this.initiateCustomCoins(t,r);if(n==="partner_license")return await this.initiatePartnerLicense(t,r);throw new Error("Type d'achat non support")}static async initiateCoinPack(t,{pack_id:r}){const{data:n,error:s}=await Oe.from("coin_packs").select("*").eq("id",r).eq("is_active",!0).eq("is_custom",!1).single();if(s||!n)throw new Error("Ce pack de pices n'est pas disponible pour le moment.");const a=`BPI-COIN-${r}-${Xn().substring(0,8)}`,o=n.coin_amount+n.bonus_coins,{error:l}=await Oe.from("user_coin_transactions").insert({user_id:t,transaction_id:a,amount_fcfa:n.fcfa_price,coin_amount:n.coin_amount,bonus_coins:n.bonus_coins,total_coins:o,pack_id:r,transaction_type:"coin_pack"});if(l)throw new Error("Erreur lors de la cration de la transaction: "+l.message);return{success:!0,transaction_id:a,redirect_url:this.generateRedirectUrl(a,n.fcfa_price,"coin_pack",n.id)}}static async initiateCustomCoins(t,{amount_fcfa:r}){if(r<500)throw new Error("Le montant minimum pour un achat personnalis est de 500 FCFA.");if(r>4e5)throw new Error("Le montant maximum pour un achat personnalis est de 400,000 FCFA.");const n=Math.floor(r/10),s=this.calculateCustomBonus(r),a=n+s,o=`BPI-CUSTOM-${Xn().substring(0,8)}`,{error:l}=await Oe.from("user_coin_transactions").insert({user_id:t,transaction_id:o,amount_fcfa:r,coin_amount:n,bonus_coins:s,total_coins:a,transaction_type:"custom_coins"});if(l)throw new Error("Erreur lors de la cration de la transaction personnalise: "+l.message);return{success:!0,transaction_id:o,redirect_url:this.generateRedirectUrl(o,r,"custom_coins")}}static async initiatePartnerLicense(t,{license_pack_id:r}){const{data:n,error:s}=await Oe.from("partner_license_packs").select("*").eq("id",r).eq("is_active",!0).single();if(s||!n)throw new Error("Cette licence de partenariat n'est pas disponible.");const a=`BPI-LIC-${r}-${Xn().substring(0,8)}`,{error:o}=await Oe.from("user_coin_transactions").insert({user_id:t,transaction_id:a,amount_fcfa:n.fcfa_price,license_pack_id:r,transaction_type:"partner_license"});if(o)throw new Error("Erreur lors de la cration de la transaction de licence: "+o.message);return{success:!0,transaction_id:a,redirect_url:this.generateRedirectUrl(a,n.fcfa_price,"partner_license",r)}}static calculateCustomBonus(t){return t>=2e5?Math.floor(t/10*.08):t>=1e5?Math.floor(t/10*.06):t>=5e4?Math.floor(t/10*.05):t>=2e4?Math.floor(t/10*.03):t>=1e4?Math.floor(t/10*.02):t>=5e3?Math.floor(t/10*.01):0}static generateRedirectUrl(t,r,n,s=null){const a=new URLSearchParams({transaction_id:t,amount:r,type:n});return s&&a.append("pack_id",s),`/payment/checkout?${a.toString()}`}static async verifyAndCreditPayment(t,r,n){try{const{data:s,error:a}=await Oe.from("user_coin_transactions").select("*").eq("transaction_id",t).eq("status","pending").single();if(a||!s)return{success:!1,message:"Transaction non trouve ou dj traite."};const{error:o}=await Oe.from("user_coin_transactions").update({status:"completed",user_email:r,moneyfusion_reference:n,payment_date:new Date().toISOString(),verified_at:new Date().toISOString()}).eq("transaction_id",t);if(o)throw o;if(s.transaction_type==="coin_pack"||s.transaction_type==="custom_coins"){const{error:l}=await Oe.rpc("increment_user_coins",{p_user_id:s.user_id,p_coin_increment:s.total_coins,p_fcfa_increment:parseFloat(s.amount_fcfa)});if(l)throw l;return{success:!0,message:`${s.total_coins} pices ont t crdites sur votre compte.`,type:"coins",amount:s.total_coins}}else if(s.transaction_type==="partner_license"){const{data:l}=await Oe.from("partner_license_packs").select("*").eq("id",s.license_pack_id).single();if(!l)throw new Error("Pack de licence non trouv pour la transaction.");const c=new Date;c.setDate(c.getDate()+l.duration_days);const{error:d}=await Oe.from("user_partner_licenses").insert({user_id:s.user_id,license_pack_id:s.license_pack_id,transaction_id:t,purchase_date:new Date().toISOString(),expiry_date:c.toISOString(),revenue_share_percent:l.revenue_share_percent,status:"active"});if(d)throw d;return{success:!0,message:`Votre Licence ${l.name} est maintenant active pour ${l.duration_days} jours.`,type:"license",license_name:l.name,expiry_date:c}}}catch(s){return console.error("Erreur de vrification/crditation:",s),{success:!1,message:"Une erreur technique est survenue: "+s.message}}return{success:!1,message:"Type de transaction inconnu."}}static async getUserLicenses(t){if(!t)return[];const{data:r,error:n}=await Oe.from("user_partner_licenses").select("*, partner_license_packs (*)").eq("user_id",t).eq("status","active").order("purchase_date",{ascending:!1});if(n)throw console.error("Erreur lors de la rcupration des licences utilisateur",n),n;return r}}const Glt=({user:e,userLicenses:t,onLicenseUpdate:r})=>{const[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState(null),{toast:d}=Ti(),f=on(),{t:h}=Dn(),v=b.useCallback(async()=>{o(!0);try{const w=await Sp.getLicensePacks();s(w)}catch(w){console.error("Erreur chargement licences:",w),_(h("partner_signup.error_loading_licenses"))}finally{o(!1)}},[h]);b.useEffect(()=>{v()},[v]);const g=async w=>{if(!e){_(h("partner_signup.error_toast.login_required"));return}c(w.id);try{f(`/payment/checkout?amount=${w.fcfa_price}&packId=${w.id}&type=partner_license&from=/partner-signup`)}catch(C){_(C.message)}finally{c(null)}},_=w=>{d({title:h("partner_signup.error_toast.title"),description:w,variant:"destructive"})},y=w=>w?new Date(w).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A",j=w=>new Date(w)>new Date;return a?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:h("partner_signup.loading_licenses")})]}):i.jsxs("div",{className:"license-purchase",children:[i.jsx(iu,{children:t&&t.length>0&&i.jsxs(wt.section,{className:"active-licenses",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[i.jsxs("h2",{children:[i.jsx("span",{role:"img","aria-label":"ticket",children:""})," ",h("partner_signup.your_licenses_title")]}),i.jsx("div",{className:"licenses-grid",children:t.map(w=>{var C;return i.jsxs("div",{className:`license-card ${j(w.expiry_date)?"active":"expired"}`,children:[i.jsxs("div",{className:"license-header",children:[i.jsx("h3",{children:((C=w.partner_license_packs)==null?void 0:C.name)||"Licence"}),i.jsx("span",{className:"license-status",children:j(w.expiry_date)?` ${h("partner_signup.license_card.active")}`:` ${h("partner_signup.license_card.expired")}`})]}),i.jsxs("div",{className:"license-details",children:[i.jsx("p",{children:i.jsx("strong",{children:h("partner_signup.license_card.revenue_share",{percent:w.revenue_share_percent})})}),i.jsxs("p",{children:[i.jsx("strong",{children:h("partner_signup.license_card.purchased_on")})," ",y(w.purchase_date)]}),i.jsxs("p",{children:[i.jsx("strong",{children:h("partner_signup.license_card.expires_on")})," ",y(w.expiry_date)]}),i.jsx("p",{children:i.jsx("strong",{children:h("partner_signup.license_card.days_remaining",{count:Math.max(0,Math.ceil((new Date(w.expiry_date)-new Date)/(1e3*60*60*24)))})})})]})]},w.id)})})]})}),i.jsxs("section",{className:"available-licenses",children:[i.jsxs("h2",{children:[i.jsx("span",{role:"img","aria-label":"rocket",children:""})," ",h("partner_signup.available_licenses_title")]}),i.jsx("p",{className:"license-subtitle",children:h("partner_signup.available_licenses_subtitle")}),i.jsx("div",{className:"licenses-grid",children:n.map((w,C)=>i.jsxs(wt.div,{className:"license-pack-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},children:[w.badge&&i.jsx("div",{className:"license-badge",children:w.badge}),i.jsxs("div",{className:"license-pack-header",children:[i.jsx("h3",{children:w.name}),i.jsxs("div",{className:"license-price",children:[w.fcfa_price.toLocaleString()," FCFA ",i.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:h("partner_signup.per_month")})]})]}),i.jsxs("div",{className:"revenue-share",children:[i.jsxs("div",{className:"revenue-percent",children:[w.revenue_share_percent,"%"]}),i.jsx("div",{className:"revenue-label",children:h("partner_signup.revenue_label")})]}),i.jsxs("div",{className:"license-duration",children:[i.jsx("span",{role:"img","aria-label":"timer",children:""})," ",h("partner_signup.duration_label",{months:w.duration_months,days:w.duration_days})]}),i.jsx("div",{className:"license-features",children:i.jsx("ul",{children:w.features.map((k,T)=>i.jsxs("li",{children:[i.jsx("span",{role:"img","aria-label":"check",children:""})," ",k]},T))})}),i.jsx("div",{className:"license-description",children:w.description}),i.jsx(Ee,{onClick:()=>g(w),className:"buy-license-button",disabled:l===w.id,children:l===w.id?i.jsx(Dt,{className:"animate-spin"}):h("partner_signup.purchase_cta")})]},w.id))})]})]})},Klt=()=>{const{user:e}=Pr(),{userProfile:t,loadingProfile:r}=Un(),n=on(),{toast:s}=Ti(),{t:a}=Dn(),[o,l]=b.useState([]),[c,d]=b.useState(!0),f=b.useCallback(async()=>{if(!e){d(!1);return}try{d(!0);const h=await Sp.getUserLicenses(e.id);l(h)}catch{s({title:a("partner_signup.error_toast.title"),description:a("partner_signup.error_loading_licenses"),variant:"destructive"})}finally{d(!1)}},[e,s,a]);return b.useEffect(()=>{f()},[f]),e?r||c?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})}):i.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[i.jsx(bC,{pageData:{title:a("partner_signup.meta_title"),description:a("partner_signup.meta_description")}}),i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-12 md:py-20",children:i.jsx(Glt,{user:t,userLicenses:o,onLicenseUpdate:f})})]}):i.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center text-center p-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-4",children:a("partner_signup.unauthorized_title")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:a("partner_signup.unauthorized_desc")}),i.jsx(Ee,{onClick:()=>n("/auth"),children:a("partner_signup.unauthorized_cta")})]})})};const Ylt=()=>{const{user:e}=Pr(),{toast:t}=Ti(),[r,n]=b.useState(!1),[s,a]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState(0),[f,h]=b.useState(""),[v,g]=b.useState(!1),_=b.useRef(null);b.useCallback(async()=>{if(e)try{const{data:k,error:T}=await Oe.rpc("get_todays_mandatory_video",{user_uuid:e.id});if(T){console.error("Error fetching mandatory video status:",T);return}}catch(k){console.error("Error in checkMandatoryVideo:",k)}},[e]),b.useEffect(()=>{},[e]);const y=async()=>{l(!0)},j=async()=>{if(c!==0){g(!0);try{const k=_.current?Math.floor(_.current.currentTime):s.video_duration,{data:T,error:P}=await Oe.rpc("complete_mandatory_video",{user_uuid:e.id,video_uuid:s.id,watch_duration:k,device_data:{userAgent:navigator.userAgent}});if(P)throw P;if(T.success)t({title:" Rcompense reue !",description:T.message,className:"bg-green-500 text-white"}),l(!1),n(!1);else throw new Error(T.message)}catch(k){console.error("Error submitting rating:",k),t({title:"Erreur",description:k.message||"Une erreur est survenue lors de la soumission de votre avis.",variant:"destructive"})}finally{g(!1)}}},w=k=>{d(k),k>=4&&(h(""),setTimeout(()=>j(),500))},C=()=>[1,2,3,4,5].map(k=>i.jsx("button",{type:"button",className:`star ${k<=c?"filled":""}`,onClick:()=>w(k),disabled:v,children:""},k));return!r||!s?null:i.jsx(iu,{children:r&&i.jsx(wt.div,{className:"mandatory-video-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx(wt.div,{className:"mandatory-video-popup",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:o?i.jsxs("div",{className:"rating-container",children:[i.jsxs("div",{className:"rating-header",children:[i.jsx("h2",{children:"Que pensez-vous de cette vido ?"}),i.jsx("p",{children:"Votre avis nous aide  amliorer la plateforme"})]}),i.jsx("div",{className:"stars-container",children:C()}),c>0&&c<=3&&i.jsx("div",{className:"feedback-container",children:i.jsx(So,{value:f,onChange:k=>h(k.target.value),placeholder:"Merci de nous expliquer ce qui n'a pas fonctionn pour vous...",rows:"3",disabled:v,className:"bg-slate-100"})}),i.jsx("div",{className:"rating-actions",children:i.jsx(Ee,{onClick:j,disabled:c===0||v||c<=3&&!f.trim(),className:"submit-rating-btn",children:v?i.jsx(Dt,{className:"animate-spin"}):"Soumettre mon avis"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"video-header",children:[i.jsx("h2",{children:s.title}),i.jsx("p",{children:s.description})]}),i.jsx("div",{className:"video-container",children:i.jsx("video",{ref:_,controls:!0,autoPlay:!0,onEnded:y,src:s.video_url,className:"mandatory-video"})}),i.jsx("div",{className:"video-footer",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Attention:"})," Vous devez regarder cette vido jusqu' la fin pour recevoir votre rcompense et accder  toutes les fonctionnalits."]})})]})})})})};const Xlt=()=>{const{t:e}=Dn(),t=on(),r=[{icon:i.jsx(Lu,{className:"text-blue-400"}),title:e("about.vision.global.title"),description:e("about.vision.global.description")},{icon:i.jsx(Md,{className:"text-green-400"}),title:e("about.vision.empowerment.title"),description:e("about.vision.empowerment.description")},{icon:i.jsx(pi,{className:"text-purple-400"}),title:e("about.vision.innovation.title"),description:e("about.vision.innovation.description")}],n=[{icon:i.jsx(qs,{className:"text-orange-400"}),metric:e("about.highlights.events.metric"),label:e("about.highlights.events.label")},{icon:i.jsx(Ga,{className:"text-blue-400"}),metric:e("about.highlights.community.metric"),label:e("about.highlights.community.label")},{icon:i.jsx(fN,{className:"text-yellow-400"}),metric:e("about.highlights.success.metric"),label:e("about.highlights.success.label")},{icon:i.jsx(Go,{className:"text-green-400"}),metric:e("about.highlights.growth.metric"),label:e("about.highlights.growth.label")}],s=[{icon:i.jsx(g_,{className:"text-red-400"}),title:e("about.values.passion.title"),description:e("about.values.passion.description")},{icon:i.jsx(Sl,{className:"text-blue-400"}),title:e("about.values.trust.title"),description:e("about.values.trust.description")},{icon:i.jsx(Wi,{className:"text-yellow-400"}),title:e("about.values.agility.title"),description:e("about.values.agility.description")},{icon:i.jsx(hN,{className:"text-purple-400"}),title:e("about.values.impact.title"),description:e("about.values.impact.description")}],a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},o={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},l=()=>{window.open("https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH","_blank")},c=()=>{const f="2250712275374",h=encodeURIComponent("Bonjour BonPlanInfos, je souhaite en savoir plus sur vos services.");window.open(`https://wa.me/${f}?text=${h}`,"_blank")},d=()=>{window.open("tel:+2250712275374","_self")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800",children:[i.jsxs(_a,{children:[i.jsx("title",{children:e("about.meta_title")}),i.jsx("meta",{name:"description",content:e("about.meta_description")})]}),i.jsxs("section",{className:"relative py-20 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-gray-800 [mask-image:linear-gradient(0deg,rgba(0,0,0,0.1),rgba(0,0,0,0.5))]"}),i.jsx("div",{className:"container relative",children:i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent mb-6",children:e("about.hero.title")}),i.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:e("about.hero.subtitle")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(Ee,{size:"lg",className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:()=>t("/auth"),children:e("about.hero.cta_primary")}),i.jsx(Ee,{size:"lg",variant:"outline",className:"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-gray-900 px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:()=>t("/discover"),children:e("about.hero.cta_secondary")})]})]})})]}),i.jsx("section",{className:"py-20 bg-gray-900",children:i.jsxs("div",{className:"container",children:[i.jsxs(wt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e("about.vision.title")}),i.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:e("about.vision.description")})]}),i.jsx(wt.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-3 gap-8",children:r.map((f,h)=>i.jsxs(wt.div,{variants:o,className:"text-center p-8 rounded-2xl bg-gray-800 hover:shadow-gray-700/20 transition-all duration-300 border border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-700 rounded-2xl flex items-center justify-center shadow-gray-900",children:f.icon}),i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:f.title}),i.jsx("p",{className:"text-gray-300 leading-relaxed",children:f.description})]},h))})]})}),i.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-700 to-blue-900 text-white",children:i.jsxs("div",{className:"container",children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:e("about.highlights.title")}),i.jsx("p",{className:"text-xl opacity-90",children:e("about.highlights.subtitle")})]}),i.jsx(wt.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:n.map((f,h)=>i.jsxs(wt.div,{variants:o,className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-black/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:f.icon}),i.jsx("div",{className:"text-3xl font-bold mb-2",children:f.metric}),i.jsx("div",{className:"text-blue-200 font-medium",children:f.label})]},h))})]})}),i.jsx("section",{className:"py-20 bg-gray-900",children:i.jsxs("div",{className:"container",children:[i.jsxs(wt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e("about.values.title")}),i.jsx("p",{className:"text-lg text-gray-300",children:e("about.values.description")})]}),i.jsx(wt.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((f,h)=>i.jsxs(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:h*.1},className:"bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-gray-700/20 transition-all duration-300 border border-gray-700",children:[i.jsx("div",{className:"value-icon w-16 h-16 mx-auto mb-6 bg-blue-900/30 rounded-2xl flex items-center justify-center",children:f.icon}),i.jsx("h4",{className:"font-bold text-xl text-white mt-4 text-center",children:f.title}),i.jsx("p",{className:"text-gray-300 text-sm mt-4 text-center leading-relaxed",children:f.description})]},h))})]})}),i.jsx("section",{className:"py-20 bg-gray-900",children:i.jsx("div",{className:"container",children:i.jsxs(wt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:e("about.cta.title")}),i.jsx("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed",children:e("about.cta.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[i.jsx(Ee,{size:"lg",className:"bg-gradient-to-r from-blue-700 to-blue-900 hover:from-blue-600 hover:to-blue-800 text-white px-8 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:()=>t("/auth?tab=register"),children:e("about.cta.button_primary")}),i.jsxs(Ee,{size:"lg",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800 px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:d,children:[i.jsx(w3,{className:"w-5 h-5 mr-2"}),e("about.cta.call")]})]}),i.jsxs("div",{className:"border-t border-gray-700 pt-8 mt-8",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-6",children:e("about.cta.contact_direct")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-4",children:[i.jsxs(Ee,{size:"lg",className:"bg-green-700 hover:bg-green-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:l,children:[i.jsx(Ga,{className:"w-5 h-5 mr-2"}),e("about.cta.whatsapp_group")]}),i.jsxs(Ee,{size:"lg",className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:c,children:[i.jsx(ax,{className:"w-5 h-5 mr-2"}),e("about.cta.whatsapp_direct")]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-4",children:e("about.cta.available_hours")})]})]})})})]})};const UH=()=>{const{t:e}=Dn(),t=[{key:"introduction",icon:i.jsx(ix,{})},{key:"data_collected",icon:i.jsx(Jg,{})},{key:"data_usage",icon:i.jsx(Kf,{})},{key:"cookies",icon:i.jsx($F,{})},{key:"data_sharing",icon:i.jsx(ty,{})},{key:"security",icon:i.jsx(Wh,{})},{key:"your_rights",icon:i.jsx(Iu,{})},{key:"contact",icon:i.jsx(gp,{})}];return i.jsxs("div",{className:"legal-mentions-page",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("privacy.meta_title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("privacy.meta_description")})]}),i.jsxs("main",{children:[i.jsx("section",{className:"legal-hero",children:i.jsxs("div",{className:"container",children:[i.jsxs("h1",{children:[i.jsx(ix,{className:"inline-block w-12 h-12 mb-4"})," ",e("privacy.title")]}),i.jsx("p",{children:e("privacy.meta_description")}),i.jsx("div",{className:"last-update",children:e("privacy.last_updated")})]})}),i.jsx("section",{className:"legal-content",children:i.jsx("div",{className:"container",children:t.map(({key:r,icon:n})=>{const s=e(`privacy.${r}`,{returnObjects:!0});return i.jsxs("div",{className:"legal-section",children:[i.jsxs("h2",{children:[n," ",s.title]}),i.jsx("p",{children:s.p1}),r==="data_collected"||r==="data_usage"||r==="your_rights"?i.jsx("ul",{children:Object.keys(s).filter(a=>a.startsWith("item")).map(a=>i.jsx("li",{dangerouslySetInnerHTML:{__html:s[a]}},a))}):null,r==="your_rights"&&s.p2&&i.jsx("p",{children:s.p2}),r==="contact"&&i.jsx("p",{children:i.jsx("a",{href:`mailto:${s.email}`,className:"text-primary hover:underline",children:s.email})})]},r)})})})]})]})};const VH=()=>{const{t:e}=Dn(),[t,r]=b.useState(""),n=b.useMemo(()=>e("help_center.faq_sections",{returnObjects:!0})||{},[e]),s=b.useMemo(()=>{if(!t)return n;const c=t.toLowerCase(),d={};for(const f in n){const h=n[f],v={};let g=!1;if(h.title&&h.title.toLowerCase().includes(c)){g=!0;for(const _ in h)_.startsWith("q")&&(v[_]=h[_],v[_.replace("q","a")]=h[_.replace("q","a")])}else for(const _ in h)if(_.startsWith("q")){const y=h[_],j=h[_.replace("q","a")];y&&j&&(y.toLowerCase().includes(c)||j.toLowerCase().includes(c))&&(v[_]=y,v[_.replace("q","a")]=j,g=!0)}g&&(d[f]={title:h.title,...v})}return d},[t,n]),a=n&&typeof n=="object"&&Object.keys(n).length>0,o=[{icon:i.jsx(gp,{}),title:e("help_center.email"),desc:e("help_center.emailDesc"),buttonText:e("help_center.writeUs"),href:"mailto:support@bonplaninfos.net"},{icon:i.jsx(zT,{}),title:e("help_center.chat"),desc:e("help_center.chatDesc"),buttonText:e("help_center.startChat"),href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH"},{icon:i.jsx(w3,{}),title:e("help_center.phone"),desc:e("help_center.phoneDesc"),buttonText:e("help_center.call"),href:"tel:+2250712275374"}],l=c=>c?i.jsx("div",{className:"prose dark:prose-invert max-w-none text-muted-foreground",dangerouslySetInnerHTML:{__html:c.replace(/\n/g,"<br />")}}):null;return i.jsxs("div",{className:"help-center-page bg-background",children:[i.jsxs(_a,{children:[i.jsx("title",{children:e("help_center.meta_title")}),i.jsx("meta",{name:"description",content:e("help_center.meta_description")})]}),i.jsxs("main",{className:"overflow-x-hidden",children:[i.jsx("section",{className:"help-hero",children:i.jsxs("div",{className:"container text-center",children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(Ige,{className:"inline-block w-12 h-12 mb-4 text-primary"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold",children:e("help_center.title")})]}),i.jsx(wt.p,{className:"mt-4 text-lg text-muted-foreground",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e("help_center.subtitle")})]})}),i.jsx("section",{className:"search-section",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"search-container",children:[i.jsx(Co,{className:"search-icon"}),i.jsx(vt,{type:"text",placeholder:e("help_center.searchPlaceholder"),className:"search-box",value:t,onChange:c=>r(c.target.value)})]})})}),i.jsx("section",{className:"faq-section",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:e("help_center.faq")}),i.jsx("div",{className:"max-w-4xl mx-auto",children:a?Object.keys(s).length>0?Object.entries(s).map(([c,d])=>d.title&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:d.title}),i.jsx(TR,{type:"single",collapsible:!0,className:"w-full space-y-2",children:Object.keys(d).filter(f=>f.startsWith("q")).sort().map((f,h)=>d[f]&&i.jsxs(NC,{value:`${c}-item-${h}`,className:"bg-card border rounded-lg",children:[i.jsx(SC,{className:"p-4 text-base text-left font-semibold text-foreground hover:no-underline",children:d[f]}),i.jsx(CC,{className:"p-4 pt-0",children:l(d[f.replace("q","a")])})]},`${c}-${h}`))})]},c)):i.jsx("div",{className:"text-center py-8",children:i.jsxs("p",{className:"text-muted-foreground",children:['Aucun rsultat trouv pour "',t,'".']})}):i.jsx("p",{className:"text-center text-muted-foreground",children:"Le contenu du centre d'aide est en cours de chargement..."})})]})}),i.jsx("section",{className:"contact-section",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:e("help_center.contact")}),i.jsx("div",{className:"contact-grid",children:o.map((c,d)=>i.jsx(wt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:d*.1},children:i.jsxs(at,{className:"contact-card h-full",children:[i.jsxs(Et,{children:[i.jsx("div",{className:"contact-icon",children:c.icon}),i.jsx(Tt,{children:c.title})]}),i.jsxs(st,{className:"flex flex-col flex-grow",children:[i.jsx("p",{className:"contact-description flex-grow",children:c.desc}),i.jsx(Ee,{asChild:!0,className:"mt-4 w-full",children:i.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:c.buttonText})})]})]})},d))})]})})]})]})},Jlt=()=>{const{t:e}=Dn(),t=e("legal_mentions.sections",{returnObjects:!0}),r=[{key:"editor",icon:i.jsx(kp,{})},{key:"director",icon:i.jsx(ive,{})},{key:"hosting",icon:i.jsx(pX,{})},{key:"data",icon:i.jsx(Q2,{})},{key:"cookies",icon:i.jsx($F,{})},{key:"ip",icon:i.jsx(Pge,{})},{key:"liability",icon:i.jsx(Ql,{})},{key:"links",icon:i.jsx(Vge,{})},{key:"applicableLaw",icon:i.jsx(h9,{})}],n=(s,a)=>{if(!a)return null;switch(s){case"editor":return i.jsxs(i.Fragment,{children:[i.jsx("p",{children:a.content}),i.jsxs("div",{className:"legal-details",children:[i.jsx("p",{children:i.jsx("strong",{children:a.company})}),i.jsx("p",{children:a.capital}),i.jsx("p",{children:a.address}),i.jsx("p",{children:a.phone}),i.jsxs("p",{children:["Email: ",i.jsx("a",{href:`mailto:${a.email}`,children:a.email})]})]})]});case"hosting":return i.jsxs(i.Fragment,{children:[i.jsx("p",{children:a.content}),i.jsxs("div",{className:"legal-details",children:[i.jsx("p",{children:i.jsx("strong",{children:a.company})}),i.jsx("p",{children:a.address}),i.jsx("p",{children:i.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",children:a.website})})]})]});case"cookies":return i.jsxs(i.Fragment,{children:[i.jsx("p",{children:a.content1}),i.jsxs("ul",{children:[i.jsx("li",{children:a.item1}),i.jsx("li",{children:a.item2}),i.jsx("li",{children:a.item3})]}),i.jsx("p",{children:a.content2})]});case"data":return i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[a.content1,i.jsx("a",{href:"mailto:privacy@bonplaninfos.net",className:"text-primary hover:underline",children:"privacy@bonplaninfos.net"}),"."]}),i.jsx("p",{children:i.jsxs(sD,{i18nKey:"legal_mentions.sections.data.content2",children:["Pour plus d'informations, veuillez consulter notre ",i.jsx(mi,{to:"/privacy-policy",className:"text-primary hover:underline",children:"Politique de Confidentialit"}),"."]})})]});default:return i.jsx("p",{dangerouslySetInnerHTML:{__html:a.content||a.content1}})}};return i.jsxs("div",{className:"legal-mentions-page",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("legal_mentions.meta_title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("legal_mentions.meta_description")})]}),i.jsxs("main",{children:[i.jsx("section",{className:"legal-hero",children:i.jsxs("div",{className:"container",children:[i.jsxs("h1",{children:[i.jsx(h9,{className:"inline-block w-12 h-12 mb-4"})," ",e("legal_mentions.title")]}),i.jsx("p",{children:e("legal_mentions.subtitle")}),i.jsx("div",{className:"last-update",children:e("legal_mentions.lastUpdate")})]})}),i.jsx("section",{className:"legal-content",children:i.jsx("div",{className:"container",children:r.map(({key:s,icon:a})=>{const o=t[s];return o?i.jsxs("div",{className:"legal-section",children:[i.jsxs("h2",{children:[a," ",o.title]}),n(s,o)]},s):null})})})]})]})},Zlt=()=>{const e=on(),t=[{icon:i.jsx(Ga,{className:"w-8 h-8"}),title:"1. Crez votre compte",description:"L'inscription est rapide, gratuite et ne prend que 30 secondes. Remplissez quelques informations de base et vous tes prt  commencer."},{icon:i.jsx(nw,{className:"w-8 h-8"}),title:"2. Publiez un vnement",description:"Vous tes organisateur ? Publiez les dtails de votre vnement (concert, soire, confrence...) pour le rendre visible  des milliers d'utilisateurs."},{icon:i.jsx(ty,{className:"w-8 h-8"}),title:"3. Partagez des Contenus",description:"Trouvez un vnement ou une promotion qui vous plat et partagez-le avec vos amis et votre communaut sur les rseaux sociaux."},{icon:i.jsx(dn,{className:"w-8 h-8"}),title:"4. Gagnez des Pices",description:"Pour chaque interaction (partage, tlchargement, vue) sur le contenu que vous avez publi ou partag, vous accumulez des pices dans votre portefeuille."},{icon:i.jsx(Wi,{className:"w-8 h-8"}),title:"5. Boostez votre visibilit",description:"Utilisez vos pices pour 'booster' vos publications et atteindre une audience encore plus large sur la plateforme."},{icon:i.jsx(fX,{className:"w-8 h-8"}),title:"6. Encaissez vos Gains",description:"Convertissez vos pices en argent rel et retirez vos gains directement sur votre compte mobile money (Orange, Moov, Wave)."}];return i.jsxs("div",{className:"bg-background text-foreground",children:[i.jsxs(_a,{children:[i.jsx("title",{children:"Comment a marche - BonPlanInfos"}),i.jsx("meta",{name:"description",content:"Dcouvrez comment gagner de l'argent en partageant des vnements sur BonPlanInfos. Le guide complet de notre plateforme."})]}),i.jsxs("main",{className:"container mx-auto px-4 py-12",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4",children:"Comment a Marche ?"}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Transformez votre passion pour les vnements en une source de revenus, tape par tape."})]}),i.jsx(wt.div,{className:"my-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:i.jsx(at,{className:"overflow-hidden shadow-lg border-primary/20",children:i.jsx(st,{className:"p-0",children:i.jsx("img",{src:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/150a140f02368866d8206eba11ea3767.jpg",alt:"Faites vivre vos vnements",className:"w-full h-auto object-contain"})})})}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-4 bottom-4 w-1 bg-border/40 rounded-full hidden md:block"}),t.map((r,n)=>i.jsxs(wt.div,{initial:{opacity:0,x:n%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},className:`flex items-center w-full mb-12 flex-col md:flex-row ${n%2===0?"":"md:flex-row-reverse"}`,children:[i.jsx("div",{className:`md:w-5/12 ${n%2===0?"":"md:text-right"}`,children:i.jsxs(at,{className:"glass-effect border-primary/30",children:[i.jsx(Et,{children:i.jsx(Tt,{children:r.title})}),i.jsx(st,{children:i.jsx("p",{className:"text-muted-foreground",children:r.description})})]})}),i.jsx("div",{className:"hidden md:flex w-2/12 items-center justify-center",children:i.jsx("div",{className:"z-10 w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg",children:r.icon})}),i.jsx("div",{className:"md:hidden mt-4 w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg",children:r.icon})]},n))]})}),i.jsxs(wt.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.6},className:"text-center mt-16",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  vous lancer ?"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Rejoignez des milliers d'autres personnes qui montisent dj leur passion."}),i.jsx(Ee,{size:"lg",className:"gradient-gold text-background",onClick:()=>e("/auth",{state:{isRegistering:!0}}),children:"Crer mon compte gratuitement"})]})]})]})},Qlt=()=>{var a;const e=on(),{adminConfig:t}=Un(),{t:r}=Dn(),n=((a=t==null?void 0:t.event_packs)==null?void 0:a.map(o=>({...o,price:o.coins*((t==null?void 0:t.coin_to_cfa_rate)||20)})))||[],s=[{icon:i.jsx(hN,{className:"w-8 h-8 mb-4 text-primary"}),title:r("pricing.business.boost.title"),price:r("pricing.business.boost.price"),description:r("pricing.business.boost.description"),features:[r("pricing.business.boost.feature1"),r("pricing.business.boost.feature2"),r("pricing.business.boost.feature3")],actionText:r("pricing.business.boost.actionText"),action:()=>e("/boost")},{icon:i.jsx(Cc,{className:"w-8 h-8 mb-4 text-yellow-400"}),title:r("pricing.business.promo.title"),price:r("pricing.business.promo.price"),description:r("pricing.business.promo.description"),features:[r("pricing.business.promo.feature1"),r("pricing.business.promo.feature2"),r("pricing.business.promo.feature3")],actionText:r("pricing.business.promo.actionText"),action:()=>e("/create-promotion")},{icon:i.jsx(zF,{className:"w-8 h-8 mb-4 text-purple-400"}),title:r("pricing.business.partner.title"),price:r("pricing.business.partner.price"),description:r("pricing.business.partner.description"),features:[r("pricing.business.partner.feature1"),r("pricing.business.partner.feature2"),r("pricing.business.partner.feature3")],actionText:r("pricing.business.partner.actionText"),action:()=>e("/marketing")}];return i.jsxs("div",{className:"bg-background text-foreground",children:[i.jsxs(_a,{children:[i.jsx("title",{children:r("pricing.meta.title")}),i.jsx("meta",{name:"description",content:r("pricing.meta.description")})]}),i.jsxs("main",{className:"container mx-auto px-4 py-12",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4",children:r("pricing.hero.title")}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:r("pricing.hero.subtitle")})]}),i.jsxs("section",{className:"mb-20",children:[i.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:r("pricing.user_packs.title")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((o,l)=>{var c,d;return i.jsx(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:i.jsxs(at,{className:`flex flex-col h-full glass-effect hover:border-primary transition-all ${o.id==="vip"?"border-primary":"border-border"}`,children:[i.jsxs(Et,{className:"text-center",children:[o.id==="vip"&&i.jsx(nr,{className:"absolute top-4 right-4 bg-primary",children:r("pricing.popular")}),i.jsx(Tt,{className:"text-2xl",children:o.name}),i.jsxs("div",{className:"my-4",children:[i.jsx("span",{className:"text-5xl font-bold",children:o.coins+(((d=(c=o.bonus)==null?void 0:c.match(/\d+/g))==null?void 0:d.map(Number)[0])||0)}),i.jsxs("span",{className:"text-muted-foreground",children:[" ",r("pricing.coins")]})]}),o.bonus&&i.jsx(nn,{className:"text-green-400 font-semibold",children:o.bonus})]}),i.jsx(st,{className:"flex-grow"}),i.jsxs(PN,{className:"flex-col gap-4",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary",children:[o.price.toLocaleString()," FCFA"]}),i.jsx(Ee,{className:"w-full gradient-gold text-background",onClick:()=>e("/wallet"),children:r("pricing.buy_pack")})]})]})},o.id)})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:r("pricing.business.title")}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:s.map((o,l)=>i.jsx(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:i.jsxs(at,{className:"flex flex-col h-full glass-effect hover:border-primary transition-all",children:[i.jsxs(Et,{className:"text-center",children:[o.icon,i.jsx(Tt,{className:"text-2xl",children:o.title}),i.jsx("p",{className:"text-primary font-bold text-lg",children:o.price}),i.jsx(nn,{children:o.description})]}),i.jsx(st,{className:"flex-grow",children:i.jsx("ul",{className:"space-y-3 mt-4",children:o.features.map((c,d)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(Qx,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-1"}),i.jsx("span",{className:"text-muted-foreground",children:c})]},d))})}),i.jsx(PN,{children:i.jsx(Ee,{className:"w-full",onClick:o.action,children:o.actionText})})]})},l))})]})]})]})},Mce=()=>{var _,y;const{user:e,signOut:t,permissions:r}=Pr(),{userProfile:n}=Un(),s=on(),a=Tl(),[o,l]=b.useState(!1),c=async()=>{await t(),s("/"),l(!1)},d=[{path:"/",icon:UF,label:"Accueil"},{path:"/events",icon:qs,label:"vnements"},{path:"/promotions",icon:gX,label:"Promos"},...e&&((r==null?void 0:r.role)==="organizer"||(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin")?[{path:"/create-event",icon:Gi,label:"Crer"}]:[]],f=[{path:"/wallet",icon:Us,label:"Portefeuille"},{path:"/profile",icon:Jg,label:"Profil"}],h=[...(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"?[{path:"/admin",icon:Sl,label:"Admin"}]:[],...(r==null?void 0:r.role)==="secretary"?[{path:"/secretary",icon:aw,label:"Secrtaire"}]:[]],v=j=>a.pathname===j,g=3;return i.jsxs("nav",{className:"sticky top-0 z-50 glass-effect border-b border-[#C9A227]/20",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs(mi,{to:"/",className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 gradient-gold rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-[#0B0B0D] font-bold text-sm",children:"BP"})}),i.jsx("span",{className:"text-xl font-bold text-[#C9A227]",children:"BonPlaninfos"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[d.map(j=>i.jsxs(mi,{to:j.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${v(j.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[i.jsx(j.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:j.label})]},j.path)),h.map(j=>i.jsxs(mi,{to:j.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${v(j.path)?"bg-[#E53935] text-white":"text-gray-300 hover:text-white hover:bg-[#E53935]"}`,children:[i.jsx(j.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:j.label})]},j.path))]}),i.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e&&n?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>s("/notifications"),className:"relative text-gray-300 hover:text-[#C9A227]",children:[i.jsx(pp,{className:"w-5 h-5"}),i.jsx(nr,{className:"absolute -top-1 -right-1 h-4 w-4 justify-center p-0 gradient-red text-white text-xs border-2 border-[#111]",children:g})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-[#C9A227]/10 px-3 py-1 rounded-full cursor-pointer",onClick:()=>s("/wallet"),children:[i.jsx(Us,{className:"w-4 h-4 text-[#C9A227]"}),i.jsxs("span",{className:"text-sm font-medium text-[#C9A227]",children:[n.total_coins||0," pices"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>s("/profile"),children:[i.jsxs(Xu,{className:"w-8 h-8",children:[i.jsx(Ju,{src:n.avatar_url}),i.jsx(Zu,{className:"bg-[#C9A227] text-[#0B0B0D]",children:(y=(_=n.name)==null?void 0:_.charAt(0))==null?void 0:y.toUpperCase()})]}),i.jsx("span",{className:"text-sm text-gray-300",children:n.name})]}),i.jsx(Ee,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-300 hover:text-[#E53935]",children:i.jsx(nx,{className:"w-5 h-5"})})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ee,{variant:"ghost",onClick:()=>s("/auth"),className:"text-gray-300 hover:text-[#C9A227]",children:"Connexion"}),i.jsx(Ee,{onClick:()=>s("/auth"),className:"gradient-gold text-[#0B0B0D] hover:opacity-90",children:"Inscription"})]})}),i.jsx(Ee,{variant:"ghost",size:"sm",className:"md:hidden text-gray-300",onClick:()=>l(!o),children:o?i.jsx(au,{className:"w-5 h-5"}):i.jsx(hX,{className:"w-5 h-5"})})]})}),o&&i.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden glass-effect border-t border-[#C9A227]/20",children:i.jsxs("div",{className:"px-4 py-4 space-y-2",children:[d.map(j=>i.jsxs(mi,{to:j.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${v(j.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[i.jsx(j.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:j.label})]},j.path)),e&&i.jsx("div",{className:"border-t border-[#C9A227]/20 pt-4 space-y-2",children:f.map(j=>i.jsxs(mi,{to:j.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${v(j.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[i.jsx(j.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:j.label})]},j.path))}),h.map(j=>i.jsxs(mi,{to:j.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${v(j.path)?"bg-[#E53935] text-white":"text-gray-300 hover:text-white hover:bg-[#E53935]"}`,children:[i.jsx(j.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:j.label})]},j.path)),e?i.jsxs("div",{className:"pt-4 border-t border-[#C9A227]/20 space-y-2",children:[i.jsxs(mi,{to:"/settings",onClick:()=>l(!1),className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]",children:[i.jsx(Kf,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Paramtres"})]}),i.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-[#E53935]",children:[i.jsx(nx,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Dconnexion"})]})]}):i.jsxs("div",{className:"pt-4 border-t border-[#C9A227]/20 space-y-2",children:[i.jsx(Ee,{onClick:()=>{s("/auth"),l(!1)},className:"w-full justify-start text-gray-300 hover:text-[#C9A227]",children:"Connexion"}),i.jsx(Ee,{onClick:()=>{s("/auth"),l(!1)},className:"w-full gradient-gold text-[#0B0B0D] hover:opacity-90",children:"Inscription"})]})]})})]})},ect=()=>{const{t:e}=Dn(),{toast:t}=Ti(),[r]=v3(),{forceRefreshUserProfile:n,triggerVisualEffect:s}=Un(),{user:a}=Pr(),[o,l]=b.useState(!0),[c,d]=b.useState("processing"),[f,h]=b.useState(e("paymentSuccess.processing")),v=b.useCallback(async()=>{const w=r.get("transaction_id"),C=r.get("reference"),k=a==null?void 0:a.email;if(!w){d("error"),h(e("paymentError.missingParams")),l(!1);return}try{const T=await Sp.verifyAndCreditPayment(w,k,C);T.success?(d("success"),h(T.message),t({title:e("paymentSuccess.title"),description:T.message,variant:"success"}),n(),s("bubbles")):(d("error"),h(T.message||"Erreur lors du traitement du paiement."),t({title:e("paymentError.title"),description:T.message,variant:"destructive"}))}catch(T){console.error("Payment processing error:",T),d("error"),h(e("paymentError.message")),t({title:e("paymentError.title"),description:T.message,variant:"destructive"})}finally{l(!1)}},[r,e,t,n,s,a]);b.useEffect(()=>{a&&v()},[a,v]);const g=()=>{switch(c){case"success":return{icon:i.jsx(Vi,{className:"mx-auto h-24 w-24 text-green-500"}),header:e("paymentSuccess.header"),message:f};case"error":return{icon:i.jsx(Ql,{className:"mx-auto h-24 w-24 text-destructive"}),header:e("paymentError.title"),message:f};default:return{icon:i.jsx(Dt,{className:"mx-auto h-24 w-24 text-primary animate-spin"}),header:e("paymentSuccess.processingHeader"),message:f}}},{icon:_,header:y,message:j}=g();return i.jsxs(i.Fragment,{children:[i.jsx(Mce,{}),i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:i.jsxs("div",{className:"text-center max-w-md",children:[_,i.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:y}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:j}),i.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[i.jsx(mi,{to:"/wallet",className:"rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:e("paymentSuccess.walletButton")}),i.jsxs(mi,{to:"/",className:"text-sm font-semibold leading-6 text-foreground",children:[e("paymentSuccess.homeButton")," ",i.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})]})},tct=()=>{const{t:e}=Dn();return i.jsxs(i.Fragment,{children:[i.jsx(Mce,{}),i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx(HF,{className:"mx-auto h-24 w-24 text-destructive"}),i.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:e("paymentCancel.header")}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:e("paymentCancel.message")}),i.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[i.jsx(mi,{to:"/wallet",className:"rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:e("paymentCancel.retryButton")}),i.jsxs(mi,{to:"/",className:"text-sm font-semibold leading-6 text-foreground",children:[e("paymentCancel.homeButton")," ",i.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})]})},rct=({endDate:e})=>{const[t,r]=b.useState({days:0,hours:0,minutes:0,seconds:0,isEnded:!1});b.useEffect(()=>{const a=()=>{const d=new Date(e)-new Date;if(d<=0)return{days:0,hours:0,minutes:0,seconds:0,isEnded:!0};const f=Math.floor(d/(1e3*60*60*24)),h=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),v=Math.floor(d%(1e3*60*60)/(1e3*60)),g=Math.floor(d%(1e3*60)/1e3);return{days:f,hours:h,minutes:v,seconds:g,isEnded:!1}};r(a());const o=setInterval(()=>{r(a())},1e3);return()=>clearInterval(o)},[e]);const n=()=>t.isEnded?"destructive":"outline",s=()=>t.isEnded?i.jsxs("div",{className:"flex items-center font-bold",children:[i.jsx(nu,{className:"w-3 h-3 mr-1"})," Termin"]}):i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(Lge,{className:"w-3 h-3 mr-1"}),i.jsx("span",{className:"text-xs font-semibold",children:"Temps restant"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-1 w-full",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs font-bold bg-background rounded py-0.5",children:t.days}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:"J"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs font-bold bg-background rounded py-0.5",children:t.hours}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:"H"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs font-bold bg-background rounded py-0.5",children:t.minutes}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:"M"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs font-bold bg-background rounded py-0.5",children:t.seconds}),i.jsx("div",{className:"text-[10px] text-muted-foreground",children:"S"})]})]})]});return i.jsx(nr,{variant:n(),className:`absolute top-3 right-3 px-3 py-2 min-w-[100px] ${t.isEnded?"bg-red-500 text-white border-red-600":t.days<1?"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-300 dark:border-red-700":t.days<3?"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-300 dark:border-orange-700":"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-300 dark:border-green-700"}`,children:s()})},nct=({contest:e,onClick:t})=>{const[r,n]=b.useState(!1),[s,a]=b.useState(null);b.useEffect(()=>{(async()=>{const{count:d,error:f}=await Oe.from("votes").select("*",{count:"exact",head:!0}).eq("concours_id",e.id);f||a(d)})()},[e.id]);const o=c=>!c&&c!==0?"...":c>=1e6?`${(c/1e6).toFixed(1)}M`:c>=1e3?`${(c/1e3).toFixed(1)}K`:c.toString(),l=e.primary_media_url?e.primary_media_url:"https://images.unsplash.com/photo-1583795235849-913535366623?auto=format&fit=crop&w=400&h=200&q=75";return i.jsx(wt.div,{onClick:t,className:"cursor-pointer h-full",whileHover:{y:-5},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:i.jsxs(at,{className:"h-full flex flex-col bg-card border-border overflow-hidden hover:border-primary transition-all shadow-lg hover:shadow-xl group",children:[i.jsxs("div",{className:"relative h-40 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent z-10"}),!r&&i.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse"}),i.jsx("img",{className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 ${r?"opacity-100":"opacity-0"}`,alt:`Aperu pour ${e.title}`,src:l,onLoad:()=>n(!0),loading:"lazy"}),i.jsx(rct,{endDate:e.end_date}),e.category&&i.jsx(nr,{variant:"secondary",className:"absolute top-3 left-3 bg-black/60 text-white border-none backdrop-blur-sm",children:e.category})]}),i.jsxs(st,{className:"p-4 flex-grow flex flex-col",children:[i.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2 font-heading mb-2 group-hover:text-primary transition-colors",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4 flex-grow",children:e.description||"Participez  ce concours passionnant !"}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(Cge,{className:"w-4 h-4 mr-2 text-primary"}),i.jsxs("span",{className:"text-sm",children:["Jusqu'au ",new Date(e.end_date).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center bg-muted px-2 py-1 rounded-full",children:[i.jsx(Df,{className:"w-3 h-3 mr-1 text-yellow-500"}),i.jsxs("span",{className:"text-xs font-medium",children:[o(s)," participants"]})]})})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[i.jsxs("span",{children:["Dbut: ",new Date(e.start_date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]}),i.jsxs("span",{children:["Fin: ",new Date(e.end_date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:i.jsx("div",{className:"bg-primary rounded-full h-1.5 transition-all duration-300",style:{width:`${Math.min((new Date-new Date(e.start_date))/(new Date(e.end_date)-new Date(e.start_date))*100,100)}%`}})})]})]})]})})},act=()=>{const e=on(),[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState("all");b.useEffect(()=>{const f=async()=>{s(!0);let v=Oe.from("concours").select("*").order("end_date",{ascending:!0});a==="active"?v=v.eq("statut","actif"):a==="upcoming"?v=v.eq("statut","a_venir"):a==="ended"&&(v=v.eq("statut","termine"));const{data:g,error:_}=await v;_?console.error("Error fetching contests:",_):r(g),s(!1)};f();const h=setInterval(f,6e4);return()=>clearInterval(h)},[a]);const l=()=>t.filter(f=>f.statut==="actif"&&new Date(f.end_date)>new Date),c=()=>t.filter(f=>f.statut==="termine"||new Date(f.end_date)<=new Date),d=()=>t.filter(f=>f.statut==="a_venir"&&new Date(f.start_date)>new Date);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20",children:[i.jsxs(_a,{children:[i.jsx("title",{children:"Concours - BonPlaninfos"}),i.jsx("meta",{name:"description",content:"Participez aux concours et votez pour vos favoris."})]}),i.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ee,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>e(-1),children:i.jsx(Hd,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[i.jsx(Df,{className:"w-8 h-8 mr-3 text-primary"}),"Concours & Votes"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Participez aux concours en cours et votez pour vos favoris"})]})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[i.jsxs(Ee,{variant:a==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),children:["Tous les concours (",t.length,")"]}),i.jsxs(Ee,{variant:a==="active"?"default":"outline",size:"sm",onClick:()=>o("active"),className:"border-green-300 text-green-700 hover:bg-green-50 hover:text-green-800",children:["Actifs (",l().length,")"]}),i.jsxs(Ee,{variant:a==="upcoming"?"default":"outline",size:"sm",onClick:()=>o("upcoming"),className:"border-blue-300 text-blue-700 hover:bg-blue-50 hover:text-blue-800",children:[" venir (",d().length,")"]}),i.jsxs(Ee,{variant:a==="ended"?"default":"outline",size:"sm",onClick:()=>o("ended"),className:"border-red-300 text-red-700 hover:bg-red-50 hover:text-red-800",children:["Termins (",c().length,")"]})]})]}),i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:n?i.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Chargement des concours..."})]}):t.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(f=>i.jsx(nct,{contest:f,onClick:()=>e(`/contest/${f.id}`)},f.id))}):i.jsxs(wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16 bg-gradient-to-br from-card to-secondary/50 rounded-2xl border shadow-lg",children:[i.jsx(Df,{className:"w-24 h-24 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-3",children:"Aucun concours disponible"}),i.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:a==="active"?"Il n'y a actuellement aucun concours actif. Revenez bientt !":a==="ended"?"Aucun concours n'est termin pour le moment.":a==="upcoming"?"Aucun concours  venir pour le moment.":"Aucun concours n'a t cr pour le moment."}),a!=="all"&&i.jsx(Ee,{onClick:()=>o("all"),children:"Voir tous les concours"})]})}),t.length>0&&!n&&i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12 p-6 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-2xl border",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(Df,{className:"w-6 h-6 mr-2"}),"Statistiques des concours"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-background p-4 rounded-xl border text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:t.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Concours crs"})]}),i.jsxs("div",{className:"bg-background p-4 rounded-xl border text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:l().length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Concours actifs"})]}),i.jsxs("div",{className:"bg-background p-4 rounded-xl border text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d().length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:" venir"})]}),i.jsxs("div",{className:"bg-background p-4 rounded-xl border text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:c().length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Termins"})]})]})]})]})]})},sct=({candidate:e,onVote:t,totalVotes:r,onLike:n,onShare:s,hasLiked:a})=>{var d,f;const o=r>0?(e.vote_count/r*100).toFixed(1):0,[l,c]=b.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs(wt.div,{className:"bg-card/50 border border-border hover:border-primary/50 rounded-xl p-4 transition-all duration-300 hover:shadow-lg group relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},children:[i.jsxs("div",{className:"absolute top-0 right-0 p-2 opacity-10 font-black text-6xl select-none",children:["#",e.ranking_position]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 relative z-10",children:[i.jsxs("div",{className:"relative cursor-pointer",onClick:()=>c(!0),children:[i.jsxs(Xu,{className:"w-20 h-20 sm:w-24 sm:h-24 border-4 border-background shadow-xl group-hover:scale-105 transition-transform",children:[i.jsx(Ju,{src:e.photo_url,alt:e.name,className:"object-cover"}),i.jsx(Zu,{className:"text-2xl font-bold bg-gradient-to-br from-primary/20 to-secondary/20",children:(d=e.name)==null?void 0:d.charAt(0)})]}),e.ranking_position===1&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white p-1.5 rounded-full shadow-lg animate-bounce",children:i.jsx(Ko,{className:"w-4 h-4 fill-current"})})]}),i.jsxs("div",{className:"flex-1 w-full text-center sm:text-left space-y-2",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-2",children:[i.jsx("h3",{className:"font-bold text-xl text-foreground truncate max-w-full cursor-pointer hover:text-primary transition-colors",onClick:()=>c(!0),children:e.name}),i.jsxs(nr,{variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:[e.vote_count," votes"]})]}),i.jsxs("div",{className:"w-full space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Popularit"}),i.jsxs("span",{className:"font-bold text-primary",children:[o,"%"]})]}),i.jsx(ll,{value:parseFloat(o),className:"h-2"})]}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 mt-2",children:[i.jsxs(Ee,{variant:"ghost",size:"sm",className:`h-8 px-2 rounded-full ${a?"text-red-500 bg-red-500/10":"text-muted-foreground hover:text-red-500"}`,onClick:h=>{h.stopPropagation(),n(e.id)},children:[i.jsx(g_,{className:`w-4 h-4 mr-1 ${a?"fill-current":""}`}),i.jsx("span",{className:"text-xs",children:e.like_count||0})]}),i.jsxs(Ee,{variant:"ghost",size:"sm",className:"h-8 px-2 rounded-full text-muted-foreground hover:text-blue-500",onClick:h=>{h.stopPropagation(),s(e)},children:[i.jsx(ty,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"text-xs",children:"Partager"})]})]})]}),i.jsx(Ee,{onClick:t,className:"w-full sm:w-auto gradient-gold text-primary-foreground font-bold shadow-md hover:shadow-xl transition-all hover:scale-105 active:scale-95",children:"Voter"})]})]}),i.jsx(Ao,{open:l,onOpenChange:c,children:i.jsxs(to,{className:"sm:max-w-md",children:[i.jsxs(ko,{children:[i.jsxs(Eo,{className:"text-center text-2xl font-bold flex items-center justify-center gap-2",children:[e.name,e.ranking_position===1&&i.jsx(Ko,{className:"w-6 h-6 text-yellow-500 fill-current"})]}),i.jsxs(Ol,{className:"text-center",children:["Candidat #",e.ranking_position,"  ",e.vote_count," votes"]})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-6 py-4",children:[i.jsxs(Xu,{className:"w-32 h-32 border-4 border-primary shadow-2xl",children:[i.jsx(Ju,{src:e.photo_url,alt:e.name}),i.jsx(Zu,{children:(f=e.name)==null?void 0:f.charAt(0)})]}),i.jsx("div",{className:"w-full space-y-4 bg-muted/30 p-4 rounded-lg border border-border/50",children:i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center divide-x divide-border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-primary",children:e.vote_count}),i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Votes"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-red-500",children:e.like_count||0}),i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"J'aime"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold text-blue-500",children:e.share_count||0}),i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Partages"})]})]})}),e.description&&i.jsxs("div",{className:"w-full",children:[i.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[i.jsx(cu,{className:"w-4 h-4 text-primary"}),"  propos"]}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-background rounded-lg border",children:e.description})]}),i.jsxs(Ee,{onClick:()=>{c(!1),t()},className:"w-full gradient-gold text-lg py-6 font-bold",children:["Voter pour ",e.name]})]})]})})]})},ict=()=>{var re;const{id:e}=TF(),t=on(),{user:r}=Pr(),{forceRefreshUserProfile:n}=Un(),[s,a]=b.useState(null),[o,l]=b.useState([]),[c,d]=b.useState(!0),[f,h]=b.useState(!1),[v,g]=b.useState(!1),[_,y]=b.useState({isOpen:!1,candidate:null,quantity:1}),[j,w]=b.useState(!1),[C,k]=b.useState(new Set),[T,P]=b.useState(!1),D=b.useCallback(async()=>{console.log("Fetching candidate details...");try{const{data:H,error:X}=await Oe.from("contests").select("*").eq("id",e).single();if(X||!H)throw new Error("Concours introuvable");a(H),P((r==null?void 0:r.id)===H.organizer_id);const{data:Q,error:se}=await Oe.from("vue_details_candidats").select("*").eq("event_id",e).order("ranking_position",{ascending:!0});if(se)throw se;if(l(Q),r){const{data:te}=await Oe.from("candidate_likes").select("candidate_id").eq("user_id",r.id);te&&k(new Set(te.map(ce=>ce.candidate_id)))}}catch(H){console.error("Erreur fetch:",H),ze({title:"Erreur",description:H.message,variant:"destructive"}),H.message==="Concours introuvable"&&t("/contests")}finally{d(!1)}},[e,t,r]);b.useEffect(()=>{D();const H=Oe.channel(`contest-updates-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"candidates",filter:`event_id=eq.${e}`},X=>{console.log("Ranking updated",X),D()}).subscribe();return()=>{Oe.removeChannel(H)}},[D,e]);const M=async H=>{if(!r){ze({title:"Connexion requise",description:"Connectez-vous pour aimer un candidat.",variant:"default"}),t("/auth");return}try{const{data:X,error:Q}=await Oe.rpc("toggle_candidate_like",{p_candidate_id:H,p_user_id:r.id});if(Q)throw Q;const se=X;console.log("Like toggled:",se),k(te=>{const ce=new Set(te);return se?ce.add(H):ce.delete(H),ce}),l(te=>te.map(ce=>ce.id===H?{...ce,like_count:(ce.like_count||0)+(se?1:-1)}:ce)),ze({title:se?"J'aime ajout ":"J'aime retir ",className:se?"bg-red-50 border-red-200 text-red-800":""})}catch(X){console.error("Erreur like:",X),ze({title:"Erreur",description:"Action impossible.",variant:"destructive"})}},I=async H=>{const X={title:`Votez pour ${H.name} !`,text:`Soutenez ${H.name} dans le concours ${s.title} sur BonPlanInfos.`,url:window.location.href};try{navigator.share?(await navigator.share(X),r&&await Oe.rpc("enregistrer_partage",{p_candidate_id:H.id,p_user_id:r.id,p_platform:"native"}),ze({title:"Partag !",description:"Merci de votre soutien."})):(await navigator.clipboard.writeText(window.location.href),ze({title:"Lien copi",description:"Partagez-le avec vos amis !"}))}catch{console.log("Partage annul ou erreur")}},B=async()=>{if(!r){t("/auth");return}const{candidate:H,quantity:X}=_;w(!0);try{const{data:Q,error:se}=await Oe.rpc("peut_voter",{p_user_id:r.id,p_event_id:s.id});if(se)throw se;if(!Q)throw new Error("Vous ne pouvez pas voter pour ce concours (ferm ou restreint).");const te=(s.vote_cost_coins||1)*X,ce=async()=>{try{await ws.debitCoins(r.id,te,`Vote: ${s.title}`,H.id,"candidate");const{error:de}=await Oe.rpc("participate_in_vote",{p_event_id:s.id,p_candidate_id:H.id,p_user_id:r.id,p_vote_count:X});if(de)throw de;await n(),ze({title:"Vote enregistr ! ",description:`Vous avez donn ${X} voix  ${H.name}.`,className:"bg-green-50 border-green-200 text-green-800"}),console.log("Vote submitted successfully"),y(ee=>({...ee,isOpen:!1})),D()}catch(de){console.error("Vote processing error:",de),ze({title:"Erreur de vote",description:de.message,variant:"destructive"})}finally{w(!1)}},xe=()=>{g(!0),w(!1),y(de=>({...de,isOpen:!1}))};await ws.handleAction({userId:r.id,requiredCoins:te,onSuccess:ce,onInsufficientBalance:xe})}catch(Q){ze({title:"Impossible de voter",description:Q.message,variant:"destructive"}),w(!1)}},V=async()=>{if(window.confirm("tes-vous sr de vouloir clturer ce concours ? Les rsultats seront publis."))try{w(!0);const{error:H}=await Oe.rpc("cloturer_concours",{p_event_id:e});if(H)throw H;ze({title:"Concours cltur",description:"Les rsultats sont maintenant dfinitifs."}),console.log("Results published"),D()}catch(H){ze({title:"Erreur",description:H.message,variant:"destructive"})}finally{w(!1)}},U=b.useMemo(()=>o.reduce((H,X)=>H+(X.vote_count||0),0),[o]),q=(s==null?void 0:s.status)==="completed"||(s==null?void 0:s.end_date)&&new Date>new Date(s.end_date);return c?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})}):s?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex justify-between items-center",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>t("/contests"),className:"pl-0 hover:pl-2 transition-all",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"})," Retour"]}),T&&!q&&i.jsxs(Ee,{variant:"destructive",size:"sm",onClick:V,disabled:j,children:[i.jsx(Wh,{className:"w-4 h-4 mr-2"})," Clturer le concours"]})]}),i.jsxs(at,{className:"mb-8 overflow-hidden border-none shadow-2xl bg-card",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary via-purple-500 to-pink-500"}),i.jsxs(Et,{className:"text-center pb-2 pt-8",children:[q&&i.jsxs(nr,{className:"w-fit mx-auto mb-4 bg-red-500 hover:bg-red-600 text-white border-none px-4 py-1 text-sm",children:[i.jsx(Df,{className:"w-4 h-4 mr-2"})," CONCOURS TERMIN - RSULTATS FINAUX"]}),i.jsx(Tt,{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-foreground to-muted-foreground uppercase",children:s.title}),i.jsx(nn,{className:"text-lg mt-2 max-w-2xl mx-auto",children:s.description})]}),i.jsx(st,{className:"pb-8",children:i.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mt-6",children:[i.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-xl min-w-[100px]",children:[i.jsxs("div",{className:"flex items-center text-primary mb-1",children:[i.jsx(Gh,{className:"w-5 h-5 mr-2"}),i.jsx("span",{className:"font-bold text-xl",children:U})]}),i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase",children:"Total Votes"})]}),i.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-xl min-w-[100px]",children:[i.jsxs("div",{className:"flex items-center text-amber-500 mb-1",children:[i.jsx(dn,{className:"w-5 h-5 mr-2"}),i.jsxs("span",{className:"font-bold text-xl",children:[s.vote_cost_coins,""]})]}),i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase",children:"Cot/Vote"})]}),i.jsxs("div",{className:"flex flex-col items-center p-3 bg-muted/50 rounded-xl min-w-[100px]",children:[i.jsxs("div",{className:"flex items-center text-blue-500 mb-1",children:[i.jsx(nu,{className:"w-5 h-5 mr-2"}),i.jsx("span",{className:"font-bold text-base",children:new Date(s.end_date).toLocaleDateString("fr-FR")})]}),i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase",children:"Fin"})]})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between px-2",children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[i.jsx(Go,{className:"w-6 h-6 mr-2 text-primary"}),q?"Classement Final":"Classement en temps rel"]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.length," candidat(s)"]})]}),o.length===0?i.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-xl border border-dashed",children:[i.jsx(ru,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"Aucun candidat pour le moment."})]}):i.jsx("div",{className:"grid gap-4",children:i.jsx(iu,{mode:"popLayout",children:o.map(H=>i.jsx(sct,{candidate:H,onVote:()=>{if(q){ze({title:"Termin",description:"Les votes sont clos.",variant:"destructive"});return}y({isOpen:!0,candidate:H,quantity:1})},onLike:M,onShare:I,totalVotes:U,hasLiked:C.has(H.id)},H.id))})})]})]}),i.jsx(yC,{isOpen:f,onClose:()=>h(!1)}),i.jsx(Kd,{isOpen:v,onClose:()=>g(!1),onProceed:()=>{g(!1),h(!0)}}),i.jsx(jo,{open:_.isOpen,onOpenChange:H=>!H&&y(X=>({...X,isOpen:!1})),children:i.jsxs(Ki,{className:"max-w-sm border-none shadow-2xl bg-gradient-to-b from-background to-muted/50",children:[i.jsxs(Yi,{children:[i.jsx("div",{className:"mx-auto bg-primary/10 p-3 rounded-full mb-2",children:i.jsx(Gh,{className:"w-8 h-8 text-primary"})}),i.jsxs(Xi,{className:"text-center text-xl",children:["Soutenir ",i.jsx("span",{className:"text-primary",children:(re=_.candidate)==null?void 0:re.name})]}),i.jsx(Ji,{className:"text-center",children:"Choisissez le nombre de votes  envoyer."})]}),i.jsxs("div",{className:"py-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[i.jsx(Ee,{variant:"outline",size:"icon",className:"rounded-full w-10 h-10",onClick:()=>y(H=>({...H,quantity:Math.max(1,H.quantity-1)})),children:i.jsx(VF,{className:"w-4 h-4"})}),i.jsxs("div",{className:"text-center min-w-[80px]",children:[i.jsx("span",{className:"text-4xl font-bold tabular-nums tracking-tight",children:_.quantity}),i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase mt-1",children:"VOIX"})]}),i.jsx(Ee,{variant:"outline",size:"icon",className:"rounded-full w-10 h-10",onClick:()=>y(H=>({...H,quantity:H.quantity+1})),children:i.jsx(Gi,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"bg-muted p-4 rounded-xl text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Cot total"}),i.jsxs("p",{className:"text-2xl font-bold text-primary flex items-center justify-center gap-1",children:[(s==null?void 0:s.vote_cost_coins)*_.quantity," ",i.jsx(dn,{className:"w-5 h-5"})]})]})]}),i.jsxs(No,{children:[i.jsx(Qi,{className:"border-none",children:"Annuler"}),i.jsx(Zi,{onClick:B,disabled:j,className:"gradient-gold text-primary-foreground font-bold w-full sm:w-auto",children:j?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):"Confirmer le vote"})]})]})})]}):null},oct=()=>{const{t:e}=Dn(),t=on(),{user:r}=Pr(),[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState("");b.useEffect(()=>{(async()=>{o(!0);try{console.log(" Dbut du chargement des lieux...");let j=Oe.from("locations").select("*").eq("is_active",!0).order("created_at",{ascending:!1});l&&(j=j.or(`name.ilike.%${l}%,city.ilike.%${l}%,country.ilike.%${l}%`));const{data:w,error:C}=await j;C?(console.error(" Erreur Supabase:",C),ze({title:e("common.error_title"),description:"Impossible de charger les lieux.",variant:"destructive"})):(console.log(" Lieux chargs:",w),s(w||[]))}catch(j){console.error(" Erreur fetch:",j),ze({title:e("common.error_title"),description:"Erreur lors du chargement.",variant:"destructive"})}o(!1)})()},[e,l]);const d=async y=>{try{const{data:j,error:w}=await Oe.from("locations").select("views_count").eq("id",y).single();if(w){console.error(" Erreur rcupration vues:",w);return}const C=(j.views_count||0)+1,{error:k}=await Oe.from("locations").update({views_count:C,updated_at:new Date().toISOString()}).eq("id",y);k?console.error(" Erreur mise  jour vues:",k):(console.log(" Compteur de vues incrment pour:",y),s(T=>T.map(P=>P.id===y?{...P,views_count:C}:P)))}catch(j){console.error(" Erreur incrmentation vues:",j)}},f=y=>y.images&&Array.isArray(y.images)&&y.images.length>0?y.images[0]:null,h=y=>{const j=new Date,w=new Date(y.created_at),C=Math.floor((j-w)/(1e3*60*60*24));return C<=7?{type:"new",label:"Nouveau",icon:pi,color:"bg-green-500 text-white",iconColor:"text-white"}:y.views_count>100?{type:"popular",label:"Populaire",icon:Go,color:"bg-orange-500 text-white",iconColor:"text-white"}:C<=30&&y.views_count<50?{type:"discover",label:" dcouvrir",icon:Cc,color:"bg-blue-500 text-white",iconColor:"text-white"}:null},v=y=>{var C;const j={"789b35de-0aed-48a2-99cb-dd6ead850f0b":{name:"Visite",icon:kge,color:"bg-pink-100 text-pink-800 border-pink-200"},"e26854f8-e52e-43b4-bea7-1d1f74cdb42c":{name:"Htel",icon:m9,color:"bg-purple-100 text-purple-800 border-purple-200"}};if(y.type_id&&j[y.type_id])return j[y.type_id];const w=((C=y.name)==null?void 0:C.toLowerCase())||"";return w.includes("htel")||w.includes("hotel")?{name:"Htel",icon:m9,color:"bg-purple-100 text-purple-800 border-purple-200"}:w.includes("restaurant")?{name:"Restaurant",icon:ove,color:"bg-amber-100 text-amber-800 border-amber-200"}:w.includes("caf")||w.includes("cafe")||w.includes("bar")?{name:"Caf/Bar",icon:Tge,color:"bg-orange-100 text-orange-800 border-orange-200"}:w.includes("boutique")||w.includes("magasin")||w.includes("shop")?{name:"Shopping",icon:gX,color:"bg-cyan-100 text-cyan-800 border-cyan-200"}:{name:"Lieu",icon:kp,color:"bg-gray-100 text-gray-800 border-gray-200"}},g=()=>{r?t("/add-location"):(t("/auth"),ze({title:"Connexion requise",description:"Vous devez tre connect pour ajouter un lieu."}))},_=async(y,j)=>{j.stopPropagation(),await d(y.id),y.google_maps_link?window.open(y.google_maps_link,"_blank","noopener,noreferrer"):ze({title:"Lien non disponible",description:"Aucun lien Google Maps fourni pour ce lieu.",variant:"destructive"})};return b.useEffect(()=>{n.length>0&&(console.log(" Donnes charges:",n),console.log(" Nombre de lieux:",n.length),console.log(" Premier lieu:",n[0]))},[n]),i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("discover_page.title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("discover_page.subtitle")})]}),i.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[i.jsxs("header",{className:"mb-8 text-center",children:[i.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:e("discover_page.title")}),i.jsx("p",{className:"text-lg text-muted-foreground",children:e("discover_page.subtitle")})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 justify-center",children:[i.jsxs("div",{className:"relative flex-grow max-w-lg",children:[i.jsx(Co,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),i.jsx(vt,{placeholder:e("common.search"),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary",value:l,onChange:y=>c(y.target.value)})]}),i.jsxs(Ee,{onClick:g,className:"h-12 rounded-full bg-primary hover:bg-primary/90",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"}),e("discover_page.add_place")]})]}),a?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement des lieux..."})]}):n.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(wo,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Aucun lieu trouv"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:l?"Aucun lieu ne correspond  votre recherche.":"Aucun lieu disponible pour le moment."}),i.jsxs(Ee,{onClick:g,className:"mt-4 bg-primary hover:bg-primary/90",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Ajouter le premier lieu"]})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(y=>{const j=f(y),w=h(y),C=v(y),k=C.icon;return i.jsxs("div",{className:"bg-card rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 border border-border hover:border-primary/20 group relative",children:[w&&i.jsxs("div",{className:`absolute top-3 left-3 z-10 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${w.color} backdrop-blur-sm`,children:[i.jsx(w.icon,{className:`w-3 h-3 ${w.iconColor}`}),w.label]}),C&&i.jsxs("div",{className:`absolute top-3 right-3 z-10 px-2 py-1 rounded-full text-xs font-semibold ${C.color} border backdrop-blur-sm flex items-center gap-1`,children:[i.jsx(k,{className:"w-3 h-3"}),C.name]}),i.jsxs("div",{className:"w-full h-48 bg-gradient-to-br from-muted/50 to-muted relative overflow-hidden",children:[j?i.jsx("img",{src:j,alt:y.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:T=>{console.error(" Erreur chargement image:",j),T.target.style.display="none"}}):i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx(kp,{className:"w-12 h-12 mb-2 opacity-50"}),i.jsx("span",{className:"text-sm",children:"Aucune image"})]}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),i.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/60 text-white px-2 py-1 rounded-full text-xs backdrop-blur-sm",children:[" ",y.views_count||0," vues"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:y.name}),i.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[i.jsx(wo,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:y.address}),i.jsxs("p",{className:"text-xs text-muted-foreground/80",children:[y.city,", ",y.country]})]})]}),y.description&&i.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:y.description}),i.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(nu,{className:"w-3 h-3"}),i.jsxs("span",{children:[Math.floor((new Date-new Date(y.created_at))/(1e3*60*60*24)),"j"]})]}),y.rating>0&&i.jsxs("div",{className:"flex items-center gap-1 bg-primary/10 px-2 py-1 rounded-full",children:[i.jsx(Cc,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"font-semibold",children:y.rating.toFixed(1)})]})]}),i.jsxs(Ee,{onClick:T=>_(y,T),className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!y.google_maps_link,children:[i.jsx(BF,{className:"w-4 h-4 mr-2"}),"Y Aller"]}),!y.google_maps_link&&i.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Lien Google Maps non disponible"})]})]},y.id)})})]})]})},lct={"Pack Dbutant":i.jsx(Wi,{className:"w-8 h-8 text-yellow-400"}),"Pack Intermediaire":i.jsx(pi,{className:"w-8 h-8 text-blue-400"}),"Pack Standard":i.jsx(Cc,{className:"w-8 h-8 text-orange-400"}),"Pack Premium":i.jsx(zF,{className:"w-8 h-8 text-purple-400"}),"Pack VIP":i.jsx(Ko,{className:"w-8 h-8 text-red-400"}),"Pack King":i.jsx("img",{src:"/king-icon.png",alt:"King",className:"w-10 h-10"})},cct=()=>{const{user:e}=Pr(),[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(1e3),[l,c]=b.useState(100),{toast:d}=Ti(),f=on();b.useEffect(()=>{(async()=>{try{const _=await Sp.getCoinPacks();r(_)}catch{d({title:"Erreur",description:"Impossible de charger les packs de pices.",variant:"destructive"})}finally{s(!1)}})()},[d]),b.useEffect(()=>{const g=Math.floor(a/10)+Sp.calculateCustomBonus(a);c(g)},[a]);const h=g=>{if(!e){d({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des pices.",variant:"destructive"}),f("/auth");return}f(`/payment/checkout?amount=${g.fcfa_price}&packId=${g.id}&type=coin_pack`)},v=()=>{if(!e){d({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des pices.",variant:"destructive"}),f("/auth");return}if(a<500){d({title:"Montant invalide",description:"Le montant minimum est de 500 FCFA.",variant:"destructive"});return}f(`/payment/checkout?amount=${a}&type=custom_coins`)};return n?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/50 text-foreground",children:[i.jsx(bC,{pageData:{title:"Acheter des Pices - BonPlanInfos",description:"Rechargez votre compte en pices pour interagir avec les vnements, voter, et plus encore. Packs avantageux et bonus disponibles."}}),i.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-20",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-primary via-red-500 to-secondary",children:"Boutique de Pices"}),i.jsx("p",{className:"max-w-2xl mx-auto mt-4 text-lg text-muted-foreground",children:"Rechargez votre portefeuille et dbloquez tout le potentiel de BonPlanInfos."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.filter(g=>!g.is_custom).map((g,_)=>i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},children:i.jsxs(at,{className:`h-full flex flex-col glass-effect hover:border-primary/50 transition-all duration-300 relative overflow-hidden ${g.badge?"border-primary":""}`,children:[g.badge&&i.jsx("div",{className:"absolute top-3 right-3 bg-primary text-primary-foreground text-xs font-bold px-2 py-1 rounded-full",children:g.badge}),i.jsxs(Et,{className:"items-center text-center",children:[lct[g.name]||i.jsx(Wi,{className:"w-8 h-8 text-gray-400"}),i.jsx(Tt,{className:"text-2xl",children:g.name}),i.jsx(nn,{children:g.description})]}),i.jsxs(st,{className:"flex-grow flex flex-col text-center",children:[i.jsxs("div",{className:"my-4",children:[i.jsx("span",{className:"text-5xl font-bold",children:g.total_coins.toLocaleString()}),i.jsx("span",{className:"text-xl text-muted-foreground",children:" pices"})]}),g.bonus_coins>0&&i.jsxs("p",{className:"text-green-500 font-semibold mb-4",children:["+",g.bonus_coins," pices bonus incluses !"]}),i.jsxs("div",{className:"text-2xl font-semibold text-primary mb-6",children:[g.fcfa_price.toLocaleString()," FCFA"]}),i.jsxs(Ee,{onClick:()=>h(g),size:"lg",className:"w-full mt-auto gradient-red text-primary-foreground",children:["Acheter ce pack ",i.jsx(BT,{className:"w-4 h-4 ml-2"})]})]})]})},g.id)),i.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t.length*.1},className:"md:col-span-2 lg:col-span-1",children:i.jsxs(at,{className:"h-full flex flex-col glass-effect border-dashed border-2 hover:border-primary transition-all",children:[i.jsxs(Et,{className:"items-center text-center",children:[i.jsx(pi,{className:"w-8 h-8 text-green-400"}),i.jsx(Tt,{className:"text-2xl",children:"Montant Personnalis"}),i.jsx(nn,{children:"Choisissez exactement combien vous voulez dpenser."})]}),i.jsx(st,{className:"flex-grow flex flex-col text-center justify-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"custom-amount",className:"text-muted-foreground",children:"Montant en FCFA"}),i.jsx(vt,{id:"custom-amount",type:"number",value:a,onChange:g=>o(parseInt(g.target.value)||0),className:"text-center text-2xl font-bold h-14",min:"500"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-muted-foreground",children:"Vous recevrez"}),i.jsxs("p",{className:"text-3xl font-bold text-green-500",children:[l.toLocaleString()," pices"]})]}),i.jsxs(Ee,{onClick:v,size:"lg",className:"w-full gradient-green text-primary-foreground",children:["Procder au paiement ",i.jsx(BT,{className:"w-4 h-4 ml-2"})]})]})})]})})]})]})]})},uct=()=>{const{packSlug:e}=TF(),{user:t}=Pr(),r=on(),n=Tl(),{toast:s}=Ti(),[a,o]=b.useState(!0),[l,c]=b.useState(null),[d,f]=b.useState(!1),[h,v]=b.useState(0);b.useEffect(()=>{const y=new URLSearchParams(n.search).get("amount");e==="custom"&&y?(f(!0),v(parseInt(y,10))):e==="custom"&&!y&&(c("Le montant pour un achat personnalis est manquant."),o(!1))},[n.search,e]);const g=b.useCallback(async()=>{if(!t){s({title:"Connexion requise",description:"Veuillez vous connecter pour effectuer un achat.",variant:"destructive"}),r("/auth");return}o(!0);try{let _;if(d)_=await Sp.initiateCustomCoins(t.id,{amount_fcfa:h});else{const y=await Sp.getCoinPackBySlug(e);if(!y)throw new Error("Le pack que vous essayez d'acheter n'a pas t trouv.");_=await Sp.initiateCoinPack(t.id,{pack_id:y.id})}if(_&&_.redirect_url)r(_.redirect_url);else throw new Error("Impossible de gnrer le lien de paiement.")}catch(_){c(_.message),s({title:"Erreur de transaction",description:_.message,variant:"destructive"}),o(!1)}},[t,e,r,s,d,h]);return b.useEffect(()=>{l||t&&(d||e&&e!=="custom")&&g()},[t,d,e,l,g]),a?i.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[i.jsx(Dt,{className:"w-16 h-16 animate-spin text-primary mb-4"}),i.jsx("h1",{className:"text-2xl font-bold",children:"Prparation de votre transaction..."}),i.jsx("p",{className:"text-muted-foreground",children:"Veuillez patienter un instant."})]}):l?i.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Une erreur est survenue"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:l}),i.jsx(Ee,{onClick:()=>r("/packs"),children:"Retour  la boutique"})]}):null},dct=()=>{const{user:e}=Pr(),{adminConfig:t,userProfile:r}=Un(),n=on(),[s,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState([]),[f,h]=b.useState(1),v={XOF:1,EUR:655.957,USD:600,PI:(t==null?void 0:t.pi_conversion_rate)||10},[g,_]=b.useState({title:"",description:"",categoryId:"",drawDate:"",coverImage:null,coverImageUrl:"",country:(r==null?void 0:r.country)||"Cte d'Ivoire",city:(r==null?void 0:r.city)||"",address:"",isOnline:!1,ticketPrice:500,ticketCurrency:"XOF",totalTickets:100,maxTicketsPerUser:10,minTicketsRequired:50,showRemainingTickets:!0,prizes:[{id:Xn(),rank:1,description:"",value_fcfa:0}],autoDraw:!0,notifyParticipants:!0,showParticipants:!0,termsAccepted:!1}),y=b.useMemo(()=>{const Q=g.ticketPrice*(v[g.ticketCurrency]||1);return Math.ceil(Q/v.PI)},[g.ticketPrice,g.ticketCurrency,v]),j=b.useMemo(()=>y*g.totalTickets,[y,g.totalTickets]),w=b.useMemo(()=>g.prizes.reduce((Q,se)=>Q+(se.value_fcfa||0),0),[g.prizes]);b.useEffect(()=>{(async()=>{const{data:se,error:te}=await Oe.from("event_categories").select("*").eq("is_active",!0).order("name");te?console.error("Error fetching categories:",te):d(se)})()},[]),b.useEffect(()=>()=>{g.coverImageUrl&&URL.revokeObjectURL(g.coverImageUrl)},[]);const C=(Q,se)=>{_(te=>({...te,[Q]:se}))},k=(Q,se,te)=>{_(ce=>({...ce,prizes:ce.prizes.map(xe=>xe.id===Q?{...xe,[se]:se==="value_fcfa"?Number(te):te}:xe)}))},T=()=>{_(Q=>({...Q,prizes:[...Q.prizes,{id:Xn(),rank:Q.prizes.length+1,description:"",value_fcfa:0}]}))},P=Q=>{_(se=>({...se,prizes:se.prizes.filter(te=>te.id!==Q).map((te,ce)=>({...te,rank:ce+1}))}))},D=async Q=>{if(!Q)return null;l(!0);try{if(Q.size>2*1024*1024)return ze({title:"Fichier trop volumineux",description:"L'image ne doit pas dpasser 2MB.",variant:"destructive"}),null;if(!Q.type.startsWith("image/"))return ze({title:"Type de fichier invalide",description:"Veuillez slectionner une image",variant:"destructive"}),null;const se=Q.name.replace(/[^a-zA-Z0-9-_\.]/g,"_"),te=`events/${e.id}/${Xn()}-${se}`,{error:ce}=await Oe.storage.from("media").upload(te,Q);if(ce)throw ce;const{data:xe}=Oe.storage.from("media").getPublicUrl(te);return{publicUrl:xe.publicUrl,filePath:te}}catch(se){return console.error("Erreur upload image:",se),ze({title:"Erreur d'upload",description:"Impossible de tlcharger l'image",variant:"destructive"}),null}finally{l(!1)}},M=async Q=>{const se=Q.target.files[0];if(!se)return;const te=URL.createObjectURL(se);_(ce=>({...ce,coverImage:se,coverImageUrl:te}))},I=()=>{g.coverImageUrl&&URL.revokeObjectURL(g.coverImageUrl),_(Q=>({...Q,coverImage:null,coverImageUrl:""}))},B=async Q=>{if(Q.preventDefault(),!e){ze({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}if(!g.termsAccepted){ze({title:"Erreur",description:"Vous devez accepter les conditions.",variant:"destructive"});return}a(!0);try{let se="",te="";if(g.coverImage){const ke=await D(g.coverImage);ke&&(se=ke.publicUrl,te=ke.filePath)}const ce=g.ticketPrice*(v[g.ticketCurrency]||1),{data:xe,error:de}=await Oe.from("events").insert({title:g.title,description:g.description,event_date:g.drawDate,city:g.city,country:g.country,address:g.isOnline?"En ligne":g.address,organizer_id:e.id,event_type:"raffle",category_id:g.categoryId,status:"active",is_online:g.isOnline,cover_image:se}).select().single();if(de)throw console.error("Erreur cration event:",de),de;const ee=xe.id,{data:fe,error:ne}=await Oe.from("raffle_events").insert({event_id:ee,draw_date:g.drawDate,base_price:g.ticketPrice,base_currency:g.ticketCurrency,calculated_price_pi:y,total_tickets:g.totalTickets,max_tickets_per_user:g.maxTicketsPerUser,min_tickets_required:g.minTicketsRequired,auto_draw:g.autoDraw}).select().single();if(ne)throw console.error("Erreur cration raffle:",ne),ne;const{error:Y}=await Oe.from("event_settings").insert({event_id:ee,raffle_enabled:!0,show_remaining_tickets:g.showRemainingTickets,show_participants:g.showParticipants,notify_participants:g.notifyParticipants});if(Y)throw console.error("Erreur settings:",Y),Y;const ue=g.prizes.map(ke=>({event_id:ee,raffle_event_id:fe.id,rank:ke.rank,description:ke.description,value_fcfa:ke.value_fcfa})),{error:le}=await Oe.from("raffle_prizes").insert(ue);if(le)throw console.error("Erreur prizes:",le),le;ze({title:" Tombola cre !",description:"Votre tombola a t cre avec succs."}),n(`/event/${ee}`)}catch(se){console.error("Error creating raffle event:",se),ze({title:"Erreur de cration",description:se.message||"Une erreur est survenue lors de la cration",variant:"destructive"})}finally{a(!1)}},X=[()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"title",children:"Titre de la tombola *"}),i.jsx(vt,{id:"title",value:g.title,onChange:Q=>C("title",Q.target.value),placeholder:"Ex: Grande Tombola de Nol",required:!0,className:"text-lg font-bold p-4 bg-transparent border-0 border-b-2 border-input focus:ring-0 focus:border-primary transition-all duration-300 ease-in-out placeholder-muted-foreground/50 bg-gradient-to-r from-primary/5 to-accent/5"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description"}),i.jsx(So,{id:"description",value:g.description,onChange:Q=>C("description",Q.target.value),placeholder:"Dcrivez votre tombola, son objectif, les rgles particulires...",rows:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Image de couverture"}),g.coverImageUrl?i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"border-2 border-primary/20 rounded-lg overflow-hidden",children:i.jsx("img",{src:g.coverImageUrl,alt:"Aperu de l'affiche",className:"w-full h-64 object-cover"})}),i.jsx(Ee,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 bg-red-500/90 hover:bg-red-600",onClick:I,children:i.jsx(au,{className:"w-4 h-4"})}),o&&i.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:i.jsx(Dt,{className:"w-8 h-8 text-white animate-spin"})})]}):i.jsxs("div",{className:"border-2 border-dashed border-input rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[i.jsx("input",{type:"file",id:"coverImage",accept:"image/*",onChange:M,className:"hidden"}),i.jsx("label",{htmlFor:"coverImage",className:"cursor-pointer",children:i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[i.jsx(nw,{className:"w-8 h-8 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Ajouter une affiche"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cliquez pour slectionner une image"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PNG, JPG - Max 2MB"})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"category",children:"Catgorie *"}),i.jsxs(aa,{onValueChange:Q=>C("categoryId",Q),value:g.categoryId,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir une catgorie..."})}),i.jsx(Zn,{children:c.map(Q=>i.jsx(ur,{value:Q.id,children:Q.name},Q.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"drawDate",children:"Date du tirage *"}),i.jsx(vt,{id:"drawDate",type:"datetime-local",value:g.drawDate,onChange:Q=>C("drawDate",Q.target.value),required:!0})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx(Ee,{onClick:()=>h(2),className:"bg-primary hover:bg-primary/90",children:"Suivant"})})]}),()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"isOnline",className:"font-semibold",children:"vnement en ligne"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cochez si votre tombola est 100% digitale"})]}),i.jsx(xo,{checked:g.isOnline,onCheckedChange:Q=>C("isOnline",Q)})]}),!g.isOnline&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"address",children:"Lieu (Adresse) *"}),i.jsx(vt,{id:"address",value:g.address,onChange:Q=>C("address",Q.target.value),placeholder:"Nom du lieu, rue, numro...",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:"Ville *"}),i.jsx(vt,{id:"city",value:g.city,onChange:Q=>C("city",Q.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:"Pays *"}),i.jsx(vt,{id:"country",value:g.country,onChange:Q=>C("country",Q.target.value),required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Ee,{variant:"outline",onClick:()=>h(1),children:"Prcdent"}),i.jsx(Ee,{onClick:()=>h(3),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"ticketPrice",children:"Prix du ticket"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(vt,{id:"ticketPrice",type:"number",value:g.ticketPrice,onChange:Q=>C("ticketPrice",Q.target.value),required:!0}),i.jsxs(aa,{value:g.ticketCurrency,onValueChange:Q=>C("ticketCurrency",Q),children:[i.jsx(Jn,{className:"w-24",children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"XOF",children:"XOF"}),i.jsx(ur,{value:"EUR",children:"EUR"}),i.jsx(ur,{value:"USD",children:"USD"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"totalTickets",children:"Nombre total de tickets *"}),i.jsx(vt,{id:"totalTickets",type:"number",value:g.totalTickets,onChange:Q=>C("totalTickets",Q.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"maxTicketsPerUser",children:"Max tickets par personne"}),i.jsx(vt,{id:"maxTicketsPerUser",type:"number",value:g.maxTicketsPerUser,onChange:Q=>C("maxTicketsPerUser",Q.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"minTicketsRequired",children:"Objectif minimum *"}),i.jsx(vt,{id:"minTicketsRequired",type:"number",value:g.minTicketsRequired,onChange:Q=>C("minTicketsRequired",Q.target.value),min:"1",max:g.totalTickets,required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Le tirage ncessite cet objectif minimum de tickets vendus"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[i.jsx(Qe,{children:"Prix en  (Pi)"}),i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary flex items-center justify-center gap-2",children:[y," ",i.jsx(dn,{className:"w-6 h-6"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.ticketPrice," ",g.ticketCurrency," = ",y,""]})]})]}),i.jsx(at,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:i.jsxs(st,{className:"p-4",children:[i.jsx("h4",{className:"font-bold text-lg mb-3 text-center",children:"Rsum Financier"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold",children:"Revenu total estim"}),i.jsxs("p",{className:"text-2xl font-bold text-primary",children:[j,""]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold",children:"Valeur en FCFA"}),i.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(j*v.PI).toLocaleString()," FCFA"]})]})]}),i.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-orange-700 text-center",children:[i.jsx(Md,{className:"w-4 h-4 inline mr-1"}),i.jsxs("strong",{children:["Objectif minimum : ",g.minTicketsRequired," tickets"]})]})})]})}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{className:"font-semibold",children:"Afficher les tickets restants"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer le nombre de tickets disponibles"})]}),i.jsx(xo,{checked:g.showRemainingTickets,onCheckedChange:Q=>C("showRemainingTickets",Q)})]}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Ee,{variant:"outline",onClick:()=>h(2),children:"Prcdent"}),i.jsx(Ee,{onClick:()=>h(4),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[g.prizes.map(Q=>i.jsx(at,{className:"border-2",children:i.jsxs(st,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(nr,{className:"text-lg px-3 py-1 bg-primary text-white",children:Q.rank===1?" GRAND LOT":Q.rank===2?" SECOND LOT":Q.rank===3?" TROISIME LOT":`Lot N${Q.rank}`})}),g.prizes.length>1&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>P(Q.id),children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Description du lot *"}),i.jsx(So,{value:Q.description,onChange:se=>k(Q.id,"description",se.target.value),placeholder:"Dcrivez le lot en dtail...",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Valeur estime (FCFA)"}),i.jsx(vt,{type:"number",value:Q.value_fcfa,onChange:se=>k(Q.id,"value_fcfa",se.target.value),placeholder:"0"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"p-2 bg-muted rounded-lg text-sm w-full",children:[i.jsx("p",{className:"font-semibold",children:"Valeur en "}),i.jsxs("p",{className:"text-primary font-bold",children:[Math.ceil(Q.value_fcfa/v.PI),""]})]})})]})]})]})},Q.id)),i.jsxs(Ee,{variant:"outline",onClick:T,className:"w-full py-6 border-2 border-dashed",children:[i.jsx(Gi,{className:"w-5 h-5 mr-2"})," Ajouter un lot"]})]}),w>0&&i.jsx(at,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:i.jsxs(st,{className:"p-4",children:[i.jsx("h4",{className:"font-bold text-lg mb-2 text-center",children:"Valeur Totale des Lots"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[w.toLocaleString()," FCFA"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valeur totale"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.ceil(w/v.PI),""]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"En pices"})]})]})]})}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Ee,{variant:"outline",onClick:()=>h(3),children:"Prcdent"}),i.jsx(Ee,{onClick:()=>h(5),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{className:"font-semibold",children:"Tirage automatique"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Le gagnant est tir automatiquement  la date prvue"})]}),i.jsx(xo,{checked:g.autoDraw,onCheckedChange:Q=>C("autoDraw",Q)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{className:"font-semibold",children:"Notifier les participants"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Envoyer des notifications aux participants"})]}),i.jsx(xo,{checked:g.notifyParticipants,onCheckedChange:Q=>C("notifyParticipants",Q)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Qe,{className:"font-semibold",children:"Afficher les participants"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer la liste des participants"})]}),i.jsx(xo,{checked:g.showParticipants,onCheckedChange:Q=>C("showParticipants",Q)})]}),i.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[i.jsx(vt,{type:"checkbox",checked:g.termsAccepted,onChange:Q=>C("termsAccepted",Q.target.checked),className:"w-5 h-5 mt-1"}),i.jsxs("div",{children:[i.jsx(Qe,{className:"font-semibold",children:"J'accepte les conditions d'utilisation"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Je certifie tre le propritaire lgitime de cette tombola et m'engage  respecter les rgles de BonPlanInfos. Je comprends que les transactions se font en  (Pi) et que les taux de conversion sont fixs par la plateforme."})]})]})]}),i.jsx(at,{className:"border-2 border-primary/20",children:i.jsxs(st,{className:"p-6",children:[i.jsx("h4",{className:"font-bold text-xl mb-4 text-center",children:"Rcapitulatif"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Titre:"}),i.jsx("span",{className:"font-bold",children:g.title||"Non dfini"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Prix du ticket:"}),i.jsxs("span",{className:"font-bold",children:[y," (",g.ticketPrice," ",g.ticketCurrency,")"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total tickets:"}),i.jsx("span",{className:"font-bold",children:g.totalTickets})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Objectif minimum:"}),i.jsxs("span",{className:"font-bold text-orange-600",children:[g.minTicketsRequired," tickets"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Revenu total estim:"}),i.jsxs("span",{className:"font-bold text-primary",children:[j,""]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Nombre de lots:"}),i.jsx("span",{className:"font-bold",children:g.prizes.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Date du tirage:"}),i.jsx("span",{className:"font-bold",children:g.drawDate?new Date(g.drawDate).toLocaleDateString("fr-FR"):"Non dfinie"})]}),g.coverImage&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Image de couverture:"}),i.jsx("span",{className:"font-bold text-green-600",children:" Ajoute"})]})]})]})}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Ee,{variant:"outline",onClick:()=>h(4),children:"Prcdent"}),i.jsxs(Ee,{onClick:B,disabled:s||!g.termsAccepted,className:"bg-primary hover:bg-primary/90",children:[s?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Ep,{className:"w-4 h-4 mr-2"}),s?"Cration...":"Crer la tombola"]})]})]})];return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(_a,{children:i.jsx("title",{children:"Crer une Tombola - BonPlanInfos"})}),i.jsx("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>n(-1),className:"mb-4",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"})," Retour"]}),i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"w-6 h-6 text-primary"}),"Crer une Tombola"]}),i.jsx(nn,{children:"Crez votre tombola en quelques tapes simples et commencez  vendre des tickets !"})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8 relative",children:[i.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-muted -translate-y-1/2 -z-10"}),[1,2,3,4,5].map(Q=>i.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all duration-300 ${f===Q?"bg-primary text-primary-foreground scale-110":f>Q?"bg-green-500 text-white":"bg-muted text-muted-foreground"}`,children:f>Q?"":Q}),i.jsx("span",{className:`text-xs mt-2 font-medium ${f===Q?"text-primary":"text-muted-foreground"}`,children:["Infos","Lieu","Tickets","Lots","Final"][Q-1]})]},Q))]}),i.jsx("form",{className:"space-y-6",children:X[f-1]()})]})]})]})})]})};var iI="Radio",[fct,Ice]=eo(iI),[hct,mct]=fct(iI),Lce=b.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...f}=e,[h,v]=b.useState(null),g=mn(t,j=>v(j)),_=b.useRef(!1),y=h?d||!!h.closest("form"):!0;return i.jsxs(hct,{scope:r,checked:s,disabled:o,children:[i.jsx(_r.button,{type:"button",role:"radio","aria-checked":s,"data-state":Uce(s),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:Wt(e.onClick,j=>{s||c==null||c(),y&&(_.current=j.isPropagationStopped(),_.current||j.stopPropagation())})}),y&&i.jsx(zce,{control:h,bubbles:!_.current,name:n,value:l,checked:s,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Lce.displayName=iI;var $ce="RadioIndicator",Bce=b.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=mct($ce,r);return i.jsx(Pl,{present:n||a.checked,children:i.jsx(_r.span,{"data-state":Uce(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});Bce.displayName=$ce;var pct="RadioBubbleInput",zce=b.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=b.useRef(null),l=mn(o,a),c=L_(r),d=__(t);return b.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&g){const _=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(_)}},[c,r,n]),i.jsx(_r.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zce.displayName=pct;function Uce(e){return e?"checked":"unchecked"}var gct=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PA="RadioGroup",[vct,idt]=eo(PA,[Vp,Ice]),Vce=Vp(),qce=Ice(),[xct,yct]=vct(PA),Wce=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:h,...v}=e,g=Vce(r),_=zp(d),[y,j]=_o({prop:a,defaultProp:s??null,onChange:h,caller:PA});return i.jsx(xct,{scope:r,name:n,required:o,disabled:l,value:y,onValueChange:j,children:i.jsx(B3,{asChild:!0,...g,orientation:c,dir:_,loop:f,children:i.jsx(_r.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:_,...v,ref:t})})})});Wce.displayName=PA;var Hce="RadioGroupItem",Gce=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=yct(Hce,r),o=a.disabled||n,l=Vce(r),c=qce(r),d=b.useRef(null),f=mn(t,d),h=a.value===s.value,v=b.useRef(!1);return b.useEffect(()=>{const g=y=>{gct.includes(y.key)&&(v.current=!0)},_=()=>v.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",_)}},[]),i.jsx(z3,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(Lce,{disabled:o,required:a.required,checked:h,...c,...s,name:a.name,ref:f,onCheck:()=>a.onValueChange(s.value),onKeyDown:Wt(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Wt(s.onFocus,()=>{var g;v.current&&((g=d.current)==null||g.click())})})})});Gce.displayName=Hce;var bct="RadioGroupIndicator",Kce=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=qce(r);return i.jsx(Bce,{...s,...n,ref:t})});Kce.displayName=bct;var Yce=Wce,Xce=Gce,wct=Kce;const oI=b.forwardRef(({className:e,...t},r)=>i.jsx(Yce,{className:Ht("grid gap-2",e),...t,ref:r}));oI.displayName=Yce.displayName;const A1=b.forwardRef(({className:e,...t},r)=>i.jsx(Xce,{ref:r,className:Ht("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(wct,{className:"flex items-center justify-center",children:i.jsx(cX,{className:"h-2.5 w-2.5 fill-current text-current"})})}));A1.displayName=Xce.displayName;const _ct=()=>{const{user:e}=Pr(),t=on(),[r,n]=b.useState(!1),[s,a]=b.useState([]),[o,l]=b.useState(1),[c,d]=b.useState("custom"),[f,h]=b.useState(10),[v,g]=b.useState(""),[_,y]=b.useState(""),[j,w]=b.useState(""),[C,k]=b.useState(""),[T,P]=b.useState(""),[D,M]=b.useState(""),[I,B]=b.useState(""),[V,U]=b.useState(""),[q,re]=b.useState(!0),[H,X]=b.useState(!1),[Q,se]=b.useState(1),[te,ce]=b.useState(!1),[xe,de]=b.useState(1),[ee,fe]=b.useState(10);b.useState("XOF");const[ne,Y]=b.useState("paid"),[ue,le]=b.useState([{id:Xn(),name:"",description:"",image:null,category:""}]),[ke,_e]=b.useState([{id:Xn(),name:"Prix du gagnant",amount:5e4,currency:"XOF",category:"prize"}]);b.useEffect(()=>{(async()=>{await ws.initializeRate(),h(ws.COIN_RATE);const{data:gt,error:Ot}=await Oe.from("event_categories").select("*");Ot?console.error("Error fetching categories:",Ot):a(gt)})()},[]),b.useEffect(()=>{if(ne==="paid"){console.log(`Organizer price: ${ee} F CFA`);const Ue=ws.convertFcfaToCoins(ee);de(Ue),console.log(`Converted to coins: ${Ue}`)}else de(0)},[ee,ne,f]);const Fe={talent:[{id:Xn(),name:"Meilleur Artiste",description:"Artiste talentueux en comptition",category:"art"},{id:Xn(),name:"Meilleur Chanteur",description:"Voix exceptionnelle en comptition",category:"music"},{id:Xn(),name:"Meilleur Danseur",description:"Talentueux danseur en comptition",category:"dance"}],miss:[{id:Xn(),name:"Candidate 1",description:"Candidate au concours de beaut",category:"beauty"},{id:Xn(),name:"Candidate 2",description:"Candidate au concours de beaut",category:"beauty"},{id:Xn(),name:"Candidate 3",description:"Candidate au concours de beaut",category:"beauty"}],business:[{id:Xn(),name:"Startup Innovante",description:"Jeune entreprise prometteuse",category:"startup"},{id:Xn(),name:"Projet Social",description:"Initiative  impact social",category:"social"},{id:Xn(),name:"Innovation Tech",description:"Solution technologique innovante",category:"technology"}]},Be=Ue=>{d(Ue),Ue!=="custom"&&le(Fe[Ue].map(gt=>({...gt,id:Xn()})))},Re=(Ue,gt,Ot)=>{le(ue.map(br=>br.id===Ue?{...br,[gt]:Ot}:br))},Te=()=>{le([...ue,{id:Xn(),name:"",description:"",category:""}])},$e=Ue=>{le(ue.filter(gt=>gt.id!==Ue))},pe=(Ue,gt,Ot)=>{_e(ke.map(br=>br.id===Ue?{...br,[gt]:Ot}:br))},Ge=()=>{_e([...ke,{id:Xn(),name:"",amount:0,currency:"XOF",category:"other"}])},pt=Ue=>{_e(ke.filter(gt=>gt.id!==Ue))},Pt=async Ue=>{if(Ue.preventDefault(),!e){ze({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}if(ue.length<2){ze({title:"Erreur",description:"Ajoutez au moins 2 candidats.",variant:"destructive"});return}n(!0);try{const{data:gt,error:Ot}=await Oe.from("events").insert({title:v,description:_,event_date:j,end_date:C,city:T,country:D,address:I,organizer_id:e.id,event_type:"voting",category_id:V,status:"active",is_public:q,requires_approval:H}).select().single();if(Ot)throw Ot;const br=gt.id,{error:Yr}=await Oe.from("event_settings").insert({event_id:br,vote_price_pi:xe,vote_price_fcfa:ee,voting_enabled:!0,max_votes_per_user:Q,allow_multiple_votes:te,voting_type:ne});if(Yr)throw Yr;const yt=ue.map(Bt=>({event_id:br,name:Bt.name,description:Bt.description,category:Bt.category})),{error:$t}=await Oe.from("candidates").insert(yt);if($t)throw $t;const cr=ke.map(Bt=>({event_id:br,name:Bt.name,amount_fcfa:Bt.amount,coin_value:ws.convertFcfaToCoins(Bt.amount),category:Bt.category}));try{await Oe.from("event_planned_costs").insert(cr)}catch(Bt){console.warn("Costs table might not exist or schema mismatch",Bt)}ze({title:"Succs",description:"Concours de vote cr avec succs!"}),t(`/event/${br}`)}catch(gt){console.error("Error creating voting event:",gt),ze({title:"Erreur",description:gt.message,variant:"destructive"})}finally{n(!1)}},nt=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"title",children:"Titre du concours *"}),i.jsx(vt,{id:"title",value:v,onChange:Ue=>g(Ue.target.value),placeholder:"Ex: Concours du Meilleur Artiste 2024",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"category",children:"Catgorie *"}),i.jsxs(aa,{onValueChange:U,value:V,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionnez une catgorie"})}),i.jsx(Zn,{children:s.map(Ue=>i.jsx(ur,{value:Ue.id,children:Ue.name},Ue.id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description du concours"}),i.jsx(So,{id:"description",value:_,onChange:Ue=>y(Ue.target.value),placeholder:"Dcrivez le concours, les rgles, les prix...",rows:4})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"eventDate",children:"Date de dbut des votes *"}),i.jsx(vt,{id:"eventDate",type:"datetime-local",value:j,onChange:Ue=>w(Ue.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"endDate",children:"Date de fin des votes *"}),i.jsx(vt,{id:"endDate",type:"datetime-local",value:C,onChange:Ue=>k(Ue.target.value),required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:"Pays *"}),i.jsx(vt,{id:"country",value:D,onChange:Ue=>M(Ue.target.value),placeholder:"Ex: Cte d'Ivoire",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:"Ville *"}),i.jsx(vt,{id:"city",value:T,onChange:Ue=>P(Ue.target.value),placeholder:"Ex: Abidjan",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"address",children:"Lieu (si applicable)"}),i.jsx(vt,{id:"address",value:I,onChange:Ue=>B(Ue.target.value),placeholder:"Lieu de la remise des prix"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Type de vote"}),i.jsxs(aa,{value:ne,onValueChange:Y,children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"paid",children:"Vote payant"}),i.jsx(ur,{value:"free",children:"Vote gratuit"})]})]})]}),ne==="paid"&&i.jsx(at,{className:"border-primary/50 bg-primary/5",children:i.jsxs(st,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:["Prix par vote en FCFA",i.jsxs(nr,{variant:"outline",className:"ml-auto",children:["1 Pice = ",f," F CFA"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(vt,{type:"number",value:ee,onChange:Ue=>fe(Math.max(0,parseInt(Ue.target.value,10)||0)),min:"0",className:"pr-16 text-lg font-semibold"}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"FCFA"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-background p-3 rounded-lg border border-dashed",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Conversion automatique :"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dn,{className:"w-5 h-5 text-yellow-500"}),i.jsx("span",{className:"text-xl font-bold",children:xe}),i.jsx("span",{className:"text-sm font-medium",children:"Pices"})]})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Votes maximum par utilisateur"}),i.jsx(vt,{type:"number",value:Q,onChange:Ue=>se(parseInt(Ue.target.value,10)),min:"1",max:"100"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{htmlFor:"isPublic",children:"Concours public"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Visible par tous les utilisateurs"})]}),i.jsx(xo,{id:"isPublic",checked:q,onCheckedChange:re})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{htmlFor:"allowMultipleVotes",children:"Votes multiples"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Permettre plusieurs votes pour le mme candidat"})]}),i.jsx(xo,{id:"allowMultipleVotes",checked:te,onCheckedChange:ce})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{htmlFor:"requiresApproval",children:"Validation requise"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Approuver chaque participant"})]}),i.jsx(xo,{id:"requiresApproval",checked:H,onCheckedChange:X})]})]})]})]}),i.jsx("div",{className:"flex justify-end mt-8",children:i.jsx(Ee,{onClick:()=>l(2),size:"lg",children:"Suivant"})})]}),Ye=i.jsxs(i.Fragment,{children:[i.jsxs(tm,{defaultValue:"candidates",className:"space-y-6",children:[i.jsxs(Xf,{className:"grid w-full grid-cols-2",children:[i.jsx($r,{value:"candidates",children:"Candidats"}),i.jsx($r,{value:"costs",children:"Prix & Cots"})]}),i.jsxs(zr,{value:"candidates",className:"space-y-6",children:[i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{className:"text-lg",children:"Modles de concours prdfinis"}),i.jsx(nn,{children:"Choisissez un modle ou crez vos propres candidats"})]}),i.jsx(st,{children:i.jsx(oI,{value:c,onValueChange:Be,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:["custom","talent","miss","business"].map(Ue=>i.jsxs("div",{children:[i.jsx(A1,{value:Ue,id:Ue,className:"sr-only"}),i.jsxs(Qe,{htmlFor:Ue,className:`flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground cursor-pointer ${c===Ue?"border-primary":""}`,children:[Ue==="custom"?i.jsx(Jg,{className:"mb-3 h-6 w-6"}):Ue==="talent"?i.jsx(Cc,{className:"mb-3 h-6 w-6"}):Ue==="miss"?i.jsx(Ko,{className:"mb-3 h-6 w-6"}):i.jsx(fN,{className:"mb-3 h-6 w-6"}),i.jsx("span",{className:"text-sm font-medium capitalize",children:Ue})]})]},Ue))})})]}),i.jsx("div",{className:"space-y-4",children:ue.map((Ue,gt)=>i.jsx(at,{className:"bg-card/50",children:i.jsxs(st,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold",children:gt+1}),i.jsxs(Qe,{className:"text-lg font-bold",children:["Candidat #",gt+1]})]}),ue.length>2&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>$e(Ue.id),children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Nom du candidat *"}),i.jsx(vt,{value:Ue.name,onChange:Ot=>Re(Ue.id,"name",Ot.target.value),placeholder:"Ex: Marie Kon",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Catgorie"}),i.jsx(vt,{value:Ue.category,onChange:Ot=>Re(Ue.id,"category",Ot.target.value),placeholder:"Ex: Musique, Danse..."})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Description *"}),i.jsx(So,{value:Ue.description,onChange:Ot=>Re(Ue.id,"description",Ot.target.value),placeholder:"Biographie...",rows:3,required:!0})]})]})},Ue.id))}),i.jsxs(Ee,{variant:"outline",onClick:Te,className:"w-full",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Ajouter un candidat"]})]}),i.jsxs(zr,{value:"costs",className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:ke.map(Ue=>i.jsx(at,{className:"bg-card/50",children:i.jsx(st,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Nom du prix"}),i.jsx(vt,{value:Ue.name,onChange:gt=>pe(Ue.id,"name",gt.target.value),placeholder:"Ex: Prix du gagnant"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Montant (FCFA)"}),i.jsx(vt,{type:"number",value:Ue.amount,onChange:gt=>pe(Ue.id,"amount",gt.target.value)})]})]}),ke.length>1&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>pt(Ue.id),className:"ml-4",children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]})})},Ue.id))}),i.jsxs(Ee,{variant:"outline",onClick:Ge,className:"w-full",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Ajouter un prix"]})]})]}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsx(Ee,{variant:"outline",onClick:()=>l(1),children:"Prcdent"}),i.jsxs(Ee,{onClick:Pt,disabled:r||ue.length<2,size:"lg",children:[r?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Gh,{className:"w-4 h-4 mr-2"})," Crer le concours"]})]})]});return i.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[i.jsx(_a,{children:i.jsx("title",{children:"Crer un Concours - BonPlanInfos"})}),i.jsx("main",{className:"container mx-auto max-w-6xl px-4 py-8",children:i.jsxs(at,{className:"glass-effect",children:[i.jsxs(Et,{className:"text-center",children:[i.jsxs(Tt,{className:"text-3xl font-bold flex items-center justify-center",children:[i.jsx(Gh,{className:"w-8 h-8 mr-3 text-primary"}),"Crer un concours"]}),i.jsx(nn,{children:o===1?"Dtails et tarification":"Candidats et Rcompenses"})]}),i.jsx(st,{children:i.jsx("form",{className:"space-y-6",children:o===1?nt:Ye})})]})})]})},jct=()=>{const{user:e}=Pr(),t=on(),[r,n]=b.useState(!1),[s,a]=b.useState([]),[o,l]=b.useState(1),c={XOF:{USD:.0017,EUR:.0021,XOF:1},USD:{XOF:555,EUR:.55,USD:1},EUR:{XOF:655,USD:1.18,EUR:1}},d={XOF:.1,EUR:80,USD:65},[f,h]=b.useState(""),[v,g]=b.useState(""),[_,y]=b.useState(""),[j,w]=b.useState(""),[C,k]=b.useState(""),[T,P]=b.useState(""),[D,M]=b.useState(""),[I,B]=b.useState(""),[V,U]=b.useState(100),[q,re]=b.useState(!0),[H,X]=b.useState([{id:Xn(),name:"Standard",base_price:15e3,base_currency:"XOF",quantity_available:20,description:"",size:"3x3m",includes:["Table","2 chaises","clairage basique"]}]),[Q,se]=b.useState([{id:Xn(),name:"Logistique",amount:5e4,currency:"XOF",category:"logistics"}]);b.useEffect(()=>{(async()=>{const{data:$e,error:pe}=await Oe.from("event_categories").select("*");pe?console.error("Error fetching categories:",pe):a($e)})()},[]);const te=(Te,$e,pe)=>{var pt;if($e===pe)return Te;const Ge=(pt=c[$e])==null?void 0:pt[pe];return Ge?Math.round(Te*Ge):Te},ce=(Te,$e)=>{const pe=d[$e];return pe?Math.round(Te*pe):Te},xe=(Te,$e)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:$e==="XOF"?"XOF":$e,minimumFractionDigits:0,maximumFractionDigits:0}).format(Te),de=(Te,$e,pe)=>{X(H.map(Ge=>Ge.id===Te?{...Ge,[$e]:pe}:Ge))},ee=()=>{X([...H,{id:Xn(),name:"",base_price:0,base_currency:"XOF",quantity_available:10,description:"",size:"3x3m",includes:[]}])},fe=Te=>{X(H.filter($e=>$e.id!==Te))},ne=(Te,$e,pe)=>{se(Q.map(Ge=>Ge.id===Te?{...Ge,[$e]:pe}:Ge))},Y=()=>{se([...Q,{id:Xn(),name:"",amount:0,currency:"XOF",category:"other"}])},ue=Te=>{se(Q.filter($e=>$e.id!==Te))},le=Q.reduce((Te,$e)=>Te+ce($e.amount,$e.currency),0),ke=H.reduce((Te,$e)=>{const pe=$e.base_price*$e.quantity_available;return Te+ce(pe,$e.base_currency)},0),_e=async Te=>{if(Te.preventDefault(),!e){ze({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}n(!0);try{const{data:$e,error:pe}=await Oe.from("events").insert({title:f,description:v,event_date:_,end_date:j,city:C,country:T,address:D,organizer_id:e.id,event_type:"stand_rental",category_id:I,status:"active",max_participants:V,is_public:q}).select().single();if(pe)throw pe;const Ge=$e.id,{data:pt,error:Pt}=await Oe.from("stand_events").insert({event_id:Ge}).select().single();if(Pt)throw Pt;const nt=pt.id,{error:Ye}=await Oe.from("event_settings").insert({event_id:Ge,stands_enabled:!0,currency_display:!0,coin_system:!0});if(Ye)throw Ye;const Ue=H.map(Yr=>({...Yr,stand_event_id:nt,event_id:Ge})),{error:gt}=await Oe.from("stand_types").insert(Ue);if(gt)throw gt;const Ot=Q.map(Yr=>({...Yr,event_id:Ge,coin_value:ce(Yr.amount,Yr.currency)})),{error:br}=await Oe.from("event_planned_costs").insert(Ot);if(br)throw br;ze({title:"Succs",description:"vnement de location de stands cr avec succs!"}),t(`/event/${Ge}`)}catch($e){console.error("Error creating stand event:",$e),ze({title:"Erreur",description:$e.message,variant:"destructive"})}finally{n(!1)}},Fe=({amount:Te,currency:$e,className:pe=""})=>i.jsxs("div",{className:`space-y-1 ${pe}`,children:[i.jsx("div",{className:"font-semibold",children:xe(Te,$e)}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("div",{children:["USD: ",xe(te(Te,$e,"USD"),"USD")]}),i.jsxs("div",{children:["EUR: ",xe(te(Te,$e,"EUR"),"EUR")]}),i.jsxs("div",{className:"flex items-center gap-1 text-primary font-medium",children:[i.jsx(dn,{className:"w-3 h-3"}),ce(Te,$e)," pices"]})]})]}),Be=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"title",children:"Titre du salon/foire *"}),i.jsx(vt,{id:"title",value:f,onChange:Te=>h(Te.target.value),placeholder:"Ex: Salon International de l'Agriculture",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"category",children:"Catgorie *"}),i.jsxs(aa,{onValueChange:B,value:I,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionnez une catgorie"})}),i.jsx(Zn,{children:s.map(Te=>i.jsx(ur,{value:Te.id,children:Te.name},Te.id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description"}),i.jsx(So,{id:"description",value:v,onChange:Te=>g(Te.target.value),placeholder:"Dcrivez votre vnement, les objectifs, les participants attendus...",rows:4})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"eventDate",children:"Date et heure de dbut *"}),i.jsx(vt,{id:"eventDate",type:"datetime-local",value:_,onChange:Te=>y(Te.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"endDate",children:"Date et heure de fin"}),i.jsx(vt,{id:"endDate",type:"datetime-local",value:j,onChange:Te=>w(Te.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:"Pays *"}),i.jsx(vt,{id:"country",value:T,onChange:Te=>P(Te.target.value),placeholder:"Ex: Cte d'Ivoire",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:"Ville *"}),i.jsx(vt,{id:"city",value:C,onChange:Te=>k(Te.target.value),placeholder:"Ex: Abidjan",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"address",children:"Adresse"}),i.jsx(vt,{id:"address",value:D,onChange:Te=>M(Te.target.value),placeholder:"Adresse complte"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"maxParticipants",children:"Nombre maximum de participants"}),i.jsx(vt,{id:"maxParticipants",type:"number",value:V,onChange:Te=>U(Te.target.value),min:"1"})]}),i.jsxs("div",{className:"flex items-center justify-between space-y-0 pt-6",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{htmlFor:"isPublic",children:"vnement public"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Visible par tous les utilisateurs"})]}),i.jsx(xo,{id:"isPublic",checked:q,onCheckedChange:re})]})]})]}),i.jsx("div",{className:"flex justify-end mt-8",children:i.jsx(Ee,{onClick:()=>l(2),size:"lg",children:"Suivant"})})]}),Re=i.jsxs(i.Fragment,{children:[i.jsxs(tm,{defaultValue:"stands",className:"space-y-6",children:[i.jsxs(Xf,{className:"grid w-full grid-cols-2",children:[i.jsx($r,{value:"stands",children:"Types de Stands"}),i.jsx($r,{value:"costs",children:"Cots Prvus"})]}),i.jsxs(zr,{value:"stands",className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:H.map(Te=>i.jsx(at,{className:"bg-card/50",children:i.jsxs(st,{className:"p-6 space-y-4",children:[i.jsx("div",{className:"flex justify-between items-start gap-4",children:i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(vt,{placeholder:"Nom du type de stand (ex: Premium)",value:Te.name,onChange:$e=>de(Te.id,"name",$e.target.value),className:"text-lg font-bold flex-grow"}),H.length>1&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>fe(Te.id),children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Prix de location"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm font-medium",children:"FCFA"}),i.jsx(vt,{type:"number",value:Te.base_currency==="XOF"?Te.base_price:te(Te.base_price,Te.base_currency,"XOF"),onChange:$e=>de(Te.id,"base_price",$e.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm font-medium",children:"USD"}),i.jsx(vt,{type:"number",value:Te.base_currency==="USD"?Te.base_price:te(Te.base_price,Te.base_currency,"USD"),onChange:$e=>de(Te.id,"base_price",$e.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm font-medium",children:"EUR"}),i.jsx(vt,{type:"number",value:Te.base_currency==="EUR"?Te.base_price:te(Te.base_price,Te.base_currency,"EUR"),onChange:$e=>de(Te.id,"base_price",$e.target.value)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Quantit disponible"}),i.jsx(vt,{type:"number",value:Te.quantity_available,onChange:$e=>de(Te.id,"quantity_available",$e.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Description du stand"}),i.jsx(So,{value:Te.description,onChange:$e=>de(Te.id,"description",$e.target.value),placeholder:"Dcrivez les caractristiques de ce type de stand...",rows:2})]})]})}),i.jsx(at,{className:"bg-muted/50",children:i.jsx(st,{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsx(Fe,{amount:Te.base_currency==="XOF"?Te.base_price:te(Te.base_price,Te.base_currency,"XOF"),currency:"XOF"}),i.jsx(Fe,{amount:Te.base_currency==="USD"?Te.base_price:te(Te.base_price,Te.base_currency,"USD"),currency:"USD"}),i.jsx(Fe,{amount:Te.base_currency==="EUR"?Te.base_price:te(Te.base_price,Te.base_currency,"EUR"),currency:"EUR"})]})})})]})},Te.id))}),i.jsxs(Ee,{variant:"outline",onClick:ee,className:"w-full",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Ajouter un type de stand"]}),i.jsxs(at,{children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"text-lg flex items-center gap-2",children:[i.jsx(dn,{className:"w-5 h-5"}),"Revenus Potentiels"]})}),i.jsx(st,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Total en pices:"}),i.jsxs(nr,{variant:"secondary",className:"text-lg",children:[ke," pices"]})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bas sur la vente de tous les stands disponibles"})]})})]})]}),i.jsxs(zr,{value:"costs",className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:Q.map(Te=>i.jsx(at,{className:"bg-card/50",children:i.jsxs(st,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Nom du cot"}),i.jsx(vt,{value:Te.name,onChange:$e=>ne(Te.id,"name",$e.target.value),placeholder:"Ex: Location salle, Marketing..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Catgorie"}),i.jsxs(aa,{value:Te.category,onValueChange:$e=>ne(Te.id,"category",$e),children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"logistics",children:"Logistique"}),i.jsx(ur,{value:"marketing",children:"Marketing"}),i.jsx(ur,{value:"personnel",children:"Personnel"}),i.jsx(ur,{value:"materials",children:"Matriels"}),i.jsx(ur,{value:"other",children:"Autre"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Montant"}),i.jsx(vt,{type:"number",value:Te.amount,onChange:$e=>ne(Te.id,"amount",$e.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Devise"}),i.jsxs(aa,{value:Te.currency,onValueChange:$e=>ne(Te.id,"currency",$e),children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"XOF",children:"FCFA"}),i.jsx(ur,{value:"USD",children:"USD"}),i.jsx(ur,{value:"EUR",children:"EUR"})]})]})]})]}),Q.length>1&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>ue(Te.id),className:"ml-4",children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]}),i.jsx(at,{className:"bg-muted/50",children:i.jsx(st,{className:"p-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"quivalent en pices:"}),i.jsxs(nr,{children:[i.jsx(dn,{className:"w-3 h-3 mr-1"}),ce(Te.amount,Te.currency)," pices"]})]})})})]})},Te.id))}),i.jsxs(Ee,{variant:"outline",onClick:Y,className:"w-full",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Ajouter un cot prvu"]}),i.jsxs(at,{children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Kf,{className:"w-5 h-5"}),"Rsum des Cots"]})}),i.jsx(st,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Total des cots en pices:"}),i.jsxs(nr,{variant:"destructive",className:"text-lg",children:[le," pices"]})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[i.jsx("span",{children:"Bnfice potentiel net:"}),i.jsxs(nr,{variant:ke-le>=0?"default":"destructive",children:[ke-le," pices"]})]})]})})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsx(Ee,{variant:"outline",onClick:()=>l(1),children:"Prcdent"}),i.jsxs(Ee,{onClick:_e,disabled:r,size:"lg",children:[r?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(Vf,{className:"w-4 h-4 mr-2"}),"Crer l'vnement"]})]})]});return i.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[i.jsx(_a,{children:i.jsx("title",{children:"Crer un vnement Salon/Foire - BonPlanInfos"})}),i.jsx("main",{className:"container mx-auto max-w-6xl px-4 py-8",children:i.jsxs(at,{className:"glass-effect",children:[i.jsxs(Et,{className:"text-center",children:[i.jsxs(Tt,{className:"text-3xl font-bold font-heading flex items-center justify-center",children:[i.jsx(Vf,{className:"w-8 h-8 mr-3 text-primary"}),"Crer un vnement de location de stands"]}),i.jsx(nn,{className:"text-lg",children:o===1?"Dtails de base de votre salon ou foire":"Configurez les stands et les cots de votre vnement"})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx("div",{className:`flex-1 text-center p-3 rounded-lg transition-all ${o===1?"bg-primary text-primary-foreground shadow-lg":"bg-muted"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(qs,{className:"w-4 h-4"}),"tape 1: Dtails"]})}),i.jsx("div",{className:"flex-1 border-t-2 border-dashed border-muted-foreground/20"}),i.jsx("div",{className:`flex-1 text-center p-3 rounded-lg transition-all ${o===2?"bg-primary text-primary-foreground shadow-lg":"bg-muted"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ga,{className:"w-4 h-4"}),"tape 2: Configuration"]})})]}),i.jsx("form",{className:"space-y-6",children:o===1?Be:Re})]})]})})]})},Nct=()=>{const{user:e}=Pr();Un();const t=on(),[r,n]=b.useState(!1),[s,a]=b.useState([]),[o,l]=b.useState(1),[c,d]=b.useState("custom"),f={XOF:{USD:.0017,EUR:.0021,XOF:1},USD:{XOF:555,EUR:.55,USD:1},EUR:{XOF:655,USD:1.18,EUR:1}},h={XOF:.1,EUR:80,USD:65},[v,g]=b.useState(""),[_,y]=b.useState(""),[j,w]=b.useState(""),[C,k]=b.useState(""),[T,P]=b.useState(""),[D,M]=b.useState(""),[I,B]=b.useState(""),[V,U]=b.useState(""),[q,re]=b.useState(100),[H,X]=b.useState(!0),[Q,se]=b.useState(!1),te={standard:[{id:Xn(),name:"Standard",price:5e3,presale_price:3e3,base_currency:"XOF",quantity_available:100,sales_start_date:"",sales_end_date:"",description:"Accs simple  l'vnement",benefits:["Accs  l'vnement","Place standard"]},{id:Xn(),name:"VIP",price:15e3,presale_price:1e4,base_currency:"XOF",quantity_available:50,sales_start_date:"",sales_end_date:"",description:"Accs privilgi avec avantages exclusifs",benefits:["Accs VIP","Zone rserve","Rafrachissements offerts","Rencontre avec les artistes"]}],concert:[{id:Xn(),name:"Early Bird",price:8e3,presale_price:5e3,base_currency:"XOF",quantity_available:30,sales_start_date:"",sales_end_date:"",description:"Billet prvente  prix rduit",benefits:["Accs au concert","Place numrote","Tarif early bird"]},{id:Xn(),name:"Standard",price:1e4,presale_price:7e3,base_currency:"XOF",quantity_available:100,sales_start_date:"",sales_end_date:"",description:"Accs standard au concert",benefits:["Accs au concert","Place standard"]},{id:Xn(),name:"Gold",price:2e4,presale_price:15e3,base_currency:"XOF",quantity_available:20,sales_start_date:"",sales_end_date:"",description:"Exprience concert premium",benefits:["Place Gold","Accs backstage","Goodies exclusifs","Rencontre artistes"]}],conference:[{id:Xn(),name:"tudiant",price:3e3,presale_price:2e3,base_currency:"XOF",quantity_available:50,sales_start_date:"",sales_end_date:"",description:"Tarif spcial tudiant",benefits:["Accs confrence","Support digital","Carte tudiante requise"]},{id:Xn(),name:"Standard",price:8e3,presale_price:5e3,base_currency:"XOF",quantity_available:100,sales_start_date:"",sales_end_date:"",description:"Accs complet  la confrence",benefits:["Accs confrence","Support digital","Certificat de participation"]},{id:Xn(),name:"Premium",price:15e3,presale_price:12e3,base_currency:"XOF",quantity_available:30,sales_start_date:"",sales_end_date:"",description:"Package confrence complet",benefits:["Accs confrence","Djeuner inclus","Rencontre speakers","Goodies premium"]}]},[ce,xe]=b.useState([{id:Xn(),name:"Standard",price:5e3,presale_price:3e3,base_currency:"XOF",quantity_available:100,sales_start_date:"",sales_end_date:"",description:"Accs simple  l'vnement",benefits:["Accs  l'vnement"]}]),[de,ee]=b.useState([{id:Xn(),name:"Location salle",amount:5e4,currency:"XOF",category:"venue"}]);b.useEffect(()=>{(async()=>{const{data:Ue,error:gt}=await Oe.from("event_categories").select("*");gt?console.error("Error fetching categories:",gt):a(Ue)})()},[]);const fe=Ye=>{d(Ye),Ye!=="custom"&&xe(te[Ye].map(Ue=>({...Ue,id:Xn()})))},ne=(Ye,Ue,gt)=>{var br;if(Ue===gt)return Ye;const Ot=(br=f[Ue])==null?void 0:br[gt];return Ot?Math.round(Ye*Ot):Ye},Y=(Ye,Ue)=>{const gt=h[Ue];return gt?Math.round(Ye*gt):Ye},ue=(Ye,Ue)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:Ue==="XOF"?"XOF":Ue,minimumFractionDigits:0,maximumFractionDigits:0}).format(Ye),le=(Ye,Ue,gt)=>{xe(ce.map(Ot=>Ot.id===Ye?{...Ot,[Ue]:gt}:Ot))},ke=()=>{xe([...ce,{id:Xn(),name:"",price:0,presale_price:0,base_currency:"XOF",quantity_available:50,sales_start_date:"",sales_end_date:"",description:"",benefits:[]}])},_e=Ye=>{xe(ce.filter(Ue=>Ue.id!==Ye))},Fe=(Ye,Ue,gt)=>{ee(de.map(Ot=>Ot.id===Ye?{...Ot,[Ue]:gt}:Ot))},Be=()=>{ee([...de,{id:Xn(),name:"",amount:0,currency:"XOF",category:"other"}])},Re=Ye=>{ee(de.filter(Ue=>Ue.id!==Ye))},Te=de.reduce((Ye,Ue)=>Ye+Y(Ue.amount,Ue.currency),0),$e=ce.reduce((Ye,Ue)=>{const gt=Ue.price*Ue.quantity_available;return Ye+Y(gt,Ue.base_currency)},0),pe=async Ye=>{if(Ye.preventDefault(),!e){ze({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}n(!0);try{const{data:Ue,error:gt}=await Oe.from("events").insert({title:v,description:_,event_date:j,end_date:C,city:T,country:D,address:I,organizer_id:e.id,event_type:"ticketing",category_id:V,status:"draft",max_attendees:q,is_public:H,requires_approval:Q}).select().single();if(gt)throw gt;const Ot=Ue.id,{data:br,error:Yr}=await Oe.from("ticketing_events").insert({event_id:Ot,total_tickets:ce.reduce((Bt,Mr)=>Bt+parseInt(Mr.quantity_available,10),0),tickets_sold:0}).select().single();if(Yr)throw Yr;const{error:yt}=await Oe.from("event_settings").insert({event_id:Ot,ticketing_enabled:!0});if(yt)throw yt;const $t=ce.map(Bt=>({...Bt,event_id:Ot})),{error:cr}=await Oe.from("ticket_types").insert($t);if(cr)throw cr;ze({title:"Succs",description:"vnement de billetterie cr avec succs!"}),t(`/event/${Ot}`)}catch(Ue){console.error("Error creating ticketing event:",Ue),ze({title:"Erreur",description:Ue.message,variant:"destructive"})}finally{n(!1)}},Ge=({amount:Ye,currency:Ue,className:gt="",label:Ot=""})=>i.jsxs("div",{className:`space-y-1 ${gt}`,children:[Ot&&i.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:Ot}),i.jsx("div",{className:"font-semibold",children:ue(Ye,Ue)}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("div",{children:["USD: ",ue(ne(Ye,Ue,"USD"),"USD")]}),i.jsxs("div",{children:["EUR: ",ue(ne(Ye,Ue,"EUR"),"EUR")]}),i.jsxs("div",{className:"flex items-center gap-1 text-primary font-medium",children:[i.jsx(dn,{className:"w-3 h-3"}),Y(Ye,Ue)," pices"]})]})]}),pt=({presalePrice:Ye,basePrice:Ue,currency:gt})=>i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-muted/30 rounded-lg",children:[i.jsx(Ge,{amount:Ye,currency:gt,label:"Prvente",className:"text-center"}),i.jsx(Ge,{amount:Ue,currency:gt,label:"Jour J",className:"text-center"})]}),Pt=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"title",children:"Titre de l'vnement *"}),i.jsx(vt,{id:"title",value:v,onChange:Ye=>g(Ye.target.value),placeholder:"Ex: Concert de Jazz en Plein Air",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"category",children:"Catgorie *"}),i.jsxs(aa,{onValueChange:U,value:V,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Slectionnez une catgorie"})}),i.jsx(Zn,{children:s.map(Ye=>i.jsx(ur,{value:Ye.id,children:Ye.name},Ye.id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description"}),i.jsx(So,{id:"description",value:_,onChange:Ye=>y(Ye.target.value),placeholder:"Dcrivez votre vnement, le programme, les artistes...",rows:4})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"eventDate",children:"Date et heure de dbut *"}),i.jsx(vt,{id:"eventDate",type:"datetime-local",value:j,onChange:Ye=>w(Ye.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"endDate",children:"Date et heure de fin"}),i.jsx(vt,{id:"endDate",type:"datetime-local",value:C,onChange:Ye=>k(Ye.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:"Pays *"}),i.jsx(vt,{id:"country",value:D,onChange:Ye=>M(Ye.target.value),placeholder:"Ex: Cte d'Ivoire",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:"Ville *"}),i.jsx(vt,{id:"city",value:T,onChange:Ye=>P(Ye.target.value),placeholder:"Ex: Abidjan",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"address",children:"Adresse"}),i.jsx(vt,{id:"address",value:I,onChange:Ye=>B(Ye.target.value),placeholder:"Adresse complte"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"maxAttendees",children:"Nombre maximum de participants"}),i.jsx(vt,{id:"maxAttendees",type:"number",value:q,onChange:Ye=>re(Ye.target.value),min:"1"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{htmlFor:"isPublic",children:"vnement public"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Visible par tous les utilisateurs"})]}),i.jsx(xo,{id:"isPublic",checked:H,onCheckedChange:X})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{htmlFor:"requiresApproval",children:"Validation requise"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Approuver chaque participant"})]}),i.jsx(xo,{id:"requiresApproval",checked:Q,onCheckedChange:se})]})]})]})]}),i.jsx("div",{className:"flex justify-end mt-8",children:i.jsx(Ee,{onClick:()=>l(2),size:"lg",children:"Suivant"})})]}),nt=i.jsxs(i.Fragment,{children:[i.jsxs(tm,{defaultValue:"tickets",className:"space-y-6",children:[i.jsxs(Xf,{className:"grid w-full grid-cols-2",children:[i.jsx($r,{value:"tickets",children:"Types de Billets"}),i.jsx($r,{value:"costs",children:"Cots Prvus"})]}),i.jsxs(zr,{value:"tickets",className:"space-y-6",children:[i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{className:"text-lg",children:"Modles de billets prdfinis"}),i.jsx(nn,{children:"Choisissez un modle ou crez vos propres types de billets"})]}),i.jsx(st,{children:i.jsxs(oI,{value:c,onValueChange:fe,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(A1,{value:"custom",id:"custom",className:"sr-only"}),i.jsxs(Qe,{htmlFor:"custom",className:`flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground ${c==="custom"?"border-primary":""}`,children:[i.jsx(pi,{className:"mb-3 h-6 w-6"}),i.jsx("span",{className:"text-sm font-medium",children:"Personnalis"})]})]}),i.jsxs("div",{children:[i.jsx(A1,{value:"standard",id:"standard",className:"sr-only"}),i.jsxs(Qe,{htmlFor:"standard",className:`flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground ${c==="standard"?"border-primary":""}`,children:[i.jsx(ki,{className:"mb-3 h-6 w-6"}),i.jsx("span",{className:"text-sm font-medium",children:"Standard"})]})]}),i.jsxs("div",{children:[i.jsx(A1,{value:"concert",id:"concert",className:"sr-only"}),i.jsxs(Qe,{htmlFor:"concert",className:`flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground ${c==="concert"?"border-primary":""}`,children:[i.jsx(Ko,{className:"mb-3 h-6 w-6"}),i.jsx("span",{className:"text-sm font-medium",children:"Concert"})]})]}),i.jsxs("div",{children:[i.jsx(A1,{value:"conference",id:"conference",className:"sr-only"}),i.jsxs(Qe,{htmlFor:"conference",className:`flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground ${c==="conference"?"border-primary":""}`,children:[i.jsx(Cc,{className:"mb-3 h-6 w-6"}),i.jsx("span",{className:"text-sm font-medium",children:"Confrence"})]})]})]})})]}),i.jsx("div",{className:"space-y-4",children:ce.map(Ye=>i.jsx(at,{className:"bg-card/50",children:i.jsxs(st,{className:"p-6 space-y-4",children:[i.jsx("div",{className:"flex justify-between items-start gap-4",children:i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(vt,{placeholder:"Nom du type de billet (ex: VIP)",value:Ye.name,onChange:Ue=>le(Ye.id,"name",Ue.target.value),className:"text-lg font-bold flex-grow"}),ce.length>1&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>_e(Ye.id),children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Prix du billet"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(nr,{variant:"outline",className:"text-green-600",children:"Prvente"}),"Prix avant l'vnement"]}),i.jsx(vt,{type:"number",value:Ye.presale_price,onChange:Ue=>le(Ye.id,"presale_price",Ue.target.value),placeholder:"Prix prvente"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(nr,{variant:"outline",className:"text-orange-600",children:"Jour J"}),"Prix le jour de l'vnement"]}),i.jsx(vt,{type:"number",value:Ye.price,onChange:Ue=>le(Ye.id,"price",Ue.target.value),placeholder:"Prix jour J"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Quantit disponible"}),i.jsx(vt,{type:"number",value:Ye.quantity_available,onChange:Ue=>le(Ye.id,"quantity_available",Ue.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Dbut des ventes"}),i.jsx(vt,{type:"datetime-local",value:Ye.sales_start_date,onChange:Ue=>le(Ye.id,"sales_start_date",Ue.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Fin des ventes"}),i.jsx(vt,{type:"datetime-local",value:Ye.sales_end_date,onChange:Ue=>le(Ye.id,"sales_end_date",Ue.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Description du billet"}),i.jsx(So,{value:Ye.description,onChange:Ue=>le(Ye.id,"description",Ue.target.value),placeholder:"Dcrivez les avantages de ce type de billet...",rows:2})]})]})}),i.jsx(at,{className:"bg-muted/50",children:i.jsxs(st,{className:"p-4 space-y-4",children:[i.jsx("div",{className:"text-sm font-medium",children:"Comparaison des prix"}),i.jsx(pt,{presalePrice:Ye.presale_price,basePrice:Ye.price,currency:Ye.base_currency}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm pt-2 border-t",children:[i.jsx(Ge,{amount:Ye.base_currency==="XOF"?Ye.presale_price:ne(Ye.presale_price,Ye.base_currency,"XOF"),currency:"XOF",label:"Prvente FCFA"}),i.jsx(Ge,{amount:Ye.base_currency==="USD"?Ye.presale_price:ne(Ye.presale_price,Ye.base_currency,"USD"),currency:"USD",label:"Prvente USD"}),i.jsx(Ge,{amount:Ye.base_currency==="EUR"?Ye.presale_price:ne(Ye.presale_price,Ye.base_currency,"EUR"),currency:"EUR",label:"Prvente EUR"})]})]})})]})},Ye.id))}),i.jsxs(Ee,{variant:"outline",onClick:ke,className:"w-full",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Ajouter un type de billet"]}),i.jsxs(at,{children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"text-lg flex items-center gap-2",children:[i.jsx(dn,{className:"w-5 h-5"}),"Revenus Potentiels"]})}),i.jsx(st,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Total en pices (prix jour J):"}),i.jsxs(nr,{variant:"secondary",className:"text-lg",children:[$e," pices"]})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bas sur la vente de tous les billets disponibles au prix jour J"})]})})]})]}),i.jsxs(zr,{value:"costs",className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:de.map(Ye=>i.jsx(at,{className:"bg-card/50",children:i.jsxs(st,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Nom du cot"}),i.jsx(vt,{value:Ye.name,onChange:Ue=>Fe(Ye.id,"name",Ue.target.value),placeholder:"Ex: Artistes, Sonorisation..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Catgorie"}),i.jsxs(aa,{value:Ye.category,onValueChange:Ue=>Fe(Ye.id,"category",Ue),children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"venue",children:"Location salle"}),i.jsx(ur,{value:"artists",children:"Artistes"}),i.jsx(ur,{value:"equipment",children:"quipement"}),i.jsx(ur,{value:"marketing",children:"Marketing"}),i.jsx(ur,{value:"personnel",children:"Personnel"}),i.jsx(ur,{value:"other",children:"Autre"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Montant"}),i.jsx(vt,{type:"number",value:Ye.amount,onChange:Ue=>Fe(Ye.id,"amount",Ue.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Devise"}),i.jsxs(aa,{value:Ye.currency,onValueChange:Ue=>Fe(Ye.id,"currency",Ue),children:[i.jsx(Jn,{children:i.jsx(sa,{})}),i.jsxs(Zn,{children:[i.jsx(ur,{value:"XOF",children:"FCFA"}),i.jsx(ur,{value:"USD",children:"USD"}),i.jsx(ur,{value:"EUR",children:"EUR"})]})]})]})]}),de.length>1&&i.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>Re(Ye.id),className:"ml-4",children:i.jsx(kg,{className:"w-4 h-4 text-destructive"})})]}),i.jsx(at,{className:"bg-muted/50",children:i.jsx(st,{className:"p-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"quivalent en pices:"}),i.jsxs(nr,{children:[i.jsx(dn,{className:"w-3 h-3 mr-1"}),Y(Ye.amount,Ye.currency)," pices"]})]})})})]})},Ye.id))}),i.jsxs(Ee,{variant:"outline",onClick:Be,className:"w-full",children:[i.jsx(Gi,{className:"w-4 h-4 mr-2"})," Ajouter un cot prvu"]}),i.jsxs(at,{children:[i.jsx(Et,{children:i.jsxs(Tt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Kf,{className:"w-5 h-5"}),"Rsum des Cots"]})}),i.jsx(st,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Total des cots en pices:"}),i.jsxs(nr,{variant:"destructive",className:"text-lg",children:[Te," pices"]})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[i.jsx("span",{children:"Bnfice potentiel net:"}),i.jsxs(nr,{variant:$e-Te>=0?"default":"destructive",children:[$e-Te," pices"]})]})]})})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsx(Ee,{variant:"outline",onClick:()=>l(1),children:"Prcdent"}),i.jsxs(Ee,{onClick:pe,disabled:r,size:"lg",children:[r?i.jsx(Dt,{className:"w-4 h-4 animate-spin mr-2"}):i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Crer l'vnement"]})]})]});return i.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[i.jsxs(_a,{children:[i.jsx("title",{children:"Crer un vnement Billetterie - BonPlanInfos"}),i.jsx("meta",{name:"description",content:"Crez et configurez votre vnement de billetterie avec systme de pices."})]}),i.jsx("main",{className:"container mx-auto max-w-6xl px-4 py-8",children:i.jsxs(at,{className:"glass-effect",children:[i.jsxs(Et,{className:"text-center",children:[i.jsxs(Tt,{className:"text-3xl font-bold font-heading flex items-center justify-center",children:[i.jsx(ki,{className:"w-8 h-8 mr-3 text-primary"}),"Crer un vnement de billetterie"]}),i.jsx(nn,{className:"text-lg",children:o===1?"Dtails de base de votre vnement":"Configurez les billets et les cots de votre vnement"})]}),i.jsxs(st,{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx("div",{className:`flex-1 text-center p-3 rounded-lg transition-all ${o===1?"bg-primary text-primary-foreground shadow-lg":"bg-muted"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(qs,{className:"w-4 h-4"}),"tape 1: Dtails"]})}),i.jsx("div",{className:"flex-1 border-t-2 border-dashed border-muted-foreground/20"}),i.jsx("div",{className:`flex-1 text-center p-3 rounded-lg transition-all ${o===2?"bg-primary text-primary-foreground shadow-lg":"bg-muted"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ga,{className:"w-4 h-4"}),"tape 2: Configuration"]})})]}),i.jsx("form",{className:"space-y-6",children:o===1?Pt:nt})]})]})})]})},Sct=()=>{const[e]=v3(),{toast:t}=Ti(),r=on();Pr();const n=e.get("amount");e.get("packId"),e.get("type");const s=e.get("from")||"/packs",a="https://www.pay.moneyfusion.net/acheter-votre-pack-ici_1760809319837/",o="https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/596514675056f152f9b271c249be25a8.jpg",l=c=>{navigator.clipboard.writeText(c),t({title:"Copi !",description:"Le lien de paiement a t copi dans le presse-papiers."})};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/50 to-background flex items-center justify-center p-4",children:i.jsxs(at,{className:"w-full max-w-md shadow-2xl glass-effect",children:[i.jsxs(Et,{className:"text-center relative",children:[i.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute top-4 left-4",onClick:()=>r(s),children:i.jsx(Hd,{className:"h-5 w-5"})}),i.jsx(Tt,{className:"text-2xl font-bold pt-8",children:"Finalisez votre paiement"}),i.jsx(nn,{children:"Scannez le QR code ou utilisez le lien ci-dessous."})]}),i.jsxs(st,{className:"flex flex-col items-center gap-6",children:[i.jsx("div",{className:"p-2 bg-white rounded-lg shadow-inner",children:i.jsx("img",{src:o,alt:"Scannez pour payer avec MoneyFusion",className:"w-64 h-64"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Montant  payer"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:[Number(n).toLocaleString()," FCFA"]})]}),i.jsxs("div",{className:"instructions text-left w-full mt-2",children:[i.jsx("h4",{className:"text-lg font-semibold mb-2 text-center",children:" Remplissez le formulaire sur MoneyFusion avec:"}),i.jsxs("ul",{className:"list-none space-y-2 text-muted-foreground bg-secondary/30 p-4 rounded-md",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Montant:"})," ",Number(n).toLocaleString()," FCFA"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Nom & Prnoms:"})," Votre nom complet"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Numro Mobile Money:"})," Votre numro de paiement"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Email:"})," L'email de votre compte Bonplaninfos"]})]})]}),i.jsxs("div",{className:"w-full flex flex-col gap-3",children:[i.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:i.jsxs(Ee,{className:"w-full gradient-green text-primary-foreground shadow-lg",children:[" Aller sur MoneyFusion pour payer ",i.jsx(BF,{className:"w-4 h-4 ml-2"})]})}),i.jsxs(Ee,{variant:"outline",onClick:()=>l(a),children:["Copier le lien de paiement ",i.jsx(Z2,{className:"w-4 h-4 ml-2"})]})]}),i.jsxs("div",{className:"important-notice text-xs text-center bg-destructive/10 text-destructive-foreground p-3 rounded-md border border-destructive/20 w-full",children:[i.jsx("strong",{children:" Important:"})," Utilisez l'email de votre compte Bonplaninfos pour que vos pices soient crdites automatiquement ou votre licence soit active."]}),i.jsx(mi,{to:s,children:i.jsx(Ee,{variant:"link",className:"mt-4 text-muted-foreground",children:"Retour  la boutique"})})]})]})}):i.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Informations de paiement manquantes"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Impossible de gnrer la page de paiement."}),i.jsx(Ee,{onClick:()=>r(s),children:"Retour"})]})},Cct=()=>{const[e,t]=b.useState({title:"",description:"",category_id:null,event_date:"",location:"",city:"",country:"",price_fcfa:0,is_protected:!1,cover_image_file:null}),[r,n]=b.useState(!1),[s,a]=b.useState([]),[o,l]=b.useState(""),c=on(),{user:d}=Pr(),{userProfile:f}=Un();b.useEffect(()=>{f&&t(w=>({...w,country:f.country||"",city:f.city||""})),(async()=>{n(!0);const{data:w,error:C}=await Oe.from("event_categories").select("id, name").eq("is_active",!0).order("name");C?ze({title:"Erreur",description:"Impossible de charger les catgories.",variant:"destructive"}):a(w),n(!1)})()},[f]);const h=(j,w)=>{t(C=>({...C,[j]:w}))},v=j=>{const w=j.target.files[0];if(w){if(w.size>2*1024*1024){ze({title:"Fichier trop volumineux",description:"L'image ne doit pas dpasser 2MB.",variant:"destructive"});return}h("cover_image_file",w),l(URL.createObjectURL(w))}},g=ws.convertFcfaToCoins(e.price_fcfa),_=e.title&&e.event_date&&e.location&&e.city&&e.country&&e.category_id,y=async j=>{if(j.preventDefault(),!_){ze({title:"Champs requis",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}n(!0);try{let w=null;if(e.cover_image_file){const P=e.cover_image_file.name.replace(/[^a-zA-Z0-9-_\.]/g,"_"),D=`events/${d.id}/${Xn()}-${P}`,{data:M,error:I}=await Oe.storage.from("media").upload(D,e.cover_image_file);if(I)throw I;const{data:B}=Oe.storage.from("media").getPublicUrl(M.path);w=B.publicUrl}const C={title:e.title,description:e.description,category_id:e.category_id,event_type:e.is_protected?"protected":"standard",event_date:e.event_date,location:e.location,address:e.location,city:e.city,country:e.country,price_fcfa:e.is_protected?0:e.price_fcfa,price_pi:e.is_protected?2:g,organizer_id:d.id,status:"active",cover_image:w},{data:k,error:T}=await Oe.from("events").insert(C).select().single();if(T)throw T;ze({title:"vnement cr!",description:"Votre vnement a t publi avec succs."}),c(`/event/${k.id}`)}catch(w){ze({title:"Erreur",description:w.message,variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(_a,{children:i.jsx("title",{children:"Crer un vnement Standard"})}),i.jsx("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>c(-1),className:"mb-4",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"})," Retour"]}),i.jsxs(at,{children:[i.jsxs(Et,{children:[i.jsx(Tt,{children:"Crer un vnement Standard"}),i.jsx(nn,{children:"Remplissez les informations de base de votre vnement."})]}),i.jsx(st,{children:i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"title",children:"Titre de l'vnement *"}),i.jsx(vt,{id:"title",value:e.title,onChange:j=>h("title",j.target.value),required:!0,className:"text-lg font-bold p-4 bg-transparent border-0 border-b-2 border-input focus:ring-0 focus:border-primary transition-all duration-300 ease-in-out placeholder-muted-foreground/50 bg-gradient-to-r from-primary/5 to-accent/5",placeholder:"Un titre qui claque !"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description"}),i.jsx(So,{id:"description",value:e.description,onChange:j=>h("description",j.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{children:"Image de couverture"}),o&&i.jsx("img",{className:"w-full h-auto rounded-lg max-h-60 object-cover",alt:"Aperu de l'vnement",src:o}),i.jsx(vt,{type:"file",accept:"image/*",onChange:v})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"category",children:"Catgorie *"}),i.jsxs(aa,{value:e.category_id||"",onValueChange:j=>h("category_id",j),children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir une catgorie..."})}),i.jsx(Zn,{children:s.map(j=>i.jsx(ur,{value:j.id,children:j.name},j.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"event_date",children:"Date et Heure *"}),i.jsx(vt,{id:"event_date",type:"datetime-local",value:e.event_date,onChange:j=>h("event_date",j.target.value),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"location",children:"Lieu (Adresse) *"}),i.jsx(vt,{id:"location",value:e.location,onChange:j=>h("location",j.target.value),required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:"Ville *"}),i.jsx(vt,{id:"city",value:e.city,onChange:j=>h("city",j.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:"Pays *"}),i.jsx(vt,{id:"country",value:e.country,onChange:j=>h("country",j.target.value),disabled:!0})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Qe,{htmlFor:"is_protected",className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5 text-primary"}),` Rendre l'vnement "protg"`]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Les utilisateurs paieront 2 pour chaque interaction. Vous gagnez 1 par interaction payante."})]}),i.jsx(xo,{id:"is_protected",checked:e.is_protected,onCheckedChange:j=>h("is_protected",j)})]}),!e.is_protected&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"price_fcfa",children:"Prix d'entre (FCFA)"}),i.jsx(vt,{id:"price_fcfa",type:"number",value:e.price_fcfa,onChange:j=>h("price_fcfa",parseInt(j.target.value)||0)}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(dn,{className:"w-3 h-3"})," ",g," Pices"]})]})]}),i.jsx(Ee,{type:"submit",disabled:r||!_,className:"w-full",children:r?i.jsx(Dt,{className:"animate-spin mr-2"}):"Crer l'vnement"})]})})]})]})})]})},Act=()=>{const[e,t]=b.useState({name:"",description:"",type_id:"",address:"",city:"",country:"Cte d'Ivoire",google_maps_link:"",website:"",phone_number:"",images_files:[]}),[r,n]=b.useState([]),[s,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),f=on(),{user:h}=Pr();b.useEffect(()=>{(async()=>{const{data:I,error:B}=await Oe.from("location_types").select("id, name").eq("is_active",!0).order("name");B?ze({title:"Erreur",description:"Impossible de charger les types de lieux."}):n(I)})()},[]);const v=(M,I)=>{t(B=>({...B,[M]:I}))},g=M=>{t(I=>({...I,country:M,city:""}))},_=M=>{if(M.target.files.length>5){ze({title:"Trop d'images",description:"Vous ne pouvez tlverser que 5 images maximum.",variant:"destructive"});return}t(I=>({...I,images_files:[...M.target.files]}))},y=M=>{t(I=>({...I,images_files:I.images_files.filter((B,V)=>V!==M)}))},j=async M=>{if(M.preventDefault(),!h){ze({title:"Authentification requise",description:"Veuillez vous connecter pour ajouter un lieu.",variant:"destructive"}),f("/auth");return}a(!0);try{let I=[];if(e.images_files.length>0)for(const U of e.images_files){const q=`locations/${h.id}/${Xn()}-${U.name}`,{data:re,error:H}=await Oe.storage.from("media").upload(q,U);if(H)throw H;const{data:X}=Oe.storage.from("media").getPublicUrl(re.path);I.push(X.publicUrl)}const B={name:e.name,description:e.description,type_id:e.type_id,address:e.address,city:e.city,country:e.country,google_maps_link:e.google_maps_link,website:e.website,phone_number:e.phone_number,images:I,user_id:h.id},{error:V}=await Oe.from("locations").insert(B);if(V)throw V;ze({title:"Lieu ajout!",description:"Merci pour votre contribution!"}),f("/discover")}catch(I){ze({title:"Erreur",description:I.message,variant:"destructive"})}finally{a(!1)}},w=async()=>{if(!h){ze({title:"Authentification requise",description:"Veuillez vous connecter.",variant:"destructive"});return}l(!0);try{t({name:"",description:"",type_id:"",address:"",city:"",country:"Cte d'Ivoire",google_maps_link:"",website:"",phone_number:"",images_files:[]}),ze({title:"Formulaire vid",description:"Tous les champs ont t rinitialiss."})}catch{ze({title:"Erreur",description:"Impossible de vider le formulaire.",variant:"destructive"})}finally{l(!1),d(!1)}},C=()=>{d(!0)},k=()=>{d(!1)},T=b.useCallback(()=>e.country?px[e.country]||[]:[],[e.country]),P=e.name&&e.type_id&&e.address&&e.city&&e.country,D=e.name||e.description||e.type_id||e.address||e.city||e.google_maps_link||e.website||e.phone_number||e.images_files.length>0;return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(_a,{children:i.jsx("title",{children:"Ajouter un lieu"})}),i.jsxs("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:[i.jsxs(Ee,{variant:"ghost",onClick:()=>f(-1),className:"mb-4",children:[i.jsx(Hd,{className:"w-4 h-4 mr-2"})," Retour"]}),i.jsxs(at,{children:[i.jsx(Et,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(Tt,{children:"Ajouter un nouveau lieu"}),i.jsx(nn,{children:"Partagez vos bons plans avec la communaut."})]}),D&&i.jsxs(Ee,{type:"button",variant:"destructive",size:"sm",onClick:C,disabled:o,children:[i.jsx(kl,{className:"w-4 h-4 mr-2"}),o?"Suppression...":"Tout supprimer"]})]})}),i.jsxs(st,{children:[c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(at,{className:"w-full max-w-md mx-4",children:[i.jsxs(Et,{children:[i.jsx(Tt,{className:"text-destructive",children:"Confirmer la suppression"}),i.jsx(nn,{children:"tes-vous sr de vouloir supprimer toutes les donnes du formulaire ? Cette action est irrversible."})]}),i.jsx(st,{children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(Ee,{variant:"outline",onClick:k,disabled:o,children:"Annuler"}),i.jsxs(Ee,{variant:"destructive",onClick:w,disabled:o,children:[o?i.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(kl,{className:"w-4 h-4 mr-2"}),"Supprimer tout"]})]})})]})}),i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx(Qe,{htmlFor:"name",children:"Nom du lieu *"}),i.jsx(vt,{id:"name",value:e.name,onChange:M=>v("name",M.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"type_id",children:"Type de lieu *"}),i.jsxs(aa,{value:e.type_id,onValueChange:M=>v("type_id",M),children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir un type..."})}),i.jsx(Zn,{children:r.map(M=>i.jsx(ur,{value:M.id,children:M.name},M.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"address",children:"Adresse *"}),i.jsx(vt,{id:"address",value:e.address,onChange:M=>v("address",M.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"country",children:"Pays *"}),i.jsxs(aa,{value:e.country,onValueChange:g,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir un pays..."})}),i.jsx(Zn,{children:I_.map(M=>i.jsx(ur,{value:M.name,children:M.name},M.code))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"city",children:"Ville *"}),i.jsxs(aa,{value:e.city,onValueChange:M=>v("city",M),disabled:!e.country||T().length===0,children:[i.jsx(Jn,{children:i.jsx(sa,{placeholder:"Choisir une ville..."})}),i.jsx(Zn,{children:T().map(M=>i.jsx(ur,{value:M,children:M},M))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"description",children:"Description"}),i.jsx(So,{id:"description",value:e.description,onChange:M=>v("description",M.target.value)})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Qe,{htmlFor:"images",children:"Images (5 max)"}),i.jsx(vt,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:_}),e.images_files.length>0&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:Array.from(e.images_files).map((M,I)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:URL.createObjectURL(M),alt:`Preview ${I+1}`,className:"w-full h-24 object-cover rounded-lg border"}),i.jsx(Ee,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>y(I),children:i.jsx(au,{className:"w-3 h-3"})}),i.jsx("div",{className:"text-xs text-center mt-1 truncate",children:M.name})]},I))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"google_maps_link",children:"Lien Google Maps"}),i.jsx(vt,{id:"google_maps_link",value:e.google_maps_link,onChange:M=>v("google_maps_link",M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"website",children:"Site Web"}),i.jsx(vt,{id:"website",value:e.website,onChange:M=>v("website",M.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"phone_number",children:"Tlphone"}),i.jsx(vt,{id:"phone_number",value:e.phone_number,onChange:M=>v("phone_number",M.target.value)})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Ee,{type:"button",variant:"outline",onClick:()=>f(-1),className:"flex-1",children:"Annuler"}),i.jsx(Ee,{type:"submit",disabled:s||!P,className:"flex-1",children:s?i.jsx(Dt,{className:"animate-spin mr-2"}):"Ajouter le lieu"})]})]})]})]})]})]})},kct=({onScan:e})=>{const t=b.useRef(null),[r,n]=b.useState(!0);return b.useEffect(()=>{let s;return(async()=>{try{const{Html5Qrcode:o}=await m2(()=>import("./index-fd9a1101.js"),[]);s=new o("qr-reader"),t.current=s,await o.getCameras(),n(!0),await s.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250},aspectRatio:1},l=>{e(l)},l=>{})}catch(o){n(!1),console.error("Camera permission error:",o)}})(),()=>{t.current&&t.current.isScanning&&t.current.stop().catch(o=>console.error("Failed to stop scanner",o))}},[e]),r?i.jsx("div",{id:"qr-reader",className:"w-full rounded-lg overflow-hidden border-2 border-dashed border-gray-600"}):i.jsxs("div",{className:"h-[300px] w-full flex flex-col items-center justify-center bg-gray-900 rounded-lg text-center",children:[i.jsx(Age,{className:"w-12 h-12 text-destructive mb-4"}),i.jsx("p",{className:"text-muted-foreground font-semibold",children:"Camra non dtecte"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Veuillez autoriser l'accs  la camra dans les paramtres de votre navigateur."})]})},Ect=()=>{const{user:e}=Pr(),t=on(),[r]=v3(),[n,s]=b.useState("scan"),[a,o]=b.useState(""),[l,c]=b.useState(""),[d,f]=b.useState(null),[h,v]=b.useState(!1),[g,_]=b.useState(!1);b.useEffect(()=>{const C=r.get("scanner_code");C?(o(C),ze({title:"Scanner Activ",description:`Mode vrification actif pour le scanner ${C.substring(0,8)}...`}),_(!0)):e||(ze({title:"Accs non autoris",description:"Code scanner manquant ou session invalide.",variant:"destructive"}),t("/auth"))},[r,e,t]);const y=b.useCallback(async C=>{if(!C||!a||h)return;let k=C;try{k=new URL(C).searchParams.get("ticket")||C}catch{}_(!1),v(!0),f(null);try{const{data:T,error:P}=await Oe.rpc("verify_ticket",{p_ticket_number:k,p_scanner_code:a});if(P)throw P;f(T)}catch(T){f({success:!1,message:T.message})}finally{v(!1),setTimeout(()=>{f(null),c(""),_(!0)},5e3)}},[a,h]),j=b.useCallback(C=>{c(C),y(C)},[y]),w=()=>{_(C=>!C)};return!a&&!e?i.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 text-center",children:[i.jsx(Ql,{className:"w-12 h-12 text-destructive mb-4"}),i.jsx("h1",{className:"text-2xl font-bold",children:"Accs Refus"}),i.jsx("p",{className:"text-muted-foreground",children:"Vous devez tre connect ou avoir un code de scanner pour accder  cette page."}),i.jsx(Ee,{asChild:!0,className:"mt-4",children:i.jsx(mi,{to:"/auth",children:"Se connecter"})})]}):i.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:[i.jsx(_a,{children:i.jsx("title",{children:"Vrification de Billet"})}),i.jsx(wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:i.jsxs(at,{className:"bg-gray-800 border-gray-700",children:[i.jsxs(Et,{className:"text-center",children:[i.jsx(ix,{className:"mx-auto w-12 h-12 text-primary"}),i.jsx(Tt,{className:"mt-2 text-2xl",children:"Scanner de Billets"}),i.jsx(nn,{children:"Vrifiez la validit des billets pour votre vnement."})]}),i.jsxs(st,{className:"space-y-6",children:[n==="scan"?i.jsxs("div",{className:"w-full max-w-xs mx-auto space-y-4",children:[g?i.jsx(kct,{onScan:j}):i.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-900 rounded-lg border-2 border-dashed border-gray-600",children:i.jsx("p",{className:"text-muted-foreground",children:"Scanner en pause..."})}),i.jsxs(Ee,{onClick:w,variant:"outline",className:"w-full",children:[g?i.jsxs(i.Fragment,{children:[i.jsx(_3,{className:"w-4 h-4 mr-2 text-destructive"})," Dsactiver"]}):i.jsxs(i.Fragment,{children:[i.jsx(j3,{className:"w-4 h-4 mr-2 text-green-500"})," Activer"]})," le Scanner"]})]}):i.jsxs("form",{onSubmit:C=>{C.preventDefault(),y(l)},className:"space-y-4",children:[i.jsx(vt,{placeholder:"Entrer le numro du billet",value:l,onChange:C=>c(C.target.value),className:"h-12 text-center text-lg bg-gray-900 border-gray-600"}),i.jsx(Ee,{type:"submit",className:"w-full h-12",disabled:h,children:h?i.jsx(Dt,{className:"animate-spin"}):"Vrifier le Billet"})]}),i.jsx(Ee,{variant:"link",className:"w-full",onClick:()=>s(C=>C==="scan"?"manual":"scan"),children:n==="scan"?"Ou entrer le code manuellement":"Utiliser le scanner QR"}),h&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Dt,{className:"animate-spin w-8 h-8 text-primary"})}),d&&i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg border-2 ${d.success?"bg-green-900/50 border-green-500":"bg-red-900/50 border-red-500"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[d.success?i.jsx(Vi,{className:"w-8 h-8 text-green-400 flex-shrink-0"}):i.jsx(HF,{className:"w-8 h-8 text-red-400 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-xl",children:d.success?"Valide":"Invalide"}),i.jsx("p",{className:"text-sm text-gray-300",children:d.message})]})]}),d.success&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-green-500/30 space-y-2 text-sm",children:[i.jsxs("p",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(ki,{className:"w-4 h-4 text-primary"}),d.event_title]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(Jg,{className:"w-4 h-4 text-primary"})," ",d.attendee_name]})]}),d.verification_status==="duplicate"&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-red-500/30 space-y-2 text-sm text-yellow-300",children:[i.jsxs("p",{className:"flex items-center gap-2 font-bold",children:[i.jsx(Ql,{className:"w-4 h-4"})," Billet dj scann !"]}),i.jsxs("p",{children:["Nombre de scans: ",d.current_verifications]})]})]})]})]})})]})},Tct=()=>{const{t:e}=Dn(),t=[{icon:i.jsx(Sl,{className:"w-8 h-8 text-primary"}),title:e("data_protection.commitment.title"),content:e("data_protection.commitment.content")},{icon:i.jsx(aw,{className:"w-8 h-8 text-primary"}),title:e("data_protection.dpo.title"),content:e("data_protection.dpo.content"),contact:"support@bonplaninfos.net"},{icon:i.jsx(Q2,{className:"w-8 h-8 text-primary"}),title:e("data_protection.data_collected.title"),content:e("data_protection.data_collected.content"),list:e("data_protection.data_collected.list",{returnObjects:!0})},{icon:i.jsx(qu,{className:"w-8 h-8 text-primary"}),title:e("data_protection.usage.title"),content:e("data_protection.usage.content"),list:e("data_protection.usage.list",{returnObjects:!0})},{icon:i.jsx(Ga,{className:"w-8 h-8 text-primary"}),title:e("data_protection.sharing.title"),content:e("data_protection.sharing.content"),list:e("data_protection.sharing.list",{returnObjects:!0})},{icon:i.jsx(Wh,{className:"w-8 h-8 text-primary"}),title:e("data_protection.security.title"),content:e("data_protection.security.content"),list:e("data_protection.security.list",{returnObjects:!0})},{icon:i.jsx(nu,{className:"w-8 h-8 text-primary"}),title:e("data_protection.retention.title"),content:e("data_protection.retention.content"),list:e("data_protection.retention.list",{returnObjects:!0})},{icon:i.jsx(pX,{className:"w-8 h-8 text-primary"}),title:e("data_protection.hosting.title"),content:e("data_protection.hosting.content")},{icon:i.jsx(kl,{className:"w-8 h-8 text-primary"}),title:e("data_protection.deletion.title"),content:e("data_protection.deletion.content")}];return i.jsxs(i.Fragment,{children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("data_protection.meta_title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("data_protection.meta_description")})]}),i.jsx("div",{className:"py-16 sm:py-24",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-heading",children:e("data_protection.title")}),i.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground",children:e("data_protection.subtitle")}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg max-w-2xl mx-auto",children:i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:e("data_protection.africa_compliance")})})]}),i.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:t.map((r,n)=>i.jsx("div",{className:"p-8 bg-card rounded-2xl shadow-lg border border-border",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:r.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:r.title}),i.jsxs("div",{className:"prose prose-invert max-w-none text-muted-foreground",children:[i.jsx("p",{className:"mb-4",children:r.content}),r.list&&Array.isArray(r.list)&&i.jsx("ul",{className:"space-y-2",children:r.list.map((s,a)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-primary mr-2",children:""}),i.jsx("span",{dangerouslySetInnerHTML:{__html:s}})]},a))}),r.contact&&i.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[i.jsx("p",{className:"font-semibold mb-2",children:e("data_protection.contact_title")}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(gp,{className:"w-5 h-5"}),i.jsx("a",{href:`mailto:${r.contact}`,className:"text-primary hover:underline",children:r.contact})]})]})]})]})]})},n))}),i.jsx("div",{className:"max-w-4xl mx-auto mt-12 p-6 bg-muted rounded-2xl text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:e("data_protection.last_updated")})})]})})]})},Pct=()=>{const e=on(),{t}=Dn(),r=b.useRef(null),n=b.useRef(null),{scrollYProgress:s}=SSe({target:r,offset:["start start","end end"]}),a=QNe(s,[0,1],[.8,1]);eSe(a,{damping:30,stiffness:200});const[o,l]=b.useState(0),[c,d]=b.useState(!0),f=[{icon:i.jsx(ki,{className:"w-12 h-12 text-blue-600"}),title:t("user_guide_page.features.ticketing.title"),description:t("user_guide_page.features.ticketing.description"),stats:t("user_guide_page.features.ticketing.stats")},{icon:i.jsx(Ga,{className:"w-12 h-12 text-purple-600"}),title:t("user_guide_page.features.voting.title"),description:t("user_guide_page.features.voting.description"),stats:t("user_guide_page.features.voting.stats")},{icon:i.jsx(Cc,{className:"w-12 h-12 text-amber-600"}),title:t("user_guide_page.features.raffle.title"),description:t("user_guide_page.features.raffle.description"),stats:t("user_guide_page.features.raffle.stats")},{icon:i.jsx(Go,{className:"w-12 h-12 text-green-600"}),title:t("user_guide_page.features.stand_rental.title"),description:t("user_guide_page.features.stand_rental.description"),stats:t("user_guide_page.features.stand_rental.stats")},{icon:i.jsx(Sl,{className:"w-12 h-12 text-red-600"}),title:t("user_guide_page.features.protected_events.title"),description:t("user_guide_page.features.protected_events.description"),stats:t("user_guide_page.features.protected_events.stats")},{icon:i.jsx(Wi,{className:"w-12 h-12 text-yellow-600"}),title:t("user_guide_page.features.boost.title"),description:t("user_guide_page.features.boost.description"),stats:t("user_guide_page.features.boost.stats")}],h=[{number:"95%",label:t("user_guide_page.stats.revenue")},{number:"10F",label:t("user_guide_page.stats.coin_cost")},{number:"1",label:t("user_guide_page.stats.coin_earned")},{number:"0F",label:t("user_guide_page.stats.no_fees")}],v={views:1e3,likes:250,comments:80,shares:50,coinValue:10,totalEarnings:0};v.totalEarnings=(v.views+v.likes+v.comments+v.shares)*v.coinValue;const g=[{name:"Marie K.",role:t("user_guide_page.testimonials.testimonial1.role"),content:t("user_guide_page.testimonials.testimonial1.content"),rating:5},{name:"Jean A.",role:t("user_guide_page.testimonials.testimonial2.role"),content:t("user_guide_page.testimonials.testimonial2.content"),rating:5},{name:"Sophie T.",role:t("user_guide_page.testimonials.testimonial3.role"),content:t("user_guide_page.testimonials.testimonial3.content"),rating:5},{name:"Paul D.",role:t("user_guide_page.testimonials.testimonial4.role"),content:t("user_guide_page.testimonials.testimonial4.content"),rating:5},{name:"Fatou M.",role:t("user_guide_page.testimonials.testimonial5.role"),content:t("user_guide_page.testimonials.testimonial5.content"),rating:5},{name:"Kevin L.",role:t("user_guide_page.testimonials.testimonial6.role"),content:t("user_guide_page.testimonials.testimonial6.content"),rating:5},{name:"Acha B.",role:t("user_guide_page.testimonials.testimonial7.role"),content:t("user_guide_page.testimonials.testimonial7.content"),rating:5},{name:"Marc T.",role:t("user_guide_page.testimonials.testimonial8.role"),content:t("user_guide_page.testimonials.testimonial8.content"),rating:5},{name:"Julie N.",role:t("user_guide_page.testimonials.testimonial9.role"),content:t("user_guide_page.testimonials.testimonial9.content"),rating:5},{name:"David K.",role:t("user_guide_page.testimonials.testimonial10.role"),content:t("user_guide_page.testimonials.testimonial10.content"),rating:5},{name:"Sarah J.",role:t("user_guide_page.testimonials.testimonial11.role"),content:t("user_guide_page.testimonials.testimonial11.content"),rating:5},{name:"Mohamed C.",role:t("user_guide_page.testimonials.testimonial12.role"),content:t("user_guide_page.testimonials.testimonial12.content"),rating:5},{name:"Laura P.",role:t("user_guide_page.testimonials.testimonial13.role"),content:t("user_guide_page.testimonials.testimonial13.content"),rating:5},{name:"Pierre G.",role:t("user_guide_page.testimonials.testimonial14.role"),content:t("user_guide_page.testimonials.testimonial14.content"),rating:5},{name:"Nadia S.",role:t("user_guide_page.testimonials.testimonial15.role"),content:t("user_guide_page.testimonials.testimonial15.content"),rating:5}],_=()=>{l(w=>(w+1)%g.length)},y=()=>{l(w=>(w-1+g.length)%g.length)},j=w=>{l(w)};return b.useEffect(()=>{if(!c)return;const w=setInterval(()=>{_()},5e3);return()=>clearInterval(w)},[c]),i.jsxs("div",{ref:r,className:"min-h-screen bg-background overflow-hidden",children:[i.jsxs(_a,{children:[i.jsx("title",{children:t("user_guide_page.meta.title")}),i.jsx("meta",{name:"description",content:t("user_guide_page.meta.description")})]}),i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/90 to-blue-700 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black/20"}),i.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/20 rounded-full blur-3xl animate-pulse delay-1000"}),i.jsxs(wt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},className:"relative z-10 text-center text-white px-4 max-w-6xl mx-auto",children:[i.jsxs(wt.h1,{className:"text-5xl md:text-7xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},children:[t("user_guide_page.hero.title"),i.jsx("span",{className:"block bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:t("user_guide_page.hero.subtitle")})]}),i.jsxs(wt.p,{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},children:[i.jsx("span",{dangerouslySetInnerHTML:{__html:t("user_guide_page.hero.description")}}),i.jsx("span",{className:"block font-semibold text-yellow-300",children:t("user_guide_page.hero.coin_info")})]}),i.jsxs(wt.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:[i.jsxs(Ee,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg px-8 py-6 font-semibold",onClick:()=>e("/create-event"),children:[t("user_guide_page.hero.create_event"),i.jsx(dN,{className:"ml-2 w-5 h-5"})]}),i.jsx(Ee,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/20 text-lg px-8 py-6 font-semibold",onClick:()=>e("/partner-signup"),children:t("user_guide_page.hero.become_partner")})]}),i.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-8 text-blue-200",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vi,{className:"w-5 h-5 text-green-400"}),i.jsx("span",{children:t("user_guide_page.hero.features.revenue")})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vi,{className:"w-5 h-5 text-green-400"}),i.jsx("span",{children:t("user_guide_page.hero.features.coin")})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vi,{className:"w-5 h-5 text-green-400"}),i.jsx("span",{children:t("user_guide_page.hero.features.support")})]})]})]}),i.jsx(wt.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:i.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:i.jsx(wt.div,{className:"w-1 h-3 bg-white rounded-full mt-2",animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0}})})})]}),i.jsx("section",{className:"py-20 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.features.title")}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:f.map((w,C)=>i.jsx(wt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:C*.1,duration:.6},viewport:{once:!0},children:i.jsx(at,{className:"h-full border-2 shadow-lg hover:shadow-xl transition-all duration-300 bg-card",children:i.jsxs(st,{className:"p-8 text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"p-4 rounded-2xl bg-primary/10",children:w.icon})}),i.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:w.title}),i.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:w.description}),i.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white px-4 py-2 rounded-full text-sm font-semibold inline-block",children:w.stats})]})})},C))})]})}),i.jsx("section",{className:"py-20 bg-background",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.simulation.title")}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.simulation.subtitle")})]}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(at,{className:"border-2 shadow-xl bg-gradient-to-br from-primary/5 to-blue-50",children:i.jsxs(st,{className:"p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(dn,{className:"w-16 h-16 text-yellow-500"})}),i.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:t("user_guide_page.simulation.main_title")}),i.jsx("p",{className:"text-lg text-muted-foreground font-semibold",children:t("user_guide_page.simulation.description")})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[i.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg text-white",children:[i.jsx(qu,{className:"w-8 h-8 text-white mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold",children:"1000"}),i.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.views")}),i.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"10000F"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-red-500 to-red-600 rounded-lg shadow-lg text-white",children:[i.jsx(g_,{className:"w-8 h-8 text-white mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold",children:"250"}),i.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.likes")}),i.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"2500F"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg text-white",children:[i.jsx(ax,{className:"w-8 h-8 text-white mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold",children:"80"}),i.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.comments")}),i.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"800F"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg text-white",children:[i.jsx(ty,{className:"w-8 h-8 text-white mx-auto mb-2"}),i.jsx("div",{className:"text-2xl font-bold",children:"50"}),i.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.shares")}),i.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"500F"})]})]}),i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg text-white shadow-lg",children:[i.jsx("div",{className:"text-3xl font-bold mb-2",children:t("user_guide_page.simulation.total",{amount:v.totalEarnings.toLocaleString()})}),i.jsx("p",{className:"text-lg font-medium",children:t("user_guide_page.simulation.revenue_description",{count:v.views+v.likes+v.comments+v.shares})})]})]})})})]})}),i.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-blue-700 text-white",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:h.map((w,C)=>i.jsxs(wt.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{delay:C*.2,duration:.6},viewport:{once:!0},className:"text-center",children:[i.jsx("div",{className:"text-5xl md:text-6xl font-bold mb-4 text-yellow-300",children:w.number}),i.jsx("p",{className:"text-xl text-blue-100",children:w.label})]},C))})})}),i.jsx("section",{className:"py-20 bg-muted/50",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.partner_program.title")}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.partner_program.subtitle")})]}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(at,{className:"border-2 shadow-xl bg-card",children:i.jsx(st,{className:"p-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:t("user_guide_page.partner_program.advantages")}),i.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Vi,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),i.jsx("span",{children:t("user_guide_page.partner_program.benefits.revenue")})]}),i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Vi,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),i.jsx("span",{children:t("user_guide_page.partner_program.benefits.training")})]}),i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Vi,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),i.jsx("span",{children:t("user_guide_page.partner_program.benefits.support")})]}),i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Vi,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),i.jsx("span",{children:t("user_guide_page.partner_program.benefits.network")})]})]})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white p-6 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold mb-2",children:t("user_guide_page.partner_program.become_partner")}),i.jsx("p",{className:"mb-4",children:t("user_guide_page.partner_program.partner_description")}),i.jsx(Ee,{className:"bg-white text-primary hover:bg-gray-100",onClick:()=>e("/partner-signup"),children:t("user_guide_page.partner_program.apply_now")})]})})]})})})})]})}),i.jsx("section",{className:"py-20 bg-background",ref:n,children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.testimonials.title")}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.testimonials.subtitle")})]}),i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[i.jsx(Ee,{variant:"outline",size:"icon",onClick:y,className:"rounded-full",title:t("user_guide_page.testimonials.previous"),children:i.jsx(b3,{className:"w-5 h-5"})}),i.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>d(!c),className:"rounded-full",title:t(c?"user_guide_page.testimonials.pause":"user_guide_page.testimonials.play"),children:c?i.jsx(qF,{className:"w-5 h-5"}):i.jsx(v_,{className:"w-5 h-5"})}),i.jsx(Ee,{variant:"outline",size:"icon",onClick:_,className:"rounded-full",title:t("user_guide_page.testimonials.next"),children:i.jsx(Ag,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"relative h-96 overflow-hidden rounded-xl",children:g.map((w,C)=>i.jsx(wt.div,{initial:{opacity:0,x:100},animate:{opacity:C===o?1:0,x:C===o?0:C<o?-100:100,scale:C===o?1:.9},transition:{duration:.5},className:`absolute inset-0 ${C===o?"pointer-events-auto":"pointer-events-none"}`,children:i.jsx(at,{className:"h-full border-2 shadow-2xl bg-card",children:i.jsxs(st,{className:"p-12 h-full flex flex-col justify-center items-center text-center",children:[i.jsx("div",{className:"flex items-center mb-6",children:[...Array(w.rating)].map((k,T)=>i.jsx(Cc,{className:"w-8 h-8 fill-yellow-400 text-yellow-400 mx-1"},T))}),i.jsxs("p",{className:"text-2xl text-muted-foreground mb-8 italic leading-relaxed max-w-4xl",children:['"',w.content,'"']}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-foreground text-xl mb-2",children:w.name}),i.jsx("div",{className:"text-muted-foreground text-lg",children:w.role})]})]})})},C))}),i.jsx("div",{className:"flex justify-center items-center gap-2 mt-8",children:g.map((w,C)=>i.jsx("button",{onClick:()=>j(C),className:`w-3 h-3 rounded-full transition-all duration-300 ${C===o?"bg-primary scale-125":"bg-gray-300 hover:bg-gray-400"}`},C))}),i.jsx("div",{className:"text-center mt-4 text-muted-foreground",children:t("user_guide_page.testimonials.counter",{current:o+1,total:g.length})})]})]})}),i.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-blue-700 text-white",children:i.jsx("div",{className:"container mx-auto px-4 text-center",children:i.jsxs(wt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:t("user_guide_page.cta.title")}),i.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-blue-100",children:t("user_guide_page.cta.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(Ee,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg px-8 py-6 font-semibold",onClick:()=>e("/create-event"),children:[t("user_guide_page.cta.create_event"),i.jsx(dN,{className:"ml-2 w-5 h-5"})]}),i.jsx(Ee,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/20 text-lg px-8 py-6 font-semibold",onClick:()=>e("/partner-signup"),children:t("user_guide_page.cta.become_partner")})]})]})})}),i.jsx("footer",{className:"bg-gray-900 text-white py-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"BonPlanInfos"}),i.jsx("p",{className:"text-gray-400 mb-4",children:t("user_guide_page.footer.description")}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("a",{href:"https://www.youtube.com/@bonplaninfos",target:"_blank",rel:"noopener noreferrer",children:i.jsx(lve,{className:"w-6 h-6 text-gray-400 hover:text-red-500 cursor-pointer"})}),i.jsx("a",{href:"https://www.tiktok.com/@bonplaninfos",target:"_blank",rel:"noopener noreferrer",children:i.jsx("div",{className:"w-6 h-6 bg-gray-400 hover:bg-black rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-white",children:"TK"})})}),i.jsx("a",{href:"https://www.facebook.com/share/1D3rt89vaP/",target:"_blank",rel:"noopener noreferrer",children:i.jsx(Fge,{className:"w-6 h-6 text-gray-400 hover:text-blue-500 cursor-pointer"})}),i.jsx("a",{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",target:"_blank",rel:"noopener noreferrer",children:i.jsx(ax,{className:"w-6 h-6 text-gray-400 hover:text-green-500 cursor-pointer"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.navigation")}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsx("li",{children:i.jsx("button",{onClick:()=>e("/"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.home")})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>e("/events"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.events")})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>e("/create-event"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.create_event")})}),i.jsx("li",{children:i.jsx("button",{onClick:()=>e("/partner-signup"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.become_partner")})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.contact")}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(w3,{className:"w-4 h-4"}),i.jsx("span",{children:"+225 07 12 27 53 74"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(gp,{className:"w-4 h-4"}),i.jsx("a",{href:"mailto:support@bonplaninfos.net",className:"hover:underline",children:"support@bonplaninfos.net"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(wo,{className:"w-4 h-4"}),i.jsx("span",{children:"Cte d'Ivoire, Abidjan"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(wo,{className:"w-4 h-4"}),i.jsx("a",{href:"https://share.google/vsn9fS33X9trfB43i",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Burkina Faso, Ouagadougou"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.information")}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsx("li",{children:" 95% des revenus vous sont reverss"}),i.jsx("li",{children:" 1 pice = 10F CFA"}),i.jsx("li",{children:" 1 interaction = 1 pice"}),i.jsx("li",{children:" Support 24/7"})]})]})]}),i.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:i.jsx("p",{children:t("user_guide_page.footer.copyright")})})]})})]})},Oct=()=>{const{t:e}=Dn(),t=e("faq.questions",{returnObjects:!0})||{};return i.jsxs(i.Fragment,{children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("faq.meta_title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("faq.meta_description")})]}),i.jsx("div",{className:"bg-background text-foreground",children:i.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-20",children:[i.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight text-primary font-heading",children:e("faq.title")}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:e("faq.subtitle")})]}),i.jsx("div",{className:"max-w-4xl mx-auto",children:Object.keys(t).map((r,n)=>i.jsxs(wt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:n*.2},className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-secondary-foreground",children:t[r].title}),i.jsx(TR,{type:"single",collapsible:!0,className:"w-full",children:Object.keys(t[r]).filter(s=>s.startsWith("q")).map(s=>i.jsxs(NC,{value:`${r}-${s}`,children:[i.jsx(SC,{className:"text-left font-semibold",children:t[r][s]}),i.jsx(CC,{className:"text-muted-foreground",children:i.jsx(sD,{i18nKey:`faq.questions.${r}.${s.replace("q","a")}`,components:{b:i.jsx("strong",{})}})})]},`${r}-${s}`))})]},r))})]})})]})},Fct=["orange","mtn","moov","wave"],Dct=()=>{const{t:e}=Dn(),[t,r]=b.useState([]),[n,s]=b.useState(!0);return b.useEffect(()=>{(()=>{const o=Fct.map(l=>({id:l,name:e(`sponsors.list.${l}.name`),logo_url:`https://res.cloudinary.com/dprp6vxv6/image/upload/v1722428610/bpi/logo-${l}_${l==="orange"?"g6h5g1":"z5z5z5"}.png`,description:e(`sponsors.list.${l}.description`)}));r(o),s(!1)})()},[e]),i.jsxs(i.Fragment,{children:[i.jsxs(_a,{children:[i.jsxs("title",{children:[e("sponsors.meta_title")," - BonPlanInfos"]}),i.jsx("meta",{name:"description",content:e("sponsors.meta_description")})]}),i.jsx("div",{className:"py-16 sm:py-24 bg-background",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx(kp,{className:"w-16 h-16 mx-auto text-primary mb-4"}),i.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-heading",children:e("sponsors.title")}),i.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground max-w-3xl mx-auto",children:e("sponsors.subtitle")})]}),n?i.jsx("div",{className:"flex justify-center items-center",children:i.jsx(Dt,{className:"w-12 h-12 animate-spin text-primary"})}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(a=>i.jsxs(at,{className:"bg-card overflow-hidden shadow-lg hover:shadow-primary/20 transition-shadow duration-300",children:[i.jsx(Et,{className:"p-0",children:i.jsx("div",{className:"h-40 flex items-center justify-center bg-white p-4",children:i.jsx("img",{src:a.logo_url,alt:a.name,className:"max-h-full max-w-full object-contain"})})}),i.jsxs(st,{className:"p-6",children:[i.jsx(Tt,{className:"text-xl mb-2",children:a.name}),i.jsx("p",{className:"text-muted-foreground text-sm",children:a.description})]})]},a.id))})]})})]})};function Rct(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s}function o_(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async function Jce(){if(!o_())throw console.warn("Push notifications are not supported in this browser."),new Error("Push notifications not supported.");return await Notification.requestPermission()}async function Mct(){if(!o_())return console.warn("Push notifications are not supported in this browser."),null;if(await Jce()!=="granted")throw console.warn("Permission for notifications was not granted."),new Error("Permission for notifications was denied.");try{const t=await navigator.serviceWorker.ready,r=await t.pushManager.getSubscription();if(r)return console.log("User is already subscribed."),r;const n=(await Oe.rpc("get_vapid_public_key")).data;if(!n)throw new Error("Could not retrieve VAPID public key from server.");const s=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rct(n)});return console.log("User is subscribed:",s),s}catch(t){throw console.error("Failed to subscribe the user: ",t),t}}async function Ict(){if(!o_())return null;try{return await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("Error getting existing subscription:",e),null}}const Lct=()=>{const{user:e}=Pr(),{toast:t}=Ti(),[r,n]=b.useState(!1),[s,a]=b.useState("default"),[o,l]=b.useState(!1),c=b.useRef(!1);b.useEffect(()=>{o_()&&(Notification.permission==="granted"?(a("granted"),Ict().then(f=>{f&&n(!0)})):a(Notification.permission))},[]),b.useEffect(()=>{if(!e||c.current)return;c.current=!0,(async()=>{o_()&&Notification.permission==="granted"&&await d()})()},[e]);const d=async()=>{l(!0);try{const f=await Jce();if(a(f),f!=="granted"){t({title:"Notifications bloques",description:"Veuillez autoriser les notifications dans votre navigateur pour recevoir les alertes.",variant:"warning"});return}const h=await Mct();if(h){console.log("Sending subscription to backend...",h.endpoint);const v=h.getKey("p256dh")?btoa(String.fromCharCode.apply(null,new Uint8Array(h.getKey("p256dh")))):null,g=h.getKey("auth")?btoa(String.fromCharCode.apply(null,new Uint8Array(h.getKey("auth")))):null,{error:_}=await Oe.from("push_tokens").upsert({user_id:e.id,token:h.endpoint,auth_key:g,p256dh_key:v,device_type:"browser",is_active:!0,last_used_at:new Date().toISOString()},{onConflict:"token"});_&&console.error("Database error storing token:",_),n(!0),console.log("Push setup complete.")}}catch(f){console.error("Subscription error:",f),t({title:"Erreur",description:"Impossible d'activer les notifications: "+f.message,variant:"destructive"})}finally{l(!1)}};return null},$ct=()=>{const e=on(),{userProfile:t}=Un();return t&&["organizer","admin","super_admin"].includes(t.user_type)?i.jsx(wt.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.5},whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-24 right-4 z-50 md:hidden",children:i.jsx(Ee,{size:"icon",className:"rounded-full w-14 h-14 shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground flex items-center justify-center",onClick:()=>e("/create-event"),"aria-label":"Crer un vnement",children:i.jsx(Gi,{className:"w-8 h-8"})})}):null},Bct=()=>{const{setForceRefresh:e}=Pr(),{forceRefreshUserProfile:t}=Un();return b.useEffect(()=>{e(()=>t)},[e,t]),null};function zct(){return i.jsx(Mpe,{children:i.jsx(Dxe,{children:i.jsx(Oxe,{children:i.jsxs(Pxe,{children:[i.jsx(Bct,{}),i.jsx(b.Suspense,{fallback:i.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-background",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),children:i.jsxs(u3e,{children:[i.jsxs(Ape,{children:[i.jsx(_n,{path:"/",element:i.jsx(wke,{})}),i.jsx(_n,{path:"/discover",element:i.jsx(oct,{})}),i.jsx(_n,{path:"/add-location",element:i.jsx(Act,{})}),i.jsx(_n,{path:"/auth",element:i.jsx(fEe,{})}),i.jsx(_n,{path:"/profile",element:i.jsx(s6e,{})}),i.jsx(_n,{path:"/events",element:i.jsx(i6e,{})}),i.jsx(_n,{path:"/create-event",element:i.jsx(o6e,{})}),i.jsx(_n,{path:"/create-simple-event",element:i.jsx(Cct,{})}),i.jsx(_n,{path:"/create-raffle-event",element:i.jsx(dct,{})}),i.jsx(_n,{path:"/create-voting-event",element:i.jsx(_ct,{})}),i.jsx(_n,{path:"/create-stand-event",element:i.jsx(jct,{})}),i.jsx(_n,{path:"/create-ticketing-event",element:i.jsx(Nct,{})}),i.jsx(_n,{path:"/event/:id",element:i.jsx(eTe,{})}),i.jsx(_n,{path:"/contests",element:i.jsx(act,{})}),i.jsx(_n,{path:"/contest/:id",element:i.jsx(ict,{})}),i.jsx(_n,{path:"/admin",element:i.jsx(tlt,{})}),i.jsx(_n,{path:"/secretary",element:i.jsx(clt,{})}),i.jsx(_n,{path:"/wallet",element:i.jsx(ult,{})}),i.jsx(_n,{path:"/settings",element:i.jsx(Flt,{})}),i.jsx(_n,{path:"/promotions",element:i.jsx(Rlt,{})}),i.jsx(_n,{path:"/create-promotion",element:i.jsx(Mlt,{})}),i.jsx(_n,{path:"/news",element:i.jsx(Llt,{})}),i.jsx(_n,{path:"/notifications",element:i.jsx(Ilt,{})}),i.jsx(_n,{path:"/terms",element:i.jsx(BH,{})}),i.jsx(_n,{path:"/conditions-utilisation",element:i.jsx(BH,{})}),i.jsx(_n,{path:"/boost",element:i.jsx($lt,{})}),i.jsx(_n,{path:"/marketing",element:i.jsx(Ult,{})}),i.jsx(_n,{path:"/partner-signup",element:i.jsx(Klt,{})}),i.jsx(_n,{path:"/about",element:i.jsx(Xlt,{})}),i.jsx(_n,{path:"/privacy-policy",element:i.jsx(UH,{})}),i.jsx(_n,{path:"/politique-confidentialite",element:i.jsx(UH,{})}),i.jsx(_n,{path:"/protection-donnees",element:i.jsx(Tct,{})}),i.jsx(_n,{path:"/help-center",element:i.jsx(VH,{})}),i.jsx(_n,{path:"/aide",element:i.jsx(VH,{})}),i.jsx(_n,{path:"/guide-utilisation",element:i.jsx(Pct,{})}),i.jsx(_n,{path:"/faq",element:i.jsx(Oct,{})}),i.jsx(_n,{path:"/sponsors",element:i.jsx(Dct,{})}),i.jsx(_n,{path:"/how-it-works",element:i.jsx(Zlt,{})}),i.jsx(_n,{path:"/pricing",element:i.jsx(Qlt,{})}),i.jsx(_n,{path:"/packs",element:i.jsx(cct,{})}),i.jsx(_n,{path:"/buy/:packSlug",element:i.jsx(uct,{})}),i.jsx(_n,{path:"/payment/checkout",element:i.jsx(Sct,{})}),i.jsx(_n,{path:"/paiement/success",element:i.jsx(ect,{})}),i.jsx(_n,{path:"/paiement/cancel",element:i.jsx(tct,{})}),i.jsx(_n,{path:"/verify-ticket",element:i.jsx(Ect,{})}),i.jsx(_n,{path:"/legal-mentions",element:i.jsx(Jlt,{})})]}),i.jsx(gve,{}),i.jsx(Ylt,{}),i.jsx(Lct,{}),i.jsx(Ate,{}),i.jsx($ct,{})]})})]})})})})}const En=e=>typeof e=="string",Bb=()=>{let e,t;const r=new Promise((n,s)=>{e=n,t=s});return r.resolve=e,r.reject=t,r},qH=e=>e==null?"":""+e,Uct=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},Vct=/###/g,WH=e=>e&&e.indexOf("###")>-1?e.replace(Vct,"."):e,HH=e=>!e||En(e),O2=(e,t,r)=>{const n=En(t)?t.split("."):t;let s=0;for(;s<n.length-1;){if(HH(e))return{};const a=WH(n[s]);!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++s}return HH(e)?{}:{obj:e,k:WH(n[s])}},GH=(e,t,r)=>{const{obj:n,k:s}=O2(e,t,Object);if(n!==void 0||t.length===1){n[s]=r;return}let a=t[t.length-1],o=t.slice(0,t.length-1),l=O2(e,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=O2(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},qct=(e,t,r,n)=>{const{obj:s,k:a}=O2(e,t,Object);s[a]=s[a]||[],s[a].push(r)},GS=(e,t)=>{const{obj:r,k:n}=O2(e,t);if(r)return r[n]},Wct=(e,t,r)=>{const n=GS(e,r);return n!==void 0?n:GS(t,r)},Zce=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?En(e[n])||e[n]instanceof String||En(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):Zce(e[n],t[n],r):e[n]=t[n]);return e},Jv=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Hct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gct=e=>En(e)?e.replace(/[&<>"'\/]/g,t=>Hct[t]):e;class Kct{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Yct=[" ",",","?","!",";"],Xct=new Kct(20),Jct=(e,t,r)=>{t=t||"",r=r||"";const n=Yct.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const s=Xct.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!s.test(e);if(!a){const o=e.indexOf(r);o>0&&!s.test(e.substring(0,o))&&(a=!0)}return a},DO=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let s=e;for(let a=0;a<n.length;){if(!s||typeof s!="object")return;let o,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;a+=c-a+1;break}s=o}return s},KS=e=>e&&e.replace("_","-"),Zct={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class YS{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||Zct,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,s){return s&&!this.debug?null:(En(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new YS(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new YS(this.logger,t)}}var Pf=new YS;class OA{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[t,...n])})}}class KH extends OA{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):En(n)&&a?l.push(...n.split(a)):l.push(n)));const c=GS(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!En(n)?c:DO(this.data&&this.data[t]&&this.data[t][r],n,a)}addResource(t,r,n,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),s=r,r=l[1]),this.addNamespaces(r),GH(this.data,l,s),a.silent||this.emit("added",t,r,n,s)}addResources(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(En(n[a])||Array.isArray(n[a]))&&this.addResource(t,r,a,n[a],{silent:!0});s.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,s,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=GS(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?Zce(c,n,a):c={...c,...n},GH(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var Qce={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,s){return e.forEach(a=>{this.processors[a]&&(t=this.processors[a].process(t,r,n,s))}),t}};const YH={};class XS extends OA{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Uct(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Pf.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Jct(t,n,s);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:En(a)?[a]:a};const d=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),t=d.join(s)}return{key:t,namespaces:En(a)?[a]:a}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],d=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(f){const T=r.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${T}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${T}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const h=this.resolve(t,r);let v=h&&h.res;const g=h&&h.usedKey||o,_=h&&h.exactUsedKey||o,y=Object.prototype.toString.apply(v),j=["[object Number]","[object Function]","[object RegExp]"],w=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,k=!En(v)&&typeof v!="boolean"&&typeof v!="number";if(C&&v&&k&&j.indexOf(y)<0&&!(En(w)&&Array.isArray(v))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,v,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=T,h.usedParams=this.getUsedParamsDetails(r),h):T}if(a){const T=Array.isArray(v),P=T?[]:{},D=T?_:g;for(const M in v)if(Object.prototype.hasOwnProperty.call(v,M)){const I=`${D}${a}${M}`;P[M]=this.translate(I,{...r,joinArrays:!1,ns:l}),P[M]===I&&(P[M]=v[M])}v=P}}else if(C&&En(w)&&Array.isArray(v))v=v.join(w),v&&(v=this.extendTranslation(v,t,r,n));else{let T=!1,P=!1;const D=r.count!==void 0&&!En(r.count),M=XS.hasDefaultValue(r),I=D?this.pluralResolver.getSuffix(d,r.count,r):"",B=r.ordinal&&D?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",V=D&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),U=V&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${I}`]||r[`defaultValue${B}`]||r.defaultValue;!this.isValidLookup(v)&&M&&(T=!0,v=U),this.isValidLookup(v)||(P=!0,v=o);const re=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:v,H=M&&U!==v&&this.options.updateMissing;if(P||T||H){if(this.logger.log(H?"updateKey":"missingKey",d,c,o,H?U:v),a){const te=this.resolve(o,{...r,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let te=0;te<Q.length;te++)X.push(Q[te]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(r.lng||this.language):X.push(r.lng||this.language);const se=(te,ce,xe)=>{const de=M&&xe!==v?xe:re;this.options.missingKeyHandler?this.options.missingKeyHandler(te,c,ce,de,H,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(te,c,ce,de,H,r),this.emit("missingKey",te,c,ce,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?X.forEach(te=>{const ce=this.pluralResolver.getSuffixes(te,r);V&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&ce.push(`${this.options.pluralSeparator}zero`),ce.forEach(xe=>{se([te],o+xe,r[`defaultValue${xe}`]||U)})}):se(X,o,U))}v=this.extendTranslation(v,t,r,h,n),P&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${c}:${o}`),(P||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,T?v:void 0):v=this.options.parseMissingKeyHandler(v))}return s?(h.res=v,h.usedParams=this.getUsedParamsDetails(r),h):v}extendTranslation(t,r,n,s,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=En(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const v=t.match(this.interpolator.nestingRegexp);f=v&&v.length}let h=n.replace&&!En(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||s.usedLng,n),d){const v=t.match(this.interpolator.nestingRegexp),g=v&&v.length;f<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var v=arguments.length,g=new Array(v),_=0;_<v;_++)g[_]=arguments[_];return a&&a[0]===g[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):o.translate(...g,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=En(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=Qce.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,a,o,l;return En(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,r),f=d.key;s=f;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const v=r.count!==void 0&&!En(r.count),g=v&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),_=r.context!==void 0&&(En(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(j=>{this.isValidLookup(n)||(l=j,!YH[`${y[0]}-${j}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(YH[`${y[0]}-${j}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{if(this.isValidLookup(n))return;o=w;const C=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(C,f,w,j,r);else{let T;v&&(T=this.pluralResolver.getSuffix(w,r.count,r));const P=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(C.push(f+T),r.ordinal&&T.indexOf(D)===0&&C.push(f+T.replace(D,this.options.pluralSeparator)),g&&C.push(f+P)),_){const M=`${f}${this.options.contextSeparator}${r.context}`;C.push(M),v&&(C.push(M+T),r.ordinal&&T.indexOf(D)===0&&C.push(M+T.replace(D,this.options.pluralSeparator)),g&&C.push(M+P))}}let k;for(;k=C.pop();)this.isValidLookup(n)||(a=k,n=this.getResource(w,j,k,r))}))})}),{res:n,usedKey:s,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,s):this.resourceStore.getResource(t,r,n,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!En(t.replace);let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const a of r)delete s[a]}return s}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const R6=e=>e.charAt(0).toUpperCase()+e.slice(1);class XH{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Pf.create("languageUtils")}getScriptPartFromCode(t){if(t=KS(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=KS(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(En(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=R6(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=R6(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=R6(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),En(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],a=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return En(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):En(t)&&a(this.formatLanguageCode(t)),n.forEach(o=>{s.indexOf(o)<0&&a(this.formatLanguageCode(o))}),s}}let Qct=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],eut={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const tut=["v1","v2","v3"],rut=["v4"],JH={zero:0,one:1,two:2,few:3,many:4,other:5},nut=()=>{const e={};return Qct.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:eut[t.fc]}})}),e};class aut{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Pf.create("pluralResolver"),(!this.options.compatibilityJSON||rut.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=nut(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=KS(t==="dev"?"en":t),s=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:s})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[a]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(s=>`${r}${s}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,a)=>JH[s]-JH[a]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(t,s,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let s=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const a=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!tut.includes(this.options.compatibilityJSON)}}const ZH=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Wct(e,t,r);return!a&&s&&En(r)&&(a=DO(e,r,n),a===void 0&&(a=DO(t,r,n))),a},M6=e=>e.replace(/\$/g,"$$$$");class sut{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Pf.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:v,nestingPrefixEscaped:g,nestingSuffix:_,nestingSuffixEscaped:y,nestingOptionsSeparator:j,maxReplaces:w,alwaysFormat:C}=t.interpolation;this.escape=r!==void 0?r:Gct,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Jv(a):o||"{{",this.suffix=l?Jv(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=v?Jv(v):g||Jv("$t("),this.nestingSuffix=_?Jv(_):y||Jv(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=w||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,s){let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const w=ZH(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,n,{...s,...r,interpolationkey:g}):w}const _=g.split(this.formatSeparator),y=_.shift().trim(),j=_.join(this.formatSeparator).trim();return this.format(ZH(r,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),j,n,{...s,...r,interpolationkey:y})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>M6(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?M6(this.escape(g)):M6(g)}].forEach(g=>{for(l=0;a=g.regex.exec(t);){const _=a[1].trim();if(o=d(_),o===void 0)if(typeof f=="function"){const j=f(t,a,s);o=En(j)?j:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${t}`),o="";else!En(o)&&!this.useRawValueToEscape&&(o=qH(o));const y=g.safeValue(o);if(t=t.replace(a[0],y),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,o;const l=(c,d)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const h=c.split(new RegExp(`${f}[ ]*{`));let v=`{${h[1]}`;c=h[0],v=this.interpolate(v,o);const g=v.match(/'/g),_=v.match(/"/g);(g&&g.length%2===0&&!_||_.length%2!==0)&&(v=v.replace(/'/g,'"'));try{o=JSON.parse(v),d&&(o={...d,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${f}${v}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!En(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const f=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=f.shift(),c=f,d=!0}if(a=r(l.call(this,s[1].trim(),o),o),a&&s[0]===t&&!En(a))return a;En(a)||(a=qH(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),a=""),d&&(a=c.reduce((f,h)=>this.format(f,h,n.lng,{...n,interpolationkey:s[1].trim()}),a.trim())),t=t.replace(s[0],a),this.regexp.lastIndex=0}return t}}const iut=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();r[f]||(r[f]=d),d==="false"&&(r[f]=!1),d==="true"&&(r[f]=!0),isNaN(d)||(r[f]=parseInt(d,10))}})}return{formatName:t,formatOptions:r}},Zv=e=>{const t={};return(r,n,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const o=n+JSON.stringify(a);let l=t[o];return l||(l=e(KS(n),s),t[o]=l),l(r)}};class out{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Pf.create("formatter"),this.options=t,this.formats={number:Zv((r,n)=>{const s=new Intl.NumberFormat(r,{...n});return a=>s.format(a)}),currency:Zv((r,n)=>{const s=new Intl.NumberFormat(r,{...n,style:"currency"});return a=>s.format(a)}),datetime:Zv((r,n)=>{const s=new Intl.DateTimeFormat(r,{...n});return a=>s.format(a)}),relativetime:Zv((r,n)=>{const s=new Intl.RelativeTimeFormat(r,{...n});return a=>s.format(a,n.range||"day")}),list:Zv((r,n)=>{const s=new Intl.ListFormat(r,{...n});return a=>s.format(a)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=Zv(r)}format(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:d,formatOptions:f}=iut(c);if(this.formats[d]){let h=l;try{const v=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=v.locale||v.lng||s.locale||s.lng||n;h=this.formats[d](l,g,{...f,...s,...v})}catch(v){this.logger.warn(v)}return h}else this.logger.warn(`there was no format function for ${d}`);return l},t)}}const lut=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class cut extends OA{constructor(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Pf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(t,r,n,s){const a={},o={},l={},c={};return t.forEach(d=>{let f=!0;r.forEach(h=>{const v=`${d}|${h}`;!n.reload&&this.store.hasResourceBundle(d,h)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?o[v]===void 0&&(o[v]=!0):(this.state[v]=1,f=!1,o[v]===void 0&&(o[v]=!0),a[v]===void 0&&(a[v]=!0),c[h]===void 0&&(c[h]=!0)))}),f||(l[d]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const s=t.split("|"),a=s[0],o=s[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{qct(c.loaded,[a],o),lut(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const f=c.loaded[d];f.length&&f.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:s,wait:a,callback:o});return}this.readingCalls++;const l=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,s+1,a*2,o)},a);return}o(d,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(t,r);d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();En(t)&&(t=this.languageUtils.toResolveHierarchy(t)),En(r)&&(r=[r]);const a=this.queueLoad(t,r,n,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),s=n[0],a=n[1];this.read(s,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${a} for language ${s} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${s}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,s,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:a},d=this.backend.create.bind(this.backend);if(d.length<6)try{let f;d.length===5?f=d(t,r,n,s,c):f=d(t,r,n,s),f&&typeof f.then=="function"?f.then(h=>l(null,h)).catch(l):l(null,f)}catch(f){l(f)}else d(t,r,n,s,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,s)}}}const QH=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),En(e[1])&&(t.defaultValue=e[1]),En(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),eG=e=>(En(e.ns)&&(e.ns=[e.ns]),En(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),En(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Qj=()=>{},uut=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class l_ extends OA{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=eG(t),this.services={},this.logger=Pf,this.modules={external:[]},uut(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(En(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=QH();this.options={...s,...this.options,...eG(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Pf.init(a(this.modules.logger),this.options):Pf.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=out);const h=new XH(this.options);this.store=new KH(this.options.resources,this.options);const v=this.services;v.logger=Pf,v.resourceStore=this.store,v.languageUtils=h,v.pluralResolver=new aut(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(v.formatter=a(f),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new sut(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new cut(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),j=1;j<_;j++)y[j-1]=arguments[j];t.emit(g,...y)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new XS(this.services,this.options),this.translator.on("*",function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),j=1;j<_;j++)y[j-1]=arguments[j];t.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Qj),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return t.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return t.store[f](...arguments),t}});const c=Bb(),d=()=>{const f=(h,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(h,v)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qj;const s=En(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const s=Bb();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Qj),this.services.backendConnector.reload(t,r,a=>{s.resolve(),n(a)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Qce.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const s=Bb();this.emit("languageChanging",t);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=En(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||a(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,f=>{o(f,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,r,n){var s=this;const a=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,f=new Array(d>2?d-2:0),h=2;h<d;h++)f[h-2]=arguments[h];c=s.options.overloadTranslationOptionHandler([o,l].concat(f))}else c={...l};c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const v=s.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(o)?g=o.map(_=>`${c.keyPrefix}${v}${_}`):g=c.keyPrefix?`${c.keyPrefix}${v}${o}`:o,s.t(g,c)};return En(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!s||o(a,t)))}loadNamespaces(t,r){const n=Bb();return this.options.ns?(En(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Bb();En(t)&&(t=[t]);const s=this.options.preload||[],a=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=s.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new XH(QH());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new l_(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qj;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},a=new l_(s);return(t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new KH(this.store.data,s),a.services.resourceStore=a.store),a.translator=new XS(a.services,s),a.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];a.emit(l,...d)}),a.init(s,r),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Fl=l_.createInstance();Fl.createInstance=l_.createInstance;Fl.createInstance;Fl.dir;Fl.init;Fl.loadResources;Fl.reloadResources;Fl.use;Fl.changeLanguage;Fl.getFixedT;Fl.t;Fl.exists;Fl.setDefaultNamespace;Fl.hasLoadedNamespace;Fl.loadNamespaces;Fl.loadLanguages;function dut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fut(e,t){if(Ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hut(e){var t=fut(e,"string");return Ia(t)=="symbol"?t:t+""}function tG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hut(n.key),n)}}function mut(e,t,r){return t&&tG(e.prototype,t),r&&tG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var eue=[],put=eue.forEach,gut=eue.slice;function vut(e){return put.call(gut.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var rG=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,xut=function(t,r,n){var s=n||{};s.path=s.path||"/";var a=encodeURIComponent(r),o="".concat(t,"=").concat(a);if(s.maxAge>0){var l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(s.domain){if(!rG.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!rG.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var c=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},nG={create:function(t,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),s&&(a.domain=s),document.cookie=xut(t,encodeURIComponent(r),a)},read:function(t){for(var r="".concat(t,"="),n=document.cookie.split(";"),s=0;s<n.length;s++){for(var a=n[s];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(r)===0)return a.substring(r.length,a.length)}return null},remove:function(t){this.create(t,"",-1)}},yut={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=nG.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&nG.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},but={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=n.substring(1),a=s.split("&"),o=0;o<a.length;o++){var l=a[o].indexOf("=");if(l>0){var c=a[o].substring(0,l);c===t.lookupQuerystring&&(r=a[o].substring(l+1))}}}return r}},zb=null,aG=function(){if(zb!==null)return zb;try{zb=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{zb=!1}return zb},wut={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&aG()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&aG()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Ub=null,sG=function(){if(Ub!==null)return Ub;try{Ub=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ub=!1}return Ub},_ut={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&sG()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&sG()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},jut={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},Nut={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},Sut={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},Cut={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},tue=!1;try{document.cookie,tue=!0}catch{}var rue=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];tue||rue.splice(1,1);function Aut(){return{order:rue,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var nue=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};dut(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return mut(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=vut(n,this.options||{},Aut()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(yut),this.addDetector(but),this.addDetector(wut),this.addDetector(_ut),this.addDetector(jut),this.addDetector(Nut),this.addDetector(Sut),this.addDetector(Cut)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var s=[];return r.forEach(function(a){if(n.detectors[a]){var o=n.detectors[a].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(a){return n.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var s=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(a){s.detectors[a]&&s.detectors[a].cacheUserLanguage(r,s.options)}))}}])}();nue.type="languageDetector";const kut={fr:{translation:{nav:{home:"Accueil",discover:"Dcouvrir",events:"vnements",partnership:"Partenariat",profile:"Profil",wallet:"Portefeuille",create_event:"Crer un vnement",logout:"Dconnexion",notifications:"Notifications"},en:{translation:{nav:{home:"Home",discover:"Discover",events:"Events",partnership:"Partnership",profile:"Profile",wallet:"Wallet",create_event:"Create Event",logout:"Logout",notifications:"Notifications"}}},Theme:"Theme",Language:"Language",auth:{fetch_error:{title:"Erreur de Connexion",description:"Impossible de rcuprer les donnes. Veuillez vrifier votre connexion internet et rafrachir la page."},login:{meta_title:"Connexion",meta_description:"Connectez-vous  votre compte BonPlanInfos.",title:"Connexion",subtitle:"Connectez-vous pour continuer.",button:"Se connecter",switch_text:"Pas encore de compte ?",switch_button:"S'inscrire ici",error_invalid_credentials:"Email ou mot de passe incorrect."},register:{meta_title:"Inscription",meta_description:"Crez un compte sur BonPlanInfos et commencez  dcouvrir les meilleurs plans.",title:"S'inscrire",subtitle:"Crez votre compte.",button:"S'inscrire",country_city_required:"Veuillez slectionner un pays et une ville.",switch_text:"Dj un compte ?",switch_button:"Connectez-vous ici",confirmation_email_title:"Vrifiez vos emails !",confirmation_email_description:"Nous vous avons envoy un email de confirmation. Veuillez consulter votre bote de rception et cliquer sur le lien pour activer votre compte.",terms_agreement:"J'accepte les <1>Conditions Gnrales d'Utilisation</1>",terms_required:"Vous devez accepter les conditions d'utilisation."},full_name:"Nom complet",country:"Pays",select_country_placeholder:"Slectionnez votre pays",city:"Ville",select_city_placeholder:"Slectionnez votre ville",choose_role:"Vous tes ?",choose_role_placeholder:"Choisissez votre rle",role_user:"Utilisateur",role_organizer:"Organisateur",email:"Email",password:"Mot de passe",referral_code_optional:"Code de parrainage (Optionnel)"},home:"Accueil",events:"vnements",contests:"Concours",discover:"Dcouvrir",login:"Connexion",logout:"Dconnexion",profile:"Profil",wallet:"Portefeuille",settings:"Paramtres",home_page:{sponsored_events:"vnements Sponsoriss",boost_event:"Booster un vnement",explore_by_type:{title:"Explorer par Type d'vnement",subtitle:"Trouvez l'exprience qui vous convient."},event_types:{standard:"Standard",ticketing:"Billetterie",raffles:"Tombolas",voting:"Votes",stands:"Stands"},no_sponsored_events:{title:"Aucun vnement Sponsoris Actuellement",description:"Soyez le premier  promouvoir un vnement et  toucher un public plus large.",button:"Booster un vnement"},view_all_events:"Voir tous les vnements",loading_error:{title:"Erreur de Chargement des Donnes",description:"Nous n'avons pas pu charger les donnes ncessaires. Veuillez vrifier votre connexion et ressayer.",retry:"Ressayer"}},events_page:{title:"Explorer les vnements",subtitle:"Dcouvrez ce qui se passe prs de chez vous et au-del.",search_placeholder:"Rechercher par nom, ville, catgorie...",filters:"Filtres",quick_filters:{trending:"Tendances",popular_by_category:"Populaires par catgorie",free_weekend:"Gratuits ce week-end",ending_soon:"Bientt termins"},event_types:"Types d'vnement",categories:"Catgories",countries:"Pays",cities:"Villes",reset:"Rinitialiser",no_events_found:{title:"Aucun vnement trouv",description:"Essayez d'ajuster vos filtres de recherche ou d'largir votre zone de recherche.",reset_button:"Rinitialiser les filtres"},unlock_modal:{title:"Dbloquer cet vnement",description:'Pour voir les dtails de "{{title}}", un cot de {{cost}} (environ {{costFcfa}} FCFA) sera dduit de votre solde.',info:"Cette action est unique. Une fois dbloqu, vous aurez un accs permanent  cet vnement.",cancel:"Annuler",confirm:"Confirmer et Dbloquer",success_title:"Accs dbloqu!",success_desc:'Vous pouvez maintenant voir les dtails de "{{title}}".'}},profile_page:{helmet_title:"Profil de {{name}}",helmet_desc:"Grez votre profil, vos vnements et vos transactions sur BonPlanInfos.",unauthorized_title:"Accs Refus",unauthorized_desc:"Vous devez tre connect pour voir votre profil.",go_to_login:"Aller  la page de connexion",connection_failed_title:"chec de la Connexion",connection_failed_desc:"Nous n'avons pas pu charger votre profil. Veuillez ressayer de vous connecter.",loading_error_title:"Erreur de Chargement des Donnes",loading_error_desc:"Nous n'avons pas pu charger toutes les donnes de votre profil. Certaines informations peuvent tre manquantes."},wallet_page:{title:"Mon Portefeuille",total_balance:"Solde Total de Pices",free_coins:"Pices Gratuites",paid_coins:"Pices Achetes",available_earnings:"Gains Disponibles (Pices)",earnings_in_fcfa:" {{amount}} FCFA",buy_coins_title:"Acheter des pices",buy_coins_desc:"Rechargez votre solde pour ne rien manquer !",buy_coins_button:"Voir les packs",balance_details_title:"Dtails du Solde de Pices",free_coins_desc:"Les pices gratuites sont utilises en priorit pour les interactions. Les pices achetes sont utilises ensuite et une partie est reverse aux organisateurs.",withdrawal_title:"Retrait des Gains",withdrawal_desc:"Convertissez vos gains en argent rel.",request_withdrawal_button:"Demander un retrait",withdrawal_minimum:"Minimum pour un retrait : {{amount}} pices."},admin_dashboard:"Tableau de bord Admin",secretary_dashboard:"Tableau de bord Secrtaire",admin_dashboard:{unauthorized_title:"Accs non autoris",unauthorized_desc:"Vous n'avez pas les permissions ncessaires pour accder  cette page.",loading_error_title:"Erreur de chargement",super_admin_title:"Tableau de bord Super Administrateur",admin_title:"Tableau de bord Admin - {{country}}",secretary_title:"Tableau de bord Secrtaire",welcome:"Bienvenue, {{name}}",tabs:{analytics:"Analyses",users:"Utilisateurs",secretaries:"Secrtaires",config:"Configuration",videos:"Vidos",partners:"Partenaires",withdrawals:"Retraits",salary_withdrawals:"Retraits Salaires",withdrawal_history:"Historique Retraits",announcements:"Annonces",events:"vnements",promotions:"Promotions",popups:"Popups",credits:"Crdits",credit_management:"Gestion Crdits",reversed_credits:"Crdits Annuls",transactions:"Transactions",activity_log:"Activits",payments:"Paiements",locations:"Lieux",badges:"Badges",credit_stats:"Stats Crdits",salary:"Mon Salaire",credits_history:"Historique Crdits"},stats:{error_title:"Erreur de statistiques",revenue_title:"Chiffres affaires (Zone)"},license:{partner_error_title:"Erreur de chargement du partenaire",status_title:"Statut de la licence",status_active:"Active",status_expired:"Expire",activated_on:"Active le",expires_on:"Expire le",expired_since:"Expire depuis {{count}} jours",days_remaining:"jours restants",renew_button:"Demander le renouvellement",confirm_renewal_title:"Confirmer la demande de renouvellement ?",confirm_renewal_desc:"Une notification sera envoye au super administrateur pour examiner votre demande de renouvellement de licence.",renewal_sent_title:"Demande envoye",renewal_sent_desc:"Votre demande de renouvellement a t envoye avec succs.",renewal_error_desc:"Erreur lors de l'envoi de la demande de renouvellement : "},banner:{pending:"Votre compte admin est en attente de vrification. Certaines fonctionnalits peuvent tre limites.",suspended:"Votre compte admin a t suspendu. Veuillez contacter le support.",expired:"Votre licence a expir. Veuillez la renouveler pour restaurer l'accs complet."},salary_dashboard:{title:"Tableau de Bord de Salaire",current_month_revenue:"Revenu de la zone (Mois en cours)",personal_score:"Score Personnel",projected_salary:"Salaire Projet (Mois en cours)",request_withdrawal:"Demander un Retrait",history_title:"Historique des Salaires",month:"Mois",revenue:"Revenu Zone",license_rate:"Taux Licence",score:"Score",salary:"Salaire Final",status:"Statut",paid:"Pay",unpaid:"Non Pay"},withdrawal_form:{title:"Demande de Retrait de Salaire",description:"Soumettez une demande pour retirer votre salaire disponible.",available_salary:"Salaire disponible pour le retrait",amount_to_withdraw:"Montant",withdrawal_method:"Mthode",select_method:"Slectionner une mthode",bank_name:"Nom de la banque",account_holder:"Titulaire du compte",account_number:"Numro de compte",mobile_money_operator:"Oprateur",phone_number:"Numro de tlphone",reason:"Raison (Optionnel)",submit:"Soumettre la demande"}},secretary_dashboard:{title:"Tableau de bord Secrtaire",welcome:"Bienvenue, {{name}}",competence_zone:"Zone de comptence : {{country}}",tabs:{user_management:"Gestion Utilisateurs",event_management:"Gestion vnements",location_management:"Gestion Lieux",credit_management:"Gestion Crdits",reversed_credits:"Crdits Annuls",withdrawal_management:"Gestion Retraits",withdrawal_history:"Historique Retraits",event_moderation:"Modration vnements & Lieux"},credit_form:{title:"Crditer un utilisateur",search_user_label:"Rechercher un utilisateur",search_user_placeholder:"Nom ou email...",user_label:"Utilisateur",select_user_placeholder:"Slectionner un utilisateur",amount_label:"Montant (pices)",amount_placeholder:"ex: 100",reason_label:"Raison (optionnel)",reason_placeholder:"ex: Rcompense",submit_button:"Crditer l'utilisateur"},event_moderation:{title:"Modration des vnements",zone_country:"Zone: {{country}}",filter_all:"Tous",filter_active:"Actifs",filter_inactive:"Inactifs",credit_participants_button:"Crditer Participants",confirm_delete_title:"tes-vous sr ?",confirm_delete_desc:"Cette action est irrversible. L'vnement et toutes ses donnes associes (tickets, votes, etc.) seront dfinitivement supprims.",event_deleted_success:"vnement supprim avec succs.",event_deleted_error:"Impossible de supprimer l'vnement.",status_updated_success:"Statut de l'vnement mis  jour.",status_updated_error:"Impossible de mettre  jour le statut.",credit_user_for_event_title:"Crditer pour l'vnement : {{eventName}}",credit_user_for_event_desc:"Slectionnez un utilisateur de votre zone pour lui attribuer des pices pour sa participation.",user_search_placeholder:"Rechercher par nom ou email...",credit_amount_label:"Montant (pices)",credit_reason_label:"Raison du crdit",credit_reason_placeholder:"Participation  l'vnement : {{eventName}}",no_users_found:"Aucun utilisateur trouv dans votre zone.",credit_success_message:"{{userName}} a t crdit de {{amount}} pices.",credit_error_generic:"Une erreur est survenue lors du crdit."}},confirm_logout:"Voulez-vous vraiment vous dconnecter ?",cancel:"Annuler",confirm:"Confirmer",back_home:"Retour  l'accueil",not_found_title:"Page non trouve",not_found_message:"Dsol, la page que vous recherchez n'existe pas.",email_label:"Adresse e-mail",password_label:"Mot de passe",full_name_label:"Nom complet",phone_label:"Numro de tlphone",username_label:"Nom d'utilisateur",country_label:"Pays",city_label:"Ville",referral_code_label:"Code de parrainage (facultatif)",login_tab:"Se connecter",register_tab:"S'inscrire",login_magic_link_tab:"Lien magique",send_magic_link:"Envoyer le lien magique",or_continue_with:"Ou continuer avec",forgot_password:"Mot de passe oubli ?",landing:{title:"Votre Portail pour les Meilleurs Plans",subtitle:"Dcouvrez, participez et organisez des vnements, concours, et plus encore. Le tout, en un seul endroit.",search_placeholder:"Recherchez un vnement, un lieu...",search_button:"Rechercher",create_event_button:"Crer un vnement",discover_events_button:"Dcouvrir les vnements",featured_title:"vnements  ne pas manquer",featured_subtitle:"Participez aux vnements les plus populaires et vivez des moments inoubliables.",categories_title:"Explorez par Catgories",categories_subtitle:"Trouvez des vnements qui correspondent  vos centres d'intrt.",how_it_works_title:"Comment a marche ?",how_it_works_step1_title:"Dcouvrez",how_it_works_step1_desc:"Explorez une multitude d'vnements, de concours et de lieux.",how_it_works_step2_title:"Participez",how_it_works_step2_desc:"Achetez des billets, votez pour vos candidats favoris, et bien plus.",how_it_works_step3_title:"Gagnez & Profitez",how_it_works_step3_desc:"Gagnez des rcompenses, remportez des concours et vivez des expriences uniques.",how_it_works_step4_title:"Organisez",how_it_works_step4_desc:"Crez et grez vos propres vnements en toute simplicit.",cta_title:"Prt  commencer l'aventure ?",cta_subtitle:"Rejoignez notre communaut ds aujourd'hui et ne manquez plus aucun bon plan.",cta_button:"Inscrivez-vous Gratuitement"},footer:{home:"Accueil",about:" propos",partnership:"Partenariat",sponsors:"Sponsors",privacy:"Politique de confidentialit",terms:"Conditions d'utilisation",contact:"Contact",tagline:"Votre guide ultime pour les meilleurs vnements et divertissements.",platform:"Plateforme",company:"Entreprise",legal:"Lgal",how_it_works:"Comment a marche ?",help:"Centre d'aide",faq:"FAQ",data_protection:"Protection des donnes",legal_mentions:"Mentions lgales"},data_protection:{meta_title:"Protection des Donnes Personnelles",meta_description:"Politique de protection des donnes personnelles de BonPlanInfos. Conforme aux rglementations africaines sur la protection des donnes.",title:"Protection des Donnes Personnelles",subtitle:"Notre engagement pour la protection de vos donnes en Afrique",africa_compliance:"Nos pratiques de protection des donnes respectent les rglementations nationales dans tous les pays d'opration en Afrique de l'Ouest (Cte d'Ivoire, Burkina Faso, Sngal, Mali, Bnin, Ghana, Nigeria), Afrique Centrale (Cameroun, Gabon), Afrique du Nord (Tunisie, Maroc) et Afrique Australe (Afrique du Sud), en suivant  la fois les lois locales et les standards de l'Union Africaine.",contact_title:"Contact Dlgu  la Protection des Donnes",commitment:{title:"Notre Engagement",content:"BonPlanInfos s'engage  protger vos donnes personnelles conformment aux lois africaines sur la protection des donnes. Nous mettons en uvre des mesures techniques et organisationnelles robustes pour assurer la scurit et la confidentialit de vos informations."},dpo:{title:"Dlgu  la Protection des Donnes",content:"Notre Dlgu  la Protection des Donnes (DPD) veille au respect des obligations lgales et rglementaires concernant la protection des donnes personnelles dans tous les pays africains o nous oprons."},data_collected:{title:"Donnes Collectes",content:"Nous collectons uniquement les donnes ncessaires au bon fonctionnement de nos services vnementiels :",list:["Informations de profil : nom, prnom, email, tlphone","Donnes de transaction : historiques d'achats de billets","Donnes d'utilisation : prfrences vnementielles, interactions avec la plateforme","Donnes techniques : adresse IP, type d'appareil, cookies essentiels","Donnes de localisation : pays et ville pour personnaliser les vnements"]},usage:{title:"Utilisation des Donnes",content:"Vos donnes sont utilises dans le strict respect des finalits suivantes :",list:["Gestion des inscriptions et participations aux vnements","Traitement scuris des paiements de billets","Envoi de confirmations et informations vnementielles","Amlioration de l'exprience utilisateur sur notre plateforme","Conformit avec les obligations lgales africaines","Personnalisation des recommandations d'vnements par pays"]},sharing:{title:"Partage des Donnes",content:"Nous ne partageons vos donnes qu'avec :",list:["Prestataires de paiement certifis (MoneyFusion, PayPal, Mobile Money, Orange Money, MTN Mobile Money, Moov Money, Wave, etc.)","Organisateurs d'vnements (uniquement les donnes ncessaires  la gestion de leur vnement)","Autorits lgales (sur demande formelle conforme aux lois locales)","Partenaires techniques sous contrat de confidentialit strict"]},security:{title:"Scurit des Donnes",content:"Nous mettons en uvre des mesures de scurit avances conformes aux standards africains :",list:["Chiffrement SSL/TLS pour toutes les transmissions de donnes","Stockage scuris avec prfrence pour les serveurs localiss en Afrique","Contrles d'accs stricts et authentification multi-facteurs","Audits rguliers de scurit conformes aux lois locales","Sauvegardes cryptes et plans de reprise d'activit"]},retention:{title:"Conservation des Donnes",content:"Vos donnes sont conserves pour des dures limites conformment aux lois de chaque pays :",list:["Donnes de compte : 3 ans aprs dernire activit","Donnes transactionnelles : 5  10 ans selon les obligations lgales locales","Donnes de navigation : 13 mois maximum","Donnes des vnements : 2 ans aprs la fin de l'vnement","Donnes marketing : 3 ans aprs dernier contact"]},hosting:{title:"Hbergement des Donnes",content:"Vos donnes sont principalement hberges sur des serveurs scuriss. Nous privilgions les solutions d'hbergement en Afrique lorsque cela est possible, tout en garantissant la mme qualit de service et de scurit. Nos infrastructures respectent les exigences de souverainet numrique des pays o nous oprons."},deletion:{title:"Droit  l'Effacement",content:"Conformment aux lois africaines sur la protection des donnes, vous avez le droit de demander la suppression de vos donnes personnelles. Contactez notre DPD  support@bonplaninfos.net pour toute demande d'effacement. Nous nous engageons  rpondre dans les dlais lgaux de chaque pays."},last_updated:"Dernire mise  jour : Novembre 2024"},marketing:{meta_title:"Montisez Vos vnements - Gnrez des Revenus  Chaque Interaction",meta_description:"Crez des vnements et gagnez de l'argent avec chaque vue, like et partage. Rejoignez les milliers d'organisateurs qui gnrent dj des revenus sur notre plateforme.",badge:"NOUVEAU",title:"Transformez Vos vnements en Sources de Revenus",subtitle:"Chaque interaction sur vos vnements gnre des revenus. Crez, partagez et gagnez de l'argent avec notre plateforme de montisation innovante.",createEventCta:"Crer Mon vnement",becomePartnerCta:"Devenir Partenaire",trust:"Fiable pour des milliers d'organisateurs  travers l'Afrique",why:{title:"Pourquoi Choisir Notre Plateforme ?",subtitle:"Dcouvrez les avantages uniques qui font de nous le choix prfr des organisateurs d'vnements",feature1:"Revenus Maximaux",feature1_desc:"Gardez 95% de vos revenus avec seulement 5% de frais de plateforme",feature2:"Montisation Instantane",feature2_desc:"Commencez  gagner ds la premire vue, like et partage sur vos vnements",feature3:"Outils de Croissance",feature3_desc:"Des outils avancs de boost et de promotion pour maximiser votre audience",feature4:"Analyses en Temps Rel",feature4_desc:"Suivez vos revenus et l'engagement de votre audience en temps rel",feature5:"Paiements Scuriss",feature5_desc:"Scurit bancaire pour toutes vos transactions et revenus",feature6:"Support 24/7",feature6_desc:"quipe de support ddie pour vous aider  russir"},simulation:{title:"Calculez Votre Revenu Potentiel",subtitle:"Simulez combien vous pouvez gagner avec vos vnements",event_type:"Type d'vnement",ticket_price:"Prix du Billet",number_of_tickets:"Nombre de Billets",potential_revenue:"Revenu Potentiel",platform_fee:"Frais Plateforme (5%)",your_net_earning:"Votre Gain Net",cta:"Commencez  Gagner Maintenant",note:"Simulation base sur les taux actuels. Les rsultats rels peuvent varier.",number_of_interactions:"Nombre d'Interactions",interaction_revenue:"Revenu des Interactions",minimum_withdrawal:"Minimum 50 interactions requis pour le retrait (500 FCFA)"},testimonials:{title:"Tmoignages de Russite",bintou_diallo_name:"Bintou Diallo",bintou_diallo_role:"Organisatrice d'vnements, Mali",dj_kerozen_quote:"En seulement 3 mois, j'ai gagn plus de 500 000 FCFA avec mes vnements. La plateforme transforme vraiment les passions en revenus !",kwesi_mensah_name:"Kwesi Mensah",kwesi_mensah_role:"Entrepreneur Culturel, Ghana",fatou_sylla_quote:"La simulation de revenus m'a aid  comprendre mon potentiel. Je gagne maintenant un revenu mensuel stable grce  mes vnements culturels.",aisha_traore_name:"Aisha Traor",aisha_traore_role:"Organisatrice de Festival Musical, Cte d'Ivoire",eric_b_quote:"95% de rtention de revenus est incroyable ! Mon dernier festival a gnr 2,5 millions de FCFA en gains nets.",amadou_ba_name:"Amadou Ba",amadou_ba_role:"Fondateur de Startup, Sngal",amadou_ba_quote:"En tant que partenaire, j'ai construit une entreprise durable reprsentant la plateforme dans ma rgion. Une opportunit qui change la vie !",chimamanda_ngozi_name:"Chimamanda Ngozi",chimamanda_ngozi_role:"Commissaire d'Exposition d'Art, Nigeria",chimamanda_ngozi_quote:"La montisation base sur l'engagement est rvolutionnaire. Mme les petits vnements gnrent des revenus significatifs.",didier_kouame_name:"Didier Kouam",didier_kouame_role:"Gestionnaire d'vnements Sportifs, Cameroun",didier_kouame_quote:"Des tournois locaux aux comptitions majeures, la plateforme s'adapte  vos ambitions. Hautement recommand !",mariam_kone_name:"Mariam Kon",mariam_kone_role:"Community Manager, Burkina Faso",mariam_kone_quote:"Les analyses m'ont aid  comprendre quel contenu fonctionne le mieux. Mes revenus ont augment de 300% en 6 mois.",femi_adebayo_name:"Femi Adebayo",femi_adebayo_role:"Promoteur de Spectacles, Nigeria",femi_adebayo_quote:"Multiples sources de revenus : ventes de billets, interactions et partenariats. Cette plateforme a tout !",abena_asante_name:"Abena Asante",abena_asante_role:"Hte d'Ateliers ducatifs, Ghana",abena_asante_quote:"Mes ateliers atteignent maintenant des audiences dans toute l'Afrique de l'Ouest. La porte de la plateforme est phnomnale.",yannick_zongo_name:"Yannick Zongo",yannick_zongo_role:"Consultant en Affaires, RDC",yannick_zongo_quote:"Le programme partenaire m'a permis de construire un empire rgional. La meilleure dcision commerciale que j'ai jamais prise."},cta:{title:"Prt  Transformer Vos vnements en Revenus ?",subtitle:"Rejoignez les milliers d'organisateurs qui russissent et commencez  montiser votre passion ds aujourd'hui",cta:"Devenir Partenaire Maintenant"}},wallet_info_modal:{title:" quoi servent les pices () ?",intro:"Les pices sont la monnaie virtuelle de BonPlanInfos. Elles vous permettent d'accder  des contenus exclusifs et d'interagir avec les vnements.",free_coins_title:"Pices Gratuites ()",free_coins_desc:"Vous les gagnez en regardant des vidos publicitaires ou lors de promotions. Elles vous permettent de raliser des actions de base.",paid_coins_title:"Pices Achetes ()",paid_coins_desc:"Achetes avec de l'argent rel, elles dbloquent toutes les fonctionnalits et soutiennent directement les organisateurs.",usage_title:"Comment les utiliser ?",usage_item1:"Accder  des vnements protgs.",usage_item2:"Liker, commenter, tlcharger du contenu exclusif.",usage_item3:"Participer  des votes, tombolas et bien plus.",cta_button:"Acheter des pices",usage_priority:"Les pices gratuites sont toujours utilises en premier pour vos actions !"},events_title:"vnements  la Une",all_events_button:"Tous les vnements",promoted_events:"vnements Sponsoriss",popular_contests:"Concours Populaires",see_all_contests:"Voir tous les concours",event_card:{days_remaining:"{{count}} jour restant",days_remaining_plural:"{{count}} jours restants",event_ended:"Termin",event_starting_today:"Commence aujourd'hui",starting_from:" partir de"},filters:{all:"Tout",promoted:"Boosts",live:"En direct",today:"Aujourd'hui",this_week:"Cette semaine",free:"Gratuits"},event_detail:{by_organizer:"Par",share:"Partager",location:"Lieu",date_time:"Date et Heure",get_directions:"Obtenir l'itinraire",about_event:" propos de l'vnement",tags:"Tags",unlock_event_to_see_content:"Dbloquez cet vnement pour voir le contenu exclusif !",unlock_button:"Dbloquer pour {{price}}",unlocking:"Dblocage...",free_access:"Accs gratuit",owner_access:"Accs propritaire",comments:"Commentaires",leave_comment:"Laissez un commentaire...",submit_comment:"Envoyer",comment_cost:"Commenter pour {{price}}",ticketing:"Billetterie",voting:"Vote",raffle:"Tombola",stands:"Stands"},social_interactions:{like:"J'aime",comment:"Commenter",share:"Partager",download:"Tlcharger",cost:"{{price}}",comment_placeholder:"Ajouter un commentaire...",post_comment:"Publier"},toasts:{copied_to_clipboard:"Copi dans le presse-papiers !",feature_not_implemented:" Cette fonctionnalit n'est pas encore implmentemais ne vous inquitez pas ! Vous pouvez la demander dans votre prochain prompt ! "},partner_signup:{meta_title:"Devenir Partenaire - BonPlanInfos",meta_description:"Devenez partenaire officiel BonPlanInfos et gnrez des revenus mensuels stables. Programme de partenariat avec licences avantageuses.",unauthorized_title:"Accs non autoris",unauthorized_desc:"Vous devez tre connect pour accder  la page partenaire.",unauthorized_cta:"Se connecter",loading_licenses:"Chargement des licences...",error_loading_licenses:"Erreur lors du chargement des licences",your_licenses_title:"Vos Licences Actives",available_licenses_title:"Licences Disponibles",available_licenses_subtitle:"Choisissez la licence qui correspond  vos ambitions et commencez  gnrer des revenus",license_card:{active:"Active",expired:"Expire",revenue_share:"Part de revenus : {{percent}}%",purchased_on:"Achete le",expires_on:"Expire le",days_remaining:"{{count}} jour(s) restant(s)"},per_month:"/mois",revenue_label:"Part des revenus",duration_label:"{{months}} mois ({{days}} jours)",purchase_cta:"Acheter maintenant",error_toast:{title:"Erreur",login_required:"Vous devez tre connect pour acheter une licence",purchase_failed:"Erreur lors de l'achat de la licence"}},license_features:{feature1:"Zone maximale",feature2:"Dashboard avanc",feature3:"Support 24/7",feature4:"Formation avance",feature5:"Accs early",feature6:"Gestion de zone",feature7:"Rapports mensuels",feature8:"Support basic",feature9:"Zone tendue",feature10:"Analyses dtailles",feature11:"Support prioritaire",feature12:"Formation",revenue_description_40:"40% de gain sur chiffre d'affaires de sa zone",revenue_description_20:"20% de gain sur chiffre d'affaires de sa zone"},create_event_page:{meta:{title:"Crer un vnement - Choisir le Type",description:"Choisissez le type d'vnement que vous souhaitez crer sur BonPlanInfos"},title:"Crer un vnement",subtitle:"Choisissez le type d'vnement que vous souhaitez crer",types:{simple:{title:"vnement Simple",desc:"vnement basique avec informations gnrales"},ticketing:{title:"Billetterie",desc:"Vendez des billets pour votre vnement"},voting:{title:"Vote & Concours",desc:"Crez un concours avec systme de vote"},raffle:{title:"Tirage au Sort",desc:"Organisez un tirage au sort avec lots"},stand:{title:"Location de Stands",desc:"Louez des stands pour un salon ou foire"}},help:{title:"Besoin d'aide ?",description:"Consultez notre guide pour apprendre  crer et grer vos vnements efficacement",button:"Voir le Guide d'Utilisation"}},user_guide_page:{meta:{title:"BonPlanInfos - Plateforme vnementielle 100% Africaine",description:"Crez, grez et montisez vos vnements avec BonPlanInfos. La plateforme ivoirienne qui vous reverse 95% de vos revenus."},hero:{title:"BonPlanInfos",subtitle:"Votre Succs vnementiel",description:"La plateforme ivoirienne qui vous reverse <strong>95% de vos revenus</strong>",coin_info:"1 pice = 10F  1 interaction = 1 pice",create_event:"Crer un vnement",become_partner:"Devenir Partenaire",features:{revenue:"95% des revenus reverss",coin:"1 pice = 10F CFA",support:"Support 24/7"}},features:{title:"Nos Solutions vnementielles",subtitle:"Des outils puissants pour maximiser vos revenus et votre visibilit",ticketing:{title:"Billetterie Intelligente",description:"Vendez des billets pour vos concerts et vnements. Fixez vos prix et recevez 95% des revenus directement",stats:"95% de revenus reverss"},voting:{title:"Concours & Votes",description:"Organisez des concours interactifs avec systme de vote. Montisez chaque participation",stats:"95% sur chaque participation"},raffle:{title:"Tirage au Sort",description:"Crez des tirages au sort avec lots attractifs. Participation payante ou gratuite selon votre choix",stats:"Gestion automatique avec 95% sur chaque participation"},stand_rental:{title:"Location de Stands",description:"Louez des stands pour salons et foires. Grez les rservations et paiements en ligne",stats:"95% du prix de location vous tes reverss"},protected_events:{title:"vnements Protgs",description:"Contenu exclusif montis. Gagnez 1 pice par interaction (vue, like, commentaire, partage)",stats:"+1 pice par interaction"},boost:{title:"Boost Instantan",description:"Augmentez la visibilit de vos vnements. Atteignez plus de participants en temps rel en boostant vos vnements sur bonplaninfos.",stats:"Porte multiplie"}},simulation:{title:"Simulation vnement Protg",subtitle:"Dcouvrez comment montiser chaque interaction sur vos vnements",main_title:" 1 Interaction = 1 Pice = 10F CFA",description:"Chaque vue, like, commentaire ou partage vous rapporte de l'argent",views:"Vues",likes:"Likes",comments:"Commentaires",shares:"Partages",total:"Total: {{amount}} F CFA",revenue_description:"Revenus gnrs par un vnement avec {{count}} interactions"},stats:{revenue:"Revenus reverss aux organisateurs",coin_cost:"Cot d'1 pice",coin_earned:"Pice gagne par interaction",no_fees:"Frais d'inscription"},partner_program:{title:"Programme Partenaire",subtitle:"Reprsentez BonPlanInfos dans votre rgion et gnrez des revenus mensuels",advantages:"Avantages Partenaire",benefits:{revenue:"Revenus mensuels garantis",training:"Formation complte offerte",support:"Support prioritaire 24/7",network:"Rseau de partenaires exclusif"},become_partner:"Devenez Partenaire",partner_description:"Reprsentez BonPlanInfos dans votre ville",apply_now:"Postuler Maintenant"},testimonials:{title:"Ils nous font confiance",subtitle:"Dcouvrez les retours d'exprience de nos utilisateurs satisfaits",play:"Lecture",pause:"Pause",previous:"Prcdent",next:"Suivant",counter:"{{current}} / {{total}}",testimonial1:{name:"Marie K.",role:"Organisatrice de concerts",content:"Avec BonPlanInfos, mes vnements protgs gnrent un revenu passif impressionnant. 1000 vues = 10,000F !"},testimonial2:{name:"Jean A.",role:"Manager d'artistes",content:"La billetterie est rvolutionnaire. 95% des revenus me reviennent directement, sans intermdiaire."},testimonial3:{name:"Sophie T.",role:"Partenaire officielle",content:"Devenir partenaire m'a permis de gnrer un revenu mensuel stable tout en dveloppant mon rseau."},testimonial4:{name:"Paul D.",role:"Promoteur vnementiel",content:"Le systme de concours a boost l'engagement de ma communaut. Les revenus ont augment de 300% !"},testimonial5:{name:"Fatou M.",role:"Artiste musicienne",content:"En tant qu'artiste, BonPlanInfos m'a donn une autonomie financire grce aux vnements protgs."},testimonial6:{name:"Kevin L.",role:"Organisateur de festivals",content:"La location de stands via la plateforme a simplifi toute la logistique de mon festival."},testimonial7:{name:"Acha B.",role:"Influenceuse lifestyle",content:"Mes tirages au sort gnrent un engagement incroyable. Ma communaut adore participer !"},testimonial8:{name:"Marc T.",role:"Entrepreneur vnementiel",content:"Le programme partenaire m'a ouvert des opportunits que je n'aurais jamais imagines."},testimonial9:{name:"Julie N.",role:"Photographe vnements",content:"Je montise maintenant mes reportages photos grce aux vnements protgs. Gnial !"},testimonial10:{name:"David K.",role:"DJ & Producteur",content:"Mes lives protgs me rapportent plus que mes anciennes plateformes. Je recommande  100% !"},testimonial11:{name:"Sarah J.",role:"Organisatrice mariages",content:"BonPlanInfos a rvolutionn ma faon de travailler. Les clients adorent le systme de billetterie."},testimonial12:{name:"Mohamed C.",role:"Community Manager",content:"Je gre plusieurs artistes sur la plateforme. L'interface est intuitive et les revenus transparents."},testimonial13:{name:"Laura P.",role:"Cratrice de contenu",content:"Mes ateliers en ligne sont maintenant protgs et gnrent des revenus stables chaque mois."},testimonial14:{name:"Pierre G.",role:"Organisateur sportif",content:"Pour nos tournois, le systme de votes et concours a multipli par 5 notre audience."},testimonial15:{name:"Nadia S.",role:"Agence vnementielle",content:"Nous utilisons BonPlanInfos pour tous nos clients. La satisfaction est toujours au rendez-vous !"}},cta:{title:"Prt  rvolutionner vos vnements ?",description:"Rejoignez la communaut BonPlanInfos et commencez  gnrer des revenus ds aujourd'hui",create_event:"Crer mon premier vnement",become_partner:"Devenir Partenaire"},footer:{description:"La plateforme vnementielle ivoirienne qui vous reverse 95% de vos revenus.",navigation:"Navigation",home:"Accueil",events:"vnements",create_event:"Crer un vnement",become_partner:"Devenir partenaire",contact:"Contact",information:"Informations",copyright:" 2024 BonPlanInfos. Tous droits rservs."}},admin:{tabs:{analytics:"Analyses",users:"Utilisateurs",partners:"Partenaires",events:"vnements",locations:"Lieux",promotions:"Promotions",credits:"Crdits",config:"Configuration",withdrawals:"Retraits",videos:"Vidos",announcements:"Annonces",welcome_popup:"Popup Accueil"}},discover_places:"Dcouvrir des lieux",discover_more_places:"Dcouvrir plus de lieux",discover_page:{title:"Dcouvrir des Lieux",subtitle:"Trouvez de nouveaux lieux recommands par la communaut.",search_placeholder:"Rechercher un lieu, une catgorie, une ville...",filter_by_type:"Filtrer par type",no_locations_found:"Aucun lieu trouv.",no_locations_description:"Essayez d'largir votre recherche ou de slectionner moins de filtres.",add_new_location:"Ajouter un nouveau lieu",add_place:"Ajouter un Lieu"},add_location:{title:"Ajouter un nouveau lieu",subtitle:"Partagez un super endroit avec la communaut.",location_name:"Nom du lieu",location_description:"Description",location_type:"Type de lieu",address:"Adresse",city:"Ville",country:"Pays",website:"Site web (facultatif)",phone:"Tlphone (facultatif)",submit:"Soumettre le lieu",success_title:"Lieu soumis !",success_message:"Merci ! Votre lieu a t soumis et sera examin par notre quipe."},verify_ticket:{title:"Vrification de Billet",scan_instruction:"Scannez le code QR du billet ou entrez le code du scanner.",scanner_code_label:"Code du Scanner",start_session:"Dmarrer la session",stop_session:"Arrter la session",scan_ticket:"Scanner un Billet",camera_permission_denied:"Permission de la camra refuse.",camera_error:"Erreur de camra :",scan_result:"Rsultat du scan",scan_again:"Scanner  nouveau",valid_ticket:"Billet Valide",invalid_ticket:"Billet Invalide",ticket_number:"Numro de billet:",ticket_type:"Type de billet:",attendee_name:"Nom du participant:",event_title:"Titre de l'vnement:",scan_time:"Heure de scan:",error:"Erreur",session_active:"Session de vrification active",session_stopped:"Session de vrification arrte",verifying_ticket:"Vrification du billet...",enter_scanner_code:"Veuillez entrer un code de scanner valide."},create_event:{title:"Crer un vnement",subtitle:"Choisissez le type d'vnement que vous souhaitez organiser.",simple:"Simple",simple_desc:"Publiez rapidement un vnement informatif (gratuit ou payant  l'entre).",ticketing:"Billetterie",ticketing_desc:"Vendez des billets avec diffrents tarifs et options.",voting:"Concours de Vote",voting_desc:"Organisez un concours o les participants votent pour des candidats.",raffle:"Tombola",raffle_desc:"Crez une tombola avec des tickets et des prix  gagner.",stands:"Location de Stands",stands_desc:"Grez la location de stands pour un salon ou un march."},create_ticketing_event:{title:"Crer un vnement avec Billetterie",event_details:"Dtails de l'vnement",event_title:"Titre de l'vnement",event_description:"Description",event_cover_image:"Image de couverture",upload_image:"Tlcharger une image",event_date:"Date de l'vnement",category:"Catgorie",select_category:"Slectionner une catgorie",location:"Lieu",address:"Adresse",city:"Ville",country:"Pays",ticket_types:"Types de Billets",add_ticket_type:"Ajouter un type de billet",ticket_name:"Nom du billet (ex: Standard, VIP)",ticket_price_fcfa:"Prix (FCFA)",ticket_quantity:"Quantit disponible",ticket_benefits:"Avantages (spars par des virgules)",remove:"Supprimer",verification_options:"Options de Vrification",enable_verification:"Activer la vrification des billets par QR code",submit:"Crer l'vnement",event_created_success:"vnement cr avec succs !",editing_event:"Modification de l'vnement"},ticketing_interface:{select_ticket_type:"Slectionnez vos billets",total_cost:"Cot Total :",buy_tickets:"Acheter des Billets",sold_out:"puis",sales_ended:"Ventes termines",available:"disponibles",benefits:"Avantages :"},select_country:"Slectionner un pays",select_city:"Slectionner une ville",choose_file:"Choisir un fichier",no_file_chosen:"Aucun fichier choisi",common:{error_title:"Erreur",confirm:"Confirmer",cancel:"Annuler",delete:"Supprimer",close:"Fermer",save:"Sauvegarder",edit:"Modifier",loading:"Chargement...",success_title:"Succs",search:"Rechercher...",activate:"Activer",deactivate:"Dsactiver",credit:"Crditer",retry:"Ressayer"},privacy:{meta_title:"Politique de Confidentialit",meta_description:"Consultez notre politique de confidentialit pour comprendre comment nous collectons, utilisons et protgeons vos donnes personnelles.",title:"Politique de Confidentialit",last_updated:"Dernire mise  jour : 02 Novembre 2025",introduction:{title:"1. Introduction",p1:"Cette politique de confidentialit explique comment BonPlanInfos collecte, utilise et protge vos informations personnelles lorsque vous utilisez notre plateforme."},data_collected:{title:"2. Donnes que nous collectons",p1:"Nous collectons diverses informations pour fournir et amliorer nos services :",item1:"<b>Informations de compte :</b> Nom, adresse e-mail, pays, ville, type de compte.",item2:"<b>Donnes d'utilisation :</b> Pages visites, interactions avec les vnements, recherches effectues.",item3:"<b>Contenu gnr par l'utilisateur :</b> vnements crs, commentaires, photos.",item4:"<b>Donnes de transaction :</b> Historique des achats de pices et des retraits de gains."},data_usage:{title:"3. Comment nous utilisons vos donnes",p1:"Vos donnes sont utilises pour :",item1:"Fournir, maintenir et amliorer la plateforme.",item2:"Personnaliser votre exprience en vous recommandant des vnements pertinents.",item3:"Traiter les transactions et les paiements.",item4:"Communiquer avec vous concernant votre compte ou nos services."},cookies:{title:"4. Cookies",p1:"Nous utilisons des cookies pour assurer le bon fonctionnement du site, analyser notre trafic et personnaliser le contenu. Vous pouvez grer vos prfrences de cookies  tout moment."},data_sharing:{title:"5. Partage des donnes",p1:"Nous ne partageons pas vos informations personnelles avec des tiers, sauf si cela est ncessaire pour fournir le service (par exemple, avec les processeurs de paiement) ou si la loi l'exige."},security:{title:"6. Scurit",p1:"Nous mettons en uvre des mesures de scurit techniques et organisationnelles pour protger vos donnes contre l'accs non autoris, la perte ou la destruction."},your_rights:{title:"7. Vos droits",p1:"Conformment  la rglementation, vous disposez des droits suivants :",item1:"<b>Droit d'accs :</b> Vous pouvez demander une copie des donnes que nous dtenons sur vous.",item2:"<b>Droit de rectification :</b> Vous pouvez corriger toute information inexacte.",item3:"<b>Droit  l'effacement :</b> Vous pouvez demander la suppression de votre compte et de vos donnes.",p2:"Pour exercer ces droits, veuillez nous contacter  l'adresse ci-dessous."},contact:{title:"8. Contact",p1:"Pour toute question relative  cette politique de confidentialit, veuillez nous contacter  :",email:"privacy@bonplaninfos.net"}},legal_mentions:{meta_title:"Mentions Lgales",meta_description:"Consultez les mentions lgales de BonPlanInfos pour obtenir des informations sur l'diteur du site, l'hbergement et nos obligations lgales.",title:"Mentions Lgales",subtitle:"Informations lgales concernant la plateforme BonPlanInfos.",lastUpdate:"Dernire mise  jour : 02 Novembre 2025",sections:{editor:{title:"diteur du Site",content:"Le site BonPlanInfos est dit par :",company:"BON PLAN INFOS (BPI)",capital:"Socit par actions simplifie (SAS) au capital de 1.000.000 FCFA",address:"Sige social : Abidjan, Cte d'Ivoire",phone:"Tlphone : (+225) 07 12 27 53 74",email:"contact@bonplaninfos.net"},director:{title:"Directeur de la Publication",content:"Le directeur de la publication est Monsieur S.Rayane KIBORA, en sa qualit de Prsident de BON PLAN INFOS (BPI)."},hosting:{title:"Hbergement",content:"La plateforme est hberge par :",company:"Hostinger International Ltd.",address:"61 Lordou Vironos Street, 6023 Larnaca, Chypre",website:"www.hostinger.fr"},data:{title:"Protection des Donnes Personnelles",content1:"Conformment  la lgislation en vigueur sur la protection des donnes, vous disposez d'un droit d'accs, de rectification, de suppression et d'opposition de vos donnes personnelles. Pour exercer ce droit, veuillez contacter notre Dlgu  la Protection des Donnes (DPO)  l'adresse : ",content2:"Pour plus d'informations, veuillez consulter notre <1>Politique de Confidentialit</1>."},cookies:{title:"Cookies",content1:"Le site utilise des cookies pour amliorer l'exprience utilisateur. Ces cookies sont utiliss pour :",item1:"Assurer le bon fonctionnement du site (cookies de session).",item2:"Analyser l'audience et la performance (cookies analytiques).",item3:"Proposer des publicits personnalises (cookies marketing).",content2:"Vous pouvez configurer vos prfrences en matire de cookies via notre bannire de consentement."},ip:{title:"Proprit Intellectuelle",content:"L'ensemble des contenus de ce site (textes, images, vidos, logos, code source) est la proprit exclusive de BON PLAN INFOS (BPI) ou de ses partenaires. Toute reproduction, mme partielle, est strictement interdite sans autorisation pralable."},liability:{title:"Limitation de Responsabilit",content:"BonPlanInfos s'efforce de fournir des informations exactes et  jour, mais ne peut garantir l'exactitude de toutes les informations. L'utilisation des informations et contenus disponibles sur l'ensemble du site, ne sauraient en aucun cas engager la responsabilit de l'diteur,  quelque titre que ce soit."},links:{title:"Liens Hypertextes",content:"La plateforme peut contenir des liens hypertextes vers d'autres sites. BonPlanInfos n'est pas responsable du contenu de ces sites tiers et ne saurait tre tenu responsable des dommages rsultant de leur consultation."},applicableLaw:{title:"Droit Applicable",content:"Les prsentes mentions lgales sont soumises au droit ivoirien. En cas de litige, les tribunaux d'Abidjan seront seuls comptents."}}}}},en:{translation:{nav:{home:"Home",discover:"Discover",events:"Events",partnership:"Partnership",profile:"Profile",wallet:"Wallet",create_event:"Create Event",logout:"Logout",notifications:"Notifications"},auth:{fetch_error:{title:"Connection Error",description:"Could not fetch data. Please check your internet connection and refresh the page."},login:{meta_title:"Login",meta_description:"Log in to your BonPlanInfos account.",title:"Login",subtitle:"Log in to continue.",button:"Login",switch_text:"Don't have an account yet?",switch_button:"Sign Up",error_invalid_credentials:"Incorrect email or password."},register:{meta_title:"Register",meta_description:"Create an account on BonPlanInfos and start discovering the best plans.",title:"Register",subtitle:"Create your account.",button:"Register",country_city_required:"Please select a country and a city.",switch_text:"Already have an account?",switch_button:"Login",confirmation_email_title:"Check your email!",confirmation_email_description:"We have sent you a confirmation email. Please check your inbox and click on the link to activate your account.",terms_agreement:"I agree to the <1>Terms of Service</1>",terms_required:"You must accept the terms of service."},full_name:"Full Name",country:"Country",select_country_placeholder:"Select your country",city:"City",select_city_placeholder:"Select your city",choose_role:"You are?",choose_role_placeholder:"Choose your role",role_user:"User",role_organizer:"Organizer",email:"Email",password:"Password",referral_code_optional:"Referral Code (Optional)"},home:"Home",events:"Events",contests:"Contests",discover:"Discover",login:"Login",logout:"Logout",profile:"Profile",wallet:"Wallet",settings:"Settings",home_page:{sponsored_events:"Sponsored Events",boost_event:"Boost an Event",explore_by_type:{title:"Explore by Event Type",subtitle:"Find the experience that's right for you."},event_types:{standard:"Standard",ticketing:"Ticketing",raffles:"Raffles",voting:"Voting",stands:"Stands"},no_sponsored_events:{title:"No Sponsored Events Currently",description:"Be the first to promote an event and reach a wider audience.",button:"Boost an Event"},view_all_events:"View All Events",loading_error:{title:"Error Loading Data",description:"We couldn't load the necessary data. Please check your connection and try again.",retry:"Retry"}},events_page:{title:"Explore Events",subtitle:"Discover what's happening near you and beyond.",search_placeholder:"Search by name, city, category...",filters:"Filters",quick_filters:{trending:"Trending",popular_by_category:"Popular by Category",free_weekend:"Free This Weekend",ending_soon:"Ending Soon"},event_types:"Event Types",categories:"Categories",countries:"Countries",cities:"Cities",reset:"Reset",no_events_found:{title:"No Events Found",description:"Try adjusting your search filters or expanding your search area.",reset_button:"Reset Filters"},unlock_modal:{title:"Unlock This Event",description:'To see the details for "{{title}}", a cost of {{cost}} (about {{costFcfa}} FCFA) will be deducted from your balance.',info:"This is a one-time action. Once unlocked, you will have permanent access to this event.",cancel:"Cancel",confirm:"Confirm and Unlock",success_title:"Access Unlocked!",success_desc:'You can now see the details for "{{title}}".'}},profile_page:{helmet_title:"{{name}}'s Profile",helmet_desc:"Manage your profile, events, and transactions on BonPlanInfos.",unauthorized_title:"Access Denied",unauthorized_desc:"You must be logged in to view your profile.",go_to_login:"Go to Login Page",connection_failed_title:"Connection Failed",connection_failed_desc:"We were unable to load your profile. Please try logging in again.",loading_error_title:"Error Loading Data",loading_error_desc:"We couldn't load all your profile data. Some information may be missing."},data_protection:{meta_title:"Personal Data Protection",meta_description:"BonPlanInfos personal data protection policy. Compliant with African data protection regulations.",title:"Personal Data Protection",subtitle:"Our commitment to protecting your data in Africa",africa_compliance:"Our data protection practices comply with national regulations in all operating countries across West Africa (Cte d'Ivoire, Burkina Faso, Senegal, Mali, Benin, Ghana, Nigeria), Central Africa (Cameroon, Gabon), North Africa (Tunisia, Morocco), and Southern Africa (South Africa), following both local laws and African Union standards.",contact_title:"Contact Data Protection Officer",commitment:{title:"Our Commitment",content:"BonPlanInfos is committed to protecting your personal data in accordance with African data protection laws. We implement robust technical and organizational measures to ensure the security and confidentiality of your information."},dpo:{title:"Data Protection Officer",content:"Our Data Protection Officer (DPO) ensures compliance with legal and regulatory obligations regarding personal data protection in all African countries where we operate."},data_collected:{title:"Collected Data",content:"We only collect data necessary for the proper functioning of our event services:",list:["Profile information: name, surname, email, phone number","Transaction data: ticket purchase history","Usage data: event preferences, platform interactions","Technical data: IP address, device type, essential cookies","Location data: country and city to personalize events"]},usage:{title:"Data Usage",content:"Your data is used strictly for the following purposes:",list:["Management of event registrations and participations","Secure processing of ticket payments","Sending event confirmations and information","Improving user experience on our platform","Compliance with African legal obligations","Personalization of event recommendations by country"]},sharing:{title:"Data Sharing",content:"We only share your data with:",list:["Certified payment providers (MoneyFusion, PayPal, Mobile Money, Orange Money, MTN Mobile Money, Moov Money, Wave, etc.)","Event organizers (only data necessary for their event management)","Legal authorities (upon formal request compliant with local laws)","Technical partners under strict confidentiality agreements"]},security:{title:"Data Security",content:"We implement advanced security measures compliant with African standards:",list:["SSL/TLS encryption for all data transmissions","Secure storage with preference for servers located in Africa","Strict access controls and multi-factor authentication","Regular security audits compliant with local laws","Encrypted backups and business continuity plans"]},retention:{title:"Data Retention",content:"Your data is retained for limited periods according to each country's laws:",list:["Account data: 3 years after last activity","Transaction data: 5 to 10 years depending on local legal obligations","Browsing data: maximum 13 months","Event data: 2 years after event end","Marketing data: 3 years after last contact"]},hosting:{title:"Data Hosting",content:"Your data is primarily hosted on secure servers. We prioritize hosting solutions in Africa when possible, while guaranteeing the same quality of service and security. Our infrastructures respect the digital sovereignty requirements of the countries where we operate."},deletion:{title:"Right to Erasure",content:"In accordance with African data protection laws, you have the right to request the deletion of your personal data. Contact our DPO at support@bonplaninfos.net for any erasure request. We commit to responding within the legal deadlines of each country."},last_updated:"Last updated: December 2024"},wallet_page:{title:"My Wallet",total_balance:"Total Coin Balance",free_coins:"Free Coins",paid_coins:"Paid Coins",available_earnings:"Available Earnings (Coins)",earnings_in_fcfa:" {{amount}} FCFA",buy_coins_title:"Buy Coins",buy_coins_desc:"Top up your balance and never miss out!",buy_coins_button:"View Packs",balance_details_title:"Coin Balance Details",free_coins_desc:"Free coins are used first for interactions. Paid coins are used next, and a portion goes to organizers.",withdrawal_title:"Withdraw Earnings",withdrawal_desc:"Convert your earnings into real money.",request_withdrawal_button:"Request Withdrawal",withdrawal_minimum:"Minimum for withdrawal: {{amount}} coins."},create_event_page:{meta:{title:"Create Event - Choose Type",description:"Choose the type of event you want to create on BonPlanInfos"},title:"Create Event",subtitle:"Choose the type of event you want to create",types:{simple:{title:"Simple Event",desc:"Basic event with general information"},ticketing:{title:"Ticketing",desc:"Sell tickets for your event"},voting:{title:"Voting & Contest",desc:"Create a contest with voting system"},raffle:{title:"Raffle",desc:"Organize a raffle with prizes"},stand:{title:"Stand Rental",desc:"Rent stands for a fair or exhibition"}},help:{title:"Need help?",description:"Check our guide to learn how to create and manage your events effectively",button:"View User Guide"}},testimonials:{title:"They Trust Us",subtitle:"Discover feedback from our satisfied users",play:"Play",pause:"Pause",previous:"Previous",next:"Next",counter:"{{current}} / {{total}}",testimonial1:{name:"Marie K.",role:"Concert Organizer",content:"With BonPlanInfos, my protected events generate impressive passive income. 1000 views = 10,000F!"},testimonial2:{name:"Jean A.",role:"Artist Manager",content:"The ticketing system is revolutionary. 95% of revenue comes directly to me, without intermediaries."},testimonial3:{name:"Sophie T.",role:"Official Partner",content:"Becoming a partner allowed me to generate stable monthly income while developing my network."},testimonial4:{name:"Paul D.",role:"Event Promoter",content:"The contest system boosted my community engagement. Revenues increased by 300%!"},testimonial5:{name:"Fatou M.",role:"Musician Artist",content:"As an artist, BonPlanInfos gave me financial autonomy through protected events."},testimonial6:{name:"Kevin L.",role:"Festival Organizer",content:"Stand rental through the platform simplified all my festival logistics."},testimonial7:{name:"Acha B.",role:"Lifestyle Influencer",content:"My raffles generate incredible engagement. My community loves to participate!"},testimonial8:{name:"Marc T.",role:"Event Entrepreneur",content:"The partner program opened opportunities I never would have imagined."},testimonial9:{name:"Julie N.",role:"Event Photographer",content:"I now monetize my photo reports through protected events. Amazing!"},testimonial10:{name:"David K.",role:"DJ & Producer",content:"My protected live streams earn me more than my previous platforms. I recommend 100%!"},testimonial11:{name:"Sarah J.",role:"Wedding Planner",content:"BonPlanInfos revolutionized my way of working. Clients love the ticketing system."},testimonial12:{name:"Mohamed C.",role:"Community Manager",content:"I manage several artists on the platform. The interface is intuitive and revenues transparent."},testimonial13:{name:"Laura P.",role:"Content Creator",content:"My online workshops are now protected and generate stable income every month."},testimonial14:{name:"Pierre G.",role:"Sports Organizer",content:"For our tournaments, the voting and contest system multiplied our audience by 5."},testimonial15:{name:"Nadia S.",role:"Event Agency",content:"We use BonPlanInfos for all our clients. Satisfaction is always guaranteed!"}},user_guide_page:{meta:{title:"BonPlanInfos - 100% African Event Platform",description:"Create, manage and monetize your events with BonPlanInfos. The Ivorian platform that gives you back 95% of your revenue."},hero:{title:"BonPlanInfos",subtitle:"Your Event Success",description:"The Ivorian platform that gives you back <strong>95% of your revenue</strong>",coin_info:"1 coin = 10F  1 interaction = 1 coin",create_event:"Create an Event",become_partner:"Become a Partner",features:{revenue:"95% revenue shared",coin:"1 coin = 10F CFA",support:"24/7 Support"}},features:{title:"Our Event Solutions",subtitle:"Powerful tools to maximize your revenue and visibility",ticketing:{title:"Smart Ticketing",description:"Sell tickets for your concerts and events. Set your prices and receive 95% of revenue directly",stats:"95% revenue shared"},voting:{title:"Contests & Voting",description:"Organize interactive contests with voting system. Monetize every participation",stats:"95% on each participation"},raffle:{title:"Raffle & Draws",description:"Create raffles with attractive prizes. Paid or free participation according to your choice",stats:"Automatic management with 95% on each participation"},stand_rental:{title:"Stand Rental",description:"Rent stands for trade shows and fairs. Manage reservations and payments online",stats:"95% of rental price goes to you"},protected_events:{title:"Protected Events",description:"Monetized exclusive content. Earn 1 coin per interaction (view, like, comment, share)",stats:"+1 coin per interaction"},boost:{title:"Instant Boost",description:"Increase your events visibility. Reach more participants in real time by boosting your events on bonplaninfos.",stats:"Reach multiplied"}},simulation:{title:"Protected Event Simulation",subtitle:"Discover how to monetize every interaction on your events",main_title:" 1 Interaction = 1 Coin = 10F CFA",description:"Every view, like, comment or share earns you money",views:"Views",likes:"Likes",comments:"Comments",shares:"Shares",total:"Total: {{amount}} F CFA",revenue_description:"Revenue generated by an event with {{count}} interactions"},stats:{revenue:"Revenue shared to organizers",coin_cost:"Cost of 1 coin",coin_earned:"Coin earned per interaction",no_fees:"Registration fees"},partner_program:{title:"Partner Program",subtitle:"Represent BonPlanInfos in your region and generate monthly income",advantages:"Partner Advantages",benefits:{revenue:"Guaranteed monthly income",training:"Complete training offered",support:"Priority 24/7 support",network:"Exclusive partner network"},become_partner:"Become a Partner",partner_description:"Represent BonPlanInfos in your city",apply_now:"Apply Now"},testimonials:{title:"They Trust Us",subtitle:"Discover feedback from our satisfied users",play:"Play",pause:"Pause",previous:"Previous",next:"Next",counter:"{{current}} / {{total}}"},cta:{title:"Ready to revolutionize your events?",description:"Join the BonPlanInfos community and start generating revenue today",create_event:"Create my first event",become_partner:"Become a Partner"},footer:{description:"The Ivorian event platform that gives you back 95% of your revenue.",navigation:"Navigation",home:"Home",events:"Events",create_event:"Create an event",become_partner:"Become a partner",contact:"Contact",information:"Information",copyright:" 2024 BonPlanInfos. All rights reserved."}},partner_signup:{meta_title:"Become a Partner - BonPlanInfos",meta_description:"Become an official BonPlanInfos partner and generate stable monthly income. Partnership program with advantageous licenses.",unauthorized_title:"Unauthorized Access",unauthorized_desc:"You must be logged in to access the partner page.",unauthorized_cta:"Login",loading_licenses:"Loading licenses...",error_loading_licenses:"Error loading licenses",your_licenses_title:"Your Active Licenses",available_licenses_title:"Available Licenses",available_licenses_subtitle:"Choose the license that matches your ambitions and start generating income",license_features:{premium:{feature1:"Maximum zone",feature2:"Advanced dashboard",feature3:"24/7 support",feature4:"Advanced training",feature5:"Early access"},standard:{feature1:"Extended zone",feature2:"Detailed analytics",feature3:"Priority support",feature4:"Training"},basic:{feature1:"Zone management",feature2:"Monthly reports",feature3:"Basic support"},revenue_description_40:"40% revenue share from your zone's turnover",revenue_description_30:"30% revenue share from your zone's turnover",revenue_description_20:"20% revenue share from your zone's turnover"},license_card:{active:"Active",expired:"Expired",revenue_share:"Revenue share: {{percent}}%",purchased_on:"Purchased on",expires_on:"Expires on",days_remaining:"{{count}} day(s) remaining"},per_month:"/month",revenue_label:"Revenue share",duration_label:"{{months}} months ({{days}} days)",purchase_cta:"Buy Now",error_toast:{title:"Error",login_required:"You must be logged in to purchase a license",purchase_failed:"Error purchasing license"}},admin_dashboard:"Admin Dashboard",secretary_dashboard:"Secretary Dashboard",admin_dashboard:{unauthorized_title:"Unauthorized Access",unauthorized_desc:"You do not have the required permissions to access this page.",loading_error_title:"Loading Error",super_admin_title:"Super Admin Dashboard",admin_title:"Admin Dashboard - {{country}}",secretary_title:"Secretary Dashboard",welcome:"Welcome, {{name}}",tabs:{analytics:"Analytics",users:"Users",secretaries:"Secretaries",config:"Configuration",videos:"Videos",partners:"Partners",withdrawals:"Withdrawals",salary_withdrawals:"Salary Withdrawals",withdrawal_history:"Withdrawal History",announcements:"Announcements",events:"Events",promotions:"Promotions",popups:"Popups",credits:"Credits",credit_management:"Credit Management",reversed_credits:"Reversed Credits",transactions:"Transactions",activity_log:"Activity Log",payments:"Payments",locations:"Locations",badges:"Badges",credit_stats:"Credit Stats",salary:"My Salary",credits_history:"Credits History"},stats:{error_title:"Statistics Error",revenue_title:"Chiffres affaires zone)"},license:{partner_error_title:"Error loading partner",status_title:"License Status",status_active:"Active",status_expired:"Expired",activated_on:"Activated on",expires_on:"Expires on",expired_since:"Expired for {{count}} days",days_remaining:"days remaining",renew_button:"Request Renewal",confirm_renewal_title:"Confirm Renewal Request?",confirm_renewal_desc:"A notification will be sent to the super administrator to review your license renewal request.",renewal_sent_title:"Request Sent",renewal_sent_desc:"Your renewal request has been sent successfully.",renewal_error_desc:"Error sending renewal request: "},banner:{pending:"Your admin account is pending verification. Some features may be limited.",suspended:"Your admin account has been suspended. Please contact support.",expired:"Your license has expired. Please renew it to restore full access."},salary_dashboard:{title:"Salary Dashboard",current_month_revenue:"Zone Revenue (Current Month)",personal_score:"Personal Score",projected_salary:"Projected Salary (Current Month)",request_withdrawal:"Request Withdrawal",history_title:"Salary History",month:"Month",revenue:"Zone Revenue",license_rate:"License Rate",score:"Score",salary:"Final Salary",status:"Status",paid:"Paid",unpaid:"Unpaid"},withdrawal_form:{title:"Salary Withdrawal Request",description:"Submit a request to withdraw your available salary.",available_salary:"Salary available for withdrawal",amount_to_withdraw:"Amount",withdrawal_method:"Method",select_method:"Select a method",bank_name:"Bank Name",account_holder:"Account Holder",account_number:"Account Number",mobile_money_operator:"Operator",phone_number:"Phone Number",reason:"Reason (Optional)",submit:"Submit Request"}},secretary_dashboard:{title:"Secretary Dashboard",welcome:"Welcome, {{name}}",competence_zone:"Area of competence: {{city}}, {{country}}",tabs:{user_management:"User Management",event_management:"Event Management",location_management:"Location Management",credit_management:"Credit Management",reversed_credits:"Reversed Credits",withdrawal_management:"Withdrawal Management",withdrawal_history:"Withdrawal History",event_moderation:"Event & Location Moderation"},credit_form:{title:"Credit a User",search_user_label:"Search for a user",search_user_placeholder:"Name or email...",user_label:"User",select_user_placeholder:"Select a user",amount_label:"Amount (coins)",amount_placeholder:"e.g., 100",reason_label:"Reason (optional)",reason_placeholder:"e.g., Reward",submit_button:"Credit User"},event_moderation:{title:"Event Moderation",zone_country:"Zone: {{country}}",filter_all:"All",filter_active:"Active",filter_inactive:"Inactive",credit_participants_button:"Credit Participants",confirm_delete_title:"Are you sure?",confirm_delete_desc:"This action is irreversible. The event and all its associated data (tickets, votes, etc.) will be permanently deleted.",event_deleted_success:"Event deleted successfully.",event_deleted_error:"Could not delete event.",status_updated_success:"Event status updated.",status_updated_error:"Could not update status.",credit_user_for_event_title:"Credit for event: {{eventName}}",credit_user_for_event_desc:"Select a user from your zone to award coins for their participation.",user_search_placeholder:"Search by name or email...",credit_amount_label:"Amount (coins)",credit_reason_label:"Reason for credit",credit_reason_placeholder:"Participation in event: {{eventName}}",no_users_found:"No users found in your zone.",credit_success_message:"{{userName}} has been credited with {{amount}} coins.",credit_error_generic:"An error occurred while crediting."}},confirm_logout:"Are you sure you want to log out?",cancel:"Cancel",confirm:"Confirm",back_home:"Back to Home",not_found_title:"Page Not Found",not_found_message:"Sorry, the page you are looking for does not exist.",email_label:"Email address",password_label:"Password",full_name_label:"Full name",phone_label:"Phone number",username_label:"Username",country_label:"Country",city_label:"City",referral_code_label:"Referral code (optional)",login_tab:"Login",register_tab:"Register",login_magic_link_tab:"Magic Link",send_magic_link:"Send Magic Link",or_continue_with:"Or continue with",forgot_password:"Forgot password?",landing:{title:"Your Gateway to the Best Deals",subtitle:"Discover, participate, and organize events, contests, and more. All in one place.",search_placeholder:"Search for an event, a place...",search_button:"Search",create_event_button:"Create Event",discover_events_button:"Discover Events",featured_title:"Events Not to Miss",featured_subtitle:"Participate in the most popular events and live unforgettable moments.",categories_title:"Explore by Categories",categories_subtitle:"Find events that match your interests.",how_it_works_title:"How It Works",how_it_works_step1_title:"Discover",how_it_works_step1_desc:"Explore a multitude of events, contests, and places.",how_it_works_step2_title:"Participate",how_it_works_step2_desc:"Buy tickets, vote for your favorite candidates, and much more.",how_it_works_step3_title:"Win & Enjoy",how_it_works_step3_desc:"Earn rewards, win contests, and live unique experiences.",how_it_works_step4_title:"Organize",how_it_works_step4_desc:"Create and manage your own events with ease.",cta_title:"Ready to start the adventure?",cta_subtitle:"Join our community today and never miss a good deal again.",cta_button:"Sign Up for Free"},footer:{home:"Home",about:"About",partnership:"Partnership",sponsors:"Sponsors",privacy:"Privacy Policy",terms:"Terms of Use",contact:"Contact",tagline:"Your ultimate guide to the best events and entertainment.",platform:"Platform",company:"Company",legal:"Legal",how_it_works:"How it works",help:"Help Center",faq:"FAQ",data_protection:"Data Protection",legal_mentions:"Legal Mentions"},marketing:{simulation:{title:"Revenue Simulator",subtitle:"Calculate your potential earnings with our platform",event_type:"Event Type",ticket_price:"Price per unit",number_of_tickets:"Number of participants",potential_revenue:"Potential Revenue",platform_fee:"Platform fee (5%)",your_net_earning:"Your net earnings",cta:"Start Earning Now",note:"Simulation based on standard 5% platform fee. Actual results may vary.",number_of_interactions:"Number of Interactions",interaction_revenue:"Interaction Revenue",minimum_withdrawal:"Minimum 50 interactions required for withdrawal (500 FCFA)"},badge:"For Organizers & Creators",title:"Take Your Events to the Next Level",subtitle:"Reach a wider audience, engage with your community, and monetize your content like never before. BonPlanInfos is the all-in-one platform for successful events.",createEventCta:"Create My Event Now",becomePartnerCta:"Become a Partner",trust:"Trusted by hundreds of organizers in Africa.",why:{title:"Why choose BonPlanInfos?",subtitle:"We give you the tools to make every event a resounding success.",feature1:"Maximum Visibility",feature1_desc:"Leverage our large audience to promote your events and reach thousands of potential attendees.",feature2:"Easy Monetization",feature2_desc:"Ticket sales, paid voting, raffles, stands... Diversify your income streams in just a few clicks.",feature3:"Interaction & Engagement",feature3_desc:"Create a strong bond with your community through our interaction tools: comments, shares, and reactions.",feature4:"Real-Time Statistics",feature4_desc:"Track the performance of your events with precise data to optimize your strategies.",feature5:"Security & Reliability",feature5_desc:"A robust and secure platform to manage your transactions and your attendees' data.",feature6:"Dedicated Support",feature6_desc:"Our team is here to support you at every stage of your organization."},revenue_simulation:{title:"Imagine Your Potential Monthly Income...",subtitle:"Every interaction on your content generates coins, convertible into real money. Here is a simple simulation based on popular events.",summary_title:"Monthly Summary (Simulation)",total_interactions:"Total Interactions",revenue_coins:"Revenue in Coins",revenue_fcfa:"Revenue in FCFA",miss_ci:"Miss Cte d'Ivoire Contest",music_festival:"Urban Music Festival",football_tournament:"Inter-neighborhood Football Tournament",entrepreneur_conf:"Entrepreneurship Conference",shares:"Shares",downloads:"Downloads",views:"Views",comments:"Comments",reactions:"Reactions",total_revenue:"Total Revenue",interactions:"Interactions",how_it_works_title:"How it Works",organizer:"Organizer",user:"User",easy_withdrawal:"Easy Withdrawal",from_50_pi:"From 50",ready_cta_title:"Ready to turn your ideas into success?",ready_cta_subtitle:"Join thousands of organizers who trust us.",cta_button:"Launch my first event"},testimonials:{title:"They trust us",dj_kerozen_quote:"With BonPlanInfos, I sold out my concert in record time. The platform's virality is just incredible!",fatou_sylla_quote:"I organize all my clients' events through the app. It simplifies my life and my clients love it.",eric_b_quote:"We funded our entire integration weekend by monetizing our party. A must-have!",bintou_diallo_name:"Bintou Diallo",bintou_diallo_role:"Show Promoter",kwesi_mensah_name:"Kwesi Mensah",kwesi_mensah_role:"Wedding Planner",aisha_traore_name:"Asha Traor",aisha_traore_role:"Student & BDE President",amadou_ba_name:"Amadou Ba",amadou_ba_role:"Personal Development Coach",amadou_ba_quote:"Managing registrations for my seminars has become child's play. I save so much time!",chimamanda_ngozi_name:"Chimamanda Ngozi",chimamanda_ngozi_role:"Literary Festival Organizer",chimamanda_ngozi_quote:"The live voting feature added an exciting interactive dimension to our literary prize.",didier_kouame_name:"Didier Kouam",didier_kouame_role:"Sports Club Manager",didier_kouame_quote:"The online raffle generated unexpected revenue for our club. It's simple and incredibly effective.",mariam_kone_name:"Mariam Kon",mariam_kone_role:"Fashion Designer",mariam_kone_quote:"My fashion show got national reach thanks to the promotion on BonPlanInfos. The impact was immediate.",femi_adebayo_name:"Femi Adebayo",femi_adebayo_role:"Food Truck Owner",femi_adebayo_quote:"Renting a stand at the biggest events in town has never been easier. My business has exploded!",abena_asante_name:"Abena Asante",abena_asante_role:"Painter",abena_asante_quote:"I sold more canvases during my online exhibition than I could have ever imagined. The visibility is top-notch.",yannick_zongo_name:"Yannick Zongo",yannick_zongo_role:"E-sport Tournament Organizer",yannick_zongo_quote:"The integrated ticketing and QR code check-in system are perfect for managing a large number of participants."},cta:{title:"Ready to take your events to the next level?",subtitle:"Don't let complexity hold you back. With BonPlanInfos, event organizing becomes simple, profitable, and fun.",cta:"Become an Official Partner"},meta_title:"Partnership & Marketing - BonPlanInfos",meta_description:"Join BonPlanInfos as a partner or organizer. Maximize your event's visibility, engage your community, and increase your revenue."},wallet_info_modal:{title:"What are coins () for?",intro:"Coins are the virtual currency of BonPlanInfos. They allow you to access exclusive content and interact with events.",free_coins_title:"Free Coins ()",free_coins_desc:"You earn them by watching video ads or during promotions. They allow you to perform basic actions.",paid_coins_title:"Purchased Coins ()",paid_coins_desc:"Purchased with real money, they unlock all features and directly support the organizers.",usage_title:"How to use them?",usage_item1:"Access protected events.",usage_item2:"Like, comment, download exclusive content.",usage_item3:"Participate in votes, raffles, and much more.",cta_button:"Buy Coins",usage_priority:"Free coins are always used first for your actions!"},events_title:"Featured Events",all_events_button:"All Events",promoted_events:"Sponsored Events",popular_contests:"Popular Contests",see_all_contests:"See all contests",event_card:{days_remaining:"{{count}} day remaining",days_remaining_plural:"{{count}} days remaining",event_ended:"Ended",event_starting_today:"Starts today",starting_from:"From"},filters:{all:"All",promoted:"Boosted",live:"Live",today:"Today",this_week:"This week",free:"Free"},event_detail:{by_organizer:"By",share:"Share",location:"Location",date_time:"Date and Time",get_directions:"Get Directions",about_event:"About the Event",tags:"Tags",unlock_event_to_see_content:"Unlock this event to see exclusive content!",unlock_button:"Unlock for {{price}}",unlocking:"Unlocking...",free_access:"Free Access",owner_access:"Owner Access",comments:"Comments",leave_comment:"Leave a comment...",submit_comment:"Submit",comment_cost:"Comment for {{price}}",ticketing:"Ticketing",voting:"Voting",raffle:"Raffle",stands:"Stands"},social_interactions:{like:"Like",comment:"Comment",share:"Share",download:"Download",cost:"{{price}}",comment_placeholder:"Add a comment...",post_comment:"Post"},toasts:{copied_to_clipboard:"Copied to clipboard!",feature_not_implemented:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "},admin:{tabs:{analytics:"Analytics",users:"Users",partners:"Partners",events:"Events",locations:"Locations",promotions:"Promotions",credits:"Credits",config:"Configuration",withdrawals:"Withdrawals",videos:"Videos",announcements:"Announcements",welcome_popup:"Welcome Popup"}},discover_places:"Discover Places",discover_more_places:"Discover more places",discover_page:{title:"Discover Places",subtitle:"Find new places recommended by the community.",search_placeholder:"Search for a place, category, city...",filter_by_type:"Filter by type",no_locations_found:"No locations found.",no_locations_description:"Try broadening your search or selecting fewer filters.",add_new_location:"Add a new place",add_place:"Add a Place"},add_location:{title:"Add a New Place",subtitle:"Share a great spot with the community.",location_name:"Place Name",location_description:"Description",location_type:"Place Type",address:"Address",city:"City",country:"Country",website:"Website (optional)",phone:"Phone (optional)",submit:"Submit Place",success_title:"Place Submitted!",success_message:"Thanks! Your place has been submitted and will be reviewed by our team."},verify_ticket:{title:"Ticket Verification",scan_instruction:"Scan the ticket's QR code or enter the scanner code.",scanner_code_label:"Scanner Code",start_session:"Start Session",stop_session:"Stop Session",scan_ticket:"Scan a Ticket",camera_permission_denied:"Camera permission denied.",camera_error:"Camera error:",scan_result:"Scan Result",scan_again:"Scan Again",valid_ticket:"Valid Ticket",invalid_ticket:"Invalid Ticket",ticket_number:"Ticket Number:",ticket_type:"Ticket Type:",attendee_name:"Attendee Name:",event_title:"Event Title:",scan_time:"Scan Time:",error:"Error",session_active:"Verification session active",session_stopped:"Verification session stopped",verifying_ticket:"Verifying ticket...",enter_scanner_code:"Please enter a valid scanner code."},create_event:{title:"Create an Event",subtitle:"Choose the type of event you want to organize.",simple:"Simple",simple_desc:"Quickly post an informational event (free or paid at the door).",ticketing:"Ticketing",ticketing_desc:"Sell tickets with different prices and options.",voting:"Voting Contest",voting_desc:"Organize a contest where participants vote for candidates.",raffle:"Raffle",raffle_desc:"Create a raffle with tickets and prizes to be won.",stands:"Stand Rental",stands_desc:"Manage the rental of stands for a trade show or market."},create_ticketing_event:{title:"Create an Event with Ticketing",event_details:"Event Details",event_title:"Event Title",event_description:"Description",event_cover_image:"Cover Image",upload_image:"Upload Image",event_date:"Event Date",category:"Category",select_category:"Select a category",location:"Location",address:"Address",city:"City",country:"Country",ticket_types:"Ticket Types",add_ticket_type:"Add Ticket Type",ticket_name:"Ticket Name (e.g., Standard, VIP)",ticket_price_fcfa:"Price (FCFA)",ticket_quantity:"Quantity Available",ticket_benefits:"Benefits (comma-separated)",remove:"Remove",verification_options:"Verification Options",enable_verification:"Enable QR code ticket verification",submit:"Create Event",event_created_success:"Event created successfully!",editing_event:"Editing Event"},ticketing_interface:{select_ticket_type:"Select your tickets",total_cost:"Total Cost:",buy_tickets:"Buy Tickets",sold_out:"Sold Out",sales_ended:"Sales Ended",available:"available",benefits:"Benefits:"},select_country:"Select a country",select_city:"Select a city",choose_file:"Choose file",no_file_chosen:"No file chosen",common:{error_title:"Error",confirm:"Confirm",cancel:"Cancel",delete:"Delete",close:"Close",save:"Save",edit:"Edit",loading:"Loading...",success_title:"Success",search:"Search...",activate:"Activate",deactivate:"Deactivate",credit:"Credit",retry:"Retry"},privacy:{meta_title:"Privacy Policy",meta_description:"Read our privacy policy to understand how we collect, use, and protect your personal data.",title:"Privacy Policy",last_updated:"Last updated: November 02, 2025",introduction:{title:"1. Introduction",p1:"This privacy policy explains how BonPlanInfos collects, uses, and protects your personal information when you use our platform."},data_collected:{title:"2. Data We Collect",p1:"We collect various information to provide and improve our services:",item1:"<b>Account Information:</b> Name, email address, country, city, account type.",item2:"<b>Usage Data:</b> Pages visited, interactions with events, searches performed.",item3:"<b>User-Generated Content:</b> Events created, comments, photos.",item4:"<b>Transaction Data:</b> History of coin purchases and earning withdrawals."},data_usage:{title:"3. How We Use Your Data",p1:"Your data is used to:",item1:"Provide, maintain, and improve the platform.",item2:"Personalize your experience by recommending relevant events.",item3:"Process transactions and payments.",item4:"Communicate with you regarding your account or our services."},cookies:{title:"4. Cookies",p1:"We use cookies to ensure the proper functioning of the site, analyze our traffic, and personalize content. You can manage your cookie preferences at any time."},data_sharing:{title:"5. Data Sharing",p1:"We do not share your personal information with third parties, unless it is necessary to provide the service (e.g., with payment processors) or required by law."},security:{title:"6. Security",p1:"We implement technical and organizational security measures to protect your data against unauthorized access, loss, or destruction."},your_rights:{title:"7. Your Rights",p1:"In accordance with regulations, you have the following rights:",item1:"<b>Right of Access:</b> You can request a copy of the data we hold about you.",item2:"<b>Right to Rectification:</b> You can correct any inaccurate information.",item3:"<b>Right to Erasure:</b> You can request the deletion of your account and data.",p2:"To exercise these rights, please contact us at the address below."},contact:{title:"8. Contact",p1:"For any questions regarding this privacy policy, please contact us at:",email:"privacy@bonplaninfos.net"}},legal_mentions:{meta_title:"Legal Mentions",meta_description:"Consult the legal mentions of BonPlanInfos for information on the site editor, hosting, and our legal obligations.",title:"Legal Mentions",subtitle:"Legal information concerning the BonPlanInfos platform.",lastUpdate:"Last updated: November 02, 2025",sections:{editor:{title:"Site Editor",content:"The BonPlanInfos site is edited by:",company:"BON PLAN INFOS (BPI)",capital:"Simplified joint-stock company (SAS) with a capital of 1,000,000 FCFA",address:"Head office: Abidjan, Cte d'Ivoire",phone:"Phone: (+225) 07 12 27 53 74",email:"contact@bonplaninfos.net"},director:{title:"Publication Director",content:"The publication director is Mr. S.Rayane KIBORA, in his capacity as President of BON PLAN INFOS (BPI)."},hosting:{title:"Hosting",content:"The platform is hosted by:",company:"Hostinger International Ltd.",address:"61 Lordou Vironos Street, 6023 Larnaca, Cyprus",website:"www.hostinger.com"},data:{title:"Personal Data Protection",content1:"In accordance with current data protection legislation, you have the right to access, rectify, delete, and object to your personal data. To exercise this right, please contact our Data Protection Officer (DPO) at: ",content2:"For more information, please consult our <1>Privacy Policy</1>."},cookies:{title:"Cookies",content1:"The site uses cookies to improve the user experience. These cookies are used to:",item1:"Ensure the proper functioning of the site (session cookies).",item2:"Analyze audience and performance (analytics cookies).",item3:"Offer personalized advertising (marketing cookies).",content2:"You can configure your cookie preferences via our consent banner."},ip:{title:"Intellectual Property",content:"All content on this site (texts, images, videos, logos, source code) is the exclusive property of BON PLAN INFOS (BPI) or its partners. Any reproduction, even partial, is strictly prohibited without prior authorization."},liability:{title:"Limitation of Liability",content:"BonPlanInfos strives to provide accurate and up-to-date information but cannot guarantee the accuracy of all information. The use of information and content available on the entire site shall in no case engage the liability of the publisher, for any reason whatsoever."},links:{title:"Hyperlinks",content:"The platform may contain hyperlinks to other sites. BonPlanInfos is not responsible for the content of these third-party sites and cannot be held liable for any damages resulting from their consultation."},applicableLaw:{title:"Applicable Law",content:"These legal mentions are subject to Ivorian law. In case of a dispute, the courts of Abidjan will have sole jurisdiction."}}}}}};Fl.use(nue).use(eye).init({debug:!0,fallbackLng:"fr",interpolation:{escapeValue:!1},resources:kut,detection:{order:["queryString","cookie","localStorage","navigator","htmlTag","path","subdomain"],caches:["cookie"]}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});I6.createRoot(document.getElementById("root")).render(i.jsx(zct,{}));export{Ai as c,ga as g,hut as t};
